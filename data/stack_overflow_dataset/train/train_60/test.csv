PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
5101805,02/24/2011 07:51:19,139086,07/15/2009 23:44:01,79,6,Calling a WCF Service without a Service reference,"I have a project A which has a Service reference to a WCF Service. I want to invoke the service in project B without a Service reference.
From what I understand, the Service reference is just a way to generate the proxy and config and is not used at run-time.
I copied the proxy class and the <system.serviceModel> node from project A to project B.

Can I just create an instance of the proxy class in project B and expect it to directly use the config. items and connect to the service without anything else?
(I cannot try this right now)",wcf,,,,,,open,0,97,8,"Calling a WCF Service without a Service reference I have a project A which has a Service reference to a WCF Service. I want to invoke the service in project B without a Service reference.
From what I understand, the Service reference is just a way to generate the proxy and config and is not used at run-time.
I copied the proxy class and the <system.serviceModel> node from project A to project B.

Can I just create an instance of the proxy class in project B and expect it to directly use the config. items and connect to the service without anything else?
(I cannot try this right now)",1
246636,10/29/2008 12:41:16,445,08/05/2008 19:37:25,285,11,WCF - changing endpoint address results in securityexception,"My WCF Service uses wsHttpBinding and works fine from the client when the service is gerenated by the client using the default options as follows:

            RServiceClient R = new RServiceClient();

However, at some point I'll need to be able to specify the location of the service, presumably by changing the endpoint address as follows:

            RServiceClient R = new RServiceClient();
            R.Endpoint.Address = new EndpointAddress(new Uri ""http://xxx.xxxx.xxx:80/RServer/RService.svc""));

However, when I do specify the exact endpoint, I get a SecurityNegotiationException:
System.ServiceModel.Security.SecurityNegotiationException was unhandled
  Message=""The caller was not authenticated by the service.""
  Source=""mscorlib""....

The WCF service runs on IIS and has anonymous access enabled under IIS admin. Also, this error occurs when the client is run from the same machine as the service under an admin account - I havn't got to the scary part of running it over the net yet!

Any Ideas?

",wcf,,,,,,open,0,170,8,"WCF - changing endpoint address results in securityexception My WCF Service uses wsHttpBinding and works fine from the client when the service is gerenated by the client using the default options as follows:

            RServiceClient R = new RServiceClient();

However, at some point I'll need to be able to specify the location of the service, presumably by changing the endpoint address as follows:

            RServiceClient R = new RServiceClient();
            R.Endpoint.Address = new EndpointAddress(new Uri ""http://xxx.xxxx.xxx:80/RServer/RService.svc""));

However, when I do specify the exact endpoint, I get a SecurityNegotiationException:
System.ServiceModel.Security.SecurityNegotiationException was unhandled
  Message=""The caller was not authenticated by the service.""
  Source=""mscorlib""....

The WCF service runs on IIS and has anonymous access enabled under IIS admin. Also, this error occurs when the client is run from the same machine as the service under an admin account - I havn't got to the scary part of running it over the net yet!

Any Ideas?

",1
1160483,07/21/2009 17:10:28,142171,07/21/2009 17:10:28,1,0,WCF service reference update,"1. Right now we have around 5 service reference added to our projects in a single solution.
 I am force to add service reference even for projects having indirect dependencies calling service methods. Is there a way to get around for this situation.

2. For every single change in the service method, I have to update every single service reference to effect those changes. It is very time consuming too.
I am just wondering, is there any way i cam manage these things globally by making single service reference for the whole solution.

help appreciated.....:) ",wcf,,,,,,open,0,93,4,"WCF service reference update 1. Right now we have around 5 service reference added to our projects in a single solution.
 I am force to add service reference even for projects having indirect dependencies calling service methods. Is there a way to get around for this situation.

2. For every single change in the service method, I have to update every single service reference to effect those changes. It is very time consuming too.
I am just wondering, is there any way i cam manage these things globally by making single service reference for the whole solution.

help appreciated.....:) ",1
8907543,01/18/2012 09:04:26,330475,05/01/2010 17:16:53,1,0,N-Tier Architecture,"I’m in the situation that I have to design and implement a system from the scratch. I’m having some questions about the architecture that I would like your comments and thoughts on.

Quick Info about the project: Its a data centric web application.

The application will be built on Microsoft .NET Framework 4.0 with MS SQL SERVER 2008 database.

Requirement:<br/> 
1. Rich UI and robust <br/>
2. Multi-device Support (every browser and on every device) <br/>
3. Loosely coupled 
<br/>

Below is the architectural diagram link i have build : <br/>

https://plus.google.com/photos/104702944930754413137/albums/5698893164980998113?authkey=CMjh9ufOyPOpeA

<br/>
Briefing of the architecture <br/>
1.Presentation layer : HTML5/Asp.NET MVC + JQuery ( Web application for multidevice support in first version) <br/>
2. Distributed Services : WCF (XML/JSON/JSONP) <br/>
3. Domain Layer(Business Layer) : All business Logics <br/>
4. Data persistence (DAL Layer) : Entity Framework 4.0 with database first approach. POCO entities are generated and separated out using T4 template<br/>
5. Infrastructural Layer: Contains common libraries like POCO entities, Exception Handling, logging etc <br/>
<br/>
My Concern:<br/>
1. As application is to be build **loosely coupled** so in future if business requirement grows new modules can easily plugged without affecting the architecture.<br/>
So i have thought of using Repository pattern along with IoC and DI (can be Unity/Ninject/Sprint.NET or any other ) <br/>
2. WCF with both XML and JSON support <br/>
3. Distributed Service Layer to place IoC & DI <br/>
4. Exception Handling & Logging using Enterprise Library 5.0
<br/><br/>
Looking for valuable comments and suggestion.<br/> 
If i am doing anything wrong please put me in right direction. <br/>
Thanks !!!


  [1]: http://i.stack.imgur.com/JOnfd.png",wcf,entity-framework,inversion-of-control,n-tier,,,open,0,246,2,"N-Tier Architecture I’m in the situation that I have to design and implement a system from the scratch. I’m having some questions about the architecture that I would like your comments and thoughts on.

Quick Info about the project: Its a data centric web application.

The application will be built on Microsoft .NET Framework 4.0 with MS SQL SERVER 2008 database.

Requirement:<br/> 
1. Rich UI and robust <br/>
2. Multi-device Support (every browser and on every device) <br/>
3. Loosely coupled 
<br/>

Below is the architectural diagram link i have build : <br/>

https://plus.google.com/photos/104702944930754413137/albums/5698893164980998113?authkey=CMjh9ufOyPOpeA

<br/>
Briefing of the architecture <br/>
1.Presentation layer : HTML5/Asp.NET MVC + JQuery ( Web application for multidevice support in first version) <br/>
2. Distributed Services : WCF (XML/JSON/JSONP) <br/>
3. Domain Layer(Business Layer) : All business Logics <br/>
4. Data persistence (DAL Layer) : Entity Framework 4.0 with database first approach. POCO entities are generated and separated out using T4 template<br/>
5. Infrastructural Layer: Contains common libraries like POCO entities, Exception Handling, logging etc <br/>
<br/>
My Concern:<br/>
1. As application is to be build **loosely coupled** so in future if business requirement grows new modules can easily plugged without affecting the architecture.<br/>
So i have thought of using Repository pattern along with IoC and DI (can be Unity/Ninject/Sprint.NET or any other ) <br/>
2. WCF with both XML and JSON support <br/>
3. Distributed Service Layer to place IoC & DI <br/>
4. Exception Handling & Logging using Enterprise Library 5.0
<br/><br/>
Looking for valuable comments and suggestion.<br/> 
If i am doing anything wrong please put me in right direction. <br/>
Thanks !!!


  [1]: http://i.stack.imgur.com/JOnfd.png",4
2455899,03/16/2010 15:54:38,279521,02/23/2010 14:04:21,134,1,What is WCF (and pros and cons)?,"I am trying to understand what is WCF, but can't get a visual understanding of how it adds value (reading msdn does'nt help). I have worked with COM in the past, and I know about webservices. Can someone shed some light on what is WCF and its pros and cons (maybe how it relates to COM or replaces COM etc)?

Links to reference web sites would also be great.

Thanks",wcf,,,,,,open,0,68,7,"What is WCF (and pros and cons)? I am trying to understand what is WCF, but can't get a visual understanding of how it adds value (reading msdn does'nt help). I have worked with COM in the past, and I know about webservices. Can someone shed some light on what is WCF and its pros and cons (maybe how it relates to COM or replaces COM etc)?

Links to reference web sites would also be great.

Thanks",1
9932504,03/29/2012 19:54:24,702769,04/11/2011 19:14:09,428,0,"WCF, Entity Framework and N-tier solution","I've implemented WCF service using Entity Framework in a 3-Tier solution. I got it working, but what is puzzling me is why did I have to copy connection string ( specified in configuration file **C1**, which is used by Entity Framework to retrieve schema information from a database) into configuration file **C2** used WCF service? Namelly, if I don't copy the connection string, then I get:

    FaultException: The specified named connection is either not found in the confiuration, 
    not intended to be used with the EntityClient provider, or not valid.

So it seems that **C1**'s connection string is used by Entity Framework at design time, while during runtime connection string specified in **C2** is used instead to connect to the database? Why?

Thank you
",wcf,entity-framework,,,,,open,0,129,6,"WCF, Entity Framework and N-tier solution I've implemented WCF service using Entity Framework in a 3-Tier solution. I got it working, but what is puzzling me is why did I have to copy connection string ( specified in configuration file **C1**, which is used by Entity Framework to retrieve schema information from a database) into configuration file **C2** used WCF service? Namelly, if I don't copy the connection string, then I get:

    FaultException: The specified named connection is either not found in the confiuration, 
    not intended to be used with the EntityClient provider, or not valid.

So it seems that **C1**'s connection string is used by Entity Framework at design time, while during runtime connection string specified in **C2** is used instead to connect to the database? Why?

Thank you
",2
8646106,12/27/2011 15:07:51,830519,07/05/2011 22:00:40,96,0,Is Windows Communication Foundation (WCF) used often?,"I'm reading through my book and one of the chapters is talking about Windows Communication Foundation. Just wondering how practical or how often it's used in businesses, etc. Is it worth learning about?",wcf,,,,,12/27/2011 15:11:53,not constructive,1,33,7,"Is Windows Communication Foundation (WCF) used often? I'm reading through my book and one of the chapters is talking about Windows Communication Foundation. Just wondering how practical or how often it's used in businesses, etc. Is it worth learning about?",1
1343896,08/27/2009 21:43:28,142171,07/21/2009 17:10:28,8,2,Good and easy books/tutorials to learn WCF latest stuff,Good and easy books/tutorials to learn WCF latest stuff,wcf,,,,,09/29/2011 22:13:22,not constructive,1,9,9,Good and easy books/tutorials to learn WCF latest stuff Good and easy books/tutorials to learn WCF latest stuff,1
9934469,03/29/2012 22:27:19,894451,08/15/2011 03:11:29,1,0,How to link two DataGrid together?,"I am writing a Silverlight application which need to show some data.
There are two DataGrids:
First one shown ""Users"" class. This class contains several fields such as ""Name"", ""Gender"", ""Grade"", ""Department"", ""Fingerprints"". ""Fingerprints"" contains more than one ""Fingerprint"" Class.
Now I need to link two DataGrid together -- The first one is shown all users, and the second one show the fingerprints of one user which was selected in the first DataGrid.

BTW: I am using WCF Domain Service to supply data source for these two DataGrids.",wcf,silverlight,entity,ria,,,open,0,84,6,"How to link two DataGrid together? I am writing a Silverlight application which need to show some data.
There are two DataGrids:
First one shown ""Users"" class. This class contains several fields such as ""Name"", ""Gender"", ""Grade"", ""Department"", ""Fingerprints"". ""Fingerprints"" contains more than one ""Fingerprint"" Class.
Now I need to link two DataGrid together -- The first one is shown all users, and the second one show the fingerprints of one user which was selected in the first DataGrid.

BTW: I am using WCF Domain Service to supply data source for these two DataGrids.",4
6360407,06/15/2011 15:40:00,374198,06/23/2010 12:04:53,4431,252,How to determine which WCF method will be called based on URI?,"In a WCF service, suppose a method is invoked and I have the URI that was used to invoke it. How can I get information about the WCF end point, method, parameters, etc. that the URI maps to?

    [OperationContract]
    [WebGet(UriTemplate = ""/People/{id}"")]
    public Person GetPersonByID(int id)
    {
        //...
    }

For instance, if the URI is: `GET http://localhost/Contacts.svc/People/1`, I want to get this information: service name (Service), Method (GetPersonByID), Parameters (PersonID=1). The point is to be able to listen for the request and then extract the details of the request in order to track the API call.",wcf,web-services,.net-4.0,,,,open,0,117,12,"How to determine which WCF method will be called based on URI? In a WCF service, suppose a method is invoked and I have the URI that was used to invoke it. How can I get information about the WCF end point, method, parameters, etc. that the URI maps to?

    [OperationContract]
    [WebGet(UriTemplate = ""/People/{id}"")]
    public Person GetPersonByID(int id)
    {
        //...
    }

For instance, if the URI is: `GET http://localhost/Contacts.svc/People/1`, I want to get this information: service name (Service), Method (GetPersonByID), Parameters (PersonID=1). The point is to be able to listen for the request and then extract the details of the request in order to track the API call.",3
8942587,01/20/2012 14:06:22,472542,10/11/2010 17:34:31,1,0,Why Enterprise Library does not throw FaultException in WCF,"I use WCF service hosted on IIS.  
Also, I use fault contracts to send errors to the client (**FaultException<'T>**)  
On the client side I catch **FaultException<'T>** to show some error to user.  
If some unhandled exception being thrown on a server, WCF generates plain **FaultException**, 
so client catches it and shows user ""Internal Server Error"" message.

Then I began to use Enterprise Library 5.0 for WCF Exception Shielding, and met following issue. Using *FaultContractExceptionHandler* it is possible to carry all errors to the client, but in case of unhandled exception client receives **CommunicationException** instead of **FaultException**. Everything other works ok.

If I turned off exception handling policy (remove ExceptionShielding attibute), client catches **FaultExceptions** as expected.  
Do you know what may be the reason?  
Thanks.

**Web.config**

    <add name=""ServiceException Policy"">
        <exceptionTypes>
          <add name=""ServiceLogicException"" type=""LopService.Contracts.ServiceLogicException, LopService.Contracts, Version=1.0.0.1725, Culture=neutral, PublicKeyToken=null""
            postHandlingAction=""ThrowNewException"">
            <exceptionHandlers>
              <add type=""Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.WCF.FaultContractExceptionHandler, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.WCF, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35""
                faultContractType=""LopService.Contracts.ServiceLogicFaultContract, LopService.Contracts, Version=1.0.0.1725, Culture=neutral, PublicKeyToken=null""
                name=""Fault Contract Exception Handler"" />
            </exceptionHandlers>
          </add>
        </exceptionTypes>
      </add>


**Service Class**

    [ExceptionShielding(""ServiceException Policy"")]
    public partial class LopSoapService
    {...

**Operation Contract**

        [OperationContract]
        [FaultContract(typeof(DataValidationFaultContract))]
        [FaultContract(typeof(ServiceLogicFaultContract))]
        int CreateUser(UserDto userDto, IEnumerable<ClaimRecordDto> claimRecords);
",wcf,exception-handling,enterprise-library,enterprise-library-5,wcf-faults,,open,0,330,9,"Why Enterprise Library does not throw FaultException in WCF I use WCF service hosted on IIS.  
Also, I use fault contracts to send errors to the client (**FaultException<'T>**)  
On the client side I catch **FaultException<'T>** to show some error to user.  
If some unhandled exception being thrown on a server, WCF generates plain **FaultException**, 
so client catches it and shows user ""Internal Server Error"" message.

Then I began to use Enterprise Library 5.0 for WCF Exception Shielding, and met following issue. Using *FaultContractExceptionHandler* it is possible to carry all errors to the client, but in case of unhandled exception client receives **CommunicationException** instead of **FaultException**. Everything other works ok.

If I turned off exception handling policy (remove ExceptionShielding attibute), client catches **FaultExceptions** as expected.  
Do you know what may be the reason?  
Thanks.

**Web.config**

    <add name=""ServiceException Policy"">
        <exceptionTypes>
          <add name=""ServiceLogicException"" type=""LopService.Contracts.ServiceLogicException, LopService.Contracts, Version=1.0.0.1725, Culture=neutral, PublicKeyToken=null""
            postHandlingAction=""ThrowNewException"">
            <exceptionHandlers>
              <add type=""Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.WCF.FaultContractExceptionHandler, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.WCF, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35""
                faultContractType=""LopService.Contracts.ServiceLogicFaultContract, LopService.Contracts, Version=1.0.0.1725, Culture=neutral, PublicKeyToken=null""
                name=""Fault Contract Exception Handler"" />
            </exceptionHandlers>
          </add>
        </exceptionTypes>
      </add>


**Service Class**

    [ExceptionShielding(""ServiceException Policy"")]
    public partial class LopSoapService
    {...

**Operation Contract**

        [OperationContract]
        [FaultContract(typeof(DataValidationFaultContract))]
        [FaultContract(typeof(ServiceLogicFaultContract))]
        int CreateUser(UserDto userDto, IEnumerable<ClaimRecordDto> claimRecords);
",5
3383039,08/01/2010 17:36:44,408040,08/01/2010 17:36:43,1,0,Soap body is not encrypted when X509 security implmented on  WCF,"I implemeted a WCF service and a client application for one of projects in my employer and currently facing a serious problem due to the soap body element. The issue is the soap body is not getting encrypted and only the header is encrypted. I am grateful to anyone who can help to resolve this issue. I can send the code for this if anyone can le me know the email address. Help is really appreciated on this becuase iam really helpless now. Anyway the webconfigs and the way how i created the certificates are mentioned for your reference...

WCF server config
......................


<?xml version=""1.0"" encoding=""utf-8"" ?>
<configuration>
  <system.serviceModel>
    <extensions>
      <!-- Add the inspector attribute as a behavior for displaying SOAP XML packets -->
      <behaviorExtensions>
        <add name=""consoleOutputBehavior"" type=""mysvc.ConsoleOutputBehaviorExtensionElement, mysvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"" />
      </behaviorExtensions>
    </extensions>    
    <bindings>
      <wsHttpBinding>
        <binding name=""wsHttpEndpointBinding"" >
          <security>
            <message clientCredentialType=""Certificate"" establishSecurityContext =""true""  />
          </security>
        </binding>
      </wsHttpBinding>
      <customBinding>
        <binding name=""CustomBinding"">
        
          <textMessageEncoding messageVersion=""Soap11"" />
          <security authenticationMode=""MutualCertificate""  requireDerivedKeys=""false""
          includeTimestamp=""true"" keyEntropyMode=""ClientEntropy"" messageProtectionOrder=""EncryptBeforeSign"" 
          messageSecurityVersion=""WSSecurity10WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10""
          requireSecurityContextCancellation=""false"">
            
            <secureConversationBootstrap />
            
          </security>
          <httpTransport />
        
        </binding>
      </customBinding>
    </bindings>
    <services>
      <service name=""mysvc.MySvc"" behaviorConfiguration=""mysvc.Service1Behavior"">
        <endpoint address="""" binding=""customBinding"" bindingConfiguration =""CustomBinding""  contract=""mysvc.IMySvc""  />        
        <endpoint address=""mex"" binding=""mexHttpBinding"" contract=""IMetadataExchange""/>
         <host>
            <baseAddresses>
                 <add baseAddress =""http://localhost:8888/"" />
            </baseAddresses>
         </host>
      </service>
    </services>
    <behaviors>
      <endpointBehaviors>
        <behavior name=""inspectorBehavior"">
           <consoleOutputBehavior />
        </behavior>
      </endpointBehaviors>
      
      <serviceBehaviors>
        <behavior name=""mysvc.Service1Behavior"">
          <serviceMetadata httpGetEnabled=""true""/>
          <serviceDebug includeExceptionDetailInFaults=""false""/>
          
          <serviceCredentials>
                  
            <serviceCertificate findValue=""WCfServerCert""
            storeLocation=""LocalMachine"" 
            storeName=""My""
            x509FindType=""FindBySubjectName"" />

            <clientCertificate>              
              <authentication certificateValidationMode=""None"" />                       
            </clientCertificate>
            
          </serviceCredentials>

        </behavior>
      </serviceBehaviors>
    </behaviors>  
  </system.serviceModel>
</configuration>


WCF client config
.....................


<?xml version=""1.0"" encoding=""utf-8"" ?>
<configuration>


 
    <system.serviceModel>
        <bindings>
            <customBinding>
                <binding name=""CustomBinding_IMySvc"">
                    <security defaultAlgorithmSuite=""Default"" authenticationMode=""MutualCertificate""
                        requireDerivedKeys=""false"" securityHeaderLayout=""Strict"" includeTimestamp=""true""
                        keyEntropyMode=""ClientEntropy"" messageProtectionOrder=""EncryptBeforeSign""
                        messageSecurityVersion=""WSSecurity10WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10""
                        requireSignatureConfirmation=""false"">
                        <localClientSettings cacheCookies=""true"" detectReplays=""true""
                            replayCacheSize=""900000"" maxClockSkew=""00:05:00"" maxCookieCachingTime=""Infinite""
                            replayWindow=""00:05:00"" sessionKeyRenewalInterval=""10:00:00""
                            sessionKeyRolloverInterval=""00:05:00"" reconnectTransportOnFailure=""true""
                            timestampValidityDuration=""00:05:00"" cookieRenewalThresholdPercentage=""60"" />
                        <localServiceSettings detectReplays=""true"" issuedCookieLifetime=""10:00:00""
                            maxStatefulNegotiations=""128"" replayCacheSize=""900000"" maxClockSkew=""00:05:00""
                            negotiationTimeout=""00:01:00"" replayWindow=""00:05:00"" inactivityTimeout=""00:02:00""
                            sessionKeyRenewalInterval=""15:00:00"" sessionKeyRolloverInterval=""00:05:00""
                            reconnectTransportOnFailure=""true"" maxPendingSessions=""128""
                            maxCachedCookies=""1000"" timestampValidityDuration=""00:05:00"" />
                        <secureConversationBootstrap />
                    </security>
                    <textMessageEncoding maxReadPoolSize=""64"" maxWritePoolSize=""16""
                        messageVersion=""Soap11"" writeEncoding=""utf-8"">
                        <readerQuotas maxDepth=""32"" maxStringContentLength=""8192"" maxArrayLength=""16384""
                            maxBytesPerRead=""4096"" maxNameTableCharCount=""16384"" />
                    </textMessageEncoding>
                    <httpTransport manualAddressing=""false"" maxBufferPoolSize=""524288""
                        maxReceivedMessageSize=""65536"" allowCookies=""false"" authenticationScheme=""Anonymous""
                        bypassProxyOnLocal=""false"" hostNameComparisonMode=""StrongWildcard""
                        keepAliveEnabled=""true"" maxBufferSize=""65536"" proxyAuthenticationScheme=""Anonymous""
                        realm="""" transferMode=""Buffered"" unsafeConnectionNtlmAuthentication=""false""
                        useDefaultWebProxy=""true"" />
                </binding>
            </customBinding>
        </bindings>
        <client>
          <endpoint address=""http://localhost:8888/"" binding=""customBinding"" behaviorConfiguration =""CustomBehavior""
              bindingConfiguration=""CustomBinding_IMySvc"" contract=""WCFProxy.IMySvc""
              name=""CustomBinding_IMySvc"" >

            <identity >
              <dns value =""WCfServerCert""/>
            </identity>
            
          </endpoint>
        </client>
      <behaviors>
        <endpointBehaviors>
          <behavior name=""CustomBehavior"">
            <clientCredentials>
              <clientCertificate findValue=""WCfClientCert"" x509FindType=""FindBySubjectName"" storeLocation=""LocalMachine"" storeName=""My"" />
              <serviceCertificate>
                <defaultCertificate findValue=""WCfServerCert"" x509FindType=""FindBySubjectName"" storeLocation=""LocalMachine"" storeName=""My"" />
                <authentication certificateValidationMode=""None""/>
              </serviceCertificate>
            </clientCredentials>
          </behavior>
        </endpointBehaviors>
      </behaviors >
    </system.serviceModel>
</configuration>


CERTIFICATE creation commands
...............................

makecert -n ""CN=WCFServer"" -r -sv WCFServer.pvk WCFServer.cer  

makecert -n ""CN=WCFClient"" -r -sv WCFClient.pvk WCFClient.cer

makecert -sk WCFServerCert -iv d:\WCFServer.pvk -n ""CN=WCFServerCert "" -ic d:\WCFServer.cer -sr LocalMachine -ss My -sky exchange pe 

makecert -sk WCFClientCert -iv d:\WCFClient.pvk -n ""CN=WCFClientCert "" -ic d:\WCFClient.cer -sr LocalMachine -ss My -sky exchange pe 








",wcf,security,x509certificate,,,,open,0,1994,12,"Soap body is not encrypted when X509 security implmented on  WCF I implemeted a WCF service and a client application for one of projects in my employer and currently facing a serious problem due to the soap body element. The issue is the soap body is not getting encrypted and only the header is encrypted. I am grateful to anyone who can help to resolve this issue. I can send the code for this if anyone can le me know the email address. Help is really appreciated on this becuase iam really helpless now. Anyway the webconfigs and the way how i created the certificates are mentioned for your reference...

WCF server config
......................


<?xml version=""1.0"" encoding=""utf-8"" ?>
<configuration>
  <system.serviceModel>
    <extensions>
      <!-- Add the inspector attribute as a behavior for displaying SOAP XML packets -->
      <behaviorExtensions>
        <add name=""consoleOutputBehavior"" type=""mysvc.ConsoleOutputBehaviorExtensionElement, mysvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"" />
      </behaviorExtensions>
    </extensions>    
    <bindings>
      <wsHttpBinding>
        <binding name=""wsHttpEndpointBinding"" >
          <security>
            <message clientCredentialType=""Certificate"" establishSecurityContext =""true""  />
          </security>
        </binding>
      </wsHttpBinding>
      <customBinding>
        <binding name=""CustomBinding"">
        
          <textMessageEncoding messageVersion=""Soap11"" />
          <security authenticationMode=""MutualCertificate""  requireDerivedKeys=""false""
          includeTimestamp=""true"" keyEntropyMode=""ClientEntropy"" messageProtectionOrder=""EncryptBeforeSign"" 
          messageSecurityVersion=""WSSecurity10WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10""
          requireSecurityContextCancellation=""false"">
            
            <secureConversationBootstrap />
            
          </security>
          <httpTransport />
        
        </binding>
      </customBinding>
    </bindings>
    <services>
      <service name=""mysvc.MySvc"" behaviorConfiguration=""mysvc.Service1Behavior"">
        <endpoint address="""" binding=""customBinding"" bindingConfiguration =""CustomBinding""  contract=""mysvc.IMySvc""  />        
        <endpoint address=""mex"" binding=""mexHttpBinding"" contract=""IMetadataExchange""/>
         <host>
            <baseAddresses>
                 <add baseAddress =""http://localhost:8888/"" />
            </baseAddresses>
         </host>
      </service>
    </services>
    <behaviors>
      <endpointBehaviors>
        <behavior name=""inspectorBehavior"">
           <consoleOutputBehavior />
        </behavior>
      </endpointBehaviors>
      
      <serviceBehaviors>
        <behavior name=""mysvc.Service1Behavior"">
          <serviceMetadata httpGetEnabled=""true""/>
          <serviceDebug includeExceptionDetailInFaults=""false""/>
          
          <serviceCredentials>
                  
            <serviceCertificate findValue=""WCfServerCert""
            storeLocation=""LocalMachine"" 
            storeName=""My""
            x509FindType=""FindBySubjectName"" />

            <clientCertificate>              
              <authentication certificateValidationMode=""None"" />                       
            </clientCertificate>
            
          </serviceCredentials>

        </behavior>
      </serviceBehaviors>
    </behaviors>  
  </system.serviceModel>
</configuration>


WCF client config
.....................


<?xml version=""1.0"" encoding=""utf-8"" ?>
<configuration>


 
    <system.serviceModel>
        <bindings>
            <customBinding>
                <binding name=""CustomBinding_IMySvc"">
                    <security defaultAlgorithmSuite=""Default"" authenticationMode=""MutualCertificate""
                        requireDerivedKeys=""false"" securityHeaderLayout=""Strict"" includeTimestamp=""true""
                        keyEntropyMode=""ClientEntropy"" messageProtectionOrder=""EncryptBeforeSign""
                        messageSecurityVersion=""WSSecurity10WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10""
                        requireSignatureConfirmation=""false"">
                        <localClientSettings cacheCookies=""true"" detectReplays=""true""
                            replayCacheSize=""900000"" maxClockSkew=""00:05:00"" maxCookieCachingTime=""Infinite""
                            replayWindow=""00:05:00"" sessionKeyRenewalInterval=""10:00:00""
                            sessionKeyRolloverInterval=""00:05:00"" reconnectTransportOnFailure=""true""
                            timestampValidityDuration=""00:05:00"" cookieRenewalThresholdPercentage=""60"" />
                        <localServiceSettings detectReplays=""true"" issuedCookieLifetime=""10:00:00""
                            maxStatefulNegotiations=""128"" replayCacheSize=""900000"" maxClockSkew=""00:05:00""
                            negotiationTimeout=""00:01:00"" replayWindow=""00:05:00"" inactivityTimeout=""00:02:00""
                            sessionKeyRenewalInterval=""15:00:00"" sessionKeyRolloverInterval=""00:05:00""
                            reconnectTransportOnFailure=""true"" maxPendingSessions=""128""
                            maxCachedCookies=""1000"" timestampValidityDuration=""00:05:00"" />
                        <secureConversationBootstrap />
                    </security>
                    <textMessageEncoding maxReadPoolSize=""64"" maxWritePoolSize=""16""
                        messageVersion=""Soap11"" writeEncoding=""utf-8"">
                        <readerQuotas maxDepth=""32"" maxStringContentLength=""8192"" maxArrayLength=""16384""
                            maxBytesPerRead=""4096"" maxNameTableCharCount=""16384"" />
                    </textMessageEncoding>
                    <httpTransport manualAddressing=""false"" maxBufferPoolSize=""524288""
                        maxReceivedMessageSize=""65536"" allowCookies=""false"" authenticationScheme=""Anonymous""
                        bypassProxyOnLocal=""false"" hostNameComparisonMode=""StrongWildcard""
                        keepAliveEnabled=""true"" maxBufferSize=""65536"" proxyAuthenticationScheme=""Anonymous""
                        realm="""" transferMode=""Buffered"" unsafeConnectionNtlmAuthentication=""false""
                        useDefaultWebProxy=""true"" />
                </binding>
            </customBinding>
        </bindings>
        <client>
          <endpoint address=""http://localhost:8888/"" binding=""customBinding"" behaviorConfiguration =""CustomBehavior""
              bindingConfiguration=""CustomBinding_IMySvc"" contract=""WCFProxy.IMySvc""
              name=""CustomBinding_IMySvc"" >

            <identity >
              <dns value =""WCfServerCert""/>
            </identity>
            
          </endpoint>
        </client>
      <behaviors>
        <endpointBehaviors>
          <behavior name=""CustomBehavior"">
            <clientCredentials>
              <clientCertificate findValue=""WCfClientCert"" x509FindType=""FindBySubjectName"" storeLocation=""LocalMachine"" storeName=""My"" />
              <serviceCertificate>
                <defaultCertificate findValue=""WCfServerCert"" x509FindType=""FindBySubjectName"" storeLocation=""LocalMachine"" storeName=""My"" />
                <authentication certificateValidationMode=""None""/>
              </serviceCertificate>
            </clientCredentials>
          </behavior>
        </endpointBehaviors>
      </behaviors >
    </system.serviceModel>
</configuration>


CERTIFICATE creation commands
...............................

makecert -n ""CN=WCFServer"" -r -sv WCFServer.pvk WCFServer.cer  

makecert -n ""CN=WCFClient"" -r -sv WCFClient.pvk WCFClient.cer

makecert -sk WCFServerCert -iv d:\WCFServer.pvk -n ""CN=WCFServerCert "" -ic d:\WCFServer.cer -sr LocalMachine -ss My -sky exchange pe 

makecert -sk WCFClientCert -iv d:\WCFClient.pvk -n ""CN=WCFClientCert "" -ic d:\WCFClient.cer -sr LocalMachine -ss My -sky exchange pe 








",3
6332754,06/13/2011 15:45:34,796169,06/13/2011 15:24:26,1,0,WCF Restful Service .NET 4 IIS 7.5 Issues (The message with Action '' cannot be processed),"I have a wcf restful service up and running. I can issue Get/Post with no issues if I start a webservice using WebServiceHost. I tried moving the wcf service to IIS 7.5 on my local box and I can't seem to get it going.

I keep getting the following error anything I try to call anything from from the wcf service: (http://wp9dbytr1k1:8081/service.svc/AnythingHereForGETorPUT). I've tried in virtual directory/Appliances and I get the same issue.


    The message with Action '' cannot be processed at the receiver, due to a     ContractFilter mismatch at the EndpointDispatcher. This may be because of either a contract  mismatch (mismatched Actions between sender and receiver) or a binding/security mismatch between the sender and the receiver. Check that sender and receiver have the same contract and the same binding (including security requirements, e.g. Message, Transport, None).

if I call the svc file directly (http://wp9dbytr1k1:8081/service.svc), its happy and tells me 

*""You have created a service.
To test this service, you will need to create a client and use it to call the service. You can do this using the svcutil.exe tool from the command line with the following syntax:
svcutil.exe http://wp9dbytr1k1:8081/FUU/service.svc?wsdl""*

The strack trace from Trace viewer hasn't help:  Sorry have to add a link, not allowed to post images yet. [(ImageLink)](http://i.stack.imgur.com/BLA1a.jpg)

Here's my web.config

  <system.serviceModel>
    <bindings>
      <mexHttpsBinding>
        <binding name=""NewBinding0"" />
      </mexHttpsBinding>
      <webHttpBinding>
        <binding name=""WebBinding"">
          <readerQuotas maxDepth=""524288"" maxStringContentLength=""524288""
            maxArrayLength=""524288"" maxBytesPerRead=""524288"" maxNameTableCharCount=""524288"" />
          <security mode=""None"">
            <transport clientCredentialType=""None"" proxyCredentialType=""None"" />
          </security>
        </binding>
      </webHttpBinding>
    </bindings>
    <services>
      <service behaviorConfiguration=""StoredProcBehaviors"" name=""StoredProcService.DataRetreivalService"">
        <endpoint address="""" binding=""webHttpBinding"" bindingConfiguration=""WebBinding""
          contract=""StoredProcService.IDataRetreivalService"">
          <identity>
            <dns value=""locahost"" />
          </identity>
        </endpoint>
        <endpoint address=""mex"" binding=""mexHttpBinding"" bindingConfiguration=""""
          contract=""StoredProcService.IDataRetreivalService"" />
        <host>
          <baseAddresses>
            <add baseAddress=""http://WP9DBYTR1K1:8081/"" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name=""StoredProcBehaviors"">
          <serviceMetadata httpGetEnabled=""true""/>
          <serviceDebug includeExceptionDetailInFaults=""true"" />
        </behavior>
      </serviceBehaviors>
    </behaviors>

For obvious reasons, this feels like IIS setup since it works with WebServiceHost. I've googled the errors/tutorials on how to set this up and everything seems good to me.

Any suggestions?

Thanks",wcf,iis,rest,iis-7.5,,,open,0,588,16,"WCF Restful Service .NET 4 IIS 7.5 Issues (The message with Action '' cannot be processed) I have a wcf restful service up and running. I can issue Get/Post with no issues if I start a webservice using WebServiceHost. I tried moving the wcf service to IIS 7.5 on my local box and I can't seem to get it going.

I keep getting the following error anything I try to call anything from from the wcf service: (http://wp9dbytr1k1:8081/service.svc/AnythingHereForGETorPUT). I've tried in virtual directory/Appliances and I get the same issue.


    The message with Action '' cannot be processed at the receiver, due to a     ContractFilter mismatch at the EndpointDispatcher. This may be because of either a contract  mismatch (mismatched Actions between sender and receiver) or a binding/security mismatch between the sender and the receiver. Check that sender and receiver have the same contract and the same binding (including security requirements, e.g. Message, Transport, None).

if I call the svc file directly (http://wp9dbytr1k1:8081/service.svc), its happy and tells me 

*""You have created a service.
To test this service, you will need to create a client and use it to call the service. You can do this using the svcutil.exe tool from the command line with the following syntax:
svcutil.exe http://wp9dbytr1k1:8081/FUU/service.svc?wsdl""*

The strack trace from Trace viewer hasn't help:  Sorry have to add a link, not allowed to post images yet. [(ImageLink)](http://i.stack.imgur.com/BLA1a.jpg)

Here's my web.config

  <system.serviceModel>
    <bindings>
      <mexHttpsBinding>
        <binding name=""NewBinding0"" />
      </mexHttpsBinding>
      <webHttpBinding>
        <binding name=""WebBinding"">
          <readerQuotas maxDepth=""524288"" maxStringContentLength=""524288""
            maxArrayLength=""524288"" maxBytesPerRead=""524288"" maxNameTableCharCount=""524288"" />
          <security mode=""None"">
            <transport clientCredentialType=""None"" proxyCredentialType=""None"" />
          </security>
        </binding>
      </webHttpBinding>
    </bindings>
    <services>
      <service behaviorConfiguration=""StoredProcBehaviors"" name=""StoredProcService.DataRetreivalService"">
        <endpoint address="""" binding=""webHttpBinding"" bindingConfiguration=""WebBinding""
          contract=""StoredProcService.IDataRetreivalService"">
          <identity>
            <dns value=""locahost"" />
          </identity>
        </endpoint>
        <endpoint address=""mex"" binding=""mexHttpBinding"" bindingConfiguration=""""
          contract=""StoredProcService.IDataRetreivalService"" />
        <host>
          <baseAddresses>
            <add baseAddress=""http://WP9DBYTR1K1:8081/"" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name=""StoredProcBehaviors"">
          <serviceMetadata httpGetEnabled=""true""/>
          <serviceDebug includeExceptionDetailInFaults=""true"" />
        </behavior>
      </serviceBehaviors>
    </behaviors>

For obvious reasons, this feels like IIS setup since it works with WebServiceHost. I've googled the errors/tutorials on how to set this up and everything seems good to me.

Any suggestions?

Thanks",4
9825899,03/22/2012 15:53:13,1286316,03/22/2012 15:18:46,1,0,WCF - Failure to send objects with a list of a basetypes who have children with generics,"So I have a basetype BaseDTO:

    public abstract class BaseDTO
    {
        public List<BaseCell> Cells;

        protected BaseDTO()
        {
            Cells = new List<BaseCell>();
        }
    }
I also have a 

         public class DTO : BaseDTO

with close to nothing in it. This is the object we want to receive from our Service 

BaseCell is an almost empty class used by the ""Cells""-list in the DTO object is empty. 

    public class Cell<T> : BaseCell
    {
        public T Value;
    }

This whole setup works fine for as long as 
but if i try to fill it (I left some of these things out of the declarations):

    mappedData.Cells.Add(new Cell<double?> { DisplayName = ""Count"", Value = entityFramworkObject.count});

I get an evil error (here from the Wcf test client)

Failed to invoke the service. Possible causes: The service is offline or inaccessible; the client-side configuration does not match the proxy; the existing proxy is invalid. Refer to the stack trace for more detail. You can try to recover by starting a new proxy, restoring to default configuration, or refreshing the service.

detailed:
The underlying connection was closed: The connection was closed unexpectedly.

Server stack trace: 
   at System.ServiceModel.Channels.HttpChannelUtilities.ProcessGetResponseWebException(WebException webException, HttpWebRequest request, HttpAbortReason abortReason)
   at System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)
   at System.ServiceModel.Channels.RequestChannel.Request(Message message, TimeSpan timeout)
   at System.ServiceModel.Dispatcher.RequestChannelBinder.Request(Message message, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)

Exception rethrown at [0]: 
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
   at IBasicInformationService.GetDTO(String orgNr, Int32 year)
   at BasicInformationServiceClient.GetDTO(String orgNr, Int32 year)

Inner Exception:
The underlying connection was closed: The connection was closed unexpectedly.
   at System.Net.HttpWebRequest.GetResponse()
   at System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)


It should be noted that it works great to send generic cells inside my DTO object as long as they are not in a list. I have tried to use many combinations of [DataMember], [DataContract], [KnownType(typeof())] without any luck. 
When i debug it all works fine until it's time to send the object.

All ideas is much appreciated!",wcf,list,generics,derived-class,generic-list,,open,0,419,17,"WCF - Failure to send objects with a list of a basetypes who have children with generics So I have a basetype BaseDTO:

    public abstract class BaseDTO
    {
        public List<BaseCell> Cells;

        protected BaseDTO()
        {
            Cells = new List<BaseCell>();
        }
    }
I also have a 

         public class DTO : BaseDTO

with close to nothing in it. This is the object we want to receive from our Service 

BaseCell is an almost empty class used by the ""Cells""-list in the DTO object is empty. 

    public class Cell<T> : BaseCell
    {
        public T Value;
    }

This whole setup works fine for as long as 
but if i try to fill it (I left some of these things out of the declarations):

    mappedData.Cells.Add(new Cell<double?> { DisplayName = ""Count"", Value = entityFramworkObject.count});

I get an evil error (here from the Wcf test client)

Failed to invoke the service. Possible causes: The service is offline or inaccessible; the client-side configuration does not match the proxy; the existing proxy is invalid. Refer to the stack trace for more detail. You can try to recover by starting a new proxy, restoring to default configuration, or refreshing the service.

detailed:
The underlying connection was closed: The connection was closed unexpectedly.

Server stack trace: 
   at System.ServiceModel.Channels.HttpChannelUtilities.ProcessGetResponseWebException(WebException webException, HttpWebRequest request, HttpAbortReason abortReason)
   at System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)
   at System.ServiceModel.Channels.RequestChannel.Request(Message message, TimeSpan timeout)
   at System.ServiceModel.Dispatcher.RequestChannelBinder.Request(Message message, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)

Exception rethrown at [0]: 
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
   at IBasicInformationService.GetDTO(String orgNr, Int32 year)
   at BasicInformationServiceClient.GetDTO(String orgNr, Int32 year)

Inner Exception:
The underlying connection was closed: The connection was closed unexpectedly.
   at System.Net.HttpWebRequest.GetResponse()
   at System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)


It should be noted that it works great to send generic cells inside my DTO object as long as they are not in a list. I have tried to use many combinations of [DataMember], [DataContract], [KnownType(typeof())] without any luck. 
When i debug it all works fine until it's time to send the object.

All ideas is much appreciated!",5
10357806,04/27/2012 21:02:39,118154,06/05/2009 17:08:56,2264,25,Rest vs Wcf pros and cons,"What are the pros and cons of using a rest service vs a wcf service?

I am wondering which type to use and I was interested to find some sort of comparision.",wcf,rest,,,,06/04/2012 14:04:38,not constructive,1,31,6,"Rest vs Wcf pros and cons What are the pros and cons of using a rest service vs a wcf service?

I am wondering which type to use and I was interested to find some sort of comparision.",2
7141298,08/21/2011 21:28:21,720591,04/22/2011 13:37:13,10,1,Passing JSON data to WCF (.Net 4) Web Service,"I have a very simple [OperationContract] called TestClass that gets called like this:

    var person = { ""Name"": ""Dave"", ""City"":""HB"", ""State"": ""CA"", ""Zip"":""92649"" };

	            $.ajax({
	                type: ""POST"",
	                contentType: ""application/json; charset=utf-8"",
	                dataType: ""json"",
	                data: JSON.stringify(cust),	                
	                url: ""MyService.svc/TestClass"",
	                success: function (data) {
	                    $(""#output"").text(""[ "" + data + ""]"");
	                }
	            });

What I'm not understanding, and can't seem to find, is the preferred way of using these services. I've been searching everywhere for the past few days and I feel really overwhelmed with what I've found so far.  I read one post where somebody said not to use Message but to create their own DataContract which I tried.

Here is my Operation Contract:

     [OperationContract]
        [WebInvoke(Method = ""POST"", ResponseFormat = WebMessageFormat.Json, RequestFormat = WebMessageFormat.Json)]
        public Message TestClass(Message m)
        { return WebOperationContext.Current.CreateTextResponse(JsonConvert.SerializeObject(""Ok""));}


Besides having 4 input values to TestClass, I would prefer just one.  Message is the only thing that seems to work.  I tried using just a string and that value is always null.  

I've tried creating a [DataContract] for the data and use that as the parameter in the TestClass call but that also is null.

I'm new to using these service types so any pointers for a beginner is greatly appreciated.  

Thank you in advance.
",wcf,json,,,,,open,0,394,9,"Passing JSON data to WCF (.Net 4) Web Service I have a very simple [OperationContract] called TestClass that gets called like this:

    var person = { ""Name"": ""Dave"", ""City"":""HB"", ""State"": ""CA"", ""Zip"":""92649"" };

	            $.ajax({
	                type: ""POST"",
	                contentType: ""application/json; charset=utf-8"",
	                dataType: ""json"",
	                data: JSON.stringify(cust),	                
	                url: ""MyService.svc/TestClass"",
	                success: function (data) {
	                    $(""#output"").text(""[ "" + data + ""]"");
	                }
	            });

What I'm not understanding, and can't seem to find, is the preferred way of using these services. I've been searching everywhere for the past few days and I feel really overwhelmed with what I've found so far.  I read one post where somebody said not to use Message but to create their own DataContract which I tried.

Here is my Operation Contract:

     [OperationContract]
        [WebInvoke(Method = ""POST"", ResponseFormat = WebMessageFormat.Json, RequestFormat = WebMessageFormat.Json)]
        public Message TestClass(Message m)
        { return WebOperationContext.Current.CreateTextResponse(JsonConvert.SerializeObject(""Ok""));}


Besides having 4 input values to TestClass, I would prefer just one.  Message is the only thing that seems to work.  I tried using just a string and that value is always null.  

I've tried creating a [DataContract] for the data and use that as the parameter in the TestClass call but that also is null.

I'm new to using these service types so any pointers for a beginner is greatly appreciated.  

Thank you in advance.
",2
5571046,04/06/2011 18:14:10,695405,04/06/2011 18:13:00,1,0,WCF Service behind ISA,"I have created a wcf service, successfully deployed to a development server(not behind an ISA Server) and was able to add a service reference to to the service in a test web app. My network administrators deployed the same service to our staging box which is behind an ISA server, when I try to add a service reference through vs2008 or use the svcutil utility I get the following:

Metadata contains a reference that cannot be resolved: 
'http://tstsrvr.Testdmz.staging:5910/myService/TestService.svc?wsdl'.
There was an error downloading 'http://tstsrvr.Testdmz.staging:5910/myService/TestService.svc?wsdl'.
The remote name could not be resolved: 'tstsrvr.Testdmz.staging'
Metadata contains a reference that cannot be resolved: 
'https://stg-ww2.Test.com/myservice/Testservice.svc'.
Metadata contains a reference that cannot be resolved: 
'https://stg-ww2.Test.com/myservice/Testservice.svc'.
If the service is defined in the current solution, try building the solution and 
adding the service reference again.

I am able to hit the .svc link through a web browser and then able to click the link 

svcutil.exe https://stg-ww2.myserver.com/TestService/TestService.svc?wsdl

which seems to work fine, I am pretty new to wcf so any help is appreciated.

Thanks
Mark

",wcf,isa,,,,,open,0,158,4,"WCF Service behind ISA I have created a wcf service, successfully deployed to a development server(not behind an ISA Server) and was able to add a service reference to to the service in a test web app. My network administrators deployed the same service to our staging box which is behind an ISA server, when I try to add a service reference through vs2008 or use the svcutil utility I get the following:

Metadata contains a reference that cannot be resolved: 
'http://tstsrvr.Testdmz.staging:5910/myService/TestService.svc?wsdl'.
There was an error downloading 'http://tstsrvr.Testdmz.staging:5910/myService/TestService.svc?wsdl'.
The remote name could not be resolved: 'tstsrvr.Testdmz.staging'
Metadata contains a reference that cannot be resolved: 
'https://stg-ww2.Test.com/myservice/Testservice.svc'.
Metadata contains a reference that cannot be resolved: 
'https://stg-ww2.Test.com/myservice/Testservice.svc'.
If the service is defined in the current solution, try building the solution and 
adding the service reference again.

I am able to hit the .svc link through a web browser and then able to click the link 

svcutil.exe https://stg-ww2.myserver.com/TestService/TestService.svc?wsdl

which seems to work fine, I am pretty new to wcf so any help is appreciated.

Thanks
Mark

",2
9778836,03/19/2012 22:21:25,1058647,11/21/2011 21:35:28,1,0,Accessing .Net WCF services from Android,"(where it says huup it used to say http but your forum does not like http)

I have a .Net WCF service (not a web service) with many methods, some accepting and returning complex data types.  I  use these services from my Windows Phone 

7 apps.  It all works great and it's easy.

Now I'm evaluating the feasibility of porting some of my apps to android but I can't figure out how to invoke my WCF services from an android client.

I have a working example I found at...
huup://naveenbalani.com/index.php/2011/01/invoke-webservices-from-android/

(code pasted below)
But this looks to be accessing a ""Web Service"" not a WCF Service.

My service is at huup://www.deanblakely.com/Service2.svc and it contains a simple method named ""SimpleTest"" that just returns the string ""Alive"".

Using the code below I put huup://www.deanblakely.com/Service2.svc in SOAP_ADDRESS and SimpleTest in OPERATION_NAME.  But I have no idea what to put in 

SOAP_ACTION and WSDL_TARGET_NAMESPACE.  I don't even know if this approach is valid.

In .Net, Visual Studio builds us a ""Service Reference"" and everything just works.

I also don't understand the following two lines of code...

		huupTransport.call(SOAP_ACTION, envelope);
 
		Object response = envelope.getResponse();

With WCF services the call is async so we make the call to SimpleTestAsync and leave a callback for the async return.  These two lines of code appear to be 

synchronous, no?

Hope someone can help.
thanks,
Gary

Naveen Balani's code......(which I was able to get working with his web service)

WELL, I WASN'T ABLE TO PASTE MY THE HERE BECAUSE YOUR FORUM SOFTWARE KEPT SAYING IT WAS NOT INDENTED BY 4 SPACES.  I TRIED EVERYTHING I COULD THINK OF BUT  YOU CAN SEE IT AT THE HUUP LINK (YOUR SOFTWARE ALSO WOULD NOT LET ME HAVE THOSE LINKS WITH THE H AND THE 2TS AND A P - IMHO WAY ANAL)",wcf,,,,,,open,0,291,6,"Accessing .Net WCF services from Android (where it says huup it used to say http but your forum does not like http)

I have a .Net WCF service (not a web service) with many methods, some accepting and returning complex data types.  I  use these services from my Windows Phone 

7 apps.  It all works great and it's easy.

Now I'm evaluating the feasibility of porting some of my apps to android but I can't figure out how to invoke my WCF services from an android client.

I have a working example I found at...
huup://naveenbalani.com/index.php/2011/01/invoke-webservices-from-android/

(code pasted below)
But this looks to be accessing a ""Web Service"" not a WCF Service.

My service is at huup://www.deanblakely.com/Service2.svc and it contains a simple method named ""SimpleTest"" that just returns the string ""Alive"".

Using the code below I put huup://www.deanblakely.com/Service2.svc in SOAP_ADDRESS and SimpleTest in OPERATION_NAME.  But I have no idea what to put in 

SOAP_ACTION and WSDL_TARGET_NAMESPACE.  I don't even know if this approach is valid.

In .Net, Visual Studio builds us a ""Service Reference"" and everything just works.

I also don't understand the following two lines of code...

		huupTransport.call(SOAP_ACTION, envelope);
 
		Object response = envelope.getResponse();

With WCF services the call is async so we make the call to SimpleTestAsync and leave a callback for the async return.  These two lines of code appear to be 

synchronous, no?

Hope someone can help.
thanks,
Gary

Naveen Balani's code......(which I was able to get working with his web service)

WELL, I WASN'T ABLE TO PASTE MY THE HERE BECAUSE YOUR FORUM SOFTWARE KEPT SAYING IT WAS NOT INDENTED BY 4 SPACES.  I TRIED EVERYTHING I COULD THINK OF BUT  YOU CAN SEE IT AT THE HUUP LINK (YOUR SOFTWARE ALSO WOULD NOT LET ME HAVE THOSE LINKS WITH THE H AND THE 2TS AND A P - IMHO WAY ANAL)",1
6421869,06/21/2011 07:35:13,154953,08/12/2009 09:45:58,10,2,WCF service to queue all request,"I have a wcf service and handle a lot of client (server document generation). This service should receive a lot of request and should be handle in queue. It also have a callback. (callback will return successfully generated document). I am still using PIA and will implement OpenXML in the future.

Is it wcf msmq is the way to implement this?

Is there any samples might be related? Previously its running in local machine but now want to change it as a so called ""Server generated""",wcf,design,msmq,netmsmqbinding,,,open,0,84,6,"WCF service to queue all request I have a wcf service and handle a lot of client (server document generation). This service should receive a lot of request and should be handle in queue. It also have a callback. (callback will return successfully generated document). I am still using PIA and will implement OpenXML in the future.

Is it wcf msmq is the way to implement this?

Is there any samples might be related? Previously its running in local machine but now want to change it as a so called ""Server generated""",4
5413648,03/24/2011 01:18:16,672474,03/23/2011 06:04:27,1,0,There was no endpoint listening at http://169.254.2.2:8000/calculator/Calculator,"I am getting the below errror when calliong WCF method from windows mobile. 

""There was no endpoint listening at http://169.254.2.2:8000/calculator/Calculator that could accept the message. This is often caused by an incorrect address or SOAP action. See InnerException, if present, for more details.

* I am able to ping to mobile
* Port # 8000 is enabled in my PC Firewall. 
* I used the basichttpbinding both PC and Mobile side. 
 
Till i am not able to call method from WCF service. I am really frustrated for this issue. 
Please let me know what is issue. 
Waiting for reply.",wcf,,,,,,open,0,98,7,"There was no endpoint listening at http://169.254.2.2:8000/calculator/Calculator I am getting the below errror when calliong WCF method from windows mobile. 

""There was no endpoint listening at http://169.254.2.2:8000/calculator/Calculator that could accept the message. This is often caused by an incorrect address or SOAP action. See InnerException, if present, for more details.

* I am able to ping to mobile
* Port # 8000 is enabled in my PC Firewall. 
* I used the basichttpbinding both PC and Mobile side. 
 
Till i am not able to call method from WCF service. I am really frustrated for this issue. 
Please let me know what is issue. 
Waiting for reply.",1
7644972,10/04/2011 08:15:29,922927,09/01/2011 06:18:20,30,0,What type of database schema is best of WCF Client Application,"Is about 
What type of database schema is best of WCF Client Application
 any suggestion ?
",wcf,wcf-client,,,,10/04/2011 14:41:09,not a real question,1,16,11,"What type of database schema is best of WCF Client Application Is about 
What type of database schema is best of WCF Client Application
 any suggestion ?
",2
7689841,10/07/2011 15:59:01,281451,02/25/2010 17:32:45,3,0,WCF Service calling an external web service results in timeouts in heavy load environment,"I have got the following scneario:

Our .NET client calls our WCF service - which in turn calls an external third party service to retrieve some data. Once the data is retrieved, our WCF service sets some values and then returns the control back to the client.  The process of calling the external service has to be synchronous. 

My problem is that this all works in a low load environment but when load gets high then we start queueing multiple requests, the WCF service starts timing out.  We have set the ""sendTimeout"" property for the binding to 5 seconds and it times out after that.  

I've tried replacing the external service with a mocked out local version and that handles the load OK but on the same hand the call to external service on it own is very quick - around 0.5 second.  I can only presume that the timeouts are happening because too many requests were queued and WCF service couldn't respond within those allocated 5 seconds.

I have tried the following:

 - Set the values of maxConcurrentCalls, maxConcurrentSessions & maxConcurrentInstances to very high numbers
 - Set the value of system.net - connectionManagement - maxconnection to a very high number


Does any one have any ideas about what we can do in this scneario?",wcf,,,,,,open,0,216,14,"WCF Service calling an external web service results in timeouts in heavy load environment I have got the following scneario:

Our .NET client calls our WCF service - which in turn calls an external third party service to retrieve some data. Once the data is retrieved, our WCF service sets some values and then returns the control back to the client.  The process of calling the external service has to be synchronous. 

My problem is that this all works in a low load environment but when load gets high then we start queueing multiple requests, the WCF service starts timing out.  We have set the ""sendTimeout"" property for the binding to 5 seconds and it times out after that.  

I've tried replacing the external service with a mocked out local version and that handles the load OK but on the same hand the call to external service on it own is very quick - around 0.5 second.  I can only presume that the timeouts are happening because too many requests were queued and WCF service couldn't respond within those allocated 5 seconds.

I have tried the following:

 - Set the values of maxConcurrentCalls, maxConcurrentSessions & maxConcurrentInstances to very high numbers
 - Set the value of system.net - connectionManagement - maxconnection to a very high number


Does any one have any ideas about what we can do in this scneario?",1
1649994,10/30/2009 14:03:27,186280,10/08/2009 10:55:34,61,4,Multiple Services Hosted under one Windows Service,"I have two Services called TemplateService, TemplateReportService (both defined in one WCF Service Library) to be exposed to the client application.

How can I host these two services under one Windows Service?

Please guide.

Thank you!
",wcf,service,,,,,open,0,33,7,"Multiple Services Hosted under one Windows Service I have two Services called TemplateService, TemplateReportService (both defined in one WCF Service Library) to be exposed to the client application.

How can I host these two services under one Windows Service?

Please guide.

Thank you!
",2
11218160,06/27/2012 01:23:04,1484292,06/27/2012 01:16:15,1,0,How to secure a WCF service running in Windows Azure that is accessed by a a Windows Forms Application,"Folks,

We are developing an application that is part a downloadable WinForms application that connects to a set of Azure-hosted WCF services.

Our main issue now is how to properly secure these services to prevent DoS attacks and other security issues.

The WinForms applications will be installed on end users PCs anywhere in the world (they will be able to download this from our website) so we have no control of what the end users does to our application.

We have already secured the application as much as possible but we know nothing is unbreakable. Our main goal now is to make sure methods of these web services are only called by our application and that we can defend ourselves against attacks.

We found a best practice white paper from Microsoft stating that for some scenarios we have we could use the GateKeeper scenario (like for storage). We do not have selected anything yet for our queues.

Another issue is how to best control authentication from our WinForms app to the services in the cloud.

Has anybody here developed or worked on any similar projects and would like to share some ideas?

Cheers,",wcf,security,azure,enterprise,attack,,open,0,185,19,"How to secure a WCF service running in Windows Azure that is accessed by a a Windows Forms Application Folks,

We are developing an application that is part a downloadable WinForms application that connects to a set of Azure-hosted WCF services.

Our main issue now is how to properly secure these services to prevent DoS attacks and other security issues.

The WinForms applications will be installed on end users PCs anywhere in the world (they will be able to download this from our website) so we have no control of what the end users does to our application.

We have already secured the application as much as possible but we know nothing is unbreakable. Our main goal now is to make sure methods of these web services are only called by our application and that we can defend ourselves against attacks.

We found a best practice white paper from Microsoft stating that for some scenarios we have we could use the GateKeeper scenario (like for storage). We do not have selected anything yet for our queues.

Another issue is how to best control authentication from our WinForms app to the services in the cloud.

Has anybody here developed or worked on any similar projects and would like to share some ideas?

Cheers,",5
4142992,11/10/2010 09:34:22,464566,10/02/2010 11:59:51,20,1,Looking for advice on WCF Fault Contracts,"I have a situation where I want to be able to distinguish between different types of errors within a web service. In an API this would usaully be a separate exception for each, does this mean I should have multiple fault contracts in WCF?

Is this the preferred approach, it seems the OO way to do it. Someone at my work suggested error codes but I'm starting to think it seems counter-intuative if you are sending an exception back.

Has anyone ever been in a similar situation, if so, what design decisions did you undertake and reasons for them?

Thanks, any help would be greatly appreciated.
Jamie",wcf,design,exception,faultcontract,,,open,0,103,7,"Looking for advice on WCF Fault Contracts I have a situation where I want to be able to distinguish between different types of errors within a web service. In an API this would usaully be a separate exception for each, does this mean I should have multiple fault contracts in WCF?

Is this the preferred approach, it seems the OO way to do it. Someone at my work suggested error codes but I'm starting to think it seems counter-intuative if you are sending an exception back.

Has anyone ever been in a similar situation, if so, what design decisions did you undertake and reasons for them?

Thanks, any help would be greatly appreciated.
Jamie",4
9382719,02/21/2012 18:04:28,224763,12/04/2009 13:14:15,35,0,WCF service as a client and as a service?,"I have to create a WCF service(MyWCFService) which is both service (consumed from MS Dynamics AX) and client (will consume some external XML web service).
So basically the flow is: 

1.MS Dynamics AX will call MyWCFService 

2.MyWCFService call external XML web service

3.External XML web service return result to MyWCFService 

4.MyWCFService return result to MS Dynamics AX

Are there some special consideration concerning this scenario which I should be aware of?

What about asynchronously consuming, should the client of my MyWCFService and the service itself make asynchronously calls?

Can you point me to some documentation review this “middle man” service pattern?

Thanks!
",wcf,,,,,02/23/2012 18:36:39,not constructive,1,96,9,"WCF service as a client and as a service? I have to create a WCF service(MyWCFService) which is both service (consumed from MS Dynamics AX) and client (will consume some external XML web service).
So basically the flow is: 

1.MS Dynamics AX will call MyWCFService 

2.MyWCFService call external XML web service

3.External XML web service return result to MyWCFService 

4.MyWCFService return result to MS Dynamics AX

Are there some special consideration concerning this scenario which I should be aware of?

What about asynchronously consuming, should the client of my MyWCFService and the service itself make asynchronously calls?

Can you point me to some documentation review this “middle man” service pattern?

Thanks!
",1
6452766,06/23/2011 10:43:52,522254,11/27/2010 13:07:35,51,5,WCF wsdl string array,"How do I tell WCF to make use of wsdl arrayType? Like this:

    <complexType name=""ArrayOfString"">
       <complexContent>
          <restriction base=""soapenc:Array"">
              <attribute ref=""soapenc:arrayType"" wsdl:arrayType=""string[]""/>
          </restriction>
       </complexContent>
    </complexType>

This is what WCF is doing (The not expected)

    <complexType name=""ArrayOfstring"">
        <sequence>
           <element minOccurs=""0"" maxOccurs=""unbounded"" name=""string"" nillable=""true""       type=""xs:string""/>
         </sequence>
        <element name=""ArrayOfstring"" nillable=""true"" type=""tns:ArrayOfstring""/>
    </complexType>",wcf,soap,wsdl,,,,open,0,140,4,"WCF wsdl string array How do I tell WCF to make use of wsdl arrayType? Like this:

    <complexType name=""ArrayOfString"">
       <complexContent>
          <restriction base=""soapenc:Array"">
              <attribute ref=""soapenc:arrayType"" wsdl:arrayType=""string[]""/>
          </restriction>
       </complexContent>
    </complexType>

This is what WCF is doing (The not expected)

    <complexType name=""ArrayOfstring"">
        <sequence>
           <element minOccurs=""0"" maxOccurs=""unbounded"" name=""string"" nillable=""true""       type=""xs:string""/>
         </sequence>
        <element name=""ArrayOfstring"" nillable=""true"" type=""tns:ArrayOfstring""/>
    </complexType>",3
9589038,03/06/2012 17:43:34,300233,03/23/2010 19:01:29,102,2,WCF: Per-Call sessions timeout,"I've got a WCF service with the instance context mode set to PerCall, and using the wsHttpBinding.  A poorly coded client has the ability to consume sessions without properly releasing them (ie the client doesn't call Close() on the client proxy).  By looking at the ""Percent of Max Concurrent Sessions"" performance counter, I can see that each connection uses up a session, and doesn't release it.  Under normal, well-behaved circumstances, the session is only used for a few moments while the results of the call are returned.

I've been trying to find a way to get these bad sessions to timeout and go away, but have been unsuccessful.  Since it's not a reliable session, the RecieveTimeout and InactivityTimeout settings do not appear to have any effect.  Here's a portion of my current config, which has a number of timeouts set in it, but does not seem to work:

            <behaviors>
            <serviceBehaviors>
                <behavior name=""UpdaterBehavior"">
                    <serviceMetadata httpGetEnabled=""true""/>
                    <serviceCredentials>
                        <userNameAuthentication userNamePasswordValidationMode=""MembershipProvider""/>
                        <serviceCertificate findValue=""xxxxxx"" x509FindType=""FindBySubjectName""/>
                    </serviceCredentials>
                    <serviceAuthorization principalPermissionMode=""UseAspNetRoles"" roleProviderName=""SqlRoleProvider""/>
					<serviceThrottling maxConcurrentCalls=""10"" maxConcurrentSessions=""10"" maxConcurrentInstances=""10"" />					
                </behavior>
            </serviceBehaviors>
        </behaviors>
        <bindings>
            <wsHttpBinding>
                <binding name=""UpdaterBinding"" messageEncoding=""Mtom"" maxReceivedMessageSize=""100000000""  closeTimeout=""00:01:00"" openTimeout=""00:01:00""
                    receiveTimeout=""00:01:00"" sendTimeout=""00:01:00"">
					<reliableSession ordered=""true"" inactivityTimeout=""00:01:00""
                        enabled=""false"" />
                    <readerQuotas maxArrayLength=""100000000""/>
                    <security>
                        <message clientCredentialType=""UserName""/>
                    </security>
                </binding>
            </wsHttpBinding>
        </bindings>

I can set the serviceThrottling numbers much higher, but that just hides the problem for a while, and eventually a bad client would use all the sessions up.  I want the server to free up any session that's been around for more than a few minutes, since there's no reason anything on this service should take that long.

Any suggestions?",wcf,,,,,,open,0,638,4,"WCF: Per-Call sessions timeout I've got a WCF service with the instance context mode set to PerCall, and using the wsHttpBinding.  A poorly coded client has the ability to consume sessions without properly releasing them (ie the client doesn't call Close() on the client proxy).  By looking at the ""Percent of Max Concurrent Sessions"" performance counter, I can see that each connection uses up a session, and doesn't release it.  Under normal, well-behaved circumstances, the session is only used for a few moments while the results of the call are returned.

I've been trying to find a way to get these bad sessions to timeout and go away, but have been unsuccessful.  Since it's not a reliable session, the RecieveTimeout and InactivityTimeout settings do not appear to have any effect.  Here's a portion of my current config, which has a number of timeouts set in it, but does not seem to work:

            <behaviors>
            <serviceBehaviors>
                <behavior name=""UpdaterBehavior"">
                    <serviceMetadata httpGetEnabled=""true""/>
                    <serviceCredentials>
                        <userNameAuthentication userNamePasswordValidationMode=""MembershipProvider""/>
                        <serviceCertificate findValue=""xxxxxx"" x509FindType=""FindBySubjectName""/>
                    </serviceCredentials>
                    <serviceAuthorization principalPermissionMode=""UseAspNetRoles"" roleProviderName=""SqlRoleProvider""/>
					<serviceThrottling maxConcurrentCalls=""10"" maxConcurrentSessions=""10"" maxConcurrentInstances=""10"" />					
                </behavior>
            </serviceBehaviors>
        </behaviors>
        <bindings>
            <wsHttpBinding>
                <binding name=""UpdaterBinding"" messageEncoding=""Mtom"" maxReceivedMessageSize=""100000000""  closeTimeout=""00:01:00"" openTimeout=""00:01:00""
                    receiveTimeout=""00:01:00"" sendTimeout=""00:01:00"">
					<reliableSession ordered=""true"" inactivityTimeout=""00:01:00""
                        enabled=""false"" />
                    <readerQuotas maxArrayLength=""100000000""/>
                    <security>
                        <message clientCredentialType=""UserName""/>
                    </security>
                </binding>
            </wsHttpBinding>
        </bindings>

I can set the serviceThrottling numbers much higher, but that just hides the problem for a while, and eventually a bad client would use all the sessions up.  I want the server to free up any session that's been around for more than a few minutes, since there's no reason anything on this service should take that long.

Any suggestions?",1
6690822,07/14/2011 09:03:00,705729,04/13/2011 09:42:41,596,26,How can I ensure that IsInRole checks are not using cached credentials,"I have a WPF client that connects to a WCF service, and I want to lock down some of the functionality so that only certain users can perform certain actions. The WCF service impersonates the client user when executing service methods. The OS is Windows XP.

I was reading [this question][1] as part of my investigation into the best way to apply user roles to features in my application (I want to assign users to AD security groups, and then check IsInRole), and am worried that cached permissions will allow users who have had their permissions reduced to access functionality they no longer have permission to. Conversely, I am also worried that users who have had their permissions upgraded will need to log out of their windows account, or even that the WCF service might have to be restarted (worst case scenario) before they can access the new functionality.

What is the simplest way to ensure that both client and server can immediately see changes to the AD security groups?




  [1]: http://stackoverflow.com/questions/5042847/check-isinrole-against-ad",wcf,active-directory,wcf-security,windows-principal,,,open,0,171,12,"How can I ensure that IsInRole checks are not using cached credentials I have a WPF client that connects to a WCF service, and I want to lock down some of the functionality so that only certain users can perform certain actions. The WCF service impersonates the client user when executing service methods. The OS is Windows XP.

I was reading [this question][1] as part of my investigation into the best way to apply user roles to features in my application (I want to assign users to AD security groups, and then check IsInRole), and am worried that cached permissions will allow users who have had their permissions reduced to access functionality they no longer have permission to. Conversely, I am also worried that users who have had their permissions upgraded will need to log out of their windows account, or even that the WCF service might have to be restarted (worst case scenario) before they can access the new functionality.

What is the simplest way to ensure that both client and server can immediately see changes to the AD security groups?




  [1]: http://stackoverflow.com/questions/5042847/check-isinrole-against-ad",4
6130080,05/25/2011 19:53:09,770237,05/25/2011 19:53:09,1,0,WCF service to get Files from a SharePoint 2010 library fails for huge files when the client is running on a remote box.,"I have a WCF webservice hosted on IIS7.0. I am using this service to  query a document library on SharePoint 2010 to get the Items from the library using SP object model.
Client creates a service reference of this service and tries to get the items from the SP 2010 Library.
This works fine for smaller files, but when the client tries to receive huge files, my service times out.
If the client is running on the same box where the WCF service is hosted, then there is no issue accessing the files of any size, but when the client is run from any other remote boxes, the service times out.

I am using WSHttpBinding, with MTOM message encoding
<wsHttpBinding><binding name=""WsHttpMtomBinding""  messageEncoding=""Mtom"" maxReceivedMessageSize=""2147483647"" sendTimeout=""1:00:00"" closeTimeout=""1:00:00"" openTimeout=""1:00:00"" receiveTimeout=""1:00:00"" maxBufferPoolSize=""2147483647"">
<readerQuotas maxDepth=""2147483647"" maxStringContentLength=""2147483647"" maxArrayLength=""2147483647"" maxBytesPerRead=""2147483647"" maxNameTableCharCount=""2147483647"" /></binding> </wsHttpBinding>

Please let me know what I am missing
",wcf,sharepoint2010,files,huge,,,open,0,139,23,"WCF service to get Files from a SharePoint 2010 library fails for huge files when the client is running on a remote box. I have a WCF webservice hosted on IIS7.0. I am using this service to  query a document library on SharePoint 2010 to get the Items from the library using SP object model.
Client creates a service reference of this service and tries to get the items from the SP 2010 Library.
This works fine for smaller files, but when the client tries to receive huge files, my service times out.
If the client is running on the same box where the WCF service is hosted, then there is no issue accessing the files of any size, but when the client is run from any other remote boxes, the service times out.

I am using WSHttpBinding, with MTOM message encoding
<wsHttpBinding><binding name=""WsHttpMtomBinding""  messageEncoding=""Mtom"" maxReceivedMessageSize=""2147483647"" sendTimeout=""1:00:00"" closeTimeout=""1:00:00"" openTimeout=""1:00:00"" receiveTimeout=""1:00:00"" maxBufferPoolSize=""2147483647"">
<readerQuotas maxDepth=""2147483647"" maxStringContentLength=""2147483647"" maxArrayLength=""2147483647"" maxBytesPerRead=""2147483647"" maxNameTableCharCount=""2147483647"" /></binding> </wsHttpBinding>

Please let me know what I am missing
",4
6339482,06/14/2011 05:33:05,651080,03/09/2011 07:14:25,1,0,wcf help in casting base classes,"    I have a problem in casting a class in w c f :
    i have 
    abstract class A
    abstract class B : A
    class C : B
    all can be serialized.
    a have known type attribute which calls a method that finds all the types in a directory that are subclass of A 
    the contract looks like:
    void test(A data)
    on the server side 
    when i try to cast data to A i get an cast execption.
    when i try to cast the class without w c f it work",wcf,,,,,03/11/2012 14:45:32,not a real question,1,130,6,"wcf help in casting base classes     I have a problem in casting a class in w c f :
    i have 
    abstract class A
    abstract class B : A
    class C : B
    all can be serialized.
    a have known type attribute which calls a method that finds all the types in a directory that are subclass of A 
    the contract looks like:
    void test(A data)
    on the server side 
    when i try to cast data to A i get an cast execption.
    when i try to cast the class without w c f it work",1
6458221,06/23/2011 17:32:46,124110,06/17/2009 06:06:32,494,13,Creating a WCF service using http,"I'm trying to simulate an existing API and I would love to get some help. 

How can I create a WCF service that will respond to:  
http://www.something.com/dothis?param1=x&param2=y  
and will run the function ""dothis"" with the given parameters' values?  
Afterwards, it needs to return an XML response.

I looked it up but I would love to get some directions, links or better search terms.

Thanks!
",wcf,c#-4.0,,,,,open,0,65,6,"Creating a WCF service using http I'm trying to simulate an existing API and I would love to get some help. 

How can I create a WCF service that will respond to:  
http://www.something.com/dothis?param1=x&param2=y  
and will run the function ""dothis"" with the given parameters' values?  
Afterwards, it needs to return an XML response.

I looked it up but I would love to get some directions, links or better search terms.

Thanks!
",2
5896906,05/05/2011 11:24:38,91617,04/16/2009 12:55:17,334,13,Running Oracle on Windows 2008 R2 64-bits and WCF,"I'm trying to deploy to a Windows 2008 R2 64-Bits server running AppFabric a WCF 4.0 service that connects to an Oracle 10gR2 database. On my Windows 7 64-Bits, inside Visual Studio 2010, everything goes well.
I first started using Oracle ODP.NET and, on deploy, I started getting the:

    System.IO.FileNotFoundException: Could not load file or assembly 'Oracle.DataAccess, Version=2.112.2.0, Culture=neutral, PublicKeyToken=89b483f429c47342' or one of its dependencies. The system cannot find the file specified.
    File name: 'Oracle.DataAccess, Version=2.112.2.0, Culture=neutral, PublicKeyToken=89b483f429c47342'

I tried so many things, and nothing seemed to work, and since I'm kinna desperate to get this working, and went to OracleClient, despite the fact that it's marked as deprecated, just to get this working, and buy me time. I removed everything I had installed, but installed just the win64_11gR2_client.zip, with the runtime option. However, than I started getting:

    System.DllNotFoundException: Unable to load DLL 'oramts.dll': The specified module could not be found. (Exception from HRESULT: 0x8007007E)

So I reinstalled the win64_11gR2_client.zip, adding the Oracle Services for Microsoft Transaction Server component. But then, whenever I made a call to my WCF service, IIS would crash with the error below:

    Faulting application name: w3wp.exe, version: 7.5.7601.17514, time stamp: 0x4ce7afa2
    Faulting module name: ntdll.dll, version: 6.1.7601.17514, time stamp: 0x4ce7c8f9
    Exception code: 0xc0000374
    Fault offset: 0x00000000000c40f2
    Faulting process id: 0xb28
    Faulting application start time: 0x01cc0b141a857fac
    Faulting application path: c:\windows\system32\inetsrv\w3wp.exe
    Faulting module path: C:\Windows\SYSTEM32\ntdll.dll
    Report Id: 7630c4b0-7707-11e0-8419-00155d010609

If I tried to change the AppPool to enable 32-bits application, the WSDL doesn't even get generated, and I get the:

    A process serving application pool 'MyAppPool' suffered a fatal communication error with the Windows Process Activation Service. The process id was '2856'. The data field contains the error number.

I'm lost, and I don't know what to do. How can it be this hard to do a ""simple"" and typical Oracle set up? What problem would I try to solve? Does anyone know of a blog post that would show how to correctly set this up? I tried looking, but coudln't find anything, and I'm sure I'm not the only one with this problem <br/> 
Well, any help would be really appreciated. Tks so much",wcf,oracle,iis7,windows64,,,open,0,391,9,"Running Oracle on Windows 2008 R2 64-bits and WCF I'm trying to deploy to a Windows 2008 R2 64-Bits server running AppFabric a WCF 4.0 service that connects to an Oracle 10gR2 database. On my Windows 7 64-Bits, inside Visual Studio 2010, everything goes well.
I first started using Oracle ODP.NET and, on deploy, I started getting the:

    System.IO.FileNotFoundException: Could not load file or assembly 'Oracle.DataAccess, Version=2.112.2.0, Culture=neutral, PublicKeyToken=89b483f429c47342' or one of its dependencies. The system cannot find the file specified.
    File name: 'Oracle.DataAccess, Version=2.112.2.0, Culture=neutral, PublicKeyToken=89b483f429c47342'

I tried so many things, and nothing seemed to work, and since I'm kinna desperate to get this working, and went to OracleClient, despite the fact that it's marked as deprecated, just to get this working, and buy me time. I removed everything I had installed, but installed just the win64_11gR2_client.zip, with the runtime option. However, than I started getting:

    System.DllNotFoundException: Unable to load DLL 'oramts.dll': The specified module could not be found. (Exception from HRESULT: 0x8007007E)

So I reinstalled the win64_11gR2_client.zip, adding the Oracle Services for Microsoft Transaction Server component. But then, whenever I made a call to my WCF service, IIS would crash with the error below:

    Faulting application name: w3wp.exe, version: 7.5.7601.17514, time stamp: 0x4ce7afa2
    Faulting module name: ntdll.dll, version: 6.1.7601.17514, time stamp: 0x4ce7c8f9
    Exception code: 0xc0000374
    Fault offset: 0x00000000000c40f2
    Faulting process id: 0xb28
    Faulting application start time: 0x01cc0b141a857fac
    Faulting application path: c:\windows\system32\inetsrv\w3wp.exe
    Faulting module path: C:\Windows\SYSTEM32\ntdll.dll
    Report Id: 7630c4b0-7707-11e0-8419-00155d010609

If I tried to change the AppPool to enable 32-bits application, the WSDL doesn't even get generated, and I get the:

    A process serving application pool 'MyAppPool' suffered a fatal communication error with the Windows Process Activation Service. The process id was '2856'. The data field contains the error number.

I'm lost, and I don't know what to do. How can it be this hard to do a ""simple"" and typical Oracle set up? What problem would I try to solve? Does anyone know of a blog post that would show how to correctly set this up? I tried looking, but coudln't find anything, and I'm sure I'm not the only one with this problem <br/> 
Well, any help would be really appreciated. Tks so much",4
5624361,04/11/2011 16:21:31,449056,09/16/2010 02:33:27,46,3,Optimizing wcf service in IIS,"I am hosting a ASP.NET web site containing a wcf web service in IIS 7. The web service is exposed using a .svc file that resides inside the web site's virtual directory. 

There's section is this document about optimizing the web service performance by removing unnecessary http modules:

http://msdn.microsoft.com/en-us/library/ee377061(v=bts.10).aspx

My question is how can I do that in the web config without affecting the web site? My ASP.NET web site contains authentication stuff and definitely requires some of those modules (eg, FormsAuthentication). Is there a way to enable those modules only for the web site but disable them when the clients access the web service?

Thanks",wcf,,,,,,open,0,103,5,"Optimizing wcf service in IIS I am hosting a ASP.NET web site containing a wcf web service in IIS 7. The web service is exposed using a .svc file that resides inside the web site's virtual directory. 

There's section is this document about optimizing the web service performance by removing unnecessary http modules:

http://msdn.microsoft.com/en-us/library/ee377061(v=bts.10).aspx

My question is how can I do that in the web config without affecting the web site? My ASP.NET web site contains authentication stuff and definitely requires some of those modules (eg, FormsAuthentication). Is there a way to enable those modules only for the web site but disable them when the clients access the web service?

Thanks",1
8404996,12/06/2011 18:37:58,549090,12/20/2010 19:38:41,17,1,Service Oriented Architecture (SOA) Reference,"There are a lot of SOA books out there. It makes me confused which one to read!

I need the book to cover the design and technical parts, as well as the high level aspects.

I am looking for the best practices on the common enterprise design patterns used with SOA. Right now, I am more involved with WCF services.   

Any recommendations? ",wcf,design-patterns,soa,,,12/06/2011 19:27:28,off topic,1,63,5,"Service Oriented Architecture (SOA) Reference There are a lot of SOA books out there. It makes me confused which one to read!

I need the book to cover the design and technical parts, as well as the high level aspects.

I am looking for the best practices on the common enterprise design patterns used with SOA. Right now, I am more involved with WCF services.   

Any recommendations? ",3
3416846,08/05/2010 16:19:27,412171,08/05/2010 16:17:20,1,0,What is the best way to learn WCF?,Are there good books for learning WCF in C#?  What do you recommend and why?,wcf,,,,,04/20/2012 00:58:50,not constructive,1,16,8,What is the best way to learn WCF? Are there good books for learning WCF in C#?  What do you recommend and why?,1
1332009,08/26/2009 02:04:05,92735,04/19/2009 11:47:26,730,5,Would WCF client work over USB in compact framework?,"Would WCF work through normal USB connection or does it require WIFI when using the Mobile Device as a WCF client to a WCF service running on the PC?
Thanks
",wcf,usb,compact-framework,,,,open,0,29,9,"Would WCF client work over USB in compact framework? Would WCF work through normal USB connection or does it require WIFI when using the Mobile Device as a WCF client to a WCF service running on the PC?
Thanks
",3
530731,02/10/2009 01:04:26,37494,11/13/2008 21:59:08,1714,127,Anyone encountered WCF Faulted State Exception,"I am getting this exception 

> ""The communication object,
> System.ServiceModel.Channels.ServiceChannel,
> cannot be used for communication
> because it is in the Faulted state""

The WCF service uses the default wsHttpBinding. I am using WCF in the following way wherever I am using it -

    using (var proxy = new CAGDashboardServiceClient())
                {
                    proxy.Open();
                    var result = proxy.GetSiteForRegion(ddlRegions.SelectedValue);
                    ddlSites.DataSource = result;
                    ddlSites.DataBind();
                    proxy.Close();
                }

The error line shown in the message seems to be after last proxy.close. Not sure what is going on. I am launching the service from within visual studio 08.

Here is the trace information

    The communication object, System.ServiceModel.Channels.ServiceChannel, cannot be used for communication because it is in the Faulted state.
    
    Server stack trace: 
      at System.ServiceModel.Channels.CommunicationObject.Close(TimeSpan timeout)
    
    Exception rethrown at [0]: 
      at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
      at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
      at System.ServiceModel.ICommunicationObject.Close(TimeSpan timeout)
      at System.ServiceModel.ClientBase`1.System.ServiceModel.ICommunicationObject.Close(TimeSpan timeout)
      at System.ServiceModel.ClientBase`1.Close()
      at System.ServiceModel.ClientBase`1.System.IDisposable.Dispose()
      at CAGDashboard.UserControls.ucVolunteerCRUDGrid.ddlRegions_SelectedIndexChanged(Object sender, EventArgs e) in C:\Documents and Settings\rballalx\My Documents\Visual Studio 2008\Projects\DashboardCAG\CAGDashboard\UserControls\ucVolunteerCRUDGrid.ascx.cs:line 81
      at System.Web.UI.WebControls.ListControl.OnSelectedIndexChanged(EventArgs e)
      at System.Web.UI.WebControls.DropDownList.RaisePostDataChangedEvent()
      at System.Web.UI.WebControls.DropDownList.System.Web.UI.IPostBackDataHandler.RaisePostDataChangedEvent()
      at System.Web.UI.Page.RaiseChangedEvents()
      at System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint)",wcf,exception,wcf-client,,,,open,0,377,6,"Anyone encountered WCF Faulted State Exception I am getting this exception 

> ""The communication object,
> System.ServiceModel.Channels.ServiceChannel,
> cannot be used for communication
> because it is in the Faulted state""

The WCF service uses the default wsHttpBinding. I am using WCF in the following way wherever I am using it -

    using (var proxy = new CAGDashboardServiceClient())
                {
                    proxy.Open();
                    var result = proxy.GetSiteForRegion(ddlRegions.SelectedValue);
                    ddlSites.DataSource = result;
                    ddlSites.DataBind();
                    proxy.Close();
                }

The error line shown in the message seems to be after last proxy.close. Not sure what is going on. I am launching the service from within visual studio 08.

Here is the trace information

    The communication object, System.ServiceModel.Channels.ServiceChannel, cannot be used for communication because it is in the Faulted state.
    
    Server stack trace: 
      at System.ServiceModel.Channels.CommunicationObject.Close(TimeSpan timeout)
    
    Exception rethrown at [0]: 
      at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
      at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
      at System.ServiceModel.ICommunicationObject.Close(TimeSpan timeout)
      at System.ServiceModel.ClientBase`1.System.ServiceModel.ICommunicationObject.Close(TimeSpan timeout)
      at System.ServiceModel.ClientBase`1.Close()
      at System.ServiceModel.ClientBase`1.System.IDisposable.Dispose()
      at CAGDashboard.UserControls.ucVolunteerCRUDGrid.ddlRegions_SelectedIndexChanged(Object sender, EventArgs e) in C:\Documents and Settings\rballalx\My Documents\Visual Studio 2008\Projects\DashboardCAG\CAGDashboard\UserControls\ucVolunteerCRUDGrid.ascx.cs:line 81
      at System.Web.UI.WebControls.ListControl.OnSelectedIndexChanged(EventArgs e)
      at System.Web.UI.WebControls.DropDownList.RaisePostDataChangedEvent()
      at System.Web.UI.WebControls.DropDownList.System.Web.UI.IPostBackDataHandler.RaisePostDataChangedEvent()
      at System.Web.UI.Page.RaiseChangedEvents()
      at System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint)",3
1859079,12/07/2009 10:15:29,29947,10/21/2008 13:14:31,119,3,WCF - using multiple bindings including REST (WebHttpBinding) on one service library?,"I want to expose my application service layer to outside world for consumption using WCF Rest features in VS2010 Beta 2/.net 4. 

Also, the same services, I would like to consume using ASP.Net MVC application internally on net.tcp protocol (for faster performance).

So my question is, Can I use multiple bindings including REST (WebHttpBinding) and various different protocols on one service library?

Regards,

Ajay",wcf,rest,visual-studio-2010-beta-2,.net-4.0-beta-2,,,open,0,61,12,"WCF - using multiple bindings including REST (WebHttpBinding) on one service library? I want to expose my application service layer to outside world for consumption using WCF Rest features in VS2010 Beta 2/.net 4. 

Also, the same services, I would like to consume using ASP.Net MVC application internally on net.tcp protocol (for faster performance).

So my question is, Can I use multiple bindings including REST (WebHttpBinding) and various different protocols on one service library?

Regards,

Ajay",4
11182286,06/25/2012 00:29:10,665335,03/18/2011 01:05:50,784,9,Service / messaging design patterns /principles with .NET book recommendation,"I am interested in leaning design patterns/principles in SOA, ideally uisng .NET code sample to illustrate the concept.

Any idea would be appreciated. ",wcf,web-services,rest,soa,,06/25/2012 23:37:52,not a real question,1,23,10,"Service / messaging design patterns /principles with .NET book recommendation I am interested in leaning design patterns/principles in SOA, ideally uisng .NET code sample to illustrate the concept.

Any idea would be appreciated. ",4
6144924,05/26/2011 20:53:01,772039,05/26/2011 20:53:01,1,0,WCF: How to Get Original Context when Client Disconnects/Faults,"I have a request-reply service method that processes a transaction against the database and returns a response message with a transaction id.  It is possible for a client to unexpectedly disconnect/fault before it receives the response, in which case the service will get a channel_faulted event.  My question is, how can I get the original transaction id (that was in the outgoing response) in the channel_faulted event, in order to rollback/reverse that transaction that the client did not receive?

Any help is appreciated.

Thanks.",wcf,,,,,,open,0,84,9,"WCF: How to Get Original Context when Client Disconnects/Faults I have a request-reply service method that processes a transaction against the database and returns a response message with a transaction id.  It is possible for a client to unexpectedly disconnect/fault before it receives the response, in which case the service will get a channel_faulted event.  My question is, how can I get the original transaction id (that was in the outgoing response) in the channel_faulted event, in order to rollback/reverse that transaction that the client did not receive?

Any help is appreciated.

Thanks.",1
3023629,06/11/2010 14:32:15,322201,04/21/2010 11:06:12,47,7,WCF Data Services access issues - 403 forbidden?,"I have Silverlight 4.0 client calling WCF data service, in the service I have write allow to all (I know that is not very wise, but I want to test it first):

    public static void InitializeService(DataServiceConfiguration config)
    {
      // TODO: set rules to indicate which entity sets and service operations are visible, updatable, etc.
      // Examples:
      config.SetEntitySetAccessRule(""*"", EntitySetRights.All);
      config.SetServiceOperationAccessRule(""*"", ServiceOperationRights.All);
      config.DataServiceBehavior.MaxProtocolVersion = DataServiceProtocolVersion.V2;
      config.UseVerboseErrors = true;
    
    }

when I call the service from the client using BeginSaveChanges like this:

    MyServiceEntity.BeginSaveChanges(SaveChangesOptions.Batch, OnChangesSaved, MyServiceEntity);

I receive forbidden error:

    --batchresponse_a7bc1f95-8f8d-4e3b-9e24-108743499c3a
    Content-Type: multipart/mixed; boundary=changesetresponse_04a92dd2-1fe4-4da5-8d2e-e020fe354f8f
    
    --changesetresponse_04a92dd2-1fe4-4da5-8d2e-e020fe354f8f
    Content-Type: application/http
    Content-Transfer-Encoding: binary
    
    HTTP/1.1 403 Forbidden
    Content-ID: 1
    DataServiceVersion: 1.0;
    Content-Type: application/xml
    
    <?xml version=""1.0"" encoding=""utf-8"" standalone=""yes""?>
    <error xmlns=""http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"">
     <code></code>
     <message xml:lang=""en-US"">Forbidden</message>
    </error>
    --changesetresponse_04a92dd2-1fe4-4da5-8d2e-e020fe354f8f--
    --batchresponse_a7bc1f95-8f8d-4e3b-9e24-108743499c3a--

And Batch operation response code is 202, whatever this is supposed to mean.

Any help is appreciated.

cheers

Valko



",wcf,data,service,,,,open,0,237,8,"WCF Data Services access issues - 403 forbidden? I have Silverlight 4.0 client calling WCF data service, in the service I have write allow to all (I know that is not very wise, but I want to test it first):

    public static void InitializeService(DataServiceConfiguration config)
    {
      // TODO: set rules to indicate which entity sets and service operations are visible, updatable, etc.
      // Examples:
      config.SetEntitySetAccessRule(""*"", EntitySetRights.All);
      config.SetServiceOperationAccessRule(""*"", ServiceOperationRights.All);
      config.DataServiceBehavior.MaxProtocolVersion = DataServiceProtocolVersion.V2;
      config.UseVerboseErrors = true;
    
    }

when I call the service from the client using BeginSaveChanges like this:

    MyServiceEntity.BeginSaveChanges(SaveChangesOptions.Batch, OnChangesSaved, MyServiceEntity);

I receive forbidden error:

    --batchresponse_a7bc1f95-8f8d-4e3b-9e24-108743499c3a
    Content-Type: multipart/mixed; boundary=changesetresponse_04a92dd2-1fe4-4da5-8d2e-e020fe354f8f
    
    --changesetresponse_04a92dd2-1fe4-4da5-8d2e-e020fe354f8f
    Content-Type: application/http
    Content-Transfer-Encoding: binary
    
    HTTP/1.1 403 Forbidden
    Content-ID: 1
    DataServiceVersion: 1.0;
    Content-Type: application/xml
    
    <?xml version=""1.0"" encoding=""utf-8"" standalone=""yes""?>
    <error xmlns=""http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"">
     <code></code>
     <message xml:lang=""en-US"">Forbidden</message>
    </error>
    --changesetresponse_04a92dd2-1fe4-4da5-8d2e-e020fe354f8f--
    --batchresponse_a7bc1f95-8f8d-4e3b-9e24-108743499c3a--

And Batch operation response code is 202, whatever this is supposed to mean.

Any help is appreciated.

cheers

Valko



",3
1321272,08/24/2009 09:11:48,68287,02/19/2009 09:43:26,298,0,"What is client base class , how to use it?","I am just curious to know that what is ClientBase<T> class in WCF, and how can i use it.
I surfed the internet and i found that this class is used to create proxies to call service methods , but no example.
Please anyone explain it with example , it will help me undestand this class...
",wcf,,,,,,open,0,54,10,"What is client base class , how to use it? I am just curious to know that what is ClientBase<T> class in WCF, and how can i use it.
I surfed the internet and i found that this class is used to create proxies to call service methods , but no example.
Please anyone explain it with example , it will help me undestand this class...
",1
1274204,08/13/2009 19:54:03,91313,04/15/2009 21:02:56,144,1,.SVC file in VS2005,How do I add a WCF Service in VS2005?,wcf,,,,,,open,0,9,4,.SVC file in VS2005 How do I add a WCF Service in VS2005?,1
589520,02/26/2009 07:30:20,11619,09/16/2008 09:32:46,887,72,Passing data from a jquery ajax request to a wcf service fails deserialization?,"I use the following code to call a wcf service. If i call a (test) method that takes no parameters, but returns a string it works fine. If i add a parameter to my method i get a wierd error:

> {""ExceptionDetail"":{""HelpLink"":null,""InnerException"":null,""Message"":""The token '\""' was expected but found '''."",""StackTrace"":"" at System.Xml.XmlExceptionHelper.ThrowXmlException(XmlDictionaryReader reader, String res, String arg1, String arg2, String arg3)\u000d\u000a at System.Xml.XmlExceptionHelper.ThrowTokenExpected(XmlDictionaryReader reader, String expected, Char found)\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.ParseStartElement()\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.Read()\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBodyCore(XmlDictionaryReader reader, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBody(XmlDictionaryReader reader, MessageVersion version, String action, MessageDescription messageDescription, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeBodyContents(Message message, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DemultiplexingDispatchMessageFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.UriTemplateDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.CompositeDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.DeserializeInputs(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)"",""Type"":""System.Xml.XmlException""},""ExceptionType"":""System.Xml.XmlException"",""Message"":""The token '\""' was expected but found '''."",""StackTrace"":"" at System.Xml.XmlExceptionHelper.ThrowXmlException(XmlDictionaryReader reader, String res, String arg1, String arg2, String arg3)\u000d\u000a at System.Xml.XmlExceptionHelper.ThrowTokenExpected(XmlDictionaryReader reader, String expected, Char found)\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.ParseStartElement()\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.Read()\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBodyCore(XmlDictionaryReader reader, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBody(XmlDictionaryReader reader, MessageVersion version, String action, MessageDescription messageDescription, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeBodyContents(Message message, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DemultiplexingDispatchMessageFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.UriTemplateDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.CompositeDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.DeserializeInputs(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)""}

My jquery looks like this, but i tried changing the actual data which i send as a string serialized json (as you can see) to a pure json object with the same sad result.


    $.ajax({
        type: ""POST"",
        contentType: ""application/json; charset=utf-8"",
        url: ""ajax/Statistics.svc/Get7DaysStatistics"",
        dataType: ""json"",
        data: ""{'customerId': '2'}"",
        timeout: 10000,
        success: function(obj) { updateStatistics(obj.d); },
        error: function(xhr) {
            if (xhr.responseText)          
                $(""body"").html(xhr.responseText);
            else
                alert('unknown error');
            return;
        }
    });

The wcf service looks like this:

        [SuppressMessage(""Microsoft.Performance"", ""CA1822:MarkMembersAsStatic""), OperationContract]
        public string Get7DaysStatistics(string customerId)
        {
            Debug.WriteLine(customerId);
            return ""Test done"";
        }

It's placed in a a class with the following attributes:

    [ServiceContract(Namespace = """")]
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]

I won't list the configuration in the web.config to keep this long message ""short"" but i can post it if anybody thinks they can use it - i just want to stress that i CAN call a method and get a result - string or even a json object i can read from as long as i DON'T pass any data to the wcf service.",wcf,json,jquery,,,,open,0,601,13,"Passing data from a jquery ajax request to a wcf service fails deserialization? I use the following code to call a wcf service. If i call a (test) method that takes no parameters, but returns a string it works fine. If i add a parameter to my method i get a wierd error:

> {""ExceptionDetail"":{""HelpLink"":null,""InnerException"":null,""Message"":""The token '\""' was expected but found '''."",""StackTrace"":"" at System.Xml.XmlExceptionHelper.ThrowXmlException(XmlDictionaryReader reader, String res, String arg1, String arg2, String arg3)\u000d\u000a at System.Xml.XmlExceptionHelper.ThrowTokenExpected(XmlDictionaryReader reader, String expected, Char found)\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.ParseStartElement()\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.Read()\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBodyCore(XmlDictionaryReader reader, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBody(XmlDictionaryReader reader, MessageVersion version, String action, MessageDescription messageDescription, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeBodyContents(Message message, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DemultiplexingDispatchMessageFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.UriTemplateDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.CompositeDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.DeserializeInputs(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)"",""Type"":""System.Xml.XmlException""},""ExceptionType"":""System.Xml.XmlException"",""Message"":""The token '\""' was expected but found '''."",""StackTrace"":"" at System.Xml.XmlExceptionHelper.ThrowXmlException(XmlDictionaryReader reader, String res, String arg1, String arg2, String arg3)\u000d\u000a at System.Xml.XmlExceptionHelper.ThrowTokenExpected(XmlDictionaryReader reader, String expected, Char found)\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.ParseStartElement()\u000d\u000a at System.Runtime.Serialization.Json.XmlJsonReader.Read()\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBodyCore(XmlDictionaryReader reader, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationFormatter.DeserializeBody(XmlDictionaryReader reader, MessageVersion version, String action, MessageDescription messageDescription, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeBodyContents(Message message, Object[] parameters, Boolean isRequest)\u000d\u000a at System.ServiceModel.Dispatcher.OperationFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DemultiplexingDispatchMessageFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.UriTemplateDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.CompositeDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.DeserializeInputs(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)\u000d\u000a at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)""}

My jquery looks like this, but i tried changing the actual data which i send as a string serialized json (as you can see) to a pure json object with the same sad result.


    $.ajax({
        type: ""POST"",
        contentType: ""application/json; charset=utf-8"",
        url: ""ajax/Statistics.svc/Get7DaysStatistics"",
        dataType: ""json"",
        data: ""{'customerId': '2'}"",
        timeout: 10000,
        success: function(obj) { updateStatistics(obj.d); },
        error: function(xhr) {
            if (xhr.responseText)          
                $(""body"").html(xhr.responseText);
            else
                alert('unknown error');
            return;
        }
    });

The wcf service looks like this:

        [SuppressMessage(""Microsoft.Performance"", ""CA1822:MarkMembersAsStatic""), OperationContract]
        public string Get7DaysStatistics(string customerId)
        {
            Debug.WriteLine(customerId);
            return ""Test done"";
        }

It's placed in a a class with the following attributes:

    [ServiceContract(Namespace = """")]
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]

I won't list the configuration in the web.config to keep this long message ""short"" but i can post it if anybody thinks they can use it - i just want to stress that i CAN call a method and get a result - string or even a json object i can read from as long as i DON'T pass any data to the wcf service.",3
11128043,06/20/2012 20:53:51,912875,08/25/2011 19:44:59,51,5,Acord Standard for Insurance. Has anybody dealt with this mess?,"We need to implement a WCF Webservice using the Acord Standard 

http://www.acord.org/standards/downloads/Pages/PCSSpecsPublic.aspx

Thing is that i don't know where to start with this since this standard is HUMONGOUS and very convoluted. A total chaos to my eyes.

I am trying to use WSCF.Blue to extract the classes from the multiple XSD i have but so far all i get is a bunch of crap. a 50,000+ lines of code .cs file that freezes my VS2010 all the time.

has anybody walked already thru the Valley of Death (Acord Standard) and made it? I really would appreciate some help. 

Thanks. ",wcf,xsd,,,,,open,0,97,10,"Acord Standard for Insurance. Has anybody dealt with this mess? We need to implement a WCF Webservice using the Acord Standard 

http://www.acord.org/standards/downloads/Pages/PCSSpecsPublic.aspx

Thing is that i don't know where to start with this since this standard is HUMONGOUS and very convoluted. A total chaos to my eyes.

I am trying to use WSCF.Blue to extract the classes from the multiple XSD i have but so far all i get is a bunch of crap. a 50,000+ lines of code .cs file that freezes my VS2010 all the time.

has anybody walked already thru the Valley of Death (Acord Standard) and made it? I really would appreciate some help. 

Thanks. ",2
2234669,02/10/2010 05:35:16,268637,02/08/2010 12:18:59,1,1,How to Change WCF Service endpoints?,"i having more than Three web services,
In that one is master site,and Others are client sites.

In My User Interface One Text box is Available ,In that text box i need to give Destination End Point address
from that Text box Value i need call the Client Service. 

for Example:

Client1 end point Service Name:

                     http://localhost:1524/WebServiceService.svc"" 

Client2  end point Service Name:

By

Rajagopalk

                     http://localhost:8085/WebServiceService.svc"" 

if i give **""localhost:1524""** in Text box Client1 Service will call,
if i give **""localhost:8085""** in Text box Client2 Service will call,",wcf,,,,,,open,0,121,6,"How to Change WCF Service endpoints? i having more than Three web services,
In that one is master site,and Others are client sites.

In My User Interface One Text box is Available ,In that text box i need to give Destination End Point address
from that Text box Value i need call the Client Service. 

for Example:

Client1 end point Service Name:

                     http://localhost:1524/WebServiceService.svc"" 

Client2  end point Service Name:

By

Rajagopalk

                     http://localhost:8085/WebServiceService.svc"" 

if i give **""localhost:1524""** in Text box Client1 Service will call,
if i give **""localhost:8085""** in Text box Client2 Service will call,",1
8757736,01/06/2012 12:22:18,697476,04/07/2011 19:32:12,11,0,Unable to get trace file for WCF service \ svcutil,"I'm unable to get trace log file for WCF service on server. The file simply doesn't appear after I call the service.
I have no problem to get it on client with same configuration.

I'm using windows Windows Web Server 2008 R2, .net 4.0 and the service is hosted in IIS 

My Config file:

        <?xml version=""1.0""?>
    <configuration>
       <system.diagnostics>
            <sources>
                <source name=""System.ServiceModel.MessageLogging"" switchValue=""Warning, ActivityTracing"">
                    <listeners>
                        <add type=""System.Diagnostics.DefaultTraceListener"" name=""Default"">
                            <filter type="""" />
                        </add>
                        <add name=""ServiceModelMessageLoggingListener"">
                            <filter type="""" />
                        </add>
                    </listeners>
                </source>
                <source name=""System.ServiceModel"" switchValue=""Warning, ActivityTracing""
                    propagateActivity=""true"">
                    <listeners>
                        <add type=""System.Diagnostics.DefaultTraceListener"" name=""Default"">
                            <filter type="""" />
                        </add>
                        <add name=""ServiceModelTraceListener"">
                            <filter type="""" />
                        </add>
                    </listeners>
                </source>
            </sources>
            <sharedListeners>
                <add initializeData=""C:\messages.svclog"" type=""System.Diagnostics.XmlWriterTraceListener, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""
                    name=""ServiceModelMessageLoggingListener"" traceOutputOptions=""Timestamp"">
                    <filter type="""" />
                </add>
                <add initializeData=""C:\tracelog.svclog"" type=""System.Diagnostics.XmlWriterTraceListener, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""
                    name=""ServiceModelTraceListener"" traceOutputOptions=""Timestamp"">
                    <filter type="""" />
                </add>
            </sharedListeners>
            <trace autoflush=""true"" />
        </system.diagnostics>
      <system.serviceModel>
        <diagnostics wmiProviderEnabled=""true"">
          <messageLogging logEntireMessage=""true"" logMalformedMessages=""true""
            logMessagesAtTransportLevel=""true"" />
        </diagnostics>
        <behaviors>
          <endpointBehaviors>
            <behavior name=""Beh"">
              <dataContractSerializer maxItemsInObjectGraph=""10000000""/>
              <enableWebScript />
            </behavior>
          </endpointBehaviors>
          <serviceBehaviors>
            <behavior name=""ServiceBehavior"">
              <serviceMetadata httpsGetEnabled=""true"" />
              <serviceDebug includeExceptionDetailInFaults=""true"" />
              <dataContractSerializer maxItemsInObjectGraph=""2147483647""/>
            </behavior>
          </serviceBehaviors>
        </behaviors>
        <bindings>
          <webHttpBinding>
            <binding name=""WebBinding"" closeTimeout=""00:10:00"" openTimeout=""00:10:00""
              sendTimeout=""00:10:00"" maxBufferSize=""655360000"" maxBufferPoolSize=""524288000""
              maxReceivedMessageSize=""655360000"">
              <readerQuotas maxDepth=""500000000"" maxStringContentLength=""500000000""
                maxArrayLength=""500000000"" maxBytesPerRead=""500000000"" maxNameTableCharCount=""500000000"" />
              <security mode=""Transport"" />
            </binding>
          </webHttpBinding>
        </bindings>
        <services>
          <service behaviorConfiguration=""ServiceBehavior"" name=""WcfService1.PleasureKraftService"">
            <clear />
            <endpoint behaviorConfiguration=""Beh"" binding=""webHttpBinding""
              bindingConfiguration=""WebBinding"" name=""Basic"" contract=""WcfService1.IMyService""
              listenUriMode=""Explicit"">
              <identity>
                <dns value=""localhost"" />
              </identity>
            </endpoint>
            <endpoint address=""mex"" binding=""mexHttpsBinding"" contract=""WcfService1.IMyService"" />
          </service>
        </services>
        <serviceHostingEnvironment multipleSiteBindingsEnabled=""true""/>
      </system.serviceModel>
      <system.web>
        <compilation debug=""false""/>
    <httpRuntime maxRequestLength=""52428800"" />
      </system.web>
      <connectionStrings>
        <add name=""Ent"" connectionString=""metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=xxxxxx;Initial Catalog=Eu;User ID=xxxx;Password=xxxx;MultipleActiveResultSets=True&quot;"" providerName=""System.Data.EntityClient""/>
      </connectionStrings>
    </configuration>",wcf,svcutil.exe,,,,,open,0,1410,10,"Unable to get trace file for WCF service \ svcutil I'm unable to get trace log file for WCF service on server. The file simply doesn't appear after I call the service.
I have no problem to get it on client with same configuration.

I'm using windows Windows Web Server 2008 R2, .net 4.0 and the service is hosted in IIS 

My Config file:

        <?xml version=""1.0""?>
    <configuration>
       <system.diagnostics>
            <sources>
                <source name=""System.ServiceModel.MessageLogging"" switchValue=""Warning, ActivityTracing"">
                    <listeners>
                        <add type=""System.Diagnostics.DefaultTraceListener"" name=""Default"">
                            <filter type="""" />
                        </add>
                        <add name=""ServiceModelMessageLoggingListener"">
                            <filter type="""" />
                        </add>
                    </listeners>
                </source>
                <source name=""System.ServiceModel"" switchValue=""Warning, ActivityTracing""
                    propagateActivity=""true"">
                    <listeners>
                        <add type=""System.Diagnostics.DefaultTraceListener"" name=""Default"">
                            <filter type="""" />
                        </add>
                        <add name=""ServiceModelTraceListener"">
                            <filter type="""" />
                        </add>
                    </listeners>
                </source>
            </sources>
            <sharedListeners>
                <add initializeData=""C:\messages.svclog"" type=""System.Diagnostics.XmlWriterTraceListener, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""
                    name=""ServiceModelMessageLoggingListener"" traceOutputOptions=""Timestamp"">
                    <filter type="""" />
                </add>
                <add initializeData=""C:\tracelog.svclog"" type=""System.Diagnostics.XmlWriterTraceListener, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""
                    name=""ServiceModelTraceListener"" traceOutputOptions=""Timestamp"">
                    <filter type="""" />
                </add>
            </sharedListeners>
            <trace autoflush=""true"" />
        </system.diagnostics>
      <system.serviceModel>
        <diagnostics wmiProviderEnabled=""true"">
          <messageLogging logEntireMessage=""true"" logMalformedMessages=""true""
            logMessagesAtTransportLevel=""true"" />
        </diagnostics>
        <behaviors>
          <endpointBehaviors>
            <behavior name=""Beh"">
              <dataContractSerializer maxItemsInObjectGraph=""10000000""/>
              <enableWebScript />
            </behavior>
          </endpointBehaviors>
          <serviceBehaviors>
            <behavior name=""ServiceBehavior"">
              <serviceMetadata httpsGetEnabled=""true"" />
              <serviceDebug includeExceptionDetailInFaults=""true"" />
              <dataContractSerializer maxItemsInObjectGraph=""2147483647""/>
            </behavior>
          </serviceBehaviors>
        </behaviors>
        <bindings>
          <webHttpBinding>
            <binding name=""WebBinding"" closeTimeout=""00:10:00"" openTimeout=""00:10:00""
              sendTimeout=""00:10:00"" maxBufferSize=""655360000"" maxBufferPoolSize=""524288000""
              maxReceivedMessageSize=""655360000"">
              <readerQuotas maxDepth=""500000000"" maxStringContentLength=""500000000""
                maxArrayLength=""500000000"" maxBytesPerRead=""500000000"" maxNameTableCharCount=""500000000"" />
              <security mode=""Transport"" />
            </binding>
          </webHttpBinding>
        </bindings>
        <services>
          <service behaviorConfiguration=""ServiceBehavior"" name=""WcfService1.PleasureKraftService"">
            <clear />
            <endpoint behaviorConfiguration=""Beh"" binding=""webHttpBinding""
              bindingConfiguration=""WebBinding"" name=""Basic"" contract=""WcfService1.IMyService""
              listenUriMode=""Explicit"">
              <identity>
                <dns value=""localhost"" />
              </identity>
            </endpoint>
            <endpoint address=""mex"" binding=""mexHttpsBinding"" contract=""WcfService1.IMyService"" />
          </service>
        </services>
        <serviceHostingEnvironment multipleSiteBindingsEnabled=""true""/>
      </system.serviceModel>
      <system.web>
        <compilation debug=""false""/>
    <httpRuntime maxRequestLength=""52428800"" />
      </system.web>
      <connectionStrings>
        <add name=""Ent"" connectionString=""metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=xxxxxx;Initial Catalog=Eu;User ID=xxxx;Password=xxxx;MultipleActiveResultSets=True&quot;"" providerName=""System.Data.EntityClient""/>
      </connectionStrings>
    </configuration>",2
8950390,01/21/2012 03:20:49,248511,01/12/2010 00:55:32,306,30,NHIbernate IHttpModule and TransactionScope,"Just wondering what other's thoughts are on using a TransactionScope in an IHttpModule.
For example:

    //start new TransactionScope
    // start UOW
    // Begin UOW transaction
    // do some stuff...
    // commit UOW
    // commit transaction scope

Is it really a wise idea to hold the transactionscope open for the life of a http request?
I need to write to transactional MSMQ at the same time and have the need for the TransactionScope, but don't think it's the wisest idea.

... But I could be way off

Any advice?",wcf,nhibernate,msmq,transactionscope,,,open,0,101,4,"NHIbernate IHttpModule and TransactionScope Just wondering what other's thoughts are on using a TransactionScope in an IHttpModule.
For example:

    //start new TransactionScope
    // start UOW
    // Begin UOW transaction
    // do some stuff...
    // commit UOW
    // commit transaction scope

Is it really a wise idea to hold the transactionscope open for the life of a http request?
I need to write to transactional MSMQ at the same time and have the need for the TransactionScope, but don't think it's the wisest idea.

... But I could be way off

Any advice?",4
10000257,04/03/2012 19:46:56,590088,01/26/2011 03:53:49,534,10,what are the advantages of using msmq ?,"in a wcf game application  we where required to pass moves and dice roles over netmsmqbinding 
i'm trying to find a clear reason ( or excuse ) to why it is done over msmq .
what could be the advantages rather then just sending it over tcp ?

     the best i could come up with is that its reliable and asynchronous , it's a way to merly push messages to the other application with no regard to the processing 
     that is done on that message , it is considerd light weight and fast , it frees the communication channels from unwanted overhead 
     at the cost of resources that are used at the application level to process the messages while      decoupling it from the channel( decoupling  the processing from the channel  ) 

any other pointers on where to use msmq ?",wcf,msmq,netmsmqbinding,,,04/03/2012 19:49:47,not constructive,1,161,8,"what are the advantages of using msmq ? in a wcf game application  we where required to pass moves and dice roles over netmsmqbinding 
i'm trying to find a clear reason ( or excuse ) to why it is done over msmq .
what could be the advantages rather then just sending it over tcp ?

     the best i could come up with is that its reliable and asynchronous , it's a way to merly push messages to the other application with no regard to the processing 
     that is done on that message , it is considerd light weight and fast , it frees the communication channels from unwanted overhead 
     at the cost of resources that are used at the application level to process the messages while      decoupling it from the channel( decoupling  the processing from the channel  ) 

any other pointers on where to use msmq ?",3
7037423,08/12/2011 08:24:51,574308,01/13/2011 13:50:12,18,0,How to identify request from a mobile device,"I am making a wcf rest service which will be used from mobile devices. If the request is not from a mobile device, it will not be possible to access the service.

So I need to identify if the request is from android, iphone or windows mobile.

Is there any way that I can identify the request?? I tried to google it but did not get any suitable answer...!!",wcf,web-services,rest,,,,open,0,67,8,"How to identify request from a mobile device I am making a wcf rest service which will be used from mobile devices. If the request is not from a mobile device, it will not be possible to access the service.

So I need to identify if the request is from android, iphone or windows mobile.

Is there any way that I can identify the request?? I tried to google it but did not get any suitable answer...!!",3
9387035,02/21/2012 23:38:03,1158428,01/19/2012 12:06:15,8,0,Custom validation on REST webservices,"I am working on a service that is consumed by an application through REST. This application only recognizes the response in XML format. It's a very old type of application.

Because of the circumstances, I created a default class to comunicate with this application. I have a class MessageData with 4 properties:

Success (bool)
Message (string)
ReturnValue1 (string)
ReturnValue2 (string)

All requests made to my REST service will receive a serialized object (in XML format) of my MessageData class.

The problem is that I have to validate every parameter with an IF inside every method. I thought of using Enterprise Library to accomplish this task but my client does not recognize FaultException<ValidationFault>.

I need a way to return a instance of my class with Success attribute = false and Message filled with some warning about a null/empty parameter.

Is there a way to do this without having to write IF's inside my methods ?",wcf,validation,rest,,,,open,0,145,5,"Custom validation on REST webservices I am working on a service that is consumed by an application through REST. This application only recognizes the response in XML format. It's a very old type of application.

Because of the circumstances, I created a default class to comunicate with this application. I have a class MessageData with 4 properties:

Success (bool)
Message (string)
ReturnValue1 (string)
ReturnValue2 (string)

All requests made to my REST service will receive a serialized object (in XML format) of my MessageData class.

The problem is that I have to validate every parameter with an IF inside every method. I thought of using Enterprise Library to accomplish this task but my client does not recognize FaultException<ValidationFault>.

I need a way to return a instance of my class with Success attribute = false and Message filled with some warning about a null/empty parameter.

Is there a way to do this without having to write IF's inside my methods ?",3
4330310,12/01/2010 23:47:29,161457,08/23/2009 03:25:54,5195,322,Setting internal properties in composite WF4 Activities at design time,"I want to create a composite Windows Workflow Activity (under .NET 4) that contains a predefined ReceiveAndSendReply Activity. Some of the properties are predefined, but others (particularly ServiceContractName) need to be set in the designer.

I could implement this as an Activity Template (the same way ReceiveAndSendReply is implemented), but would rather not. If I later change the template, I'd have to update all previously created workflows manually. A template would also permit other developers to change properties that should be fixed.

Is there a way to do this from a Xaml Activity? I have not found a way to assign an Argument value to a property of an embedded Activity. If not, what technique would you suggest?",wcf,workflow-foundation,workflow-foundation-4,,,,open,0,116,10,"Setting internal properties in composite WF4 Activities at design time I want to create a composite Windows Workflow Activity (under .NET 4) that contains a predefined ReceiveAndSendReply Activity. Some of the properties are predefined, but others (particularly ServiceContractName) need to be set in the designer.

I could implement this as an Activity Template (the same way ReceiveAndSendReply is implemented), but would rather not. If I later change the template, I'd have to update all previously created workflows manually. A template would also permit other developers to change properties that should be fixed.

Is there a way to do this from a Xaml Activity? I have not found a way to assign an Argument value to a property of an embedded Activity. If not, what technique would you suggest?",3
1711952,11/10/2009 23:19:04,182120,09/30/2009 21:08:17,18,0,WCF DataContract with an abstract DataMember array,"I can't make this scenario work. Here's the pattern-

    [DataContract]
    /*abstract*/ class BaseT
    { ... }

    [DataContract]
    class ChildT : BaseT
    { ... }

    [DataContract]
    class MessageContents
    {
        [DataMember]
        public BaseT[] XX; // Array of BaseT objects. I need WCF to somehow figure out that they're actually ChildT.
    }

    // ...receive a webHttp request of type MessageContents...
    
    // cast to use MessageContents.XX as a ChildT[] instead of a BaseT[]
    ConcreteClass[] QQ = (ConcreteClass[])request.xx;

I've tried annotating practically everything with KnownType or KnownServiceType to no avail.

If I make BaseT abstract, I get a deserialization error 'cannot instance abstract class'. If I make BaseT concrete, I don't get a deserialization error. Instead, when I go to cast it to ChildT, I'm getting ""unable to cast object of type 'BaseT[]' to type 'ChildT[]'"".",wcf,serialization,inheritance,abstract,datacontract,,open,0,186,7,"WCF DataContract with an abstract DataMember array I can't make this scenario work. Here's the pattern-

    [DataContract]
    /*abstract*/ class BaseT
    { ... }

    [DataContract]
    class ChildT : BaseT
    { ... }

    [DataContract]
    class MessageContents
    {
        [DataMember]
        public BaseT[] XX; // Array of BaseT objects. I need WCF to somehow figure out that they're actually ChildT.
    }

    // ...receive a webHttp request of type MessageContents...
    
    // cast to use MessageContents.XX as a ChildT[] instead of a BaseT[]
    ConcreteClass[] QQ = (ConcreteClass[])request.xx;

I've tried annotating practically everything with KnownType or KnownServiceType to no avail.

If I make BaseT abstract, I get a deserialization error 'cannot instance abstract class'. If I make BaseT concrete, I don't get a deserialization error. Instead, when I go to cast it to ChildT, I'm getting ""unable to cast object of type 'BaseT[]' to type 'ChildT[]'"".",5
8570540,12/20/2011 03:45:07,1107086,12/20/2011 03:38:24,1,0,Datapower integration with WCF,"I am trying to inegrate Datapower with WCF. I am new to Datapower, so can anyone provide few good links for datapower integration with wcf ?",wcf,ibm-datapower,,,,12/20/2011 10:59:47,not a real question,1,26,4,"Datapower integration with WCF I am trying to inegrate Datapower with WCF. I am new to Datapower, so can anyone provide few good links for datapower integration with wcf ?",2
6932524,08/03/2011 20:01:07,175679,09/18/2009 17:54:32,98,11,What do you think is the most beautiful thing about WCF?,"Does WCF make your life easier or harder? Do you think it's beautiful in nature or should you avoid its ugliness like the plague?

+ I like the idea of supporting REST + SOAP interfaces with <s>simple</s> binding configurations (*ala webHttpEndpoint / basicHttpBinding*). I do miss the ASMX days, but SVC seems like it's here to stay. 

+ WCF + MVC are also great combination to build host factories and custom service routing (*ala ServiceHostFactory / WebServiceHostFactory*).

What are your likes / dislikes?",wcf,wcf-binding,wcf-client,wcf-behaviour,,08/04/2011 04:16:21,not constructive,1,81,11,"What do you think is the most beautiful thing about WCF? Does WCF make your life easier or harder? Do you think it's beautiful in nature or should you avoid its ugliness like the plague?

+ I like the idea of supporting REST + SOAP interfaces with <s>simple</s> binding configurations (*ala webHttpEndpoint / basicHttpBinding*). I do miss the ASMX days, but SVC seems like it's here to stay. 

+ WCF + MVC are also great combination to build host factories and custom service routing (*ala ServiceHostFactory / WebServiceHostFactory*).

What are your likes / dislikes?",4
10901972,06/05/2012 17:28:02,190084,10/14/2009 18:51:05,68,2,WCF Net.tcp service randomly faults,"I'm looking for help to debug why a seemingly simple net.tcp service is seemingly randomly faulting. There isn't a consistant time it faults, it just faults eventually. I've run this service in both a windows forms and a WPF application and behaves the same. Can anyone help me debug why it faults?

   

     using System;
        using System.Collections.Generic;
        using System.Linq;
        using System.Runtime.Serialization;
        using System.ServiceModel;
        using System.ServiceModel.Web;
        using System.Text;
    
    
        namespace WcfService1
        {
    
        [ServiceContract(CallbackContract = typeof(IClientCallBack))]
        interface IService
        {
            //The Alert Server Function called by the Client
            [OperationContract(IsOneWay = true)]
            void SubscribeToBeNotifiedServer(string EmpID);
          
    
            [OperationContract(IsOneWay = true)]
            void UpdatePricingServer(string ReservationID, string CustomerID);
    
    
            [OperationContract(IsOneWay = true)]
            void SendMessageToNotifyOther(string From, string To, string Message);
    
    
        }
    
        [ServiceContract]
        public interface IClientCallBack
            {
                [OperationContract()]
                [FaultContract(typeof(InvalidOperationException))]
                void UpdatePricingClient(string FromReservationID, string CustomerID );
    
                //The Alert Server Function called by the Client
                [OperationContract(IsOneWay = true)]
                void SubscribeToBeNotifiedClient();
    
                [OperationContract()]
                [FaultContract(typeof(InvalidOperationException))]
                void ReceiveMessage(string From, string Message);
    
    
            }
         
    
        [ServiceBehavior( ConcurrencyMode = ConcurrencyMode.Reentrant,UseSynchronizationContext =   false,  InstanceContextMode = InstanceContextMode.Single, IncludeExceptionDetailInFaults=true )]
        [CallbackBehavior(UseSynchronizationContext = false)]     
        class Service1 : IService
            {
              public Service1()
              {
    
                 
    
              }
    
              public void SubscribeToBeNotifiedServer(string EmpID)
              {
                  var added = OperationContext.Current.GetCallbackChannel<IClientCallBack>();
                  
                  var st = OperationContext.Current.InstanceContext.State;
    
                  var asdf1 = OperationContext.Current.Host.State;
    
                  if (!subscribers.Select(x => x.CallBackInformation).Contains(added))
                  {
                      subscribers.Add(new ClientInfo(added, OperationContext.Current, EmpID));
    
                      OperationContext.Current.Channel.Faulted += new EventHandler(Channel_Faulted);
    
                  }
              }          
    
              private static readonly List<ClientInfo> subscribers = new List<ClientInfo>();  
    
              public void UpdatePricingServer(string ReservationID, string CustomerID)
               {                  
    
                   try
                   {
                       
    
                       List<ClientInfo> Remove = new List<ClientInfo>();
    
                       Action<ClientInfo> invoke = delegate(ClientInfo callback)
                       {
    
        //I wrapped this in its own thread as the entire thread gets torn down if there is an exception 
        // when you call the client. This is true even if its in a try catch the entire thread dies. 
    
        System.Threading.Thread mythread = new System.Threading.Thread((System.Threading.ThreadStart)delegate() {
            try
            {
    
                var test = (ICommunicationObject)callback.CallBackInformation;
    
                if (test.State == CommunicationState.Opened && callback.InstanceContext.Host.State == CommunicationState.Opened)
                {
    
    
    
                    callback.CallBackInformation.UpdatePricingClient(ReservationID, CustomerID);
    
    
                }
    
                else
                {
                    Remove.Add(callback);
                }
    
            }
            catch (FaultException<InvalidOperationException> exception)
            { }
            catch (FaultException exception)
            { }
            catch (CommunicationException exception)
            { }
        });
    
        
    
        mythread.Start();
    
    
        };
    
                       subscribers.ForEach(invoke);
    
                       foreach (var temp1 in Remove)
                       {
                           subscribers.Remove(temp1);
                       }
                    
    
                      
    
    
                   }
                   catch (Exception ex)
                   {
    
    
                   }
               }
    
              public void SendMessageToNotifyOther(string From, string To, string Message)
              {
    
                  try
                  {
    
    
                      List<ClientInfo> Remove = new List<ClientInfo>();
    
                      Action<ClientInfo> invoke = delegate(ClientInfo callback)
                      {
    
                          //I wrapped this in its own thread as the entire thread gets torn down if there is an exception 
                          // when you call the client. This is true even if its in a try catch the entire thread dies. 
    
                          System.Threading.Thread mythread = new System.Threading.Thread((System.Threading.ThreadStart)delegate()
                          {
                              try
                              {
    
                                  var test = (ICommunicationObject)callback.CallBackInformation;
    
                                  if (test.State == CommunicationState.Opened && callback.InstanceContext.Host.State == CommunicationState.Opened)
                                  {
    
    
                                      if (callback.EmployeeID == To)
                                      {
                                          callback.CallBackInformation.ReceiveMessage(From, Message);
                                      }
    
                                  }
    
                                  else
                                  {
                                      Remove.Add(callback);
                                  }
    
                              }
                              catch (FaultException<InvalidOperationException> exception)
                              { }
                              catch (FaultException exception)
                              { }
                              catch (CommunicationException exception)
                              { }
                          });
    
    
    
                          mythread.Start();
    
    
                      };
    
                      subscribers.ForEach(invoke);
    
                      foreach (var temp1 in Remove)
                      {
                          subscribers.Remove(temp1);
                      }
    
    
    
    
    
                  }
                  catch (Exception ex)
                  {
    
    
                  }
              }
    
           
    
               #region IService Members
               void Channel_Faulted(object sender, EventArgs e)
               {
                   ICommunicationObject myobj = (ICommunicationObject)sender;
    
                   myobj.Abort();
    
                   myobj.Close();
    
               }
    
               void InstanceContext_Closing(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
                void Channel_Closed(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
                void InstanceContext_Closed(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
                void InstanceContext_Faulted(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
             
    
                #endregion
            }
    
        public class ClientInfo
          {
              IClientCallBack client;
    
              OperationContext context;
    
              public ClientInfo(IClientCallBack clientcall, OperationContext Instance, string EmpID)
              {
                  this.client = clientcall;
    
                  this.context = Instance;
    
                  this.EmployeeID = EmpID;
              }
    
              public IClientCallBack CallBackInformation
              {
                  get { return client; }
                  set { this.client = value; }
              }
    
              public OperationContext InstanceContext
              {
                  get { return context; }
                  set { this.context = value; }
              }
    
              public string EmployeeID;
          }
                
    
        
    
        }

Here is the web.config of the Server

   

     <?xml version=""1.0""?>
        <configuration>
          <system.web>
        <compilation debug=""true"" targetFramework=""4.0"" />
        <customErrors mode=""Off"">    
        </customErrors>
          </system.web>
    
          <system.serviceModel>
            <!--WcfService1.IService-->  
        
        <services>
          <service behaviorConfiguration=""MyBehavior"" name=""WcfService1.Service1"">
            <endpoint address="""" binding=""netTcpBinding""
              bindingConfiguration=""portSharingBinding"" name=""MyServiceEndpoint""
              contract=""WcfService1.IService"">
              <identity>
                <!--<dns value=""localhost:808"" />-->
              </identity>
            </endpoint>
            
            <endpoint address=""/mex"" kind=""mexEndpoint""
                      binding=""mexTcpBinding"" 
                      contract=""IMetadataExchange"" />        
            <host>
              <baseAddresses>
                <!--<add baseAddress=""net.tcp://iiswatso/MnetTcp/Service1.svc"" />-->
                <add baseAddress=""net.tcp://localhost/WcfService/Service1.svc"" />
              </baseAddresses>
            </host>
          </service>
        </services>
        
        <behaviors>
          <serviceBehaviors>
            <behavior name=""MyBehavior"" >
              <serviceTimeouts />          
              <serviceMetadata httpGetEnabled=""false"" />
              <serviceDebug includeExceptionDetailInFaults=""true"" />
            </behavior>
          </serviceBehaviors>
        </behaviors>
        
        <bindings>
          <netTcpBinding>
            <binding name=""portSharingBinding"" portSharingEnabled=""true"" openTimeout=""infinite"" closeTimeout=""infinite"" receiveTimeout=""infinite"" sendTimeout=""infinite""    >
              <reliableSession inactivityTimeout=""infinite"" ordered=""True""    enabled=""true"" />
              <security mode=""None""></security>          
            </binding>
          </netTcpBinding>
        </bindings>
      </system.serviceModel>
      <system.webServer>   
      </system.webServer>
    
      <system.diagnostics>
        <trace autoflush=""true""></trace>
        <sources>
          <source name=""System.ServiceModel"" switchValue=""Information, ActivityTracing"" propagateActivity=""true"">
            <listeners>          
              <add name=""traceListener"" type=""System.Diagnostics.XmlWriterTraceListener"" initializeData=""c:\log\Server3.svclog"" />
            </listeners>
          </source>
        </sources>   
      </system.diagnostics>  
    </configuration>


Here is the tracing log for the server:


    
     <E2ETraceEvent xmlns=""http://schemas.microsoft.com/2004/06/E2ETraceEvent"">
        <System xmlns=""http://schemas.microsoft.com/2004/06/windows/eventlog/system"">
     <EventID>131075</EventID>
    <Type>3</Type>
    <SubType Name=""Error"">0</SubType>
    <Level>2</Level>
    <TimeCreated SystemTime=""2012-05-30T18:11:10.9002453Z"" />
    <Source Name=""System.ServiceModel"" />
    <Correlation ActivityID=""{00000000-0000-0000-0000-000000000000}"" />
    <Execution ProcessName=""Meridian Reservation System.vshost"" ProcessID=""10676"" ThreadID=""21"" />
    <Channel />
    <Computer>JIMMY-PC</Computer>
    </System>
    <ApplicationData>
    <TraceData>
    <DataItem>
    <TraceRecord xmlns=""http://schemas.microsoft.com/2004/10/E2ETraceEvent/TraceRecord"" Severity=""Error"">
    <TraceIdentifier>http://msdn.microsoft.com/en-US/library/System.ServiceModel.Diagnostics.ThrowingException.aspx</TraceIdentifier>
    <Description>Throwing an exception.</Description>
    <AppDomain>Meridian Reservation System.vshost.exe</AppDomain>
    <Exception>
    <ExceptionType>System.ServiceModel.CommunicationException, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'.</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.BeginReadCore(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SocketConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.DelegatingConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.BeginReceive(TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.PerformOperation(TimeSpan timeout)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult..ctor(FramingDuplexSessionChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ClientReliableChannelBinder`1.DuplexClientReliableChannelBinder`1.OnBeginTryReceive(TDuplexChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult.BeginInput(ReliableChannelBinder`1 binder, TChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.CompleteTryGetChannel(IAsyncResult result, Boolean&amp; complete)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.Start()
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult..ctor(ReliableChannelBinder`1 binder, TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.StartReceiving(Boolean canBlock)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.HandleReceiveComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.OnReceiveCompletedStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputCompleteStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult.OnReceive(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1.CompleteWithUnlock(Boolean synchronous, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.OnReceiveComplete(Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.SocketConnection.FinishRead()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.ServiceModel.Channels.OverlappedContext.CompleteCallback(UInt32 error, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.ServiceModel.CommunicationException: The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'. ---&gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
       --- End of inner exception stack trace ---</ExceptionString>
    <InnerException>
    <ExceptionType>System.Net.Sockets.SocketException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>An existing connection was forcibly closed by the remote host</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.BeginReadCore(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SocketConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.DelegatingConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.BeginReceive(TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.PerformOperation(TimeSpan timeout)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult..ctor(FramingDuplexSessionChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ClientReliableChannelBinder`1.DuplexClientReliableChannelBinder`1.OnBeginTryReceive(TDuplexChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult.BeginInput(ReliableChannelBinder`1 binder, TChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.CompleteTryGetChannel(IAsyncResult result, Boolean&amp; complete)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.Start()
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult..ctor(ReliableChannelBinder`1 binder, TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.StartReceiving(Boolean canBlock)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.HandleReceiveComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.OnReceiveCompletedStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputCompleteStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult.OnReceive(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1.CompleteWithUnlock(Boolean synchronous, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.OnReceiveComplete(Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.SocketConnection.FinishRead()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.ServiceModel.Channels.OverlappedContext.CompleteCallback(UInt32 error, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.Net.Sockets.SocketException (0x80004005): An existing connection was forcibly closed by the remote host</ExceptionString>
    <NativeErrorCode>2746</NativeErrorCode>
    </InnerException>
    </Exception>
    </TraceRecord>
    </DataItem>
    </TraceData>
    </ApplicationData>
    </E2ETraceEvent>

Tracing for the client:

   
 

         <E2ETraceEvent xmlns=""http://schemas.microsoft.com/2004/06/E2ETraceEvent"">
    <System xmlns=""http://schemas.microsoft.com/2004/06/windows/eventlog/system"">
    <EventID>131075</EventID>
    <Type>3</Type>
    <SubType Name=""Error"">0</SubType>
    <Level>2</Level>
    <TimeCreated SystemTime=""2012-05-30T18:11:02.2488000Z"" />
    <Source Name=""System.ServiceModel"" />
    <Correlation ActivityID=""{54830e63-b315-4f74-9455-d9ba50c655c0}"" />
    <Execution ProcessName=""w3wp"" ProcessID=""2716"" ThreadID=""6"" />
    <Channel />
    <Computer>IISWATSO</Computer>
    </System>
    <ApplicationData>
    <TraceData>
    <DataItem>
    <TraceRecord xmlns=""http://schemas.microsoft.com/2004/10/E2ETraceEvent/TraceRecord"" Severity=""Error"">
    <TraceIdentifier>http://msdn.microsoft.com/en-US/library/System.ServiceModel.Diagnostics.ThrowingException.aspx</TraceIdentifier>
    <Description>Throwing an exception.</Description>
    <AppDomain>/LM/W3SVC/3/ROOT/MNetTcp-1-129828750305652000</AppDomain>
    <Exception>
    <ExceptionType>System.ServiceModel.CommunicationException, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'.</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.EndRead()
    at System.ServiceModel.Channels.TracingConnection.EndRead()
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.TracingConnection.TracingConnectionState.ExecuteCallback()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.ServiceModel.CommunicationException: The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'. ---&gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
       --- End of inner exception stack trace ---</ExceptionString>
    <InnerException>
    <ExceptionType>System.Net.Sockets.SocketException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>An existing connection was forcibly closed by the remote host</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.EndRead()
    at System.ServiceModel.Channels.TracingConnection.EndRead()
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.TracingConnection.TracingConnectionState.ExecuteCallback()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.Net.Sockets.SocketException (0x80004005): An existing connection was forcibly closed by the remote host</Exception",wcf,net.tcp,,,,06/05/2012 18:19:49,not a real question,1,6862,5,"WCF Net.tcp service randomly faults I'm looking for help to debug why a seemingly simple net.tcp service is seemingly randomly faulting. There isn't a consistant time it faults, it just faults eventually. I've run this service in both a windows forms and a WPF application and behaves the same. Can anyone help me debug why it faults?

   

     using System;
        using System.Collections.Generic;
        using System.Linq;
        using System.Runtime.Serialization;
        using System.ServiceModel;
        using System.ServiceModel.Web;
        using System.Text;
    
    
        namespace WcfService1
        {
    
        [ServiceContract(CallbackContract = typeof(IClientCallBack))]
        interface IService
        {
            //The Alert Server Function called by the Client
            [OperationContract(IsOneWay = true)]
            void SubscribeToBeNotifiedServer(string EmpID);
          
    
            [OperationContract(IsOneWay = true)]
            void UpdatePricingServer(string ReservationID, string CustomerID);
    
    
            [OperationContract(IsOneWay = true)]
            void SendMessageToNotifyOther(string From, string To, string Message);
    
    
        }
    
        [ServiceContract]
        public interface IClientCallBack
            {
                [OperationContract()]
                [FaultContract(typeof(InvalidOperationException))]
                void UpdatePricingClient(string FromReservationID, string CustomerID );
    
                //The Alert Server Function called by the Client
                [OperationContract(IsOneWay = true)]
                void SubscribeToBeNotifiedClient();
    
                [OperationContract()]
                [FaultContract(typeof(InvalidOperationException))]
                void ReceiveMessage(string From, string Message);
    
    
            }
         
    
        [ServiceBehavior( ConcurrencyMode = ConcurrencyMode.Reentrant,UseSynchronizationContext =   false,  InstanceContextMode = InstanceContextMode.Single, IncludeExceptionDetailInFaults=true )]
        [CallbackBehavior(UseSynchronizationContext = false)]     
        class Service1 : IService
            {
              public Service1()
              {
    
                 
    
              }
    
              public void SubscribeToBeNotifiedServer(string EmpID)
              {
                  var added = OperationContext.Current.GetCallbackChannel<IClientCallBack>();
                  
                  var st = OperationContext.Current.InstanceContext.State;
    
                  var asdf1 = OperationContext.Current.Host.State;
    
                  if (!subscribers.Select(x => x.CallBackInformation).Contains(added))
                  {
                      subscribers.Add(new ClientInfo(added, OperationContext.Current, EmpID));
    
                      OperationContext.Current.Channel.Faulted += new EventHandler(Channel_Faulted);
    
                  }
              }          
    
              private static readonly List<ClientInfo> subscribers = new List<ClientInfo>();  
    
              public void UpdatePricingServer(string ReservationID, string CustomerID)
               {                  
    
                   try
                   {
                       
    
                       List<ClientInfo> Remove = new List<ClientInfo>();
    
                       Action<ClientInfo> invoke = delegate(ClientInfo callback)
                       {
    
        //I wrapped this in its own thread as the entire thread gets torn down if there is an exception 
        // when you call the client. This is true even if its in a try catch the entire thread dies. 
    
        System.Threading.Thread mythread = new System.Threading.Thread((System.Threading.ThreadStart)delegate() {
            try
            {
    
                var test = (ICommunicationObject)callback.CallBackInformation;
    
                if (test.State == CommunicationState.Opened && callback.InstanceContext.Host.State == CommunicationState.Opened)
                {
    
    
    
                    callback.CallBackInformation.UpdatePricingClient(ReservationID, CustomerID);
    
    
                }
    
                else
                {
                    Remove.Add(callback);
                }
    
            }
            catch (FaultException<InvalidOperationException> exception)
            { }
            catch (FaultException exception)
            { }
            catch (CommunicationException exception)
            { }
        });
    
        
    
        mythread.Start();
    
    
        };
    
                       subscribers.ForEach(invoke);
    
                       foreach (var temp1 in Remove)
                       {
                           subscribers.Remove(temp1);
                       }
                    
    
                      
    
    
                   }
                   catch (Exception ex)
                   {
    
    
                   }
               }
    
              public void SendMessageToNotifyOther(string From, string To, string Message)
              {
    
                  try
                  {
    
    
                      List<ClientInfo> Remove = new List<ClientInfo>();
    
                      Action<ClientInfo> invoke = delegate(ClientInfo callback)
                      {
    
                          //I wrapped this in its own thread as the entire thread gets torn down if there is an exception 
                          // when you call the client. This is true even if its in a try catch the entire thread dies. 
    
                          System.Threading.Thread mythread = new System.Threading.Thread((System.Threading.ThreadStart)delegate()
                          {
                              try
                              {
    
                                  var test = (ICommunicationObject)callback.CallBackInformation;
    
                                  if (test.State == CommunicationState.Opened && callback.InstanceContext.Host.State == CommunicationState.Opened)
                                  {
    
    
                                      if (callback.EmployeeID == To)
                                      {
                                          callback.CallBackInformation.ReceiveMessage(From, Message);
                                      }
    
                                  }
    
                                  else
                                  {
                                      Remove.Add(callback);
                                  }
    
                              }
                              catch (FaultException<InvalidOperationException> exception)
                              { }
                              catch (FaultException exception)
                              { }
                              catch (CommunicationException exception)
                              { }
                          });
    
    
    
                          mythread.Start();
    
    
                      };
    
                      subscribers.ForEach(invoke);
    
                      foreach (var temp1 in Remove)
                      {
                          subscribers.Remove(temp1);
                      }
    
    
    
    
    
                  }
                  catch (Exception ex)
                  {
    
    
                  }
              }
    
           
    
               #region IService Members
               void Channel_Faulted(object sender, EventArgs e)
               {
                   ICommunicationObject myobj = (ICommunicationObject)sender;
    
                   myobj.Abort();
    
                   myobj.Close();
    
               }
    
               void InstanceContext_Closing(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
                void Channel_Closed(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
                void InstanceContext_Closed(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
                void InstanceContext_Faulted(object sender, EventArgs e)
                {
                    try
                    {
                        subscribers.Remove(subscribers.Where(x => x.CallBackInformation == sender).FirstOrDefault());
                    }
                    catch { }
                }
    
             
    
                #endregion
            }
    
        public class ClientInfo
          {
              IClientCallBack client;
    
              OperationContext context;
    
              public ClientInfo(IClientCallBack clientcall, OperationContext Instance, string EmpID)
              {
                  this.client = clientcall;
    
                  this.context = Instance;
    
                  this.EmployeeID = EmpID;
              }
    
              public IClientCallBack CallBackInformation
              {
                  get { return client; }
                  set { this.client = value; }
              }
    
              public OperationContext InstanceContext
              {
                  get { return context; }
                  set { this.context = value; }
              }
    
              public string EmployeeID;
          }
                
    
        
    
        }

Here is the web.config of the Server

   

     <?xml version=""1.0""?>
        <configuration>
          <system.web>
        <compilation debug=""true"" targetFramework=""4.0"" />
        <customErrors mode=""Off"">    
        </customErrors>
          </system.web>
    
          <system.serviceModel>
            <!--WcfService1.IService-->  
        
        <services>
          <service behaviorConfiguration=""MyBehavior"" name=""WcfService1.Service1"">
            <endpoint address="""" binding=""netTcpBinding""
              bindingConfiguration=""portSharingBinding"" name=""MyServiceEndpoint""
              contract=""WcfService1.IService"">
              <identity>
                <!--<dns value=""localhost:808"" />-->
              </identity>
            </endpoint>
            
            <endpoint address=""/mex"" kind=""mexEndpoint""
                      binding=""mexTcpBinding"" 
                      contract=""IMetadataExchange"" />        
            <host>
              <baseAddresses>
                <!--<add baseAddress=""net.tcp://iiswatso/MnetTcp/Service1.svc"" />-->
                <add baseAddress=""net.tcp://localhost/WcfService/Service1.svc"" />
              </baseAddresses>
            </host>
          </service>
        </services>
        
        <behaviors>
          <serviceBehaviors>
            <behavior name=""MyBehavior"" >
              <serviceTimeouts />          
              <serviceMetadata httpGetEnabled=""false"" />
              <serviceDebug includeExceptionDetailInFaults=""true"" />
            </behavior>
          </serviceBehaviors>
        </behaviors>
        
        <bindings>
          <netTcpBinding>
            <binding name=""portSharingBinding"" portSharingEnabled=""true"" openTimeout=""infinite"" closeTimeout=""infinite"" receiveTimeout=""infinite"" sendTimeout=""infinite""    >
              <reliableSession inactivityTimeout=""infinite"" ordered=""True""    enabled=""true"" />
              <security mode=""None""></security>          
            </binding>
          </netTcpBinding>
        </bindings>
      </system.serviceModel>
      <system.webServer>   
      </system.webServer>
    
      <system.diagnostics>
        <trace autoflush=""true""></trace>
        <sources>
          <source name=""System.ServiceModel"" switchValue=""Information, ActivityTracing"" propagateActivity=""true"">
            <listeners>          
              <add name=""traceListener"" type=""System.Diagnostics.XmlWriterTraceListener"" initializeData=""c:\log\Server3.svclog"" />
            </listeners>
          </source>
        </sources>   
      </system.diagnostics>  
    </configuration>


Here is the tracing log for the server:


    
     <E2ETraceEvent xmlns=""http://schemas.microsoft.com/2004/06/E2ETraceEvent"">
        <System xmlns=""http://schemas.microsoft.com/2004/06/windows/eventlog/system"">
     <EventID>131075</EventID>
    <Type>3</Type>
    <SubType Name=""Error"">0</SubType>
    <Level>2</Level>
    <TimeCreated SystemTime=""2012-05-30T18:11:10.9002453Z"" />
    <Source Name=""System.ServiceModel"" />
    <Correlation ActivityID=""{00000000-0000-0000-0000-000000000000}"" />
    <Execution ProcessName=""Meridian Reservation System.vshost"" ProcessID=""10676"" ThreadID=""21"" />
    <Channel />
    <Computer>JIMMY-PC</Computer>
    </System>
    <ApplicationData>
    <TraceData>
    <DataItem>
    <TraceRecord xmlns=""http://schemas.microsoft.com/2004/10/E2ETraceEvent/TraceRecord"" Severity=""Error"">
    <TraceIdentifier>http://msdn.microsoft.com/en-US/library/System.ServiceModel.Diagnostics.ThrowingException.aspx</TraceIdentifier>
    <Description>Throwing an exception.</Description>
    <AppDomain>Meridian Reservation System.vshost.exe</AppDomain>
    <Exception>
    <ExceptionType>System.ServiceModel.CommunicationException, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'.</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.BeginReadCore(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SocketConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.DelegatingConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.BeginReceive(TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.PerformOperation(TimeSpan timeout)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult..ctor(FramingDuplexSessionChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ClientReliableChannelBinder`1.DuplexClientReliableChannelBinder`1.OnBeginTryReceive(TDuplexChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult.BeginInput(ReliableChannelBinder`1 binder, TChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.CompleteTryGetChannel(IAsyncResult result, Boolean&amp; complete)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.Start()
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult..ctor(ReliableChannelBinder`1 binder, TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.StartReceiving(Boolean canBlock)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.HandleReceiveComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.OnReceiveCompletedStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputCompleteStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult.OnReceive(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1.CompleteWithUnlock(Boolean synchronous, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.OnReceiveComplete(Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.SocketConnection.FinishRead()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.ServiceModel.Channels.OverlappedContext.CompleteCallback(UInt32 error, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.ServiceModel.CommunicationException: The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'. ---&gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
       --- End of inner exception stack trace ---</ExceptionString>
    <InnerException>
    <ExceptionType>System.Net.Sockets.SocketException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>An existing connection was forcibly closed by the remote host</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.BeginReadCore(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SocketConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.DelegatingConnection.BeginRead(Int32 offset, Int32 size, TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.BeginReceive(TimeSpan timeout, WaitCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.PerformOperation(TimeSpan timeout)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult..ctor(SynchronizedMessageSource syncSource, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.SynchronizedMessageSource.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult..ctor(FramingDuplexSessionChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ClientReliableChannelBinder`1.DuplexClientReliableChannelBinder`1.OnBeginTryReceive(TDuplexChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult.BeginInput(ReliableChannelBinder`1 binder, TChannel channel, TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.CompleteTryGetChannel(IAsyncResult result, Boolean&amp; complete)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.Start()
    at System.ServiceModel.Channels.ReliableChannelBinder`1.TryReceiveAsyncResult..ctor(ReliableChannelBinder`1 binder, TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, MaskingMode maskingMode, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.BeginTryReceive(TimeSpan timeout, AsyncCallback callback, Object state)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.StartReceiving(Boolean canBlock)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.HandleReceiveComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableDuplexSessionChannel.OnReceiveCompletedStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputComplete(IAsyncResult result)
    at System.ServiceModel.Channels.ReliableChannelBinder`1.InputAsyncResult`1.OnInputCompleteStatic(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.FramingDuplexSessionChannel.TryReceiveAsyncResult.OnReceive(IAsyncResult result)
    at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)
    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.SynchronizedAsyncResult`1.CompleteWithUnlock(Boolean synchronous, Exception exception)
    at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.OnReceiveComplete(Object state)
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.SocketConnection.FinishRead()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.ServiceModel.Channels.OverlappedContext.CompleteCallback(UInt32 error, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.Net.Sockets.SocketException (0x80004005): An existing connection was forcibly closed by the remote host</ExceptionString>
    <NativeErrorCode>2746</NativeErrorCode>
    </InnerException>
    </Exception>
    </TraceRecord>
    </DataItem>
    </TraceData>
    </ApplicationData>
    </E2ETraceEvent>

Tracing for the client:

   
 

         <E2ETraceEvent xmlns=""http://schemas.microsoft.com/2004/06/E2ETraceEvent"">
    <System xmlns=""http://schemas.microsoft.com/2004/06/windows/eventlog/system"">
    <EventID>131075</EventID>
    <Type>3</Type>
    <SubType Name=""Error"">0</SubType>
    <Level>2</Level>
    <TimeCreated SystemTime=""2012-05-30T18:11:02.2488000Z"" />
    <Source Name=""System.ServiceModel"" />
    <Correlation ActivityID=""{54830e63-b315-4f74-9455-d9ba50c655c0}"" />
    <Execution ProcessName=""w3wp"" ProcessID=""2716"" ThreadID=""6"" />
    <Channel />
    <Computer>IISWATSO</Computer>
    </System>
    <ApplicationData>
    <TraceData>
    <DataItem>
    <TraceRecord xmlns=""http://schemas.microsoft.com/2004/10/E2ETraceEvent/TraceRecord"" Severity=""Error"">
    <TraceIdentifier>http://msdn.microsoft.com/en-US/library/System.ServiceModel.Diagnostics.ThrowingException.aspx</TraceIdentifier>
    <Description>Throwing an exception.</Description>
    <AppDomain>/LM/W3SVC/3/ROOT/MNetTcp-1-129828750305652000</AppDomain>
    <Exception>
    <ExceptionType>System.ServiceModel.CommunicationException, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'.</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.EndRead()
    at System.ServiceModel.Channels.TracingConnection.EndRead()
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.TracingConnection.TracingConnectionState.ExecuteCallback()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.ServiceModel.CommunicationException: The socket connection was aborted. This could be caused by an error processing your message or a receive timeout being exceeded by the remote host, or an underlying network resource issue. Local socket timeout was '10675199.02:48:05.4775807'. ---&gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
       --- End of inner exception stack trace ---</ExceptionString>
    <InnerException>
    <ExceptionType>System.Net.Sockets.SocketException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</ExceptionType>
    <Message>An existing connection was forcibly closed by the remote host</Message>
    <StackTrace>
    at System.ServiceModel.Channels.SocketConnection.EndRead()
    at System.ServiceModel.Channels.TracingConnection.EndRead()
    at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)
    at System.ServiceModel.Channels.TracingConnection.TracingConnectionState.ExecuteCallback()
    at System.ServiceModel.Channels.SocketConnection.AsyncReadCallback(Boolean haveResult, Int32 error, Int32 bytesRead)
    at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
    at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
    </StackTrace>
    <ExceptionString>System.Net.Sockets.SocketException (0x80004005): An existing connection was forcibly closed by the remote host</Exception",2
9991517,04/03/2012 10:35:24,41169,11/26/2008 21:37:35,314,15,AX 2012 ContractFilter mismatch,"I'm following the Microsoft document ""Using Microsoft BizTalk Server 2010 to exchange documents with Microsoft Dynamics AX_AX2012.pdf"". I have the sample XML order create collected by BizTalk, transformed and passed onto AX, this is being collected by an AX inbound port but then I get the following error:

*The request failed with the following error:  The message with Action 'http://schemas.microsoft.com/dynamics/2008/01/services/SalesOrderService/Create' cannot be processed at the receiver, due to a ContractFilter mismatch at the EndpointDispatcher. This may be because of either a contract mismatch (mismatched Actions between sender and receiver) or a binding/security mismatch between the sender and the receiver.  Check that sender and receiver have the same contract and the same binding (including security requirements, e.g. Message, Transport, None).*

I'm new to AX and don't know how best to troubleshoot this. How could I find the WSDL that describes the SalesOrderService/Create operation? Is there anything I'm missing? Thanks, Rob.",wcf,biztalk,ax,,,,open,0,149,4,"AX 2012 ContractFilter mismatch I'm following the Microsoft document ""Using Microsoft BizTalk Server 2010 to exchange documents with Microsoft Dynamics AX_AX2012.pdf"". I have the sample XML order create collected by BizTalk, transformed and passed onto AX, this is being collected by an AX inbound port but then I get the following error:

*The request failed with the following error:  The message with Action 'http://schemas.microsoft.com/dynamics/2008/01/services/SalesOrderService/Create' cannot be processed at the receiver, due to a ContractFilter mismatch at the EndpointDispatcher. This may be because of either a contract mismatch (mismatched Actions between sender and receiver) or a binding/security mismatch between the sender and the receiver.  Check that sender and receiver have the same contract and the same binding (including security requirements, e.g. Message, Transport, None).*

I'm new to AX and don't know how best to troubleshoot this. How could I find the WSDL that describes the SalesOrderService/Create operation? Is there anything I'm missing? Thanks, Rob.",3
6947644,08/04/2011 19:45:08,712447,04/17/2011 19:35:09,231,1,"Proxy class changes the order of parametrs, put out param as first one","I have a WCF service that exposes a method with following signature

    bool MyMethod(string MyParam1, string MyParam2, out string MyParam3)

But when I add a service reference, the proxy class this API with following signature

    bool MyMethod(out string MyParam3, string MyParam1, string MyParam2)

It puts out param as first parameters. Any idea why it does this or could it be that I am doing something wrong?",wcf,windows-services,,,,,open,0,70,13,"Proxy class changes the order of parametrs, put out param as first one I have a WCF service that exposes a method with following signature

    bool MyMethod(string MyParam1, string MyParam2, out string MyParam3)

But when I add a service reference, the proxy class this API with following signature

    bool MyMethod(out string MyParam3, string MyParam1, string MyParam2)

It puts out param as first parameters. Any idea why it does this or could it be that I am doing something wrong?",2
811142,05/01/2009 12:17:54,85629,04/01/2009 11:51:31,16,0,Reuse a client class in WCF after it is faulted,"I use WCF for a client server system.
When I add a service reference to IService on the server, a proxy class ServiceClient is generated.
My code looks like the following:

    ServiceClient client = new ServiceClient();
    try
    {
    	client.Operation1();
    }
    catch(Exception ex)
    {
    	// Handle Exception
    }
    try
    {
    	client.Operation2();
    }
    catch(Exception ex)
    {
    	// Handle Exception
    }

The problem is that if there is a communication exception in the first call, the client's state changes to Faulted, and I don't know how to reopen it to make the second call. Is there a way to reopen it? or should I create a new one and replace the instance (It doesn't seem like an elegant way)?",wcf,,,,,,open,0,164,10,"Reuse a client class in WCF after it is faulted I use WCF for a client server system.
When I add a service reference to IService on the server, a proxy class ServiceClient is generated.
My code looks like the following:

    ServiceClient client = new ServiceClient();
    try
    {
    	client.Operation1();
    }
    catch(Exception ex)
    {
    	// Handle Exception
    }
    try
    {
    	client.Operation2();
    }
    catch(Exception ex)
    {
    	// Handle Exception
    }

The problem is that if there is a communication exception in the first call, the client's state changes to Faulted, and I don't know how to reopen it to make the second call. Is there a way to reopen it? or should I create a new one and replace the instance (It doesn't seem like an elegant way)?",1
1923084,12/17/2009 16:50:52,207183,11/09/2009 18:41:52,3,0,Windows Authentication / Encryption in WCF With NetTcpBinding,I'm trying to understand how windows authentication / encryption works with the NetTcpBinding in WCF. I need to know exactly what encryption algorithm is used to encrypt the data going across the wire (and some documentation to prove it). Will windows authentication / encryption still work if the client and or host is not on a domain?,wcf,nettcpbinding,,,,,open,0,57,8,Windows Authentication / Encryption in WCF With NetTcpBinding I'm trying to understand how windows authentication / encryption works with the NetTcpBinding in WCF. I need to know exactly what encryption algorithm is used to encrypt the data going across the wire (and some documentation to prove it). Will windows authentication / encryption still work if the client and or host is not on a domain?,2
