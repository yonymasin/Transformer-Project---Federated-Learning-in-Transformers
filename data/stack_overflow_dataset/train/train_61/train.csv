PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
11317146,07/03/2012 18:40:56,1061426,11/23/2011 08:14:32,554,24,"is it possible to use django, pythonbrew, virtualenv with apache and nginx?","
And if so, is there just a so ace tutorial for someone like me, who isn't that sharp and cannot work out a config file from a llama?

Or does someone know of  a book I can buy that details all of the above, or, well, anything?",django,apache,nginx,virtualenv,pythonbrew,,open,0,47,12,"is it possible to use django, pythonbrew, virtualenv with apache and nginx? 
And if so, is there just a so ace tutorial for someone like me, who isn't that sharp and cannot work out a config file from a llama?

Or does someone know of  a book I can buy that details all of the above, or, well, anything?",5
5693519,04/17/2011 12:30:27,712102,04/17/2011 12:30:27,1,0,Django custom view into admin page,"I have created a custom view.

How can I insert the view into the admin? 

For a normal admin class, we can just simply register it to the admin site:

    class ListAdmin(admin.ModelAdmin):
       ...
            
    admin.site.register(List, ListAdmin)

Thanks.",django,django-admin,,,,,open,0,58,6,"Django custom view into admin page I have created a custom view.

How can I insert the view into the admin? 

For a normal admin class, we can just simply register it to the admin site:

    class ListAdmin(admin.ModelAdmin):
       ...
            
    admin.site.register(List, ListAdmin)

Thanks.",2
10443753,05/04/2012 06:25:40,1011584,10/24/2011 19:51:12,261,0,Tastypie sanitize input?,"What would be the most effective way to sanitize a user's input using Tastypie? Right now, if a user enters something like <strong>hi</strong>, the HTML tags get saved, so when it is displayed, the text is displayed as bold. How would I sanitize all input besides changing the obj_create for each resource?

Also, since I am a newb at web security, should I be sanitizing a user's input at the front end, too? I am not sure if I should sanitize the input before sending the POST request to the tastypie API or if I should sanitize the input when tastypie is processing the input?",django,tastypie,,,,,open,0,104,3,"Tastypie sanitize input? What would be the most effective way to sanitize a user's input using Tastypie? Right now, if a user enters something like <strong>hi</strong>, the HTML tags get saved, so when it is displayed, the text is displayed as bold. How would I sanitize all input besides changing the obj_create for each resource?

Also, since I am a newb at web security, should I be sanitizing a user's input at the front end, too? I am not sure if I should sanitize the input before sending the POST request to the tastypie API or if I should sanitize the input when tastypie is processing the input?",2
4333702,12/02/2010 10:04:07,129805,06/27/2009 11:51:28,396,4,What causes the if-none-match request header field to become huge?,"I have a problem with the If-none-match header which is sent to a Django CMS App, running through Apache2/mod_wsgi.

When editing the most used page, various users' browsers (Chrome and FF) get an error from Apache complaining that the if-none-match field is too long.

On inspection (through wireshark) the browser is sending about 8KiB if etags in this one header line.  Clearing the browser's cache or restarting does not clear the problem.

I'm not sure what is at fault here.

Is the correct interpretation of the field's values as follows: 

The browser is claiming to know about a few hundred previous versions of the page (which is credible, as the error only occurs on heavily 'get'ed rapidly-changing pages).

Is there a way of clearing out etags from FF or Chrome?

Thanks,

Chris.


",django,apache,etag,django-cms,,,open,0,126,10,"What causes the if-none-match request header field to become huge? I have a problem with the If-none-match header which is sent to a Django CMS App, running through Apache2/mod_wsgi.

When editing the most used page, various users' browsers (Chrome and FF) get an error from Apache complaining that the if-none-match field is too long.

On inspection (through wireshark) the browser is sending about 8KiB if etags in this one header line.  Clearing the browser's cache or restarting does not clear the problem.

I'm not sure what is at fault here.

Is the correct interpretation of the field's values as follows: 

The browser is claiming to know about a few hundred previous versions of the page (which is credible, as the error only occurs on heavily 'get'ed rapidly-changing pages).

Is there a way of clearing out etags from FF or Chrome?

Thanks,

Chris.


",4
8686087,12/31/2011 03:26:07,557067,12/29/2010 11:25:11,429,8,Accelerate unittest in Django,"I found it is slow to perform unittest especially with database operations in Django.

It went through the whole process of creating database,tables,fixtures, then testing and finally destroying them.

It even took me almost half a minute to do all these stuff.

Without considering the speed of my machine, is there any alternative to speed up unittest in Django or any accelerating tips?",django,performance,unit-testing,,,,open,0,60,4,"Accelerate unittest in Django I found it is slow to perform unittest especially with database operations in Django.

It went through the whole process of creating database,tables,fixtures, then testing and finally destroying them.

It even took me almost half a minute to do all these stuff.

Without considering the speed of my machine, is there any alternative to speed up unittest in Django or any accelerating tips?",3
11579678,07/20/2012 12:46:10,1507156,07/06/2012 15:15:57,3,0,Django : Validate data by querying the database in a model form (using custom clean method),"I am trying to create a custom cleaning method which look in the db if the value of one specific data exists already and if yes raises an error.
I'm using a model form of a class (subsystem) who is inheriting from an other class (project).
I want to check if the sybsystem already exists or not when i try to add a new one in a form.

I get project name in my view function.

    class SubsytemForm(forms.ModelForm):  
    
        class Meta:
            model = Subsystem
            exclude = ('project_name')
        
        def clean(self,project_name):
        
            cleaned_data = super(SubsytemForm, self).clean(self,project_name)
            form_subsystem_name = cleaned_data.get(""subsystem_name"")
        
            Subsystem.objects.filter(project__project_name=project_name)
            subsystem_objects=Subsystem.objects.filter(project__project_name=project_name)
            nb_subsystem = subsystem_objects.count()
        
            for i in range (nb_subsystem):
                if (subsystem_objects[i].subsystem_name==form_subsystem_name):
                    msg = u""Subsystem already existing""
                    self._errors[""subsystem_name""] = self.error_class([msg])

                # These fields are no longer valid. Remove them from the
                # cleaned data.
                del cleaned_data[""project_name""]
            return cleaned_data

My view function :

    if form.is_valid(): 
        form=form.save(commit=False)
        form.project_id=Project.objects.get(project_name=project_name).id 
        form.clean(form,project_name)
        form.save()

This is not working and i don't know how to do.
",django,forms,customization,,,,open,0,434,16,"Django : Validate data by querying the database in a model form (using custom clean method) I am trying to create a custom cleaning method which look in the db if the value of one specific data exists already and if yes raises an error.
I'm using a model form of a class (subsystem) who is inheriting from an other class (project).
I want to check if the sybsystem already exists or not when i try to add a new one in a form.

I get project name in my view function.

    class SubsytemForm(forms.ModelForm):  
    
        class Meta:
            model = Subsystem
            exclude = ('project_name')
        
        def clean(self,project_name):
        
            cleaned_data = super(SubsytemForm, self).clean(self,project_name)
            form_subsystem_name = cleaned_data.get(""subsystem_name"")
        
            Subsystem.objects.filter(project__project_name=project_name)
            subsystem_objects=Subsystem.objects.filter(project__project_name=project_name)
            nb_subsystem = subsystem_objects.count()
        
            for i in range (nb_subsystem):
                if (subsystem_objects[i].subsystem_name==form_subsystem_name):
                    msg = u""Subsystem already existing""
                    self._errors[""subsystem_name""] = self.error_class([msg])

                # These fields are no longer valid. Remove them from the
                # cleaned data.
                del cleaned_data[""project_name""]
            return cleaned_data

My view function :

    if form.is_valid(): 
        form=form.save(commit=False)
        form.project_id=Project.objects.get(project_name=project_name).id 
        form.clean(form,project_name)
        form.save()

This is not working and i don't know how to do.
",3
7870358,10/24/2011 00:38:37,513302,11/19/2010 09:29:56,414,24,Is it safe to develop a small portal in Django,"  Actually these are 3 questions. I once developed a site using an open source, that use smarty. But then after going inside a code, I think if it was in some better and agile framework then I can update code much easily without spending much time. At the same time I wanted to come to some thing else than PHP, to improve my skillset also. Actually I do better work when I enjoy some thing. I enjoyed working in django and RoR. I am new to both. I worked in both and like RoR although my Python is better than Ruby. I saw Yii as a better framework but neither its documentation is very good as compared to RoR or Django and it will be still PHP so no big improvement in skillset. 
   
   I selected Rails, but I am even stopping many time during just installation and configuration of Rails. And I found that although rails is elder than Django but python community seems much more active than rails. I just tried Django and there were new things but I didn't find any barrier while doing tutorials. It was very good, although some thing were not according to how I liked but much better. The problem with django is that it is in Python 2.x so I think when it will be ported to Python 3 then I will need to shift my work to python 3 also. So I want to know that how much percent I will need to redo my work. As it is on the Django framework and not at low level. So will my code automatically portable? And when will I need to do? I guess this summer? Or is it some thing better that is agile, scalable, enjoyable and easy to deploy as I think Django hosting is also on less server but same can be case with any JVM based platform?

  So what you guys think, Please tell whether should I go with django or rails or Yii or some thing else like grails or wicket??? Please tell in the light of above mentioned factors

thanks everyone for your advises in advance. ",django,ruby-on-rails-3,web-applications,yii,web-frameworks,10/24/2011 13:58:43,not constructive,1,368,10,"Is it safe to develop a small portal in Django   Actually these are 3 questions. I once developed a site using an open source, that use smarty. But then after going inside a code, I think if it was in some better and agile framework then I can update code much easily without spending much time. At the same time I wanted to come to some thing else than PHP, to improve my skillset also. Actually I do better work when I enjoy some thing. I enjoyed working in django and RoR. I am new to both. I worked in both and like RoR although my Python is better than Ruby. I saw Yii as a better framework but neither its documentation is very good as compared to RoR or Django and it will be still PHP so no big improvement in skillset. 
   
   I selected Rails, but I am even stopping many time during just installation and configuration of Rails. And I found that although rails is elder than Django but python community seems much more active than rails. I just tried Django and there were new things but I didn't find any barrier while doing tutorials. It was very good, although some thing were not according to how I liked but much better. The problem with django is that it is in Python 2.x so I think when it will be ported to Python 3 then I will need to shift my work to python 3 also. So I want to know that how much percent I will need to redo my work. As it is on the Django framework and not at low level. So will my code automatically portable? And when will I need to do? I guess this summer? Or is it some thing better that is agile, scalable, enjoyable and easy to deploy as I think Django hosting is also on less server but same can be case with any JVM based platform?

  So what you guys think, Please tell whether should I go with django or rails or Yii or some thing else like grails or wicket??? Please tell in the light of above mentioned factors

thanks everyone for your advises in advance. ",5
9203178,02/08/2012 23:27:56,576994,01/15/2011 19:50:43,1,1,django sitemap: can't pass a variable back from the url,"I'm trying to create a sitemap in django with a dynamic name that i can pass back to my sitemap class. Does anyone know how i can do that in my url pattern? 

url should look like this 
/modules-a.xml # where 'a' could be [a-z]

This is what i'm trying without success 
(r'^modules-(?P<letter>\w+)\.xml$', 'django.contrib.sitemaps.views.sitemap', {'sitemaps': {'modules': ModuleSitemap(letter)}})",django,url,routes,sitemap,,,open,0,56,10,"django sitemap: can't pass a variable back from the url I'm trying to create a sitemap in django with a dynamic name that i can pass back to my sitemap class. Does anyone know how i can do that in my url pattern? 

url should look like this 
/modules-a.xml # where 'a' could be [a-z]

This is what i'm trying without success 
(r'^modules-(?P<letter>\w+)\.xml$', 'django.contrib.sitemaps.views.sitemap', {'sitemaps': {'modules': ModuleSitemap(letter)}})",4
8379886,12/05/2011 00:51:47,418798,08/12/2010 19:07:10,18,1,Celery slowing down django,"I have a django 1.3 site using SQLite. It works well. 

I recently install django-celery along with django-kombu. I am using supervisord to launch the  celery dameon with the command:

python manage.py celeryd -v 2 -B -s celery -E

Everything works, except launching celeryd brings the system to a crawl. When I use top, I see that I am creating a long running python process that consumes anywhere from 5% to 10% of the cpu on my shared server. 

During testing, I have no celery tasks scheduled or running.



",django,celery,supervisord,kombu,,12/06/2011 02:34:08,off topic,1,88,4,"Celery slowing down django I have a django 1.3 site using SQLite. It works well. 

I recently install django-celery along with django-kombu. I am using supervisord to launch the  celery dameon with the command:

python manage.py celeryd -v 2 -B -s celery -E

Everything works, except launching celeryd brings the system to a crawl. When I use top, I see that I am creating a long running python process that consumes anywhere from 5% to 10% of the cpu on my shared server. 

During testing, I have no celery tasks scheduled or running.



",4
5053992,02/19/2011 22:35:36,624782,02/19/2011 22:22:58,1,0,What can I do if I want to access settings.py in windows 7 and this doesnt open?,Im using the tutorial in django proyect and follow their instruction but once we get to the open settings.py to set some things the setting doesnt open,django,settings,,,,,open,0,27,17,What can I do if I want to access settings.py in windows 7 and this doesnt open? Im using the tutorial in django proyect and follow their instruction but once we get to the open settings.py to set some things the setting doesnt open,2
7398301,09/13/2011 07:30:40,624075,02/19/2011 04:37:53,49,4,Django class based views success_url,"I am trying to set the success_url on a django class based UpdateView but cannot get it to work. I have tried the syntax suggested in the docs

    success_url=""/polls/%(slug)s/""

But it is not working. How can I access the model fields in the success_url?",django,django-views,,,,,open,0,46,5,"Django class based views success_url I am trying to set the success_url on a django class based UpdateView but cannot get it to work. I have tried the syntax suggested in the docs

    success_url=""/polls/%(slug)s/""

But it is not working. How can I access the model fields in the success_url?",2
6770844,07/21/2011 03:05:07,112785,05/26/2009 21:52:39,368,11,Django-CMS plugin not appearing,"I'm deploying a Django website. All the custom plugins I have work on my computer (I can add them into a template block from the drop down.) but when I push the code out to the site, not all the plugins are available.

The database tables are created, and if I import `plugin_pool` and call `discover_plugins()` and then `get_all_plugins()` the plugins all show up. So my question is, why aren't my plugins showing? Any ideas?",django,django-cms,,,,,open,0,74,4,"Django-CMS plugin not appearing I'm deploying a Django website. All the custom plugins I have work on my computer (I can add them into a template block from the drop down.) but when I push the code out to the site, not all the plugins are available.

The database tables are created, and if I import `plugin_pool` and call `discover_plugins()` and then `get_all_plugins()` the plugins all show up. So my question is, why aren't my plugins showing? Any ideas?",2
3390841,08/02/2010 18:53:04,389890,07/12/2010 21:37:05,40,0,Any good Django books?,I'm new to web development was looking into getting into it for the first time.  A friend recommended Django which apparently semirecently released version 1.2.  Are there any good books out yet for 1.2?,django,,,,,09/24/2011 14:55:47,not constructive,1,36,4,Any good Django books? I'm new to web development was looking into getting into it for the first time.  A friend recommended Django which apparently semirecently released version 1.2.  Are there any good books out yet for 1.2?,1
5047342,02/18/2011 22:43:14,464669,10/02/2010 15:35:34,53,24,django save - database not updating.,"I have models with custom save methods.

    def save(self, force_insert=False, force_update=False):
        self.body_html = markdown(self.body)
        super(News, self).save(force_insert, force_update)

I can add news nae bother and everything is fine until I decide to alter the data in an existing object.
I make the change and hit save and am told that

> ""The news ""The best news"" was changed successfully.""

However, it most certainly was not and the data stays the same as it was before the changes.

What am I forgetting or doing wrong?
Thanks in advance.",django,django-models,,,,,open,0,97,6,"django save - database not updating. I have models with custom save methods.

    def save(self, force_insert=False, force_update=False):
        self.body_html = markdown(self.body)
        super(News, self).save(force_insert, force_update)

I can add news nae bother and everything is fine until I decide to alter the data in an existing object.
I make the change and hit save and am told that

> ""The news ""The best news"" was changed successfully.""

However, it most certainly was not and the data stays the same as it was before the changes.

What am I forgetting or doing wrong?
Thanks in advance.",2
9080429,01/31/2012 13:38:09,976290,10/03/2011 07:59:14,13,0,How to measure and solve the bottleneck in a website with 60K PV/day,"I'll try to start with the real life example in my case:

I have a website with around 60K page views per day (at peak time, 100 active visitors on site, due to google realtime analytics). **Django+apache**. 1 Linode server with **1024M RAM** and **4core CPU**, and **amazon S3** service to store static files. It turns out to me now it reaches its bottleneck (peak time it response slow).

One thing I could see is from the memory, nearly 91% of memory being consumed at peak time. But not sure if there are some other bottlenecks.

2 questions:

**1: Where**: If I want to solve this problem, I need to know exactly where the problem sits in. So I'm wondering how could I measure where the bottleneck is?

**2: How**: How could I solve the memory bottleneck? One way I could think of is to simply add more memories, or add more machines using the load balancers (sure it's more expensive...). Another way, not sure, but possibly change from apache to nginx?",django,apache,nginx,,,01/31/2012 20:30:15,off topic,1,167,13,"How to measure and solve the bottleneck in a website with 60K PV/day I'll try to start with the real life example in my case:

I have a website with around 60K page views per day (at peak time, 100 active visitors on site, due to google realtime analytics). **Django+apache**. 1 Linode server with **1024M RAM** and **4core CPU**, and **amazon S3** service to store static files. It turns out to me now it reaches its bottleneck (peak time it response slow).

One thing I could see is from the memory, nearly 91% of memory being consumed at peak time. But not sure if there are some other bottlenecks.

2 questions:

**1: Where**: If I want to solve this problem, I need to know exactly where the problem sits in. So I'm wondering how could I measure where the bottleneck is?

**2: How**: How could I solve the memory bottleneck? One way I could think of is to simply add more memories, or add more machines using the load balancers (sure it's more expensive...). Another way, not sure, but possibly change from apache to nginx?",3
4583990,01/03/2011 11:19:17,558412,12/30/2010 15:13:15,10,1,django ordering with greek characters,"in my django application admin i have the names of my administrators listed and ordered by name.
However the alphabetical ordering does not seem to work correctly. I am not sure if thats because of the greek characters. 

Here's what happens:

-Names starting with the character A

-then a name starting with the character Z

-B,Γ,Δ,Ε... etc (ordering continues normally)

here's my class: (striped down from models.py)

    class Admin(models.Model):
        admin_name = models.CharField(unique = True, blank = False, null = False, max_length = 128, verbose_name = u'admin full name')
    
        def __unicode__(self):
            return self.admin_name
        class Meta:
            ordering = ('admin_name',)
            verbose_name = u'Admin Info'

any help is greatly appreciated
",django,ordering,greek,,,,open,0,161,5,"django ordering with greek characters in my django application admin i have the names of my administrators listed and ordered by name.
However the alphabetical ordering does not seem to work correctly. I am not sure if thats because of the greek characters. 

Here's what happens:

-Names starting with the character A

-then a name starting with the character Z

-B,Γ,Δ,Ε... etc (ordering continues normally)

here's my class: (striped down from models.py)

    class Admin(models.Model):
        admin_name = models.CharField(unique = True, blank = False, null = False, max_length = 128, verbose_name = u'admin full name')
    
        def __unicode__(self):
            return self.admin_name
        class Meta:
            ordering = ('admin_name',)
            verbose_name = u'Admin Info'

any help is greatly appreciated
",3
1767814,11/20/2009 01:43:22,130822,06/30/2009 04:16:22,13,2,Querying multiple index in django-sphinx,"The django-sphinx documentation shows that django-sphinx layer also supports some basic querying over multiple indexes.

[http://github.com/dcramer/django-sphinx/blob/master/README.rst][1]



    from djangosphinx.models import SphinxSearch
    
    SphinxSearch('index1 index2 index3').query('hello')


  [1]: http://github.com/dcramer/django-sphinx/blob/master/README.rst

It seems SphinxSearch does not contain the function query(). I also tried to include content_type in sphinx.conf sql_query configuration as mentioned in the django-sphinx documentation. Nothing has worked.

    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
    AttributeError: 'SphinxSearch' object has no attribute 'query'

Can anybody throw light on how I could get ranked results from multiple indexes in sphinx

",django,django-sphinx,full-text-search,,,,open,0,106,5,"Querying multiple index in django-sphinx The django-sphinx documentation shows that django-sphinx layer also supports some basic querying over multiple indexes.

[http://github.com/dcramer/django-sphinx/blob/master/README.rst][1]



    from djangosphinx.models import SphinxSearch
    
    SphinxSearch('index1 index2 index3').query('hello')


  [1]: http://github.com/dcramer/django-sphinx/blob/master/README.rst

It seems SphinxSearch does not contain the function query(). I also tried to include content_type in sphinx.conf sql_query configuration as mentioned in the django-sphinx documentation. Nothing has worked.

    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
    AttributeError: 'SphinxSearch' object has no attribute 'query'

Can anybody throw light on how I could get ranked results from multiple indexes in sphinx

",3
10996585,06/12/2012 12:23:34,1436579,06/05/2012 05:29:35,6,0,Django project structure design for development,"I need some design help for my concepts:-

My concept is mother page contain all the links like( forum, advertiser, classified's,etc) different categories. Based on the mother page registration the forum, advertiser, classified's,etc will be worked(based on the user sign in data's will be captured in categories). In feature i will add my concepts in mother page up-to 10 to 20.

So my question is: **Which way I need to design the django project structure?**
  
I have two idea which one is best:-

**1 >>** Each category will be separate project, and mother page will be separate project. To join all this we can use django multiple database with router concept.(In this case we can easily maintain each project in production, but maintain the separate db with router concept)

**2 >>** To create single project for all categories and put separate modules in inside the project.(In this case we don't worry about the router and multiple database session and users)

Please anyone advise on this.

Thanks,
Kesavan",django,django-multi-db,,,,06/13/2012 13:01:00,not constructive,1,161,6,"Django project structure design for development I need some design help for my concepts:-

My concept is mother page contain all the links like( forum, advertiser, classified's,etc) different categories. Based on the mother page registration the forum, advertiser, classified's,etc will be worked(based on the user sign in data's will be captured in categories). In feature i will add my concepts in mother page up-to 10 to 20.

So my question is: **Which way I need to design the django project structure?**
  
I have two idea which one is best:-

**1 >>** Each category will be separate project, and mother page will be separate project. To join all this we can use django multiple database with router concept.(In this case we can easily maintain each project in production, but maintain the separate db with router concept)

**2 >>** To create single project for all categories and put separate modules in inside the project.(In this case we don't worry about the router and multiple database session and users)

Please anyone advise on this.

Thanks,
Kesavan",2
4338455,12/02/2010 18:28:17,405633,07/29/2010 12:00:36,10,0,I can not see utf-8 strings on django powered by tornado server,"I have a django server running on tornado server. 

When I use special caracters like ó or ñ the page certain part of a certain django template is not rendered (character set has been especified to 'utf-8' in settings.py and tornado_script.py # -*- coding: utf-8 -*-).

Considering that just a certain part of the template is not well rendered (a form) and the server works perfectly using the django built-in runserver, I could supposed the problem is comming from tornado server, but I can not debug that configuration.

If some of you know how to debug this to find the missing configuration, please let me know. 

I've been searching a lot last 3 hours with no results.

Best Regards",django,utf-8,tornado,,,,open,0,116,12,"I can not see utf-8 strings on django powered by tornado server I have a django server running on tornado server. 

When I use special caracters like ó or ñ the page certain part of a certain django template is not rendered (character set has been especified to 'utf-8' in settings.py and tornado_script.py # -*- coding: utf-8 -*-).

Considering that just a certain part of the template is not well rendered (a form) and the server works perfectly using the django built-in runserver, I could supposed the problem is comming from tornado server, but I can not debug that configuration.

If some of you know how to debug this to find the missing configuration, please let me know. 

I've been searching a lot last 3 hours with no results.

Best Regards",3
2551933,03/31/2010 10:03:20,267831,10/08/2009 15:56:25,123,1,Django: accessing session variables from within a template?,"If I set a session variable in Django, like: 

    request.session[""name""] = ""name""

Is there a way I can access it from within a template, or do I have to retrieve it from within a view, and then pass it to a template?

Asking because I have around 10 little session variables that I'd like to access within a template, and passing all 10 from the view to the template could get a bit messy. 

(I have to use session variables because it's a HttpResponseRedirect, but storing the variables in a database is overkill for my purposes.)

So - any way to grab session variables directly within a template?
",django,,,,,,open,0,109,8,"Django: accessing session variables from within a template? If I set a session variable in Django, like: 

    request.session[""name""] = ""name""

Is there a way I can access it from within a template, or do I have to retrieve it from within a view, and then pass it to a template?

Asking because I have around 10 little session variables that I'd like to access within a template, and passing all 10 from the view to the template could get a bit messy. 

(I have to use session variables because it's a HttpResponseRedirect, but storing the variables in a database is overkill for my purposes.)

So - any way to grab session variables directly within a template?
",1
3317422,07/23/2010 10:46:38,400161,07/23/2010 10:46:38,1,0,Django import error.,"I have two django-apps.
news and comments
in news/models.py I import my comments with ""from my_proj.comments.models import Comment""
and in my comments/models.py I import my news class with ""from my_proj.news.models import News""

Then in my third app (named frontpage) I import News in the view.py.
But I get the error:
Could not import hb_frontpage.views. Error was: cannot import name News

If I delete the import in the comments/models.py file (and the functions that uses News) it works.
Anyone know how to solve this?",django,import,,,,01/26/2012 20:55:11,too localized,1,75,3,"Django import error. I have two django-apps.
news and comments
in news/models.py I import my comments with ""from my_proj.comments.models import Comment""
and in my comments/models.py I import my news class with ""from my_proj.news.models import News""

Then in my third app (named frontpage) I import News in the view.py.
But I get the error:
Could not import hb_frontpage.views. Error was: cannot import name News

If I delete the import in the comments/models.py file (and the functions that uses News) it works.
Anyone know how to solve this?",2
3884180,10/07/2010 17:24:40,7679,09/15/2008 14:12:36,3330,162,Validate/clean a FileField on a non-model form in Django?,"I'm ultimately trying to validate a FileField by extension type. But I'm having trouble even getting the clean method for this field to pickup the POSTed value.

    from django.forms.forms import Form
    from django.forms.fields import FileField
    from django.forms.util import ValidationError
        
    class TestForm(Form):        
        file = FileField(required=False)
            
        def clean_file(self):
            value = self.cleaned_data[""file""]
            print ""clean_file value: %s"" % value
            return None     
                
    @localhost
    def test_forms(request):
        form = TestForm()    
        if request.method == ""POST"":
            form = TestForm(request.POST)        
            if form.is_valid():
                print ""form is valid""
        return render_to_response(""test/form.html"", RequestContext(request, locals()))

When I run the code, I'm getting the following output:

    clean_file value: None
    form is valid

In other words, the clean_file method is not able to get the file data. Likewise, if it returns None, the form is still valid.

Here is my form html:

    <form enctype=""multipart/form-data"" method=""post"" action=""#"">
       <input type=""file"" id=""id_file"" name=""file"">
       <input type=""submit"" value=""Save"">
    </form>

I have seen a [couple snippets][1] with [solutions][2] for this problem, but I cannot get them to work with a non-model form. They both declare a custom field type. When I do that, I get the same problem; calling super() returns a None object.

  [1]: http://djangosnippets.org/snippets/977/
  [2]: http://www.neverfriday.com/sweetfriday/2008/03/validating-file-uploads-with-d.html",django,django-forms,django-validation,,,,open,0,391,9,"Validate/clean a FileField on a non-model form in Django? I'm ultimately trying to validate a FileField by extension type. But I'm having trouble even getting the clean method for this field to pickup the POSTed value.

    from django.forms.forms import Form
    from django.forms.fields import FileField
    from django.forms.util import ValidationError
        
    class TestForm(Form):        
        file = FileField(required=False)
            
        def clean_file(self):
            value = self.cleaned_data[""file""]
            print ""clean_file value: %s"" % value
            return None     
                
    @localhost
    def test_forms(request):
        form = TestForm()    
        if request.method == ""POST"":
            form = TestForm(request.POST)        
            if form.is_valid():
                print ""form is valid""
        return render_to_response(""test/form.html"", RequestContext(request, locals()))

When I run the code, I'm getting the following output:

    clean_file value: None
    form is valid

In other words, the clean_file method is not able to get the file data. Likewise, if it returns None, the form is still valid.

Here is my form html:

    <form enctype=""multipart/form-data"" method=""post"" action=""#"">
       <input type=""file"" id=""id_file"" name=""file"">
       <input type=""submit"" value=""Save"">
    </form>

I have seen a [couple snippets][1] with [solutions][2] for this problem, but I cannot get them to work with a non-model form. They both declare a custom field type. When I do that, I get the same problem; calling super() returns a None object.

  [1]: http://djangosnippets.org/snippets/977/
  [2]: http://www.neverfriday.com/sweetfriday/2008/03/validating-file-uploads-with-d.html",3
2020775,01/07/2010 13:58:46,189815,10/14/2009 12:30:50,33,0,Query and paginate three types of models at the same time in django,"In django I have three models:

 - SimpleProduct
 - ConfigurableProduct Instead of showing several variations of SimpleProducts, the user will see one product with options like color.
 - GroupProduct - Several SimpleProducts that are sold together.

First I'm creating all the SimpleProducts, then I create ConfigurableProducts from several products that are variations on the same product and last GroupProducts which are combiniations of several SimpleProducts.

When a user navigate to a category I need to show him all the three types. If a SimpleProduct is part of a ConfigurableProduct I don't want to show it twice.

How do I make the query? Do I have to create three several queries?
How do I use pagination on three models at the same time?
Can I somehow use inheritance?

Thanks",django,pagination,queryset,,,,open,0,122,13,"Query and paginate three types of models at the same time in django In django I have three models:

 - SimpleProduct
 - ConfigurableProduct Instead of showing several variations of SimpleProducts, the user will see one product with options like color.
 - GroupProduct - Several SimpleProducts that are sold together.

First I'm creating all the SimpleProducts, then I create ConfigurableProducts from several products that are variations on the same product and last GroupProducts which are combiniations of several SimpleProducts.

When a user navigate to a category I need to show him all the three types. If a SimpleProduct is part of a ConfigurableProduct I don't want to show it twice.

How do I make the query? Do I have to create three several queries?
How do I use pagination on three models at the same time?
Can I somehow use inheritance?

Thanks",3
3692159,09/11/2010 18:37:02,304141,03/29/2010 11:17:24,343,6,How do I  redefine functions in python?," I got a function in a certain module that I want to redefine(mock) at runtime for testing purposes. As far as I understand, function definition is nothing more than an assignment in python(the module definition itself is a kind of function being executed). As I said, I wanna do this in the setup of a test case, so the function to be redefined lives in another module. What is the syntax for doing this?",django,python,,,,,open,0,75,8,"How do I  redefine functions in python?  I got a function in a certain module that I want to redefine(mock) at runtime for testing purposes. As far as I understand, function definition is nothing more than an assignment in python(the module definition itself is a kind of function being executed). As I said, I wanna do this in the setup of a test case, so the function to be redefined lives in another module. What is the syntax for doing this?",2
2654506,04/16/2010 16:15:36,301097,03/24/2010 18:15:51,6,1,What is the best / proper idiom in django for modifying a field during a .save() where you need to old value?,"say I've got:

    class LogModel(models.Model):
        message = models.CharField(max_length=512)

    class Assignment(models.Model):
        someperson = models.ForeignKey(SomeOtherModel)
        def save(self, *args, **kwargs):
            super(Assignment, self).save()
            old_person = #?????
            LogModel(message=""%s is no longer assigned to %s""%(old_person, self).save()
            LogModel(message=""%s is now assigned to %s""%(self.someperson, self).save()

My goal is to save to LogModel some messages about who Assignment was assigned to. Notice that I need to know the old, presave value of this field.

I have seen code that suggests, before super().save(), retrieve the instance from the database via primary key and grab the old value from there. This could work, but is a bit messy.

In addition, I plan to eventually split this code out of the .save() method via signals - namely pre_save() and post_save(). Trying to use the above logic (Retrieve from the db in pre_save, make the log entry in post_save) seemingly fails here, as pre_save and post_save are two seperate methods. Perhaps in pre_save I can retrieve the old value and stick it on the model as an attribute?

I was wondering if there was a common idiom for this. Thanks.",django,signals,models,orm,,,open,0,244,22,"What is the best / proper idiom in django for modifying a field during a .save() where you need to old value? say I've got:

    class LogModel(models.Model):
        message = models.CharField(max_length=512)

    class Assignment(models.Model):
        someperson = models.ForeignKey(SomeOtherModel)
        def save(self, *args, **kwargs):
            super(Assignment, self).save()
            old_person = #?????
            LogModel(message=""%s is no longer assigned to %s""%(old_person, self).save()
            LogModel(message=""%s is now assigned to %s""%(self.someperson, self).save()

My goal is to save to LogModel some messages about who Assignment was assigned to. Notice that I need to know the old, presave value of this field.

I have seen code that suggests, before super().save(), retrieve the instance from the database via primary key and grab the old value from there. This could work, but is a bit messy.

In addition, I plan to eventually split this code out of the .save() method via signals - namely pre_save() and post_save(). Trying to use the above logic (Retrieve from the db in pre_save, make the log entry in post_save) seemingly fails here, as pre_save and post_save are two seperate methods. Perhaps in pre_save I can retrieve the old value and stick it on the model as an attribute?

I was wondering if there was a common idiom for this. Thanks.",4
6950767,08/05/2011 02:25:22,879751,08/05/2011 02:25:22,1,0,How to serve Django static files through HTTPS?,"I'm getting 404 errors when accessing static files served through HTTPS but static files work fine through HTTP.  

To be clear, I can access a particular page both ways e.g. `http://domain.com/page` and `https://domain.com/page` but in the HTTPS case, the images will fail to load.  

Furthermore, accessing an image directly `http://domain.com/static/image.png` works but `https://domain.com/static/image.png` returns 404.

I am running Ubuntu 10.04 with Django 1.3 using mod_wsgi on apache2.

Here are the relevant files (wsgi and prod.conf and secure_prod.conf and settings.py):

django.wsgi
===========

    import os
    import sys
    import site
    
    sys.stdout = sys.stderr # Allows use of print statements
    
    PROJECT_ROOT = '/home/code/domain/src/domain-project/'
    site_packages = '/home/code/domain/lib/python2.6/site-packages'
    
    site.addsitedir(os.path.abspath(site_packages))
    sys.path.insert(0, PROJECT_ROOT)
    sys.path.insert(1, os.path.join(PROJECT_ROOT, ""domain""))
    sys.path.insert(2, site_packages)
    os.environ['DJANGO_SETTINGS_MODULE'] = 'domain.settings'
    os.environ['PYTHON_EGG_CACHE'] = '/home/administrator/.python-eggs'
    os.environ[""CELERY_LOADER""] = ""django""
    
    import django.core.handlers.wsgi
    application = django.core.handlers.wsgi.WSGIHandler()
    
    # Load a monitor to automatically reload apache when files change
    import domain.monitor
    domain.monitor.start(interval=1.0)


production.conf
==============

    <VirtualHost *:80>
    
      # Admin email, Server Name (domain name) and any aliases
      ServerAdmin d@domain.com
      ServerName domain.com
    	ServerAlias *.domain.com
    
      DocumentRoot /home/code/domain/src/domain-project/domain
      LogLevel warn
      WSGIDaemonProcess domain-production processes=5 maximum-requests=500 threads=100
      WSGIProcessGroup domain-production
      WSGIScriptAlias / /home/code/domain/src/domain-project/apache/production.wsgi
    
      SetEnv PYTHON_EGG_CACHE /home/apache/.python_eggs
    
    	Alias /admin/media /home/code/domain/lib/python2.6/site-packages/django/contrib/admin/media
    	Alias /site_media /home/code/domain/src/domain-project/static
    	Alias /static /home/code/domain/src/domain-project/static
    	Alias /robots.txt /home/code/domain/src/domain-project/static/robots.txt
    	Alias /favicon.ico /home/code/domain/src/domain-project/static/favicon.ico
    
      <Location /admin/media>
        SetHandler None
        Order allow,deny
        Allow from all
      </Location>
    
      <Location /site_media>
        SetHandler None
        Order allow,deny
        Allow from all
      </Location>
    
      <LocationMatch ""\.(jpg|gif|png|mp4)$"">
        SetHandler None
      </LocationMatch>
    
      <LocationMatch ""^/(robots\.txt|favicon\.ico|crossdomain\.xml)$"">
        SetHandler none
      </LocationMatch>
    
      ErrorLog /var/log/apache2/domain/production_error.log
      LogLevel info
      CustomLog /var/log/apache2/domain/production_access.log combined
    
    </VirtualHost>


secure_production.conf
==============



    <VirtualHost *:443>
    
        ServerAdmin d@domain.com
        ServerName domain.com
        ServerAlias *.domain.com
        	
        DocumentRoot /home/code/domain/src/domain-project/domain 
        LogLevel warn
        WSGIDaemonProcess domain-production processes=5 maximum-requests=500 threads=100
        WSGIProcessGroup domain_production_secure
        WSGIScriptAlias / /home/code/domain/src/domain-project/apache/production.wsgi
    
        SSLEngine on
        SSLOptions +StrictRequire
    
        <Directory />
            SSLRequireSSL
        </Directory>
    
        SSLProtocol -all +TLSv1 +SSLv3
        SSLCipherSuite HIGH:MEDIUM:!aNULL:+SHA1:+MD5:+HIGH:+MEDIUM
    
        SSLCertificateFile /home/code/domain/src/domain-project/apache/key/domain.COM.crt
        SSLCertificateKeyFile /home/code/domain/src/domain-project/apache/key/domain.com.key
    	SSLCertificateChainFile /home/code/domain/src/domain-project/apache/key/Apache_Plesk_Install.txt
        SSLVerifyClient none
        SSLProxyEngine off
    
        <IfModule mime.c>
            AddType application/x-x509-ca-cert      .crt
            AddType application/x-pkcs7-crl         .crl
        </IfModule>
    
    
        SetEnv PYTHON_EGG_CACHE /home/apache/.python_eggs
    
    
    	Alias /admin/media /home/code/domain/lib/python2.6/site-packages/django/contrib/admin/media
    	Alias /site_media /home/code/domain/src/domain-project/static
    	Alias /static /home/code/domain/src/domain-project/static
    	Alias /robots.txt /home/code/domain/src/domain-project/static/robots.txt
    	Alias /favicon.ico /home/code/domain/src/domain-project/static/favicon.ico
    
    
        <Location /admin/media>
          SetHandler None
          Order allow,deny
          Allow from all
        </Location>
    
        <Location /site_media>
          SetHandler None
          Order allow,deny
          Allow from all
        </Location>
    
        <LocationMatch ""\.(jpg|gif|png|mp4)$"">
          SetHandler None
        </LocationMatch>
    
        <LocationMatch ""^/(robots\.txt|favicon\.ico|crossdomain\.xml)$"">
          SetHandler none
        </LocationMatch>
    
        ErrorLog /var/log/apache2/domain/production_secure_error.log
        LogLevel info
        CustomLog /var/log/apache2/domain/production_secure_access.log combined
    
    </VirtualHost>

settings.py
=============


    # Django settings for domain project.
    import os
    
    DEBUG = False
    TEMPLATE_DEBUG = DEBUG 
    
    # create a relative path to anything on the project from the PROJECT PATH
    SETTINGS_PATH = os.path.dirname(os.path.abspath(__file__))
    PROJECT_PATH = os.path.join(*os.path.split(SETTINGS_PATH)[:-1])
    rel = lambda * args: os.path.join(PROJECT_PATH, *args)
    
    # Absolute path to the directory static files should be collected to.
    # Don't put anything in this directory yourself; store your static files
    # in apps' ""static/"" subdirectories and in STATICFILES_DIRS.
    # Example: ""/home/media/media.lawrence.com/static/""
    STATIC_ROOT = rel('..', 'static')
    
    # URL prefix for static files.
    # Example: ""http://media.lawrence.com/static/""
    STATIC_URL = '/static/'
    
    # Additional locations of static files
    STATICFILES_DIRS = (
        # Put strings here, like ""/home/html/static"" or ""C:/www/django/static"".
        # Always use forward slashes, even on Windows.
        # Don't forget to use absolute paths, not relative paths.
    )
    
    # List of finder classes that know how to find static files in
    # various locations.
    STATICFILES_FINDERS = (
        'django.contrib.staticfiles.finders.FileSystemFinder',
        'django.contrib.staticfiles.finders.AppDirectoriesFinder',
    #    'django.contrib.staticfiles.finders.DefaultStorageFinder',
    )
    
    # List of callables that know how to import templates from various sources.
    TEMPLATE_LOADERS = (
        'django.template.loaders.filesystem.Loader',
        'django.template.loaders.app_directories.Loader',
    #     'django.template.loaders.eggs.Loader',
    )
    
    TEMPLATE_CONTEXT_PROCESSORS = (
        'django.contrib.auth.context_processors.auth',
        'django.core.context_processors.debug',
        'django.core.context_processors.i18n',
        'django.core.context_processors.request',
        'django.core.context_processors.static',
    )
    
    
    MIDDLEWARE_CLASSES = (
        'django.middleware.common.CommonMiddleware',
        'django.contrib.sessions.middleware.SessionMiddleware',
        'django.middleware.csrf.CsrfViewMiddleware',
        'django.contrib.auth.middleware.AuthenticationMiddleware',
        'django.contrib.messages.middleware.MessageMiddleware',
    )
    
    ROOT_URLCONF = 'domain.urls'
    
    TEMPLATE_DIRS = (
        # Put strings here, like ""/home/html/django_templates"" or ""C:/www/django/templates"".
        # Always use forward slashes, even on Windows.
        # Don't forget to use absolute paths, not relative paths.
    	rel('..', 'templates'),
    )
    
    DJANGO_APPS= [
        'django.contrib.auth',
        'django.contrib.contenttypes',
        'django.contrib.sessions',
        'django.contrib.sites',
        'django.contrib.messages',
        'django.contrib.staticfiles',
        'django.contrib.admin',
    ]
    
    THIRDPARTY_APPS = [
    	'djcelery',
    	'djkombu',
    	#'sentry',
    	#'sentry.client',
    	#'south',
    ]
    
    domain_APPS= []
    
    INSTALLED_APPS = DJANGO_APPS + THIRDPARTY_APPS + domain_APPS
",django,static,https,image-scaling,,,open,0,1728,8,"How to serve Django static files through HTTPS? I'm getting 404 errors when accessing static files served through HTTPS but static files work fine through HTTP.  

To be clear, I can access a particular page both ways e.g. `http://domain.com/page` and `https://domain.com/page` but in the HTTPS case, the images will fail to load.  

Furthermore, accessing an image directly `http://domain.com/static/image.png` works but `https://domain.com/static/image.png` returns 404.

I am running Ubuntu 10.04 with Django 1.3 using mod_wsgi on apache2.

Here are the relevant files (wsgi and prod.conf and secure_prod.conf and settings.py):

django.wsgi
===========

    import os
    import sys
    import site
    
    sys.stdout = sys.stderr # Allows use of print statements
    
    PROJECT_ROOT = '/home/code/domain/src/domain-project/'
    site_packages = '/home/code/domain/lib/python2.6/site-packages'
    
    site.addsitedir(os.path.abspath(site_packages))
    sys.path.insert(0, PROJECT_ROOT)
    sys.path.insert(1, os.path.join(PROJECT_ROOT, ""domain""))
    sys.path.insert(2, site_packages)
    os.environ['DJANGO_SETTINGS_MODULE'] = 'domain.settings'
    os.environ['PYTHON_EGG_CACHE'] = '/home/administrator/.python-eggs'
    os.environ[""CELERY_LOADER""] = ""django""
    
    import django.core.handlers.wsgi
    application = django.core.handlers.wsgi.WSGIHandler()
    
    # Load a monitor to automatically reload apache when files change
    import domain.monitor
    domain.monitor.start(interval=1.0)


production.conf
==============

    <VirtualHost *:80>
    
      # Admin email, Server Name (domain name) and any aliases
      ServerAdmin d@domain.com
      ServerName domain.com
    	ServerAlias *.domain.com
    
      DocumentRoot /home/code/domain/src/domain-project/domain
      LogLevel warn
      WSGIDaemonProcess domain-production processes=5 maximum-requests=500 threads=100
      WSGIProcessGroup domain-production
      WSGIScriptAlias / /home/code/domain/src/domain-project/apache/production.wsgi
    
      SetEnv PYTHON_EGG_CACHE /home/apache/.python_eggs
    
    	Alias /admin/media /home/code/domain/lib/python2.6/site-packages/django/contrib/admin/media
    	Alias /site_media /home/code/domain/src/domain-project/static
    	Alias /static /home/code/domain/src/domain-project/static
    	Alias /robots.txt /home/code/domain/src/domain-project/static/robots.txt
    	Alias /favicon.ico /home/code/domain/src/domain-project/static/favicon.ico
    
      <Location /admin/media>
        SetHandler None
        Order allow,deny
        Allow from all
      </Location>
    
      <Location /site_media>
        SetHandler None
        Order allow,deny
        Allow from all
      </Location>
    
      <LocationMatch ""\.(jpg|gif|png|mp4)$"">
        SetHandler None
      </LocationMatch>
    
      <LocationMatch ""^/(robots\.txt|favicon\.ico|crossdomain\.xml)$"">
        SetHandler none
      </LocationMatch>
    
      ErrorLog /var/log/apache2/domain/production_error.log
      LogLevel info
      CustomLog /var/log/apache2/domain/production_access.log combined
    
    </VirtualHost>


secure_production.conf
==============



    <VirtualHost *:443>
    
        ServerAdmin d@domain.com
        ServerName domain.com
        ServerAlias *.domain.com
        	
        DocumentRoot /home/code/domain/src/domain-project/domain 
        LogLevel warn
        WSGIDaemonProcess domain-production processes=5 maximum-requests=500 threads=100
        WSGIProcessGroup domain_production_secure
        WSGIScriptAlias / /home/code/domain/src/domain-project/apache/production.wsgi
    
        SSLEngine on
        SSLOptions +StrictRequire
    
        <Directory />
            SSLRequireSSL
        </Directory>
    
        SSLProtocol -all +TLSv1 +SSLv3
        SSLCipherSuite HIGH:MEDIUM:!aNULL:+SHA1:+MD5:+HIGH:+MEDIUM
    
        SSLCertificateFile /home/code/domain/src/domain-project/apache/key/domain.COM.crt
        SSLCertificateKeyFile /home/code/domain/src/domain-project/apache/key/domain.com.key
    	SSLCertificateChainFile /home/code/domain/src/domain-project/apache/key/Apache_Plesk_Install.txt
        SSLVerifyClient none
        SSLProxyEngine off
    
        <IfModule mime.c>
            AddType application/x-x509-ca-cert      .crt
            AddType application/x-pkcs7-crl         .crl
        </IfModule>
    
    
        SetEnv PYTHON_EGG_CACHE /home/apache/.python_eggs
    
    
    	Alias /admin/media /home/code/domain/lib/python2.6/site-packages/django/contrib/admin/media
    	Alias /site_media /home/code/domain/src/domain-project/static
    	Alias /static /home/code/domain/src/domain-project/static
    	Alias /robots.txt /home/code/domain/src/domain-project/static/robots.txt
    	Alias /favicon.ico /home/code/domain/src/domain-project/static/favicon.ico
    
    
        <Location /admin/media>
          SetHandler None
          Order allow,deny
          Allow from all
        </Location>
    
        <Location /site_media>
          SetHandler None
          Order allow,deny
          Allow from all
        </Location>
    
        <LocationMatch ""\.(jpg|gif|png|mp4)$"">
          SetHandler None
        </LocationMatch>
    
        <LocationMatch ""^/(robots\.txt|favicon\.ico|crossdomain\.xml)$"">
          SetHandler none
        </LocationMatch>
    
        ErrorLog /var/log/apache2/domain/production_secure_error.log
        LogLevel info
        CustomLog /var/log/apache2/domain/production_secure_access.log combined
    
    </VirtualHost>

settings.py
=============


    # Django settings for domain project.
    import os
    
    DEBUG = False
    TEMPLATE_DEBUG = DEBUG 
    
    # create a relative path to anything on the project from the PROJECT PATH
    SETTINGS_PATH = os.path.dirname(os.path.abspath(__file__))
    PROJECT_PATH = os.path.join(*os.path.split(SETTINGS_PATH)[:-1])
    rel = lambda * args: os.path.join(PROJECT_PATH, *args)
    
    # Absolute path to the directory static files should be collected to.
    # Don't put anything in this directory yourself; store your static files
    # in apps' ""static/"" subdirectories and in STATICFILES_DIRS.
    # Example: ""/home/media/media.lawrence.com/static/""
    STATIC_ROOT = rel('..', 'static')
    
    # URL prefix for static files.
    # Example: ""http://media.lawrence.com/static/""
    STATIC_URL = '/static/'
    
    # Additional locations of static files
    STATICFILES_DIRS = (
        # Put strings here, like ""/home/html/static"" or ""C:/www/django/static"".
        # Always use forward slashes, even on Windows.
        # Don't forget to use absolute paths, not relative paths.
    )
    
    # List of finder classes that know how to find static files in
    # various locations.
    STATICFILES_FINDERS = (
        'django.contrib.staticfiles.finders.FileSystemFinder',
        'django.contrib.staticfiles.finders.AppDirectoriesFinder',
    #    'django.contrib.staticfiles.finders.DefaultStorageFinder',
    )
    
    # List of callables that know how to import templates from various sources.
    TEMPLATE_LOADERS = (
        'django.template.loaders.filesystem.Loader',
        'django.template.loaders.app_directories.Loader',
    #     'django.template.loaders.eggs.Loader',
    )
    
    TEMPLATE_CONTEXT_PROCESSORS = (
        'django.contrib.auth.context_processors.auth',
        'django.core.context_processors.debug',
        'django.core.context_processors.i18n',
        'django.core.context_processors.request',
        'django.core.context_processors.static',
    )
    
    
    MIDDLEWARE_CLASSES = (
        'django.middleware.common.CommonMiddleware',
        'django.contrib.sessions.middleware.SessionMiddleware',
        'django.middleware.csrf.CsrfViewMiddleware',
        'django.contrib.auth.middleware.AuthenticationMiddleware',
        'django.contrib.messages.middleware.MessageMiddleware',
    )
    
    ROOT_URLCONF = 'domain.urls'
    
    TEMPLATE_DIRS = (
        # Put strings here, like ""/home/html/django_templates"" or ""C:/www/django/templates"".
        # Always use forward slashes, even on Windows.
        # Don't forget to use absolute paths, not relative paths.
    	rel('..', 'templates'),
    )
    
    DJANGO_APPS= [
        'django.contrib.auth',
        'django.contrib.contenttypes',
        'django.contrib.sessions',
        'django.contrib.sites',
        'django.contrib.messages',
        'django.contrib.staticfiles',
        'django.contrib.admin',
    ]
    
    THIRDPARTY_APPS = [
    	'djcelery',
    	'djkombu',
    	#'sentry',
    	#'sentry.client',
    	#'south',
    ]
    
    domain_APPS= []
    
    INSTALLED_APPS = DJANGO_APPS + THIRDPARTY_APPS + domain_APPS
",4
9360942,02/20/2012 12:14:57,889900,08/11/2011 12:26:32,12,0,How do I set the Django auth.login session length/age?,"I have a Django app deployed on Google App Engine that prematurely logs its users out (not a single browser close is involved). In settings.py, I have this code:

SESSION_COOKIE_AGE = 365 * 24 * 60 * 60
SESSION_EXPIRE_AT_BROWSER_CLOSE = False

I also tried using this code right after calling auth.login():

request.session.set_expiry(30*24*60*60)

Is there any way that I can let the length of the auth.login session be much longer, say, a year?",django,django-authentication,,,,,open,0,67,9,"How do I set the Django auth.login session length/age? I have a Django app deployed on Google App Engine that prematurely logs its users out (not a single browser close is involved). In settings.py, I have this code:

SESSION_COOKIE_AGE = 365 * 24 * 60 * 60
SESSION_EXPIRE_AT_BROWSER_CLOSE = False

I also tried using this code right after calling auth.login():

request.session.set_expiry(30*24*60*60)

Is there any way that I can let the length of the auth.login session be much longer, say, a year?",2
6238961,06/04/2011 19:40:27,404772,07/28/2010 16:27:16,1,0,Is Django-shop ready for production?,"Did you use [django-shop][1] ([repo django-shop][2]) or will use it in yours commercial projects and if not, suggest me stable and easy customizable e-commerce django-based solution?

Thanks. 


  [1]: https://www.django-shop.org/
  [2]: https://github.com/divio/django-shop",django,e-commerce,suggestion,shop,,06/05/2011 01:43:41,not constructive,1,33,5,"Is Django-shop ready for production? Did you use [django-shop][1] ([repo django-shop][2]) or will use it in yours commercial projects and if not, suggest me stable and easy customizable e-commerce django-based solution?

Thanks. 


  [1]: https://www.django-shop.org/
  [2]: https://github.com/divio/django-shop",4
7942535,10/30/2011 00:13:43,801820,06/16/2011 15:43:06,35,0,How do you have a dynamic template name using class based generic views in django?,"I'm trying to emulate this with djangos new class based generic views and can't figure it out: 

    urlpatterns = pattern('', 
    (r'^about/(\w+)/$', about_pages),
    )
    
    def about_pages(request, page):
      return direct_to_template(request, template=""about/%s.html"" % page)

Is this just not possible with class based views? Do you have to overwrite as_view()? If so how do you do that?

",django,django-views,django-class-based-views,,,,open,0,75,15,"How do you have a dynamic template name using class based generic views in django? I'm trying to emulate this with djangos new class based generic views and can't figure it out: 

    urlpatterns = pattern('', 
    (r'^about/(\w+)/$', about_pages),
    )
    
    def about_pages(request, page):
      return direct_to_template(request, template=""about/%s.html"" % page)

Is this just not possible with class based views? Do you have to overwrite as_view()? If so how do you do that?

",3
8763431,01/06/2012 19:34:57,410102,08/03/2010 20:12:41,2124,115,delete_model not called when deleting selected items from TabularInline,"my code:
<code><pre>
class FileAdmin(admin.TabularInline):
    model = models.File
    extra = 0<br>
    def delete_model(self, request, instance):
        # do extra work
        return super(FileAdmin, self).delete_model(request, instance)<br>
class BannerAdmin(admin.ModelAdmin):
    inlines = (FileAdmin,)<br>
admin.site.register(models.Banner, BannerAdmin)
</pre></code>
when I mark my <code>File</code> items for deletion and save the <code>Banner</code>, the <code>delete_model</code> method on my <code>FileAdmin</code> does not get called.

how can I fix that? do I need to write a custom action and replace <code>django.contrib.admin.actions.delete_selected</code> with mine? if so, how can I reuse the standard action?",django,django-admin,,,,,open,0,99,9,"delete_model not called when deleting selected items from TabularInline my code:
<code><pre>
class FileAdmin(admin.TabularInline):
    model = models.File
    extra = 0<br>
    def delete_model(self, request, instance):
        # do extra work
        return super(FileAdmin, self).delete_model(request, instance)<br>
class BannerAdmin(admin.ModelAdmin):
    inlines = (FileAdmin,)<br>
admin.site.register(models.Banner, BannerAdmin)
</pre></code>
when I mark my <code>File</code> items for deletion and save the <code>Banner</code>, the <code>delete_model</code> method on my <code>FileAdmin</code> does not get called.

how can I fix that? do I need to write a custom action and replace <code>django.contrib.admin.actions.delete_selected</code> with mine? if so, how can I reuse the standard action?",2
9051328,01/29/2012 06:14:23,1164124,01/23/2012 00:25:23,50,6,Django ManyToManyField in forms,"I have user profiles on my website, and until now I had users create their profiles upon registration, filling in their info. Also, I had 2 multiple select boxes, which were namely for choosing programming languages and frameworks users have experience with.

And now I want to change that so that users can instead add projects they have been working on, providing the info on project, which includes programming languages and frameworks they used.

So, basically, I want to have a projects table in my db, that will store all projects from all users, and will be connected to user profile table, connecting a user profile to a project. Just as a note, I don't think I want multiple users working on the same project, as that's a bit out of the scope I have for now.

Now, what I want is to have a separate template for people to create their project info, and then let the website know which user worked on which project. Additionally, I want to have aforementioned programming languages and frameworks multiple select boxes as part of the project creation form.

My models.py:

    class PLanguages(models.Model):
        plangs = models.CharField('Language', max_length=50)
        def __unicode__(self):
            return self.plangs
    
    class Frameworks(models.Model):
        frameworks = models.CharField('Frameworks', max_length=50)
        def __unicode__(self):
            return self.frameworks
    
    class Projects(models.Model):
        name = models.CharField('projectname', max_length=50)
        technologies = models.ManyToManyField(PLanguages)
        frameworks = models.ManyToManyField(Frameworks)
        image = models.ImageField('project_image', upload_to=""img/users/projects"")
        url = models.URLField('url', blank=True)
    
    class UserProfile(models.Model):
        user = models.ForeignKey(User, unique=True)
        fullname = models.CharField('Full Name', max_length=50)
        birthdate = models.DateTimeField('Birthday')
        url = models.URLField('Website', blank=True)
        company = models.CharField('Company', max_length=50)
        CATEGORY_CHOICES = (
                ('M',_('Male')),
                ('F',_('Female')),
                )
        gender = models.CharField('Gender', max_length=200, choices = CATEGORY_CHOICES)
        picture = models.ImageField('Picture/Avatar', upload_to='img/users/profile', blank=True)
        bio = models.TextField()
        projects = models.ManyToManyField(Projects)
        #planguages = models.ManyToManyField(PLanguages)
        #frameworks = models.ManyToManyField(Frameworks)

and, for creating the form, utils.py:

    def get_profile_form():
        profile_mod = get_profile_model()
        class _ProfileForm(forms.ModelForm):
            #planguages = forms.ModelMultipleChoiceField(queryset=PLanguages.objects.all(), required=False, widget=forms.CheckboxSelectMultiple)
            #frameworks = forms.ModelMultipleChoiceField(queryset=Frameworks.objects.all(), required=False, widget=forms.CheckboxSelectMultiple)
            class Meta:
                model = profile_mod
                exclude = ('user',) # User will be filled in by the view.
        return _ProfileForm

and finally my view:

    def create_profile(request, form_class=None, success_url=None,
                       template_name='profiles/create_profile.html',
                       extra_context=None):
        try:
            profile_obj = request.user.get_profile()
            return HttpResponseRedirect(reverse('profiles_edit_profile'))
        except ObjectDoesNotExist:
            pass
        
        if success_url is None:
            success_url = reverse('profiles_profile_detail',
                                  kwargs={ 'username': request.user.username })
        if form_class is None:
            form_class = utils.get_profile_form()
        if request.method == 'POST':
            form = form_class(data=request.POST, files=request.FILES)
            if form.is_valid():
                profile_obj = form.save(commit=False)
                profile_obj.user = request.user
                profile_obj.save()
                if hasattr(form, 'save_m2m'):
                    form.save_m2m()
                return HttpResponseRedirect(success_url)
        else:
            form = form_class()
        
        if extra_context is None:
            extra_context = {}
        context = RequestContext(request)
        for key, value in extra_context.items():
            context[key] = callable(value) and value() or value
        
        return render_to_response(template_name,
                                  { 'form': form },
                                  context_instance=context)
    create_profile = login_required(create_profile)

Any help with either design or code is much appreciated.",django,django-models,django-forms,,,01/30/2012 21:48:00,not a real question,1,1193,4,"Django ManyToManyField in forms I have user profiles on my website, and until now I had users create their profiles upon registration, filling in their info. Also, I had 2 multiple select boxes, which were namely for choosing programming languages and frameworks users have experience with.

And now I want to change that so that users can instead add projects they have been working on, providing the info on project, which includes programming languages and frameworks they used.

So, basically, I want to have a projects table in my db, that will store all projects from all users, and will be connected to user profile table, connecting a user profile to a project. Just as a note, I don't think I want multiple users working on the same project, as that's a bit out of the scope I have for now.

Now, what I want is to have a separate template for people to create their project info, and then let the website know which user worked on which project. Additionally, I want to have aforementioned programming languages and frameworks multiple select boxes as part of the project creation form.

My models.py:

    class PLanguages(models.Model):
        plangs = models.CharField('Language', max_length=50)
        def __unicode__(self):
            return self.plangs
    
    class Frameworks(models.Model):
        frameworks = models.CharField('Frameworks', max_length=50)
        def __unicode__(self):
            return self.frameworks
    
    class Projects(models.Model):
        name = models.CharField('projectname', max_length=50)
        technologies = models.ManyToManyField(PLanguages)
        frameworks = models.ManyToManyField(Frameworks)
        image = models.ImageField('project_image', upload_to=""img/users/projects"")
        url = models.URLField('url', blank=True)
    
    class UserProfile(models.Model):
        user = models.ForeignKey(User, unique=True)
        fullname = models.CharField('Full Name', max_length=50)
        birthdate = models.DateTimeField('Birthday')
        url = models.URLField('Website', blank=True)
        company = models.CharField('Company', max_length=50)
        CATEGORY_CHOICES = (
                ('M',_('Male')),
                ('F',_('Female')),
                )
        gender = models.CharField('Gender', max_length=200, choices = CATEGORY_CHOICES)
        picture = models.ImageField('Picture/Avatar', upload_to='img/users/profile', blank=True)
        bio = models.TextField()
        projects = models.ManyToManyField(Projects)
        #planguages = models.ManyToManyField(PLanguages)
        #frameworks = models.ManyToManyField(Frameworks)

and, for creating the form, utils.py:

    def get_profile_form():
        profile_mod = get_profile_model()
        class _ProfileForm(forms.ModelForm):
            #planguages = forms.ModelMultipleChoiceField(queryset=PLanguages.objects.all(), required=False, widget=forms.CheckboxSelectMultiple)
            #frameworks = forms.ModelMultipleChoiceField(queryset=Frameworks.objects.all(), required=False, widget=forms.CheckboxSelectMultiple)
            class Meta:
                model = profile_mod
                exclude = ('user',) # User will be filled in by the view.
        return _ProfileForm

and finally my view:

    def create_profile(request, form_class=None, success_url=None,
                       template_name='profiles/create_profile.html',
                       extra_context=None):
        try:
            profile_obj = request.user.get_profile()
            return HttpResponseRedirect(reverse('profiles_edit_profile'))
        except ObjectDoesNotExist:
            pass
        
        if success_url is None:
            success_url = reverse('profiles_profile_detail',
                                  kwargs={ 'username': request.user.username })
        if form_class is None:
            form_class = utils.get_profile_form()
        if request.method == 'POST':
            form = form_class(data=request.POST, files=request.FILES)
            if form.is_valid():
                profile_obj = form.save(commit=False)
                profile_obj.user = request.user
                profile_obj.save()
                if hasattr(form, 'save_m2m'):
                    form.save_m2m()
                return HttpResponseRedirect(success_url)
        else:
            form = form_class()
        
        if extra_context is None:
            extra_context = {}
        context = RequestContext(request)
        for key, value in extra_context.items():
            context[key] = callable(value) and value() or value
        
        return render_to_response(template_name,
                                  { 'form': form },
                                  context_instance=context)
    create_profile = login_required(create_profile)

Any help with either design or code is much appreciated.",3
6268865,06/07/2011 16:57:57,480848,10/19/2010 18:19:30,247,17,Django Unique properties in admin,"I'm building a generic template that will be deployed for several sites, one of the customizing options we'd like to allow would be a custom font for the title text. I'd like to add this property to the admin interface.
Is there a better technique then creating a model for these properties and doing a Model.objects.get() to retrieve 1 instance.

Thanks in advance",django,django-models,django-admin,,,,open,0,61,5,"Django Unique properties in admin I'm building a generic template that will be deployed for several sites, one of the customizing options we'd like to allow would be a custom font for the title text. I'd like to add this property to the admin interface.
Is there a better technique then creating a model for these properties and doing a Model.objects.get() to retrieve 1 instance.

Thanks in advance",3
9399145,02/22/2012 16:46:20,742,08/08/2008 13:33:41,2766,20,Django-celery task being serviced by wrong running instance,"I've got a Django app that uses django-celery with a rabbitmq backend. We have a test machine where different users are running the same Django app in their own accounts (each listening on a different port), but all are using identical settings.py files, and therefore the same rabbitmq credentials, to connect celery to the back-end. (Note that they're each using a different sqlite database for the db backend).

I just discovered that we may be getting ""crosstalk"" among the django-celery tasks, that a task request from the django app in user A's account might be being serviced by a celery task running in user B's account. 

What's the simplest way to configure things to avoid this problem? Do I need to create separate rabbitmq accounts for each user? Or is there some other way to do this?",django,rabbitmq,django-celery,,,,open,0,136,8,"Django-celery task being serviced by wrong running instance I've got a Django app that uses django-celery with a rabbitmq backend. We have a test machine where different users are running the same Django app in their own accounts (each listening on a different port), but all are using identical settings.py files, and therefore the same rabbitmq credentials, to connect celery to the back-end. (Note that they're each using a different sqlite database for the db backend).

I just discovered that we may be getting ""crosstalk"" among the django-celery tasks, that a task request from the django app in user A's account might be being serviced by a celery task running in user B's account. 

What's the simplest way to configure things to avoid this problem? Do I need to create separate rabbitmq accounts for each user? Or is there some other way to do this?",3
1649632,10/30/2009 12:49:20,49769,12/29/2008 08:04:14,21,3,Best Practices: How to best implement Rating-Stars in Django Templates,"I would like to have reusable ratings (typical layout with 5 stars). 
I have found this http://www.thebroth.com/blog/119/css-rating-stars that explains how to display this using css. 
For actually collecting the rating I was thinking of using an image map or maybe simple radio buttons.
I would like to use this on various different models.

How would you do this? 
Shall I create a widget or can I do this with a template?
Actually I was pretty surprised not to find anything on this on the web. Is it that simple, or uncommon?

",django,django-templates,,,,05/14/2012 20:25:22,not constructive,1,88,10,"Best Practices: How to best implement Rating-Stars in Django Templates I would like to have reusable ratings (typical layout with 5 stars). 
I have found this http://www.thebroth.com/blog/119/css-rating-stars that explains how to display this using css. 
For actually collecting the rating I was thinking of using an image map or maybe simple radio buttons.
I would like to use this on various different models.

How would you do this? 
Shall I create a widget or can I do this with a template?
Actually I was pretty surprised not to find anything on this on the web. Is it that simple, or uncommon?

",2
4018787,10/25/2010 20:56:22,139082,07/15/2009 23:36:26,20,1,"In Django, how can I make a field read only the first time a form is loaded?","I have model form and I need to have one of the fields be read only until after it's saved. I haven't figured out a good way to do this, and below is what I have in my admin.py. 

    class RequestForm(forms.ModelForm):
        trac = forms.URLField(min_length=400, required=False)
        impacted_users = forms.ModelMultipleChoiceField(queryset=Group.objects.all(), widget=forms.CheckboxSelectMultiple)
        formfield_overrides = {
        }

        class Meta:
            model = Request

    class RequestAdmin(admin.ModelAdmin):
        form = RequestForm
        list_display = ['id', 'title', 'priority', 'requestor', 'status']
        list_filter = ['requestor', 'priority', 'impacted_users']
        actions = [complete]

        class Media:
            js = (
                '/media/js/jquery.js',
                '/media/js/hide.js',
                )

        def save_model(self, request, obj, form, change):
            instance = form.save(commit=False)
            instance.requestor = request.user
            instance.save()
            form.save_m2m()
            return instance
",django,forms,readonly,,,,open,0,308,17,"In Django, how can I make a field read only the first time a form is loaded? I have model form and I need to have one of the fields be read only until after it's saved. I haven't figured out a good way to do this, and below is what I have in my admin.py. 

    class RequestForm(forms.ModelForm):
        trac = forms.URLField(min_length=400, required=False)
        impacted_users = forms.ModelMultipleChoiceField(queryset=Group.objects.all(), widget=forms.CheckboxSelectMultiple)
        formfield_overrides = {
        }

        class Meta:
            model = Request

    class RequestAdmin(admin.ModelAdmin):
        form = RequestForm
        list_display = ['id', 'title', 'priority', 'requestor', 'status']
        list_filter = ['requestor', 'priority', 'impacted_users']
        actions = [complete]

        class Media:
            js = (
                '/media/js/jquery.js',
                '/media/js/hide.js',
                )

        def save_model(self, request, obj, form, change):
            instance = form.save(commit=False)
            instance.requestor = request.user
            instance.save()
            form.save_m2m()
            return instance
",3
6289475,06/09/2011 07:30:00,31610,10/26/2008 17:16:50,11183,325,Is this how django does STI?,"In [this SO question][1] I see the following:

    class MediaContent(models.Model):
        uploader = models.ForeignKey(User)
        title = models.CharField(max_length=100)
        created = models.DateTimeField(auto_now_add=True)
    
        def draw_item(self):
            pass
    
        class Meta:
            abstract = True
    
    class Picture(MediaContent):
        picture = models.ImageField(upload_to='pictures')
    
    class Video(MediaContent):
        identifier = models.CharField(max_length=30) #youtube id

I have done some STI in Rails before, but never in django. Is this how it's done in django? Will it only create one table having all the fields in all the models? Will it add a type column?

  [1]: http://stackoverflow.com/questions/5890559/trouble-handling-generic-relationship-in-django",django,single-table-inheritance,,,,,open,0,176,6,"Is this how django does STI? In [this SO question][1] I see the following:

    class MediaContent(models.Model):
        uploader = models.ForeignKey(User)
        title = models.CharField(max_length=100)
        created = models.DateTimeField(auto_now_add=True)
    
        def draw_item(self):
            pass
    
        class Meta:
            abstract = True
    
    class Picture(MediaContent):
        picture = models.ImageField(upload_to='pictures')
    
    class Video(MediaContent):
        identifier = models.CharField(max_length=30) #youtube id

I have done some STI in Rails before, but never in django. Is this how it's done in django? Will it only create one table having all the fields in all the models? Will it add a type column?

  [1]: http://stackoverflow.com/questions/5890559/trouble-handling-generic-relationship-in-django",2
10570464,05/13/2012 08:52:44,834239,07/07/2011 19:35:42,69,0,How to change is_staff option in Django admin at template level,"I have to change the ""is_staff"" option from views.py file to disabling the Django-admin page but i am not able to figure out this following issue. 
Whenever i tried to write ""user.is_staff"" then it sound that there is not any option to choose it (is_staff) whereas is_active is present. is this problem of importing?

Following are the content which i am importing:

    from django.contrib.auth.decorators import login_required
    from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger
    from django.contrib.auth.models import User
    from django.http import HttpResponseForbidden, HttpResponse
    from django.shortcuts import get_object_or_404
    from django.views.generic.list_detail import object_detail
    from django.views.generic.simple import direct_to_template
    from django.utils.translation import ugettext as _
    from django.core.mail import send_mail
    from django.core.urlresolvers import reverse
    from django.http import HttpResponseRedirect
    from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger

    from django.contrib import admin
    from django.contrib.auth.admin import UserAdmin

Following code i wrote in views.py:

    def user_change_status(request, id):
    user = User.objects.get(pk=id)
        if user.is_staff:
           user.is_staff = False
        else:
           user.is_active = True
    return HttpResponse('')

Whole scenario is that i have a template which is showing the list of all user with his/her is_staff option (True/ False). What i want when superuser will select any of user is_staff option it become change and the page will redirect on the same page.",django,django-models,django-admin,django-views,,,open,0,276,11,"How to change is_staff option in Django admin at template level I have to change the ""is_staff"" option from views.py file to disabling the Django-admin page but i am not able to figure out this following issue. 
Whenever i tried to write ""user.is_staff"" then it sound that there is not any option to choose it (is_staff) whereas is_active is present. is this problem of importing?

Following are the content which i am importing:

    from django.contrib.auth.decorators import login_required
    from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger
    from django.contrib.auth.models import User
    from django.http import HttpResponseForbidden, HttpResponse
    from django.shortcuts import get_object_or_404
    from django.views.generic.list_detail import object_detail
    from django.views.generic.simple import direct_to_template
    from django.utils.translation import ugettext as _
    from django.core.mail import send_mail
    from django.core.urlresolvers import reverse
    from django.http import HttpResponseRedirect
    from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger

    from django.contrib import admin
    from django.contrib.auth.admin import UserAdmin

Following code i wrote in views.py:

    def user_change_status(request, id):
    user = User.objects.get(pk=id)
        if user.is_staff:
           user.is_staff = False
        else:
           user.is_active = True
    return HttpResponse('')

Whole scenario is that i have a template which is showing the list of all user with his/her is_staff option (True/ False). What i want when superuser will select any of user is_staff option it become change and the page will redirect on the same page.",4
589458,02/26/2009 07:02:28,42188,12/01/2008 16:51:28,663,51,Django: How to redirect to an external URL?,"[Django 1.0.2]

I have a view set up like this:

    (r'^redirect/(?P<object_id>\d+)/(?P<url>.*)/$',
        'django.views.generic.simple.redirect_to',
        {'content_type': SiteType}, 'clickout'),


When I get the following URL, two different things happen on local development server and on remote mod_wsgi server:

    # GET
    ""/redirect/2/http://www.example.com//""

    # Remote server ends up (note the missing slash in the end)
    ""http://mydomain.com/example.com""

    # Development server works as expected
    ""http://www.example.com/""

I have inspected the HTTP headers and it really tries the wrong URL:

    """"""HTTP/1.x 301 MOVED PERMANENTLY

    Date: Thu, 26 Feb 2009 06:58:35 GMT

    Server: Apache/2.0.52 (Red Hat) mod_wsgi/2.0 Python/2.5

    Etag: ""d41d8cd98f00b204e9800998ecf8427e""

    Location: http://mydomain.com/example.com
    Content-Type: text/html; charset=utf-8

    Vary: User-Agent,Accept-Encoding

    Content-Encoding: gzip

    Content-Length: 20
""""""

What could be the problem? How can I redirect to an external URL?
    ",django,redirect,url,http,http-headers,,open,0,175,8,"Django: How to redirect to an external URL? [Django 1.0.2]

I have a view set up like this:

    (r'^redirect/(?P<object_id>\d+)/(?P<url>.*)/$',
        'django.views.generic.simple.redirect_to',
        {'content_type': SiteType}, 'clickout'),


When I get the following URL, two different things happen on local development server and on remote mod_wsgi server:

    # GET
    ""/redirect/2/http://www.example.com//""

    # Remote server ends up (note the missing slash in the end)
    ""http://mydomain.com/example.com""

    # Development server works as expected
    ""http://www.example.com/""

I have inspected the HTTP headers and it really tries the wrong URL:

    """"""HTTP/1.x 301 MOVED PERMANENTLY

    Date: Thu, 26 Feb 2009 06:58:35 GMT

    Server: Apache/2.0.52 (Red Hat) mod_wsgi/2.0 Python/2.5

    Etag: ""d41d8cd98f00b204e9800998ecf8427e""

    Location: http://mydomain.com/example.com
    Content-Type: text/html; charset=utf-8

    Vary: User-Agent,Accept-Encoding

    Content-Encoding: gzip

    Content-Length: 20
""""""

What could be the problem? How can I redirect to an external URL?
    ",5
5463297,03/28/2011 18:22:04,560833,01/03/2011 04:28:15,30,1,rabbitmq+celery memory leak?,"I have been happily running celery+rabbitmq+django for a month or so in production. Yesterday, I decided to upgrade from celery 2.1.4 to 2.2.4 and now rabbitmq is spinning out of control. After running for a while, my nodes are no longer recognized by evcam, and beam.smp's memory consumptions starts increasing...slowly (100+% CPU usage). 

I can run `rabbitmqctl list_connections` and see that there is nothing unusual (just my one test node). I can see in `rabbitmqctl list_queues -p <VHOST>` that there are no messages except the heartbeat from my test node. If I let the process keep running over a couple of hours it maxes out the machine.

I've tried purging the various queues using `camqadm` to no avail and `stop_app` just hangs. The only way that I have found to 'fix' it is to `kill -9` beam.smp (and all related processes) and force_reset on my rabbitmq server.

I have no idea how to go about debugging this. There doesn't appear to be anything fishy going on as far as new messages etc. Has anybody run up against this before? Any ideas? What other information should I be looking at?",django,rabbitmq,celery,,,,open,0,187,3,"rabbitmq+celery memory leak? I have been happily running celery+rabbitmq+django for a month or so in production. Yesterday, I decided to upgrade from celery 2.1.4 to 2.2.4 and now rabbitmq is spinning out of control. After running for a while, my nodes are no longer recognized by evcam, and beam.smp's memory consumptions starts increasing...slowly (100+% CPU usage). 

I can run `rabbitmqctl list_connections` and see that there is nothing unusual (just my one test node). I can see in `rabbitmqctl list_queues -p <VHOST>` that there are no messages except the heartbeat from my test node. If I let the process keep running over a couple of hours it maxes out the machine.

I've tried purging the various queues using `camqadm` to no avail and `stop_app` just hangs. The only way that I have found to 'fix' it is to `kill -9` beam.smp (and all related processes) and force_reset on my rabbitmq server.

I have no idea how to go about debugging this. There doesn't appear to be anything fishy going on as far as new messages etc. Has anybody run up against this before? Any ideas? What other information should I be looking at?",3
7683427,10/07/2011 05:39:08,981753,10/06/2011 07:53:05,1,0,Django-python-ADMIN,"Kindly help me How can i customize the text&charfield(length,breadth,font,colour) without using templates for the following code
   

     class Record(models.Model):
            Name   = models.CharField(max_length=200,blank=True,null=True,help_text=""Employee Name"")
            Empid  = models.CharField(max_length=300,blank=True,null=True,help_text=""Employee ID"")
            Salary = models.IntegerField(blank=True,null=True)
            Bonus  = models.IntegerField(blank=True,null=True)",django,,,,,,open,0,87,1,"Django-python-ADMIN Kindly help me How can i customize the text&charfield(length,breadth,font,colour) without using templates for the following code
   

     class Record(models.Model):
            Name   = models.CharField(max_length=200,blank=True,null=True,help_text=""Employee Name"")
            Empid  = models.CharField(max_length=300,blank=True,null=True,help_text=""Employee ID"")
            Salary = models.IntegerField(blank=True,null=True)
            Bonus  = models.IntegerField(blank=True,null=True)",1
6388344,06/17/2011 15:50:14,105167,05/12/2009 05:55:29,992,0,How to deploy a django app in a different system ?,"I developed an offline app(s) in django . But now , I have copied all my files to a different system . The OS remains the same . How to deploy the app here ? 

      File ""manage.py"", line 2, in <module>
        from django.core.management import execute_manager
    ImportError: No module named django.core.management


This is the error I am getting . Any links , as to the step by step procedure of deploying it in a new system ?",django,,,,,02/22/2012 14:15:44,too localized,1,91,11,"How to deploy a django app in a different system ? I developed an offline app(s) in django . But now , I have copied all my files to a different system . The OS remains the same . How to deploy the app here ? 

      File ""manage.py"", line 2, in <module>
        from django.core.management import execute_manager
    ImportError: No module named django.core.management


This is the error I am getting . Any links , as to the step by step procedure of deploying it in a new system ?",1
10324106,04/25/2012 21:30:52,1275294,03/17/2012 04:07:11,16,0,Django url patterns - how to get absolute url to the page?,"i'm trying to get full path of the requested url in Django. I use a such url pattern:
    ('^', myawesomeview),
It works good for domain.com/hello, domain.com/hello/sdfsdfsd and even for domain.com/hello.php\/sd""""^some!bullshit.index.aspx (although, ""^"" is replaced with ""%5E"")

But when I try to use # in request (ex. http://127.0.0.1:8000/solid#url) it returns only ""/sold"". Is there any way to get the full path without ANY changes or replacements? 

BTW, I'getting url with return HttpResponse(request.path)
Thanks in advance.",django,url,url-pattern,,,,open,0,74,12,"Django url patterns - how to get absolute url to the page? i'm trying to get full path of the requested url in Django. I use a such url pattern:
    ('^', myawesomeview),
It works good for domain.com/hello, domain.com/hello/sdfsdfsd and even for domain.com/hello.php\/sd""""^some!bullshit.index.aspx (although, ""^"" is replaced with ""%5E"")

But when I try to use # in request (ex. http://127.0.0.1:8000/solid#url) it returns only ""/sold"". Is there any way to get the full path without ANY changes or replacements? 

BTW, I'getting url with return HttpResponse(request.path)
Thanks in advance.",3
3694795,09/12/2010 12:21:34,24588,10/02/2008 18:30:22,203,12,Facing problem with user profile url scheme like example.com/username in django,"In a django app, I need to create twitter user profile urls with following structure like:

- `example.com/<username>`
- `example.com/<username>/friends`
- `example.com/<username>/blog`
- `example.com/<username>/some-page`
- `example.com/<username>/some-other-page`

    urlpatterns = patterns('profiles.views',
        url(r'^(?P<account_name>[a-zA-Z0-0_.-]+)/$', 'show_profile', name='profiles_show_profile'),
        url(r'^(?P<account_name>[a-zA-Z0-0_.-]+)/friends/$', 'show_friends', name='profiles_show_blog'),
        url(r'^(?P<account_name>[a-zA-Z0-0_.-]+)/blog/$', 'show_blog', name='profiles_show_blog'),
    )

My first problem is that while `example.com/<username>` works fine `example.com/<username>/any-other-page` does not. They all end up at `show_profile` view instead of their own view. 

**Note:** Everything works fine if I make urls change the url structure to `example.com/user/<username>` 

What am I doing wrong here? Please advise. 

Secondly, I would like guidance on django best practices(pitfalls, gotchas etc) in dealing with url schemes where first part is itself is variable.

Thanks",django,django-urls,user-profile,,,,open,0,129,11,"Facing problem with user profile url scheme like example.com/username in django In a django app, I need to create twitter user profile urls with following structure like:

- `example.com/<username>`
- `example.com/<username>/friends`
- `example.com/<username>/blog`
- `example.com/<username>/some-page`
- `example.com/<username>/some-other-page`

    urlpatterns = patterns('profiles.views',
        url(r'^(?P<account_name>[a-zA-Z0-0_.-]+)/$', 'show_profile', name='profiles_show_profile'),
        url(r'^(?P<account_name>[a-zA-Z0-0_.-]+)/friends/$', 'show_friends', name='profiles_show_blog'),
        url(r'^(?P<account_name>[a-zA-Z0-0_.-]+)/blog/$', 'show_blog', name='profiles_show_blog'),
    )

My first problem is that while `example.com/<username>` works fine `example.com/<username>/any-other-page` does not. They all end up at `show_profile` view instead of their own view. 

**Note:** Everything works fine if I make urls change the url structure to `example.com/user/<username>` 

What am I doing wrong here? Please advise. 

Secondly, I would like guidance on django best practices(pitfalls, gotchas etc) in dealing with url schemes where first part is itself is variable.

Thanks",3
3953206,10/17/2010 12:29:18,451023,09/17/2010 20:23:02,38,1,django foreign key save,"I have models for eg like this.

    class Mp3(models.Model):
        title=models.CharField(max_length=30)
        artist=models.ForeignKey('Artist')

and Here is how the Artist models looks like:

    class Artist(models.Model):
        name=models.CharField(max_length=100,default=""Unknown"")

I have created Artist with id 1. How I can create a mp3 that is assigned to this artist?(I want need it for query like this for eg.

    mp3=Mp3.objects.get(id=50)
    mp3.artist

)I have tried sth like this

    newMp3=Mp3(title=""sth"",artist=1)

but I got than

    ValueError: Cannot assign ""1"": ""Mp3.artist"" must be a ""Artist"" instance.
I understand the error but still don't know how to solve this. Thanks for any help
Best Regards",django,models,,,,,open,0,125,4,"django foreign key save I have models for eg like this.

    class Mp3(models.Model):
        title=models.CharField(max_length=30)
        artist=models.ForeignKey('Artist')

and Here is how the Artist models looks like:

    class Artist(models.Model):
        name=models.CharField(max_length=100,default=""Unknown"")

I have created Artist with id 1. How I can create a mp3 that is assigned to this artist?(I want need it for query like this for eg.

    mp3=Mp3.objects.get(id=50)
    mp3.artist

)I have tried sth like this

    newMp3=Mp3(title=""sth"",artist=1)

but I got than

    ValueError: Cannot assign ""1"": ""Mp3.artist"" must be a ""Artist"" instance.
I understand the error but still don't know how to solve this. Thanks for any help
Best Regards",2
2864215,05/19/2010 09:19:55,313472,04/10/2010 13:19:02,8,0,How can I obfuscate email addresses contained in 'free input' text fields in Django,"In my models I often use text fields that are intended to contain large pieces of textile-formatted input. I'd like to automatically obfuscate any email addresses that are entered into these text fields, so that when they're printed in a template they're not visible to spiders.

Is there a smart way to do this?",django,textile,email,obfuscation,automation,,open,0,53,14,"How can I obfuscate email addresses contained in 'free input' text fields in Django In my models I often use text fields that are intended to contain large pieces of textile-formatted input. I'd like to automatically obfuscate any email addresses that are entered into these text fields, so that when they're printed in a template they're not visible to spiders.

Is there a smart way to do this?",5
11441382,07/11/2012 20:59:06,1519053,07/11/2012 20:52:40,1,0,Django URL Aliases,"I'm new to Django and I have a BIG problem. I don't like the ""url pattern"" philosophy of Django. 

I don't want my pages to look like 
http://domain.com/object/title-of-object
I want
http://domain.com/title-of-object
and of course I will have more than one type of object.

Is there an elegant way to achieve this with Django (not using hard-coded urls)?

Thanks!",django,django-views,,,,,open,0,53,3,"Django URL Aliases I'm new to Django and I have a BIG problem. I don't like the ""url pattern"" philosophy of Django. 

I don't want my pages to look like 
http://domain.com/object/title-of-object
I want
http://domain.com/title-of-object
and of course I will have more than one type of object.

Is there an elegant way to achieve this with Django (not using hard-coded urls)?

Thanks!",2
7156710,08/23/2011 05:39:01,828824,07/04/2011 23:40:47,8,2,Django importing model issue,"I am editing my user model, and I want to place a foreign key to a 
class in another model, that is in a different app. How would I go 
about importing it? 

Tree: 

    /project/myapp/model1.py 
    /project/myapp2/model2.py 

can i simply just say:
        
        from myapp2 import model2 

or do I need to edit something in the settings?

Thank you.",django,model,import,,,,open,0,79,4,"Django importing model issue I am editing my user model, and I want to place a foreign key to a 
class in another model, that is in a different app. How would I go 
about importing it? 

Tree: 

    /project/myapp/model1.py 
    /project/myapp2/model2.py 

can i simply just say:
        
        from myapp2 import model2 

or do I need to edit something in the settings?

Thank you.",3
5477064,03/29/2011 18:18:31,589876,01/25/2011 23:10:19,1,0,"Django Admin: ManytoMany Model filter, the other way","I'm stuck on using django's admin feature. 

How do I use admin's list_filter for the pizza from toppingsAdmin?

For example, I have these models,
class Topping(models.Model):
    # ...

class Pizza(models.Model):
    # ...
    toppings = models.ManyToManyField(Topping)


From PizzaAdmin, I can call list_filter = ('toppings',)

But, How do I call pizzas from toppingsAdmin. Seems like list_filter = ('pizzas',) does not work, because it doesn't have it as variable inside the Topping model.

Thank you",django,django-admin,django-admin-filters,,,,open,0,75,8,"Django Admin: ManytoMany Model filter, the other way I'm stuck on using django's admin feature. 

How do I use admin's list_filter for the pizza from toppingsAdmin?

For example, I have these models,
class Topping(models.Model):
    # ...

class Pizza(models.Model):
    # ...
    toppings = models.ManyToManyField(Topping)


From PizzaAdmin, I can call list_filter = ('toppings',)

But, How do I call pizzas from toppingsAdmin. Seems like list_filter = ('pizzas',) does not work, because it doesn't have it as variable inside the Topping model.

Thank you",3
2073962,01/15/2010 18:52:38,221149,11/30/2009 06:47:26,133,4,django logging local javascript events,"All..

Say there exists a template x.html in Django templates section.

The contents of this page are 
<html>
<a href=""#"" onclick=""noserverrequest"">
<input type=""button onclick=""noserverrequest""/>
..............
</html>

I have n number of buttons and hyperlinks as said above in a page.

My question is how to record all the clicks that are done in this page(local javascript sctions) and when one server request is made to django i have to record all the links that are clicked in this page.How is this achieved.

I can use a hidden variable to record all the hyperlinks or button actions.But how to send it to server......Please indicate me how this is achieved.On django side when the request is found i write the javascript events to database................


Thanks..........

 
",django,python,javascript,jquery,,,open,0,114,5,"django logging local javascript events All..

Say there exists a template x.html in Django templates section.

The contents of this page are 
<html>
<a href=""#"" onclick=""noserverrequest"">
<input type=""button onclick=""noserverrequest""/>
..............
</html>

I have n number of buttons and hyperlinks as said above in a page.

My question is how to record all the clicks that are done in this page(local javascript sctions) and when one server request is made to django i have to record all the links that are clicked in this page.How is this achieved.

I can use a hidden variable to record all the hyperlinks or button actions.But how to send it to server......Please indicate me how this is achieved.On django side when the request is found i write the javascript events to database................


Thanks..........

 
",4
6667061,07/12/2011 15:45:15,257972,01/21/2010 16:54:38,1372,123,Does try/except block causes commit_on_success to fail,"    @transection.commit_on_success
    def recordIt(...)
       try:
           ....
           recordable = firstDataInsertionFunction(...)
           if recordable:
              myRec = SecondDataInsertion(.....)

        except:
           ....

As for __commit_on_success__, if my second data insertion fails, django must automatically rollback, so my first data insertion will be rolled back too...

But this is not working, and first inserted data is saved to db, while i could not see the result of second insertion on my database... Is try/except causes commit_on_success to fail? Because as documentation says:

> If the function returns successfully, then Django will commit all work done within the function at that point. If the function raises an exception, though, Django will roll back the transaction.

And try handles all exceptions. Is is the problem of my not working __commit_on_success__?",django,exception-handling,,,,,open,0,189,7,"Does try/except block causes commit_on_success to fail     @transection.commit_on_success
    def recordIt(...)
       try:
           ....
           recordable = firstDataInsertionFunction(...)
           if recordable:
              myRec = SecondDataInsertion(.....)

        except:
           ....

As for __commit_on_success__, if my second data insertion fails, django must automatically rollback, so my first data insertion will be rolled back too...

But this is not working, and first inserted data is saved to db, while i could not see the result of second insertion on my database... Is try/except causes commit_on_success to fail? Because as documentation says:

> If the function returns successfully, then Django will commit all work done within the function at that point. If the function raises an exception, though, Django will roll back the transaction.

And try handles all exceptions. Is is the problem of my not working __commit_on_success__?",2
7963483,11/01/2011 07:13:15,964635,09/26/2011 08:04:38,1,0,Problems with interesting/ignored tags in OSQA,"I have a problem with interesting ignored tags in OSQA. When typing tags are found but selecting one of them and clicking ""add"" button nothing happens. Which files may cause this problem?
Thanks...",django,,,,,11/02/2011 07:22:16,not a real question,1,32,6,"Problems with interesting/ignored tags in OSQA I have a problem with interesting ignored tags in OSQA. When typing tags are found but selecting one of them and clicking ""add"" button nothing happens. Which files may cause this problem?
Thanks...",1
1100924,07/08/2009 22:41:04,66289,02/13/2009 22:09:19,1227,43,Best way to denormalize data in Django?,"I'm developing a simple web app, and it makes a lot of sense to store some denormalized data. 

Imagine a blogging platform that keeps track of Comments, and the BlogEntry model has a ""CommentCount"" field that I'd like to keep up to date.

One way of doing this would be to use Django signals. 

Another way of doing this would be to put hooks directly in my code that creates and destrys Comment objects to synchronously call some methods on BlogEntry to increment/decrement the comment count. 

I suppose there are other pythonic ways of accomplishing this with decorators or some other voodoo.  

What is the standard Design Pattern for denormalizing in Django?  In practice, do you also have to write consistency checkers and data fixers in case of errors?",django,python,mysql,,,02/22/2012 14:13:45,not constructive,1,130,7,"Best way to denormalize data in Django? I'm developing a simple web app, and it makes a lot of sense to store some denormalized data. 

Imagine a blogging platform that keeps track of Comments, and the BlogEntry model has a ""CommentCount"" field that I'd like to keep up to date.

One way of doing this would be to use Django signals. 

Another way of doing this would be to put hooks directly in my code that creates and destrys Comment objects to synchronously call some methods on BlogEntry to increment/decrement the comment count. 

I suppose there are other pythonic ways of accomplishing this with decorators or some other voodoo.  

What is the standard Design Pattern for denormalizing in Django?  In practice, do you also have to write consistency checkers and data fixers in case of errors?",3
10474959,05/06/2012 22:53:24,762844,05/20/2011 13:49:35,163,5,"Django admin, many to many field, several duplicate entries","I have a situation where I'm trying to create a quick and easy admin interface for composers to list the instruments in a piece of music. What I am looking for is a single entity, an Instrumentation, which defines a particular combination of instruments. For example, a saxophone quartet might consist of:

1. Soprano sax
2. Alto sax
3. Tenor sax
4. Baritone sax

but it also might consist of two altos, tenor and bari instread. The problem gets worse when you try to add an entire section (like 1st violins--as many as 18 members).

The initial model I came up with looks like this:

    class Work(Post):
        authors = models.ManyToManyField(Individual)
        title = models.CharField(max_length=255)
        subtitle = models.CharField(max_length=255, blank=True)
        program_notes = models.TextField(blank=True)
        notes = models.TextField(blank=True)
        media = models.ManyToManyField('Upload')

    class Composition(Work):
        instrumentation = models.ForeignKey('Instrumentation')

    class Instrumentation(models.Model):
        forces = models.ManyToManyField(Instrument)
        types = models.ManyToManyField('InstrumentationType')

    class InstrumentationType(models.Model):
        type = models.CharField(max_length=255)
        variation = models.SmallIntegerField(default=0)
        created = models.DateTimeField(auto_now_add=True)
        modified = models.DateTimeField(auto_now=True)

I plan to later map each instrument in the piece to a performer in a rehearsal, concert, etc., so it's more than a simple count that I need. If I were doing this without django (i.e. just SQL and database design), I would have a mapping table with 

Instrumentation : 

- id (int serial PK),
- type (FK),
- composition_id (FK),
- instrument_id (FK)

It looks like Django is creating this exact situation for me in the database, but for some reason the framework needs `type`, `composition_id` and `instrument_id` to be unique together. The admin interface (multiselect box) also makes it clear that having multiple similar entries isn't how the many to many field was designed to work. So how do I achieve this? Is there an established workaround for this?",django,django-models,django-admin,many-to-many,,,open,0,376,9,"Django admin, many to many field, several duplicate entries I have a situation where I'm trying to create a quick and easy admin interface for composers to list the instruments in a piece of music. What I am looking for is a single entity, an Instrumentation, which defines a particular combination of instruments. For example, a saxophone quartet might consist of:

1. Soprano sax
2. Alto sax
3. Tenor sax
4. Baritone sax

but it also might consist of two altos, tenor and bari instread. The problem gets worse when you try to add an entire section (like 1st violins--as many as 18 members).

The initial model I came up with looks like this:

    class Work(Post):
        authors = models.ManyToManyField(Individual)
        title = models.CharField(max_length=255)
        subtitle = models.CharField(max_length=255, blank=True)
        program_notes = models.TextField(blank=True)
        notes = models.TextField(blank=True)
        media = models.ManyToManyField('Upload')

    class Composition(Work):
        instrumentation = models.ForeignKey('Instrumentation')

    class Instrumentation(models.Model):
        forces = models.ManyToManyField(Instrument)
        types = models.ManyToManyField('InstrumentationType')

    class InstrumentationType(models.Model):
        type = models.CharField(max_length=255)
        variation = models.SmallIntegerField(default=0)
        created = models.DateTimeField(auto_now_add=True)
        modified = models.DateTimeField(auto_now=True)

I plan to later map each instrument in the piece to a performer in a rehearsal, concert, etc., so it's more than a simple count that I need. If I were doing this without django (i.e. just SQL and database design), I would have a mapping table with 

Instrumentation : 

- id (int serial PK),
- type (FK),
- composition_id (FK),
- instrument_id (FK)

It looks like Django is creating this exact situation for me in the database, but for some reason the framework needs `type`, `composition_id` and `instrument_id` to be unique together. The admin interface (multiselect box) also makes it clear that having multiple similar entries isn't how the many to many field was designed to work. So how do I achieve this? Is there an established workaround for this?",4
11518095,07/17/2012 07:45:24,228660,12/10/2009 09:42:32,375,9,"MongoDB - Keeps locking, what am I doing wrong","I have two apps using mongoDB as the database. The one app is running Django and the other is running Node.js

The node one just stores user clicks when ever a user clicks a certain button, so no real usage there. 

The Django one uses it the most. 

Is there a specific way to set this up? Im new to this kind of setup and not sure what I am actually doing wrong.

My setup:

Linode Ubunutu
Nginx

Django running in Virtualenv, Gunicorn

Node running on its own

Every now and then the db locks then these two apps breaks cause the cant connect to mongo and this is seriously not cool!",django,node.js,mongodb,pymongo,linode,07/17/2012 17:23:13,not a real question,1,105,9,"MongoDB - Keeps locking, what am I doing wrong I have two apps using mongoDB as the database. The one app is running Django and the other is running Node.js

The node one just stores user clicks when ever a user clicks a certain button, so no real usage there. 

The Django one uses it the most. 

Is there a specific way to set this up? Im new to this kind of setup and not sure what I am actually doing wrong.

My setup:

Linode Ubunutu
Nginx

Django running in Virtualenv, Gunicorn

Node running on its own

Every now and then the db locks then these two apps breaks cause the cant connect to mongo and this is seriously not cool!",5
2848715,05/17/2010 11:47:48,87072,04/04/2009 11:59:10,261,1,Django | How to pass form values to an redirected page,"Here's my function:

    def check_form(request):
    	if request.method == 'POST':
    		form = UsersForm(request.POST)
    		if form.is_valid():
    			cd = form.cleaned_data
    			try:
    				newUser = form.save()
    				return HttpResponseRedirect('/testproject/summery/)
    			except Exception, ex:
    				# sys.stderr.write('Value error: %s\n' % str(ex)
    				return HttpResponse(""Error %s"" % str(ex))
    		else:
    			return render_to_response('index.html', {'form': form}, context_instance=RequestContext(request))
    	else:
    		form = CiviguardUsersForm()
    	return render_to_response('index.html',context_instance=RequestContext(request))

I want to pass each and every field in to a page call summery and display all the fields when user submits the form, so then users can view it before confirming the registration.

Thanks.. 

",django,,,,,,open,0,131,11,"Django | How to pass form values to an redirected page Here's my function:

    def check_form(request):
    	if request.method == 'POST':
    		form = UsersForm(request.POST)
    		if form.is_valid():
    			cd = form.cleaned_data
    			try:
    				newUser = form.save()
    				return HttpResponseRedirect('/testproject/summery/)
    			except Exception, ex:
    				# sys.stderr.write('Value error: %s\n' % str(ex)
    				return HttpResponse(""Error %s"" % str(ex))
    		else:
    			return render_to_response('index.html', {'form': form}, context_instance=RequestContext(request))
    	else:
    		form = CiviguardUsersForm()
    	return render_to_response('index.html',context_instance=RequestContext(request))

I want to pass each and every field in to a page call summery and display all the fields when user submits the form, so then users can view it before confirming the registration.

Thanks.. 

",1
8989724,01/24/2012 15:48:24,1167320,01/24/2012 15:15:39,1,0,Django: multiple table inheritance doesnt allow me to access derived class from base clase,"I want to get a derived modelclass instance from an instanciated base modelclass. 

I have the following model class hierarchy:

    
    class AlfrescoPFCModel(models.Model):
        #some fields and methods
        class Meta:
            abstract = True


    class Contenido(AlfrescoPFCModel):
        #some fields and methods

    class Proyecto(Contenido):
        #some fields and methods

    class ProyectoCalificado(Proyecto):
        #some fields and methods

    class ProyectoArchivado(ProyectoCalificado):
        #some fields and methods

And I instanciate a Proyecto class in this way:

    proyecto = proyecto_form.save(commit=False)
    #do some stuff with some fields that dont appear on the form
    proyecto.save

In another view I try to access the derived class ProyectoCalificado from the base class Proyecto previosly instanciated and saved in the database doing:

    pc = ProyectoCalificado.objects.get(pk=id)

and i get: ProyectoCalificado matching query does not exist.

I also tried:

    p = get_object_or_404(Proyecto, id=id)
    pc = p.proyectocalificado

but it get the same error in the second line.

Reading the documentation i should be allowed to do that: 
[#multi-table-inheritance][1]


  [1]: https://docs.djangoproject.com/en/dev/topics/db/models/#multi-table-inheritance

What i want to do is to incrementaly complete the data associated to a Proyecto (project) following this workflow: Proyecto -> ProyectoCalificado -> ProyectoArchivado.
I have 3 different forms for each step. I need 3 different models because I need to save them in the database without filling all the mandatory fields at once.

Thanks!",django,inheritance,models,base,,,open,0,286,14,"Django: multiple table inheritance doesnt allow me to access derived class from base clase I want to get a derived modelclass instance from an instanciated base modelclass. 

I have the following model class hierarchy:

    
    class AlfrescoPFCModel(models.Model):
        #some fields and methods
        class Meta:
            abstract = True


    class Contenido(AlfrescoPFCModel):
        #some fields and methods

    class Proyecto(Contenido):
        #some fields and methods

    class ProyectoCalificado(Proyecto):
        #some fields and methods

    class ProyectoArchivado(ProyectoCalificado):
        #some fields and methods

And I instanciate a Proyecto class in this way:

    proyecto = proyecto_form.save(commit=False)
    #do some stuff with some fields that dont appear on the form
    proyecto.save

In another view I try to access the derived class ProyectoCalificado from the base class Proyecto previosly instanciated and saved in the database doing:

    pc = ProyectoCalificado.objects.get(pk=id)

and i get: ProyectoCalificado matching query does not exist.

I also tried:

    p = get_object_or_404(Proyecto, id=id)
    pc = p.proyectocalificado

but it get the same error in the second line.

Reading the documentation i should be allowed to do that: 
[#multi-table-inheritance][1]


  [1]: https://docs.djangoproject.com/en/dev/topics/db/models/#multi-table-inheritance

What i want to do is to incrementaly complete the data associated to a Proyecto (project) following this workflow: Proyecto -> ProyectoCalificado -> ProyectoArchivado.
I have 3 different forms for each step. I need 3 different models because I need to save them in the database without filling all the mandatory fields at once.

Thanks!",4
10713128,05/23/2012 03:38:51,460147,09/28/2010 03:29:06,505,27,Pre-populating select field in Django with several values,"I have tried quite a few things but I still don't know how can I populate a `select field` in Django. The following example, adds a dictionary with a select field with a `name='tags'` attribute.

    data = {}
    for tag in tags:
      data['tags'] = tag.name
    form = Form(initial=data)

As it is expected, the loop is overwriting the key 'tags', so it only prevails the last value (and indeed, the form shows the last value). I expected that maybe passing a list would work:

    data = {}
    l = []
    for tag in tags:
      l.append(tag.name)
      data['tags'] = l
    form = Form(initial=data)

But in this case, it just doesn't work.

As you can imagina, I'm using a form similar to this:

    class NewTopicForm(forms.Form):
      ... some fields
      tags = ChoiceField(
                widget=forms.Select(), 
    			choices=SOME_CHOICES
    	     )

What is the correct way to populate a form with a select field when I need to add several values?.

Thanks!",django,forms,select,populate,,,open,0,222,8,"Pre-populating select field in Django with several values I have tried quite a few things but I still don't know how can I populate a `select field` in Django. The following example, adds a dictionary with a select field with a `name='tags'` attribute.

    data = {}
    for tag in tags:
      data['tags'] = tag.name
    form = Form(initial=data)

As it is expected, the loop is overwriting the key 'tags', so it only prevails the last value (and indeed, the form shows the last value). I expected that maybe passing a list would work:

    data = {}
    l = []
    for tag in tags:
      l.append(tag.name)
      data['tags'] = l
    form = Form(initial=data)

But in this case, it just doesn't work.

As you can imagina, I'm using a form similar to this:

    class NewTopicForm(forms.Form):
      ... some fields
      tags = ChoiceField(
                widget=forms.Select(), 
    			choices=SOME_CHOICES
    	     )

What is the correct way to populate a form with a select field when I need to add several values?.

Thanks!",4
6658488,07/12/2011 01:10:47,773389,05/27/2011 15:39:43,84,3,Should I use a seperate table instead of many to many field in Django,"I needed to assign one or more categories to a list of submissions, I initially used a table with two foreign keys to accomplish this until I realized Django has a many-to-many field, however following the documentation I haven't been able to duplicate what I did with original table.

My question is : Is there a benefit to using many-to-many field instead of manually creating a relationship table?   If better,  are there any example on submitting and retrieving many-to-many fields with Django?",django,django-models,,,,,open,0,84,14,"Should I use a seperate table instead of many to many field in Django I needed to assign one or more categories to a list of submissions, I initially used a table with two foreign keys to accomplish this until I realized Django has a many-to-many field, however following the documentation I haven't been able to duplicate what I did with original table.

My question is : Is there a benefit to using many-to-many field instead of manually creating a relationship table?   If better,  are there any example on submitting and retrieving many-to-many fields with Django?",2
913549,05/27/2009 01:24:16,46914,12/17/2008 03:40:18,6021,255,How to Unit test with different settings in Django?,"Is there any simple mechanism for overriding Django settings for a unit test?  I have a manager on one of my models that returns a specific number of the latest objects.  The number of objects it returns is defined by a NUM_LATEST setting.

This has the potential to make my tests fail if someone were to change the setting.  How can I override the settings on `setUp()` and subsequently restore them on `tearDown()`?  If that isn't possible, is there some way I can monkey patch the method or mock the settings?",django,testing,settings,django-managers,,,open,0,94,9,"How to Unit test with different settings in Django? Is there any simple mechanism for overriding Django settings for a unit test?  I have a manager on one of my models that returns a specific number of the latest objects.  The number of objects it returns is defined by a NUM_LATEST setting.

This has the potential to make my tests fail if someone were to change the setting.  How can I override the settings on `setUp()` and subsequently restore them on `tearDown()`?  If that isn't possible, is there some way I can monkey patch the method or mock the settings?",4
9325997,02/17/2012 09:46:32,1029077,11/04/2011 04:51:20,240,4,request.POST method not working in Django,"I have created a form from django models.I have tried to use POST method of request object, but it is not working.

The code that i use is :


    if request.method == 'POST':
            form = UserForm(request.POST)
if instead of POST i use GET everything is working fine. What is wrong with the post method. I am stuck since morning and don't know what to do. Please help",django,django-models,django-forms,django-templates,django-views,02/17/2012 21:43:17,not a real question,1,79,6,"request.POST method not working in Django I have created a form from django models.I have tried to use POST method of request object, but it is not working.

The code that i use is :


    if request.method == 'POST':
            form = UserForm(request.POST)
if instead of POST i use GET everything is working fine. What is wrong with the post method. I am stuck since morning and don't know what to do. Please help",5
4704924,01/16/2011 10:55:55,577421,01/16/2011 10:46:17,1,0,Django: Signal callback function missing foreign on model ,"Im trying to get the signal pre_save to work on my model but there
seems to be some problem with a foreign key or something. My model is
like this:

    class BlogEntry(models.Model):
        headline = models.CharField(max_length=100)
        content = models.CharField(max_length=2000)
        written_by = models.ForeignKey(User)
        date = models.DateTimeField(auto_now=True)
        project = models.ForeignKey(Project)

And here is where the form is processed and saved:

        def form_valid(self, blogform): # post a blogentry
            blog_entry = blogform.save(commit=False)
            blog_entry.written_by = self.request.user
            blog_entry.project = blog_entry.project #debugging shows that this
        is a valid instance of the Project model
            blog_entry.save()
    
        return TemplateResponseMixin.render_to_response(self,
    self.get_context_data())

And here's my signal reciever function

    @receiver(post_save, sender=BlogEntry)
    def project_blog_entry_signal(sender, **kwargs):
        log = Log()
        log.project = sender.project.field
        log.content_type = Log.content_new_blogentry
        log.save()

And here's the exception:

> > Cannot assign
> > ""django.db.models.fields.related.ForeignKey
> > object at 0x21eef86c"": ""Log.project""
> > must be a ""Project"" instance.
> 
> @the line ---> log.project =
> sender.project.field in
> > project_blog_entry_signal() function

The sender object doesn't seem to pass the project as a model instance but rather as a Foreign key instance. Why is that? 
",django,callback,signal-processing,,,,open,0,303,9,"Django: Signal callback function missing foreign on model  Im trying to get the signal pre_save to work on my model but there
seems to be some problem with a foreign key or something. My model is
like this:

    class BlogEntry(models.Model):
        headline = models.CharField(max_length=100)
        content = models.CharField(max_length=2000)
        written_by = models.ForeignKey(User)
        date = models.DateTimeField(auto_now=True)
        project = models.ForeignKey(Project)

And here is where the form is processed and saved:

        def form_valid(self, blogform): # post a blogentry
            blog_entry = blogform.save(commit=False)
            blog_entry.written_by = self.request.user
            blog_entry.project = blog_entry.project #debugging shows that this
        is a valid instance of the Project model
            blog_entry.save()
    
        return TemplateResponseMixin.render_to_response(self,
    self.get_context_data())

And here's my signal reciever function

    @receiver(post_save, sender=BlogEntry)
    def project_blog_entry_signal(sender, **kwargs):
        log = Log()
        log.project = sender.project.field
        log.content_type = Log.content_new_blogentry
        log.save()

And here's the exception:

> > Cannot assign
> > ""django.db.models.fields.related.ForeignKey
> > object at 0x21eef86c"": ""Log.project""
> > must be a ""Project"" instance.
> 
> @the line ---> log.project =
> sender.project.field in
> > project_blog_entry_signal() function

The sender object doesn't seem to pass the project as a model instance but rather as a Foreign key instance. Why is that? 
",3
9022931,01/26/2012 18:01:17,166838,09/01/2009 20:05:40,4406,153,"Django: ""show databases"" functionality?","I have a weird legacy database use-case: I have multiple databases, with (1) exactly the same schema, but (2) very different datasets.  Databases, *entire* databases, with this schema, are being added to the total dataset every week. 

Is there a way to (1) introspect *the server* to find out what databases are available, and if so, is there a way to (2) route to the correct database by URL, rather than by the current per-model solution (since my models don't change, only the associated underlying tables)?  

Can this introspection be made dynamic, so every time someone hits the home page I can show them the list of available databases?

A generic solution is preferable, of course, but a MySQL-only solution is currently acceptable.

(The use case in the European Molecular Biology Lab's genome library, which is published every few months as a suite of MySQL database dumps, one database per species, with a core schema of about twenty tables which map nicely to six or so apps.  The schema is stable and hasn't changed in years.)",django,mysql-python,,,,,open,0,177,4,"Django: ""show databases"" functionality? I have a weird legacy database use-case: I have multiple databases, with (1) exactly the same schema, but (2) very different datasets.  Databases, *entire* databases, with this schema, are being added to the total dataset every week. 

Is there a way to (1) introspect *the server* to find out what databases are available, and if so, is there a way to (2) route to the correct database by URL, rather than by the current per-model solution (since my models don't change, only the associated underlying tables)?  

Can this introspection be made dynamic, so every time someone hits the home page I can show them the list of available databases?

A generic solution is preferable, of course, but a MySQL-only solution is currently acceptable.

(The use case in the European Molecular Biology Lab's genome library, which is published every few months as a suite of MySQL database dumps, one database per species, with a core schema of about twenty tables which map nicely to six or so apps.  The schema is stable and hasn't changed in years.)",2
8412710,12/07/2011 09:06:15,277262,02/19/2010 19:38:03,375,2,Custom include tag,"I want to make a custom include tag (like `{% smart_include something %}` ), which realize what kind a thing we want to include and then call regular `{% include %}` tag. That's should be something like this:

    @register.simple_tag
    def smart_include(something):
        if something == ""post"":
              template_name = ""post.html""
              return regular_include_tag(template_name)

Is there a way to use `{% include %}` tag in python code, and how exactly?",django,django-templates,django-template-tags,,,,open,0,104,3,"Custom include tag I want to make a custom include tag (like `{% smart_include something %}` ), which realize what kind a thing we want to include and then call regular `{% include %}` tag. That's should be something like this:

    @register.simple_tag
    def smart_include(something):
        if something == ""post"":
              template_name = ""post.html""
              return regular_include_tag(template_name)

Is there a way to use `{% include %}` tag in python code, and how exactly?",3
7368222,09/09/2011 22:44:50,756383,05/16/2011 21:10:39,20,0,Django admin 'is a' relationships,"I've had plenty of experience in Django but I'm very new to the admin app (we usually build everything into the page as per project requirements).

But now I'm working on a project that requires some admin work and I'm stuck on one part.

Say I have Database models - Person, Student, Faculty

Both Faculty and Student 'is a' Person (they inherit those attributes so to speak).  How can I show this in the admin view?  

So that when someone clicks to add a student they fill out the student only attributes, but also the attributes required the Person model on the same page.  Is this possible?  

Here's the models, there's also Faculty but it's similar to Student

    class Person(models.Model):
        last_name = models.CharField(max_length=50)
        first_name = models.CharField(max_length=50)
        mi = models.CharField(max_length=50)
        phone = models.CharField(max_length=20)
        cell = models.CharField(max_length=20)



    class Student(models.Model):
        year = models.CharField(max_length=10)
        stud_id = models.IntegerField()
        person = models.ForeignKey(Person)
        #many to many

Any ideas or further questions would be awesome!",django,django-admin,,,,,open,0,226,5,"Django admin 'is a' relationships I've had plenty of experience in Django but I'm very new to the admin app (we usually build everything into the page as per project requirements).

But now I'm working on a project that requires some admin work and I'm stuck on one part.

Say I have Database models - Person, Student, Faculty

Both Faculty and Student 'is a' Person (they inherit those attributes so to speak).  How can I show this in the admin view?  

So that when someone clicks to add a student they fill out the student only attributes, but also the attributes required the Person model on the same page.  Is this possible?  

Here's the models, there's also Faculty but it's similar to Student

    class Person(models.Model):
        last_name = models.CharField(max_length=50)
        first_name = models.CharField(max_length=50)
        mi = models.CharField(max_length=50)
        phone = models.CharField(max_length=20)
        cell = models.CharField(max_length=20)



    class Student(models.Model):
        year = models.CharField(max_length=10)
        stud_id = models.IntegerField()
        person = models.ForeignKey(Person)
        #many to many

Any ideas or further questions would be awesome!",2
3869791,10/06/2010 05:48:50,405174,07/29/2010 01:28:28,13,0,Django ModelForm fails validation with no errors,"Ok, I have been staring at this for hours trying to figure out what's going on, to no avail. 
I am trying to create a ModelForm using the 'instance' keyword to pass it an existing model instance and then save it. 
Here is the ModelForm (stripped considerably from the original in my attempts to identify the cause of this problem):

    class TempRuleFieldForm(ModelForm):
        class Meta:
            model = RuleField

and here is the code I'm running:

    >>> m = RuleField.objects.get(pk=1)
    >>> f = TempRuleFieldForm(instance=m)
    >>> f.is_valid()
    False

The model object (`m` above) is valid and it saves just fine, but the form will not validate. Now, as far as I can tell, this code is identical to the Django docs example found here: http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#the-save-method, though obviously I am missing something. I would greatly appreciate some fresh eyes to tell me what I've got wrong.

Thanks",django,validation,modelform,,,,open,0,173,7,"Django ModelForm fails validation with no errors Ok, I have been staring at this for hours trying to figure out what's going on, to no avail. 
I am trying to create a ModelForm using the 'instance' keyword to pass it an existing model instance and then save it. 
Here is the ModelForm (stripped considerably from the original in my attempts to identify the cause of this problem):

    class TempRuleFieldForm(ModelForm):
        class Meta:
            model = RuleField

and here is the code I'm running:

    >>> m = RuleField.objects.get(pk=1)
    >>> f = TempRuleFieldForm(instance=m)
    >>> f.is_valid()
    False

The model object (`m` above) is valid and it saves just fine, but the form will not validate. Now, as far as I can tell, this code is identical to the Django docs example found here: http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#the-save-method, though obviously I am missing something. I would greatly appreciate some fresh eyes to tell me what I've got wrong.

Thanks",3
8933313,01/19/2012 21:08:59,635940,02/26/2011 22:01:53,736,43,Django Queryset - complex relationship parameter as variable?,"I have a geographic object that is used in proximity searches.  That object is keyed to different other objects via various paths.

Examples:

      blog.geo_object
      user.profile.geo_object
      group.event.geo_object

Right now, i do a bounding box search, which strings like this:

    radius_queryset = base_queryset.filter(
        user__profile__geo__lat__gte = bounding_box.lat_min,
        user__profile__geo__lat__lte = bounding_box.lat_max,
        user__profile__geo__lon__gte = bounding_box.lon_min,
        user__profile__geo__lon__lte = bounding_box.lon_max,
    

and then on other objects:

    radius_queryset = base_queryset.filter(
        blog__geo__lat__gte = bounding_box.lat_min,
        blog__geo__lat__lte = bounding_box.lat_max,
        blog__geo__lon__gte = bounding_box.lon_min,
        blog__geo__lon__lte = bounding_box.lon_max,
    )

This follows a general format of:

    radius_queryset = base_queryset.filter(
        [lookup_path]__geo__lat__gte = bounding_box.lat_min,
        [lookup_path]__geo__lat__lte = bounding_box.lat_max,
        [lookup_path]__geo__lon__gte = bounding_box.lon_min,
        [lookup_path]__geo__lon__lte = bounding_box.lon_max,
    )
    # where lookup_path = ""blog""  or ""user__profile"" in the two above examples


I'm writing enough of these (3 so far, more to come) to want to generalize the queries -- encapsulation being a good friend of maintainability and an ally in the fight against typo-bugs.  

So, to my question:  short of using exec and eval (which just look ugly), is there a way to get the filter parameter name to sub-in a variable?  Am I missing something simple here?

",django,django-queryset,,,,,open,0,296,8,"Django Queryset - complex relationship parameter as variable? I have a geographic object that is used in proximity searches.  That object is keyed to different other objects via various paths.

Examples:

      blog.geo_object
      user.profile.geo_object
      group.event.geo_object

Right now, i do a bounding box search, which strings like this:

    radius_queryset = base_queryset.filter(
        user__profile__geo__lat__gte = bounding_box.lat_min,
        user__profile__geo__lat__lte = bounding_box.lat_max,
        user__profile__geo__lon__gte = bounding_box.lon_min,
        user__profile__geo__lon__lte = bounding_box.lon_max,
    

and then on other objects:

    radius_queryset = base_queryset.filter(
        blog__geo__lat__gte = bounding_box.lat_min,
        blog__geo__lat__lte = bounding_box.lat_max,
        blog__geo__lon__gte = bounding_box.lon_min,
        blog__geo__lon__lte = bounding_box.lon_max,
    )

This follows a general format of:

    radius_queryset = base_queryset.filter(
        [lookup_path]__geo__lat__gte = bounding_box.lat_min,
        [lookup_path]__geo__lat__lte = bounding_box.lat_max,
        [lookup_path]__geo__lon__gte = bounding_box.lon_min,
        [lookup_path]__geo__lon__lte = bounding_box.lon_max,
    )
    # where lookup_path = ""blog""  or ""user__profile"" in the two above examples


I'm writing enough of these (3 so far, more to come) to want to generalize the queries -- encapsulation being a good friend of maintainability and an ally in the fight against typo-bugs.  

So, to my question:  short of using exec and eval (which just look ugly), is there a way to get the filter parameter name to sub-in a variable?  Am I missing something simple here?

",2
1205671,07/30/2009 10:10:31,46928,12/17/2008 04:44:27,162,10,Django custom template tags and template loaders,"[I have this discussion at http://groups.google.com/group/django-users/browse_thread/thread/989c569d5118980d]

Is 'django.template.loaders.app_directories.load_template_source'
required in the TEMPLATE_LOADERS setting for custom template tags to
work? 

We know that simply having a custom tag in the templatetags directory of your Django application makes that tag available for use in the application.

In the case of loading of templates, we know that having 'django.template.loaders.filesystem.load_template_source' in the TEMPLATE_LOADERS setting **together with** appropriate entries in TEMPLATE_DIRS enables Django to load templates from the specified directories. This is pretty clear and logical. But in the case of custom template tags, I see them becoming magically available.

So do you have any idea how custom template tags are found/loaded/handled?",django,django-templates,django-template-tags,,,,open,0,102,7,"Django custom template tags and template loaders [I have this discussion at http://groups.google.com/group/django-users/browse_thread/thread/989c569d5118980d]

Is 'django.template.loaders.app_directories.load_template_source'
required in the TEMPLATE_LOADERS setting for custom template tags to
work? 

We know that simply having a custom tag in the templatetags directory of your Django application makes that tag available for use in the application.

In the case of loading of templates, we know that having 'django.template.loaders.filesystem.load_template_source' in the TEMPLATE_LOADERS setting **together with** appropriate entries in TEMPLATE_DIRS enables Django to load templates from the specified directories. This is pretty clear and logical. But in the case of custom template tags, I see them becoming magically available.

So do you have any idea how custom template tags are found/loaded/handled?",3
9993244,04/03/2012 12:27:31,143703,07/23/2009 12:55:30,733,3,Django : Post counts per user in user's list,"How to return the user's posted items from another model , as example I have model called Post ( with Author as foreign key to User's Auth Model ) . how to return list of users and number of Posts for each ? may be latest post for everyone in a list . 

    def users_list(request):
    	users = UserProfile.objects.all()
    	for userposts in users:
    		posts_count = Post.objects.filter(author=users.user).count()
    	return render_to_response('users.html',{'users':users,'posts_count':posts_count})



",django,,,,,,open,0,83,9,"Django : Post counts per user in user's list How to return the user's posted items from another model , as example I have model called Post ( with Author as foreign key to User's Auth Model ) . how to return list of users and number of Posts for each ? may be latest post for everyone in a list . 

    def users_list(request):
    	users = UserProfile.objects.all()
    	for userposts in users:
    		posts_count = Post.objects.filter(author=users.user).count()
    	return render_to_response('users.html',{'users':users,'posts_count':posts_count})



",1
3515320,08/18/2010 18:22:25,337247,05/10/2010 13:00:10,214,1,Django CMS which is the best?,"I read Djangos cms comparison page and it seems 

http://www.django-cms.org/

may be what I was looking for.

Any experience with that? Recommendation? 

Especially on how to install it. I cant find any installation info for it.

Apart from:

""Make sure that cms, mptt and publisher folders are on your pythonpath. They all should come with the distribution.""

Or what is the best and easiest to install cms for django with the least dependencies?




",django,content-management-system,,,,09/13/2011 12:39:45,not constructive,1,68,6,"Django CMS which is the best? I read Djangos cms comparison page and it seems 

http://www.django-cms.org/

may be what I was looking for.

Any experience with that? Recommendation? 

Especially on how to install it. I cant find any installation info for it.

Apart from:

""Make sure that cms, mptt and publisher folders are on your pythonpath. They all should come with the distribution.""

Or what is the best and easiest to install cms for django with the least dependencies?




",2
9068609,01/30/2012 18:13:03,801820,06/16/2011 15:43:06,174,1,django model methods,"Is it correct to put logic that alters instances within model methods? 

The examples in the django docs are all methods that don't alter the actual instance but rather just return some specific information. 

ie. model method examples from django docs:

 

    def is_midwestern(self):
            ""Returns True if this person is from the Midwest.""
            return self.state in ('IL', 'WI', 'MI', 'IN', 'OH', 'IA', 'MO')

what I would like to do

 

     def publish(self):
            ""Publishes this video:
             self.published = True
             # some other related business logic here

Is that considered ok? Or should this go somewhere else?
",django,django-models,,,,,open,0,157,3,"django model methods Is it correct to put logic that alters instances within model methods? 

The examples in the django docs are all methods that don't alter the actual instance but rather just return some specific information. 

ie. model method examples from django docs:

 

    def is_midwestern(self):
            ""Returns True if this person is from the Midwest.""
            return self.state in ('IL', 'WI', 'MI', 'IN', 'OH', 'IA', 'MO')

what I would like to do

 

     def publish(self):
            ""Publishes this video:
             self.published = True
             # some other related business logic here

Is that considered ok? Or should this go somewhere else?
",2
7611543,09/30/2011 14:03:32,358999,06/05/2010 02:36:05,598,23,Critique my CRUD generic view for Django,"I've created a generic view for Django 1.3. It started out simple but got more and more complex. I'm just getting started with generic views and wondered if anyone can critique this for me to tell me how to make it **more robust and reusable**.

I admit this is made slightly more complex because in this case the model has a ManyToMany relationship using ""through.""

I really appreciate any feedback. The code works but again I think I could be more robust and reusable.

    from django.contrib.auth.models import User
    from django.contrib.sites.models import Site
    
    
    """""" URLS """"""
        url(r'^feedback/groups/$', GroupsView.as_view()),
        url(r'^feedback/groups/(?P<pk>\d+)/$', GroupDetailView.as_view()),
        url(r'^feedback/groups/add/$', GroupDetailView.as_view()),
    
    
    """""" Models """"""
    class Category(models.Model):
        """""" A team, a group or a project for a company """"""
        name = models.CharField(max_length=200)
        company = models.ForeignKey(Company)
        users = models.ManyToManyField(User, through=""UserRoles"")
    
        def __unicode__(self):
            return ""%s: %s"" % (self.company, self.name)
    
    
    class UserRoles(models.Model):
        """""" What role a user has in a category
        """"""
        user = models.ForeignKey(User)
        category = models.ForeignKey(Category)
        role = models.IntegerField(default=3, choices=ROLES)
    
        def __unicode__(self):
            return ""%s for %s has role %s"" % (self.user, self.category, ROLES[self.role-1][1])
    
    
    """""" Form """"""
    class GroupForm(forms.ModelForm):
        manager = forms.ModelMultipleChoiceField(
            queryset=User.objects.filter(
                userprofile__company__site=Site.objects.get_current()
            ),
            help_text=""You can select multiple by holding down ctrl or command while selecting""
        )
    
        class Meta:
            model = Category
            exclude = ['company', 'users']
    
    
    """""" My attempt at a generic ""CRUD"" view """"""
    class GroupDetailView(FormView):
        update = False
        template_name = 'group_detail.html'
        queryset = Category.objects.filter(company__site=Site.objects.get_current())
        #form_class = GroupForm
        success_url = '/feedback/groups/'
    
        def get_context_data(self, **kwargs):
            # Call the base implementation first to get a context
            context = super(GroupDetailView, self).get_context_data(**kwargs)
            context['tab'] = 'groups'
            context['update'] = self.update
            return context
    
        def get(self, request, pk=False):
            if pk:
                self.update = True
                category = self.queryset.get(pk=pk)
                managers = User.objects.filter(category=pk, userroles__role=2)
                form = GroupForm(instance=category)
                form.initial['manager'] = managers
            else:
                form = GroupForm()
            return self.render_to_response(self.get_context_data(form=form))
    
        def post(self, request, pk=False):
            if pk:
                self.update = True
            
            form = GroupForm(request.POST)
            if request.POST.get('delete'):
                """""" we're doing a delete """"""
                category = Category.objects.get(pk=pk)
                for user in UserRoles.objects.filter(category=category):
                    user.delete()
                category.delete()
                return self.form_valid(form)
            if form.is_valid():
                company = Company.objects.get(site=Site.objects.get_current())
                if pk:
                    """""" update the record """"""
                    category = Category.objects.get(pk=pk)
                    category.name = form.cleaned_data['name']
                    category.save()
                    """""" clear managers and we'll recreate them in a moment""""""
                    for manager in UserRoles.objects.filter(category=category,role=2):
                        manager.delete()
                else:
                    """""" add new """"""
                    category = Category.objects.create(
                        name = form.cleaned_data['name'],
                        company = company,
                    )
    
                """""" add the managers in from the form """"""
                for manager in form.cleaned_data['manager']:
                    role = UserRoles.objects.create(
                        user=manager,
                        role=2,
                        category=category,
                    )
    
                return self.form_valid(form)
            else:
                return self.form_invalid(form)

",django,many-to-many,django-generic-views,,,09/30/2011 16:27:21,not constructive,1,1561,7,"Critique my CRUD generic view for Django I've created a generic view for Django 1.3. It started out simple but got more and more complex. I'm just getting started with generic views and wondered if anyone can critique this for me to tell me how to make it **more robust and reusable**.

I admit this is made slightly more complex because in this case the model has a ManyToMany relationship using ""through.""

I really appreciate any feedback. The code works but again I think I could be more robust and reusable.

    from django.contrib.auth.models import User
    from django.contrib.sites.models import Site
    
    
    """""" URLS """"""
        url(r'^feedback/groups/$', GroupsView.as_view()),
        url(r'^feedback/groups/(?P<pk>\d+)/$', GroupDetailView.as_view()),
        url(r'^feedback/groups/add/$', GroupDetailView.as_view()),
    
    
    """""" Models """"""
    class Category(models.Model):
        """""" A team, a group or a project for a company """"""
        name = models.CharField(max_length=200)
        company = models.ForeignKey(Company)
        users = models.ManyToManyField(User, through=""UserRoles"")
    
        def __unicode__(self):
            return ""%s: %s"" % (self.company, self.name)
    
    
    class UserRoles(models.Model):
        """""" What role a user has in a category
        """"""
        user = models.ForeignKey(User)
        category = models.ForeignKey(Category)
        role = models.IntegerField(default=3, choices=ROLES)
    
        def __unicode__(self):
            return ""%s for %s has role %s"" % (self.user, self.category, ROLES[self.role-1][1])
    
    
    """""" Form """"""
    class GroupForm(forms.ModelForm):
        manager = forms.ModelMultipleChoiceField(
            queryset=User.objects.filter(
                userprofile__company__site=Site.objects.get_current()
            ),
            help_text=""You can select multiple by holding down ctrl or command while selecting""
        )
    
        class Meta:
            model = Category
            exclude = ['company', 'users']
    
    
    """""" My attempt at a generic ""CRUD"" view """"""
    class GroupDetailView(FormView):
        update = False
        template_name = 'group_detail.html'
        queryset = Category.objects.filter(company__site=Site.objects.get_current())
        #form_class = GroupForm
        success_url = '/feedback/groups/'
    
        def get_context_data(self, **kwargs):
            # Call the base implementation first to get a context
            context = super(GroupDetailView, self).get_context_data(**kwargs)
            context['tab'] = 'groups'
            context['update'] = self.update
            return context
    
        def get(self, request, pk=False):
            if pk:
                self.update = True
                category = self.queryset.get(pk=pk)
                managers = User.objects.filter(category=pk, userroles__role=2)
                form = GroupForm(instance=category)
                form.initial['manager'] = managers
            else:
                form = GroupForm()
            return self.render_to_response(self.get_context_data(form=form))
    
        def post(self, request, pk=False):
            if pk:
                self.update = True
            
            form = GroupForm(request.POST)
            if request.POST.get('delete'):
                """""" we're doing a delete """"""
                category = Category.objects.get(pk=pk)
                for user in UserRoles.objects.filter(category=category):
                    user.delete()
                category.delete()
                return self.form_valid(form)
            if form.is_valid():
                company = Company.objects.get(site=Site.objects.get_current())
                if pk:
                    """""" update the record """"""
                    category = Category.objects.get(pk=pk)
                    category.name = form.cleaned_data['name']
                    category.save()
                    """""" clear managers and we'll recreate them in a moment""""""
                    for manager in UserRoles.objects.filter(category=category,role=2):
                        manager.delete()
                else:
                    """""" add new """"""
                    category = Category.objects.create(
                        name = form.cleaned_data['name'],
                        company = company,
                    )
    
                """""" add the managers in from the form """"""
                for manager in form.cleaned_data['manager']:
                    role = UserRoles.objects.create(
                        user=manager,
                        role=2,
                        category=category,
                    )
    
                return self.form_valid(form)
            else:
                return self.form_invalid(form)

",3
8418383,12/07/2011 16:02:52,1085974,12/07/2011 15:42:48,1,0,Sorl Thumbnail with Django in Mac OSX 10.7.2,"I installed PIL, jpeg-8c, freetype-2.4.5 and sorl thumbnail. In my project, I have put ***sorl.thumbnail*** in **settings.py** . But when I use this code lines:

    >>> from apps.news.models import Newtest
    >>> im = get_thumbnail( Newtest.objects.all()[0].image.name, '60')

*Newtest.objects.all()[0].image* is one picture in my project. 

and the error is this:

    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/shortcuts.py"", line 8, in get_thumbnail
        return default.backend.get_thumbnail(file_, geometry_string, **options)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/base.py"", line 61, in get_thumbnail
        thumbnail)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/base.py"", line 86, in _create_thumbnail
        image = default.engine.create(source_image, geometry, options)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/engines/base.py"", line 16, in create
        image = self.colorspace(image, geometry, options)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/engines/base.py"", line 34, in colorspace
        return self._colorspace(image, colorspace)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/engines/pil_engine.py"", line 56, in _colorspace
        return image.convert('RGB')
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/Image.py"", line 679, in convert
        self.load()
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/ImageFile.py"", line 189, in load
        d = Image._getdecoder(self.mode, d, a, self.decoderconfig)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/Image.py"", line 385, in _getdecoder
        raise IOError(""decoder %s not available"" % decoder_name)
    IOError: decoder zip not available

Someone know why is it??

thx",django,osx,osx-lion,thumbnail,sorl-thumbnail,,open,0,280,8,"Sorl Thumbnail with Django in Mac OSX 10.7.2 I installed PIL, jpeg-8c, freetype-2.4.5 and sorl thumbnail. In my project, I have put ***sorl.thumbnail*** in **settings.py** . But when I use this code lines:

    >>> from apps.news.models import Newtest
    >>> im = get_thumbnail( Newtest.objects.all()[0].image.name, '60')

*Newtest.objects.all()[0].image* is one picture in my project. 

and the error is this:

    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/shortcuts.py"", line 8, in get_thumbnail
        return default.backend.get_thumbnail(file_, geometry_string, **options)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/base.py"", line 61, in get_thumbnail
        thumbnail)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/base.py"", line 86, in _create_thumbnail
        image = default.engine.create(source_image, geometry, options)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/engines/base.py"", line 16, in create
        image = self.colorspace(image, geometry, options)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/engines/base.py"", line 34, in colorspace
        return self._colorspace(image, colorspace)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sorl_thumbnail-11.09-py2.7.egg/sorl/thumbnail/engines/pil_engine.py"", line 56, in _colorspace
        return image.convert('RGB')
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/Image.py"", line 679, in convert
        self.load()
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/ImageFile.py"", line 189, in load
        d = Image._getdecoder(self.mode, d, a, self.decoderconfig)
      File ""/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/Image.py"", line 385, in _getdecoder
        raise IOError(""decoder %s not available"" % decoder_name)
    IOError: decoder zip not available

Someone know why is it??

thx",5
6665893,07/12/2011 14:33:13,840891,07/12/2011 14:06:56,1,0,How to start celery in background of terminal in Django,"I ma starting celery  as

    python manage.py celeryd

It is working but in foreground . Then to test commands i need to start another terminal and do stuff there.

is there any way to start that in background. I tried this

    python manage.py celeryd &

But then again it comes at foreground

 

",django,django-celery,,,,,open,0,57,10,"How to start celery in background of terminal in Django I ma starting celery  as

    python manage.py celeryd

It is working but in foreground . Then to test commands i need to start another terminal and do stuff there.

is there any way to start that in background. I tried this

    python manage.py celeryd &

But then again it comes at foreground

 

",2
4023000,10/26/2010 11:00:12,220023,11/27/2009 12:34:19,150,6,django import a view function,"I have a django application xxx which does a number of things. 

I also have a sepaerate application yyy. Which wants to call one of the functions of xxx.

Is there a way for me to import the functions?

For example, in yyy can i say 

<code>from toplevel.xxx import doit</code>

Or what is the best approach, I dont want to duplicate code.",django,django-views,,,,,open,0,59,5,"django import a view function I have a django application xxx which does a number of things. 

I also have a sepaerate application yyy. Which wants to call one of the functions of xxx.

Is there a way for me to import the functions?

For example, in yyy can i say 

<code>from toplevel.xxx import doit</code>

Or what is the best approach, I dont want to duplicate code.",2
5052129,02/19/2011 16:55:28,624223,02/19/2011 09:00:29,6,0,Django Form doesn't accept selection as valid choice. Can't see why.,"i made a little form where I ask the user for some location (1st stage), then geocode the location and ask the user to confirm the location (2nd stage). Everything works fine, however, **when I select a choice and try to submit the form to get to the 3rd stage, the form doesn't accept the selection and issues an error ""Select a valid choice"". Why?**

I can't see where I made a mistake. Please let me know what i did wrong. Thank you!

my **forms.py**

    from django.http import HttpResponseRedirect
    from django.contrib.formtools.wizard import FormWizard
    from django import forms
    from django.forms.widgets import RadioSelect
    from geoCode import getLocation
    
    class reMapStart(forms.Form):
        location = forms.CharField()
        CHOICES = [(x, x) for x in (""cars"", ""bikes"")]
        technology = forms.ChoiceField(choices=CHOICES)
    
    
    class reMapLocationConfirmation(forms.Form):    
       CHOICES = []
       locations = forms.ChoiceField(widget=RadioSelect(), choices = [])
    
    class reMapData(forms.Form):
        capacity = forms.IntegerField()
    
    class reMapWizard(FormWizard):    
        def render_template(self, request, form, previous_fields, step, context=None):
            if step == 1:
                location = request.POST.get('0-location')
                address, lat, lng, country = getLocation(location)
                form.fields['locations'].choices = [(x, x) for x in address]
            return super(reMapWizard, self).render_template(request, form, previous_fields, step, context)

    def done(self, request, form_list):
        # Send an email or save to the database, or whatever you want with
        # form parameters in form_list
        return HttpResponseRedirect('/contact/thanks/')

my **urls.py**

    ...
    (r'^reMap/$', reMapWizard([reMapStart, reMapLocationConfirmation, reMapData])),
    ...

**generated html code by Django for a random location after the 1st submission**

    <form action='.' method='POST'><div style='display:none'>
    <input type='hidden' name='csrfmiddlewaretoken' value='0f61c17790aa7ecc782dbfe7438031a8' /></div>
    <table>
        <input type=""hidden"" name=""wizard_step"" value=""1"" />
        <input type=""hidden"" name=""0-location"" value=""market street san francisco"" id=""id_0-location"" /><input type=""hidden"" name=""0-technology"" value=""car"" id=""id_0-technology"" /><input type=""hidden"" name=""hash_0"" value=""8a654e29d73f2c2f6660b5beb182f0c8"" />
        <tr><th><label for=""id_1-locations_0"">Locations:</label></th><td><ul class=""errorlist""><li>Select a valid choice. Market St, San Francisco, CA, USA is not one of the available choices.</li></ul><ul>
    
    <li><label for=""id_1-locations_0""><input checked=""checked"" type=""radio"" id=""id_1-locations_0"" value=""Market St, San Francisco, CA, USA"" name=""1-locations"" /> Market St, San Francisco, CA, USA</label></li>
    </ul></td></tr>
    </table>
    <p><input type=""submit"" value=""Submit"" /></p>
    </form>

I am thankful for any idea. This stuff is killing my day :)

cheers, 
H


",django,choice,valid,django-formwizard,,,open,0,559,11,"Django Form doesn't accept selection as valid choice. Can't see why. i made a little form where I ask the user for some location (1st stage), then geocode the location and ask the user to confirm the location (2nd stage). Everything works fine, however, **when I select a choice and try to submit the form to get to the 3rd stage, the form doesn't accept the selection and issues an error ""Select a valid choice"". Why?**

I can't see where I made a mistake. Please let me know what i did wrong. Thank you!

my **forms.py**

    from django.http import HttpResponseRedirect
    from django.contrib.formtools.wizard import FormWizard
    from django import forms
    from django.forms.widgets import RadioSelect
    from geoCode import getLocation
    
    class reMapStart(forms.Form):
        location = forms.CharField()
        CHOICES = [(x, x) for x in (""cars"", ""bikes"")]
        technology = forms.ChoiceField(choices=CHOICES)
    
    
    class reMapLocationConfirmation(forms.Form):    
       CHOICES = []
       locations = forms.ChoiceField(widget=RadioSelect(), choices = [])
    
    class reMapData(forms.Form):
        capacity = forms.IntegerField()
    
    class reMapWizard(FormWizard):    
        def render_template(self, request, form, previous_fields, step, context=None):
            if step == 1:
                location = request.POST.get('0-location')
                address, lat, lng, country = getLocation(location)
                form.fields['locations'].choices = [(x, x) for x in address]
            return super(reMapWizard, self).render_template(request, form, previous_fields, step, context)

    def done(self, request, form_list):
        # Send an email or save to the database, or whatever you want with
        # form parameters in form_list
        return HttpResponseRedirect('/contact/thanks/')

my **urls.py**

    ...
    (r'^reMap/$', reMapWizard([reMapStart, reMapLocationConfirmation, reMapData])),
    ...

**generated html code by Django for a random location after the 1st submission**

    <form action='.' method='POST'><div style='display:none'>
    <input type='hidden' name='csrfmiddlewaretoken' value='0f61c17790aa7ecc782dbfe7438031a8' /></div>
    <table>
        <input type=""hidden"" name=""wizard_step"" value=""1"" />
        <input type=""hidden"" name=""0-location"" value=""market street san francisco"" id=""id_0-location"" /><input type=""hidden"" name=""0-technology"" value=""car"" id=""id_0-technology"" /><input type=""hidden"" name=""hash_0"" value=""8a654e29d73f2c2f6660b5beb182f0c8"" />
        <tr><th><label for=""id_1-locations_0"">Locations:</label></th><td><ul class=""errorlist""><li>Select a valid choice. Market St, San Francisco, CA, USA is not one of the available choices.</li></ul><ul>
    
    <li><label for=""id_1-locations_0""><input checked=""checked"" type=""radio"" id=""id_1-locations_0"" value=""Market St, San Francisco, CA, USA"" name=""1-locations"" /> Market St, San Francisco, CA, USA</label></li>
    </ul></td></tr>
    </table>
    <p><input type=""submit"" value=""Submit"" /></p>
    </form>

I am thankful for any idea. This stuff is killing my day :)

cheers, 
H


",4
6672915,07/13/2011 00:40:26,169459,09/07/2009 02:01:31,136,7,'At least one of these fields must be filled' - Can I enforce this requirement in Django models?,"Here's a use case:

    class Tweet(models.Model):
	url_1 = models.CharField(max_length=140)
	url_2 = models.CharField(max_length=140)
	url_3 = models.CharField(max_length=140)

I'd like the user to specify at least one URL for each Tweet instance.

I know how to enforce this condition in views.py, but I'm wondering if there's a way to configure a Django model such that the user is required to fill in at least one out of a given set of model fields before an instance can be saved. I think that solution would be cleaner.

Thanks!
",django,django-models,,,,,open,0,81,18,"'At least one of these fields must be filled' - Can I enforce this requirement in Django models? Here's a use case:

    class Tweet(models.Model):
	url_1 = models.CharField(max_length=140)
	url_2 = models.CharField(max_length=140)
	url_3 = models.CharField(max_length=140)

I'd like the user to specify at least one URL for each Tweet instance.

I know how to enforce this condition in views.py, but I'm wondering if there's a way to configure a Django model such that the user is required to fill in at least one out of a given set of model fields before an instance can be saved. I think that solution would be cleaner.

Thanks!
",2
8309974,11/29/2011 11:28:17,488735,10/27/2010 11:15:57,742,0,Django - Deployment for a newbie,"I have finished my first Django/Python Project and now I need to put the things working in a real production webserver.

I have read some papers over the Internet and I'm inclined to choose Ngix, Gunicorn and Git but the documentation that I found is not very complete and I have many doubs if this is the best option.

What do you think about this subject? I need a simple way to put my Django Project on-line but the website is still very buggy, I will need to change the code many times in the production server in the times ahead.

Please give me some clues about what I should do. I'm kind of lost...

Best Regards,",django,deployment,,,,11/29/2011 13:32:51,off topic,1,113,6,"Django - Deployment for a newbie I have finished my first Django/Python Project and now I need to put the things working in a real production webserver.

I have read some papers over the Internet and I'm inclined to choose Ngix, Gunicorn and Git but the documentation that I found is not very complete and I have many doubs if this is the best option.

What do you think about this subject? I need a simple way to put my Django Project on-line but the website is still very buggy, I will need to change the code many times in the production server in the times ahead.

Please give me some clues about what I should do. I'm kind of lost...

Best Regards,",2
4471453,12/17/2010 14:33:57,192001,10/18/2009 12:54:32,1317,27,Django: raw SQL and values_list() bug?,"Doing something like 

    SomeModel.objects.extra(..).values_list('id', flat=True)

always returns an empty list

Is this a Django bug ? Or am I missing seomthing?",django,,,,,,open,0,23,6,"Django: raw SQL and values_list() bug? Doing something like 

    SomeModel.objects.extra(..).values_list('id', flat=True)

always returns an empty list

Is this a Django bug ? Or am I missing seomthing?",1
3191375,07/07/2010 01:49:37,96864,04/28/2009 02:02:12,131,2,django to return  json format data to prototype ajax ,"is there a way i can pass json format data through django HttpResponse. I am trying to call the view through prototype ajax and return json format data.

Thanks",django,django-templates,,,,,open,0,28,11,"django to return  json format data to prototype ajax  is there a way i can pass json format data through django HttpResponse. I am trying to call the view through prototype ajax and return json format data.

Thanks",2
6185342,05/31/2011 09:09:39,378767,06/29/2010 07:48:46,8,2,"coercing to Unicode: need string or buffer, tuple found","Trying to work with **ImageField** in django.
Here are my **models**

    class Album(models.Model):
        title = models.CharField(max_length=100)
    
        def __unicode__(self):
            return self.title
    
    class Photo(models.Model):
        image = models.ImageField(upload_to='/photos/')
        album = models.ForeignKey(Album)
        title = models.CharField(max_length=100, default="""")
    
        def __unicode__(self):
            return self.title

Here is a part of **urls.py**

    ...
    url(r'^trial/upload/$', 'trial.views.upload'),
    ...

**views.py**

    def upload(request):
        if request.method == 'POST':
            form = PhotoForm(request.POST, request.FILES)
            if form.is_valid():
                title = form.cleaned_data['title']
                image = request.FILES['image']
                handleUploadedFile(image)
                photo = Photo(image=image, title=title, album=form.cleaned_data['album'])
                photo.save()
                
                return render_to_response('trial/thanks_upload.html',{
                    'photo': photo
                }, context_instance = RequestContext(request))
        else:
            form = PhotoForm()
        return render_to_response('trial/upload.html', {
          'form': form
        }, context_instance = RequestContext(request))
        
        
    def handleUploadedFile(file):
        destination = open('%s'%(file.name), 'wb+')
        for chunk in file.chunks():
            destination.write(chunk)
        destination.close()
        return destination



**upload.html**

    <form enctype=""multipart/form-data"" action=""/trial/upload/"" method=""post"">
        {% csrf_token %}
        {% for field in form %}
            <div class=""fieldWrapper"">
                {{ field.errors }}
                {{ field.label_tag }}: {{ field }}
            </div>
        {% endfor %}
        <p><input type=""submit"" value=""Upload"" /></p>
    </form>

But on saving I have next error:
**TypeError at /trial/upload/
coercing to Unicode: need string or buffer, tuple found**
errors appears on **photo.save**

Does anybody has ideas why could it be? Why **tuple** appears at all? I'm sure there is a stupid bug...",django,image-uploading,image-field,,,,open,0,623,9,"coercing to Unicode: need string or buffer, tuple found Trying to work with **ImageField** in django.
Here are my **models**

    class Album(models.Model):
        title = models.CharField(max_length=100)
    
        def __unicode__(self):
            return self.title
    
    class Photo(models.Model):
        image = models.ImageField(upload_to='/photos/')
        album = models.ForeignKey(Album)
        title = models.CharField(max_length=100, default="""")
    
        def __unicode__(self):
            return self.title

Here is a part of **urls.py**

    ...
    url(r'^trial/upload/$', 'trial.views.upload'),
    ...

**views.py**

    def upload(request):
        if request.method == 'POST':
            form = PhotoForm(request.POST, request.FILES)
            if form.is_valid():
                title = form.cleaned_data['title']
                image = request.FILES['image']
                handleUploadedFile(image)
                photo = Photo(image=image, title=title, album=form.cleaned_data['album'])
                photo.save()
                
                return render_to_response('trial/thanks_upload.html',{
                    'photo': photo
                }, context_instance = RequestContext(request))
        else:
            form = PhotoForm()
        return render_to_response('trial/upload.html', {
          'form': form
        }, context_instance = RequestContext(request))
        
        
    def handleUploadedFile(file):
        destination = open('%s'%(file.name), 'wb+')
        for chunk in file.chunks():
            destination.write(chunk)
        destination.close()
        return destination



**upload.html**

    <form enctype=""multipart/form-data"" action=""/trial/upload/"" method=""post"">
        {% csrf_token %}
        {% for field in form %}
            <div class=""fieldWrapper"">
                {{ field.errors }}
                {{ field.label_tag }}: {{ field }}
            </div>
        {% endfor %}
        <p><input type=""submit"" value=""Upload"" /></p>
    </form>

But on saving I have next error:
**TypeError at /trial/upload/
coercing to Unicode: need string or buffer, tuple found**
errors appears on **photo.save**

Does anybody has ideas why could it be? Why **tuple** appears at all? I'm sure there is a stupid bug...",3
11636819,07/24/2012 18:12:04,1538469,07/19/2012 16:03:06,1,0,Permissions for users accessing website via LAN (Django),"I am stuck on this problem. 
The Idea is to allow users accessing my website through the LAN or local network to skip a login page and access the website as an anonymous user with special permissions. (I am running an ubuntu server with apache2 and mod_wsgi). Does anyone know if there is a way for apache to determine if a user is accessing the website via LAN? I am open to all suggestions as I currently have no idea how to solve this problem.

Thanks.",django,apache,apache2,mod-wsgi,,,open,0,85,8,"Permissions for users accessing website via LAN (Django) I am stuck on this problem. 
The Idea is to allow users accessing my website through the LAN or local network to skip a login page and access the website as an anonymous user with special permissions. (I am running an ubuntu server with apache2 and mod_wsgi). Does anyone know if there is a way for apache to determine if a user is accessing the website via LAN? I am open to all suggestions as I currently have no idea how to solve this problem.

Thanks.",4
5778533,04/25/2011 12:56:51,499362,11/06/2010 17:52:57,466,15,Validating URL slugs,"I'm creating an app in which many urls are using a pattern like `/foo/bar/<object_id>/<object_name_slug>/`, like many applications (SO included), which is itself a straightforward pattern to implement.  However, I don't want to just blindly ignore the contents of the slug field and open the app up to stupid stuff like people distributing a doctored URL (e.g. the recently popular http://www.independent.co.uk/life-style/food-and-drink/utter-PR-fiction-but-people-love-this-shit-so-fuck-it-lets-just-print-it-2269573.html).

My plan is to validate the slug an issue a redirect to the correct URL if someone reaches a page via a bad slug (again, like SO). This would be trivial to implement in the view, but since this will be a pattern used on many views, I'd like to factor it out into something reusable--probably a decorator or a middleware.

What's the best way to do this?  Could a decorator determine which url pattern was matched by a particular request so that it could generate a reverse if necessary?

Thanks for the ideas.",django,,,,,,open,0,153,3,"Validating URL slugs I'm creating an app in which many urls are using a pattern like `/foo/bar/<object_id>/<object_name_slug>/`, like many applications (SO included), which is itself a straightforward pattern to implement.  However, I don't want to just blindly ignore the contents of the slug field and open the app up to stupid stuff like people distributing a doctored URL (e.g. the recently popular http://www.independent.co.uk/life-style/food-and-drink/utter-PR-fiction-but-people-love-this-shit-so-fuck-it-lets-just-print-it-2269573.html).

My plan is to validate the slug an issue a redirect to the correct URL if someone reaches a page via a bad slug (again, like SO). This would be trivial to implement in the view, but since this will be a pattern used on many views, I'd like to factor it out into something reusable--probably a decorator or a middleware.

What's the best way to do this?  Could a decorator determine which url pattern was matched by a particular request so that it could generate a reverse if necessary?

Thanks for the ideas.",1
1397369,09/09/2009 03:15:56,313931,09/09/2009 02:59:17,1,0,Django how to save a custom formset,"I've written the following custom formset, but for the life of me I don't know how to save the form. I've searched the Django docs and done extensive searches, but no one solution works. Lots of rabbit holes, but no meat ;-) Can someone point me in the right direction?

// views.py partial //

@login_required

def add_stats(request, group_slug, team_id, game_id, template_name = 'games/stats_add_form.html'):

    if request.POST:

        formset = AddStatsFormSet(group_slug=group_slug, team_id=team_id, game_id=game_id, data=request.POST)

        if formset.is_valid():

            formset.save()

            return HttpResponseRedirect(reverse('games_game_list'))

        else:

            formset = TeamStatFormSet(group_slug=group_slug, team_id=team_id, game_id=game_id)

        return render_to_response(template_name, {'formset': formset,})


// modles.py partial //

class PlayerStat(models.Model):

    game = models.ForeignKey(Game, verbose_name=_(u'sport event'),)
    player = models.ForeignKey(Player, verbose_name=_(u'player'),)
    stat = models.ForeignKey(Stat, verbose_name=_(u'statistic'),)
    total = models.CharField(_(u'total'), max_length=25, blank=True, null=True)
	
    class Meta:
        verbose_name = _('player stat')
        verbose_name_plural = _('player stats')
        db_table	 = 'dfusion_playerstats'
		
        def __unicode__(self):
            return u'%s' % self.player


// forms.py

class TeamStatForm(forms.Form):

    total = forms.IntegerField()

	
class BaseTeamStatsFormSet(BaseFormSet):

    def __init__(self, *args, **kwargs):
		self.group_slug = kwargs['group_slug']
		self.team_id = kwargs['team_id']
		self.game_id = kwargs['game_id']
		self.extra = len(Stat.objects.filter(group__slug=self.group_slug))
		del kwargs['group_slug']
		del kwargs['game_id']
		del kwargs['team_id']
		super(BaseTeamStatsFormSet, self).__init__(*args, **kwargs)
	
	def add_fields(self, form, index):
		super(BaseTeamStatsFormSet, self).add_fields(form, index)
		form.fields[""stat""] = forms.ModelChoiceField(queryset = Stat.objects.filter(group__slug=self.group_slug))
		form.fields[""game""] = forms.ModelChoiceField(queryset = Game.objects.all())
		form.fields[""team""] = forms.ModelChoiceField(queryset = Team.objects.all())
		form.fields[""game""].initial = self.game_id
		form.fields[""team""].initial = self.team_id

TeamStatFormSet = formset_factory(TeamStatForm, BaseTeamStatsFormSet)
",django,forms,formset,dynamic,,,open,0,296,7,"Django how to save a custom formset I've written the following custom formset, but for the life of me I don't know how to save the form. I've searched the Django docs and done extensive searches, but no one solution works. Lots of rabbit holes, but no meat ;-) Can someone point me in the right direction?

// views.py partial //

@login_required

def add_stats(request, group_slug, team_id, game_id, template_name = 'games/stats_add_form.html'):

    if request.POST:

        formset = AddStatsFormSet(group_slug=group_slug, team_id=team_id, game_id=game_id, data=request.POST)

        if formset.is_valid():

            formset.save()

            return HttpResponseRedirect(reverse('games_game_list'))

        else:

            formset = TeamStatFormSet(group_slug=group_slug, team_id=team_id, game_id=game_id)

        return render_to_response(template_name, {'formset': formset,})


// modles.py partial //

class PlayerStat(models.Model):

    game = models.ForeignKey(Game, verbose_name=_(u'sport event'),)
    player = models.ForeignKey(Player, verbose_name=_(u'player'),)
    stat = models.ForeignKey(Stat, verbose_name=_(u'statistic'),)
    total = models.CharField(_(u'total'), max_length=25, blank=True, null=True)
	
    class Meta:
        verbose_name = _('player stat')
        verbose_name_plural = _('player stats')
        db_table	 = 'dfusion_playerstats'
		
        def __unicode__(self):
            return u'%s' % self.player


// forms.py

class TeamStatForm(forms.Form):

    total = forms.IntegerField()

	
class BaseTeamStatsFormSet(BaseFormSet):

    def __init__(self, *args, **kwargs):
		self.group_slug = kwargs['group_slug']
		self.team_id = kwargs['team_id']
		self.game_id = kwargs['game_id']
		self.extra = len(Stat.objects.filter(group__slug=self.group_slug))
		del kwargs['group_slug']
		del kwargs['game_id']
		del kwargs['team_id']
		super(BaseTeamStatsFormSet, self).__init__(*args, **kwargs)
	
	def add_fields(self, form, index):
		super(BaseTeamStatsFormSet, self).add_fields(form, index)
		form.fields[""stat""] = forms.ModelChoiceField(queryset = Stat.objects.filter(group__slug=self.group_slug))
		form.fields[""game""] = forms.ModelChoiceField(queryset = Game.objects.all())
		form.fields[""team""] = forms.ModelChoiceField(queryset = Team.objects.all())
		form.fields[""game""].initial = self.game_id
		form.fields[""team""].initial = self.team_id

TeamStatFormSet = formset_factory(TeamStatForm, BaseTeamStatsFormSet)
",4
4633954,01/08/2011 12:53:58,564945,01/06/2011 04:43:31,1,0,Beginner question - the syntax of objects used in Django,"i am wondering if the below code is valid as there is no method assigned after objects. However it seem to be working in my code. How is this happened as ""create"" is only a part of my own defined method (create_user), the computer shouldn't understand my method as it is not a build-in method 

    def create_user(self, username, email, password):
    
        new_user = User.objects.create_user(username, email, password)
        new_user.save()

is the string ""create"" work in some way?",django,syntax,,,,,open,0,95,10,"Beginner question - the syntax of objects used in Django i am wondering if the below code is valid as there is no method assigned after objects. However it seem to be working in my code. How is this happened as ""create"" is only a part of my own defined method (create_user), the computer shouldn't understand my method as it is not a build-in method 

    def create_user(self, username, email, password):
    
        new_user = User.objects.create_user(username, email, password)
        new_user.save()

is the string ""create"" work in some way?",2
6554481,07/02/2011 01:00:18,651174,03/09/2011 08:26:41,347,8,How to see if a value or object is in a QuerySet field,"How would I see if a value is in a QuerySet? 

For example, if I have the following model: 

    class UserProfile(models.Model):
	    user = models.ForeignKey(User, unique=True)
	    first_name = models.CharField(max_length=50)

How would I find out if the first_name 'David' is contained in a QuerySet? A way to do the following: 

    ld = UserProfile.objects.filter(...).values('first_name')
        >>> for object in ld:
        ...     if object['first_name'] =='David':
        ...             print True

Or if a particular user object is instead? Something like `'David' in QuerySet['first_name']` ? Thank you.
",django,,,,,,open,0,128,13,"How to see if a value or object is in a QuerySet field How would I see if a value is in a QuerySet? 

For example, if I have the following model: 

    class UserProfile(models.Model):
	    user = models.ForeignKey(User, unique=True)
	    first_name = models.CharField(max_length=50)

How would I find out if the first_name 'David' is contained in a QuerySet? A way to do the following: 

    ld = UserProfile.objects.filter(...).values('first_name')
        >>> for object in ld:
        ...     if object['first_name'] =='David':
        ...             print True

Or if a particular user object is instead? Something like `'David' in QuerySet['first_name']` ? Thank you.
",1
1209587,07/30/2009 21:46:28,131398,06/30/2009 23:05:09,13,2,Validating JSON data.,"I am using json in some AJAX request and am currently manually validating each entry using (if ""key"" in json.some_location.keys()) over and over again.

Is there a simpler way to do this (like XML validation)?

Note: I am open to validation libraries, but would like something I can drop into django itself (not python eggs).",django,json,validation,,,,open,0,53,3,"Validating JSON data. I am using json in some AJAX request and am currently manually validating each entry using (if ""key"" in json.some_location.keys()) over and over again.

Is there a simpler way to do this (like XML validation)?

Note: I am open to validation libraries, but would like something I can drop into django itself (not python eggs).",3
8456714,12/10/2011 13:11:10,118597,06/06/2009 17:11:52,153,4,Django password reset email subject,"I have successfully added my own custom HTML templates for the password reset pages in Django and it's all working nicely. The only bit I can't work out it how to include my own email subject.

The default is ""Password reset on [my site name]"" and I can obviously change the site name in admin but does anyone know how to override the whole subject line?

Thanks.",django,,,,,,open,0,65,5,"Django password reset email subject I have successfully added my own custom HTML templates for the password reset pages in Django and it's all working nicely. The only bit I can't work out it how to include my own email subject.

The default is ""Password reset on [my site name]"" and I can obviously change the site name in admin but does anyone know how to override the whole subject line?

Thanks.",1
10133292,04/12/2012 23:31:13,1139772,01/09/2012 22:55:28,1,0,Random Trailer app in Django,"I'm very new to Django and am trying to build my first good app. I've decided to try to rebuild a website of low complexity, and chose: http://trailertrack.me/

I was wondering if you could tell me which steps to take.

Right now, my views.py file looks like this (I'm only trying to show one specific video at the moment):




    from django.http import HttpResponse
    from django.shortcuts import render_to_response
    import gdata.youtube
    import gdata.youtube.service
    
    yt_service = gdata.youtube.service.YouTubeService()
    yt_service.ssl = True
    
    def index(request):
    	message = ""Welcome, and enjoy the show!""
    	context = {
    	        'message': message,
    	}
    	return render_to_response('index.html', context)
    	
    def video(request):
    	t = loader.get_template('index.html')
    	specificentry = yt_service.GetYouTubeVideoEntry(video_id='1g4PLj0PlOM')
    	return HttpResponse(t.render(specificentry))
    	
    	


Thanks for your advice!


",django,youtube,,,,04/14/2012 02:47:22,not a real question,1,182,5,"Random Trailer app in Django I'm very new to Django and am trying to build my first good app. I've decided to try to rebuild a website of low complexity, and chose: http://trailertrack.me/

I was wondering if you could tell me which steps to take.

Right now, my views.py file looks like this (I'm only trying to show one specific video at the moment):




    from django.http import HttpResponse
    from django.shortcuts import render_to_response
    import gdata.youtube
    import gdata.youtube.service
    
    yt_service = gdata.youtube.service.YouTubeService()
    yt_service.ssl = True
    
    def index(request):
    	message = ""Welcome, and enjoy the show!""
    	context = {
    	        'message': message,
    	}
    	return render_to_response('index.html', context)
    	
    def video(request):
    	t = loader.get_template('index.html')
    	specificentry = yt_service.GetYouTubeVideoEntry(video_id='1g4PLj0PlOM')
    	return HttpResponse(t.render(specificentry))
    	
    	


Thanks for your advice!


",2
11161200,06/22/2012 17:25:01,1475487,06/22/2012 17:04:49,1,0,Browser Based Games,"I'm interested in developing some browser based games much like what AtlusOnline does. 
I have been using python and django to develop my other websites in the past, please could anyone tell me if Django is a good enough platform to develop browser based games on, if not what are the better alternatives.

Thanks for reading and any points would be greatly appreciated.",django,,,,,06/22/2012 17:51:08,off topic,1,62,3,"Browser Based Games I'm interested in developing some browser based games much like what AtlusOnline does. 
I have been using python and django to develop my other websites in the past, please could anyone tell me if Django is a good enough platform to develop browser based games on, if not what are the better alternatives.

Thanks for reading and any points would be greatly appreciated.",1
2203434,02/04/2010 21:39:02,153399,08/09/2009 20:25:27,269,23,django auth_views.login and redirects,"I could not understand why after logging in from address:

    http://localhost/en/accounts/login/?next=/en/test/

I get refirected to 

    http://localhost/accounts/profile/

So i ran search in django files and found that this address is the default LOGIN_REDIRECT_URL for django.

What i did not understand is why it gets redirected to there. I guessed, that my login form's post address should be :

    /accounts/login/?next=/en/test/

instead of

    /accounts/login/

I wrote it into template and it worked. But since the redirect url changes dynamically, how can i make this login post forms address change dynamically too? is there a templatetag for that or something?

Alan",django,django-authentication,django-templatetags,,,,open,0,104,4,"django auth_views.login and redirects I could not understand why after logging in from address:

    http://localhost/en/accounts/login/?next=/en/test/

I get refirected to 

    http://localhost/accounts/profile/

So i ran search in django files and found that this address is the default LOGIN_REDIRECT_URL for django.

What i did not understand is why it gets redirected to there. I guessed, that my login form's post address should be :

    /accounts/login/?next=/en/test/

instead of

    /accounts/login/

I wrote it into template and it worked. But since the redirect url changes dynamically, how can i make this login post forms address change dynamically too? is there a templatetag for that or something?

Alan",3
6730600,07/18/2011 08:59:28,561766,01/03/2011 21:01:47,87,5,django: how do I migrate this view to class-based generic view equivalent?,"I have trouble transforming the following code into the new django 1.3 class-based generic view format. Specifically, I don't understand how I can pass the 'extra_context' to the class based view. Can someone help me transform this code to the new notation? or post a link to a good example? I've read the docs but the example is very flimsy.


    def return_event_list_object(request, username, queryset, entries_per_page, param1, param2):
        ...
        ...
        return object_list(request, queryset = queryset,
                template_name = 'myapp/list_events.html', 
                paginate_by = int(entries_per_page), 
                template_object_name = 'event',
                extra_context = {'param1': param1, 
                                'param2': param2, } )



I appreciate your input!",django,django-views,django-class-based-views,,,,open,0,212,12,"django: how do I migrate this view to class-based generic view equivalent? I have trouble transforming the following code into the new django 1.3 class-based generic view format. Specifically, I don't understand how I can pass the 'extra_context' to the class based view. Can someone help me transform this code to the new notation? or post a link to a good example? I've read the docs but the example is very flimsy.


    def return_event_list_object(request, username, queryset, entries_per_page, param1, param2):
        ...
        ...
        return object_list(request, queryset = queryset,
                template_name = 'myapp/list_events.html', 
                paginate_by = int(entries_per_page), 
                template_object_name = 'event',
                extra_context = {'param1': param1, 
                                'param2': param2, } )



I appreciate your input!",3
6417117,06/20/2011 20:31:49,375373,06/24/2010 14:36:37,599,7,How to add item to main django admin site without cretion any database tables.,How to add app item to main django admin site menu without creating any database tables. So then i can just overwrite admin template for this app?,django,,,,,,open,0,27,14,How to add item to main django admin site without cretion any database tables. How to add app item to main django admin site menu without creating any database tables. So then i can just overwrite admin template for this app?,1
312549,11/23/2008 14:09:24,7965,09/15/2008 14:47:24,16,6,No Module named django.core,"I have updated to latest Django version 1.0.2 after uninstalling my old Django version.But now when I run django-admin.py I get the following error. How can I resolve this?

    Traceback (most recent call last):
      File ""C:\Python25\Lib\site-packages\django\bin\django-admin.py"", line 2, in <module>
        from django.core import management
    ImportError: No module named django.core

",django,,,,,,open,0,67,4,"No Module named django.core I have updated to latest Django version 1.0.2 after uninstalling my old Django version.But now when I run django-admin.py I get the following error. How can I resolve this?

    Traceback (most recent call last):
      File ""C:\Python25\Lib\site-packages\django\bin\django-admin.py"", line 2, in <module>
        from django.core import management
    ImportError: No module named django.core

",1
11249465,06/28/2012 16:57:17,1403568,05/18/2012 14:11:27,34,0,include js in django,"`script type=""text/javascript"" src=""/static/js/functions.js"">`

This shit won't include itself in django template. Any ideas how can I set my settings.py to make it work correctly ?",django,,,,,06/28/2012 19:01:57,not constructive,1,24,4,"include js in django `script type=""text/javascript"" src=""/static/js/functions.js"">`

This shit won't include itself in django template. Any ideas how can I set my settings.py to make it work correctly ?",1
10115984,04/12/2012 00:49:03,1198166,02/08/2012 20:15:31,16,1,"Django: ManyToManyField, add object if it doesn't already exist","I'm trying to use ModelForms in Django to add content to my database which includes a ManyToManyField. Here is the relevant part of my model: 

    class Category(models.Model):
    	name = models.CharField(max_length=100)
    	description = models.TextField()
    
    	def __unicode__(self):
    		return self.name
    
    class Recipe(models.Model):
    	title = models.CharField(max_length=100)
    	body = models.TextField()
    	user = models.ForeignKey(User)
    	image = models.ImageField(upload_to='images/recipethumbs/', null = True, blank=True)
    	ingredients = models.ManyToManyField(Ingredient, through=""IngredientMap"")
    	categories = models.ManyToManyField(Category)
    	citation = models.CharField(max_length=200)
    
    	def __unicode__(self):

By default, the ManyToManyFields are represented by a multiple choice selection. This allows users to *select* from preexisting fields in the category object. I want to change this so that users can either select categories if they currently exist, or add new ones if they don't. This, seemingly, would be done by changing the widget to a TextInput. 

    class RecipeForm(ModelForm):
    	class Meta:
    		model = Recipe
    		widgets = {
                'categories': TextInput(attrs={'size': 40,}),
                'ingredients': Textarea,
            }

But if a user enters a category that doesn't currently exist in the Categories table, then Django complains that I need to ""Enter a List of Values"". How can I get the form to *add* a new category if it doesn't already exist? ",django,forms,many-to-many,models,,,open,0,292,9,"Django: ManyToManyField, add object if it doesn't already exist I'm trying to use ModelForms in Django to add content to my database which includes a ManyToManyField. Here is the relevant part of my model: 

    class Category(models.Model):
    	name = models.CharField(max_length=100)
    	description = models.TextField()
    
    	def __unicode__(self):
    		return self.name
    
    class Recipe(models.Model):
    	title = models.CharField(max_length=100)
    	body = models.TextField()
    	user = models.ForeignKey(User)
    	image = models.ImageField(upload_to='images/recipethumbs/', null = True, blank=True)
    	ingredients = models.ManyToManyField(Ingredient, through=""IngredientMap"")
    	categories = models.ManyToManyField(Category)
    	citation = models.CharField(max_length=200)
    
    	def __unicode__(self):

By default, the ManyToManyFields are represented by a multiple choice selection. This allows users to *select* from preexisting fields in the category object. I want to change this so that users can either select categories if they currently exist, or add new ones if they don't. This, seemingly, would be done by changing the widget to a TextInput. 

    class RecipeForm(ModelForm):
    	class Meta:
    		model = Recipe
    		widgets = {
                'categories': TextInput(attrs={'size': 40,}),
                'ingredients': Textarea,
            }

But if a user enters a category that doesn't currently exist in the Categories table, then Django complains that I need to ""Enter a List of Values"". How can I get the form to *add* a new category if it doesn't already exist? ",4
11470042,07/13/2012 11:56:51,104731,05/11/2009 11:10:40,392,15,How do you choose the EC2 instance for your django app?,"My team has created a nice django app and now it is going to be deployed on an EC2 instance. Now there are a few questions that I am looking answer for:

* How do I decide which instance is good for my app (micro, small, medium, large etc.). In other words how can I tell how much memory/processing power is required by this application.
* How can I quantify maximum number of concurrent users on my server. This is important for this application, I need to know how many users would be supported by micro/small/medium or large instance.
* Should I go for everything installed on a single instance or should I have separate instance for database, backups and application.
* How can I have an estimate of extra resources required with addition of each user (I think this would not be linear)

I know that answer to these questions are very subjective and most of the things depend on application design and architecture. Therefore, I am more interested in getting to know the process involved in making such decisions.",django,amazon-ec2,scalability,,,07/20/2012 04:03:39,off topic,1,176,11,"How do you choose the EC2 instance for your django app? My team has created a nice django app and now it is going to be deployed on an EC2 instance. Now there are a few questions that I am looking answer for:

* How do I decide which instance is good for my app (micro, small, medium, large etc.). In other words how can I tell how much memory/processing power is required by this application.
* How can I quantify maximum number of concurrent users on my server. This is important for this application, I need to know how many users would be supported by micro/small/medium or large instance.
* Should I go for everything installed on a single instance or should I have separate instance for database, backups and application.
* How can I have an estimate of extra resources required with addition of each user (I think this would not be linear)

I know that answer to these questions are very subjective and most of the things depend on application design and architecture. Therefore, I am more interested in getting to know the process involved in making such decisions.",3
7928481,10/28/2011 11:16:24,1018201,10/28/2011 11:11:49,1,0,changelist_view in django,"how can i call changelist_view from my_app.views ? I need save the render html to file/db

http://paste.ofcode.org/MVDJR2RhjnNL5QCBDVK3w6",django,django-views,,,,,open,0,16,3,"changelist_view in django how can i call changelist_view from my_app.views ? I need save the render html to file/db

http://paste.ofcode.org/MVDJR2RhjnNL5QCBDVK3w6",2
3851734,10/03/2010 21:49:46,465402,10/03/2010 21:49:46,1,0,Breaking data into multiple display colums with Django,"Overlap in terminology makes search for answers difficult for this one.

I'm looking for advice on the best way to implement a multiple-column display of my QuerySet that fills each column top to bottom over X columns. Meaning that the number of items in each column equals the QuerySet count divided by X (number of columns). 

Using Offset doesn't work for this because I would like my data to grow into 4 columns without updating the offset manually. CSS floats work visually, but leave the data out of order. ",django,data,display,columns,queryset,,open,0,89,8,"Breaking data into multiple display colums with Django Overlap in terminology makes search for answers difficult for this one.

I'm looking for advice on the best way to implement a multiple-column display of my QuerySet that fills each column top to bottom over X columns. Meaning that the number of items in each column equals the QuerySet count divided by X (number of columns). 

Using Offset doesn't work for this because I would like my data to grow into 4 columns without updating the offset manually. CSS floats work visually, but leave the data out of order. ",5
1772223,11/20/2009 17:54:20,152391,08/07/2009 10:26:36,55,1,Calling small app in template : Django,"Lets say I have a website with a small application that lists the 10 newest members, or something dynamic like that. I want this to view on every page, perhaps in a sidebar. How would i go about doing this.

My thoughts on the mather...  
I might not get the whole django thing just yet, but when I have a url like /foo/ calling a view bar - but what info do I have to send to the template from this view. Does every view have to send the info to the template (just so I can view my app) or is there someway to call this from the template instead. 

I have tried to read through the documentation, but its seems I just can't understand this. 

Thanks",django,django-templates,drupal-views,,,,open,0,128,7,"Calling small app in template : Django Lets say I have a website with a small application that lists the 10 newest members, or something dynamic like that. I want this to view on every page, perhaps in a sidebar. How would i go about doing this.

My thoughts on the mather...  
I might not get the whole django thing just yet, but when I have a url like /foo/ calling a view bar - but what info do I have to send to the template from this view. Does every view have to send the info to the template (just so I can view my app) or is there someway to call this from the template instead. 

I have tried to read through the documentation, but its seems I just can't understand this. 

Thanks",3
7800273,10/17/2011 22:18:34,302760,03/26/2010 17:55:36,167,9,django vs full stack php framewor,"I'm doing some research for a web project. I've done some work with codeignitor, but I'm looking into a full stack framework like cakephp or symfony 2. I'm wondering what the pros or cons of learning a php framework rather than django.

I know a little bit of python but much more comfortable with php. But after looking at Symfony and Django, it doesn't seem like it would take much longer to learn Django over Symfony despite my lack of python experience.

I'm looking for something where I can quickly develop a site with common features to modern websites such as social media integration, ajax, blog, etc.

There doesn't seem to be too many apps/modules available for Symfony 2 yet. 

What do you guys think? I know I will get answer like try them both out. But to really get a good idea of their limitations, I'd have to spend a lot more time with it than I have.",django,cakephp,frameworks,symfony,,10/18/2011 11:10:07,not constructive,1,156,6,"django vs full stack php framewor I'm doing some research for a web project. I've done some work with codeignitor, but I'm looking into a full stack framework like cakephp or symfony 2. I'm wondering what the pros or cons of learning a php framework rather than django.

I know a little bit of python but much more comfortable with php. But after looking at Symfony and Django, it doesn't seem like it would take much longer to learn Django over Symfony despite my lack of python experience.

I'm looking for something where I can quickly develop a site with common features to modern websites such as social media integration, ajax, blog, etc.

There doesn't seem to be too many apps/modules available for Symfony 2 yet. 

What do you guys think? I know I will get answer like try them both out. But to really get a good idea of their limitations, I'd have to spend a lot more time with it than I have.",4
2077050,01/16/2010 10:50:06,196961,10/26/2009 23:06:50,14,0,Django templatetag scope forcing me to do extra queries,"The problem is that if I call a templatetag into a block
and it fills me a variiable with the usual context[varname]=something,
then if I need that variable into another block, I have to call the
templatetag again. This for me means extra db queries, which is really
something I'm trying to avoid.

This templatetag is called in a base template which is extended by
many other templates, so I can't just change all the views to pass
something to the context, it makes no sense (WET principle?)

Even a context processor would be not good because I don't want to
call it for every page rendered in the site, even the ones not based
on that template.

I was thinking about writing a templatetag which would use the
internal context structures to put the variable in a global context,
but I'd feel too guilty doing it.

How would you solve this problem?",django,templatetags,scope,,,,open,0,139,9,"Django templatetag scope forcing me to do extra queries The problem is that if I call a templatetag into a block
and it fills me a variiable with the usual context[varname]=something,
then if I need that variable into another block, I have to call the
templatetag again. This for me means extra db queries, which is really
something I'm trying to avoid.

This templatetag is called in a base template which is extended by
many other templates, so I can't just change all the views to pass
something to the context, it makes no sense (WET principle?)

Even a context processor would be not good because I don't want to
call it for every page rendered in the site, even the ones not based
on that template.

I was thinking about writing a templatetag which would use the
internal context structures to put the variable in a global context,
but I'd feel too guilty doing it.

How would you solve this problem?",3
5263167,03/10/2011 17:07:22,226081,12/07/2009 03:23:20,234,10,Django Annoation: Getting Object from Annoation Values Rather than ID,"I'm new to Django Annotations and I'm trying to generate a summary report of Order income at given Locations.

For example, the report would look something like this:

    Location Name | Location Type | Sum of Order Subtotal 

And these are example models that I would use: 

    class Order(models.Model):
        order_subtotal = models.DecimalField(...)
        location = models.ForignKey('Location')
        ....

    class Location(models.Model):
        name = models.CharField(...)
        type = models.IntegerField(...)
        ....

I'm able to run some queries to annotate... 

    from django.db import models

    In [1]: order_locations =\
        Order.objects.values('location').annotate(models.Sum('order_subtotal'))

    In [2]: order_locations[0]
    Out[2]: {'location': 1, 'order_subtotal__sum': Decimal('1768.08')}

    In [3]: location = order_locations[0]['location']
    
    In [4]: location
    Out[4]: 1
    
    In [5]: type(location)
    Out[5]: <type 'int'>


However, the line above returns an int rather than a Location object.  I'd like to be able to somehow reference the location name and location type like location.name or location.type. Is there some way to return a location object in the annotation rather than only the location id (requiring separate potentially expensive lookups)?

Any advice is much appreciated.

Thanks,
Joe",django,annotations,models,values,summary,,open,0,256,10,"Django Annoation: Getting Object from Annoation Values Rather than ID I'm new to Django Annotations and I'm trying to generate a summary report of Order income at given Locations.

For example, the report would look something like this:

    Location Name | Location Type | Sum of Order Subtotal 

And these are example models that I would use: 

    class Order(models.Model):
        order_subtotal = models.DecimalField(...)
        location = models.ForignKey('Location')
        ....

    class Location(models.Model):
        name = models.CharField(...)
        type = models.IntegerField(...)
        ....

I'm able to run some queries to annotate... 

    from django.db import models

    In [1]: order_locations =\
        Order.objects.values('location').annotate(models.Sum('order_subtotal'))

    In [2]: order_locations[0]
    Out[2]: {'location': 1, 'order_subtotal__sum': Decimal('1768.08')}

    In [3]: location = order_locations[0]['location']
    
    In [4]: location
    Out[4]: 1
    
    In [5]: type(location)
    Out[5]: <type 'int'>


However, the line above returns an int rather than a Location object.  I'd like to be able to somehow reference the location name and location type like location.name or location.type. Is there some way to return a location object in the annotation rather than only the location id (requiring separate potentially expensive lookups)?

Any advice is much appreciated.

Thanks,
Joe",5
7194284,08/25/2011 16:57:04,596060,01/30/2011 20:36:22,63,7,Is there any standard way to denormalize in Django?,"I know that there was a [similar question][1] but I am not satisfied with any of the answers, unless that we denormalize only a few models.

In case we have many models to denormalize, we have the following issues:

- If we use custom Managers or the Save method, it would require a lot of repeated code
- Using signals seems cleaner at first, but again we will repeat code

Django-denorm could be a solution but I'd rather use another alternative that doesn't create triggers in my database.

I read a [post][2] by Andrew Godwin, very promising, but unfortunately it seems it didn't materialize into any solution.


  [1]: http://stackoverflow.com/questions/1100924/best-way-to-denormalize-data-in-django
  [2]: http://www.aeracode.org/2008/9/14/denormalisation-follies/",django,denormalization,,,,02/22/2012 14:14:03,not constructive,1,108,9,"Is there any standard way to denormalize in Django? I know that there was a [similar question][1] but I am not satisfied with any of the answers, unless that we denormalize only a few models.

In case we have many models to denormalize, we have the following issues:

- If we use custom Managers or the Save method, it would require a lot of repeated code
- Using signals seems cleaner at first, but again we will repeat code

Django-denorm could be a solution but I'd rather use another alternative that doesn't create triggers in my database.

I read a [post][2] by Andrew Godwin, very promising, but unfortunately it seems it didn't materialize into any solution.


  [1]: http://stackoverflow.com/questions/1100924/best-way-to-denormalize-data-in-django
  [2]: http://www.aeracode.org/2008/9/14/denormalisation-follies/",2
11621903,07/23/2012 23:15:29,1072287,11/29/2011 22:19:05,196,10,Why shouldn't django settings be altered at runtime?,"The django docs clearly states

> You shouldn't alter settings in your applications at runtime.

Here's the [link to that statement][1]

My question is, why is this so? I want to add applications dynamically at runtime, and add databases at runtime, both of which involve editing the settings. Can someone explain why settings are not to be edited at runtime and if exceptions exist, which settings they are and why they are exceptional? I'm not so much interested in how to achieve my goal, but in the reason for why settings shouldn't be altered.


  [1]: https://docs.djangoproject.com/en/dev/topics/settings/#altering-settings-at-runtime",django,runtime,settings,edit,,,open,0,94,8,"Why shouldn't django settings be altered at runtime? The django docs clearly states

> You shouldn't alter settings in your applications at runtime.

Here's the [link to that statement][1]

My question is, why is this so? I want to add applications dynamically at runtime, and add databases at runtime, both of which involve editing the settings. Can someone explain why settings are not to be edited at runtime and if exceptions exist, which settings they are and why they are exceptional? I'm not so much interested in how to achieve my goal, but in the reason for why settings shouldn't be altered.


  [1]: https://docs.djangoproject.com/en/dev/topics/settings/#altering-settings-at-runtime",4
5481015,03/30/2011 01:48:21,549529,12/21/2010 05:53:45,11,4,how to limit django admin inline formsets,"How do you limit the inline formset in django admin?
Problem:
I have a table A with 1 to n relationship with B. Table A should have at least one Table B item and a max of 5 Table B items.

Thanks",django,django-admin,inline-formset,,,,open,0,39,7,"how to limit django admin inline formsets How do you limit the inline formset in django admin?
Problem:
I have a table A with 1 to n relationship with B. Table A should have at least one Table B item and a max of 5 Table B items.

Thanks",3
8160665,11/17/2011 00:28:54,165988,08/31/2009 12:32:49,2334,142,Django Custom Commands don't work in Eclipse,"I recently made some changes to my development environment and came across a problem. I have a  Django project in eclipse (using Pydev through the Aptana plugin), and I haven't been able to use any of my custom django commands.

If I try to run a custom command, I get the following output:

    Unknown command: 'resetdb'
    Type 'manage.py help' for usage.

...But if I run the command from the command line, it works.

I've tried debugging, to see why the custom command doesn't run, and it looks like django can't find `<project_name>.management`, but I'm not sure why this previously worked.

Any ideas as to why I can't get custom commands working?

In case it's a problem with any of the software (and not my project), I have the following setup:

 - Eclipse Galileo (3.5.2)
 - Django 1.3
 - Aptana Studio 3.0.6
 - Python 2.6
 - Ubuntu 10.10
",django,eclipse,pydev,,,,open,0,149,7,"Django Custom Commands don't work in Eclipse I recently made some changes to my development environment and came across a problem. I have a  Django project in eclipse (using Pydev through the Aptana plugin), and I haven't been able to use any of my custom django commands.

If I try to run a custom command, I get the following output:

    Unknown command: 'resetdb'
    Type 'manage.py help' for usage.

...But if I run the command from the command line, it works.

I've tried debugging, to see why the custom command doesn't run, and it looks like django can't find `<project_name>.management`, but I'm not sure why this previously worked.

Any ideas as to why I can't get custom commands working?

In case it's a problem with any of the software (and not my project), I have the following setup:

 - Eclipse Galileo (3.5.2)
 - Django 1.3
 - Aptana Studio 3.0.6
 - Python 2.6
 - Ubuntu 10.10
",3
7223463,08/28/2011 19:48:17,916759,08/28/2011 19:48:17,1,0,Django - select object from DB in a tamplate,"I have something like:

    {% for mother in mothers_list %}
        {% for father in fathers_list %}
            {% Child.objects.get(mother=mother, father=father) as child %}
                child.name


Unfortunately, I can't call a function with parameters from the template, so this line

    {% Child.objects.get(mother=mother, father=father) as child %}

wont work. Any ideas of how how can I get the Child object each time?
Thanks",django,django-templates,django-database,,,,open,0,95,9,"Django - select object from DB in a tamplate I have something like:

    {% for mother in mothers_list %}
        {% for father in fathers_list %}
            {% Child.objects.get(mother=mother, father=father) as child %}
                child.name


Unfortunately, I can't call a function with parameters from the template, so this line

    {% Child.objects.get(mother=mother, father=father) as child %}

wont work. Any ideas of how how can I get the Child object each time?
Thanks",3
2344994,02/26/2010 21:38:17,151937,08/06/2009 17:21:14,302,4,Extra parameter for Django models,"With Django models, I want to achieve this:

    class Foo(models.Model):
    	name = models.CharField(max_length=50)
    
    	#wrapping the save function, including extra tasks
    	def save(self, *args, **kwargs):
        	super(Foo, self).save(*args, **kwargs)
    
    	    	if extra_param:
    			...do task 1
    		else:
    			...do task 2

And while crating Foo I want to pass such as 

    Foo(name=""Bill Gates"",extra_param=True).save() # now triggers the task 1
    Foo(name=""Bill Gates"").save() # now triggers the task 2

How can this be done?

Thanks
",django,python,django-forms,wrapper,,,open,0,115,5,"Extra parameter for Django models With Django models, I want to achieve this:

    class Foo(models.Model):
    	name = models.CharField(max_length=50)
    
    	#wrapping the save function, including extra tasks
    	def save(self, *args, **kwargs):
        	super(Foo, self).save(*args, **kwargs)
    
    	    	if extra_param:
    			...do task 1
    		else:
    			...do task 2

And while crating Foo I want to pass such as 

    Foo(name=""Bill Gates"",extra_param=True).save() # now triggers the task 1
    Foo(name=""Bill Gates"").save() # now triggers the task 2

How can this be done?

Thanks
",4
7628384,10/02/2011 18:34:13,671391,03/22/2011 14:34:57,165,5,How to filter data from model?,"I have two models:

    class ModelOne(models.Model):
        something = models.TextField[...]

    class ModelTwo(models.Model):
        other_something = models.TextField[...]
        ref = models.ForeignKey(ModelOne)

And I want to write function in ModelOne which return me all related objects from ModelTwo.

It's important: In ModelOne.

How to do it?
",django,django-models,,,,,open,0,65,6,"How to filter data from model? I have two models:

    class ModelOne(models.Model):
        something = models.TextField[...]

    class ModelTwo(models.Model):
        other_something = models.TextField[...]
        ref = models.ForeignKey(ModelOne)

And I want to write function in ModelOne which return me all related objects from ModelTwo.

It's important: In ModelOne.

How to do it?
",2
10896138,06/05/2012 11:03:40,1202386,02/10/2012 15:56:36,60,1,Parsing integerfields as integer values,"I'm looking for a way to parse the value of integerFields and returning the value.

    scoreChans = models.IntegerField(0)
    scoreChansSet = models.BooleanField(False)
    scoreYatzy = models.IntegerField(0)
    scoreYatzySet = models.BooleanField(False) 

    scoreTotal = scoreChans + scoreYatzy

But this gives:
TypeError: unsupported operand type(s) for +: 'IntegerField' and 'IntegerField'

Is there a way the fetch the values from these fields?",django,django-models,,,,,open,0,68,5,"Parsing integerfields as integer values I'm looking for a way to parse the value of integerFields and returning the value.

    scoreChans = models.IntegerField(0)
    scoreChansSet = models.BooleanField(False)
    scoreYatzy = models.IntegerField(0)
    scoreYatzySet = models.BooleanField(False) 

    scoreTotal = scoreChans + scoreYatzy

But this gives:
TypeError: unsupported operand type(s) for +: 'IntegerField' and 'IntegerField'

Is there a way the fetch the values from these fields?",2
10495120,05/08/2012 08:27:22,445600,11/14/2009 14:59:51,770,7,Skip the first element in list,Is it possible with django template tags to skip the first element in a list when doing the for loop? For example I want to begin from element 1 instead from 0.,django,django-templates,,,,,open,0,32,6,Skip the first element in list Is it possible with django template tags to skip the first element in a list when doing the for loop? For example I want to begin from element 1 instead from 0.,2
152248,09/30/2008 08:34:35,3171,08/27/2008 06:27:02,2916,102,Can I use HTTP Basic Authentication with Django?,"We have a website running on Apache, access to which has a number of static pages protected via HTTP Basic authentication.

I've written a new part of the site with Django using Django's built in support for user management.

The problem I have is that users have to log in once via the HTTP Basic authentication and then again using a Django login form.  This both clumsy and very confusing for users.

I was wondering if anyone had found a way to make Django log a user in using the HTTP Basic authentication information.

I not expecting to pass a password to Django, but rather if a user `dave` has been authenticated by Apache then they should be automatically logged into Django as `dave` too.

(One option would be to make Apache and Django share a user store to ensure common usernames and passwords but this would still involve two login prompts which is what I'm trying to avoid.)

",django,,,,,,open,0,155,8,"Can I use HTTP Basic Authentication with Django? We have a website running on Apache, access to which has a number of static pages protected via HTTP Basic authentication.

I've written a new part of the site with Django using Django's built in support for user management.

The problem I have is that users have to log in once via the HTTP Basic authentication and then again using a Django login form.  This both clumsy and very confusing for users.

I was wondering if anyone had found a way to make Django log a user in using the HTTP Basic authentication information.

I not expecting to pass a password to Django, but rather if a user `dave` has been authenticated by Apache then they should be automatically logged into Django as `dave` too.

(One option would be to make Apache and Django share a user store to ensure common usernames and passwords but this would still involve two login prompts which is what I'm trying to avoid.)

",1
3472448,08/12/2010 22:14:36,65387,02/12/2009 03:01:00,6124,276,Django: Caching aggregate query?,"I've got an `Invoice` model, and I want to keep the `total` up to date. So I've added a property like this

    @property
    def item_total(self):
        if not hasattr(self, 'item_total_cache'):
            self.item_total_cache = self.items.aggregate(t=Sum('amount'))['t']
        return self.item_total_cache

Because `item_total` might get called a few times during one page request and I don't want to hit the DB every time. Is this a good way to do it? Will my `Invoice` object exist beyond one page request and thus the `item_total` might actually get stale?

Ideally, I'd like to compute the `item_total` at the same time the invoices are requested... I know I can do this manually, but the Django admin site, for instance, doesn't know it's going to need the sum. Is there someway I can ""inject"" this extra tidbit of information so that all `Invoice.objects.all/filter/get()` requests run the aggregate at the same time?",django,caching,relational-database,,,,open,0,170,4,"Django: Caching aggregate query? I've got an `Invoice` model, and I want to keep the `total` up to date. So I've added a property like this

    @property
    def item_total(self):
        if not hasattr(self, 'item_total_cache'):
            self.item_total_cache = self.items.aggregate(t=Sum('amount'))['t']
        return self.item_total_cache

Because `item_total` might get called a few times during one page request and I don't want to hit the DB every time. Is this a good way to do it? Will my `Invoice` object exist beyond one page request and thus the `item_total` might actually get stale?

Ideally, I'd like to compute the `item_total` at the same time the invoices are requested... I know I can do this manually, but the Django admin site, for instance, doesn't know it's going to need the sum. Is there someway I can ""inject"" this extra tidbit of information so that all `Invoice.objects.all/filter/get()` requests run the aggregate at the same time?",3
9144886,02/04/2012 21:52:59,969984,09/28/2011 21:21:53,57,14,Django admin interface filter from another table linked with foreign key,"I have given two tables and its models.

    mysql> SELECT gid, sk, source from datagen_gidskmap limit 10;
    +-----+------+----------+
    | gid | sk   | source   |
    +-----+------+----------+
    |   1 | 3829 | smsarena |
    |   2 | 623  | smsarena |
    |   3 | 1308 | smsarena |
    |   4 | 1747 | smsarena |
    |   5 | 1827 | smsarena |
    |   6 | 1218 | smsarena |
    |   7 | 2957 | smsarena |
    |   8 | 3468 | smsarena |
    |   9 | 2580 | smsarena |
    |  10 | 2579 | smsarena |
    +-----+------+----------+
    10 rows in set (0.00 sec)

    class GidSkMap(models.Model):
        gid = models.AutoField(primary_key=True)
        sk  = models.CharField(max_length=256)
        source = models.CharField(max_length=64)
        creation_date = models.DateTimeField(auto_now_add=True)
        modification_date = models.DateTimeField(auto_now=True)
    
    
        def __unicode__(self):
            return u'%s' % self.gid
    
        class Meta:
            unique_together = (""sk"", ""source"")

---------------

    mysql> SELECT id, gid_id, nm from datagen_crawlmeta limit 10;
    +----+--------+----------------------------+
    | id | gid_id | nm                         |
    +----+--------+----------------------------+
    |  1 |      1 | votes                      |
    |  2 |      1 | performance_rating         |
    |  3 |      1 | title                      |
    |  4 |      1 | specs__Sound__Loudspeaker  |
    |  5 |      1 | specs__Sound__3.5mm jack   |
    |  6 |      1 | specs__Sound__Alert types  |
    |  7 |      1 | specs__Sound__unknown0     |
    |  8 |      1 | specs__Features__Java      |
    |  9 |      1 | specs__Features__Messaging |
    | 10 |      1 | specs__Features__Colors    |
    +----+--------+----------------------------+
    10 rows in set (0.00 sec)

    class CrawlMeta(models.Model):
        gid = models.ForeignKey(GidSkMap)
        nm = models.CharField(max_length=256)
        val = models.TextField()
        modification_date = models.DateTimeField(auto_now=True)
    
        def __unicode__(self):
            return u'%s' % self.gid
    
        class Meta:
            unique_together = (""gid"", ""nm"")


While viewing the CrawlMeta model in the django admin interface,
I would like to have a filter based on ""source""(Eg: smsarena) which can be accessed
via gid (which is a foriegn key in CrawlMeta and primary_key in GidSkMap).

Any help would be appreciated.
 ",django,django-models,django-admin,,,,open,0,726,11,"Django admin interface filter from another table linked with foreign key I have given two tables and its models.

    mysql> SELECT gid, sk, source from datagen_gidskmap limit 10;
    +-----+------+----------+
    | gid | sk   | source   |
    +-----+------+----------+
    |   1 | 3829 | smsarena |
    |   2 | 623  | smsarena |
    |   3 | 1308 | smsarena |
    |   4 | 1747 | smsarena |
    |   5 | 1827 | smsarena |
    |   6 | 1218 | smsarena |
    |   7 | 2957 | smsarena |
    |   8 | 3468 | smsarena |
    |   9 | 2580 | smsarena |
    |  10 | 2579 | smsarena |
    +-----+------+----------+
    10 rows in set (0.00 sec)

    class GidSkMap(models.Model):
        gid = models.AutoField(primary_key=True)
        sk  = models.CharField(max_length=256)
        source = models.CharField(max_length=64)
        creation_date = models.DateTimeField(auto_now_add=True)
        modification_date = models.DateTimeField(auto_now=True)
    
    
        def __unicode__(self):
            return u'%s' % self.gid
    
        class Meta:
            unique_together = (""sk"", ""source"")

---------------

    mysql> SELECT id, gid_id, nm from datagen_crawlmeta limit 10;
    +----+--------+----------------------------+
    | id | gid_id | nm                         |
    +----+--------+----------------------------+
    |  1 |      1 | votes                      |
    |  2 |      1 | performance_rating         |
    |  3 |      1 | title                      |
    |  4 |      1 | specs__Sound__Loudspeaker  |
    |  5 |      1 | specs__Sound__3.5mm jack   |
    |  6 |      1 | specs__Sound__Alert types  |
    |  7 |      1 | specs__Sound__unknown0     |
    |  8 |      1 | specs__Features__Java      |
    |  9 |      1 | specs__Features__Messaging |
    | 10 |      1 | specs__Features__Colors    |
    +----+--------+----------------------------+
    10 rows in set (0.00 sec)

    class CrawlMeta(models.Model):
        gid = models.ForeignKey(GidSkMap)
        nm = models.CharField(max_length=256)
        val = models.TextField()
        modification_date = models.DateTimeField(auto_now=True)
    
        def __unicode__(self):
            return u'%s' % self.gid
    
        class Meta:
            unique_together = (""gid"", ""nm"")


While viewing the CrawlMeta model in the django admin interface,
I would like to have a filter based on ""source""(Eg: smsarena) which can be accessed
via gid (which is a foriegn key in CrawlMeta and primary_key in GidSkMap).

Any help would be appreciated.
 ",3
5002461,02/15/2011 10:25:51,111846,05/24/2009 20:58:32,34,0,Django admin with FCGI + lighttpd,"I'm running a django installation on lighttpd +FCGI.
Everything works fine except the admin.

It seems that the redirects after I post something (i.e. I modify sor create an instance of a model) go wrong.

The admin keeps redirecting me to www.xyz.com/django.fcgi/admin/... while django.fcgi should be used only by the lighttp rewrite rule to invoke FCGI.

Here's the redirection in the conf file


    url.rewrite-once = (
    				""^(/media.*)$"" => ""$1"",
    				""^/favicon\.ico$"" => ""/media/favicon.ico"",
        				""^(/.*)$"" => ""/django.fcgi$1"",
    )


how can I fix this?",django,lighttpd,fcgi,,,,open,0,95,6,"Django admin with FCGI + lighttpd I'm running a django installation on lighttpd +FCGI.
Everything works fine except the admin.

It seems that the redirects after I post something (i.e. I modify sor create an instance of a model) go wrong.

The admin keeps redirecting me to www.xyz.com/django.fcgi/admin/... while django.fcgi should be used only by the lighttp rewrite rule to invoke FCGI.

Here's the redirection in the conf file


    url.rewrite-once = (
    				""^(/media.*)$"" => ""$1"",
    				""^/favicon\.ico$"" => ""/media/favicon.ico"",
        				""^(/.*)$"" => ""/django.fcgi$1"",
    )


how can I fix this?",3
2783544,05/06/2010 18:41:09,238849,12/26/2009 13:58:01,1604,80,"What's a good way to format AJAX responses?  Or, using Django templating with AJAX","In some of the code I'm working on, the author max AJAX calls to a Django view that returns JSON.

Once the JSON is retrieved, it'll be injected into the page with a function that looks like this (note, this is a simplification, but I'm sure you know what I'm getting at here):

    function build_event_listing(events) {
    	var html = '';
    
    	for(int i = 0; i < events.length; i++) {
    		event = events[i];
    
    		html += ""<h2>"" + event.title + ""</h2>\n"";
    		html += ""<p>"" + event.description + ""</p>"";
    		html += ""Click <a href='/event/view/"" + event.id + ""'>here<a> for more info."";
    
    	}
    
    	events_div.html(html);
    }

I really don't like this approach.  To change the look of each event listing, the designer would have to modify that ugly JS.  I'd much rather make use of Django's templating system, but I'm wondering how I can do this?

I had the idea of writing the view like this:

    def view_listings(req):
    	events = models.Event.objects.all()
    
    	html = []
    	for event in events:
    		html.append(
    			render_to_string('event/single_event.html', {
    				'event': event,
    			}, context_instance=RequestContext(req))
    
    	return HttpResponse(''.join(html), mimetype='text/html')

... but it just seems like there should be a better way.  


Any ideas?",django,javascript,,,,,open,0,267,15,"What's a good way to format AJAX responses?  Or, using Django templating with AJAX In some of the code I'm working on, the author max AJAX calls to a Django view that returns JSON.

Once the JSON is retrieved, it'll be injected into the page with a function that looks like this (note, this is a simplification, but I'm sure you know what I'm getting at here):

    function build_event_listing(events) {
    	var html = '';
    
    	for(int i = 0; i < events.length; i++) {
    		event = events[i];
    
    		html += ""<h2>"" + event.title + ""</h2>\n"";
    		html += ""<p>"" + event.description + ""</p>"";
    		html += ""Click <a href='/event/view/"" + event.id + ""'>here<a> for more info."";
    
    	}
    
    	events_div.html(html);
    }

I really don't like this approach.  To change the look of each event listing, the designer would have to modify that ugly JS.  I'd much rather make use of Django's templating system, but I'm wondering how I can do this?

I had the idea of writing the view like this:

    def view_listings(req):
    	events = models.Event.objects.all()
    
    	html = []
    	for event in events:
    		html.append(
    			render_to_string('event/single_event.html', {
    				'event': event,
    			}, context_instance=RequestContext(req))
    
    	return HttpResponse(''.join(html), mimetype='text/html')

... but it just seems like there should be a better way.  


Any ideas?",2
5741551,04/21/2011 08:33:20,220356,11/28/2009 05:19:41,30,0,developing a video sharing website using django,"I am a django developer and wants to develop a video sharing website which will demonstrate how to do things. What tools are required for this ? I really want to automate the video publishing process.

Also I want to know the average file size of a 5-min video?
To start with, I have 100GB disk space & 600GB bandwidth/month on my server. So video size will be a constraint. Isn't it?",django,,,,,04/21/2011 21:36:06,off topic,1,70,7,"developing a video sharing website using django I am a django developer and wants to develop a video sharing website which will demonstrate how to do things. What tools are required for this ? I really want to automate the video publishing process.

Also I want to know the average file size of a 5-min video?
To start with, I have 100GB disk space & 600GB bandwidth/month on my server. So video size will be a constraint. Isn't it?",1
9018032,01/26/2012 12:21:49,1169859,01/25/2012 18:38:14,1,0,Best way to create students information site with django,"I want to create a website for students with django.

I have **learning_plan** with n **subjects**

When I create a **student** I want to choose an existing learning_plan and have automatic all the subjects that the learning_plan has, also I want to have **exam_grades** different for each student.

What I've done so far:

    class Subject(models.Model):
    	name = models.CharField(max_length=60)
    
    	def __unicode__(self):
    		return self.name
    
    class LearningPlan(models.Model):
    	name = models.CharField(max_length=60)
    	subjects = models.ManyToManyField(Subject, through='Exam')
    
    	def __unicode__(self):
    		return self.name
    		
    class Student(models.Model):
    	name = models.CharField(max_length=60)
    	learning_plan = models.ForeignKey(LearningPlan)
    
    	def __unicode__(self):
    		return self.name
    
    
    class Exam(models.Model):
    	subject = models.ForeignKey(Subject)
    	learning_plan = models.ForeignKey(LearningPlan)
    	exam_grade = models.IntegerField()

But it does not work well ): 
",django,,,,,01/27/2012 14:42:03,not a real question,1,184,9,"Best way to create students information site with django I want to create a website for students with django.

I have **learning_plan** with n **subjects**

When I create a **student** I want to choose an existing learning_plan and have automatic all the subjects that the learning_plan has, also I want to have **exam_grades** different for each student.

What I've done so far:

    class Subject(models.Model):
    	name = models.CharField(max_length=60)
    
    	def __unicode__(self):
    		return self.name
    
    class LearningPlan(models.Model):
    	name = models.CharField(max_length=60)
    	subjects = models.ManyToManyField(Subject, through='Exam')
    
    	def __unicode__(self):
    		return self.name
    		
    class Student(models.Model):
    	name = models.CharField(max_length=60)
    	learning_plan = models.ForeignKey(LearningPlan)
    
    	def __unicode__(self):
    		return self.name
    
    
    class Exam(models.Model):
    	subject = models.ForeignKey(Subject)
    	learning_plan = models.ForeignKey(LearningPlan)
    	exam_grade = models.IntegerField()

But it does not work well ): 
",1
10396296,05/01/2012 10:14:44,834239,07/07/2011 19:35:42,65,0,How to update the password and 'is_staff' status while using django.contrib.auth models,"I am developing a web based application in which i need to update the password and is_staff status of a user from Admin(template) page. To do this i created a template which are showing the list of all registered users. see the template:

       {% for obj in users_list.object_list %}
			<tr class=""{% cycle 'odd' 'even' %}"">
				<td>{{obj}}</td>
                <td><a href=""{% url user_detail user.pk%}"">{{obj.first_name}}</a></td>
                <td>{{obj.last_name}}</td>
                <td>{{obj.email}}</td>
                <td>{{obj.is_staff}}</td>
The above code showing the list of all users includes their Full name, Email and is_staff status. What i want, when admin will click on the user name (i uses the href attributes). It will get the option to update the password and is_staff status for a clicked user at open page.

To do this i am not able to find out how to pass the id of user in following line. I tried with **user.pk** but it always given 1 to me. May be it is returning the current loginned user id but the loginned user is super user also:
 

     <td><a href=""{% url user_detail user.pk%}"">{{obj.first_name}}</a></td>
",django,django-models,django-admin,django-templates,,,open,0,237,12,"How to update the password and 'is_staff' status while using django.contrib.auth models I am developing a web based application in which i need to update the password and is_staff status of a user from Admin(template) page. To do this i created a template which are showing the list of all registered users. see the template:

       {% for obj in users_list.object_list %}
			<tr class=""{% cycle 'odd' 'even' %}"">
				<td>{{obj}}</td>
                <td><a href=""{% url user_detail user.pk%}"">{{obj.first_name}}</a></td>
                <td>{{obj.last_name}}</td>
                <td>{{obj.email}}</td>
                <td>{{obj.is_staff}}</td>
The above code showing the list of all users includes their Full name, Email and is_staff status. What i want, when admin will click on the user name (i uses the href attributes). It will get the option to update the password and is_staff status for a clicked user at open page.

To do this i am not able to find out how to pass the id of user in following line. I tried with **user.pk** but it always given 1 to me. May be it is returning the current loginned user id but the loginned user is super user also:
 

     <td><a href=""{% url user_detail user.pk%}"">{{obj.first_name}}</a></td>
",4
8626266,12/24/2011 18:43:18,763256,05/20/2011 18:51:20,425,8,Django sort the list - complex query,"These are my models

    class Review(models.Model):
        reviewHeader = models.CharField(null=False,default="""",max_length=200)
    
    class ReviewRate(models.Model):
        review = models.ForeignKey(CompanyReview,null=False,default=0)
        isPositive = models.BooleanField(blank=True)

I would like to sort the reviews by the number of positive votes.

    Review.objects.all().annotate(ss = Sum('rev__reviewrate__isPositive')).order_by('-ss')

This sorts the reviews by which has the maximum positive votes. But if a review has 2 positive and 2 negative votes, it comes before the review which has only one positive vote.

But I would like to sort them by (positive-negative) count.

How can I achieve this ?

Thanks
",django,django-models,django-queryset,,,,open,0,112,7,"Django sort the list - complex query These are my models

    class Review(models.Model):
        reviewHeader = models.CharField(null=False,default="""",max_length=200)
    
    class ReviewRate(models.Model):
        review = models.ForeignKey(CompanyReview,null=False,default=0)
        isPositive = models.BooleanField(blank=True)

I would like to sort the reviews by the number of positive votes.

    Review.objects.all().annotate(ss = Sum('rev__reviewrate__isPositive')).order_by('-ss')

This sorts the reviews by which has the maximum positive votes. But if a review has 2 positive and 2 negative votes, it comes before the review which has only one positive vote.

But I would like to sort them by (positive-negative) count.

How can I achieve this ?

Thanks
",3
6079955,05/21/2011 06:01:38,710989,04/16/2011 08:50:08,11,0,Django views gettext in views,"hi i have the following code::
for y in x['emails']:
                        message = """".join([
                                           _(""Hi ""),
                                           name,
                                           "",\r\n\r\n"",
                                           ""I am sending you an invite to join my club"",
                                           "" at aLOTof premium lottery."",
                                           ""\r\nPlease follow the link below to join:"",
                                           ""\r\n\r\n"",
                                           BASE_URL + ""PreRegistration/?clubid="",
                                           request.session['club_id'],
                                           ""&email="",
                                           y,
                                           ""\r\n\r\n"",
                                           ""Thanks,\r\n"",
                                           fullname.capitalize()                                   
                                           ])
                        
                        send_mail('aLOTof Club Invitation',
                                   message, 
                                   fullname.capitalize(),
                                   [y]) 
I want to translate the string 
"",\r\n\r\n"",
                                           ""I am sending you an invite to join my club"",
                                           "" at aLOTof premium lottery."",
                                           ""\r\nPlease follow the link below to join:"",
                                           ""\r\n\r\n"",
  in German.have a look at _(""hi "") it is translating to german perfectly.but the further string i tried with _() they are not.I want to translate this also.
Thanks in advance
",django,django-views,,,,05/23/2011 02:45:50,not a real question,1,1122,5,"Django views gettext in views hi i have the following code::
for y in x['emails']:
                        message = """".join([
                                           _(""Hi ""),
                                           name,
                                           "",\r\n\r\n"",
                                           ""I am sending you an invite to join my club"",
                                           "" at aLOTof premium lottery."",
                                           ""\r\nPlease follow the link below to join:"",
                                           ""\r\n\r\n"",
                                           BASE_URL + ""PreRegistration/?clubid="",
                                           request.session['club_id'],
                                           ""&email="",
                                           y,
                                           ""\r\n\r\n"",
                                           ""Thanks,\r\n"",
                                           fullname.capitalize()                                   
                                           ])
                        
                        send_mail('aLOTof Club Invitation',
                                   message, 
                                   fullname.capitalize(),
                                   [y]) 
I want to translate the string 
"",\r\n\r\n"",
                                           ""I am sending you an invite to join my club"",
                                           "" at aLOTof premium lottery."",
                                           ""\r\nPlease follow the link below to join:"",
                                           ""\r\n\r\n"",
  in German.have a look at _(""hi "") it is translating to german perfectly.but the further string i tried with _() they are not.I want to translate this also.
Thanks in advance
",2
3994060,10/22/2010 05:10:23,395676,07/19/2010 09:37:17,31,2,django full url in get_absolute_url ,"I want to have a absolute/complete url when i call my models get_absolute_url method in template. in my entry model i have below:
    
    def get_absolute_url(self):
        return ('blog_entry_detail', (), { 'year': self.pub_date.strftime(""%Y""),
                                               'month': self.pub_date.strftime(""%b"").lower(),
                                               'day': self.pub_date.strftime(""%d""),
                                               'slug': self.slug })

    get_absolute_url = models.permalink(get_absolute_url)


in my template file:

    {{object.get_absolute_url}}

I want to output the url prepended with 'http://www.example.com'
 
I want to use below lines to get the current domain name but i dont know where will i put it.

    from django.contrib.sites.models import Site
    current_site = Site.objects.get_current().domain


",django,,,,,,open,0,245,6,"django full url in get_absolute_url  I want to have a absolute/complete url when i call my models get_absolute_url method in template. in my entry model i have below:
    
    def get_absolute_url(self):
        return ('blog_entry_detail', (), { 'year': self.pub_date.strftime(""%Y""),
                                               'month': self.pub_date.strftime(""%b"").lower(),
                                               'day': self.pub_date.strftime(""%d""),
                                               'slug': self.slug })

    get_absolute_url = models.permalink(get_absolute_url)


in my template file:

    {{object.get_absolute_url}}

I want to output the url prepended with 'http://www.example.com'
 
I want to use below lines to get the current domain name but i dont know where will i put it.

    from django.contrib.sites.models import Site
    current_site = Site.objects.get_current().domain


",1
10326054,04/26/2012 01:23:53,1027309,11/03/2011 09:15:30,40,1,"Django forms: ModelMultipleChoiceField displaying error ""null"" is not a valid value for a primary key","In my application I have model like:

    class Entity(models.Model):
    #some other fields
    
    tags = models.ManyToManyField('Tag', blank=True, null=True)
   
    #... the rest

It is declared that way, because it should be an optional relation. Then in my custom form I have defined field:

    tagsAll = forms.ModelMultipleChoiceField(
                                             label=Choose:"",
                                             queryset=Tag.objects.all(),
                                             required = False
                                             )

And, from what I found in docs and forums it should work... but it doesn't :/ After submitting the form, it return the error:

**""null"" is not a valid value for a primary key**

Why?",django,django-models,django-forms,,,,open,0,279,15,"Django forms: ModelMultipleChoiceField displaying error ""null"" is not a valid value for a primary key In my application I have model like:

    class Entity(models.Model):
    #some other fields
    
    tags = models.ManyToManyField('Tag', blank=True, null=True)
   
    #... the rest

It is declared that way, because it should be an optional relation. Then in my custom form I have defined field:

    tagsAll = forms.ModelMultipleChoiceField(
                                             label=Choose:"",
                                             queryset=Tag.objects.all(),
                                             required = False
                                             )

And, from what I found in docs and forums it should work... but it doesn't :/ After submitting the form, it return the error:

**""null"" is not a valid value for a primary key**

Why?",3
2677450,04/20/2010 17:55:47,183753,10/03/2009 22:03:38,38,1,how to customizing fields in django's comment app?,"How can I customize the django builtin comment app so that the fields url, email will be ignored and automatically populate the name with the user's username since I'm only allowing comments from authenticated users?",django,,,,,,open,0,35,8,"how to customizing fields in django's comment app? How can I customize the django builtin comment app so that the fields url, email will be ignored and automatically populate the name with the user's username since I'm only allowing comments from authenticated users?",1
9323551,02/17/2012 05:47:55,34956,11/06/2008 04:26:17,925,20,What exactly does Django UserProfile give me?,"I was reading about Django's support for custom user profiles. I understand that if I do the following steps, I will be able to tie in a custom user profile object with my application.

 1. Create a model object for UserProfile which will have django.contrib.auth.models..User as a FK
 2. Add the following to settings.py AUTH_PROFILE_MODULE = 'accounts.UserProfile'
 3. Ensure that a UserProfile object is available for every User object (either using django signals, or creating one when it is queried)

By doing all this what I get is the ability to obtain a user profile by doing

    user.get_profile()

My question is, is there any other functionality I get, such as (non admin) views to view/edit the user profile ?",django,user-profile,,,,,open,0,120,7,"What exactly does Django UserProfile give me? I was reading about Django's support for custom user profiles. I understand that if I do the following steps, I will be able to tie in a custom user profile object with my application.

 1. Create a model object for UserProfile which will have django.contrib.auth.models..User as a FK
 2. Add the following to settings.py AUTH_PROFILE_MODULE = 'accounts.UserProfile'
 3. Ensure that a UserProfile object is available for every User object (either using django signals, or creating one when it is queried)

By doing all this what I get is the ability to obtain a user profile by doing

    user.get_profile()

My question is, is there any other functionality I get, such as (non admin) views to view/edit the user profile ?",2
8803736,01/10/2012 13:07:18,21640,09/24/2008 12:24:18,2247,225,Django admin: Restful list filtering?,"Django admin's list filtering uses request parameters, e.g. `<root>/objects/mainapp/director/?company__company_number__exact=UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14`.

I would like to present my users with urls like `<root>/objects/mainapp/director/for/UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14`. Is there a simple way to achieve this?

I would also like to have the `/for/UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14` be made available to the other views of the same admin class, so that e.g. add defaults to adding a director with company `UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14`.

This doesn't seem like a use-case that has been explicitly provided for in the documentation. I am looking for pointers, hints, documents, or even code that would help me start to implement this, as gracefully as possible.",django,rest,django-admin,django-admin-filters,,,open,0,94,5,"Django admin: Restful list filtering? Django admin's list filtering uses request parameters, e.g. `<root>/objects/mainapp/director/?company__company_number__exact=UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14`.

I would like to present my users with urls like `<root>/objects/mainapp/director/for/UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14`. Is there a simple way to achieve this?

I would also like to have the `/for/UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14` be made available to the other views of the same admin class, so that e.g. add defaults to adding a director with company `UN56d46080-1f4c-11e1-9d39-e89a8f7f9c14`.

This doesn't seem like a use-case that has been explicitly provided for in the documentation. I am looking for pointers, hints, documents, or even code that would help me start to implement this, as gracefully as possible.",4
3674742,09/09/2010 07:59:07,348869,05/24/2010 11:07:45,109,16,Django jQuery post then reload - too many times,"I have a bit of a problem.

I have ten forms in my app similar to facebooks commenting forms.

I have successfully managed to pass the form for processing by making use of jQuery's $.ajax function.

All of this works fine, but for some reason the app sends 10 post signals and then reloads ten times, causing the user to experience having to wait until all has finished loading.

**The form**

    <form action=""{% comment_form_target %}"" method=""post"" class=""comment-form"">
      {% if next %}<input type=""hidden"" name=""next"" value=""{{ next }}"" />{% endif %}
      {% for field in form %}
        {% if field.is_hidden %}
          {{ field }}
        {% else %}
          {% if field.errors %}{{ field.errors }}{% endif %}
          <p
            {% if field.errors %} class=""error""{% endif %}
            {% ifequal field.name ""honeypot"" %} style=""display:none;""{% endifequal %}>
            
          </p>
        {% endif %}
        
      {% endfor %}
      <textarea id=""id_comment"" rows=""1"" cols=""60"" name=""comment"" class='id_comment'></textarea>
      <p class=""submit"">
        <input type=""submit"" name=""post"" class=""submit-post blue comment_submit"" value=""{% trans ""Comment"" %}"" id=""button"" style=""float:right;margin-top:-6px;margin-bottom:4px;""/>
      </p>
      <div class=""clearfix""></div>
    </form>

**the jQuery**

    $(document).ready(function(){
     ### this first bit goes through the django form and assigns a unique ID
        $('.comment-form').each(function(){
      var element = $(this).find('#id_object_pk').val();
      $(this).attr('id', element);
      $(this).find('#button').attr('id', element);
      $(this).find('#id_content_type').attr('id', 'id_content_type' + element);
      $(this).find('#id_timestamp').attr('id', 'id_timestamp' + element);
      $(this).find('#id_security_hash').attr('id', 'id_security_hash' + element);
      $(this).find('#id_comment').attr('id', 'id_comment' + element); 
     });
     
     ### this bit is where the magic happens
        $("".comment_submit"").click(function(){
      var element = $(this);
      var ID = element.attr('id');
      
      var content_type = $('#id_content_type'+ID).val();
      var timestamp = $('#id_timestamp'+ID).val();
      var security_hash = $('#id_security_hash'+ID).val();
      var comment = $('#id_comment'+ID).val();
      var dataString = 'content_type='+ content_type +'&timestamp='+ timestamp +'&security_hash=' + security_hash + '&comment=' + comment + '&object_pk=' + ID;
      
      $('#id_comment'+ID).val('').addClass(""greyout"");
      
      $.ajax({
       type: ""POST"",
       url: ""/comments/post/"",
       data: dataString,
       success: function(){
        $.get('/wall/', { user:'{{ sent_user }}' }, function(data){
         $('#news').html(data);
        });
       }
      });
      return false;
     });
    
    });

So when a user submits, it then sends 10 form submits, accepts the one with data but also reloads 10 times... Where am I going wrong with this",django,jquery-ui,jquery-ajax,django-templates,jquery-post,,open,0,654,9,"Django jQuery post then reload - too many times I have a bit of a problem.

I have ten forms in my app similar to facebooks commenting forms.

I have successfully managed to pass the form for processing by making use of jQuery's $.ajax function.

All of this works fine, but for some reason the app sends 10 post signals and then reloads ten times, causing the user to experience having to wait until all has finished loading.

**The form**

    <form action=""{% comment_form_target %}"" method=""post"" class=""comment-form"">
      {% if next %}<input type=""hidden"" name=""next"" value=""{{ next }}"" />{% endif %}
      {% for field in form %}
        {% if field.is_hidden %}
          {{ field }}
        {% else %}
          {% if field.errors %}{{ field.errors }}{% endif %}
          <p
            {% if field.errors %} class=""error""{% endif %}
            {% ifequal field.name ""honeypot"" %} style=""display:none;""{% endifequal %}>
            
          </p>
        {% endif %}
        
      {% endfor %}
      <textarea id=""id_comment"" rows=""1"" cols=""60"" name=""comment"" class='id_comment'></textarea>
      <p class=""submit"">
        <input type=""submit"" name=""post"" class=""submit-post blue comment_submit"" value=""{% trans ""Comment"" %}"" id=""button"" style=""float:right;margin-top:-6px;margin-bottom:4px;""/>
      </p>
      <div class=""clearfix""></div>
    </form>

**the jQuery**

    $(document).ready(function(){
     ### this first bit goes through the django form and assigns a unique ID
        $('.comment-form').each(function(){
      var element = $(this).find('#id_object_pk').val();
      $(this).attr('id', element);
      $(this).find('#button').attr('id', element);
      $(this).find('#id_content_type').attr('id', 'id_content_type' + element);
      $(this).find('#id_timestamp').attr('id', 'id_timestamp' + element);
      $(this).find('#id_security_hash').attr('id', 'id_security_hash' + element);
      $(this).find('#id_comment').attr('id', 'id_comment' + element); 
     });
     
     ### this bit is where the magic happens
        $("".comment_submit"").click(function(){
      var element = $(this);
      var ID = element.attr('id');
      
      var content_type = $('#id_content_type'+ID).val();
      var timestamp = $('#id_timestamp'+ID).val();
      var security_hash = $('#id_security_hash'+ID).val();
      var comment = $('#id_comment'+ID).val();
      var dataString = 'content_type='+ content_type +'&timestamp='+ timestamp +'&security_hash=' + security_hash + '&comment=' + comment + '&object_pk=' + ID;
      
      $('#id_comment'+ID).val('').addClass(""greyout"");
      
      $.ajax({
       type: ""POST"",
       url: ""/comments/post/"",
       data: dataString,
       success: function(){
        $.get('/wall/', { user:'{{ sent_user }}' }, function(data){
         $('#news').html(data);
        });
       }
      });
      return false;
     });
    
    });

So when a user submits, it then sends 10 form submits, accepts the one with data but also reloads 10 times... Where am I going wrong with this",5
10176229,04/16/2012 14:38:39,1316042,04/05/2012 18:37:51,11,0,Do all 404 pages share something in common?/Are 404 page distinguishable from regular pages?,"Say I am running stumbleupon.com and users can submit sites to be added into the db of sites. Is there a way that I can write a program to see whether or not the site that was added by the user is actually a real website? Or if it bring me to a 404 that I can say ""welp, that was some bugus"" or maybe that the user made an error when submitting the url? Or do i need to put people on my payroll to see if the user submitted website bring me to a 404?",django,,,,,,open,0,97,14,"Do all 404 pages share something in common?/Are 404 page distinguishable from regular pages? Say I am running stumbleupon.com and users can submit sites to be added into the db of sites. Is there a way that I can write a program to see whether or not the site that was added by the user is actually a real website? Or if it bring me to a 404 that I can say ""welp, that was some bugus"" or maybe that the user made an error when submitting the url? Or do i need to put people on my payroll to see if the user submitted website bring me to a 404?",1
2807647,05/11/2010 02:08:58,64911,02/11/2009 04:51:04,54,14,How to efficiently serve massive sitemaps in django,"I have a site with about 150K pages in its sitemap. I'm using the sitemap index generator to make the sitemaps, but really, I need a way of caching it, because building the 150 sitemaps of 1,000 links each is brutal on my server.[1]

I COULD cache each of these sitemap pages with memcached, which is what I'm using elsewhere on the site...however, this is so many sitemaps that it would completely fill memcached....so that doesn't work.

What I think I need is a way to use the database as the cache for these, and to only generate them when there are changes to them (which as a result of the sitemap index means only changing the latest couple of sitemap pages, since the rest are always the same.)[2] But, as near as I can tell, I can only use one cache backend with django. 

How can I have these sitemaps ready for when Google comes-a-crawlin' without killing my database or memcached?

Any thoughts?


[1] I've limited it to 1,000 links per sitemap page because generating the max, 50,000 links, just wasn't happening.

[2] for example, if I have sitemap.xml?page=1, page=2...sitemap.xml?page=50, I only really need to change sitemap.xml?page=50 until it is full with 1,000 links, then I can it pretty much forever, and focus on page 51 until it's full, cache it forever, etc.",django,sitemap,caching,memcached,,,open,0,219,8,"How to efficiently serve massive sitemaps in django I have a site with about 150K pages in its sitemap. I'm using the sitemap index generator to make the sitemaps, but really, I need a way of caching it, because building the 150 sitemaps of 1,000 links each is brutal on my server.[1]

I COULD cache each of these sitemap pages with memcached, which is what I'm using elsewhere on the site...however, this is so many sitemaps that it would completely fill memcached....so that doesn't work.

What I think I need is a way to use the database as the cache for these, and to only generate them when there are changes to them (which as a result of the sitemap index means only changing the latest couple of sitemap pages, since the rest are always the same.)[2] But, as near as I can tell, I can only use one cache backend with django. 

How can I have these sitemaps ready for when Google comes-a-crawlin' without killing my database or memcached?

Any thoughts?


[1] I've limited it to 1,000 links per sitemap page because generating the max, 50,000 links, just wasn't happening.

[2] for example, if I have sitemap.xml?page=1, page=2...sitemap.xml?page=50, I only really need to change sitemap.xml?page=50 until it is full with 1,000 links, then I can it pretty much forever, and focus on page 51 until it's full, cache it forever, etc.",4
6051195,05/18/2011 21:22:29,364516,06/11/2010 12:16:41,3,0,Django model manager live-object issues,"I am using Django. I am having a few issues with caching of QuerySets for news/category models:

    class Category(models.Model):
        title = models.CharField(max_length=60)
        slug = models.SlugField(unique=True)
    
    class PublishedArticlesManager(models.Manager):
        def get_query_set(self):
            return super(PublishedArticlesManager, self).get_query_set() \
                        .filter(published__lte=datetime.datetime.now())
    
    class Article(models.Model):
        category = models.ForeignKey(Category)
    
        title = models.CharField(max_length=60)
        slug = models.SlugField(unique = True)
        story = models.TextField()
        author = models.CharField(max_length=60, blank=True)
        published = models.DateTimeField(
            help_text=_('Set to a date in the future to publish later.'))
        created = models.DateTimeField(auto_now_add=True, editable=False)
        updated = models.DateTimeField(auto_now=True, editable=False)
    
        live = PublishedArticlesManager()
        objects = models.Manager()

Note - I have removed some fields to save on complexity...

There are a few (related) issues with the above.

Firstly, when I query for LIVE objects in my view via Article.live.all() if I refresh the page repeatedly I can see (in MYSQL logs) the same database query being made with exactly the same date in the where clause - ie - the datetime.datetime.now() is being evaluated at compile time rather than runtime. I need the date to be evaluated at runtime.

Secondly, when I use the articles_set method on the Category object this appears to work correctly - the datetime used in the query changes each time the query is run - again I can see this in the logs. However, I am not quite sure why this works, since I don't have anything in my code to say that the articles_set query should return LIVE entries only!?

Finally, why is none of this being cached?

Any ideas how to make the correct time be used consistently? Can someone please explain why the latter setup appears to work?

Thanks
Jay

P.S - database queries below, note the date variations.

SELECT LIVE ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE `news_article`.`published` <= '2011-05-17 21:55:41'  ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;

SELECT LIVE ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE `news_article`.`published` <= '2011-05-17 21:55:41'  ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;

CATEGORY SELECT ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE (`news_article`.`published` <= '2011-05-18 21:21:33'  AND `news_article`.`category_id` = 1 ) ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;

CATEGORY SELECT ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE (`news_article`.`published` <= '2011-05-18 21:26:06'  AND `news_article`.`category_id` = 1 ) ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;",django,models,manager,,,,open,0,565,5,"Django model manager live-object issues I am using Django. I am having a few issues with caching of QuerySets for news/category models:

    class Category(models.Model):
        title = models.CharField(max_length=60)
        slug = models.SlugField(unique=True)
    
    class PublishedArticlesManager(models.Manager):
        def get_query_set(self):
            return super(PublishedArticlesManager, self).get_query_set() \
                        .filter(published__lte=datetime.datetime.now())
    
    class Article(models.Model):
        category = models.ForeignKey(Category)
    
        title = models.CharField(max_length=60)
        slug = models.SlugField(unique = True)
        story = models.TextField()
        author = models.CharField(max_length=60, blank=True)
        published = models.DateTimeField(
            help_text=_('Set to a date in the future to publish later.'))
        created = models.DateTimeField(auto_now_add=True, editable=False)
        updated = models.DateTimeField(auto_now=True, editable=False)
    
        live = PublishedArticlesManager()
        objects = models.Manager()

Note - I have removed some fields to save on complexity...

There are a few (related) issues with the above.

Firstly, when I query for LIVE objects in my view via Article.live.all() if I refresh the page repeatedly I can see (in MYSQL logs) the same database query being made with exactly the same date in the where clause - ie - the datetime.datetime.now() is being evaluated at compile time rather than runtime. I need the date to be evaluated at runtime.

Secondly, when I use the articles_set method on the Category object this appears to work correctly - the datetime used in the query changes each time the query is run - again I can see this in the logs. However, I am not quite sure why this works, since I don't have anything in my code to say that the articles_set query should return LIVE entries only!?

Finally, why is none of this being cached?

Any ideas how to make the correct time be used consistently? Can someone please explain why the latter setup appears to work?

Thanks
Jay

P.S - database queries below, note the date variations.

SELECT LIVE ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE `news_article`.`published` <= '2011-05-17 21:55:41'  ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;

SELECT LIVE ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE `news_article`.`published` <= '2011-05-17 21:55:41'  ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;

CATEGORY SELECT ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE (`news_article`.`published` <= '2011-05-18 21:21:33'  AND `news_article`.`category_id` = 1 ) ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;

CATEGORY SELECT ARTICLES, query #1:

    SELECT `news_article`.`id`, `news_article`.`category_id`, `news_article`.`title`, `news_article`.`slug`, `news_article`.`teaser`, `news_article`.`summary`, `news_article`.`story`, `news_article`.`author`, `news_article`.`published`, `news_article`.`created`, `news_article`.`updated` FROM `news_article` WHERE (`news_article`.`published` <= '2011-05-18 21:26:06'  AND `news_article`.`category_id` = 1 ) ORDER BY `news_article`.`published` DESC, `news_article`.`slug` ASC;",3
10308925,04/25/2012 03:24:31,1355158,04/25/2012 03:14:41,1,0,django - Shopping cart - calculating total cost - beginner,"I am creating a basic shopping cart application, I can get in my cart all of the items to populate with the quantity and cost, but I am trying to find a way thats I can create a total cost, and adding sales tax on top of that. Clearly the total line is the issue, but I am not sure what I could do to populate price and quantity for all products and multiply them together. Thanks for the help.


    {% for addtocart in userCart %}
      <li>Quantity:{{addtocart.quantity}} <a href=""/products/{{addtocart.product.id}}"">{{addtocart.product.prodName}}</a> ${{addtocart.product.prodPrice}}(<a
    href=/delItem/{{addtocart.id}}>Remove</a>)<br>
    {% endfor %}
    </ul>
    {% else %}
    <p> No products available </p>
    {% endif %}
    ***<p>Total: {{addtocart.quantity}}""x""{{addtocart.product.prodPrice}}***

",django,calculator,cart,cost,total,,open,0,137,10,"django - Shopping cart - calculating total cost - beginner I am creating a basic shopping cart application, I can get in my cart all of the items to populate with the quantity and cost, but I am trying to find a way thats I can create a total cost, and adding sales tax on top of that. Clearly the total line is the issue, but I am not sure what I could do to populate price and quantity for all products and multiply them together. Thanks for the help.


    {% for addtocart in userCart %}
      <li>Quantity:{{addtocart.quantity}} <a href=""/products/{{addtocart.product.id}}"">{{addtocart.product.prodName}}</a> ${{addtocart.product.prodPrice}}(<a
    href=/delItem/{{addtocart.id}}>Remove</a>)<br>
    {% endfor %}
    </ul>
    {% else %}
    <p> No products available </p>
    {% endif %}
    ***<p>Total: {{addtocart.quantity}}""x""{{addtocart.product.prodPrice}}***

",5
8942507,01/20/2012 13:59:56,538191,12/10/2010 18:03:14,559,15,How to redirect to page which has GET parameters after login using the {{next}} variable in django,"I am using `allauth` to provide registration and login in my django site. Everything else seems to be working fine other than that I am having problems to redirect the person to the current page after login.

I have a page where I have some interview questions and a typical url for it would be like

    /questions/?company=google

This page contains a list of questions for the company google, but to view the answer the person needs to login. The answers are displayed in a dropdown box. However when the user clicks on login a request is sent to the `login` page as follows

    /login/?next=/questions/

And the get parameter which was actually there in my actual page is not sent because of the `&` in my url. How can I solve this problem. It does not look nice that the person is redirected to a different page from where he/she tried to login.

I know sending the `next` parameter as a `GET` variable is not the solution, but is there a way I can send the `redirect link` as a `POST` variable from the template. 

I tried another thing, in my view that displays the questions list. I set session variables which contains the url of the current link . If a user clicks on login, in my login view I check for this particular session variable. If it is set then I redirect to that page. 

However the session variable is not received in the login view, I am not sure but I think the session is reset when the user goes to the login view. 

Any suggestions are appreciated.",django,session,url,redirect,,,open,0,272,17,"How to redirect to page which has GET parameters after login using the {{next}} variable in django I am using `allauth` to provide registration and login in my django site. Everything else seems to be working fine other than that I am having problems to redirect the person to the current page after login.

I have a page where I have some interview questions and a typical url for it would be like

    /questions/?company=google

This page contains a list of questions for the company google, but to view the answer the person needs to login. The answers are displayed in a dropdown box. However when the user clicks on login a request is sent to the `login` page as follows

    /login/?next=/questions/

And the get parameter which was actually there in my actual page is not sent because of the `&` in my url. How can I solve this problem. It does not look nice that the person is redirected to a different page from where he/she tried to login.

I know sending the `next` parameter as a `GET` variable is not the solution, but is there a way I can send the `redirect link` as a `POST` variable from the template. 

I tried another thing, in my view that displays the questions list. I set session variables which contains the url of the current link . If a user clicks on login, in my login view I check for this particular session variable. If it is set then I redirect to that page. 

However the session variable is not received in the login view, I am not sure but I think the session is reset when the user goes to the login view. 

Any suggestions are appreciated.",4
838067,05/08/2009 03:09:13,73253,03/03/2009 15:15:34,32,1,How are write conflicts avoided in django administration?,"Suppose there are two (or more) django administrators who have read a database record and then change and save it. There is no database problem, but some administrators are going to be surprised that the record they wrote was overwritten.

Is this issue ever addressed? One way would be to have an explicit ""edit in progress"" button which sets a flag in the record. If another administrator reads the same record and then clicks his ""edit in progress"" he will be warned that there is a previous edit in progress. Or a field could be added to the record which is incremented when a record is saved. If the field is different from when the record was read, the administrator is warned that the record has been changed by someone else since he read it.

Is there a native django way of handling this?",django,django-admin,,,,,open,0,142,8,"How are write conflicts avoided in django administration? Suppose there are two (or more) django administrators who have read a database record and then change and save it. There is no database problem, but some administrators are going to be surprised that the record they wrote was overwritten.

Is this issue ever addressed? One way would be to have an explicit ""edit in progress"" button which sets a flag in the record. If another administrator reads the same record and then clicks his ""edit in progress"" he will be warned that there is a previous edit in progress. Or a field could be added to the record which is incremented when a record is saved. If the field is different from when the record was read, the administrator is warned that the record has been changed by someone else since he read it.

Is there a native django way of handling this?",2
5735696,04/20/2011 19:38:43,528792,12/03/2010 01:40:26,30,1,Pip with virtualenv not upgrading Django,"I'm using pip with `virtualenv --no-site-packages --distribute`  and am trying to upgrade Django. `pip install -U Django` should upgrade it according to the docs I found. However, it simply finds the current Django installation and stops. 

Ideally, I would like to be able to specify the version I want to upgrade to. Currently, I'm stuck with modifying the requirements file, then blowing over the old virtualenv and starting a new one. However, I'd be happy just getting `pip install -U` to upgrade to latest version.",django,virtualenv,pip,distribute,,,open,0,86,6,"Pip with virtualenv not upgrading Django I'm using pip with `virtualenv --no-site-packages --distribute`  and am trying to upgrade Django. `pip install -U Django` should upgrade it according to the docs I found. However, it simply finds the current Django installation and stops. 

Ideally, I would like to be able to specify the version I want to upgrade to. Currently, I'm stuck with modifying the requirements file, then blowing over the old virtualenv and starting a new one. However, I'd be happy just getting `pip install -U` to upgrade to latest version.",4
5619934,04/11/2011 10:23:25,701945,04/11/2011 10:09:08,1,0,django forms.ModelForm validation problem,"I have a model with some fields.

I have a model form that represents a portion of the above model. I have to do some custom validation.  Some fields depend on others.  Password and password confirm fields must be the same for example.  Its tied to a back end system.

I must check the login name ( ensure its not in the back end system and its not in the database for this project ).  I must validate the length and so on.

I must then validate the password against the constraints set in the back end.  I need to use an API for this.  I must pass the login name in with the password to use this command ( its silly but I cannot change it. )

If the login name raised a validation error in its method then the password validation methid cannot use sel.cleaned_data['login']

here is the code.

    class PEMUserDetails(models.Model):
        #Keys and IDs
        domain = models.OneToOneField('GIBOSite', primary_key=True)
        domain_name = models.CharField(unique=True, max_length=100)
        # Details
        PEM_login_id = models.CharField(max_length=32, unique=True)
        PEM_password = models.CharField(max_length=32)
        PEM_password_confirm = models.CharField(max_length=32)
        FTP_login = models.CharField(max_length=32, blank=True, null=True)
        FTP_password = models.CharField(max_length=32, blank=True, null=True)
        FTP_host_name = models.CharField(max_length=256, blank=True, null=True)
        def __unicode__(self):
            return self.domain_name
        def link_to(self, gibo_site):
            self.domain = gibo_site
            self.domain_name = gibo_site.domain
            
    class PEMUserDetailsForm(forms.ModelForm):
        PEM_password = forms.CharField(widget=forms.PasswordInput)
        PEM_password_confirm = forms.CharField(widget=forms.PasswordInput)
        class Meta:
            model = PEMUserDetails
            exclude = ('domain', 'domain_name', 'FTP_login', 'FTP_password', 'FTP_host_name')
    
            
        def clean_PEM_login_id(self):
            login = self.cleaned_data['PEM_login_id']
            try:
                g = PEMUserDetails.objects.get(PEM_login_id=login)
                raise forms.ValidationError(""This Login ID is already taken, please choose another."")
            except PEMUserDetails.DoesNotExist:
                    p = PBA()
                    pem_account = p.BM.UserValidate_API(login)
                    if pem_account['AccountID'] == 0:
                        pass
                    else:
                        raise forms.ValidationError(""This Login ID is already taken, please choose another."")
                    validation = p.BM.GetLoginSettings_API()
                    m = re.match(validation['ManualLoginMask'], login)
                    if m == None:
                        raise forms.ValidationError(validation['LoginAlert'])
                    valid_login = (login == m.group(0))
                    if len(login) > validation['LoginMinLength'] and len(login) < validation['LoginMaxLength'] and valid_login:
                        pass
                    else:
                        raise forms.ValidationError(validation['LoginAlert'])
            return login
            
        def clean_PEM_password(self):
            p = PBA()
            login = self.cleaned_data['PEM_login_id']
            password = self.cleaned_data['PEM_password']
            validation = p.BM.GetLoginSettings_API()
            if len(password) > validation['PwdMinLength']:
                pass
            else:
                raise forms.ValidationError(""Password must be more than %s characters long"" % validation['PwdMinLength'])
            passwd_status = p.BM.UserForVendorValidate_API(login, password)
            if passwd_status['passwordStrength'] == '':
                pass
            else:
                raise forms.ValidationError(passwd_status['passwordStrength']) 
            return password
        
        def clean_PEM_password_confirm(self):
            p = self.cleaned_data['PEM_password']
            c = self.cleaned_data['PEM_password_confirm']
            if c == p:
                pass
            else:
                raise forms.ValidationError(""The passwords you submitted do not match"")
            return c

I got around this by using a regular form and matched it to the model class.  Its sort of running away from the problem.  Is this a limitation of modelforms in django 1.1

python shell shows this

    Python 2.6.5 (r265:79063, Apr 16 2010, 13:57:41) 
    [GCC 4.4.3] on linux2
    Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
    (InteractiveConsole)
    >>> from gibo.deployment.models import PEMUserDetailsForm
    >>> from django.http import QueryDict
    >>> post = QueryDict(""PEM_login_id=beefsupreme&PEM_password=beef1234&PEM_password_confirm=beef123"")
    >>> f = PEMUserDetailsForm(post)
    >>> f.is_valid()
    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 120, in is_valid
        return self.is_bound and not bool(self.errors)
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 111, in _get_errors
        self.full_clean()
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 243, in full_clean
        value = getattr(self, 'clean_%s' % name)()
      File ""/home/niall/public_html/projects/GIBO/dev/projects/signup/gibo/../gibo/deployment/models.py"", line 776, in clean_PEM_password
        login = self.cleaned_data['PEM_login_id']
    KeyError: 'PEM_login_id'
    >>> post = QueryDict(""PEM_login_id=beefsupremexxc&PEM_password=beef1234&PEM_password_confirm=beef123"")
    >>> f = PEMUserDetailsForm(post)
    >>> f.is_valid()
    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 120, in is_valid
        return self.is_bound and not bool(self.errors)
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 111, in _get_errors
        self.full_clean()
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 243, in full_clean
        value = getattr(self, 'clean_%s' % name)()
      File ""/home/niall/public_html/projects/GIBO/dev/projects/signup/gibo/../gibo/deployment/models.py"", line 791, in clean_PEM_password_confirm
        p = self.cleaned_data['PEM_password']
    KeyError: 'PEM_password'
    >>> f.errors
    {'PEM_password': [u'Password is based on personal information.']}
    >>> 

",django,validation,django-forms,,,,open,0,1608,4,"django forms.ModelForm validation problem I have a model with some fields.

I have a model form that represents a portion of the above model. I have to do some custom validation.  Some fields depend on others.  Password and password confirm fields must be the same for example.  Its tied to a back end system.

I must check the login name ( ensure its not in the back end system and its not in the database for this project ).  I must validate the length and so on.

I must then validate the password against the constraints set in the back end.  I need to use an API for this.  I must pass the login name in with the password to use this command ( its silly but I cannot change it. )

If the login name raised a validation error in its method then the password validation methid cannot use sel.cleaned_data['login']

here is the code.

    class PEMUserDetails(models.Model):
        #Keys and IDs
        domain = models.OneToOneField('GIBOSite', primary_key=True)
        domain_name = models.CharField(unique=True, max_length=100)
        # Details
        PEM_login_id = models.CharField(max_length=32, unique=True)
        PEM_password = models.CharField(max_length=32)
        PEM_password_confirm = models.CharField(max_length=32)
        FTP_login = models.CharField(max_length=32, blank=True, null=True)
        FTP_password = models.CharField(max_length=32, blank=True, null=True)
        FTP_host_name = models.CharField(max_length=256, blank=True, null=True)
        def __unicode__(self):
            return self.domain_name
        def link_to(self, gibo_site):
            self.domain = gibo_site
            self.domain_name = gibo_site.domain
            
    class PEMUserDetailsForm(forms.ModelForm):
        PEM_password = forms.CharField(widget=forms.PasswordInput)
        PEM_password_confirm = forms.CharField(widget=forms.PasswordInput)
        class Meta:
            model = PEMUserDetails
            exclude = ('domain', 'domain_name', 'FTP_login', 'FTP_password', 'FTP_host_name')
    
            
        def clean_PEM_login_id(self):
            login = self.cleaned_data['PEM_login_id']
            try:
                g = PEMUserDetails.objects.get(PEM_login_id=login)
                raise forms.ValidationError(""This Login ID is already taken, please choose another."")
            except PEMUserDetails.DoesNotExist:
                    p = PBA()
                    pem_account = p.BM.UserValidate_API(login)
                    if pem_account['AccountID'] == 0:
                        pass
                    else:
                        raise forms.ValidationError(""This Login ID is already taken, please choose another."")
                    validation = p.BM.GetLoginSettings_API()
                    m = re.match(validation['ManualLoginMask'], login)
                    if m == None:
                        raise forms.ValidationError(validation['LoginAlert'])
                    valid_login = (login == m.group(0))
                    if len(login) > validation['LoginMinLength'] and len(login) < validation['LoginMaxLength'] and valid_login:
                        pass
                    else:
                        raise forms.ValidationError(validation['LoginAlert'])
            return login
            
        def clean_PEM_password(self):
            p = PBA()
            login = self.cleaned_data['PEM_login_id']
            password = self.cleaned_data['PEM_password']
            validation = p.BM.GetLoginSettings_API()
            if len(password) > validation['PwdMinLength']:
                pass
            else:
                raise forms.ValidationError(""Password must be more than %s characters long"" % validation['PwdMinLength'])
            passwd_status = p.BM.UserForVendorValidate_API(login, password)
            if passwd_status['passwordStrength'] == '':
                pass
            else:
                raise forms.ValidationError(passwd_status['passwordStrength']) 
            return password
        
        def clean_PEM_password_confirm(self):
            p = self.cleaned_data['PEM_password']
            c = self.cleaned_data['PEM_password_confirm']
            if c == p:
                pass
            else:
                raise forms.ValidationError(""The passwords you submitted do not match"")
            return c

I got around this by using a regular form and matched it to the model class.  Its sort of running away from the problem.  Is this a limitation of modelforms in django 1.1

python shell shows this

    Python 2.6.5 (r265:79063, Apr 16 2010, 13:57:41) 
    [GCC 4.4.3] on linux2
    Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
    (InteractiveConsole)
    >>> from gibo.deployment.models import PEMUserDetailsForm
    >>> from django.http import QueryDict
    >>> post = QueryDict(""PEM_login_id=beefsupreme&PEM_password=beef1234&PEM_password_confirm=beef123"")
    >>> f = PEMUserDetailsForm(post)
    >>> f.is_valid()
    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 120, in is_valid
        return self.is_bound and not bool(self.errors)
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 111, in _get_errors
        self.full_clean()
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 243, in full_clean
        value = getattr(self, 'clean_%s' % name)()
      File ""/home/niall/public_html/projects/GIBO/dev/projects/signup/gibo/../gibo/deployment/models.py"", line 776, in clean_PEM_password
        login = self.cleaned_data['PEM_login_id']
    KeyError: 'PEM_login_id'
    >>> post = QueryDict(""PEM_login_id=beefsupremexxc&PEM_password=beef1234&PEM_password_confirm=beef123"")
    >>> f = PEMUserDetailsForm(post)
    >>> f.is_valid()
    Traceback (most recent call last):
      File ""<console>"", line 1, in <module>
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 120, in is_valid
        return self.is_bound and not bool(self.errors)
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 111, in _get_errors
        self.full_clean()
      File ""/usr/lib/pymodules/python2.6/django/forms/forms.py"", line 243, in full_clean
        value = getattr(self, 'clean_%s' % name)()
      File ""/home/niall/public_html/projects/GIBO/dev/projects/signup/gibo/../gibo/deployment/models.py"", line 791, in clean_PEM_password_confirm
        p = self.cleaned_data['PEM_password']
    KeyError: 'PEM_password'
    >>> f.errors
    {'PEM_password': [u'Password is based on personal information.']}
    >>> 

",3
10781730,05/28/2012 08:44:31,1410052,05/22/2012 11:14:22,5,0,How does this code? GET method and Q objects,"How does this code? step-by-step
    
    keyword = request.GET['keyword'] 
    for l in keyword.split():
                     q = q | (
                             Q(title__icontains=smart_str(l)) |
                             Q(content__icontains=smart_str(l)) 
                             ) 
                 result = News.objects.filter(q) ",django,,,,,05/29/2012 12:13:48,not a real question,1,158,9,"How does this code? GET method and Q objects How does this code? step-by-step
    
    keyword = request.GET['keyword'] 
    for l in keyword.split():
                     q = q | (
                             Q(title__icontains=smart_str(l)) |
                             Q(content__icontains=smart_str(l)) 
                             ) 
                 result = News.objects.filter(q) ",1
3824882,09/29/2010 18:52:15,65387,02/12/2009 03:01:00,6850,310,How to set a default value on a form when it's excluded?,"I've tried 3 different approaches, and nothing seems to work. Here's my view:

    def my_view(request):
        if request.method == 'POST':
            form = DealershipForm(request.POST)
            if form.is_valid():
                dealership = form.save(commit=False)
                dealership.entered_by = User(id=2)
                dealership.save()
                messages.success(request, 'Dealership added.')
        else:
            form = DealershipForm()
        return response(request, template='misc/my_template.html',
                        vars={'form':form})

I've also tried modifying the `cleaned_data` just after `form.is_valid`, I've tried setting `initial`, and `instance`, nothing seems to work!",django,,,,,,open,0,200,12,"How to set a default value on a form when it's excluded? I've tried 3 different approaches, and nothing seems to work. Here's my view:

    def my_view(request):
        if request.method == 'POST':
            form = DealershipForm(request.POST)
            if form.is_valid():
                dealership = form.save(commit=False)
                dealership.entered_by = User(id=2)
                dealership.save()
                messages.success(request, 'Dealership added.')
        else:
            form = DealershipForm()
        return response(request, template='misc/my_template.html',
                        vars={'form':form})

I've also tried modifying the `cleaned_data` just after `form.is_valid`, I've tried setting `initial`, and `instance`, nothing seems to work!",1
7386724,09/12/2011 10:51:21,671391,03/22/2011 14:34:57,138,5,How to generate calendar?,"How to generate calendar based on datetime viariable view in template like this?

    << Jan               Mar >>
    Sun Mon Tue Wed Thu Fri Sat
              1   2   3   4   5
      6   7   8   9  10  11  12
     13  14  15  16  17  18  19
     20  21  22  23  24  25  26
     27  28  29  30  31

in tables/div whatever...
",django,django-templates,,,,09/12/2011 11:18:19,not a real question,1,140,4,"How to generate calendar? How to generate calendar based on datetime viariable view in template like this?

    << Jan               Mar >>
    Sun Mon Tue Wed Thu Fri Sat
              1   2   3   4   5
      6   7   8   9  10  11  12
     13  14  15  16  17  18  19
     20  21  22  23  24  25  26
     27  28  29  30  31

in tables/div whatever...
",2
1960105,12/24/2009 23:56:57,236135,12/21/2009 15:46:04,1,0, weird problem with django templates ,"while working on templates weird problem occured:

when templates are being rendered (i guess), in code, right before the
doctype, strange character is being placed. I call it ""strange""
because if I select it, copy it and try to paste nothing is pasted.
This ""dot"" is seen only if I do ""view source"" in webkit browsers.

now, layout breaks.

while checking rendered code in internet explorer web developer
toolbar, I've seen that also doctype is pasted within body tag, so I
have an impression that both, opening and closing, head tags are
somehow being ignored.
(i've checked it now and yes, If I take out opening and closing head
tags from my template, that is exactly what happens).


this is rendered code in ie web developer toolbar:
http://i48.tinypic.com/noby81.gif

please help!",django,templates,weird,,,,open,0,116,7," weird problem with django templates  while working on templates weird problem occured:

when templates are being rendered (i guess), in code, right before the
doctype, strange character is being placed. I call it ""strange""
because if I select it, copy it and try to paste nothing is pasted.
This ""dot"" is seen only if I do ""view source"" in webkit browsers.

now, layout breaks.

while checking rendered code in internet explorer web developer
toolbar, I've seen that also doctype is pasted within body tag, so I
have an impression that both, opening and closing, head tags are
somehow being ignored.
(i've checked it now and yes, If I take out opening and closing head
tags from my template, that is exactly what happens).


this is rendered code in ie web developer toolbar:
http://i48.tinypic.com/noby81.gif

please help!",3
10347210,04/27/2012 08:20:49,1360595,04/27/2012 08:01:22,1,0,Django Foreign Key: get related model?,"Is it possible to get the related model of a foreign key through the foreign key field itself?

For example, if I have 3 models:

    class ModelA(models.Model)
        field1 = models.CharField(max_length=10)

    class ModelB(models.Model)
        field1 = models.CharField(max_length=10)

    class ModelC(models.Model)
        field1 = models.CharField(max_length=10)
        field2 = models.ForeignKey(ModelA)
        field3 = models.ForeignKey(ModelB)


and I want to do:


    for field in ModelC._meta.fields:
        if field.get_internal_type() == ""ForeignKey"":
            #get the related model for field e.g. ModelA or ModelB


Is this possible using just the models themselves rather than instances of the models?",django,model,foreign-keys,related,,,open,0,145,6,"Django Foreign Key: get related model? Is it possible to get the related model of a foreign key through the foreign key field itself?

For example, if I have 3 models:

    class ModelA(models.Model)
        field1 = models.CharField(max_length=10)

    class ModelB(models.Model)
        field1 = models.CharField(max_length=10)

    class ModelC(models.Model)
        field1 = models.CharField(max_length=10)
        field2 = models.ForeignKey(ModelA)
        field3 = models.ForeignKey(ModelB)


and I want to do:


    for field in ModelC._meta.fields:
        if field.get_internal_type() == ""ForeignKey"":
            #get the related model for field e.g. ModelA or ModelB


Is this possible using just the models themselves rather than instances of the models?",4
6229643,06/03/2011 16:02:43,401658,07/25/2010 17:27:43,100,1,Django + nginx + gunicorn gives 502 error. very little log information.,"I have my server configured like this (this is on a fresh install of ubuntu 10.10)

nginx + gunicorn + django + supervisord to run it

when I try to access my site, I get a 502 error. and this will show up in the error log:

    2011/06/03 10:40:59 [error] 15066#0: *1 connect() failed (111: Connection refused) while connecting to upstream, client: [retracted], server: [retracted], request: ""GET / HTTP/1.1"", upstream: ""http://127.0.0.1:29000/"", host: ""[retracted]""

Here is my nginx.conf
http://pastebin.com/t0V2yFxr

Here is my supervisord.conf
http://pastebin.com/pqVqRLSk

and my gunicorn.conf

    bind = ""127.0.0.1:29000""
    logfile = ""/sites/[retracted]/logs/gunicorn.log""
    workers = 3

when I run 
    sudo supervisordctl status

it returns nothing. So this makes me suspect that it is not properly running. However, there is no supervisord.log file (in /var/log/ or in /code/[]/logs/) or gunicorn.log showing errors.

So I cannot debug this at all. Any suggestions on how to get this takin care of?
",django,nginx,gunicorn,supervisord,,06/03/2011 17:10:42,off topic,1,153,12,"Django + nginx + gunicorn gives 502 error. very little log information. I have my server configured like this (this is on a fresh install of ubuntu 10.10)

nginx + gunicorn + django + supervisord to run it

when I try to access my site, I get a 502 error. and this will show up in the error log:

    2011/06/03 10:40:59 [error] 15066#0: *1 connect() failed (111: Connection refused) while connecting to upstream, client: [retracted], server: [retracted], request: ""GET / HTTP/1.1"", upstream: ""http://127.0.0.1:29000/"", host: ""[retracted]""

Here is my nginx.conf
http://pastebin.com/t0V2yFxr

Here is my supervisord.conf
http://pastebin.com/pqVqRLSk

and my gunicorn.conf

    bind = ""127.0.0.1:29000""
    logfile = ""/sites/[retracted]/logs/gunicorn.log""
    workers = 3

when I run 
    sudo supervisordctl status

it returns nothing. So this makes me suspect that it is not properly running. However, there is no supervisord.log file (in /var/log/ or in /code/[]/logs/) or gunicorn.log showing errors.

So I cannot debug this at all. Any suggestions on how to get this takin care of?
",4
2036694,01/10/2010 10:25:14,210920,11/14/2009 06:02:33,370,21,Appropriateness of a Django Textfield in a Model,"I have a field in a model that I want users to feel like they can write an arbitrary amount of text in. Django provides a CharField and a TextField in the models. I assume that the difference is that one of them is a char(max_length) and the other is a varchar internally.

  I am tempted to use the TextField, but since it doesn't respect max_length, I am somewhat wary of someone dumping loads of data into it and DOSing my server. How should I deal with this?

Thanks!",django,database-design,django-models,,,,open,0,89,8,"Appropriateness of a Django Textfield in a Model I have a field in a model that I want users to feel like they can write an arbitrary amount of text in. Django provides a CharField and a TextField in the models. I assume that the difference is that one of them is a char(max_length) and the other is a varchar internally.

  I am tempted to use the TextField, but since it doesn't respect max_length, I am somewhat wary of someone dumping loads of data into it and DOSing my server. How should I deal with this?

Thanks!",3
9891924,03/27/2012 14:49:19,548634,12/20/2010 12:55:45,1074,87,correct approach for storing and display a state specific to Users,"I have a page that lists questions (in C programming :-) ) that are completed by users. Say, there are 10 and every logged in user has access to these. 

page to be displayed is something like this:

    <table>
    <tr>
    <th>Test desc</th>
    <th>Test state</th>
    </tr>
    {% for t in test%}
    <tr>
    <td>{{ t.desc }}</td>
    <td>'display a image  if it is completed else another image'</td>
    </tr>
    {% endfor %}
    </table>

User is forwarded to this page from views.py

    def test(request):
    	cProblems = Problems_c.objects.all()
    	return render_to_response('subject/test.html', {'list':cProblems})

I need to know 2 things.

 1. How to store this additional User specific information in django.
 2. How to display them in webpage
",django,django-models,,,,,open,0,153,11,"correct approach for storing and display a state specific to Users I have a page that lists questions (in C programming :-) ) that are completed by users. Say, there are 10 and every logged in user has access to these. 

page to be displayed is something like this:

    <table>
    <tr>
    <th>Test desc</th>
    <th>Test state</th>
    </tr>
    {% for t in test%}
    <tr>
    <td>{{ t.desc }}</td>
    <td>'display a image  if it is completed else another image'</td>
    </tr>
    {% endfor %}
    </table>

User is forwarded to this page from views.py

    def test(request):
    	cProblems = Problems_c.objects.all()
    	return render_to_response('subject/test.html', {'list':cProblems})

I need to know 2 things.

 1. How to store this additional User specific information in django.
 2. How to display them in webpage
",2
10559143,05/11/2012 21:54:35,762844,05/20/2011 13:49:35,163,6,Django Admin Form Validation from QuerySet,"I have these two models:


	class Service(MelosModel):
		performer = models.ForeignKey(Performer)
		event = models.ForeignKey('Event')
		composition = models.ForeignKey(Composition)


	class Event(MelosModel):
		event_type = models.ForeignKey('EventType')
		project = models.ForeignKey(Project)
		works = models.ManyToManyField(Work)
		date_of_event = models.DateTimeField()
		location = models.ForeignKey(Address)

_Note: A `MelosModel` is for all intents and purposes the same as `models.Model`. Also, `Composition` extends `Work`._

The trouble is that the list of compositions in the `Service` admin form needs to be validated against the available `Work`s from its `Event.` How do you do this?

I read about making a `ModelChoiceField` from a queryset but that wouldn't help because we don't know what the `Event` is until the form is submitted. What is the best way to deal with this?",django,django-forms,django-admin,django-validation,,,open,0,101,6,"Django Admin Form Validation from QuerySet I have these two models:


	class Service(MelosModel):
		performer = models.ForeignKey(Performer)
		event = models.ForeignKey('Event')
		composition = models.ForeignKey(Composition)


	class Event(MelosModel):
		event_type = models.ForeignKey('EventType')
		project = models.ForeignKey(Project)
		works = models.ManyToManyField(Work)
		date_of_event = models.DateTimeField()
		location = models.ForeignKey(Address)

_Note: A `MelosModel` is for all intents and purposes the same as `models.Model`. Also, `Composition` extends `Work`._

The trouble is that the list of compositions in the `Service` admin form needs to be validated against the available `Work`s from its `Event.` How do you do this?

I read about making a `ModelChoiceField` from a queryset but that wouldn't help because we don't know what the `Event` is until the form is submitted. What is the best way to deal with this?",4
3471324,08/12/2010 19:34:08,290043,03/09/2010 22:24:29,227,4,Django & Apache: How to debug on Testing server,"I am trying to debug an issue that happens on our testing server. So how do I make it so that I can access our testing server when I start Django by typing:

`python manage.py runserver`

?

Does it have to pass through Apache? If so, I need to configure Apache somehow but I am not using mod_wsgi and so, don't know how to do this.

Thanks! :)",django,debugging,apache2,,,,open,0,64,9,"Django & Apache: How to debug on Testing server I am trying to debug an issue that happens on our testing server. So how do I make it so that I can access our testing server when I start Django by typing:

`python manage.py runserver`

?

Does it have to pass through Apache? If so, I need to configure Apache somehow but I am not using mod_wsgi and so, don't know how to do this.

Thanks! :)",3
1581865,10/17/2009 09:59:41,126795,06/22/2009 09:03:46,100,11,Best Photo App for Django,"I have a client who is an events photographer and they want to be able to sell photos online.  The major differences from personal photo apps would be:
1. Need to upload 100s of photos at a time
2. Easy ability to tag photos by event name in batches (prior to upload or after)
3. Integration with PayPal

Does anyone know of an existing app that would be suitable?  If not, do you think I should try to adapt something like photologue or start from scratch?",django,app,photo,,,09/19/2011 12:15:54,not constructive,1,84,5,"Best Photo App for Django I have a client who is an events photographer and they want to be able to sell photos online.  The major differences from personal photo apps would be:
1. Need to upload 100s of photos at a time
2. Easy ability to tag photos by event name in batches (prior to upload or after)
3. Integration with PayPal

Does anyone know of an existing app that would be suitable?  If not, do you think I should try to adapt something like photologue or start from scratch?",3
1513415,10/03/2009 10:25:23,131145,06/30/2009 15:21:50,18,1,AppEngine/Django: editing db.Key in the Admin app,"Or, to be precise, how do I properly present a form to edit a db.ListProperty of db.Keys on a model admin page, with app-engine-patch for Django?

I have a `Category` like this:

    class Category(db.Model):
        title = db.CategoryProperty(required=True)

and a `Post` with this:

    categories = db.ListProperty(db.Key)

Currently in the Django admin page the field is shown as a textbox containing the Python list object string, which is wrong and breaks saving:

    [datastore_types.Key.from_path(u'blog_category', 3L, _app_id_namespace=u'xyz')]

So I've had to 'exclude' it in my ModelAdmin class. I've thought of writing a ModelForm that manually to wire up the Category db.Keys and present them as a Django multiselect widget, but I suspect there are easier ways to do it...",django,google-app-engine,app-engine-patch,,,,open,0,127,7,"AppEngine/Django: editing db.Key in the Admin app Or, to be precise, how do I properly present a form to edit a db.ListProperty of db.Keys on a model admin page, with app-engine-patch for Django?

I have a `Category` like this:

    class Category(db.Model):
        title = db.CategoryProperty(required=True)

and a `Post` with this:

    categories = db.ListProperty(db.Key)

Currently in the Django admin page the field is shown as a textbox containing the Python list object string, which is wrong and breaks saving:

    [datastore_types.Key.from_path(u'blog_category', 3L, _app_id_namespace=u'xyz')]

So I've had to 'exclude' it in my ModelAdmin class. I've thought of writing a ModelForm that manually to wire up the Category db.Keys and present them as a Django multiselect widget, but I suspect there are easier ways to do it...",3
2288870,02/18/2010 13:28:14,267831,10/08/2009 15:56:25,33,0,Django: display/edit form depending on whether user is authenticated?,"I have a form in Django. If the user is authenticated, I want them to see a form that they can edit: if they aren't, then I would like them to see a display-only form. 

In both cases, I want to show the same information, just that if they are authenticated then I want the form to be editable.

Is there an easy way to do this in Django? I can check user.is_authenticated either in the template or in the view: what I don't want to do is duplicate form code in the template.

I found [this question][1], but the accepted answer looks insanely complicated. Surely there must be something inbuilt in Django to handle this problem?

  [1]: http://stackoverflow.com/questions/1906994/using-django-forms-to-display-and-edit",django,django-forms,,,,,open,0,118,9,"Django: display/edit form depending on whether user is authenticated? I have a form in Django. If the user is authenticated, I want them to see a form that they can edit: if they aren't, then I would like them to see a display-only form. 

In both cases, I want to show the same information, just that if they are authenticated then I want the form to be editable.

Is there an easy way to do this in Django? I can check user.is_authenticated either in the template or in the view: what I don't want to do is duplicate form code in the template.

I found [this question][1], but the accepted answer looks insanely complicated. Surely there must be something inbuilt in Django to handle this problem?

  [1]: http://stackoverflow.com/questions/1906994/using-django-forms-to-display-and-edit",2
7478415,09/19/2011 23:17:54,366665,06/14/2010 20:39:47,43,2,overriding methods of ModelAdmin,"I am working on a Django project where any time an admin does something in the admin console (CRUD), a set of people gets notified.  I was pointed to three methods on ModelAdmin called log_addition, log_created and log_deleted which save all the necessary info into a special database called ""django_admin_log"".

I placed the following code into my admin.py:

    class ModelAdmin(admin.ModelAdmin):
        def log_addition(self, request, object):
          subject = 'admin test of creation'
          message = 'admin creation detected'
          from_addr = 'no_reply@example.com'
          recipient_list = ('luka@example.com',)
          send_mail(subject, message, from_addr, recipient_list)
          
          return super(ModelAdmin, self).log_addition( *args, **kwargs )

This code however, gets ignored when I create new users.  Many posts actually recommend to create a different class name (MyModelAdmin) and I am not entirely sure why - the point is to override the existing model.  I tried it, but with the same result.  Can anyone point me in the right direction please?  How exactly do you override a method of an existing class and give it some extra functionality?
Thank you!
Luka
",django,django-models,django-admin,,,,open,0,240,4,"overriding methods of ModelAdmin I am working on a Django project where any time an admin does something in the admin console (CRUD), a set of people gets notified.  I was pointed to three methods on ModelAdmin called log_addition, log_created and log_deleted which save all the necessary info into a special database called ""django_admin_log"".

I placed the following code into my admin.py:

    class ModelAdmin(admin.ModelAdmin):
        def log_addition(self, request, object):
          subject = 'admin test of creation'
          message = 'admin creation detected'
          from_addr = 'no_reply@example.com'
          recipient_list = ('luka@example.com',)
          send_mail(subject, message, from_addr, recipient_list)
          
          return super(ModelAdmin, self).log_addition( *args, **kwargs )

This code however, gets ignored when I create new users.  Many posts actually recommend to create a different class name (MyModelAdmin) and I am not entirely sure why - the point is to override the existing model.  I tried it, but with the same result.  Can anyone point me in the right direction please?  How exactly do you override a method of an existing class and give it some extra functionality?
Thank you!
Luka
",3
8397894,12/06/2011 09:47:42,482102,10/20/2010 18:19:02,187,4,Things to do on a production server,"We just launched our product recently. It's been great, I couldn't have done it without StackOverflow. You guys have been great. Thank You.

So yeah, getting to the question -  
**What are the fundamental things that I should take care of in a production environment?**  
The kind of answers I'm looking for would be for example - run a cron job to take regular backup of your database etc..",django,production-environment,,,,12/06/2011 13:03:50,off topic,1,70,7,"Things to do on a production server We just launched our product recently. It's been great, I couldn't have done it without StackOverflow. You guys have been great. Thank You.

So yeah, getting to the question -  
**What are the fundamental things that I should take care of in a production environment?**  
The kind of answers I'm looking for would be for example - run a cron job to take regular backup of your database etc..",2
10510058,05/09/2012 04:55:37,1044011,11/13/2011 09:09:53,116,0,"Django can use session I set, but can not see that in web browser's inspector","I'm using `Django` with `MongoDB` as a back-end database.

In `settings.py` I already set these codes:

    SESSION_ENGINE = 'mongoengine.django.sessions'

    'django.contrib.sessions.middleware.SessionMiddleware',

    'django.contrib.sessions',

And in my `view/user.py` (only part of the code)

                     if user.password == password:
                        #add session information
                        if request.session.test_cookie_worked():
                            returnmsg = ""COOKIE OK""
                        else:
                            returnmsg = ""COOKIE ERR""
                        response = HttpResponse(returnmsg)
                        response.set_cookie(""username"", username)
                        request.session['username'] = username
                        user.log.append(UserLog(time=datetime.now(), ip=request.META['REMOTE_ADDR'], login=True))
                        user.save()
                        return response

When I run my site, I could login by this function and other functions which need verify my session setting could read `username` from `response.session`.

But the returnmsg is `COOKIE ERR`, and when I use Web Inspector of Safari, I can see no session or cookie here.

Where does Django store it session data? Should it be an encoded cookie on client's computer? If it does not store on my client's computer, why `Django` still could get that?
And in my code I also tried just set a cookie directly, it still does not work.

Is there something wrong about `MongoEngine`? Did I use it in the wrong way?",django,cookies,mongoengine,,,,open,0,454,15,"Django can use session I set, but can not see that in web browser's inspector I'm using `Django` with `MongoDB` as a back-end database.

In `settings.py` I already set these codes:

    SESSION_ENGINE = 'mongoengine.django.sessions'

    'django.contrib.sessions.middleware.SessionMiddleware',

    'django.contrib.sessions',

And in my `view/user.py` (only part of the code)

                     if user.password == password:
                        #add session information
                        if request.session.test_cookie_worked():
                            returnmsg = ""COOKIE OK""
                        else:
                            returnmsg = ""COOKIE ERR""
                        response = HttpResponse(returnmsg)
                        response.set_cookie(""username"", username)
                        request.session['username'] = username
                        user.log.append(UserLog(time=datetime.now(), ip=request.META['REMOTE_ADDR'], login=True))
                        user.save()
                        return response

When I run my site, I could login by this function and other functions which need verify my session setting could read `username` from `response.session`.

But the returnmsg is `COOKIE ERR`, and when I use Web Inspector of Safari, I can see no session or cookie here.

Where does Django store it session data? Should it be an encoded cookie on client's computer? If it does not store on my client's computer, why `Django` still could get that?
And in my code I also tried just set a cookie directly, it still does not work.

Is there something wrong about `MongoEngine`? Did I use it in the wrong way?",3
240631,10/27/2008 17:01:27,11527,09/16/2008 08:55:35,243,19,"How can I customize django admin change pages to return to a specific URL on ""save""","I would like to use the django contrib.admin pages to edit my models, but call individual change page from my own views, an then return there after user clicks ""save"".

Ideally this should happen by appending the return URL to the admin page's url (as in ""...?_return_url=<url>)

Any hints?",django,,,,,,open,0,47,16,"How can I customize django admin change pages to return to a specific URL on ""save"" I would like to use the django contrib.admin pages to edit my models, but call individual change page from my own views, an then return there after user clicks ""save"".

Ideally this should happen by appending the return URL to the admin page's url (as in ""...?_return_url=<url>)

Any hints?",1
3659523,09/07/2010 14:22:41,368102,06/16/2010 09:44:22,40,1,TinyMCE in Django Template,"Using django-tinymce I have successfully embedded TinyMCE in the Admin before. Embedding it in a front-end form does not seem to work for me however.

I have a form which is a modelForm. It doesn't add any extra fields ('comment' and 'statement' are the only fields used and they exist in the model). On the textarea field, 'comment', of that form I would like to use TinyMCE. I have tried the following:

    class EntryForm(forms.ModelForm):
        comment = forms.CharField(widget=TinyMCE(attrs={'cols': 80, 'rows': 30}, mce_attrs=TINYMCE_USER_CONFIG))
    
        class Meta:
            model = Entry
            fields = ['statement','comment',]
and
 
    class EntryForm(forms.ModelForm):
        class Meta:
            model = Entry
            fields = ['statement','comment',]
    
        def __init__(self, *args, **kwargs):
            super(EntryForm, self).__init__(*args, **kwargs)
            self.fields['comment'].widget = TinyMCE(attrs={'cols': 80, 'rows': 15}, mce_attrs=TINYMCE_USER_CONFIG,)

and

    class EntryForm(forms.ModelForm):
    
        class Meta:
            model = Entry
            fields = ['statement','comment',]
    
        class Media:
            js = ('/media/tinymce/jscripts/tiny_mce/tiny_mce.js',
                    '/sitemedia/js/tinymce_setup.js',)

   
In the `HEAD` html tags I have put `{{ form.media }}` (the form is called `form` in the views and template).

Could someone please explain what I'm missing or the process of getting this to work?
Thanks very much!",django,templates,tinymce,django-tinymce,,,open,0,353,4,"TinyMCE in Django Template Using django-tinymce I have successfully embedded TinyMCE in the Admin before. Embedding it in a front-end form does not seem to work for me however.

I have a form which is a modelForm. It doesn't add any extra fields ('comment' and 'statement' are the only fields used and they exist in the model). On the textarea field, 'comment', of that form I would like to use TinyMCE. I have tried the following:

    class EntryForm(forms.ModelForm):
        comment = forms.CharField(widget=TinyMCE(attrs={'cols': 80, 'rows': 30}, mce_attrs=TINYMCE_USER_CONFIG))
    
        class Meta:
            model = Entry
            fields = ['statement','comment',]
and
 
    class EntryForm(forms.ModelForm):
        class Meta:
            model = Entry
            fields = ['statement','comment',]
    
        def __init__(self, *args, **kwargs):
            super(EntryForm, self).__init__(*args, **kwargs)
            self.fields['comment'].widget = TinyMCE(attrs={'cols': 80, 'rows': 15}, mce_attrs=TINYMCE_USER_CONFIG,)

and

    class EntryForm(forms.ModelForm):
    
        class Meta:
            model = Entry
            fields = ['statement','comment',]
    
        class Media:
            js = ('/media/tinymce/jscripts/tiny_mce/tiny_mce.js',
                    '/sitemedia/js/tinymce_setup.js',)

   
In the `HEAD` html tags I have put `{{ form.media }}` (the form is called `form` in the views and template).

Could someone please explain what I'm missing or the process of getting this to work?
Thanks very much!",4
3937699,10/14/2010 21:22:16,138776,07/15/2009 15:02:09,194,8,Dynamically choosing template for django inclusion tag,"**Currently**

I have an inclusion tag that is coded something like this:

    @register.inclusion_tag('forms/my_insert.html', takes_context=True)
    def my_insert(context):
        # set up some other variables for the context
        return context

In my template, I include it by putting in `{% my_insert %}`

**New Feature Request**

We now want to test a new layout -- it's just a change to the template, no change to the context variables. I'm accomplishing this by calling the first

    @register.inclusion_tag('forms/my_new_insert.html', takes_context=True)
    def my_new_insert(context):
        return my_insert(context)

To use the new template, I have to use:

    {% ifequal some_var 0 %}
        {% my_insert %}
    {% endifequal %}
    {% ifnotequal some_var 0 %}
        {% my_new_insert %}
    {% endifnotequal %}

**The Question** 

Is there a way to choose the template in the function which sets up the template tag context?

I *imagine* it might be something like:

    @register.inclusion_tag('forms/my_insert.html', takes_context=True)
    def my_insert(context):
        # set up some other variables for the context
        if context['some_var'] == 0:
            context['template'] = 'forms/my_insert.html'
        else:
            context['template'] = 'forms/my_new_insert.html'
        return context

",django,django-templates,django-template-tags,,,,open,0,269,7,"Dynamically choosing template for django inclusion tag **Currently**

I have an inclusion tag that is coded something like this:

    @register.inclusion_tag('forms/my_insert.html', takes_context=True)
    def my_insert(context):
        # set up some other variables for the context
        return context

In my template, I include it by putting in `{% my_insert %}`

**New Feature Request**

We now want to test a new layout -- it's just a change to the template, no change to the context variables. I'm accomplishing this by calling the first

    @register.inclusion_tag('forms/my_new_insert.html', takes_context=True)
    def my_new_insert(context):
        return my_insert(context)

To use the new template, I have to use:

    {% ifequal some_var 0 %}
        {% my_insert %}
    {% endifequal %}
    {% ifnotequal some_var 0 %}
        {% my_new_insert %}
    {% endifnotequal %}

**The Question** 

Is there a way to choose the template in the function which sets up the template tag context?

I *imagine* it might be something like:

    @register.inclusion_tag('forms/my_insert.html', takes_context=True)
    def my_insert(context):
        # set up some other variables for the context
        if context['some_var'] == 0:
            context['template'] = 'forms/my_insert.html'
        else:
            context['template'] = 'forms/my_new_insert.html'
        return context

",3
1591712,10/19/2009 23:32:36,154522,08/11/2009 17:14:56,86,0,how to use nested template tags with arguments?,"I would like to learn how I can use nested template tags where the child template tag takes an argument like below:

    {% parent_tag {% child_tag arguments %} rest_of_parent_arguments %}

In the above line, I would like to use the return value of child tag as an argument to the parent tag.

thanks in advance,

",django,django-templates,,,,,open,0,56,8,"how to use nested template tags with arguments? I would like to learn how I can use nested template tags where the child template tag takes an argument like below:

    {% parent_tag {% child_tag arguments %} rest_of_parent_arguments %}

In the above line, I would like to use the return value of child tag as an argument to the parent tag.

thanks in advance,

",2
1643799,10/29/2009 13:38:19,102181,05/06/2009 12:05:32,74,1,django queryset: how to order by a (backwards) related field?,"In this situation I have two models, Comment and Score. The relationship is defined in the Score model, like so:

    class Comment(models.Model):
        content = TextField()
        ...
    
    class Score(models.Model):
        comment = models.ForeignKey(Comment)
        value = models.IntegerField()

My question is: How do I construct a queryset that returns all Comments and is ordered by the value of Score?

Thanks in advance!

Martin






",django,django-queryset,order,django-models,,,open,0,94,10,"django queryset: how to order by a (backwards) related field? In this situation I have two models, Comment and Score. The relationship is defined in the Score model, like so:

    class Comment(models.Model):
        content = TextField()
        ...
    
    class Score(models.Model):
        comment = models.ForeignKey(Comment)
        value = models.IntegerField()

My question is: How do I construct a queryset that returns all Comments and is ordered by the value of Score?

Thanks in advance!

Martin






",4
5657275,04/14/2011 00:30:05,461362,09/29/2010 05:27:45,1,1,HTML5 Cache Manifest works over http but not https,"My google-fu does not seem up to snuff today so here it goes...

I have a django application sitting on top of apache using wsgi. I am attempting to make this work offline. I serve the Cache Manifest file from a django url with the correct mimetype and a no-cache header. I have a manifest reference in the template that looks like

    <html lang=""en"" manifest=""/myPath/manifest/"">

In order to debug this problem I am using the simplest of manifest files first   

CACHE MANIFEST

NETWORK:

*

However, this gives me the  following errors in chrome when I attempt to serve it via the https interface.


> Creating Application Cache with
> manifest
> https://127.0.0.1/myPath/manifest/
> Application Cache Checking event
> Application Cache Error event:
> Manifest fetch failed (-1)
> https://127.0.0.1/myPath/manifest/

When served over http it appears to work correctly. I am using a self signed security certificate on my development machine. This is the only thing that I can think might make the difference between http and https serving the same manifest file(using relative links so the origin is correct). What is causing the difference between http and https, and how to I correct it?


",django,html5,https,manifest,,,open,0,187,9,"HTML5 Cache Manifest works over http but not https My google-fu does not seem up to snuff today so here it goes...

I have a django application sitting on top of apache using wsgi. I am attempting to make this work offline. I serve the Cache Manifest file from a django url with the correct mimetype and a no-cache header. I have a manifest reference in the template that looks like

    <html lang=""en"" manifest=""/myPath/manifest/"">

In order to debug this problem I am using the simplest of manifest files first   

CACHE MANIFEST

NETWORK:

*

However, this gives me the  following errors in chrome when I attempt to serve it via the https interface.


> Creating Application Cache with
> manifest
> https://127.0.0.1/myPath/manifest/
> Application Cache Checking event
> Application Cache Error event:
> Manifest fetch failed (-1)
> https://127.0.0.1/myPath/manifest/

When served over http it appears to work correctly. I am using a self signed security certificate on my development machine. This is the only thing that I can think might make the difference between http and https serving the same manifest file(using relative links so the origin is correct). What is causing the difference between http and https, and how to I correct it?


",4
8293539,11/28/2011 09:02:50,238628,12/25/2009 17:19:08,354,19,Django per-site caching and and Vary: Cache,"I noticed that my per-site caching does not work because page response headers include:

    Vary:Cookie

Since I have google analytics installed it will update cookie on every page load which would make cache unusable.

I am not sure if I have added Vary:Cookie to page response headers implicitly or when it comes from. Any help appreciated. ",django,django-views,,,,,open,0,58,7,"Django per-site caching and and Vary: Cache I noticed that my per-site caching does not work because page response headers include:

    Vary:Cookie

Since I have google analytics installed it will update cookie on every page load which would make cache unusable.

I am not sure if I have added Vary:Cookie to page response headers implicitly or when it comes from. Any help appreciated. ",2
7892207,10/25/2011 16:06:18,509807,11/16/2010 17:00:13,445,6,django - how can I join two models with ForeignKeys to the same users?,"I have multiple models like this:

    class Model1(models.Model):
        user = models.ForeignKey(User)
        model1_filed1 = models.CharField()
    
    
    class Model2(models.Model):
        user = models.ForeignKey(User)
        model2_filed1 = models.CharField()
    
    ....

As you can see all the models have a filed `user = models.ForeignKey(User)` on each model so when I save my model data I know what user saved it.  

On my project I need to:

1. Do a search on model1_filed1 (Moldel1). Something like find all the records from Model1 that have model1_filed1 containing the string ""foo"".

2. Once I find Model1 records containing the tring ""foo""  on the mode1_filed1 join all the records from Model2 that have the same user id as the Model1 records just found.

Any ides?
",django,django-models,django-views,django-queries,,,open,0,160,14,"django - how can I join two models with ForeignKeys to the same users? I have multiple models like this:

    class Model1(models.Model):
        user = models.ForeignKey(User)
        model1_filed1 = models.CharField()
    
    
    class Model2(models.Model):
        user = models.ForeignKey(User)
        model2_filed1 = models.CharField()
    
    ....

As you can see all the models have a filed `user = models.ForeignKey(User)` on each model so when I save my model data I know what user saved it.  

On my project I need to:

1. Do a search on model1_filed1 (Moldel1). Something like find all the records from Model1 that have model1_filed1 containing the string ""foo"".

2. Once I find Model1 records containing the tring ""foo""  on the mode1_filed1 join all the records from Model2 that have the same user id as the Model1 records just found.

Any ides?
",4
6314916,06/11/2011 08:21:57,661099,03/15/2011 17:35:04,1,0,Django exceptions gone after apache restart,"I have a apache + mod_wsgi production server, running on a debian. From time to time i got some django exception, but there is no misstake in my source code. After restarting apache the exceptions are gone.

Any idea?",django,apache,mod-wsgi,,,06/18/2011 10:57:04,not a real question,1,38,6,"Django exceptions gone after apache restart I have a apache + mod_wsgi production server, running on a debian. From time to time i got some django exception, but there is no misstake in my source code. After restarting apache the exceptions are gone.

Any idea?",3
6693708,07/14/2011 13:14:13,479003,10/18/2010 06:06:57,155,1,using get or post to pass argument to django view,"In my django app ,I need to call a view with an argument named 'year'. Then in the template,I created a form and a dropdown list using a list of year names,At this point,I am confused as to how the view should be invoked.  

The view is named 'create_report_for_data_of_the_year'.It expects a year argument.
ie,

    http://127.0.0.1:8000/myapp/reports/2011


I tried to write the template as shown below.

    <li id=""yearlydataplots"" class=""report"">
        <form action=""create_report_for_data_of_the_year"" >
            <select name=""year"" id=""year"">
                {% for anyear in years %}
                    <option  value={{anyear}} > {{anyear}}</option>
                {% endfor %}
            </select>
            
            <input type=""submit"" value=""Plot for entries of the year""/>
           </form>
        </li>

However,when the submit button is clicked,the browser goes to

    http://127.0.0.1:8000/myapp/reports/create_report_for_data_of_the_year?year=2006

which causes a 404.

I changed method=""post"", and clicking submit goes to

    http://127.0.0.1:8000/myapp/reports/create_report_for_data_of_the_year

which again causes 404

I know,I am missing something very basic :-)..If someone can kindly point it out,it would be nice

thanks in advance,

mark

    def create_report_for_data_of_the_year(request,year,page_title,template_name):
        dataset=MyDataModel.objects.filter(today__year=year,creator=request.user)
        #today is a field in MyDataModel and is a datetime.datetime 
        map = create_map_of_names_and_values(dataset)
        basefilename = ""plotofdataforyear%s""%year
        page_title = page_title+"" ""+year
        imgfilename= create_plot(map,basefilename)
        report_data={'basefilename':basefilename,'plot_image':imgfilename,'year':year,'page_title':page_title}
        report_data[""name_value_dict""]=map
        req_context=RequestContext(request,context)
        return render_to_response(template_name,req_context)

and url mapping is

    ...
    url(r'^reports/(?P<year>\d{4})/$','myapp.views.create_report_for_data_of_the_year',
        {
            'template_name':'myapp/report_for_data_of_the_year.html',
            'page_title':'report for data in the Year'
    
        },name='report_data_for_year' ),
    ...",django,select,view,option,arguments,,open,0,437,10,"using get or post to pass argument to django view In my django app ,I need to call a view with an argument named 'year'. Then in the template,I created a form and a dropdown list using a list of year names,At this point,I am confused as to how the view should be invoked.  

The view is named 'create_report_for_data_of_the_year'.It expects a year argument.
ie,

    http://127.0.0.1:8000/myapp/reports/2011


I tried to write the template as shown below.

    <li id=""yearlydataplots"" class=""report"">
        <form action=""create_report_for_data_of_the_year"" >
            <select name=""year"" id=""year"">
                {% for anyear in years %}
                    <option  value={{anyear}} > {{anyear}}</option>
                {% endfor %}
            </select>
            
            <input type=""submit"" value=""Plot for entries of the year""/>
           </form>
        </li>

However,when the submit button is clicked,the browser goes to

    http://127.0.0.1:8000/myapp/reports/create_report_for_data_of_the_year?year=2006

which causes a 404.

I changed method=""post"", and clicking submit goes to

    http://127.0.0.1:8000/myapp/reports/create_report_for_data_of_the_year

which again causes 404

I know,I am missing something very basic :-)..If someone can kindly point it out,it would be nice

thanks in advance,

mark

    def create_report_for_data_of_the_year(request,year,page_title,template_name):
        dataset=MyDataModel.objects.filter(today__year=year,creator=request.user)
        #today is a field in MyDataModel and is a datetime.datetime 
        map = create_map_of_names_and_values(dataset)
        basefilename = ""plotofdataforyear%s""%year
        page_title = page_title+"" ""+year
        imgfilename= create_plot(map,basefilename)
        report_data={'basefilename':basefilename,'plot_image':imgfilename,'year':year,'page_title':page_title}
        report_data[""name_value_dict""]=map
        req_context=RequestContext(request,context)
        return render_to_response(template_name,req_context)

and url mapping is

    ...
    url(r'^reports/(?P<year>\d{4})/$','myapp.views.create_report_for_data_of_the_year',
        {
            'template_name':'myapp/report_for_data_of_the_year.html',
            'page_title':'report for data in the Year'
    
        },name='report_data_for_year' ),
    ...",5
7296575,09/03/2011 23:58:20,927130,09/03/2011 23:58:20,1,0,What are some quality Django Webhosts?,"I've made website with Django and an SQLite database. I'm ready to put it on the internet. What are some good webhosts that support Django and SQLite? Also, I don't really know what Google App Engine is, but would it be useful for me?

Thanks",django,sqlite,google-app-engine,,,09/04/2011 00:01:34,off topic,1,44,6,"What are some quality Django Webhosts? I've made website with Django and an SQLite database. I'm ready to put it on the internet. What are some good webhosts that support Django and SQLite? Also, I don't really know what Google App Engine is, but would it be useful for me?

Thanks",3
6621835,07/08/2011 08:23:59,772726,05/27/2011 08:45:21,76,0,Distinction between update and new entry in Django,"I use the `save()` method to override the `models.Model` method in order to manipulate a bit of the properties before saving them in the DB (for example, issuing a Google MAPS API call to get geolocation of an address).

However, I would not like to issue a call to Google everytime I update an entry via the admin panel, but only when I insert a new entry.

Is there any easy way to do it (instead of running a query against the DB inside the `save()` method and check if the object already exists)?

Meir",django,,,,,,open,0,92,8,"Distinction between update and new entry in Django I use the `save()` method to override the `models.Model` method in order to manipulate a bit of the properties before saving them in the DB (for example, issuing a Google MAPS API call to get geolocation of an address).

However, I would not like to issue a call to Google everytime I update an entry via the admin panel, but only when I insert a new entry.

Is there any easy way to do it (instead of running a query against the DB inside the `save()` method and check if the object already exists)?

Meir",1
5744142,04/21/2011 12:31:03,718929,04/21/2011 12:31:03,1,0,Django auth 'next' var not set/empty at login.html template,"I have built a simple auth system following the docs at:  
http://docs.djangoproject.com/en/1.3/topics/auth/

The auth works, however; my problem is the {{ next }} template  
variable is always emtpy?

The docs state:

It's your responsibility to provide the login form in a template called registration/login.html by default.  
This template gets passed four template context variables:

form: A Form object representing the login form. See the forms documentation for more on Form objects.  

next: The URL to redirect to after successful login. This may contain a query string, too.
  
site: The current Site, according to the SITE_ID setting. If you don't have the site framework installed, this will be set to an instance of RequestSite, which derives the site name and domain from the current HttpRequest.  

site_name: An alias for site.name. If you don't have the site framework installed, this will be set to the value of request.META['SERVER_NAME']. For more on sites, see The ""sites"" framework.  

The code from django.contrib.auth.views.login does not contain 'next' at all:  


    @csrf_protect
    @never_cache
    def login(request, template_name='registration/login.html',
              redirect_field_name=REDIRECT_FIELD_NAME,
              authentication_form=AuthenticationForm,
              current_app=None, extra_context=None):
		  
    ...
    ...
    ...
        context = {
            'form': form,
            redirect_field_name: redirect_to,
            'site': current_site,
            'site_name': current_site.name,
        }
	
If I add this is works fine:  


        context = {
            'form': form,
            redirect_field_name: redirect_to,
            'site': current_site,
            'site_name': current_site.name,
            'next': request.REQUEST.get('next', '')
        }
	
Seems odd and I think something is wrong.  

I should not have to alter the django code to get {{ next }} to not be empty.  

Can anyone point me where I'm going wrong?  

I'm using the suggested default 'registration/login.html' cut and paste
direct from the documentation. I am following the docs I think exactly.  

My urls.py reads with:  
    (r'^accounts/login/$', 'django.contrib.auth.views.login'),  


My views.py has:  

    from django.contrib.auth.decorators import login_required
    from django.shortcuts import render_to_response
    from django.template import RequestContext

    @login_required
    def my_page(request):
        """""" A function to render My Page
        """"""
    
        # Return rendered HTML
        return render_to_response('my_page.html', RequestContext(request))
    # end def

The next URL param is being set just that it's empty in the login form:  

    http://xyz.com.local:8000/accounts/login/?next=/my-page/

Login Auth and Logout does work just no {{ next }} var.  
It's always empty unless I alter the django.contrib.auth.views.login code.  

Thanks.
",django,authentication,next,,,04/23/2011 03:22:55,too localized,1,602,9,"Django auth 'next' var not set/empty at login.html template I have built a simple auth system following the docs at:  
http://docs.djangoproject.com/en/1.3/topics/auth/

The auth works, however; my problem is the {{ next }} template  
variable is always emtpy?

The docs state:

It's your responsibility to provide the login form in a template called registration/login.html by default.  
This template gets passed four template context variables:

form: A Form object representing the login form. See the forms documentation for more on Form objects.  

next: The URL to redirect to after successful login. This may contain a query string, too.
  
site: The current Site, according to the SITE_ID setting. If you don't have the site framework installed, this will be set to an instance of RequestSite, which derives the site name and domain from the current HttpRequest.  

site_name: An alias for site.name. If you don't have the site framework installed, this will be set to the value of request.META['SERVER_NAME']. For more on sites, see The ""sites"" framework.  

The code from django.contrib.auth.views.login does not contain 'next' at all:  


    @csrf_protect
    @never_cache
    def login(request, template_name='registration/login.html',
              redirect_field_name=REDIRECT_FIELD_NAME,
              authentication_form=AuthenticationForm,
              current_app=None, extra_context=None):
		  
    ...
    ...
    ...
        context = {
            'form': form,
            redirect_field_name: redirect_to,
            'site': current_site,
            'site_name': current_site.name,
        }
	
If I add this is works fine:  


        context = {
            'form': form,
            redirect_field_name: redirect_to,
            'site': current_site,
            'site_name': current_site.name,
            'next': request.REQUEST.get('next', '')
        }
	
Seems odd and I think something is wrong.  

I should not have to alter the django code to get {{ next }} to not be empty.  

Can anyone point me where I'm going wrong?  

I'm using the suggested default 'registration/login.html' cut and paste
direct from the documentation. I am following the docs I think exactly.  

My urls.py reads with:  
    (r'^accounts/login/$', 'django.contrib.auth.views.login'),  


My views.py has:  

    from django.contrib.auth.decorators import login_required
    from django.shortcuts import render_to_response
    from django.template import RequestContext

    @login_required
    def my_page(request):
        """""" A function to render My Page
        """"""
    
        # Return rendered HTML
        return render_to_response('my_page.html', RequestContext(request))
    # end def

The next URL param is being set just that it's empty in the login form:  

    http://xyz.com.local:8000/accounts/login/?next=/my-page/

Login Auth and Logout does work just no {{ next }} var.  
It's always empty unless I alter the django.contrib.auth.views.login code.  

Thanks.
",3
4133154,11/09/2010 11:30:27,350127,05/25/2010 17:03:19,148,9,Query Limits and Order cannot work together in django,"(I have a django 1.1.2 and postgresql as development environment.)
I have two queries:

    tables = Table.objects.filter(is_active = True,
                                               finishes_at__lt=datetime.datetime.now()).order_by(""-starts_at"", ""weight"")[:20]

and the other one is

    tables = Table.objects.filter(is_active = True,
                                               finishes_at__lt=datetime.datetime.now()).order_by(""-starts_at"", ""weight"")

Both of those queries are same except the first one has ""[:20]""(LIMIT 20) at the end.
But When I run both of those queries. I saw that resultsets have different orders. Is there a way to correct this?

Note:
I run the queries in dbshell and I saw that queries actually giving results in different order. here are the queries django generated

    SELECT ""table_table"".""id"" FROM ""table_table"" WHERE (""table_table"".""is_active"" = True  AND ""table_table"".""finishes_at"" < '2010-11-09 11:57:48.482720' ) ORDER BY ""table_table"".""starts_at"" DESC, ""table_table"".""weight"" ASC

and the one with the limit is 

    `SELECT ""table_table"".""id"" FROM ""table_table"" WHERE (""table_table"".""is_active"" = True  AND ""table_table"".""finishes_at"" < '2010-11-09 11:57:48.482720' ) ORDER BY` ""table_table"".""starts_at"" DESC, ""table_table"".""weight"" ASC LIMIT 20",django,postgresql,django-models,,,,open,0,244,9,"Query Limits and Order cannot work together in django (I have a django 1.1.2 and postgresql as development environment.)
I have two queries:

    tables = Table.objects.filter(is_active = True,
                                               finishes_at__lt=datetime.datetime.now()).order_by(""-starts_at"", ""weight"")[:20]

and the other one is

    tables = Table.objects.filter(is_active = True,
                                               finishes_at__lt=datetime.datetime.now()).order_by(""-starts_at"", ""weight"")

Both of those queries are same except the first one has ""[:20]""(LIMIT 20) at the end.
But When I run both of those queries. I saw that resultsets have different orders. Is there a way to correct this?

Note:
I run the queries in dbshell and I saw that queries actually giving results in different order. here are the queries django generated

    SELECT ""table_table"".""id"" FROM ""table_table"" WHERE (""table_table"".""is_active"" = True  AND ""table_table"".""finishes_at"" < '2010-11-09 11:57:48.482720' ) ORDER BY ""table_table"".""starts_at"" DESC, ""table_table"".""weight"" ASC

and the one with the limit is 

    `SELECT ""table_table"".""id"" FROM ""table_table"" WHERE (""table_table"".""is_active"" = True  AND ""table_table"".""finishes_at"" < '2010-11-09 11:57:48.482720' ) ORDER BY` ""table_table"".""starts_at"" DESC, ""table_table"".""weight"" ASC LIMIT 20",3
8839286,01/12/2012 17:17:08,410102,08/03/2010 20:12:41,2129,115,need help translating SQL to ORM calls,"Is it possible to translate the sql below in to django orm calls or do I have to use raw sql?

thanks for any help

my models:
<code><pre>
class Parent(models.Model):
    slug = models.SlugField()<br>
class Child(models.Model):
    slug = models.SlugField()
    parent = models.ForeignKey('Parent')
    value = models.CharField(max_length=128)
</pre></code>

my sql:
<code><pre>
select *
from parent as p
  left join child as c on p.id = c.parent_id and c.slug in ('s0','s1','s2')
where p.id not in (select p.id
                   from parent as p
                     inner join child as c on p.id = c.parent_id and c.slug = 's3' and c.value = 'v3')
order by p.slug
</pre></code>
",django,django-models,,,,,open,0,136,7,"need help translating SQL to ORM calls Is it possible to translate the sql below in to django orm calls or do I have to use raw sql?

thanks for any help

my models:
<code><pre>
class Parent(models.Model):
    slug = models.SlugField()<br>
class Child(models.Model):
    slug = models.SlugField()
    parent = models.ForeignKey('Parent')
    value = models.CharField(max_length=128)
</pre></code>

my sql:
<code><pre>
select *
from parent as p
  left join child as c on p.id = c.parent_id and c.slug in ('s0','s1','s2')
where p.id not in (select p.id
                   from parent as p
                     inner join child as c on p.id = c.parent_id and c.slug = 's3' and c.value = 'v3')
order by p.slug
</pre></code>
",2
8867057,01/15/2012 02:12:04,992173,10/12/2011 19:47:25,97,1,Multiple Django sites on a single SSL certificate using a single IP with Apache,"Is it technically possible to setup multiple Django sites using a single SSL certificate on a single IP address with Apache?

Below is an excerpt from my SSL config:

    Alias /media/ x:/home/djang-apps/myapp
    WSGIScriptAlias / x:/home/djang-apps/myapp/apache/django.wsgi

    <Directory x:/home/djang-apps/>
       Order allow,deny
       Allow from all
    </Directory>

One of the issues I've come up against is since I only have a single IP address I have only 1 virtual host therefore how can I reference the varius media folders that contain the css/images/js etc for each Django website as well as the WSGIScriptAlias for each site?",django,apache,ssl-certificate,vhosts,,01/16/2012 06:53:39,off topic,1,114,14,"Multiple Django sites on a single SSL certificate using a single IP with Apache Is it technically possible to setup multiple Django sites using a single SSL certificate on a single IP address with Apache?

Below is an excerpt from my SSL config:

    Alias /media/ x:/home/djang-apps/myapp
    WSGIScriptAlias / x:/home/djang-apps/myapp/apache/django.wsgi

    <Directory x:/home/djang-apps/>
       Order allow,deny
       Allow from all
    </Directory>

One of the issues I've come up against is since I only have a single IP address I have only 1 virtual host therefore how can I reference the varius media folders that contain the css/images/js etc for each Django website as well as the WSGIScriptAlias for each site?",4
1857822,12/07/2009 04:31:16,46928,12/17/2008 04:44:27,170,14,Unique model field in Django and case sensitivity (postgres),"Consider the following situation: -

Suppose my app allows users to create the states / provinces in their
country. Just for clarity, we are considering only ASCII characters
here.

In the US, a user could create the state called ""Texas"". If this app
is being used internally, let's say the user doesn't care if it is
spelled ""texas"" or ""Texas"" or ""teXas""

But importantly, the system should prevent creation of ""texas"" if
""Texas"" is already in the database.

If the model is like the following:

    class State(models.Model):
        name = models.CharField(max_length=50, unique=True)

The uniqueness would be case-sensitive in postgres; that is, postgres
would allow the user to create both ""texas"" and ""Texas"" as they are
considered unique.

What can be done in this situation to prevent such behavior. How does
one go about providing case-**insenstitive** uniqueness with Django and
Postgres 

Right now I'm doing the following to prevent creation of case-
insensitive duplicates.

    class CreateStateForm(forms.ModelForm):
        def clean_name(self):
            name = self.cleaned_data['name']
            try:
                State.objects.get(name__iexact=name)
            except ObjectDoesNotExist:
                return name
            raise forms.ValidationError('State already exists.')
    
        class Meta:
            model = State

There are a number of cases where I will have to do this check and I'm not keen on having to write similar iexact checks everywhere.

Just wondering if there is a built-in or
better way? Perhaps db_type would help? Maybe some other solution exists?",django,django-models,postgresql,unique,,,open,0,316,9,"Unique model field in Django and case sensitivity (postgres) Consider the following situation: -

Suppose my app allows users to create the states / provinces in their
country. Just for clarity, we are considering only ASCII characters
here.

In the US, a user could create the state called ""Texas"". If this app
is being used internally, let's say the user doesn't care if it is
spelled ""texas"" or ""Texas"" or ""teXas""

But importantly, the system should prevent creation of ""texas"" if
""Texas"" is already in the database.

If the model is like the following:

    class State(models.Model):
        name = models.CharField(max_length=50, unique=True)

The uniqueness would be case-sensitive in postgres; that is, postgres
would allow the user to create both ""texas"" and ""Texas"" as they are
considered unique.

What can be done in this situation to prevent such behavior. How does
one go about providing case-**insenstitive** uniqueness with Django and
Postgres 

Right now I'm doing the following to prevent creation of case-
insensitive duplicates.

    class CreateStateForm(forms.ModelForm):
        def clean_name(self):
            name = self.cleaned_data['name']
            try:
                State.objects.get(name__iexact=name)
            except ObjectDoesNotExist:
                return name
            raise forms.ValidationError('State already exists.')
    
        class Meta:
            model = State

There are a number of cases where I will have to do this check and I'm not keen on having to write similar iexact checks everywhere.

Just wondering if there is a built-in or
better way? Perhaps db_type would help? Maybe some other solution exists?",4
11610306,07/23/2012 10:00:58,116540,06/03/2009 12:06:29,1299,52,How to exempt CSRF Protection on direct_to_template,"I have a flow in my django application in which I redirect the user to another service (e.g. PayPal) which after some its own processing, returns the user back on my own server. The returning point on my server is a simple HTML success page which I render using direct_to_template. 

For some odd reasons, the other server sends a POST request and hence the user sees a CSRF token missing error as the other server doesn't send back any CSRF token.

How do I exempt a direct_to_template view from CSRF tokens?",django,csrf,,,,,open,0,90,7,"How to exempt CSRF Protection on direct_to_template I have a flow in my django application in which I redirect the user to another service (e.g. PayPal) which after some its own processing, returns the user back on my own server. The returning point on my server is a simple HTML success page which I render using direct_to_template. 

For some odd reasons, the other server sends a POST request and hence the user sees a CSRF token missing error as the other server doesn't send back any CSRF token.

How do I exempt a direct_to_template view from CSRF tokens?",2
11443658,07/12/2012 00:50:44,1061426,11/23/2011 08:14:32,540,27,"django - how do i add a ""class"" to my choiceField?","
So i have a choicefield:

    sex = ChoiceField(label='', choices=SEX)

and when i shows up in the html page, i would like to control the class of this field (so i can css it a bit and make it snazzy).

i have no idea how to do this - previously i've used 

    forms.Field(label=""Display name"",help_text='',widget=forms.TextInput(attrs={'class': 'wideInput'}))

for other textfields, but i don't think that a ""select dropdown"" is a ""TextInput"". 

Which ""widget"" am i meant to use, and how?",django,,,,,07/12/2012 12:39:44,not a real question,1,81,11,"django - how do i add a ""class"" to my choiceField? 
So i have a choicefield:

    sex = ChoiceField(label='', choices=SEX)

and when i shows up in the html page, i would like to control the class of this field (so i can css it a bit and make it snazzy).

i have no idea how to do this - previously i've used 

    forms.Field(label=""Display name"",help_text='',widget=forms.TextInput(attrs={'class': 'wideInput'}))

for other textfields, but i don't think that a ""select dropdown"" is a ""TextInput"". 

Which ""widget"" am i meant to use, and how?",1
6041448,05/18/2011 07:47:59,758733,05/18/2011 07:41:58,1,0,Django redirect with passing variables,"I have a POST submission, and I need to pass the variable `'count'` when the page is re-loaded. I am currently using a `render_to_response`, but I believe this is the wrong approach (though it is currently working). This is the code I have --


    def email(request):
    	count=0
    	emails = EmailList.objects.order_by('network')
    	networks = Network.objects.all()
    	form = EmailListForm(request.POST)
    	if request.method == 'POST' and form.is_valid():
    		if form.cleaned_data.get('domain'):
    				EmailList.objects.create(domain=form.cleaned_data['domain'], network=Network.objects.get(network=request.POST['domain_network']))
    				return redirect('.') # should be using a redirect() ???
    		if form.cleaned_data.get('email'):
    			for x in form.cleaned_data.get('email'):
    				EmailList.objects.create(email=x, network=Network.objects.get(network=request.POST['email_network']))
    				count += 1
               # this next line is the one I'm asking about
    			return render_to_response('email_add.html',{'networks':networks, 'emails':emails, 'form':form, 'count':count}, context_instance = RequestContext(request))
	return render_to_response('email_add.html',{'networks':networks, 'emails':emails, 'form':form}, context_instance = RequestContext(request))

Do I need to replace the render_to_response? If so, what does that new line of code need to be?",django,django-views,,,,,open,0,184,5,"Django redirect with passing variables I have a POST submission, and I need to pass the variable `'count'` when the page is re-loaded. I am currently using a `render_to_response`, but I believe this is the wrong approach (though it is currently working). This is the code I have --


    def email(request):
    	count=0
    	emails = EmailList.objects.order_by('network')
    	networks = Network.objects.all()
    	form = EmailListForm(request.POST)
    	if request.method == 'POST' and form.is_valid():
    		if form.cleaned_data.get('domain'):
    				EmailList.objects.create(domain=form.cleaned_data['domain'], network=Network.objects.get(network=request.POST['domain_network']))
    				return redirect('.') # should be using a redirect() ???
    		if form.cleaned_data.get('email'):
    			for x in form.cleaned_data.get('email'):
    				EmailList.objects.create(email=x, network=Network.objects.get(network=request.POST['email_network']))
    				count += 1
               # this next line is the one I'm asking about
    			return render_to_response('email_add.html',{'networks':networks, 'emails':emails, 'form':form, 'count':count}, context_instance = RequestContext(request))
	return render_to_response('email_add.html',{'networks':networks, 'emails':emails, 'form':form}, context_instance = RequestContext(request))

Do I need to replace the render_to_response? If so, what does that new line of code need to be?",2
7146805,08/22/2011 11:31:01,427706,08/22/2010 16:02:13,122,6,How to install image processing just for a virtualenv project with pip for django,"But I'm looking to install freetype, libjpeg, PIL build to add image processing to my django projects I've followed this installation http://dakrauth.com/blog/entry/python-and-django-setup-mac-os-x-leopard/ which installs it site wide but I can get it inside my virtualenv project. 

Do I just cd into the working directory of the virtualenv (project) and install it there and will it just be available for that project or do I use pip? I couldn't find the packages in the pip repository. Can someone enlighten me please.

    curl -O http://pypi.python.org/packages/source/d/distribute/distribute-0.6.21.tar.gz
    tar -xzvf distribute-0.6.21.tar.gz
    cd distribute-0.6.21
    python distribute_setup.py
    easy_install pip
    pip install virtualenv
    virtualenv --distribute --no-site-packages [myproject]
    cd [myproject]
    source bin/activate (this activates the sandbox that virtualenv created)
    pip install django mysql-python
",django,pip,,,,,open,0,144,14,"How to install image processing just for a virtualenv project with pip for django But I'm looking to install freetype, libjpeg, PIL build to add image processing to my django projects I've followed this installation http://dakrauth.com/blog/entry/python-and-django-setup-mac-os-x-leopard/ which installs it site wide but I can get it inside my virtualenv project. 

Do I just cd into the working directory of the virtualenv (project) and install it there and will it just be available for that project or do I use pip? I couldn't find the packages in the pip repository. Can someone enlighten me please.

    curl -O http://pypi.python.org/packages/source/d/distribute/distribute-0.6.21.tar.gz
    tar -xzvf distribute-0.6.21.tar.gz
    cd distribute-0.6.21
    python distribute_setup.py
    easy_install pip
    pip install virtualenv
    virtualenv --distribute --no-site-packages [myproject]
    cd [myproject]
    source bin/activate (this activates the sandbox that virtualenv created)
    pip install django mysql-python
",2
2092702,01/19/2010 10:19:26,104824,05/11/2009 14:23:30,115,17,widgets in django admin,"I need a widget which can make a foreignkey readonly and also it should display the value related to that field not the id

suppose 


    Class A(models.Model):
       id=models.AutoField(primary_key=True)
       name=models.CharField(max_length=200)
    
       def __unicode__(self):
         return self.name

    Class B(models.Model):

       id=models.AutoField(primary_key=True)
       name=models.ForeignKey(A)
       description=models.CharField(max_length=200)


**now when i make 'name' of class B as readonly then in admin it only displays the id corresponding value of that name in Class A.Is there any widget that can make the field as readonly and also display the value not id**",django,django-admin,,,,,open,0,134,4,"widgets in django admin I need a widget which can make a foreignkey readonly and also it should display the value related to that field not the id

suppose 


    Class A(models.Model):
       id=models.AutoField(primary_key=True)
       name=models.CharField(max_length=200)
    
       def __unicode__(self):
         return self.name

    Class B(models.Model):

       id=models.AutoField(primary_key=True)
       name=models.ForeignKey(A)
       description=models.CharField(max_length=200)


**now when i make 'name' of class B as readonly then in admin it only displays the id corresponding value of that name in Class A.Is there any widget that can make the field as readonly and also display the value not id**",2
6640332,07/10/2011 09:39:17,736211,05/03/2011 13:27:22,1,0,"Django - ""last_modified"" or ""auto_now_add"" for an App (or more than one Model?)","I know Django has a feature of last_modified field (models.DateTimeField(auto_now_add=True)
)..

but let's say I have a certain App, and I want to know when was the last change for any of its Model (I don't really care which model was changed, I just want to know when was the latest change for this app..)

do I really have to write a last_modified field for each model (I have 9 of them for the moment...), and then check for each of them which is the latest?

any help will be appreciated :)
Thanks",django,django-models,last-modified,,,,open,0,88,13,"Django - ""last_modified"" or ""auto_now_add"" for an App (or more than one Model?) I know Django has a feature of last_modified field (models.DateTimeField(auto_now_add=True)
)..

but let's say I have a certain App, and I want to know when was the last change for any of its Model (I don't really care which model was changed, I just want to know when was the latest change for this app..)

do I really have to write a last_modified field for each model (I have 9 of them for the moment...), and then check for each of them which is the latest?

any help will be appreciated :)
Thanks",3
8751138,01/05/2012 22:58:41,230884,12/14/2009 00:02:19,1007,12,What is the right way to pass global template variables in Django?,"Suppose this is what we want in every page, we'd create **""base_template.html""**

        <title>{% block title %}{{ page_title }}{% endblock %}</title>

        <a href=""http://{{domain}}{{current_path}}"">{{ page_title }}</a>{% endblock %}


Instead of passing page_title, domain, current_path from every view function such as:

    def display_meta(request):
        user_meta = request.META.items()
        sorted_meta = sorted(user_meta)     # a list of tuples
        return render_to_response('meta.html', {'sorted_meta': sorted_meta, 
                                  'current_path': request.get_full_path(), 
                                  'domain': request.get_host(),
                                  'page_title': display_meta.__name__})
    # and repeat the dictionary same manner for other views....
    
    #urls.py
    ('^book_list/$', 'object_get_list', {'model': models.Book}),


A different approach is **wrapping view functions**

    # urls.py
    ('^book_list/$', views.get_template(views.object_get_list),{'model': models.Book}),
    
    # views.py
    def get_template(view, **extrakw):
    
        def wrapview(request, **extrakw):
            template_dict = {'current_path': request.get_full_path(), 'domain': request.get_host()}
            extrakw['template_dict'] = template_dict
            return view(request, **extrakw)
        return wrapview
    
    
    def object_get_list(request, **kwargs):
        model = kwargs.pop('model', None)
        model_name = model.__name__.lower()
        template_dict = kwargs.pop('template_dict', None)
        template_dict[model_name] = model.objects.all()
        template_dict['page_title'] = model_name +"" list""
        template_name = '%s.html' %(model_name)
        return render_to_response(template_name, template_dict)


**Pro:**  Besides editing htmls, now modification is done in just one view, instead of every view.

**Cons:** Ugly URLConf and probably error propne too



**Attempt 3:**
Create a global dictionary just like template_dict I created. 

    template_dict = {/..../}
    
    def view1()
    def view2() ...

Problem: I can't use  request.path (or anything has to do with request). This falls back to the previous attempt (wrapper).



But there must be an easier way. What is the proper way of passing global template variables throughout a django site so each view function is now indepenednt of gloabl templat variables?


Thank you for you time.
",django,,,,,,open,0,529,12,"What is the right way to pass global template variables in Django? Suppose this is what we want in every page, we'd create **""base_template.html""**

        <title>{% block title %}{{ page_title }}{% endblock %}</title>

        <a href=""http://{{domain}}{{current_path}}"">{{ page_title }}</a>{% endblock %}


Instead of passing page_title, domain, current_path from every view function such as:

    def display_meta(request):
        user_meta = request.META.items()
        sorted_meta = sorted(user_meta)     # a list of tuples
        return render_to_response('meta.html', {'sorted_meta': sorted_meta, 
                                  'current_path': request.get_full_path(), 
                                  'domain': request.get_host(),
                                  'page_title': display_meta.__name__})
    # and repeat the dictionary same manner for other views....
    
    #urls.py
    ('^book_list/$', 'object_get_list', {'model': models.Book}),


A different approach is **wrapping view functions**

    # urls.py
    ('^book_list/$', views.get_template(views.object_get_list),{'model': models.Book}),
    
    # views.py
    def get_template(view, **extrakw):
    
        def wrapview(request, **extrakw):
            template_dict = {'current_path': request.get_full_path(), 'domain': request.get_host()}
            extrakw['template_dict'] = template_dict
            return view(request, **extrakw)
        return wrapview
    
    
    def object_get_list(request, **kwargs):
        model = kwargs.pop('model', None)
        model_name = model.__name__.lower()
        template_dict = kwargs.pop('template_dict', None)
        template_dict[model_name] = model.objects.all()
        template_dict['page_title'] = model_name +"" list""
        template_name = '%s.html' %(model_name)
        return render_to_response(template_name, template_dict)


**Pro:**  Besides editing htmls, now modification is done in just one view, instead of every view.

**Cons:** Ugly URLConf and probably error propne too



**Attempt 3:**
Create a global dictionary just like template_dict I created. 

    template_dict = {/..../}
    
    def view1()
    def view2() ...

Problem: I can't use  request.path (or anything has to do with request). This falls back to the previous attempt (wrapper).



But there must be an easier way. What is the proper way of passing global template variables throughout a django site so each view function is now indepenednt of gloabl templat variables?


Thank you for you time.
",1
5737483,04/20/2011 22:42:52,50011,12/29/2008 23:16:17,2072,135,SVN Integration with django,I have a small bug tracker written in django.  I'd like to integrate it with an svn repository so that when someone commits to svn it will automatically add a note to an issue in the bug tracker.  Does anyone have any input on how to best approach this?  Should I setup svn hooks?  use a cron job and pull from the log?,django,svn,,,,,open,0,67,4,SVN Integration with django I have a small bug tracker written in django.  I'd like to integrate it with an svn repository so that when someone commits to svn it will automatically add a note to an issue in the bug tracker.  Does anyone have any input on how to best approach this?  Should I setup svn hooks?  use a cron job and pull from the log?,2
1133064,07/15/2009 18:22:31,36680,11/11/2008 19:51:55,432,9,"Given a form normally filled out by hand, how can I print out information on that form programatically?","I have a PDF document that represents a print form that is normally filled out by hand.  

I want to to programatically populate certain text fields in the document (it is not a PDF form, just a plain PDF document) and fill it out with data specific to each user of the site.

I want the end form to look like it was passed through a typewriter and had data typed in (doesn't have to appear as if it was hand written.)

The end result should be a new PDF document with the data filled in.",django,jquery,html,css,pdf-generation,,open,0,95,18,"Given a form normally filled out by hand, how can I print out information on that form programatically? I have a PDF document that represents a print form that is normally filled out by hand.  

I want to to programatically populate certain text fields in the document (it is not a PDF form, just a plain PDF document) and fill it out with data specific to each user of the site.

I want the end form to look like it was passed through a typewriter and had data typed in (doesn't have to appear as if it was hand written.)

The end result should be a new PDF document with the data filled in.",5
10405131,05/01/2012 22:13:30,1121456,12/29/2011 15:31:27,17,2,I need to intercept data before it is put into the model from the database and vice versa,"The data stored in the database is HTML.  I cannot change this fact, but I want to hide it in my django admin site.

Before the database populates the model, I'd like to capture it and convert the html entities to unicode.  When the model is saved to the database I'd like to reverse the process.

I can do the actual conversion from HTML entity to unicode and the other way round, but I don't know Django well enough to accomplish this.

I've looked into a modelform for the admin, but this will not work for when the data is displayed in the list_display or other places on the site.

Where/how is the best way to hook into this?",django,django-models,django-admin,,,,open,0,117,18,"I need to intercept data before it is put into the model from the database and vice versa The data stored in the database is HTML.  I cannot change this fact, but I want to hide it in my django admin site.

Before the database populates the model, I'd like to capture it and convert the html entities to unicode.  When the model is saved to the database I'd like to reverse the process.

I can do the actual conversion from HTML entity to unicode and the other way round, but I don't know Django well enough to accomplish this.

I've looked into a modelform for the admin, but this will not work for when the data is displayed in the list_display or other places on the site.

Where/how is the best way to hook into this?",3
5858931,05/02/2011 15:19:12,713571,04/18/2011 14:22:53,14,0,how to implement a yahoo rss news feed in django website,how to implement a yahoo rss news feed in django website?,django,rss,,,,05/03/2011 03:24:41,not a real question,1,11,11,how to implement a yahoo rss news feed in django website how to implement a yahoo rss news feed in django website?,2
6203169,06/01/2011 14:52:41,31610,10/26/2008 17:16:50,11022,324,What kind of validations should I use in my db models?,"My form validators are pretty good, and if a form passes is_valid, all data should be ok to insert in the db. Should I still validate something on the db model? What else could there be validated on the db side? Because right now, except maybe for uniqueness ( which I can't do from my FormModel ), I can't think of anything else.",django,django-models,,,,,open,0,63,11,"What kind of validations should I use in my db models? My form validators are pretty good, and if a form passes is_valid, all data should be ok to insert in the db. Should I still validate something on the db model? What else could there be validated on the db side? Because right now, except maybe for uniqueness ( which I can't do from my FormModel ), I can't think of anything else.",2
8390158,12/05/2011 18:38:31,488735,10/27/2010 11:15:57,766,0,Django - How go access the value of a variable in a view on urls.py?,"I need to access the value of a variable in urls.py, the variable is on a view.

This is the view:

    class MyFacetedSearchView(SearchView):
        __name__ = 'MyFacetedSearchView'
    
        def extra_context(self):
            q_query_string = self.request.META
        
            extra = super(MyFacetedSearchView, self).extra_context()
            extra['request'] = self.request
            extra['facets'] = self.results.facet_counts()
            extra['number_results'] = self.results.count() # Adicionado p AL
            extra['q_query_string'] = q_query_string # Adicionado p AL
            return extra

I need to access the value of this variable(q_query_string) in urls.py. This variable is passed on the url, just like this:

    http://127.0.0.1/results/?q=this_is_the_value_that_i_need_to_access_in_urls_py

Can someone give me a clue?

Best Regards,",django,django-urls,,,,,open,0,192,15,"Django - How go access the value of a variable in a view on urls.py? I need to access the value of a variable in urls.py, the variable is on a view.

This is the view:

    class MyFacetedSearchView(SearchView):
        __name__ = 'MyFacetedSearchView'
    
        def extra_context(self):
            q_query_string = self.request.META
        
            extra = super(MyFacetedSearchView, self).extra_context()
            extra['request'] = self.request
            extra['facets'] = self.results.facet_counts()
            extra['number_results'] = self.results.count() # Adicionado p AL
            extra['q_query_string'] = q_query_string # Adicionado p AL
            return extra

I need to access the value of this variable(q_query_string) in urls.py. This variable is passed on the url, just like this:

    http://127.0.0.1/results/?q=this_is_the_value_that_i_need_to_access_in_urls_py

Can someone give me a clue?

Best Regards,",2
6738606,07/18/2011 19:53:19,695518,04/06/2011 19:30:41,1,0,Django path to current page,"I have a django template page, and want a link from this page, containing current URL, for example, I am on */article/11* and want link to */article/11/remove*
I tried the following construction:

    <a href=""{{ request.path }}remove"">Remove article</a>

But I get link to */article/remove* instead of */article/11/remove*
However when I change it to 

    <a href=""{{ request.path }}"">

I get link to */article/11*

How can I get URL not trimmed?
",django,django-templates,,,,,open,0,70,5,"Django path to current page I have a django template page, and want a link from this page, containing current URL, for example, I am on */article/11* and want link to */article/11/remove*
I tried the following construction:

    <a href=""{{ request.path }}remove"">Remove article</a>

But I get link to */article/remove* instead of */article/11/remove*
However when I change it to 

    <a href=""{{ request.path }}"">

I get link to */article/11*

How can I get URL not trimmed?
",2
3235752,07/13/2010 09:23:17,374006,06/23/2010 08:10:34,16,1,Django application installation,"I'm still busy with my Django learning adventure. In another post I asked about how to structure a Django project and applications using buildout. In the details of doing this arose another issue, simply installing 3rd party Django applications using either easy_install or setup.py. My question is, where should you install a Django application? If looking at Django documentation, one would think to put a Django application inside the project folder. But if your Django application is an egg (a mystifying term in my opinion) and you use easy_install without option '-b' (build-directory) the application will be installed into your current python site-packages directory. Using option '-b' will put a copy of the application in your directory, but still will install it in your current site-packages directory. Then there are other options like --install-dir and prefix. Also how should installation happen when using setup.py which have similar options as buid-directory, install-dir, and prefix?

Is there a 'good practice' standard for installing 3rd party Django applications into a Django project?

Thank a lot,

Todd",django,,,,,,open,0,170,3,"Django application installation I'm still busy with my Django learning adventure. In another post I asked about how to structure a Django project and applications using buildout. In the details of doing this arose another issue, simply installing 3rd party Django applications using either easy_install or setup.py. My question is, where should you install a Django application? If looking at Django documentation, one would think to put a Django application inside the project folder. But if your Django application is an egg (a mystifying term in my opinion) and you use easy_install without option '-b' (build-directory) the application will be installed into your current python site-packages directory. Using option '-b' will put a copy of the application in your directory, but still will install it in your current site-packages directory. Then there are other options like --install-dir and prefix. Also how should installation happen when using setup.py which have similar options as buid-directory, install-dir, and prefix?

Is there a 'good practice' standard for installing 3rd party Django applications into a Django project?

Thank a lot,

Todd",1
1944342,12/22/2009 05:35:28,50773,01/01/2009 23:54:16,1291,35,Use the same Django models across two different databases in the same app,"I have a set of Django models that are used in two databases (i.e. syncdb was run against two databases from the same app).  Both databases are for production services (one database contains on-demand ""sandbox"" build information and the other contains nightly build information).

The problem is that I want to have one Django app that displays information from both databases.  Is that possible in Django?  The solution that I've been using so far is to run the app against the nightly build database and use raw SQL to access the sandbox build database, but that's not DRY and just feels wrong.

Thanks.",django,database,django-models,,,,open,0,104,13,"Use the same Django models across two different databases in the same app I have a set of Django models that are used in two databases (i.e. syncdb was run against two databases from the same app).  Both databases are for production services (one database contains on-demand ""sandbox"" build information and the other contains nightly build information).

The problem is that I want to have one Django app that displays information from both databases.  Is that possible in Django?  The solution that I've been using so far is to run the app against the nightly build database and use raw SQL to access the sandbox build database, but that's not DRY and just feels wrong.

Thanks.",3
8889153,01/17/2012 03:00:00,1059115,11/22/2011 05:14:54,1,0,How to create or register User using django-tastypie API programmatically?,"My code below kinda works, it creates the User object and saves but it doesn't save the password:

    class CreateUserResource(ModelResource):
    class Meta:
        allowed_methods = ['post']
        object_class = User
        authentication = Authentication()
        authorization = Authorization()
        include_resource_uri = False
        fields = ['username']

    def obj_create(self, bundle, request=None, **kwargs):
        try:
            bundle = super(CreateUserResource, self).obj_create(bundle, request, **kwargs)
        except IntegrityError:
            raise BadRequest('That username already exists')
        return bundle

If I add 'password' to the Meta fields then it does save the raw password but not hashing it. What am I doing wrong?",django,tastypie,,,,,open,0,178,10,"How to create or register User using django-tastypie API programmatically? My code below kinda works, it creates the User object and saves but it doesn't save the password:

    class CreateUserResource(ModelResource):
    class Meta:
        allowed_methods = ['post']
        object_class = User
        authentication = Authentication()
        authorization = Authorization()
        include_resource_uri = False
        fields = ['username']

    def obj_create(self, bundle, request=None, **kwargs):
        try:
            bundle = super(CreateUserResource, self).obj_create(bundle, request, **kwargs)
        except IntegrityError:
            raise BadRequest('That username already exists')
        return bundle

If I add 'password' to the Meta fields then it does save the raw password but not hashing it. What am I doing wrong?",2
6878591,07/29/2011 20:22:08,870017,07/29/2011 20:22:08,1,0,Tools for developing a website,"I want to develop a website that will, have a database (SQL probably) of images and videos, and users will have to interact with them. By interaction I mean answering some questions about each image/video and storing the answers. I was thinking of using, Django, Drupal, or Joomla or even ruby on rails. Any suggestions?",django,joomla,,,,07/30/2011 03:25:41,not constructive,1,55,5,"Tools for developing a website I want to develop a website that will, have a database (SQL probably) of images and videos, and users will have to interact with them. By interaction I mean answering some questions about each image/video and storing the answers. I was thinking of using, Django, Drupal, or Joomla or even ruby on rails. Any suggestions?",2
3788432,09/24/2010 15:13:20,17860,09/18/2008 15:35:23,210,10,Post create instance code call in django models,"Sorry for some crazy subj.

I'd like to override django models save method and call some additional code if the model instance is newly created. 
Sure I can use signals or check if the model have empty pk field and if yes, create temporary variable and later call a code:

    Class EmailModel(models.Model):
        email = models.EmailField()

        def save(self, *args, **kwargs)
            if self.pk is None:
                 new_object=True
            super(EmailModel, self).save(*args, **kwargs)
            # Create necessary objects
            if new_object:
                self.post_create()
        
        def post_create(self):
              self.credit_set.add()
        
But I like to have some beautiful code and avoid using temporary variable in save method.
So the question is: is it possible to find if the instance of model is newly created object just after super save_base parent method call?

I've checked django sources can't find how to do that in right way.

Thanks",django,django-models,,,,,open,0,255,8,"Post create instance code call in django models Sorry for some crazy subj.

I'd like to override django models save method and call some additional code if the model instance is newly created. 
Sure I can use signals or check if the model have empty pk field and if yes, create temporary variable and later call a code:

    Class EmailModel(models.Model):
        email = models.EmailField()

        def save(self, *args, **kwargs)
            if self.pk is None:
                 new_object=True
            super(EmailModel, self).save(*args, **kwargs)
            # Create necessary objects
            if new_object:
                self.post_create()
        
        def post_create(self):
              self.credit_set.add()
        
But I like to have some beautiful code and avoid using temporary variable in save method.
So the question is: is it possible to find if the instance of model is newly created object just after super save_base parent method call?

I've checked django sources can't find how to do that in right way.

Thanks",2
1126811,07/14/2009 17:23:31,94598,04/22/2009 20:23:29,6,1,django-timezones,"I am trying to setup django-timezones but am unfamiliar on how to go about this.  The only info that I have found is here: http://www.ohloh.net/p/django-timezones

    class MyModel(Model): 
        timezone = TimeZoneField() 
        datetime = LocalizedDateTime('timezone')

I also tried looking through the pinax code or any other projects that use this app but haven't found anything.

Does anyone have an example or some info that they can share on how to use this?

Thanks,
Justin",django,python,timezone,,,,open,0,88,1,"django-timezones I am trying to setup django-timezones but am unfamiliar on how to go about this.  The only info that I have found is here: http://www.ohloh.net/p/django-timezones

    class MyModel(Model): 
        timezone = TimeZoneField() 
        datetime = LocalizedDateTime('timezone')

I also tried looking through the pinax code or any other projects that use this app but haven't found anything.

Does anyone have an example or some info that they can share on how to use this?

Thanks,
Justin",3
8510053,12/14/2011 18:51:17,587021,01/24/2011 04:57:23,99,27,ERP with Supply chain management (incl. POS) and Customer relationship management — What's available?,"I am building a [ERP](http://en.wikipedia.org/wiki/Enterprise_resource_planning) with
Supply chain management (incl. POS and ecommerce) and Customer
relationship management.

Which Django libraries (or projects even) will provide the best base for building this off?

Thanks for all suggestions",django,e-commerce,point-of-sale,suggestions,erp,12/15/2011 18:25:17,not constructive,1,32,14,"ERP with Supply chain management (incl. POS) and Customer relationship management — What's available? I am building a [ERP](http://en.wikipedia.org/wiki/Enterprise_resource_planning) with
Supply chain management (incl. POS and ecommerce) and Customer
relationship management.

Which Django libraries (or projects even) will provide the best base for building this off?

Thanks for all suggestions",5
8860503,01/14/2012 06:03:12,878520,08/04/2011 11:51:24,51,0,what the best hosting company for Django with Mongodb,"after speding hours finding out what's the best hosting companies for django, I found that many people recommend WebFaction..

But the problem is that WebFaction and other hosting companies do not support 64bit server, which means that the 2gigabytes storing limitation mongodb has on 32bits server is not solved out. 

**I need a web hosting company that supports 64bits web hosting (not dedicated server), and offers reasonable price services.**


I once thought of mongolab as database center for mongodb while using WebFaction.. but.. 
I'm not sure that it's the best thing I can do. (database server far from application server.. may slow down performance... perhaps)

give me some hosting companies that supports django and mongodb on 64bits servers.
Thanks.",django,mongodb,64bit,hosting,32bit,01/14/2012 11:42:49,off topic,1,115,9,"what the best hosting company for Django with Mongodb after speding hours finding out what's the best hosting companies for django, I found that many people recommend WebFaction..

But the problem is that WebFaction and other hosting companies do not support 64bit server, which means that the 2gigabytes storing limitation mongodb has on 32bits server is not solved out. 

**I need a web hosting company that supports 64bits web hosting (not dedicated server), and offers reasonable price services.**


I once thought of mongolab as database center for mongodb while using WebFaction.. but.. 
I'm not sure that it's the best thing I can do. (database server far from application server.. may slow down performance... perhaps)

give me some hosting companies that supports django and mongodb on 64bits servers.
Thanks.",5
10554636,05/11/2012 15:46:11,1234900,02/27/2012 05:44:16,21,2,Django - where to initialize static objects?,"I need to manage a DB connection pool outside of Django's model framework.

Where is 'right' place to initialize objects like this (so that the entire application has access to the same object), and a 2nd requirement is the ability to close my connections when django/python is shutdown.

Thanks!",django,,,,,,open,0,47,7,"Django - where to initialize static objects? I need to manage a DB connection pool outside of Django's model framework.

Where is 'right' place to initialize objects like this (so that the entire application has access to the same object), and a 2nd requirement is the ability to close my connections when django/python is shutdown.

Thanks!",1
2943958,05/31/2010 13:52:10,258267,01/25/2010 08:47:01,899,52,Right way to have a thread in parallel to django project on wsgi.,"I'm writing a django project, and I need to have a parallel thread which performs certain tasks.

The project will be deployed in Apache2.2 with mod_wsgi.

Actually my implementation consists on a thread with a _while True - Sleep_ which is called from my __django.wsgi__ file.

Is this implementation correct?

Two problems raises: does django.wsgi get called only once? Will I have just that instance of the thread running? And second, I need to ""manually"" visit at least a page to have the Thread run. Is there a workaround?

Does anyone has some hints on better solutions?

_Thanks in advance._

",django,multithreading,cron,django-wsgi,,,open,0,94,13,"Right way to have a thread in parallel to django project on wsgi. I'm writing a django project, and I need to have a parallel thread which performs certain tasks.

The project will be deployed in Apache2.2 with mod_wsgi.

Actually my implementation consists on a thread with a _while True - Sleep_ which is called from my __django.wsgi__ file.

Is this implementation correct?

Two problems raises: does django.wsgi get called only once? Will I have just that instance of the thread running? And second, I need to ""manually"" visit at least a page to have the Thread run. Is there a workaround?

Does anyone has some hints on better solutions?

_Thanks in advance._

",4
9138223,02/04/2012 03:43:32,458879,09/26/2010 19:18:57,64,13,is django APPEND_SLASH is broken in 1.4-alpha-1?,"Hi I had a perfectly working APPEND_SLASH = True in the project settings.py file and moving from 1.3 to 1.4-alpha-1 seems to have broken this feature.

Now, anyone has noticed this?
Or, anything has changed about this? 
I have looked at the docs online and I don't see a release note indicating the change regarding the slashes. ",django,redirect,django-settings,,,02/05/2012 23:37:23,not a real question,1,56,7,"is django APPEND_SLASH is broken in 1.4-alpha-1? Hi I had a perfectly working APPEND_SLASH = True in the project settings.py file and moving from 1.3 to 1.4-alpha-1 seems to have broken this feature.

Now, anyone has noticed this?
Or, anything has changed about this? 
I have looked at the docs online and I don't see a release note indicating the change regarding the slashes. ",3
2984427,06/06/2010 13:59:23,221209,11/30/2009 08:56:54,431,28,Django grappelli,"Does anyone here use [django-grappelli][1] here ?

I would like to read some experience of developers or users, if there are common mistake to avoid or why you use or do not use grappelli.

Thanks for sharing


  [1]: http://code.google.com/p/django-grappelli/",django,django-admin,,,,,open,0,38,2,"Django grappelli Does anyone here use [django-grappelli][1] here ?

I would like to read some experience of developers or users, if there are common mistake to avoid or why you use or do not use grappelli.

Thanks for sharing


  [1]: http://code.google.com/p/django-grappelli/",2
1933957,12/19/2009 19:49:39,96282,04/26/2009 19:58:34,1331,79,Imposing an order on related (via a foreign key) objects,"Ok, imagine a typical scenario, - there is a thread object and comments, attached to it. It can be expressed in django ORM's terms very roughly like this:

    class Thread(models.Model):
        id = models.AutoField(primary_key=True)
        name = models.CharField(max_length=255)
    
    class Comment(models.Model):
        id = models.AutoField(primary_key=True)
        content = models.TextField()
        created = models.DateTimeField(editable=False)
        thread = models.ForeignKey(Thread, related_name='comments')
        
        def save(self, force_insert=False, force_update=False):
            self.created = datetime.datetime.now()
            super(Comment, self).save(force_insert, force_delete)



So, when displaying the actual data, the comments are going to be ordered by their creation time (since I like _not_ to make an assumption, that an identity field also guarantees you the correct order of the records).

But what if I needed to be able to control (and alter) the order in which the comments must appear within a thread **and** to be able to move comments from one thread to another.

This could be accomplished by adding, for example, a ""sequence"" field to the comment model and restricting the uniqueness of the combination of the ""sequence"" field and ""thread"" field of the comment model (so that there can be no comments within a thread with the same sequence number). A unique key on these fields should be sufficient (in terms of django, it can be accomplished via `unique_together`, I think).

However, this adds a computational (and coding :P) overhead, because if you are to change the order of the comments, by changing their sequence numbers, you must also update the comments with sequence numbers, higher, than the target comment's sequence number. And so on. It is just asking for trouble.

Somehow, I just can't get my head around this. Maybe I am just missing something?

(If it is possible, don't regard this as a django-only problem. IMO it is language-agnostic-ish, since it has nothing django-specific about it, when you think of it)

EDIT: I've suddenly realized, that there is no actual question in the, err, question. So the question is, what would be the most lightweight way to implement a such a model, besides the obvious way I've described (seems too cumbersome to me).",django,sql,language-agnostic,,,,open,0,419,10,"Imposing an order on related (via a foreign key) objects Ok, imagine a typical scenario, - there is a thread object and comments, attached to it. It can be expressed in django ORM's terms very roughly like this:

    class Thread(models.Model):
        id = models.AutoField(primary_key=True)
        name = models.CharField(max_length=255)
    
    class Comment(models.Model):
        id = models.AutoField(primary_key=True)
        content = models.TextField()
        created = models.DateTimeField(editable=False)
        thread = models.ForeignKey(Thread, related_name='comments')
        
        def save(self, force_insert=False, force_update=False):
            self.created = datetime.datetime.now()
            super(Comment, self).save(force_insert, force_delete)



So, when displaying the actual data, the comments are going to be ordered by their creation time (since I like _not_ to make an assumption, that an identity field also guarantees you the correct order of the records).

But what if I needed to be able to control (and alter) the order in which the comments must appear within a thread **and** to be able to move comments from one thread to another.

This could be accomplished by adding, for example, a ""sequence"" field to the comment model and restricting the uniqueness of the combination of the ""sequence"" field and ""thread"" field of the comment model (so that there can be no comments within a thread with the same sequence number). A unique key on these fields should be sufficient (in terms of django, it can be accomplished via `unique_together`, I think).

However, this adds a computational (and coding :P) overhead, because if you are to change the order of the comments, by changing their sequence numbers, you must also update the comments with sequence numbers, higher, than the target comment's sequence number. And so on. It is just asking for trouble.

Somehow, I just can't get my head around this. Maybe I am just missing something?

(If it is possible, don't regard this as a django-only problem. IMO it is language-agnostic-ish, since it has nothing django-specific about it, when you think of it)

EDIT: I've suddenly realized, that there is no actual question in the, err, question. So the question is, what would be the most lightweight way to implement a such a model, besides the obvious way I've described (seems too cumbersome to me).",3
8851758,01/13/2012 14:04:26,13009,09/16/2008 16:37:56,2980,65,How to teach Django to non-web programmers?,"I've been tasked with providing a workshop for my co-workers to teach them Django.

They're all good programmers but they've never done any web programming. 

I was thinking to just go through the Django tutorial with them, but are there things in there that wouldn't make sense to non-web programmers?  

Do they need any kind of webdev background first? Any thoughts on a good way to provide the basics so that Django will make sense?",django,training,teaching,,,01/16/2012 10:34:23,off topic,1,75,7,"How to teach Django to non-web programmers? I've been tasked with providing a workshop for my co-workers to teach them Django.

They're all good programmers but they've never done any web programming. 

I was thinking to just go through the Django tutorial with them, but are there things in there that wouldn't make sense to non-web programmers?  

Do they need any kind of webdev background first? Any thoughts on a good way to provide the basics so that Django will make sense?",3
1942412,12/21/2009 20:26:32,112,08/02/2008 05:39:11,4312,74,"How to organize a database in Django with multiple, distinct apps?","I'm new to Django (and databases in general), and I'm not sure how to structure the following. The sources of data I'll have for my site are:

1. a blog
2. for a few different games:
  - a high score list
  - user-created levels

If I were storing the data in ordinary files, I'd just have one file for each of the above. In Django, ideally (I think) I'd have a separate database for each of these, but apparently multiple database support isn't there for Django yet. I'm worried (unnecessarily?) about keeping everything in one database for two reasons:

1. If I screw something up in one of the sections, I don't want to mess up the rest of the data.

2. When I'm working on one of these sections, I'd like the freedom to easily change the model around. Since I've learned that `syncdb` doesn't, in fact, sync the database, I've decided that the easiest thing to do when messing around with a model is to simply wipe the database and start over. Again, I'm worried about messing up the other sections. I looked at [south](http://south.aeracode.org/), and it seems like more trouble than it's worth during the planning stages of an app (but I'll reconsider later when there's actually valuable data).

Part of the problem is that I'm not really comfortable keeping my data in a binary format. I'm used to text, so I can easily diff it, modify it in an editor, etc., without going through some magical database interface (I'm using postgresql, by the way).

Are my fears unfounded? How do people normally handle this problem?",django,database,design,,,,open,0,264,11,"How to organize a database in Django with multiple, distinct apps? I'm new to Django (and databases in general), and I'm not sure how to structure the following. The sources of data I'll have for my site are:

1. a blog
2. for a few different games:
  - a high score list
  - user-created levels

If I were storing the data in ordinary files, I'd just have one file for each of the above. In Django, ideally (I think) I'd have a separate database for each of these, but apparently multiple database support isn't there for Django yet. I'm worried (unnecessarily?) about keeping everything in one database for two reasons:

1. If I screw something up in one of the sections, I don't want to mess up the rest of the data.

2. When I'm working on one of these sections, I'd like the freedom to easily change the model around. Since I've learned that `syncdb` doesn't, in fact, sync the database, I've decided that the easiest thing to do when messing around with a model is to simply wipe the database and start over. Again, I'm worried about messing up the other sections. I looked at [south](http://south.aeracode.org/), and it seems like more trouble than it's worth during the planning stages of an app (but I'll reconsider later when there's actually valuable data).

Part of the problem is that I'm not really comfortable keeping my data in a binary format. I'm used to text, so I can easily diff it, modify it in an editor, etc., without going through some magical database interface (I'm using postgresql, by the way).

Are my fears unfounded? How do people normally handle this problem?",3
4211501,11/18/2010 03:42:37,511622,11/18/2010 03:32:02,1,0,Django: Querying Multiple Tables Using Models,"I am currently wanting to run a SQL statement that will filter my database but it accesses multiple tables.  From the other examples I have read on this website, they all use foreign keys not on the primary key; however, that is my current setup.  I am having two issues, the first being the SQL filter.  These are my models:

    class UserProfile(models.Model):
            user = models.ForeignKey(User, unique=True);
    
            isATutor = models.BooleanField();
            timeAvailable = models.CharField(max_length=3);
    
    class TutorProfile(models.Model):
            user = models.ForeignKey(User);
    
            language = models.CharField(max_length=30);
            unique_together = ((""user"", ""language""), );
    
    class Tutor(models.Model):
            user = models.ForeignKey(User);
    
            subject = models.CharField(max_length=30);
            unique_together = ((""user"", ""subject""), );

I am using raw SQL at the moment.

    def sqlQuery(avail, lang, sub):
        from django.db import connection, transaction
        cursor = connection.cursor();
    
        cursor.execute(""SELECT a.first_name, a.last_name, a.email FROM auth_user a, books_tutor b, books_tutorprofile c, books_userprofile d WHERE a.id = b.user_id AND a.id = c.user_id AND a.id = d.user_id AND b.subject=%s AND c.language=%s AND d.timeAvailable=%s"", [sub, lang, avail]);
        row = cursor.fetchall();
    
        return row;

timeAvailable is taking a three character string is in the form 'MAE' where M = morning, A=Afternoon, E=Evening and if they are not needed, we'll replace with - e.g. 'M--' is only available in morning.

So the first issue is I'd love to be able to keep the above SQL as a django model.  The second issue is I need a good way to query for MAE.  I'm thinking I may have to do 8 different SQL parts and UNION them depending on what is chosen.

Thanks,

Steve",django,models,,,,,open,0,419,6,"Django: Querying Multiple Tables Using Models I am currently wanting to run a SQL statement that will filter my database but it accesses multiple tables.  From the other examples I have read on this website, they all use foreign keys not on the primary key; however, that is my current setup.  I am having two issues, the first being the SQL filter.  These are my models:

    class UserProfile(models.Model):
            user = models.ForeignKey(User, unique=True);
    
            isATutor = models.BooleanField();
            timeAvailable = models.CharField(max_length=3);
    
    class TutorProfile(models.Model):
            user = models.ForeignKey(User);
    
            language = models.CharField(max_length=30);
            unique_together = ((""user"", ""language""), );
    
    class Tutor(models.Model):
            user = models.ForeignKey(User);
    
            subject = models.CharField(max_length=30);
            unique_together = ((""user"", ""subject""), );

I am using raw SQL at the moment.

    def sqlQuery(avail, lang, sub):
        from django.db import connection, transaction
        cursor = connection.cursor();
    
        cursor.execute(""SELECT a.first_name, a.last_name, a.email FROM auth_user a, books_tutor b, books_tutorprofile c, books_userprofile d WHERE a.id = b.user_id AND a.id = c.user_id AND a.id = d.user_id AND b.subject=%s AND c.language=%s AND d.timeAvailable=%s"", [sub, lang, avail]);
        row = cursor.fetchall();
    
        return row;

timeAvailable is taking a three character string is in the form 'MAE' where M = morning, A=Afternoon, E=Evening and if they are not needed, we'll replace with - e.g. 'M--' is only available in morning.

So the first issue is I'd love to be able to keep the above SQL as a django model.  The second issue is I need a good way to query for MAE.  I'm thinking I may have to do 8 different SQL parts and UNION them depending on what is chosen.

Thanks,

Steve",2
6323482,06/12/2011 17:39:39,323578,04/22/2010 00:59:07,131,3,Question About Creating Production Ready Custom AMI On EC2,"I am in the process of trying to create a production reading custom AMI on EC2 (storing the image on S3, obviously)

I am kinda new to this, so I am just to tell you guys what I am thinking, and then you tell me where I am going wrong:

My technology stack:

Django 1.3

MongoDB 

MySQL

Nginx - reverse proxy, static serving

Apache - app servers

Since all of the space on the EC2 EBS volumes is under /mnt, it seems like I need to set up a few symbolic links for my Mongo + MySQL storage

For MySQL, I was going to do this:

http://blog.spaceprogram.com/2007/06/amazon-ec2-ephemeral-storage-mnt-and.html

For MongoDB, I think I can get away with something likes this:

    rm /var/db
    mkdir /mnt/mongo/db
    cd /var/
    ln -s /mnt/mongo/db db

(This is what I was going to do, but I may be incorrect).

So at this point, now I have enough space so my database can grow past the ~10GB cap EC2 has for the AMIs

I am deploying using fiber, but I kinda gave up on virtualevn because I am not exactly sure what it is giving me? As far as I can tell, to deploy using virtual evn, you need to change the PYTHONPATH variable around on the EC2 machine, so all third-party packages that get installed go into the site-packages attached to virtualevn, rather than the site-packages directory of the python installed on the instance. It seems like a pain in the ass, and as long as you make sure that you always create a new AMI with the latest software updates, it think just installing all python apps directly on the instance is the way to go. If this is incorrect, please tell me why.

Finally, since both databases are the only part of the app that is going to grow (potentially), I was planning on hosting my django app under /home/ubuntu (aka not off the mnt). I tried putting everything on the mnt at first, but apache was having problems, and the minute I brought the code back to /home/ubuntu, everything worked properly again.

As for back-ups, I was planning on using Amazon's RDS service to back up all data in my MySQL databases, and I was going to create some sort of cron-job that automatically take snapshots of the mongo data every 10 minutes, and then upload them to ec2? Does this sound right?

I am new to creating these production instances, and I am trying to get a feel for if I am on the right track. If anyone knows of any great tutorials describing how things should be configured using a similar technology stack, that would be awesome also.

Thanks

",django,deployment,mongodb,amazon-ec2,fiber,06/13/2011 19:40:47,not a real question,1,442,9,"Question About Creating Production Ready Custom AMI On EC2 I am in the process of trying to create a production reading custom AMI on EC2 (storing the image on S3, obviously)

I am kinda new to this, so I am just to tell you guys what I am thinking, and then you tell me where I am going wrong:

My technology stack:

Django 1.3

MongoDB 

MySQL

Nginx - reverse proxy, static serving

Apache - app servers

Since all of the space on the EC2 EBS volumes is under /mnt, it seems like I need to set up a few symbolic links for my Mongo + MySQL storage

For MySQL, I was going to do this:

http://blog.spaceprogram.com/2007/06/amazon-ec2-ephemeral-storage-mnt-and.html

For MongoDB, I think I can get away with something likes this:

    rm /var/db
    mkdir /mnt/mongo/db
    cd /var/
    ln -s /mnt/mongo/db db

(This is what I was going to do, but I may be incorrect).

So at this point, now I have enough space so my database can grow past the ~10GB cap EC2 has for the AMIs

I am deploying using fiber, but I kinda gave up on virtualevn because I am not exactly sure what it is giving me? As far as I can tell, to deploy using virtual evn, you need to change the PYTHONPATH variable around on the EC2 machine, so all third-party packages that get installed go into the site-packages attached to virtualevn, rather than the site-packages directory of the python installed on the instance. It seems like a pain in the ass, and as long as you make sure that you always create a new AMI with the latest software updates, it think just installing all python apps directly on the instance is the way to go. If this is incorrect, please tell me why.

Finally, since both databases are the only part of the app that is going to grow (potentially), I was planning on hosting my django app under /home/ubuntu (aka not off the mnt). I tried putting everything on the mnt at first, but apache was having problems, and the minute I brought the code back to /home/ubuntu, everything worked properly again.

As for back-ups, I was planning on using Amazon's RDS service to back up all data in my MySQL databases, and I was going to create some sort of cron-job that automatically take snapshots of the mongo data every 10 minutes, and then upload them to ec2? Does this sound right?

I am new to creating these production instances, and I am trying to get a feel for if I am on the right track. If anyone knows of any great tutorials describing how things should be configured using a similar technology stack, that would be awesome also.

Thanks

",5
2822422,05/12/2010 20:13:08,244413,01/06/2010 02:46:19,444,0,Template does not exist: 500.html,"I have created a template for 500 http error.

I have insert my template 500.html in:

1) /project/

2) /project/templates/

3) /python2.5/

4) /python2.5/templates/


.

but I always get this error:

TemplateDoesNotExist: 500.html

Same problem for Http 404 error.

WHY  ???
",django,django-templates,,,,,open,0,32,5,"Template does not exist: 500.html I have created a template for 500 http error.

I have insert my template 500.html in:

1) /project/

2) /project/templates/

3) /python2.5/

4) /python2.5/templates/


.

but I always get this error:

TemplateDoesNotExist: 500.html

Same problem for Http 404 error.

WHY  ???
",2
927619,05/29/2009 19:07:12,74865,03/06/2009 20:16:16,132,21,Django Formset.is_valid() failing for extra forms,"In my Django application application I have a formset that is created from a simple (not-model) form, with the extra=1 (to allow javasript to add more forms later on):

    SomeFormset = formset_factory(SomeForm, can_delete=True, extra=1)

Now, when I create and try to validate it in my view on the POST request:

    my_formset = SomeFormset(request.POST, request.FILES)

    if(my_formset.is_valid()):
        # FAIL

it always fails the above check, if the __extra__ rendered form is submitted empty.

In other words, the formset is not smart enough to figure out the the empty submitted form should be ignored.

My question is what is the thinking behind this mechanic of formsets? Why provide an is_valid() method if it fails in this case.

What would be a good way to handle this extra displayed form? The way I am thinking is to iterate through my_formset.forms and do the checking if all the fields are empty, and ignore them.",django,formset,django-forms,,,,open,0,160,6,"Django Formset.is_valid() failing for extra forms In my Django application application I have a formset that is created from a simple (not-model) form, with the extra=1 (to allow javasript to add more forms later on):

    SomeFormset = formset_factory(SomeForm, can_delete=True, extra=1)

Now, when I create and try to validate it in my view on the POST request:

    my_formset = SomeFormset(request.POST, request.FILES)

    if(my_formset.is_valid()):
        # FAIL

it always fails the above check, if the __extra__ rendered form is submitted empty.

In other words, the formset is not smart enough to figure out the the empty submitted form should be ignored.

My question is what is the thinking behind this mechanic of formsets? Why provide an is_valid() method if it fails in this case.

What would be a good way to handle this extra displayed form? The way I am thinking is to iterate through my_formset.forms and do the checking if all the fields are empty, and ignore them.",3
923135,05/28/2009 20:53:56,93461,04/20/2009 22:39:05,124,3,does custom user class break applications in django?,"Let's say that I have subclassed User model (CustomUser) properly (as explained here: [http://scottbarnham.com/blog/2008/08/21/extending-the-django-user-model-with-inheritance/][1])

and installed the comments app.

to access the user of a comment in the template I write:

    {{comment.user}} # which provides User, not my CustomUser

and therefore,

    {{comment.user.CustomProperty}} #does not work.

How can I work around it?


  [1]: http://scottbarnham.com/blog/2008/08/21/extending-the-django-user-model-with-inheritance/",django,django-models,authentication,,,,open,0,56,8,"does custom user class break applications in django? Let's say that I have subclassed User model (CustomUser) properly (as explained here: [http://scottbarnham.com/blog/2008/08/21/extending-the-django-user-model-with-inheritance/][1])

and installed the comments app.

to access the user of a comment in the template I write:

    {{comment.user}} # which provides User, not my CustomUser

and therefore,

    {{comment.user.CustomProperty}} #does not work.

How can I work around it?


  [1]: http://scottbarnham.com/blog/2008/08/21/extending-the-django-user-model-with-inheritance/",3
5737507,04/20/2011 22:46:02,29347,10/19/2008 06:43:21,383,17,Sampling with joins using Django models,"I have a method in one of my models that right now fetches every link, and then does a random sample. Is it possible to make some form of join combined with a random selection using Django models? The current method seems like a great way to waste grind the application to a halt when the data grows. :)

    def get_links(self):
        links = []
        for list in self.lists.all():
            links.extend( list.links.all() )
        if len( links ) <= self.number_of_links:
            return links
        return random.sample( links, self.number_of_links )",django,django-models,,,,,open,0,137,6,"Sampling with joins using Django models I have a method in one of my models that right now fetches every link, and then does a random sample. Is it possible to make some form of join combined with a random selection using Django models? The current method seems like a great way to waste grind the application to a halt when the data grows. :)

    def get_links(self):
        links = []
        for list in self.lists.all():
            links.extend( list.links.all() )
        if len( links ) <= self.number_of_links:
            return links
        return random.sample( links, self.number_of_links )",2
11443518,07/12/2012 00:31:25,1124296,12/31/2011 12:27:20,16,0,Are there advantages using Django for create websites with only static pages?,"May I ask for creating websites with only static pages would Django provide any advantage? An example of the website is something that probably has an introduction to a business, a contacts page, a list of services etc.

Also if I am only creating static pages, are there any apps in Django that makes that easy?

Are there any Django tutorials that provide a complete picture on the steps to creating a full website beyond just a poll or a blog? For example, I would like to find out how I can create a menu bar for navigation.

Lastly, several tutorials are in an older version of Django, will they be useful if I were using Django 1.4?

Thanks",django,,,,,07/12/2012 00:44:03,not constructive,1,115,12,"Are there advantages using Django for create websites with only static pages? May I ask for creating websites with only static pages would Django provide any advantage? An example of the website is something that probably has an introduction to a business, a contacts page, a list of services etc.

Also if I am only creating static pages, are there any apps in Django that makes that easy?

Are there any Django tutorials that provide a complete picture on the steps to creating a full website beyond just a poll or a blog? For example, I would like to find out how I can create a menu bar for navigation.

Lastly, several tutorials are in an older version of Django, will they be useful if I were using Django 1.4?

Thanks",1
164901,10/02/2008 22:27:56,2592,08/23/2008 12:32:00,255,14,How would i package and sell a Django app?,"Currently I am hosted a Django app I developed myself for my clients, but i am now starting to look at selling it to people for them to host themselves.

My question is this: How can i package up and sell a Django app, but also protect my code from pirating or theft. Distributing a bunch of .py files doesn't sound like a good idea as the people i sell it too could just make copies of them and pass them on.

I think for the purpose of this problem it would be safe to assume that everyone who buys this would be running the same (LAMP) setup.",django,python,distribution,piracy-prevention,,,open,0,106,9,"How would i package and sell a Django app? Currently I am hosted a Django app I developed myself for my clients, but i am now starting to look at selling it to people for them to host themselves.

My question is this: How can i package up and sell a Django app, but also protect my code from pirating or theft. Distributing a bunch of .py files doesn't sound like a good idea as the people i sell it too could just make copies of them and pass them on.

I think for the purpose of this problem it would be safe to assume that everyone who buys this would be running the same (LAMP) setup.",4
10407648,05/02/2012 04:18:44,1094156,12/12/2011 16:41:28,16,1,Why they have both tornado and node.js webservers in pinterest.com?,Can anyone say why in pinterest.com both tornado and node.js webservers are used.why they have used both web servers? Please clarify.,django,node.js,tornado,pinterest,,05/03/2012 12:55:00,off topic,1,21,10,Why they have both tornado and node.js webservers in pinterest.com? Can anyone say why in pinterest.com both tornado and node.js webservers are used.why they have used both web servers? Please clarify.,4
8799318,01/10/2012 06:17:21,447967,09/15/2010 03:15:44,388,8,Setting a url parameter persistently,"In my Django website, I have a certain parameter that I would like to set through url, or query string. E.g. `mysite.com/?param=value`. I want this value to be passed to all the views once it has been set - I can check it with `request.GET.get('param', 'default value')`. What would be the easiest way to do that in Django?

To make it more clear, here is an example - in the header of my site I have a dropdown menu with a list of years. Once I click on one of the choices I want this year to be carried over to all the other other parts of my website, i.e. `mysite.com/?year=1999`, then `mysite.com/somethingelse/?year=1999`, `mysite.com/onemorething/?year=1999` and so on. 
Thanks in advance. ",django,django-views,,,,,open,0,120,5,"Setting a url parameter persistently In my Django website, I have a certain parameter that I would like to set through url, or query string. E.g. `mysite.com/?param=value`. I want this value to be passed to all the views once it has been set - I can check it with `request.GET.get('param', 'default value')`. What would be the easiest way to do that in Django?

To make it more clear, here is an example - in the header of my site I have a dropdown menu with a list of years. Once I click on one of the choices I want this year to be carried over to all the other other parts of my website, i.e. `mysite.com/?year=1999`, then `mysite.com/somethingelse/?year=1999`, `mysite.com/onemorething/?year=1999` and so on. 
Thanks in advance. ",2
9222408,02/10/2012 03:45:10,801820,06/16/2011 15:43:06,196,1,Django queryset to get children and grandchildren,"I have a django model that refers to it's self (in a parent-child-grandchild relationship).

I'm trying to perform a query that will return all the child and grandchild instances of a particular parent. 

So for example:

    class Post(models.Model):
        parent = models.ForeignKey('self', null=True, related_name=""children"")


This relationship goes 3 levels deep - What's the best way to get a queryset with all the children/ grandchildren? I'd like to get them all together so I can order them by date. 

",django,django-models,django-queryset,django-query,,,open,0,86,7,"Django queryset to get children and grandchildren I have a django model that refers to it's self (in a parent-child-grandchild relationship).

I'm trying to perform a query that will return all the child and grandchild instances of a particular parent. 

So for example:

    class Post(models.Model):
        parent = models.ForeignKey('self', null=True, related_name=""children"")


This relationship goes 3 levels deep - What's the best way to get a queryset with all the children/ grandchildren? I'd like to get them all together so I can order them by date. 

",4
508609,02/03/2009 19:45:25,12828,09/16/2008 15:50:32,718,20,Why does Django only serve files containing a space?,"I'm writing a basic Django application. For testing / development purposes I'm trying to serve the static content of the website using Django's development server as per [http://docs.djangoproject.com/en/dev/howto/static-files/#howto-static-files][1].

My urls.py contains:

        (r'^admin/(.*)', admin.site.root),
        
        (r'^(?P<page_name>\S*)$', 'Blah.content.views.index'),
        
        (r'^static/(?P<path>.*)$', 'django.views.static.serve',
            {'document_root': 'C:/Users/My User/workspace/Blah/media',
             'show_indexes': True})

However, when I try to access a file such as http://localhost:8000/static/images/Logo.jpg Django gives me a 404 error claiming that ""No Page matches the given query.""

When I try to access a file such as http://localhost:8000/static/images/Blah%20Logo.jpg it serves the file!

What's going on?

  [1]: http://docs.djangoproject.com/en/dev/howto/static-files/#howto-static-files
",django,python,,,,,open,0,143,9,"Why does Django only serve files containing a space? I'm writing a basic Django application. For testing / development purposes I'm trying to serve the static content of the website using Django's development server as per [http://docs.djangoproject.com/en/dev/howto/static-files/#howto-static-files][1].

My urls.py contains:

        (r'^admin/(.*)', admin.site.root),
        
        (r'^(?P<page_name>\S*)$', 'Blah.content.views.index'),
        
        (r'^static/(?P<path>.*)$', 'django.views.static.serve',
            {'document_root': 'C:/Users/My User/workspace/Blah/media',
             'show_indexes': True})

However, when I try to access a file such as http://localhost:8000/static/images/Logo.jpg Django gives me a 404 error claiming that ""No Page matches the given query.""

When I try to access a file such as http://localhost:8000/static/images/Blah%20Logo.jpg it serves the file!

What's going on?

  [1]: http://docs.djangoproject.com/en/dev/howto/static-files/#howto-static-files
",2
5244735,03/09/2011 10:55:28,445826,09/12/2010 22:33:56,418,25,Urls not working while integrating custom application with django-cms,"I'm trying to integrate an django application with django-cms. I'm using the basic ""Poll"" application as mentioned in basic Django tutorial and following guidelines over <a href=""http://readthedocs.org/docs/django-cms/en/2.1.3/extending_cms/extending_examples.html#my-first-app-apphook"">here</a>. 

Now I can integrate the application and can view the ""poll"" page. But when I press 'submit', the django-cms gives me error

**""CMS: Page not found for ""polls/1/vote""**

Update: If I add following line to main urls.py, everything works fine. 

    (r'^polls/', include('polls.urls')),

But this is usually discouraged in django and django-cms. Is there a way out?
",django,django-models,django-cms,,,,open,0,84,9,"Urls not working while integrating custom application with django-cms I'm trying to integrate an django application with django-cms. I'm using the basic ""Poll"" application as mentioned in basic Django tutorial and following guidelines over <a href=""http://readthedocs.org/docs/django-cms/en/2.1.3/extending_cms/extending_examples.html#my-first-app-apphook"">here</a>. 

Now I can integrate the application and can view the ""poll"" page. But when I press 'submit', the django-cms gives me error

**""CMS: Page not found for ""polls/1/vote""**

Update: If I add following line to main urls.py, everything works fine. 

    (r'^polls/', include('polls.urls')),

But this is usually discouraged in django and django-cms. Is there a way out?
",3
6411297,06/20/2011 12:41:22,430858,08/25/2010 15:09:48,95,6,Django1.2 rss feed descriptions and dates,"The docs state all you all to do is define the description and date. This does not work. the descriptions and and dates are not output in the feed. Only the title. Does anyone know how to output the description and date? all help is greatly appreciated. 

    class NewsFeed(Feed):
        title = ""whatever""
        link = ""Whatever""
        description = ""myfeed""
    
        def items(self):
            return News.objects.all().order_by('-postdate')[:5]
    
        def item_title(self, item):
            return item.title
    
        def item_description(self, item):
            return item.summary
    
        def item_pubdate(self, item):
            return item.postdate
    
    class News(models.Model):
        title = whatever.....
        url = whatever......
        postdate = models.DateField(default=date.today)
        summary = models.TextField(help_text=""helptext"")

To me this should work, however dates/descriptions are not output?",django,django-models,rss,,,,open,0,248,6,"Django1.2 rss feed descriptions and dates The docs state all you all to do is define the description and date. This does not work. the descriptions and and dates are not output in the feed. Only the title. Does anyone know how to output the description and date? all help is greatly appreciated. 

    class NewsFeed(Feed):
        title = ""whatever""
        link = ""Whatever""
        description = ""myfeed""
    
        def items(self):
            return News.objects.all().order_by('-postdate')[:5]
    
        def item_title(self, item):
            return item.title
    
        def item_description(self, item):
            return item.summary
    
        def item_pubdate(self, item):
            return item.postdate
    
    class News(models.Model):
        title = whatever.....
        url = whatever......
        postdate = models.DateField(default=date.today)
        summary = models.TextField(help_text=""helptext"")

To me this should work, however dates/descriptions are not output?",3
6158603,05/27/2011 23:27:54,454520,09/21/2010 23:41:50,23,0,Django select_related () does not return primary key id,"When I query the database using select_related.get() the object returned does not seem to have the primary or foreign key id. I am able to access all other data from the table and the related tables. However, I am able to fetch the primary key when I use all() method but not the records from the related tables.

I am trying to fetch all the records from a table including the related tables. How can do this? select_related().all() doesn't seem to work.",django,django-select-related,,,,,open,0,81,9,"Django select_related () does not return primary key id When I query the database using select_related.get() the object returned does not seem to have the primary or foreign key id. I am able to access all other data from the table and the related tables. However, I am able to fetch the primary key when I use all() method but not the records from the related tables.

I am trying to fetch all the records from a table including the related tables. How can do this? select_related().all() doesn't seem to work.",2
9738995,03/16/2012 14:20:58,837816,07/10/2011 17:24:53,53,7,Django admin with multiple inlines of the same model,"I'm having a problem with prefixes of StackedInlines in admin interface. I'll try to post all the necesary code.

**models.py (brief)**

    ##### Base classes

    class BaseItem(models.Model):
        pass

    class BaseProvider(PolymorphicModel):
       items = models.ManyToManyField(BaseItem, through=""ItemProvided"")

    class ItemProvided(models.Model):
        item = models.ForeignKey(BaseItem)
        provider = models.ForeignKey(BaseProvider)
        price = models.IntegerField()

    ##### Implementing ones

    class Hotel(BaseProvider):
        pass

    class Service(BaseItem):
        pass

    class Service(BaseItem):
        pass

This hierachy reads as follows: a hotel is a provider which can provide either rooms or services.

**admin.py (brief)**

    #### Creating admin.StackedInline for Rooms

    class RoomInlineFormSet(BaseInlineFormSet):
        def __init__(self, *args, **kwargs):
            kwargs.update({'prefix':'room'})
            super(RoomInlineFormSet, self).__init__(*args, **kwargs)

    class HotelRoomInline(admin.StackedInline):
        # This class also filters 'item' choiceField in order to have only ItemProvideds which are rooms
        model = ItemProvided
        formset = RoomInlineFormSet


    #### Creating admin.StackedInline for Services

    class ServiceInlineFormSet(BaseInlineFormSet):
        def __init__(self, *args, **kwargs):
            kwargs.update({'prefix':'service'})
            super(ServiceInlineFormSet, self).__init__(*args, **kwargs)

    class HotelServiceInline(admin.StackedInline):
        # This class also filters 'item' choiceField in order to have only ItemProvideds which are services
        model = ItemProvided
        formset = ServiceInlineFormSet


    #### Adding inlines to HotelAdmin and model to admin interface

    class HotelAdmin(admin.ModelAdmin):
        inlines = [
               HotelRoomInline,
               HotelServiceInline,
               ]

    admin.site.register(Hotel, HotelAdmin)


With this code I managed to get two separated StackedInlines in admin interface for Hotel model, each of them allowing to select only the proper subset of itemprovideds. Great.

**The problem:** if a have one itemprovided created, in the room's StackedInline, for example; both StackedInlines are populated with the data... prefixes are not well managed...

 - Is there anything wrong and obvious in the code I'm not seeing?
 - Is there any other good option two obtain the pretended layout in admin interface?
",django,django-forms,django-admin,,,,open,0,506,9,"Django admin with multiple inlines of the same model I'm having a problem with prefixes of StackedInlines in admin interface. I'll try to post all the necesary code.

**models.py (brief)**

    ##### Base classes

    class BaseItem(models.Model):
        pass

    class BaseProvider(PolymorphicModel):
       items = models.ManyToManyField(BaseItem, through=""ItemProvided"")

    class ItemProvided(models.Model):
        item = models.ForeignKey(BaseItem)
        provider = models.ForeignKey(BaseProvider)
        price = models.IntegerField()

    ##### Implementing ones

    class Hotel(BaseProvider):
        pass

    class Service(BaseItem):
        pass

    class Service(BaseItem):
        pass

This hierachy reads as follows: a hotel is a provider which can provide either rooms or services.

**admin.py (brief)**

    #### Creating admin.StackedInline for Rooms

    class RoomInlineFormSet(BaseInlineFormSet):
        def __init__(self, *args, **kwargs):
            kwargs.update({'prefix':'room'})
            super(RoomInlineFormSet, self).__init__(*args, **kwargs)

    class HotelRoomInline(admin.StackedInline):
        # This class also filters 'item' choiceField in order to have only ItemProvideds which are rooms
        model = ItemProvided
        formset = RoomInlineFormSet


    #### Creating admin.StackedInline for Services

    class ServiceInlineFormSet(BaseInlineFormSet):
        def __init__(self, *args, **kwargs):
            kwargs.update({'prefix':'service'})
            super(ServiceInlineFormSet, self).__init__(*args, **kwargs)

    class HotelServiceInline(admin.StackedInline):
        # This class also filters 'item' choiceField in order to have only ItemProvideds which are services
        model = ItemProvided
        formset = ServiceInlineFormSet


    #### Adding inlines to HotelAdmin and model to admin interface

    class HotelAdmin(admin.ModelAdmin):
        inlines = [
               HotelRoomInline,
               HotelServiceInline,
               ]

    admin.site.register(Hotel, HotelAdmin)


With this code I managed to get two separated StackedInlines in admin interface for Hotel model, each of them allowing to select only the proper subset of itemprovideds. Great.

**The problem:** if a have one itemprovided created, in the room's StackedInline, for example; both StackedInlines are populated with the data... prefixes are not well managed...

 - Is there anything wrong and obvious in the code I'm not seeing?
 - Is there any other good option two obtain the pretended layout in admin interface?
",3
2350681,02/28/2010 09:52:35,283032,02/28/2010 09:52:08,1,0,Django LowerCaseCharField,"We implemented a LowerCaseCharField. We would be happy to hear better implementation suggestions.

    from django.db.models.fields import CharField

    class LowerCaseCharField(CharField):
        """"""
        Defines a charfield which automatically converts all inputs to
        lowercase and saves.
        """"""

        def pre_save(self, model_instance, add):
            """"""
            Converts the string to lowercase before saving.
            """"""
            current_value = getattr(model_instance, self.attname)
            setattr(model_instance, self.attname, current_value.lower())
            return getattr(model_instance, self.attname)

In fact we love to have is:

    > modelinstance.field_name=""TEST""
    > print modelinstance.field_name
    'test'

current implementation only converts to lowercase when it is saved.
",django,python,lowercase,,,,open,0,193,2,"Django LowerCaseCharField We implemented a LowerCaseCharField. We would be happy to hear better implementation suggestions.

    from django.db.models.fields import CharField

    class LowerCaseCharField(CharField):
        """"""
        Defines a charfield which automatically converts all inputs to
        lowercase and saves.
        """"""

        def pre_save(self, model_instance, add):
            """"""
            Converts the string to lowercase before saving.
            """"""
            current_value = getattr(model_instance, self.attname)
            setattr(model_instance, self.attname, current_value.lower())
            return getattr(model_instance, self.attname)

In fact we love to have is:

    > modelinstance.field_name=""TEST""
    > print modelinstance.field_name
    'test'

current implementation only converts to lowercase when it is saved.
",3
10366659,04/28/2012 19:08:09,1355158,04/25/2012 03:14:41,3,0,django shopping cart promo code,"I am attempting to create a promo code for a shopping cart that I already have. I want it to be simple, such as typing 100off to get $100 off, I am getting a error saying ""global name 'PromoCode' is not defined"" Please help me figure out where I am going wrong, I am also unaware of what to put in my template, thanks in advance!

models.py

    class PromoCode(ModelForm):
            code = models.FloatField(max_length=15)
            discount = models.FloatField(max_length=15)

views.py

    def addtocart(request, prod_id):
            if (request.method == 'POST'):
                    form = CartForm(request.POST)
                    if form.is_valid():
                            newComment = form.save()
                            newComment.session = request.session.session_key[:20]
                            newComment.save()
                            return HttpResponseRedirect('/products/' + str(newComment.product.id))
            else:
                    form = CartForm( {'name':'Your Name', 'session':'message', 'product':prod_id} )
    
            return render_to_response('Products/comment.html', {'form': form, 'prod_id': prod_id})
    
    def delItem(request, prod_id):
            addtocart = get_object_or_404(Cart, pk = prod_id)
            prod_id = addtocart.product.id
            addtocart.delete()
            return HttpResponseRedirect('/userHistory/')
    
    
        def userHistory(request):
                promo = PromoCode.objects.filter(code = code_from_the_form)
                userCart = Cart.objects.filter(session = request.session.session_key[:20])
                totalCost = 0
                for item in userCart:
                        print item
                        totalCost += item.quantity * item.product.prodPrice * 1.06
                return render_to_response('Products/history.html', {'userCart':userCart, 'totalCost' : totalCost})

",django,shopping-cart,promotion-code,,,04/30/2012 14:33:47,off topic,1,578,5,"django shopping cart promo code I am attempting to create a promo code for a shopping cart that I already have. I want it to be simple, such as typing 100off to get $100 off, I am getting a error saying ""global name 'PromoCode' is not defined"" Please help me figure out where I am going wrong, I am also unaware of what to put in my template, thanks in advance!

models.py

    class PromoCode(ModelForm):
            code = models.FloatField(max_length=15)
            discount = models.FloatField(max_length=15)

views.py

    def addtocart(request, prod_id):
            if (request.method == 'POST'):
                    form = CartForm(request.POST)
                    if form.is_valid():
                            newComment = form.save()
                            newComment.session = request.session.session_key[:20]
                            newComment.save()
                            return HttpResponseRedirect('/products/' + str(newComment.product.id))
            else:
                    form = CartForm( {'name':'Your Name', 'session':'message', 'product':prod_id} )
    
            return render_to_response('Products/comment.html', {'form': form, 'prod_id': prod_id})
    
    def delItem(request, prod_id):
            addtocart = get_object_or_404(Cart, pk = prod_id)
            prod_id = addtocart.product.id
            addtocart.delete()
            return HttpResponseRedirect('/userHistory/')
    
    
        def userHistory(request):
                promo = PromoCode.objects.filter(code = code_from_the_form)
                userCart = Cart.objects.filter(session = request.session.session_key[:20])
                totalCost = 0
                for item in userCart:
                        print item
                        totalCost += item.quantity * item.product.prodPrice * 1.06
                return render_to_response('Products/history.html', {'userCart':userCart, 'totalCost' : totalCost})

",3
9675357,03/12/2012 21:54:05,382971,07/04/2010 06:11:08,13,0,Django - custom admin action,"I've got model

    class Book(models.Model):
        ...
        accepted = models.BooleanField()

and admin

    class BookAdmin(admin.ModelAdmin):
        list_display = ('__unicode__', 'accepted')
        actions = ('change_accepted',)
    
        def change_accepted(self, request, queryset):
                queryset.update(accepted=True)

This create custom action from *scrollable action menu*. I've need something like this: http://www.theotherblog.com/wp-content/uploads/2009/06/django_admin.jpg (last column). I mean - action from list_display. Is it possible?

Sorry for my english.",django,admin,,,,,open,0,111,5,"Django - custom admin action I've got model

    class Book(models.Model):
        ...
        accepted = models.BooleanField()

and admin

    class BookAdmin(admin.ModelAdmin):
        list_display = ('__unicode__', 'accepted')
        actions = ('change_accepted',)
    
        def change_accepted(self, request, queryset):
                queryset.update(accepted=True)

This create custom action from *scrollable action menu*. I've need something like this: http://www.theotherblog.com/wp-content/uploads/2009/06/django_admin.jpg (last column). I mean - action from list_display. Is it possible?

Sorry for my english.",2
10083334,04/10/2012 05:05:10,1150923,01/15/2012 21:55:01,704,13,Why does Dajaxice and Dajax uses MEDIAL_URL?,"In Dajaxice's [installation documentation](http://docs.dajaxproject.com/dajaxice/installation.html), it says to set `DAJAXICE_MEDIA_PREFIX` in `settings.py`. Later that value is retrieved in the `urls.py`.

In Dajax's [installation documentation](https://github.com/jorgebastida/django-dajax/wiki/installation) (which is 2 years old), it says to load the *static* file like this:

    <script src=""{{ MEDIA_URL }}/js/prototype.dajax.core.js.js"" type=""text/javascript"" charset=""utf-8""></script>

Why is it using `MEDIA_URL`? Shouldn't it be using `STATIC_URL` since `js`, `css`, and `img` files should be `STATIC`?",django,django-staticfiles,django-media,dajaxice,,,open,0,63,7,"Why does Dajaxice and Dajax uses MEDIAL_URL? In Dajaxice's [installation documentation](http://docs.dajaxproject.com/dajaxice/installation.html), it says to set `DAJAXICE_MEDIA_PREFIX` in `settings.py`. Later that value is retrieved in the `urls.py`.

In Dajax's [installation documentation](https://github.com/jorgebastida/django-dajax/wiki/installation) (which is 2 years old), it says to load the *static* file like this:

    <script src=""{{ MEDIA_URL }}/js/prototype.dajax.core.js.js"" type=""text/javascript"" charset=""utf-8""></script>

Why is it using `MEDIA_URL`? Shouldn't it be using `STATIC_URL` since `js`, `css`, and `img` files should be `STATIC`?",4
11653236,07/25/2012 15:27:41,1516286,07/10/2012 23:58:26,34,2,How to let user choose which table needs to be updated Django,"I have a form in my website, which is the same for three tables (Homework, Class, Random)
So basically I want to make a ChoiceField on the top of the form, to let user choose where to upload file.

I was thinking, because these tables have common abstract class, may be I can choose it from there somehow. But can not figure out how.

Or may be there is much better solution for this.

just in case this is my code:

    #models.py
    class FileDescription(models.Model):
        
        class Meta:
            abstract = True;
            ordering = ['file_creation_time']
            
        subject = models.ForeignKey('Subjects', null=True, blank=True, primary_key=True)
        subject_name = models.CharField(max_length=100)
        file_uploaded_by = models.CharField(max_length=100)
        file_name = models.CharField(max_length=100)
        file_description = models.TextField()
        file_creation_time = models.DateTimeField(auto_now_add=True)
        
        def __unicode__(self):
            return u'%s' % (self.file_name)

    #template
    <ul id=""tabs"">
    		<li><a href=""#homework"">Homework</a></li>
    		<li><a href=""#class-papers"">Class Papers</a></li>
    		<li><a href=""#random-papers"">Random Papers</a></li>
    	</ul>
    	
    	<div id=""homework"" class=""tab-section"">
    		<h2>Homework</h2>
    		<p>This section contains Homework</p>
    		
    			{% if homework_files %}
    				<ul>
    					{% for file in homework_files %}
    						<li>{{ file.file_name }}
    					{% endfor %}
    				</ul>
    			{% endif %}
    	</div>

    #forms.py
    class Homework_Content_Form(forms.ModelForm):
        class Meta:
            model=Homework_Content
            exclude=('subject', 
                     'subject_name',
                     'file_creation_time',
                     'file_uploaded_by',
                     )",django,django-models,django-forms,django-templates,,,open,0,466,12,"How to let user choose which table needs to be updated Django I have a form in my website, which is the same for three tables (Homework, Class, Random)
So basically I want to make a ChoiceField on the top of the form, to let user choose where to upload file.

I was thinking, because these tables have common abstract class, may be I can choose it from there somehow. But can not figure out how.

Or may be there is much better solution for this.

just in case this is my code:

    #models.py
    class FileDescription(models.Model):
        
        class Meta:
            abstract = True;
            ordering = ['file_creation_time']
            
        subject = models.ForeignKey('Subjects', null=True, blank=True, primary_key=True)
        subject_name = models.CharField(max_length=100)
        file_uploaded_by = models.CharField(max_length=100)
        file_name = models.CharField(max_length=100)
        file_description = models.TextField()
        file_creation_time = models.DateTimeField(auto_now_add=True)
        
        def __unicode__(self):
            return u'%s' % (self.file_name)

    #template
    <ul id=""tabs"">
    		<li><a href=""#homework"">Homework</a></li>
    		<li><a href=""#class-papers"">Class Papers</a></li>
    		<li><a href=""#random-papers"">Random Papers</a></li>
    	</ul>
    	
    	<div id=""homework"" class=""tab-section"">
    		<h2>Homework</h2>
    		<p>This section contains Homework</p>
    		
    			{% if homework_files %}
    				<ul>
    					{% for file in homework_files %}
    						<li>{{ file.file_name }}
    					{% endfor %}
    				</ul>
    			{% endif %}
    	</div>

    #forms.py
    class Homework_Content_Form(forms.ModelForm):
        class Meta:
            model=Homework_Content
            exclude=('subject', 
                     'subject_name',
                     'file_creation_time',
                     'file_uploaded_by',
                     )",4
2203295,02/04/2010 21:18:54,36680,11/11/2008 19:51:55,841,16,"Subdomain not included in the ""?next="" for Django auth login?","I have a login required page at:
<pre>
http://site1.example.com/widget/52312
</pre>

If I email someone that link for them to click on, they get sent to the Login prompt.  But after they login they end up going to http://exmaple.com/widget/52312.  How do you keep the subdomain in the site preserved when a user gets prompted through a login process?",django,django-authentication,,,,,open,0,55,10,"Subdomain not included in the ""?next="" for Django auth login? I have a login required page at:
<pre>
http://site1.example.com/widget/52312
</pre>

If I email someone that link for them to click on, they get sent to the Login prompt.  But after they login they end up going to http://exmaple.com/widget/52312.  How do you keep the subdomain in the site preserved when a user gets prompted through a login process?",2
8076935,11/10/2011 08:52:28,29347,10/19/2008 06:43:21,906,31,Referer checking failed - http://localhost:8000/admin/ does not match https://localhost:8000/,"> Referer checking failed - http://localhost:8000/admin/ does not match https://localhost:8000/.

I'm getting Forbidden when using runserver and connecting to localhost for no apparent reason. Any idea why?

",django,,,,,,open,0,26,9,"Referer checking failed - http://localhost:8000/admin/ does not match https://localhost:8000/ > Referer checking failed - http://localhost:8000/admin/ does not match https://localhost:8000/.

I'm getting Forbidden when using runserver and connecting to localhost for no apparent reason. Any idea why?

",1
6415022,06/20/2011 17:22:51,36191,11/10/2008 13:58:37,233,6,Lots of socket errors with celery eventlet tasks,"I'm getting a lot of ""IOError: Socket closed"" exceptions from amqplib.client_0_8.method_framing.read_method when running my celery workers with the --pool=eventlet option. I'm also seeing a lot of timeout exceptions from  eventlet.hubs.hub.switch.

I'm using an async_manage.py script similar to the one at https://gist.github.com/821848, running the works like:

    ./async_manage.py celeryd_detach -E --pool=eventlet --concurrency=120 --logfile=<path>

Is this a known issue, or is there something wrong with my configuration or setup?

I'm running djcelery 2.2.4, Django 1.3, and eventlet 0.9.15.",django,celery,django-celery,eventlet,,,open,0,76,8,"Lots of socket errors with celery eventlet tasks I'm getting a lot of ""IOError: Socket closed"" exceptions from amqplib.client_0_8.method_framing.read_method when running my celery workers with the --pool=eventlet option. I'm also seeing a lot of timeout exceptions from  eventlet.hubs.hub.switch.

I'm using an async_manage.py script similar to the one at https://gist.github.com/821848, running the works like:

    ./async_manage.py celeryd_detach -E --pool=eventlet --concurrency=120 --logfile=<path>

Is this a known issue, or is there something wrong with my configuration or setup?

I'm running djcelery 2.2.4, Django 1.3, and eventlet 0.9.15.",4
3268001,07/16/2010 18:57:06,394202,07/16/2010 18:29:37,1,0,"geoDjango - coercing to Unicode: need string or buffer, LineString found","I'm running a Django installation with geoDjango, and have created a model like this:

<pre>#models.py
from django.contrib.gis.db import models

class Route(models.Model):
	name = models.CharField(max_length=100)

	path = models.LineStringField(srid=4326)
	objects = models.GeoManager()
	
	def __unicode__(self):
		return str(self.path)
</pre>

This worked, and I was able to create linestring objects, within terminal, and admittedly I never got them to really show, but that was more with my displaying not being fully finished yet. 

But then I saw a screencast, although from 2008, with the geodjango creator - bronn, where he got an openlayer open street map inteface on the admin page, and I followed his instructions adding an admin.py with an OSMGeoAdmin ending up like this:

<pre>#admin.py
from django.contrib.gis import admin
from myproject.georoute.models import Route


class RouteAdmin(admin.OSMGeoAdmin):
	search_fields = ('name',)

admin.site.register(Route, RouteAdmin)
</pre>

This is also working fine - I get a map on which I can draw a linestring, but when i try to save it - or if I have a Route object already created and try to view the Route list on adminpage - I get an error. More specifically *""coercing to Unicode: need string or buffer, LineString found""* and from what I understand this comes from trying to unicode a object that doesn't have a __ unicode__ function(or something like this).

So I checked the linestring object definition and there was no unicode function so I did a feeble attempt of adding one, with no luck.

So here I am, stumped. Anyone knows how I may solve this problem?",django,error-message,geodjango,,,,open,0,228,11,"geoDjango - coercing to Unicode: need string or buffer, LineString found I'm running a Django installation with geoDjango, and have created a model like this:

<pre>#models.py
from django.contrib.gis.db import models

class Route(models.Model):
	name = models.CharField(max_length=100)

	path = models.LineStringField(srid=4326)
	objects = models.GeoManager()
	
	def __unicode__(self):
		return str(self.path)
</pre>

This worked, and I was able to create linestring objects, within terminal, and admittedly I never got them to really show, but that was more with my displaying not being fully finished yet. 

But then I saw a screencast, although from 2008, with the geodjango creator - bronn, where he got an openlayer open street map inteface on the admin page, and I followed his instructions adding an admin.py with an OSMGeoAdmin ending up like this:

<pre>#admin.py
from django.contrib.gis import admin
from myproject.georoute.models import Route


class RouteAdmin(admin.OSMGeoAdmin):
	search_fields = ('name',)

admin.site.register(Route, RouteAdmin)
</pre>

This is also working fine - I get a map on which I can draw a linestring, but when i try to save it - or if I have a Route object already created and try to view the Route list on adminpage - I get an error. More specifically *""coercing to Unicode: need string or buffer, LineString found""* and from what I understand this comes from trying to unicode a object that doesn't have a __ unicode__ function(or something like this).

So I checked the linestring object definition and there was no unicode function so I did a feeble attempt of adding one, with no luck.

So here I am, stumped. Anyone knows how I may solve this problem?",3
9463532,02/27/2012 10:34:26,1235327,02/27/2012 10:24:47,1,0,Applying django evolution to multiple databases with reference to a base database,"I have a django model which i would call as base model. I have created a project which dynamically creates new databases. Now, i found that i have to make a change to a table schema in the base table. How do i update this change to all the created databases?. 
",django,,,,,,open,0,52,12,"Applying django evolution to multiple databases with reference to a base database I have a django model which i would call as base model. I have created a project which dynamically creates new databases. Now, i found that i have to make a change to a table schema in the base table. How do i update this change to all the created databases?. 
",1
4793292,01/25/2011 12:09:38,287923,03/06/2010 20:48:13,98,2,Django: parametrizing db_table for inheritance,"I want to set the `db_table` Meta class attribute in a base class so that all inherited classes will have their names in it, similar to how Django treats `related_name` model field attribute:

    class BaseModel(models.Model):
        class Meta:
            db_table = 'prefix_%(class)s'

So the inherited model:

    class SubModel(BaseModel):
        pass

will have db table `prefix_submodel`.

Is that possible? Can the Meta class access the inheriting class' model name?
",django,inheritance,metaclass,,,,open,0,93,5,"Django: parametrizing db_table for inheritance I want to set the `db_table` Meta class attribute in a base class so that all inherited classes will have their names in it, similar to how Django treats `related_name` model field attribute:

    class BaseModel(models.Model):
        class Meta:
            db_table = 'prefix_%(class)s'

So the inherited model:

    class SubModel(BaseModel):
        pass

will have db table `prefix_submodel`.

Is that possible? Can the Meta class access the inheriting class' model name?
",3
3416361,08/05/2010 15:32:16,283739,04/02/2009 23:16:43,3375,135,What to do when a user logs out of Facebook but is still logged-in on my site,"I have a website which users can sign up to using Facebook Connect (with the new OAuth 2.0 stuff). Now when a user logs out of *Facebook* they remain logged-in on *my site*.

I'm not using the JavaScript SDK as I don't like the ""magic behind the curtains"". So what should I do when a user logs out of Facebook? Should I care at all? I get the feeling I should try to catch this somehow and log them out of my site as well.

I'm using Django with a custom authentication backend for this.",django,facebook,facebook-connect,,,,open,0,93,17,"What to do when a user logs out of Facebook but is still logged-in on my site I have a website which users can sign up to using Facebook Connect (with the new OAuth 2.0 stuff). Now when a user logs out of *Facebook* they remain logged-in on *my site*.

I'm not using the JavaScript SDK as I don't like the ""magic behind the curtains"". So what should I do when a user logs out of Facebook? Should I care at all? I get the feeling I should try to catch this somehow and log them out of my site as well.

I'm using Django with a custom authentication backend for this.",3
4265366,11/24/2010 09:44:13,507828,11/15/2010 04:28:58,1,2,django please look at the Index Error i am getting ,"Environment:

Request Method: GET
Request URL: http://127.0.0.1:8000/institutes_admin/
Django Version: 1.1.1
Python Version: 2.6.5
Installed Applications:
['django.contrib.auth',
 'django.contrib.admin',
 'django.contrib.contenttypes',
 'django.contrib.markup',
 'django.contrib.sessions',
 'django.contrib.sites',
 'django.contrib.comments',
 'mysite.registration',
 'mysite.profiles',
 'mysite.epw',
 'mysite.remember_me',
 'mysite.avatar',
 'mysite.django_documents',
 'mysite.inlines',
 'mysite.blog',
 'mysite.forum',
 'tagging']
Installed Middleware:
('django.middleware.cache.UpdateCacheMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.cache.FetchFromCacheMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'mysite.remember_me.views.AutoLogout')


Traceback:
File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"" in get_response
  92.                 response = callback(request, *callback_args, **callback_kwargs)
File ""/usr/lib/pymodules/python2.6/django/utils/decorators.py"" in _wrapped_view
  48.                 response = view_func(request, *args, **kwargs)
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in institutional_ip_admin
  614. 		arranged_list = arrange_ips(chk_exist_obj)
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in arrange_ips
  582. 				total_value += (map_range(institute_obj, index), )
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in map_range
  558. 		ip_value = ip_list_read(institute_obj, list_value, index)
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in ip_list_read
  548. 		ip_value.append(str(object_persistance(getattr(institute_obj, list_value + str(i)))[index-1]))

Exception Type: IndexError at /institutes_admin/
Exception Value: list index out of range
",django,,,,,,open,0,131,11,"django please look at the Index Error i am getting  Environment:

Request Method: GET
Request URL: http://127.0.0.1:8000/institutes_admin/
Django Version: 1.1.1
Python Version: 2.6.5
Installed Applications:
['django.contrib.auth',
 'django.contrib.admin',
 'django.contrib.contenttypes',
 'django.contrib.markup',
 'django.contrib.sessions',
 'django.contrib.sites',
 'django.contrib.comments',
 'mysite.registration',
 'mysite.profiles',
 'mysite.epw',
 'mysite.remember_me',
 'mysite.avatar',
 'mysite.django_documents',
 'mysite.inlines',
 'mysite.blog',
 'mysite.forum',
 'tagging']
Installed Middleware:
('django.middleware.cache.UpdateCacheMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.cache.FetchFromCacheMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'mysite.remember_me.views.AutoLogout')


Traceback:
File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"" in get_response
  92.                 response = callback(request, *callback_args, **callback_kwargs)
File ""/usr/lib/pymodules/python2.6/django/utils/decorators.py"" in _wrapped_view
  48.                 response = view_func(request, *args, **kwargs)
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in institutional_ip_admin
  614. 		arranged_list = arrange_ips(chk_exist_obj)
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in arrange_ips
  582. 				total_value += (map_range(institute_obj, index), )
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in map_range
  558. 		ip_value = ip_list_read(institute_obj, list_value, index)
File ""/home/karthik/Desktop/mysite/../mysite/epw/admin_views.py"" in ip_list_read
  548. 		ip_value.append(str(object_persistance(getattr(institute_obj, list_value + str(i)))[index-1]))

Exception Type: IndexError at /institutes_admin/
Exception Value: list index out of range
",1
11092089,06/18/2012 22:36:57,544326,12/16/2010 05:40:02,24,5,Django WSGI Application SegFault,"so i'm getting segfaults with my django wsgi application in mod_wsgi via apache 2.22

here's the wsgi app:

    import os
    import sys
     
    sys.path.append('/home/***.com/zpencerq')
    sys.path.append('/home/***.com/zpencerq/part')
     
    os.environ['DJANGO_SETTINGS_MODULE'] = 'part.settings'
     
    import django.core.handlers.wsgi
    application = django.core.handlers.wsgi.WSGIHandler()

here's the error from the logs:

    [Mon Jun 18 18:13:39 2012] [info] mod_wsgi (pid=78535): Create interpreter 'www.***.com|'.
    [Mon Jun 18 18:13:39 2012] [info] [client 128.227.57.184] mod_wsgi (pid=78535, process='***', application='www.***.com|'): Loading WSGI script '/usr/home/***.com/zpencerq/part/apache/django.wsgi'.
    [Mon Jun 18 18:13:39 2012] [error] [client 128.227.57.184] Premature end of script headers: django.wsgi
    [Mon Jun 18 18:13:40 2012] [notice] child pid 78535 exit signal Segmentation fault (11)

here's the library references of mod_wsgi:

    root@seese# ldd /usr/local/apache/modules/mod_wsgi.so
    /usr/local/apache/modules/mod_wsgi.so:
            libpython2.7.so.1 => /usr/local/lib/libpython2.7.so.1 (0x28300000)
            libutil.so.7 => /lib/libutil.so.7 (0x2819f000)
            libm.so.5 => /lib/libm.so.5 (0x281ac000)
            libc.so.7 => /lib/libc.so.7 (0x28080000)
            libthr.so.3 => /lib/libthr.so.3 (0x281c1000)

here are the loaded modules:


    Loaded Modules:
     core_module (static)
     authn_file_module (static)
     authn_default_module (static)
     authz_host_module (static)
     authz_groupfile_module (static)
     authz_user_module (static)
     authz_default_module (static)
     auth_basic_module (static)
     include_module (static)
     filter_module (static)
     deflate_module (static)
     log_config_module (static)
     env_module (static)
     setenvif_module (static)
     version_module (static)
     mpm_prefork_module (static)
     http_module (static)
     mime_module (static)
     status_module (static)
     autoindex_module (static)
     asis_module (static)
     suexec_module (static)
     cgi_module (static)
     negotiation_module (static)
     dir_module (static)
     actions_module (static)
     userdir_module (static)
     alias_module (static)
     so_module (static)
     php5_module (shared)
     wsgi_module (shared)
    Syntax OK

here are the compiled in modules:

    root@seese# httpd -l
    Compiled in modules:
      core.c
      mod_authn_file.c
      mod_authn_default.c
      mod_authz_host.c
      mod_authz_groupfile.c
      mod_authz_user.c
      mod_authz_default.c
      mod_auth_basic.c
      mod_include.c
      mod_filter.c
      mod_deflate.c
      mod_log_config.c
      mod_env.c
      mod_setenvif.c
      mod_version.c
      prefork.c
      http_core.c
      mod_mime.c
      mod_status.c
      mod_autoindex.c
      mod_asis.c
      mod_suexec.c
      mod_cgi.c
      mod_negotiation.c
      mod_dir.c
      mod_actions.c
      mod_userdir.c
      mod_alias.c
      mod_so.c

here are some python goodies:

    root@seese# ls -l /usr/local/bin/python*
    lrwxr-xr-x  1 root  wheel     7 Jun 17 13:30 /usr/local/bin/python -> python2
    lrwxr-xr-x  1 root  wheel    14 Jun 17 13:30 /usr/local/bin/python-config -> python2-config
    -r-xr-xr-x  1 root  wheel  3420 Mar  6 01:22 /usr/local/bin/python-shared2.7
    -r-xr-xr-x  1 root  wheel  1631 Mar  6 01:22 /usr/local/bin/python-shared2.7-config
    lrwxr-xr-x  1 root  wheel     9 Jun 17 13:30 /usr/local/bin/python2 -> python2.7
    lrwxr-xr-x  1 root  wheel    16 Jun 17 13:30 /usr/local/bin/python2-config -> python2.7-config
    -rwxr-xr-x  1 root  wheel  8084 Jun 17 13:30 /usr/local/bin/python2.7
    -rwxr-xr-x  1 root  wheel  1624 Jun 17 13:30 /usr/local/bin/python2.7-config

i've been at this for a very long time haha, and very frustrated with the many headaches that came along the way. if someone (perhaps graham dumpleton!) could help me out that would be amazing",django,apache,segmentation-fault,python-2.7,mod-wsgi,,open,0,805,4,"Django WSGI Application SegFault so i'm getting segfaults with my django wsgi application in mod_wsgi via apache 2.22

here's the wsgi app:

    import os
    import sys
     
    sys.path.append('/home/***.com/zpencerq')
    sys.path.append('/home/***.com/zpencerq/part')
     
    os.environ['DJANGO_SETTINGS_MODULE'] = 'part.settings'
     
    import django.core.handlers.wsgi
    application = django.core.handlers.wsgi.WSGIHandler()

here's the error from the logs:

    [Mon Jun 18 18:13:39 2012] [info] mod_wsgi (pid=78535): Create interpreter 'www.***.com|'.
    [Mon Jun 18 18:13:39 2012] [info] [client 128.227.57.184] mod_wsgi (pid=78535, process='***', application='www.***.com|'): Loading WSGI script '/usr/home/***.com/zpencerq/part/apache/django.wsgi'.
    [Mon Jun 18 18:13:39 2012] [error] [client 128.227.57.184] Premature end of script headers: django.wsgi
    [Mon Jun 18 18:13:40 2012] [notice] child pid 78535 exit signal Segmentation fault (11)

here's the library references of mod_wsgi:

    root@seese# ldd /usr/local/apache/modules/mod_wsgi.so
    /usr/local/apache/modules/mod_wsgi.so:
            libpython2.7.so.1 => /usr/local/lib/libpython2.7.so.1 (0x28300000)
            libutil.so.7 => /lib/libutil.so.7 (0x2819f000)
            libm.so.5 => /lib/libm.so.5 (0x281ac000)
            libc.so.7 => /lib/libc.so.7 (0x28080000)
            libthr.so.3 => /lib/libthr.so.3 (0x281c1000)

here are the loaded modules:


    Loaded Modules:
     core_module (static)
     authn_file_module (static)
     authn_default_module (static)
     authz_host_module (static)
     authz_groupfile_module (static)
     authz_user_module (static)
     authz_default_module (static)
     auth_basic_module (static)
     include_module (static)
     filter_module (static)
     deflate_module (static)
     log_config_module (static)
     env_module (static)
     setenvif_module (static)
     version_module (static)
     mpm_prefork_module (static)
     http_module (static)
     mime_module (static)
     status_module (static)
     autoindex_module (static)
     asis_module (static)
     suexec_module (static)
     cgi_module (static)
     negotiation_module (static)
     dir_module (static)
     actions_module (static)
     userdir_module (static)
     alias_module (static)
     so_module (static)
     php5_module (shared)
     wsgi_module (shared)
    Syntax OK

here are the compiled in modules:

    root@seese# httpd -l
    Compiled in modules:
      core.c
      mod_authn_file.c
      mod_authn_default.c
      mod_authz_host.c
      mod_authz_groupfile.c
      mod_authz_user.c
      mod_authz_default.c
      mod_auth_basic.c
      mod_include.c
      mod_filter.c
      mod_deflate.c
      mod_log_config.c
      mod_env.c
      mod_setenvif.c
      mod_version.c
      prefork.c
      http_core.c
      mod_mime.c
      mod_status.c
      mod_autoindex.c
      mod_asis.c
      mod_suexec.c
      mod_cgi.c
      mod_negotiation.c
      mod_dir.c
      mod_actions.c
      mod_userdir.c
      mod_alias.c
      mod_so.c

here are some python goodies:

    root@seese# ls -l /usr/local/bin/python*
    lrwxr-xr-x  1 root  wheel     7 Jun 17 13:30 /usr/local/bin/python -> python2
    lrwxr-xr-x  1 root  wheel    14 Jun 17 13:30 /usr/local/bin/python-config -> python2-config
    -r-xr-xr-x  1 root  wheel  3420 Mar  6 01:22 /usr/local/bin/python-shared2.7
    -r-xr-xr-x  1 root  wheel  1631 Mar  6 01:22 /usr/local/bin/python-shared2.7-config
    lrwxr-xr-x  1 root  wheel     9 Jun 17 13:30 /usr/local/bin/python2 -> python2.7
    lrwxr-xr-x  1 root  wheel    16 Jun 17 13:30 /usr/local/bin/python2-config -> python2.7-config
    -rwxr-xr-x  1 root  wheel  8084 Jun 17 13:30 /usr/local/bin/python2.7
    -rwxr-xr-x  1 root  wheel  1624 Jun 17 13:30 /usr/local/bin/python2.7-config

i've been at this for a very long time haha, and very frustrated with the many headaches that came along the way. if someone (perhaps graham dumpleton!) could help me out that would be amazing",5
6970246,08/07/2011 02:02:30,790211,06/09/2011 03:36:16,19,1,How to import postgresql data into sqlite3 (django specific),"I would like to know how I can copy data from my production server (django+postresql) to my local dev servers (win7+sqlite3 + ubuntu+sqlite3).

My data is dumped in json format.",django,postgresql,sqlite3,,,,open,0,29,9,"How to import postgresql data into sqlite3 (django specific) I would like to know how I can copy data from my production server (django+postresql) to my local dev servers (win7+sqlite3 + ubuntu+sqlite3).

My data is dumped in json format.",3
1620692,10/25/2009 11:43:46,186153,10/08/2009 06:38:03,5,2,Django: Photologue does not show images in templates,"I am trying to install django-photologue. Everything seems ok, because I install and set up following the official guidelines. I have to upload some photos as examples. However, when viewing a photo or gallery details , then an error as follows:

    Caught an exception while rendering: 'Photo' object has no attribute 'get_thumbnail_url'

I tried to remove the following code from the file **photo_detail.html**

    {% if object.public_galleries %}
    <h2>This photo is found in the following galleries:</h2>
    <ol>
    {% for gallery in object.public_galleries %}
        <li>{%previous_in_gallery object gallery%} <a href=""{{ gallery.get_absolute_url }}"">{{ gallery.title }}</a> {%next_in_gallery object gallery%}</li>
    {% endfor %}
    </ol>
    {% endif %}

No more errors, but pictures do not show up. If you click on the link will still lead to correct photographs to see. I think the problem in:

    {{ object.get_display_url }}

It is totally not return any value.
Please help me solve this problem. Thanks!
",django,django-templates,photologue,,,,open,0,176,8,"Django: Photologue does not show images in templates I am trying to install django-photologue. Everything seems ok, because I install and set up following the official guidelines. I have to upload some photos as examples. However, when viewing a photo or gallery details , then an error as follows:

    Caught an exception while rendering: 'Photo' object has no attribute 'get_thumbnail_url'

I tried to remove the following code from the file **photo_detail.html**

    {% if object.public_galleries %}
    <h2>This photo is found in the following galleries:</h2>
    <ol>
    {% for gallery in object.public_galleries %}
        <li>{%previous_in_gallery object gallery%} <a href=""{{ gallery.get_absolute_url }}"">{{ gallery.title }}</a> {%next_in_gallery object gallery%}</li>
    {% endfor %}
    </ol>
    {% endif %}

No more errors, but pictures do not show up. If you click on the link will still lead to correct photographs to see. I think the problem in:

    {{ object.get_display_url }}

It is totally not return any value.
Please help me solve this problem. Thanks!
",3
4762585,01/21/2011 18:47:26,576333,01/14/2011 23:09:09,3,1,Can Django's ORM output the SQL query it is using?,"I am unable to find this in the docs, so hopefully someone can point them to me, if in fact, Django can do this.

I know that you can output the SQL to see tables that are created. Is it possible for Django to output the sql used for any query like:

    Protocols.objects.filter(active=False)

??",django,django-orm,,,,,open,0,55,10,"Can Django's ORM output the SQL query it is using? I am unable to find this in the docs, so hopefully someone can point them to me, if in fact, Django can do this.

I know that you can output the SQL to see tables that are created. Is it possible for Django to output the sql used for any query like:

    Protocols.objects.filter(active=False)

??",2
8535691,12/16/2011 14:38:37,294103,03/15/2010 16:27:10,672,30,Proper way to manage fixtures in django,"today I had a discussion with my colleguaes about how we should manage fixtures in our django application. We cound not find any solution that would satisfy everyone, so I'm asking this question here.

Suppose we have quite big django project with **dozen of applications** inside, each application has tests.py file with several TestClasses. Having this, how I should manage test data for all of these applications?
From my perpective, there is 2 different ways:

 1. Store all data in separate for each application **test_data.json** file. This file will contain test data for all models defined in the application's **models.py** file, irrespective of where this data is used (it can be used in tests from different application)
 2. Store some common data that would be probably required by all tests (like **auth.users**) in test_data.json and data for each **TestCase** in a separate **test_case.json** file.

From my perpective, second approach seems to be more cleaner, but I would like to know if somebody could tell me the concrete pros and cons of these approaches or may be suggest some other approach?",django,fixtures,django-fixtures,,,,open,0,177,7,"Proper way to manage fixtures in django today I had a discussion with my colleguaes about how we should manage fixtures in our django application. We cound not find any solution that would satisfy everyone, so I'm asking this question here.

Suppose we have quite big django project with **dozen of applications** inside, each application has tests.py file with several TestClasses. Having this, how I should manage test data for all of these applications?
From my perpective, there is 2 different ways:

 1. Store all data in separate for each application **test_data.json** file. This file will contain test data for all models defined in the application's **models.py** file, irrespective of where this data is used (it can be used in tests from different application)
 2. Store some common data that would be probably required by all tests (like **auth.users**) in test_data.json and data for each **TestCase** in a separate **test_case.json** file.

From my perpective, second approach seems to be more cleaner, but I would like to know if somebody could tell me the concrete pros and cons of these approaches or may be suggest some other approach?",3
4684618,01/13/2011 19:57:54,424303,08/18/2010 16:56:43,177,4,Django: ModelMultipleChoiceField won't save data,"My modelform has a field with a ModelMultipleChoiceField that has a queryset to a Category object. The problem is the form submits, but the Category data doesn't save. Thoughts?

Many thanks!

**Form:**

    class MealForm(forms.ModelForm):
      class Meta:
        model = Meal
        fields = ('category','date','time')
        
      categories = forms.ModelMultipleChoiceField(
            label=_(""Food style""),
            queryset=Category.objects.all(),
                                      required=True)

**View**

    @login_required
    def new_meal(request, template_name=""meal/newmeal.html""):
      
      if request.method == 'POST':
        form = MealForm(request.POST)
        form.mom = request.user
        if form.is_valid():
          meal = form.save(commit=False)
          meal.mom = request.user
          meal.save()
          return HttpResponseRedirect('/meal/%d' % meal.id )
      else:
        form = MealForm()
      
      data = {
        'form': form,
        'add': True
      }

**Models:**  

    class Category(models.Model):
      
      name = models.CharField(default='',max_length=100)
      num_tags = models.IntegerField(default=0)
      
      def __unicode__(self):
              return ""%s"" % self.name
      class Meta:
        ordering = ['name']
    
    class Meal(models.Model):
      category = models.ManyToManyField(Category)",django,forms,manytomanyfield,django-modelformsets,,,open,0,390,5,"Django: ModelMultipleChoiceField won't save data My modelform has a field with a ModelMultipleChoiceField that has a queryset to a Category object. The problem is the form submits, but the Category data doesn't save. Thoughts?

Many thanks!

**Form:**

    class MealForm(forms.ModelForm):
      class Meta:
        model = Meal
        fields = ('category','date','time')
        
      categories = forms.ModelMultipleChoiceField(
            label=_(""Food style""),
            queryset=Category.objects.all(),
                                      required=True)

**View**

    @login_required
    def new_meal(request, template_name=""meal/newmeal.html""):
      
      if request.method == 'POST':
        form = MealForm(request.POST)
        form.mom = request.user
        if form.is_valid():
          meal = form.save(commit=False)
          meal.mom = request.user
          meal.save()
          return HttpResponseRedirect('/meal/%d' % meal.id )
      else:
        form = MealForm()
      
      data = {
        'form': form,
        'add': True
      }

**Models:**  

    class Category(models.Model):
      
      name = models.CharField(default='',max_length=100)
      num_tags = models.IntegerField(default=0)
      
      def __unicode__(self):
              return ""%s"" % self.name
      class Meta:
        ordering = ['name']
    
    class Meal(models.Model):
      category = models.ManyToManyField(Category)",4
2277940,02/17/2010 02:28:52,145190,07/26/2009 05:53:32,13172,633,Is there any Django-esque PHP framework I can use?,"I really love working with Django and Python, when I go back to PHP I feel [lugered][1]/restricted... I tried Zend/Kohana/CodeIgniter/CakePHP but none of them are really as nice...

Does anyone know of some php framework that's heavily influenced by Django? Or at least the templating system?


  [1]: http://img.coxnewsweb.com/B/04/01/90/image_7190014.jpg",django,php,,,,10/14/2011 15:59:20,not constructive,1,48,9,"Is there any Django-esque PHP framework I can use? I really love working with Django and Python, when I go back to PHP I feel [lugered][1]/restricted... I tried Zend/Kohana/CodeIgniter/CakePHP but none of them are really as nice...

Does anyone know of some php framework that's heavily influenced by Django? Or at least the templating system?


  [1]: http://img.coxnewsweb.com/B/04/01/90/image_7190014.jpg",2
5836075,04/29/2011 18:47:21,731592,04/29/2011 18:40:22,1,0,Are there any purposes for the management folder in Django other than commands?,Why are management commands not in their own app-level folder? Are there other items which can be added to the management directory or is this structure purely vestigial?,django,,,,,,open,0,28,13,Are there any purposes for the management folder in Django other than commands? Why are management commands not in their own app-level folder? Are there other items which can be added to the management directory or is this structure purely vestigial?,1
2516176,03/25/2010 14:11:30,257092,01/22/2010 20:45:26,130,14,Django + Postgres: How to specify sequence for a field,"I have this model in django:

    class JournalsGeneral(models.Model):
        jid = models.AutoField(primary_key=True)
        code = models.CharField(""Code"", max_length=50)
        name = models.CharField(""Name"", max_length=2000)
        url = models.URLField(""Journal Web Site"", max_length=2000, blank=True)
        online = models.BooleanField(""Online?"")
        active = models.BooleanField(""Active?"")
        class Meta:
            db_table = u'journals_general'
            verbose_name = ""Journal General""
            ordering = ['code']
        def __unicode__(self):
            return self.name

My problem is that in the DB (Postgres) the name of the sequence connected to `jid` is not `journals_general_jid_seq` as expected by Django but it has a different name.

Is there a way to specify which sequence Django has to use for an `AutoField`? In the documentation I read I was not able to find an answer.
",django,django-models,postgresql,sequences,,,open,0,206,10,"Django + Postgres: How to specify sequence for a field I have this model in django:

    class JournalsGeneral(models.Model):
        jid = models.AutoField(primary_key=True)
        code = models.CharField(""Code"", max_length=50)
        name = models.CharField(""Name"", max_length=2000)
        url = models.URLField(""Journal Web Site"", max_length=2000, blank=True)
        online = models.BooleanField(""Online?"")
        active = models.BooleanField(""Active?"")
        class Meta:
            db_table = u'journals_general'
            verbose_name = ""Journal General""
            ordering = ['code']
        def __unicode__(self):
            return self.name

My problem is that in the DB (Postgres) the name of the sequence connected to `jid` is not `journals_general_jid_seq` as expected by Django but it has a different name.

Is there a way to specify which sequence Django has to use for an `AutoField`? In the documentation I read I was not able to find an answer.
",4
11442281,07/11/2012 22:11:13,1519217,07/11/2012 22:08:47,1,0,Trying to modify django brutebuster to redirect,How can I modify django-BruteBuster to redirect to a page rather than just block the user from logging in after too many attempts?,django,,,,,07/13/2012 12:48:06,not a real question,1,23,7,Trying to modify django brutebuster to redirect How can I modify django-BruteBuster to redirect to a page rather than just block the user from logging in after too many attempts?,1
5598379,04/08/2011 17:00:10,502039,11/09/2010 14:59:43,201,12,How do I use urls.py in Django?,"How do I use urls.py in Django? How can I do something similar to the following?

    (r'^polls/(?P<poll_id>\d+)/$', 'polls.views.detail')

Does anybody have a tutorial or just explain it to me?",django,django-urls,,,,04/09/2011 05:04:13,not a real question,1,31,7,"How do I use urls.py in Django? How do I use urls.py in Django? How can I do something similar to the following?

    (r'^polls/(?P<poll_id>\d+)/$', 'polls.views.detail')

Does anybody have a tutorial or just explain it to me?",2
2016292,01/06/2010 21:14:15,128463,06/24/2009 20:36:58,254,21,"Python/Django: If 5 and 5.00 are different values (when expressed in Decimal), then...","If 5 and 5.00 and 5.000 are all different, then why does Django's decimal field save without the .00 even when I have decimal_places=2

?

More importantly, how can I save a value 5.00 as 5.00 in Django without using String.",django,python,decimal,,,,open,0,39,13,"Python/Django: If 5 and 5.00 are different values (when expressed in Decimal), then... If 5 and 5.00 and 5.000 are all different, then why does Django's decimal field save without the .00 even when I have decimal_places=2

?

More importantly, how can I save a value 5.00 as 5.00 in Django without using String.",3
1618728,10/24/2009 18:42:22,181902,09/30/2009 15:06:28,156,8,Disable link to edit object in django's admin (display list only)?,"In Django's admin, I want _disable_ the links provided on the ""select item to change"" page so that users cannot go anywhere to edit the item.  (I am going to limit what the users can do with this list to a set of drop down actions - no actual editing of fields).

I see that Django has the ability to [choose which fields display the link][1], however, I can't see how I can have **none** of them.  

    class HitAdmin(admin.ModelAdmin):
        list_display = ('user','ip','user_agent','hitcount')
        search_fields = ('ip','user_agent')
        date_hierarchy = 'created'
        list_display_links = [] # doesn't work, goes to default

Any ideas how to get my object list without any links to edit?

  [1]: http://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_display_links",django,modeladmin,django-admin,python,,,open,0,145,11,"Disable link to edit object in django's admin (display list only)? In Django's admin, I want _disable_ the links provided on the ""select item to change"" page so that users cannot go anywhere to edit the item.  (I am going to limit what the users can do with this list to a set of drop down actions - no actual editing of fields).

I see that Django has the ability to [choose which fields display the link][1], however, I can't see how I can have **none** of them.  

    class HitAdmin(admin.ModelAdmin):
        list_display = ('user','ip','user_agent','hitcount')
        search_fields = ('ip','user_agent')
        date_hierarchy = 'created'
        list_display_links = [] # doesn't work, goes to default

Any ideas how to get my object list without any links to edit?

  [1]: http://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_display_links",4
8839287,01/12/2012 17:17:11,1145954,01/12/2012 16:28:14,1,0,How to edit inline objects with reverse generic relation in Admin Panel?,"I would like to be able to add inline Image objects to Gallery in Admin (as I try it in admin.py below). Problem is that Image model doesn't have content_type field. It raises exception. I would like to do the same with Videos objects. Here are my models.py and admin.py and more description below

**My models.py**

    # -*- coding: utf-8 -*-

    # Create your models here.
    from apps.util import models
    from django.contrib.contenttypes.models import ContentType
    from django.contrib.contenttypes import generic
    from django.utils.translation import ugettext_lazy as _
    
    
    class Image(models.Model):
        """"""
        
        """"""
        title = models.CharField(_('Title'), max_length=255)
        image = models.ImageField(upload_to=""images"")
        pub_date = models.DateTimeField(_('Date published'))           
                  
        def __unicode__(self):
            return self.title
    
    class Video(models.Model):
        
        title = models.CharField(_('Title'), max_length=255)
        video = models.FileField(upload_to=""videos"")
        pub_date = models.DateTimeField(_('Date published'))
        
        def __unicode__(self):
            return self.title 
        
    class Gallery(models.Model):
    
        title = models.CharField(_('Title'), max_length=255)
        pub_date = models.DateTimeField(_('Date published'))
        
        def __unicode__(self):
            return self.title
        
    class GalleryItem(models.Model):
        gallery = models.ForeignKey(Gallery)
        content_type = models.ForeignKey(ContentType)
        object_id = models.PositiveIntegerField()
        content_object = generic.GenericForeignKey('content_type', 'object_id')
        
        def __unicode__(self):
            return str(self.object_id)  

**My admin.py**

    from django.contrib import admin
    from apps.webmachinist.media.models import *
    from apps.webmachinist.portfolio.models import *
    from django.contrib.contenttypes import generic
    
    class GalleryInline(generic.GenericTabularInline):
        model = Image
        
    class GalleryAdmin(admin.ModelAdmin):
        inlines = [
            GalleryInline,
        ]
    
    admin.site.register(Image)
    admin.site.register(Video)
    admin.site.register(Gallery, GalleryAdmin)
    admin.site.register(GalleryItem)
    admin.site.register(PortfolioEntry)

**I can do it easily in reverse way: to add Gallery to an Image, like that:**

    class GalleryInline(generic.GenericTabularInline):
        model = GalleryItem
        
    class GalleryAdmin(admin.ModelAdmin):
        inlines = [
            GalleryInline,
        ]
    
    admin.site.register(Image, GalleryAdmin)

**Then I can choose by Gallery title, though inline is for GalleryItems
But it's not what I want. I just want to add Images to Galleries (and later Videos) not Galleries to Images.**

**Can it be done easily?**",django,django-admin,contenttype,inlines,,,open,0,689,12,"How to edit inline objects with reverse generic relation in Admin Panel? I would like to be able to add inline Image objects to Gallery in Admin (as I try it in admin.py below). Problem is that Image model doesn't have content_type field. It raises exception. I would like to do the same with Videos objects. Here are my models.py and admin.py and more description below

**My models.py**

    # -*- coding: utf-8 -*-

    # Create your models here.
    from apps.util import models
    from django.contrib.contenttypes.models import ContentType
    from django.contrib.contenttypes import generic
    from django.utils.translation import ugettext_lazy as _
    
    
    class Image(models.Model):
        """"""
        
        """"""
        title = models.CharField(_('Title'), max_length=255)
        image = models.ImageField(upload_to=""images"")
        pub_date = models.DateTimeField(_('Date published'))           
                  
        def __unicode__(self):
            return self.title
    
    class Video(models.Model):
        
        title = models.CharField(_('Title'), max_length=255)
        video = models.FileField(upload_to=""videos"")
        pub_date = models.DateTimeField(_('Date published'))
        
        def __unicode__(self):
            return self.title 
        
    class Gallery(models.Model):
    
        title = models.CharField(_('Title'), max_length=255)
        pub_date = models.DateTimeField(_('Date published'))
        
        def __unicode__(self):
            return self.title
        
    class GalleryItem(models.Model):
        gallery = models.ForeignKey(Gallery)
        content_type = models.ForeignKey(ContentType)
        object_id = models.PositiveIntegerField()
        content_object = generic.GenericForeignKey('content_type', 'object_id')
        
        def __unicode__(self):
            return str(self.object_id)  

**My admin.py**

    from django.contrib import admin
    from apps.webmachinist.media.models import *
    from apps.webmachinist.portfolio.models import *
    from django.contrib.contenttypes import generic
    
    class GalleryInline(generic.GenericTabularInline):
        model = Image
        
    class GalleryAdmin(admin.ModelAdmin):
        inlines = [
            GalleryInline,
        ]
    
    admin.site.register(Image)
    admin.site.register(Video)
    admin.site.register(Gallery, GalleryAdmin)
    admin.site.register(GalleryItem)
    admin.site.register(PortfolioEntry)

**I can do it easily in reverse way: to add Gallery to an Image, like that:**

    class GalleryInline(generic.GenericTabularInline):
        model = GalleryItem
        
    class GalleryAdmin(admin.ModelAdmin):
        inlines = [
            GalleryInline,
        ]
    
    admin.site.register(Image, GalleryAdmin)

**Then I can choose by Gallery title, though inline is for GalleryItems
But it's not what I want. I just want to add Images to Galleries (and later Videos) not Galleries to Images.**

**Can it be done easily?**",4
9508902,03/01/2012 00:23:06,564709,01/05/2011 23:08:56,97,2,check celery task status from another module,"I am trying to test whether a celery task has been started after a request to my django server. I have something like this:

    # tasks.py
    def add(x, y):
        return x + y

    # views.py
    def home(request): # respond to request at root url
        tasks.add.delay(1,2)
        return HttpResponse('hello world')

    # tests.py
    class MyTest(TestCase):
        def test_task_triggered(self):
            self.client.get('/')

            # XXXX HOW TO TEST THAT TASK HAS BEEN TRIGGERED?

How can I test whether or not the task has been started in my unit tests? Obviously, I don't have direct access to the task id otherwise something [like this would work](http://stackoverflow.com/questions/9034091/how-to-check-task-status-in-celery).

More generally, how can you detect celery tasks being triggered from across functions, classes, or modules?

Thanks for your help.",django,celery,django-celery,,,,open,0,182,7,"check celery task status from another module I am trying to test whether a celery task has been started after a request to my django server. I have something like this:

    # tasks.py
    def add(x, y):
        return x + y

    # views.py
    def home(request): # respond to request at root url
        tasks.add.delay(1,2)
        return HttpResponse('hello world')

    # tests.py
    class MyTest(TestCase):
        def test_task_triggered(self):
            self.client.get('/')

            # XXXX HOW TO TEST THAT TASK HAS BEEN TRIGGERED?

How can I test whether or not the task has been started in my unit tests? Obviously, I don't have direct access to the task id otherwise something [like this would work](http://stackoverflow.com/questions/9034091/how-to-check-task-status-in-celery).

More generally, how can you detect celery tasks being triggered from across functions, classes, or modules?

Thanks for your help.",3
3830588,09/30/2010 12:47:25,145318,07/26/2009 15:50:21,98,5,What is the appropriate numeric field to use,"I have a field that sometimes contains integers, sometimes contains decimals and sometimes contains a list of integers.  I have been using CommaSeparatedIntegerField and multiplying the decimals by 1000 to get to reasonable integers.  Is there a better way?",django,custom-fields,django-fields,,,,open,0,41,8,"What is the appropriate numeric field to use I have a field that sometimes contains integers, sometimes contains decimals and sometimes contains a list of integers.  I have been using CommaSeparatedIntegerField and multiplying the decimals by 1000 to get to reasonable integers.  Is there a better way?",3
10113805,04/11/2012 20:53:24,269846,02/09/2010 21:28:01,125,6,Django remote deployment with buildout and Fabric,"I am writing a web application using Django, on djangorecipe. I wanted to have an automatic deployment and found out that Fabric would be a perfect solution.

I am not sure though, how do you use Fabric in buildout environment. It turned out that the buildout recipes and posts on using Fabric are a bit outdated (ca. 2010). Has anyone tried implementing that?",django,deployment,fabric,buildout,,,open,0,62,7,"Django remote deployment with buildout and Fabric I am writing a web application using Django, on djangorecipe. I wanted to have an automatic deployment and found out that Fabric would be a perfect solution.

I am not sure though, how do you use Fabric in buildout environment. It turned out that the buildout recipes and posts on using Fabric are a bit outdated (ca. 2010). Has anyone tried implementing that?",4
9067133,01/30/2012 16:24:32,236106,12/21/2009 15:10:27,1353,20,How to set the value of PATH variable in a virtualenv?,"I have installed virtualenv and created a virtualenv directory for testing out the newer development version of django.I git cloned the latest version of django and placed .pth file inside the virtualenv's site package directory to the cloned django dir.Now I need to modify the PATH variable(to include django/bin) so that  django-admin.py is accessible from the virtualenv.How can i do it?

My current PATH in virtualenv includes a directory

> django/core/django/bin 

Why does it include it ? 
I haven't done any modification to PATH right now.

--I've given the relative path of the django directory here instead of the fullpath to mimnimize the clutter.",django,environment-variables,virtualenv,,,,open,0,102,11,"How to set the value of PATH variable in a virtualenv? I have installed virtualenv and created a virtualenv directory for testing out the newer development version of django.I git cloned the latest version of django and placed .pth file inside the virtualenv's site package directory to the cloned django dir.Now I need to modify the PATH variable(to include django/bin) so that  django-admin.py is accessible from the virtualenv.How can i do it?

My current PATH in virtualenv includes a directory

> django/core/django/bin 

Why does it include it ? 
I haven't done any modification to PATH right now.

--I've given the relative path of the django directory here instead of the fullpath to mimnimize the clutter.",3
9437162,02/24/2012 19:55:05,1231509,02/24/2012 19:30:15,1,0,How to add model forms by Django in Google app engine?,"Since Python 2.7 does not support djangoform.modelform, but support numpy, I have to update my codes from Python 2.5 to 2.7. However, I met some problems when I was trying to add a form by Django.forms.Modelform. I really appreciate for any comments and suggestion. I am using Python 2.7, GAE 1.6.2 and Django 1.2.


Here is the code (code 1) with problem.

import webapp2 as webapp

import django

from google.appengine.ext.webapp.util import run_wsgi_app

from google.appengine.ext.webapp import template

import os

from google.appengine.ext.db import djangoforms

from django.db import models

from django.forms import ModelForm

class trexInp(models.Model):
    chemical_name = models.CharField(max_length=255)

class trexInput(ModelForm):
    class Meta:
        model = trexInp

class trexInputPage(webapp.RequestHandler):
    def get(self):        
        html = str(trexInput())
        self.response.out.write(html)

app = webapp.WSGIApplication([('/.*', trexInputPage)], debug=True)

def main():
    run_wsgi_app(app)

if __name__ == '__main__':
    main()
    

To compare, I have attached the old code (Code 2).

import webapp2 as webapp

from google.appengine.ext.webapp.util import run_wsgi_app

from google.appengine.ext import db

from google.appengine.ext.webapp import template

from google.appengine.ext.db import djangoforms

class trexInp(db.Model):
    chemical_name = db.StringProperty()

class trexInput(djangoforms.ModelForm):
    class Meta:
        model = trexInp

class trexInputPage(webapp.RequestHandler):
    def get(self):
        html = str(trexInput())
        self.response.out.write(html)

app = webapp.WSGIApplication([('/.*', trexInputPage)], debug=True)

def main():
    run_wsgi_app(app)

if __name__ == '__main__':
    main()
    ",django,google-app-engine,django-forms,,,,open,0,247,11,"How to add model forms by Django in Google app engine? Since Python 2.7 does not support djangoform.modelform, but support numpy, I have to update my codes from Python 2.5 to 2.7. However, I met some problems when I was trying to add a form by Django.forms.Modelform. I really appreciate for any comments and suggestion. I am using Python 2.7, GAE 1.6.2 and Django 1.2.


Here is the code (code 1) with problem.

import webapp2 as webapp

import django

from google.appengine.ext.webapp.util import run_wsgi_app

from google.appengine.ext.webapp import template

import os

from google.appengine.ext.db import djangoforms

from django.db import models

from django.forms import ModelForm

class trexInp(models.Model):
    chemical_name = models.CharField(max_length=255)

class trexInput(ModelForm):
    class Meta:
        model = trexInp

class trexInputPage(webapp.RequestHandler):
    def get(self):        
        html = str(trexInput())
        self.response.out.write(html)

app = webapp.WSGIApplication([('/.*', trexInputPage)], debug=True)

def main():
    run_wsgi_app(app)

if __name__ == '__main__':
    main()
    

To compare, I have attached the old code (Code 2).

import webapp2 as webapp

from google.appengine.ext.webapp.util import run_wsgi_app

from google.appengine.ext import db

from google.appengine.ext.webapp import template

from google.appengine.ext.db import djangoforms

class trexInp(db.Model):
    chemical_name = db.StringProperty()

class trexInput(djangoforms.ModelForm):
    class Meta:
        model = trexInp

class trexInputPage(webapp.RequestHandler):
    def get(self):
        html = str(trexInput())
        self.response.out.write(html)

app = webapp.WSGIApplication([('/.*', trexInputPage)], debug=True)

def main():
    run_wsgi_app(app)

if __name__ == '__main__':
    main()
    ",3
843383,05/09/2009 14:06:16,84274,03/29/2009 14:27:00,47,1,Why is django giving error: no module named django.core?,"I get the error in question when I attempt to create a project. I followed the instructions found at [how to install python an django in windows vista][1].


  [1]: http://i.justrealized.com/2008/04/08/how-to-install-python-and-django-in-windows-vista/",django,python,django-admin,,,,open,0,31,9,"Why is django giving error: no module named django.core? I get the error in question when I attempt to create a project. I followed the instructions found at [how to install python an django in windows vista][1].


  [1]: http://i.justrealized.com/2008/04/08/how-to-install-python-and-django-in-windows-vista/",3
9831697,03/22/2012 22:49:25,302760,03/26/2010 17:55:36,318,10,django non-rel rollback,"I cancelled a deployment to GAE while using django non-rel's manage.py deploy.

Now when I try to redeploy it says Another transaciton is already in progress and use appcfg to rollback.

But django non-rel doesn't have appcfg.py so how can I rollback or fix this issue?

I've scoured the internet and can't find any answers. I've waited about half an hour and it still displays this message.",django,google-app-engine,django-nonrel,,,,open,0,64,3,"django non-rel rollback I cancelled a deployment to GAE while using django non-rel's manage.py deploy.

Now when I try to redeploy it says Another transaciton is already in progress and use appcfg to rollback.

But django non-rel doesn't have appcfg.py so how can I rollback or fix this issue?

I've scoured the internet and can't find any answers. I've waited about half an hour and it still displays this message.",3
5306675,03/15/2011 01:56:41,627815,02/22/2011 06:24:32,32,0,Django view: good programming practice question.,"suppose that you have a webpage that uses the post and get method, and you wrote the following view to generate it:

    def homepage(request):
    if 'login' in request.POST:
	# ......... code goes here, and you return an appropriate response 
	
    if 'register' in request.POST:
	# ......... code goes here, and you return an appropriate response 	
	
    # When no Post request, just render the page
    return render_to_response('homepage.html')

**Question:**

Is it considered good programming practice to split the above view into three views: one for login, one for register and one that would render the page? Or is it OK to keep it as it is.

**EDIT**

in the case listed above, I am not checking if the server received a ""GET"". But the idea is still the same :)",django,,,,,,open,0,138,6,"Django view: good programming practice question. suppose that you have a webpage that uses the post and get method, and you wrote the following view to generate it:

    def homepage(request):
    if 'login' in request.POST:
	# ......... code goes here, and you return an appropriate response 
	
    if 'register' in request.POST:
	# ......... code goes here, and you return an appropriate response 	
	
    # When no Post request, just render the page
    return render_to_response('homepage.html')

**Question:**

Is it considered good programming practice to split the above view into three views: one for login, one for register and one that would render the page? Or is it OK to keep it as it is.

**EDIT**

in the case listed above, I am not checking if the server received a ""GET"". But the idea is still the same :)",1
9861531,03/25/2012 15:51:51,1124197,12/31/2011 10:00:55,52,1,django-paypal ipn not responding,"i am using [this app][1] to implement paypal into my application. However when i make the payment and everything, django keeps on complaining that i don't have a csrf_token when i already inserted it into my template form.

This is my template:

		<form method=""post"" action=""/paypal/"">
			{% csrf_token %}
			<p>
				To change your subscription, select a membership and the subscription rate:
			</p>
			<select name=""membership_input"" id=""id_membership"">
				<option>Silver</option>
				<option>Gold</option>
				<option>Platinum</option>
			</select>
			<select name=""subscription_input"" id=""id_subscription"" style = ""float: center; margin-left: 30px;"">
				<option>Monthly</option>
				<option>Quarterly</option>
				<option>Yearly</option>
			</select></br></br>
			{{ form }}
		</form>

And this is my view that handles the paypal elements:

    def paypal(request):
        c = RequestContext(request,{})
        c.update(csrf(request))
        if request.method == 'POST':
    	if 'membership_input' in request.POST:
    		if 'subscription_input' in request.POST:
            		membership = request.POST['membership_input']
    			subscription = request.POST['subscription_input']
    			if membership == ""Gold"":
    				if subscription == ""Quarterly"":
    					price = ""2400.00""
    				if subscription == ""Monthly"":
    					price = ""1000.00""
    				if subscription == ""Yearly"":
    					price = ""8000.00""
    			elif membership == ""Silver"":
    				if subscription == ""Quarterly"":
    					price = ""1200.00""
    				if subscription == ""Monthly"":
    					price = ""500.00""
    				if subscription == ""Yearly"":
    					price = ""4000.00""
    			elif membership == ""Premium"":
    				if subscription == ""Quarterly"":
    					price = ""4800.00""
    				if subscription == ""Monthly"":
    					price = ""2000.00""
    				if subscription == ""Yearly"":
    					price = ""16000.00""
    			paypal_dict = {""business"":settings.PAYPAL_RECEIVER_EMAIL,""amount"": price ,""item_name"": membership+"" membership"" ,""invoice"": ""09876543"", ""notify_url"": ""%s%s"" % (settings.SITE_NAME, reverse('paypal-ipn')),""return_url"": ""http://rosebud.mosuma.net"",}
        			# Create the instance.
        			form = PayPalPaymentsForm(initial=paypal_dict)
        			context = {""form"": form.sandbox()}
    			c = RequestContext(request,{""form"": form.sandbox()})
        			return render_to_response(""paypal.html"", c)                 
        else:
            return HttpResponseRedirect(""/"")

I have already tried using requestContext as mentioned by django and inserted the csrf token but i don't know why it's not working.

Also if i were to enable recurring paypal subscriptions how do i do it?

Any help is appreciated. 

  [1]: https://github.com/johnboxall/django-paypal",django,django-paypal,,,,,open,0,429,4,"django-paypal ipn not responding i am using [this app][1] to implement paypal into my application. However when i make the payment and everything, django keeps on complaining that i don't have a csrf_token when i already inserted it into my template form.

This is my template:

		<form method=""post"" action=""/paypal/"">
			{% csrf_token %}
			<p>
				To change your subscription, select a membership and the subscription rate:
			</p>
			<select name=""membership_input"" id=""id_membership"">
				<option>Silver</option>
				<option>Gold</option>
				<option>Platinum</option>
			</select>
			<select name=""subscription_input"" id=""id_subscription"" style = ""float: center; margin-left: 30px;"">
				<option>Monthly</option>
				<option>Quarterly</option>
				<option>Yearly</option>
			</select></br></br>
			{{ form }}
		</form>

And this is my view that handles the paypal elements:

    def paypal(request):
        c = RequestContext(request,{})
        c.update(csrf(request))
        if request.method == 'POST':
    	if 'membership_input' in request.POST:
    		if 'subscription_input' in request.POST:
            		membership = request.POST['membership_input']
    			subscription = request.POST['subscription_input']
    			if membership == ""Gold"":
    				if subscription == ""Quarterly"":
    					price = ""2400.00""
    				if subscription == ""Monthly"":
    					price = ""1000.00""
    				if subscription == ""Yearly"":
    					price = ""8000.00""
    			elif membership == ""Silver"":
    				if subscription == ""Quarterly"":
    					price = ""1200.00""
    				if subscription == ""Monthly"":
    					price = ""500.00""
    				if subscription == ""Yearly"":
    					price = ""4000.00""
    			elif membership == ""Premium"":
    				if subscription == ""Quarterly"":
    					price = ""4800.00""
    				if subscription == ""Monthly"":
    					price = ""2000.00""
    				if subscription == ""Yearly"":
    					price = ""16000.00""
    			paypal_dict = {""business"":settings.PAYPAL_RECEIVER_EMAIL,""amount"": price ,""item_name"": membership+"" membership"" ,""invoice"": ""09876543"", ""notify_url"": ""%s%s"" % (settings.SITE_NAME, reverse('paypal-ipn')),""return_url"": ""http://rosebud.mosuma.net"",}
        			# Create the instance.
        			form = PayPalPaymentsForm(initial=paypal_dict)
        			context = {""form"": form.sandbox()}
    			c = RequestContext(request,{""form"": form.sandbox()})
        			return render_to_response(""paypal.html"", c)                 
        else:
            return HttpResponseRedirect(""/"")

I have already tried using requestContext as mentioned by django and inserted the csrf token but i don't know why it's not working.

Also if i were to enable recurring paypal subscriptions how do i do it?

Any help is appreciated. 

  [1]: https://github.com/johnboxall/django-paypal",2
8598908,12/22/2011 02:46:05,373908,06/23/2010 05:52:19,1228,9,"generate html table with potentially expanding columns and need to reordering columns, using django","I have created a list of dictionary in a format as below:

    [{u'PLAN_A': True, u'PLAN_B': True, u'PLAN_C': True, u'PLAN_D': True, 
      u'PLAN_E': True, u'PLAN_F': True, 'date': u'2011-08-01', u'PLAN_G': True}
     {u'PLAN_A': True, u'PLAN_B': True, u'PLAN_C': True, u'PLAN_D': True, 
      u'PLAN_E': True, u'PLAN_F': True, 'date': u'2011-08-01', u'PLAN_G': True}]

A little explanation here:

The list contains information to check whether information regarding the investment plans is already provided for a particular month, if information is available, it will be `TRUE`, if not it will be `FALSE`
- PLAN_A is the name of an investment plan, which means there are 7 of them here
- True/False refers to whether information is entered for that particular month

I want to create a HTML output using django like the one below:

    DATE    PLAN_A  PLAN_B  PLAN_C
    2010-01 TRUE    FALSE   TRUE
    2010-02 TRUE    FALSE   TRUE
    2010-03 TRUE    FALSE   FALSE

I don't want to hard-code the column name (i.e. PLAN_A, PLAN_B, PLANC), as there maybe increasing number of plans in the future.

I think that will be a for-loop for creating `<tr>` and `<td>`. If I am working this as R, I will rearrange the column of the `dataframe` to the way I like (maybe I want PLAN_A to be at the third column, but not the first column), but having known that dictionary cannot be sorted, I don't know how to arrange the `keys` inside, as you can see in my dataset, the `date` key is at the 7th column.

Can anyone help? Thanks.",django,django-templates,,,,,open,0,287,14,"generate html table with potentially expanding columns and need to reordering columns, using django I have created a list of dictionary in a format as below:

    [{u'PLAN_A': True, u'PLAN_B': True, u'PLAN_C': True, u'PLAN_D': True, 
      u'PLAN_E': True, u'PLAN_F': True, 'date': u'2011-08-01', u'PLAN_G': True}
     {u'PLAN_A': True, u'PLAN_B': True, u'PLAN_C': True, u'PLAN_D': True, 
      u'PLAN_E': True, u'PLAN_F': True, 'date': u'2011-08-01', u'PLAN_G': True}]

A little explanation here:

The list contains information to check whether information regarding the investment plans is already provided for a particular month, if information is available, it will be `TRUE`, if not it will be `FALSE`
- PLAN_A is the name of an investment plan, which means there are 7 of them here
- True/False refers to whether information is entered for that particular month

I want to create a HTML output using django like the one below:

    DATE    PLAN_A  PLAN_B  PLAN_C
    2010-01 TRUE    FALSE   TRUE
    2010-02 TRUE    FALSE   TRUE
    2010-03 TRUE    FALSE   FALSE

I don't want to hard-code the column name (i.e. PLAN_A, PLAN_B, PLANC), as there maybe increasing number of plans in the future.

I think that will be a for-loop for creating `<tr>` and `<td>`. If I am working this as R, I will rearrange the column of the `dataframe` to the way I like (maybe I want PLAN_A to be at the third column, but not the first column), but having known that dictionary cannot be sorted, I don't know how to arrange the `keys` inside, as you can see in my dataset, the `date` key is at the 7th column.

Can anyone help? Thanks.",2
4446992,12/15/2010 05:32:23,542924,12/15/2010 05:32:23,1,0,Frameworks to build web applications,"We want to build a web application which is fast (to load), scalable, modular (should be able to easily extend to other domains) and should be appealing to users. Our website will host a lot of images. Don't want to slow it down due to image-loading.

I have read reviews about the following frameworks and am pretty confused on which one to start with. Language is not a constraint. Need some expert advice.

 - Zend framework
 - Django
 - Kohana
 - CodeIgniter
 - Yii framework (looks promising but need reviews on ease of use)

Thanks.",django,zend-framework,codeigniter,kohana,yii,01/21/2011 09:10:19,not a real question,1,93,5,"Frameworks to build web applications We want to build a web application which is fast (to load), scalable, modular (should be able to easily extend to other domains) and should be appealing to users. Our website will host a lot of images. Don't want to slow it down due to image-loading.

I have read reviews about the following frameworks and am pretty confused on which one to start with. Language is not a constraint. Need some expert advice.

 - Zend framework
 - Django
 - Kohana
 - CodeIgniter
 - Yii framework (looks promising but need reviews on ease of use)

Thanks.",5
11177973,06/24/2012 13:44:39,1478053,06/24/2012 12:31:18,1,0,What do people normally do to publish Django web-site?,"I have small Django web-site, which I've wrote in learning purpose, but now I'd like to publish it in Internet.
Dear Stackoverflowers, could you please recommend any *free* Django providers which are convenient to work with?

Sorry, if that is a stupid question.

P.S. I've searched in the Internet, and found some providers, but I can't decide which is good. Need your advice.",django,hosting,,,,06/25/2012 03:31:47,not a real question,1,60,9,"What do people normally do to publish Django web-site? I have small Django web-site, which I've wrote in learning purpose, but now I'd like to publish it in Internet.
Dear Stackoverflowers, could you please recommend any *free* Django providers which are convenient to work with?

Sorry, if that is a stupid question.

P.S. I've searched in the Internet, and found some providers, but I can't decide which is good. Need your advice.",2
6876117,07/29/2011 16:24:30,809694,06/22/2011 04:56:52,25,1,What is a object type of request in django?,"If I write a view as 
`def view(request): `

What is type of the request (Django Object)? What are it's expected contents (is it a HTTP stream???)? What does the request look like esp after it has been dispatched by URLDispacther",django,request,,,,03/29/2012 12:27:43,not a real question,1,40,9,"What is a object type of request in django? If I write a view as 
`def view(request): `

What is type of the request (Django Object)? What are it's expected contents (is it a HTTP stream???)? What does the request look like esp after it has been dispatched by URLDispacther",2
9683652,03/13/2012 12:03:40,731963,04/30/2011 01:34:29,1085,54,What is required to be qualified as a ORM?,"Is it just ability to switch databases seemlessly and forming queryies independent of the database ?

or something else is also needed to be called ORM ?

I mean `django` is supplied with a ORM !

We can use multiple databases with `Wordpress` so can we say that wordpress also has a ORM ?

I think I explained myself well.. ",django,wordpress,orm,,,05/20/2012 02:10:27,not constructive,1,57,9,"What is required to be qualified as a ORM? Is it just ability to switch databases seemlessly and forming queryies independent of the database ?

or something else is also needed to be called ORM ?

I mean `django` is supplied with a ORM !

We can use multiple databases with `Wordpress` so can we say that wordpress also has a ORM ?

I think I explained myself well.. ",3
1589651,10/19/2009 16:15:44,93461,04/20/2009 22:39:05,395,19,django - simplelazyobject breaks template filter,"Here's a template filter that has been working without problems till 
recently, before I updated Django source: 

    from pm_core.models import PMUser 
    @register.filter 
    def can_manage_market(user, market): 
        if not isinstance(user, PMUser): return False 
        return user.can_manage_market(market) 

The filter has begun to return false always. The problem seems to be 
that the 'user' instance is of 'SimpleLazyObject' instead of PMUser (a 
subclass of User). Searching it up on the internet brought me to 
Ticket #12049, which indicates that this may be a similar bug 
(however, the patch provided there is not a remedy, unfortunately). 

I'd appreciate any information on this simplelazyobject that I have not been aware of before. 

ps. I have also posted this question to django-users group, but have not received an answer yet.",django,,,,,,open,0,150,6,"django - simplelazyobject breaks template filter Here's a template filter that has been working without problems till 
recently, before I updated Django source: 

    from pm_core.models import PMUser 
    @register.filter 
    def can_manage_market(user, market): 
        if not isinstance(user, PMUser): return False 
        return user.can_manage_market(market) 

The filter has begun to return false always. The problem seems to be 
that the 'user' instance is of 'SimpleLazyObject' instead of PMUser (a 
subclass of User). Searching it up on the internet brought me to 
Ticket #12049, which indicates that this may be a similar bug 
(however, the patch provided there is not a remedy, unfortunately). 

I'd appreciate any information on this simplelazyobject that I have not been aware of before. 

ps. I have also posted this question to django-users group, but have not received an answer yet.",1
8077202,11/10/2011 09:14:20,488735,10/27/2010 11:15:57,672,0,Django - How to extend a form?,"I'm new to Django. I have installed an external App that is in ""python2.6/site-packages/haystack"". This external App have ""generic forms"" but I need to add a CSS class that is not in the ""generic form"".

How can I extend the ""forms.py"" the ""class FacetedModelSearchForm"" from the ""generic form"" to ""forms.py"" in my own App?

Here is the code from the ""generic form""

	class SearchForm(forms.Form):
	    q = forms.CharField(required=False, label=_('Search'))
	    
	    def __init__(self, *args, **kwargs):
		self.searchqueryset = kwargs.pop('searchqueryset', None)
		self.load_all = kwargs.pop('load_all', False)
		
		if self.searchqueryset is None:
		    self.searchqueryset = SearchQuerySet()
		
		super(SearchForm, self).__init__(*args, **kwargs)
	    
	    def no_query_found(self):
		""""""
	Determines the behavior when no query was found.
	By default, no results are returned (``EmptySearchQuerySet``).
	Should you want to show all results, override this method in your
	own ``SearchForm`` subclass and do ``return self.searchqueryset.all()``.
	""""""
		return EmptySearchQuerySet()
	    
	    def search(self):
		if not self.is_valid():
		    return self.no_query_found()
		
		if not self.cleaned_data.get('q'):
		    return self.no_query_found()
		
		sqs = self.searchqueryset.auto_query(self.cleaned_data['q'])
		
		if self.load_all:
		    sqs = sqs.load_all()
		
		return sqs
	    
	    def get_suggestion(self):
		if not self.is_valid():
		    return None
		
		return self.searchqueryset.spelling_suggestion(self.cleaned_data['q'])


	class FacetedSearchForm(SearchForm):
	    def __init__(self, *args, **kwargs):
		self.selected_facets = kwargs.pop(""selected_facets"", [])
		super(FacetedSearchForm, self).__init__(*args, **kwargs)
	    
	    def search(self):
		sqs = super(FacetedSearchForm, self).search()
		
		# We need to process each facet to ensure that the field name and the
		# value are quoted correctly and separately:
		for facet in self.selected_facets:
		    if "":"" not in facet:
		        continue
		    
		    field, value = facet.split("":"", 1)
		    
		    if value:
		        sqs = sqs.narrow(u'%s:""%s""' % (field, sqs.query.clean(value)))
		
		return sqs

How can I add to the field ""q"" the CSS class ""myspecialcssclass"" extending this class in my App ""forms.py""? The class that I need to extend is the ""FacetedSearchForm"". Any clues?

Best Regards,",django,django-forms,haystack,,,,open,0,316,7,"Django - How to extend a form? I'm new to Django. I have installed an external App that is in ""python2.6/site-packages/haystack"". This external App have ""generic forms"" but I need to add a CSS class that is not in the ""generic form"".

How can I extend the ""forms.py"" the ""class FacetedModelSearchForm"" from the ""generic form"" to ""forms.py"" in my own App?

Here is the code from the ""generic form""

	class SearchForm(forms.Form):
	    q = forms.CharField(required=False, label=_('Search'))
	    
	    def __init__(self, *args, **kwargs):
		self.searchqueryset = kwargs.pop('searchqueryset', None)
		self.load_all = kwargs.pop('load_all', False)
		
		if self.searchqueryset is None:
		    self.searchqueryset = SearchQuerySet()
		
		super(SearchForm, self).__init__(*args, **kwargs)
	    
	    def no_query_found(self):
		""""""
	Determines the behavior when no query was found.
	By default, no results are returned (``EmptySearchQuerySet``).
	Should you want to show all results, override this method in your
	own ``SearchForm`` subclass and do ``return self.searchqueryset.all()``.
	""""""
		return EmptySearchQuerySet()
	    
	    def search(self):
		if not self.is_valid():
		    return self.no_query_found()
		
		if not self.cleaned_data.get('q'):
		    return self.no_query_found()
		
		sqs = self.searchqueryset.auto_query(self.cleaned_data['q'])
		
		if self.load_all:
		    sqs = sqs.load_all()
		
		return sqs
	    
	    def get_suggestion(self):
		if not self.is_valid():
		    return None
		
		return self.searchqueryset.spelling_suggestion(self.cleaned_data['q'])


	class FacetedSearchForm(SearchForm):
	    def __init__(self, *args, **kwargs):
		self.selected_facets = kwargs.pop(""selected_facets"", [])
		super(FacetedSearchForm, self).__init__(*args, **kwargs)
	    
	    def search(self):
		sqs = super(FacetedSearchForm, self).search()
		
		# We need to process each facet to ensure that the field name and the
		# value are quoted correctly and separately:
		for facet in self.selected_facets:
		    if "":"" not in facet:
		        continue
		    
		    field, value = facet.split("":"", 1)
		    
		    if value:
		        sqs = sqs.narrow(u'%s:""%s""' % (field, sqs.query.clean(value)))
		
		return sqs

How can I add to the field ""q"" the CSS class ""myspecialcssclass"" extending this class in my App ""forms.py""? The class that I need to extend is the ""FacetedSearchForm"". Any clues?

Best Regards,",3
697902,03/30/2009 16:19:00,36680,11/11/2008 19:51:55,282,5,How to send a session message to an anonymous user in a Django site?,"I often show messages about user actions to logged in users in my Django app views using:

    request.user.message_set.create(""message to user"")

How could I do the same for anonymous (not logged in) users?  There is no request.user for anonymous users, but the Django documentation says that using the ""session"" middleware you can do the same thing as the above code.  The django documentation that links to the session middleware claims it is possible, but I couldn't find how to do it from the session documentation.",django,django-views,,,,,open,0,88,14,"How to send a session message to an anonymous user in a Django site? I often show messages about user actions to logged in users in my Django app views using:

    request.user.message_set.create(""message to user"")

How could I do the same for anonymous (not logged in) users?  There is no request.user for anonymous users, but the Django documentation says that using the ""session"" middleware you can do the same thing as the above code.  The django documentation that links to the session middleware claims it is possible, but I couldn't find how to do it from the session documentation.",2
7385800,09/12/2011 09:29:42,463621,10/01/2010 07:41:02,1769,105,Django: two-step RelatedManager,"I have three models linked by foreign keys:

    class One(models.Model):
        ...

    class Two(models.Model):
        one = models.ForeignKey(One)

    class Three(models.Model):
        two = models.ForeignKey(Two)

and I can do:
 
    one.two_set.all()

to access all related 'Two' instances from a 'One' instance.


How can I build a custom manager to access all 'Three' instances from a 'One' instance?",django,django-custom-manager,django-related-manager,,,,open,0,83,3,"Django: two-step RelatedManager I have three models linked by foreign keys:

    class One(models.Model):
        ...

    class Two(models.Model):
        one = models.ForeignKey(One)

    class Three(models.Model):
        two = models.ForeignKey(Two)

and I can do:
 
    one.two_set.all()

to access all related 'Two' instances from a 'One' instance.


How can I build a custom manager to access all 'Three' instances from a 'One' instance?",3
8542795,12/17/2011 05:23:19,996292,10/14/2011 23:00:10,11,0,Amazon EC2 vs. Rack Space vs. Alternatives for small to moderate django powered ecommerces site?,"I am currently developing a simple e-commerce site in django which is an extension to an existing ebay store. Currently we are using the Auctiva solutions, but as is obvious by our development of a dedicated site, are seeking to move away from that platform. I am currently researching hosting solutions both cloud based and traditional shared hosting setups. I have developed a clear list of needs. Preferably a dedicated host with root access, but not necessary, a python and django environment with apache server, and also mysql. After researching several services including EC2 and RackSpace cloud solutions I have found that at the lowest tier of rack space service I can expect to pay about $11 a month. On EC2, however, it might be free. My question is this, based on the experience of anyone who has gone through this process will EC2 actually be free? Or in general will it be worth the effort, I've read that their technical support is poor. Secondly I have very little practical experience with this sort of thing, I have hopes for the site expanding, but for now I'm assuming that the traffic at least for the short term will be light, even with light to moderate traffic based on experience with a growing web site how long will it take before I would need to upgrade my servers? How much would ec2 really cost in the real world?",django,amazon-ec2,hosting,cloud,rackspace,12/17/2011 20:13:57,off topic,1,237,15,"Amazon EC2 vs. Rack Space vs. Alternatives for small to moderate django powered ecommerces site? I am currently developing a simple e-commerce site in django which is an extension to an existing ebay store. Currently we are using the Auctiva solutions, but as is obvious by our development of a dedicated site, are seeking to move away from that platform. I am currently researching hosting solutions both cloud based and traditional shared hosting setups. I have developed a clear list of needs. Preferably a dedicated host with root access, but not necessary, a python and django environment with apache server, and also mysql. After researching several services including EC2 and RackSpace cloud solutions I have found that at the lowest tier of rack space service I can expect to pay about $11 a month. On EC2, however, it might be free. My question is this, based on the experience of anyone who has gone through this process will EC2 actually be free? Or in general will it be worth the effort, I've read that their technical support is poor. Secondly I have very little practical experience with this sort of thing, I have hopes for the site expanding, but for now I'm assuming that the traffic at least for the short term will be light, even with light to moderate traffic based on experience with a growing web site how long will it take before I would need to upgrade my servers? How much would ec2 really cost in the real world?",5
6780199,07/21/2011 17:31:58,598861,02/01/2011 18:03:23,1,0,Django and SphinxQL - how to disable transactions?,"I have to use a SphinxQL in Django, but SphinxQL seems doesn't support transaction. How to disable transactions for SphinxQL connection? Is it possible? I replaced Django MySQL backend with `MySQLdb` and it works, but I prefer using native Django components.",django,transactions,sphinx,,,,open,0,41,8,"Django and SphinxQL - how to disable transactions? I have to use a SphinxQL in Django, but SphinxQL seems doesn't support transaction. How to disable transactions for SphinxQL connection? Is it possible? I replaced Django MySQL backend with `MySQLdb` and it works, but I prefer using native Django components.",3
599280,03/01/2009 05:02:13,72389,03/01/2009 04:57:33,1,0,How to pass information using an http redirect (in Django),"I have a view that accepts a form submission and updates a model.

After updating the model, I want to redirect to another page and I want a message such as ""Field X successfully updated"" to appear on this page.

How can I ""pass"" this message to the other page?  HttpResponseRedirect only accepts a url.  I've seen this done before on other sites.  How is this accomplished?
",django,,,,,,open,0,68,10,"How to pass information using an http redirect (in Django) I have a view that accepts a form submission and updates a model.

After updating the model, I want to redirect to another page and I want a message such as ""Field X successfully updated"" to appear on this page.

How can I ""pass"" this message to the other page?  HttpResponseRedirect only accepts a url.  I've seen this done before on other sites.  How is this accomplished?
",1
5921148,05/07/2011 12:48:56,629685,02/23/2011 06:49:48,1,0,Error: No module named messages after installing python-django-debug-toolbar.,"My Django version is 1.2.5 it runs in Python 2.6.5. I installed debug_toolbar, from Ubuntu Software Center and it's fell down with No module named messages error. With debug_toolbar version of Django - 1.1.1, without debug_toolbar - 1.2.5. When I removed it, Django runs well.  What is wrong with debug_toolbar? How can I fix it?

Before install:

    >>> import django
    >>> django.VERSION
    (1, 2, 5, 'final', 0) 

    i159@i159-desktop:~/djproj/pastebin$ python2.6 manage.py runserver
    Validating models...
    0 errors found
    ...
After install:

    >>> import django
    >>> django.VERSION
    (1, 1, 1, 'final', 0)

    i159@i159-desktop:~/djproj/pastebin$ python2.6 manage.py runserver
    Error: No module named messages",django,django-errors,,,,,open,0,134,8,"Error: No module named messages after installing python-django-debug-toolbar. My Django version is 1.2.5 it runs in Python 2.6.5. I installed debug_toolbar, from Ubuntu Software Center and it's fell down with No module named messages error. With debug_toolbar version of Django - 1.1.1, without debug_toolbar - 1.2.5. When I removed it, Django runs well.  What is wrong with debug_toolbar? How can I fix it?

Before install:

    >>> import django
    >>> django.VERSION
    (1, 2, 5, 'final', 0) 

    i159@i159-desktop:~/djproj/pastebin$ python2.6 manage.py runserver
    Validating models...
    0 errors found
    ...
After install:

    >>> import django
    >>> django.VERSION
    (1, 1, 1, 'final', 0)

    i159@i159-desktop:~/djproj/pastebin$ python2.6 manage.py runserver
    Error: No module named messages",2
8579098,12/20/2011 17:02:19,791335,06/09/2011 16:24:09,146,1,django dynamic filtered form,"I am converting a project from php to Django and have run into the issue of filtered menus. I have a form:

    class SearchForm(forms.Form):
        genus = forms.CharField(max_length=100)
        #    species
        species = forms.CharField(max_length=100)
        #   island group
        island_group = forms.ModelChoiceField(queryset=Localitymayor.objects.values_list('islandgroup', flat=True).distinct('islandgroup').exclude(islandgroup=""n/a"").order_by('islandgroup'), empty_label=_(""Not Specified""))
        #   island name
        island_name = forms.ModelChoiceField(queryset=Localitymayor.objects.values_list('islandname', flat=True).distinct('islandname').exclude(islandname=""n/a"").order_by('islandname'), empty_label=_(""Not Specified""))
       
my template is along the lines of:

    <form action=""{% url cdrs_search %}"" method=""post"">{% csrf_token %}
    {% for field in form %}
    <div class=""fieldWrapper"">
        {{ field.errors }}
        {{ field.label_tag }}: {{ field }}
    </div>
    {% endfor %}
    </form>

Now I want to filter the output of the `island_name` depending on the selection of `island_group`. In my php project I managed this with an ajax onChange call to another php script. However, I am a little lost how to do this in Django. As this is my first time working with ajax in Django I would appreciate any suggestions as to the best practice way of dealing with this simple but common filtered menu problem. Thanks in advance.",django,forms,menu,,,,open,0,262,4,"django dynamic filtered form I am converting a project from php to Django and have run into the issue of filtered menus. I have a form:

    class SearchForm(forms.Form):
        genus = forms.CharField(max_length=100)
        #    species
        species = forms.CharField(max_length=100)
        #   island group
        island_group = forms.ModelChoiceField(queryset=Localitymayor.objects.values_list('islandgroup', flat=True).distinct('islandgroup').exclude(islandgroup=""n/a"").order_by('islandgroup'), empty_label=_(""Not Specified""))
        #   island name
        island_name = forms.ModelChoiceField(queryset=Localitymayor.objects.values_list('islandname', flat=True).distinct('islandname').exclude(islandname=""n/a"").order_by('islandname'), empty_label=_(""Not Specified""))
       
my template is along the lines of:

    <form action=""{% url cdrs_search %}"" method=""post"">{% csrf_token %}
    {% for field in form %}
    <div class=""fieldWrapper"">
        {{ field.errors }}
        {{ field.label_tag }}: {{ field }}
    </div>
    {% endfor %}
    </form>

Now I want to filter the output of the `island_name` depending on the selection of `island_group`. In my php project I managed this with an ajax onChange call to another php script. However, I am a little lost how to do this in Django. As this is my first time working with ajax in Django I would appreciate any suggestions as to the best practice way of dealing with this simple but common filtered menu problem. Thanks in advance.",3
3413696,08/05/2010 10:10:46,220129,11/27/2009 16:11:09,449,8,django create dates list from queryset,"I want to create a list of distinct month / year values based on a date fields in my db.
So for example in my table I have

id | date_added | title

1  | 01/06/2010 | ????

2  | 02/09/2009 | ????

3  | 24/08/2009 | ????
 
4  | 15/06/2009 | ????

5  | 16/06/2009 | ????

and this table is from model `article`

how would I create a list of:

    ['June 2009', 'August 2009', 'September 2009', 'January 2010']



",django,,,,,,open,0,80,6,"django create dates list from queryset I want to create a list of distinct month / year values based on a date fields in my db.
So for example in my table I have

id | date_added | title

1  | 01/06/2010 | ????

2  | 02/09/2009 | ????

3  | 24/08/2009 | ????
 
4  | 15/06/2009 | ????

5  | 16/06/2009 | ????

and this table is from model `article`

how would I create a list of:

    ['June 2009', 'August 2009', 'September 2009', 'January 2010']



",1
3348307,07/27/2010 21:47:52,301860,03/25/2010 16:18:35,88,1,Non local connections for django project server,"I ran the command `python manage.py runserver 0.0.0.0:8000`

It started the server up, but when I navigate to http://myipaddress:8000, my webbroswer doesnt connect. I also tried with my iphone safari brower and got the same thing.

I am using Mac OS X 10.6 and am connect to the the internet through my router.

Any suggestions on how to allow non-local connections so my friends can try out my project?
",django,pinax,django-manage.py,,,,open,0,66,7,"Non local connections for django project server I ran the command `python manage.py runserver 0.0.0.0:8000`

It started the server up, but when I navigate to http://myipaddress:8000, my webbroswer doesnt connect. I also tried with my iphone safari brower and got the same thing.

I am using Mac OS X 10.6 and am connect to the the internet through my router.

Any suggestions on how to allow non-local connections so my friends can try out my project?
",3
7641050,10/03/2011 21:47:56,915370,08/27/2011 10:50:07,36,2,Django- Get ManyToMany Field Name,"<br/>
How Can Detect ManyToManyField In A Model And Get Its Name????
<br/>
For Example:<br/>

    class User(models.Model):
        first_name = models.CharField(max_length = 100)
        last_name = models.CharField(max_length = 100)

    class UserList(models.Model):
        users = models.ManyToManyField(User)

How Can Detect That users Is A ManyToManyField And How Can Get Its Name???",django,django-models,,,,10/04/2011 08:25:43,not a real question,1,69,5,"Django- Get ManyToMany Field Name <br/>
How Can Detect ManyToManyField In A Model And Get Its Name????
<br/>
For Example:<br/>

    class User(models.Model):
        first_name = models.CharField(max_length = 100)
        last_name = models.CharField(max_length = 100)

    class UserList(models.Model):
        users = models.ManyToManyField(User)

How Can Detect That users Is A ManyToManyField And How Can Get Its Name???",2
6891127,07/31/2011 17:41:45,357236,06/03/2010 08:26:19,707,11,django duplicate widget requirements,"If we have multiple files defining widget classes, and if widgets have e.g

    class W1(forms.DateInput):
        
        class Media:
            css = {'all':('common/css/ui-darkness/jquery-ui-1.8.9.custom.css',),}
            js = ('common/js/jquery-ui-1.8.9.custom.min.js',)
    
    class W2(forms.TextArea):
        
        class Media:
            js = ('common/js/jquery-ui-1.8.9.custom.min.js',)

and we use both W2 and W1 on the same page, that would not be [good][1]. I would like to ask what is a possible solution to manage the widgets' media requirements/classes such that I can ensure using multiple widgets would not have duplicate js or css appearing more than once?


  [1]: http://stackoverflow.com/questions/5766557/duplicate-javascript-and-css-includes-doubt",django,django-widget,,,,,open,0,156,4,"django duplicate widget requirements If we have multiple files defining widget classes, and if widgets have e.g

    class W1(forms.DateInput):
        
        class Media:
            css = {'all':('common/css/ui-darkness/jquery-ui-1.8.9.custom.css',),}
            js = ('common/js/jquery-ui-1.8.9.custom.min.js',)
    
    class W2(forms.TextArea):
        
        class Media:
            js = ('common/js/jquery-ui-1.8.9.custom.min.js',)

and we use both W2 and W1 on the same page, that would not be [good][1]. I would like to ask what is a possible solution to manage the widgets' media requirements/classes such that I can ensure using multiple widgets would not have duplicate js or css appearing more than once?


  [1]: http://stackoverflow.com/questions/5766557/duplicate-javascript-and-css-includes-doubt",2
4184558,11/15/2010 12:58:41,220129,11/27/2009 16:11:09,648,11,django - query filter on manytomany is empty,"In Django is there a way to filter on a manytomany field being empty or null.

e.g.

    class TestModel(models.Model):
        name = models.CharField(_('set name'), max_length=200)
        manytomany = models.ManyToManyField('AnotherModel', blank=True, null=True)
    
    print TestModel.objects.filter(manytomany__is_null= True)

 
",django,django-queryset,django-queries,django-filter,,,open,0,56,8,"django - query filter on manytomany is empty In Django is there a way to filter on a manytomany field being empty or null.

e.g.

    class TestModel(models.Model):
        name = models.CharField(_('set name'), max_length=200)
        manytomany = models.ManyToManyField('AnotherModel', blank=True, null=True)
    
    print TestModel.objects.filter(manytomany__is_null= True)

 
",4
4888062,02/03/2011 15:27:40,267831,10/08/2009 15:56:25,1515,8,Django: query database at fixed interval and send email?,"I have a Django site and once a week, I'd like to query the database and send an email based on that query.

It's a library site, and I want to query the list of users, find each user's checked-out books, and email each user. 

The process is something like this (pseudocode):

    for user in users:
        get user.email_address
        get user.books
        get intro_text and from_address (global for the site)
        create email for user
        send email

There's also the complication that `intro_text` and `from_address` need to be configurable through the admin interface. I'm planning to [store these in the database][1], rather than in `settings.py`. 

I'm guessing I should create this as a Django management task that I can then run as a cron job - would that be a sensible approach?

Thanks for your help. 


  [1]: http://stackoverflow.com/questions/4876462/django-allow-admin-user-to-edit-site-wide-settings",django,,,,,,open,0,172,9,"Django: query database at fixed interval and send email? I have a Django site and once a week, I'd like to query the database and send an email based on that query.

It's a library site, and I want to query the list of users, find each user's checked-out books, and email each user. 

The process is something like this (pseudocode):

    for user in users:
        get user.email_address
        get user.books
        get intro_text and from_address (global for the site)
        create email for user
        send email

There's also the complication that `intro_text` and `from_address` need to be configurable through the admin interface. I'm planning to [store these in the database][1], rather than in `settings.py`. 

I'm guessing I should create this as a Django management task that I can then run as a cron job - would that be a sensible approach?

Thanks for your help. 


  [1]: http://stackoverflow.com/questions/4876462/django-allow-admin-user-to-edit-site-wide-settings",1
3647227,09/05/2010 18:28:35,308204,04/03/2010 08:41:26,45,2,Django test runner runs 0 tests...,"I have a problem similar to what's described [here][1], but the problem's not related to not having installed sites or apps (all other management commands work fine anyway).

I've used the standard tests.py that comes under my app's directory just to check everything, and I get the complete ""creating table..."" and ""Installing index..."" messages (for all my site's models, incidentally), but then just the simple message:

> Ran 0 tests in 0.000s

> OK
> 
> Destroying test database 'default'...

Any idea what could be causing this? Thanks in advance..


  [1]: http://stackoverflow.com/questions/2037364/django-test-runner-not-finding-tests ""here""",django,unit-testing,,,,02/23/2012 21:56:26,not a real question,1,89,6,"Django test runner runs 0 tests... I have a problem similar to what's described [here][1], but the problem's not related to not having installed sites or apps (all other management commands work fine anyway).

I've used the standard tests.py that comes under my app's directory just to check everything, and I get the complete ""creating table..."" and ""Installing index..."" messages (for all my site's models, incidentally), but then just the simple message:

> Ran 0 tests in 0.000s

> OK
> 
> Destroying test database 'default'...

Any idea what could be causing this? Thanks in advance..


  [1]: http://stackoverflow.com/questions/2037364/django-test-runner-not-finding-tests ""here""",2
11334103,07/04/2012 18:43:49,1502171,07/04/2012 17:25:05,1,0,django: is there a good persian documentation,"I want to learn django web framework. but I have a problem, my language is persian and it's very hard for me to study django from english site like

http://www.djangobook.com
or
http://www.djangoproject.com/doc

is there a documentation or book about django web framework in persian language?

thanks in advance.",django,,,,,,open,0,43,7,"django: is there a good persian documentation I want to learn django web framework. but I have a problem, my language is persian and it's very hard for me to study django from english site like

http://www.djangobook.com
or
http://www.djangoproject.com/doc

is there a documentation or book about django web framework in persian language?

thanks in advance.",1
946243,06/03/2009 18:04:40,87535,04/06/2009 09:20:30,41,5,Form widget for text inputs with external link wanted!,"I keep field imdb_id for models Movie in my db:

    class Movie(models.Model):
        imdb_id = models.IntegerField('imdb ID', blank=True, null=True, unique=True)
    
        def _get_imdb_url(self):
            return self.imdb_id and 'http://www.imdb.com/title/tt%s/' % str(self.imdb_id).zfill(7) or ''
    
        def _set_imdb_url(self, imdb_url):
            self.imdb_id = int( re.compile(r'[^\d]').sub('', imdb_url))
    
        imdb_url = property(_get_imdb_url, _set_imdb_url)

And I want to make special widget for displaying external link to imdb.com in the admin form near text input for field 'imdb_id'. I think it may be global widget for any form field with external link, generated by using special mask (in my case, this mask is 'http://www.imdb.com/title/tt%s/'). I know how to write widget, but I don't know how push my mask, defined in my Movie model, to this widget. I don't want to violate DRY principe and define this mask in two different places. And also it will be a good tool for the same purpose with other external links in future.

What do you think about this widget? How it is posssible to realize it? May be someone wrote it before me?

Thanks!",django,django-forms,django-admin,,,,open,0,229,9,"Form widget for text inputs with external link wanted! I keep field imdb_id for models Movie in my db:

    class Movie(models.Model):
        imdb_id = models.IntegerField('imdb ID', blank=True, null=True, unique=True)
    
        def _get_imdb_url(self):
            return self.imdb_id and 'http://www.imdb.com/title/tt%s/' % str(self.imdb_id).zfill(7) or ''
    
        def _set_imdb_url(self, imdb_url):
            self.imdb_id = int( re.compile(r'[^\d]').sub('', imdb_url))
    
        imdb_url = property(_get_imdb_url, _set_imdb_url)

And I want to make special widget for displaying external link to imdb.com in the admin form near text input for field 'imdb_id'. I think it may be global widget for any form field with external link, generated by using special mask (in my case, this mask is 'http://www.imdb.com/title/tt%s/'). I know how to write widget, but I don't know how push my mask, defined in my Movie model, to this widget. I don't want to violate DRY principe and define this mask in two different places. And also it will be a good tool for the same purpose with other external links in future.

What do you think about this widget? How it is posssible to realize it? May be someone wrote it before me?

Thanks!",3
7495329,09/21/2011 06:16:26,683367,03/30/2011 06:03:13,110,5,Use of Django sqlcustom,"Whats the actual purpose of sqlcustom.I have the sql query to create a table.Now can i put that query like '<appnamefolder>/sql/<modelname>.sql' & will the model automatically be created ?.Can I delete the '/sql/<modelname>.sql' afterwards ?
if not how do I create a model for a sql query.",django,,,,,,open,0,46,4,"Use of Django sqlcustom Whats the actual purpose of sqlcustom.I have the sql query to create a table.Now can i put that query like '<appnamefolder>/sql/<modelname>.sql' & will the model automatically be created ?.Can I delete the '/sql/<modelname>.sql' afterwards ?
if not how do I create a model for a sql query.",1
10054892,04/07/2012 13:27:28,462794,08/05/2010 09:07:28,47,2,Change Name of a form field in django without eval,"I would like to change the name of the field i generate in my form.
Because here they all have the same name.
All my fields here will be nammed f and fprivate.
Wich is problematic for analysing them.
I could use eval but it's dirty 


    def invitation_inscription(request):
        user = request.user
        if user.get_profile().Finished  == False :
            Caracs = Carac.objects.all()
            temp = BaseFormSet
            CARAC_CHOICES = (('1', 'Nul'), ('2', 'Bof'),('3', 'Moyen'),('4', 'Bon'),('5', 'Excellent'))
            PRIVATE = (('0', 'Private'), ('1', 'Public'))
            i = 0
            for carac in Caracs :
                f = ChoiceField(name=carac.Nom,label='%s : '%carac.Nom,widget=RadioSelect, choices=CARAC_CHOICES)
                fprivate = ChoiceField(name=""%s_private""%carac.Nom,label='Visibility : ',widget=RadioSelect, choices=PRIVATE)
                temp.add_fields(f,i)
                temp.add_fields(fprivate,i+1)
                i += 1 

Regards
Bussiere",django,django-models,django-forms,,,,open,0,259,10,"Change Name of a form field in django without eval I would like to change the name of the field i generate in my form.
Because here they all have the same name.
All my fields here will be nammed f and fprivate.
Wich is problematic for analysing them.
I could use eval but it's dirty 


    def invitation_inscription(request):
        user = request.user
        if user.get_profile().Finished  == False :
            Caracs = Carac.objects.all()
            temp = BaseFormSet
            CARAC_CHOICES = (('1', 'Nul'), ('2', 'Bof'),('3', 'Moyen'),('4', 'Bon'),('5', 'Excellent'))
            PRIVATE = (('0', 'Private'), ('1', 'Public'))
            i = 0
            for carac in Caracs :
                f = ChoiceField(name=carac.Nom,label='%s : '%carac.Nom,widget=RadioSelect, choices=CARAC_CHOICES)
                fprivate = ChoiceField(name=""%s_private""%carac.Nom,label='Visibility : ',widget=RadioSelect, choices=PRIVATE)
                temp.add_fields(f,i)
                temp.add_fields(fprivate,i+1)
                i += 1 

Regards
Bussiere",3
3289781,07/20/2010 12:16:59,380829,07/01/2010 07:17:07,78,4,How to make case insensitive filter queries with Google App Engine?,"I am working on a GAE Django Project where I have to implementing the search functionality, I have written a query and it fetches the data according to the search keyword.

    portfolio = Portfolio.all().filter('full_name >=',key).filter('full_name <',unicode(key) + u'\ufffd')

The issue with this query is, that it is case sensitive.

Is there any way through which I can make it to work, without depending upon the case of the keyword? 

Please suggest.

Thanks in advance.",django,google-app-engine,google-datastore,,,,open,0,74,11,"How to make case insensitive filter queries with Google App Engine? I am working on a GAE Django Project where I have to implementing the search functionality, I have written a query and it fetches the data according to the search keyword.

    portfolio = Portfolio.all().filter('full_name >=',key).filter('full_name <',unicode(key) + u'\ufffd')

The issue with this query is, that it is case sensitive.

Is there any way through which I can make it to work, without depending upon the case of the keyword? 

Please suggest.

Thanks in advance.",3
2374572,03/03/2010 20:13:18,131091,06/30/2009 13:48:34,37,0,Adding a link on the Django Admin frontpage,"I've created a custom view to make some data entry easier and I want to add a link to it on the front page of the Django admin. Is there an easy way to do this? 

I suppose I could override the default admin template, but before I do that I just want to make sure there isn't something simpler I could do.",django,django-admin,,,,,open,0,63,8,"Adding a link on the Django Admin frontpage I've created a custom view to make some data entry easier and I want to add a link to it on the front page of the Django admin. Is there an easy way to do this? 

I suppose I could override the default admin template, but before I do that I just want to make sure there isn't something simpler I could do.",2
7707445,10/10/2011 00:07:43,169913,09/07/2009 23:38:10,137,6,Django Two foreign key,"I have two models: **UserProfile** (extended from user) and **Cv**. I created another model that have two foreign key that come from theses models. 

    class cv(models.Model):
        user = models.ForeignKey(User, unique=True)
        cv_d= models.TextField(max_length=1100)
        ...
    class cvv(models.Model):
        user = models.ForeignKey(User)    
        cv= models.ForeignKey(cv)    
        date = models.DateTimeField(auto_now=True)

In my **view**, I am trying to insert value on cvv:

    ...
    obj = cv.objects.get(pk=id,active=True)
    add=cvv(user=request.user, cv=obj)    
    add.save()

But, I am getting the following error:
**(1452, 'Cannot add or update a child row: a foreign key constraint fails** 

How can I insert theses 2 foreign key on my model?
",django,django-models,django-views,,,,open,0,162,4,"Django Two foreign key I have two models: **UserProfile** (extended from user) and **Cv**. I created another model that have two foreign key that come from theses models. 

    class cv(models.Model):
        user = models.ForeignKey(User, unique=True)
        cv_d= models.TextField(max_length=1100)
        ...
    class cvv(models.Model):
        user = models.ForeignKey(User)    
        cv= models.ForeignKey(cv)    
        date = models.DateTimeField(auto_now=True)

In my **view**, I am trying to insert value on cvv:

    ...
    obj = cv.objects.get(pk=id,active=True)
    add=cvv(user=request.user, cv=obj)    
    add.save()

But, I am getting the following error:
**(1452, 'Cannot add or update a child row: a foreign key constraint fails** 

How can I insert theses 2 foreign key on my model?
",3
5406450,03/23/2011 14:05:45,232018,12/15/2009 10:47:30,1003,33,Extending Django model class (m2m) 2 levels away,"OK I know the title sounds really confusing, but really it's quite simple. Consider this:

    class A(models.Model):
        field = models.CharField(max_length=10)

    class B(models.Model):
        field = models.CharField(max_length=10)
        a_elements = models.ManyToManyField(A)

    class C(models.Model):
        field = models.CharField(max_length=10)
        b_element = models.ForeignKey(A)

so, now what I want is to extend all instances of A with some other field. for example for every instance of A that is available via B i need an integer associated to it.

is there an easy way of doing this?


",django,django-models,,,,,open,0,121,8,"Extending Django model class (m2m) 2 levels away OK I know the title sounds really confusing, but really it's quite simple. Consider this:

    class A(models.Model):
        field = models.CharField(max_length=10)

    class B(models.Model):
        field = models.CharField(max_length=10)
        a_elements = models.ManyToManyField(A)

    class C(models.Model):
        field = models.CharField(max_length=10)
        b_element = models.ForeignKey(A)

so, now what I want is to extend all instances of A with some other field. for example for every instance of A that is available via B i need an integer associated to it.

is there an easy way of doing this?


",2
6419034,06/21/2011 00:20:45,651174,03/09/2011 08:26:41,359,5,Add a timestamp on a boolean field,"I have a video object, which an administrator can feature. I want to be able to sort those featured videos by the date they were made featured. 

Here are the models I currently have -- 

    class VideoMedia(models.Model):
        uploaded_by = models.ForeignKey('UserProfile')
        video = models.ImageField(upload_to='videos')
        info = models.ForeignKey('VideoInfo', blank = True, null=True)

    class VideoInfo(models.Model):
        title = models.CharField(max_length=256)
        featured = models.BooleanField # need time also
        ...

My relevant view code looks like this -- 

    video_set = VideoInfo.objects.all()
        if sort == 'featured':
            videos = video_set.filter(featured=1) # .order_by('timestamp') ?
I tried adding a FK to the featured field, but it makes it very difficult for me in the view/template to display the correct data. 

    class FeaturedVideos(models.Model):
        video = models.ForeignKey(VideoMedia)
        timestamp = models.DateTimeField(auto_now_add=True)
    # in view
        if sort == 'featured':
            videos = FeaturedVideos.objects.order_by('timestamp')
            # this doesn't work, because I need to be relative to the VideoInfo model
            # for the information to display correctly in the template

What would be the most straightforward way to accomplish this task? Thank you.

",django,django-models,django-views,,,,open,0,293,7,"Add a timestamp on a boolean field I have a video object, which an administrator can feature. I want to be able to sort those featured videos by the date they were made featured. 

Here are the models I currently have -- 

    class VideoMedia(models.Model):
        uploaded_by = models.ForeignKey('UserProfile')
        video = models.ImageField(upload_to='videos')
        info = models.ForeignKey('VideoInfo', blank = True, null=True)

    class VideoInfo(models.Model):
        title = models.CharField(max_length=256)
        featured = models.BooleanField # need time also
        ...

My relevant view code looks like this -- 

    video_set = VideoInfo.objects.all()
        if sort == 'featured':
            videos = video_set.filter(featured=1) # .order_by('timestamp') ?
I tried adding a FK to the featured field, but it makes it very difficult for me in the view/template to display the correct data. 

    class FeaturedVideos(models.Model):
        video = models.ForeignKey(VideoMedia)
        timestamp = models.DateTimeField(auto_now_add=True)
    # in view
        if sort == 'featured':
            videos = FeaturedVideos.objects.order_by('timestamp')
            # this doesn't work, because I need to be relative to the VideoInfo model
            # for the information to display correctly in the template

What would be the most straightforward way to accomplish this task? Thank you.

",3
10385718,04/30/2012 14:53:08,1042788,11/12/2011 04:01:37,151,11,How can I configure django-auth-ldap to use more than one LDAP server?,"I've been using [django-auth-ldap][1] for a while to auth against a single server (AUTH_LDAP_SERVER_URI in settings.py). There have been some changes in my organization recently, and I now need to be able to check against two different LDAP servers (actually: Active Directory, but I don't think that comes into play here). Unfortunately there is not a single location that has all of the user info I need.

Is there any way I can configure django-auth-ldap to check against more than 1 server? The documentation seems to assume a single server/URI. I'd also entertain ideas outside of django-auth-ldap, but I'd really like to stick with it if possible because it keeps things simple.


  [1]: http://packages.python.org/django-auth-ldap/",django,ldap,django-settings,,,,open,0,114,12,"How can I configure django-auth-ldap to use more than one LDAP server? I've been using [django-auth-ldap][1] for a while to auth against a single server (AUTH_LDAP_SERVER_URI in settings.py). There have been some changes in my organization recently, and I now need to be able to check against two different LDAP servers (actually: Active Directory, but I don't think that comes into play here). Unfortunately there is not a single location that has all of the user info I need.

Is there any way I can configure django-auth-ldap to check against more than 1 server? The documentation seems to assume a single server/URI. I'd also entertain ideas outside of django-auth-ldap, but I'd really like to stick with it if possible because it keeps things simple.


  [1]: http://packages.python.org/django-auth-ldap/",3
8904474,01/18/2012 02:38:34,15369,09/17/2008 08:43:27,7768,357,Where's the best place to put an DJango Admin action which doesn't require a selection?,"I have some code to automatically scan the file system for new images and add new items as model instances. Currently I'm using the following to trigger the update:

    def update_image_list(modeladmin, request, queryset):
        print ""Updating image list...""
        AddMissingImageEntries()
    update_image_list.short_description = ""Update image list from filesystem""
        
    class ProductImageAdmin(admin.ModelAdmin):
        actions = [update_image_list]

    admin.site.register(ProductImage, ProductImageAdmin)

...which works except that I have to select an item to get it to run and it feels a bit hacky.

This action is related to the ProductImage so it feels right to keep it in the ProductImageAdmin area I'm just not sure how this could be tidied up?",django,django-admin,,,,,open,0,140,15,"Where's the best place to put an DJango Admin action which doesn't require a selection? I have some code to automatically scan the file system for new images and add new items as model instances. Currently I'm using the following to trigger the update:

    def update_image_list(modeladmin, request, queryset):
        print ""Updating image list...""
        AddMissingImageEntries()
    update_image_list.short_description = ""Update image list from filesystem""
        
    class ProductImageAdmin(admin.ModelAdmin):
        actions = [update_image_list]

    admin.site.register(ProductImage, ProductImageAdmin)

...which works except that I have to select an item to get it to run and it feels a bit hacky.

This action is related to the ProductImage so it feels right to keep it in the ProductImageAdmin area I'm just not sure how this could be tidied up?",2
6998586,08/09/2011 15:20:11,842935,07/13/2011 14:56:44,1,0,"django: avoid ""Unused variable"" warning on get_or_create","Is there a way to avoid ""Unused variable"" warning on get_or_create method?

level,created= Level.objects.get_or_create( name='Alumnes x Classificar')

because I don't need to read 'created' variable, IDE show a warning about this.

I know that a trivial solutions i to use variable, some thing like: if create: pass
But I,m looking for a more elegant solution.

See you!",django,,,,,,open,0,52,7,"django: avoid ""Unused variable"" warning on get_or_create Is there a way to avoid ""Unused variable"" warning on get_or_create method?

level,created= Level.objects.get_or_create( name='Alumnes x Classificar')

because I don't need to read 'created' variable, IDE show a warning about this.

I know that a trivial solutions i to use variable, some thing like: if create: pass
But I,m looking for a more elegant solution.

See you!",1
11618829,07/23/2012 19:05:08,408669,08/02/2010 13:00:04,366,4,Good javascript framework to integrate with Django?,"I'm building a new web app. It will be in Django, but I'm now looking for a good frontend javascript library/framework to use.

I know JQuery, but what about Backbone.js or node.js? Thoughts?

I'm looking past JQuery because an MVC JavaScript library would be nice to use.  ",django,node.js,backbone.js,,,07/24/2012 13:10:56,not constructive,1,47,7,"Good javascript framework to integrate with Django? I'm building a new web app. It will be in Django, but I'm now looking for a good frontend javascript library/framework to use.

I know JQuery, but what about Backbone.js or node.js? Thoughts?

I'm looking past JQuery because an MVC JavaScript library would be nice to use.  ",3
2240880,02/10/2010 22:41:09,221209,11/30/2009 08:56:54,36,5,Django Haystack : search for a term with and without accents,"I'm implementing a search system onto my django project, using django haystack. The problem is that some fields in my models have some french accents, and I would like to find the entries which contents the query with and without accents.

I think the best Idea is to create a SearchIndex with both the fields with the accents, and the same field without the accents.

Any idea or hint on this ?  

Here is some code


Imagine the following models :

<code>
Cars(models.Model):
     name = models.CharField()
</code>

and the following Haystack Index:

<code>
Cars(indexes.SearchIndex):
    name = indexes.CharField(model_attr='name')
    cleaned_name = indexes.CharField(model_attr='name')

    def prepare_cleaned_name(self, object):
        return strip_accents(object.name)

</code>

now, in my index template, I put the both fields :

<code>
{{ object.cleaned_name }}
{{ object.name }}
</code>


So, thats some pseudo code, I don't know if it works, but if you have any idea on this, let me know !",django,haystack,encoding,search-engine,,,open,0,153,11,"Django Haystack : search for a term with and without accents I'm implementing a search system onto my django project, using django haystack. The problem is that some fields in my models have some french accents, and I would like to find the entries which contents the query with and without accents.

I think the best Idea is to create a SearchIndex with both the fields with the accents, and the same field without the accents.

Any idea or hint on this ?  

Here is some code


Imagine the following models :

<code>
Cars(models.Model):
     name = models.CharField()
</code>

and the following Haystack Index:

<code>
Cars(indexes.SearchIndex):
    name = indexes.CharField(model_attr='name')
    cleaned_name = indexes.CharField(model_attr='name')

    def prepare_cleaned_name(self, object):
        return strip_accents(object.name)

</code>

now, in my index template, I put the both fields :

<code>
{{ object.cleaned_name }}
{{ object.name }}
</code>


So, thats some pseudo code, I don't know if it works, but if you have any idea on this, let me know !",4
11746429,07/31/2012 18:13:14,148201,07/31/2009 00:43:17,89,1,admin filters in Grappelli,"I've got a simple model that displays product pages by client:

    class PostPage(models.Model):
        client = models.CharField(max_length=50, choices=CLIENT_CHOICES)
        job_number = models.CharField(max_length=30, unique=True, blank=False, null=False)
        job_name = models.CharField(max_length=64, unique=False, blank=False, null=False)
        page_type = models.CharField(max_length=50, default='POST')
        ...

and in the admin, I'd like to be able to sort the records by client, thus my admin.py has got:

    class PostPageAdmin(GuardedModelAdmin):
        list_filter = ('client',)

this provides the admin changelist filter I'm looking for in Django's built-in admin however, when I switch to grappelli, the filter list disappears (and the delete button next to the actions dropdown disappears also, though this may be a separate issue). Does this sound like an incorrect grappelli implementation or does grappelli perhaps require different filter code in the admin.py than the default admin install? ",django,django-admin,,,,,open,0,171,4,"admin filters in Grappelli I've got a simple model that displays product pages by client:

    class PostPage(models.Model):
        client = models.CharField(max_length=50, choices=CLIENT_CHOICES)
        job_number = models.CharField(max_length=30, unique=True, blank=False, null=False)
        job_name = models.CharField(max_length=64, unique=False, blank=False, null=False)
        page_type = models.CharField(max_length=50, default='POST')
        ...

and in the admin, I'd like to be able to sort the records by client, thus my admin.py has got:

    class PostPageAdmin(GuardedModelAdmin):
        list_filter = ('client',)

this provides the admin changelist filter I'm looking for in Django's built-in admin however, when I switch to grappelli, the filter list disappears (and the delete button next to the actions dropdown disappears also, though this may be a separate issue). Does this sound like an incorrect grappelli implementation or does grappelli perhaps require different filter code in the admin.py than the default admin install? ",2
4771581,01/23/2011 00:36:42,306374,03/31/2010 20:49:49,66,3,Django invite code app recommendation?,"I'm looking for a simple Django app that restricts registration to users who have an invite code (for running a private beta). I'm using django-registration, so something that plays nicely with it would be great. 

Looks like there are several viable options:

[django-inviting][1]
[django-privatebeta][2]
[django-invite][3]

Given the wealth of options, I'm wondering if people have found a particular app more flexible and/or easier to work with than the others? Are there other apps that I should be aware of?


  [1]: https://github.com/muhuk/django-inviting
  [2]: https://github.com/pragmaticbadger/django-privatebeta
  [3]: https://bitbucket.org/lorien/django-invite/src",django,registration,django-apps,invite,,07/16/2012 17:24:47,not constructive,1,84,5,"Django invite code app recommendation? I'm looking for a simple Django app that restricts registration to users who have an invite code (for running a private beta). I'm using django-registration, so something that plays nicely with it would be great. 

Looks like there are several viable options:

[django-inviting][1]
[django-privatebeta][2]
[django-invite][3]

Given the wealth of options, I'm wondering if people have found a particular app more flexible and/or easier to work with than the others? Are there other apps that I should be aware of?


  [1]: https://github.com/muhuk/django-inviting
  [2]: https://github.com/pragmaticbadger/django-privatebeta
  [3]: https://bitbucket.org/lorien/django-invite/src",4
2032360,01/09/2010 04:37:52,239073,12/27/2009 05:16:26,8,0,ValueError in Django,"I'm getting a strange error and can't figure out why. I'd appreciate any input. I've been stuck on this for a few days. Here is my code:

models.py

    class Employee(models.Model): 
        lastname = models.CharField(max_length=75) 
        firstname = models.CharField(max_length=75) 
        position = models.ForeignKey(Position) 
        jurisdiction = models.ForeignKey(Jurisdiction) 
        basepay = models.FloatField()
        ot = models.FloatField()
        benefits = models.FloatField()
        totalpay = models.FloatField()
      
        class Meta: 
            ordering = ['lastname', 'firstname'] 
        def __unicode__(self): 
            return ""%s %s"" % (self.firstname, self.lastname) 
        def full_name(self): 
            return ""%s, %s"" % (self.lastname, self.firstname) 
        def get_absolute_url(self): 
            return ""/salaries/employee/%s/"" % self.id  

urls.py

    from django.conf.urls.defaults import *
    from djangodemo.salaries.models import Employee
    from django.views.generic import list_detail
    
    employee_info = {
        ""queryset"" : Employee.objects.all(),
        ""template_name"" : ""salaries/employee.html"",
    }
    
    urlpatterns = patterns('',     
        (r'^salaries/employee/$', list_detail.object_list, 'employee_info'),
    )

employee.html

    {{ object_list }}

When I run python manage.py runserver and look at http://127.0.0.1:8000/salaries/employee in my browser, I get this error:

Traceback (most recent call last):

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\servers\basehttp.py"", line 279, in run
    self.result = application(self.environ, self.start_response)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\servers\basehttp.py"", line 651, in __call__
    return self.application(environ, start_response)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\handlers\wsgi.py"", line 241, in __call__
    response = self.get_response(request)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\handlers\base.py"", line 73, in get_response
    response = middleware_method(request)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\middleware\common.py"", line 57, in process_request
    _is_valid_path(""%s/"" % request.path_info)):

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\middleware\common.py"", line 142, in _is_valid_path
    urlresolvers.resolve(path)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\urlresolvers.py"", line 294, in resolve
    return get_resolver(urlconf).resolve(path)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\urlresolvers.py"", line 218, in resolve
    sub_match = pattern.resolve(new_path)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\urlresolvers.py"", line 123, in resolve
    kwargs.update(self.default_args)

ValueError: dictionary update sequence element #0 has length 1; 2 is required",django,python,,,,,open,0,466,3,"ValueError in Django I'm getting a strange error and can't figure out why. I'd appreciate any input. I've been stuck on this for a few days. Here is my code:

models.py

    class Employee(models.Model): 
        lastname = models.CharField(max_length=75) 
        firstname = models.CharField(max_length=75) 
        position = models.ForeignKey(Position) 
        jurisdiction = models.ForeignKey(Jurisdiction) 
        basepay = models.FloatField()
        ot = models.FloatField()
        benefits = models.FloatField()
        totalpay = models.FloatField()
      
        class Meta: 
            ordering = ['lastname', 'firstname'] 
        def __unicode__(self): 
            return ""%s %s"" % (self.firstname, self.lastname) 
        def full_name(self): 
            return ""%s, %s"" % (self.lastname, self.firstname) 
        def get_absolute_url(self): 
            return ""/salaries/employee/%s/"" % self.id  

urls.py

    from django.conf.urls.defaults import *
    from djangodemo.salaries.models import Employee
    from django.views.generic import list_detail
    
    employee_info = {
        ""queryset"" : Employee.objects.all(),
        ""template_name"" : ""salaries/employee.html"",
    }
    
    urlpatterns = patterns('',     
        (r'^salaries/employee/$', list_detail.object_list, 'employee_info'),
    )

employee.html

    {{ object_list }}

When I run python manage.py runserver and look at http://127.0.0.1:8000/salaries/employee in my browser, I get this error:

Traceback (most recent call last):

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\servers\basehttp.py"", line 279, in run
    self.result = application(self.environ, self.start_response)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\servers\basehttp.py"", line 651, in __call__
    return self.application(environ, start_response)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\handlers\wsgi.py"", line 241, in __call__
    response = self.get_response(request)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\handlers\base.py"", line 73, in get_response
    response = middleware_method(request)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\middleware\common.py"", line 57, in process_request
    _is_valid_path(""%s/"" % request.path_info)):

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\middleware\common.py"", line 142, in _is_valid_path
    urlresolvers.resolve(path)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\urlresolvers.py"", line 294, in resolve
    return get_resolver(urlconf).resolve(path)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\urlresolvers.py"", line 218, in resolve
    sub_match = pattern.resolve(new_path)

  File ""F:\django\instantdjango\Python26\Lib\site-packages\django\core\urlresolvers.py"", line 123, in resolve
    kwargs.update(self.default_args)

ValueError: dictionary update sequence element #0 has length 1; 2 is required",2
8191596,11/19/2011 03:12:47,1031889,11/06/2011 05:49:49,3,0,mod_fcgid: error reading data from FastCGI server,"I'm deploying my Django app in hostmonster. When running I got error:

    [Fri Nov 18 19:50:04 2011] [warn] [client 113.185.2.152] (104)Connection reset by peer: mod_fcgid: error reading data from FastCGI server
    [Fri Nov 18 19:50:04 2011] [error] [client 113.185.2.152] Premature end of script headers: django.fcgi
    [Fri Nov 18 19:50:04 2011] [error] [client 113.185.2.152] invalid CGI ref ""/500.php"" in /home4/riasolut/public_html/500.shtml

my django.fcgi is:

    #!/home/riaolut/python-2.7.2/
    # -*- mode: python; -*-
     
    import sys, os
     
    # Add a custom Python path.
    sys.path.insert(0, ""/home/riasolut/django/django_projects/"")
     
    # Switch to the directory of your project. (Optional.)
    #os.chdir(""/home/riasolut/django/django_projects/thep_viet"")
     
    # Set the DJANGO_SETTINGS_MODULE environment variable.
    os.environ['DJANGO_SETTINGS_MODULE'] = ""thep_viet.settings""
     
    from django.core.servers.fastcgi import runfastcgi
    runfastcgi(method=""threaded"", daemonize=""false"")

But when I ssh to my host and run django.fcgi manual by python command.
I got the message:


    WSGIServer: missing FastCGI param REQUEST_METHOD required by WSGI!
    WSGIServer: missing FastCGI param SERVER_NAME required by WSGI!
    WSGIServer: missing FastCGI param SERVER_PORT required by WSGI!
    WSGIServer: missing FastCGI param SERVER_PROTOCOL required by WSGI!
    Status: 200 OK
    Content-Type: text/html
    
    
    <!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 4.01 Transitional//EN"" ""http://www.w3.org/TR/html4/loose.dtd"">
    <html lang=""en""><head>
      <meta http-equiv=""content-type"" content=""text/html; charset=utf-8"">
      <meta name=""robots"" content=""NONE,NOARCHIVE""><title>Welcome to Django</title>
      <style type=""text/css"">
        html * { padding:0; margin:0; }
        body * { padding:10px 20px; }
        body * * { padding:0; }
        body { font:small sans-serif; }
        body>div { border-bottom:1px solid #ddd; }
        h1 { font-weight:normal; }
        h2 { margin-bottom:.8em; }
        h2 span { font-size:80%; color:#666; font-weight:normal; }
        h3 { margin:1em 0 .5em 0; }
        h4 { margin:0 0 .5em 0; font-weight: normal; }
        table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }
        tbody td, tbody th { vertical-align:top; padding:2px 3px; }
        thead th { padding:1px 6px 1px 3px; background:#fefefe; text-align:left; font-weight:normal; font-size:11px; border:1px solid #ddd; }
        tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
        ul { margin-left: 2em; margin-top: 1em; }
        #summary { background: #e0ebff; }
        #summary h2 { font-weight: normal; color: #666; }
        #explanation { background:#eee; }
        #instructions { background:#f6f6f6; }
        #summary table { border:none; background:transparent; }
      </style>
    </head>
    
    <body>
    <div id=""summary"">
      <h1>It worked!</h1>
      <h2>Congratulations on your first Django-powered page.</h2>
    </div>
    
    <div id=""instructions"">
      <p>Of course, you haven't actually done any work yet. Here's what to do next:</p>
      <ul>
        <li>If you plan to use a database, edit the <code>DATABASES</code> setting in <code>thep_viet/settings.py</code>.</li>
        <li>Start your first app by running <code>python thep_viet/manage.py startapp [appname]</code>.</li>
      </ul>
    </div>
    
    <div id=""explanation"">
      <p>
        You're seeing this message because you have <code>DEBUG = True</code> in your
        Django settings file and you haven't configured any URLs. Get to work!
      </p>
    </div>
    </body></html>

How can I fix this error?",django,,,,,,open,0,765,7,"mod_fcgid: error reading data from FastCGI server I'm deploying my Django app in hostmonster. When running I got error:

    [Fri Nov 18 19:50:04 2011] [warn] [client 113.185.2.152] (104)Connection reset by peer: mod_fcgid: error reading data from FastCGI server
    [Fri Nov 18 19:50:04 2011] [error] [client 113.185.2.152] Premature end of script headers: django.fcgi
    [Fri Nov 18 19:50:04 2011] [error] [client 113.185.2.152] invalid CGI ref ""/500.php"" in /home4/riasolut/public_html/500.shtml

my django.fcgi is:

    #!/home/riaolut/python-2.7.2/
    # -*- mode: python; -*-
     
    import sys, os
     
    # Add a custom Python path.
    sys.path.insert(0, ""/home/riasolut/django/django_projects/"")
     
    # Switch to the directory of your project. (Optional.)
    #os.chdir(""/home/riasolut/django/django_projects/thep_viet"")
     
    # Set the DJANGO_SETTINGS_MODULE environment variable.
    os.environ['DJANGO_SETTINGS_MODULE'] = ""thep_viet.settings""
     
    from django.core.servers.fastcgi import runfastcgi
    runfastcgi(method=""threaded"", daemonize=""false"")

But when I ssh to my host and run django.fcgi manual by python command.
I got the message:


    WSGIServer: missing FastCGI param REQUEST_METHOD required by WSGI!
    WSGIServer: missing FastCGI param SERVER_NAME required by WSGI!
    WSGIServer: missing FastCGI param SERVER_PORT required by WSGI!
    WSGIServer: missing FastCGI param SERVER_PROTOCOL required by WSGI!
    Status: 200 OK
    Content-Type: text/html
    
    
    <!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 4.01 Transitional//EN"" ""http://www.w3.org/TR/html4/loose.dtd"">
    <html lang=""en""><head>
      <meta http-equiv=""content-type"" content=""text/html; charset=utf-8"">
      <meta name=""robots"" content=""NONE,NOARCHIVE""><title>Welcome to Django</title>
      <style type=""text/css"">
        html * { padding:0; margin:0; }
        body * { padding:10px 20px; }
        body * * { padding:0; }
        body { font:small sans-serif; }
        body>div { border-bottom:1px solid #ddd; }
        h1 { font-weight:normal; }
        h2 { margin-bottom:.8em; }
        h2 span { font-size:80%; color:#666; font-weight:normal; }
        h3 { margin:1em 0 .5em 0; }
        h4 { margin:0 0 .5em 0; font-weight: normal; }
        table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }
        tbody td, tbody th { vertical-align:top; padding:2px 3px; }
        thead th { padding:1px 6px 1px 3px; background:#fefefe; text-align:left; font-weight:normal; font-size:11px; border:1px solid #ddd; }
        tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
        ul { margin-left: 2em; margin-top: 1em; }
        #summary { background: #e0ebff; }
        #summary h2 { font-weight: normal; color: #666; }
        #explanation { background:#eee; }
        #instructions { background:#f6f6f6; }
        #summary table { border:none; background:transparent; }
      </style>
    </head>
    
    <body>
    <div id=""summary"">
      <h1>It worked!</h1>
      <h2>Congratulations on your first Django-powered page.</h2>
    </div>
    
    <div id=""instructions"">
      <p>Of course, you haven't actually done any work yet. Here's what to do next:</p>
      <ul>
        <li>If you plan to use a database, edit the <code>DATABASES</code> setting in <code>thep_viet/settings.py</code>.</li>
        <li>Start your first app by running <code>python thep_viet/manage.py startapp [appname]</code>.</li>
      </ul>
    </div>
    
    <div id=""explanation"">
      <p>
        You're seeing this message because you have <code>DEBUG = True</code> in your
        Django settings file and you haven't configured any URLs. Get to work!
      </p>
    </div>
    </body></html>

How can I fix this error?",1
5818124,04/28/2011 11:50:33,11414,09/16/2008 07:47:36,348,30,"Caching ManyToMany ""self"" relationships in Django","I have a model with self-referencing ManyToMany field:

    class Suite(models.Model):
        suites = models.ManyToManyField(""self"", related_name=""parents"",
                                                summetrical=False
                                       )

Current usage of displaying a list of suites is fetching a list of ""master_suites"" (suites that have zero parents) and starting from those recursively doing ""suite.subsuites.all()"" until all are exhausted.

The current way is generating a database query for each such suite, and I would like to add caching to it.

The whole process could be done with loading a list of suites first, Suite.objects.all(); and a list of subsuites: Suite.subsuites.through.all() and using these two datasets to construct the tree.

I want to add this ""logic"" to the ManyRelatedManager, cache the Suite.subsuites.through.all() results, and use the cache during the loops in the views.

But I found no way to set a custom ManyRelatedManager of my own ... how do I do that?",django,django-models,,,,,open,0,228,6,"Caching ManyToMany ""self"" relationships in Django I have a model with self-referencing ManyToMany field:

    class Suite(models.Model):
        suites = models.ManyToManyField(""self"", related_name=""parents"",
                                                summetrical=False
                                       )

Current usage of displaying a list of suites is fetching a list of ""master_suites"" (suites that have zero parents) and starting from those recursively doing ""suite.subsuites.all()"" until all are exhausted.

The current way is generating a database query for each such suite, and I would like to add caching to it.

The whole process could be done with loading a list of suites first, Suite.objects.all(); and a list of subsuites: Suite.subsuites.through.all() and using these two datasets to construct the tree.

I want to add this ""logic"" to the ManyRelatedManager, cache the Suite.subsuites.through.all() results, and use the cache during the loops in the views.

But I found no way to set a custom ManyRelatedManager of my own ... how do I do that?",2
6690692,07/14/2011 08:51:59,828499,07/04/2011 17:01:20,14,0,Problem rendering a Django form field with different representation.,"I've implemented a custom form field for percentages (a modified version of [Djangosnippet #1914](http://djangosnippets.org/snippets/1914/)). I'm doing this like everybody else in the world: Displaying a value of 0.25 as 25%. In order to achieve this we need to multiply the value by 100 whenever we display it and divide it by 100 when we save it (see below).

The save-part (`clean`) works fine but the problem is with displaying the value (`render` or rather `prepare_value`). There are different types of values that get passed to `prepare_value`. It could be your default (mine is 0) so it would be an *int* but it could also be a *Decimal* (most of the time) because after all it's a `DecimalField`.

The problem arises when the form throws an error and values need to be redisplayed. In this case the form value will be passed to it - which is a *unicode*. In this case I don't need to multiply the value by 100 as this has been done before. As you can see I've got an ugly workaround using `value.__class__` for that.

I'm beginning to think that I really don't understand what's happening here and how I can fix this properly. Any suggestions?

    class PercentInput(TextInput):
        def render(self, name, value, attrs=None):
            from django.utils.safestring import mark_safe
            return super(PercentInput, self).render(name, value, attrs) + \
                   mark_safe(u' %')


    class PercentField(DecimalField):
        widget = PercentInput(attrs={'size': 4, 'maxlength': 5})

        default_error_messages = {
            'positive': _(u'Must be a positive number.'),
        }

        def prepare_value(self, value):
            if value.__class__ == Decimal:
                value *= 100
            return super(PercentField, self).prepare_value(value)

        def clean(self, value):
            value = super(PercentField, self).clean(value)
            if value is None:
                return None
            if value < 0:
                raise ValidationError(self.error_messages['positive'])
            return Decimal('%.4f' % (value / 100))
",django,django-forms,,,,,open,0,483,9,"Problem rendering a Django form field with different representation. I've implemented a custom form field for percentages (a modified version of [Djangosnippet #1914](http://djangosnippets.org/snippets/1914/)). I'm doing this like everybody else in the world: Displaying a value of 0.25 as 25%. In order to achieve this we need to multiply the value by 100 whenever we display it and divide it by 100 when we save it (see below).

The save-part (`clean`) works fine but the problem is with displaying the value (`render` or rather `prepare_value`). There are different types of values that get passed to `prepare_value`. It could be your default (mine is 0) so it would be an *int* but it could also be a *Decimal* (most of the time) because after all it's a `DecimalField`.

The problem arises when the form throws an error and values need to be redisplayed. In this case the form value will be passed to it - which is a *unicode*. In this case I don't need to multiply the value by 100 as this has been done before. As you can see I've got an ugly workaround using `value.__class__` for that.

I'm beginning to think that I really don't understand what's happening here and how I can fix this properly. Any suggestions?

    class PercentInput(TextInput):
        def render(self, name, value, attrs=None):
            from django.utils.safestring import mark_safe
            return super(PercentInput, self).render(name, value, attrs) + \
                   mark_safe(u' %')


    class PercentField(DecimalField):
        widget = PercentInput(attrs={'size': 4, 'maxlength': 5})

        default_error_messages = {
            'positive': _(u'Must be a positive number.'),
        }

        def prepare_value(self, value):
            if value.__class__ == Decimal:
                value *= 100
            return super(PercentField, self).prepare_value(value)

        def clean(self, value):
            value = super(PercentField, self).clean(value)
            if value is None:
                return None
            if value < 0:
                raise ValidationError(self.error_messages['positive'])
            return Decimal('%.4f' % (value / 100))
",2
11412222,07/10/2012 11:20:01,1495664,07/02/2012 09:39:41,1,0,django was_published_recently error,"In tutorial [here][1] I get down to where you run was_published_recently and I get this error:

    

> ImproperlyConfigured at /admin/polls/poll/
PollAdmin.list_display[2], 'was_published_recently' is not a callable or an attribute of 'PollAdmin' or found in the model 'Poll'.
Request Method:	GET
Request URL:	/admin/polls/poll/
Django Version:	1.4
Exception Type:	ImproperlyConfigured
Exception Value:	
PollAdmin.list_display[2], 'was_published_recently' is not a callable or an attribute of 'PollAdmin' or found in the model 'Poll'.
Exception Location:	C:\Python27\lib\site-packages\django\contrib\admin\validation.py in validate, line 38

here is my code:

    
    from polls.models import Poll

    from django.contrib import admin

    from polls.models import Choice

    class ChoiceInline(admin.TabularInline):
      model = Choice
      extra = 3

    class PollAdmin(admin.ModelAdmin):

       fieldsets = [
        (None,               {'fields': ['question']}),
        ('Date information', {'fields': ['pub_date'], 'classes': ['collapse']}),
		]
       inlines = [ChoiceInline]
	
    class PollAdmin(admin.ModelAdmin):
       # ...
       list_display = ('question', 'pub_date', 'was_published_recently')
	
      admin.site.register(Poll, PollAdmin)


  [1]: https://docs.djangoproject.com/en/1.4/intro/tutorial02/",django,,,,,,open,0,208,3,"django was_published_recently error In tutorial [here][1] I get down to where you run was_published_recently and I get this error:

    

> ImproperlyConfigured at /admin/polls/poll/
PollAdmin.list_display[2], 'was_published_recently' is not a callable or an attribute of 'PollAdmin' or found in the model 'Poll'.
Request Method:	GET
Request URL:	/admin/polls/poll/
Django Version:	1.4
Exception Type:	ImproperlyConfigured
Exception Value:	
PollAdmin.list_display[2], 'was_published_recently' is not a callable or an attribute of 'PollAdmin' or found in the model 'Poll'.
Exception Location:	C:\Python27\lib\site-packages\django\contrib\admin\validation.py in validate, line 38

here is my code:

    
    from polls.models import Poll

    from django.contrib import admin

    from polls.models import Choice

    class ChoiceInline(admin.TabularInline):
      model = Choice
      extra = 3

    class PollAdmin(admin.ModelAdmin):

       fieldsets = [
        (None,               {'fields': ['question']}),
        ('Date information', {'fields': ['pub_date'], 'classes': ['collapse']}),
		]
       inlines = [ChoiceInline]
	
    class PollAdmin(admin.ModelAdmin):
       # ...
       list_display = ('question', 'pub_date', 'was_published_recently')
	
      admin.site.register(Poll, PollAdmin)


  [1]: https://docs.djangoproject.com/en/1.4/intro/tutorial02/",1
7407685,09/13/2011 19:57:17,609041,02/09/2011 00:59:41,57,5,Google Checkout and Django integration question,"I haven't used Google Checkout before, but their integration seems pretty simple. I do have a question, though. I plan to integrate Google Checkout with Django, but how would I be able to specify the amount of a product available in the Django CMS and have it sync for when someone buys a product. Example: 1 product of a t-shirt. Person buys the 1 t-shirt through Google Checkout -- I would want the CMS to set that quantity to 0 until a user puts the quantity back to more than 0. Also, there will be t-shirt sizes from XS to XL, so would it make the process more complicated?

Am I correct that I can do something like this when integrating Google Checkout to the Django template?

    <div class=""product"">
      <img class=""product-image"" src=""{{ product.image }}""/><br/>
      <span class=""product-title"">{{ product.title }}</span><br/>
      <span class=""product-price"">{{ product.price }}</span><br/>
      <div  role=""button"" alt=""Add to cart"" tabindex=""0"" class=""googlecart-add-button""></div>
    </div>

Then upon clicking checkout, it will automatically go to the Google Checkout process.",django,django-templates,google-checkout,,,,open,0,188,6,"Google Checkout and Django integration question I haven't used Google Checkout before, but their integration seems pretty simple. I do have a question, though. I plan to integrate Google Checkout with Django, but how would I be able to specify the amount of a product available in the Django CMS and have it sync for when someone buys a product. Example: 1 product of a t-shirt. Person buys the 1 t-shirt through Google Checkout -- I would want the CMS to set that quantity to 0 until a user puts the quantity back to more than 0. Also, there will be t-shirt sizes from XS to XL, so would it make the process more complicated?

Am I correct that I can do something like this when integrating Google Checkout to the Django template?

    <div class=""product"">
      <img class=""product-image"" src=""{{ product.image }}""/><br/>
      <span class=""product-title"">{{ product.title }}</span><br/>
      <span class=""product-price"">{{ product.price }}</span><br/>
      <div  role=""button"" alt=""Add to cart"" tabindex=""0"" class=""googlecart-add-button""></div>
    </div>

Then upon clicking checkout, it will automatically go to the Google Checkout process.",3
5849543,05/01/2011 16:05:11,560833,01/03/2011 04:28:15,150,3,How do I debug mod_wsgi/django/apache/wget timeout,"I have a web service running through django/apache/mod_wsgi that I am trying to debug -- it takes a long time to run server-side, but with certain parameters it just times out. I've tried doing a straight up `wget` on the URI, and using `urllib2`. I get the following error from `wget`:

    Read error (Connection timed out) in headers

Meanwhile, `urllib2` returns nothing at all -- it seems to be erroring silently. I've tried increasing the `Timeout` directive in my apache config, but that doesn't seem to help. The service runs fine with different parameters. How should I debug this? Where is the timeout coming from if not apache?",django,apache,mod-wsgi,wget,,,open,0,110,6,"How do I debug mod_wsgi/django/apache/wget timeout I have a web service running through django/apache/mod_wsgi that I am trying to debug -- it takes a long time to run server-side, but with certain parameters it just times out. I've tried doing a straight up `wget` on the URI, and using `urllib2`. I get the following error from `wget`:

    Read error (Connection timed out) in headers

Meanwhile, `urllib2` returns nothing at all -- it seems to be erroring silently. I've tried increasing the `Timeout` directive in my apache config, but that doesn't seem to help. The service runs fine with different parameters. How should I debug this? Where is the timeout coming from if not apache?",4
6946915,08/04/2011 18:48:16,713454,04/18/2011 13:09:02,42,4,Is there simple way to encode json data in Django?,"I will get data like this from OpenID provider:

    {""identity"":""http:\/\/admin.lol.com\/"",""provider"":""http:\/\/lol.com\/server\/"",
    ""name"":{""full_name"":""\u0421\u0435\u0440\u0433\u0435\u0439 \u0421\u0435\u0440\u0433\u0435\u0439""},
    ""nickname"":""admin"",""email"":""admin@lol.ru"",""gender"":""M"",""dob"":""1985-01-31""}

How to get this data? ",django,django-sessions,,,,08/08/2011 12:04:50,not a real question,1,27,10,"Is there simple way to encode json data in Django? I will get data like this from OpenID provider:

    {""identity"":""http:\/\/admin.lol.com\/"",""provider"":""http:\/\/lol.com\/server\/"",
    ""name"":{""full_name"":""\u0421\u0435\u0440\u0433\u0435\u0439 \u0421\u0435\u0440\u0433\u0435\u0439""},
    ""nickname"":""admin"",""email"":""admin@lol.ru"",""gender"":""M"",""dob"":""1985-01-31""}

How to get this data? ",2
9714089,03/15/2012 04:42:15,1269364,03/14/2012 15:12:55,1,0,UI for nested inlines in Django admin,Movement related with Computer  via many to one and related with DocScan with m2m through extra model.  In case then Computer  has inline formset of  Movements each Movement should have inline formset of DocScan. Django has no possibilities to make nested inlines ‘from box’ by this moment and nested inlines (if applied by means of patches) not always good idea for UI. Please advise how to create nice UI for CRUD in such situation using Django admin.,django,django-admin,,,,03/15/2012 13:15:58,not a real question,1,81,7,UI for nested inlines in Django admin Movement related with Computer  via many to one and related with DocScan with m2m through extra model.  In case then Computer  has inline formset of  Movements each Movement should have inline formset of DocScan. Django has no possibilities to make nested inlines ‘from box’ by this moment and nested inlines (if applied by means of patches) not always good idea for UI. Please advise how to create nice UI for CRUD in such situation using Django admin.,2
1396985,09/09/2009 00:15:11,170518,09/09/2009 00:15:11,1,0,How Do I Select all Objects via a Relationship Model,"Given the Model:

    class Profile(models.Model):
    	user = models.ForeignKey(User, unique=True)
    
    class Thingie(models.Model):
    	children = models.ManyToManyField('self', blank=True, symmetrical=False) 
    
    class Relation(models.Model):
    	profile = models.ForeignKey(GrooveUser, related_name='collaborations')
    	media = models.ForeignKey(Media)

How would one return a QuerySet containing all Profile instances related to a given Thingie?  That is, every Profile that has a foreign key pointing to it from a Relation and to the given thingie.  

I know all about select_related(), and how I could use it to do this by iterating but i find iterating irritating (badoop bah!).  Also, values_list() has been looked at, but it doesn't quite do the right thing.  

Please help!  Thanks!",django,python,django-queryset,queryset,,,open,0,134,10,"How Do I Select all Objects via a Relationship Model Given the Model:

    class Profile(models.Model):
    	user = models.ForeignKey(User, unique=True)
    
    class Thingie(models.Model):
    	children = models.ManyToManyField('self', blank=True, symmetrical=False) 
    
    class Relation(models.Model):
    	profile = models.ForeignKey(GrooveUser, related_name='collaborations')
    	media = models.ForeignKey(Media)

How would one return a QuerySet containing all Profile instances related to a given Thingie?  That is, every Profile that has a foreign key pointing to it from a Relation and to the given thingie.  

I know all about select_related(), and how I could use it to do this by iterating but i find iterating irritating (badoop bah!).  Also, values_list() has been looked at, but it doesn't quite do the right thing.  

Please help!  Thanks!",4
10521870,05/09/2012 18:21:40,442637,09/08/2010 16:33:59,347,9,Testing if session was set to a particular value,"So the only thing I can find is how to set a session during testing. What I want is to check if view set session to a particular value.

This is how I imagine this should be like:

    c = Client()
    response = c.post('/whatever/')
    self.assertEqual('wanted value', response.session['my_value'])

So `cookie` is available, but not `session`. This cannot be this hard.",django,,,,,,open,0,66,9,"Testing if session was set to a particular value So the only thing I can find is how to set a session during testing. What I want is to check if view set session to a particular value.

This is how I imagine this should be like:

    c = Client()
    response = c.post('/whatever/')
    self.assertEqual('wanted value', response.session['my_value'])

So `cookie` is available, but not `session`. This cannot be this hard.",1
8300341,11/28/2011 18:14:49,488735,10/27/2010 11:15:57,742,0,Django - What server configuration should I use for a Django site like this?,"I need to put in production a Django website, but I don't know what
machine I should use... this is not a commercial project, probably the
monetary return will be very very little in ads...

I have:
-Django
-PostgreSQL
-Solr

Do you think that will be enough a linode with 512mb ram?

- Visitors day expected at the end of the first year, 1000 day.
- Size of the database at the end of the first year, 20gb.

How well will do a linode with 512mb? Any clues?

Best Regards,",django,postgresql,solr,,,11/28/2011 18:54:08,off topic,1,79,14,"Django - What server configuration should I use for a Django site like this? I need to put in production a Django website, but I don't know what
machine I should use... this is not a commercial project, probably the
monetary return will be very very little in ads...

I have:
-Django
-PostgreSQL
-Solr

Do you think that will be enough a linode with 512mb ram?

- Visitors day expected at the end of the first year, 1000 day.
- Size of the database at the end of the first year, 20gb.

How well will do a linode with 512mb? Any clues?

Best Regards,",3
10967970,06/10/2012 10:32:46,905318,08/22/2011 06:13:09,365,12,Django admin: ordering by multiple fields in changelist,"I have a simple poll application with models like these:

    class Question(models.Model):
        text = models.CharField(max_length=250)
        position = models.PositiveIntegerField(default=0)
    
    class Variant(models.Model):
        question = models.ForeignKey(Question, related_name=u""variants"")
        text = models.CharField(max_length=250)
        position = models.PositiveIntegerField(default=0)

I'd like these variants to be sorted in admin changelist by question first, and then by position so that they wouldn't mix up with variants from other questions. But simply specifying an ordering in ModelAdmin takes no effect:
    
    class VariantAdmin(admin.ModelAdmin):
        list_display = ['text', 'question', 'position']
        ordering = ['question', '-position']

The variants with bigger position are listed upper in despite of the 'question' ordering.

Is there a way to get this done?",django,admin,,,,,open,0,164,8,"Django admin: ordering by multiple fields in changelist I have a simple poll application with models like these:

    class Question(models.Model):
        text = models.CharField(max_length=250)
        position = models.PositiveIntegerField(default=0)
    
    class Variant(models.Model):
        question = models.ForeignKey(Question, related_name=u""variants"")
        text = models.CharField(max_length=250)
        position = models.PositiveIntegerField(default=0)

I'd like these variants to be sorted in admin changelist by question first, and then by position so that they wouldn't mix up with variants from other questions. But simply specifying an ordering in ModelAdmin takes no effect:
    
    class VariantAdmin(admin.ModelAdmin):
        list_display = ['text', 'question', 'position']
        ordering = ['question', '-position']

The variants with bigger position are listed upper in despite of the 'question' ordering.

Is there a way to get this done?",2
10284760,04/23/2012 16:48:22,220255,11/27/2009 21:29:40,575,17,setting up django_auth_ldap to populate user profile,"I'm trying to configure django_ldap_auth to populate user profile with their region data from LDAP:

I created a model for the profile:

    from django.db import models
    from django.contrib.auth.models import User
    class profile(models.Model):
        user = models.ForeignKey(User, unique=True)
        region = models.CharField(max_length=128, null=True, blank=True)
    
        def __unicode__(self):
            return '{0} profile'.format(self.user.username)
    
        class Meta:
            app_label = 'core'

I configured my settings to map to 'l' LDAP attribute (that's how region is marked in LDAP)

 

    AUTH_PROFILE_MODULE = 'core.profile'
     AUTH_LDAP_PROFILE_ATTR_MAP = {""region"": ""l""}

This may be important, the profile class sits inside app/models/UserProfile.py file and models/__init__.py has `from UserProfile import profile` statement.

However, I still get the following message in debug and profile won't populate:


    search_s('dc=*****,dc=ru', 2, '(sAMAccountName=******)') returned 1 objects: CN=Болотнов Александр,OU=****,OU=****,DC=***,DC=ru
    Populating Django user *****
    Django user **** does not have a profile to populate

Is there anything I'm missing? userdata such as first/last name and email populate just fine but region won't.",django,ldap,django-authentication,,,,open,0,226,7,"setting up django_auth_ldap to populate user profile I'm trying to configure django_ldap_auth to populate user profile with their region data from LDAP:

I created a model for the profile:

    from django.db import models
    from django.contrib.auth.models import User
    class profile(models.Model):
        user = models.ForeignKey(User, unique=True)
        region = models.CharField(max_length=128, null=True, blank=True)
    
        def __unicode__(self):
            return '{0} profile'.format(self.user.username)
    
        class Meta:
            app_label = 'core'

I configured my settings to map to 'l' LDAP attribute (that's how region is marked in LDAP)

 

    AUTH_PROFILE_MODULE = 'core.profile'
     AUTH_LDAP_PROFILE_ATTR_MAP = {""region"": ""l""}

This may be important, the profile class sits inside app/models/UserProfile.py file and models/__init__.py has `from UserProfile import profile` statement.

However, I still get the following message in debug and profile won't populate:


    search_s('dc=*****,dc=ru', 2, '(sAMAccountName=******)') returned 1 objects: CN=Болотнов Александр,OU=****,OU=****,DC=***,DC=ru
    Populating Django user *****
    Django user **** does not have a profile to populate

Is there anything I'm missing? userdata such as first/last name and email populate just fine but region won't.",3
2285879,02/18/2010 02:22:30,246265,01/08/2010 09:33:12,45,3,How do I redirect domain.com to WWW.domain.com under Django?,"How do I go about redirecting all requests for domain.com/... to **www**.domain.com/... with a 301 in a django site?

Obviously this can't be done in urls.py because you only get the path part of the URL in there.

I can't use mod rewrite in .htaccess, because .htaccess files do nothing under Django (I think).

I'm guessing something in middleware or apache conf?

I'm running Django on a Linux server with Plesk, using mod WSGI",django,mod-wsgi,http-status-code-301,,,,open,0,70,9,"How do I redirect domain.com to WWW.domain.com under Django? How do I go about redirecting all requests for domain.com/... to **www**.domain.com/... with a 301 in a django site?

Obviously this can't be done in urls.py because you only get the path part of the URL in there.

I can't use mod rewrite in .htaccess, because .htaccess files do nothing under Django (I think).

I'm guessing something in middleware or apache conf?

I'm running Django on a Linux server with Plesk, using mod WSGI",3
11417735,07/10/2012 16:27:56,1503419,07/05/2012 08:51:50,15,0,Django - a directory in urls.py,"Excuse me for this stupid question, but I add this directory in urls.py  /home/alex/Desktop/project/media/proforma/ and so -> url(r'^/home/alex/Desktop/project/media/proforma/', ""home.views.index"") ? 

/home/...  is a directory for photos and pdf files.

",django,django-models,django-admin,,,07/10/2012 19:58:07,not a real question,1,31,6,"Django - a directory in urls.py Excuse me for this stupid question, but I add this directory in urls.py  /home/alex/Desktop/project/media/proforma/ and so -> url(r'^/home/alex/Desktop/project/media/proforma/', ""home.views.index"") ? 

/home/...  is a directory for photos and pdf files.

",3
3450575,08/10/2010 15:24:58,267831,10/08/2009 15:56:25,442,2,Django: how to upgrade from 1.1 to 1.2?,"Does anyone know how to / can anyone link to simple instructions for how to upgrade from Django 1.1 to Django 1.2?

I can find masses of documentation on the differences between them, the changes you'll need to make to your project etc. 

What I can't find is actually how to upgrade!

Thanks.",django,,,,,,open,0,51,8,"Django: how to upgrade from 1.1 to 1.2? Does anyone know how to / can anyone link to simple instructions for how to upgrade from Django 1.1 to Django 1.2?

I can find masses of documentation on the differences between them, the changes you'll need to make to your project etc. 

What I can't find is actually how to upgrade!

Thanks.",1
2669125,04/19/2010 16:33:05,230419,12/12/2009 20:21:19,37,5,Can a django model have embed classes?,"I want to have a django model like this:

    class Model(models.Model):
     string = models.CharField()
     class ContactDetails:
      phone = models.IntegerField()

Is this possible? I've tried googling but it doesn't seem to answer my question

This would mean i'd have while accesssing:

    Model().ContactDetails.phone

working like that :)

Joe",django,model,django-models,,,,open,0,61,7,"Can a django model have embed classes? I want to have a django model like this:

    class Model(models.Model):
     string = models.CharField()
     class ContactDetails:
      phone = models.IntegerField()

Is this possible? I've tried googling but it doesn't seem to answer my question

This would mean i'd have while accesssing:

    Model().ContactDetails.phone

working like that :)

Joe",3
4484544,12/19/2010 18:53:28,117642,06/04/2009 20:46:10,1481,45,How do I perform a dynamic Django queryset update?,"I have the following model:

    class Book(models.Model):
        title = models.CharField(max_length=100)
        quantity = models.IntegerField()
        in_stock = models.BooleanField()

I have a form which allows me to update the quantity and stock of multiple selected books:

    Quantity:
    In Stock:

    List of Books:
    1. Eat Pray and Love
    2. Twilight

In my views, I can update a querylist of Books like the following:

    quantity = form.cleaned_data['quantity']
    in_stock = form.cleaned_data['in_stock']

    if quantity:
        selected_books.update(quantity=quantity)

    if in_stock:
        selected_books.update(in_stock=in_stock)

I am basically doing a batch update only if the field has been entered.  The above requires 2 separate sql update statements.  Is there a way to call use a single sql statement regardless of the number of entered fields?",django,,,,,,open,0,175,9,"How do I perform a dynamic Django queryset update? I have the following model:

    class Book(models.Model):
        title = models.CharField(max_length=100)
        quantity = models.IntegerField()
        in_stock = models.BooleanField()

I have a form which allows me to update the quantity and stock of multiple selected books:

    Quantity:
    In Stock:

    List of Books:
    1. Eat Pray and Love
    2. Twilight

In my views, I can update a querylist of Books like the following:

    quantity = form.cleaned_data['quantity']
    in_stock = form.cleaned_data['in_stock']

    if quantity:
        selected_books.update(quantity=quantity)

    if in_stock:
        selected_books.update(in_stock=in_stock)

I am basically doing a batch update only if the field has been entered.  The above requires 2 separate sql update statements.  Is there a way to call use a single sql statement regardless of the number of entered fields?",1
1533958,10/07/2009 20:22:26,26235,10/08/2008 18:07:41,335,35,Efficient Django QuerySet regex,"I have a model like this:

    class CampaignPermittedURL(models.Model):
        hostname = models.CharField(max_length=255)
        path = models.CharField(max_length=255,blank=True)

On a frequent basis, I will be handed a url, which I can urlsplit into a hostname and a path.  What I'd like is for the end user to be able to enter a hostname (yahoo.com) and possibly a path (weddings).

I'd like to find when a URL does not 'match' that hostname/path combination like so:

 - success:
   www.yahoo.com/weddings/newyork
 - success: yahoo.com/weddings 
 - failure:
   cnn.com 
 - failure: cnn.com/weddings

I think the best way to do this is:

    url = urlsplit(""http://www.yahoo.com/weddings/newyork"")
    ### split hostname on . and path on /
    matches = CampaignPermittedURL.objects.filter(hostname__regex=r'(yahoo.com|www.yahoo.com)'), \
        path__regex=r'(weddings|weddings/newyork)')

Does anybody have better ideas?  I am using Postgres and would otherwise want to try [Django Full Text Search][1] but I'm not sure if that's worth it or if it really fits my needs any better than this.  Are there other methods that are equally fast?

Keep in mind that my method has the url passed to it and that the CampaignPermittedURL object may have many hundred records.  I am looking for extensible/maintainable solutions foremost, but it does also need to be efficient since this will be scaled to several hundred calls a second.

I'm also fine with using another backend (Sphinx?) but I am most concerned about staying with standard Django to the degree possible.

  [1]: http://code.google.com/p/django-fts/",django,fulltext,regex,,,,open,0,264,4,"Efficient Django QuerySet regex I have a model like this:

    class CampaignPermittedURL(models.Model):
        hostname = models.CharField(max_length=255)
        path = models.CharField(max_length=255,blank=True)

On a frequent basis, I will be handed a url, which I can urlsplit into a hostname and a path.  What I'd like is for the end user to be able to enter a hostname (yahoo.com) and possibly a path (weddings).

I'd like to find when a URL does not 'match' that hostname/path combination like so:

 - success:
   www.yahoo.com/weddings/newyork
 - success: yahoo.com/weddings 
 - failure:
   cnn.com 
 - failure: cnn.com/weddings

I think the best way to do this is:

    url = urlsplit(""http://www.yahoo.com/weddings/newyork"")
    ### split hostname on . and path on /
    matches = CampaignPermittedURL.objects.filter(hostname__regex=r'(yahoo.com|www.yahoo.com)'), \
        path__regex=r'(weddings|weddings/newyork)')

Does anybody have better ideas?  I am using Postgres and would otherwise want to try [Django Full Text Search][1] but I'm not sure if that's worth it or if it really fits my needs any better than this.  Are there other methods that are equally fast?

Keep in mind that my method has the url passed to it and that the CampaignPermittedURL object may have many hundred records.  I am looking for extensible/maintainable solutions foremost, but it does also need to be efficient since this will be scaled to several hundred calls a second.

I'm also fine with using another backend (Sphinx?) but I am most concerned about staying with standard Django to the degree possible.

  [1]: http://code.google.com/p/django-fts/",3
2657565,04/17/2010 06:56:21,234322,12/18/2009 05:05:53,1044,6,"IntegrityError at /maps/create/  (1062, ""Duplicate entry '' for key 'slug'"")","my form is :

    class MapForm(forms.ModelForm):
        
        slug = forms.SlugField(max_length=20)

and did you know why?

and how to make this running..",django,slug,,,,07/22/2012 00:38:43,not a real question,1,36,11,"IntegrityError at /maps/create/  (1062, ""Duplicate entry '' for key 'slug'"") my form is :

    class MapForm(forms.ModelForm):
        
        slug = forms.SlugField(max_length=20)

and did you know why?

and how to make this running..",2
8250063,11/23/2011 22:39:19,469682,10/07/2010 22:35:30,355,30,I'm confused about how distinct() works with Django queries,"I have this query:

    checkins = CheckinAct.objects.filter(time__range=[start, end], location=checkin.location)

Which works great for telling me how many checkins have happened in my date range for a specific location. But I want know how many checkins were done by unique users. So I tried this: 

    checkins = CheckinAct.objects.filter(time__range=[start, end], location=checkin.location).values('user').distinct()

 But that doesn't work, I get back an empty Array. Any ideas why?

Here is my CheckinAct model:

    class CheckinAct(models.Model):
        user = models.ForeignKey(User)
        location = models.ForeignKey(Location)
        time = models.DateTimeField()

",django,query,django-nonrel,django-query,,,open,0,107,9,"I'm confused about how distinct() works with Django queries I have this query:

    checkins = CheckinAct.objects.filter(time__range=[start, end], location=checkin.location)

Which works great for telling me how many checkins have happened in my date range for a specific location. But I want know how many checkins were done by unique users. So I tried this: 

    checkins = CheckinAct.objects.filter(time__range=[start, end], location=checkin.location).values('user').distinct()

 But that doesn't work, I get back an empty Array. Any ideas why?

Here is my CheckinAct model:

    class CheckinAct(models.Model):
        user = models.ForeignKey(User)
        location = models.ForeignKey(Location)
        time = models.DateTimeField()

",4
3852104,10/04/2010 00:14:20,340632,05/13/2010 19:51:50,65,0,Select DISTINCT individual columns in django?,"I'm curious if there's any way to do a query in Django that's not a ""SELECT * FROM..."" underneath. I'm trying to do a ""SELECT DISTINCT columnName FROM ..."" instead.

Specifically I have a model that looks like:

    class ProductOrder(models.Model):
        Product  = models.CharField(max_length=20, promary_key=True)
        Category = models.CharField(max_length=30)
        Rank = models.IntegerField()

where the Rank is a rank within a Category. I'd like to be able to iterate over all the Categories doing some operation on each rank within that category.

I'd like to first get a list of all the categories in the system and then query for all products in that category and repeat until every category is processed.

I'd rather avoid raw SQL, but if I have to go there, that'd be fine. Though I've never coded raw SQL in Django/Python before.",django,django-models,,,,,open,0,154,6,"Select DISTINCT individual columns in django? I'm curious if there's any way to do a query in Django that's not a ""SELECT * FROM..."" underneath. I'm trying to do a ""SELECT DISTINCT columnName FROM ..."" instead.

Specifically I have a model that looks like:

    class ProductOrder(models.Model):
        Product  = models.CharField(max_length=20, promary_key=True)
        Category = models.CharField(max_length=30)
        Rank = models.IntegerField()

where the Rank is a rank within a Category. I'd like to be able to iterate over all the Categories doing some operation on each rank within that category.

I'd like to first get a list of all the categories in the system and then query for all products in that category and repeat until every category is processed.

I'd rather avoid raw SQL, but if I have to go there, that'd be fine. Though I've never coded raw SQL in Django/Python before.",2
8368086,12/03/2011 13:51:32,488735,10/27/2010 11:15:57,762,0,Django Haystack - How to boost a field?,"I'm with some problems in Django Haystack 1.2.5. I need to boost one field but aparently it is not working. I'm using Solr 1.4.1.

My Index:

	class JobsTextIndex(indexes.SearchIndex):
	    text            = indexes.CharField(document=True, use_template=True)
	    job_title       = indexes.CharField(model_attr='job_title', boost=1.50)
	    job_description = indexes.CharField(model_attr='job_description')
	    country_ad      = indexes.CharField(model_attr='country_ad')
	    zone_ad         = indexes.CharField(model_attr='zone_ad', faceted=True)
	    location_ad     = indexes.CharField(model_attr='location_ad', faceted=True)
	    date_inserted   = indexes.DateTimeField(model_attr='date_inserted')
	    
	    def index_queryset(self):
		""""""Used when the entire index for model is updated.""""""
		return JobsadsText.objects.filter(date_inserted__lte=datetime.datetime.now())


I have in the job_title ""boost=1.50"" but this apparently it is not working, this is what is generated by Solr:

	INFO: [core0] webapp=/solr path=/select/ params={facet=on&sort=date_inserted+desc&fl=*+score&start=0&q=arquiteto&facet.field=location_ad_exact&facet.field=zone_ad_exact&wt=json&fq=django_ct:(myapp.jobstext)&rows=20} hits=65 status=0 QTime=5 


The query that I'm doing is this one:

	sqs = SearchQuerySet().facet('zone_ad').facet('location_ad').order_by('-date_inserted')


Can someone give me a clue on what I need to get Haystack Boost working?

Best Regards,",django,boost,solr,django-haystack,,,open,0,177,8,"Django Haystack - How to boost a field? I'm with some problems in Django Haystack 1.2.5. I need to boost one field but aparently it is not working. I'm using Solr 1.4.1.

My Index:

	class JobsTextIndex(indexes.SearchIndex):
	    text            = indexes.CharField(document=True, use_template=True)
	    job_title       = indexes.CharField(model_attr='job_title', boost=1.50)
	    job_description = indexes.CharField(model_attr='job_description')
	    country_ad      = indexes.CharField(model_attr='country_ad')
	    zone_ad         = indexes.CharField(model_attr='zone_ad', faceted=True)
	    location_ad     = indexes.CharField(model_attr='location_ad', faceted=True)
	    date_inserted   = indexes.DateTimeField(model_attr='date_inserted')
	    
	    def index_queryset(self):
		""""""Used when the entire index for model is updated.""""""
		return JobsadsText.objects.filter(date_inserted__lte=datetime.datetime.now())


I have in the job_title ""boost=1.50"" but this apparently it is not working, this is what is generated by Solr:

	INFO: [core0] webapp=/solr path=/select/ params={facet=on&sort=date_inserted+desc&fl=*+score&start=0&q=arquiteto&facet.field=location_ad_exact&facet.field=zone_ad_exact&wt=json&fq=django_ct:(myapp.jobstext)&rows=20} hits=65 status=0 QTime=5 


The query that I'm doing is this one:

	sqs = SearchQuerySet().facet('zone_ad').facet('location_ad').order_by('-date_inserted')


Can someone give me a clue on what I need to get Haystack Boost working?

Best Regards,",4
9206170,02/09/2012 06:06:54,390785,07/13/2010 18:04:44,129,17,How do I access the ModelAdmin object from my template?,I would like to invoke the message_user method on it. Can I do this before a redirect from within my template?,django,django-admin,,,,02/14/2012 16:26:59,not a real question,1,21,10,How do I access the ModelAdmin object from my template? I would like to invoke the message_user method on it. Can I do this before a redirect from within my template?,2
5094646,02/23/2011 17:38:14,630702,02/23/2011 17:38:14,1,0,How Do i compare Two model fields against each other in django?,"I have this Model in my Models.py file.I want to to compare ""start_date"" and ""end_date"" so that start_date value would never be greater then end_date or vice-versa.How do i do this validation?

    class Completion(models.Model):

    start_date = models.DateField()
    end_date = models.DateField()
    batch = models.ForeignKey(Batch)
    topic = models.ForeignKey(Topic)

",django,django-models,django-admin,,,,open,0,61,12,"How Do i compare Two model fields against each other in django? I have this Model in my Models.py file.I want to to compare ""start_date"" and ""end_date"" so that start_date value would never be greater then end_date or vice-versa.How do i do this validation?

    class Completion(models.Model):

    start_date = models.DateField()
    end_date = models.DateField()
    batch = models.ForeignKey(Batch)
    topic = models.ForeignKey(Topic)

",3
744993,04/13/2009 19:03:00,54964,01/14/2009 11:38:17,1202,21,Unable to start a django server in my computer,"I exported the path of my django project by

    $ export DJANGO_SETTINGS_MODULE=/Users/masi/Documents/Test/djangobook/ch3.settings

I run unsuccessfully

    $ django-admin.py runserver 
    Error: Could not import settings '/Users/masi/Documents/Test/djangobook/ch3.settings' (Is it on sys.path? Does it have syntax errors?): Import by filename is not supported.


**How can you start Django server without the error message?**
",django,,,,,,open,0,57,9,"Unable to start a django server in my computer I exported the path of my django project by

    $ export DJANGO_SETTINGS_MODULE=/Users/masi/Documents/Test/djangobook/ch3.settings

I run unsuccessfully

    $ django-admin.py runserver 
    Error: Could not import settings '/Users/masi/Documents/Test/djangobook/ch3.settings' (Is it on sys.path? Does it have syntax errors?): Import by filename is not supported.


**How can you start Django server without the error message?**
",1
10309246,04/25/2012 04:10:13,734524,05/02/2011 13:37:17,141,6,Django development best practices,"I have spent some time studying Django and I've done some applications. But I really don't know what is the best approach while developing an application, I mean, there are several options: Make all the models, then all the urls, the views and then make all the templates. Other people recommend using an agile approach, take a use case and go all the way until it's totally functional, and of course there might be other possible recommendations. Personally I feel really attracted by the agile approach, but I don't really know because for example every single model I append to my database would imply to create a new one.

To sum up, what is the best approach one should take when developing and application in Django, taking into account all the consequences that it carries?

Thank you.",django,software-engineering,,,,04/25/2012 18:29:09,off topic,1,135,4,"Django development best practices I have spent some time studying Django and I've done some applications. But I really don't know what is the best approach while developing an application, I mean, there are several options: Make all the models, then all the urls, the views and then make all the templates. Other people recommend using an agile approach, take a use case and go all the way until it's totally functional, and of course there might be other possible recommendations. Personally I feel really attracted by the agile approach, but I don't really know because for example every single model I append to my database would imply to create a new one.

To sum up, what is the best approach one should take when developing and application in Django, taking into account all the consequences that it carries?

Thank you.",2
9756358,03/18/2012 05:53:48,814663,06/24/2011 19:37:33,67,0,Django: using plural form for russian localization,"I try to use plural form in russian language, but russian have two forms of word  for plural (for example: ""1 курс"" = 1 course, ""2 курс**а**"" = 2 courses, but ""5 курс**ов**"" = 5 courses)

Django supports this peculiarity and specifies plural form using this algoritm (django.po headers):

    ""Plural-Forms: nplurals=3; plural=n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%""
    ""10<=4 && (n%100<10 || n%100>=20) ? 1 : 2;\n""

Description of plural form looks like this (django.po):

    msgid ""%(курс) курс""
    msgid_plural ""%(курс) курса""
    msgstr[0] ""%(курс) курс""
    msgstr[1] ""%(курс) курса""
    msgstr[2] ""%(курс) курсов""

How to use this in templates? Something like this `{% sometag word=""курс"" counter=courses|lenht %}` There is default tag or how to implement this tag by myself?",django,russian,l18n,,,,open,0,137,7,"Django: using plural form for russian localization I try to use plural form in russian language, but russian have two forms of word  for plural (for example: ""1 курс"" = 1 course, ""2 курс**а**"" = 2 courses, but ""5 курс**ов**"" = 5 courses)

Django supports this peculiarity and specifies plural form using this algoritm (django.po headers):

    ""Plural-Forms: nplurals=3; plural=n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%""
    ""10<=4 && (n%100<10 || n%100>=20) ? 1 : 2;\n""

Description of plural form looks like this (django.po):

    msgid ""%(курс) курс""
    msgid_plural ""%(курс) курса""
    msgstr[0] ""%(курс) курс""
    msgstr[1] ""%(курс) курса""
    msgstr[2] ""%(курс) курсов""

How to use this in templates? Something like this `{% sometag word=""курс"" counter=courses|lenht %}` There is default tag or how to implement this tag by myself?",3
2376058,03/04/2010 00:20:41,282869,02/27/2010 22:47:04,1,1,Django: Display Generic ModelForm or predefined form,"I have a 3 models with various fields in each.  For 2 of the models, I'm fine with using a generic form (through Django's create_object) to request data.  For the 3rd model, I have a ModelForm class defined so that I can omit one of the fields in this model when the user sees the form.  

Is there a way for Django to display the defined ModelForm if it exists but otherwise display the fully generic form if a defined form has not been made?  For this example, with 3 models, I may as well just create 3 different url statements.  But I anticipate creating many more models, most of which can be filled with generic forms. 

I would rather not create a url for every single model.  I wrote a function that accepts the model name and sends the user to the generic form, but I'm unsure how to dynamically send the user to a predefined form if one exists.

Any suggestions?  Is there a better way to look at this problem?",django,django-generic-views,django-forms,,,,open,0,179,7,"Django: Display Generic ModelForm or predefined form I have a 3 models with various fields in each.  For 2 of the models, I'm fine with using a generic form (through Django's create_object) to request data.  For the 3rd model, I have a ModelForm class defined so that I can omit one of the fields in this model when the user sees the form.  

Is there a way for Django to display the defined ModelForm if it exists but otherwise display the fully generic form if a defined form has not been made?  For this example, with 3 models, I may as well just create 3 different url statements.  But I anticipate creating many more models, most of which can be filled with generic forms. 

I would rather not create a url for every single model.  I wrote a function that accepts the model name and sends the user to the generic form, but I'm unsure how to dynamically send the user to a predefined form if one exists.

Any suggestions?  Is there a better way to look at this problem?",3
2033418,01/09/2010 12:56:38,247063,01/09/2010 12:56:38,1,0,"what is the best system to run django on, operating sysyem, database, web server etc considering robustness, simplicity, maintence cost, maintence reliability, pricing, upgrades for the application and upgrade of the django and other system component",any body knows?,django,,,,,08/01/2012 02:22:12,not constructive,1,3,36,"what is the best system to run django on, operating sysyem, database, web server etc considering robustness, simplicity, maintence cost, maintence reliability, pricing, upgrades for the application and upgrade of the django and other system component any body knows?",1
4686188,01/13/2011 22:44:04,185657,10/07/2009 14:06:46,5081,254,Handling a return from Google Checkout,"I need to capture server side a notification of a users payment. I've gone through a good majority of the documentation with no luck, but will go through it again. Is there a way to enable a ""return to site"" after they complete the order? ",django,e-commerce,google-checkout,,,,open,0,46,6,"Handling a return from Google Checkout I need to capture server side a notification of a users payment. I've gone through a good majority of the documentation with no luck, but will go through it again. Is there a way to enable a ""return to site"" after they complete the order? ",3
2203118,02/04/2010 20:52:36,266572,02/04/2010 20:52:36,1,0,MS Access backend for django,"I've been working on a modification of the django-pyodbc package so that it could be used with MS Access. 

I need this for a legacy database we are tied to at my organization, and have been doing a rather hacky job specific to my situation, but have also been making useful, generalizable progress in terms of adapting SQL syntax for MS Access.

My question is, is this a project that anyone else in the world is interested in? should I clean up my code and try to fully generalize it, or is everyone else in the world able to solve their MS Access problems by moving to SQL server?",django,django-pyodbc,ms-access,,,,open,0,108,5,"MS Access backend for django I've been working on a modification of the django-pyodbc package so that it could be used with MS Access. 

I need this for a legacy database we are tied to at my organization, and have been doing a rather hacky job specific to my situation, but have also been making useful, generalizable progress in terms of adapting SQL syntax for MS Access.

My question is, is this a project that anyone else in the world is interested in? should I clean up my code and try to fully generalize it, or is everyone else in the world able to solve their MS Access problems by moving to SQL server?",3
10270275,04/22/2012 17:29:12,1171965,01/26/2012 18:36:56,33,0,Using South migrations with Heroku.,"I have successfully synced my database using south on the local server. I am having problems using south in Heroku.  When I run

    git add app/migrations/*

    git commit -m 'adding new migrations'

    heroku run python manage.py migrate app

I am getting a DatabaseError. Relation field already exists. 

Any ideas why this isn't working? Also, do I need to run migrations locally and on the production environment each time one of my models change?  Thanks for reading.

",django,heroku,django-south,,,,open,0,86,5,"Using South migrations with Heroku. I have successfully synced my database using south on the local server. I am having problems using south in Heroku.  When I run

    git add app/migrations/*

    git commit -m 'adding new migrations'

    heroku run python manage.py migrate app

I am getting a DatabaseError. Relation field already exists. 

Any ideas why this isn't working? Also, do I need to run migrations locally and on the production environment each time one of my models change?  Thanks for reading.

",3
7409318,09/13/2011 22:27:14,943519,09/13/2011 22:27:14,1,0,Django - When data from query is actually read,"I'm a Django noob so I apologize if this is a stupidly simple question. 

Here's the code:

    try:
        m = Message.objects.get(session=request.session.session_key)
    except:
        return {'message_status':'','message_text':''}

    current_status = m.status
    current_text = m.text

    m.delete()

I'd expect current_status and current_text to be preserved, but they are not. What's wrong?

Thanks!",django,,,,,,open,0,73,9,"Django - When data from query is actually read I'm a Django noob so I apologize if this is a stupidly simple question. 

Here's the code:

    try:
        m = Message.objects.get(session=request.session.session_key)
    except:
        return {'message_status':'','message_text':''}

    current_status = m.status
    current_text = m.text

    m.delete()

I'd expect current_status and current_text to be preserved, but they are not. What's wrong?

Thanks!",1
11529791,07/17/2012 19:46:21,1158977,01/19/2012 16:38:23,55,2,Django HTTP_X_FORWARDED_FOR and Amazon ELB,"We have two amazon EC2 instances, with a load balancer and a Django App.  Amazon says the ELB is configured by default to send X-Forwared-For headers to the Django App.

I've printed request.META and I see no HTTP_X_FORWARDED_FOR and when I do request.META.get('HTTP_X_FORWARDED_FOR'), I get None.

Is there a django configuration (we're using 1.3 by the way), that I have to configure or set so that Django will read the Forwarded-For header?

Thanks,

Sam",django,,,,,,open,0,71,5,"Django HTTP_X_FORWARDED_FOR and Amazon ELB We have two amazon EC2 instances, with a load balancer and a Django App.  Amazon says the ELB is configured by default to send X-Forwared-For headers to the Django App.

I've printed request.META and I see no HTTP_X_FORWARDED_FOR and when I do request.META.get('HTTP_X_FORWARDED_FOR'), I get None.

Is there a django configuration (we're using 1.3 by the way), that I have to configure or set so that Django will read the Forwarded-For header?

Thanks,

Sam",1
9439730,02/24/2012 23:54:14,965668,09/26/2011 18:43:00,571,62,Django: How do you delete child class object without deleting parent class object?,"I have the following models (I left out `def __unicode__(...)` for clarity):

    class Person(models.Model):
        first_name = models.CharField(max_length=64, null=True, blank=True)
        middle_name = models.CharField(max_length=32, null=True, blank=True)
        last_name = models.CharField(max_length=64, null=True, blank=True)
    
    class MinorResident(Person):
        move_in_date = models.DateField(null=True)
        move_out_date = models.DateField(null=True)
        natural_child = models.NullBooleanField()
    
    class OtherPerson(Person):
        associate_all_homes = models.BooleanField(default=False)

I have the following view method for using a MinorResident object to create an OtherPerson object, like:

    def MinorToAdult(request, minor):
        p = Person.objects.get(id=minor.person_ptr_id)
        o = OtherPerson(p.id)
        o.__dict__.update(p.__dict__)
        o.save()
        return True

This all works great, but I still have a record in the minoresident table pointing to the person record with person_ptr_id. I also have a pointer record in the otherperson table with the same person_ptr_id pointing to the same person, and displaying all of the data as it was before the switch, but with an OtherPerson object instead of MinorResident object. So, I want to delete the MinorResident object, without deleting the parent class Person object. I suppose I can do something like:

    p = Person.objects.get(id=minor.person_ptr_id)
    o = OtherPerson()
    o.__dict__.update(p.__dict__)
    o.save()
    minor.delete()
    return True

But I would like to not have a new record in the Person table if I can help it, since it really isn't a new person, just a person whose an adult now. Maybe I can I do something like this? Or is there a better way to handle model transmutation?

    p = Person.objects.get(id=minor.person_ptr_id)
    o = OtherPerson(p.id)
    o.__dict__.update(p.__dict__)
    o.save()
    minor.person_ptr_id = None
    minor.delete()
    return True


I looked at [SO #3711191: django-deleting-object-keeping-parent][1], but I was hoping for an improved answer.


  [1]: http://stackoverflow.com/questions/3711191/django-deleting-object-keeping-parent",django,django-models,django-views,,,,open,0,390,13,"Django: How do you delete child class object without deleting parent class object? I have the following models (I left out `def __unicode__(...)` for clarity):

    class Person(models.Model):
        first_name = models.CharField(max_length=64, null=True, blank=True)
        middle_name = models.CharField(max_length=32, null=True, blank=True)
        last_name = models.CharField(max_length=64, null=True, blank=True)
    
    class MinorResident(Person):
        move_in_date = models.DateField(null=True)
        move_out_date = models.DateField(null=True)
        natural_child = models.NullBooleanField()
    
    class OtherPerson(Person):
        associate_all_homes = models.BooleanField(default=False)

I have the following view method for using a MinorResident object to create an OtherPerson object, like:

    def MinorToAdult(request, minor):
        p = Person.objects.get(id=minor.person_ptr_id)
        o = OtherPerson(p.id)
        o.__dict__.update(p.__dict__)
        o.save()
        return True

This all works great, but I still have a record in the minoresident table pointing to the person record with person_ptr_id. I also have a pointer record in the otherperson table with the same person_ptr_id pointing to the same person, and displaying all of the data as it was before the switch, but with an OtherPerson object instead of MinorResident object. So, I want to delete the MinorResident object, without deleting the parent class Person object. I suppose I can do something like:

    p = Person.objects.get(id=minor.person_ptr_id)
    o = OtherPerson()
    o.__dict__.update(p.__dict__)
    o.save()
    minor.delete()
    return True

But I would like to not have a new record in the Person table if I can help it, since it really isn't a new person, just a person whose an adult now. Maybe I can I do something like this? Or is there a better way to handle model transmutation?

    p = Person.objects.get(id=minor.person_ptr_id)
    o = OtherPerson(p.id)
    o.__dict__.update(p.__dict__)
    o.save()
    minor.person_ptr_id = None
    minor.delete()
    return True


I looked at [SO #3711191: django-deleting-object-keeping-parent][1], but I was hoping for an improved answer.


  [1]: http://stackoverflow.com/questions/3711191/django-deleting-object-keeping-parent",3
8068698,11/09/2011 17:05:31,463621,10/01/2010 07:41:02,2002,120,Django: is there any project for translating the docs?,"is there any project for translating the official Django documentation?

If not, how can I start such a project?
",django,django-documentation,documentation-translation,,,11/10/2011 00:01:26,off topic,1,18,9,"Django: is there any project for translating the docs? is there any project for translating the official Django documentation?

If not, how can I start such a project?
",3
4995279,02/14/2011 17:36:50,112785,05/26/2009 21:52:39,93,4,Including a querystring in a django.core.urlresolvers reverse() call,"I'm trying to reverse a named URL and include a querystring in it. Basically, I've modified the login function, and I want to send `?next=` in it.

Here's what I'm doing now: `reverse(name) + ""?next="" + reverse(redirect)`

Here's what I'd like to do: `reverse(name, kwargs = { 'next':reverse(redirect) } )`

My URL for the login page (just as an example) looks like this:

`url(r'^login/', custom_login, name = 'login'),`

So how do I modify this whole thing (or call it) to include the next without having to concatenate it? It feels like an iffy solution at best.",django,reverse,urlconf,,,,open,0,91,8,"Including a querystring in a django.core.urlresolvers reverse() call I'm trying to reverse a named URL and include a querystring in it. Basically, I've modified the login function, and I want to send `?next=` in it.

Here's what I'm doing now: `reverse(name) + ""?next="" + reverse(redirect)`

Here's what I'd like to do: `reverse(name, kwargs = { 'next':reverse(redirect) } )`

My URL for the login page (just as an example) looks like this:

`url(r'^login/', custom_login, name = 'login'),`

So how do I modify this whole thing (or call it) to include the next without having to concatenate it? It feels like an iffy solution at best.",3
2376201,03/04/2010 01:01:59,195006,10/23/2009 01:04:32,31,3,Instantiate django model from parent data,"Is it possible to instantiate a subclassed model from its parent?

    class Object1(models.Model):
      field1a = models.CharField()
      field1b = models.CharField()
      feild1c = models.ForeignKey(Object4)      

    class Object2(Object1):
      field3 = models.CharField()

    class Object3(Object1):
      field3 = models.CharField()

    class Object4(models.Model):
      field4 = models.CharField()


What I want to do is create the base class first and then based on some rule instantiate one of the subclasses but using the already created base class. 

Something like:
    
    obj4 = Object4(field4='d')
    obj1 = Object1(field1a='a', field1b='b', field1c=obj4)
    if somerule:
      obj2 = Object2(object1_ptr=obj1, field2='2')
    else:
      obj3 = Object3(object1_ptr=obj1, field3='3')

I don't want to repeat the Object1 fields in the if/else clauses. Is it possible to accomplish this? When I try this I get a Foreign key error;
   Cannot add or update a child row: A foreign key constraint fails 





",django,models,,,,,open,0,202,6,"Instantiate django model from parent data Is it possible to instantiate a subclassed model from its parent?

    class Object1(models.Model):
      field1a = models.CharField()
      field1b = models.CharField()
      feild1c = models.ForeignKey(Object4)      

    class Object2(Object1):
      field3 = models.CharField()

    class Object3(Object1):
      field3 = models.CharField()

    class Object4(models.Model):
      field4 = models.CharField()


What I want to do is create the base class first and then based on some rule instantiate one of the subclasses but using the already created base class. 

Something like:
    
    obj4 = Object4(field4='d')
    obj1 = Object1(field1a='a', field1b='b', field1c=obj4)
    if somerule:
      obj2 = Object2(object1_ptr=obj1, field2='2')
    else:
      obj3 = Object3(object1_ptr=obj1, field3='3')

I don't want to repeat the Object1 fields in the if/else clauses. Is it possible to accomplish this? When I try this I get a Foreign key error;
   Cannot add or update a child row: A foreign key constraint fails 





",2
6256969,06/06/2011 19:27:20,412017,08/05/2010 13:54:14,99,2,django forms and processing meta data for objects,"Say i have this model:

    class Job(models.Model):
        name = models.CharField(max_length=32, unique=True) #name of job
        start = models.TimeField() #start time of job
        end = models.TimeField() #end time of job
        days = models.ManyToManyField(Day) #week days the job should be started on

Say i also have a function that takes the start, end, and days fields and hashes out a bitarray of 35,040 bits ('111100011...').  (each bit is actually a 15-minute chunk, there are 35040 chunks in a year)

I dont necessarily expect the user to input all those bits, i want to do that for them behind the scenes.  However, how do i ""attach"" this bit data to the Job object without requiring the user to enter it on my modelForm and without trying to validate it's data?",django,validation,hidden,django-forms,,,open,0,157,8,"django forms and processing meta data for objects Say i have this model:

    class Job(models.Model):
        name = models.CharField(max_length=32, unique=True) #name of job
        start = models.TimeField() #start time of job
        end = models.TimeField() #end time of job
        days = models.ManyToManyField(Day) #week days the job should be started on

Say i also have a function that takes the start, end, and days fields and hashes out a bitarray of 35,040 bits ('111100011...').  (each bit is actually a 15-minute chunk, there are 35040 chunks in a year)

I dont necessarily expect the user to input all those bits, i want to do that for them behind the scenes.  However, how do i ""attach"" this bit data to the Job object without requiring the user to enter it on my modelForm and without trying to validate it's data?",4
7464556,09/18/2011 21:20:43,11470,09/16/2008 08:16:25,187,9,Using Django Admin Tables in user views?,"Is it possibe to use the sortable, searchable tables that admin users get from a non-admin/staff view?

I'd like to be able to make use of it to display data to users without having to install a 3rd party app like django_tables2, dont repeat yourself and all that ...",django,django-admin,,,,,open,0,48,7,"Using Django Admin Tables in user views? Is it possibe to use the sortable, searchable tables that admin users get from a non-admin/staff view?

I'd like to be able to make use of it to display data to users without having to install a 3rd party app like django_tables2, dont repeat yourself and all that ...",2
5335159,03/17/2011 05:17:10,663725,03/17/2011 05:17:10,1,0,please help my table is messing if tempold contain the data,"									{% if kx.8 != j %}				
											{% if tempold.items %}																						
												{% for m in tempold.items %}
													{% for mx in m %}														
														{% if mx.2 %}				
															{% if kx.9 == mx.2 and j == mx.1 %}
																<tr style=""vertical-align:top;"">
																	<th style=""height:66px;"">{{ mx.0 }}</th>
																</tr>													
															{% endif %}
																											
														{% endif %}	
													{% endfor %}												
												{% endfor %}										 
												<tr style=""vertical-align:top;"">
													<th style=""height:66px;"">&nbsp;</th>
												</tr>																										
 											{% else %}		
												<tr style=""vertical-align:top;"">
													<th style=""height:66px;"">&nbsp;</th>
												</tr>
											{% endif %}	
									{% else %}
												<tr style=""vertical-align:top;"">
													<th style=""height:66px;"">{{ kx.5 }}</th>
												</tr>																					
									{% endif %}	",django,,,,,03/17/2011 06:01:24,not a real question,1,61,11,"please help my table is messing if tempold contain the data 									{% if kx.8 != j %}				
											{% if tempold.items %}																						
												{% for m in tempold.items %}
													{% for mx in m %}														
														{% if mx.2 %}				
															{% if kx.9 == mx.2 and j == mx.1 %}
																<tr style=""vertical-align:top;"">
																	<th style=""height:66px;"">{{ mx.0 }}</th>
																</tr>													
															{% endif %}
																											
														{% endif %}	
													{% endfor %}												
												{% endfor %}										 
												<tr style=""vertical-align:top;"">
													<th style=""height:66px;"">&nbsp;</th>
												</tr>																										
 											{% else %}		
												<tr style=""vertical-align:top;"">
													<th style=""height:66px;"">&nbsp;</th>
												</tr>
											{% endif %}	
									{% else %}
												<tr style=""vertical-align:top;"">
													<th style=""height:66px;"">{{ kx.5 }}</th>
												</tr>																					
									{% endif %}	",1
2719717,04/27/2010 08:24:21,8522,09/15/2008 16:14:17,210,3,Django app for different clients,"I want both mobile phones and regular PCs to be able to use my app by navigating to the same URL, but I want them to get different versions of the code. How do I tell Django to give different versions of the code to different clients?",django,client,code,different,deploy,,open,0,47,5,"Django app for different clients I want both mobile phones and regular PCs to be able to use my app by navigating to the same URL, but I want them to get different versions of the code. How do I tell Django to give different versions of the code to different clients?",5
7509435,09/22/2011 04:05:14,934444,09/08/2011 09:03:35,11,0,a little miffed,"The Below code:

    {% ifequal username AnonymousUser %}
        <p>Welcome</p>
    {% else %} 
        <p> Welcome {{ username }}. Thanks for logging in.</p>     
    {% endifequal %}

Shows This:

    Welcome AnonymousUser. Thanks for logging in.

What the? I'm more than a little miffed. I'm pretty sure i don't need to supply extra code for you to understand my problem.

My Question with out this extra bit met with Oops! Your question couldn't be submitted because:

    * It does not meet our quality standards.

Why. Was it too short",django,,,,,09/22/2011 04:26:48,not a real question,1,116,3,"a little miffed The Below code:

    {% ifequal username AnonymousUser %}
        <p>Welcome</p>
    {% else %} 
        <p> Welcome {{ username }}. Thanks for logging in.</p>     
    {% endifequal %}

Shows This:

    Welcome AnonymousUser. Thanks for logging in.

What the? I'm more than a little miffed. I'm pretty sure i don't need to supply extra code for you to understand my problem.

My Question with out this extra bit met with Oops! Your question couldn't be submitted because:

    * It does not meet our quality standards.

Why. Was it too short",1
5536375,04/04/2011 08:54:51,170488,09/08/2009 22:18:39,291,7,Django 1.3 - Simple media deployment,"I having some real trouble getting django to play nice with my media setup. I am not using staticfiles since I am have no need for a CDN at this point of the project and I want to keep it simple. 

My folder structure looks like this:

    /static
    	/admin
    		/css
    		/js
    		/etc
    	/css
    	/js
    	/images

The admin folder is a copy of the admin contrib media folder... since I am using mod_wsgi I know that this can't live in the django project folder.

My settings file:

    MEDIA_ROOT = os.path.join(PROJECT_DIR, 'static/')
    MEDIA_URL = 'http://127.0.0.1:8000/static/'
    ADMIN_MEDIA_PREFIX = 'admin/' (tried with leading slash too)

Urls:

    (r'^static/(?P<path>.*)$', 'django.views.static.serve', {'document_root':MEDIA_ROOT, 'show_indexes':True}),

No matter what I try, I can't get the admin media to serve. I know from reading the documentation that the ADMIN_MEDIA_PREFIX has to be very different from the normal media url, but I need to be able to serve the files outside of the system django folder because of mod_wsgi.

Can anyone help?",django,django-admin,django-media,,,,open,0,191,6,"Django 1.3 - Simple media deployment I having some real trouble getting django to play nice with my media setup. I am not using staticfiles since I am have no need for a CDN at this point of the project and I want to keep it simple. 

My folder structure looks like this:

    /static
    	/admin
    		/css
    		/js
    		/etc
    	/css
    	/js
    	/images

The admin folder is a copy of the admin contrib media folder... since I am using mod_wsgi I know that this can't live in the django project folder.

My settings file:

    MEDIA_ROOT = os.path.join(PROJECT_DIR, 'static/')
    MEDIA_URL = 'http://127.0.0.1:8000/static/'
    ADMIN_MEDIA_PREFIX = 'admin/' (tried with leading slash too)

Urls:

    (r'^static/(?P<path>.*)$', 'django.views.static.serve', {'document_root':MEDIA_ROOT, 'show_indexes':True}),

No matter what I try, I can't get the admin media to serve. I know from reading the documentation that the ADMIN_MEDIA_PREFIX has to be very different from the normal media url, but I need to be able to serve the files outside of the system django folder because of mod_wsgi.

Can anyone help?",3
11122220,06/20/2012 14:51:24,1469418,06/20/2012 13:39:27,1,0,move div with javaScript?,I have a div with text on the center of the page. When I click on the div it should be moved anywhere on the page (for example: 100px above). How can I do it?,django,,,,,06/21/2012 08:05:27,not a real question,1,35,4,move div with javaScript? I have a div with text on the center of the page. When I click on the div it should be moved anywhere on the page (for example: 100px above). How can I do it?,1
9612346,03/08/2012 03:01:50,651174,03/09/2011 08:26:41,1273,36,"Django template tag to determine ""a"" or ""an""","Is there an existing django template tag to determine `a/an` before an article? If not, how would I go about writing such a tag?",django,django-templates,,,,,open,0,24,8,"Django template tag to determine ""a"" or ""an"" Is there an existing django template tag to determine `a/an` before an article? If not, how would I go about writing such a tag?",2
9220042,02/09/2012 22:41:09,342553,12/08/2009 00:38:47,492,26,Django how to pass custom variables to context to use in custom admin template?,"I am extending the change_list.html and I in need of outputing a variable defined in settings.py

how do I pass that particular variable into the custom admin template context?",django,templates,context,admin,extends,,open,0,28,14,"Django how to pass custom variables to context to use in custom admin template? I am extending the change_list.html and I in need of outputing a variable defined in settings.py

how do I pass that particular variable into the custom admin template context?",5
3752303,09/20/2010 14:15:42,6460,09/15/2008 10:24:58,1108,10,Why do I get 500 error codes on certain URLs on certain servers with certain client certificates?,"**Disclaimer:** I'm a bit desperate with this problem, I hope someone can help me even though this description is quite vague and probably inconclusive.

Setup:

* A production server running SuSE Enterprise 11 and my Django 1.1 application.
* The application is being served with Apache (`mod_wsgi`) over HTTPS with client certificates (`SSLVerifyClient require`).
* Testing is done from the same box by going to the actual IP of the server, i.e. there are no proxies in between.
* No caching modules in Apache are installed (the following are active: alias dir env expires headers include log_config mime rewrite setenvif ssl authz_host proxy proxy_http proxy_connect (no configuration for these three) unique_id wsgi).

The actual problem:

* One particular page (a missing image) produces a 500 error instead of 404 under certain circumstances (because of Django, there is always a 302 redirect first to add a trailing slash).
* It is somehow certificate-dependant: most client certificates always get a 404, but some don't. Certificates have been compared and no difference found.
* When a ""Cache-control: no-cache"" is sent to the server, no 500 is returned, but a proper 404 instead.
* All this happens only on one server, test servers do not expose this problem even though the software is mostly identical. 

So to reiterate:

* ""Good"" client certificate = always 302 + 404
* ""Bad"" client certificate + ""Cache-control: no-cache"" = always 302 + 404
* ""Bad"" client certificate without cache control = always 302 + 500.

Any ideas?

PS: If this is better suited for ServerFault, please move it or leave a notice for me to ask this question there.",django,apache,ssl,https,certificate,09/20/2010 16:50:17,not a real question,1,256,17,"Why do I get 500 error codes on certain URLs on certain servers with certain client certificates? **Disclaimer:** I'm a bit desperate with this problem, I hope someone can help me even though this description is quite vague and probably inconclusive.

Setup:

* A production server running SuSE Enterprise 11 and my Django 1.1 application.
* The application is being served with Apache (`mod_wsgi`) over HTTPS with client certificates (`SSLVerifyClient require`).
* Testing is done from the same box by going to the actual IP of the server, i.e. there are no proxies in between.
* No caching modules in Apache are installed (the following are active: alias dir env expires headers include log_config mime rewrite setenvif ssl authz_host proxy proxy_http proxy_connect (no configuration for these three) unique_id wsgi).

The actual problem:

* One particular page (a missing image) produces a 500 error instead of 404 under certain circumstances (because of Django, there is always a 302 redirect first to add a trailing slash).
* It is somehow certificate-dependant: most client certificates always get a 404, but some don't. Certificates have been compared and no difference found.
* When a ""Cache-control: no-cache"" is sent to the server, no 500 is returned, but a proper 404 instead.
* All this happens only on one server, test servers do not expose this problem even though the software is mostly identical. 

So to reiterate:

* ""Good"" client certificate = always 302 + 404
* ""Bad"" client certificate + ""Cache-control: no-cache"" = always 302 + 404
* ""Bad"" client certificate without cache control = always 302 + 500.

Any ideas?

PS: If this is better suited for ServerFault, please move it or leave a notice for me to ask this question there.",5
5676474,04/15/2011 12:07:37,13009,09/16/2008 16:37:56,2103,53,"Django - Generic Views - Object_list - What's the benefit, how to use?","I want to use the [object_list generic view][1].  But I can't tell what benefit it gives me besides pagination?  It seems like I still need to write my own template?

How is this faster than writing my own view? Am I missing something?  

If it is worth using and I do have to write my own template, what is supposed to be in the template?  I can't find any examples.

  [1]: http://docs.djangoproject.com/en/dev/ref/generic-views/#django-views-generic-list-detail-object-list",django,django-generic-views,,,,,open,0,76,13,"Django - Generic Views - Object_list - What's the benefit, how to use? I want to use the [object_list generic view][1].  But I can't tell what benefit it gives me besides pagination?  It seems like I still need to write my own template?

How is this faster than writing my own view? Am I missing something?  

If it is worth using and I do have to write my own template, what is supposed to be in the template?  I can't find any examples.

  [1]: http://docs.djangoproject.com/en/dev/ref/generic-views/#django-views-generic-list-detail-object-list",2
1396264,09/08/2009 20:49:59,100952,05/04/2009 15:39:08,16,1,How to sort by annotated Count() in a related model in Django,"I'm building a food logging database in Django and I've got a query related problem.

I've set up my models to include (among other things) a Food model connected to the User model through an M2M-field ""consumer"" via the Consumption model. The Food model describes food dishes and the Consumption model describes a user's consumption of Food (date, amount, etc).

    class Food(models.Model):
        food_name = models.CharField(max_length=30)
        consumer = models.ManyToManyField(""User"", through=Consumption)

    class Consumption(models.Model):
        food = models.ForeignKey(""Food"")
        user = models.ForeignKey(""User"")

I want to create a query that returns all Food objects ordered by the number of times that Food object appears in the Consumption table for that user (the number of times the user has consumed the food).

I'm trying something in the line of:

    Food.objects.all().annotate(consumption_times = Count(consumer)).order_by('consumption_times')`

But this will of course count all Consumption objects related to the Food object, not just the ones associated with the user. Do I need to change my models or am I just missing something obvious in the queries?

This is a pretty time-critical operation (among other things, it's used to fill an Autocomplete field in the Frontend) and the Food table has a couple of thousand entries, so I'd rather do the sorting in the database end, rather than doing the brute force method and iterate over the results doing:

    Consumption.objects.filter(food=food, user=user).count()

and then using python sort to sort them. I don't think that method would scale very well as the user base increases and I want to design the database as future proof as I can from the start.

Any ideas?
",django,django-models,django-queries,aggregate-functions,,,open,0,291,12,"How to sort by annotated Count() in a related model in Django I'm building a food logging database in Django and I've got a query related problem.

I've set up my models to include (among other things) a Food model connected to the User model through an M2M-field ""consumer"" via the Consumption model. The Food model describes food dishes and the Consumption model describes a user's consumption of Food (date, amount, etc).

    class Food(models.Model):
        food_name = models.CharField(max_length=30)
        consumer = models.ManyToManyField(""User"", through=Consumption)

    class Consumption(models.Model):
        food = models.ForeignKey(""Food"")
        user = models.ForeignKey(""User"")

I want to create a query that returns all Food objects ordered by the number of times that Food object appears in the Consumption table for that user (the number of times the user has consumed the food).

I'm trying something in the line of:

    Food.objects.all().annotate(consumption_times = Count(consumer)).order_by('consumption_times')`

But this will of course count all Consumption objects related to the Food object, not just the ones associated with the user. Do I need to change my models or am I just missing something obvious in the queries?

This is a pretty time-critical operation (among other things, it's used to fill an Autocomplete field in the Frontend) and the Food table has a couple of thousand entries, so I'd rather do the sorting in the database end, rather than doing the brute force method and iterate over the results doing:

    Consumption.objects.filter(food=food, user=user).count()

and then using python sort to sort them. I don't think that method would scale very well as the user base increases and I want to design the database as future proof as I can from the start.

Any ideas?
",4
8057280,11/08/2011 21:28:24,235174,12/19/2009 16:19:13,276,3,Extending user admin form in django,"I'm trying to change user admin in Django. In my project the email address, first name and last name is required. I changed my user admin  as following : 

    class UserForm(forms.ModelForm):
        class Meta:
            model = User
    
        def __init__(self, *args, **kwargs):
            super(UserForm, self).__init__(*args, **kwargs)
            self.fields['email'].required = True
            self.fields['first_name'].required = True
            self.fields['last_name'].required = True
    
    class UserAdmin(admin.ModelAdmin):
        form = UserForm
        list_display = ('first_name','last_name','email','is_active')
    
    admin.site.unregister(User)
    admin.site.register(User, UserAdmin)

The problem is whenever I save a user with a password, it's displayed as without hashing. I guess the problem is, I need to hash the password field with my new form. But the old form does it, so is there a way that I can extend the oldform ? 


",django,inheritance,admin,hashing,,,open,0,222,6,"Extending user admin form in django I'm trying to change user admin in Django. In my project the email address, first name and last name is required. I changed my user admin  as following : 

    class UserForm(forms.ModelForm):
        class Meta:
            model = User
    
        def __init__(self, *args, **kwargs):
            super(UserForm, self).__init__(*args, **kwargs)
            self.fields['email'].required = True
            self.fields['first_name'].required = True
            self.fields['last_name'].required = True
    
    class UserAdmin(admin.ModelAdmin):
        form = UserForm
        list_display = ('first_name','last_name','email','is_active')
    
    admin.site.unregister(User)
    admin.site.register(User, UserAdmin)

The problem is whenever I save a user with a password, it's displayed as without hashing. I guess the problem is, I need to hash the password field with my new form. But the old form does it, so is there a way that I can extend the oldform ? 


",4
6651698,07/11/2011 14:31:49,158806,08/18/2009 21:22:19,28,1,Django 1.3: Problems with UserProfile after upgrade,"After an upgrade to Django 1.3 (from 1.2.3) the following row causes a crash:

    users = self.users.filter(userprofile__public_profile=True).order_by('first_name')

The error shown:

    Caught FieldError while rendering: Cannot resolve keyword 'userprofile' into field. Choices are: _message_set, comment, commentabusereport, date_joined, dialog, dialogabusereport, email, first_name, forums, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, registrationprofile, user_permissions, userassociation, username, vote

Just as before, the UserProfile model is specified like this:

    AUTH_PROFILE_MODULE = 'emailuser.UserProfile'

Funny thing, some of the fields displayed as availible (such as ""dialogabusereport"" and ""userassociation"") are in turn other internal models with the same kind of user relation as the one from UserProfile.

Any ideas of what may cause this? Why can Django no longer see our UserProfile model in this relation?",django,django-1.3,,,,,open,0,124,7,"Django 1.3: Problems with UserProfile after upgrade After an upgrade to Django 1.3 (from 1.2.3) the following row causes a crash:

    users = self.users.filter(userprofile__public_profile=True).order_by('first_name')

The error shown:

    Caught FieldError while rendering: Cannot resolve keyword 'userprofile' into field. Choices are: _message_set, comment, commentabusereport, date_joined, dialog, dialogabusereport, email, first_name, forums, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, registrationprofile, user_permissions, userassociation, username, vote

Just as before, the UserProfile model is specified like this:

    AUTH_PROFILE_MODULE = 'emailuser.UserProfile'

Funny thing, some of the fields displayed as availible (such as ""dialogabusereport"" and ""userassociation"") are in turn other internal models with the same kind of user relation as the one from UserProfile.

Any ideas of what may cause this? Why can Django no longer see our UserProfile model in this relation?",2
5596512,04/08/2011 14:23:38,288112,03/07/2010 08:01:12,52,4,Django SSL cert and static media,"I'm building a Django app that will need SSL on all user-facing pages. On other projects where SSL was required I've run into complications when serving media files from a different virtual host on the same server. For instance the page is: https://www.mysite.com but it's referencing http://media.mysite.com/css/screen.css, and the browser subsequently displays security warnings to the user.

My understanding is that it's Django best practice to keep static files on at least their own virtual host, which -- as far as I know -- requires a subdomain like media.blahblah.com.  

Obviously there's plenty of Django apps on SSL, so I must be missing something. Any advice on how this is managed?",django,apache,ssl,,,,open,0,110,6,"Django SSL cert and static media I'm building a Django app that will need SSL on all user-facing pages. On other projects where SSL was required I've run into complications when serving media files from a different virtual host on the same server. For instance the page is: https://www.mysite.com but it's referencing http://media.mysite.com/css/screen.css, and the browser subsequently displays security warnings to the user.

My understanding is that it's Django best practice to keep static files on at least their own virtual host, which -- as far as I know -- requires a subdomain like media.blahblah.com.  

Obviously there's plenty of Django apps on SSL, so I must be missing something. Any advice on how this is managed?",3
11400251,07/09/2012 17:41:24,1465079,06/19/2012 00:04:13,11,0,Django - Allow users to each have their own jquery grid / data grid,"I'd like my users to each have their own jquery grid / data grid that they can edit.

When users log in, they can see the data they entered into their grid.

Each user should have his/her own grid

What is the best way to accomplish this?",django,jqgrid,,,,07/13/2012 15:41:45,not a real question,1,44,14,"Django - Allow users to each have their own jquery grid / data grid I'd like my users to each have their own jquery grid / data grid that they can edit.

When users log in, they can see the data they entered into their grid.

Each user should have his/her own grid

What is the best way to accomplish this?",2
10467802,05/06/2012 03:10:08,2484,08/22/2008 13:36:36,2710,72,How do I authenticate a user in a Node app with Django authentication?,"My main app is a Django app, however, for some realtime stuff, I want to use Node/Socket.IO. I'm using Redis to do some pub/sub from Django to Node (and then on to various clients). The tricky part is how do I authenticate the Node user against the Django auth?

In my Node app, I have:

    io.on('connection', function (socket) {
      const subscribe = redis.createClient();
      var userId = authenticateAndGetUserId();
      subscribe.subscribe(userId + ':feed-items');
    
      subscribe.on('message', function (channel, message) {
        socket.emit('feed-items', JSON.parse(message));
      });
    
    });

So my question is what's a good strategy for implementing `authenticateAndGetUserId`? The sessions are backed in MySQL, so I can go through there. Just curious if there's a better way to go about it.",django,node.js,authentication,,,,open,0,157,13,"How do I authenticate a user in a Node app with Django authentication? My main app is a Django app, however, for some realtime stuff, I want to use Node/Socket.IO. I'm using Redis to do some pub/sub from Django to Node (and then on to various clients). The tricky part is how do I authenticate the Node user against the Django auth?

In my Node app, I have:

    io.on('connection', function (socket) {
      const subscribe = redis.createClient();
      var userId = authenticateAndGetUserId();
      subscribe.subscribe(userId + ':feed-items');
    
      subscribe.on('message', function (channel, message) {
        socket.emit('feed-items', JSON.parse(message));
      });
    
    });

So my question is what's a good strategy for implementing `authenticateAndGetUserId`? The sessions are backed in MySQL, so I can go through there. Just curious if there's a better way to go about it.",3
2807740,05/11/2010 02:38:04,26196,10/08/2008 15:50:21,727,24,Validating an Autocomplete field in Django,"I have models similar to the following: 

    class Band(models.Model):
        name = models.CharField(unique=True)

    class Event(models.Model):    
        name = models.CharField(max_length=50, unique=True)       
        bands = models.ManyToManyField(Band) 

and essentially I want to use the validation capability offered by a ModelForm that already exists for Event, but I *do not* want to show the default Multi-Select list (for 'bands') on the page, because the potential length of the related models is extremely long. 

I have the following form defined: 

    class AddEventForm(ModelForm):
        class Meta: 
            model = Event
            fields = ('name', )

Which does what is expected for the Model, but of course, validation could care less about the 'bands' field. I've got it working enough to add bands correctly, but there's no correct validation, and it will simply drop bad band IDs. 

**What should I do so that I can ensure that at least one (correct) band ID has been sent along with my form?** 

For how I'm sending the band-IDs with auto-complete, see this related question: http://stackoverflow.com/questions/1528059/",django,django-forms,validation,,,,open,0,232,6,"Validating an Autocomplete field in Django I have models similar to the following: 

    class Band(models.Model):
        name = models.CharField(unique=True)

    class Event(models.Model):    
        name = models.CharField(max_length=50, unique=True)       
        bands = models.ManyToManyField(Band) 

and essentially I want to use the validation capability offered by a ModelForm that already exists for Event, but I *do not* want to show the default Multi-Select list (for 'bands') on the page, because the potential length of the related models is extremely long. 

I have the following form defined: 

    class AddEventForm(ModelForm):
        class Meta: 
            model = Event
            fields = ('name', )

Which does what is expected for the Model, but of course, validation could care less about the 'bands' field. I've got it working enough to add bands correctly, but there's no correct validation, and it will simply drop bad band IDs. 

**What should I do so that I can ensure that at least one (correct) band ID has been sent along with my form?** 

For how I'm sending the band-IDs with auto-complete, see this related question: http://stackoverflow.com/questions/1528059/",3
1081789,07/04/2009 08:20:50,90025,04/12/2009 18:25:16,512,21,How to recommend next achievement,"Coles Notes: 

I have a similar setup to StackOverflow. Users get Achievements. I have many more achievements than SO, lets say on the order of 10k, and each user has in the 100s of achievements. Now, how would you recommend (to recommend) the next achievement for a user to try for?

Long version:

The objects are modeled like this in django (showing only important parts) :

    class User(models.Model):
        alias = models.ForeignKey(Alias)

    class Alias(models.Model):
        achievements = models.ManyToManyField('Achievement', through='Achiever')
    
    class Achievement(models.Model):
        points = models.IntegerField()
    
    class Achiever(models.Model):
        achievement = models.ForeignKey(Achievement)
        alias = models.ForeignKey(Alias)
        count = models.IntegerField(default=1)

and my algorithm is this :


    def recommended(request) :
        user = request.user.get_profile()

        r = {}
        achievements = set()
        for alias in user.alias_set.select_related('achievements').all() :
            achievements.update(alias.achievements.all())

        otherAliases = set()
        for ach in achievements :
            otherAliases.update(ach.alias_set.all())

        for otherAlias in otherAliases :
            for otherAch in otherAlias.achievements.all() :
                r[otherAch] = r.get(otherAch, 0) + 1

        for ach in achievements :
            r.pop(ach)

        r = sorted(r.items(), lambda x, y: cmp(x[1], y[1]), reverse=True)
        template_values = {}
        template_values['achievements'] = r

But it takes FOREVER to run, and always returns the whole list, which is unneeded. A user would only need the top few achievements to go after.

So, I'm welcome to recommendations on other algorithms and/or code improvements. I'll give you an achievement in my system for coming up with the recommendation algorithm :)",django,achievements,web,python,recommendation,06/11/2012 08:29:29,not constructive,1,413,5,"How to recommend next achievement Coles Notes: 

I have a similar setup to StackOverflow. Users get Achievements. I have many more achievements than SO, lets say on the order of 10k, and each user has in the 100s of achievements. Now, how would you recommend (to recommend) the next achievement for a user to try for?

Long version:

The objects are modeled like this in django (showing only important parts) :

    class User(models.Model):
        alias = models.ForeignKey(Alias)

    class Alias(models.Model):
        achievements = models.ManyToManyField('Achievement', through='Achiever')
    
    class Achievement(models.Model):
        points = models.IntegerField()
    
    class Achiever(models.Model):
        achievement = models.ForeignKey(Achievement)
        alias = models.ForeignKey(Alias)
        count = models.IntegerField(default=1)

and my algorithm is this :


    def recommended(request) :
        user = request.user.get_profile()

        r = {}
        achievements = set()
        for alias in user.alias_set.select_related('achievements').all() :
            achievements.update(alias.achievements.all())

        otherAliases = set()
        for ach in achievements :
            otherAliases.update(ach.alias_set.all())

        for otherAlias in otherAliases :
            for otherAch in otherAlias.achievements.all() :
                r[otherAch] = r.get(otherAch, 0) + 1

        for ach in achievements :
            r.pop(ach)

        r = sorted(r.items(), lambda x, y: cmp(x[1], y[1]), reverse=True)
        template_values = {}
        template_values['achievements'] = r

But it takes FOREVER to run, and always returns the whole list, which is unneeded. A user would only need the top few achievements to go after.

So, I'm welcome to recommendations on other algorithms and/or code improvements. I'll give you an achievement in my system for coming up with the recommendation algorithm :)",5
4600402,01/05/2011 02:45:55,353339,05/29/2010 00:32:58,3,1,Two or more __in filters in django queryset,"I have this query

query = 'select * from products where (productnr, supplier_id) in (%s)' % product_list

where product_list looks like this ((OB520, 3),(RH402, 20)...)

How do I go about doing this in Django using queryset and the __in filter

",django,django-queryset,,,,,open,0,37,8,"Two or more __in filters in django queryset I have this query

query = 'select * from products where (productnr, supplier_id) in (%s)' % product_list

where product_list looks like this ((OB520, 3),(RH402, 20)...)

How do I go about doing this in Django using queryset and the __in filter

",2
2168624,01/30/2010 16:58:46,315635,01/30/2010 16:36:33,1,0,Django: Moving from XAMPP to Django questions,"I've worked with XAMPP, WAMPP, MAMPP, etc and am starting to look at Django.

A majority of the work we do is very CMS orientated; although we've been told not to use third-party CMS' (mainly because of user's find them hard to use, and other issues), I've found that I can code a very simple CMS using Cake, CodeIgniter or one of the other PHP frameworks.

And yet, I'm getting increasingly frustrated with the amount of coding I need to do just to get something up and running, and I've been told that Django is a good Python framework to use.  It also seems to get a lot of buzz from reddit.

I have some concerns and queries about moving from XAMPP to Django.

1) Security

Any web app should be coded defensively. Over the past few years we've seen a movement towards protecting against XSS, SQL injections, Cross site forgeries, session fixation, session hi-jacking, cookie hi-jacking; the amount of security one needs can be overwhelming. 

What things does Django do to prevent/limit XSS, SQL injections, Javascript injections, and santizing input; one normally associates with securing PHP web apps?  Is it something I need to worry about, or does Django do all this stuff out of the box.

2) What goes in the /www/ public folder?

In a manual I read it said not to put manage.py or the other .py stuff in the main webroot, so this means I put everything outside of the webroot; so what goes in there?

Do I put the /templates/ directory inside the webroot?  How does the server know what to run?

3) Can I still use .htaccess on Django projects?  I am familiar with Apache and often use it to do routing, or blocking off bad bots, but will using .htaccess still work?

4) Cronjobs

Do cronjobs still work with Python/Django projects?

5) Running Third party perl/other scripts

In PHP you can use other libraries such as the curl library, ffmpeg, ImageMagik as well as many others; can I still use these libraries with Python/Django?

6) Admin screen

Django gives you an out-of-the-box admin screen; is this only for development purposes or can it put live?  I am concerned about any the security of the admin screen.

7) Integration with Discuss, Facebook, Twitter, OpenID, captcha, etc.

There are libraries in PHP that help integrate DisQuss, Facebook, Twitter; but is it relatively easy to do an integration with these and other third party apps?

8) E-commerce, SSL 

Are there many e-commerce sites that use Django?  I've seen a lot of CMS/Blog type software but not many e-commerce sites.  By which I mean, shopping card, Protx/Paypal or Worldpay integration.

That's another thing; there are sandboxes for Protx, Paypal, Worldpay etc for PHP -- but are there any for Django?

9) Is it worth it?

Is it worth moving to Django from an XAMPP background?  Will it really make things faster, or is that just marketing hype?

Thanks.",django,,,,,,open,0,478,7,"Django: Moving from XAMPP to Django questions I've worked with XAMPP, WAMPP, MAMPP, etc and am starting to look at Django.

A majority of the work we do is very CMS orientated; although we've been told not to use third-party CMS' (mainly because of user's find them hard to use, and other issues), I've found that I can code a very simple CMS using Cake, CodeIgniter or one of the other PHP frameworks.

And yet, I'm getting increasingly frustrated with the amount of coding I need to do just to get something up and running, and I've been told that Django is a good Python framework to use.  It also seems to get a lot of buzz from reddit.

I have some concerns and queries about moving from XAMPP to Django.

1) Security

Any web app should be coded defensively. Over the past few years we've seen a movement towards protecting against XSS, SQL injections, Cross site forgeries, session fixation, session hi-jacking, cookie hi-jacking; the amount of security one needs can be overwhelming. 

What things does Django do to prevent/limit XSS, SQL injections, Javascript injections, and santizing input; one normally associates with securing PHP web apps?  Is it something I need to worry about, or does Django do all this stuff out of the box.

2) What goes in the /www/ public folder?

In a manual I read it said not to put manage.py or the other .py stuff in the main webroot, so this means I put everything outside of the webroot; so what goes in there?

Do I put the /templates/ directory inside the webroot?  How does the server know what to run?

3) Can I still use .htaccess on Django projects?  I am familiar with Apache and often use it to do routing, or blocking off bad bots, but will using .htaccess still work?

4) Cronjobs

Do cronjobs still work with Python/Django projects?

5) Running Third party perl/other scripts

In PHP you can use other libraries such as the curl library, ffmpeg, ImageMagik as well as many others; can I still use these libraries with Python/Django?

6) Admin screen

Django gives you an out-of-the-box admin screen; is this only for development purposes or can it put live?  I am concerned about any the security of the admin screen.

7) Integration with Discuss, Facebook, Twitter, OpenID, captcha, etc.

There are libraries in PHP that help integrate DisQuss, Facebook, Twitter; but is it relatively easy to do an integration with these and other third party apps?

8) E-commerce, SSL 

Are there many e-commerce sites that use Django?  I've seen a lot of CMS/Blog type software but not many e-commerce sites.  By which I mean, shopping card, Protx/Paypal or Worldpay integration.

That's another thing; there are sandboxes for Protx, Paypal, Worldpay etc for PHP -- but are there any for Django?

9) Is it worth it?

Is it worth moving to Django from an XAMPP background?  Will it really make things faster, or is that just marketing hype?

Thanks.",1
2503970,03/23/2010 22:06:22,95592,04/24/2009 16:22:09,473,14,Limiting choices from an intermediary ManyToMany junction table in Django,"## Background ##

I've created three Django models—Inventory, SalesOrder, and Invoice—to model items in inventory, sales orders for those items, and invoices for a particular sales order. Each sales order can have multiple items, so I've used an intermediary junction table—`SalesOrderItems`—using the `through` argument for the `ManyToManyField`. Also, partial billing of a sales orders is allowed, so I've created a `ForeignKey` in the `Invoice` model related to the `SalesOrder` model, so that a particular sales order can have multiple  invoices.

Here's where I deviate from what I've normally seen. Instead of relating the `Invoice` model to the `Item` model via a `ManyToManyField`, I've related the `Invoice` model to the `SalesOrderItem` intermediary junction table through the intermediary junction table `InvoiceItem`. I've done this because it better models reality—our invoices are tied to sales orders and can only include items that are tied to that sales order as opposed to any item in inventory. I will admit that it does seem strange having the intermediary junction table of a `ManyToManyField` related to the intermediary junction table of another `ManyToManyField`.

## Question ##

* How can I limit the choices available for the `invoice_items` in the `Invoice` model to just the `sales_order_items` of the `SalesOrder` model for that particular `Invoice`? (I tried using `limit_choices_to= {'sales_order': self.invoice.sales_order})` as part of the `item = models.ForeignKey(SalesOrderItem)` in the `InvoiceItem` model, but that didn't work.
* Am I correct in thinking that limiting the choices for the `invoice_items` should be handled in the model instead of in a form?

## Code ##

    class Item(models.Model):
        item_num = models.SlugField(unique=True)
        default_price = models.DecimalField(max_digits=10, decimal_places=2,
            blank=True, null=True)
    
    class SalesOrderItem(models.Model):
        item = models.ForeignKey(Item)
        sales_order = models.ForeignKey('SalesOrder')
        unit_price = models.DecimalField(max_digits=10, decimal_places=2)
        quantity = models.DecimalField(max_digits=10, decimal_places=4)
    
    class SalesOrder(models.Model):
        customer = models.ForeignKey(Party)
        so_num = models.SlugField(max_length=40, unique=True)
        sales_order_items = models.ManyToManyField(Item, 
            through=SalesOrderItem)
    
    class InvoiceItem(models.Model):
        item = models.ForeignKey(SalesOrderItem)
        invoice = models.ForeignKey('Invoice')
        unit_price = models.DecimalField(max_digits=10, decimal_places=2)
        quantity = models.DecimalField(max_digits=10, decimal_places=4)
    
    class Invoice(models.Model):
        invoice_num = models.SlugField(max_length=25)
        sales_order = models.ForeignKey(SalesOrder)
        invoice_items = models.ManyToManyField(SalesOrderItem,
            through='InvoiceItem')
    ",django,django-models,data-modeling,,,,open,0,499,10,"Limiting choices from an intermediary ManyToMany junction table in Django ## Background ##

I've created three Django models—Inventory, SalesOrder, and Invoice—to model items in inventory, sales orders for those items, and invoices for a particular sales order. Each sales order can have multiple items, so I've used an intermediary junction table—`SalesOrderItems`—using the `through` argument for the `ManyToManyField`. Also, partial billing of a sales orders is allowed, so I've created a `ForeignKey` in the `Invoice` model related to the `SalesOrder` model, so that a particular sales order can have multiple  invoices.

Here's where I deviate from what I've normally seen. Instead of relating the `Invoice` model to the `Item` model via a `ManyToManyField`, I've related the `Invoice` model to the `SalesOrderItem` intermediary junction table through the intermediary junction table `InvoiceItem`. I've done this because it better models reality—our invoices are tied to sales orders and can only include items that are tied to that sales order as opposed to any item in inventory. I will admit that it does seem strange having the intermediary junction table of a `ManyToManyField` related to the intermediary junction table of another `ManyToManyField`.

## Question ##

* How can I limit the choices available for the `invoice_items` in the `Invoice` model to just the `sales_order_items` of the `SalesOrder` model for that particular `Invoice`? (I tried using `limit_choices_to= {'sales_order': self.invoice.sales_order})` as part of the `item = models.ForeignKey(SalesOrderItem)` in the `InvoiceItem` model, but that didn't work.
* Am I correct in thinking that limiting the choices for the `invoice_items` should be handled in the model instead of in a form?

## Code ##

    class Item(models.Model):
        item_num = models.SlugField(unique=True)
        default_price = models.DecimalField(max_digits=10, decimal_places=2,
            blank=True, null=True)
    
    class SalesOrderItem(models.Model):
        item = models.ForeignKey(Item)
        sales_order = models.ForeignKey('SalesOrder')
        unit_price = models.DecimalField(max_digits=10, decimal_places=2)
        quantity = models.DecimalField(max_digits=10, decimal_places=4)
    
    class SalesOrder(models.Model):
        customer = models.ForeignKey(Party)
        so_num = models.SlugField(max_length=40, unique=True)
        sales_order_items = models.ManyToManyField(Item, 
            through=SalesOrderItem)
    
    class InvoiceItem(models.Model):
        item = models.ForeignKey(SalesOrderItem)
        invoice = models.ForeignKey('Invoice')
        unit_price = models.DecimalField(max_digits=10, decimal_places=2)
        quantity = models.DecimalField(max_digits=10, decimal_places=4)
    
    class Invoice(models.Model):
        invoice_num = models.SlugField(max_length=25)
        sales_order = models.ForeignKey(SalesOrder)
        invoice_items = models.ManyToManyField(SalesOrderItem,
            through='InvoiceItem')
    ",3
10715401,05/23/2012 07:34:18,898080,08/17/2011 06:40:06,11,0,how to save data from MultipleChoiceField with checkbox widget in Django,"I have a Tutor model which has a ManyToManyField to a model called Subjects and I'm trying to render the Tutor form with a MultipleChoiceField and though it is being rendered properly, the values are not being saved in the database, I think I'm doing something wrong in my views.

For Reference, here are the models 

    class Subjects(models.Model):
        subject = models.CharField(max_length=100)
    
    class TutorProfile(models.Model):
        user = models.OneToOneField(User, primary_key=True)
        subject = models.ManyToManyField(Subjects)

And I have populated my Subjects model with some objects


Here is the form,

    class TutorForm(forms.Form):
          subjectfield = forms.MultipleChoiceField(choices = ((sub.pk, sub.subject) for sub in Subjects.objects.all()), widget=forms.CheckboxSelectMultiple())

and here is the view,

    def someview(request):
        if request.method == 'POST':
          form = TutorForm(request.POST)
          if form.is_valid():
            subjects = form.cleaned_data['subjectfield']
            for sub in subjects:
              form.subject.add(sub)
            form.save() 

But the values are not getting saved in the database, please help :(
",django,django-models,django-forms,django-views,django-many-to-many,,open,0,249,11,"how to save data from MultipleChoiceField with checkbox widget in Django I have a Tutor model which has a ManyToManyField to a model called Subjects and I'm trying to render the Tutor form with a MultipleChoiceField and though it is being rendered properly, the values are not being saved in the database, I think I'm doing something wrong in my views.

For Reference, here are the models 

    class Subjects(models.Model):
        subject = models.CharField(max_length=100)
    
    class TutorProfile(models.Model):
        user = models.OneToOneField(User, primary_key=True)
        subject = models.ManyToManyField(Subjects)

And I have populated my Subjects model with some objects


Here is the form,

    class TutorForm(forms.Form):
          subjectfield = forms.MultipleChoiceField(choices = ((sub.pk, sub.subject) for sub in Subjects.objects.all()), widget=forms.CheckboxSelectMultiple())

and here is the view,

    def someview(request):
        if request.method == 'POST':
          form = TutorForm(request.POST)
          if form.is_valid():
            subjects = form.cleaned_data['subjectfield']
            for sub in subjects:
              form.subject.add(sub)
            form.save() 

But the values are not getting saved in the database, please help :(
",5
6244192,06/05/2011 16:24:37,192632,10/19/2009 19:02:50,484,5,How to initialize django database when using django and south,"I try to write a script that will reset and reinitialize the database for a new django application. In order to detect any error I want to check the return code of each command.


    #! /bin/env python
    import sys, os 
    
    def execute⌘:
 	    print(cmd)
	    ret = os.system(cmd)
	    if not ret:
	    	sys.exit(""Last command failed"")
    
    if __name__ == ""__main__"":
    	if os.path.isfile('app.sqlite'):
    		os.unlink('app.sqlite')

    	execute('python manage.py syncdb --noinput --all') # << this fails
    	execute('python manage.py migrate --noinput --all')

My problem is that I wasn't able to find a way to safely re-initialize the database. Running `migrate` fails because it requires `syncdb` and `syncdb` fails because it requires `migrate`.

Do not ask me to ignore the return codes from the commands, I want a solution that is able to properly deal with error codes.",django,django-south,,,,,open,0,172,10,"How to initialize django database when using django and south I try to write a script that will reset and reinitialize the database for a new django application. In order to detect any error I want to check the return code of each command.


    #! /bin/env python
    import sys, os 
    
    def execute⌘:
 	    print(cmd)
	    ret = os.system(cmd)
	    if not ret:
	    	sys.exit(""Last command failed"")
    
    if __name__ == ""__main__"":
    	if os.path.isfile('app.sqlite'):
    		os.unlink('app.sqlite')

    	execute('python manage.py syncdb --noinput --all') # << this fails
    	execute('python manage.py migrate --noinput --all')

My problem is that I wasn't able to find a way to safely re-initialize the database. Running `migrate` fails because it requires `syncdb` and `syncdb` fails because it requires `migrate`.

Do not ask me to ignore the return codes from the commands, I want a solution that is able to properly deal with error codes.",2
8921895,01/19/2012 06:24:45,1157779,01/19/2012 06:00:38,1,0,Django: preventing external query string requests,"I've been doing web development for a few months now and keep having this nagging problem. It is typical for pages to request content with a query string which usually contains meaningful data such as an id in the database. An example would be a link such as:
    <pre>http://www.example.com/posts?id=5</pre>
<p>I've been trying to think of a good strategy to prevent users from manually entering a value for the id without having accessed it from a link--I'd only wish to acknowledge requests that were made by links presented on my website. Also, the website may not have an authentication system and allows for anonymous browsing; that being said, the information isn't particularly sensitive but still I don't like the idea of not being able to control access to certain information. One option, I suppose, would be to use HTTP POST requests for these kind of pages -- I don't believe a user can simulate a post request but I may be wrong.</p>
<p>Furthermore, the user could place any arbitrary number for the id and end up requesting a record that doesn't exist in the database. Of course, I could validate the requested id but then I would be wasting resources to accommodate this check.</p>

Any thoughts? I'm working with django but a general strategy for any programming language would be good. Thanks.
",django,security,query-string,http-get,,,open,0,221,6,"Django: preventing external query string requests I've been doing web development for a few months now and keep having this nagging problem. It is typical for pages to request content with a query string which usually contains meaningful data such as an id in the database. An example would be a link such as:
    <pre>http://www.example.com/posts?id=5</pre>
<p>I've been trying to think of a good strategy to prevent users from manually entering a value for the id without having accessed it from a link--I'd only wish to acknowledge requests that were made by links presented on my website. Also, the website may not have an authentication system and allows for anonymous browsing; that being said, the information isn't particularly sensitive but still I don't like the idea of not being able to control access to certain information. One option, I suppose, would be to use HTTP POST requests for these kind of pages -- I don't believe a user can simulate a post request but I may be wrong.</p>
<p>Furthermore, the user could place any arbitrary number for the id and end up requesting a record that doesn't exist in the database. Of course, I could validate the requested id but then I would be wasting resources to accommodate this check.</p>

Any thoughts? I'm working with django but a general strategy for any programming language would be good. Thanks.
",4
2311094,02/22/2010 13:27:00,127549,06/23/2009 12:25:26,4277,249,How to handle user mangement in Django for groups that has same access but different rules?,"###Background information:###
I have created an internal site for a company. Most of the work has gone into making calculation tools that their sale persons can use to make offers for clients. Create pdf offers and contracts that can be downloaded, compare prices etc. All of this is working fine.

Now their sale persons have been divided into two groups.

1. One group is sale personal that is hired by the company.
2. The other group is persons a company themselves.

###The question:###
My challenge now is, that I in some cases need to display different things depending on the type of sales person. Some of the rules for the calculation tools will have different rules as to which numbers will be allowed etc. But a big part of the site will still be the same for both groups.

What I would like to know, is if there is a good way of handling this problem?

###My own thoughts:###

I thought about managing this by using the groups that is available in contrib.auth. That way I could keep a single code base, but would have to make rules a lot of different places. Rules for validating forms to check if the numbers entered is allowed, will depend on the group the user is in. Some things will have different names, or the workflow might be a bit different. Some tools will only be available to one of the groups. This seems like a quick solution here and now, but if the two groups will need to change more and more, it seems like this would quickly become hard to manage.

I also thought about making two different sites. The idea here was to create apps that both groups use, so I only would need to make the code for that 1 place. Then I could make the custom parts for each site and wouldn't need to check for the user in most templates and views. But I'm not sure if this is a good way to go about things. It will create a lot of extra work, and if the two groups can use a lot of the same code, this might not really be needed.

The biggest concern is that I don't really know how this evolve, so it could end up with the two groups being entire different or with only very few differences. What I would like to do, is write some code that can support both scenarios so I wont end up regretting my choice a half year from now.

So, how do you handle this case of user management. I'm looking for ideas techniques or reusable apps that address this problem, not a ready made solution.",django,user-management,python,,,,open,0,439,16,"How to handle user mangement in Django for groups that has same access but different rules? ###Background information:###
I have created an internal site for a company. Most of the work has gone into making calculation tools that their sale persons can use to make offers for clients. Create pdf offers and contracts that can be downloaded, compare prices etc. All of this is working fine.

Now their sale persons have been divided into two groups.

1. One group is sale personal that is hired by the company.
2. The other group is persons a company themselves.

###The question:###
My challenge now is, that I in some cases need to display different things depending on the type of sales person. Some of the rules for the calculation tools will have different rules as to which numbers will be allowed etc. But a big part of the site will still be the same for both groups.

What I would like to know, is if there is a good way of handling this problem?

###My own thoughts:###

I thought about managing this by using the groups that is available in contrib.auth. That way I could keep a single code base, but would have to make rules a lot of different places. Rules for validating forms to check if the numbers entered is allowed, will depend on the group the user is in. Some things will have different names, or the workflow might be a bit different. Some tools will only be available to one of the groups. This seems like a quick solution here and now, but if the two groups will need to change more and more, it seems like this would quickly become hard to manage.

I also thought about making two different sites. The idea here was to create apps that both groups use, so I only would need to make the code for that 1 place. Then I could make the custom parts for each site and wouldn't need to check for the user in most templates and views. But I'm not sure if this is a good way to go about things. It will create a lot of extra work, and if the two groups can use a lot of the same code, this might not really be needed.

The biggest concern is that I don't really know how this evolve, so it could end up with the two groups being entire different or with only very few differences. What I would like to do, is write some code that can support both scenarios so I wont end up regretting my choice a half year from now.

So, how do you handle this case of user management. I'm looking for ideas techniques or reusable apps that address this problem, not a ready made solution.",3
4744709,01/20/2011 08:00:58,244482,01/06/2010 05:49:20,20,0,django form validation:  validating initial values,"I have a django form (forms.Form). Each and every form fields have initial values like,

<pre>
<code>
class SomeForm(forms.Form):
  city = forms.CharField(initial=""Your city here"")

</code>
</pre>


When some one posts this form without changing the initial value (ie. Without entering anything as city, the city field will be ""Your city here"") . form.is_valid() does not raise a validation error. Is there any way i can make the validation fail? Is there any inbuilt method/property available that i can call/set to make form validation to fail? Or do i have to manually validate it?
",django,validation,forms,,,,open,0,88,7,"django form validation:  validating initial values I have a django form (forms.Form). Each and every form fields have initial values like,

<pre>
<code>
class SomeForm(forms.Form):
  city = forms.CharField(initial=""Your city here"")

</code>
</pre>


When some one posts this form without changing the initial value (ie. Without entering anything as city, the city field will be ""Your city here"") . form.is_valid() does not raise a validation error. Is there any way i can make the validation fail? Is there any inbuilt method/property available that i can call/set to make form validation to fail? Or do i have to manually validate it?
",3
8160626,11/17/2011 00:22:11,873347,08/01/2011 19:15:47,62,4,Webfaction subdomain down on some machines,I have two domains and (ideally) a subdomain for one of them running on different django apps running on the same webfaction server.  I can navigate to both the domains but pinging the subdomain often fails and seems to vary from time to time and from machine to machine.  Does anyone have any idea what could be causing this?,django,webfaction,,,,11/17/2011 20:54:14,off topic,1,61,6,Webfaction subdomain down on some machines I have two domains and (ideally) a subdomain for one of them running on different django apps running on the same webfaction server.  I can navigate to both the domains but pinging the subdomain often fails and seems to vary from time to time and from machine to machine.  Does anyone have any idea what could be causing this?,2
2293500,02/19/2010 01:25:42,234322,12/18/2009 05:05:53,698,4,django error when i signup  my site .,"![alt text][1]


  [1]: http://omploader.org/vM2xsNA


thanks

this is the signup view:

    def signup(request, form_class=SignupForm,
            template_name=""account/signup.html"", success_url=None):
        if success_url is None:
            success_url = get_default_redirect(request)
        if request.method == ""POST"":
            form = form_class(request.POST)
            if form.is_valid():
                username, password = form.save()
                if settings.ACCOUNT_EMAIL_VERIFICATION:
                    return render_to_response(""account/verification_sent.html"", {
                        ""email"": form.cleaned_data[""email""],
                    }, context_instance=RequestContext(request))
                else:
                    user = authenticate(username=username, password=password)
                    auth_login(request, user)
                    request.user.message_set.create(
                        message=_(""Successfully logged in as %(username)s."") % {
                        'username': user.username
                    })
                    return HttpResponseRedirect(success_url)
        else:
            form = form_class()
        return render_to_response(template_name, {
            ""form"": form,
        }, context_instance=RequestContext(request))",django,python,,,,05/02/2012 12:40:20,too localized,1,425,9,"django error when i signup  my site . ![alt text][1]


  [1]: http://omploader.org/vM2xsNA


thanks

this is the signup view:

    def signup(request, form_class=SignupForm,
            template_name=""account/signup.html"", success_url=None):
        if success_url is None:
            success_url = get_default_redirect(request)
        if request.method == ""POST"":
            form = form_class(request.POST)
            if form.is_valid():
                username, password = form.save()
                if settings.ACCOUNT_EMAIL_VERIFICATION:
                    return render_to_response(""account/verification_sent.html"", {
                        ""email"": form.cleaned_data[""email""],
                    }, context_instance=RequestContext(request))
                else:
                    user = authenticate(username=username, password=password)
                    auth_login(request, user)
                    request.user.message_set.create(
                        message=_(""Successfully logged in as %(username)s."") % {
                        'username': user.username
                    })
                    return HttpResponseRedirect(success_url)
        else:
            form = form_class()
        return render_to_response(template_name, {
            ""form"": form,
        }, context_instance=RequestContext(request))",2
1153096,07/20/2009 11:46:58,130546,06/29/2009 16:44:18,11,0,Updated (current) recommendation on Rails versus Django?,"*(Disclaimer: I asked this question yesterday on HN http://bit.ly/m6onk. While responses were good, there was a notable lack of technical discussion and more of a ""you should use rails because that's what you know"". Since Joel and Jeff state clearly they don't mind reposts of questions from other sites...and since I really enjoy the answers I find here...here goes)*

Hi guys.

I realize this post is an infamous ""versus"" question, and undoubtedly redundant with older posts. However, most of the information I find on Rails versus Django is out of date and based on much older versions of the frameworks, so please forgive me.

First and foremost...I'm a Rails guy. I came to it three years ago and really enjoyed a lot of what it brought to the table. I'm not solely a Ruby guy...I have around 11 years of total experience, including Java, C/C++, Perl, Tcl, (some) Python, and more.

Anyway, I have an idea I believe will take over the world. I've already convinced a few folks it will as well and have friends and family funding to take on some offshore developers and get it in beta as quickly as possible.

Now, however, I am left with the decision of what tech to use. While I've really enjoyed Ruby...I'm growing tired of the magic, and the abuse of open classes. It's very nice when you need to inject some behavior quickly, but it can become a real pain when you have to maintain your project, or any of the plugins it depends on. I personally prefer Ruby over Python (largely because of blocks), but I envy the clarity-first attitude in the Python community. Given this frustration, I'm seriously considering a deep-dive into Django and using it for this project.

The pluses I see on the Rails side are: 

 1. Size of community (which, given some of this ""community"" includes PHP refugees, is not necessarily a plus) 
 2. My familiarity and experience
 3. Number of companies using it and striving to improve it
 4. Availability of offshore resources

Drawbacks of Rails include: 

 1. Too much magic
 2. Documentation continues to be awful in places
 3. Inconsistent API
 4. Did I mention magic?

The (perceived) pluses on the Django side: 

 1. Clarity
 2. Performance...I believe Unladen Swallow will really change the Python landscape and give it a competitive advantage
 3. Google's support of the language itself (see #2)

Drawbacks of Django: 

 1. Learning curve
 2. Smaller community
 3. Slower development cycle of the project itself? 
 4. (un)Availability of offshore resources

So, this is my thought process so far. I'm pretty comfortable I could come up to speed quickly on Django, and I have the basics of Python still in my memory somewhere. But I wanted to get your opinions as I really respect the vision and experience of a lot of the folks I read on here.

I appreciate your help. I really think this idea will take off, so it's very important to me to make the right technology decision.

And saying to choose Rails simply because I have experience there just doesn't sound right. If that were the case, I'd still be using Perl or C.

Thank you!",django,ruby-on-rails,ruby,python,,06/06/2012 17:02:00,not constructive,1,524,7,"Updated (current) recommendation on Rails versus Django? *(Disclaimer: I asked this question yesterday on HN http://bit.ly/m6onk. While responses were good, there was a notable lack of technical discussion and more of a ""you should use rails because that's what you know"". Since Joel and Jeff state clearly they don't mind reposts of questions from other sites...and since I really enjoy the answers I find here...here goes)*

Hi guys.

I realize this post is an infamous ""versus"" question, and undoubtedly redundant with older posts. However, most of the information I find on Rails versus Django is out of date and based on much older versions of the frameworks, so please forgive me.

First and foremost...I'm a Rails guy. I came to it three years ago and really enjoyed a lot of what it brought to the table. I'm not solely a Ruby guy...I have around 11 years of total experience, including Java, C/C++, Perl, Tcl, (some) Python, and more.

Anyway, I have an idea I believe will take over the world. I've already convinced a few folks it will as well and have friends and family funding to take on some offshore developers and get it in beta as quickly as possible.

Now, however, I am left with the decision of what tech to use. While I've really enjoyed Ruby...I'm growing tired of the magic, and the abuse of open classes. It's very nice when you need to inject some behavior quickly, but it can become a real pain when you have to maintain your project, or any of the plugins it depends on. I personally prefer Ruby over Python (largely because of blocks), but I envy the clarity-first attitude in the Python community. Given this frustration, I'm seriously considering a deep-dive into Django and using it for this project.

The pluses I see on the Rails side are: 

 1. Size of community (which, given some of this ""community"" includes PHP refugees, is not necessarily a plus) 
 2. My familiarity and experience
 3. Number of companies using it and striving to improve it
 4. Availability of offshore resources

Drawbacks of Rails include: 

 1. Too much magic
 2. Documentation continues to be awful in places
 3. Inconsistent API
 4. Did I mention magic?

The (perceived) pluses on the Django side: 

 1. Clarity
 2. Performance...I believe Unladen Swallow will really change the Python landscape and give it a competitive advantage
 3. Google's support of the language itself (see #2)

Drawbacks of Django: 

 1. Learning curve
 2. Smaller community
 3. Slower development cycle of the project itself? 
 4. (un)Availability of offshore resources

So, this is my thought process so far. I'm pretty comfortable I could come up to speed quickly on Django, and I have the basics of Python still in my memory somewhere. But I wanted to get your opinions as I really respect the vision and experience of a lot of the folks I read on here.

I appreciate your help. I really think this idea will take off, so it's very important to me to make the right technology decision.

And saying to choose Rails simply because I have experience there just doesn't sound right. If that were the case, I'd still be using Perl or C.

Thank you!",4
10402373,05/01/2012 18:32:47,892977,08/13/2011 10:50:17,13,0,error while sending email in django,"I have installed <a href=""https://github.com/hmarr/django-ses"">`django-ses`</a> for sending emails in my amazon ec2 instance and have uninstalled it later. 

Now I am getting the following error when I try to send a email.

     raised exception: ImproperlyConfigured('Error importing email backend module django_ses:     ""No module named django_ses""',)

I have not mentioned about `django_ses` in my settings file and still I see this error. Can some one tell me whats wrong?
",django,amazon-ec2,celery,,,05/06/2012 20:08:40,too localized,1,74,6,"error while sending email in django I have installed <a href=""https://github.com/hmarr/django-ses"">`django-ses`</a> for sending emails in my amazon ec2 instance and have uninstalled it later. 

Now I am getting the following error when I try to send a email.

     raised exception: ImproperlyConfigured('Error importing email backend module django_ses:     ""No module named django_ses""',)

I have not mentioned about `django_ses` in my settings file and still I see this error. Can some one tell me whats wrong?
",3
8220656,11/22/2011 00:53:37,785253,06/06/2011 00:49:12,23,0,Running Django on Google App Engine,"I am learning Django and has made a simple app. I was thinking of deploying that app to Django. What is the easiest way to do it (i.e. the one which involves changing as little code as possible)? I know similar questions have been asked here but none of the questions were asked after Nov 2010 ([http://code.google.com/appengine/articles/django.html][1])?


  [1]: http://code.google.com/appengine/articles/django.html",django,google-app-engine,,,,11/23/2011 04:44:43,not constructive,1,60,6,"Running Django on Google App Engine I am learning Django and has made a simple app. I was thinking of deploying that app to Django. What is the easiest way to do it (i.e. the one which involves changing as little code as possible)? I know similar questions have been asked here but none of the questions were asked after Nov 2010 ([http://code.google.com/appengine/articles/django.html][1])?


  [1]: http://code.google.com/appengine/articles/django.html",2
1230089,08/04/2009 21:47:55,143208,07/22/2009 20:56:27,44,2,Two parter: Django book recommendation + Django real world advice,"First question:
   What is your favorite Django book or online learning material? CodeProject examples + Django documentation, O'Reilly, etc.

Second Question: What are some good tips and advice you have picked up along the way which helps you to use Django more effectively? Certain design patterns, language idioms, frameworks which tie into Django well, etc.

Thanks!",django,python,web,applications,development,09/17/2011 22:44:10,not constructive,1,56,10,"Two parter: Django book recommendation + Django real world advice First question:
   What is your favorite Django book or online learning material? CodeProject examples + Django documentation, O'Reilly, etc.

Second Question: What are some good tips and advice you have picked up along the way which helps you to use Django more effectively? Certain design patterns, language idioms, frameworks which tie into Django well, etc.

Thanks!",5
1267874,08/12/2009 18:25:45,46914,12/17/2008 03:40:18,7615,313,How to prevent Satchmo forms from displaying asterisk after required fields?,"I'm customizing my Satchmo store forms and have an icon that appears before any required fields.  The problem is, Satchmo seems to want to render a text asterisk after the required fields.  I'm using `field.label` to get this label, should I be using something else?",django,satchmo,fields,forms,python,,open,0,47,11,"How to prevent Satchmo forms from displaying asterisk after required fields? I'm customizing my Satchmo store forms and have an icon that appears before any required fields.  The problem is, Satchmo seems to want to render a text asterisk after the required fields.  I'm using `field.label` to get this label, should I be using something else?",5
9723166,03/15/2012 15:42:37,594781,01/29/2011 07:26:23,76,4,How to prevent Django pages from refreshing after submit?,"I am using the Django template system. What I want is, when I submit a form, or click to an url link, page does not refreshes, but loads with the data returning from the server. Is it possible?",django,jquery-ajax,django-templates,,,,open,0,38,9,"How to prevent Django pages from refreshing after submit? I am using the Django template system. What I want is, when I submit a form, or click to an url link, page does not refreshes, but loads with the data returning from the server. Is it possible?",3
9329684,02/17/2012 14:07:28,717583,04/20/2011 17:15:09,18,0,Pass blocks into an included template without extending,"I would like to know the best way to include a template many times throughout a project and possibly many times within a parent template. This included child template is just a skeleton that must be filled with both variables and blocks of html. Example templates:

parent.html:

    <p>Popup #1</p>
    {% include ""popup.html"" %}
    <p>Popup #2</p>
    {% include ""popup.html"" %}

popup.html:

    <h1 class=""title"">{% block title %}{% endblock %}</h1>
    <div class=""body"">{% block body %}{% endblock %}</div>

The only solution i can think of is to have a separate file for every popup and extend popup.html in each file. Then, I could include these extended files into my parent. This requires adding a file for every popup which would be frustrating.
What would be the best way to accomplish this?

",django,django-templates,,,,,open,0,141,8,"Pass blocks into an included template without extending I would like to know the best way to include a template many times throughout a project and possibly many times within a parent template. This included child template is just a skeleton that must be filled with both variables and blocks of html. Example templates:

parent.html:

    <p>Popup #1</p>
    {% include ""popup.html"" %}
    <p>Popup #2</p>
    {% include ""popup.html"" %}

popup.html:

    <h1 class=""title"">{% block title %}{% endblock %}</h1>
    <div class=""body"">{% block body %}{% endblock %}</div>

The only solution i can think of is to have a separate file for every popup and extend popup.html in each file. Then, I could include these extended files into my parent. This requires adding a file for every popup which would be frustrating.
What would be the best way to accomplish this?

",2
10427257,05/03/2012 07:52:24,328258,04/28/2010 20:22:03,78,3,Django: problems while loading custom filters in the base template file while using template inheritance,"When doing the `{% load custom_filters %}` in the template, after `{% extends ""base.html"" %}` everything works fine, but when I move the load to the base.html template the filter gets a weird behaviour. This is my custom_filters.py:

    from django import template
    from django.template.defaultfilters import stringfilter

    register = template.Library()

    # To cut off strings at a specified character, at first occurance. Example:
    #   time = 19:30:12.123456
    #   {{ time|cut:'.' }}
    #   returns: 19:30:12
    @register.filter
    @stringfilter
    def cut(string, cutoff_point):
        return string.split(cutoff_point, 1)[0]

when I load it in the 'end-template' the behaviour is as expected. If `time = 19:30:12.123456` then `{{ time|cut:'.' }}` returns `19:30:12`. When I load it in base.html the returned value is `19:30:12123456`, the same as the input but without the 'cutoff-point'.

Does anyone know why?",django,django-templates,django-filter,django-template-filters,django-1.4,,open,0,168,15,"Django: problems while loading custom filters in the base template file while using template inheritance When doing the `{% load custom_filters %}` in the template, after `{% extends ""base.html"" %}` everything works fine, but when I move the load to the base.html template the filter gets a weird behaviour. This is my custom_filters.py:

    from django import template
    from django.template.defaultfilters import stringfilter

    register = template.Library()

    # To cut off strings at a specified character, at first occurance. Example:
    #   time = 19:30:12.123456
    #   {{ time|cut:'.' }}
    #   returns: 19:30:12
    @register.filter
    @stringfilter
    def cut(string, cutoff_point):
        return string.split(cutoff_point, 1)[0]

when I load it in the 'end-template' the behaviour is as expected. If `time = 19:30:12.123456` then `{{ time|cut:'.' }}` returns `19:30:12`. When I load it in base.html the returned value is `19:30:12123456`, the same as the input but without the 'cutoff-point'.

Does anyone know why?",5
10367279,04/28/2012 20:29:08,885654,08/09/2011 09:42:46,36,0,"mp3 sent OK, but mp4 not (Django & X-Sendfile)","Apon clicking play on my web page, an mp3 file is sent from the server and in the browser see only 3 requests sent. I added to the response X-Sendfile header, and the responds arrived without it so I understand mod_xsendfile is configured OK.

Weirdly, when I click play on **mp4**, the browser start sending **hundreds** of requests, and the movie starts and gets stuck! No ""X-Sendfile"" header in responses here eather...

If I change the source in the cideo element to some mp4 file of a different site - all is OK (movie runs smoothly & only few requests).

*What is the problem?*



###Some Code...
HTML:

    <video id=""videoId"" preload=""none"" controls=""controls"" style=""direction:ltr;text-align:left;"" width=""300px"" height=""286px"" src=""private/url/of/file.mp4"">
        Sorry, unable to play video.
    </video>


Django:

    def audioFile(request,audio_file):
        response = HttpResponse(mimetype='audio/mpeg')
        if audio_file[-4:]=="".mp4"":
            response = HttpResponse(mimetype='video/mp4')
            response['Accept-Ranges'] = ""bytes""
        response['X-Sendfile'] = ""private/url/of/""+audio_file
        response['Content-Disposition'] = 'filename='+audio_file
        response['Content-Length'] = os.path.getsize(""private/url/of/""+audio_file) 
        return response

.htaccess:

    <filesMatch ""\.(mp3|ogg|mp4)$"">
        XSendFile on
    </filesMatch>

Response Header:   (of mp4)

    Accept-Ranges:bytes
    Connection:Keep-Alive
    Content-Disposition:filename=fileName.mp4
    Content-Length:1392497
    Content-Range:bytes 8382477-9774973/9774974
    Content-Type:video/mp4
    Date:Sat, 28 Apr 2012 20:27:07 GMT
    ETag:""b2b051c-95277e-4bda2fcc58f80""
    Keep-Alive:timeout=5, max=100
    Last-Modified:Sat, 14 Apr 2012 12:47:10 GMT
    Server:Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/0.9.8e-fips-rhel5 DAV/2 mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635 mod_fcgid/2.3.6
    Set-Cookie:sessionid=35c60c4e66c481e8a6bba8ed20639fb6; expires=Sat, 28-Apr-2012 23:00:29 GMT; Max-Age=9202; Path=/;",django,mp3,mp4,x-sendfile,,04/30/2012 10:41:02,too localized,1,318,9,"mp3 sent OK, but mp4 not (Django & X-Sendfile) Apon clicking play on my web page, an mp3 file is sent from the server and in the browser see only 3 requests sent. I added to the response X-Sendfile header, and the responds arrived without it so I understand mod_xsendfile is configured OK.

Weirdly, when I click play on **mp4**, the browser start sending **hundreds** of requests, and the movie starts and gets stuck! No ""X-Sendfile"" header in responses here eather...

If I change the source in the cideo element to some mp4 file of a different site - all is OK (movie runs smoothly & only few requests).

*What is the problem?*



###Some Code...
HTML:

    <video id=""videoId"" preload=""none"" controls=""controls"" style=""direction:ltr;text-align:left;"" width=""300px"" height=""286px"" src=""private/url/of/file.mp4"">
        Sorry, unable to play video.
    </video>


Django:

    def audioFile(request,audio_file):
        response = HttpResponse(mimetype='audio/mpeg')
        if audio_file[-4:]=="".mp4"":
            response = HttpResponse(mimetype='video/mp4')
            response['Accept-Ranges'] = ""bytes""
        response['X-Sendfile'] = ""private/url/of/""+audio_file
        response['Content-Disposition'] = 'filename='+audio_file
        response['Content-Length'] = os.path.getsize(""private/url/of/""+audio_file) 
        return response

.htaccess:

    <filesMatch ""\.(mp3|ogg|mp4)$"">
        XSendFile on
    </filesMatch>

Response Header:   (of mp4)

    Accept-Ranges:bytes
    Connection:Keep-Alive
    Content-Disposition:filename=fileName.mp4
    Content-Length:1392497
    Content-Range:bytes 8382477-9774973/9774974
    Content-Type:video/mp4
    Date:Sat, 28 Apr 2012 20:27:07 GMT
    ETag:""b2b051c-95277e-4bda2fcc58f80""
    Keep-Alive:timeout=5, max=100
    Last-Modified:Sat, 14 Apr 2012 12:47:10 GMT
    Server:Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/0.9.8e-fips-rhel5 DAV/2 mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635 mod_fcgid/2.3.6
    Set-Cookie:sessionid=35c60c4e66c481e8a6bba8ed20639fb6; expires=Sat, 28-Apr-2012 23:00:29 GMT; Max-Age=9202; Path=/;",4
3404245,08/04/2010 09:33:30,337247,05/10/2010 13:00:10,144,1,string formatting django,"How can I access multiple variables at different positions?
How does %s have to look like at inseration point and how at the end to correctly insert the variables.

Thanks!

Here is the code:




    from django.http import HttpResponse
    from django.contrib.auth.models import User
    from favorites.models import *
    
    def main_page_favorites(request):
    	title = Favorite.objects.get(id=1).title.upper()
    	email = User.objects.get(username='Me').email
    	image = Hyperlink.objects.get(id=3).url
    	output = '''
    		<html>
    			<head>
    				<title>
    					Connecting to the model
    				</title>
    			</head>
    			<body>
    				<h1>
    				Connecting to the model
    				</h1>
    				We will use this model to connect to the model.
    				
    				<p>Here is the title of the first favorite: %s</p>
    				
    			</body>
    		</html>''' % ( title, email, image
    		)
    	return HttpResponse(output)

",django,,,,,,open,0,186,3,"string formatting django How can I access multiple variables at different positions?
How does %s have to look like at inseration point and how at the end to correctly insert the variables.

Thanks!

Here is the code:




    from django.http import HttpResponse
    from django.contrib.auth.models import User
    from favorites.models import *
    
    def main_page_favorites(request):
    	title = Favorite.objects.get(id=1).title.upper()
    	email = User.objects.get(username='Me').email
    	image = Hyperlink.objects.get(id=3).url
    	output = '''
    		<html>
    			<head>
    				<title>
    					Connecting to the model
    				</title>
    			</head>
    			<body>
    				<h1>
    				Connecting to the model
    				</h1>
    				We will use this model to connect to the model.
    				
    				<p>Here is the title of the first favorite: %s</p>
    				
    			</body>
    		</html>''' % ( title, email, image
    		)
    	return HttpResponse(output)

",1
1957240,12/24/2009 07:37:41,128618,06/25/2009 04:43:13,92,3,filter using Q object with dynamic from user?,"In my views.py I have a method:

    #......
    def get_filter_result(self, customer_type, tag_selected):
            list_customer_filter=[]
            customers_filter = Customer.objects.filter(Q(type__name=customer_type),
                                                       Q(active=True),
                                                       Q(tag__id=tag_selected))
            
            for customer_filter in customers_filter:
                        customer_filter.list_authorize_sale_type = sale_type_selected(customer_filter.authorize_sale_type)
                        list_customer_filter.append(customer_filter)
            return list_customer_filter

**My case tag_selected is the checkbox values that user checked
I have a problems with tag_selected(is the list=1,2,3,...) that pass from my url

    /?customer_type=TDO&tag=2 ===>filter okay
    /?customer_type=TDO&tag=3 ===>filter okay
    ?customer_type=TDO&tag=2,3 ===>How Can I add And condition in filter?

for example 

    if len(tag_selected)==1:
          customers_filter = Customer.objects.filter(Q(type__name=customer_type),
                                                           Q(active=True),
                                                           Q(tag__id=tag_selected))
    else:
        customers_filter = Customer.objects.filter(Q(type__name=customer_type),
                                                           Q(active=True),
                                                           Q(tag__id=tag_selected[0])
                                                           Q(tag__id=tag_selected[1])
                                                           Q(tag__id=tag_selected[2])
                                                           ...
                                                            )",django,,,,,,open,0,795,8,"filter using Q object with dynamic from user? In my views.py I have a method:

    #......
    def get_filter_result(self, customer_type, tag_selected):
            list_customer_filter=[]
            customers_filter = Customer.objects.filter(Q(type__name=customer_type),
                                                       Q(active=True),
                                                       Q(tag__id=tag_selected))
            
            for customer_filter in customers_filter:
                        customer_filter.list_authorize_sale_type = sale_type_selected(customer_filter.authorize_sale_type)
                        list_customer_filter.append(customer_filter)
            return list_customer_filter

**My case tag_selected is the checkbox values that user checked
I have a problems with tag_selected(is the list=1,2,3,...) that pass from my url

    /?customer_type=TDO&tag=2 ===>filter okay
    /?customer_type=TDO&tag=3 ===>filter okay
    ?customer_type=TDO&tag=2,3 ===>How Can I add And condition in filter?

for example 

    if len(tag_selected)==1:
          customers_filter = Customer.objects.filter(Q(type__name=customer_type),
                                                           Q(active=True),
                                                           Q(tag__id=tag_selected))
    else:
        customers_filter = Customer.objects.filter(Q(type__name=customer_type),
                                                           Q(active=True),
                                                           Q(tag__id=tag_selected[0])
                                                           Q(tag__id=tag_selected[1])
                                                           Q(tag__id=tag_selected[2])
                                                           ...
                                                            )",1
2799439,05/09/2010 22:30:37,169274,09/06/2009 14:02:11,56,1,[Django] How to post to a facebook page,"I need to post a status update of one of my facebook page when I create a model into my django project, but I don't know how to do it using the new facebook graph api:

http://github.com/facebook/python-sdk/blob/master/src/facebook.py

can you explain to me how to do it?

Thanks in advance :)",django,facebook,,,,,open,0,47,8,"[Django] How to post to a facebook page I need to post a status update of one of my facebook page when I create a model into my django project, but I don't know how to do it using the new facebook graph api:

http://github.com/facebook/python-sdk/blob/master/src/facebook.py

can you explain to me how to do it?

Thanks in advance :)",2
10359056,04/27/2012 23:14:26,265681,02/03/2010 21:36:53,322,11,Django Models - Prepare the data for the database,"I have a form that askes for a phone number.  I need to make sure that only digits [0..9] get saved to the database.  

In the Django [documentation ][1] it say:

What happens when you save?

3) Prepare the data for the database. Each field is asked to provide its current value in a data type that can be written to the database.

How does this happen?  Or more specifically, how can I make sure this is cleaned?  I know that I can just override the models save method, but it seems like there is a better way and I'm just not sure how to do it.

I guess I could write a custom field for it, but that seems like over kill here.

Also, I realize that I can put the validation on the form, but it really feels like stripping out the characters belongs on the model.


  [1]: https://docs.djangoproject.com/en/dev/ref/models/instances/",django,django-models,,,,,open,0,151,9,"Django Models - Prepare the data for the database I have a form that askes for a phone number.  I need to make sure that only digits [0..9] get saved to the database.  

In the Django [documentation ][1] it say:

What happens when you save?

3) Prepare the data for the database. Each field is asked to provide its current value in a data type that can be written to the database.

How does this happen?  Or more specifically, how can I make sure this is cleaned?  I know that I can just override the models save method, but it seems like there is a better way and I'm just not sure how to do it.

I guess I could write a custom field for it, but that seems like over kill here.

Also, I realize that I can put the validation on the form, but it really feels like stripping out the characters belongs on the model.


  [1]: https://docs.djangoproject.com/en/dev/ref/models/instances/",2
2362218,03/02/2010 09:55:32,284278,03/02/2010 09:49:40,1,0,problem with select and related model,"i have models:

    class IdfPracownicy(models.Model):                                                                                                                                                                                               
       nazwa = models.CharField(max_length=100)   
    
    
    class IdfPracaOpinie(models.Model):                                                                                                                                                                                               
       nazwa = models.CharField(max_length=30)   
    
                                                                                                                                                                                                                                     
    class IdfPraca(models.Model):                                                                                                                                                                                                     
        numer_idf = models.ForeignKey(IdfPracownicy)                                                                                                                                                                                  
    [...]
        opinia = models.ForeignKey(IdfPracaOpinie)                                                                                                                                                                                    
        uwagi = models.TextField()                                                                                                                                                                                                    
        data_wpisu = models.DateTimeField(auto_now=True)          

i create form like this:
                                                                                                                                                                                                                                  
    class IdfPracaForm(forms.ModelForm):                                                                                                                                                                                              
        numer_idf = forms.ModelChoiceField(queryset=IdfPracownicy.objects.all(), widget=forms.HiddenInput)                                                                                                                             
        opinia = forms.ModelChoiceField(queryset=IdfPracaOpinie.objects.all(),empty_label=None)                                                                                                                                                             
                                                                                                                                                                                                          
        class Meta:                                                                                                                                                                                                                   
            # Nazwa modelu                                                                                                                                                                                                            
            model = IdfPraca                                                                                                                                                                                                          

                                
and when i diplay this form in browser, i get in <option> tag an object instance like: 

    <select name=""opinia"" id=""id_opinia""> 
    <option value=""1"">IdfPracaOpinie object</option> 
    <option value=""2"">IdfPracaOpinie object</option> 
    <option value=""3"">IdfPracaOpinie object</option> 
    <option value=""4"">IdfPracaOpinie object</option> 
    </select>

instead of field ""nazwa"" values..... what i'm doing wrong?",django,django-forms,django-models,django-templates,,,open,0,3150,6,"problem with select and related model i have models:

    class IdfPracownicy(models.Model):                                                                                                                                                                                               
       nazwa = models.CharField(max_length=100)   
    
    
    class IdfPracaOpinie(models.Model):                                                                                                                                                                                               
       nazwa = models.CharField(max_length=30)   
    
                                                                                                                                                                                                                                     
    class IdfPraca(models.Model):                                                                                                                                                                                                     
        numer_idf = models.ForeignKey(IdfPracownicy)                                                                                                                                                                                  
    [...]
        opinia = models.ForeignKey(IdfPracaOpinie)                                                                                                                                                                                    
        uwagi = models.TextField()                                                                                                                                                                                                    
        data_wpisu = models.DateTimeField(auto_now=True)          

i create form like this:
                                                                                                                                                                                                                                  
    class IdfPracaForm(forms.ModelForm):                                                                                                                                                                                              
        numer_idf = forms.ModelChoiceField(queryset=IdfPracownicy.objects.all(), widget=forms.HiddenInput)                                                                                                                             
        opinia = forms.ModelChoiceField(queryset=IdfPracaOpinie.objects.all(),empty_label=None)                                                                                                                                                             
                                                                                                                                                                                                          
        class Meta:                                                                                                                                                                                                                   
            # Nazwa modelu                                                                                                                                                                                                            
            model = IdfPraca                                                                                                                                                                                                          

                                
and when i diplay this form in browser, i get in <option> tag an object instance like: 

    <select name=""opinia"" id=""id_opinia""> 
    <option value=""1"">IdfPracaOpinie object</option> 
    <option value=""2"">IdfPracaOpinie object</option> 
    <option value=""3"">IdfPracaOpinie object</option> 
    <option value=""4"">IdfPracaOpinie object</option> 
    </select>

instead of field ""nazwa"" values..... what i'm doing wrong?",4
9135678,02/03/2012 21:22:55,198212,10/28/2009 15:37:51,2022,118,Django: filter a RawQuerySet,"i've got [some weird query][1], so i have to execute raw SQL. The thing is that this query is getting bigger and bigger and with lots of optional filters (ordering, column criteria, etc.).

So, given the this query:

    SELECT DISTINCT Camera.* FROM Camera c
         INNER JOIN cameras_features fc1 ON c.id = fc1.camera_id AND fc1.feature_id = 1
         INNER JOIN cameras_features fc2 ON c.id = fc2.camera_id AND fc2.feature_id = 2

This is roughly the Python code:

    def get_cameras(features):
      query = ""SELECT DISTINCT Camera.* FROM Camera c""
      i = 1
      for f in features:
        alias_name = ""fc%s"" % i
        query += ""INNER JOIN cameras_features %s ON c.id = %s.camera_id AND %s.feature_id = "" % (alias_name,alias_name,alias_name)
        query += "" %s ""
        i += 1
      return Camera.objects.raw(query, tuple(features))

This is working great, but i need to add more filters and ordering, for example suppose i need to filter by color and order by price, it starts to grow:

    #extra_filters is a list of tuples like:
    # [('price', '=', '12'), ('color' = 'blue'), ('brand', 'like', 'lum%']
    def get_cameras_big(features,extra_filters=None,order=None):
      query = ""SELECT DISTINCT Camera.* FROM Camera c""
      i = 1
      for f in features:
        alias_name = ""fc%s"" % i
        query += ""INNER JOIN cameras_features %s ON c.id = %s.camera_id AND %s.feature_id = "" % (alias_name,alias_name,alias_name)
        query += "" %s ""
        i += 1
      if extra_filters:
        query += "" WHERE ""
        for ef in extra_filters:
          query += ""%s %s %s"" % ef #not very safe, refactoring needed
      if order:
        query += ""order by %s"" % order
    
      return Camera.objects.raw(query, tuple(features))

So, i don't like how it started to grow, i know `Model.objects.raw()` returns a RawQuerySet, so i'd like to do something like this:

    queryset = get_cameras( ... )
    queryset.filter(...)
    queryset.order_by(...)

But this doesn't work. Of course i could just perform the raw query and after that get the an actual QuerySet with the data, but i will perform two querys. Like:

    raw_query_set = get_cameras( ... )
    camera.objects.filter(id__in(raw_query_set.ids)) #don't know if it works, but you get the idea

I'm thinking that something with the QuerySet __init__ or the cache may do the trick, but haven't been able to do it.

  [1]: http://stackoverflow.com/questions/9102907/can-you-solve-this-simple-sql-query
",django,django-models,,,,,open,0,533,4,"Django: filter a RawQuerySet i've got [some weird query][1], so i have to execute raw SQL. The thing is that this query is getting bigger and bigger and with lots of optional filters (ordering, column criteria, etc.).

So, given the this query:

    SELECT DISTINCT Camera.* FROM Camera c
         INNER JOIN cameras_features fc1 ON c.id = fc1.camera_id AND fc1.feature_id = 1
         INNER JOIN cameras_features fc2 ON c.id = fc2.camera_id AND fc2.feature_id = 2

This is roughly the Python code:

    def get_cameras(features):
      query = ""SELECT DISTINCT Camera.* FROM Camera c""
      i = 1
      for f in features:
        alias_name = ""fc%s"" % i
        query += ""INNER JOIN cameras_features %s ON c.id = %s.camera_id AND %s.feature_id = "" % (alias_name,alias_name,alias_name)
        query += "" %s ""
        i += 1
      return Camera.objects.raw(query, tuple(features))

This is working great, but i need to add more filters and ordering, for example suppose i need to filter by color and order by price, it starts to grow:

    #extra_filters is a list of tuples like:
    # [('price', '=', '12'), ('color' = 'blue'), ('brand', 'like', 'lum%']
    def get_cameras_big(features,extra_filters=None,order=None):
      query = ""SELECT DISTINCT Camera.* FROM Camera c""
      i = 1
      for f in features:
        alias_name = ""fc%s"" % i
        query += ""INNER JOIN cameras_features %s ON c.id = %s.camera_id AND %s.feature_id = "" % (alias_name,alias_name,alias_name)
        query += "" %s ""
        i += 1
      if extra_filters:
        query += "" WHERE ""
        for ef in extra_filters:
          query += ""%s %s %s"" % ef #not very safe, refactoring needed
      if order:
        query += ""order by %s"" % order
    
      return Camera.objects.raw(query, tuple(features))

So, i don't like how it started to grow, i know `Model.objects.raw()` returns a RawQuerySet, so i'd like to do something like this:

    queryset = get_cameras( ... )
    queryset.filter(...)
    queryset.order_by(...)

But this doesn't work. Of course i could just perform the raw query and after that get the an actual QuerySet with the data, but i will perform two querys. Like:

    raw_query_set = get_cameras( ... )
    camera.objects.filter(id__in(raw_query_set.ids)) #don't know if it works, but you get the idea

I'm thinking that something with the QuerySet __init__ or the cache may do the trick, but haven't been able to do it.

  [1]: http://stackoverflow.com/questions/9102907/can-you-solve-this-simple-sql-query
",2
8999153,01/25/2012 07:28:29,1161599,01/20/2012 22:43:47,5,0,"django : already logged in but, request.user.is_authenticated is guest","My website use to login function of django.contrib.auth.views.login.

But, some pages has problems about getting user information.

I tried to request.user & request.user.is_authenticated(). then request.user = ""admin""(ok) but, request.user.is_authenticated() = guest.. 
And, Staying logged in After close browser. 
what is problem?

Thank you.
",django,session,login,userinfo,,,open,0,40,9,"django : already logged in but, request.user.is_authenticated is guest My website use to login function of django.contrib.auth.views.login.

But, some pages has problems about getting user information.

I tried to request.user & request.user.is_authenticated(). then request.user = ""admin""(ok) but, request.user.is_authenticated() = guest.. 
And, Staying logged in After close browser. 
what is problem?

Thank you.
",4
11703419,07/28/2012 17:58:40,1532755,07/17/2012 19:03:39,1,0,Find an object based on its absolute_url given a urlconf,"I have the following get_absolute_url defined in my model.py: 
 
    class Product(models.Model):

      def get_absolute_url(self):
          return ""/products/category/type/%d%s%d"" % (self.owner.id,
          self.owner, self.id)  

I have the following urlconf defined in my urls.py: 
   
    url(r'^products/category/type/(\w+)(\w+)(\w+)/$', 'detail'),


In the 'detail' method within views.py, how do I refer to an instance of the Product object using it's get_absolute_url?


I'm new at this. Thanks for the help!
",django,django-models,django-views,django-urls,,,open,0,92,10,"Find an object based on its absolute_url given a urlconf I have the following get_absolute_url defined in my model.py: 
 
    class Product(models.Model):

      def get_absolute_url(self):
          return ""/products/category/type/%d%s%d"" % (self.owner.id,
          self.owner, self.id)  

I have the following urlconf defined in my urls.py: 
   
    url(r'^products/category/type/(\w+)(\w+)(\w+)/$', 'detail'),


In the 'detail' method within views.py, how do I refer to an instance of the Product object using it's get_absolute_url?


I'm new at this. Thanks for the help!
",4
6661598,07/12/2011 08:48:07,736327,05/03/2011 14:29:14,21,3,What is the name of django server ?,"What is the name of django app server ?
like if we say talk about rails server it's by default ""WEBrick"" . So like rails what is name of django app server.",django,application-server,,,,07/14/2011 06:38:11,not constructive,1,31,8,"What is the name of django server ? What is the name of django app server ?
like if we say talk about rails server it's by default ""WEBrick"" . So like rails what is name of django app server.",2
2781993,05/06/2010 14:50:53,260243,01/27/2010 16:10:45,13,0,use admin functionality for a registered user to add products,"I am developing a django project for auctions. I want to add the following functionality:

A registered and logged in user must add a product (I have accomplished registration and authentication). When this user clicks some /add/product/ or whatever link, I need to fetch the very admin-add-product template-interface (redirect maybe?), so that he adds a product as if he was admin.

How can I accomplish this?

I assume that a preliminary work/condition must be that when a user is registering, in some way he must automatically be granted the permission of adding products. So, how can this be done also? ",django,,,,,11/24/2011 00:23:45,not a real question,1,98,10,"use admin functionality for a registered user to add products I am developing a django project for auctions. I want to add the following functionality:

A registered and logged in user must add a product (I have accomplished registration and authentication). When this user clicks some /add/product/ or whatever link, I need to fetch the very admin-add-product template-interface (redirect maybe?), so that he adds a product as if he was admin.

How can I accomplish this?

I assume that a preliminary work/condition must be that when a user is registering, in some way he must automatically be granted the permission of adding products. So, how can this be done also? ",1
6248213,06/06/2011 05:50:05,105167,05/12/2009 05:55:29,959,0,How to upload three different files from the same page using Django ?,"I want to upload multiple files form the same html page in Django , and the models should dynamically change according to the file uploaded . How do I do that ? ",django,,,,,,open,0,33,13,"How to upload three different files from the same page using Django ? I want to upload multiple files form the same html page in Django , and the models should dynamically change according to the file uploaded . How do I do that ? ",1
5510525,04/01/2011 07:51:19,687169,04/01/2011 07:51:19,1,0,How to disable django.contrib.auth completely?,"Because I'm using my own authentication and authorization system (with my own User/Permission model), I would like to completely disable this standard app from Django.

I've tried removing the relevant lines from MIDDLEWARE_CLASSES and
INSTALLED_APPS, but when I use the syncdb command, the default tables
that come with the default authentication system are still being
created. Is there a way to prevent this from happening? My main problem is that the standard tables are overriding the tables that I want to use for my own auth system.

INSTALLED_APPS = (
    'django.contrib.sessions',
    'form_utils',
    'org',
    'auth',
    'entities',
)

I have also tried prepending the apps with the project package, this had no effect.

Is there maybe another setting that I'm overlooking? Other possible
variables that could cause these standard apps to be enabled despite
my efforts?

I also don't use the built-in admin system, so I don't think that
could be a problem.

Any hints?",django,django-authentication,django-syncdb,,,,open,0,155,5,"How to disable django.contrib.auth completely? Because I'm using my own authentication and authorization system (with my own User/Permission model), I would like to completely disable this standard app from Django.

I've tried removing the relevant lines from MIDDLEWARE_CLASSES and
INSTALLED_APPS, but when I use the syncdb command, the default tables
that come with the default authentication system are still being
created. Is there a way to prevent this from happening? My main problem is that the standard tables are overriding the tables that I want to use for my own auth system.

INSTALLED_APPS = (
    'django.contrib.sessions',
    'form_utils',
    'org',
    'auth',
    'entities',
)

I have also tried prepending the apps with the project package, this had no effect.

Is there maybe another setting that I'm overlooking? Other possible
variables that could cause these standard apps to be enabled despite
my efforts?

I also don't use the built-in admin system, so I don't think that
could be a problem.

Any hints?",3
4884584,02/03/2011 09:53:53,170488,09/08/2009 22:18:39,258,4,Django - Generate default slug,"I want to generate a random slug for my model, but without setting ""blank=True"" (as I want to enforce it later with validation.)

I was wondering if I could do something like this:

    slug = models.SlugField(unique=True, default=some_method(), verbose_name='URL Slug')

Where some_method is a method which generates a random slug? I've tried the above code and it doesn't work :(

What I'd like to do is generate a unique slug (unique_slugify?)",django,django-models,,,,,open,0,70,5,"Django - Generate default slug I want to generate a random slug for my model, but without setting ""blank=True"" (as I want to enforce it later with validation.)

I was wondering if I could do something like this:

    slug = models.SlugField(unique=True, default=some_method(), verbose_name='URL Slug')

Where some_method is a method which generates a random slug? I've tried the above code and it doesn't work :(

What I'd like to do is generate a unique slug (unique_slugify?)",2
2133627,01/25/2010 16:12:37,64157,02/09/2009 12:36:09,25,0,Using django.db.connection.queries ...,"I've got a Python/Django application which runs quite a lot of SQL statements.  For debugging purposes, I thought I should create a simple view for me which just lists all the SQL statements that have been run.

According to the documentation, this code should be enough to do that:

        from django.db import connection
        connection.queries

as long as DEBUG is True.

However, this is not giving me anything.  DEBUG is most certainly set to True.  In what context is this connection.queries stored?  I'm mean, I should be able to execute one page which executes a lot of SQL statements, and then just switch over to the http://myserver/sql view I created and see those SQL statements there, right?  Using the same browser session of course ...

I did check if db.reset_queries() was being run anywhere in the code, appears it's not.

Any ideas why connection.queries is always empty?",django,connection,django-queries,,,,open,0,160,3,"Using django.db.connection.queries ... I've got a Python/Django application which runs quite a lot of SQL statements.  For debugging purposes, I thought I should create a simple view for me which just lists all the SQL statements that have been run.

According to the documentation, this code should be enough to do that:

        from django.db import connection
        connection.queries

as long as DEBUG is True.

However, this is not giving me anything.  DEBUG is most certainly set to True.  In what context is this connection.queries stored?  I'm mean, I should be able to execute one page which executes a lot of SQL statements, and then just switch over to the http://myserver/sql view I created and see those SQL statements there, right?  Using the same browser session of course ...

I did check if db.reset_queries() was being run anywhere in the code, appears it's not.

Any ideas why connection.queries is always empty?",3
11151603,06/22/2012 07:06:39,395863,07/19/2010 13:38:36,1517,82,Can I use the Django's default admin app for this model?,"Part of the model of an app I'm trying to build with django is based on a three-tier structure, like this :

     class A(models.Model):
         name = models.TextField()

     class B(models.Model):
         related_A = models.ForeignKey(A)
         info = models.TextField()

     class C(models.Model):
         related_B = models.ForeignKey(B)
         other_infos = models.TextField()


So A is composed of some Bs, which are composed of some Cs. Since Django admin doesn't accept nested inline forms yet, I was thinking the ideal way of doing it would be with this sort of workflow : there would be a ""A admin page"", which would get me a link to click called ""Add some Bs to this A"", and offer me a page with a B form using inline C forms.

Is there a way to do this simply from the Admin website that I didn't see, or should I consider extending the admin default application ?
    ",django,django-admin,,,,,open,0,197,11,"Can I use the Django's default admin app for this model? Part of the model of an app I'm trying to build with django is based on a three-tier structure, like this :

     class A(models.Model):
         name = models.TextField()

     class B(models.Model):
         related_A = models.ForeignKey(A)
         info = models.TextField()

     class C(models.Model):
         related_B = models.ForeignKey(B)
         other_infos = models.TextField()


So A is composed of some Bs, which are composed of some Cs. Since Django admin doesn't accept nested inline forms yet, I was thinking the ideal way of doing it would be with this sort of workflow : there would be a ""A admin page"", which would get me a link to click called ""Add some Bs to this A"", and offer me a page with a B form using inline C forms.

Is there a way to do this simply from the Admin website that I didn't see, or should I consider extending the admin default application ?
    ",2
5444032,03/26/2011 17:41:31,678232,03/26/2011 17:41:31,1,0,Get queryset of foreignkey,"I need to obtain a queryset of a foreignkey but I haven't been able to figured out how.

I have the following model:

    class Contact(models.Model):
        owner = models.ForeignKey(CustomUser, related_name='contact_set')
        referenced = models.ForeignKey(CustomUser, related_name='contacted_by_set')

Then, for the current user I need a queryset that retrieves the referenced Users. The following returns Contact objects, I need User objects:

    print request.user.contact_set.all()

Also, it needs to be a queryset because it will be used by a ModelMultipleChoiceField.

Thanks",django,orm,foreign-keys,,,,open,0,90,4,"Get queryset of foreignkey I need to obtain a queryset of a foreignkey but I haven't been able to figured out how.

I have the following model:

    class Contact(models.Model):
        owner = models.ForeignKey(CustomUser, related_name='contact_set')
        referenced = models.ForeignKey(CustomUser, related_name='contacted_by_set')

Then, for the current user I need a queryset that retrieves the referenced Users. The following returns Contact objects, I need User objects:

    print request.user.contact_set.all()

Also, it needs to be a queryset because it will be used by a ModelMultipleChoiceField.

Thanks",3
3452828,08/10/2010 19:49:52,7376,09/15/2008 13:38:09,2298,163,MVC2 - Are There Signals for Models?,"I'm just starting on my first MVC project (it's actually extending an existing MVC project that uses 4.0 and Linq2SQL) after months of working in Django. What I'm looking for is a way to create an instance of a model every time a different model is created (i.e., saved to the database). I see an `OnCreated()` method in the generated code, but that's in a partial class, so I can't replace it/ override it. 

Is there a way to tie things together like this? I feel like I've been working in Django so long (where I would use a signal) that I don't know the right term to search for.",django,asp.net-mvc-2,,,,,open,0,110,7,"MVC2 - Are There Signals for Models? I'm just starting on my first MVC project (it's actually extending an existing MVC project that uses 4.0 and Linq2SQL) after months of working in Django. What I'm looking for is a way to create an instance of a model every time a different model is created (i.e., saved to the database). I see an `OnCreated()` method in the generated code, but that's in a partial class, so I can't replace it/ override it. 

Is there a way to tie things together like this? I feel like I've been working in Django so long (where I would use a signal) that I don't know the right term to search for.",2
6266004,06/07/2011 13:35:48,105167,05/12/2009 05:55:29,969,0,The model of my django app kepps changing for every table . How do I retrieve the data later without having a model ?,"For each table , my django app has a different model that has been automatically generated . How do I save the name of the table and name of the attributes of each table in the model of another app ? 

And once the model has changed , how do I retrieve data from a table which doesn't have a model now ?",django,,,,,06/07/2011 17:28:54,not a real question,1,63,24,"The model of my django app kepps changing for every table . How do I retrieve the data later without having a model ? For each table , my django app has a different model that has been automatically generated . How do I save the name of the table and name of the attributes of each table in the model of another app ? 

And once the model has changed , how do I retrieve data from a table which doesn't have a model now ?",1
2881368,05/21/2010 10:46:21,213000,11/17/2009 15:52:42,22,2,"How to override a related sets ""add"" method?","I am working on a django project and i want to send a signal when something get's added to some models related set, e.g. we have an owner wo has a set of collectables and each time the method owner.collectable_set.add(something) is getting called i want signal like ""collectable_added"" or something. signals are clear to me, but in which manager(?) the ""add"" method sits that i want to override is unclear to me.",django,related,set,,,,open,0,72,8,"How to override a related sets ""add"" method? I am working on a django project and i want to send a signal when something get's added to some models related set, e.g. we have an owner wo has a set of collectables and each time the method owner.collectable_set.add(something) is getting called i want signal like ""collectable_added"" or something. signals are clear to me, but in which manager(?) the ""add"" method sits that i want to override is unclear to me.",3
5996225,05/13/2011 18:34:02,724717,04/26/2011 03:53:40,22,0,Using a template tag within a form error message in Django,"My code contains:

    Class GroupForm(forms.ModelForm):
        ....
        def clean_name(self):
            ....
            raise forms.ValidationError(mark_safe('....<a href=""{% url edit %}"">click here</a>.'))

I want to include a url that I need to pass kwargs to in my error message.  I'm using mark_safe so that my anchor test characters don't get escaped.  

Currently the url that gets produced on the page is (current url directory)/{% url edit %} . Its just treating my tag as text.

Is there a way I can get this url tag to behave like normal?

",django,django-forms,django-template-tags,,,,open,0,122,11,"Using a template tag within a form error message in Django My code contains:

    Class GroupForm(forms.ModelForm):
        ....
        def clean_name(self):
            ....
            raise forms.ValidationError(mark_safe('....<a href=""{% url edit %}"">click here</a>.'))

I want to include a url that I need to pass kwargs to in my error message.  I'm using mark_safe so that my anchor test characters don't get escaped.  

Currently the url that gets produced on the page is (current url directory)/{% url edit %} . Its just treating my tag as text.

Is there a way I can get this url tag to behave like normal?

",3
7166608,08/23/2011 19:40:51,138069,07/14/2009 13:27:33,112,1,Returning Django exceptions in plain text,Errors caught by Django in DEBUG mode are returned in HTML-formatted code for browser display. I'd like to have those errors display in plain text (or JSON) instead. Is there a way to do that?,django,debugging,error-handling,,,,open,0,35,6,Returning Django exceptions in plain text Errors caught by Django in DEBUG mode are returned in HTML-formatted code for browser display. I'd like to have those errors display in plain text (or JSON) instead. Is there a way to do that?,3
8031890,11/07/2011 01:33:44,801820,06/16/2011 15:43:06,46,0,How do you use get_context_data with TemplateView in Django,"I'm trying to do something like this: 

    class AboutView(TemplateView):
        template_name = 'about.html'
        
        def get_context_data(self, **kwargs):
            context = super(AboutView, self).get_context_data(**kwargs)
            context['dahl_books'] = Books.objects.filter(author=""Dahl')
      
When I try to access dahl_books in my template like this: 

    {% for book in dahl_books %}

it doesn't seem to work....am I doing something wrong? ",django,django-templates,django-views,django-class-based-views,,07/03/2012 11:52:40,not a real question,1,105,9,"How do you use get_context_data with TemplateView in Django I'm trying to do something like this: 

    class AboutView(TemplateView):
        template_name = 'about.html'
        
        def get_context_data(self, **kwargs):
            context = super(AboutView, self).get_context_data(**kwargs)
            context['dahl_books'] = Books.objects.filter(author=""Dahl')
      
When I try to access dahl_books in my template like this: 

    {% for book in dahl_books %}

it doesn't seem to work....am I doing something wrong? ",4
8900418,01/17/2012 19:21:38,1107750,12/20/2011 11:48:27,11,1,Django app license,"I want to share personal project with others. I use Django application framework and my question is if this project can be under GPL v3 license? If so, is one file (LICENSE) in the root folder enough?

Thank you!",django,licensing,gpl,,,01/19/2012 03:57:21,off topic,1,38,3,"Django app license I want to share personal project with others. I use Django application framework and my question is if this project can be under GPL v3 license? If so, is one file (LICENSE) in the root folder enough?

Thank you!",3
1286176,08/17/2009 04:38:12,26143,10/08/2008 13:56:26,406,16,Where can i get technical information on how the internals of Django works?,"Where can i get the technical manuals/details of how django internals work, i.e. i would like to know when a request comes in from a client;

- which django function receives it? 
- what middleware get called? 
- how is the request object created? and what class/function creates it?
- What function maps the request to the necessary view? 
- How does your code/view get called

?
etc...

Paul.G",django,python,,,,,open,0,64,13,"Where can i get technical information on how the internals of Django works? Where can i get the technical manuals/details of how django internals work, i.e. i would like to know when a request comes in from a client;

- which django function receives it? 
- what middleware get called? 
- how is the request object created? and what class/function creates it?
- What function maps the request to the necessary view? 
- How does your code/view get called

?
etc...

Paul.G",2
4461130,12/16/2010 13:17:40,429396,08/24/2010 10:36:41,25,0,Django: what is the most appropriate way to provide administrators with the ability to change small snippets of text,"Using Django, what is the most appropriate way to provide administrators with the ability to change small snippets of text, for example in one of my sites there is a small piece of text on the front page I would like the administrator to be able to easily change in the backend, however I do not want to create a whole new app or model because then they would be able to create more than one area of text in this way, but I only want it to show up in one place on the homepage.

Any advice?",django,django-models,django-admin,,,,open,0,97,19,"Django: what is the most appropriate way to provide administrators with the ability to change small snippets of text Using Django, what is the most appropriate way to provide administrators with the ability to change small snippets of text, for example in one of my sites there is a small piece of text on the front page I would like the administrator to be able to easily change in the backend, however I do not want to create a whole new app or model because then they would be able to create more than one area of text in this way, but I only want it to show up in one place on the homepage.

Any advice?",3
2673069,04/20/2010 06:36:29,234322,12/18/2009 05:05:53,1059,6,how to get the 'uri' from request object in django..,"is there request.uri  ???


thanks",django,uri,,,,,open,0,5,10,"how to get the 'uri' from request object in django.. is there request.uri  ???


thanks",2
1813653,11/28/2009 20:13:00,71809,02/27/2009 10:54:32,145,2,"How to deal with ""None"" DB values in Django queries","I have the following filter query which is doing an SQL OR statement:

    results = Stores.objects.filter(Q(title__icontains=prefs.address1) | Q(title__icontains=prefs.address2))

This works fine but if the prefs.address1 and prefs.address2 values (which come from another model) are blank in mySQL, Django complains with the following error:

> Cannot use None as a query value

Is there an elegant way to check to see if my filter values are not blank before constructing the OR filter query?

Many thanks.",django,python,,,,,open,0,74,10,"How to deal with ""None"" DB values in Django queries I have the following filter query which is doing an SQL OR statement:

    results = Stores.objects.filter(Q(title__icontains=prefs.address1) | Q(title__icontains=prefs.address2))

This works fine but if the prefs.address1 and prefs.address2 values (which come from another model) are blank in mySQL, Django complains with the following error:

> Cannot use None as a query value

Is there an elegant way to check to see if my filter values are not blank before constructing the OR filter query?

Many thanks.",2
6494079,06/27/2011 14:02:41,786783,06/07/2011 03:13:59,74,0,"How can i create django models , views , forms with different names","Currently i have my models, views, forms in default file.
But i want to have directory structure like

    articles
    ---------models
    ---------views
    ---------forms
    
    Books
    ---------models
    ---------views
    ---------forms
    
    Icecreams
    ---------models
    ---------views
    ---------forms


so that i keep separately but i don't want different app",django,django-models,,,,,open,0,83,13,"How can i create django models , views , forms with different names Currently i have my models, views, forms in default file.
But i want to have directory structure like

    articles
    ---------models
    ---------views
    ---------forms
    
    Books
    ---------models
    ---------views
    ---------forms
    
    Icecreams
    ---------models
    ---------views
    ---------forms


so that i keep separately but i don't want different app",2
1904505,12/15/2009 00:30:05,62721,02/05/2009 02:35:44,70,6,"django fails, sometimes, very erratic behavior.","I have terrible problems with django responding differently to the same requests for no apparent reason.

Sometimes i refresh and I see an error, then I refresh and its gone, sometimes the template complains about a missing value then its fine again, again without explanation.

Sometimes it pulls the graphics from the production server, sometimes from the development server.

Worst of all, sometimes, very often, everything looks and loads fine, but a query returns 0 hits even tough a second queryset based on the same query loads fine, how does the same query manages to fail *partially* inside the same request? For this last one I have the theory that it isn't getting the queryset variable from the view at all.

I am at a loss of keywords for googling about this problem, I'm in the edge of porting the project to php because at least it always renders the same.

The project is installed as a wsgi using apache2, yes everytime i update I make sure to `touch wsgi.py`, the WSGI script.

Please help.",django,apache2,,,,,open,0,169,6,"django fails, sometimes, very erratic behavior. I have terrible problems with django responding differently to the same requests for no apparent reason.

Sometimes i refresh and I see an error, then I refresh and its gone, sometimes the template complains about a missing value then its fine again, again without explanation.

Sometimes it pulls the graphics from the production server, sometimes from the development server.

Worst of all, sometimes, very often, everything looks and loads fine, but a query returns 0 hits even tough a second queryset based on the same query loads fine, how does the same query manages to fail *partially* inside the same request? For this last one I have the theory that it isn't getting the queryset variable from the view at all.

I am at a loss of keywords for googling about this problem, I'm in the edge of porting the project to php because at least it always renders the same.

The project is installed as a wsgi using apache2, yes everytime i update I make sure to `touch wsgi.py`, the WSGI script.

Please help.",2
1438486,09/17/2009 12:14:55,154522,08/11/2009 17:14:56,62,0,how to use math remainder in django template?,"I would like to change the class attribute of an li after each 4 elements (that means 5th, 9th, 13th li element classes should be changed).

I have tried something like below but it gave me an syntax error:
Could not parse the remainder: '%4' from 'forloop.counter%4'

    {% for p in plist %}
	{% ifequal forloop.counter%4 1 %}
		<li class=""clear""> {{p.title}} </li>
	{% else %}
		<li> {{p.title}} </li>
	{% endifequal %}
{% endfor %}


I will appreciate if somebody will suggest me a working solution.
",django,django-templates,,,,,open,0,79,8,"how to use math remainder in django template? I would like to change the class attribute of an li after each 4 elements (that means 5th, 9th, 13th li element classes should be changed).

I have tried something like below but it gave me an syntax error:
Could not parse the remainder: '%4' from 'forloop.counter%4'

    {% for p in plist %}
	{% ifequal forloop.counter%4 1 %}
		<li class=""clear""> {{p.title}} </li>
	{% else %}
		<li> {{p.title}} </li>
	{% endifequal %}
{% endfor %}


I will appreciate if somebody will suggest me a working solution.
",2
4847214,01/31/2011 02:46:49,336454,05/09/2010 01:13:58,10,1,How do I handle multiple forms in Django with many-to-many relationship,"In my view I have a the Booking information, in  the booking I have a many-to-many relationship to the size of the group in the booking and the age. The class (group size, age) has the many-to-many relationship. When the booking is made I would like the user to be able to add class details. So a booking can have many classes.

I have tried using `inline_formset_factory` but it did not like the many-to-many relationship and according to the docs `inline_formset_factory` is for a `ForeignKey` relationship (I could easily be wrong here). Also it seems I need a booking instance before I can use the `inline_formset_factory` (Though again I could be wrong)

So to recap I'm new to django and I'm trying to add many classes to a booking via a form which is with the booking form. I'm just not sure if I'm on the right track.

I hope this made sense. Thanks in advance.",django,django-views,django-forms,,,,open,0,154,11,"How do I handle multiple forms in Django with many-to-many relationship In my view I have a the Booking information, in  the booking I have a many-to-many relationship to the size of the group in the booking and the age. The class (group size, age) has the many-to-many relationship. When the booking is made I would like the user to be able to add class details. So a booking can have many classes.

I have tried using `inline_formset_factory` but it did not like the many-to-many relationship and according to the docs `inline_formset_factory` is for a `ForeignKey` relationship (I could easily be wrong here). Also it seems I need a booking instance before I can use the `inline_formset_factory` (Though again I could be wrong)

So to recap I'm new to django and I'm trying to add many classes to a booking via a form which is with the booking form. I'm just not sure if I'm on the right track.

I hope this made sense. Thanks in advance.",3
11330670,07/04/2012 14:06:18,1266099,03/13/2012 09:34:24,63,1,"Django, using/designing a row-level permission system when we have different roles","I'm developing a Learning Management System.
 
The system has several Actors, like Student, Tutors, Admin, Dean etc. Now, I need a permission system that can handle different Roles (Students can add courses to their basket, Tutors can CRUD a course, Admins also has access to financial parts as well, etc.)
 
Based on my researches, I need to have some row-level permission system that can handle different roles. I've seen some apps like `django-guardian` `djang-permissions` `django-rulez` , etc. But still confused on how to design roles based on them (they are not well documented ).

Can anybody gives me a hint to get this painful job done ??",django,permissions,django-permissions,role-base-authorization,row-level-security,07/10/2012 14:01:34,not constructive,1,106,11,"Django, using/designing a row-level permission system when we have different roles I'm developing a Learning Management System.
 
The system has several Actors, like Student, Tutors, Admin, Dean etc. Now, I need a permission system that can handle different Roles (Students can add courses to their basket, Tutors can CRUD a course, Admins also has access to financial parts as well, etc.)
 
Based on my researches, I need to have some row-level permission system that can handle different roles. I've seen some apps like `django-guardian` `djang-permissions` `django-rulez` , etc. But still confused on how to design roles based on them (they are not well documented ).

Can anybody gives me a hint to get this painful job done ??",5
8985603,01/24/2012 10:54:56,460680,09/28/2010 13:47:40,655,10,Django optimize code for large data filtering,"As I am searching through **15000 results,** is there any way to optimize the processing speed?

In my VIEW I'm filtering search as this:

`if form.is_valid():`

          results = Screening.objects.filter(
             screening_date__range(form.cleaned_data['start_date'],form.cleaned_data['end_date']))

          if form.cleaned_data['company']:
              results = results.filter(company=form.cleaned_data['company'])
          if form.cleaned_data['company_job']:
              results = results.filter(company_job__in=form.cleaned_data['company_job'])
          if form.cleaned_data['company_job_type']:
              results = results.filter(company_job_type=form.cleaned_data['company_job_type'])
          if form.cleaned_data['reason']:
              results = results.filter(reason_for_testing__in=form.cleaned_data['reason'])`

And in TEMPLATE, the passed result is used as:

`{% for result in results %}`
        
          <td>{{ result.company.name}}</td>
          <td>{{ result.first_name }} {{ result.last_name }}</td>
          <td>{{ result.company_job.job_number }}</td>
          <td>{{ result.id }}</td>
          <td>{{ result.screening_date|date}}</td></tr>

**Is there any way to optimize the processing or should I use cache or sth in this case?** 



",django,django-queryset,django-cache,,,,open,0,257,7,"Django optimize code for large data filtering As I am searching through **15000 results,** is there any way to optimize the processing speed?

In my VIEW I'm filtering search as this:

`if form.is_valid():`

          results = Screening.objects.filter(
             screening_date__range(form.cleaned_data['start_date'],form.cleaned_data['end_date']))

          if form.cleaned_data['company']:
              results = results.filter(company=form.cleaned_data['company'])
          if form.cleaned_data['company_job']:
              results = results.filter(company_job__in=form.cleaned_data['company_job'])
          if form.cleaned_data['company_job_type']:
              results = results.filter(company_job_type=form.cleaned_data['company_job_type'])
          if form.cleaned_data['reason']:
              results = results.filter(reason_for_testing__in=form.cleaned_data['reason'])`

And in TEMPLATE, the passed result is used as:

`{% for result in results %}`
        
          <td>{{ result.company.name}}</td>
          <td>{{ result.first_name }} {{ result.last_name }}</td>
          <td>{{ result.company_job.job_number }}</td>
          <td>{{ result.id }}</td>
          <td>{{ result.screening_date|date}}</td></tr>

**Is there any way to optimize the processing or should I use cache or sth in this case?** 



",3
310090,11/21/2008 20:29:49,11452,09/16/2008 08:04:40,158,4,"In Django, Problem with {{ block.super }}, How do I avoid duplicating a `block` in multiple template files?","For 2 child template files inheriting a block, the `{{ block.super }}` does not resolve

Python 2.5.2, Django 1.0, Windows XP SP3

Sample skeleton code for files involved:
`base.html`
`item_base.html`
`show_info_for_all_items.html`
`show_info_for_single_item.html`



FILE : `base.html`

    {% block content %}
    {% endblock %}


FILE : `item_base.html`

    {% extends ""base.html"" %}
    {% block item_info %}	
    	Item : {{ item.name }}<br/>
    	Price : {{ item.price }}<br/>	
    {% endblock %}


FILE : `show_info_for_all_items.html`

    {% extends ""item_base.html"" %}
    {% block content %}
    	<h1>info on all items</h1>
    	<hr/>
    	{% for item in items %}
    		{% block item_info %}
    			{{ block.super }}
    		{% endblock %}
    		<hr/>
    	{% endfor %}
    {% endblock %}


FILE : `show_info_for_single_item.html`

    {% extends ""item_base.html"" %}
    {% block content %}
    	<h1>info on single item</h1>	
    	{% block item_info %}
    		{{ block.super }}
    	{% endblock %}	
    {% endblock %}



`show_info_for_all_items.html` shows a list of items along with each item's info.

`show_info_for_single_item.html` shows a single item with the item's info.

`show_info_for_all_items.html` and `show_info_for_single_item.html` share same code for showing item info, so I moved it to `item_base.html` into `block item_info`

but the `{{ block.super }}` in `show_info_for_all_items.html` and `show_info_for_single_item.html` does not work. `{{ block.super }}` resolves as blank.

If I move the code back from `block item_info` in `item_base.html` into `show_info_for_all_items.html` and `show_info_for_single_item.html`  it works but then I have to duplicate same `block item_info` code in 2 files.

Does Django offer something like INCLUDE => `{% INCLUDE ""item_base.html"" %}` so blocks from a template file can be included ( instead of `extends` )

How do I avoid duplicating `block item_info` in both html files?




",django,python,django-templates,super.block,,,open,0,315,18,"In Django, Problem with {{ block.super }}, How do I avoid duplicating a `block` in multiple template files? For 2 child template files inheriting a block, the `{{ block.super }}` does not resolve

Python 2.5.2, Django 1.0, Windows XP SP3

Sample skeleton code for files involved:
`base.html`
`item_base.html`
`show_info_for_all_items.html`
`show_info_for_single_item.html`



FILE : `base.html`

    {% block content %}
    {% endblock %}


FILE : `item_base.html`

    {% extends ""base.html"" %}
    {% block item_info %}	
    	Item : {{ item.name }}<br/>
    	Price : {{ item.price }}<br/>	
    {% endblock %}


FILE : `show_info_for_all_items.html`

    {% extends ""item_base.html"" %}
    {% block content %}
    	<h1>info on all items</h1>
    	<hr/>
    	{% for item in items %}
    		{% block item_info %}
    			{{ block.super }}
    		{% endblock %}
    		<hr/>
    	{% endfor %}
    {% endblock %}


FILE : `show_info_for_single_item.html`

    {% extends ""item_base.html"" %}
    {% block content %}
    	<h1>info on single item</h1>	
    	{% block item_info %}
    		{{ block.super }}
    	{% endblock %}	
    {% endblock %}



`show_info_for_all_items.html` shows a list of items along with each item's info.

`show_info_for_single_item.html` shows a single item with the item's info.

`show_info_for_all_items.html` and `show_info_for_single_item.html` share same code for showing item info, so I moved it to `item_base.html` into `block item_info`

but the `{{ block.super }}` in `show_info_for_all_items.html` and `show_info_for_single_item.html` does not work. `{{ block.super }}` resolves as blank.

If I move the code back from `block item_info` in `item_base.html` into `show_info_for_all_items.html` and `show_info_for_single_item.html`  it works but then I have to duplicate same `block item_info` code in 2 files.

Does Django offer something like INCLUDE => `{% INCLUDE ""item_base.html"" %}` so blocks from a template file can be included ( instead of `extends` )

How do I avoid duplicating `block item_info` in both html files?




",4
3884703,10/07/2010 18:31:45,469445,10/07/2010 18:13:26,1,0,CMS for Multilingual Localization and Translation Workflow,"I'm helping build a multilingual website in English, Chinese and French (after in Spanish, Korean and Arabic). I've collected a database of over 2000+ entries.  It is essentially a huge product catalog (specifically travel packages) where more or less the info is the same (prices, sizes, numbers, etc.) but the labels change (of course excluding certain intro texts that must be written manually). I want to avoid having to translate piece by piece manually. 

There needs to be a way for users to save the things they are interested in and rate their favorites. Also, I need an e-commerce shopping cart. Search functionality is a must since people tend to start general (one or two categories or wants) and work towards specifics. Another need is to localization and internationalization.  The other need is a specific workflow system so as content is updated and new additions are made, editors can be notified and translators can translate what needs to be done. Work flow is key since the project will involve dozens of non-technical people from around the world. 

I originally tried to a work-around solution in Drupal but it seemed ill-equipped and clunky. I tried a self-built PHP CMS but the project seems to big for purely manual. I'm considering Plone and Django, but I don't have any experience working in Python, only PHP. I'm open to trying a new CMS if it meets my needs of internationalization, translation work flow, search functionality and on-going user experience.

Any suggestions on the best CMS for all this?
",django,internationalization,content-management-system,translation,plone,,open,0,256,7,"CMS for Multilingual Localization and Translation Workflow I'm helping build a multilingual website in English, Chinese and French (after in Spanish, Korean and Arabic). I've collected a database of over 2000+ entries.  It is essentially a huge product catalog (specifically travel packages) where more or less the info is the same (prices, sizes, numbers, etc.) but the labels change (of course excluding certain intro texts that must be written manually). I want to avoid having to translate piece by piece manually. 

There needs to be a way for users to save the things they are interested in and rate their favorites. Also, I need an e-commerce shopping cart. Search functionality is a must since people tend to start general (one or two categories or wants) and work towards specifics. Another need is to localization and internationalization.  The other need is a specific workflow system so as content is updated and new additions are made, editors can be notified and translators can translate what needs to be done. Work flow is key since the project will involve dozens of non-technical people from around the world. 

I originally tried to a work-around solution in Drupal but it seemed ill-equipped and clunky. I tried a self-built PHP CMS but the project seems to big for purely manual. I'm considering Plone and Django, but I don't have any experience working in Python, only PHP. I'm open to trying a new CMS if it meets my needs of internationalization, translation work flow, search functionality and on-going user experience.

Any suggestions on the best CMS for all this?
",5
7433192,09/15/2011 15:12:34,926961,09/03/2011 19:50:32,1,0,Django admin - importing images to the text,"I've pasted below small part of my models class. It's a class for publishing entries (articles, blog posts etc.). On most websites news images are pasted below the text of message. 

Is it possible to add images directly inside the text while writing the entry/article?

Example:

Quisque aliquam magna pulvinar libero tincidunt auctor. Praesent nisi lacus, porta vel mattis sed, rhoncus ultrices risus. 
**<<< Image 1 >>>**
Ut lobortis interdum nulla eget eleifend. Integer tincidunt accumsan vehicula. Nunc quis justo sit amet neque dapibus suscipit nec vitae felis. Proin pulvinar blandit enim, vel porta metus convallis non. 
**<<< Image 2 >>>**
Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.


    class Publisher(models.Model):
       text = models.TextField()
       images = models.ManyToManyField('Images', blank=True)

",django,image,django-admin,admin,django-imagefield,,open,0,134,8,"Django admin - importing images to the text I've pasted below small part of my models class. It's a class for publishing entries (articles, blog posts etc.). On most websites news images are pasted below the text of message. 

Is it possible to add images directly inside the text while writing the entry/article?

Example:

Quisque aliquam magna pulvinar libero tincidunt auctor. Praesent nisi lacus, porta vel mattis sed, rhoncus ultrices risus. 
**<<< Image 1 >>>**
Ut lobortis interdum nulla eget eleifend. Integer tincidunt accumsan vehicula. Nunc quis justo sit amet neque dapibus suscipit nec vitae felis. Proin pulvinar blandit enim, vel porta metus convallis non. 
**<<< Image 2 >>>**
Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.


    class Publisher(models.Model):
       text = models.TextField()
       images = models.ManyToManyField('Images', blank=True)

",5
11598125,07/22/2012 06:11:39,263485,02/01/2010 11:43:54,560,13,Django vs Node.js for web-conferencing,"Our team is planning to create site with possibility of carring out web-conferencing. Teacher and his (remote) students will use shared virtual whiteboard. Please, write what is more suitable for this task - Django or Node.js, and why. Which additional libraries do you advise?
",django,node.js,,,,07/23/2012 01:07:49,not constructive,1,44,5,"Django vs Node.js for web-conferencing Our team is planning to create site with possibility of carring out web-conferencing. Teacher and his (remote) students will use shared virtual whiteboard. Please, write what is more suitable for this task - Django or Node.js, and why. Which additional libraries do you advise?
",2
10659280,05/18/2012 20:27:49,1139968,01/10/2012 02:20:06,55,2,Running the same task with different priorities using Celery,"So I have a pretty interesting scenario where I want to run the same Celery task with different priorities, depending on where it's called - for example, I want to run a task for premium users with a higher priority than for non-premium users.

Using the docs I was able to set up multiple queues and was able to get this to work by changing all my .delay calls to .apply_async calls and passing in an additional routing_key specifying the priority queue. The problem is having to do this in a ton of different places. Is there a better way to handle this? I'm trying to avoid changing the code in my views as much as possible and would prefer to handle this within the tasks or celery configuration.",django,celery,django-celery,,,,open,0,128,9,"Running the same task with different priorities using Celery So I have a pretty interesting scenario where I want to run the same Celery task with different priorities, depending on where it's called - for example, I want to run a task for premium users with a higher priority than for non-premium users.

Using the docs I was able to set up multiple queues and was able to get this to work by changing all my .delay calls to .apply_async calls and passing in an additional routing_key specifying the priority queue. The problem is having to do this in a ton of different places. Is there a better way to handle this? I'm trying to avoid changing the code in my views as much as possible and would prefer to handle this within the tasks or celery configuration.",3
6322671,06/12/2011 15:13:25,794850,06/12/2011 15:13:25,1,0,Django import error for filterspecs and Paginator,"ImportError at /

cannot import name Paginator

Request Method: 	GET
Request URL: 	http://127.0.0.1:8000/
Django Version: 	1.4 pre-alpha SVN-16332
Exception Type: 	ImportError
Exception Value: 	

cannot import name Paginator

Exception Location: 	/usr/local/lib/python2.7/dist-packages/django_db_log-2.2.1-py2.7.egg/djangodblog/admin.py in <module>, line 4
Python Executable: 	/usr/bin/python2.7
Python Version: 	2.7.1
Python Path: 	

['/home/avenger/workspace/colin/colin',
 '/home/avenger/workspace/colin',
 '/home/avenger/.eclipse/org.eclipse.platform_3.5.0_155965261/plugins/org.python.pydev_2.1.0.2011052613/PySrc',
 '/home/avenger/django-trunk',
 '/usr/lib/pymodules/python2.7',
 '/usr/lib/pymodules/python2.7/gtk-2.0',
 '/usr/lib/pymodules/python2.7/ubuntuone-client',
 '/usr/lib/pymodules/python2.7/ubuntuone-control-panel',
 '/usr/lib/pymodules/python2.7/ubuntuone-storage-protocol',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages/PIL',
 '/usr/lib/python2.7/dist-packages/gst-0.10',
 '/usr/lib/python2.7/dist-packages/gtk-2.0',
 '/usr/lib/python2.7/lib-dynload',
 '/usr/lib/python2.7/lib-old',
 '/usr/lib/python2.7/lib-tk',
 '/usr/lib/python2.7/plat-linux2',
 '/usr/local/lib/python2.7/dist-packages',
 '/usr/local/lib/python2.7/dist-packages/django_db_log-2.2.1-py2.7.egg',
 '/usr/local/bin']

i had the same problem with filterspecs but i found a filterspec.py file that i copied to django contrib admin and i think it worked but i still have this
can you guys help me i am trying to solve this for 2 weeks know i am trying to learn django from the building ecomerce django book by apress but its full of errors
and no solution for them",django,import,,,,06/12/2011 21:19:52,not a real question,1,119,7,"Django import error for filterspecs and Paginator ImportError at /

cannot import name Paginator

Request Method: 	GET
Request URL: 	http://127.0.0.1:8000/
Django Version: 	1.4 pre-alpha SVN-16332
Exception Type: 	ImportError
Exception Value: 	

cannot import name Paginator

Exception Location: 	/usr/local/lib/python2.7/dist-packages/django_db_log-2.2.1-py2.7.egg/djangodblog/admin.py in <module>, line 4
Python Executable: 	/usr/bin/python2.7
Python Version: 	2.7.1
Python Path: 	

['/home/avenger/workspace/colin/colin',
 '/home/avenger/workspace/colin',
 '/home/avenger/.eclipse/org.eclipse.platform_3.5.0_155965261/plugins/org.python.pydev_2.1.0.2011052613/PySrc',
 '/home/avenger/django-trunk',
 '/usr/lib/pymodules/python2.7',
 '/usr/lib/pymodules/python2.7/gtk-2.0',
 '/usr/lib/pymodules/python2.7/ubuntuone-client',
 '/usr/lib/pymodules/python2.7/ubuntuone-control-panel',
 '/usr/lib/pymodules/python2.7/ubuntuone-storage-protocol',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages/PIL',
 '/usr/lib/python2.7/dist-packages/gst-0.10',
 '/usr/lib/python2.7/dist-packages/gtk-2.0',
 '/usr/lib/python2.7/lib-dynload',
 '/usr/lib/python2.7/lib-old',
 '/usr/lib/python2.7/lib-tk',
 '/usr/lib/python2.7/plat-linux2',
 '/usr/local/lib/python2.7/dist-packages',
 '/usr/local/lib/python2.7/dist-packages/django_db_log-2.2.1-py2.7.egg',
 '/usr/local/bin']

i had the same problem with filterspecs but i found a filterspec.py file that i copied to django contrib admin and i think it worked but i still have this
can you guys help me i am trying to solve this for 2 weeks know i am trying to learn django from the building ecomerce django book by apress but its full of errors
and no solution for them",2
4516804,12/23/2010 07:52:33,239578,12/28/2009 13:31:04,132,9,running a already created django project on windows.,"I just started with django on windows. As per the instruction in django documentation, i could install python , django and create my first app. 

Now i already have a website created through django and i want to run it on localhost.

I have the project folder in `C:/projectname` and it has settings.py file which i have modified. It uses sqlite3.

Now the problem is i **do not** have manage.py file in that project, rather i have **manage.py.gz** and **url.py.gz** and **dbname.sqlite.gz**

When i run command `C:/projectname>manage.py runserver` i get error. That's obvious because i dnt have that file.

How do i run this project on windows machine..?? 

thanks for your help.",django,,,,,02/22/2012 14:14:43,too localized,1,108,8,"running a already created django project on windows. I just started with django on windows. As per the instruction in django documentation, i could install python , django and create my first app. 

Now i already have a website created through django and i want to run it on localhost.

I have the project folder in `C:/projectname` and it has settings.py file which i have modified. It uses sqlite3.

Now the problem is i **do not** have manage.py file in that project, rather i have **manage.py.gz** and **url.py.gz** and **dbname.sqlite.gz**

When i run command `C:/projectname>manage.py runserver` i get error. That's obvious because i dnt have that file.

How do i run this project on windows machine..?? 

thanks for your help.",1
5645449,04/13/2011 06:50:38,705441,04/13/2011 06:50:38,1,0,django admin css permission denied,When i am trying to access the css files of my django admin I am getting the message permission denied. how can fix this issue?,django,django-admin,,,,04/13/2011 11:26:56,not a real question,1,25,5,django admin css permission denied When i am trying to access the css files of my django admin I am getting the message permission denied. how can fix this issue?,2
2310676,02/22/2010 11:58:45,39396,11/20/2008 17:34:13,234,8,Django Signal via Decorator on Model Method?,"I'm trying to do something like [these proposed signal decorators][1].  In addition to having a decorator that connects the decorated method to a signal (with the signal's sender as an argument to the decorator), I would like to use the decorator on class methods.


I'd like to use the decorator like so:

    class ModelA(Model):

        @connect.post_save(ModelB)
        @classmethod
        def observe_model_b_saved(cls, sender, instance, created, **kwargs):
            # do some stuff
            pass

The decorator is:

    from django.db.models import signals
    def post_save(sender):
        def decorator(view):
            signals.post_save.connect(sender=sender, receiver=view)
            return view
        return decorator

The error I get when I do this is:

    File ""/Library/Python/2.6/site-packages//lib/python2.6/site-packages/django/dispatch/dispatcher.py"", line 78, in connect
    AssertionError: Signal receivers must be callable.

I guess the problem is that `@classmethod` returns a class method object which is not callable.  I don't really understand how `classmethod` works under the hood, but I surmise from [this reference page][2] that the class method object is not translated into a callable until it is accessed from the class, e.g., `ModelA.observe_model_b_saved`.  Is there any way that I can both (1) define my method as a class or instance method on a model, and (2) connect it to a signal using a decorator directly on the method definition?  Thanks!


  [1]: http://code.djangoproject.com/ticket/9015
  [2]: http://docs.python.org/reference/datamodel.html",django,django-models,decorator,django-signals,,,open,0,295,7,"Django Signal via Decorator on Model Method? I'm trying to do something like [these proposed signal decorators][1].  In addition to having a decorator that connects the decorated method to a signal (with the signal's sender as an argument to the decorator), I would like to use the decorator on class methods.


I'd like to use the decorator like so:

    class ModelA(Model):

        @connect.post_save(ModelB)
        @classmethod
        def observe_model_b_saved(cls, sender, instance, created, **kwargs):
            # do some stuff
            pass

The decorator is:

    from django.db.models import signals
    def post_save(sender):
        def decorator(view):
            signals.post_save.connect(sender=sender, receiver=view)
            return view
        return decorator

The error I get when I do this is:

    File ""/Library/Python/2.6/site-packages//lib/python2.6/site-packages/django/dispatch/dispatcher.py"", line 78, in connect
    AssertionError: Signal receivers must be callable.

I guess the problem is that `@classmethod` returns a class method object which is not callable.  I don't really understand how `classmethod` works under the hood, but I surmise from [this reference page][2] that the class method object is not translated into a callable until it is accessed from the class, e.g., `ModelA.observe_model_b_saved`.  Is there any way that I can both (1) define my method as a class or instance method on a model, and (2) connect it to a signal using a decorator directly on the method definition?  Thanks!


  [1]: http://code.djangoproject.com/ticket/9015
  [2]: http://docs.python.org/reference/datamodel.html",4
4549541,12/28/2010 21:08:48,474092,10/13/2010 05:24:09,15,1, Django text area field and WYSIYG editor,"I didn't found a lot of information about this, and I hope you guys will help me  to figured out this. So question:

I want to use HTML tags in django.
I have a TextField and I want to edit it with Some rich  text editor in admin panel and I want to see formated text in the frontend of the site.

I've tried to install tinyMCE but I don't know why, but it doesn't work. Styles changed, but there are no editable buttons on a textfield.

Otherwise I will use Jquery, could you guys me right way to:

 - Plug-in rich text editor
   
 - Show like HTML in user-side

Thank you guys",django,wysiwyg,,,,,open,0,113,8," Django text area field and WYSIYG editor I didn't found a lot of information about this, and I hope you guys will help me  to figured out this. So question:

I want to use HTML tags in django.
I have a TextField and I want to edit it with Some rich  text editor in admin panel and I want to see formated text in the frontend of the site.

I've tried to install tinyMCE but I don't know why, but it doesn't work. Styles changed, but there are no editable buttons on a textfield.

Otherwise I will use Jquery, could you guys me right way to:

 - Plug-in rich text editor
   
 - Show like HTML in user-side

Thank you guys",2
647888,03/15/2009 14:23:25,32032,10/28/2008 11:09:47,141,19,File handling in Dango when posting image from service call,"I am using Pyamf to transfer a dynamically generated large image from Flex to Django.
On the Django side i receive the encodedb64 data as a parameter:

My Item model as an imagefield.
What i have trouble to do is saving the data as the File Django Field.

    def save_item(request, uname, data):
        """""" Save a new item """"""    
        item = Item()
    
        img = cStringIO.StringIO()
        img.write(base64.b64decode(data))
        myFile = File(img)
    
       item.preview.save('fakename.jpg', myFile, save=False)

That would not work because my File object from StringIO misses some properties such as mode, name etc.

I also think that using StringIO will load the image data completely in memory which is bad so i may just give up on the AMF for this particular case and use POST.

What do you think ?",django,python,flex,pyamf,,,open,0,177,10,"File handling in Dango when posting image from service call I am using Pyamf to transfer a dynamically generated large image from Flex to Django.
On the Django side i receive the encodedb64 data as a parameter:

My Item model as an imagefield.
What i have trouble to do is saving the data as the File Django Field.

    def save_item(request, uname, data):
        """""" Save a new item """"""    
        item = Item()
    
        img = cStringIO.StringIO()
        img.write(base64.b64decode(data))
        myFile = File(img)
    
       item.preview.save('fakename.jpg', myFile, save=False)

That would not work because my File object from StringIO misses some properties such as mode, name etc.

I also think that using StringIO will load the image data completely in memory which is bad so i may just give up on the AMF for this particular case and use POST.

What do you think ?",4
9531805,03/02/2012 10:34:43,479553,10/18/2010 17:06:33,417,2,Django hosting for an Italian webapp,"it's almost time to deploy my Django application.
In the past I've hosted my apps within an Italian company called http://unbit.it/ .
I was happy with it, but they are a bit expensive and I haven't the total control of my deploy workflow. I would like to deploy my next app with a VPS solution. Here are my questions:

- Do you suggest a VPS solution for deploying Django apps?
- I was looking to companies like slicehost and linode. My biggest concern is the physical location of the servers. Since I know for sure that 100% of incoming traffic of my app will be from Italy, I'm afraid to introduce too much overhead between the page request and the response, because the http request have to travel from Italy to the server (in London, or worse in America) and finally come back to Italy again.

Thanks in advance. (I hope not to be OT)",django,hosting,vps,geographic-distance,,06/26/2012 14:04:45,off topic,1,150,6,"Django hosting for an Italian webapp it's almost time to deploy my Django application.
In the past I've hosted my apps within an Italian company called http://unbit.it/ .
I was happy with it, but they are a bit expensive and I haven't the total control of my deploy workflow. I would like to deploy my next app with a VPS solution. Here are my questions:

- Do you suggest a VPS solution for deploying Django apps?
- I was looking to companies like slicehost and linode. My biggest concern is the physical location of the servers. Since I know for sure that 100% of incoming traffic of my app will be from Italy, I'm afraid to introduce too much overhead between the page request and the response, because the http request have to travel from Italy to the server (in London, or worse in America) and finally come back to Italy again.

Thanks in advance. (I hope not to be OT)",4
6917552,08/02/2011 19:33:34,446668,09/13/2010 18:56:56,134,1,datacharts in reportlab,"I am getting this error which running reportlab with django:  
Error was: No module named datacharts  

When I checked the   
C:\Python26\Lib\site-packages\rlextra\graphics\guiedit folder I dont find datacharts.py but I only find datacharts.pyc and datacharts.pyo  
For all other files, even py is there. I tried downloading rlextra again but py for datacharts is still not there.    
Is this the right format or I am missing on anything which django is not able to find.",django,reportlab,,,,,open,0,80,3,"datacharts in reportlab I am getting this error which running reportlab with django:  
Error was: No module named datacharts  

When I checked the   
C:\Python26\Lib\site-packages\rlextra\graphics\guiedit folder I dont find datacharts.py but I only find datacharts.pyc and datacharts.pyo  
For all other files, even py is there. I tried downloading rlextra again but py for datacharts is still not there.    
Is this the right format or I am missing on anything which django is not able to find.",2
435544,01/12/2009 14:21:40,42188,12/01/2008 16:51:28,510,45,Django - Custom virtual model field with companion stored field,"I would like to have a `ConfirmationField` field type. I want this field to work like a boolean field. I don't need to store this information on database instead I would like to store the date of confirmation on a seperate field.

    class MyModel(models.Model):
        confirmation = ConfirmationField()
        
    
    m = MyModel()
    m.confirmation # False
    m.confirmation_timestamp # None
    
    m.confirmation = True
    m.save()
    
    m.confirmation_timestamp # datetime object
    
    
    m.confirmation = False
    m.save()
    
    m.confirmation_timestamp # None again


I need to have both fields as `Field` instances, I need to be able to use them in Admin for example.

I have read the docs and checked the code, `ForeignKey` changes its database column name with the following code:

    def get_attname(self):
        return '%s_id' % self.name

But I couldn't figure out exacly how I can use the rest of the code as an example. It seems my goal doesn't require tto much complexity.

I have also found `ImageField` saved extra information when the model is saved:

        if self.field.width_field:
            setattr(self.instance, self.field.width_field, self.width)
        if self.field.height_field:
            setattr(self.instance, self.field.height_field, self.height)

But of course I don't want `confirmation` itself to be stored in the database. I would cause redundancy since (`confirmation_timestamp` -> `confirmation`) `None`==`False` and `<datetime instance>`==`True`.

Any pointers/ideas are appreciated.

Thanks.

",django,django-models,django-admin,,,01/14/2009 22:08:00,off topic,1,307,10,"Django - Custom virtual model field with companion stored field I would like to have a `ConfirmationField` field type. I want this field to work like a boolean field. I don't need to store this information on database instead I would like to store the date of confirmation on a seperate field.

    class MyModel(models.Model):
        confirmation = ConfirmationField()
        
    
    m = MyModel()
    m.confirmation # False
    m.confirmation_timestamp # None
    
    m.confirmation = True
    m.save()
    
    m.confirmation_timestamp # datetime object
    
    
    m.confirmation = False
    m.save()
    
    m.confirmation_timestamp # None again


I need to have both fields as `Field` instances, I need to be able to use them in Admin for example.

I have read the docs and checked the code, `ForeignKey` changes its database column name with the following code:

    def get_attname(self):
        return '%s_id' % self.name

But I couldn't figure out exacly how I can use the rest of the code as an example. It seems my goal doesn't require tto much complexity.

I have also found `ImageField` saved extra information when the model is saved:

        if self.field.width_field:
            setattr(self.instance, self.field.width_field, self.width)
        if self.field.height_field:
            setattr(self.instance, self.field.height_field, self.height)

But of course I don't want `confirmation` itself to be stored in the database. I would cause redundancy since (`confirmation_timestamp` -> `confirmation`) `None`==`False` and `<datetime instance>`==`True`.

Any pointers/ideas are appreciated.

Thanks.

",3
8433155,12/08/2011 15:14:03,1050012,11/16/2011 15:48:01,8,0,django - If I change a field from ForeignKey to OneToOneField are there any database changes?,"In my Django project I want to change a model field from ForeignKey to OneToOneField. 

If I do that are there any database changes that I have to make? - Thank you!",django,django-models,,,,,open,0,32,16,"django - If I change a field from ForeignKey to OneToOneField are there any database changes? In my Django project I want to change a model field from ForeignKey to OneToOneField. 

If I do that are there any database changes that I have to make? - Thank you!",2
3605465,08/31/2010 01:31:37,91642,04/16/2009 13:47:29,59,1,Combining User and UserProfile in the admin,"I have been reading up on Django's separation of Users and Profiles, and I have decided to go with a model called UserProfile that is located in an Accounts app as my Profile.  The problem is, now I have two separate areas of the admin, one for modifying the User, and one for modifying the User Profile.  Is it possible to view the two models as one in the admin, so if you add or modify a user you see all of the fields for both User and Profile in the same view?    It also kinda goes without saying that adding a deleting a user should add or delete a profile with it, and it shouldn't be possible to add or delete a profile without the user.

I've seen bits and pieces of how to make this work (for example, something that adds a profile when you add a user), but not as a whole.",django,django-models,django-admin,,,,open,0,159,7,"Combining User and UserProfile in the admin I have been reading up on Django's separation of Users and Profiles, and I have decided to go with a model called UserProfile that is located in an Accounts app as my Profile.  The problem is, now I have two separate areas of the admin, one for modifying the User, and one for modifying the User Profile.  Is it possible to view the two models as one in the admin, so if you add or modify a user you see all of the fields for both User and Profile in the same view?    It also kinda goes without saying that adding a deleting a user should add or delete a profile with it, and it shouldn't be possible to add or delete a profile without the user.

I've seen bits and pieces of how to make this work (for example, something that adds a profile when you add a user), but not as a whole.",3
6633781,07/09/2011 08:54:20,709247,04/15/2011 06:05:42,48,0,Nginx Redirect Configuration,"I am using nginx web server. In my configuration I redirect all http to https using this settings 

> location / {
>       rewrite ^/(.*) https://mydomain.com/$1 permanent;
>     }

What I need is I want to redirect all http request to https except one like http://mydomain.com/x/y

Please help to solve this issue

Thanks..
",django,nginx,,,,07/12/2011 02:17:39,off topic,1,58,3,"Nginx Redirect Configuration I am using nginx web server. In my configuration I redirect all http to https using this settings 

> location / {
>       rewrite ^/(.*) https://mydomain.com/$1 permanent;
>     }

What I need is I want to redirect all http request to https except one like http://mydomain.com/x/y

Please help to solve this issue

Thanks..
",2
11547281,07/18/2012 17:44:53,791335,06/09/2011 16:24:09,474,7,csv reader failing on new line without delimiter,"I am building an application which accepts csv data as an uploaded file.

Here is the relevent part of my view:

    def climate_upload(request):
        ...
        reader = csv.reader(file, delimiter=';')    # news csv reader instance 
        next(reader)    # skip header row
                
        for line in reader:
            if not line:
                continue    
            report = site_name
            report.year = line[1]
            report.month = line[2]
            ...
            report.save()
        file.close()    # close file
        ...

So, this works fine on data which looks like this:

    ;""headers""
    ;2012;5;2012-06-01;27.1;24.5;29.8;26.8;85;0.8
    ;2012;5;2012-06-02;27.1;24.5;29.8;26.8;85;0.8

But fails on this:

    ""headers""
    2012;5;2012-06-01;27.1;24.5;29.8;26.8;85;0.8
    2012;5;2012-06-02;27.1;24.5;29.8;26.8;85;0.8

*Note  the lack of initial delimiter on each line.*

Unfortunately MS Excel seems to spit out the second version. I assume that `reader` is not recognizing a new line as a delimiter. Is there some flag with reader which will force it to accept `\n` as a delimiter as well as `;` ?

Any help much appreciated.",django,csv,,,,,open,0,308,8,"csv reader failing on new line without delimiter I am building an application which accepts csv data as an uploaded file.

Here is the relevent part of my view:

    def climate_upload(request):
        ...
        reader = csv.reader(file, delimiter=';')    # news csv reader instance 
        next(reader)    # skip header row
                
        for line in reader:
            if not line:
                continue    
            report = site_name
            report.year = line[1]
            report.month = line[2]
            ...
            report.save()
        file.close()    # close file
        ...

So, this works fine on data which looks like this:

    ;""headers""
    ;2012;5;2012-06-01;27.1;24.5;29.8;26.8;85;0.8
    ;2012;5;2012-06-02;27.1;24.5;29.8;26.8;85;0.8

But fails on this:

    ""headers""
    2012;5;2012-06-01;27.1;24.5;29.8;26.8;85;0.8
    2012;5;2012-06-02;27.1;24.5;29.8;26.8;85;0.8

*Note  the lack of initial delimiter on each line.*

Unfortunately MS Excel seems to spit out the second version. I assume that `reader` is not recognizing a new line as a delimiter. Is there some flag with reader which will force it to accept `\n` as a delimiter as well as `;` ?

Any help much appreciated.",2
9496831,02/29/2012 09:48:47,1076881,12/02/2011 07:01:45,24,0,Return extra info in error reponse,"What is best way to return extra data such as error code in error type response. #Method 1 does not carry extra info while #Method 2 doesnt work.    

    #method 1
    ImmediateHttpResponse(HttpBadRequest('error')) #cant carry extra info


    #method 2
    class ErrorInfo(object):
        msg_id = ''
        msg_code = ''
        msg_content = ''

    class Resource(Resource):
        ....
        def get_object_list(self, request):
            if ...:
                error_info = ErrorInfo()
                error_info.msg_id = 'rt'
                error_info.msg_code = 'rerer'
                obj  = {'objects': error_info}
                return self.create_response(request, obj)",django,tastypie,,,,,open,0,213,6,"Return extra info in error reponse What is best way to return extra data such as error code in error type response. #Method 1 does not carry extra info while #Method 2 doesnt work.    

    #method 1
    ImmediateHttpResponse(HttpBadRequest('error')) #cant carry extra info


    #method 2
    class ErrorInfo(object):
        msg_id = ''
        msg_code = ''
        msg_content = ''

    class Resource(Resource):
        ....
        def get_object_list(self, request):
            if ...:
                error_info = ErrorInfo()
                error_info.msg_id = 'rt'
                error_info.msg_code = 'rerer'
                obj  = {'objects': error_info}
                return self.create_response(request, obj)",2
5034922,02/17/2011 21:31:37,280100,02/24/2010 06:44:29,91,8,Is Flask + Werkzeug faster than django ?,"I dont know whether this question makes sense but seriously is flask faster than django. The reason why i am saying this is that i have deployed one intranet application which is built in Django for a top MNC company and second application for a trading MNC company developed in Flask

Although user's are not complaining about the performance issue of django but whenever i go for a quick check of that  intranet application i feel its kinda slow and the server environment are same which is being used by Django and Flask

Funningly the Trading application which is been developed under Flask + Werkzeug + SQLAlchemy & Jinja 2 has more users  than the django application. So am i missing something ??

Thank you in advance",django,sqlalchemy,flask,werkzeug,,02/20/2011 06:44:28,not constructive,1,126,8,"Is Flask + Werkzeug faster than django ? I dont know whether this question makes sense but seriously is flask faster than django. The reason why i am saying this is that i have deployed one intranet application which is built in Django for a top MNC company and second application for a trading MNC company developed in Flask

Although user's are not complaining about the performance issue of django but whenever i go for a quick check of that  intranet application i feel its kinda slow and the server environment are same which is being used by Django and Flask

Funningly the Trading application which is been developed under Flask + Werkzeug + SQLAlchemy & Jinja 2 has more users  than the django application. So am i missing something ??

Thank you in advance",4
5715223,04/19/2011 10:50:27,633650,12/07/2010 08:39:19,6,0,"django, mod_wsgi - no module found,","I configure vhost and run mod_wsgi, got following error.
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] mod_wsgi (pid=24884): Exception occurred processing WSGI script '/usr/local/django/publisy/apache/django.wsgi'.
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] Traceback (most recent call last):
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/wsgi.py"", line 241, in __call__
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     response = self.get_response(request)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"", line 134, in get_response
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.handle_uncaught_exception(request, resolver, exc_info)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"", line 154, in handle_uncaught_exception
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return debug.technical_500_response(request, *exc_info)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/views/debug.py"", line 40, in technical_500_response
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     html = reporter.get_traceback_html()
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/views/debug.py"", line 114, in get_traceback_html
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return t.render(c)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/__init__.py"", line 178, in render
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.nodelist.render(context)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/__init__.py"", line 779, in render
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     bits.append(self.render_node(node, context))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/debug.py"", line 81, in render_node
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     raise wrapped
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] TemplateSyntaxError: Caught an exception while rendering: No module named destinations
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] 
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] Original Traceback (most recent call last):
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/debug.py"", line 71, in render_node
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     result = node.render(context)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/debug.py"", line 87, in render
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     output = force_unicode(self.filter_expression.resolve(context))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/__init__.py"", line 572, in resolve
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     new_obj = func(obj, *arg_vals)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/defaultfilters.py"", line 687, in date
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return format(value, arg)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 269, in format
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return df.format(format_string)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 30, in format
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     pieces.append(force_unicode(getattr(self, piece)()))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 175, in r
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.format('D, j M Y H:i:s O')
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 30, in format
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     pieces.append(force_unicode(getattr(self, piece)()))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/encoding.py"", line 71, in force_unicode
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     s = unicode(s)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/functional.py"", line 201, in __unicode_cast
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.__func(*self.__args, **self.__kw)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/__init__.py"", line 62, in ugettext
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return real_ugettext(message)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 286, in ugettext
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return do_translate(message, 'ugettext')
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 276, in do_translate
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     _default = translation(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 194, in translation
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     default_translation = _fetch(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 180, in _fetch
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     app = import_module(appname)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] ImportError: No module named destinations
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] 
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129] mod_wsgi (pid=24885): Exception occurred processing WSGI script '/usr/local/django/publisy/apache/django.wsgi'.
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129] Traceback (most recent call last):
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/wsgi.py"", line 241, in __call__
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     response = self.get_response(request)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"", line 73, in get_response
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     response = middleware_method(request)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/middleware/common.py"", line 56, in process_request
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     if (not _is_valid_path(request.path_info) and
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/middleware/common.py"", line 142, in _is_valid_path
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     urlresolvers.resolve(path)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 303, in resolve
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return get_resolver(urlconf).resolve(path)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 216, in resolve
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     for pattern in self.url_patterns:
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 245, in _get_url_patterns
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     patterns = getattr(self.urlconf_module, ""urlpatterns"", self.urlconf_module)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 240, in _get_urlconf_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     self._urlconf_module = import_module(self.urlconf_name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/local/django/publisy/urls.py"", line 5, in <module>
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     admin.autodiscover()
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/admin/__init__.py"", line 56, in autodiscover
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     import_module(""%s.admin"" % app)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/auth/admin.py"", line 4, in <module>
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     from django.contrib.auth.forms import UserCreationForm, UserChangeForm, AdminPasswordChangeForm
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/auth/forms.py"", line 10, in <module>
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     class UserCreationForm(forms.ModelForm):
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/auth/forms.py"", line 16, in UserCreationForm
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     error_message = _(""This value must contain only letters, numbers and underscores.""))
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/forms/fields.py"", line 400, in __init__
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     if error_message:
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/functional.py"", line 188, in __wrapper__
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     res = self.__func(*self.__args, **self.__kw)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/__init__.py"", line 62, in ugettext
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return real_ugettext(message)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/__init__.py"", line 43, in delayed_loader
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return g['real_%s' % caller](*args, **kwargs)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 286, in ugettext
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return do_translate(message, 'ugettext')
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 276, in do_translate
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     _default = translation(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 194, in translation
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     default_translation = _fetch(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 180, in _fetch
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     app = import_module(appname)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129] ImportError: No module named destinations",django,apache2,mod-wsgi,,,04/21/2011 03:11:18,not a real question,1,1525,6,"django, mod_wsgi - no module found, I configure vhost and run mod_wsgi, got following error.
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] mod_wsgi (pid=24884): Exception occurred processing WSGI script '/usr/local/django/publisy/apache/django.wsgi'.
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] Traceback (most recent call last):
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/wsgi.py"", line 241, in __call__
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     response = self.get_response(request)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"", line 134, in get_response
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.handle_uncaught_exception(request, resolver, exc_info)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"", line 154, in handle_uncaught_exception
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return debug.technical_500_response(request, *exc_info)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/views/debug.py"", line 40, in technical_500_response
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     html = reporter.get_traceback_html()
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/views/debug.py"", line 114, in get_traceback_html
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return t.render(c)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/__init__.py"", line 178, in render
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.nodelist.render(context)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/__init__.py"", line 779, in render
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     bits.append(self.render_node(node, context))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/debug.py"", line 81, in render_node
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     raise wrapped
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] TemplateSyntaxError: Caught an exception while rendering: No module named destinations
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] 
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] Original Traceback (most recent call last):
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/debug.py"", line 71, in render_node
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     result = node.render(context)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/debug.py"", line 87, in render
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     output = force_unicode(self.filter_expression.resolve(context))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/__init__.py"", line 572, in resolve
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     new_obj = func(obj, *arg_vals)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/template/defaultfilters.py"", line 687, in date
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return format(value, arg)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 269, in format
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return df.format(format_string)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 30, in format
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     pieces.append(force_unicode(getattr(self, piece)()))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 175, in r
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.format('D, j M Y H:i:s O')
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/dateformat.py"", line 30, in format
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     pieces.append(force_unicode(getattr(self, piece)()))
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/encoding.py"", line 71, in force_unicode
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     s = unicode(s)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/functional.py"", line 201, in __unicode_cast
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return self.__func(*self.__args, **self.__kw)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/__init__.py"", line 62, in ugettext
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return real_ugettext(message)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 286, in ugettext
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     return do_translate(message, 'ugettext')
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 276, in do_translate
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     _default = translation(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 194, in translation
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     default_translation = _fetch(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 180, in _fetch
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     app = import_module(appname)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] ImportError: No module named destinations
[Tue Apr 19 05:38:01 2011] [error] [client 124.41.237.129] 
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129] mod_wsgi (pid=24885): Exception occurred processing WSGI script '/usr/local/django/publisy/apache/django.wsgi'.
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129] Traceback (most recent call last):
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/wsgi.py"", line 241, in __call__
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     response = self.get_response(request)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/handlers/base.py"", line 73, in get_response
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     response = middleware_method(request)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/middleware/common.py"", line 56, in process_request
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     if (not _is_valid_path(request.path_info) and
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/middleware/common.py"", line 142, in _is_valid_path
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     urlresolvers.resolve(path)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 303, in resolve
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return get_resolver(urlconf).resolve(path)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 216, in resolve
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     for pattern in self.url_patterns:
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 245, in _get_url_patterns
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     patterns = getattr(self.urlconf_module, ""urlpatterns"", self.urlconf_module)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/core/urlresolvers.py"", line 240, in _get_urlconf_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     self._urlconf_module = import_module(self.urlconf_name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/local/django/publisy/urls.py"", line 5, in <module>
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     admin.autodiscover()
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/admin/__init__.py"", line 56, in autodiscover
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     import_module(""%s.admin"" % app)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/auth/admin.py"", line 4, in <module>
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     from django.contrib.auth.forms import UserCreationForm, UserChangeForm, AdminPasswordChangeForm
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/auth/forms.py"", line 10, in <module>
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     class UserCreationForm(forms.ModelForm):
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/contrib/auth/forms.py"", line 16, in UserCreationForm
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     error_message = _(""This value must contain only letters, numbers and underscores.""))
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/forms/fields.py"", line 400, in __init__
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     if error_message:
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/functional.py"", line 188, in __wrapper__
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     res = self.__func(*self.__args, **self.__kw)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/__init__.py"", line 62, in ugettext
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return real_ugettext(message)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/__init__.py"", line 43, in delayed_loader
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return g['real_%s' % caller](*args, **kwargs)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 286, in ugettext
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     return do_translate(message, 'ugettext')
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 276, in do_translate
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     _default = translation(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 194, in translation
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     default_translation = _fetch(settings.LANGUAGE_CODE)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/translation/trans_real.py"", line 180, in _fetch
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     app = import_module(appname)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]   File ""/usr/lib/pymodules/python2.6/django/utils/importlib.py"", line 35, in import_module
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129]     __import__(name)
[Tue Apr 19 05:38:05 2011] [error] [client 124.41.237.129] ImportError: No module named destinations",3
8077616,11/10/2011 09:48:31,105167,05/12/2009 05:55:29,1163,2,Error while dealing with Django UserProfile form.,"This is my view for User registration:

    def user_reg(request):
    	UserReg = modelformset_factory(UserProfile)
    	
    	if request.method == 'POST':
    		formset = UserReg(request.POST)
    		if formset.is_valid():
    			formset.save()
    			return HttpResponseRedirect('/thanks/')
    	else:
    		formset = UserReg()
    	return render_to_response(""regform.html"",{""formset"":formset,})


This is my models.py

    from django.db import models
    from django.contrib.auth.models import User
    
    
    class UserProfile(models.Model):
        user = models.ForeignKey(User, unique=True)
        name = models.CharField(max_length = 100)
        reg_no = models.TextField(unique=True)
        password = models.CharField(max_length=128)



The error I get is:

    Exception Type: DatabaseError at /register/
    Exception Value: column auth_userprofile.name does not exist
    LINE 1: ..._userprofile"".""id"", ""auth_userprofile"".""user_id"", ""auth_user...


I've two questions here:
1. Obviously, i want to know why I'm getting the error and how to debug.
2. Is this the right way to go about it or should a define it in forms.py and then import it? The model formset I meant. The django documentation showed that this way it can be done. 



",django,,,,,,open,0,221,7,"Error while dealing with Django UserProfile form. This is my view for User registration:

    def user_reg(request):
    	UserReg = modelformset_factory(UserProfile)
    	
    	if request.method == 'POST':
    		formset = UserReg(request.POST)
    		if formset.is_valid():
    			formset.save()
    			return HttpResponseRedirect('/thanks/')
    	else:
    		formset = UserReg()
    	return render_to_response(""regform.html"",{""formset"":formset,})


This is my models.py

    from django.db import models
    from django.contrib.auth.models import User
    
    
    class UserProfile(models.Model):
        user = models.ForeignKey(User, unique=True)
        name = models.CharField(max_length = 100)
        reg_no = models.TextField(unique=True)
        password = models.CharField(max_length=128)



The error I get is:

    Exception Type: DatabaseError at /register/
    Exception Value: column auth_userprofile.name does not exist
    LINE 1: ..._userprofile"".""id"", ""auth_userprofile"".""user_id"", ""auth_user...


I've two questions here:
1. Obviously, i want to know why I'm getting the error and how to debug.
2. Is this the right way to go about it or should a define it in forms.py and then import it? The model formset I meant. The django documentation showed that this way it can be done. 



",1
1016980,06/19/2009 08:54:49,55562,01/15/2009 19:02:17,954,68,django development add-ons,"I have come across various django development add ons, particularly,

[django-extensions](http://github.com/django-extensions/django-extensions/tree/master)

[django-annoying](http://bitbucket.org/offline/django-annoying/)

[django-debug-toolbar](http://github.com/robhudson/django-debug-toolbar/tree/master)

[django-tools](http://code.google.com/p/greatlemers-django-tools/)

I haven't exactly used all of these. 

I think it is hard to beat the simplicity and power obtained by the combination of django's pretty error pages combined with iPythonEmbed shell.

Which of these or other tools do you use for development, what exact features do you benefit out of it. Self written commands, scripts welcome too.",django,python,,,,06/18/2012 03:21:22,not constructive,1,65,3,"django development add-ons I have come across various django development add ons, particularly,

[django-extensions](http://github.com/django-extensions/django-extensions/tree/master)

[django-annoying](http://bitbucket.org/offline/django-annoying/)

[django-debug-toolbar](http://github.com/robhudson/django-debug-toolbar/tree/master)

[django-tools](http://code.google.com/p/greatlemers-django-tools/)

I haven't exactly used all of these. 

I think it is hard to beat the simplicity and power obtained by the combination of django's pretty error pages combined with iPythonEmbed shell.

Which of these or other tools do you use for development, what exact features do you benefit out of it. Self written commands, scripts welcome too.",2
6095717,05/23/2011 10:07:41,547841,12/19/2010 17:31:56,338,17,DJANGO: One Try Multiple Except,"Just wanted to confirm if this is possible:

    try:
     #something1
     #something2
    except something1:
     #return xyz
    except something2:
     #return abc

Looks correct to me. Is it?

",django,django-views,,,,05/23/2011 12:31:49,not a real question,1,49,5,"DJANGO: One Try Multiple Except Just wanted to confirm if this is possible:

    try:
     #something1
     #something2
    except something1:
     #return xyz
    except something2:
     #return abc

Looks correct to me. Is it?

",2
4541654,12/27/2010 20:38:41,152651,08/07/2009 17:47:48,384,7,filter on foreign key property in django-nonrel,"What's the best practice for filtering based on a foreign key's property in a non-relational database? I understand that the lack of `join` support makes things more complicated, and so I was wondering how others got around it.

In my case, I have events, which belong to sites, which belong to regions. I want to filter all events in a given region. An `Event` has a `site` property that is a foreign key to a `Site`, which in turn has a `region` foreign key to a `Region`:

    region = Region.objects.get(id=regionID)
    events = Event.objects.filter(site__region=region)

This doesn't work, because site__region requires a `join` and that's not supported on django-nonrel running on Google App Engine. (I get `Caught DatabaseError while rendering: This query is not supported by the database.` as an error.) I've thus been iterating through events, adding those that match to a list:

    events = list()
    region = Region.objects.get(id=regionID)
    for event in Event.object.all():
        if event.site.region==region:
            events.append(event)

Is this a good way to be doing things? Is there something silly that I've overlooked? Thanks in advance!",django,google-app-engine,non-relational-database,django-nonrel,,,open,0,204,7,"filter on foreign key property in django-nonrel What's the best practice for filtering based on a foreign key's property in a non-relational database? I understand that the lack of `join` support makes things more complicated, and so I was wondering how others got around it.

In my case, I have events, which belong to sites, which belong to regions. I want to filter all events in a given region. An `Event` has a `site` property that is a foreign key to a `Site`, which in turn has a `region` foreign key to a `Region`:

    region = Region.objects.get(id=regionID)
    events = Event.objects.filter(site__region=region)

This doesn't work, because site__region requires a `join` and that's not supported on django-nonrel running on Google App Engine. (I get `Caught DatabaseError while rendering: This query is not supported by the database.` as an error.) I've thus been iterating through events, adding those that match to a list:

    events = list()
    region = Region.objects.get(id=regionID)
    for event in Event.object.all():
        if event.site.region==region:
            events.append(event)

Is this a good way to be doing things? Is there something silly that I've overlooked? Thanks in advance!",4
2668316,04/19/2010 14:41:59,8450,09/15/2008 16:03:44,1664,52,Django model translation : store translations in database or use gettext ?,"I'm in a django website's I18N process.

I've selected two potentially good django-apps :
 
 - [django-modeltranslation][1] wich modifies the db schema to store translations
 - [django-dbgettext][2] wich inspect db content to create .po files and uses gettext

From your point of view, what are the pros and cons of those two techniques ?


  [1]: http://code.google.com/p/django-modeltranslation/
  [2]: http://bitbucket.org/drmeers/django-dbgettext",django,internationalization,gettext,django-models,translation,,open,0,58,12,"Django model translation : store translations in database or use gettext ? I'm in a django website's I18N process.

I've selected two potentially good django-apps :
 
 - [django-modeltranslation][1] wich modifies the db schema to store translations
 - [django-dbgettext][2] wich inspect db content to create .po files and uses gettext

From your point of view, what are the pros and cons of those two techniques ?


  [1]: http://code.google.com/p/django-modeltranslation/
  [2]: http://bitbucket.org/drmeers/django-dbgettext",5
531224,02/10/2009 06:18:56,24718,10/03/2008 02:51:44,1083,59,Setting up Django on an internal server,"I'm trying to setup django on an internal company server. (No external connection to the internet)

Looking over the server setup documentation it appears that the ""[Running Django on a shared-hosting provider with Apache][2]"" method seems to be the most-likely to work in this situation.

Here's the server info:

- I don't have root access
- Server is SunOs 5.6
- python 2.5
- Apache/2.0.46 
- I've installed django (and flup) using the --[prefix option][1] (reading again I probably should've used --home, but at the moment it doesn't seem to matter)

I've added the .htaccess file and mysite.fcgi file to my root web directory as mentioned [here][2].
When I run the *mysite.fcgi* script from the server I get my expected output (the correct site html outputs).  But, it won't when trying to access it from a browser.

It seems that it may be a problem with the PYTHONPATH setting since I'm using the prefix option.  

I've noticed that if I run mysite.fcgi from the commandline without setting the PYTHONPATH enviornment variable it throws the following error:

    prompt$ python2.5 mysite.fcgi 
     ERROR:
     No module named flup   Unable to load
     the flup package.  In order to run
     django   as a FastCGI application, you
     will need to get flup from  
     http://www.saddi.com/software/flup/  
     If you've already   installed flup,
     then make sure you have it in your
     PYTHONPATH.

I've added **os.environ['PYTHONPATH'] = prefixpath** to mysite.fcgi, but if I set the enviornment variable to be empty on the commandline then run mysite.fcgi, I still get the above error as if **os.environ()** isn't setting the PYTHONPATH correctly.

So, to the questions:

1. Am I going in the right direction?  
--> If I want to setup django on an internal server when I don't have root access is this the best method?

2. If this method *should* work where am I going wrong?

--> Why isn't **os.environ()** working as I'm expecting it to?  Or, should I take a different approach.



  [1]: http://docs.python.org/install/index.html#alternate-installation-the-home-scheme
  [2]: http://docs.djangoproject.com/en/dev/howto/deployment/fastcgi/#running-django-on-a-shared-hosting-provider-with-apache",django,python,apache,,,,open,0,367,7,"Setting up Django on an internal server I'm trying to setup django on an internal company server. (No external connection to the internet)

Looking over the server setup documentation it appears that the ""[Running Django on a shared-hosting provider with Apache][2]"" method seems to be the most-likely to work in this situation.

Here's the server info:

- I don't have root access
- Server is SunOs 5.6
- python 2.5
- Apache/2.0.46 
- I've installed django (and flup) using the --[prefix option][1] (reading again I probably should've used --home, but at the moment it doesn't seem to matter)

I've added the .htaccess file and mysite.fcgi file to my root web directory as mentioned [here][2].
When I run the *mysite.fcgi* script from the server I get my expected output (the correct site html outputs).  But, it won't when trying to access it from a browser.

It seems that it may be a problem with the PYTHONPATH setting since I'm using the prefix option.  

I've noticed that if I run mysite.fcgi from the commandline without setting the PYTHONPATH enviornment variable it throws the following error:

    prompt$ python2.5 mysite.fcgi 
     ERROR:
     No module named flup   Unable to load
     the flup package.  In order to run
     django   as a FastCGI application, you
     will need to get flup from  
     http://www.saddi.com/software/flup/  
     If you've already   installed flup,
     then make sure you have it in your
     PYTHONPATH.

I've added **os.environ['PYTHONPATH'] = prefixpath** to mysite.fcgi, but if I set the enviornment variable to be empty on the commandline then run mysite.fcgi, I still get the above error as if **os.environ()** isn't setting the PYTHONPATH correctly.

So, to the questions:

1. Am I going in the right direction?  
--> If I want to setup django on an internal server when I don't have root access is this the best method?

2. If this method *should* work where am I going wrong?

--> Why isn't **os.environ()** working as I'm expecting it to?  Or, should I take a different approach.



  [1]: http://docs.python.org/install/index.html#alternate-installation-the-home-scheme
  [2]: http://docs.djangoproject.com/en/dev/howto/deployment/fastcgi/#running-django-on-a-shared-hosting-provider-with-apache",3
8897172,01/17/2012 15:24:22,305189,03/30/2010 14:21:14,1096,62,"Django project bug tracked with redmine, same users","I'm creating a project using Django.

For this project I use [git][1] and [redmine][2].

I'd like to have the same users on my Django project as in redmine.

What do you suggest ?


  [1]: http://git-scm.com/
  [2]: http://www.redmine.org/",django,git,redmine,openldap,,,open,0,36,8,"Django project bug tracked with redmine, same users I'm creating a project using Django.

For this project I use [git][1] and [redmine][2].

I'd like to have the same users on my Django project as in redmine.

What do you suggest ?


  [1]: http://git-scm.com/
  [2]: http://www.redmine.org/",4
3788580,09/24/2010 15:31:57,352716,05/28/2010 08:41:36,1,0,Outputting escaped characters in django templates,"I want to use the django templating system to output csv like data which looks like;

    !connection%block
    !dosomething
    !dosomethingelse
    My,Header,Row,Which,Is,Comma,Seperated
    All,My,Comma,Seperated,Data
    All,My,Comma,Seperated,Data
    All,My,Comma,Seperated,Data
    All,My,Comma,Seperated,Data
    !Footerblock
    !that has footer information

The [documentation][1] for CSVs recommends either using the csv module or a template. My particular needs are better suited for a template because some of the model fields need some manipulation using a tag library I have created. 

My view simply returns

    return render_to_response('trans.csv', {'transations': Transactions.objects.all(),  mimetype='text/csv')

However the rendered template has no way of actually outputting new line characters so the entire file is one long line! There must be a way of outputting a \n char ...


  [1]: http://docs.djangoproject.com/en/dev/howto/outputting-csv/?from=olddocs",django,templates,csv,escaping,,,open,0,143,6,"Outputting escaped characters in django templates I want to use the django templating system to output csv like data which looks like;

    !connection%block
    !dosomething
    !dosomethingelse
    My,Header,Row,Which,Is,Comma,Seperated
    All,My,Comma,Seperated,Data
    All,My,Comma,Seperated,Data
    All,My,Comma,Seperated,Data
    All,My,Comma,Seperated,Data
    !Footerblock
    !that has footer information

The [documentation][1] for CSVs recommends either using the csv module or a template. My particular needs are better suited for a template because some of the model fields need some manipulation using a tag library I have created. 

My view simply returns

    return render_to_response('trans.csv', {'transations': Transactions.objects.all(),  mimetype='text/csv')

However the rendered template has no way of actually outputting new line characters so the entire file is one long line! There must be a way of outputting a \n char ...


  [1]: http://docs.djangoproject.com/en/dev/howto/outputting-csv/?from=olddocs",4
2597184,04/08/2010 02:24:10,65387,02/12/2009 03:01:00,3976,181,Django stupid mark_safe?,"I wrote this little function for writing out HTML tags:

    def html_tag(tag, content=None, close=True, attrs={}):
        lst = ['<',tag]
        for key, val in attrs.iteritems():
            lst.append(' %s=""%s""' % (key, escape_html(val)))
        if close:
            if content is None: lst.append(' />')
            else: lst.extend(['>', content, '</', tag, '>'])
        else:
            lst.append('>')
        return mark_safe(''.join(lst))

Which worked great, but then I read this article on [efficient string concatenation][1] (I know it doesn't really matter for this, but I wanted consistency) and decided to update my script:

    def html_tag(tag, body=None, close=True, attrs={}):
        s = StringIO()
        s.write('<%s'%tag)
        for key, val in attrs.iteritems():
            s.write(' %s=""%s""' % (key, escape_html(val)))
        if close:
            if body is None: s.write(' />')
            else: s.write('>%s</%s>' % (body, tag))
        else:
            s.write('>')
        return mark_safe(s.getvalue())

But now my HTML get *escaped* when I try to render it from my template. Everything else is exactly the same. It works properly if I replace the last line with `return mark_safe(unicode(s.getvalue()))`. I checked the return type of `s.getvalue()`. It should be a `str`, just like the first function, so why is this failing??

---

I'd also like to point out that I used `return mark_safe(s.getvalue())` in a different function with *no* odd behavior.

  [1]: http://www.skymind.com/~ocrow/python_string/",django,python,,,,,open,0,358,3,"Django stupid mark_safe? I wrote this little function for writing out HTML tags:

    def html_tag(tag, content=None, close=True, attrs={}):
        lst = ['<',tag]
        for key, val in attrs.iteritems():
            lst.append(' %s=""%s""' % (key, escape_html(val)))
        if close:
            if content is None: lst.append(' />')
            else: lst.extend(['>', content, '</', tag, '>'])
        else:
            lst.append('>')
        return mark_safe(''.join(lst))

Which worked great, but then I read this article on [efficient string concatenation][1] (I know it doesn't really matter for this, but I wanted consistency) and decided to update my script:

    def html_tag(tag, body=None, close=True, attrs={}):
        s = StringIO()
        s.write('<%s'%tag)
        for key, val in attrs.iteritems():
            s.write(' %s=""%s""' % (key, escape_html(val)))
        if close:
            if body is None: s.write(' />')
            else: s.write('>%s</%s>' % (body, tag))
        else:
            s.write('>')
        return mark_safe(s.getvalue())

But now my HTML get *escaped* when I try to render it from my template. Everything else is exactly the same. It works properly if I replace the last line with `return mark_safe(unicode(s.getvalue()))`. I checked the return type of `s.getvalue()`. It should be a `str`, just like the first function, so why is this failing??

---

I'd also like to point out that I used `return mark_safe(s.getvalue())` in a different function with *no* odd behavior.

  [1]: http://www.skymind.com/~ocrow/python_string/",2
10082392,04/10/2012 02:27:57,1323046,04/10/2012 02:12:59,1,0,How to use django-filebrowser rename a file before uploading it to a folder,"like django's upload_to

    def upload_to(instance, filename):
        filename = time.strftime('%Y%m%d%H%M%S')
        ym = time.strftime('%Y%m')
        return 'uploads/%s/%s.jpg' % (ym,filename)
    
    class Person(models.Model):
        first_name = models.CharField(max_length=30)
        last_name = models.CharField(max_length=30)
        photo = models.ImageField(u""Image (Upload)"",upload_to=upload_to)

file saved 'uploads/%s/%s.jpg'

but change for

    photo = FileBrowseField(""Image"", max_length=200, directory=""uploads/"", extensions=["".jpg""], blank=True, null=True)

How to rename a file before uploading it to a folder
like django's upload_to

",django,upload,django-filebrowser,,,,open,0,107,13,"How to use django-filebrowser rename a file before uploading it to a folder like django's upload_to

    def upload_to(instance, filename):
        filename = time.strftime('%Y%m%d%H%M%S')
        ym = time.strftime('%Y%m')
        return 'uploads/%s/%s.jpg' % (ym,filename)
    
    class Person(models.Model):
        first_name = models.CharField(max_length=30)
        last_name = models.CharField(max_length=30)
        photo = models.ImageField(u""Image (Upload)"",upload_to=upload_to)

file saved 'uploads/%s/%s.jpg'

but change for

    photo = FileBrowseField(""Image"", max_length=200, directory=""uploads/"", extensions=["".jpg""], blank=True, null=True)

How to rename a file before uploading it to a folder
like django's upload_to

",3
5574277,04/06/2011 23:43:05,695808,04/06/2011 23:43:05,1,0,django blog golf?,"How few lines can you glue together a basic blog application (entries, comments, admin) using django?

For instance, we all know the admin interface is baked in.  Ok, plus you have django.contrib.comments and generic views straight out of the box as well.",django,blogs,code-golf,,,04/07/2011 04:23:12,off topic,1,42,3,"django blog golf? How few lines can you glue together a basic blog application (entries, comments, admin) using django?

For instance, we all know the admin interface is baked in.  Ok, plus you have django.contrib.comments and generic views straight out of the box as well.",3
3152720,06/30/2010 19:30:31,372837,06/22/2010 06:09:47,18,1,Django redirect to previous page after external OAuth login,"I am using Twitter OAuth to login users. The login takes users to Twitter and upon successful OAuth returns them to a specified url. From this url I would like to redirect users back to the page they were on before logging in. 

What is a good way to do this?",django,oauth,,,,,open,0,51,9,"Django redirect to previous page after external OAuth login I am using Twitter OAuth to login users. The login takes users to Twitter and upon successful OAuth returns them to a specified url. From this url I would like to redirect users back to the page they were on before logging in. 

What is a good way to do this?",2
953898,06/05/2009 01:34:30,103734,05/08/2009 18:07:55,57,4,"Django -- I have a small app ready, Should I go on private VPS or Google App Engine?","I have my first app, not that big, but it is the first step. (next big one on the way)

Now if I want to put it on my own Linode VPS, I have to configure `mod_python or mod_wsgi,` as well as memcache, Ngix, mySQL or Postgresql, etc. to make it work. If I put it GAE, All I have to do is convert the models to use GAE's API.

What I like about GAE is scaling. (if they can really do it)

Then I'd only worry about developing my apps and doing SEO work on them instead of worrying about load share/balance, cache, db / IO redundancy, etc.

I don't want to do any porting later on. (I have to decide now and stick with it)

So, if you have any experience on this, what do you recommend:

    1- Use VPS(s) for everthing
    2- Use VPS(s) plus Amazon S3
    3- Use VPS(s) plus Amazon S3 & SimpleDB
    4- Use GAE


Also: Would I be able to get away with not having JOIN rights when using the BigTable?

Note: I don't have any spatial need now, but for a location table I might need that later on.

I'd like to know what do you think!
",django,django-models,google-app-engine,amazon-s3,amazonwebservices,,open,0,209,18,"Django -- I have a small app ready, Should I go on private VPS or Google App Engine? I have my first app, not that big, but it is the first step. (next big one on the way)

Now if I want to put it on my own Linode VPS, I have to configure `mod_python or mod_wsgi,` as well as memcache, Ngix, mySQL or Postgresql, etc. to make it work. If I put it GAE, All I have to do is convert the models to use GAE's API.

What I like about GAE is scaling. (if they can really do it)

Then I'd only worry about developing my apps and doing SEO work on them instead of worrying about load share/balance, cache, db / IO redundancy, etc.

I don't want to do any porting later on. (I have to decide now and stick with it)

So, if you have any experience on this, what do you recommend:

    1- Use VPS(s) for everthing
    2- Use VPS(s) plus Amazon S3
    3- Use VPS(s) plus Amazon S3 & SimpleDB
    4- Use GAE


Also: Would I be able to get away with not having JOIN rights when using the BigTable?

Note: I don't have any spatial need now, but for a location table I might need that later on.

I'd like to know what do you think!
",5
3231450,07/12/2010 19:11:08,389143,07/12/2010 02:41:53,5,0,Return a list of lists to template and render it,"In my project I deal with various sorts of events taking places in different cities. I'd like to present list of events per city in a template, but how to do that ? My view now looks like this :

    def events_by_state(request, state):
        cities = City.objects.filter(state_slug=state)

For each city I'd like do a query : 

    for c in cities:
        events_list = Event.objects.filter(city=c)

But then I have problem in what form and how should I send it, as well as use in my template ??",django,list,templates,django-templates,django-views,,open,0,103,10,"Return a list of lists to template and render it In my project I deal with various sorts of events taking places in different cities. I'd like to present list of events per city in a template, but how to do that ? My view now looks like this :

    def events_by_state(request, state):
        cities = City.objects.filter(state_slug=state)

For each city I'd like do a query : 

    for c in cities:
        events_list = Event.objects.filter(city=c)

But then I have problem in what form and how should I send it, as well as use in my template ??",5
1569698,10/15/2009 00:27:59,181902,09/30/2009 15:06:28,104,6,Create & return a default ImageFieldFile from inside a function,"In my UserProfile model I would like to have a function which returns _either_ the user's `ImageFileField` object or a default image if the user has not uploaded their own. 

For example:

    class UserProfile(models.Model):
        pic = models.ImageField('Headshot',blank=True,
                                 upload_to=get_path_and_filename)

        def get_pic(self):
            if self.pic:
                return self.pic
            else:
                # return ImageFileField with a default value

I want to return an equivalent `ImageFileField` because I have filters that work with this object type (so I can't just pass it a string, easily) ... I tried looking at the [source code][1] but I can't quite figure out how to do it myself.

Is there an easy way to initialize a new `ImageFileField` object by passing it a path to an image file and then return it?


  [1]: http://code.djangoproject.com/browser/django/trunk/django/db/models/fields/files.py",django,django-imagefield,,,,,open,0,223,10,"Create & return a default ImageFieldFile from inside a function In my UserProfile model I would like to have a function which returns _either_ the user's `ImageFileField` object or a default image if the user has not uploaded their own. 

For example:

    class UserProfile(models.Model):
        pic = models.ImageField('Headshot',blank=True,
                                 upload_to=get_path_and_filename)

        def get_pic(self):
            if self.pic:
                return self.pic
            else:
                # return ImageFileField with a default value

I want to return an equivalent `ImageFileField` because I have filters that work with this object type (so I can't just pass it a string, easily) ... I tried looking at the [source code][1] but I can't quite figure out how to do it myself.

Is there an easy way to initialize a new `ImageFileField` object by passing it a path to an image file and then return it?


  [1]: http://code.djangoproject.com/browser/django/trunk/django/db/models/fields/files.py",2
8793553,01/09/2012 18:50:37,723998,04/25/2011 16:32:59,139,3,"What is the ""elapsed time"" in django-debug-toolbar?","What sort of stuff is going on in the ""elapsed time"" value in the Django Debug Toolbar? I assume CPU time is a part of it, but what else is going on? The more explicit you can be, the more it'll help!!

        Resource	      Value
        User CPU time	  110.000 msec
        System CPU time	  50.000 msec
        Total CPU time	  160.000 msec
        Elapsed time	  1855.731 msec
        Context switches  74 voluntary, 80 involuntary

FYI: I've seen [this][1] but still don't really get what's going on.


  [1]: http://stackoverflow.com/questions/8232434/django-debug-toolbar-understanding-the-time-panel",django,performance,django-debug-toolbar,,,,open,0,135,7,"What is the ""elapsed time"" in django-debug-toolbar? What sort of stuff is going on in the ""elapsed time"" value in the Django Debug Toolbar? I assume CPU time is a part of it, but what else is going on? The more explicit you can be, the more it'll help!!

        Resource	      Value
        User CPU time	  110.000 msec
        System CPU time	  50.000 msec
        Total CPU time	  160.000 msec
        Elapsed time	  1855.731 msec
        Context switches  74 voluntary, 80 involuntary

FYI: I've seen [this][1] but still don't really get what's going on.


  [1]: http://stackoverflow.com/questions/8232434/django-debug-toolbar-understanding-the-time-panel",3
11534436,07/18/2012 04:45:12,224511,12/04/2009 05:11:03,152,1,Setting up an admin grid in django,"I'm trying to implement an assessment-type tool for school usage. My model looks something like:

 - A SchoolClass has a ManyToMany relationship with a Student through and Enrolment.
 - A SchoolClass has a ManyToMany relationship with an Achievement through a ClassAchievement
 - A Student has a ManyToMany relationship with an Achievement through an Award

I would like to see this represented (and eventually be editable) in a table/grid for each SchoolClass - a list of students in the class along the vertical axis, a list of achievements that apply to the class along the horizontal. In the grid space in the middle would state whether that student has been awarded that achievement. Preferably this would live in the admin area, as it is something only the teacher should access.

Being a django n00b, I'm not sure where to be looking for resources on how to achieve this, particularly that there are three tables/relationships in the mix - any points would be appreciated.

Cheers,

Victor
",django,many-to-many,,,,07/19/2012 13:49:59,not a real question,1,160,7,"Setting up an admin grid in django I'm trying to implement an assessment-type tool for school usage. My model looks something like:

 - A SchoolClass has a ManyToMany relationship with a Student through and Enrolment.
 - A SchoolClass has a ManyToMany relationship with an Achievement through a ClassAchievement
 - A Student has a ManyToMany relationship with an Achievement through an Award

I would like to see this represented (and eventually be editable) in a table/grid for each SchoolClass - a list of students in the class along the vertical axis, a list of achievements that apply to the class along the horizontal. In the grid space in the middle would state whether that student has been awarded that achievement. Preferably this would live in the admin area, as it is something only the teacher should access.

Being a django n00b, I'm not sure where to be looking for resources on how to achieve this, particularly that there are three tables/relationships in the mix - any points would be appreciated.

Cheers,

Victor
",2
8625769,12/24/2011 16:50:54,848550,07/17/2011 09:40:19,184,7,Django or Pyramid: what better to use in a new project?,"Question is addressed to those who familiar with both technologies.
Maybe this question is not new, but soon Pyramid developers will release version 1.3 and it is quite stable product I think.

I'm using Django (with mako templates as a rule) in my projects and everything is OK, but I've read a lot of positive feedback about SQLAlchemy and the whole framework.

What strong sides and weaknesses you know about Pyramid, developing projects on this framework and it's deploying on real servers (not only local machines).
Write your answers, please, with 2 parts: positive and negative impression of using Pyramid in comparison with Django.

I think it will be a very interesting information for many people here.
Thanks in advance!",django,pyramid,,,,12/25/2011 08:26:42,not constructive,1,114,11,"Django or Pyramid: what better to use in a new project? Question is addressed to those who familiar with both technologies.
Maybe this question is not new, but soon Pyramid developers will release version 1.3 and it is quite stable product I think.

I'm using Django (with mako templates as a rule) in my projects and everything is OK, but I've read a lot of positive feedback about SQLAlchemy and the whole framework.

What strong sides and weaknesses you know about Pyramid, developing projects on this framework and it's deploying on real servers (not only local machines).
Write your answers, please, with 2 parts: positive and negative impression of using Pyramid in comparison with Django.

I think it will be a very interesting information for many people here.
Thanks in advance!",2
11658372,07/25/2012 20:48:33,1500030,07/03/2012 21:31:50,5,0,Allow TextInput on form for a Django model ForeignKey field,"I have a form where the fields are coming from a ModelForm, and one of them is a models.ForeignKey field that is linked to usernames in my User model.  This results in every user in the database being listed in a selection field.  I'd prefer that this field be a TextInput where someone enters a username, and I've made it that in the ModelForm.  But when my view goes through form.is_valid(), the form gives an error saying that this field is invalid.  If I remove the is_valid() check, it of course gives me an error that the form cannot be saved because the data didn't validate.

How can I validate and save TextInput to my ForeignKey field?",django,django-models,django-forms,foreign-keys,django-views,,open,0,120,10,"Allow TextInput on form for a Django model ForeignKey field I have a form where the fields are coming from a ModelForm, and one of them is a models.ForeignKey field that is linked to usernames in my User model.  This results in every user in the database being listed in a selection field.  I'd prefer that this field be a TextInput where someone enters a username, and I've made it that in the ModelForm.  But when my view goes through form.is_valid(), the form gives an error saying that this field is invalid.  If I remove the is_valid() check, it of course gives me an error that the form cannot be saved because the data didn't validate.

How can I validate and save TextInput to my ForeignKey field?",5
5871477,05/03/2011 14:58:26,386082,07/07/2010 23:03:22,81,11,Call another template tag which uses @register.inclusion_tag,"I'm using a custom template tag which calls another one, depending on which hour it is.

    @register.simple_tag(takes_context=True)
    def my_custom_template_tag(context):
    """"""
    """"""
    now = datetime.now()

    # if the current hour:minute is less than
    # the publication switch settings defined hour
    if now.strftime('%H:%M') <= settings.PUBLICATION_SWITCH_TIME:
        print now.strftime('%H:%M')
        return my_other_template_tag(context)
    else:
        pass

    @register.inclusion_tag('my_other_template_tag_template_path', takes_context=True)
    def my_other_template_tag(context):
    """"""
    
    """"""
    return {
        'foo'
    }

the problem is, my_custom_template_tag seems to ignore the called ""my_other_template_tag"" @inclusion_tag. Is there a way to achieve this, while keeping using the @inclusion_tag ??

Thanks!",django,django-template-tags,,,,,open,0,159,7,"Call another template tag which uses @register.inclusion_tag I'm using a custom template tag which calls another one, depending on which hour it is.

    @register.simple_tag(takes_context=True)
    def my_custom_template_tag(context):
    """"""
    """"""
    now = datetime.now()

    # if the current hour:minute is less than
    # the publication switch settings defined hour
    if now.strftime('%H:%M') <= settings.PUBLICATION_SWITCH_TIME:
        print now.strftime('%H:%M')
        return my_other_template_tag(context)
    else:
        pass

    @register.inclusion_tag('my_other_template_tag_template_path', takes_context=True)
    def my_other_template_tag(context):
    """"""
    
    """"""
    return {
        'foo'
    }

the problem is, my_custom_template_tag seems to ignore the called ""my_other_template_tag"" @inclusion_tag. Is there a way to achieve this, while keeping using the @inclusion_tag ??

Thanks!",2
9202877,02/08/2012 22:59:48,963546,09/25/2011 11:36:52,123,6,how to write comments/documenation for Django methods/classes,"I am quite new with Django, and i was wondering if i could document my methods or classes.
In C# you would have somthing like

     ///
     <summary>
     this is my method xy
     </summary
     public void xy(){
     }


How do i document or describe methods in Django?
I have seen something like
     
    def xy(self):
       """""" this is my method xy """"""

but when i use this in my django code, i get an error.

How can i enable this kind of documentation? And where do i see the documentation? Only IDE with autocompletion or is django collectin all the descriptions of my methods and showing them in a html, placed within my django project?",django,,,,,,open,0,146,7,"how to write comments/documenation for Django methods/classes I am quite new with Django, and i was wondering if i could document my methods or classes.
In C# you would have somthing like

     ///
     <summary>
     this is my method xy
     </summary
     public void xy(){
     }


How do i document or describe methods in Django?
I have seen something like
     
    def xy(self):
       """""" this is my method xy """"""

but when i use this in my django code, i get an error.

How can i enable this kind of documentation? And where do i see the documentation? Only IDE with autocompletion or is django collectin all the descriptions of my methods and showing them in a html, placed within my django project?",1
10843207,06/01/2012 01:06:36,177511,09/23/2009 00:48:30,1795,66,Django - permissions api - should I encrypt permissions tokens in database for security?,"I'm building an application which makes use of a public api. The api allows us to perform actions on behalf of the users of a different app, using permissions; we collect permissions from the user in the form of a `token` and a `secret` which we use to authenticate and perform actions on their behalf.

We store the `token` and `secret` in our database. They are specifically generated for our api application, so whenever we need to use the api to perform an action for a user, we also need to provide our own api credentials; so something along the lines of:

    from myapp.settings import API_APPID, API_PASS
    user.perform_action(api_appid=API_APPID, api_pass=API_PASS, permissions_token=user.permissions_token, permissions_secret=user.permissions_secret)

(In reality we generate an authentication header using the permissions token/secret).

I'm wondering if we should be encrypting the permissions token/secret in our database?  My initial thought is no, since the permissions token and password is useless without our own api credentials (stored in our settings.py)

If we were to encrypt the tokens, we'd be storing our private key in settings.py anyway, meaning the security of the application would be just as dependent on the secrecy of our settings file.

Any thoughts? Is there a good reason to encrypt these tokens, or am I right in thinking it would be redundant?

Thanks for any help.",django,security,encryption,,,,open,0,217,14,"Django - permissions api - should I encrypt permissions tokens in database for security? I'm building an application which makes use of a public api. The api allows us to perform actions on behalf of the users of a different app, using permissions; we collect permissions from the user in the form of a `token` and a `secret` which we use to authenticate and perform actions on their behalf.

We store the `token` and `secret` in our database. They are specifically generated for our api application, so whenever we need to use the api to perform an action for a user, we also need to provide our own api credentials; so something along the lines of:

    from myapp.settings import API_APPID, API_PASS
    user.perform_action(api_appid=API_APPID, api_pass=API_PASS, permissions_token=user.permissions_token, permissions_secret=user.permissions_secret)

(In reality we generate an authentication header using the permissions token/secret).

I'm wondering if we should be encrypting the permissions token/secret in our database?  My initial thought is no, since the permissions token and password is useless without our own api credentials (stored in our settings.py)

If we were to encrypt the tokens, we'd be storing our private key in settings.py anyway, meaning the security of the application would be just as dependent on the secrecy of our settings file.

Any thoughts? Is there a good reason to encrypt these tokens, or am I right in thinking it would be redundant?

Thanks for any help.",3
8616552,12/23/2011 13:17:59,282869,02/27/2010 22:47:04,350,4,Inheriting formatting in django template,"I am trying to pass on some formatting (centering) in my django template.  My base reads:

    {% block main_content %}{% endblock %}

Then I have a sub base file:

    {% extends ""base.html"" %}
    {% block main_content %}
    	<br><br><br>
    	<center>
            {% block login_content %}{% endblock %}
    	</center>
    {% endblock %}

And finally my actual content

    {% extends ""subbase.html"" %}
    {% block login_content %}
        <form method=""post"" action=""."">{% csrf_token %}
              {{ form.as_p }}

              <input type=""submit"" value=""{% trans 'Log in' %}"" />
              <input type=""hidden"" name=""next"" value=""{{ next }}"" />
        </form>
    {% endblock %}

I'm not seeing the form though in the final template.  I just get a blank screen.  If I change the final {% block login_content %} to {% block main_content %} then I get the form, but not the formatting (which I understand).  I don't understand why I'm getting absolutely nothing when I try to implement formatting this way.
",django,templates,inheritance,,,12/23/2011 15:20:09,too localized,1,242,5,"Inheriting formatting in django template I am trying to pass on some formatting (centering) in my django template.  My base reads:

    {% block main_content %}{% endblock %}

Then I have a sub base file:

    {% extends ""base.html"" %}
    {% block main_content %}
    	<br><br><br>
    	<center>
            {% block login_content %}{% endblock %}
    	</center>
    {% endblock %}

And finally my actual content

    {% extends ""subbase.html"" %}
    {% block login_content %}
        <form method=""post"" action=""."">{% csrf_token %}
              {{ form.as_p }}

              <input type=""submit"" value=""{% trans 'Log in' %}"" />
              <input type=""hidden"" name=""next"" value=""{{ next }}"" />
        </form>
    {% endblock %}

I'm not seeing the form though in the final template.  I just get a blank screen.  If I change the final {% block login_content %} to {% block main_content %} then I get the form, but not the formatting (which I understand).  I don't understand why I'm getting absolutely nothing when I try to implement formatting this way.
",3
1114767,07/11/2009 22:03:55,88383,04/08/2009 00:53:19,2764,141,Django Inheritance And Foreign Keys,"Basically, I have a model where I've created a superclass that many other classes share, and then each of those classes has some unique features that differ from each other. Let's say class A is the superclass, and class B, C, and D are children of that class.

Both class B and class C can have multiples of class D, however I've seen that it's best to put the foreign key relationship in class D, which then refers to its parent class. Now in other languages, I could simply say it has a ForeignKey relationship to class A, and then the language recognizes the classes' true type. However, I don't think that's how it works with Python.

What's the best recommended way of pursuing this issue? ",django,python,foreign-key,inheritance,,,open,0,125,5,"Django Inheritance And Foreign Keys Basically, I have a model where I've created a superclass that many other classes share, and then each of those classes has some unique features that differ from each other. Let's say class A is the superclass, and class B, C, and D are children of that class.

Both class B and class C can have multiples of class D, however I've seen that it's best to put the foreign key relationship in class D, which then refers to its parent class. Now in other languages, I could simply say it has a ForeignKey relationship to class A, and then the language recognizes the classes' true type. However, I don't think that's how it works with Python.

What's the best recommended way of pursuing this issue? ",4
3901627,10/10/2010 18:36:56,471671,10/10/2010 18:26:39,1,0,Filtering related fields in django's annotate() feature,"The Django documentation gives examples for [using annotate() to produce aggregate results][1] based on related fields of a QuerySet (i.e., using joins in annotate()).

A simplified example from the docs is for instance `Store.objects.annotate(min_price=Min('books__price'))`, where books is a ManyToMany field of Store to Book and price is a field of Book.

To continue this example, how would I generate an annotated QuerySet of Store objects with the lowest prices not for all books in the store, but just for books with ""author='William Shakespeare'""?  In other words, how do I filter the related fields used to calculate the aggregate?

  [1]: http://docs.djangoproject.com/en/dev/topics/db/aggregation/#joins-and-aggregates",django,,,,,,open,0,100,7,"Filtering related fields in django's annotate() feature The Django documentation gives examples for [using annotate() to produce aggregate results][1] based on related fields of a QuerySet (i.e., using joins in annotate()).

A simplified example from the docs is for instance `Store.objects.annotate(min_price=Min('books__price'))`, where books is a ManyToMany field of Store to Book and price is a field of Book.

To continue this example, how would I generate an annotated QuerySet of Store objects with the lowest prices not for all books in the store, but just for books with ""author='William Shakespeare'""?  In other words, how do I filter the related fields used to calculate the aggregate?

  [1]: http://docs.djangoproject.com/en/dev/topics/db/aggregation/#joins-and-aggregates",1
1953058,12/23/2009 14:20:34,220129,11/27/2009 16:11:09,1,0,Django Forms save_m2m,"Hi I have a model which has 2 many to many fields in it.  one is a standard m2m field which does not use any through tables whereas the other is a bit more complecated and has  a through table.  I am using the Django forms.modelform to display and save the forms.  The code I have to save the form is

if form.is_valid():
            f = form.save(commit=False)
            f.modified_by = request.user
            f.save()
            form.save_m2m()

When i try to save the form I get the following error:

Cannot set values on a ManyToManyField which specifies an intermediary model.  

I know this is happening when I do the form.save_m2m() because of the through table.  What I'd liek to do is tell Django to ignore the m2m field with the through table but still save the m2m field without the through table.  I can then go on to manually save the data for the through table field.

Thanks ",django,forms,m2m,many-to-many,,,open,0,200,3,"Django Forms save_m2m Hi I have a model which has 2 many to many fields in it.  one is a standard m2m field which does not use any through tables whereas the other is a bit more complecated and has  a through table.  I am using the Django forms.modelform to display and save the forms.  The code I have to save the form is

if form.is_valid():
            f = form.save(commit=False)
            f.modified_by = request.user
            f.save()
            form.save_m2m()

When i try to save the form I get the following error:

Cannot set values on a ManyToManyField which specifies an intermediary model.  

I know this is happening when I do the form.save_m2m() because of the through table.  What I'd liek to do is tell Django to ignore the m2m field with the through table but still save the m2m field without the through table.  I can then go on to manually save the data for the through table field.

Thanks ",4
6836698,07/26/2011 21:13:20,635881,02/26/2011 20:34:03,1,0,Developing an online word processor,"I'm creating a site for writers and having a native web-app for the users to edit and collaborate on documents is critical for the service.

I realize there are a couple of very similar topics posted on here already, but none seem to address certain issues in the programming stages.

Clearly, for live editing and collaboration purposes, incredibly similar to Google Docs in that respect, there will to be JavaScript/AJAX development. I'm still learning JavaScript, but before I get too far, I'd like to get an idea of what is necessary to get something simple running.

I'm using Ubuntu, but that has no real bearing overall. I've seen that having an OpenOffice instance (LibreOffice for me) running in listener mode is one great way of making this work. I'm all for that, but not entirely sure how I'd transport the data (text & formatting) between the browser and the server LibreOffice instance.

Any help or suggestions would be appreciated.

Also, I'm developing the site in Django.",django,google-docs,word-processor,,,07/27/2011 06:00:36,not a real question,1,161,5,"Developing an online word processor I'm creating a site for writers and having a native web-app for the users to edit and collaborate on documents is critical for the service.

I realize there are a couple of very similar topics posted on here already, but none seem to address certain issues in the programming stages.

Clearly, for live editing and collaboration purposes, incredibly similar to Google Docs in that respect, there will to be JavaScript/AJAX development. I'm still learning JavaScript, but before I get too far, I'd like to get an idea of what is necessary to get something simple running.

I'm using Ubuntu, but that has no real bearing overall. I've seen that having an OpenOffice instance (LibreOffice for me) running in listener mode is one great way of making this work. I'm all for that, but not entirely sure how I'd transport the data (text & formatting) between the browser and the server LibreOffice instance.

Any help or suggestions would be appreciated.

Also, I'm developing the site in Django.",3
8068671,11/09/2011 17:03:50,463621,10/01/2010 07:41:02,2002,120,Django: is there a good italian documentation?,"I'm looking for some good italian documentation to make easier for my young colleagues to learn Django, but I found almost nothing.

Is there some good italian resource?
",django,django-documentation,documentation-italian,learning-resources,,11/10/2011 00:01:36,off topic,1,27,7,"Django: is there a good italian documentation? I'm looking for some good italian documentation to make easier for my young colleagues to learn Django, but I found almost nothing.

Is there some good italian resource?
",4
7898703,10/26/2011 04:21:03,875781,08/03/2011 02:37:45,9,0,How to upload an image and store its link in database,"I read some documents in Django site such as: [Basic file uploads][1] and  [FileField.storage][2]. However, I still don't understand how to upload a file (or an image) to server and store its link in database. I would like to write the files to the following directory such as: 'image/%Y/%m/%d'

Please give me a sample code. Thank you so much. 

My code follows as:

    #models.py
    class Image(models.Model):
       imageid = models.AutoField()
       title = models.CharField(max_length=100)
       imagepath = models.ImageField(upload_to='images/%Y/%m/%d/')       

    #forms.py
    class UploadFileForm(forms.Form):
       title = forms.CharField(max_length=100)
       image = forms.FileField()   

    #views.py
    def upload_file(request):
       if request.method == 'POST':
          form = UploadFileForm(request.POST, request.FILES)
          if form.is_valid():
             # How to upload file to folder named 'images/%Y/%m/%d/'

             # How to save the link above to database

             return HttpResponseRedirect('/success/url/')
       else:
          form = UploadFileForm()
    return render_to_response('upload.html', {'form': form})
    


  [1]: https://docs.djangoproject.com/en/1.3/topics/http/file-uploads/
  [2]: https://docs.djangoproject.com/en/1.3/ref/models/fields/#django.db.models.FileField.storage",django,django-models,django-forms,django-file-upload,,,open,0,271,11,"How to upload an image and store its link in database I read some documents in Django site such as: [Basic file uploads][1] and  [FileField.storage][2]. However, I still don't understand how to upload a file (or an image) to server and store its link in database. I would like to write the files to the following directory such as: 'image/%Y/%m/%d'

Please give me a sample code. Thank you so much. 

My code follows as:

    #models.py
    class Image(models.Model):
       imageid = models.AutoField()
       title = models.CharField(max_length=100)
       imagepath = models.ImageField(upload_to='images/%Y/%m/%d/')       

    #forms.py
    class UploadFileForm(forms.Form):
       title = forms.CharField(max_length=100)
       image = forms.FileField()   

    #views.py
    def upload_file(request):
       if request.method == 'POST':
          form = UploadFileForm(request.POST, request.FILES)
          if form.is_valid():
             # How to upload file to folder named 'images/%Y/%m/%d/'

             # How to save the link above to database

             return HttpResponseRedirect('/success/url/')
       else:
          form = UploadFileForm()
    return render_to_response('upload.html', {'form': form})
    


  [1]: https://docs.djangoproject.com/en/1.3/topics/http/file-uploads/
  [2]: https://docs.djangoproject.com/en/1.3/ref/models/fields/#django.db.models.FileField.storage",4
7289366,09/02/2011 21:25:47,417918,08/12/2010 02:29:37,50,0,django paginate threadedcomments,"Has anyone come up  with a way to paginate the comments in the threadedcomments app?  I am trying to use django-pagination in the following way:

    {% load pagination_tags %}

    {% get_comment_list for object as responses %}
  
    {% autopaginate responses %}
  
    {% for comment in responses|fill_tree|annotate_tree %}
        <display code here>

But I'm getting a complaint that: 'RequestContext' object has no attribute 'page'

I have gotten the autopaginate working on another page, so I'm sure the middleware is setup properly.  It just doesn't seem to want to play nicely with threadedcomments.

Are there any other methods out there anyone would suggest?  I'm sure this problem has been solved before.

Thanks",django,pagination,threaded-comments,,,09/04/2011 04:09:33,too localized,1,131,3,"django paginate threadedcomments Has anyone come up  with a way to paginate the comments in the threadedcomments app?  I am trying to use django-pagination in the following way:

    {% load pagination_tags %}

    {% get_comment_list for object as responses %}
  
    {% autopaginate responses %}
  
    {% for comment in responses|fill_tree|annotate_tree %}
        <display code here>

But I'm getting a complaint that: 'RequestContext' object has no attribute 'page'

I have gotten the autopaginate working on another page, so I'm sure the middleware is setup properly.  It just doesn't seem to want to play nicely with threadedcomments.

Are there any other methods out there anyone would suggest?  I'm sure this problem has been solved before.

Thanks",3
7212715,08/27/2011 05:41:51,886669,08/09/2011 19:51:39,97,2,Django annotate according to foreign field's attribute,"I normally use something like this ""Tag.object.annotate(num_post=Count('post')).filter(num_post__gt=2)"" to get tags with more than 2 posts. I want to get number of posts with a field value (e.g post.published=True) and annote over them so that I get tags with number of published posts bigger than some value. How would I do that?",django,model,,,,,open,0,51,7,"Django annotate according to foreign field's attribute I normally use something like this ""Tag.object.annotate(num_post=Count('post')).filter(num_post__gt=2)"" to get tags with more than 2 posts. I want to get number of posts with a field value (e.g post.published=True) and annote over them so that I get tags with number of published posts bigger than some value. How would I do that?",2
7518477,09/22/2011 16:49:14,20578,09/11/2008 10:52:31,12810,658,Django’s filter() method joins parameters using an AND statement. Is there an alternative that uses OR?,"I’m trying to write a Django query that returns objects that match *either* of two parameters.

If I do this:

    MyModel.objects.filter(parameter1=True, parameter2=True)

Then I only get objects that match *both* parameters.

What query can I use to select objects that match *either* parameter?",django,django-queries,,,,,open,0,43,16,"Django’s filter() method joins parameters using an AND statement. Is there an alternative that uses OR? I’m trying to write a Django query that returns objects that match *either* of two parameters.

If I do this:

    MyModel.objects.filter(parameter1=True, parameter2=True)

Then I only get objects that match *both* parameters.

What query can I use to select objects that match *either* parameter?",2
805047,04/30/2009 01:44:12,94633,04/22/2009 21:22:40,66,0,Is Django model validation handled just through the forms API?,Is this the only way to create custom model validation? To do it using the forms? What if I want to send data to the database through means other than forms?,django,django-models,,,,,open,0,31,10,Is Django model validation handled just through the forms API? Is this the only way to create custom model validation? To do it using the forms? What if I want to send data to the database through means other than forms?,2
1339845,08/27/2009 09:11:54,104824,05/11/2009 14:23:30,73,11,redirect on save,How can i redirect user to different app on save ?No,django,django-admin,,,,,open,0,11,3,redirect on save How can i redirect user to different app on save ?No,2
11268986,06/29/2012 21:08:48,255918,01/21/2010 15:28:16,4136,176,What is the correct exception when trying to create a Django record when only one record is allowed,"If it did make it all the way to the database, it's obviously an IntegrityError. However, if this is happening *before* it makes it to the database -- say, in a save method in a Manager class -- what would be the proper exception to raise?

Example:

    class MyManager(models.Manager):
        def create_from_user(self, user):
            try:
                existing = self.get(user=user)
                raise Exception(""There is already an object for this user."") # more specific exception needed
            except self.DoesNotExist:
                # begin creating the record

Because of the nature of the record, I do not want a get_or_create type situation (I want using this method when the record already exists to be a hard error that throws an Exception).

Assuming that I put unique constraints on my table, obviously eventually an IntegrityError would be thrown but I'd rather not rely on this and instead make this explicit in the code. But I'm not sure what exception is most accurate (or if I must roll my own).",django,exception,,,,,open,0,232,18,"What is the correct exception when trying to create a Django record when only one record is allowed If it did make it all the way to the database, it's obviously an IntegrityError. However, if this is happening *before* it makes it to the database -- say, in a save method in a Manager class -- what would be the proper exception to raise?

Example:

    class MyManager(models.Manager):
        def create_from_user(self, user):
            try:
                existing = self.get(user=user)
                raise Exception(""There is already an object for this user."") # more specific exception needed
            except self.DoesNotExist:
                # begin creating the record

Because of the nature of the record, I do not want a get_or_create type situation (I want using this method when the record already exists to be a hard error that throws an Exception).

Assuming that I put unique constraints on my table, obviously eventually an IntegrityError would be thrown but I'd rather not rely on this and instead make this explicit in the code. But I'm not sure what exception is most accurate (or if I must roll my own).",2
9474619,02/28/2012 00:31:18,566179,01/06/2011 22:35:05,520,7,Django - per-domain URLConf?,"I have two apps in my Django project: a public-facing app, and a management app (**not** django's built-in admin site). I want one domain name to point to the public site and another to point to the management site. (i.e. so the /index.html route, for example, would point to a view in a different app depending on the domain name.) Each app has its own URLconf and they are both being included into the main URLconf. What's the best way to do this? ",django,django-urls,,,,,open,0,84,4,"Django - per-domain URLConf? I have two apps in my Django project: a public-facing app, and a management app (**not** django's built-in admin site). I want one domain name to point to the public site and another to point to the management site. (i.e. so the /index.html route, for example, would point to a view in a different app depending on the domain name.) Each app has its own URLconf and they are both being included into the main URLconf. What's the best way to do this? ",2
5426031,03/24/2011 21:52:06,335084,05/07/2010 04:50:00,56,7,Django formset set current user,"Related to [this question][1], but expanding on it - How would I use this technique in a formset?

I'd like to use the current logged in user in a form, but I'm using the form in a formset. The referenced solution for a single form is to pass request.user to the form and process in init. How do I add to the kwargs for each form in the formset?

Example in my code:

in forms.py

    class NewStudentForm (forms.Form):
        username = forms.RegexField(label=_(""Username""), max_length=30, regex=r'^\w+$',
            help_text = _(""Required. 30 characters or fewer. Alphanumeric characters only (letters, digits and underscores).""),
            error_message = _(""This value must contain only letters, numbers and underscores.""))
        first_name = forms.CharField(label=_('first name'), max_length=30 )
        last_name = forms.CharField(label=_('last name'), max_length=30, )
        email = forms.EmailField(label=_('e-mail address') )
        password = forms.CharField(label=_('password'), max_length=64, )

        class Meta:
            model = User
            fields = (""username"",""first_name"", ""last_name"", ""email"", ""password"")

        def __init__(self, *args, **kwargs):
            self._user = kwargs.pop('user')
            super(NewStudentForm, self).__init__(*args, **kwargs)


        def save(self, commit=True):
            user = super(NewStudentForm, self).save(commit=False)
            user.set_password(self.cleaned_data[""password""])
            if commit:
                user.save()
                profile = Profile.objects.create_profile(user)
                profile.activiation_key = profile.ACTIVATED_KEY
                profile.authorized = True
                profile.save()
                user.is_active=True
                user.save()
                student = models.Student()
                student.user = user
                student.teacher = self._user
                student.plaintext_pwd = self.cleaned_data[""password""]
                student.save()
            return UserWarning

then in views.py

    @login_required
    def new_student(request):
        from django.forms.formsets import formset_factory
        try:
            if request.method == 'GET':
                newStudentFormset = formset_factory(forms.NewStudentForm, extra=2)
                formset = newStudentFormset()
                return shortcuts.render_to_response('NewStudent.html', { 'newStudentFormSet':formset, 'active_username': request.user.username })
            elif request.method == 'POST':
                if LOGIN_FORM_KEY in request.POST:
                    return _handle_login(request)
                data = request.POST.copy()
                newStudentFormset = formset_factory(forms.NewStudentForm)
                formset = newStudentFormset(data) ### Pass current user to formset? ###
                if formset.is_valid():
                    formset.save()
                    request.user.message_set.create(message=""Save successful."")
                    return shortcuts.redirect(student)
                else:
                    return shortcuts.render_to_response('NewStudent.html', { 'newStudentFormSet':formset, 'active_username': request.user.username, 'error_message':formset.errors})
            return http.HttpResponseNotAllowed(['GET', 'POST'])
        except models.Student.DoesNotExist:
            return http.HttpResponseNotFound('<h1>Requested Student not found</h1>')



  [1]: http://stackoverflow.com/questions/4141408/django-form-set-current-login-user",django,django-forms,django-views,,,,open,0,918,5,"Django formset set current user Related to [this question][1], but expanding on it - How would I use this technique in a formset?

I'd like to use the current logged in user in a form, but I'm using the form in a formset. The referenced solution for a single form is to pass request.user to the form and process in init. How do I add to the kwargs for each form in the formset?

Example in my code:

in forms.py

    class NewStudentForm (forms.Form):
        username = forms.RegexField(label=_(""Username""), max_length=30, regex=r'^\w+$',
            help_text = _(""Required. 30 characters or fewer. Alphanumeric characters only (letters, digits and underscores).""),
            error_message = _(""This value must contain only letters, numbers and underscores.""))
        first_name = forms.CharField(label=_('first name'), max_length=30 )
        last_name = forms.CharField(label=_('last name'), max_length=30, )
        email = forms.EmailField(label=_('e-mail address') )
        password = forms.CharField(label=_('password'), max_length=64, )

        class Meta:
            model = User
            fields = (""username"",""first_name"", ""last_name"", ""email"", ""password"")

        def __init__(self, *args, **kwargs):
            self._user = kwargs.pop('user')
            super(NewStudentForm, self).__init__(*args, **kwargs)


        def save(self, commit=True):
            user = super(NewStudentForm, self).save(commit=False)
            user.set_password(self.cleaned_data[""password""])
            if commit:
                user.save()
                profile = Profile.objects.create_profile(user)
                profile.activiation_key = profile.ACTIVATED_KEY
                profile.authorized = True
                profile.save()
                user.is_active=True
                user.save()
                student = models.Student()
                student.user = user
                student.teacher = self._user
                student.plaintext_pwd = self.cleaned_data[""password""]
                student.save()
            return UserWarning

then in views.py

    @login_required
    def new_student(request):
        from django.forms.formsets import formset_factory
        try:
            if request.method == 'GET':
                newStudentFormset = formset_factory(forms.NewStudentForm, extra=2)
                formset = newStudentFormset()
                return shortcuts.render_to_response('NewStudent.html', { 'newStudentFormSet':formset, 'active_username': request.user.username })
            elif request.method == 'POST':
                if LOGIN_FORM_KEY in request.POST:
                    return _handle_login(request)
                data = request.POST.copy()
                newStudentFormset = formset_factory(forms.NewStudentForm)
                formset = newStudentFormset(data) ### Pass current user to formset? ###
                if formset.is_valid():
                    formset.save()
                    request.user.message_set.create(message=""Save successful."")
                    return shortcuts.redirect(student)
                else:
                    return shortcuts.render_to_response('NewStudent.html', { 'newStudentFormSet':formset, 'active_username': request.user.username, 'error_message':formset.errors})
            return http.HttpResponseNotAllowed(['GET', 'POST'])
        except models.Student.DoesNotExist:
            return http.HttpResponseNotFound('<h1>Requested Student not found</h1>')



  [1]: http://stackoverflow.com/questions/4141408/django-form-set-current-login-user",3
7362013,09/09/2011 13:01:39,369060,03/16/2009 12:51:59,100,6,Install pycairo or py2cairo using buildout,"Does anyone have any experience with trying to install cairo for django using buildout?
It will install pycairo or py2cairo (the first is for python >3.0,  the latest is for python 2.6, which I Am using)

I found 2 recipes to use for installation, both of them gives me errors, in buildout.cfg I have them as 2 parts (of course tried them seperately, not thogether).
The errors are totally different, but the result is the same: I can't get cairo installed using buildout.......

based on: http://pypi.python.org/pypi/tl.buildout_gtk/

    [cairo_tl]
    recipe = tl.buildout_gtk
    #pycairo-url = http://cairographics.org/releases/py2cairo-1.10.0.tar.bz2
    pycairo-url =	http://cairographics.org/releases/py2cairo-1.8.10.tar.gz
    pycairo-md5sum = http://cairographics.org/releases/py2cairo-1.8.10.tar.gz.md5

based on: https://bitbucket.org/lgs/yaco.recipe.pycairo

    [cairo_yaco]  
    recipe = yaco.recipe.pycairo  
    find-links = http://pypi.python.org/pypi/yaco.recipe.pycairo/0.1.1  
    #find-links = http://pypi.python.org/pypi/yaco.recipe.pycairo/0.1  
    # pkg-config-path ?


Both need a local install of cairo (pycairo and py2cairo depend on this):
so use on the server: 

    sudo apt-get install libcairo2-dev

The part jusing tl.buildout_gtk:

Either using the py2cairo-1.10.0 or pycairo-1.8.2 gives me a MD5 checksum mismatch
(see for available releases: http://cairographics.org/releases/)
e.g:

    Error: MD5 checksum mismatch downloading 'http://cairographics.org/releases/py2cairo-1.10.0.tar.bz2'

or:

    Error: MD5 checksum mismatch downloading 'http://cairographics.org/releases/py2cairo-1.8.10.tar.gz'

The part jusing yaco:

I Am pretty sure this part is not configured correctly (pkg-config-path refering to the local cairo package), but I do not even get to that point.
It gives an error: 

    DistributionNotFound: zc.recipe.cmmi

However, this is installed in the eggs

By the way, I had the same kind of headache trying to install PIL by buildout, which I solved combining a lot of options and posts on the internet, together with a lot of time and trials and errors.
If anyone want to know how I finally got it working, just ask, and I will publish it.
(I consider myselve still a django starter, so I do not know for sure if anyone is interested in the solution)

PIL does not have all the options I found in cairo, so I started using cairo. On my local PC everything works fine (ubuntu desktop), on my server (Ubuntu server) I can't getting it to work......
Any other options for making drawings on the fly..... (like matplotlib...) let me know.",django,cairo,buildout,recipe,pycairo,,open,0,374,6,"Install pycairo or py2cairo using buildout Does anyone have any experience with trying to install cairo for django using buildout?
It will install pycairo or py2cairo (the first is for python >3.0,  the latest is for python 2.6, which I Am using)

I found 2 recipes to use for installation, both of them gives me errors, in buildout.cfg I have them as 2 parts (of course tried them seperately, not thogether).
The errors are totally different, but the result is the same: I can't get cairo installed using buildout.......

based on: http://pypi.python.org/pypi/tl.buildout_gtk/

    [cairo_tl]
    recipe = tl.buildout_gtk
    #pycairo-url = http://cairographics.org/releases/py2cairo-1.10.0.tar.bz2
    pycairo-url =	http://cairographics.org/releases/py2cairo-1.8.10.tar.gz
    pycairo-md5sum = http://cairographics.org/releases/py2cairo-1.8.10.tar.gz.md5

based on: https://bitbucket.org/lgs/yaco.recipe.pycairo

    [cairo_yaco]  
    recipe = yaco.recipe.pycairo  
    find-links = http://pypi.python.org/pypi/yaco.recipe.pycairo/0.1.1  
    #find-links = http://pypi.python.org/pypi/yaco.recipe.pycairo/0.1  
    # pkg-config-path ?


Both need a local install of cairo (pycairo and py2cairo depend on this):
so use on the server: 

    sudo apt-get install libcairo2-dev

The part jusing tl.buildout_gtk:

Either using the py2cairo-1.10.0 or pycairo-1.8.2 gives me a MD5 checksum mismatch
(see for available releases: http://cairographics.org/releases/)
e.g:

    Error: MD5 checksum mismatch downloading 'http://cairographics.org/releases/py2cairo-1.10.0.tar.bz2'

or:

    Error: MD5 checksum mismatch downloading 'http://cairographics.org/releases/py2cairo-1.8.10.tar.gz'

The part jusing yaco:

I Am pretty sure this part is not configured correctly (pkg-config-path refering to the local cairo package), but I do not even get to that point.
It gives an error: 

    DistributionNotFound: zc.recipe.cmmi

However, this is installed in the eggs

By the way, I had the same kind of headache trying to install PIL by buildout, which I solved combining a lot of options and posts on the internet, together with a lot of time and trials and errors.
If anyone want to know how I finally got it working, just ask, and I will publish it.
(I consider myselve still a django starter, so I do not know for sure if anyone is interested in the solution)

PIL does not have all the options I found in cairo, so I started using cairo. On my local PC everything works fine (ubuntu desktop), on my server (Ubuntu server) I can't getting it to work......
Any other options for making drawings on the fly..... (like matplotlib...) let me know.",5
10313828,04/25/2012 10:28:44,752102,05/13/2011 09:34:50,109,3,Django mod_wsgi and haystack = error 500,"I'm using Haystack on my Django project and all works well using django server. When I'm going to production, running on Apache, I receive an error 500; more precisely from the log:

    mod_wsgi (pid=4536): Exception occurred processing WSGI script '/opt/local/apache2/htdocs/meishi/meishi/wsgi.py'.

Before using Haystack on my project, I had no problems at all with mod_wsgi, all worked well.
What could be the problem?

",django,mod-wsgi,haystack,,,,open,0,63,7,"Django mod_wsgi and haystack = error 500 I'm using Haystack on my Django project and all works well using django server. When I'm going to production, running on Apache, I receive an error 500; more precisely from the log:

    mod_wsgi (pid=4536): Exception occurred processing WSGI script '/opt/local/apache2/htdocs/meishi/meishi/wsgi.py'.

Before using Haystack on my project, I had no problems at all with mod_wsgi, all worked well.
What could be the problem?

",3
5314734,03/15/2011 16:25:02,158304,08/18/2009 09:16:56,210,5,How to use Django's flatpages with multiple sites and the same url?,"I have 5 sites, each on their own domain, running under one django project. Currently all the sites have the same contact page, as provided by flatpages under the url `/contact/`. However it would be far nicer to create a contact page for each site, using the same url on each domain.

How can I achieve this with django's flatpages? (or should I look at something else?)",django,django-flatpages,,,,,open,0,66,12,"How to use Django's flatpages with multiple sites and the same url? I have 5 sites, each on their own domain, running under one django project. Currently all the sites have the same contact page, as provided by flatpages under the url `/contact/`. However it would be far nicer to create a contact page for each site, using the same url on each domain.

How can I achieve this with django's flatpages? (or should I look at something else?)",2
5566670,04/06/2011 12:53:48,775132,08/08/2010 18:02:18,32,3,django iis6 with pyisapie and sqlite3 on production server,"I am using django on windows 2003 Server SP2 and iis6 with pyisapi.
 
Now the question is:

Do you recommend using sqlite3 on this production server? 

Could you please also mention the advantages and disadvantages of using sqlite3 for usage on a deployment server in general and especially for windows 2003 Server.

Our Application is an order management tool, which needs 5 client accesses (not necessarily concurrent). It is only used in the intranet. For this purpose we have adjusted the admin interface for our purpose.

Thank you in advance !!",django,deployment,iis6,sqlite3,pyisapie,,open,0,88,9,"django iis6 with pyisapie and sqlite3 on production server I am using django on windows 2003 Server SP2 and iis6 with pyisapi.
 
Now the question is:

Do you recommend using sqlite3 on this production server? 

Could you please also mention the advantages and disadvantages of using sqlite3 for usage on a deployment server in general and especially for windows 2003 Server.

Our Application is an order management tool, which needs 5 client accesses (not necessarily concurrent). It is only used in the intranet. For this purpose we have adjusted the admin interface for our purpose.

Thank you in advance !!",5
8616311,12/23/2011 12:51:42,85140,03/31/2009 14:36:58,4246,193,What features and scenarios does the DjangoTestSuiteRunner class have?,"I have decided to write a [DjangoTestSuiteRunner][1] for [lettuce][2] just to learn and practice BDD and I am using lettuce itself to write the unit tests.
However, I am unsure what kind of scenarios and features a DjangoTestSuiteRunner have.  
You can just run it, run it with some options and that's about it?
Am I missing something here?  
Should I just write a scenario for each command line option that the lettuce script provides me?

  [1]: https://docs.djangoproject.com/en/dev/topics/testing/#defining-a-test-runner
  [2]: http://lettuce.it/index.html",django,bdd,lettuce,,,,open,0,81,9,"What features and scenarios does the DjangoTestSuiteRunner class have? I have decided to write a [DjangoTestSuiteRunner][1] for [lettuce][2] just to learn and practice BDD and I am using lettuce itself to write the unit tests.
However, I am unsure what kind of scenarios and features a DjangoTestSuiteRunner have.  
You can just run it, run it with some options and that's about it?
Am I missing something here?  
Should I just write a scenario for each command line option that the lettuce script provides me?

  [1]: https://docs.djangoproject.com/en/dev/topics/testing/#defining-a-test-runner
  [2]: http://lettuce.it/index.html",3
2442768,03/14/2010 16:14:10,21245,09/23/2008 16:54:17,1258,29,Django: How to dynamically add tag field to third party apps without touching app's source code,"Scenario: large project with many third party apps. Want to add tagging to those apps without having to modify the apps' source.

My first thought was to first specify a list of models in settings.py (like `['appname.modelname',]`, and  call django-tagging's `register` function on each of them. The register function adds a TagField and a custom manager to the specified model. The problem with that approach is that the function needs to run BEFORE the DB schema is generated.

I tried running the `register` function directly in `settings.py`, but I need `django.db.models.get_model` to get the actual model reference from only a string, and I can't seem to import that from `settings.py` - no matter what I try I get an ImportError. The `tagging.register` function imports OK however.

So I changed tactics and wrote a custom management command in an otherwise empty app. The problem there is that the only signal which hooks into syncdb is `post_syncdb` which is useless to me since it fires after the DB schema has been generated.

The only other approach I can think of at the moment is to generate and run a 'south' like database schema migration. This seems more like a hack than a solution.

This seems like it should be a pretty common need, but I haven't been able to find a clean solution.

So my question is: Is it possible to dynamically add fields to a model BEFORE the schema is generated, but more specifically, is it possible to add tagging to a third party model without editing it's source.

To clarify, I know it is possible to create and store Tags without having a TagField on the model, but there is a major flaw in that approach in that it is difficult to simultaneously create and tag a new model.",django,tagging,model,schema,dynamic,,open,0,293,16,"Django: How to dynamically add tag field to third party apps without touching app's source code Scenario: large project with many third party apps. Want to add tagging to those apps without having to modify the apps' source.

My first thought was to first specify a list of models in settings.py (like `['appname.modelname',]`, and  call django-tagging's `register` function on each of them. The register function adds a TagField and a custom manager to the specified model. The problem with that approach is that the function needs to run BEFORE the DB schema is generated.

I tried running the `register` function directly in `settings.py`, but I need `django.db.models.get_model` to get the actual model reference from only a string, and I can't seem to import that from `settings.py` - no matter what I try I get an ImportError. The `tagging.register` function imports OK however.

So I changed tactics and wrote a custom management command in an otherwise empty app. The problem there is that the only signal which hooks into syncdb is `post_syncdb` which is useless to me since it fires after the DB schema has been generated.

The only other approach I can think of at the moment is to generate and run a 'south' like database schema migration. This seems more like a hack than a solution.

This seems like it should be a pretty common need, but I haven't been able to find a clean solution.

So my question is: Is it possible to dynamically add fields to a model BEFORE the schema is generated, but more specifically, is it possible to add tagging to a third party model without editing it's source.

To clarify, I know it is possible to create and store Tags without having a TagField on the model, but there is a major flaw in that approach in that it is difficult to simultaneously create and tag a new model.",5
11400815,07/09/2012 18:20:42,1172989,01/27/2012 07:17:17,111,11,"Open Source customer review system in Django, or any other Python framework","I want to implement an opinion or customer review system, kind of Disqus, or comments for models in Django, with some extra work on processing this reviews. 
 
I have been googling and searching in github for hours, some platform for working with customer reviews, opinions or comments. 
Seems like there is a big controversy about comments native in Django. I have read many good, but many bad things so far. 

I am wondering if some of you guys know something similar to Disqus but open source. 

I am searching some open source platform, because there is a lot of work to do(in which actually I am working) based on processing the reviews and analyzing them and I wanted to cut off the time for developing from scratch the whole system for managing users and reviews, and focus on the text analytics part.  

Any opinion is welcomed! 
bests, 

Luchux.
",django,open-source,comments,disqus,reviews,07/10/2012 18:32:58,not constructive,1,150,12,"Open Source customer review system in Django, or any other Python framework I want to implement an opinion or customer review system, kind of Disqus, or comments for models in Django, with some extra work on processing this reviews. 
 
I have been googling and searching in github for hours, some platform for working with customer reviews, opinions or comments. 
Seems like there is a big controversy about comments native in Django. I have read many good, but many bad things so far. 

I am wondering if some of you guys know something similar to Disqus but open source. 

I am searching some open source platform, because there is a lot of work to do(in which actually I am working) based on processing the reviews and analyzing them and I wanted to cut off the time for developing from scratch the whole system for managing users and reviews, and focus on the text analytics part.  

Any opinion is welcomed! 
bests, 

Luchux.
",5
8540607,12/16/2011 21:53:07,92436,04/18/2009 05:20:37,323,5,How much slower is using .only() vs. .values()?,"I have been using mostly .values() to speed up my django queries. 

Recently I tried to use the .only() which I assumed is only slightly slower than values with the added benefit of not having to deal with dictionaries (e.g. key typos, no code auto-complete)

But it seems that in loading 1000 objects, .only() came up ~.5-1 second slower than if I were to use .values() that takes about 4s.

Have any of you experienced similar performance, and can anyone confirm or repudiate this observation?",django,,,,,,open,0,83,8,"How much slower is using .only() vs. .values()? I have been using mostly .values() to speed up my django queries. 

Recently I tried to use the .only() which I assumed is only slightly slower than values with the added benefit of not having to deal with dictionaries (e.g. key typos, no code auto-complete)

But it seems that in loading 1000 objects, .only() came up ~.5-1 second slower than if I were to use .values() that takes about 4s.

Have any of you experienced similar performance, and can anyone confirm or repudiate this observation?",1
