PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
8434853,12/08/2011 17:13:03,349184,05/24/2010 17:54:26,45,0,JPA - @OneToMany update,"Consider that there are two entities, Department and Employee, where in one department there are N employees.

In Departament:

    @OneToMany(mappedBy = ""department"", fetch = FetchType.EAGER)
    private Collection<Employee> employees = new ArrayList<Employee>();


In Employee:

    @ManyToOne(fetch = FetchType.EAGER)
    private Department department;

Everything works, but I would like to add employees to the department without set the inverse relationship. For example:


    // I will add two employees to a department
    department.getEmployees().add(employee1);
    department.getEmployees().add(employee2);
 
    // In fact, it is necessary to set the opposite side of the relationship
    employee1.setDepartment(department);
    employee2.setDepartment(department);
 
    entityManager.merge(department);      
    //...

So, my question is: is there some way (eg. by some annotation) that the JPA will understand that it should propagate the changes to the other side of the relationship without I explicit that? In other words, I would like to do only this:

    department.getEmployees().add(employee1);
    department.getEmployees().add(employee2);
    entityManager.merge(department);


Thanks a lot!",hibernate,jpa,annotations,one-to-many,,,open,0,185,4,"JPA - @OneToMany update Consider that there are two entities, Department and Employee, where in one department there are N employees.

In Departament:

    @OneToMany(mappedBy = ""department"", fetch = FetchType.EAGER)
    private Collection<Employee> employees = new ArrayList<Employee>();


In Employee:

    @ManyToOne(fetch = FetchType.EAGER)
    private Department department;

Everything works, but I would like to add employees to the department without set the inverse relationship. For example:


    // I will add two employees to a department
    department.getEmployees().add(employee1);
    department.getEmployees().add(employee2);
 
    // In fact, it is necessary to set the opposite side of the relationship
    employee1.setDepartment(department);
    employee2.setDepartment(department);
 
    entityManager.merge(department);      
    //...

So, my question is: is there some way (eg. by some annotation) that the JPA will understand that it should propagate the changes to the other side of the relationship without I explicit that? In other words, I would like to do only this:

    department.getEmployees().add(employee1);
    department.getEmployees().add(employee2);
    entityManager.merge(department);


Thanks a lot!",4
4964992,02/11/2011 02:17:15,69803,02/23/2009 08:38:02,2747,53,Can Hibernate design tables automatically,"I know that Hibernate can create tables automatically, if the mapping from the domain model to columns is specified.

I am interested to know if Hibernate can actually create/design the table schema based on the domain model as well. For example I have classes that often have properties that are variable length collections e.g. **Set** or **ArrayList** and I am curious to know how Hibernate would ""design"" the tables to fit these properties. But first I'd like to know if this is possible",hibernate,orm,,,,,open,0,82,5,"Can Hibernate design tables automatically I know that Hibernate can create tables automatically, if the mapping from the domain model to columns is specified.

I am interested to know if Hibernate can actually create/design the table schema based on the domain model as well. For example I have classes that often have properties that are variable length collections e.g. **Set** or **ArrayList** and I am curious to know how Hibernate would ""design"" the tables to fit these properties. But first I'd like to know if this is possible",2
9095911,02/01/2012 12:35:58,1182676,02/01/2012 12:30:21,1,0,how to map data from my jsf page with my database created in hibernate,I am creating an web application using integration of jsf-hibernate.I have to get data from user on my jsf page and perform database operations .I am not able to map my data with my database.Can u help me??,hibernate,jsf,,,,02/03/2012 01:54:33,not a real question,1,38,14,how to map data from my jsf page with my database created in hibernate I am creating an web application using integration of jsf-hibernate.I have to get data from user on my jsf page and perform database operations .I am not able to map my data with my database.Can u help me??,2
8539301,12/16/2011 19:40:45,28486,10/16/2008 07:01:04,619,4,"Speedup LocalSessionFactoryBean dropDatabaseSchema, createDatabaseSchema","I am wondering how I can speedup my unit tests.  I am using JUnit and before each test I am dropping the database schema and then recreating it.  Since my schema is somewhat large, this can take quite a long time considering I have over 1000 tests.

To give you an understanding of my setup:
  Spring 3 hibernate3.LocalSessionFactoryBean which is using the HSQL dialect.
  I am using the JUnit's Suite runner to run a list of classes.  

I noticed that Spring has a SpringJunit4ClassRunner that understands Transaction annotation, but not the suite annotations.  I got around this issue and now rollbacks are being attempted, but they seem to cause an infinite recursion which leads to a StackOverflow.

I'm relatively new to Spring and all it's magic, but I was just wondering if anyone has any ideas in regard to the StackOverflow, or any other ideas in speeding up the testing?

Maybe I could write to a file the clean state of the DB and continuously reload that after each test, though I'm not sure if this is possible.

Thanks in advance. 
",hibernate,spring,junit,hsqldb,,,open,0,184,4,"Speedup LocalSessionFactoryBean dropDatabaseSchema, createDatabaseSchema I am wondering how I can speedup my unit tests.  I am using JUnit and before each test I am dropping the database schema and then recreating it.  Since my schema is somewhat large, this can take quite a long time considering I have over 1000 tests.

To give you an understanding of my setup:
  Spring 3 hibernate3.LocalSessionFactoryBean which is using the HSQL dialect.
  I am using the JUnit's Suite runner to run a list of classes.  

I noticed that Spring has a SpringJunit4ClassRunner that understands Transaction annotation, but not the suite annotations.  I got around this issue and now rollbacks are being attempted, but they seem to cause an infinite recursion which leads to a StackOverflow.

I'm relatively new to Spring and all it's magic, but I was just wondering if anyone has any ideas in regard to the StackOverflow, or any other ideas in speeding up the testing?

Maybe I could write to a file the clean state of the DB and continuously reload that after each test, though I'm not sure if this is possible.

Thanks in advance. 
",4
2881160,05/21/2010 10:09:16,244129,01/05/2010 17:24:08,40,2,2 one-to-many instead of 1 many-to-many,"In Hibernate tutorial, chapter 25 best practices says we should use 2 one-to-many relationship instead of one many-to-many with an intermediate link class. 
I can't see what is the benefit of it : why is it better to create a 3d entity while the many-to-many can generate a join table that is acting as this intermediate link.
However this recommendation must be there for a good reason.

Can somebody explain the ground for this recommendation ?
Thank you.",hibernate,,,,,,open,0,75,6,"2 one-to-many instead of 1 many-to-many In Hibernate tutorial, chapter 25 best practices says we should use 2 one-to-many relationship instead of one many-to-many with an intermediate link class. 
I can't see what is the benefit of it : why is it better to create a 3d entity while the many-to-many can generate a join table that is acting as this intermediate link.
However this recommendation must be there for a good reason.

Can somebody explain the ground for this recommendation ?
Thank you.",1
6295692,06/09/2011 15:53:09,752462,05/13/2011 13:27:54,11,2,Hibernate Batch Fetching to Lazy Loading,"Currently, I observe in hbernate3, the following behavior.
if I have 
    @BatchSize(size=5)
set, then hibernate will fetch 5 subsets of the mapped type in one SQL query.

If I have 
    .setFetchMode( ""set"", FetchMode.JOIN );
, then hibernate will eagerly fetch all the subsets of the mapped type ina single SQL query.

However, when I set
    .setFetchMode( ""commands"", FetchMode.SELECT );
, then hibernate still uses batch fetching, and not lazy fetching.

Is there a way to force hibernate to use lazy fetching when 
    @BatchSize 
is set?",hibernate,lazy-loading,,,,,open,0,93,6,"Hibernate Batch Fetching to Lazy Loading Currently, I observe in hbernate3, the following behavior.
if I have 
    @BatchSize(size=5)
set, then hibernate will fetch 5 subsets of the mapped type in one SQL query.

If I have 
    .setFetchMode( ""set"", FetchMode.JOIN );
, then hibernate will eagerly fetch all the subsets of the mapped type ina single SQL query.

However, when I set
    .setFetchMode( ""commands"", FetchMode.SELECT );
, then hibernate still uses batch fetching, and not lazy fetching.

Is there a way to force hibernate to use lazy fetching when 
    @BatchSize 
is set?",2
8471364,12/12/2011 07:58:47,472795,10/11/2010 23:58:41,58,2,Spring roo binds the entity but the table is not mapped,"When I run my application I can clearly see that Hibernate has bound to the right table name, excepting the casing.

2011-12-11 23:47:54,594 [Scanner-2] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.tamiflu.entities.SurveyQuestionSurveyAnswer
2011-12-11 23:47:54,594 [Scanner-2] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.tamiflu.entities.SurveyQuestionSurveyAnswer on table surveyqa

The entity class is defined as:

    privileged aspect SurveyQuestionSurveyAnswer_Roo_Entity {

    declare @type: SurveyQuestionSurveyAnswer:@Entity;
    declare @type: SurveyQuestionSurveyAnswer:@Table(name = ""SURVEYQA"");

and: 

    @RooJavaBean
    @RooToString
    @RooEntity(identifierColumn = ""SURVEYQAID"", identifierType = Integer.class)
    public class SurveyQuestionSurveyAnswer {

it is trying to execute this:

    public static List<SurveyQuestionSurveyAnswer> SurveyQuestionSurveyAnswer.findAllSurveyQuestionSurveyAnswers() {
        return entityManager().createQuery(""SELECT o FROM SURVEYQA o"", SurveyQuestionSurveyAnswer.class).getResultList();
    }

And it says the following:

Caused by: org.hibernate.hql.ast.QuerySyntaxException: SURVEYQA is not mapped [SELECT o FROM SURVEYQA o]

The table exists in my oracle 10g db, with the right casing (all caps).

Why can't it find the mapping?

Also, my persistenceUnit is setup as such:

    <persistence-unit name=""persistenceUnitDev"" transaction-type=""RESOURCE_LOCAL"">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
        <properties>
            <!-- value=""create"" to build a new database on each run; value=""update"" to modify an existing database; value=""create-drop"" means the same as ""create"" but also drops tables when Hibernate closes; value=""validate"" makes no changes to the database -->
            <property name=""hibernate.ejb.naming_strategy"" value=""org.hibernate.cfg.ImprovedNamingStrategy""/>
            <property name=""hibernate.connection.charSet"" value=""UTF-8""/>
            <property name=""hibernate.connection.datasource"" value=""${jndiName}""/>
            <property name=""hibernate.dialect"" value=""${database.dialect}""/>
            <property name=""hibernate.connection.autocommit"" value=""true""/>
            <property name=""hibernate.connection.release_mode"" value=""after_transaction""/>
            <property name=""hibernate.connection.driver_class"" value=""${database.driverClassName}"" />
            <property name=""show_sql"" value=""true""/>
            <property name=""format_sql"" value=""true""/>
            <property name=""use_sql_comments"" value=""true""/>
            <!--DB schema will be updated if needed -->
            <property name=""hbm2ddl.auto"" value=""create""/>
        </properties>
    </persistence-unit>",hibernate,oracle10g,mapping,spring-roo,,02/22/2012 17:49:41,too localized,1,422,11,"Spring roo binds the entity but the table is not mapped When I run my application I can clearly see that Hibernate has bound to the right table name, excepting the casing.

2011-12-11 23:47:54,594 [Scanner-2] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.tamiflu.entities.SurveyQuestionSurveyAnswer
2011-12-11 23:47:54,594 [Scanner-2] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.tamiflu.entities.SurveyQuestionSurveyAnswer on table surveyqa

The entity class is defined as:

    privileged aspect SurveyQuestionSurveyAnswer_Roo_Entity {

    declare @type: SurveyQuestionSurveyAnswer:@Entity;
    declare @type: SurveyQuestionSurveyAnswer:@Table(name = ""SURVEYQA"");

and: 

    @RooJavaBean
    @RooToString
    @RooEntity(identifierColumn = ""SURVEYQAID"", identifierType = Integer.class)
    public class SurveyQuestionSurveyAnswer {

it is trying to execute this:

    public static List<SurveyQuestionSurveyAnswer> SurveyQuestionSurveyAnswer.findAllSurveyQuestionSurveyAnswers() {
        return entityManager().createQuery(""SELECT o FROM SURVEYQA o"", SurveyQuestionSurveyAnswer.class).getResultList();
    }

And it says the following:

Caused by: org.hibernate.hql.ast.QuerySyntaxException: SURVEYQA is not mapped [SELECT o FROM SURVEYQA o]

The table exists in my oracle 10g db, with the right casing (all caps).

Why can't it find the mapping?

Also, my persistenceUnit is setup as such:

    <persistence-unit name=""persistenceUnitDev"" transaction-type=""RESOURCE_LOCAL"">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
        <properties>
            <!-- value=""create"" to build a new database on each run; value=""update"" to modify an existing database; value=""create-drop"" means the same as ""create"" but also drops tables when Hibernate closes; value=""validate"" makes no changes to the database -->
            <property name=""hibernate.ejb.naming_strategy"" value=""org.hibernate.cfg.ImprovedNamingStrategy""/>
            <property name=""hibernate.connection.charSet"" value=""UTF-8""/>
            <property name=""hibernate.connection.datasource"" value=""${jndiName}""/>
            <property name=""hibernate.dialect"" value=""${database.dialect}""/>
            <property name=""hibernate.connection.autocommit"" value=""true""/>
            <property name=""hibernate.connection.release_mode"" value=""after_transaction""/>
            <property name=""hibernate.connection.driver_class"" value=""${database.driverClassName}"" />
            <property name=""show_sql"" value=""true""/>
            <property name=""format_sql"" value=""true""/>
            <property name=""use_sql_comments"" value=""true""/>
            <!--DB schema will be updated if needed -->
            <property name=""hbm2ddl.auto"" value=""create""/>
        </properties>
    </persistence-unit>",4
2691957,04/22/2010 15:03:40,101672,05/05/2009 15:40:20,378,26,Why Hibernates ignores the name attribute of the @Column annotation?,"Using Hibernate 3.3.1 and Hibernate Annotations 3.4, the database is DB2/400 V6R1, running that on WebSphere 7.0.0.9

I have the following class 

    @Entity
    public class Ciinvhd implements Serializable {
    	
    	
    	@Id
    	private String ihinse;
    
    	@Id
    	@Column(name=""IHINV#"")
    	private BigDecimal ihinv;
    
     ....
    
    }

For reasons I can't figure, Hibernate ignores the specified column name and uses 'ihinv' to generate the SQL:

    select
            ciinvhd0_.ihinse as ihinse13_,
            ciinvhd0_.ihinv as ihinv13_,
    ...
    
Which of course gives me the following error:

    Column IHINV not in table CIINVHD


Did anyone had this problem before? I have other entities that are very alike in the way that they are using # in their database field names and that are part of the PK and I don't have this problem with them. 

",hibernate,annotations,java,websphere,db2400,,open,0,203,10,"Why Hibernates ignores the name attribute of the @Column annotation? Using Hibernate 3.3.1 and Hibernate Annotations 3.4, the database is DB2/400 V6R1, running that on WebSphere 7.0.0.9

I have the following class 

    @Entity
    public class Ciinvhd implements Serializable {
    	
    	
    	@Id
    	private String ihinse;
    
    	@Id
    	@Column(name=""IHINV#"")
    	private BigDecimal ihinv;
    
     ....
    
    }

For reasons I can't figure, Hibernate ignores the specified column name and uses 'ihinv' to generate the SQL:

    select
            ciinvhd0_.ihinse as ihinse13_,
            ciinvhd0_.ihinv as ihinv13_,
    ...
    
Which of course gives me the following error:

    Column IHINV not in table CIINVHD


Did anyone had this problem before? I have other entities that are very alike in the way that they are using # in their database field names and that are part of the PK and I don't have this problem with them. 

",5
11273808,06/30/2012 11:44:36,731696,04/29/2011 19:48:52,671,9,"tomcat restart => Could not find a SessionFactory [uuid=...,name=null]","Continue solving [this situation][1], I've updated `hibernate` ond `sqljdbc4` `jars` and exception is changed now (please take a look bellow).

I'm using 

 - Hibernate v4.1.4 FINAL
 - JSF 2.1 (mojarra)
 - all my `@ManagedBeans` `implements Serializable`

It has some relation to `@ViewScoped`, because `@SessionScoped` beans are OK

**exception**:
    
    30.6.2012 13:29:07 org.apache.catalina.session.StandardManager doLoad
    SEVERE: IOException while loading persisted sessions: java.io.InvalidObjectException: Could not find a SessionFactory [uuid=f9c33312-cf7f-4f65-ae5f-44261705c18e,name=null]
    java.io.InvalidObjectException: Could not find a SessionFactory [uuid=f9c33312-cf7f-4f65-ae5f-44261705c18e,name=null]
    	at org.hibernate.internal.SessionFactoryImpl.locateSessionFactoryOnDeserialization(SessionFactoryImpl.java:2007)
    	at org.hibernate.internal.SessionFactoryImpl.deserialize(SessionFactoryImpl.java:2037)
    	at org.hibernate.internal.SessionImpl.readObject(SessionImpl.java:2092)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    	at java.lang.reflect.Method.invoke(Unknown Source)
    	at java.io.ObjectStreamClass.invokeReadObject(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.readObject(Unknown Source)
    	at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1595)
    	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1060)
    	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:284)
    	at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)
    	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5282)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
    	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    	at java.util.concurrent.FutureTask.run(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    	at java.lang.Thread.run(Unknown Source)

I've tried to edit my `hibernate.cfg.xml` file this way: 

    <session-factory name=""java:hibernate/SessionFactory"">

And the error reportd has been changed to:

    30.6.2012 13:38:23 org.apache.catalina.session.StandardManager startInternal
    SEVERE: Exception loading sessions from persistent storage
    java.lang.NullPointerException
    	at java.util.concurrent.ConcurrentHashMap.get(Unknown Source)
    	at org.hibernate.internal.SessionFactoryRegistry.getSessionFactory(SessionFactoryRegistry.java:140)
    	at org.hibernate.internal.SessionFactoryRegistry.getNamedSessionFactory(SessionFactoryRegistry.java:135)
    	at org.hibernate.internal.SessionFactoryImpl.locateSessionFactoryOnDeserialization(SessionFactoryImpl.java:2000)
    	at org.hibernate.internal.SessionFactoryImpl.deserialize(SessionFactoryImpl.java:2037)
    	at org.hibernate.internal.SessionImpl.readObject(SessionImpl.java:2092)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    	at java.lang.reflect.Method.invoke(Unknown Source)
    	at java.io.ObjectStreamClass.invokeReadObject(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.readObject(Unknown Source)
    	at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1595)
    	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1060)
    	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:284)
    	at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)
    	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5282)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
    	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    	at java.util.concurrent.FutureTask.run(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    	at java.lang.Thread.run(Unknown Source)

Don't you ever met with this error reports?

  [1]: http://stackoverflow.com/questions/6506476/java-lang-illegalstateexception-unread-block-data",hibernate,jsf,tomcat,jsf-2.0,,,open,0,545,9,"tomcat restart => Could not find a SessionFactory [uuid=...,name=null] Continue solving [this situation][1], I've updated `hibernate` ond `sqljdbc4` `jars` and exception is changed now (please take a look bellow).

I'm using 

 - Hibernate v4.1.4 FINAL
 - JSF 2.1 (mojarra)
 - all my `@ManagedBeans` `implements Serializable`

It has some relation to `@ViewScoped`, because `@SessionScoped` beans are OK

**exception**:
    
    30.6.2012 13:29:07 org.apache.catalina.session.StandardManager doLoad
    SEVERE: IOException while loading persisted sessions: java.io.InvalidObjectException: Could not find a SessionFactory [uuid=f9c33312-cf7f-4f65-ae5f-44261705c18e,name=null]
    java.io.InvalidObjectException: Could not find a SessionFactory [uuid=f9c33312-cf7f-4f65-ae5f-44261705c18e,name=null]
    	at org.hibernate.internal.SessionFactoryImpl.locateSessionFactoryOnDeserialization(SessionFactoryImpl.java:2007)
    	at org.hibernate.internal.SessionFactoryImpl.deserialize(SessionFactoryImpl.java:2037)
    	at org.hibernate.internal.SessionImpl.readObject(SessionImpl.java:2092)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    	at java.lang.reflect.Method.invoke(Unknown Source)
    	at java.io.ObjectStreamClass.invokeReadObject(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.readObject(Unknown Source)
    	at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1595)
    	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1060)
    	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:284)
    	at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)
    	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5282)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
    	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    	at java.util.concurrent.FutureTask.run(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    	at java.lang.Thread.run(Unknown Source)

I've tried to edit my `hibernate.cfg.xml` file this way: 

    <session-factory name=""java:hibernate/SessionFactory"">

And the error reportd has been changed to:

    30.6.2012 13:38:23 org.apache.catalina.session.StandardManager startInternal
    SEVERE: Exception loading sessions from persistent storage
    java.lang.NullPointerException
    	at java.util.concurrent.ConcurrentHashMap.get(Unknown Source)
    	at org.hibernate.internal.SessionFactoryRegistry.getSessionFactory(SessionFactoryRegistry.java:140)
    	at org.hibernate.internal.SessionFactoryRegistry.getNamedSessionFactory(SessionFactoryRegistry.java:135)
    	at org.hibernate.internal.SessionFactoryImpl.locateSessionFactoryOnDeserialization(SessionFactoryImpl.java:2000)
    	at org.hibernate.internal.SessionFactoryImpl.deserialize(SessionFactoryImpl.java:2037)
    	at org.hibernate.internal.SessionImpl.readObject(SessionImpl.java:2092)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    	at java.lang.reflect.Method.invoke(Unknown Source)
    	at java.io.ObjectStreamClass.invokeReadObject(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.defaultReadFields(Unknown Source)
    	at java.io.ObjectInputStream.readSerialData(Unknown Source)
    	at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    	at java.io.ObjectInputStream.readObject0(Unknown Source)
    	at java.io.ObjectInputStream.readObject(Unknown Source)
    	at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1595)
    	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1060)
    	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:284)
    	at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)
    	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5282)
    	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
    	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
    	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    	at java.util.concurrent.FutureTask.run(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    	at java.lang.Thread.run(Unknown Source)

Don't you ever met with this error reports?

  [1]: http://stackoverflow.com/questions/6506476/java-lang-illegalstateexception-unread-block-data",4
10380680,04/30/2012 08:34:44,368907,07/11/2009 08:04:20,343,5,JPA Hibernate MappingException: Unknown entity,"I have createa simple CRUD application utilize JPA and Hibernate. 


I have entity annotated JPA javax.persistence.@entity annotation and hibernate configuration file (hibernate.cfg.xml).

I do not have hibernate mapping file and persistence.xml. 

Any problem. 

Please help. 

",hibernate,jpa,mapping,,,,open,0,35,5,"JPA Hibernate MappingException: Unknown entity I have createa simple CRUD application utilize JPA and Hibernate. 


I have entity annotated JPA javax.persistence.@entity annotation and hibernate configuration file (hibernate.cfg.xml).

I do not have hibernate mapping file and persistence.xml. 

Any problem. 

Please help. 

",3
5277285,03/11/2011 19:12:52,634003,02/25/2011 11:12:43,6,1,Exception during hibernate saveupdate org.hibernate.TransientObjectException:,"Hi i have hibernate mapping like this 
	class name=""com.example.Company""
		table=""user"">	

    <many-to-one 
    			class=""com.example.Organization"" fetch=""join""
    			name=""consumer"" lazy=""false"" not-null=""false"">
    			<column name=""ORGANIZATION_ID"" />
    		</many-to-one>
    		<many-to-one 
    			class=""com.example.Organization"" fetch=""join""
    			name=""supplier"" lazy=""false"">
    			<column name=""ORGANIZATION"" not-null=""false""/>
    		</many-to-one>

Before save update my database is something like this

company table

    COMPANY   ORGANIZATION_ID ORGAIZATION
    1             4            NULL

    organization table
    
    id   name
    4     xxxx

now my problem is when I try to do saveorupdate org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.example.Organization.

I used cascade=all but every time when i save update it creates new row in organization table hence i removed cascade =all

when i was using casade =all it was working but it does something like this

    company table
    COMPANY   ORGANIZATION_ID ORGAIZATION
    1             4            5

organization table

    organizationid name
    4               xxxx
    5              nulll

it creates null. How can i solve this problem.?





",hibernate,,,,,,open,0,283,5,"Exception during hibernate saveupdate org.hibernate.TransientObjectException: Hi i have hibernate mapping like this 
	class name=""com.example.Company""
		table=""user"">	

    <many-to-one 
    			class=""com.example.Organization"" fetch=""join""
    			name=""consumer"" lazy=""false"" not-null=""false"">
    			<column name=""ORGANIZATION_ID"" />
    		</many-to-one>
    		<many-to-one 
    			class=""com.example.Organization"" fetch=""join""
    			name=""supplier"" lazy=""false"">
    			<column name=""ORGANIZATION"" not-null=""false""/>
    		</many-to-one>

Before save update my database is something like this

company table

    COMPANY   ORGANIZATION_ID ORGAIZATION
    1             4            NULL

    organization table
    
    id   name
    4     xxxx

now my problem is when I try to do saveorupdate org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.example.Organization.

I used cascade=all but every time when i save update it creates new row in organization table hence i removed cascade =all

when i was using casade =all it was working but it does something like this

    company table
    COMPANY   ORGANIZATION_ID ORGAIZATION
    1             4            5

organization table

    organizationid name
    4               xxxx
    5              nulll

it creates null. How can i solve this problem.?





",1
5094829,02/23/2011 17:52:54,562230,01/04/2011 08:01:34,6,1,org.hibernate.exception.DataException: could not initialize a collection,"When I try to access my collection (List) the following way, I get the following error, even though I do it within same UserTransaction.
:::
EntityAccessorException: org.hibernate.exception.DataException: could not initialize a collection
:::
Caused by: org.hibernate.exception.DataException: could not initialize a collection: 
:::

                        List<Brand> brands = fullTextQuery.getResultList();
			for (Brand b : brands) {

				Iterator<BrandPromoDetails> i2 = b.getBrandPromoDetails()
						.iterator();

				while (i2.hasNext()) {

					BrandPromoDetails bpd = i2.next();

====================================================================================

Whereas, when I change it to as follws, it works. My database is Derby and I am using Hibernate as JPA provider and using Hibernate Search. It would be great if anyone can provide an explanation of this behavior.

List<Brand> brands = fullTextQuery.getResultList();
					
					for (Brand b : brands) {

						@SuppressWarnings(""unchecked"")
						List<BrandPromoDetails> i2 = em.createQuery(""select x from BrandPromoDetails as x where BPDBRAND_ID = ?1"")
							.setParameter(1, b.getId())
							.getResultList();
						
						for (BrandPromoDetails bpd : i2) {",hibernate,lazy,,,,,open,0,142,6,"org.hibernate.exception.DataException: could not initialize a collection When I try to access my collection (List) the following way, I get the following error, even though I do it within same UserTransaction.
:::
EntityAccessorException: org.hibernate.exception.DataException: could not initialize a collection
:::
Caused by: org.hibernate.exception.DataException: could not initialize a collection: 
:::

                        List<Brand> brands = fullTextQuery.getResultList();
			for (Brand b : brands) {

				Iterator<BrandPromoDetails> i2 = b.getBrandPromoDetails()
						.iterator();

				while (i2.hasNext()) {

					BrandPromoDetails bpd = i2.next();

====================================================================================

Whereas, when I change it to as follws, it works. My database is Derby and I am using Hibernate as JPA provider and using Hibernate Search. It would be great if anyone can provide an explanation of this behavior.

List<Brand> brands = fullTextQuery.getResultList();
					
					for (Brand b : brands) {

						@SuppressWarnings(""unchecked"")
						List<BrandPromoDetails> i2 = em.createQuery(""select x from BrandPromoDetails as x where BPDBRAND_ID = ?1"")
							.setParameter(1, b.getId())
							.getResultList();
						
						for (BrandPromoDetails bpd : i2) {",2
6166191,05/29/2011 05:50:30,707724,06/17/2010 11:34:21,19,0,What is managed and unmanaged environment mean in hibernate?,"I'm new to hibernate.
Can anybody explain me what it means when we say, 'Hibernate works in managed and unmanaged environment'?

What is managed and unmanaged environment mean?


Thanks in advance,

-Uday",hibernate,,,,,,open,0,28,9,"What is managed and unmanaged environment mean in hibernate? I'm new to hibernate.
Can anybody explain me what it means when we say, 'Hibernate works in managed and unmanaged environment'?

What is managed and unmanaged environment mean?


Thanks in advance,

-Uday",1
8734424,01/04/2012 21:37:48,1006878,10/21/2011 10:15:05,21,0,Granularity in Hibernate,"Can anybody please explain me the term 'Problem of Granularity' in Hibernate? I'm new to Hibernate & i appreciate any suggestion/advice/opinion regarding this.

Thanks,
Sourav",hibernate,,,,,01/05/2012 14:50:11,not a real question,1,23,3,"Granularity in Hibernate Can anybody please explain me the term 'Problem of Granularity' in Hibernate? I'm new to Hibernate & i appreciate any suggestion/advice/opinion regarding this.

Thanks,
Sourav",1
9272838,02/14/2012 06:50:38,1208477,02/14/2012 06:43:50,1,0,Want help to fetch data from 3 tables in 1:* association using hibernate criteria,"I want to fetch data from 3 tables in 1:* association having join table in between shown below-

Table ProductCategory ==>J Table ProductCategory_Product ==> Table Product ==> J Table Product_ProdSpec ==> Table ProdSpec

Now I want to retrieve record based on Product Specification and show it in HTML table.

I have used hibernate Criteria query for that as follows-

    Session session = HibernateUtil.getSessionFactory().openSession();
    Criteria offerCriteria = session.createCriteria(ProductCategory.class)
    .createAlias(""productList"",""productList"")
    .createAlias(""productList.prodSpecList"",""prodSpecList"")
    .add(Restrictions.like(""prodSpecList.prodSpecDesc"", ""%dual Sim%""))
    .setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);
    
    List list = offerCriteria.list();

Hibernate is creating following queries -

Hibernate: select this_.productCategoryNumber as productC1_0_2_, this_.ProductCategoryType as ProductC2_0_2_, productlis4_.productCategoryNumber as productC1_0_, productlis1_.productNumber as productN2_, productlis1_.productNumber as productN1_1_0_, productlis1_.productCompanyName as productC2_1_0_, prodspecli6_.productNumber as productN1_1_, prodspecli2_.prodSpecNumber as prodSpec2_, prodspecli2_.prodSpecNumber as prodSpec1_2_1_, prodspecli2_.prodSpecDesc as prodSpec2_2_1_ from ProductCategory this_ inner join ProductCategory_Product productlis4_ on this_.productCategoryNumber=productlis4_.productCategoryNumber inner join Product productlis1_ on productlis4_.productNumber=productlis1_.productNumber inner join Product_ProdSpec prodspecli6_ on productlis1_.productNumber=prodspecli6_.productNumber inner join ProdSpec prodspecli2_ on prodspecli6_.prodSpecNumber=prodspecli2_.prodSpecNumber where prodspecli2_.prodSpecDesc like ?
Hibernate: select productlis0_.productCategoryNumber as productC1_0_1_, productlis0_.productNumber as productN2_1_, product1_.productNumber as productN1_1_0_, product1_.productCompanyName as productC2_1_0_ from ProductCategory_Product productlis0_ inner join Product product1_ on productlis0_.productNumber=product1_.productNumber where productlis0_.productCategoryNumber=?
Hibernate: select prodspecli0_.productNumber as productN1_1_1_, prodspecli0_.prodSpecNumber as prodSpec2_1_, prodspec1_.prodSpecNumber as prodSpec1_2_0_, prodspec1_.prodSpecDesc as prodSpec2_2_0_ from Product_ProdSpec prodspecli0_ inner join ProdSpec prodspec1_ on prodspecli0_.prodSpecNumber=prodspec1_.prodSpecNumber where prodspecli0_.productNumber=?
Hibernate: select prodspecli0_.productNumber as productN1_1_1_, prodspecli0_.prodSpecNumber as prodSpec2_1_, prodspec1_.prodSpecNumber as prodSpec1_2_0_, prodspec1_.prodSpecDesc as prodSpec2_2_0_ from Product_ProdSpec prodspecli0_ inner join ProdSpec prodspec1_ on prodspecli0_.prodSpecNumber=prodspec1_.prodSpecNumber where prodspecli0_.productNumber=?
Hibernate: select prodspecli0_.productNumber as productN1_1_1_, prodspecli0_.prodSpecNumber as prodSpec2_1_, prodspec1_.prodSpecNumber as prodSpec1_2_0_, prodspec1_.prodSpecDesc as prodSpec2_2_0_ from Product_ProdSpec prodspecli0_ inner join ProdSpec prodspec1_ on prodspecli0_.prodSpecNumber=prodspec1_.prodSpecNumber where prodspecli0_.productNumber=?

and it is returning following result.

productCategoryType :- Mobile[productCompanyName :- Samsung prodSpecList :- [GPS navigation, music (MP3), video (MP4) playback, dual Sim, video calling, built-in cameras, games, office, Bluetooth, WiFi, instant messaging, Internet, e-mail, browsing], productCompanyName :- LG prodSpecList :- [GPS navigation, video (MP4) playback, video calling, games, Bluetooth, instant messaging, e-mail], productCompanyName :- Sony prodSpecList :- [music (MP3), dual Sim, built-in cameras, office, WiFi, Internet, browsing]]

I have following queries - 

**1) Why it is creating too much queries as only 1st query is sufficient and ok?
2) Why it is returning all data? Whether all queries get fired in data base?
3) Please give me code sample to use?**
",hibernate,,,,,,open,0,368,14,"Want help to fetch data from 3 tables in 1:* association using hibernate criteria I want to fetch data from 3 tables in 1:* association having join table in between shown below-

Table ProductCategory ==>J Table ProductCategory_Product ==> Table Product ==> J Table Product_ProdSpec ==> Table ProdSpec

Now I want to retrieve record based on Product Specification and show it in HTML table.

I have used hibernate Criteria query for that as follows-

    Session session = HibernateUtil.getSessionFactory().openSession();
    Criteria offerCriteria = session.createCriteria(ProductCategory.class)
    .createAlias(""productList"",""productList"")
    .createAlias(""productList.prodSpecList"",""prodSpecList"")
    .add(Restrictions.like(""prodSpecList.prodSpecDesc"", ""%dual Sim%""))
    .setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);
    
    List list = offerCriteria.list();

Hibernate is creating following queries -

Hibernate: select this_.productCategoryNumber as productC1_0_2_, this_.ProductCategoryType as ProductC2_0_2_, productlis4_.productCategoryNumber as productC1_0_, productlis1_.productNumber as productN2_, productlis1_.productNumber as productN1_1_0_, productlis1_.productCompanyName as productC2_1_0_, prodspecli6_.productNumber as productN1_1_, prodspecli2_.prodSpecNumber as prodSpec2_, prodspecli2_.prodSpecNumber as prodSpec1_2_1_, prodspecli2_.prodSpecDesc as prodSpec2_2_1_ from ProductCategory this_ inner join ProductCategory_Product productlis4_ on this_.productCategoryNumber=productlis4_.productCategoryNumber inner join Product productlis1_ on productlis4_.productNumber=productlis1_.productNumber inner join Product_ProdSpec prodspecli6_ on productlis1_.productNumber=prodspecli6_.productNumber inner join ProdSpec prodspecli2_ on prodspecli6_.prodSpecNumber=prodspecli2_.prodSpecNumber where prodspecli2_.prodSpecDesc like ?
Hibernate: select productlis0_.productCategoryNumber as productC1_0_1_, productlis0_.productNumber as productN2_1_, product1_.productNumber as productN1_1_0_, product1_.productCompanyName as productC2_1_0_ from ProductCategory_Product productlis0_ inner join Product product1_ on productlis0_.productNumber=product1_.productNumber where productlis0_.productCategoryNumber=?
Hibernate: select prodspecli0_.productNumber as productN1_1_1_, prodspecli0_.prodSpecNumber as prodSpec2_1_, prodspec1_.prodSpecNumber as prodSpec1_2_0_, prodspec1_.prodSpecDesc as prodSpec2_2_0_ from Product_ProdSpec prodspecli0_ inner join ProdSpec prodspec1_ on prodspecli0_.prodSpecNumber=prodspec1_.prodSpecNumber where prodspecli0_.productNumber=?
Hibernate: select prodspecli0_.productNumber as productN1_1_1_, prodspecli0_.prodSpecNumber as prodSpec2_1_, prodspec1_.prodSpecNumber as prodSpec1_2_0_, prodspec1_.prodSpecDesc as prodSpec2_2_0_ from Product_ProdSpec prodspecli0_ inner join ProdSpec prodspec1_ on prodspecli0_.prodSpecNumber=prodspec1_.prodSpecNumber where prodspecli0_.productNumber=?
Hibernate: select prodspecli0_.productNumber as productN1_1_1_, prodspecli0_.prodSpecNumber as prodSpec2_1_, prodspec1_.prodSpecNumber as prodSpec1_2_0_, prodspec1_.prodSpecDesc as prodSpec2_2_0_ from Product_ProdSpec prodspecli0_ inner join ProdSpec prodspec1_ on prodspecli0_.prodSpecNumber=prodspec1_.prodSpecNumber where prodspecli0_.productNumber=?

and it is returning following result.

productCategoryType :- Mobile[productCompanyName :- Samsung prodSpecList :- [GPS navigation, music (MP3), video (MP4) playback, dual Sim, video calling, built-in cameras, games, office, Bluetooth, WiFi, instant messaging, Internet, e-mail, browsing], productCompanyName :- LG prodSpecList :- [GPS navigation, video (MP4) playback, video calling, games, Bluetooth, instant messaging, e-mail], productCompanyName :- Sony prodSpecList :- [music (MP3), dual Sim, built-in cameras, office, WiFi, Internet, browsing]]

I have following queries - 

**1) Why it is creating too much queries as only 1st query is sufficient and ok?
2) Why it is returning all data? Whether all queries get fired in data base?
3) Please give me code sample to use?**
",1
3071054,06/18/2010 15:39:21,312619,04/09/2010 08:36:05,1,0,JSF HIBERNATE POSTGRESQL,"When I press ""Save"" button I get an exception like that ;



javax.servlet.ServletException: org.hibernate.exception.JDBCConnectionException: Cannot open connection
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:325)

root cause

javax.faces.el.EvaluationException: org.hibernate.exception.JDBCConnectionException: Cannot open connection
 javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:102)
 com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
 javax.faces.component.UICommand.broadcast(UICommand.java:315)
 javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
 javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
 com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
 com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
 com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)

root cause

org.hibernate.exception.JDBCConnectionException: Cannot open connection
 org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:98)
 org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
 org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)
 org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)
 org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)
 org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)
 org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)
 org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:344)
 $Proxy108.beginTransaction(Unknown Source)
 com.yemex.beans.CompanyBean.saveOrUpdate(CompanyBean.java:52)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.apache.el.parser.AstValue.invoke(AstValue.java:196)
 org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276)
 com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:98)
 javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
 com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
 javax.faces.component.UICommand.broadcast(UICommand.java:315)
 javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
 javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
 com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
 com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
 com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)

root cause

java.sql.SQLException: No suitable driver found for jdbc:postgresql://localhost/postgres
 java.sql.DriverManager.getConnection(Unknown Source)
 java.sql.DriverManager.getConnection(Unknown Source)
 org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:133)
 org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)
 org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)
 org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)
 org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)
 org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:344)
 $Proxy108.beginTransaction(Unknown Source)
 com.yemex.beans.CompanyBean.saveOrUpdate(CompanyBean.java:52)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.apache.el.parser.AstValue.invoke(AstValue.java:196)
 org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276)
 com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:98)
 javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
 com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
 javax.faces.component.UICommand.broadcast(UICommand.java:315)
 javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
 javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
 com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
 com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
 com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)
",hibernate,postgresql,jsf,,,,open,0,124,3,"JSF HIBERNATE POSTGRESQL When I press ""Save"" button I get an exception like that ;



javax.servlet.ServletException: org.hibernate.exception.JDBCConnectionException: Cannot open connection
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:325)

root cause

javax.faces.el.EvaluationException: org.hibernate.exception.JDBCConnectionException: Cannot open connection
 javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:102)
 com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
 javax.faces.component.UICommand.broadcast(UICommand.java:315)
 javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
 javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
 com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
 com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
 com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)

root cause

org.hibernate.exception.JDBCConnectionException: Cannot open connection
 org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:98)
 org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
 org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)
 org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)
 org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)
 org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)
 org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)
 org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:344)
 $Proxy108.beginTransaction(Unknown Source)
 com.yemex.beans.CompanyBean.saveOrUpdate(CompanyBean.java:52)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.apache.el.parser.AstValue.invoke(AstValue.java:196)
 org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276)
 com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:98)
 javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
 com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
 javax.faces.component.UICommand.broadcast(UICommand.java:315)
 javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
 javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
 com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
 com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
 com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)

root cause

java.sql.SQLException: No suitable driver found for jdbc:postgresql://localhost/postgres
 java.sql.DriverManager.getConnection(Unknown Source)
 java.sql.DriverManager.getConnection(Unknown Source)
 org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:133)
 org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)
 org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)
 org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)
 org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)
 org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:344)
 $Proxy108.beginTransaction(Unknown Source)
 com.yemex.beans.CompanyBean.saveOrUpdate(CompanyBean.java:52)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 java.lang.reflect.Method.invoke(Unknown Source)
 org.apache.el.parser.AstValue.invoke(AstValue.java:196)
 org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276)
 com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:98)
 javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
 com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
 javax.faces.component.UICommand.broadcast(UICommand.java:315)
 javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
 javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
 com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
 com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
 com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
 javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)
",3
5257743,03/10/2011 09:33:48,651052,03/09/2011 06:47:11,16,0,i get this error .. org.hibernate.MappingException ?,"This is weird but, i get this error  while trying to insert into a table through hibernate. Thing is.. i was able to insert properly in the beginning when i developed it. after a while i get this kind of error where i cant insert nor can i access the table rows. I have observed that sometimes it mapps and sometimes it doesnt(random way). Is there some property i need to set? or something like that?

PS: when i clean my project in Myeclipse it works sometimes and sometimes it doesnt. ",hibernate,,,,,,open,0,92,7,"i get this error .. org.hibernate.MappingException ? This is weird but, i get this error  while trying to insert into a table through hibernate. Thing is.. i was able to insert properly in the beginning when i developed it. after a while i get this kind of error where i cant insert nor can i access the table rows. I have observed that sometimes it mapps and sometimes it doesnt(random way). Is there some property i need to set? or something like that?

PS: when i clean my project in Myeclipse it works sometimes and sometimes it doesnt. ",1
3203018,07/08/2010 11:24:00,381737,07/02/2010 05:07:52,11,0,"hello friends i am using jsf 2.0, spring, hibernate and i need to implement AOP but i am totally new to it  can anybody help me??","hello friends i am using jsf 2.0, spring, hibernate and i need to implement AOP but i am totally new to it

can anybody help me??",hibernate,spring,jsf2,spring-aop,,07/11/2010 02:43:19,not a real question,1,25,27,"hello friends i am using jsf 2.0, spring, hibernate and i need to implement AOP but i am totally new to it  can anybody help me?? hello friends i am using jsf 2.0, spring, hibernate and i need to implement AOP but i am totally new to it

can anybody help me??",4
5815283,04/28/2011 07:39:46,728798,04/28/2011 07:39:46,1,0,JPA 2.0 / Hibernate custom join clause on association,"I would like to associate 2 entities using hibernate or JPA 2.0 annotations with a custom join clause. The clause is not the usual FK/PK equality. In SQL this would be something like this:

    join b on a.id = 1000 * b.a_id

is it possible to annotate such a custom join where clause and to ignore the default one 

    join b on a.id = b.a_id",hibernate,jpa,join,where-clause,,,open,0,71,9,"JPA 2.0 / Hibernate custom join clause on association I would like to associate 2 entities using hibernate or JPA 2.0 annotations with a custom join clause. The clause is not the usual FK/PK equality. In SQL this would be something like this:

    join b on a.id = 1000 * b.a_id

is it possible to annotate such a custom join where clause and to ignore the default one 

    join b on a.id = b.a_id",4
4510861,12/22/2010 15:46:20,175976,09/19/2009 16:57:18,507,21,How can I find the jdbc connection timeout of a hibernate session,"I currently have a long running thread which uses a hibernate session to perform many updates.  We currently have our c3p0 connection timeout set to 20 minutes and it's timing out sometimes because of the number of updates we're performing.  

The solution I have is to periodically return the connection to the pool via closing the session (we have hibernate configured this way) and get a new one.  Upping the timeout is not desirable because the same pool is used for the entire application.

The problem is I don't know when to return the connection to the pool because I don't know what the timeout of the connection is.  I know what the current setting is in our property file, but that can be changed without my knowledge at any time so it's fragile.  Having a counter and returning the connection based on the number of updates I've performed is not ideal but could be my option of last resort.  

I have a hibernate session, how can I retrieve the connection timeout of the jdbc connection which backs the session?  Using the SessionFactory and SessionFactoryImpl classes are perfectly acceptable.",hibernate,jdbc,,,,,open,0,195,12,"How can I find the jdbc connection timeout of a hibernate session I currently have a long running thread which uses a hibernate session to perform many updates.  We currently have our c3p0 connection timeout set to 20 minutes and it's timing out sometimes because of the number of updates we're performing.  

The solution I have is to periodically return the connection to the pool via closing the session (we have hibernate configured this way) and get a new one.  Upping the timeout is not desirable because the same pool is used for the entire application.

The problem is I don't know when to return the connection to the pool because I don't know what the timeout of the connection is.  I know what the current setting is in our property file, but that can be changed without my knowledge at any time so it's fragile.  Having a counter and returning the connection based on the number of updates I've performed is not ideal but could be my option of last resort.  

I have a hibernate session, how can I retrieve the connection timeout of the jdbc connection which backs the session?  Using the SessionFactory and SessionFactoryImpl classes are perfectly acceptable.",2
10801181,05/29/2012 14:28:26,189992,10/14/2009 16:20:35,1850,159,Hibernate manytomany @JoinTable + @SecondaryTable duplicate entries,"I have a relation of type `@ManyToMany` with a `@JoinTable` association.

The thing is that the entity in the relation has its own table, but a couple of properties should go to the association table.

Adding the `@SecondaryTable` duplicate.

    @Entity
    @Table(name = ""A"")
    class A {
        @ManyToMany(fetch = FetchType.LAZY)
        @JoinTable(name = ""A_B"", joinColumns = {@JoinColumn(name = ""A_ID"")}, inverseJoinColumns = {@JoinColumn(name = ""B_ID"")})
        private List<B> bs = new ArrayList<B>();
    }

    @Entity
    @Table(name = ""B"")
    @SecondaryTable(name = ""A_B"", pkJoinColumns = {
    @PrimaryKeyJoinColumn(columnDefinition = ""B_ID"", name = ""B_ID"")})
    class B {
        @Column(table = ""A_B"")
        private int a1;

        @Column(table = ""A_B)
        private int a2;

        @ManyToMany(mappedBy = ""A_ID"", fetch = FetchType.LAZY)
        private List<A> as = new ArrayList<A>();

    }

This when saving `A` entities the `B` are duplicated in a way where:

    A_ID    B_ID   a1     a2
       1       0    1      1
       1       1    0      0

",hibernate,hibernate-mapping,,,,,open,0,280,7,"Hibernate manytomany @JoinTable + @SecondaryTable duplicate entries I have a relation of type `@ManyToMany` with a `@JoinTable` association.

The thing is that the entity in the relation has its own table, but a couple of properties should go to the association table.

Adding the `@SecondaryTable` duplicate.

    @Entity
    @Table(name = ""A"")
    class A {
        @ManyToMany(fetch = FetchType.LAZY)
        @JoinTable(name = ""A_B"", joinColumns = {@JoinColumn(name = ""A_ID"")}, inverseJoinColumns = {@JoinColumn(name = ""B_ID"")})
        private List<B> bs = new ArrayList<B>();
    }

    @Entity
    @Table(name = ""B"")
    @SecondaryTable(name = ""A_B"", pkJoinColumns = {
    @PrimaryKeyJoinColumn(columnDefinition = ""B_ID"", name = ""B_ID"")})
    class B {
        @Column(table = ""A_B"")
        private int a1;

        @Column(table = ""A_B)
        private int a2;

        @ManyToMany(mappedBy = ""A_ID"", fetch = FetchType.LAZY)
        private List<A> as = new ArrayList<A>();

    }

This when saving `A` entities the `B` are duplicated in a way where:

    A_ID    B_ID   a1     a2
       1       0    1      1
       1       1    0      0

",2
6741500,07/19/2011 01:58:47,813521,06/24/2011 05:47:13,8,0,handle Hibernate incorrect connection on Swing app,"I got a Swing app that start asking the user for the connection parameters, as every user can make mistakes I want to know the best way to handle when they make a wrong connection attempt i.e wrong url

what I got is a button that sends dbType, user, pass and url to a Map and then I obtain an EntityManagerFactory that last the whole application like this:

`emf = Persistence.createEntityManagerFactory(""persistenceUnit"", connectionProperties);`

however is taking almost 1 min in telling me 

`java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection`

- Can I manipulate Hibernate to answer timeout faster?
- Should I change the way I'm using the entityManagerFactory?",hibernate,swing,,,,,open,0,106,7,"handle Hibernate incorrect connection on Swing app I got a Swing app that start asking the user for the connection parameters, as every user can make mistakes I want to know the best way to handle when they make a wrong connection attempt i.e wrong url

what I got is a button that sends dbType, user, pass and url to a Map and then I obtain an EntityManagerFactory that last the whole application like this:

`emf = Persistence.createEntityManagerFactory(""persistenceUnit"", connectionProperties);`

however is taking almost 1 min in telling me 

`java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection`

- Can I manipulate Hibernate to answer timeout faster?
- Should I change the way I'm using the entityManagerFactory?",2
6018627,05/16/2011 14:07:00,726991,04/27/2011 10:07:21,6,0,java.lang.NoSuchMethodError: org.objectweb.asm.ClassWriter,"hii i am developping a smallll application using hibernate2 and there is exception in the class main test:

INFO: connection properties: {user=root, password=manel}
16 mai 2011 16:03:27 net.sf.hibernate.transaction.TransactionFactoryFactory buildTransactionFactory
INFO: Transaction strategy: net.sf.hibernate.transaction.JDBCTransactionFactory
16 mai 2011 16:03:27 net.sf.hibernate.transaction.TransactionManagerLookupFactory getTransactionManagerLookup
INFO: No TransactionManagerLookup configured (in JTA environment, use of process level read-write cache is not recommended)
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Use scrollable result sets: true
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Use JDBC3 getGeneratedKeys(): true
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Optimize cache for minimal puts: false
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Query language substitutions: {}
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: cache provider: net.sf.hibernate.cache.EhCacheProvider
16 mai 2011 16:03:28 net.sf.hibernate.cfg.Configuration configureCaches
INFO: instantiating and configuring caches
Exception in thread ""main"" java.lang.NoSuchMethodError: org.objectweb.asm.ClassWriter.<init>(Z)V
	at net.sf.cglib.core.DebuggingClassWriter.<init>(DebuggingClassWriter.java:47)
	at net.sf.cglib.core.DefaultGeneratorStrategy.getClassWriter(DefaultGeneratorStrategy.java:30)
	at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:24)
	at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:215)
	at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)
	at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:117)
	at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)
	at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)
	at net.sf.hibernate.impl.SessionFactoryImpl.<clinit>(SessionFactoryImpl.java:236)
	at net.sf.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:791)
	at hibernate.dao.SessionHibernate.rebuildSessionFactory(SessionHibernate.java:68)
	at hibernate.dao.SessionHibernate.getSession(SessionHibernate.java:51)
	at hibernate.dao.TimesheetDAO.addTimesheet(TimesheetDAO.java:74)
	at TestHibernate.main(TestHibernate.java:14)
any help please",hibernate,java-ee-6,,,,,open,0,127,2,"java.lang.NoSuchMethodError: org.objectweb.asm.ClassWriter hii i am developping a smallll application using hibernate2 and there is exception in the class main test:

INFO: connection properties: {user=root, password=manel}
16 mai 2011 16:03:27 net.sf.hibernate.transaction.TransactionFactoryFactory buildTransactionFactory
INFO: Transaction strategy: net.sf.hibernate.transaction.JDBCTransactionFactory
16 mai 2011 16:03:27 net.sf.hibernate.transaction.TransactionManagerLookupFactory getTransactionManagerLookup
INFO: No TransactionManagerLookup configured (in JTA environment, use of process level read-write cache is not recommended)
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Use scrollable result sets: true
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Use JDBC3 getGeneratedKeys(): true
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Optimize cache for minimal puts: false
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: Query language substitutions: {}
16 mai 2011 16:03:28 net.sf.hibernate.cfg.SettingsFactory buildSettings
INFO: cache provider: net.sf.hibernate.cache.EhCacheProvider
16 mai 2011 16:03:28 net.sf.hibernate.cfg.Configuration configureCaches
INFO: instantiating and configuring caches
Exception in thread ""main"" java.lang.NoSuchMethodError: org.objectweb.asm.ClassWriter.<init>(Z)V
	at net.sf.cglib.core.DebuggingClassWriter.<init>(DebuggingClassWriter.java:47)
	at net.sf.cglib.core.DefaultGeneratorStrategy.getClassWriter(DefaultGeneratorStrategy.java:30)
	at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:24)
	at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:215)
	at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)
	at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:117)
	at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)
	at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)
	at net.sf.hibernate.impl.SessionFactoryImpl.<clinit>(SessionFactoryImpl.java:236)
	at net.sf.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:791)
	at hibernate.dao.SessionHibernate.rebuildSessionFactory(SessionHibernate.java:68)
	at hibernate.dao.SessionHibernate.getSession(SessionHibernate.java:51)
	at hibernate.dao.TimesheetDAO.addTimesheet(TimesheetDAO.java:74)
	at TestHibernate.main(TestHibernate.java:14)
any help please",2
4695094,01/14/2011 19:31:45,476235,10/14/2010 19:55:19,8,0,How to use JOIN using Hibernate's session.createSQLQuery(),"I have two Entity (tables) - Employee & Project. An Employee can have multiple Projects.
Project table's CREATOR_ID field refers to Employee table's ID field. Employee entity maintains a list of Project.
Using EntityManager following query works fine - 
""**entityManager.createQuery(""select e from EmployeeDTO e, ProjectDTO p  where p.id = ?1 and p.creator.id=e.id"")**; 

But since I have the LAZY association relationship, I get error: ""***Could not initialize proxy - no Session***"" if I try to access Project info from Employee entity. This is expected and so I am using Hibernate's Session to create query as shown below.

Session session = HibernateUtil.getSessionFactory().openSession();
org.hibernate.Query q = session.createSQLQuery(""**SELECT E FROM EMPLOYEE_TAB E, PROJECT_TAB P  WHERE P.ID = "" + projectId + "" AND P.CREATOR_ID = E.ID"")
      .addEntity(""EmployeeDTO "", EmployeeDTO.class)
      .addEntity(""ProjectDTO"", ProjectDTO.class);**

But I get error like: ""Column 'U' is either not in any table in the FROM list or appears 
within a join specification and is outside the scope of the join specification...""

Can anyone suggests what will be the right JOIN syntax for such case?

Thanks in advance.",hibernate,query,,,,,open,0,180,7,"How to use JOIN using Hibernate's session.createSQLQuery() I have two Entity (tables) - Employee & Project. An Employee can have multiple Projects.
Project table's CREATOR_ID field refers to Employee table's ID field. Employee entity maintains a list of Project.
Using EntityManager following query works fine - 
""**entityManager.createQuery(""select e from EmployeeDTO e, ProjectDTO p  where p.id = ?1 and p.creator.id=e.id"")**; 

But since I have the LAZY association relationship, I get error: ""***Could not initialize proxy - no Session***"" if I try to access Project info from Employee entity. This is expected and so I am using Hibernate's Session to create query as shown below.

Session session = HibernateUtil.getSessionFactory().openSession();
org.hibernate.Query q = session.createSQLQuery(""**SELECT E FROM EMPLOYEE_TAB E, PROJECT_TAB P  WHERE P.ID = "" + projectId + "" AND P.CREATOR_ID = E.ID"")
      .addEntity(""EmployeeDTO "", EmployeeDTO.class)
      .addEntity(""ProjectDTO"", ProjectDTO.class);**

But I get error like: ""Column 'U' is either not in any table in the FROM list or appears 
within a join specification and is outside the scope of the join specification...""

Can anyone suggests what will be the right JOIN syntax for such case?

Thanks in advance.",2
5993943,05/13/2011 15:08:37,22763,09/26/2008 16:24:46,505,15,Hibernate HQL is failing on alias ordering,"I have this query in hql:

    select sum(settledPricePerDownloadExpense),avg(settledPricePerDownloadExpense),sum(siteIdCount) as ct,sum(settledPricePerDownloadExpense) 
    from PpdCampaignReporting  where id.ppdCampaignReportDate between 'Wed May 11 00:00:00 EDT 2011' and 'Thu May 12 23:59:59 EDT 2011' And id.ppdCampaignActionTypeId in (1, 2, 3) And id.ppdCampaign.ppdCampaignId in (62,63,82,83,84,95,97) 
    group by id.ppdCampaignActionTypeId,id.siteId order by ct

The error I am getting back is this:  

    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'ct'.",hibernate,,,,,,open,0,75,7,"Hibernate HQL is failing on alias ordering I have this query in hql:

    select sum(settledPricePerDownloadExpense),avg(settledPricePerDownloadExpense),sum(siteIdCount) as ct,sum(settledPricePerDownloadExpense) 
    from PpdCampaignReporting  where id.ppdCampaignReportDate between 'Wed May 11 00:00:00 EDT 2011' and 'Thu May 12 23:59:59 EDT 2011' And id.ppdCampaignActionTypeId in (1, 2, 3) And id.ppdCampaign.ppdCampaignId in (62,63,82,83,84,95,97) 
    group by id.ppdCampaignActionTypeId,id.siteId order by ct

The error I am getting back is this:  

    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'ct'.",1
9414876,02/23/2012 14:23:47,2648,08/23/2008 22:40:47,28774,733,Grails default Hibernate cache config,"The Grails 2.0.0 reference manual shows the following as the default Hibernate cache config

    hibernate {
        cache.use_second_level_cache=true
        cache.use_query_cache=true
        cache.provider_class='org.hibernate.cache.EhCacheProvider'
    }

But if you create a Grails 2.0.0 app, what you actually get is

    hibernate {
        cache.use_second_level_cache = true
        cache.use_query_cache = true
        cache.region.factory_class = 'net.sf.ehcache.hibernate.EhCacheRegionFactory'
    }

Can someone explain what the difference between these two is?",hibernate,caching,grails,ehcache,,,open,0,107,5,"Grails default Hibernate cache config The Grails 2.0.0 reference manual shows the following as the default Hibernate cache config

    hibernate {
        cache.use_second_level_cache=true
        cache.use_query_cache=true
        cache.provider_class='org.hibernate.cache.EhCacheProvider'
    }

But if you create a Grails 2.0.0 app, what you actually get is

    hibernate {
        cache.use_second_level_cache = true
        cache.use_query_cache = true
        cache.region.factory_class = 'net.sf.ehcache.hibernate.EhCacheRegionFactory'
    }

Can someone explain what the difference between these two is?",4
2550885,03/31/2010 06:22:34,225381,12/05/2009 06:30:28,321,19,Hibernate Collection chaining,"I have two Entities


    University   
       courses

    Course
       students


i want to access all the students in a university. I tried the following query

    select u.courses.students from university u
 
i got the following  exception.

    org.hibernate.QueryException: illegal attempt to dereference collection [university0_.id.courses] with element property reference [students] [ select u.courses.students from com.socialsite.persistence.University u  ]
    	at org.hibernate.hql.ast.tree.DotNode$1.buildIllegalCollectionDereferenceException(DotNode.java:46)
      .....

can anyone explain what is wrong with this?",hibernate,collections,,,,,open,0,98,3,"Hibernate Collection chaining I have two Entities


    University   
       courses

    Course
       students


i want to access all the students in a university. I tried the following query

    select u.courses.students from university u
 
i got the following  exception.

    org.hibernate.QueryException: illegal attempt to dereference collection [university0_.id.courses] with element property reference [students] [ select u.courses.students from com.socialsite.persistence.University u  ]
    	at org.hibernate.hql.ast.tree.DotNode$1.buildIllegalCollectionDereferenceException(DotNode.java:46)
      .....

can anyone explain what is wrong with this?",2
8470156,12/12/2011 05:04:48,933882,09/08/2011 01:38:09,38,0,"really, how to achieve hibernate runtime instrumentation?","from hibernate docs, we know that in certain case, for lazy-loading to work, we need build-time instrumentation:

http://stackoverflow.com/questions/222453/how-to-stop-hibernate-from-eagerly-fetching-many-to-
one-associated-object



so I did the following:

        <plugin>
          <artifactId>maven-antrun-plugin</artifactId>
          <version>1.3</version>
          <configuration>
          <tasks>
            <taskdef name=""instrument"" classname=""org.hibernate.tool.instrument.javassist.InstrumentTask"">
              <classpath>
                <path refid=""maven.runtime.classpath"" />
                <path refid=""maven.plugin.classpath"" />
              </classpath>
            </taskdef>
            <instrument verbose=""true"">
              <fileset dir=""target/classes"">
                <include name=""**/*.class"" />
              </fileset>
            </instrument>
          </tasks>
          </configuration>
            <executions>
              <execution>
        <phase>process-classes</phase>
                <goals>
                  <goal>run</goal>
                </goals>
              </execution>
            </executions>

          </plugin>




but it gave errors


java.lang.VerifyError: (class: com/mycompany/dao/UserDaoHibernateImpl$2, method: <init> signature: (Lcom/mycompany/dao/UserDaoHibernateImpl;II)V) Expecting to find object/array on stack


this is definitely due to the instrumentation above, since removing it fixes the problem; also websearches also show that this is somehow related to bugs in javaasist and conflicts between spring and hibernate versions.


I'm using hibernate 3.5.6-Final, Spring 3.0.6-RELEASE

I have tried all combinations of javassist versions, and tried changing javassist to asm, with various versions too, but the problem still exists.

 
Thanks
Yan

",hibernate,assembly,instrumentation,javassist,,,open,0,447,7,"really, how to achieve hibernate runtime instrumentation? from hibernate docs, we know that in certain case, for lazy-loading to work, we need build-time instrumentation:

http://stackoverflow.com/questions/222453/how-to-stop-hibernate-from-eagerly-fetching-many-to-
one-associated-object



so I did the following:

        <plugin>
          <artifactId>maven-antrun-plugin</artifactId>
          <version>1.3</version>
          <configuration>
          <tasks>
            <taskdef name=""instrument"" classname=""org.hibernate.tool.instrument.javassist.InstrumentTask"">
              <classpath>
                <path refid=""maven.runtime.classpath"" />
                <path refid=""maven.plugin.classpath"" />
              </classpath>
            </taskdef>
            <instrument verbose=""true"">
              <fileset dir=""target/classes"">
                <include name=""**/*.class"" />
              </fileset>
            </instrument>
          </tasks>
          </configuration>
            <executions>
              <execution>
        <phase>process-classes</phase>
                <goals>
                  <goal>run</goal>
                </goals>
              </execution>
            </executions>

          </plugin>




but it gave errors


java.lang.VerifyError: (class: com/mycompany/dao/UserDaoHibernateImpl$2, method: <init> signature: (Lcom/mycompany/dao/UserDaoHibernateImpl;II)V) Expecting to find object/array on stack


this is definitely due to the instrumentation above, since removing it fixes the problem; also websearches also show that this is somehow related to bugs in javaasist and conflicts between spring and hibernate versions.


I'm using hibernate 3.5.6-Final, Spring 3.0.6-RELEASE

I have tried all combinations of javassist versions, and tried changing javassist to asm, with various versions too, but the problem still exists.

 
Thanks
Yan

",4
8574860,12/20/2011 11:43:03,777421,05/31/2011 09:41:47,359,3,Integration of Spring Security 3 authentication with Hibernate 3(JPA) annotation,"I am looking for **integration of latest Spring framework security with Hibernate** based on annotation( ie JPA) with user credential from the DB. How can I do this? can I go for password encoding and decoding with Spring?

One of the solution available is with link [here][1] but this is based on Spring 2.5 with XML configuration. I want to avoid xml and use annotation.


  [1]: http://stackoverflow.com/questions/2683308/spring-security-3-database-authentication-with-hibernate/2701722#2701722",hibernate,jpa,spring-security,,,,open,0,67,10,"Integration of Spring Security 3 authentication with Hibernate 3(JPA) annotation I am looking for **integration of latest Spring framework security with Hibernate** based on annotation( ie JPA) with user credential from the DB. How can I do this? can I go for password encoding and decoding with Spring?

One of the solution available is with link [here][1] but this is based on Spring 2.5 with XML configuration. I want to avoid xml and use annotation.


  [1]: http://stackoverflow.com/questions/2683308/spring-security-3-database-authentication-with-hibernate/2701722#2701722",3
11488356,07/15/2012 00:05:57,1526255,07/14/2012 23:47:55,1,0,What kind of problems can happend when using load balancing for a JEE hibernate application?,"My question is about:

I have a web application developped using Spring/hibernate and Oracle 10g as DataBase. I want to configure a load balancing strategy using Nginx for two Toncat node with my onlt DataBase.

1- Can i have issues about database access when SELECT/INSERT/UPDATE ? (i(m using sequence for primary keys )

2- Can i have issues about http Session ?

Thank you.



",hibernate,java-ee,tomcat,nginx,load-balancing,07/15/2012 00:34:33,off topic,1,60,15,"What kind of problems can happend when using load balancing for a JEE hibernate application? My question is about:

I have a web application developped using Spring/hibernate and Oracle 10g as DataBase. I want to configure a load balancing strategy using Nginx for two Toncat node with my onlt DataBase.

1- Can i have issues about database access when SELECT/INSERT/UPDATE ? (i(m using sequence for primary keys )

2- Can i have issues about http Session ?

Thank you.



",5
3509031,08/18/2010 04:45:32,423586,08/18/2010 04:37:51,1,0,Stopping Hibernate from trying to get a calculated field from the database,"I have a property of a business object which is calculated.  The calculation involves some of the logged in user's details, and so can't be represented as a simple SQL query.

I'm having trouble representing the field in the Hibernate mapping XML file, because Hibernate continues to try and retrieve the field from the database, although there is no column by that name.",hibernate,hibernate-mapping,,,,,open,0,63,12,"Stopping Hibernate from trying to get a calculated field from the database I have a property of a business object which is calculated.  The calculation involves some of the logged in user's details, and so can't be represented as a simple SQL query.

I'm having trouble representing the field in the Hibernate mapping XML file, because Hibernate continues to try and retrieve the field from the database, although there is no column by that name.",2
6242436,06/05/2011 10:48:05,646135,03/05/2011 15:52:10,23,0,How to map a stateful ejb 3.1 session bean using JPA,"I have a doubt on how to represent my database using JPA annotations with hibernate. It's a very simple webapp representing an online library.

I have a stateful session bean that allows users to reserve books. Users can reserve up to 2 books. It has the following fields:

 - Integer id;
 - UserBean userBean;
 - List<BookBean> bookList;
 - Date reservationDate;
 - Date reservationExp;

The database representing this class is:

 - int id_book_reservation PK
 - int id_user FK
 - int id_book FK
 - date reservation_date
 - date expiration_date

This stateful bean may work as a shopping cart. So it allows user to put books there, continue browsing, add another book and then finally ask for reservation (like the ""buy"" action on a e-commerce website).

I cannot figure out how to map the bookList field. The relation between reservation and books is ONE-TO-MANY but I was wondering how then it could be possible to know, for instance, when a book is already reserved since I have a List and not simply a book object (in a HQL).

Thanks in advance!
Cheers.",hibernate,jpa,annotations,ejb-3.1,,,open,0,173,11,"How to map a stateful ejb 3.1 session bean using JPA I have a doubt on how to represent my database using JPA annotations with hibernate. It's a very simple webapp representing an online library.

I have a stateful session bean that allows users to reserve books. Users can reserve up to 2 books. It has the following fields:

 - Integer id;
 - UserBean userBean;
 - List<BookBean> bookList;
 - Date reservationDate;
 - Date reservationExp;

The database representing this class is:

 - int id_book_reservation PK
 - int id_user FK
 - int id_book FK
 - date reservation_date
 - date expiration_date

This stateful bean may work as a shopping cart. So it allows user to put books there, continue browsing, add another book and then finally ask for reservation (like the ""buy"" action on a e-commerce website).

I cannot figure out how to map the bookList field. The relation between reservation and books is ONE-TO-MANY but I was wondering how then it could be possible to know, for instance, when a book is already reserved since I have a List and not simply a book object (in a HQL).

Thanks in advance!
Cheers.",4
11450762,07/12/2012 11:23:14,1520569,07/12/2012 11:04:12,1,0,Multiple foreign key in single table in Hibernate,"Am facing an issue with inserting multiple foreign keys in a table,

please check the link

https://forum.hibernate.org/viewtopic.php?f=1&t=1016943",hibernate,,,,,07/16/2012 08:47:00,not a real question,1,15,8,"Multiple foreign key in single table in Hibernate Am facing an issue with inserting multiple foreign keys in a table,

please check the link

https://forum.hibernate.org/viewtopic.php?f=1&t=1016943",1
903357,05/24/2009 08:47:34,106974,05/14/2009 10:49:52,8,1,List sorting and ordering problem...,"So I've resigned myself to not being able to use the order of a List reliably because hibernate reverses it and everyone says don't do it, so I've added a field to my class as position.  I have:

<code>
@Entity
class Procedure {
...
int procedureId;
List<Task> tasks;
...
}

@Entity
class Task {
...
int taskId;
int position;
}
</code>

Now I don't know how to approach interacting with the list.  Should I just sort it by position when I first get it from the db and start working with it, and then I can leave all the user-rearranging code that I've already written and then just reset all the positions on save to the order the list so I can resort when I get back?

SKIP TO ACTUAL QUESTION HERE: 

This seems to be the best approach, but HOW do I sort the List by a property of the Objects in the collection?

Thank you!
Joshua",hibernate,sorting,list,java,,,open,0,141,5,"List sorting and ordering problem... So I've resigned myself to not being able to use the order of a List reliably because hibernate reverses it and everyone says don't do it, so I've added a field to my class as position.  I have:

<code>
@Entity
class Procedure {
...
int procedureId;
List<Task> tasks;
...
}

@Entity
class Task {
...
int taskId;
int position;
}
</code>

Now I don't know how to approach interacting with the list.  Should I just sort it by position when I first get it from the db and start working with it, and then I can leave all the user-rearranging code that I've already written and then just reset all the positions on save to the order the list so I can resort when I get back?

SKIP TO ACTUAL QUESTION HERE: 

This seems to be the best approach, but HOW do I sort the List by a property of the Objects in the collection?

Thank you!
Joshua",4
6705084,07/15/2011 09:28:38,565605,01/06/2011 14:57:36,67,3,OrderedColumn in combination playframework gives me for all entries 0 as index.,"I have the following model (playframework):

    @Entity
    public class Album extends Model{
        
        public Album(){
            this.creationDate = new Date();
        }
        
        public Album(String name){
            this.creationDate = new Date();
            this.name = name;
        }
        
        @Required
        @Column(unique = true)
        public String name;
        @Temporal(javax.persistence.TemporalType.DATE)
        public Date creationDate;
        @OneToMany(cascade=CascadeType.ALL, mappedBy=""album"")
        @OrderColumn(name=""position"")
        public List<Image> images = new ArrayList<Image>();    
    }

and:

    @Entity
    public class Image extends Model {
    
        public Image(String description) {
            this.description= description;
        }
        @Required
        public String description;
        @Required
        @ManyToOne
        @JoinColumn(name=""album_id"", nullable=false)
        public Album album;
        @Column(name=""position"")
        public int position;
        
        public void addAlbum(Album album){
            this.album = album;
            album.images.add(this);
        }
    }


In my tests I do the following:

    @Test
    public void indexColumn(){
        Album album = new Album(""newalbum"");
        Image image1 = new Image(""newimage1"");
        Image image2 = new Image(""newimage2"");
        image1.addAlbum(album);
        image2.addAlbum(album);
        album.save();
        
    }

When I look at the DB, I can see that position is 0 for both images. I think I did exactly that what's in the hibernate doc [Hibernate Documentation][1], but it is not working. So I am wondering if this is not working in combination with play framework.

Any Ideas?

BR, Rene


  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#entity-hibspec-collection-extratype-indexbidir",hibernate,jpa,jpa-2.0,playframework,,,open,0,522,12,"OrderedColumn in combination playframework gives me for all entries 0 as index. I have the following model (playframework):

    @Entity
    public class Album extends Model{
        
        public Album(){
            this.creationDate = new Date();
        }
        
        public Album(String name){
            this.creationDate = new Date();
            this.name = name;
        }
        
        @Required
        @Column(unique = true)
        public String name;
        @Temporal(javax.persistence.TemporalType.DATE)
        public Date creationDate;
        @OneToMany(cascade=CascadeType.ALL, mappedBy=""album"")
        @OrderColumn(name=""position"")
        public List<Image> images = new ArrayList<Image>();    
    }

and:

    @Entity
    public class Image extends Model {
    
        public Image(String description) {
            this.description= description;
        }
        @Required
        public String description;
        @Required
        @ManyToOne
        @JoinColumn(name=""album_id"", nullable=false)
        public Album album;
        @Column(name=""position"")
        public int position;
        
        public void addAlbum(Album album){
            this.album = album;
            album.images.add(this);
        }
    }


In my tests I do the following:

    @Test
    public void indexColumn(){
        Album album = new Album(""newalbum"");
        Image image1 = new Image(""newimage1"");
        Image image2 = new Image(""newimage2"");
        image1.addAlbum(album);
        image2.addAlbum(album);
        album.save();
        
    }

When I look at the DB, I can see that position is 0 for both images. I think I did exactly that what's in the hibernate doc [Hibernate Documentation][1], but it is not working. So I am wondering if this is not working in combination with play framework.

Any Ideas?

BR, Rene


  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#entity-hibspec-collection-extratype-indexbidir",4
8186738,11/18/2011 17:52:01,974234,10/01/2011 07:10:36,1,0,gwt hibernate one-to-many data fetching,"I realize that using GWT and Hibernate I have to use DTO (Data Transfer Objects) objects which are almost as same as Hibernate classes (lets assume I'm not using Gilead or Dozer or some other lib).

So if I, for example, have following entities: 

    Company (id, name, city_id), 
    Bank (id, name), 
    BankAccount(id, account, bank_id, company_id), 
    City(id, name)

so city can have multiple companies, and both bank(needs to) and company (can) contain multiple bank accounts.
Something like:

    Bank -< BankAccount >- Company >- City

These are attributes my hibernate and DTO classes have

    class Company{
        int id;
        String name;
        City city;
        Set<BankAccount> accounts;
        //with appropriate getters and setters
    }
    class Bank{
        int id;
        String name;
        Set<BankAccount> accounts;
        //with appropriate getters and setters
    }
    class BankAccount{
        int id;
        String account;
        Bank bank;
        Company company;
        //and all get set
    }
    class City{
        int id;
        String name;
        //all get set
    }

DTA classes are same and only have DTO as suffix for their names.

Short question is:
What is best way obtaining DTO objects from Hibernate objects?

explanation:
As you can see, each Bank contains multiple BankAccounts, and each BankAccount has reference to a Bank it belongs to.

So I cannot make dummy hard copy constructors because it would imply lots of manual and complex work (maybe not for this simple example but problem gets complicated as new entities are involved).

If I want to get all companies, I would do something like:

    //necessary Hibernate Stuff
    List<Company> companies = new ArrayList<Company>(s.createQuery(""from Company"").list());

Now I have only the companies in hibernate objects but I also need their respectful cities, bank accounts and banks their accounts belong to. Also I have to copy all this to a DTA object but I want to avoid duplicates. 

<B>How do I do that? </B>

<B>How do I return multiple sets of banks, accounts, cities, companies in multiple classes that contain references to objects that are not duplicated throughout those classes, as DTA objects?</B>

I cannot create copy constructors in DTA objects because I may create infinite recursion, and if I do avoid that somehow, I don't know how would I not create duplicates. 

I hope I was clear and didn't create duplicate myself (there are few questions but haven't seen some with GWT (DTA) objects).",hibernate,gwt,mapping,one-to-many,,,open,0,530,5,"gwt hibernate one-to-many data fetching I realize that using GWT and Hibernate I have to use DTO (Data Transfer Objects) objects which are almost as same as Hibernate classes (lets assume I'm not using Gilead or Dozer or some other lib).

So if I, for example, have following entities: 

    Company (id, name, city_id), 
    Bank (id, name), 
    BankAccount(id, account, bank_id, company_id), 
    City(id, name)

so city can have multiple companies, and both bank(needs to) and company (can) contain multiple bank accounts.
Something like:

    Bank -< BankAccount >- Company >- City

These are attributes my hibernate and DTO classes have

    class Company{
        int id;
        String name;
        City city;
        Set<BankAccount> accounts;
        //with appropriate getters and setters
    }
    class Bank{
        int id;
        String name;
        Set<BankAccount> accounts;
        //with appropriate getters and setters
    }
    class BankAccount{
        int id;
        String account;
        Bank bank;
        Company company;
        //and all get set
    }
    class City{
        int id;
        String name;
        //all get set
    }

DTA classes are same and only have DTO as suffix for their names.

Short question is:
What is best way obtaining DTO objects from Hibernate objects?

explanation:
As you can see, each Bank contains multiple BankAccounts, and each BankAccount has reference to a Bank it belongs to.

So I cannot make dummy hard copy constructors because it would imply lots of manual and complex work (maybe not for this simple example but problem gets complicated as new entities are involved).

If I want to get all companies, I would do something like:

    //necessary Hibernate Stuff
    List<Company> companies = new ArrayList<Company>(s.createQuery(""from Company"").list());

Now I have only the companies in hibernate objects but I also need their respectful cities, bank accounts and banks their accounts belong to. Also I have to copy all this to a DTA object but I want to avoid duplicates. 

<B>How do I do that? </B>

<B>How do I return multiple sets of banks, accounts, cities, companies in multiple classes that contain references to objects that are not duplicated throughout those classes, as DTA objects?</B>

I cannot create copy constructors in DTA objects because I may create infinite recursion, and if I do avoid that somehow, I don't know how would I not create duplicates. 

I hope I was clear and didn't create duplicate myself (there are few questions but haven't seen some with GWT (DTA) objects).",4
5418524,03/24/2011 11:39:34,674810,03/24/2011 11:39:34,1,0,How to query on a month for a date with Hibernate criteria,"I need to use criteria to query a database.
The data I'm searching has a date, say 'startDate' and I have a month say 0 for January, I need to extract all data where startDate has month = 0; in sql I'd use something like 'where month(startDate) = 0' but I don't know how to do this with hibernate criteria and if it's possible at all. 
Can you help me? 
Thank you guys.
Luca.

",hibernate,criteria,,,,,open,0,72,12,"How to query on a month for a date with Hibernate criteria I need to use criteria to query a database.
The data I'm searching has a date, say 'startDate' and I have a month say 0 for January, I need to extract all data where startDate has month = 0; in sql I'd use something like 'where month(startDate) = 0' but I don't know how to do this with hibernate criteria and if it's possible at all. 
Can you help me? 
Thank you guys.
Luca.

",2
9118174,02/02/2012 18:52:23,382135,07/02/2010 14:32:17,184,6,HQL join without foreign keys on the table,"I have looked at every book and article I can and scoured stack overflow, and found no answers, so I ask here.

Is it possible to do a join between 2 tables that doing have foreign keys?

I just want to do a simple equivalent of an inner join, but it doesn't seem to be possible?

Do I have to resort to native SQL to do this?",hibernate,nhibernate,,,,,open,0,64,8,"HQL join without foreign keys on the table I have looked at every book and article I can and scoured stack overflow, and found no answers, so I ask here.

Is it possible to do a join between 2 tables that doing have foreign keys?

I just want to do a simple equivalent of an inner join, but it doesn't seem to be possible?

Do I have to resort to native SQL to do this?",2
10682735,05/21/2012 09:33:22,1362323,04/28/2012 03:24:35,3,1,JPA - using long array in IN operator throws cast exception,"am new to JPA and am able to get it quickly, I had been trying a select query using ""IN"" operator in the query and had been getting the error as down. What I do is, i get a array of (long) message ids from a function and i use it to select the record based on those ids. Here is my query 

    select t from MessageTable t where t.messageId IN (:id)  
    query.setParameter(""id"", id);

I had just shown you part of the code, in entity messageId is long and in Oracle DB its number. When i try as just as long variable it works, it doesn't seem to work when i pass long array. Had any one come across such a problem can some one help out. This is the error 

> 14:24:49,428 INFO [LongType] could not bind value '[J@14f76da' to
> parameter: 1; [J cannot be cast to java.lang.Long",hibernate,jpa,jpa-2.0,,,,open,0,157,11,"JPA - using long array in IN operator throws cast exception am new to JPA and am able to get it quickly, I had been trying a select query using ""IN"" operator in the query and had been getting the error as down. What I do is, i get a array of (long) message ids from a function and i use it to select the record based on those ids. Here is my query 

    select t from MessageTable t where t.messageId IN (:id)  
    query.setParameter(""id"", id);

I had just shown you part of the code, in entity messageId is long and in Oracle DB its number. When i try as just as long variable it works, it doesn't seem to work when i pass long array. Had any one come across such a problem can some one help out. This is the error 

> 14:24:49,428 INFO [LongType] could not bind value '[J@14f76da' to
> parameter: 1; [J cannot be cast to java.lang.Long",3
5816831,04/28/2011 10:00:38,531232,12/05/2010 14:18:55,16,7,"Hibernate EntityManager + Query Cache - ""join fetch"" not working","I am trying to cache a query like this:

    TypedQuery<Foo> q = em.createQuery(
        ""SELECT foo FROM Foo foo "" +
        ""INNER JOIN FETCH Foo.bar ""
    );
    q.setHint(""org.hibernate.cacheable"", true);

The problem is that the `FETCH` doesn't seem to have any effect when the cache is hit, i.e. the collection Foo.bar doesn't get initialized. I could iterate over the the result list and initialize all instances of the collection by hand, but that would make the whole thing even slower than without using the query cache in the first place.

I use JBoss AS 6.0 / Hibernate 3.6 with Infinispan as cache engine.

Curiously, according to the cache statistics I get through the JMX console, objects in Foo.bar seem to get cached, but the cache for those objects doesn't get any hits.",hibernate,jpa,join,fetch,query-cache,,open,0,150,10,"Hibernate EntityManager + Query Cache - ""join fetch"" not working I am trying to cache a query like this:

    TypedQuery<Foo> q = em.createQuery(
        ""SELECT foo FROM Foo foo "" +
        ""INNER JOIN FETCH Foo.bar ""
    );
    q.setHint(""org.hibernate.cacheable"", true);

The problem is that the `FETCH` doesn't seem to have any effect when the cache is hit, i.e. the collection Foo.bar doesn't get initialized. I could iterate over the the result list and initialize all instances of the collection by hand, but that would make the whole thing even slower than without using the query cache in the first place.

I use JBoss AS 6.0 / Hibernate 3.6 with Infinispan as cache engine.

Curiously, according to the cache statistics I get through the JMX console, objects in Foo.bar seem to get cached, but the cache for those objects doesn't get any hits.",5
9954590,03/31/2012 09:13:55,1289894,03/24/2012 11:35:58,8,0,Hibernate error - QuerySyntaxException: users is not mapped [from users],"I'm new to hibernate.
I'm trying to get a list of all the users from ""users"" table and I get the following error:

    org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]
	org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)
	org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:110)
	org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:93)


This is the code I wrote to add/get users:

    	/**
	 * Get a list of all the users that are stored in the database
	 */
	public List<User> getUsers() {
		Session session = HibernateUtil.getSessionFactory().getCurrentSession();
		session.beginTransaction();
		List<User> result = (List<User>) session.createQuery(""from users"").list();
		session.getTransaction().commit();
		return result;
	}

	/**
	 * Add a new user to the database
	 * 
	 * @param emailAddr
	 * @return the auto generated id
	 */
	public void addUser(User user) {

		Session session = HibernateUtil.getSessionFactory().getCurrentSession();

		session.beginTransaction();

		session.save(user);

		session.getTransaction().commit();

	}

	/**
	 * Add a users to the database
	 * 
	 * @param emailAddr
	 * @return the auto generated id
	 */
	public void addUser(List<User> users) {

		Session session = HibernateUtil.getSessionFactory().getCurrentSession();

		session.beginTransaction();

		for (User user : users) {
			session.save(user);
		}

		session.getTransaction().commit();

	}

Adding users works, but when I use the getUsers function I get these error.

This is my hibernate config file:

    <hibernate-configuration>
	<session-factory>
		<property name=""connection.url"">jdbc:mysql://localhost:3306/test</property>
		<property name=""connection.username"">root</property>
		<property name=""connection.password"">root</property>
		<property name=""connection.driver_class"">com.mysql.jdbc.Driver</property>
		<property name=""hibernate.default_schema"">test</property>
		<property name=""dialect"">org.hibernate.dialect.MySQL5Dialect</property>

		<property name=""show_sql"">true</property>

		<property name=""format_sql"">true</property>
		<property name=""hbm2ddl.auto"">create-drop</property>

		<!-- JDBC connection pool (use the built-in) -->
		<property name=""connection.pool_size"">1</property>
		<property name=""current_session_context_class"">thread</property>

		<!-- Mapping files will go here.... -->

		<mapping class=""model.Company"" />
		<mapping class=""model.Conference"" />
		<mapping class=""model.ConferencesParticipants"" />
		<mapping class=""model.ConferenceParticipantStatus"" />
		<mapping class=""model.ConferencesUsers"" />
		<mapping class=""model.Location"" />
		<mapping class=""model.User"" />

	</session-factory>
</hibernate-configuration>

and this is my User class:

    import java.io.Serializable;
    import java.util.Date;
    import javax.persistence.CascadeType;
    import javax.persistence.Entity;
    import javax.persistence.GeneratedValue;
    import javax.persistence.Id;
    import javax.persistence.OneToOne;
    import javax.persistence.Table;
    import javax.persistence.Temporal;
    import javax.persistence.TemporalType;
    import org.hibernate.annotations.GenericGenerator;
    import model.Company;
    
    @Entity
    @Table( name = ""Users"" )
    public class User implements Serializable{

	private long userID;
	private int pasportID;
	private Company company; 
	private String name;
	private String email;
	private String phone1;
	private String phone2;
	private String password; //may be null/empty , will be kept hashed
	private boolean isAdmin;
	private Date lastLogin;
	
	
	
	User() {} //not public on purpose!
	
	public User(int countryID, Company company, String name, String email,
			String phone1, String phone2, String password, boolean isAdmin) {
		this.pasportID = countryID;
		this.company = company;
		this.name = name;
		this.email = email;
		this.phone1 = phone1;
		this.phone2 = phone2;
		this.password = password;
		this.isAdmin = isAdmin;
	}

	@Id
	@GeneratedValue(generator=""increment"")
	@GenericGenerator(name=""increment"", strategy = ""increment"")
	public long getUserID() {
		return userID;
	}
	public void setUserID(long userID) {
		this.userID = userID;
	}
	public int getStateID() {
		return pasportID;
	}
	public void setStateID(int stateID) {
		this.pasportID = stateID;
	}
	
	@OneToOne(cascade = CascadeType.ALL)
	public Company getCompany() {
		return company;
	}
	public void setCompany(Company company) {
		this.company = company;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getEmail() {
		return email;
	}
	public void setEmail(String email) {
		this.email = email;
	}
	public String getPhone1() {
		return phone1;
	}
	public void setPhone1(String phone1) {
		this.phone1 = phone1;
	}
	public String getPhone2() {
		return phone2;
	}
	public void setPhone2(String phone2) {
		this.phone2 = phone2;
	}
	public String getPassword() {
		return password;
	}
	public void setPassword(String password) {
		this.password = password;
	}

	public int getPasportID() {
		return pasportID;
	}

	public void setPasportID(int pasportID) {
		this.pasportID = pasportID;
	}

	public boolean isAdmin() {
		return isAdmin;
	}

	public void setAdmin(boolean isAdmin) {
		this.isAdmin = isAdmin;
	}

	@Temporal(TemporalType.TIMESTAMP)
	public Date getLastLogin() {
		return lastLogin;
	}

	public void setLastLogin(Date lastLogin) {
		this.lastLogin = lastLogin;
	}
	
}


Any idea why I get this error?

Thanks!",hibernate,,,,,,open,0,465,10,"Hibernate error - QuerySyntaxException: users is not mapped [from users] I'm new to hibernate.
I'm trying to get a list of all the users from ""users"" table and I get the following error:

    org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]
	org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)
	org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:110)
	org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:93)


This is the code I wrote to add/get users:

    	/**
	 * Get a list of all the users that are stored in the database
	 */
	public List<User> getUsers() {
		Session session = HibernateUtil.getSessionFactory().getCurrentSession();
		session.beginTransaction();
		List<User> result = (List<User>) session.createQuery(""from users"").list();
		session.getTransaction().commit();
		return result;
	}

	/**
	 * Add a new user to the database
	 * 
	 * @param emailAddr
	 * @return the auto generated id
	 */
	public void addUser(User user) {

		Session session = HibernateUtil.getSessionFactory().getCurrentSession();

		session.beginTransaction();

		session.save(user);

		session.getTransaction().commit();

	}

	/**
	 * Add a users to the database
	 * 
	 * @param emailAddr
	 * @return the auto generated id
	 */
	public void addUser(List<User> users) {

		Session session = HibernateUtil.getSessionFactory().getCurrentSession();

		session.beginTransaction();

		for (User user : users) {
			session.save(user);
		}

		session.getTransaction().commit();

	}

Adding users works, but when I use the getUsers function I get these error.

This is my hibernate config file:

    <hibernate-configuration>
	<session-factory>
		<property name=""connection.url"">jdbc:mysql://localhost:3306/test</property>
		<property name=""connection.username"">root</property>
		<property name=""connection.password"">root</property>
		<property name=""connection.driver_class"">com.mysql.jdbc.Driver</property>
		<property name=""hibernate.default_schema"">test</property>
		<property name=""dialect"">org.hibernate.dialect.MySQL5Dialect</property>

		<property name=""show_sql"">true</property>

		<property name=""format_sql"">true</property>
		<property name=""hbm2ddl.auto"">create-drop</property>

		<!-- JDBC connection pool (use the built-in) -->
		<property name=""connection.pool_size"">1</property>
		<property name=""current_session_context_class"">thread</property>

		<!-- Mapping files will go here.... -->

		<mapping class=""model.Company"" />
		<mapping class=""model.Conference"" />
		<mapping class=""model.ConferencesParticipants"" />
		<mapping class=""model.ConferenceParticipantStatus"" />
		<mapping class=""model.ConferencesUsers"" />
		<mapping class=""model.Location"" />
		<mapping class=""model.User"" />

	</session-factory>
</hibernate-configuration>

and this is my User class:

    import java.io.Serializable;
    import java.util.Date;
    import javax.persistence.CascadeType;
    import javax.persistence.Entity;
    import javax.persistence.GeneratedValue;
    import javax.persistence.Id;
    import javax.persistence.OneToOne;
    import javax.persistence.Table;
    import javax.persistence.Temporal;
    import javax.persistence.TemporalType;
    import org.hibernate.annotations.GenericGenerator;
    import model.Company;
    
    @Entity
    @Table( name = ""Users"" )
    public class User implements Serializable{

	private long userID;
	private int pasportID;
	private Company company; 
	private String name;
	private String email;
	private String phone1;
	private String phone2;
	private String password; //may be null/empty , will be kept hashed
	private boolean isAdmin;
	private Date lastLogin;
	
	
	
	User() {} //not public on purpose!
	
	public User(int countryID, Company company, String name, String email,
			String phone1, String phone2, String password, boolean isAdmin) {
		this.pasportID = countryID;
		this.company = company;
		this.name = name;
		this.email = email;
		this.phone1 = phone1;
		this.phone2 = phone2;
		this.password = password;
		this.isAdmin = isAdmin;
	}

	@Id
	@GeneratedValue(generator=""increment"")
	@GenericGenerator(name=""increment"", strategy = ""increment"")
	public long getUserID() {
		return userID;
	}
	public void setUserID(long userID) {
		this.userID = userID;
	}
	public int getStateID() {
		return pasportID;
	}
	public void setStateID(int stateID) {
		this.pasportID = stateID;
	}
	
	@OneToOne(cascade = CascadeType.ALL)
	public Company getCompany() {
		return company;
	}
	public void setCompany(Company company) {
		this.company = company;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getEmail() {
		return email;
	}
	public void setEmail(String email) {
		this.email = email;
	}
	public String getPhone1() {
		return phone1;
	}
	public void setPhone1(String phone1) {
		this.phone1 = phone1;
	}
	public String getPhone2() {
		return phone2;
	}
	public void setPhone2(String phone2) {
		this.phone2 = phone2;
	}
	public String getPassword() {
		return password;
	}
	public void setPassword(String password) {
		this.password = password;
	}

	public int getPasportID() {
		return pasportID;
	}

	public void setPasportID(int pasportID) {
		this.pasportID = pasportID;
	}

	public boolean isAdmin() {
		return isAdmin;
	}

	public void setAdmin(boolean isAdmin) {
		this.isAdmin = isAdmin;
	}

	@Temporal(TemporalType.TIMESTAMP)
	public Date getLastLogin() {
		return lastLogin;
	}

	public void setLastLogin(Date lastLogin) {
		this.lastLogin = lastLogin;
	}
	
}


Any idea why I get this error?

Thanks!",1
8007197,11/04/2011 09:31:34,720176,04/22/2011 06:58:54,437,21,A Good Spring 3.1's annotation tutorial,"I want to learn the Spring 3.1's annotations. For that I have read several blog posts of [Spring Source Blog][1], now I have the basic idea of all the new Spring features i.e @Cacheable, @Profile, no Web.xml approach etc. 

Now I want to develop a small sample application using these annotations but the problem is I am not able to configure my project properly, Since this is my first project using **""least or no XML please!!""** approach, I have missed something while configuring. I am using Hibernate 3.6.8 along with Spring 3.1 inside NetBeans 7.1 (maven 3.0.3).

I am trying to find out **a good tutorial for Java (annotation) Based configuration of Spring & hibernate**, most of the answers at SO are somewhat outdated. So had to post this question please excuse me if you find it a duplicate one!!! Please suggest a good tutorial for this or give me some hints for that..

Thanks,


  [1]: http://blogs.springsource.com",hibernate,spring,java-ee,,,11/04/2011 15:22:38,not constructive,1,156,6,"A Good Spring 3.1's annotation tutorial I want to learn the Spring 3.1's annotations. For that I have read several blog posts of [Spring Source Blog][1], now I have the basic idea of all the new Spring features i.e @Cacheable, @Profile, no Web.xml approach etc. 

Now I want to develop a small sample application using these annotations but the problem is I am not able to configure my project properly, Since this is my first project using **""least or no XML please!!""** approach, I have missed something while configuring. I am using Hibernate 3.6.8 along with Spring 3.1 inside NetBeans 7.1 (maven 3.0.3).

I am trying to find out **a good tutorial for Java (annotation) Based configuration of Spring & hibernate**, most of the answers at SO are somewhat outdated. So had to post this question please excuse me if you find it a duplicate one!!! Please suggest a good tutorial for this or give me some hints for that..

Thanks,


  [1]: http://blogs.springsource.com",3
7847404,10/21/2011 09:22:41,85821,04/01/2009 18:31:16,5749,231,Can I set an entity relation with just the ID?,"I have a JPA (Hibernate) entity:

    @Entity class Transaction {
    
      @ManyToOne
      private Room room;
    
    }

When I create a new `Transaction`, I know the ID of the `Room` that it should refer to (but don't have a `Room` object). Can I somehow create and persist a `Transaction` with just this info, or do I really need to:

    Room room = em.find(roomId, Room.class);
    em.persist(new Transaction(room, ...));",hibernate,jpa,orm,entity-relationship,,,open,0,94,10,"Can I set an entity relation with just the ID? I have a JPA (Hibernate) entity:

    @Entity class Transaction {
    
      @ManyToOne
      private Room room;
    
    }

When I create a new `Transaction`, I know the ID of the `Room` that it should refer to (but don't have a `Room` object). Can I somehow create and persist a `Transaction` with just this info, or do I really need to:

    Room room = em.find(roomId, Room.class);
    em.persist(new Transaction(room, ...));",4
3616224,09/01/2010 08:30:05,345847,05/20/2010 07:53:50,56,1,JPQL ORDER BY clause with parameter,"I'm trying to write a JPQL Query with an ORDER BY clause:

    query = ""SELECT c FROM item ORDER BY c.name ASC""

I would like to set an ""order"" parameter, whose value would be either ""ASC"" or ""DESC"":

    query = ""SELECT c FROM item ORDER BY c.name :order""

And then in my implementation:

    query.setParameter(""order"", ""ASC"");

This is when I get an Hibernate error:

    org.hibernate.HibernateException: Errors in named queries

Any idea on what I'm doing wrong? Thanks!",hibernate,ejb-3.0,order-by,jpql,,,open,0,84,6,"JPQL ORDER BY clause with parameter I'm trying to write a JPQL Query with an ORDER BY clause:

    query = ""SELECT c FROM item ORDER BY c.name ASC""

I would like to set an ""order"" parameter, whose value would be either ""ASC"" or ""DESC"":

    query = ""SELECT c FROM item ORDER BY c.name :order""

And then in my implementation:

    query.setParameter(""order"", ""ASC"");

This is when I get an Hibernate error:

    org.hibernate.HibernateException: Errors in named queries

Any idea on what I'm doing wrong? Thanks!",4
8604569,12/22/2011 13:30:06,637517,02/28/2011 10:40:21,540,46,What is the drawback of hibernate?,"While developing application using `hibernate`,Is there any drawback of hibernate which is most of the time occurred. I mean while using hibernate, what are the most important things that i have to keep in mind.",hibernate,spring,,,,12/22/2011 20:04:13,not constructive,1,35,6,"What is the drawback of hibernate? While developing application using `hibernate`,Is there any drawback of hibernate which is most of the time occurred. I mean while using hibernate, what are the most important things that i have to keep in mind.",2
4366001,12/06/2010 11:40:16,530272,12/04/2010 07:41:01,1,0,avoid hibernate logs from printing on jboss console,"I m using jboss as application server, it very irritating when I am deploy my application on jboss server it printing hibernate logs like 



""FINE: ----- beginning hibernate tx 32213345 --------------------------------------------------------
16:37:27,716 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log info
INFO: jBPM version info: library[4.3], schema[4.3]
16:37:27,717 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 22527471 -------------------------------------------------------
16:37:27,719 INFO  [STDOUT] 16:37:27,719 INFO  [ProcessExecutionFactory] Exiting ServiceExecutionIntf with return value .....null(org.jbpm.test.ProcessExecutionProviderImpl)
16:37:27,762 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- beginning hibernate tx 19486230 --------------------------------------------------------
16:37:27,921 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 2165098 -------------------------------------------------------
16:37:27,926 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- beginning hibernate tx 26648124 --------------------------------------------------------
16:37:28,001 ERROR [STDERR] 6 Dec, 2010 4:37:28 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 9901286 -------------------------------------------------------
16:37:28,018 ERROR [STDERR] 6 Dec, 2010 4:37:28 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- beginning hibernate tx 11762369 --------------------------------------------------------
16:37:28,185 ERROR [STDERR] 6 Dec, 2010 4:37:28 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 7629906 -------------------------------------------------------
""


So, is any way to avoid it from printing on jboss server?
If so, then plz. r'ply me as soon as possible.

thank you.",hibernate,jboss,,,,,open,0,184,8,"avoid hibernate logs from printing on jboss console I m using jboss as application server, it very irritating when I am deploy my application on jboss server it printing hibernate logs like 



""FINE: ----- beginning hibernate tx 32213345 --------------------------------------------------------
16:37:27,716 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log info
INFO: jBPM version info: library[4.3], schema[4.3]
16:37:27,717 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 22527471 -------------------------------------------------------
16:37:27,719 INFO  [STDOUT] 16:37:27,719 INFO  [ProcessExecutionFactory] Exiting ServiceExecutionIntf with return value .....null(org.jbpm.test.ProcessExecutionProviderImpl)
16:37:27,762 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- beginning hibernate tx 19486230 --------------------------------------------------------
16:37:27,921 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 2165098 -------------------------------------------------------
16:37:27,926 ERROR [STDERR] 6 Dec, 2010 4:37:27 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- beginning hibernate tx 26648124 --------------------------------------------------------
16:37:28,001 ERROR [STDERR] 6 Dec, 2010 4:37:28 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 9901286 -------------------------------------------------------
16:37:28,018 ERROR [STDERR] 6 Dec, 2010 4:37:28 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- beginning hibernate tx 11762369 --------------------------------------------------------
16:37:28,185 ERROR [STDERR] 6 Dec, 2010 4:37:28 PM org.jbpm.internal.log.Jdk14Log debug
FINE: ----- committing hibernate tx 7629906 -------------------------------------------------------
""


So, is any way to avoid it from printing on jboss server?
If so, then plz. r'ply me as soon as possible.

thank you.",2
4110662,11/05/2010 22:35:16,419156,08/13/2010 03:59:11,23,2,org.springframework.transaction.UnexpectedRollbackException for Null @Version column,"I'm using Spring 3.0.4-RELEASE, JPA 2.0 with Hibernate as a provider, and JTA JOTM for transactions in my application.  I've received the following error when calling `entityManager.merge` on my entity object:

    org.objectweb.jotm.SubCoordinator commit_one_phase
    INFO: Rollback during beforeCompletion in SubCoordinator.commit_one_phase
    org.springframework.transaction.UnexpectedRollbackException: JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is javax.transaction.RollbackException 
          at
     org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1012)    

This error came as a result of inserting data directly into the database (MySQL) through our Talend ETL job.  I noticed that my `@Version` column in the database had `NULL` values and decided to set them to 0 and this resolved the issue.

Why can't the `@Version` column be `NULL`?  Has anyone else come across this issue?  Thanks.",hibernate,spring,transactions,jpa-2.0,optimistic-locking,,open,0,143,5,"org.springframework.transaction.UnexpectedRollbackException for Null @Version column I'm using Spring 3.0.4-RELEASE, JPA 2.0 with Hibernate as a provider, and JTA JOTM for transactions in my application.  I've received the following error when calling `entityManager.merge` on my entity object:

    org.objectweb.jotm.SubCoordinator commit_one_phase
    INFO: Rollback during beforeCompletion in SubCoordinator.commit_one_phase
    org.springframework.transaction.UnexpectedRollbackException: JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is javax.transaction.RollbackException 
          at
     org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1012)    

This error came as a result of inserting data directly into the database (MySQL) through our Talend ETL job.  I noticed that my `@Version` column in the database had `NULL` values and decided to set them to 0 and this resolved the issue.

Why can't the `@Version` column be `NULL`?  Has anyone else come across this issue?  Thanks.",5
7093410,08/17/2011 13:09:41,853837,07/20/2011 11:39:16,6,1,ManyToMany with interfaces,"I have an application in which I have 4 entities User, Group, Message and Ticket each entity has an id that is being generated by their corresponding sequences. I'm using JPA with Hibernate.

    @Entity
    class User extends SomeClassA{
         @Id
         @GeneratedValue(generator=""seqUser"")
         int userId;
         ... other fields, getter and setters ....
    }
    
    @Entity
    class Group extends SomeClassB{
         @Id
         @GeneratedValue(generator=""seqGrp"")
         int groupId;
         ... other fields, getter and setters ....
    }
    @Entity
    class Message extends SomeClassC{
         @Id
         @GeneratedValue(generator=""seqMsg"")
         int msgId;
         ... other fields, getter and setters ....
    }
    @Entity
    class Ticket extends SomeClassD{
         @Id
         @GeneratedValue(generator=""seqTic"")
         int ticId;
         ... other fields, getter and setters ....
    }

The application is working fine. Now I need to make few changes in this application:
1. Each Message and Ticket needs to be approved.
2. There can be multiple approvers for each Message/Ticket.
3. Each User/Group will have an approval queue.

I've thought of implementing the changes as follows:
1. User and Group will implement interface 'Approver'.
2. Message and Ticket will implement interface 'Approvable'.
3. User and Group will have a List<Approvable> approvalQueue;
4. Message and Ticket will have a List<Approver> approvers;

Can anyone help me understand how this can be done?

Thanks
Amit Khanna ",hibernate,jpa,many-to-many,,,,open,0,354,3,"ManyToMany with interfaces I have an application in which I have 4 entities User, Group, Message and Ticket each entity has an id that is being generated by their corresponding sequences. I'm using JPA with Hibernate.

    @Entity
    class User extends SomeClassA{
         @Id
         @GeneratedValue(generator=""seqUser"")
         int userId;
         ... other fields, getter and setters ....
    }
    
    @Entity
    class Group extends SomeClassB{
         @Id
         @GeneratedValue(generator=""seqGrp"")
         int groupId;
         ... other fields, getter and setters ....
    }
    @Entity
    class Message extends SomeClassC{
         @Id
         @GeneratedValue(generator=""seqMsg"")
         int msgId;
         ... other fields, getter and setters ....
    }
    @Entity
    class Ticket extends SomeClassD{
         @Id
         @GeneratedValue(generator=""seqTic"")
         int ticId;
         ... other fields, getter and setters ....
    }

The application is working fine. Now I need to make few changes in this application:
1. Each Message and Ticket needs to be approved.
2. There can be multiple approvers for each Message/Ticket.
3. Each User/Group will have an approval queue.

I've thought of implementing the changes as follows:
1. User and Group will implement interface 'Approver'.
2. Message and Ticket will implement interface 'Approvable'.
3. User and Group will have a List<Approvable> approvalQueue;
4. Message and Ticket will have a List<Approver> approvers;

Can anyone help me understand how this can be done?

Thanks
Amit Khanna ",3
1600215,10/21/2009 11:22:50,63051,02/05/2009 20:53:34,3687,85,Implementing result paging in hibernate,"How do I implement paging in Hibernate? The [`Query`][1] objects has methods called [`setMaxResults`][2] and [`setFirstResult`][3] which are certainly helpful. But where can I get the total number of results, so that I can show link to last page of results, and print things such as results 200 to 250 of *xxx*?


  [1]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html
  [2]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setMaxResults(int)
  [3]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setFirstResult(int)",hibernate,java,database,paging,,,open,0,61,5,"Implementing result paging in hibernate How do I implement paging in Hibernate? The [`Query`][1] objects has methods called [`setMaxResults`][2] and [`setFirstResult`][3] which are certainly helpful. But where can I get the total number of results, so that I can show link to last page of results, and print things such as results 200 to 250 of *xxx*?


  [1]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html
  [2]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setMaxResults(int)
  [3]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setFirstResult(int)",4
10374078,04/29/2012 17:06:29,937892,09/10/2011 05:38:40,1,0,Hibernate Issue When Retrieving Large No of Records,"When I am retrieving large no of records from a table that contains nearly 10000 records in hibernate it is taking nearly 20 minutes and the page is struck.If I use Hibernate pagination i can able to access limited no of records by using **setMaxresults()** method .But i need to access all the records.what i need to do?Can any one suggest me?
Thanks in  advance.",hibernate,,,,,,open,0,65,8,"Hibernate Issue When Retrieving Large No of Records When I am retrieving large no of records from a table that contains nearly 10000 records in hibernate it is taking nearly 20 minutes and the page is struck.If I use Hibernate pagination i can able to access limited no of records by using **setMaxresults()** method .But i need to access all the records.what i need to do?Can any one suggest me?
Thanks in  advance.",1
4560267,12/30/2010 05:36:58,232751,12/16/2009 08:23:01,13,0,JPA and Hibernate,Is Hibernate using instead of JPA?,hibernate,jpa,,,,12/30/2010 07:48:11,not a real question,1,6,3,JPA and Hibernate Is Hibernate using instead of JPA?,2
7692464,10/07/2011 20:18:46,331747,05/03/2010 19:59:20,414,33,Hibernate Search in a Clustered Configuration?,"I have a Java web app that I'm developing, using JBoss Seam as the application framework.  I'd like to take advantage of Hibernate Search to provide entity searching capabilities.  The integration has gone fine, and I'm getting closer to deployment.  The setup for the app in production will be:

*  2 (or more) Tomcat app servers, load balanced
*  PostgreSQL database on the backend

My question is, how can I configure Hibernate Search so that the local Lucene indices are updated on App Server #2 when an entity is persisted on App Server #1, and vice versa?  Does Hibernate Search have any sort of clustered-configuration support?  The setup would have to be somewhat master-master since the persist could occur on either of the load-balanced app servers.

Does anyone have any recommendations on how to tackle this?  Thanks for your help in advance!",hibernate,search,tomcat,jpa,cluster-computing,,open,0,146,6,"Hibernate Search in a Clustered Configuration? I have a Java web app that I'm developing, using JBoss Seam as the application framework.  I'd like to take advantage of Hibernate Search to provide entity searching capabilities.  The integration has gone fine, and I'm getting closer to deployment.  The setup for the app in production will be:

*  2 (or more) Tomcat app servers, load balanced
*  PostgreSQL database on the backend

My question is, how can I configure Hibernate Search so that the local Lucene indices are updated on App Server #2 when an entity is persisted on App Server #1, and vice versa?  Does Hibernate Search have any sort of clustered-configuration support?  The setup would have to be somewhat master-master since the persist could occur on either of the load-balanced app servers.

Does anyone have any recommendations on how to tackle this?  Thanks for your help in advance!",5
11689301,07/27/2012 13:58:03,1287523,03/23/2012 04:47:34,47,0,Trouble with inner joins in hibernate (HQL),"I'm using Struts+Spring+Hibernate and I'm having trouble getting my HQL to execute properly.

I have four objects, objectA, objectB, objectC, and objectD.  Object A has a one to many relationship with Object B, and they are related as ObjectB has a FK ObjectA.Id.  This pattern continues through the objects ie Object B has a one-many relationship with Object C etc.

What I've been doing right now is calling ""FROM ObjectXVO WHERE objectXId = ?"" to get a list of objects.  My application is becoming more complicated so I need to do some more complicated HQL.

Essentially what I need is, given ObjectBVO.objectBId I need to return certain columns of the ObjectA that has the given ObjectB, certain columns of the ObjectCs that are part of the given ObjectB, and ALL columns of the ObjectDs that are part of the ObjectCs that are part of the given ObjectBs.  

This is my SQL Statement that I'm using in Microsoft SQL Server.  It's working and hopefully will demonstrate my model.

    SELECT ObjectB.ObjectBID, ObjectB.ObjectBName, ObjectC.ObjectCDescription, 
    ObjectD.*, ObjectA.ObjectAID
    FROM ObjectB, ObjectC, ObjectD, ObjectA
    WHERE ObjectB.ObjectBID = 2 
    AND ObjectA.ObjectAID = ObjectB.ObjectAID
    AND ObjectB.ObjectBID = ObjectC.ObjectBID
    AND ObjectD.ObjectCID = ObjectC.ObjectCID

This is the code in the DAOimpl object I'm attempting to use to return List< ObjectDVO >

    List<ObjectDVO> objectDs;
    try{
	String hql = ""SELECT ObjectBVO.objectBId, ObjectBVO.objectBName,
        ObjectCVO.objectCDescription, ObjectCVO.objectCId,""
	+"" ObjectAVO.objectAId, ObjectAVO.objectAName, ObjectDVO""
        +"" FROM ObjectBVO, ObjectAVO, ObjectCVO, ObjectDVO""
        +"" WHERE ObjectBVO.objectBId = ?""
	+"" AND ObjectAVO.objectAId = ObjectBVO.objectAId""
	+"" AND ObjectBVO.objectBId = ObjectCVO.objectBId""
	+"" AND ObjectDVO.objectCId = ObjectCVO.objectCId"";
	objectDs = getHibernateTemplate().find(hql, objectBID);
    }

This just throws an error saying null.  I've looked at the HQL documentation and some tutorials but it's not really clear how to do this more multiple VO objects.  Can anyone help?  Thanks.",hibernate,struts,hql,,,,open,0,340,7,"Trouble with inner joins in hibernate (HQL) I'm using Struts+Spring+Hibernate and I'm having trouble getting my HQL to execute properly.

I have four objects, objectA, objectB, objectC, and objectD.  Object A has a one to many relationship with Object B, and they are related as ObjectB has a FK ObjectA.Id.  This pattern continues through the objects ie Object B has a one-many relationship with Object C etc.

What I've been doing right now is calling ""FROM ObjectXVO WHERE objectXId = ?"" to get a list of objects.  My application is becoming more complicated so I need to do some more complicated HQL.

Essentially what I need is, given ObjectBVO.objectBId I need to return certain columns of the ObjectA that has the given ObjectB, certain columns of the ObjectCs that are part of the given ObjectB, and ALL columns of the ObjectDs that are part of the ObjectCs that are part of the given ObjectBs.  

This is my SQL Statement that I'm using in Microsoft SQL Server.  It's working and hopefully will demonstrate my model.

    SELECT ObjectB.ObjectBID, ObjectB.ObjectBName, ObjectC.ObjectCDescription, 
    ObjectD.*, ObjectA.ObjectAID
    FROM ObjectB, ObjectC, ObjectD, ObjectA
    WHERE ObjectB.ObjectBID = 2 
    AND ObjectA.ObjectAID = ObjectB.ObjectAID
    AND ObjectB.ObjectBID = ObjectC.ObjectBID
    AND ObjectD.ObjectCID = ObjectC.ObjectCID

This is the code in the DAOimpl object I'm attempting to use to return List< ObjectDVO >

    List<ObjectDVO> objectDs;
    try{
	String hql = ""SELECT ObjectBVO.objectBId, ObjectBVO.objectBName,
        ObjectCVO.objectCDescription, ObjectCVO.objectCId,""
	+"" ObjectAVO.objectAId, ObjectAVO.objectAName, ObjectDVO""
        +"" FROM ObjectBVO, ObjectAVO, ObjectCVO, ObjectDVO""
        +"" WHERE ObjectBVO.objectBId = ?""
	+"" AND ObjectAVO.objectAId = ObjectBVO.objectAId""
	+"" AND ObjectBVO.objectBId = ObjectCVO.objectBId""
	+"" AND ObjectDVO.objectCId = ObjectCVO.objectCId"";
	objectDs = getHibernateTemplate().find(hql, objectBID);
    }

This just throws an error saying null.  I've looked at the HQL documentation and some tutorials but it's not really clear how to do this more multiple VO objects.  Can anyone help?  Thanks.",3
9038640,01/27/2012 19:04:14,267398,02/05/2010 21:05:16,21,2,Why is my Hibernate Criteria throwing a null porinter exception?,"Why does this work fine:

    Object searchCores() {
    	...
    	def core_criteria = sessionFactory.currentSession.createCriteria(Core.class)
    	core_criteria.add(Restrictions.ilike('field', '%inputvalue%'))
    	...
    }

and this doesn't at runtime:
	
    Object searchCores() {
    	...
    	def core_criteria = sessionFactory.currentSession.createCriteria(Core.class)
    	core_criteria.add(X())
    	...
    }	
    
    Criterion X() {
    	return Restrictions.ilike('field', '%inputvalue%'))
    }

Error is:    
Error 500: Internal Server Error    
Class java.lang.NullPointerException    
Message null    
at core_criteria.add(X()) line.

The point of this question is that at some point I want function X to become a recursive function that adds a long list of nested Restrictions.or Criterions from a list of input.

I am using Grails 2.0.

Thank you",hibernate,grails,criteria,,,,open,0,150,10,"Why is my Hibernate Criteria throwing a null porinter exception? Why does this work fine:

    Object searchCores() {
    	...
    	def core_criteria = sessionFactory.currentSession.createCriteria(Core.class)
    	core_criteria.add(Restrictions.ilike('field', '%inputvalue%'))
    	...
    }

and this doesn't at runtime:
	
    Object searchCores() {
    	...
    	def core_criteria = sessionFactory.currentSession.createCriteria(Core.class)
    	core_criteria.add(X())
    	...
    }	
    
    Criterion X() {
    	return Restrictions.ilike('field', '%inputvalue%'))
    }

Error is:    
Error 500: Internal Server Error    
Class java.lang.NullPointerException    
Message null    
at core_criteria.add(X()) line.

The point of this question is that at some point I want function X to become a recursive function that adds a long list of nested Restrictions.or Criterions from a list of input.

I am using Grails 2.0.

Thank you",3
9030334,01/27/2012 07:48:55,1172965,01/27/2012 06:55:55,1,0,"Spring, Maven Dependency and Jar Issues","I had made Spring MVC and Hibernate application by taking reference from 
[here][1]

  [1]: http://krams915.blogspot.com/2011/01/spring-mvc-3-hibernate-annotations.html


on the office system(running Ubuntu). It's running fine and showing no problems.

When I copy and save the application on my home system (running windows xp), error shown that some jars failed to transfer.

Also, this dependecy 

    <dependency>
        	<groupId>org.hibernate</groupId>
        	<artifactId>hibernate-core</artifactId>
        	<version>3.3.2.GA</version>
        	<type>jar</type>
        	<scope>compile</scope>
        </dependency>

doesn't work on my xp system. 

When I changes the hibernate version to 3.6.x, jars successfully transferred.

I am running maven 3 and m2eclipse on both systems.

Kindly Advice..

",hibernate,spring,spring-mvc,maven-3,m2eclipse,,open,0,129,6,"Spring, Maven Dependency and Jar Issues I had made Spring MVC and Hibernate application by taking reference from 
[here][1]

  [1]: http://krams915.blogspot.com/2011/01/spring-mvc-3-hibernate-annotations.html


on the office system(running Ubuntu). It's running fine and showing no problems.

When I copy and save the application on my home system (running windows xp), error shown that some jars failed to transfer.

Also, this dependecy 

    <dependency>
        	<groupId>org.hibernate</groupId>
        	<artifactId>hibernate-core</artifactId>
        	<version>3.3.2.GA</version>
        	<type>jar</type>
        	<scope>compile</scope>
        </dependency>

doesn't work on my xp system. 

When I changes the hibernate version to 3.6.x, jars successfully transferred.

I am running maven 3 and m2eclipse on both systems.

Kindly Advice..

",5
8023035,11/05/2011 20:23:45,1024858,11/02/2011 03:01:02,10,0,Get value in grails,"*Hi all,*

def bid= Book.findAllBy(params.bname)<br>
        
println(bid.id)<br>

I got the result is [58]<br>

How can i just get the value without quote.<br>

And how can i convert 'bid' to integer<br>

Thanks!!!

",hibernate,grails,,,,,open,0,32,4,"Get value in grails *Hi all,*

def bid= Book.findAllBy(params.bname)<br>
        
println(bid.id)<br>

I got the result is [58]<br>

How can i just get the value without quote.<br>

And how can i convert 'bid' to integer<br>

Thanks!!!

",2
7578274,09/28/2011 04:21:36,142476,07/22/2009 02:23:11,316,6,How to inject/resolve properties into an XML file with Guice to configure the persistence.xml file?,"I'm using guice-persist and I would like to know if there is any to inject or resolver properties from a Java property file into the persistence.xml file like I would do with Spring. For example:

    <?xml version=""1.0"" encoding=""UTF-8"" ?>
    <persistence xmlns=""http://java.sun.com/xml/ns/persistence""
    	xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
    	xsi:schemaLocation=""http://java.sun.com/xml/ns/persistence 
            http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd""
    	version=""2.0"">
    
    	<persistence-unit name=""WoloxShivaJPAUnit"" transaction-type=""RESOURCE_LOCAL"">
    		<provider>org.hibernate.ejb.HibernatePersistence</provider>
    		
    		<class>com.guidomb.MyClass</class>
    		
    		<shared-cache-mode>ENABLE_SELECTIVE</shared-cache-mode>
    		<properties>
                <property name=""hibernate.connection.driver_class"" value=""${hibernate.connection.driver_class}"">
                <property name=""hibernate.connection.url"" value=""${hibernate.connection.url}"">
                <property name=""hibernate.connection.username"" value=""${hibernate.connection.username}"">
                <property name=""hibernate.connection.password"" value=""${hibernate.connection.password}"">
                <property name=""hibernate.dialect"" value=""${hibernate.dialect}"">
                <property name=""hibernate.id.new_generator_mappings"" value=""true"">
    			<property name=""hibernate.ejb.naming_strategy"" value=""org.hibernate.cfg.ImprovedNamingStrategy"" />
    		</properties>
    		
    	</persistence-unit>
    </persistence>

If not how can I configure the EntityManager using the guice-persist libray so as to inject this properties from a property file?.

Thanks!",hibernate,configuration,guice,guice-persist,,,open,0,258,15,"How to inject/resolve properties into an XML file with Guice to configure the persistence.xml file? I'm using guice-persist and I would like to know if there is any to inject or resolver properties from a Java property file into the persistence.xml file like I would do with Spring. For example:

    <?xml version=""1.0"" encoding=""UTF-8"" ?>
    <persistence xmlns=""http://java.sun.com/xml/ns/persistence""
    	xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
    	xsi:schemaLocation=""http://java.sun.com/xml/ns/persistence 
            http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd""
    	version=""2.0"">
    
    	<persistence-unit name=""WoloxShivaJPAUnit"" transaction-type=""RESOURCE_LOCAL"">
    		<provider>org.hibernate.ejb.HibernatePersistence</provider>
    		
    		<class>com.guidomb.MyClass</class>
    		
    		<shared-cache-mode>ENABLE_SELECTIVE</shared-cache-mode>
    		<properties>
                <property name=""hibernate.connection.driver_class"" value=""${hibernate.connection.driver_class}"">
                <property name=""hibernate.connection.url"" value=""${hibernate.connection.url}"">
                <property name=""hibernate.connection.username"" value=""${hibernate.connection.username}"">
                <property name=""hibernate.connection.password"" value=""${hibernate.connection.password}"">
                <property name=""hibernate.dialect"" value=""${hibernate.dialect}"">
                <property name=""hibernate.id.new_generator_mappings"" value=""true"">
    			<property name=""hibernate.ejb.naming_strategy"" value=""org.hibernate.cfg.ImprovedNamingStrategy"" />
    		</properties>
    		
    	</persistence-unit>
    </persistence>

If not how can I configure the EntityManager using the guice-persist libray so as to inject this properties from a property file?.

Thanks!",4
2577894,04/05/2010 10:36:28,287857,03/06/2010 18:21:13,6,1,Hibernate won't save into database,"I mapped some classes to some tables with hibernate in java, i set hibernate to show SQL, it opens the session, it show that id does the SQL, it closes the session but there are no modifications to the database.

Entity

    public class Profesor implements Comparable<Profesor> {
    private int id;
    private String nume;
    private String prenume;
    private int departament_id;
    private Set<Disciplina> listaDiscipline; //the teacher gives some courses}

public class Disciplina implements Comparable<Disciplina>{ //the course class

    private int id;
    private String denumire;
 private String syllabus;
    private String schNotare;
    private Set<Lectie> lectii;
    private Set<Tema> listaTeme;
    private Set<Grup> listaGrupuri; // the course gets teached/assigmened to some groups of students
    private Set<Assignment> listAssignments;}

Mapping

    <hibernate-mapping default-cascade=""all"">
<class name=""model.Profesor"" table=""devgar_scoala.profesori"">
 <id name=""id"" column=""id"">
  <generator class=""increment""/>
 </id>
 <set name=""listaDiscipline"" table=""devgar_scoala.`profesori-discipline`"">
  <key column=""Profesori_id"" />
  <many-to-many class=""model.Disciplina"" column=""Discipline_id""  />
 </set>
  <property name=""nume"" column=""Nume"" type=""string"" />
  <property name=""prenume"" column=""Prenume"" type=""string"" />
  <property name=""departament_id"" column=""Departamente_id"" type=""integer"" />
</class>

<class name=""model.Grup"" table=""devgar_scoala.grupe"">
 <id name=""id"" unsaved-value=""0"">
  <generator class=""increment""/>
 </id>
 <set name=""listaStudenti"" table=""devgar_scoala.`studenti-grupe`"">
  <key column=""Grupe_id"" />
  <many-to-many column=""Studenti_nrMatricol"" class=""model.Student"" />
 </set>

  <property name=""nume"" column=""Grupa"" type=""string""/>
  <property name=""programStudiu"" column=""progStudii_id"" type=""integer"" />
</class>
<class name=""model.Disciplina"" table=""devgar_scoala.discipline"" >
 <id name=""id""  >
  <generator class=""increment""/>
 </id> 
 <property name=""denumire"" column=""Denumire"" type=""string""/>
 <property name=""syllabus"" type=""string"" column=""Syllabus""/>
 <property name=""schNotare"" type=""string"" column=""SchemaNotare""/>
 
 <set name=""listaGrupuri"" table=""devgar_scoala.`Discipline-Grupe`"">
  <key column=""Discipline_id"" />
  <many-to-many column=""Grupe_id"" class=""model.Grup"" />
 </set>
 
 <set name=""lectii"" table=""devgar_scoala.lectii"">
  <key column=""Discipline_id"" not-null=""true""/>
  <one-to-many class=""model.Lectie""  />
 </set>
</class>

The only 'funny' thing is that the Profesor object gets loaded not with/by Hibernate but with manual classic SQL Java. Thats why i save the Profesor object like this
p - the manually loaded Profesor object

    Profesor p2 = (Profesor) session.merge(p);
   session.saveOrUpdate(p2);
    //flush session of course
  
After this i get in the Java console:

    Hibernate: insert into devgar_scoala.grupe (Grupa, progStudii_id, id) values (?, ?, ?)

but when i look into the database there are no new rows in the table Grupe (the Groups table)",hibernate,java,mapping,database,save,,open,0,370,5,"Hibernate won't save into database I mapped some classes to some tables with hibernate in java, i set hibernate to show SQL, it opens the session, it show that id does the SQL, it closes the session but there are no modifications to the database.

Entity

    public class Profesor implements Comparable<Profesor> {
    private int id;
    private String nume;
    private String prenume;
    private int departament_id;
    private Set<Disciplina> listaDiscipline; //the teacher gives some courses}

public class Disciplina implements Comparable<Disciplina>{ //the course class

    private int id;
    private String denumire;
 private String syllabus;
    private String schNotare;
    private Set<Lectie> lectii;
    private Set<Tema> listaTeme;
    private Set<Grup> listaGrupuri; // the course gets teached/assigmened to some groups of students
    private Set<Assignment> listAssignments;}

Mapping

    <hibernate-mapping default-cascade=""all"">
<class name=""model.Profesor"" table=""devgar_scoala.profesori"">
 <id name=""id"" column=""id"">
  <generator class=""increment""/>
 </id>
 <set name=""listaDiscipline"" table=""devgar_scoala.`profesori-discipline`"">
  <key column=""Profesori_id"" />
  <many-to-many class=""model.Disciplina"" column=""Discipline_id""  />
 </set>
  <property name=""nume"" column=""Nume"" type=""string"" />
  <property name=""prenume"" column=""Prenume"" type=""string"" />
  <property name=""departament_id"" column=""Departamente_id"" type=""integer"" />
</class>

<class name=""model.Grup"" table=""devgar_scoala.grupe"">
 <id name=""id"" unsaved-value=""0"">
  <generator class=""increment""/>
 </id>
 <set name=""listaStudenti"" table=""devgar_scoala.`studenti-grupe`"">
  <key column=""Grupe_id"" />
  <many-to-many column=""Studenti_nrMatricol"" class=""model.Student"" />
 </set>

  <property name=""nume"" column=""Grupa"" type=""string""/>
  <property name=""programStudiu"" column=""progStudii_id"" type=""integer"" />
</class>
<class name=""model.Disciplina"" table=""devgar_scoala.discipline"" >
 <id name=""id""  >
  <generator class=""increment""/>
 </id> 
 <property name=""denumire"" column=""Denumire"" type=""string""/>
 <property name=""syllabus"" type=""string"" column=""Syllabus""/>
 <property name=""schNotare"" type=""string"" column=""SchemaNotare""/>
 
 <set name=""listaGrupuri"" table=""devgar_scoala.`Discipline-Grupe`"">
  <key column=""Discipline_id"" />
  <many-to-many column=""Grupe_id"" class=""model.Grup"" />
 </set>
 
 <set name=""lectii"" table=""devgar_scoala.lectii"">
  <key column=""Discipline_id"" not-null=""true""/>
  <one-to-many class=""model.Lectie""  />
 </set>
</class>

The only 'funny' thing is that the Profesor object gets loaded not with/by Hibernate but with manual classic SQL Java. Thats why i save the Profesor object like this
p - the manually loaded Profesor object

    Profesor p2 = (Profesor) session.merge(p);
   session.saveOrUpdate(p2);
    //flush session of course
  
After this i get in the Java console:

    Hibernate: insert into devgar_scoala.grupe (Grupa, progStudii_id, id) values (?, ?, ?)

but when i look into the database there are no new rows in the table Grupe (the Groups table)",5
7478832,09/20/2011 00:26:10,373823,06/23/2010 02:51:21,3,0,Custom entity persister for entities,"I am looking for a way to set a custom entity persister for all my entities. One of the way hibernate allows is to use the @Entity annotation (persister attribute) to set it on each entity. As i have too many of them i am wondering if there is an alternate way to set them such as using package level annotation specified in package-info.java or by setting any property in ""hibernate-cfg.xml"" ",hibernate,,,,,,open,0,72,5,"Custom entity persister for entities I am looking for a way to set a custom entity persister for all my entities. One of the way hibernate allows is to use the @Entity annotation (persister attribute) to set it on each entity. As i have too many of them i am wondering if there is an alternate way to set them such as using package level annotation specified in package-info.java or by setting any property in ""hibernate-cfg.xml"" ",1
4180983,11/15/2010 02:32:24,398711,07/22/2010 04:41:26,1,0,design pattern in hibernate? ,"can anyone tell me what design patterns in hibernate? 

thanks in advance. ",hibernate,design,design-patterns,,,03/19/2012 15:08:34,not a real question,1,13,5,"design pattern in hibernate?  can anyone tell me what design patterns in hibernate? 

thanks in advance. ",3
8940902,01/20/2012 11:42:50,546128,12/17/2010 13:52:11,525,25,Is this SQL query possible in JPA2 critera API?,"    SELECT * FROM t1
    JOIN t2 ON t1.id = t2.id
    JOIN(SELECT id, MAX(version) FROM t2 GROUP BY id) AS subtbl on t2.id = t1.id
    WHERE t2.version = subtbl.version

In other words, All t2 rows have a version, and for each t1 row I want to find the highest version of t2 (the whole row, not just the version number). Is this possible with Criteria API? The only uses of subqueries I have seen only involves using ""IN"" rather than comparing values. I've also thought of converting the subquery to a `LEFT JOIN t2 AS oldert2 ON oldert2.version < t2.version` and adding `WHERE oldert2 IS NOT NULL`, but Criteria API does not (from my knowledge) support joins using anything else than PKs.

Is this possible? I'd rather avoid using JPQL (if it is even possible with JPQL) due to the query being <b>very</b> dynamic.
    ",hibernate,jpa-2.0,criteria-api,,,,open,0,158,9,"Is this SQL query possible in JPA2 critera API?     SELECT * FROM t1
    JOIN t2 ON t1.id = t2.id
    JOIN(SELECT id, MAX(version) FROM t2 GROUP BY id) AS subtbl on t2.id = t1.id
    WHERE t2.version = subtbl.version

In other words, All t2 rows have a version, and for each t1 row I want to find the highest version of t2 (the whole row, not just the version number). Is this possible with Criteria API? The only uses of subqueries I have seen only involves using ""IN"" rather than comparing values. I've also thought of converting the subquery to a `LEFT JOIN t2 AS oldert2 ON oldert2.version < t2.version` and adding `WHERE oldert2 IS NOT NULL`, but Criteria API does not (from my knowledge) support joins using anything else than PKs.

Is this possible? I'd rather avoid using JPQL (if it is even possible with JPQL) due to the query being <b>very</b> dynamic.
    ",3
10722176,05/23/2012 14:35:08,861742,07/25/2011 14:15:14,125,0,Cached entity with mutable=false generates duplicate entry error,"An entity, used caching. Because of caching, a readonly error was got, then `mutable =false` added.

        @org.hibernate.annotations.Entity(mutable=false)
        @javax.persistence.Entity
        @Table(name = ""ProductCategory"")
        @Cache(usage=CacheConcurrencyStrategy.READ_ONLY)
        public class ProductCategory implements Serializable  {


	         @ManyToOne(fetch=FetchType.EAGER)
 	         private ProductCategory parentProductCategory;
	
	
	         @OneToMany(fetch=FetchType.LAZY,orphanRemoval=true, mappedBy=""parentProductCategory"", cascade ={CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH, CascadeType.REMOVE})
	         @OnDelete(action = OnDeleteAction.CASCADE)
	         @org.hibernate.annotations.BatchSize(size=0)
 	         private List<ProductCategory> childProductCategorys  = new ArrayList<ProductCategory>();

    }

In a controller, i try to generate a child and add it to the parent


        productCategory=new ProductCategory();

Above line runs as a commandbutton's action, then a dialog appears, a button in dialog make the below code to run.
...

    productCategory.setParentProductCategory(this.selectedProductCategory);
        productCategory=productCategoryService.save(productCategory);
        this.selectedProductCategory.getChildProductCategorys().add(productCategory);
        productCategoryService.save(selectedProductCategory);


When i commented cache and mutable lines, it works as i expected. But now throws duplicate entry exception at the last line. Save method, calls `entitymanager.merge`.",hibernate,,,,,,open,0,234,8,"Cached entity with mutable=false generates duplicate entry error An entity, used caching. Because of caching, a readonly error was got, then `mutable =false` added.

        @org.hibernate.annotations.Entity(mutable=false)
        @javax.persistence.Entity
        @Table(name = ""ProductCategory"")
        @Cache(usage=CacheConcurrencyStrategy.READ_ONLY)
        public class ProductCategory implements Serializable  {


	         @ManyToOne(fetch=FetchType.EAGER)
 	         private ProductCategory parentProductCategory;
	
	
	         @OneToMany(fetch=FetchType.LAZY,orphanRemoval=true, mappedBy=""parentProductCategory"", cascade ={CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH, CascadeType.REMOVE})
	         @OnDelete(action = OnDeleteAction.CASCADE)
	         @org.hibernate.annotations.BatchSize(size=0)
 	         private List<ProductCategory> childProductCategorys  = new ArrayList<ProductCategory>();

    }

In a controller, i try to generate a child and add it to the parent


        productCategory=new ProductCategory();

Above line runs as a commandbutton's action, then a dialog appears, a button in dialog make the below code to run.
...

    productCategory.setParentProductCategory(this.selectedProductCategory);
        productCategory=productCategoryService.save(productCategory);
        this.selectedProductCategory.getChildProductCategorys().add(productCategory);
        productCategoryService.save(selectedProductCategory);


When i commented cache and mutable lines, it works as i expected. But now throws duplicate entry exception at the last line. Save method, calls `entitymanager.merge`.",1
10766495,05/26/2012 13:05:15,1260443,03/10/2012 01:04:50,6,1,how to connect MS access with hibernate?,"i need to connect the MS access database with hibernate can one help me..
          i am very confusion with what is driver class and how to configure with my eclipse
        your help very greate ",hibernate,,,,,05/30/2012 10:55:33,not a real question,1,51,7,"how to connect MS access with hibernate? i need to connect the MS access database with hibernate can one help me..
          i am very confusion with what is driver class and how to configure with my eclipse
        your help very greate ",1
9737880,03/16/2012 13:11:03,1274079,03/16/2012 13:05:13,1,0,Hibernate one to many relation,"I have 1 to Many releationship

    @Entity
    @Table(name = ""job"")
    public class JobBean implements Serializable{
    	
    	@Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        @Column(name = ""id"", updatable = false, nullable = false)
        private Long id;
    	
    	@Column(name = ""name"")
    	protected String name;
    	 
    	@Column(name = ""state"")
    	protected String state;
    .......
    
    
    
    @Entity
    @Table(name = ""task"")
    public class TaskBean implements Serializable{
    	@Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        @Column(name = ""tid"", updatable = false, nullable = false)
    	protected Long tid;
    	
    	@Column(name = ""id"")
    	protected Long id;
    
    	@Column(name = ""state"")
    	protected String state;
    	
    	@Column(name = ""progress"")
    	protected int progress;

In Task the id is the forign key from Job.

I want to get all the jobs and its associated tasks. How does my hibernate util look like?
",hibernate,onetomany,,,,,open,0,245,5,"Hibernate one to many relation I have 1 to Many releationship

    @Entity
    @Table(name = ""job"")
    public class JobBean implements Serializable{
    	
    	@Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        @Column(name = ""id"", updatable = false, nullable = false)
        private Long id;
    	
    	@Column(name = ""name"")
    	protected String name;
    	 
    	@Column(name = ""state"")
    	protected String state;
    .......
    
    
    
    @Entity
    @Table(name = ""task"")
    public class TaskBean implements Serializable{
    	@Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        @Column(name = ""tid"", updatable = false, nullable = false)
    	protected Long tid;
    	
    	@Column(name = ""id"")
    	protected Long id;
    
    	@Column(name = ""state"")
    	protected String state;
    	
    	@Column(name = ""progress"")
    	protected int progress;

In Task the id is the forign key from Job.

I want to get all the jobs and its associated tasks. How does my hibernate util look like?
",2
7272494,09/01/2011 15:20:01,846774,07/15/2011 15:41:53,68,7,PostGIS + JPA + Hibernate - Centroid Query,"Hello fellow overflowers! I was hoping I could get some help with this query.  I am still rather new to hibernate and JPA and do not quite understand how to do custom queries.  I can query for whole objects but cannot figure out how to get what I want with this one.  I am using an entityManager instead of sessionfactory also.  Here's what I got so far:

    public String findCentroid(final DTOobject objectIn)
       {
          final Query query = entityManager.createQuery(""select ST_Centroid(geometry) from DTOobject object where id = :id "");
          query.setParameter(""id"", objectIn.getId());
    
          List temp = query.getResultList();
    
          return (String) temp.get(0);
       }

I abstracted my actual object for DTOobject but all you need to know is that it has a geometry field in the database.  But essentially I am calling the postgis function ST_Centroid and do not know how to get the results of this database call.  This same query from the postgres command prompt works fine, I just can't get the results back to Java. What am I missing here? I feel like this should be easy.",hibernate,jpa,postgis,,,,open,0,237,8,"PostGIS + JPA + Hibernate - Centroid Query Hello fellow overflowers! I was hoping I could get some help with this query.  I am still rather new to hibernate and JPA and do not quite understand how to do custom queries.  I can query for whole objects but cannot figure out how to get what I want with this one.  I am using an entityManager instead of sessionfactory also.  Here's what I got so far:

    public String findCentroid(final DTOobject objectIn)
       {
          final Query query = entityManager.createQuery(""select ST_Centroid(geometry) from DTOobject object where id = :id "");
          query.setParameter(""id"", objectIn.getId());
    
          List temp = query.getResultList();
    
          return (String) temp.get(0);
       }

I abstracted my actual object for DTOobject but all you need to know is that it has a geometry field in the database.  But essentially I am calling the postgis function ST_Centroid and do not know how to get the results of this database call.  This same query from the postgres command prompt works fine, I just can't get the results back to Java. What am I missing here? I feel like this should be easy.",3
9480330,02/28/2012 10:35:39,487605,10/26/2010 12:32:21,344,29,How to use @SQLInsert with ResultCheckStyle.NONE in Grails to achieve Postgres partitioning,"I want to use Grails with Postgres and partition a table.
I know, that Hibernate and Postgres is not the best pair when it comes to partitioning.
I've read [here (slide 25)][1] that I can overcome the issue by using `@SQLInsert` with `ResultCheckStyle.NONE`.
I haven't been able to find anything like that in Grails. Is it possible?

Thanks 


  [1]: http://www.redhat.com/f/pdf/jbw/jmlodgenski_940_scaling_hibernate.pdf",hibernate,postgresql,grails,partitioning,database-partitioning,,open,0,58,12,"How to use @SQLInsert with ResultCheckStyle.NONE in Grails to achieve Postgres partitioning I want to use Grails with Postgres and partition a table.
I know, that Hibernate and Postgres is not the best pair when it comes to partitioning.
I've read [here (slide 25)][1] that I can overcome the issue by using `@SQLInsert` with `ResultCheckStyle.NONE`.
I haven't been able to find anything like that in Grails. Is it possible?

Thanks 


  [1]: http://www.redhat.com/f/pdf/jbw/jmlodgenski_940_scaling_hibernate.pdf",5
9130842,02/03/2012 15:09:37,898588,08/17/2011 12:12:31,16,1,Architecture for spring enterprise web application,"I need understand what architecture use in new project. We want to use GWT & spring mvc as the base. 
Also we have about 100 entities in domain model, which need to persist in DB. So we are likely to use Hibernate as ORM solution. 

1. I can't understand what application server we should use? Can we get tomcat or there is best solution for enterprise application in our case? Suggest me please.

2. How tomcat serves http requests, which need database operation through hibernate? 

3. When spring applicationContext.xml is read? During Each http request or not?

4. Using Spring+Hibernate+JPA is fast way in case of middle load application?
",hibernate,spring,tomcat,jpa,architecture,02/06/2012 02:27:08,not constructive,1,107,6,"Architecture for spring enterprise web application I need understand what architecture use in new project. We want to use GWT & spring mvc as the base. 
Also we have about 100 entities in domain model, which need to persist in DB. So we are likely to use Hibernate as ORM solution. 

1. I can't understand what application server we should use? Can we get tomcat or there is best solution for enterprise application in our case? Suggest me please.

2. How tomcat serves http requests, which need database operation through hibernate? 

3. When spring applicationContext.xml is read? During Each http request or not?

4. Using Spring+Hibernate+JPA is fast way in case of middle load application?
",5
5133564,02/27/2011 13:52:45,636491,02/27/2011 13:51:10,1,0,Spring Mvc Controller - problem with delete,"i working in a j2ee project (pojo layer, Dao layer(hibernate), Service Layer(spring), View(spring mvc))
i have a table of articles after each row i want to add a link to remove it.

this is my view

    <c:if test=""${!empty articles}"">
	<table>
		<tr>
			<th>Article ID</th>
			<th>Article Name</th>
			<th>Article Desc</th>
			<th>Added Date</th>
			<th>operation</th>
		</tr>

		<c:forEach items=""${articles}"" var=""article"">
			<tr>
				<td><c:out value=""${article.articleId}""/></td>
				<td><c:out value=""${article.articleName}""/></td>
				<td><c:out value=""${article.articleDesc}""/></td>
				<td><c:out value=""${article.addedDate}""/></td>
				<td><a href=""articles/${article.articleId}"">delete</a></td>
			</tr>
		</c:forEach>
	</table>
</c:if>

here is the controller to delete

    @RequestMapping(value=""/articles/{articleId}"", method=RequestMethod.POST)
	public String deleteContact(@PathVariable(""articleId"")
	Integer articleId) {

		articleService.removeArticle(articleId);

		return ""redirect:/articles.html"";
	}

this is the servcice layer

    	@Transactional(propagation = Propagation.REQUIRED, readOnly = false)
	public void removeArticle(Integer id) {
		articleDao.removeArticle(id);
	}

this is the Dao layer (i try to find the article then to remove it)

    	public void removeArticle(Integer id) {
                //to get the article
		Article article = (Article) sessionFactory.getCurrentSession().load(
				Article.class, id);
		if (null != article) {
			sessionFactory.getCurrentSession().delete(article);
		}

	}

but when i run the project and i click the delete link, i have an 404 error
Etat HTTP 404 - /Spring3Hibernate/articles/1
description The requested resource (/ Spring3Hibernate/articles/1) is not available

can somebody help me?







",hibernate,mvc,spring,controller,dao,,open,0,164,7,"Spring Mvc Controller - problem with delete i working in a j2ee project (pojo layer, Dao layer(hibernate), Service Layer(spring), View(spring mvc))
i have a table of articles after each row i want to add a link to remove it.

this is my view

    <c:if test=""${!empty articles}"">
	<table>
		<tr>
			<th>Article ID</th>
			<th>Article Name</th>
			<th>Article Desc</th>
			<th>Added Date</th>
			<th>operation</th>
		</tr>

		<c:forEach items=""${articles}"" var=""article"">
			<tr>
				<td><c:out value=""${article.articleId}""/></td>
				<td><c:out value=""${article.articleName}""/></td>
				<td><c:out value=""${article.articleDesc}""/></td>
				<td><c:out value=""${article.addedDate}""/></td>
				<td><a href=""articles/${article.articleId}"">delete</a></td>
			</tr>
		</c:forEach>
	</table>
</c:if>

here is the controller to delete

    @RequestMapping(value=""/articles/{articleId}"", method=RequestMethod.POST)
	public String deleteContact(@PathVariable(""articleId"")
	Integer articleId) {

		articleService.removeArticle(articleId);

		return ""redirect:/articles.html"";
	}

this is the servcice layer

    	@Transactional(propagation = Propagation.REQUIRED, readOnly = false)
	public void removeArticle(Integer id) {
		articleDao.removeArticle(id);
	}

this is the Dao layer (i try to find the article then to remove it)

    	public void removeArticle(Integer id) {
                //to get the article
		Article article = (Article) sessionFactory.getCurrentSession().load(
				Article.class, id);
		if (null != article) {
			sessionFactory.getCurrentSession().delete(article);
		}

	}

but when i run the project and i click the delete link, i have an 404 error
Etat HTTP 404 - /Spring3Hibernate/articles/1
description The requested resource (/ Spring3Hibernate/articles/1) is not available

can somebody help me?







",5
5395762,03/22/2011 18:01:42,671746,03/22/2011 18:01:42,1,0,Hibernate: HQL Row Count Subquery issue.,"I've been looking for a solution to my problem here but haven't found anything that actually helps me. I am trying to work with a subquery in HQL (Hibernate) but it doesn't work and throws an error...

I wanna know if there is an equivalent in HQL to something like this (""normal"" SQL)

    select count(Z) from (SELECT SUM(existencia), almacen, oficina, fila from re_tinventarioubicacion where inventorybranchto = 2 GROUP BY almacen, oficina, fila, estante, entrepano, casilla, precioetiqueta) as Z

I have tried to ""translate"" it from SQL to HQL, but it doesn't work... it throws this:

org.hibernate.hql.ast.QuerySyntaxException: unexpected token

Basically, I need to get the row count from the resulting subquery.

Any ideas? -this is my first question here! :D",hibernate,hql,,,,,open,0,117,6,"Hibernate: HQL Row Count Subquery issue. I've been looking for a solution to my problem here but haven't found anything that actually helps me. I am trying to work with a subquery in HQL (Hibernate) but it doesn't work and throws an error...

I wanna know if there is an equivalent in HQL to something like this (""normal"" SQL)

    select count(Z) from (SELECT SUM(existencia), almacen, oficina, fila from re_tinventarioubicacion where inventorybranchto = 2 GROUP BY almacen, oficina, fila, estante, entrepano, casilla, precioetiqueta) as Z

I have tried to ""translate"" it from SQL to HQL, but it doesn't work... it throws this:

org.hibernate.hql.ast.QuerySyntaxException: unexpected token

Basically, I need to get the row count from the resulting subquery.

Any ideas? -this is my first question here! :D",2
3679507,09/09/2010 18:34:24,301757,03/25/2010 14:16:03,52,12,groovy / grails / hibernate - configure set to be fetched eagerly,"We are configuring hibernate from grails using the domain classes. Added:

static hasMany = [image:Image]

static fetchMode = [image:""eager""]

however when I pull the object graph each image is not loaded. Please advise,

Thanks.
 
 ",hibernate,grails,groovy,eager-loading,fetch,,open,0,32,12,"groovy / grails / hibernate - configure set to be fetched eagerly We are configuring hibernate from grails using the domain classes. Added:

static hasMany = [image:Image]

static fetchMode = [image:""eager""]

however when I pull the object graph each image is not loaded. Please advise,

Thanks.
 
 ",5
7226109,08/29/2011 04:38:51,1050996,08/01/2011 08:53:56,1,0,hibernate related quetion,"    if(!itExportCustomDetailsList.isEmpty()){
    					
    for(ItExportCustomDetail itExportCustomDetail : itExportCustomDetailsList){
    						itExportCustomDetail.setItExportCustom(selectedExportCustomOperation);
    						itExportCustomDetail.setCreatedDate(currentDate.getCurrentDate());
    						itExportCustomDetail.setCreatedBy(user.getUserId());
    em.persist(itExportCustomDetail);
    em.flush();
    }
    
    Caused by: javax.persistence.PersistenceException: org.hibernate.LazyInitializationException: could not initialize proxy - no Session
    	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:629)
    	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:218)
    	at org.jboss.ejb3.entity.ExtendedEntityManager.persist(ExtendedEntityManager.java:101)
    	at org.jboss.seam.persistence.EntityManagerProxy.persist(EntityManagerProxy.java:137)
    	at com.infyz.toms.exportoperations.session.ExportCustomOperationsAction.persist(ExportCustomOperationsAction.java:228)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:616)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)
    	at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)
    	at org.jboss.seam.intercept.EJBInvocationContext.proceed(EJBInvocationContext.java:44)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:56)
    	at org.jboss.seam.transaction.RollbackInterceptor.aroundInvoke(RollbackInterceptor.java:28)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.core.BijectionInterceptor.aroundInvoke(BijectionInterceptor.java:77)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.core.MethodContextInterceptor.aroundInvoke(MethodContextInterceptor.java:44)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.persistence.EntityManagerProxyInterceptor.aroundInvoke(EntityManagerProxyInterceptor.java:29)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.persistence.HibernateSessionProxyInterceptor.aroundInvoke(HibernateSessionProxyInterceptor.java:30)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.intercept.RootInterceptor.invoke(RootInterceptor.java:107)
    	at org.jboss.seam.intercept.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:50)
    	at sun.reflect.GeneratedMethodAccessor4380.invoke(Unknown Source)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:616)
    	at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    	at org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.ejb3.entity.ExtendedPersistenceContextPropagationInterceptor.invoke(ExtendedPersistenceContextPropagationInterceptor.java:71)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.aspects.tx.TxPolicy.invokeInCallerTx(TxPolicy.java:126)
    	... 94 more",hibernate,,,,,08/29/2011 11:43:57,not a real question,1,256,3,"hibernate related quetion     if(!itExportCustomDetailsList.isEmpty()){
    					
    for(ItExportCustomDetail itExportCustomDetail : itExportCustomDetailsList){
    						itExportCustomDetail.setItExportCustom(selectedExportCustomOperation);
    						itExportCustomDetail.setCreatedDate(currentDate.getCurrentDate());
    						itExportCustomDetail.setCreatedBy(user.getUserId());
    em.persist(itExportCustomDetail);
    em.flush();
    }
    
    Caused by: javax.persistence.PersistenceException: org.hibernate.LazyInitializationException: could not initialize proxy - no Session
    	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:629)
    	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:218)
    	at org.jboss.ejb3.entity.ExtendedEntityManager.persist(ExtendedEntityManager.java:101)
    	at org.jboss.seam.persistence.EntityManagerProxy.persist(EntityManagerProxy.java:137)
    	at com.infyz.toms.exportoperations.session.ExportCustomOperationsAction.persist(ExportCustomOperationsAction.java:228)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:616)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)
    	at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)
    	at org.jboss.seam.intercept.EJBInvocationContext.proceed(EJBInvocationContext.java:44)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:56)
    	at org.jboss.seam.transaction.RollbackInterceptor.aroundInvoke(RollbackInterceptor.java:28)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.core.BijectionInterceptor.aroundInvoke(BijectionInterceptor.java:77)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.core.MethodContextInterceptor.aroundInvoke(MethodContextInterceptor.java:44)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.persistence.EntityManagerProxyInterceptor.aroundInvoke(EntityManagerProxyInterceptor.java:29)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.persistence.HibernateSessionProxyInterceptor.aroundInvoke(HibernateSessionProxyInterceptor.java:30)
    	at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    	at org.jboss.seam.intercept.RootInterceptor.invoke(RootInterceptor.java:107)
    	at org.jboss.seam.intercept.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:50)
    	at sun.reflect.GeneratedMethodAccessor4380.invoke(Unknown Source)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:616)
    	at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    	at org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.ejb3.entity.ExtendedPersistenceContextPropagationInterceptor.invoke(ExtendedPersistenceContextPropagationInterceptor.java:71)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)
    	at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    	at org.jboss.aspects.tx.TxPolicy.invokeInCallerTx(TxPolicy.java:126)
    	... 94 more",1
5524528,04/02/2011 16:55:20,433693,08/28/2010 12:40:40,36,0,JPA foreign key column name,"    @Entity
    public class User {
    	private String mail;
    	private String password;
    
    	@OneToMany(mappedBy=""user"")
    	private List<UserGroup> userGroups;
    }
    
    @Embeddable
    public class UserGroupPK {
    	private String mail;
    	private String role;
    }
    
    @Entity
    public class UserGroup {
    	@EmbeddedId
    	private UserGroupPK id;
    	private String field;
    
    	@ManyToOne
    	@MapsId(""mail"")
    	private User user;
    }

Hibernate creates two tables: user(mail, password) and usergroup(user_mail, role, field).

I need to rename user_mail column to mail. I tried to add `@Column(name=""mail"")` in UserGroupPK but nothing.",hibernate,jpa-2.0,,,,,open,0,151,5,"JPA foreign key column name     @Entity
    public class User {
    	private String mail;
    	private String password;
    
    	@OneToMany(mappedBy=""user"")
    	private List<UserGroup> userGroups;
    }
    
    @Embeddable
    public class UserGroupPK {
    	private String mail;
    	private String role;
    }
    
    @Entity
    public class UserGroup {
    	@EmbeddedId
    	private UserGroupPK id;
    	private String field;
    
    	@ManyToOne
    	@MapsId(""mail"")
    	private User user;
    }

Hibernate creates two tables: user(mail, password) and usergroup(user_mail, role, field).

I need to rename user_mail column to mail. I tried to add `@Column(name=""mail"")` in UserGroupPK but nothing.",2
6112590,05/24/2011 15:05:03,410605,08/04/2010 09:45:05,1,0,Are we heading for jar hell in java platform similar to dll hell?,"Last night I was trying to put a simple tutorial to build an application using the stack - Spring (2.5) + JPA (1.0) + Hibernate (downloading for first time, so didn't know which version to use). Unfortunately I didnt want to use Maven as the target participants were on ANT build. As usual hit the search engine and got somehow the steps in the appcontext, persistence.xml and in the java classes. The moment I started getting required libraries, I lost in the JAR hell. Luckily, not much of a problem on the Spring side as all the dependent JARs are packaged together for my Spring 2.5.6.
When it came to hibernate, I had no clue which all Jars to be included on the first place. On the next challenge, didn't know which version for each to add.
Finally I got the whole thing working, but it looks so scary to enter this JAR hell again unless I am taken through Maven heaven.
With lots of interceptors and weaving, it is becoming more complicated for the conventional Java programmer who once liked Java primarily for lots of transparency on what my code is doing.
Am I right in the thought process?

- K. Arun",hibernate,spring,jpa,jar,,,open,0,198,13,"Are we heading for jar hell in java platform similar to dll hell? Last night I was trying to put a simple tutorial to build an application using the stack - Spring (2.5) + JPA (1.0) + Hibernate (downloading for first time, so didn't know which version to use). Unfortunately I didnt want to use Maven as the target participants were on ANT build. As usual hit the search engine and got somehow the steps in the appcontext, persistence.xml and in the java classes. The moment I started getting required libraries, I lost in the JAR hell. Luckily, not much of a problem on the Spring side as all the dependent JARs are packaged together for my Spring 2.5.6.
When it came to hibernate, I had no clue which all Jars to be included on the first place. On the next challenge, didn't know which version for each to add.
Finally I got the whole thing working, but it looks so scary to enter this JAR hell again unless I am taken through Maven heaven.
With lots of interceptors and weaving, it is becoming more complicated for the conventional Java programmer who once liked Java primarily for lots of transparency on what my code is doing.
Am I right in the thought process?

- K. Arun",4
7555650,09/26/2011 13:16:57,880503,08/05/2011 11:55:18,1,0,HibernateOptimisticLockingFailureException while updating an object,"I am getting following exception while updating an object.

HibernateOptimisticLockingFailureException: Object of class [User] with identifier [25614]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [User#25614]


Situation :- Reason why i am facing this error is that I have a form where users are displayed and I have two buttons there one for updating the password and one for editing the detail of the users. when I click on updating the password then it just query the object and updates its password and keep the object in hibernate session. And then I click on edit button and modify the information and then save it then it gives upper mentioned exception because the object, that I am trying to save, is not hibernate session object but an object with same identifier was queried  by hibernate while updating the password. Now I have two objects with same identifier one is in hibernate session and another is not persisted (not deattached object) yet. I want to update save the changes from not persisted object into the database but because there is an object with same identifier is in hibernate session so hibernate gives an exception.

How I can merge merge changes from not persisted objects to persisted one?

Thanks,
Mukesh",hibernate,,,,,,open,0,215,5,"HibernateOptimisticLockingFailureException while updating an object I am getting following exception while updating an object.

HibernateOptimisticLockingFailureException: Object of class [User] with identifier [25614]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [User#25614]


Situation :- Reason why i am facing this error is that I have a form where users are displayed and I have two buttons there one for updating the password and one for editing the detail of the users. when I click on updating the password then it just query the object and updates its password and keep the object in hibernate session. And then I click on edit button and modify the information and then save it then it gives upper mentioned exception because the object, that I am trying to save, is not hibernate session object but an object with same identifier was queried  by hibernate while updating the password. Now I have two objects with same identifier one is in hibernate session and another is not persisted (not deattached object) yet. I want to update save the changes from not persisted object into the database but because there is an object with same identifier is in hibernate session so hibernate gives an exception.

How I can merge merge changes from not persisted objects to persisted one?

Thanks,
Mukesh",1
199428,10/13/2008 23:36:30,7595,09/15/2008 14:01:51,508,29,Hibernate Delete Cascade,"I Have one entity [Project] that contains a collection of other entities [Questions].

I have mapped the relation with a cascade attribute of ""all-delete-orphan"".

In my DB the relation is mapped with a project_id (FK) field on the questions table. this field cannot be null since I don't want a Question without a Project.

When I do session.delete(project) it throws an exception saying that project_id cant be null, but if I remove the not-null constrain to that field, the deletion works nice.

Any ideas why this happens?",hibernate,cascade,delete,,,11/12/2008 12:48:06,off topic,1,83,3,"Hibernate Delete Cascade I Have one entity [Project] that contains a collection of other entities [Questions].

I have mapped the relation with a cascade attribute of ""all-delete-orphan"".

In my DB the relation is mapped with a project_id (FK) field on the questions table. this field cannot be null since I don't want a Question without a Project.

When I do session.delete(project) it throws an exception saying that project_id cant be null, but if I remove the not-null constrain to that field, the deletion works nice.

Any ideas why this happens?",3
10343176,04/27/2012 00:23:01,1359964,04/27/2012 00:06:44,1,0,Hibernate transaction problems when running in Glassfish,"I've got some Hibernate (3.6) code that works perfectly well when running in a standalone test class.  However, when I incorporate it into a servlet class running in Glassfish (3.1.2), I'm getting ""org.hibernate.HibernateException: load is not valid without active transaction"".

The code snippet follows:

    final Session session = daoFactory.getCurrentSession();
    final Transaction transaction = session.getTransaction();

    try
       {
       System.out.println(""before begin(), Transaction is active:  "" + transaction.isActive()); // displays ""false""
       transaction.begin();
       System.out.println(""after  begin(), Transaction Is Active:  "" + transaction.isActive()); // displays ""true""
       final Locality root = localityDAO.findById(1L, false); // throws exception
       // deleted for brevity
       }
    catch (Exception e)
       {
       // deleted for brevity
       }
    finally
       {
       // deleted for brevity
       }

My hibernate.cfg.xml file is:

    <?xml version=""1.0"" encoding=""utf-8""?>
    <!DOCTYPE hibernate-configuration PUBLIC ""-//Hibernate/Hibernate Configuration DTD 3.0//EN"" ""http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"">
    <hibernate-configuration>
       <session-factory>
          <property name=""connection.driver_class"">@connection.driver_class@</property>
          <property name=""connection.url"">@connection.url@</property>
          <property name=""connection.username"">@connection.username@</property>
          <property name=""connection.password"">@connection.password@</property>
          <property name=""connection.pool_size"">10</property>
          <property name=""current_session_context_class"">thread</property>
          <property name=""dialect"">org.hibernate.dialect.MySQLDialect</property>
          <!-- Mapping files deleted for brevity -->
       </session-factory>
    </hibernate-configuration>

Can someone offer a solution?

Thanks,

Mike
",hibernate,glassfish,,,,,open,0,344,7,"Hibernate transaction problems when running in Glassfish I've got some Hibernate (3.6) code that works perfectly well when running in a standalone test class.  However, when I incorporate it into a servlet class running in Glassfish (3.1.2), I'm getting ""org.hibernate.HibernateException: load is not valid without active transaction"".

The code snippet follows:

    final Session session = daoFactory.getCurrentSession();
    final Transaction transaction = session.getTransaction();

    try
       {
       System.out.println(""before begin(), Transaction is active:  "" + transaction.isActive()); // displays ""false""
       transaction.begin();
       System.out.println(""after  begin(), Transaction Is Active:  "" + transaction.isActive()); // displays ""true""
       final Locality root = localityDAO.findById(1L, false); // throws exception
       // deleted for brevity
       }
    catch (Exception e)
       {
       // deleted for brevity
       }
    finally
       {
       // deleted for brevity
       }

My hibernate.cfg.xml file is:

    <?xml version=""1.0"" encoding=""utf-8""?>
    <!DOCTYPE hibernate-configuration PUBLIC ""-//Hibernate/Hibernate Configuration DTD 3.0//EN"" ""http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"">
    <hibernate-configuration>
       <session-factory>
          <property name=""connection.driver_class"">@connection.driver_class@</property>
          <property name=""connection.url"">@connection.url@</property>
          <property name=""connection.username"">@connection.username@</property>
          <property name=""connection.password"">@connection.password@</property>
          <property name=""connection.pool_size"">10</property>
          <property name=""current_session_context_class"">thread</property>
          <property name=""dialect"">org.hibernate.dialect.MySQLDialect</property>
          <!-- Mapping files deleted for brevity -->
       </session-factory>
    </hibernate-configuration>

Can someone offer a solution?

Thanks,

Mike
",2
10437522,05/03/2012 18:47:43,1370432,05/02/2012 15:31:45,8,0,Hibernate One to Many Deleting with Annotations,"So, I have a problem with deleting OneToMany and ManyToOne on hibernate. I guess the problem is that i have two parents for a single child. This is how i got it

    Persona        Rol        Pais
     id             id         id
     name           name       name
     Pais
     Rol

As you can see, the person (persona) is related to the role (rol) and the country (pais).
My entities are like this:

Person
    public class Persona  implements java.io.Serializable {
      @ManyToOne(fetch=FetchType.LAZY)
        @JoinColumn(name=""Pais"", nullable=false)
        public Pais getPais() {
           return this.pais;
        }

    @ManyToOne(fetch=FetchType.LAZY)
       @JoinColumn(name=""Rol"", nullable=false)
       public Rol getRol() {
          return this.rol;
       }

Pais (Country)

     public class Pais  implements java.io.Serializable {
       private Set<Persona> personas = new HashSet<Persona>(0);
       @OneToMany(fetch=FetchType.LAZY, mappedBy=""pais"", cascade=CascadeType.ALL,orphanRemoval=true)
      public Set<Persona> getPersonas() {
        return this.personas;

Rol (role)

    public class Rol  implements java.io.Serializable {
      private Set<Persona> personas = new HashSet<Persona>(0);

      @OneToMany(fetch=FetchType.LAZY, mappedBy=""rol"", cascade=CascadeType.ALL,orphanRemoval=true)
        public Set<Persona> getPersonas() {
          return this.personas;
        }

I'm trying to delete the Person and only the person so I think that I have to detach the country and the role first and then delete the person but that doesn't work. This is my code for deleting

    session = HibernateUtil.getSessionFactory().openSession();
    session.beginTransaction();
    Persona p = (Persona)session.load(Persona.class, idPersona);
    Pais pais = (Pais)session.load(Pais.class, p.getPais().getId()); //try to p.getPais();
    rol rol = (Rol)session.load(Rol.class,p.getRol().getId()); //try to p.getRol();
    pais.getPersonas().remove(p);
    rol.getPersonas().remove(p);
    p.setPais(null);
    p.setRol(null);
    session.update(pais);
    session.update(rol);
    session.delete(p);
    session.getTransaction().commit();
    session.close();

Hope you can help me, this deleting thing in hibernate is freaking me out.",hibernate,delete,one-to-many,many-to-one,,,open,0,465,7,"Hibernate One to Many Deleting with Annotations So, I have a problem with deleting OneToMany and ManyToOne on hibernate. I guess the problem is that i have two parents for a single child. This is how i got it

    Persona        Rol        Pais
     id             id         id
     name           name       name
     Pais
     Rol

As you can see, the person (persona) is related to the role (rol) and the country (pais).
My entities are like this:

Person
    public class Persona  implements java.io.Serializable {
      @ManyToOne(fetch=FetchType.LAZY)
        @JoinColumn(name=""Pais"", nullable=false)
        public Pais getPais() {
           return this.pais;
        }

    @ManyToOne(fetch=FetchType.LAZY)
       @JoinColumn(name=""Rol"", nullable=false)
       public Rol getRol() {
          return this.rol;
       }

Pais (Country)

     public class Pais  implements java.io.Serializable {
       private Set<Persona> personas = new HashSet<Persona>(0);
       @OneToMany(fetch=FetchType.LAZY, mappedBy=""pais"", cascade=CascadeType.ALL,orphanRemoval=true)
      public Set<Persona> getPersonas() {
        return this.personas;

Rol (role)

    public class Rol  implements java.io.Serializable {
      private Set<Persona> personas = new HashSet<Persona>(0);

      @OneToMany(fetch=FetchType.LAZY, mappedBy=""rol"", cascade=CascadeType.ALL,orphanRemoval=true)
        public Set<Persona> getPersonas() {
          return this.personas;
        }

I'm trying to delete the Person and only the person so I think that I have to detach the country and the role first and then delete the person but that doesn't work. This is my code for deleting

    session = HibernateUtil.getSessionFactory().openSession();
    session.beginTransaction();
    Persona p = (Persona)session.load(Persona.class, idPersona);
    Pais pais = (Pais)session.load(Pais.class, p.getPais().getId()); //try to p.getPais();
    rol rol = (Rol)session.load(Rol.class,p.getRol().getId()); //try to p.getRol();
    pais.getPersonas().remove(p);
    rol.getPersonas().remove(p);
    p.setPais(null);
    p.setRol(null);
    session.update(pais);
    session.update(rol);
    session.delete(p);
    session.getTransaction().commit();
    session.close();

Hope you can help me, this deleting thing in hibernate is freaking me out.",4
4852840,01/31/2011 15:49:08,550738,12/22/2010 03:11:20,29,3,Hibernate mapping problem,"I have some objects mapped via hibernate.

A has one B

B has many C

I create B, give it a list of Cs, and set the B in A.  Save it and everything goes to the right place in the db.

When I retrieve the B, I can call b.getCs() and the Cs are there.  Cool.

My problem is, when I retrieve the A, the B is there, but when I call a.b.getCs() I get the following error:

""org.hibernate.LazyInitializationException - could not initialize proxy - no Session - 10890""

Does anyone know why this is not working?",hibernate,,,,,,open,0,93,3,"Hibernate mapping problem I have some objects mapped via hibernate.

A has one B

B has many C

I create B, give it a list of Cs, and set the B in A.  Save it and everything goes to the right place in the db.

When I retrieve the B, I can call b.getCs() and the Cs are there.  Cool.

My problem is, when I retrieve the A, the B is there, but when I call a.b.getCs() I get the following error:

""org.hibernate.LazyInitializationException - could not initialize proxy - no Session - 10890""

Does anyone know why this is not working?",1
11673883,07/26/2012 16:31:54,1486537,06/27/2012 18:06:42,49,3,Hibernate - Could not parse mapping document from resource,"I'm working with hibernate to create a login validation with database. When credentials are sent, I get the following error: 

> Could not parse mapping document from resource
> com/hibernate/Users.hbm.xml

Here is .cfg file

    <?xml version='1.0' encoding='UTF-8'?>
    <!DOCTYPE hibernate-configuration PUBLIC
              ""-//Hibernate/Hibernate Configuration DTD 3.0//EN""
              ""http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"">
    
    <!-- Generated by MyEclipse Hibernate Tools.                   -->
    <hibernate-configuration>
    
    <session-factory>
    	<property name=""dialect"">
    		org.hibernate.dialect.MySQLDialect
    	</property>
    	<property name=""connection.url"">
    		jdbc:mysql://localhost:3306/firstsql
    	</property>
    	<property name=""connection.username"">root</property>
    	<property name=""connection.password"">pass</property>
    	<property name=""connection.driver_class"">
    		com.mysql.jdbc.Driver
    	</property>
    	<property name=""myeclipse.connection.profile"">MySQL JDBC</property>
    	<mapping resource=""com/hibernate/Users.hbm.xml"" />
    	<mapping class=""com.hibernate.Users"" />
    
    </session-factory>
    
    </hibernate-configuration>

and the file in question - Users.hbm.xml

    <?xml version=""1.0"" encoding=""utf-8""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
                                       ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- 
        Mapping file autogenerated by MyEclipse Persistence Tools
    -->
    <hibernate-mapping>
     <class catalog=""firstsql"" name=""com.hibernate.Users"" table=""users"">
      <composite-id class=""com.hibernate.UsersId"" mapped=""false""
       name=""id"" unsaved-value=""undefined"">
       <key-property name=""username"" type=""java.lang.String"">
        <column length=""20"" name=""Username""/>
       </key-property>
       <key-property name=""ID"" type=""java.lang.String"">
        <column length=""10"" name=""ID""/>
       </key-property>
       <key-property name=""password"" type=""java.lang.String"">
        <column length=""20"" name=""Password""/>
       </key-property>
       <key-property name=""firstName"" type=""java.lang.String"">
        <column length=""20"" name=""FirstName""/>
       </key-property>
       <key-property name=""lastName"" type=""java.lang.String"">
        <column length=""20"" name=""LastName""/>
       </key-property>
       <key-property name=""resume"">
        <column length=""40"" name=""Resume""/>
       </key-property>
      </composite-id>
     </class>
    </hibernate-mapping>

any help addressing this issue would be greatly appreciated
",hibernate,parsing,mapping,,,,open,0,492,9,"Hibernate - Could not parse mapping document from resource I'm working with hibernate to create a login validation with database. When credentials are sent, I get the following error: 

> Could not parse mapping document from resource
> com/hibernate/Users.hbm.xml

Here is .cfg file

    <?xml version='1.0' encoding='UTF-8'?>
    <!DOCTYPE hibernate-configuration PUBLIC
              ""-//Hibernate/Hibernate Configuration DTD 3.0//EN""
              ""http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"">
    
    <!-- Generated by MyEclipse Hibernate Tools.                   -->
    <hibernate-configuration>
    
    <session-factory>
    	<property name=""dialect"">
    		org.hibernate.dialect.MySQLDialect
    	</property>
    	<property name=""connection.url"">
    		jdbc:mysql://localhost:3306/firstsql
    	</property>
    	<property name=""connection.username"">root</property>
    	<property name=""connection.password"">pass</property>
    	<property name=""connection.driver_class"">
    		com.mysql.jdbc.Driver
    	</property>
    	<property name=""myeclipse.connection.profile"">MySQL JDBC</property>
    	<mapping resource=""com/hibernate/Users.hbm.xml"" />
    	<mapping class=""com.hibernate.Users"" />
    
    </session-factory>
    
    </hibernate-configuration>

and the file in question - Users.hbm.xml

    <?xml version=""1.0"" encoding=""utf-8""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
                                       ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- 
        Mapping file autogenerated by MyEclipse Persistence Tools
    -->
    <hibernate-mapping>
     <class catalog=""firstsql"" name=""com.hibernate.Users"" table=""users"">
      <composite-id class=""com.hibernate.UsersId"" mapped=""false""
       name=""id"" unsaved-value=""undefined"">
       <key-property name=""username"" type=""java.lang.String"">
        <column length=""20"" name=""Username""/>
       </key-property>
       <key-property name=""ID"" type=""java.lang.String"">
        <column length=""10"" name=""ID""/>
       </key-property>
       <key-property name=""password"" type=""java.lang.String"">
        <column length=""20"" name=""Password""/>
       </key-property>
       <key-property name=""firstName"" type=""java.lang.String"">
        <column length=""20"" name=""FirstName""/>
       </key-property>
       <key-property name=""lastName"" type=""java.lang.String"">
        <column length=""20"" name=""LastName""/>
       </key-property>
       <key-property name=""resume"">
        <column length=""40"" name=""Resume""/>
       </key-property>
      </composite-id>
     </class>
    </hibernate-mapping>

any help addressing this issue would be greatly appreciated
",3
2711408,04/26/2010 06:12:31,229545,12/11/2009 10:42:53,1,1,POJO from HBM file,"HI All,

 I am new to hibernate  and I would to create POJO from xxx.hbm.xml file.

Is it possible? Please respond

Regards,
Vikram A. Deshpande",hibernate,,,,,,open,0,23,4,"POJO from HBM file HI All,

 I am new to hibernate  and I would to create POJO from xxx.hbm.xml file.

Is it possible? Please respond

Regards,
Vikram A. Deshpande",1
4337911,12/02/2010 17:28:48,272321,02/13/2010 07:53:31,224,2,Class Level Validation in Seam/Hibernate,"I implemented a custom class level validator in my seam/hibernate application.  On my form I have `<s:validateAll>`.  This tag does not call the class level validation.

Related issue:
https://jira.jboss.org/browse/JBSEAM-1878

What is the best way for me to call this validation using Seam/JSF/RichFaces?",hibernate,jsf,richfaces,seam,,,open,0,41,5,"Class Level Validation in Seam/Hibernate I implemented a custom class level validator in my seam/hibernate application.  On my form I have `<s:validateAll>`.  This tag does not call the class level validation.

Related issue:
https://jira.jboss.org/browse/JBSEAM-1878

What is the best way for me to call this validation using Seam/JSF/RichFaces?",4
11221072,06/27/2012 07:09:49,1312478,04/04/2012 09:40:22,139,10,How JPA transactions works,"Following code gets executed whenever I want to persist any entity. Things seems to be working fine but I fail to understand how it works !

    EntityManager em = getEntityManager();
    EntityTransaction userTransaction = em.getTransaction();
    userTransaction.begin();
    em.persist( ent );
    userTransaction.commit();

The EntityManager above is a single instance shared by whole application. After starting the transaction; I just say em.persist(entity).. How does hibernate know it belongs to which transaction ! 

Suppose there are 10 concurrent users on my application and all 10 threads executing above code. So 10 independent transactions  are getting created and committed. But all 10 different entities I am not associating them with their respective transactions; so how is JPA able to work it out !

",hibernate,jpa,transactions,jpa-2.0,,,open,0,132,4,"How JPA transactions works Following code gets executed whenever I want to persist any entity. Things seems to be working fine but I fail to understand how it works !

    EntityManager em = getEntityManager();
    EntityTransaction userTransaction = em.getTransaction();
    userTransaction.begin();
    em.persist( ent );
    userTransaction.commit();

The EntityManager above is a single instance shared by whole application. After starting the transaction; I just say em.persist(entity).. How does hibernate know it belongs to which transaction ! 

Suppose there are 10 concurrent users on my application and all 10 threads executing above code. So 10 independent transactions  are getting created and committed. But all 10 different entities I am not associating them with their respective transactions; so how is JPA able to work it out !

",4
6930989,08/03/2011 18:00:10,471607,10/10/2010 16:20:50,914,79,Hibernate Lazy initialization problem,"while learning a bit about hibernate i came across famous lazy initialization exception under below mentioned case

i have a class A which has reference to another class B and using hibernate i was trying to load class A using its id and than after closing the session i was trying to print some properties of class B thinking that hibernate might have initialized the object but all it did was a proxy object, here is the code snap

    Session session=HibernateUtil.getSessionFactory().openSession();
    		Transaction tx = session.getTransaction();
    		try {
    			tx.begin();
    			a=(A)session.load(A.class, ""40288184318d9a3c01318d9a3eea0001"");
    		    tx.commit();
    			
    		} catch (Exception e) {
    			log.error(""Unable to complete the transcation""
    					+ ""Transcation will be roll backed"", e);
    			e.printStackTrace();
                tx.rollback();
               
    		} finally {
    			log.info(""Closing the session"");
    			if (session != null && session.isOpen() == true){
    				session.close();
    			}
    		}
    		System.out.println(a.getUuid());
    		System.out.println(a.getB().getShortDescription());
    		System.out.println(a.getB().getLongDescription());
    		System.out.println(a.getB().getName());

this code was giving me `org.hibernate.LazyInitializationException: could not initialize proxy - no Session` since i know it has given me only proxy for B and when i tried to get properties of B hibernate throws exception

i did a small change in my code and it worked well here is the changed version

		Session session=HibernateUtil.getSessionFactory().openSession();
		Transaction tx = session.getTransaction();
		try {
			tx.begin();
			a=(A)session.load(A.class, ""40288184318d9a3c01318d9a3eea0001"");
			tx.commit();
			
		} catch (Exception e) {
			e.printStackTrace();
            tx.rollback();
           
		} finally {
			//log.info(""Closing the session"");
			if (session != null && session.isOpen() == true){
				b=des.B();
				session.close();
			}
		}
		a.setB(b);
		System.out.println(a.getUuid());
		System.out.println(a.getB().getShortDescription());
		System.out.println(a.getB().getLongDescription());
		System.out.println(a.getB().getName());
	}

though it is working but i am not sure if this is correct approach or not, please suggest",hibernate,,,,,,open,0,340,4,"Hibernate Lazy initialization problem while learning a bit about hibernate i came across famous lazy initialization exception under below mentioned case

i have a class A which has reference to another class B and using hibernate i was trying to load class A using its id and than after closing the session i was trying to print some properties of class B thinking that hibernate might have initialized the object but all it did was a proxy object, here is the code snap

    Session session=HibernateUtil.getSessionFactory().openSession();
    		Transaction tx = session.getTransaction();
    		try {
    			tx.begin();
    			a=(A)session.load(A.class, ""40288184318d9a3c01318d9a3eea0001"");
    		    tx.commit();
    			
    		} catch (Exception e) {
    			log.error(""Unable to complete the transcation""
    					+ ""Transcation will be roll backed"", e);
    			e.printStackTrace();
                tx.rollback();
               
    		} finally {
    			log.info(""Closing the session"");
    			if (session != null && session.isOpen() == true){
    				session.close();
    			}
    		}
    		System.out.println(a.getUuid());
    		System.out.println(a.getB().getShortDescription());
    		System.out.println(a.getB().getLongDescription());
    		System.out.println(a.getB().getName());

this code was giving me `org.hibernate.LazyInitializationException: could not initialize proxy - no Session` since i know it has given me only proxy for B and when i tried to get properties of B hibernate throws exception

i did a small change in my code and it worked well here is the changed version

		Session session=HibernateUtil.getSessionFactory().openSession();
		Transaction tx = session.getTransaction();
		try {
			tx.begin();
			a=(A)session.load(A.class, ""40288184318d9a3c01318d9a3eea0001"");
			tx.commit();
			
		} catch (Exception e) {
			e.printStackTrace();
            tx.rollback();
           
		} finally {
			//log.info(""Closing the session"");
			if (session != null && session.isOpen() == true){
				b=des.B();
				session.close();
			}
		}
		a.setB(b);
		System.out.println(a.getUuid());
		System.out.println(a.getB().getShortDescription());
		System.out.println(a.getB().getLongDescription());
		System.out.println(a.getB().getName());
	}

though it is working but i am not sure if this is correct approach or not, please suggest",1
4412798,12/10/2010 20:01:20,54356,01/12/2009 21:43:57,158,19,Hibernate findByExample with non-primitive members,"I have two entities... 

File and User

File has a @ManyToOne Reference to User with the following annotation on the member:

    @ManyToOne
    @JoinColumn(name=""user_id"")
    private User user

I'm trying to find all the files for a user by using the ""findByExample"" method.

I've created an instance of File and an instance of User (with the username set). I've added the instance of User to the File instance and passed it to ""findByExample"" like this:

    Criteria crit = getSession().createCriteria(File.class);
    Example ex = Example.create(exampleInstance);
    crit.add(ex);
    return crit.list();

Unfortunately ""list()"" returns all the files in my db, not just the ones for the specified user. I inspected the generated SQL and I see that it's not inspecting the User object for any values, just joining the tables and doing a ""where (1=1)"".

Is it possible that hibernate does not inspect non-primitive members when doing a ""findByExample"" query?



",hibernate,orm,,,,,open,0,159,5,"Hibernate findByExample with non-primitive members I have two entities... 

File and User

File has a @ManyToOne Reference to User with the following annotation on the member:

    @ManyToOne
    @JoinColumn(name=""user_id"")
    private User user

I'm trying to find all the files for a user by using the ""findByExample"" method.

I've created an instance of File and an instance of User (with the username set). I've added the instance of User to the File instance and passed it to ""findByExample"" like this:

    Criteria crit = getSession().createCriteria(File.class);
    Example ex = Example.create(exampleInstance);
    crit.add(ex);
    return crit.list();

Unfortunately ""list()"" returns all the files in my db, not just the ones for the specified user. I inspected the generated SQL and I see that it's not inspecting the User object for any values, just joining the tables and doing a ""where (1=1)"".

Is it possible that hibernate does not inspect non-primitive members when doing a ""findByExample"" query?



",2
8328521,11/30/2011 15:35:48,247869,01/11/2010 07:52:45,314,12,Get http session / request in hibernate interceptor,"I want to to implement an audit logging module to my existing system and I want to save actual logged user information and it's only the httpSession.

I'm using hibernate/spring/struts 2, and in order to get actual logged user information and call saveLog service I need the ServletContext to find those service bean or get the httpServletRequest...

I have been searching and seems binding the session to ThreadLocal usign Filter is the only way? [something like this][1]  or [this (last answer)][2]

is there other suggestion? is this a commun pattern or a good practice  ?


  [1]: http://stackoverflow.com/questions/423924/how-to-get-hibernate-session-inside-a-hibernate-interceptor
  [2]: http://stackoverflow.com/questions/5866728/get-httpsessionrequest-from-simple-java-class-not-servlet-class",hibernate,spring,servlets,struts2,,,open,0,100,8,"Get http session / request in hibernate interceptor I want to to implement an audit logging module to my existing system and I want to save actual logged user information and it's only the httpSession.

I'm using hibernate/spring/struts 2, and in order to get actual logged user information and call saveLog service I need the ServletContext to find those service bean or get the httpServletRequest...

I have been searching and seems binding the session to ThreadLocal usign Filter is the only way? [something like this][1]  or [this (last answer)][2]

is there other suggestion? is this a commun pattern or a good practice  ?


  [1]: http://stackoverflow.com/questions/423924/how-to-get-hibernate-session-inside-a-hibernate-interceptor
  [2]: http://stackoverflow.com/questions/5866728/get-httpsessionrequest-from-simple-java-class-not-servlet-class",4
3184069,07/06/2010 06:46:56,375983,06/25/2010 07:00:24,11,1,"Java, Hibernate,Spring","I have 2 entities User and Status. I can load users list and can see its sql(log) in console 

> (select this_.id as id0_0_,
> this_.cl_point_id as cl2_0_0_,
> this_.date_ll as date3_0_0_,
> this_.date_reg as date4_0_0_,
> this_.name as name0_0_,
> this_.passw_salt as passw6_0_0_,
> this_.status_id as status7_0_0_,
> this_.passw as passw0_0_, this_.login
> as login0_0_ from users this_)

. 
But when I load Status the list is empty and there is no sql(log) in console. I can't find where is the problem? 

User.java

    package tj.eskhata.pos.domain;
    
    import java.io.Serializable;
    import java.util.Date;
    
    import javax.persistence.*;
    
    @Entity
    @Table(name=""users"")
    public class User implements DomainObject {
     @Id
     private Long id; 
     
     @Column(name=""name"")
     private String fullname;
     
     @Column(name=""cl_point_id"")
     private Long clPointId;
     
     @Column(name=""login"")
     private String wiaUsername;
     
     @Column(name=""passw"")
     private String wiaPassword;
     
     @Column(name=""status_id"")
     private Long statusId;
     
     @Column(name=""date_reg"")
     private Date dateReg;
     
     @Column(name=""date_ll"")
     private Date dateLl;
     
     @Column(name=""passw_salt"")
     private String passwSalt;
     
    
      public User() {
      }
    
      public User(String username, String password, String fullname,
          boolean isAdmin) {
        this.id=Long.valueOf(1);
     this.wiaUsername = username;
        this.wiaPassword = password;
        this.fullname = fullname;    
      }
    
      public String getFullname() {
        return fullname;
      }
    
      public String getWiaPassword() {
        return wiaPassword;
      }
    
      public String getWiaUsername() {
        return wiaUsername;
      }
     
      public void setFullname(String fullname) {
        this.fullname = fullname;
      }
    
      public void setWiaPassword(String password) {
        this.wiaPassword = password;
      }
    
      public void setWiaUsername(String username) {
        this.wiaUsername = username;
      }
    
      public Long getId() {
      return id;
      }
      
      public Long getClPointId() {
         return clPointId;
      }
      public Long getStatusId() {
         return statusId;
      }
      public Date getDateReg() {
         return dateReg;
      }
      public Date getDateLl() {
         return dateReg;
      }
      public String getPasswSalt() {
         return passwSalt;
      }
      public void getClPointId(Long clPointId_) {
       this.clPointId=clPointId_;
      }
      public void setStatusId(Long statusId_) {
       this.statusId=statusId_;
      }
      public void setDateReg(Date dateReg_) {
       this.dateReg=dateReg_;
      }
      public void setDateLl(Date dateLl_) {
       this.dateLl=dateLl_;
      }
      public void setPasswSalt(String passwSalt_) {
       this.passwSalt=passwSalt_;
      }
      public boolean isAdmin() {
         return false;
      }
    }

Status.java

    package tj.eskhata.pos.domain;
    
    import java.io.Serializable;
    import java.util.Date;
    
    import javax.persistence.*;
    
    @Entity
    @Table(name=""status"")
    public class Status implements DomainObject {
    
     public Status() {  
     }
     public Status(Long id) {
      this.id = id;
     }
    
     public Status(Long id, String code, String name, String fullName,
       String color) {
      this.id = id;
      this.code = code;
      this.name = name;
      this.fullName = fullName;
      this.color = color;
     }
    
     
     @Id
     private Long id; 
     public void setId( Long id_) {
      this.id=id_;
     }
     public Long getId() {
      return this.id;
     }
     
     
     @Column(name = ""code"")
     private String code;
     public void setCode( String code_) {
      this.code=code_;
     }
     public String getCode() {
      return this.code;
     }
      
     @Column(name = ""name"")
     private String name;
     public void setName( String name_) {
      this.name=name_;
     }
     public String getName() {
      return this.name;
     }
     
     @Column(name = ""full_name"")
     private String fullName;
     public void setFullName( String fullName_) {
      this.name=fullName_;
     }
     public String getFullName() {
      return this.fullName;
     }
     
     @Column(name = ""color"")
     private String color;
     public void setColor( String color_) {
      this.color=color_;
     }
     public String getColor() {
      return this.color;
     }
    }

*

    UserDaoImpl.java:
    package tj.eskhata.pos.dao.hibernate;
    
    import tj.eskhata.pos.dao.UserDao;
    import tj.eskhata.pos.domain.User;
    
    public class UserDaoImpl extends AbstractHibernateDaoImpl<User>
        implements UserDao {
    
      public UserDaoImpl() {
        super(User.class);
      }
    }
    
    StatusDaoImpl.java:
    package tj.eskhata.pos.dao.hibernate;
    
    import tj.eskhata.pos.dao.StatusDao;
    import tj.eskhata.pos.domain.Status;
    
    public class StatusDaoImpl extends AbstractHibernateDaoImpl<Status>
        implements StatusDao {
    
      public StatusDaoImpl() {
        super(Status.class);
      }
    }
    
    UserDao.java:
    
    package tj.eskhata.pos.dao;
    
    import tj.eskhata.pos.domain.User;
    
    public interface UserDao extends Dao<User> {
    
    }
    
    StatusDao.java:
    package tj.eskhata.pos.dao;
    
    import tj.eskhata.pos.domain.Status;
    
    public interface StatusDao extends Dao<Status> {
    
    }

AbstractHibernateDaoImpl.java:

    package tj.eskhata.pos.dao.hibernate;
    
    import java.util.List;
    
    import org.hibernate.Criteria;
    import org.hibernate.Session;
    import org.hibernate.SessionFactory;
    import org.hibernate.criterion.Projections;
    
    import tj.eskhata.pos.dao.Dao;
    import tj.eskhata.pos.domain.DomainObject;
    
    public abstract class AbstractHibernateDaoImpl<T extends DomainObject>
        implements Dao<T> {
    
      private Class<T> domainClass;
    
      private SessionFactory sf;
    
      public AbstractHibernateDaoImpl(Class<T> domainClass) {
        this.domainClass = domainClass;
      }
    
      public SessionFactory getSessionFactory() {
        return sf;
      }
    
      public void setSessionFactory(SessionFactory sf) {
        this.sf = sf;
      }
    
      public void delete(T object) {
        getSession().delete(object);
      }
    
      @SuppressWarnings(""unchecked"")
      public T load(long id) {
        return (T) getSession().get(domainClass, id);
      }
    
      public void save(T object) {
        getSession().saveOrUpdate(object);
      }
    
      @SuppressWarnings(""unchecked"")
      public List<T> findAll() {
        Criteria criteria = getSession().createCriteria(domainClass);
        List<T> r=(List<T>) criteria.list();
        return r;
      }
    
      public int countAll() {
        Criteria criteria = getSession().createCriteria(domainClass);
        criteria.setProjection(Projections.rowCount());
        return (Integer) criteria.uniqueResult();
      }
    
      public Session getSession() {
        // presumes a current session, which we have through the
        // OpenSessionInViewFilter; doesn't work without that
        return sf.getCurrentSession();
      }
    }

applicationContext.xml:

    <?xml version=""1.0"" encoding=""UTF-8""?>
    
    <beans xmlns=""http://www.springframework.org/schema/beans""
     xmlns:aop=""http://www.springframework.org/schema/aop""
     xmlns:tx=""http://www.springframework.org/schema/tx""
     xmlns:jndi=""http://www.springframework.org/schema/jndi""
     xmlns:util=""http://www.springframework.org/schema/util""
     xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
     xsi:schemaLocation=""http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
        http://www.springframework.org/schema/aop 
        http://www.springframework.org/schema/aop/spring-aop-2.0.xsd 
        http://www.springframework.org/schema/tx  
        http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
        http://www.springframework.org/schema/jndi 
        http://www.springframework.org/schema/jndi/spring-jndi.xsd 
        http://www.springframework.org/schema/util 
        http://www.springframework.org/schema/util/spring-util-2.0.xsd""> 
     
     <bean id=""placeholderConfig""
      class=""org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"">
      <property name=""location"">
       <value>classpath:application.properties</value>
      </property>
      <property name=""systemPropertiesModeName"">
       <value>SYSTEM_PROPERTIES_MODE_OVERRIDE</value>
      </property>
     </bean>
     
     <bean id=""dataSource"" class=""com.mchange.v2.c3p0.ComboPooledDataSource"" destroy-method=""close"">
      <property name=""driverClass"">
       <value>${jdbc.driver}</value>
      </property>
      <property name=""jdbcUrl"">
       <value>${jdbc.url}</value>
      </property>
      <property name=""user"">
       <value>${jdbc.username}</value>
      </property>
      <property name=""password"">
       <value>${jdbc.password}</value>
      </property>
      <property name=""minPoolSize"">
       <value>${c3p0.minPoolSize}</value>
      </property>
      <property name=""maxPoolSize"">
       <value>${c3p0.maxPoolSize}</value>
      </property>
      <property name=""checkoutTimeout"">
       <value>20000</value>
      </property>
      <property name=""maxIdleTime"">
       <value>${c3p0.maxIdleTime}</value>
      </property>
      <property name=""idleConnectionTestPeriod"">
       <value>${c3p0.idleConnectionTestPeriod}</value>
      </property>
      <property name=""automaticTestTable"">
       <value>${c3p0.automaticTestTable}</value>
      </property>
     </bean>
       
     <bean id=""sessionFactory"" class=""org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"">
      <property name=""dataSource"" ref=""dataSource"" />
      <property name=""annotatedClasses"">
       <list>
        <value>tj.eskhata.pos.domain.User</value>
       </list>
      </property>
      <property name=""hibernateProperties"">
       <props>
        <prop key=""hibernate.dialect"">${hibernate.dialect}</prop>
        <prop key=""hibernate.show_sql"">${hibernate.show_sql}</prop>
       </props>
      </property>
     </bean>
     
     <bean id=""transactionManager""
       class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
     <tx:annotation-driven />
     
     <bean id=""wicketApplication""
      class=""tj.eskhata.pos.PosApplication"">
     </bean>
     
     <bean id=""UserDao""
      class=""tj.eskhata.pos.dao.hibernate.UserDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
     
     <bean id=""CountryDao""
      class=""tj.eskhata.pos.dao.hibernate.CountryDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
     
     <bean id=""StatusDao""
      class=""tj.eskhata.pos.dao.hibernate.StatusDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
    
     <bean id=""GenericDao""
      class=""tj.eskhata.pos.dao.hibernate.GenericDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
    
     <bean id=""DiscountsService"" class=""tj.eskhata.pos.services.DiscountsServiceImpl""> 
      <property name=""userDao"" ref=""UserDao"" />
      <property name=""countryDao"" ref=""CountryDao"" />
      <property name=""statusDao"" ref=""StatusDao"" />
      <property name=""genericDao"" ref=""GenericDao"" />
     </bean> 
     
    </beans>


",hibernate,,,,,,open,0,2765,2,"Java, Hibernate,Spring I have 2 entities User and Status. I can load users list and can see its sql(log) in console 

> (select this_.id as id0_0_,
> this_.cl_point_id as cl2_0_0_,
> this_.date_ll as date3_0_0_,
> this_.date_reg as date4_0_0_,
> this_.name as name0_0_,
> this_.passw_salt as passw6_0_0_,
> this_.status_id as status7_0_0_,
> this_.passw as passw0_0_, this_.login
> as login0_0_ from users this_)

. 
But when I load Status the list is empty and there is no sql(log) in console. I can't find where is the problem? 

User.java

    package tj.eskhata.pos.domain;
    
    import java.io.Serializable;
    import java.util.Date;
    
    import javax.persistence.*;
    
    @Entity
    @Table(name=""users"")
    public class User implements DomainObject {
     @Id
     private Long id; 
     
     @Column(name=""name"")
     private String fullname;
     
     @Column(name=""cl_point_id"")
     private Long clPointId;
     
     @Column(name=""login"")
     private String wiaUsername;
     
     @Column(name=""passw"")
     private String wiaPassword;
     
     @Column(name=""status_id"")
     private Long statusId;
     
     @Column(name=""date_reg"")
     private Date dateReg;
     
     @Column(name=""date_ll"")
     private Date dateLl;
     
     @Column(name=""passw_salt"")
     private String passwSalt;
     
    
      public User() {
      }
    
      public User(String username, String password, String fullname,
          boolean isAdmin) {
        this.id=Long.valueOf(1);
     this.wiaUsername = username;
        this.wiaPassword = password;
        this.fullname = fullname;    
      }
    
      public String getFullname() {
        return fullname;
      }
    
      public String getWiaPassword() {
        return wiaPassword;
      }
    
      public String getWiaUsername() {
        return wiaUsername;
      }
     
      public void setFullname(String fullname) {
        this.fullname = fullname;
      }
    
      public void setWiaPassword(String password) {
        this.wiaPassword = password;
      }
    
      public void setWiaUsername(String username) {
        this.wiaUsername = username;
      }
    
      public Long getId() {
      return id;
      }
      
      public Long getClPointId() {
         return clPointId;
      }
      public Long getStatusId() {
         return statusId;
      }
      public Date getDateReg() {
         return dateReg;
      }
      public Date getDateLl() {
         return dateReg;
      }
      public String getPasswSalt() {
         return passwSalt;
      }
      public void getClPointId(Long clPointId_) {
       this.clPointId=clPointId_;
      }
      public void setStatusId(Long statusId_) {
       this.statusId=statusId_;
      }
      public void setDateReg(Date dateReg_) {
       this.dateReg=dateReg_;
      }
      public void setDateLl(Date dateLl_) {
       this.dateLl=dateLl_;
      }
      public void setPasswSalt(String passwSalt_) {
       this.passwSalt=passwSalt_;
      }
      public boolean isAdmin() {
         return false;
      }
    }

Status.java

    package tj.eskhata.pos.domain;
    
    import java.io.Serializable;
    import java.util.Date;
    
    import javax.persistence.*;
    
    @Entity
    @Table(name=""status"")
    public class Status implements DomainObject {
    
     public Status() {  
     }
     public Status(Long id) {
      this.id = id;
     }
    
     public Status(Long id, String code, String name, String fullName,
       String color) {
      this.id = id;
      this.code = code;
      this.name = name;
      this.fullName = fullName;
      this.color = color;
     }
    
     
     @Id
     private Long id; 
     public void setId( Long id_) {
      this.id=id_;
     }
     public Long getId() {
      return this.id;
     }
     
     
     @Column(name = ""code"")
     private String code;
     public void setCode( String code_) {
      this.code=code_;
     }
     public String getCode() {
      return this.code;
     }
      
     @Column(name = ""name"")
     private String name;
     public void setName( String name_) {
      this.name=name_;
     }
     public String getName() {
      return this.name;
     }
     
     @Column(name = ""full_name"")
     private String fullName;
     public void setFullName( String fullName_) {
      this.name=fullName_;
     }
     public String getFullName() {
      return this.fullName;
     }
     
     @Column(name = ""color"")
     private String color;
     public void setColor( String color_) {
      this.color=color_;
     }
     public String getColor() {
      return this.color;
     }
    }

*

    UserDaoImpl.java:
    package tj.eskhata.pos.dao.hibernate;
    
    import tj.eskhata.pos.dao.UserDao;
    import tj.eskhata.pos.domain.User;
    
    public class UserDaoImpl extends AbstractHibernateDaoImpl<User>
        implements UserDao {
    
      public UserDaoImpl() {
        super(User.class);
      }
    }
    
    StatusDaoImpl.java:
    package tj.eskhata.pos.dao.hibernate;
    
    import tj.eskhata.pos.dao.StatusDao;
    import tj.eskhata.pos.domain.Status;
    
    public class StatusDaoImpl extends AbstractHibernateDaoImpl<Status>
        implements StatusDao {
    
      public StatusDaoImpl() {
        super(Status.class);
      }
    }
    
    UserDao.java:
    
    package tj.eskhata.pos.dao;
    
    import tj.eskhata.pos.domain.User;
    
    public interface UserDao extends Dao<User> {
    
    }
    
    StatusDao.java:
    package tj.eskhata.pos.dao;
    
    import tj.eskhata.pos.domain.Status;
    
    public interface StatusDao extends Dao<Status> {
    
    }

AbstractHibernateDaoImpl.java:

    package tj.eskhata.pos.dao.hibernate;
    
    import java.util.List;
    
    import org.hibernate.Criteria;
    import org.hibernate.Session;
    import org.hibernate.SessionFactory;
    import org.hibernate.criterion.Projections;
    
    import tj.eskhata.pos.dao.Dao;
    import tj.eskhata.pos.domain.DomainObject;
    
    public abstract class AbstractHibernateDaoImpl<T extends DomainObject>
        implements Dao<T> {
    
      private Class<T> domainClass;
    
      private SessionFactory sf;
    
      public AbstractHibernateDaoImpl(Class<T> domainClass) {
        this.domainClass = domainClass;
      }
    
      public SessionFactory getSessionFactory() {
        return sf;
      }
    
      public void setSessionFactory(SessionFactory sf) {
        this.sf = sf;
      }
    
      public void delete(T object) {
        getSession().delete(object);
      }
    
      @SuppressWarnings(""unchecked"")
      public T load(long id) {
        return (T) getSession().get(domainClass, id);
      }
    
      public void save(T object) {
        getSession().saveOrUpdate(object);
      }
    
      @SuppressWarnings(""unchecked"")
      public List<T> findAll() {
        Criteria criteria = getSession().createCriteria(domainClass);
        List<T> r=(List<T>) criteria.list();
        return r;
      }
    
      public int countAll() {
        Criteria criteria = getSession().createCriteria(domainClass);
        criteria.setProjection(Projections.rowCount());
        return (Integer) criteria.uniqueResult();
      }
    
      public Session getSession() {
        // presumes a current session, which we have through the
        // OpenSessionInViewFilter; doesn't work without that
        return sf.getCurrentSession();
      }
    }

applicationContext.xml:

    <?xml version=""1.0"" encoding=""UTF-8""?>
    
    <beans xmlns=""http://www.springframework.org/schema/beans""
     xmlns:aop=""http://www.springframework.org/schema/aop""
     xmlns:tx=""http://www.springframework.org/schema/tx""
     xmlns:jndi=""http://www.springframework.org/schema/jndi""
     xmlns:util=""http://www.springframework.org/schema/util""
     xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
     xsi:schemaLocation=""http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
        http://www.springframework.org/schema/aop 
        http://www.springframework.org/schema/aop/spring-aop-2.0.xsd 
        http://www.springframework.org/schema/tx  
        http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
        http://www.springframework.org/schema/jndi 
        http://www.springframework.org/schema/jndi/spring-jndi.xsd 
        http://www.springframework.org/schema/util 
        http://www.springframework.org/schema/util/spring-util-2.0.xsd""> 
     
     <bean id=""placeholderConfig""
      class=""org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"">
      <property name=""location"">
       <value>classpath:application.properties</value>
      </property>
      <property name=""systemPropertiesModeName"">
       <value>SYSTEM_PROPERTIES_MODE_OVERRIDE</value>
      </property>
     </bean>
     
     <bean id=""dataSource"" class=""com.mchange.v2.c3p0.ComboPooledDataSource"" destroy-method=""close"">
      <property name=""driverClass"">
       <value>${jdbc.driver}</value>
      </property>
      <property name=""jdbcUrl"">
       <value>${jdbc.url}</value>
      </property>
      <property name=""user"">
       <value>${jdbc.username}</value>
      </property>
      <property name=""password"">
       <value>${jdbc.password}</value>
      </property>
      <property name=""minPoolSize"">
       <value>${c3p0.minPoolSize}</value>
      </property>
      <property name=""maxPoolSize"">
       <value>${c3p0.maxPoolSize}</value>
      </property>
      <property name=""checkoutTimeout"">
       <value>20000</value>
      </property>
      <property name=""maxIdleTime"">
       <value>${c3p0.maxIdleTime}</value>
      </property>
      <property name=""idleConnectionTestPeriod"">
       <value>${c3p0.idleConnectionTestPeriod}</value>
      </property>
      <property name=""automaticTestTable"">
       <value>${c3p0.automaticTestTable}</value>
      </property>
     </bean>
       
     <bean id=""sessionFactory"" class=""org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"">
      <property name=""dataSource"" ref=""dataSource"" />
      <property name=""annotatedClasses"">
       <list>
        <value>tj.eskhata.pos.domain.User</value>
       </list>
      </property>
      <property name=""hibernateProperties"">
       <props>
        <prop key=""hibernate.dialect"">${hibernate.dialect}</prop>
        <prop key=""hibernate.show_sql"">${hibernate.show_sql}</prop>
       </props>
      </property>
     </bean>
     
     <bean id=""transactionManager""
       class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
     <tx:annotation-driven />
     
     <bean id=""wicketApplication""
      class=""tj.eskhata.pos.PosApplication"">
     </bean>
     
     <bean id=""UserDao""
      class=""tj.eskhata.pos.dao.hibernate.UserDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
     
     <bean id=""CountryDao""
      class=""tj.eskhata.pos.dao.hibernate.CountryDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
     
     <bean id=""StatusDao""
      class=""tj.eskhata.pos.dao.hibernate.StatusDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
    
     <bean id=""GenericDao""
      class=""tj.eskhata.pos.dao.hibernate.GenericDaoImpl"">
      <property name=""sessionFactory"" ref=""sessionFactory"" />
     </bean>
    
     <bean id=""DiscountsService"" class=""tj.eskhata.pos.services.DiscountsServiceImpl""> 
      <property name=""userDao"" ref=""UserDao"" />
      <property name=""countryDao"" ref=""CountryDao"" />
      <property name=""statusDao"" ref=""StatusDao"" />
      <property name=""genericDao"" ref=""GenericDao"" />
     </bean> 
     
    </beans>


",1
11319620,07/03/2012 21:41:56,1415666,05/24/2012 17:17:43,21,1,Hibernate returns duplicate because another table has duplicate values,"So I have a Users table, Projects table and User_Roles table. I have one users which is connected to 2 projects, but when I have just one role for him it returns those 2 projects, but if I have 2 roles for him it returns 4 roles (2x2 projects). How do I prevent this

This is my code for returning the list of projects for user

    @Override
    public List<Project> retrieve(User user) {
        Criteria criteria = super.createCriteria();
        criteria.addOrder(Order.desc(""date""));
        criteria.createCriteria(""users"").add(Restrictions.eq(""id"", user.getId()));

        return (List<Project>) criteria.list();
    }

mappings in User class

    @ManyToMany(cascade = CascadeType.ALL)
    @JoinTable(name = ""Users_Projects"",
               joinColumns = @JoinColumn(name = ""UserID""), inverseJoinColumns =   @JoinColumn(name = ""ProjectID""))
    public List<Project> getProjects() {
        return projects;
    } 

    @ElementCollection(fetch = FetchType.EAGER)
    @Enumerated(EnumType.STRING)
    @Column(name = ""RoleType"")
    @JoinTable(name = ""User_Roles"", joinColumns = @JoinColumn(name = ""UserID""))
    public Set<Role> getRoles() {
        return roles;
    }

Any suggestions what is the problem here?

tnx
",hibernate,annotations,mapping,duplicates,criteria,,open,0,234,9,"Hibernate returns duplicate because another table has duplicate values So I have a Users table, Projects table and User_Roles table. I have one users which is connected to 2 projects, but when I have just one role for him it returns those 2 projects, but if I have 2 roles for him it returns 4 roles (2x2 projects). How do I prevent this

This is my code for returning the list of projects for user

    @Override
    public List<Project> retrieve(User user) {
        Criteria criteria = super.createCriteria();
        criteria.addOrder(Order.desc(""date""));
        criteria.createCriteria(""users"").add(Restrictions.eq(""id"", user.getId()));

        return (List<Project>) criteria.list();
    }

mappings in User class

    @ManyToMany(cascade = CascadeType.ALL)
    @JoinTable(name = ""Users_Projects"",
               joinColumns = @JoinColumn(name = ""UserID""), inverseJoinColumns =   @JoinColumn(name = ""ProjectID""))
    public List<Project> getProjects() {
        return projects;
    } 

    @ElementCollection(fetch = FetchType.EAGER)
    @Enumerated(EnumType.STRING)
    @Column(name = ""RoleType"")
    @JoinTable(name = ""User_Roles"", joinColumns = @JoinColumn(name = ""UserID""))
    public Set<Role> getRoles() {
        return roles;
    }

Any suggestions what is the problem here?

tnx
",5
8935975,01/20/2012 02:09:42,1159818,01/20/2012 02:03:16,1,0,@DynamicInsert @DynamicUpdate does not work?,"I am using Hibernate 4.
When I use

        @org.hibernate.annotations.Entity(dynamicInsert = true, dynamicUpdate = true,
     selectBeforeUpdate = true)

it works.

But, I found that they have deprecated, so I follow the instructions to use the @DynamicInsert and @DynamicUpdate, like this:

    @Entity
    @DynamicInsert
    @DynamicUpdate
    @SelectBeforeUpdate 
    @Table(name = ""User"")
    public class User {
           ..........
    }

It does not work.

How do I use @DynamicInsert and @DynamicUpdate ?",hibernate,,,,,,open,0,102,5,"@DynamicInsert @DynamicUpdate does not work? I am using Hibernate 4.
When I use

        @org.hibernate.annotations.Entity(dynamicInsert = true, dynamicUpdate = true,
     selectBeforeUpdate = true)

it works.

But, I found that they have deprecated, so I follow the instructions to use the @DynamicInsert and @DynamicUpdate, like this:

    @Entity
    @DynamicInsert
    @DynamicUpdate
    @SelectBeforeUpdate 
    @Table(name = ""User"")
    public class User {
           ..........
    }

It does not work.

How do I use @DynamicInsert and @DynamicUpdate ?",1
1910124,12/15/2009 20:21:12,97901,04/29/2009 19:15:16,185,6,Using Hibernate/JPA without relationships and avoiding multiple DB calls,"It seems to me that when you use relationships in Hibernate/JPA that using relationships like OneToMany can have a performance boost on reads because only one database call would need to be run to get a parent entity and all children entities.  I want to avoid using relationships and just map foreign key columns as normal columns due to the nature of my application.

One problem is that when I actually want to handle relationships I need to do code like this...

> ParentEntity pe =
> someDao.findBySomething(""some param"");
> //db round trip List<ChildEntity>
> childEntities =
> someDao.findChildren(pe); //db round
> trip

It seems like there is some way to do things a big more manually like I want while avoiding the extra round trips.  Any ideas?",hibernate,jpa,,,,,open,0,122,9,"Using Hibernate/JPA without relationships and avoiding multiple DB calls It seems to me that when you use relationships in Hibernate/JPA that using relationships like OneToMany can have a performance boost on reads because only one database call would need to be run to get a parent entity and all children entities.  I want to avoid using relationships and just map foreign key columns as normal columns due to the nature of my application.

One problem is that when I actually want to handle relationships I need to do code like this...

> ParentEntity pe =
> someDao.findBySomething(""some param"");
> //db round trip List<ChildEntity>
> childEntities =
> someDao.findChildren(pe); //db round
> trip

It seems like there is some way to do things a big more manually like I want while avoiding the extra round trips.  Any ideas?",2
7369608,09/10/2011 04:25:13,660833,03/15/2011 15:05:38,310,3,problem in fetching id of child in oneToMany and manytoone biderectional mapping,"I am trying to implement a bidirectional mapping b/w parent and child. its a bidirectional mapping and I want to perform some updates on my child object after persisting the child object through parent(i.e owner side is parent).

To maintain consistency between parent and child in my object graph I am performing bidirectional setting like following

    p.getChild().add(c);

and 

    c.setParent(p);

after persisting this relation as follows

    parentDao.update(p);

when I am trying to access any property from my object graph. It works fine but when i try to fetch id of child from database I get NPE because its not in my object graph.

So while 

    c.getName();

works fine but following fails

    c.getId();


any help is appreciated. how can I read childsId in current session. I have given autocommit as true.
",hibernate,spring,persistence,,,,open,0,139,12,"problem in fetching id of child in oneToMany and manytoone biderectional mapping I am trying to implement a bidirectional mapping b/w parent and child. its a bidirectional mapping and I want to perform some updates on my child object after persisting the child object through parent(i.e owner side is parent).

To maintain consistency between parent and child in my object graph I am performing bidirectional setting like following

    p.getChild().add(c);

and 

    c.setParent(p);

after persisting this relation as follows

    parentDao.update(p);

when I am trying to access any property from my object graph. It works fine but when i try to fetch id of child from database I get NPE because its not in my object graph.

So while 

    c.getName();

works fine but following fails

    c.getId();


any help is appreciated. how can I read childsId in current session. I have given autocommit as true.
",3
11557271,07/19/2012 08:57:29,1537303,07/19/2012 08:39:59,1,0,User lacks privilege or object not found WITH JUnit,"I'm having a problem when I use JUnit :

    Hibernate: SELECT COUNT(0) FROM group
    DEBUG - SqlExceptionHelper         - user lacks privilege or object not found: GROUP [n/a]
    java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: GROUP
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source)
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.executeQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)
	at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
	at $Proxy46.executeQuery(Unknown Source)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:441)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:396)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:456)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:464)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:472)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:477)
	at org.springframework.jdbc.core.JdbcTemplate.queryForInt(JdbcTemplate.java:486)
	at org.springframework.jdbc.core.simple.SimpleJdbcTemplate.queryForInt(SimpleJdbcTemplate.java:117)
	at org.springframework.test.jdbc.SimpleJdbcTestUtils.countRowsInTable(SimpleJdbcTestUtils.java:56)
	at org.springframework.test.context.junit4.AbstractTransactionalJUnit4SpringContextTests.countRowsInTable(AbstractTransactionalJUnit4SpringContextTests.java:115)
	at fr.neosoft.neocommunity.dao.group.GroupTest.testSave(GroupTest.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: GROUP
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getTable(Unknown Source)
	at org.hsqldb.ParserDQL.readTableName(Unknown Source)
	at org.hsqldb.ParserDQL.readTableOrSubquery(Unknown Source)
	at org.hsqldb.ParserDQL.XreadTableReference(Unknown Source)
	at org.hsqldb.ParserDQL.XreadFromClause(Unknown Source)
	at org.hsqldb.ParserDQL.XreadTableExpression(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQuerySpecification(Unknown Source)
	at org.hsqldb.ParserDQL.XreadSimpleTable(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryPrimary(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryTerm(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryExpressionBody(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryExpression(Unknown Source)
	at org.hsqldb.ParserDQL.compileCursorSpecification(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 50 more
    WARN  - SqlExceptionHelper         - SQL Error: -5501, SQLState: 42501
    ERROR - SqlExceptionHelper         - user lacks privilege or object not found: GROUP

This is only for one of my entities. Tests for the others are ok but not for this one.

I use Hibernate 4, JUnit 4, Spring 3 and JPA 2. 

I you want to see my entity or anything else, I can post it.

Thank you for your help
",hibernate,jpa,junit,,,,open,0,256,9,"User lacks privilege or object not found WITH JUnit I'm having a problem when I use JUnit :

    Hibernate: SELECT COUNT(0) FROM group
    DEBUG - SqlExceptionHelper         - user lacks privilege or object not found: GROUP [n/a]
    java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: GROUP
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source)
	at org.hsqldb.jdbc.Util.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.executeQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)
	at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
	at $Proxy46.executeQuery(Unknown Source)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:441)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:396)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:456)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:464)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:472)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:477)
	at org.springframework.jdbc.core.JdbcTemplate.queryForInt(JdbcTemplate.java:486)
	at org.springframework.jdbc.core.simple.SimpleJdbcTemplate.queryForInt(SimpleJdbcTemplate.java:117)
	at org.springframework.test.jdbc.SimpleJdbcTestUtils.countRowsInTable(SimpleJdbcTestUtils.java:56)
	at org.springframework.test.context.junit4.AbstractTransactionalJUnit4SpringContextTests.countRowsInTable(AbstractTransactionalJUnit4SpringContextTests.java:115)
	at fr.neosoft.neocommunity.dao.group.GroupTest.testSave(GroupTest.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: GROUP
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getTable(Unknown Source)
	at org.hsqldb.ParserDQL.readTableName(Unknown Source)
	at org.hsqldb.ParserDQL.readTableOrSubquery(Unknown Source)
	at org.hsqldb.ParserDQL.XreadTableReference(Unknown Source)
	at org.hsqldb.ParserDQL.XreadFromClause(Unknown Source)
	at org.hsqldb.ParserDQL.XreadTableExpression(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQuerySpecification(Unknown Source)
	at org.hsqldb.ParserDQL.XreadSimpleTable(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryPrimary(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryTerm(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryExpressionBody(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryExpression(Unknown Source)
	at org.hsqldb.ParserDQL.compileCursorSpecification(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 50 more
    WARN  - SqlExceptionHelper         - SQL Error: -5501, SQLState: 42501
    ERROR - SqlExceptionHelper         - user lacks privilege or object not found: GROUP

This is only for one of my entities. Tests for the others are ok but not for this one.

I use Hibernate 4, JUnit 4, Spring 3 and JPA 2. 

I you want to see my entity or anything else, I can post it.

Thank you for your help
",3
1523691,10/06/2009 05:06:57,164299,08/27/2009 15:30:18,348,14,What are good video tutorials for Hibernate ?,"I am new to Hibernate and what are some good video tutorials/online tutorials to guide me ?


Thanks.",hibernate,tutorials,,,,02/13/2012 23:23:48,not constructive,1,17,8,"What are good video tutorials for Hibernate ? I am new to Hibernate and what are some good video tutorials/online tutorials to guide me ?


Thanks.",2
10803110,05/29/2012 16:28:45,1247655,03/04/2012 03:30:20,4,1,could not set a field value by reflection setter error in hibernate,"I have this class BidToolTradeLanes defined as follows:

    /*
     * To change this template, choose Tools | Templates
     * and open the template in the editor.
     */

    package com.catapult.bid.model;
    
    /**
     *
     * @author Alok Shrestha
     */
    public class BidToolTradeLanes {
        private int tradeLaneId;
        private String tradeLaneName;
        private int contractId;
    
    public BidToolTradeLanes() {
    }
    public int getContractId() {
        return contractId;
    }

    public void setContractId(int contractId) {
        this.contractId = contractId;
    }

    public int getTradeLaneId() {
        return tradeLaneId;
    }

    public void setTradeLaneId(int tradeLaneId) {
        this.tradeLaneId = tradeLaneId;
    }

    public String getTradeLaneName() {
        return tradeLaneName;
    }
}

And, I have this mapping file for the above class:

    <hibernate-mapping package=""com.catapult.bid.model""  default-access=""field""> 
    <class name=""BidToolTradeLanes"" table=""bt_trade_lane"" schema=""bidtool"" >
        <id name=""tradeLaneId"" type=""int"" column=""trade_lane_id"">           
            <generator class=""sequence"">
                 <param name=""sequence"">bidtool.trade_lane_trade_lane_id_seq</param>
            </generator>
        </id>  
  
        <property name=""tradeLaneName"" type=""string"">
            <column name=""tradelane_name"" length=""20""/>
        </property>      
         <many-to-one class=""Contracts"" fetch=""select"" name=""contractId"">
             <column name=""contract_id""/>
        </many-to-one>
    </class>
</hibernate-mapping>

Now, whenever I try to run this statement, I get the error

    List list=session.createSQLQuery(""select {t.*} from bidtool.bt_trade_lane t"")
                      .addEntity(""t"",BidToolTradeLanes.class).list();


I get the error as: 

    could not set a field value by reflection setter of com.catapult.bid.model.BidToolTradeLanes.contractId

Your help will be appreciated.
",hibernate,reflection,mapping,setter,,,open,0,471,12,"could not set a field value by reflection setter error in hibernate I have this class BidToolTradeLanes defined as follows:

    /*
     * To change this template, choose Tools | Templates
     * and open the template in the editor.
     */

    package com.catapult.bid.model;
    
    /**
     *
     * @author Alok Shrestha
     */
    public class BidToolTradeLanes {
        private int tradeLaneId;
        private String tradeLaneName;
        private int contractId;
    
    public BidToolTradeLanes() {
    }
    public int getContractId() {
        return contractId;
    }

    public void setContractId(int contractId) {
        this.contractId = contractId;
    }

    public int getTradeLaneId() {
        return tradeLaneId;
    }

    public void setTradeLaneId(int tradeLaneId) {
        this.tradeLaneId = tradeLaneId;
    }

    public String getTradeLaneName() {
        return tradeLaneName;
    }
}

And, I have this mapping file for the above class:

    <hibernate-mapping package=""com.catapult.bid.model""  default-access=""field""> 
    <class name=""BidToolTradeLanes"" table=""bt_trade_lane"" schema=""bidtool"" >
        <id name=""tradeLaneId"" type=""int"" column=""trade_lane_id"">           
            <generator class=""sequence"">
                 <param name=""sequence"">bidtool.trade_lane_trade_lane_id_seq</param>
            </generator>
        </id>  
  
        <property name=""tradeLaneName"" type=""string"">
            <column name=""tradelane_name"" length=""20""/>
        </property>      
         <many-to-one class=""Contracts"" fetch=""select"" name=""contractId"">
             <column name=""contract_id""/>
        </many-to-one>
    </class>
</hibernate-mapping>

Now, whenever I try to run this statement, I get the error

    List list=session.createSQLQuery(""select {t.*} from bidtool.bt_trade_lane t"")
                      .addEntity(""t"",BidToolTradeLanes.class).list();


I get the error as: 

    could not set a field value by reflection setter of com.catapult.bid.model.BidToolTradeLanes.contractId

Your help will be appreciated.
",4
6987197,08/08/2011 19:01:38,508539,11/15/2010 17:10:40,44,2,"hibernate many to many mappings for join table with extra columns , surrogate key, additional primary key","I'm having hard time to resolve entity mappings (using annotations) for the following scenarios ( from legacy db)

 **Scenario 1:**
 
    Table A
      A_ID (PK)
 
    Table B    
      B_ID (PK)
 
    TABLE A_B    
      AB_ID (PK)    
      A_ID (FK)    
      B_ID (FK)    
      Created_DATE
 
 **Scenario 2:**
 
    Table A    
      A_ID (PK)
 
    Table B    
      B_ID (PK)
 
    TABLE A_B    
      AB_ID (PK)    
      A_ID (PK)(FK)    
      Test_Date (PK)    
      B_ID (FK)    
      Created_DATE
 
 **Scenario 3:**
 
 
    Table A
      A_ID (PK)             
      A2_ID (PK)
 
    Table B    
      B_ID (PK)
 
    TABLE A_B    
      A_ID (PK)(FK)    
      A2_ID (PK)(FK)    
      B_ID (PK)(FK)   
      Created_DATE

Could some one kind enough to show these entities in hibernate using annotations and with explanation please?
",hibernate,nhibernate-mapping,hibernate-annotations,,,,open,0,314,17,"hibernate many to many mappings for join table with extra columns , surrogate key, additional primary key I'm having hard time to resolve entity mappings (using annotations) for the following scenarios ( from legacy db)

 **Scenario 1:**
 
    Table A
      A_ID (PK)
 
    Table B    
      B_ID (PK)
 
    TABLE A_B    
      AB_ID (PK)    
      A_ID (FK)    
      B_ID (FK)    
      Created_DATE
 
 **Scenario 2:**
 
    Table A    
      A_ID (PK)
 
    Table B    
      B_ID (PK)
 
    TABLE A_B    
      AB_ID (PK)    
      A_ID (PK)(FK)    
      Test_Date (PK)    
      B_ID (FK)    
      Created_DATE
 
 **Scenario 3:**
 
 
    Table A
      A_ID (PK)             
      A2_ID (PK)
 
    Table B    
      B_ID (PK)
 
    TABLE A_B    
      A_ID (PK)(FK)    
      A2_ID (PK)(FK)    
      B_ID (PK)(FK)   
      Created_DATE

Could some one kind enough to show these entities in hibernate using annotations and with explanation please?
",3
5911990,05/06/2011 13:16:27,688754,04/02/2011 08:28:16,1,1,GORM Generic List,"I'm working with grails since a while. There is something I still don't know how to do it optimally.

I have a domain class (let's say User) which contains a List which can be potentially any domain class (Item, User, etc, etc). Is there a way to make this out of the box?

At the moment I'm doing it the following way:

I have a UserLink which contains following properties:

    class UserLink{
        User user
        String className
        Long refId
    }

Then I have a service which loads all links first and then the corresponding objects and returns a list.

I think this approach is not the best, and could lead to future performance problems

What do you think? Do you have better design ideas?

Thanks,
Nicolas",hibernate,grails,gorm,,,,open,0,144,3,"GORM Generic List I'm working with grails since a while. There is something I still don't know how to do it optimally.

I have a domain class (let's say User) which contains a List which can be potentially any domain class (Item, User, etc, etc). Is there a way to make this out of the box?

At the moment I'm doing it the following way:

I have a UserLink which contains following properties:

    class UserLink{
        User user
        String className
        Long refId
    }

Then I have a service which loads all links first and then the corresponding objects and returns a list.

I think this approach is not the best, and could lead to future performance problems

What do you think? Do you have better design ideas?

Thanks,
Nicolas",3
11276905,06/30/2012 19:10:11,1493432,06/30/2012 18:54:14,1,0,Do we need Hibernate mapping In this scenario?,"I am new to hibernate. Please help me.

I have 2 tables named Employee and Country.I need to save the Employee with selected country.In my case , I will nowhere get employee details back and show it on UI. Do i need to maintain mapping(onetoone mapping) between Employee and Country objects? Can't i directly save employee with selected country?

can i do as below in my Employee domain object?If not, please tell me potential problems with this?

   
@column(name=""countryId"")

private int countryId;",hibernate,hibernate-mapping,,,,,open,0,80,8,"Do we need Hibernate mapping In this scenario? I am new to hibernate. Please help me.

I have 2 tables named Employee and Country.I need to save the Employee with selected country.In my case , I will nowhere get employee details back and show it on UI. Do i need to maintain mapping(onetoone mapping) between Employee and Country objects? Can't i directly save employee with selected country?

can i do as below in my Employee domain object?If not, please tell me potential problems with this?

   
@column(name=""countryId"")

private int countryId;",2
4634820,01/08/2011 16:17:06,54356,01/12/2009 21:43:57,165,20,Mapping result of aggregate query to hibernate object,"Is it possible to map the result of an aggregate query to a field in a hibernate-backed domain object? 

For example: If I have a Car object that looks like the following --

    @Entity
    public class Car {
        @Id 
        private int id;
        @Column 
        private String carName;
        private int carCount;
        ---Getters/Setters---
    }

I would like the carCount field/property to be the total count of all the cars in my persistence store, is this possible? 

I've looked at the Hibernate documentation, I can run the query, but I don't see where I can set that value to the ""carCount""

Thanks.

",hibernate,aggregate-functions,,,,,open,0,149,8,"Mapping result of aggregate query to hibernate object Is it possible to map the result of an aggregate query to a field in a hibernate-backed domain object? 

For example: If I have a Car object that looks like the following --

    @Entity
    public class Car {
        @Id 
        private int id;
        @Column 
        private String carName;
        private int carCount;
        ---Getters/Setters---
    }

I would like the carCount field/property to be the total count of all the cars in my persistence store, is this possible? 

I've looked at the Hibernate documentation, I can run the query, but I don't see where I can set that value to the ""carCount""

Thanks.

",2
7970640,11/01/2011 17:55:10,1007036,10/21/2011 11:58:37,15,0,Comparing rows between 2 data tables in Hibernate,"I wonder whether is it possible to compare rows between 2 separate data tables?

For example. If datatable1 has user1 and datatable2 has user1, the user1 in datatable2 should not exist. My application allows me to select user1 from datatable2, and add it to datatable1.

Any thoughts on this? should I be comparing the row index?

",hibernate,jsf,primefaces,,,,open,0,54,8,"Comparing rows between 2 data tables in Hibernate I wonder whether is it possible to compare rows between 2 separate data tables?

For example. If datatable1 has user1 and datatable2 has user1, the user1 in datatable2 should not exist. My application allows me to select user1 from datatable2, and add it to datatable1.

Any thoughts on this? should I be comparing the row index?

",3
10722012,05/23/2012 14:25:18,819662,06/28/2011 17:24:08,147,9,Hibernate get saved object by id before persisted to database,"I have a hibernate object that I'm persisting using session.saveOrUpdate without committing to the database which gives me the object id. I'm passing the object id to my interface which will later be used to rebuild the object on submit. When I submit the form, I'm no longer able to do a session query to retrieve object because the object technically doesn't exist in the database. 

Does anybody know how to retrieve that object? If I just create a new object, the database id's will increment out of control. Any thoughts?",hibernate,,,,,,open,0,91,10,"Hibernate get saved object by id before persisted to database I have a hibernate object that I'm persisting using session.saveOrUpdate without committing to the database which gives me the object id. I'm passing the object id to my interface which will later be used to rebuild the object on submit. When I submit the form, I'm no longer able to do a session query to retrieve object because the object technically doesn't exist in the database. 

Does anybody know how to retrieve that object? If I just create a new object, the database id's will increment out of control. Any thoughts?",1
7189066,08/25/2011 10:48:08,786968,06/07/2011 07:02:45,6,0,JPA EntityManager is not initialized (null),"Im new to JPA
 I generated the following code using reverseEngineering tool (Hibernate).
But the entitymanager always null.
I do not know what to do please guide me. Is there anything that I should add to the persistence.xml? I searched a lot but could not find a suitable clue.
Thanx

    public class ModuleHome{

	private static final Log log = LogFactory.getLog(ModuleHome.class);
	
	@PersistenceContext
	private EntityManager entityManager;

	public void persist(Module transientInstance) {
		log.debug(""persisting Module instance"");
		try {
			entityManager.persist(transientInstance);
			log.debug(""persist successful"");
		} catch (RuntimeException re) {
			log.error(""persist failed"", re);
			System.out.println(""Printing,,,,:""+re.getMessage());
			throw re;
		}
	}
	
	public void remove(Module persistentInstance) {
		log.debug(""removing Module instance"");
		try {
			entityManager.remove(persistentInstance);
			log.debug(""remove successful"");
		} catch (RuntimeException re) {
			log.error(""remove failed"", re);
			throw re;
		}
	}

	public Module merge(Module detachedInstance) {
		log.debug(""merging Module instance"");
		try {
			Module result = entityManager.merge(detachedInstance);
			log.debug(""merge successful"");
			return result;
		} catch (RuntimeException re) {
			log.error(""merge failed"", re);
			throw re;
		}
	}

	public Module findById(int id) {
		log.debug(""getting Module instance with id: "" + id);
		try {
			Module instance = entityManager.find(Module.class, id);
			log.debug(""get successful"");
			return instance;
		} catch (RuntimeException re) {
			log.error(""get failed"", re);
			System.out.println(""Error: ""+re.getMessage());
			throw re;
		}
	}
}





and my persistance.xml is

    <?xml version=""1.0"" encoding=""UTF-8""?>
    <persistence version=""2.0"" xmlns=""http://java.sun.com/xml/ns/persistence"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"">
	<persistence-unit name=""CI_Monitor"" transaction-type=""JTA"">
	
	<jta-data-source>java:MSSQL2008</jta-data-source>	
	<properties>
    		
          <property name=""hibernate.archive.autodetection"" value=""class, hbm""/>
		  
	  <property name=""hibernate.connection.driver_class"" value=""com.microsoft.sqlserver.jdbc.SQLServerDriver""/>
          <property name=""hibernate.connection.url"" value=""jdbc:sqlserver://CSLK-CISVR\\CISVR:1433""/>
          <property name=""hibernate.connection.username"" value=""username""/>
          <property name=""hibernate.connection.password"" value=""pwd""/>
          
            <property name=""hibernate.transaction.manager_lookup_class"" value=""org.hibernate.transaction.JBossTransactionManagerLookup""/>

		
		 	
          <property name=""hibernate.show_sql"" value=""true""/>
          <property name=""hibernate.format_sql"" value=""true""/>
          <property name=""use_sql_comments"" value=""true""/>

          <property name=""hibernate.c3p0.min_size""
                    value=""5""/>
          <property name=""hibernate.c3p0.max_size""
                    value=""20""/>
          <property name=""hibernate.c3p0.timeout""
                    value=""300""/>
          <property name=""hibernate.c3p0.max_statements""
                    value=""50""/>
          <property name=""hibernate.c3p0.idle_test_period""
                    value=""3000""/>
	  <property name=""hibernate.dialect""
                    value=""org.hibernate.dialect.SQLServerDialect""/>
	
	 <property name=""hibernate.hbm2ddl.auto"" value=""update"" /> 
      </properties>
   </persistence-unit>
</persistence>


please Im waiting for a help...",hibernate,jpa,hibernate-entitymanager,,,,open,0,473,6,"JPA EntityManager is not initialized (null) Im new to JPA
 I generated the following code using reverseEngineering tool (Hibernate).
But the entitymanager always null.
I do not know what to do please guide me. Is there anything that I should add to the persistence.xml? I searched a lot but could not find a suitable clue.
Thanx

    public class ModuleHome{

	private static final Log log = LogFactory.getLog(ModuleHome.class);
	
	@PersistenceContext
	private EntityManager entityManager;

	public void persist(Module transientInstance) {
		log.debug(""persisting Module instance"");
		try {
			entityManager.persist(transientInstance);
			log.debug(""persist successful"");
		} catch (RuntimeException re) {
			log.error(""persist failed"", re);
			System.out.println(""Printing,,,,:""+re.getMessage());
			throw re;
		}
	}
	
	public void remove(Module persistentInstance) {
		log.debug(""removing Module instance"");
		try {
			entityManager.remove(persistentInstance);
			log.debug(""remove successful"");
		} catch (RuntimeException re) {
			log.error(""remove failed"", re);
			throw re;
		}
	}

	public Module merge(Module detachedInstance) {
		log.debug(""merging Module instance"");
		try {
			Module result = entityManager.merge(detachedInstance);
			log.debug(""merge successful"");
			return result;
		} catch (RuntimeException re) {
			log.error(""merge failed"", re);
			throw re;
		}
	}

	public Module findById(int id) {
		log.debug(""getting Module instance with id: "" + id);
		try {
			Module instance = entityManager.find(Module.class, id);
			log.debug(""get successful"");
			return instance;
		} catch (RuntimeException re) {
			log.error(""get failed"", re);
			System.out.println(""Error: ""+re.getMessage());
			throw re;
		}
	}
}





and my persistance.xml is

    <?xml version=""1.0"" encoding=""UTF-8""?>
    <persistence version=""2.0"" xmlns=""http://java.sun.com/xml/ns/persistence"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"">
	<persistence-unit name=""CI_Monitor"" transaction-type=""JTA"">
	
	<jta-data-source>java:MSSQL2008</jta-data-source>	
	<properties>
    		
          <property name=""hibernate.archive.autodetection"" value=""class, hbm""/>
		  
	  <property name=""hibernate.connection.driver_class"" value=""com.microsoft.sqlserver.jdbc.SQLServerDriver""/>
          <property name=""hibernate.connection.url"" value=""jdbc:sqlserver://CSLK-CISVR\\CISVR:1433""/>
          <property name=""hibernate.connection.username"" value=""username""/>
          <property name=""hibernate.connection.password"" value=""pwd""/>
          
            <property name=""hibernate.transaction.manager_lookup_class"" value=""org.hibernate.transaction.JBossTransactionManagerLookup""/>

		
		 	
          <property name=""hibernate.show_sql"" value=""true""/>
          <property name=""hibernate.format_sql"" value=""true""/>
          <property name=""use_sql_comments"" value=""true""/>

          <property name=""hibernate.c3p0.min_size""
                    value=""5""/>
          <property name=""hibernate.c3p0.max_size""
                    value=""20""/>
          <property name=""hibernate.c3p0.timeout""
                    value=""300""/>
          <property name=""hibernate.c3p0.max_statements""
                    value=""50""/>
          <property name=""hibernate.c3p0.idle_test_period""
                    value=""3000""/>
	  <property name=""hibernate.dialect""
                    value=""org.hibernate.dialect.SQLServerDialect""/>
	
	 <property name=""hibernate.hbm2ddl.auto"" value=""update"" /> 
      </properties>
   </persistence-unit>
</persistence>


please Im waiting for a help...",3
2028824,01/08/2010 16:02:09,68183,02/19/2009 03:16:03,2825,0,"How to get a distinct result, but return another column in the select?","I want to get a distinct result based on a property, but return the id in the select because I will be using it in a subquery.

e.g.

    (List<Article>) session.createQuery(""from Article a where a.id in (select distinct a2.title from article a2 where a2.body = :body"");
    setString(""body"", """")
    .list();

The key section is the subquery, **I want to return the id, not the a2.title property**.
Can this be done?

(the table Article has duplicates, so I just want to return any one of them it doesn't matter as long as the body = """").",hibernate,java,hql,subquery,,,open,0,98,13,"How to get a distinct result, but return another column in the select? I want to get a distinct result based on a property, but return the id in the select because I will be using it in a subquery.

e.g.

    (List<Article>) session.createQuery(""from Article a where a.id in (select distinct a2.title from article a2 where a2.body = :body"");
    setString(""body"", """")
    .list();

The key section is the subquery, **I want to return the id, not the a2.title property**.
Can this be done?

(the table Article has duplicates, so I just want to return any one of them it doesn't matter as long as the body = """").",4
7223483,08/28/2011 19:52:10,704462,04/12/2011 16:10:45,1,0,Hibernate Spring Bean property 'annotatedClasses' is not writable or has an invalid setter method,"In first case I want to apologize for my bad English but I have this problem.

I learn Hibernate and Spring and I want integrate it. I using tutorial on pages vaannila.com. I tried several examples with Spring only but I'm fine on this practice and I cannot continue.
[eSpring Hibernate Integration][1]
On these pages you can download the example. I link the necessary jars, but server throws exeption

    type Exception report
    
    message 
    
    description The server encountered an internal error () that prevented it from fulfilling this request.
    
    exception 
    javax.servlet.ServletException: Servlet.init() for servlet dispatcher threw exception
    	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)
    	org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
    	org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
    	org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
    	java.lang.Thread.run(Unknown Source)
    
    
    root cause 
    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySessionFactory' defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'annotatedClasses' of bean class [org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean]: Bean property 'annotatedClasses' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1278)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1011)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:475)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:412)
    	java.security.AccessController.doPrivileged(Native Method)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:383)
    	org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:276)
    	org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
    	org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:175)
    	org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:479)
    	org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:716)
    	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:377)
    	org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:427)
    	org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:341)
    	org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    	org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    	javax.servlet.GenericServlet.init(GenericServlet.java:212)
    	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)
    	org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
    	org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
    	org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
    	java.lang.Thread.run(Unknown Source)
    
    root cause 
    org.springframework.beans.NotWritablePropertyException: Invalid property 'annotatedClasses' of bean class [org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean]: Bean property 'annotatedClasses' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    	org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:787)
    	org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:643)
    	org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)
    	org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1275)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1011)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:475)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:412)
    	java.security.AccessController.doPrivileged(Native Method)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:383)
    	org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:276)
    	org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
    	org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:175)
    	org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:479)
    	org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:716)
    	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:377)
    	org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:427)
    	org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:341)
    	org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    	org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    	javax.servlet.GenericServlet.init(GenericServlet.java:212)
    	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)
    	org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
    	org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
    	org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
    	java.lang.Thread.run(Unknown Source)

This is link to to download my example project (is it megaupload- sorry but in I cannot find how add file to post in stackOwerflow or I can upload this everywhere else).
[ExampleSpringHibernate][2]

Please Help me. Is very important for me solve this

Thanks



  [1]: http://vaannila.com/spring/spring-hibernate-integration-1.html
  [2]: http://www.megaupload.com/?d=5GD355HR",hibernate,spring,spring-mvc,,,04/09/2012 05:54:30,too localized,1,522,14,"Hibernate Spring Bean property 'annotatedClasses' is not writable or has an invalid setter method In first case I want to apologize for my bad English but I have this problem.

I learn Hibernate and Spring and I want integrate it. I using tutorial on pages vaannila.com. I tried several examples with Spring only but I'm fine on this practice and I cannot continue.
[eSpring Hibernate Integration][1]
On these pages you can download the example. I link the necessary jars, but server throws exeption

    type Exception report
    
    message 
    
    description The server encountered an internal error () that prevented it from fulfilling this request.
    
    exception 
    javax.servlet.ServletException: Servlet.init() for servlet dispatcher threw exception
    	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)
    	org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
    	org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
    	org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
    	java.lang.Thread.run(Unknown Source)
    
    
    root cause 
    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySessionFactory' defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'annotatedClasses' of bean class [org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean]: Bean property 'annotatedClasses' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1278)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1011)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:475)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:412)
    	java.security.AccessController.doPrivileged(Native Method)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:383)
    	org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:276)
    	org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
    	org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:175)
    	org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:479)
    	org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:716)
    	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:377)
    	org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:427)
    	org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:341)
    	org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    	org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    	javax.servlet.GenericServlet.init(GenericServlet.java:212)
    	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)
    	org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
    	org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
    	org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
    	java.lang.Thread.run(Unknown Source)
    
    root cause 
    org.springframework.beans.NotWritablePropertyException: Invalid property 'annotatedClasses' of bean class [org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean]: Bean property 'annotatedClasses' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    	org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:787)
    	org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:643)
    	org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)
    	org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1275)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1011)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:475)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:412)
    	java.security.AccessController.doPrivileged(Native Method)
    	org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:383)
    	org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:276)
    	org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
    	org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:175)
    	org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:479)
    	org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:716)
    	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:377)
    	org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:427)
    	org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:341)
    	org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    	org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    	javax.servlet.GenericServlet.init(GenericServlet.java:212)
    	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)
    	org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
    	org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
    	org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
    	java.lang.Thread.run(Unknown Source)

This is link to to download my example project (is it megaupload- sorry but in I cannot find how add file to post in stackOwerflow or I can upload this everywhere else).
[ExampleSpringHibernate][2]

Please Help me. Is very important for me solve this

Thanks



  [1]: http://vaannila.com/spring/spring-hibernate-integration-1.html
  [2]: http://www.megaupload.com/?d=5GD355HR",3
11069087,06/17/2012 05:18:07,1461433,04/29/2011 15:59:39,1,0,Identifier of a join in hibernate,"I have a HQL query which perform multiple joins. However, I am getting an exception saying multiple rows found with the same identifier . Could anyone tell me what is the identifier for the result of a join statement in HQL. I am casting the result in an object whose identifier field is different from the one for which the exception is occurring.

Your helpful responses are appreciated.

",hibernate,exception,join,hql,identifier,06/25/2012 16:30:08,not a real question,1,67,6,"Identifier of a join in hibernate I have a HQL query which perform multiple joins. However, I am getting an exception saying multiple rows found with the same identifier . Could anyone tell me what is the identifier for the result of a join statement in HQL. I am casting the result in an object whose identifier field is different from the one for which the exception is occurring.

Your helpful responses are appreciated.

",5
5582788,04/07/2011 14:34:07,663660,03/17/2011 04:15:58,11,0,Which is Better Hibernate or Spring? and Why?,"I am so confused between Hibernate and Spring framwork. 
I wanted to know that which one is better for my application and carrier development.


Thanks.",hibernate,spring,,,,07/29/2011 11:54:41,not constructive,1,24,8,"Which is Better Hibernate or Spring? and Why? I am so confused between Hibernate and Spring framwork. 
I wanted to know that which one is better for my application and carrier development.


Thanks.",2
7471638,09/19/2011 13:23:09,942940,09/13/2011 16:06:30,1,0,Till how much level collection association would be loaded in Hibernate,"I am having basically three questions in mind:
1. If I am having an object inside which there is collection which further is collection of collection. So if lazy is true then what would be the output of the following & if its false then all objects would be loaded of all collection. Is it like all the collection would be loaded by default lazily and if I access child collection via parent collection then whole hierarchy of child collection would be loaded or what will happen.
2. When session.flush happens, does it closes session & what would be the state of object after flush.
3. And when session flush happens then would that query would be going to go on database layer or it would be flushed to second level cache?

Thanks",hibernate,session,,,,09/19/2011 19:28:05,not constructive,1,129,11,"Till how much level collection association would be loaded in Hibernate I am having basically three questions in mind:
1. If I am having an object inside which there is collection which further is collection of collection. So if lazy is true then what would be the output of the following & if its false then all objects would be loaded of all collection. Is it like all the collection would be loaded by default lazily and if I access child collection via parent collection then whole hierarchy of child collection would be loaded or what will happen.
2. When session.flush happens, does it closes session & what would be the state of object after flush.
3. And when session flush happens then would that query would be going to go on database layer or it would be flushed to second level cache?

Thanks",2
5965415,05/11/2011 13:55:18,726991,04/27/2011 10:07:21,6,0,jsp & hibernate,"i get this eeror when i deploy my jsp page :i use hibernate i want to create a simple form jsp with one class java 


javax.servlet.ServletException: PWC1232: Exceeded maximum depth for nested request dispatches: 20

my faces-config:
<?xml version=""1.0"" encoding=""UTF-8""?>
<faces-config version=""1.2"" xmlns=""http://java.sun.com/xml/ns/javaee""
 xmlns:xi=""http://www.w3.org/2001/XInclude""
 xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"">
 <managed-bean>
  <managed-bean-name>modelTime</managed-bean-name>
  <managed-bean-class>org.projet.ModelTime</managed-bean-class>
  <managed-bean-scope>request</managed-bean-scope>
 </managed-bean>
 
 <navigation-rule> <display-name> home</display-name>
  <from-view-id> /index.jsp</from-view-id> 
  <navigation-case> <from-outcome>newTimesheet</from-outcome> 
  <to-view-id> /newTimesheet.jsp</to-view-id> 
  </navigation-case> 
  </navigation-rule>
</faces-config>

my web.xml:
<?xml version=""1.0"" encoding=""UTF-8""?>
<web-app xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns=""http://java.sun.com/xml/ns/javaee"" xmlns:web=""http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"" xsi:schemaLocation=""http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"" id=""WebApp_ID"" version=""2.5"">
  <display-name>Time</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>
  <servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsp</url-pattern>
  </servlet-mapping>
  <context-param>
    <description>State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2</description>
    <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
    <param-value>client</param-value>
  </context-param>
  <context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>resources.application</param-value>
  </context-param>
  <listener>
    <listener-class>com.sun.faces.config.ConfigureListener</listener-class>
  </listener>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsf</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.faces</url-pattern>
  </servlet-mapping>
</web-app>

my newTimesheet.jsp:

<%@ page session=""true"" isThreadSafe=""true"" import=""org.projet.*,java.net.*, java.io.*, java.util.*,net.sf.hibernate.*,net.sf.hibernate.cfg.*,net.sf.hibernate.expression.*"" %>


<html>

	<head>
		<meta http-equiv=""Content-Language"" content=""en-us"">
		<meta http-equiv=""Content-Type"" content=""text/html; charset=windows-1252"">
		<title>NewTimesheet</title>
	</head>



	


	<body topmargin=""0"" leftmargin=""0"" vlink=""#0000FF"" alink=""#0000FF"">

		<div align=""left"">
		  <table border=""0"" cellpadding=""0"" cellspacing=""0"" bordercolor=""#111111"" width=""84%"" height=""228"" align=""left"">
			<tr>
			  <td width=""13%"" height=""35"" align=""left"" valign=""top"">&nbsp;</td>
			  <td width=""87%"" height=""35"" align=""left"" valign=""bottom"">
			  <font face=""Arial""><b>Create a new &quot;timesheet&quot;</b></font></td>
			</tr>
			<tr>
			  <td width=""14%"" height=""192"" align=""left"" valign=""top"">&nbsp;</td>
			  <td width=""86%"" height=""192"" align=""left"" valign=""top"">
			  <form method=""POST"" action=""newTimesheet.jsp"">
			  <input type=""hidden"" name=""CID"" value=""1"">
				<font face=""Courier New""><font size=""2""><br>
				<br>
				Category:&nbsp;&nbsp;&nbsp;&nbsp; </font>
				<input type=""text"" name=""formCategoryMsg"" size=""38""><font size=""2""><br>
				Description:&nbsp; </font><input type=""text"" name=""formCategoryDescription"" size=""38""><br>
		&nbsp;</font></p>
				<p align=""left""><font face=""Courier New"">
				<input type=""submit"" value=""Submit"" name=""B1""><input type=""reset"" value=""Reset"" name=""B2""></font></p>
			  </form>
			  <p>&nbsp;</td>
			</tr>
		  </table>
		</div>

	</body>

</html>

<%!




any solution? thankshibe
",hibernate,jsp,,,,,open,0,310,3,"jsp & hibernate i get this eeror when i deploy my jsp page :i use hibernate i want to create a simple form jsp with one class java 


javax.servlet.ServletException: PWC1232: Exceeded maximum depth for nested request dispatches: 20

my faces-config:
<?xml version=""1.0"" encoding=""UTF-8""?>
<faces-config version=""1.2"" xmlns=""http://java.sun.com/xml/ns/javaee""
 xmlns:xi=""http://www.w3.org/2001/XInclude""
 xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"">
 <managed-bean>
  <managed-bean-name>modelTime</managed-bean-name>
  <managed-bean-class>org.projet.ModelTime</managed-bean-class>
  <managed-bean-scope>request</managed-bean-scope>
 </managed-bean>
 
 <navigation-rule> <display-name> home</display-name>
  <from-view-id> /index.jsp</from-view-id> 
  <navigation-case> <from-outcome>newTimesheet</from-outcome> 
  <to-view-id> /newTimesheet.jsp</to-view-id> 
  </navigation-case> 
  </navigation-rule>
</faces-config>

my web.xml:
<?xml version=""1.0"" encoding=""UTF-8""?>
<web-app xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns=""http://java.sun.com/xml/ns/javaee"" xmlns:web=""http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"" xsi:schemaLocation=""http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"" id=""WebApp_ID"" version=""2.5"">
  <display-name>Time</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>
  <servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsp</url-pattern>
  </servlet-mapping>
  <context-param>
    <description>State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2</description>
    <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
    <param-value>client</param-value>
  </context-param>
  <context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>resources.application</param-value>
  </context-param>
  <listener>
    <listener-class>com.sun.faces.config.ConfigureListener</listener-class>
  </listener>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsf</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.faces</url-pattern>
  </servlet-mapping>
</web-app>

my newTimesheet.jsp:

<%@ page session=""true"" isThreadSafe=""true"" import=""org.projet.*,java.net.*, java.io.*, java.util.*,net.sf.hibernate.*,net.sf.hibernate.cfg.*,net.sf.hibernate.expression.*"" %>


<html>

	<head>
		<meta http-equiv=""Content-Language"" content=""en-us"">
		<meta http-equiv=""Content-Type"" content=""text/html; charset=windows-1252"">
		<title>NewTimesheet</title>
	</head>



	


	<body topmargin=""0"" leftmargin=""0"" vlink=""#0000FF"" alink=""#0000FF"">

		<div align=""left"">
		  <table border=""0"" cellpadding=""0"" cellspacing=""0"" bordercolor=""#111111"" width=""84%"" height=""228"" align=""left"">
			<tr>
			  <td width=""13%"" height=""35"" align=""left"" valign=""top"">&nbsp;</td>
			  <td width=""87%"" height=""35"" align=""left"" valign=""bottom"">
			  <font face=""Arial""><b>Create a new &quot;timesheet&quot;</b></font></td>
			</tr>
			<tr>
			  <td width=""14%"" height=""192"" align=""left"" valign=""top"">&nbsp;</td>
			  <td width=""86%"" height=""192"" align=""left"" valign=""top"">
			  <form method=""POST"" action=""newTimesheet.jsp"">
			  <input type=""hidden"" name=""CID"" value=""1"">
				<font face=""Courier New""><font size=""2""><br>
				<br>
				Category:&nbsp;&nbsp;&nbsp;&nbsp; </font>
				<input type=""text"" name=""formCategoryMsg"" size=""38""><font size=""2""><br>
				Description:&nbsp; </font><input type=""text"" name=""formCategoryDescription"" size=""38""><br>
		&nbsp;</font></p>
				<p align=""left""><font face=""Courier New"">
				<input type=""submit"" value=""Submit"" name=""B1""><input type=""reset"" value=""Reset"" name=""B2""></font></p>
			  </form>
			  <p>&nbsp;</td>
			</tr>
		  </table>
		</div>

	</body>

</html>

<%!




any solution? thankshibe
",2
5050538,02/19/2011 11:31:08,373201,06/22/2010 13:14:43,315,14,hibernate ImprovedNamingStrategy overrides Table name in entity,"I am using org.hibernate.cfg.ImprovedNamingStrategy, But for a table I have specified the table name explicityly 

    @Table(name=""EventLog"",schema = ""eventlogs"")

But hibernate seems to be looking for event_log. Shouldn't explicit naming override the one provided by ImprovedNamingStrategy",hibernate,,,,,,open,0,38,7,"hibernate ImprovedNamingStrategy overrides Table name in entity I am using org.hibernate.cfg.ImprovedNamingStrategy, But for a table I have specified the table name explicityly 

    @Table(name=""EventLog"",schema = ""eventlogs"")

But hibernate seems to be looking for event_log. Shouldn't explicit naming override the one provided by ImprovedNamingStrategy",1
9086781,01/31/2012 20:54:03,1181247,01/31/2012 20:07:59,1,0,Delaying map entry loading until a get on the key value,"My Config entity has a self referencing map in it.  A given Config object can have several thousand ""remote"" config objects.  These objects will typically be looked up by name.  Since there can be numerous ""remote"" config objects I don't want to have to load them all just to be able to find the one I'm looking for.  So, I was wondering if there was some way to delay the loading of a map entry until it is accessed by key in the map?  I've made the relationship fetch type to lazy but it seems to still load the entire map on first access.  

<!-- language: lang-java -->

    @Entity
    @Cacheable
    @Inheritance(strategy=InheritanceType.JOINED)
    public class Config {
    	@Id
    	@GeneratedValue(strategy = GenerationType.SEQUENCE)
    	@NotNull
    	private long id;
    	@Column(length = 40, unique = true)
    	@NotNull
    	private String ceName;
    	@ManyToOne
    	private Config host;
    	@OneToMany(cascade = CascadeType.ALL, mappedBy = ""host"", fetch=FetchType.LAZY)
    	@MapKey(name = ""ceName"")
    	private Map<String, Config> remotes;
    
    ...
    }

Also, I'm currently using Hibernate...but would prefer a solution that wasn't specific to it.",hibernate,jpa,map,lazy-loading,,,open,0,230,11,"Delaying map entry loading until a get on the key value My Config entity has a self referencing map in it.  A given Config object can have several thousand ""remote"" config objects.  These objects will typically be looked up by name.  Since there can be numerous ""remote"" config objects I don't want to have to load them all just to be able to find the one I'm looking for.  So, I was wondering if there was some way to delay the loading of a map entry until it is accessed by key in the map?  I've made the relationship fetch type to lazy but it seems to still load the entire map on first access.  

<!-- language: lang-java -->

    @Entity
    @Cacheable
    @Inheritance(strategy=InheritanceType.JOINED)
    public class Config {
    	@Id
    	@GeneratedValue(strategy = GenerationType.SEQUENCE)
    	@NotNull
    	private long id;
    	@Column(length = 40, unique = true)
    	@NotNull
    	private String ceName;
    	@ManyToOne
    	private Config host;
    	@OneToMany(cascade = CascadeType.ALL, mappedBy = ""host"", fetch=FetchType.LAZY)
    	@MapKey(name = ""ceName"")
    	private Map<String, Config> remotes;
    
    ...
    }

Also, I'm currently using Hibernate...but would prefer a solution that wasn't specific to it.",4
4131387,11/09/2010 07:37:28,306719,04/01/2010 08:57:51,222,1,what does the Set type in a Entry,"I have two tables in db,and one owns a foreign key from another,the fllowing is the schema:

//table featureInfo

    SET FOREIGN_KEY_CHECKS=0;
    -- ----------------------------
    -- Table structure for featureinfo
    -- ----------------------------
    DROP TABLE IF EXISTS `featureinfo`;
    CREATE TABLE `featureinfo` (
      `Id` int(11) NOT NULL AUTO_INCREMENT,
      `globalId` int(11) NOT NULL DEFAULT '0',
      `name` varchar(255) NOT NULL DEFAULT '',
      PRIMARY KEY (`Id`),
      KEY `globalId` (`globalId`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//another table featurefix

    SET FOREIGN_KEY_CHECKS=0;
    -- ----------------------------
    -- Table structure for featurefix
    -- ----------------------------
    DROP TABLE IF EXISTS `featurefix`;
    CREATE TABLE `featurefix` (
      `Id` int(11) NOT NULL AUTO_INCREMENT,
      `globalId` int(11) NOT NULL DEFAULT '0',
      `modifyname` varchar(255) NOT NULL DEFAULT '',
      PRIMARY KEY (`Id`),
      KEY `FK-Guid` (`globalId`),
      CONSTRAINT `FK-Guid` FOREIGN KEY (`globalId`) REFERENCES `featureinfo` (`globalId`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

Then I use the hbm2java to create the entry class:

    public class Featureinfo implements java.io.Serializable {
    
    	private Integer	id;
    	private int		globalId;
    	private String	name;
    	private Set		featurefixes	= new HashSet(0);
    
    	public Featureinfo() {}
    }

Now I wonder why there is a set attribute in FeatureInfo?

And the Featureinfo.hbm.xml:

    <hibernate-mapping>
        <class name=""com.pojo.Featureinfo"" table=""featureinfo"" catalog=""hibernateset"">
            <id name=""id"" type=""java.lang.Integer"">
                <column name=""Id"" />
                <generator class=""identity"" />
            </id>
            <property name=""globalId"" type=""int"">
                <column name=""globalId"" not-null=""true"" />
            </property>
            <property name=""name"" type=""string"">
                <column name=""name"" not-null=""true"" />
            </property>
            <set name=""featurefixes"" inverse=""true"">
                <key>
                    <column name=""globalId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.pojo.Featurefix"" />
            </set>
        </class>
    </hibernate-mapping>

The set element are defines, why not use the ""joined-subclass"" instead?


Also what is the difference between the ""set/map/list/idbag"" and ""one-to-many/many-to-one"" in the mapping xml file ?",hibernate,associations,set,,,,open,0,592,8,"what does the Set type in a Entry I have two tables in db,and one owns a foreign key from another,the fllowing is the schema:

//table featureInfo

    SET FOREIGN_KEY_CHECKS=0;
    -- ----------------------------
    -- Table structure for featureinfo
    -- ----------------------------
    DROP TABLE IF EXISTS `featureinfo`;
    CREATE TABLE `featureinfo` (
      `Id` int(11) NOT NULL AUTO_INCREMENT,
      `globalId` int(11) NOT NULL DEFAULT '0',
      `name` varchar(255) NOT NULL DEFAULT '',
      PRIMARY KEY (`Id`),
      KEY `globalId` (`globalId`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//another table featurefix

    SET FOREIGN_KEY_CHECKS=0;
    -- ----------------------------
    -- Table structure for featurefix
    -- ----------------------------
    DROP TABLE IF EXISTS `featurefix`;
    CREATE TABLE `featurefix` (
      `Id` int(11) NOT NULL AUTO_INCREMENT,
      `globalId` int(11) NOT NULL DEFAULT '0',
      `modifyname` varchar(255) NOT NULL DEFAULT '',
      PRIMARY KEY (`Id`),
      KEY `FK-Guid` (`globalId`),
      CONSTRAINT `FK-Guid` FOREIGN KEY (`globalId`) REFERENCES `featureinfo` (`globalId`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

Then I use the hbm2java to create the entry class:

    public class Featureinfo implements java.io.Serializable {
    
    	private Integer	id;
    	private int		globalId;
    	private String	name;
    	private Set		featurefixes	= new HashSet(0);
    
    	public Featureinfo() {}
    }

Now I wonder why there is a set attribute in FeatureInfo?

And the Featureinfo.hbm.xml:

    <hibernate-mapping>
        <class name=""com.pojo.Featureinfo"" table=""featureinfo"" catalog=""hibernateset"">
            <id name=""id"" type=""java.lang.Integer"">
                <column name=""Id"" />
                <generator class=""identity"" />
            </id>
            <property name=""globalId"" type=""int"">
                <column name=""globalId"" not-null=""true"" />
            </property>
            <property name=""name"" type=""string"">
                <column name=""name"" not-null=""true"" />
            </property>
            <set name=""featurefixes"" inverse=""true"">
                <key>
                    <column name=""globalId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.pojo.Featurefix"" />
            </set>
        </class>
    </hibernate-mapping>

The set element are defines, why not use the ""joined-subclass"" instead?


Also what is the difference between the ""set/map/list/idbag"" and ""one-to-many/many-to-one"" in the mapping xml file ?",3
4668427,01/12/2011 11:50:11,544860,12/16/2010 14:07:49,2,0,"cascade = ""all-delete-orphan""",what are the best coding practices for cascade all-delete-orphan in hibernate,hibernate,,,,,01/14/2011 07:02:17,not a real question,1,11,3,"cascade = ""all-delete-orphan"" what are the best coding practices for cascade all-delete-orphan in hibernate",1
2043532,01/11/2010 17:23:40,248245,01/11/2010 17:23:40,1,0,HIbernate Query taking very long time,"I am trying optimize my code. I fetching the data using hibernate, when i am running the query directly on the database it fetching the results in 2secs, rowcount around 2800. Same query when i fire from my java code takes 8 secs. i have included the code sniplet below.
Please help me out on this, its very urgent.

Session hSession =openSession();
Query query = hsession.createSQLQuery(searchString); 
List results = query.list(); // it takes 7 secs to execute

I am not sure what is wrong over here.",hibernate,query,optimization,,,,open,0,82,6,"HIbernate Query taking very long time I am trying optimize my code. I fetching the data using hibernate, when i am running the query directly on the database it fetching the results in 2secs, rowcount around 2800. Same query when i fire from my java code takes 8 secs. i have included the code sniplet below.
Please help me out on this, its very urgent.

Session hSession =openSession();
Query query = hsession.createSQLQuery(searchString); 
List results = query.list(); // it takes 7 secs to execute

I am not sure what is wrong over here.",3
7603061,09/29/2011 20:31:13,347644,05/22/2010 05:06:36,1,2,JPA looking for wrong table in Many To Many association,"Im relatively new to JPA, and am trying to create a many to many association
with a join table.
My join table has to have an extra parameter other than the foreign keys of the 2 tables. 
I was following a tutorial http://sieze.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/
and couldn't get the first solution from the tutorial working.

Im getting an exception when I try and complete an insert

Exception in thread ""main"" org.springframework.dao.InvalidDataAccessResourceUsageException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]; SQL [insert into organization_organizationspace (organization_id, organizationSpaces_organizationId, organizationSpaces_spaceId) values (?, ?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]

caused by:
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'javatesting.organization_organizationspace' doesn't exist

it seems to me that its looking for the wrong table. The correct (join) table is ""organizationspace"", and its looking for organization_organizationspace.

Here is my MySql db layout

Database:javatesting

Table:Organization <br />
     column:id (integer, auto increment, primary key) <br />
     column:organizationname (varchar, 45) <br />

Table:Space <br />
     column:id (integer, auto increment, primary key) <br />
     column:spacename (varchar, 45) <br />

Table:organizationspace <br />
     column:organization_id (integer, primary key) <br />
     column:space_id (integer, primary key) <br />
     column:deleted_space (boolean) <br />



Here are my entity classes

<pre>


    @Entity
    @Table(name=""space"")
    public class Space implements Serializable 
    {
    	private static final long serialVersionUID = 1L;
    	@Id
    	private int id;
    
    	@OneToMany
    	private List<OrganizationSpace> organizationSpaces;
    
    	private String spaceName;
    
    	public int getId() {
    		return id;
    	}
    
    	public void setId(int id) {
    		this.id = id;
    	}
    	
    	public List<OrganizationSpace> getOrganizationSpaces() {
    		return organizationSpaces;
    	}
    
    	public void setOrganizationSpaces(List<OrganizationSpace> organizationSpaces) {
    		this.organizationSpaces = organizationSpaces;
    	}
    	
    	public String getSpaceName() {
    		return spaceName;
    	}
    
    	public void setSpaceName(String spaceName) {
    		this.spaceName = spaceName;
    	}
    }

</pre>

<pre>


    @Entity
    @Table(name=""organization"")
    public class Organization implements Serializable 
    {
    	private static final long serialVersionUID = 1L;
    
    	@Id
    	private int id;
    
    	@OneToMany
    	private List<OrganizationSpace> organizationSpaces;
    
    	private String organizationName;
    	
    	public int getId() {
    		return id;
    	}
    
    	public void setId(int id) {
    		this.id = id;
    	}
    	
    	public List<OrganizationSpace> getOrganizationSpaces() {
    		return organizationSpaces;
    	}
    
    	public void setOrganizationSpaces(List<OrganizationSpace> organizationSpaces) {
    		this.organizationSpaces = organizationSpaces;
    	}
    	
    	public String getOrganizationName() {
    		return organizationName;
    	}
    
    	public void setOrganizationName(String organizationName) {
    		this.organizationName = organizationName;
    	}
    
    }

</pre>

<pre>


    @Entity
    @Table(name=""organizationspace"")
    @IdClass(OrganizationSpaceId.class)
    public class OrganizationSpace implements Serializable 
    {
    	private static final long serialVersionUID = 3322929039638371342L;
    	
    	@Id
    	private int organizationId;
    	
    	@Id
    	private int spaceId;
    	
    	
    	@Column(name=""deleted_space"")
    	private boolean deletedSpace;
    	
    	@ManyToOne
    	@PrimaryKeyJoinColumn(name=""organization_id"", referencedColumnName=""id"")
    	private Organization organization;
    	
    	@ManyToOne
    	@PrimaryKeyJoinColumn(name=""space_id"", referencedColumnName=""id"")
    	private Space space;
    	
    	public int getOrganizationId() {
    		return organizationId;
    	}
    	public void setOrganizationId(int organizationId) {
    		this.organizationId = organizationId;
    	}
    	public int getSpaceId() {
    		return spaceId;
    	}
    	public void setSpaceId(int spaceId) {
    		this.spaceId = spaceId;
    	}
    	public boolean isDeletedSpace() {
    		return deletedSpace;
    	}
    	public void setDeletedSpace(boolean deletedSpace) {
    		this.deletedSpace = deletedSpace;
    	}
    	public Organization getOrganization() {
    		return organization;
    	}
    	public void setOrganization(Organization organization) {
    		this.organization = organization;
    	}
    	public Space getSpace() {
    		return space;
    	}
    	public void setSpace(Space space) {
    		this.space = space;
    	}
    }

</pre>

<pre>


    public class OrganizationSpaceId implements Serializable
    {
    
    	private int organizationId;
    	private int spaceId;
    	
    	public int getOrganizationId() {
    		return organizationId;
    	}
    	public void setOrganizationId(int organizationId) {
    		this.organizationId = organizationId;
    	}
    	public int getSpaceId() {
    		return spaceId;
    	}
    	public void setSpaceId(int spaceId) {
    		this.spaceId = spaceId;
    	}
    	
    }

</pre>


and here is my main method class that I try and implement all of this...

<pre>

    public class Main {
    
    	/**
    	 * @param args
    	 */
    	public static void main(String[] args) 
    	{
    		ApplicationContext ctx = new ClassPathXmlApplicationContext(""applicationContext.xml"");
    
    		IOrganizationRepository orgRep = (IOrganizationRepository) ctx.getBean(""organizationRepository"");
    		
    		Set<Space> spaceSet = new HashSet<Space>();
    		Space space1 = new Space();
    		
    		space1.setSpaceName(""Space Mountain"");
    		
    		
    		Organization org = new Organization();
    		
    		
    		
    		org.setOrganizationName(""Space Enterprises"");
    		
    		OrganizationSpace os = new OrganizationSpace();
    		os.setSpace(space1);
    		os.setOrganization(org);
    		os.setDeletedSpace(false);
    		List<OrganizationSpace> osList = new ArrayList<OrganizationSpace>();
    		
    		osList.add(os);
    		
    		org.setOrganizationSpaces(osList);
    		
    		
    		orgRep.save(org);
    	}
    
    }

</pre>


<br />


So in OrganizationSpace I'm setting the Table annotation's name element to organizationspace, but it looks like its trying to find (in database javatesting)
organization_organizationspace.
Its tacking on this ""organization_"" for some reason.
Can anyone help me out with this?

I recently completed a many to many with a join table that didnt have the extra column in it (just the foreign keys for the two tables and a primary auto incrementing key). I had to approach it differently in that I didnt have to create an entity for the join table and my annotation mapping was different for the 2 entity classes, and it worked, but having this extra column ""deleted_space"" in the join table is causing this problem for me.

Below you will find the full error returned from the console


0    [main] INFO  org.springframework.context.support.ClassPathXmlApplicationContext  - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@16daa9: startup date [Thu Sep 29 12:45:09 PDT 2011]; root of context hierarchy
135  [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader  - Loading XML bean definitions from class path resource [applicationContext.xml]
632  [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory  - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1a685ae: defining beans [sessionFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,organizationRepository,spaceRepository]; root of factory hierarchy
804  [main] INFO  org.hibernate.cfg.annotations.Version  - Hibernate Annotations 3.4.0.GA
818  [main] INFO  org.hibernate.cfg.Environment  - Hibernate 3.3.0.SP1
822  [main] INFO  org.hibernate.cfg.Environment  - hibernate.properties not found
826  [main] INFO  org.hibernate.cfg.Environment  - Bytecode provider name : javassist
832  [main] INFO  org.hibernate.cfg.Environment  - using JDK 1.4 java.sql.Timestamp handling
919  [main] INFO  org.hibernate.annotations.common.Version  - Hibernate Commons Annotations 3.1.0.GA
926  [main] INFO  org.hibernate.cfg.Configuration  - configuring from url: file:/C:/Users/thebravedave/Programming/eclipse/Indigo/workspace/SococoOrganizationSpace/build/classes/hibernate.cfg.xml
1021 [main] INFO  org.hibernate.cfg.Configuration  - Configured SessionFactory: null
1084 [main] INFO  org.hibernate.cfg.AnnotationBinder  - Binding entity from annotated class: org.webhop.ywdc.beans.Space
1136 [main] INFO  org.hibernate.cfg.annotations.EntityBinder  - Bind entity org.webhop.ywdc.beans.Space on table space
1232 [main] INFO  org.hibernate.cfg.AnnotationBinder  - Binding entity from annotated class: org.webhop.ywdc.beans.Organization
1233 [main] INFO  org.hibernate.cfg.annotations.EntityBinder  - Bind entity org.webhop.ywdc.beans.Organization on table organization
1234 [main] INFO  org.hibernate.cfg.AnnotationBinder  - Binding entity from annotated class: org.webhop.ywdc.beans.OrganizationSpace
1234 [main] INFO  org.hibernate.cfg.annotations.EntityBinder  - Bind entity org.webhop.ywdc.beans.OrganizationSpace on table organizationspace
1330 [main] INFO  org.hibernate.cfg.AnnotationConfiguration  - Hibernate Validator not found: ignoring
1330 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean  - Building new Hibernate SessionFactory
1335 [main] INFO  org.hibernate.cfg.search.HibernateSearchEventListenerRegister  - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
1384 [main] WARN  org.hibernate.mapping.RootClass  - composite-id class does not override equals(): org.webhop.ywdc.beans.OrganizationSpaceId
1384 [main] WARN  org.hibernate.mapping.RootClass  - composite-id class does not override hashCode(): org.webhop.ywdc.beans.OrganizationSpaceId
1391 [main] INFO  org.hibernate.connection.ConnectionProviderFactory  - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
1396 [main] INFO  org.hibernate.connection.C3P0ConnectionProvider  - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost/javatesting
1397 [main] INFO  org.hibernate.connection.C3P0ConnectionProvider  - Connection properties: {user=root, password=****}
1397 [main] INFO  org.hibernate.connection.C3P0ConnectionProvider  - autocommit mode: false
1407 [main] WARN  org.hibernate.connection.C3P0ConnectionProvider  - Both hibernate-style property 'hibernate.c3p0.max_size' and c3p0-style property 'c3p0.max_size' have been set in hibernate.properties. Hibernate-style property 'hibernate.c3p0.max_size' will be used and c3p0-style property 'c3p0.max_size' will be ignored!
1407 [main] WARN  org.hibernate.connection.C3P0ConnectionProvider  - Both hibernate-style property 'hibernate.c3p0.min_size' and c3p0-style property 'c3p0.min_size' have been set in hibernate.properties. Hibernate-style property 'hibernate.c3p0.min_size' will be used and c3p0-style property 'c3p0.min_size' will be ignored!
1407 [main] WARN  org.hibernate.connection.C3P0ConnectionProvider  - Both hibernate-style property 'hibernate.c3p0.idle_test_period' and c3p0-style property 'c3p0.idle_test_period' have been set in hibernate.properties. Hibernate-style property 'hibernate.c3p0.idle_test_period' will be used and c3p0-style property 'c3p0.idle_test_period' will be ignored!
1426 [main] INFO  com.mchange.v2.log.MLog  - MLog clients using log4j logging.
1650 [main] INFO  com.mchange.v2.c3p0.C3P0Registry  - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
1772 [main] INFO  com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource  - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@5b04fefc [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@5355d9ad [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge11f8i1ep4p874glwfj|1d21c28, idleConnectionTestPeriod -> 30, initialPoolSize -> 1, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 100, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@10d43adc [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge11f8i1ep4p874glwfj|425fa0, jdbcUrl -> jdbc:mysql://localhost/javatesting, properties -> {user=******, password=******} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge11f8i1ep4p874glwfj|9c2ee, numHelperThreads -> 3 ]
2124 [main] INFO  org.hibernate.cfg.SettingsFactory  - RDBMS: MySQL, version: 5.1.40-community
2124 [main] INFO  org.hibernate.cfg.SettingsFactory  - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.8 ( Revision: ${svn.Revision} )
2145 [main] INFO  org.hibernate.dialect.Dialect  - Using dialect: org.hibernate.dialect.SQLServerDialect
2152 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory  - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2154 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory  - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2154 [main] INFO  org.hibernate.cfg.SettingsFactory  - Automatic flush during beforeCompletion(): disabled
2154 [main] INFO  org.hibernate.cfg.SettingsFactory  - Automatic session close at end of transaction: disabled
2155 [main] INFO  org.hibernate.cfg.SettingsFactory  - Scrollable result sets: enabled
2155 [main] INFO  org.hibernate.cfg.SettingsFactory  - JDBC3 getGeneratedKeys(): enabled
2155 [main] INFO  org.hibernate.cfg.SettingsFactory  - Connection release mode: auto
2156 [main] INFO  org.hibernate.cfg.SettingsFactory  - Default batch fetch size: 1
2156 [main] INFO  org.hibernate.cfg.SettingsFactory  - Generate SQL with comments: disabled
2156 [main] INFO  org.hibernate.cfg.SettingsFactory  - Order SQL updates by primary key: disabled
2157 [main] INFO  org.hibernate.cfg.SettingsFactory  - Order SQL inserts for batching: disabled
2157 [main] INFO  org.hibernate.cfg.SettingsFactory  - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2159 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory  - Using ASTQueryTranslatorFactory
2159 [main] INFO  org.hibernate.cfg.SettingsFactory  - Query language substitutions: {}
2159 [main] INFO  org.hibernate.cfg.SettingsFactory  - JPA-QL strict compliance: disabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Second-level cache: enabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Query cache: disabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Cache region factory : org.hibernate.cache.impl.NoCachingRegionFactory
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Optimize cache for minimal puts: disabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Structured second-level cache entries: disabled
2166 [main] INFO  org.hibernate.cfg.SettingsFactory  - Echoing all SQL to stdout
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Statistics: disabled
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Deleted entity synthetic identifier rollback: disabled
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Default entity-mode: pojo
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Named query checking : enabled
2224 [main] INFO  org.hibernate.impl.SessionFactoryImpl  - building session factory
2490 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory  - Not binding factory to JNDI, no JNDI name configured
Hibernate: insert into organization (organizationName, id) values (?, ?)
Hibernate: insert into organization_organizationspace (organization_id, organizationSpaces_organizationId, organizationSpaces_spaceId) values (?, ?, ?)
2837 [main] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 1146, SQLState: 42S02
2837 [main] ERROR org.hibernate.util.JDBCExceptionReporter  - Table 'javatesting.organization_organizationspace' doesn't exist
2839 [main] ERROR org.hibernate.event.def.AbstractFlushingEventListener  - Could not synchronize database state with session
org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:90)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1205)
	at org.hibernate.action.CollectionRecreateAction.execute(CollectionRecreateAction.java:58)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:279)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:263)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:171)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1027)
	at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:365)
	at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:656)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at $Proxy16.save(Unknown Source)
	at org.webhop.ywdc.beans.Main.main(Main.java:48)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'javatesting.organization_organizationspace' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
	at com.mysql.jdbc.Util.getInstance(Util.java:381)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1030)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3536)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3468)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1957)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2107)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2648)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2086)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2289)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2274)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)
	at org.hibernate.jdbc.NonBatchingBatcher.addToBatch(NonBatchingBatcher.java:46)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1168)
	... 18 more
Exception in thread ""main"" org.springframework.dao.InvalidDataAccessResourceUsageException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]; SQL [insert into organization_organizationspace (organization_id, organizationSpaces_organizationId, organizationSpaces_spaceId) values (?, ?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]
	at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:629)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:793)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:664)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at $Proxy16.save(Unknown Source)
	at org.webhop.ywdc.beans.Main.main(Main.java:48)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:90)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1205)
	at org.hibernate.action.CollectionRecreateAction.execute(CollectionRecreateAction.java:58)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:279)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:263)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:171)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1027)
	at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:365)
	at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:656)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'javatesting.organization_organizationspace' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
	at com.mysql.jdbc.Util.getInstance(Util.java:381)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1030)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3536)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3468)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1957)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2107)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2648)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2086)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2289)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2274)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)
	at org.hibernate.jdbc.NonBatchingBatcher.addToBatch(NonBatchingBatcher.java:46)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1168)
	... 18 more















",hibernate,jpa,,,,,open,0,2460,10,"JPA looking for wrong table in Many To Many association Im relatively new to JPA, and am trying to create a many to many association
with a join table.
My join table has to have an extra parameter other than the foreign keys of the 2 tables. 
I was following a tutorial http://sieze.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/
and couldn't get the first solution from the tutorial working.

Im getting an exception when I try and complete an insert

Exception in thread ""main"" org.springframework.dao.InvalidDataAccessResourceUsageException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]; SQL [insert into organization_organizationspace (organization_id, organizationSpaces_organizationId, organizationSpaces_spaceId) values (?, ?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]

caused by:
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'javatesting.organization_organizationspace' doesn't exist

it seems to me that its looking for the wrong table. The correct (join) table is ""organizationspace"", and its looking for organization_organizationspace.

Here is my MySql db layout

Database:javatesting

Table:Organization <br />
     column:id (integer, auto increment, primary key) <br />
     column:organizationname (varchar, 45) <br />

Table:Space <br />
     column:id (integer, auto increment, primary key) <br />
     column:spacename (varchar, 45) <br />

Table:organizationspace <br />
     column:organization_id (integer, primary key) <br />
     column:space_id (integer, primary key) <br />
     column:deleted_space (boolean) <br />



Here are my entity classes

<pre>


    @Entity
    @Table(name=""space"")
    public class Space implements Serializable 
    {
    	private static final long serialVersionUID = 1L;
    	@Id
    	private int id;
    
    	@OneToMany
    	private List<OrganizationSpace> organizationSpaces;
    
    	private String spaceName;
    
    	public int getId() {
    		return id;
    	}
    
    	public void setId(int id) {
    		this.id = id;
    	}
    	
    	public List<OrganizationSpace> getOrganizationSpaces() {
    		return organizationSpaces;
    	}
    
    	public void setOrganizationSpaces(List<OrganizationSpace> organizationSpaces) {
    		this.organizationSpaces = organizationSpaces;
    	}
    	
    	public String getSpaceName() {
    		return spaceName;
    	}
    
    	public void setSpaceName(String spaceName) {
    		this.spaceName = spaceName;
    	}
    }

</pre>

<pre>


    @Entity
    @Table(name=""organization"")
    public class Organization implements Serializable 
    {
    	private static final long serialVersionUID = 1L;
    
    	@Id
    	private int id;
    
    	@OneToMany
    	private List<OrganizationSpace> organizationSpaces;
    
    	private String organizationName;
    	
    	public int getId() {
    		return id;
    	}
    
    	public void setId(int id) {
    		this.id = id;
    	}
    	
    	public List<OrganizationSpace> getOrganizationSpaces() {
    		return organizationSpaces;
    	}
    
    	public void setOrganizationSpaces(List<OrganizationSpace> organizationSpaces) {
    		this.organizationSpaces = organizationSpaces;
    	}
    	
    	public String getOrganizationName() {
    		return organizationName;
    	}
    
    	public void setOrganizationName(String organizationName) {
    		this.organizationName = organizationName;
    	}
    
    }

</pre>

<pre>


    @Entity
    @Table(name=""organizationspace"")
    @IdClass(OrganizationSpaceId.class)
    public class OrganizationSpace implements Serializable 
    {
    	private static final long serialVersionUID = 3322929039638371342L;
    	
    	@Id
    	private int organizationId;
    	
    	@Id
    	private int spaceId;
    	
    	
    	@Column(name=""deleted_space"")
    	private boolean deletedSpace;
    	
    	@ManyToOne
    	@PrimaryKeyJoinColumn(name=""organization_id"", referencedColumnName=""id"")
    	private Organization organization;
    	
    	@ManyToOne
    	@PrimaryKeyJoinColumn(name=""space_id"", referencedColumnName=""id"")
    	private Space space;
    	
    	public int getOrganizationId() {
    		return organizationId;
    	}
    	public void setOrganizationId(int organizationId) {
    		this.organizationId = organizationId;
    	}
    	public int getSpaceId() {
    		return spaceId;
    	}
    	public void setSpaceId(int spaceId) {
    		this.spaceId = spaceId;
    	}
    	public boolean isDeletedSpace() {
    		return deletedSpace;
    	}
    	public void setDeletedSpace(boolean deletedSpace) {
    		this.deletedSpace = deletedSpace;
    	}
    	public Organization getOrganization() {
    		return organization;
    	}
    	public void setOrganization(Organization organization) {
    		this.organization = organization;
    	}
    	public Space getSpace() {
    		return space;
    	}
    	public void setSpace(Space space) {
    		this.space = space;
    	}
    }

</pre>

<pre>


    public class OrganizationSpaceId implements Serializable
    {
    
    	private int organizationId;
    	private int spaceId;
    	
    	public int getOrganizationId() {
    		return organizationId;
    	}
    	public void setOrganizationId(int organizationId) {
    		this.organizationId = organizationId;
    	}
    	public int getSpaceId() {
    		return spaceId;
    	}
    	public void setSpaceId(int spaceId) {
    		this.spaceId = spaceId;
    	}
    	
    }

</pre>


and here is my main method class that I try and implement all of this...

<pre>

    public class Main {
    
    	/**
    	 * @param args
    	 */
    	public static void main(String[] args) 
    	{
    		ApplicationContext ctx = new ClassPathXmlApplicationContext(""applicationContext.xml"");
    
    		IOrganizationRepository orgRep = (IOrganizationRepository) ctx.getBean(""organizationRepository"");
    		
    		Set<Space> spaceSet = new HashSet<Space>();
    		Space space1 = new Space();
    		
    		space1.setSpaceName(""Space Mountain"");
    		
    		
    		Organization org = new Organization();
    		
    		
    		
    		org.setOrganizationName(""Space Enterprises"");
    		
    		OrganizationSpace os = new OrganizationSpace();
    		os.setSpace(space1);
    		os.setOrganization(org);
    		os.setDeletedSpace(false);
    		List<OrganizationSpace> osList = new ArrayList<OrganizationSpace>();
    		
    		osList.add(os);
    		
    		org.setOrganizationSpaces(osList);
    		
    		
    		orgRep.save(org);
    	}
    
    }

</pre>


<br />


So in OrganizationSpace I'm setting the Table annotation's name element to organizationspace, but it looks like its trying to find (in database javatesting)
organization_organizationspace.
Its tacking on this ""organization_"" for some reason.
Can anyone help me out with this?

I recently completed a many to many with a join table that didnt have the extra column in it (just the foreign keys for the two tables and a primary auto incrementing key). I had to approach it differently in that I didnt have to create an entity for the join table and my annotation mapping was different for the 2 entity classes, and it worked, but having this extra column ""deleted_space"" in the join table is causing this problem for me.

Below you will find the full error returned from the console


0    [main] INFO  org.springframework.context.support.ClassPathXmlApplicationContext  - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@16daa9: startup date [Thu Sep 29 12:45:09 PDT 2011]; root of context hierarchy
135  [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader  - Loading XML bean definitions from class path resource [applicationContext.xml]
632  [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory  - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1a685ae: defining beans [sessionFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,organizationRepository,spaceRepository]; root of factory hierarchy
804  [main] INFO  org.hibernate.cfg.annotations.Version  - Hibernate Annotations 3.4.0.GA
818  [main] INFO  org.hibernate.cfg.Environment  - Hibernate 3.3.0.SP1
822  [main] INFO  org.hibernate.cfg.Environment  - hibernate.properties not found
826  [main] INFO  org.hibernate.cfg.Environment  - Bytecode provider name : javassist
832  [main] INFO  org.hibernate.cfg.Environment  - using JDK 1.4 java.sql.Timestamp handling
919  [main] INFO  org.hibernate.annotations.common.Version  - Hibernate Commons Annotations 3.1.0.GA
926  [main] INFO  org.hibernate.cfg.Configuration  - configuring from url: file:/C:/Users/thebravedave/Programming/eclipse/Indigo/workspace/SococoOrganizationSpace/build/classes/hibernate.cfg.xml
1021 [main] INFO  org.hibernate.cfg.Configuration  - Configured SessionFactory: null
1084 [main] INFO  org.hibernate.cfg.AnnotationBinder  - Binding entity from annotated class: org.webhop.ywdc.beans.Space
1136 [main] INFO  org.hibernate.cfg.annotations.EntityBinder  - Bind entity org.webhop.ywdc.beans.Space on table space
1232 [main] INFO  org.hibernate.cfg.AnnotationBinder  - Binding entity from annotated class: org.webhop.ywdc.beans.Organization
1233 [main] INFO  org.hibernate.cfg.annotations.EntityBinder  - Bind entity org.webhop.ywdc.beans.Organization on table organization
1234 [main] INFO  org.hibernate.cfg.AnnotationBinder  - Binding entity from annotated class: org.webhop.ywdc.beans.OrganizationSpace
1234 [main] INFO  org.hibernate.cfg.annotations.EntityBinder  - Bind entity org.webhop.ywdc.beans.OrganizationSpace on table organizationspace
1330 [main] INFO  org.hibernate.cfg.AnnotationConfiguration  - Hibernate Validator not found: ignoring
1330 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean  - Building new Hibernate SessionFactory
1335 [main] INFO  org.hibernate.cfg.search.HibernateSearchEventListenerRegister  - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
1384 [main] WARN  org.hibernate.mapping.RootClass  - composite-id class does not override equals(): org.webhop.ywdc.beans.OrganizationSpaceId
1384 [main] WARN  org.hibernate.mapping.RootClass  - composite-id class does not override hashCode(): org.webhop.ywdc.beans.OrganizationSpaceId
1391 [main] INFO  org.hibernate.connection.ConnectionProviderFactory  - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider
1396 [main] INFO  org.hibernate.connection.C3P0ConnectionProvider  - C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost/javatesting
1397 [main] INFO  org.hibernate.connection.C3P0ConnectionProvider  - Connection properties: {user=root, password=****}
1397 [main] INFO  org.hibernate.connection.C3P0ConnectionProvider  - autocommit mode: false
1407 [main] WARN  org.hibernate.connection.C3P0ConnectionProvider  - Both hibernate-style property 'hibernate.c3p0.max_size' and c3p0-style property 'c3p0.max_size' have been set in hibernate.properties. Hibernate-style property 'hibernate.c3p0.max_size' will be used and c3p0-style property 'c3p0.max_size' will be ignored!
1407 [main] WARN  org.hibernate.connection.C3P0ConnectionProvider  - Both hibernate-style property 'hibernate.c3p0.min_size' and c3p0-style property 'c3p0.min_size' have been set in hibernate.properties. Hibernate-style property 'hibernate.c3p0.min_size' will be used and c3p0-style property 'c3p0.min_size' will be ignored!
1407 [main] WARN  org.hibernate.connection.C3P0ConnectionProvider  - Both hibernate-style property 'hibernate.c3p0.idle_test_period' and c3p0-style property 'c3p0.idle_test_period' have been set in hibernate.properties. Hibernate-style property 'hibernate.c3p0.idle_test_period' will be used and c3p0-style property 'c3p0.idle_test_period' will be ignored!
1426 [main] INFO  com.mchange.v2.log.MLog  - MLog clients using log4j logging.
1650 [main] INFO  com.mchange.v2.c3p0.C3P0Registry  - Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
1772 [main] INFO  com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource  - Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@5b04fefc [ connectionPoolDataSource -> com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@5355d9ad [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -> false, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge11f8i1ep4p874glwfj|1d21c28, idleConnectionTestPeriod -> 30, initialPoolSize -> 1, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 100, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, nestedDataSource -> com.mchange.v2.c3p0.DriverManagerDataSource@10d43adc [ description -> null, driverClass -> null, factoryClassLocation -> null, identityToken -> 1hge11f8i1ep4p874glwfj|425fa0, jdbcUrl -> jdbc:mysql://localhost/javatesting, properties -> {user=******, password=******} ], preferredTestQuery -> null, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false; userOverrides: {} ], dataSourceName -> null, factoryClassLocation -> null, identityToken -> 1hge11f8i1ep4p874glwfj|9c2ee, numHelperThreads -> 3 ]
2124 [main] INFO  org.hibernate.cfg.SettingsFactory  - RDBMS: MySQL, version: 5.1.40-community
2124 [main] INFO  org.hibernate.cfg.SettingsFactory  - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.8 ( Revision: ${svn.Revision} )
2145 [main] INFO  org.hibernate.dialect.Dialect  - Using dialect: org.hibernate.dialect.SQLServerDialect
2152 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory  - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2154 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory  - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2154 [main] INFO  org.hibernate.cfg.SettingsFactory  - Automatic flush during beforeCompletion(): disabled
2154 [main] INFO  org.hibernate.cfg.SettingsFactory  - Automatic session close at end of transaction: disabled
2155 [main] INFO  org.hibernate.cfg.SettingsFactory  - Scrollable result sets: enabled
2155 [main] INFO  org.hibernate.cfg.SettingsFactory  - JDBC3 getGeneratedKeys(): enabled
2155 [main] INFO  org.hibernate.cfg.SettingsFactory  - Connection release mode: auto
2156 [main] INFO  org.hibernate.cfg.SettingsFactory  - Default batch fetch size: 1
2156 [main] INFO  org.hibernate.cfg.SettingsFactory  - Generate SQL with comments: disabled
2156 [main] INFO  org.hibernate.cfg.SettingsFactory  - Order SQL updates by primary key: disabled
2157 [main] INFO  org.hibernate.cfg.SettingsFactory  - Order SQL inserts for batching: disabled
2157 [main] INFO  org.hibernate.cfg.SettingsFactory  - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2159 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory  - Using ASTQueryTranslatorFactory
2159 [main] INFO  org.hibernate.cfg.SettingsFactory  - Query language substitutions: {}
2159 [main] INFO  org.hibernate.cfg.SettingsFactory  - JPA-QL strict compliance: disabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Second-level cache: enabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Query cache: disabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Cache region factory : org.hibernate.cache.impl.NoCachingRegionFactory
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Optimize cache for minimal puts: disabled
2160 [main] INFO  org.hibernate.cfg.SettingsFactory  - Structured second-level cache entries: disabled
2166 [main] INFO  org.hibernate.cfg.SettingsFactory  - Echoing all SQL to stdout
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Statistics: disabled
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Deleted entity synthetic identifier rollback: disabled
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Default entity-mode: pojo
2167 [main] INFO  org.hibernate.cfg.SettingsFactory  - Named query checking : enabled
2224 [main] INFO  org.hibernate.impl.SessionFactoryImpl  - building session factory
2490 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory  - Not binding factory to JNDI, no JNDI name configured
Hibernate: insert into organization (organizationName, id) values (?, ?)
Hibernate: insert into organization_organizationspace (organization_id, organizationSpaces_organizationId, organizationSpaces_spaceId) values (?, ?, ?)
2837 [main] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 1146, SQLState: 42S02
2837 [main] ERROR org.hibernate.util.JDBCExceptionReporter  - Table 'javatesting.organization_organizationspace' doesn't exist
2839 [main] ERROR org.hibernate.event.def.AbstractFlushingEventListener  - Could not synchronize database state with session
org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:90)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1205)
	at org.hibernate.action.CollectionRecreateAction.execute(CollectionRecreateAction.java:58)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:279)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:263)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:171)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1027)
	at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:365)
	at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:656)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at $Proxy16.save(Unknown Source)
	at org.webhop.ywdc.beans.Main.main(Main.java:48)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'javatesting.organization_organizationspace' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
	at com.mysql.jdbc.Util.getInstance(Util.java:381)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1030)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3536)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3468)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1957)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2107)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2648)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2086)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2289)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2274)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)
	at org.hibernate.jdbc.NonBatchingBatcher.addToBatch(NonBatchingBatcher.java:46)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1168)
	... 18 more
Exception in thread ""main"" org.springframework.dao.InvalidDataAccessResourceUsageException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]; SQL [insert into organization_organizationspace (organization_id, organizationSpaces_organizationId, organizationSpaces_spaceId) values (?, ?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]
	at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:629)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:793)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:664)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at $Proxy16.save(Unknown Source)
	at org.webhop.ywdc.beans.Main.main(Main.java:48)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert collection: [org.webhop.ywdc.beans.Organization.organizationSpaces#0]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:90)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1205)
	at org.hibernate.action.CollectionRecreateAction.execute(CollectionRecreateAction.java:58)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:279)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:263)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:171)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1027)
	at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:365)
	at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:656)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'javatesting.organization_organizationspace' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
	at com.mysql.jdbc.Util.getInstance(Util.java:381)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1030)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3536)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3468)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1957)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2107)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2648)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2086)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2289)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2274)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)
	at org.hibernate.jdbc.NonBatchingBatcher.addToBatch(NonBatchingBatcher.java:46)
	at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1168)
	... 18 more















",2
927880,05/29/2009 20:08:17,95363,04/24/2009 08:43:15,6,0,What Hibernate interview questions do you ask?,"We are interviewing new developers looking for someone with some hibernate experience. We are trying to put together a list of questions to test an interviewee’s hibernate knowledge. We’re basically using the test to verify that someone has a good grasp of how Hibernate works. Seems like these days people will list anything on their resumé. What questions would you ask? 

Any tips would help!

Thanks so much,
Daniel",hibernate,interview-questions,,,,11/29/2011 02:42:32,not constructive,1,67,7,"What Hibernate interview questions do you ask? We are interviewing new developers looking for someone with some hibernate experience. We are trying to put together a list of questions to test an interviewee’s hibernate knowledge. We’re basically using the test to verify that someone has a good grasp of how Hibernate works. Seems like these days people will list anything on their resumé. What questions would you ask? 

Any tips would help!

Thanks so much,
Daniel",2
7550138,09/26/2011 02:29:10,964262,09/26/2011 02:03:24,1,0,exception during commit,"    I am using hibernate 3.6.1 and jpa . At certain times when i try to commit the data into database i seem to get the following exception
 
 Exception in thread ""pool-2-thread-1"" javax.persistence.RollbackException: Error while committing the transaction
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:93)
    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:81)
    ... 5 more
    Caused by: org.hibernate.exception.JDBCConnectionException: could not update
    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)
    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
    at 



org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2612)
    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)
    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)
    at 



org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)
    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:76)
    ... 5 more
    Caused by: java.sql.SQLRecoverableException: Closed Statement
    at oracle.jdbc.driver.OracleClosedStatement.setObject(OracleClosedStatement.java:578)
    at 



oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:238)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:163)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:163)
    at org.hibernate.type.EnumType.nullSafeSet(EnumType.java:147)
    at org.hibernate.type.CustomType.nullSafeSet(CustomType.java:140)
    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)
    ...


    
    Kindly help me understand why i get this issue sometimes.
    
    Thanks in advance,
    
    James",hibernate,jpa,,,,,open,0,245,3,"exception during commit     I am using hibernate 3.6.1 and jpa . At certain times when i try to commit the data into database i seem to get the following exception
 
 Exception in thread ""pool-2-thread-1"" javax.persistence.RollbackException: Error while committing the transaction
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:93)
    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:81)
    ... 5 more
    Caused by: org.hibernate.exception.JDBCConnectionException: could not update
    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)
    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
    at 



org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2612)
    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)
    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)
    at 



org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)
    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:76)
    ... 5 more
    Caused by: java.sql.SQLRecoverableException: Closed Statement
    at oracle.jdbc.driver.OracleClosedStatement.setObject(OracleClosedStatement.java:578)
    at 



oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:238)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:163)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:163)
    at org.hibernate.type.EnumType.nullSafeSet(EnumType.java:147)
    at org.hibernate.type.CustomType.nullSafeSet(CustomType.java:140)
    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)
    ...


    
    Kindly help me understand why i get this issue sometimes.
    
    Thanks in advance,
    
    James",2
11676637,07/26/2012 19:27:36,1541001,07/20/2012 14:10:58,1,0,hibernate many to many association delete error,"i have to classes employee and award with many to many relationship

while trying to delete i get error of constraint voilation i went through

all the post but none where helpful

below i am attaching the coding

    @Entity
    @Table(name=""TB_AWARD"")
    public class Award implements Serializable{
    	
    	
    	@Id @GeneratedValue
    	@Column(name=""AWARD_ID"")
    	private long awardId;
    	
    	@ManyToMany(mappedBy=""awards"")
    	@NotFound(action=NotFoundAction.IGNORE)
    	private Collection<Employee> employee = new ArrayList<Employee>();
    	
    	@Column(name=""AWARD_TYPE"")
    	private String awardType;
    	
    	@Column(name=""AWARD_DATE"")
    	private Date awardDate;
    	
    	@Column(name=""AWARD_DETAILS"")
    	@Lob
    	private String awardDetails;
    	
    	@Column(name=""REMARK"")
    	private String remark;
    
    @Entity
    @Table(name=""TB_EMPLOYEE"")
    public class Employee implements Serializable {
    
    	@Id @GeneratedValue
    	@Column(name=""EMPLOYEE_ID"")
    	private long employeeID;
    
            @ManyToMany(cascade= CascadeType.ALL)
    	private Collection<Award> awards;
        
",hibernate,,,,,,open,0,226,7,"hibernate many to many association delete error i have to classes employee and award with many to many relationship

while trying to delete i get error of constraint voilation i went through

all the post but none where helpful

below i am attaching the coding

    @Entity
    @Table(name=""TB_AWARD"")
    public class Award implements Serializable{
    	
    	
    	@Id @GeneratedValue
    	@Column(name=""AWARD_ID"")
    	private long awardId;
    	
    	@ManyToMany(mappedBy=""awards"")
    	@NotFound(action=NotFoundAction.IGNORE)
    	private Collection<Employee> employee = new ArrayList<Employee>();
    	
    	@Column(name=""AWARD_TYPE"")
    	private String awardType;
    	
    	@Column(name=""AWARD_DATE"")
    	private Date awardDate;
    	
    	@Column(name=""AWARD_DETAILS"")
    	@Lob
    	private String awardDetails;
    	
    	@Column(name=""REMARK"")
    	private String remark;
    
    @Entity
    @Table(name=""TB_EMPLOYEE"")
    public class Employee implements Serializable {
    
    	@Id @GeneratedValue
    	@Column(name=""EMPLOYEE_ID"")
    	private long employeeID;
    
            @ManyToMany(cascade= CascadeType.ALL)
    	private Collection<Award> awards;
        
",1
11009210,06/13/2012 06:17:39,838408,07/11/2011 07:19:10,3,0,Hibernate Criteria query to display notnull values of a field A whose corresponding field B values are null,"I have two fields in a Table job_open and job_close. I want to create a hibernate criteria query to retrieve only those fields from job_open field that are not null and their corresponding value in job_close field is null.

Any Help would be useful",hibernate,criteria,,,,06/13/2012 13:26:22,not a real question,1,43,18,"Hibernate Criteria query to display notnull values of a field A whose corresponding field B values are null I have two fields in a Table job_open and job_close. I want to create a hibernate criteria query to retrieve only those fields from job_open field that are not null and their corresponding value in job_close field is null.

Any Help would be useful",2
7642620,10/04/2011 02:10:04,802050,06/16/2011 18:09:43,402,0,Advantages and Disadvantages of Detached object in hibernate?,"i was looking at advantages and disadvantages of Detached object in hibernate and found the link http://www.careerride.com/Hibernate-advantages-disadvantages-of-detached-objects.aspx.

Advantages:- Detached objects passing can be done across layers upto the presentation layer without using Data Transfer Objects.

**Question 1:- If we use Persistent object instead of Detached object and take it to up to presentation layer, will we face some issue?**


**Question 2:- what is the difference between Detached object and Detached Object?**

",hibernate,,,,,,open,0,68,8,"Advantages and Disadvantages of Detached object in hibernate? i was looking at advantages and disadvantages of Detached object in hibernate and found the link http://www.careerride.com/Hibernate-advantages-disadvantages-of-detached-objects.aspx.

Advantages:- Detached objects passing can be done across layers upto the presentation layer without using Data Transfer Objects.

**Question 1:- If we use Persistent object instead of Detached object and take it to up to presentation layer, will we face some issue?**


**Question 2:- what is the difference between Detached object and Detached Object?**

",1
9022510,01/26/2012 17:31:05,1171708,01/26/2012 16:26:37,1,0,how to use hibernate @EmbeddedId when i try to create insert query,"I am using hibernate and i have created entities on the java side using hibernates.
One of my DB table has multiple columns as primary key and hibernate used @EmbeddedId to deal with that.

My problem is that when i create an insert query i get this error:

""null id generated for:class com.iu.eblood.model.Eventtypeofevent""

to set Id,i need to create an objejt for this EmbeddedId and when i create and set this Id,
another problem appeared:

""The target name ""EVENTID"" is specified more than once for assignment in the same SQL statement""

i guess,the reson for error is both my Eventtypeofevent object and EventtypeofeventPK object(class created by hibernate for EmbeddedId) actually show the same attribute.

Here is my class:





    @Entity
    public class Eventtypeofevent implements Serializable {
    	
    	private static final long serialVersionUID = 1L;
    	private EventtypeofeventPK id;
    	private Timestamp createddate;
    	private Timestamp deleteddate;
    	private String isactive;
    	private Event event;
    	private Eventtype eventtype;
    
        public Eventtypeofevent() {
        }
    
    
    	@EmbeddedId
    	public EventtypeofeventPK getId() {
    		return this.id;
    	}
    
    	public void setId(EventtypeofeventPK id) {
    		this.id = id;
    	}
    ....... getter and setter

 




and other class for EmbeddedId:




        @Embeddable
    public class EventtypeofeventPK implements Serializable {
    	//default serial version id, required for serializable classes.
    	private static final long serialVersionUID = 1L;
    	private long eventid;
    	private int eventtypeid;
    ...... getter and setter",hibernate,,,,,,open,0,314,12,"how to use hibernate @EmbeddedId when i try to create insert query I am using hibernate and i have created entities on the java side using hibernates.
One of my DB table has multiple columns as primary key and hibernate used @EmbeddedId to deal with that.

My problem is that when i create an insert query i get this error:

""null id generated for:class com.iu.eblood.model.Eventtypeofevent""

to set Id,i need to create an objejt for this EmbeddedId and when i create and set this Id,
another problem appeared:

""The target name ""EVENTID"" is specified more than once for assignment in the same SQL statement""

i guess,the reson for error is both my Eventtypeofevent object and EventtypeofeventPK object(class created by hibernate for EmbeddedId) actually show the same attribute.

Here is my class:





    @Entity
    public class Eventtypeofevent implements Serializable {
    	
    	private static final long serialVersionUID = 1L;
    	private EventtypeofeventPK id;
    	private Timestamp createddate;
    	private Timestamp deleteddate;
    	private String isactive;
    	private Event event;
    	private Eventtype eventtype;
    
        public Eventtypeofevent() {
        }
    
    
    	@EmbeddedId
    	public EventtypeofeventPK getId() {
    		return this.id;
    	}
    
    	public void setId(EventtypeofeventPK id) {
    		this.id = id;
    	}
    ....... getter and setter

 




and other class for EmbeddedId:




        @Embeddable
    public class EventtypeofeventPK implements Serializable {
    	//default serial version id, required for serializable classes.
    	private static final long serialVersionUID = 1L;
    	private long eventid;
    	private int eventtypeid;
    ...... getter and setter",1
10353715,04/27/2012 15:45:08,414114,06/22/2010 13:23:30,402,10,Hibernate OneToOne adding prefix to column,"First of all, sorry for my bad English.

I´m a Java Programmer, but I don´t have enough background to work with Hibernate. Since at the office we are trying to learn a few new tecnhologies, I´m trying to use Hibernate to assist us at database issues.

I have two classes, one called Processamento and another called Fila

The table processamento has one registry at Fila, defined by fila.id

**Processamento class**

    @Entity
    @Table(name=""ra_fila_processamento"", schema = ""processamento"")
    public class Processamento implements java.io.Serializable {
    
    	private static final long serialVersionUID = 1L;
    
    	private int idProcessamento;
    	private int idFila;
    	private int idServidor;
    	
    	private Fila fila;
    	
    	@Column(name=""rfp_id"")
    	public int getIdProcessamento() {
    		return idProcessamento;
    	}
    
    	public void setIdProcessamento(int idProcessamento) {
    		this.idProcessamento = idProcessamento;
    	}
    
    	@Id
    	@Column(name=""rfp_rf_id"")
    	public int getIdFila() {
    		return idFila;
    	}
    
    	public void setIdFila(int idFila) {
    		this.idFila = idFila;
    	}
    
    	@Column(name=""rfp_ser_id"")
    	public int getIdServidor() {
    		return idServidor;
    	}
    
    	public void setIdServidor(int idServidor) {
    		this.idServidor = idServidor;
    	}
    
    	@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)
    	@JoinTable(name=""ra_fila"", schema=""processamento"", joinColumns = {@JoinColumn(name=""rf_id"", unique = true)})
    	public Fila getFila() {
    		return fila;
    	}
    
    	public void setFila(Fila fila) {
    		this.fila = fila;
    	}
    	
    }

**Fila class**

    @Entity
    @Table(name=""ra_fila"", schema=""processamento"")
    public class Fila implements java.io.Serializable {
    
    	private static final long serialVersionUID = 1L;
    
    	public Fila() {}
    
    	private int idFila;
    	private String arquivoFonte;
    	private String status;
    	
    	@Id
    	@Column(name = ""rf_id"", unique = true, nullable = false)
    	@GeneratedValue
    	public int getIdFila() {
    		return idFila;
    	}
    
    	public void setIdFila(int idFila) {
    		this.idFila = idFila;
    	}
    
    	@Column(name=""rf_arquivo_fonte"")
    	public String getArquivoFonte() {
    		return arquivoFonte;
    	}
    
    	public void setArquivoFonte(String arquivoFonte) {
    		this.arquivoFonte = arquivoFonte;
    	}
    
    	@Column(name=""rf_status"")
    	public String getStatus() {
    		return status;
    	}
    
    	public void setStatus(String status) {
    		this.status = status;
    	}
    
    }

The problem is, when I run this code:

		Session session = HibernateUtil.getSessionFactory().openSession();
		
		session.beginTransaction();
		
		try {

			Query query = session.createQuery(""from Processamento"");

			@SuppressWarnings(""unchecked"")
			List<Fila> fila = query.list();
			
			session.getTransaction().commit();
			
			if (fila.size() == 0) return false;
			
		} catch (HibernateException e) {
			e.printStackTrace();
		} finally {
			session.flush();
			session.close();
    }

The HQL that is created is this one:

    select processame0_.rfp_rf_id as rfp1_3_, processame0_.rfp_id as rfp2_3_, processame0_.rfp_ser_id as rfp3_3_, processame0_1_.fila_rf_id as fila4_2_ from processamento.ra_fila_processamento processame0_ left outer join processamento.ra_fila processame0_1_ on processame0_.rfp_rf_id=processame0_1_.rf_id

The error in this HQL is this part:

    processame0_1_.fila_rf_id as fila4_2_


This **fila_** should not be there, how can I do this relation OneToOne correctly? I just want to Fetch the column Processamento and get it´s Fila. Processamento has just one result at Fila.

Thanks.

Best regard´s.",hibernate,,,,,,open,0,683,6,"Hibernate OneToOne adding prefix to column First of all, sorry for my bad English.

I´m a Java Programmer, but I don´t have enough background to work with Hibernate. Since at the office we are trying to learn a few new tecnhologies, I´m trying to use Hibernate to assist us at database issues.

I have two classes, one called Processamento and another called Fila

The table processamento has one registry at Fila, defined by fila.id

**Processamento class**

    @Entity
    @Table(name=""ra_fila_processamento"", schema = ""processamento"")
    public class Processamento implements java.io.Serializable {
    
    	private static final long serialVersionUID = 1L;
    
    	private int idProcessamento;
    	private int idFila;
    	private int idServidor;
    	
    	private Fila fila;
    	
    	@Column(name=""rfp_id"")
    	public int getIdProcessamento() {
    		return idProcessamento;
    	}
    
    	public void setIdProcessamento(int idProcessamento) {
    		this.idProcessamento = idProcessamento;
    	}
    
    	@Id
    	@Column(name=""rfp_rf_id"")
    	public int getIdFila() {
    		return idFila;
    	}
    
    	public void setIdFila(int idFila) {
    		this.idFila = idFila;
    	}
    
    	@Column(name=""rfp_ser_id"")
    	public int getIdServidor() {
    		return idServidor;
    	}
    
    	public void setIdServidor(int idServidor) {
    		this.idServidor = idServidor;
    	}
    
    	@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)
    	@JoinTable(name=""ra_fila"", schema=""processamento"", joinColumns = {@JoinColumn(name=""rf_id"", unique = true)})
    	public Fila getFila() {
    		return fila;
    	}
    
    	public void setFila(Fila fila) {
    		this.fila = fila;
    	}
    	
    }

**Fila class**

    @Entity
    @Table(name=""ra_fila"", schema=""processamento"")
    public class Fila implements java.io.Serializable {
    
    	private static final long serialVersionUID = 1L;
    
    	public Fila() {}
    
    	private int idFila;
    	private String arquivoFonte;
    	private String status;
    	
    	@Id
    	@Column(name = ""rf_id"", unique = true, nullable = false)
    	@GeneratedValue
    	public int getIdFila() {
    		return idFila;
    	}
    
    	public void setIdFila(int idFila) {
    		this.idFila = idFila;
    	}
    
    	@Column(name=""rf_arquivo_fonte"")
    	public String getArquivoFonte() {
    		return arquivoFonte;
    	}
    
    	public void setArquivoFonte(String arquivoFonte) {
    		this.arquivoFonte = arquivoFonte;
    	}
    
    	@Column(name=""rf_status"")
    	public String getStatus() {
    		return status;
    	}
    
    	public void setStatus(String status) {
    		this.status = status;
    	}
    
    }

The problem is, when I run this code:

		Session session = HibernateUtil.getSessionFactory().openSession();
		
		session.beginTransaction();
		
		try {

			Query query = session.createQuery(""from Processamento"");

			@SuppressWarnings(""unchecked"")
			List<Fila> fila = query.list();
			
			session.getTransaction().commit();
			
			if (fila.size() == 0) return false;
			
		} catch (HibernateException e) {
			e.printStackTrace();
		} finally {
			session.flush();
			session.close();
    }

The HQL that is created is this one:

    select processame0_.rfp_rf_id as rfp1_3_, processame0_.rfp_id as rfp2_3_, processame0_.rfp_ser_id as rfp3_3_, processame0_1_.fila_rf_id as fila4_2_ from processamento.ra_fila_processamento processame0_ left outer join processamento.ra_fila processame0_1_ on processame0_.rfp_rf_id=processame0_1_.rf_id

The error in this HQL is this part:

    processame0_1_.fila_rf_id as fila4_2_


This **fila_** should not be there, how can I do this relation OneToOne correctly? I just want to Fetch the column Processamento and get it´s Fila. Processamento has just one result at Fila.

Thanks.

Best regard´s.",1
6180080,05/30/2011 19:31:26,159837,08/20/2009 07:54:57,86,7,hibernate and datawarehouse,"is it logical to use an ORM layer like hibernate for huge data. 
We have a non-relational database with 100T data. Which is the best way
to access data from a web application?

JDBC, Hibernate, ... ?

",hibernate,orm,data-warehouse,,,,open,0,35,3,"hibernate and datawarehouse is it logical to use an ORM layer like hibernate for huge data. 
We have a non-relational database with 100T data. Which is the best way
to access data from a web application?

JDBC, Hibernate, ... ?

",3
6148526,05/27/2011 06:16:47,381737,07/02/2010 05:07:52,202,34,"Getting following Error I m using Spring,Hibernate and BasicDataSource from Apache","    ever closed:         at org.apache.commons.dbcp.AbandonedTrace.setStackTrace(AbandonedTrace.java:139)         at org.apache.commons.dbcp.AbandonedObjectPool.borrowObject(AbandonedObjectPool.java:81)         at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)         at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)         at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:82)         at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)         
at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)         at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:139)         at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1547)         at org.hibernate.loader.Loader.doQuery(Loader.java:673)         at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)         at org.hibernate.loader.Loader.doList(Loader.java:2220)         at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)         at org.hibernate.loader.Loader.list(Loader.java:2099)         at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:378)         at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:338)         at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:172)         at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1121)         at org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)",hibernate,spring,web-applications,apache-commons,,05/27/2011 15:45:29,not a real question,1,196,11,"Getting following Error I m using Spring,Hibernate and BasicDataSource from Apache     ever closed:         at org.apache.commons.dbcp.AbandonedTrace.setStackTrace(AbandonedTrace.java:139)         at org.apache.commons.dbcp.AbandonedObjectPool.borrowObject(AbandonedObjectPool.java:81)         at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)         at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)         at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:82)         at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)         
at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)         at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:139)         at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1547)         at org.hibernate.loader.Loader.doQuery(Loader.java:673)         at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)         at org.hibernate.loader.Loader.doList(Loader.java:2220)         at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)         at org.hibernate.loader.Loader.list(Loader.java:2099)         at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:378)         at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:338)         at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:172)         at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1121)         at org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)",4
970573,06/09/2009 14:58:59,100516,05/03/2009 22:15:07,388,46,Hibernate error: cannot resolve table,"I'm trying to make work the example from hibernate reference. 

I've got simple table Pupil with id, name and age fields. I've created correct (as I think) java-class for it according to all java-beans rules.

I've created configuration file - hibernate.cfg.xml, jusl like in the example from reference.

I've created hibernate mapping for one class Pupil, and here is the error occured.

    <hibernate-mapping>
       <class name=""Pupil"" table=""pupils"">
           ...
       </class>
    </hibernate-mapping>

table=""pupils"" is red in my IDE and I see message ""cannot resolve table pupils"". I've also founded very strange note in reference which says that most users fail with the same problem trying to run the example.

Ah.. I'm very angry with this example.. IMO if authors know that there is such problem they should add some information about it.

But, how should I fix it? I don't want to deal with Ant here and with other instruments used in example. I'm using MySql 5.0, but I think it doesn't matter.",hibernate,table,mapping,,,,open,0,183,5,"Hibernate error: cannot resolve table I'm trying to make work the example from hibernate reference. 

I've got simple table Pupil with id, name and age fields. I've created correct (as I think) java-class for it according to all java-beans rules.

I've created configuration file - hibernate.cfg.xml, jusl like in the example from reference.

I've created hibernate mapping for one class Pupil, and here is the error occured.

    <hibernate-mapping>
       <class name=""Pupil"" table=""pupils"">
           ...
       </class>
    </hibernate-mapping>

table=""pupils"" is red in my IDE and I see message ""cannot resolve table pupils"". I've also founded very strange note in reference which says that most users fail with the same problem trying to run the example.

Ah.. I'm very angry with this example.. IMO if authors know that there is such problem they should add some information about it.

But, how should I fix it? I don't want to deal with Ant here and with other instruments used in example. I'm using MySql 5.0, but I think it doesn't matter.",3
2238603,02/10/2010 16:46:19,138606,07/15/2009 09:45:36,230,10,Why this simple hibernate sample doesn't work?,"I wrote these two classes:

    public class ClasseA {
    
        Integer id;
        String numero;
        ClasseB cb;
    
        public ClasseB getCb() {
            return cb;
        }
    
        public void setCb(ClasseB cb) {
            this.cb = cb;
        }
    
        
        public Integer getId() {
            return id;
        }
    
        public void setId(Integer id) {
            this.id = id;
        }
    
        public String getNumero() {
            return numero;
        }
    
        public void setNumero(String numero) {
            this.numero = numero;
        }
        
    }

and 

    public class ClasseB {
    
        Integer id;
        String annotazione;
    
        public String getAnnotazione() {
            return annotazione;
        }
    
        public void setAnnotazione(String annotazione) {
            this.annotazione = annotazione;
        }
    
        public Integer getId() {
            return id;
        }
    
        public void setId(Integer id) {
            this.id = id;
        }
    
        
    }

As you can see in ClasseA there is a reference to ClasseB.

this is the mapping:

        <?xml version=""1.0"" encoding=""UTF-8""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN"" ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <hibernate-mapping>
      <class dynamic-insert=""false"" dynamic-update=""false"" mutable=""true"" name=""ClasseA"" optimistic-lock=""version"" polymorphism=""implicit"" select-before-update=""false"">
        <id name=""id"" type=""java.lang.Integer"">
          <column name=""id""/>
          <generator class=""identity""/>
        </id>
        <property name=""numero"" type=""java.lang.String"">
          <column name=""numero""/>
        </property>
        <one-to-one cascade=""all"" class=""ClasseB"" name=""cb""/>
      </class>
      <class dynamic-insert=""false"" dynamic-update=""false"" mutable=""true"" name=""ClasseB"" optimistic-lock=""version"" polymorphism=""implicit"" select-before-update=""false"">
        <id name=""id"" type=""java.lang.Integer"">
          <column name=""id""/>
          <generator class=""identity""/>
        </id>
        <property name=""annotazione"" type=""java.lang.String"">
          <column name=""annotazione""/>
        </property>
      </class>
    </hibernate-mapping>

Two things don't work as expected:

 - First of all, since I'm using hdb2ddl with update I'd expect do generate a table for classeA with a reference to classeB (and of course a table for classeB). Which isn't. All I get is: 

    CREATE TABLE `classea` (
      `id` INT(11) NOT NULL AUTO_INCREMENT,
      `numero` VARCHAR(255) DEFAULT NULL,  
      PRIMARY KEY (`id`)
    ) ENGINE=INNODB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1
    
    CREATE TABLE `classeb` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `annotazione` varchar(255) DEFAULT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1

 - Second: If I save an istance of classeA with cb correctly set to a cb istance, it will work putting a row on the first and a row on the second table. But on retrivial it doesn't even load classeA.... 

Please help as I think I didn't understand properly this kind of association. Please don't suggest to use annotations as I can't. Tnx in advance.",hibernate,java,,,,,open,0,907,7,"Why this simple hibernate sample doesn't work? I wrote these two classes:

    public class ClasseA {
    
        Integer id;
        String numero;
        ClasseB cb;
    
        public ClasseB getCb() {
            return cb;
        }
    
        public void setCb(ClasseB cb) {
            this.cb = cb;
        }
    
        
        public Integer getId() {
            return id;
        }
    
        public void setId(Integer id) {
            this.id = id;
        }
    
        public String getNumero() {
            return numero;
        }
    
        public void setNumero(String numero) {
            this.numero = numero;
        }
        
    }

and 

    public class ClasseB {
    
        Integer id;
        String annotazione;
    
        public String getAnnotazione() {
            return annotazione;
        }
    
        public void setAnnotazione(String annotazione) {
            this.annotazione = annotazione;
        }
    
        public Integer getId() {
            return id;
        }
    
        public void setId(Integer id) {
            this.id = id;
        }
    
        
    }

As you can see in ClasseA there is a reference to ClasseB.

this is the mapping:

        <?xml version=""1.0"" encoding=""UTF-8""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN"" ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <hibernate-mapping>
      <class dynamic-insert=""false"" dynamic-update=""false"" mutable=""true"" name=""ClasseA"" optimistic-lock=""version"" polymorphism=""implicit"" select-before-update=""false"">
        <id name=""id"" type=""java.lang.Integer"">
          <column name=""id""/>
          <generator class=""identity""/>
        </id>
        <property name=""numero"" type=""java.lang.String"">
          <column name=""numero""/>
        </property>
        <one-to-one cascade=""all"" class=""ClasseB"" name=""cb""/>
      </class>
      <class dynamic-insert=""false"" dynamic-update=""false"" mutable=""true"" name=""ClasseB"" optimistic-lock=""version"" polymorphism=""implicit"" select-before-update=""false"">
        <id name=""id"" type=""java.lang.Integer"">
          <column name=""id""/>
          <generator class=""identity""/>
        </id>
        <property name=""annotazione"" type=""java.lang.String"">
          <column name=""annotazione""/>
        </property>
      </class>
    </hibernate-mapping>

Two things don't work as expected:

 - First of all, since I'm using hdb2ddl with update I'd expect do generate a table for classeA with a reference to classeB (and of course a table for classeB). Which isn't. All I get is: 

    CREATE TABLE `classea` (
      `id` INT(11) NOT NULL AUTO_INCREMENT,
      `numero` VARCHAR(255) DEFAULT NULL,  
      PRIMARY KEY (`id`)
    ) ENGINE=INNODB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1
    
    CREATE TABLE `classeb` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `annotazione` varchar(255) DEFAULT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1

 - Second: If I save an istance of classeA with cb correctly set to a cb istance, it will work putting a row on the first and a row on the second table. But on retrivial it doesn't even load classeA.... 

Please help as I think I didn't understand properly this kind of association. Please don't suggest to use annotations as I can't. Tnx in advance.",2
9803925,03/21/2012 11:41:04,1211281,02/15/2012 12:09:44,6,0,Hibernate DB2 revoke STATEMENTs for User,"I have DB2 databases persisted with Hibernate. 
I'd like to revoke DROP TABLE permissions for all TABLES in all databases for a concrete ""user"". So the ordinary ""user"" cannot DROP TABLES in any DB2 database. 
I have also mySQL databases, but I do not care abot doing DROP STATEMENT in them.

Is there any possibility to do it via tag in components.xml (hibernate) or does it have to be done directly on DB2? (and how?)

--> components.xml:

    ...
    
    <!-- 1st databse -->
    <key>hibernate.connection.driver_class</key><value>com.ibm.db2.jcc.DB2Driver</value>
    <key>hibernate.connection.username</key><value>user</value>
    <key>hibernate.connection.password</key><value>password</value>
    <key>hibernate.connection.url</key><value>jdbc:db2://server:50000/DATABASE1</value>
    <key>hibernate.dialect</key><value>org.hibernate.dialect.DB2400Dialect</value>
    <key>hibernate.default_schema</key><value>SCHEMA_NAME</value>

    <!-- 2nd databse -->
    <key>hibernate.connection.driver_class</key><value>com.ibm.db2.jcc.DB2Driver</value>
    <key>hibernate.connection.username</key><value>user</value>
    <key>hibernate.connection.password</key><value>password</value>
    <key>hibernate.connection.url</key><value>jdbc:db2://server:50000/DATABASE2</value>
    <key>hibernate.dialect</key><value>org.hibernate.dialect.DB2400Dialect</value>
    <key>hibernate.default_schema</key><value>SCHEMA_NAME</value>
    
    ...

I'd appreciate any advice.
Thanks a lot.

Rob


",hibernate,db2,drop,statement,,,open,0,158,6,"Hibernate DB2 revoke STATEMENTs for User I have DB2 databases persisted with Hibernate. 
I'd like to revoke DROP TABLE permissions for all TABLES in all databases for a concrete ""user"". So the ordinary ""user"" cannot DROP TABLES in any DB2 database. 
I have also mySQL databases, but I do not care abot doing DROP STATEMENT in them.

Is there any possibility to do it via tag in components.xml (hibernate) or does it have to be done directly on DB2? (and how?)

--> components.xml:

    ...
    
    <!-- 1st databse -->
    <key>hibernate.connection.driver_class</key><value>com.ibm.db2.jcc.DB2Driver</value>
    <key>hibernate.connection.username</key><value>user</value>
    <key>hibernate.connection.password</key><value>password</value>
    <key>hibernate.connection.url</key><value>jdbc:db2://server:50000/DATABASE1</value>
    <key>hibernate.dialect</key><value>org.hibernate.dialect.DB2400Dialect</value>
    <key>hibernate.default_schema</key><value>SCHEMA_NAME</value>

    <!-- 2nd databse -->
    <key>hibernate.connection.driver_class</key><value>com.ibm.db2.jcc.DB2Driver</value>
    <key>hibernate.connection.username</key><value>user</value>
    <key>hibernate.connection.password</key><value>password</value>
    <key>hibernate.connection.url</key><value>jdbc:db2://server:50000/DATABASE2</value>
    <key>hibernate.dialect</key><value>org.hibernate.dialect.DB2400Dialect</value>
    <key>hibernate.default_schema</key><value>SCHEMA_NAME</value>
    
    ...

I'd appreciate any advice.
Thanks a lot.

Rob


",4
9735811,03/16/2012 10:43:14,499543,11/06/2010 23:35:31,46,3,Advice needed Converting a Hibernate Criteria Query to JPA 2 Criteria Query,"I have the following Hibernate 3.x Criteria Query which I want to convert it to a Hibernate JPA 2.0 query:

    Calendar calLo = new GregorianCalendar();
    calLo.set(Calendar.HOUR_OF_DAY, 00);
    calLo.set(Calendar.MINUTE, 00);
    calLo.set(Calendar.SECOND, 00);
    Calendar calHi = new GregorianCalendar();
    calHi.set(Calendar.HOUR_OF_DAY, 23);
    calHi.set(Calendar.MINUTE, 59);
    calHi.set(Calendar.SECOND, 00);
    
    List taskList = session.createCriteria(Task.class, ""task"").add(Restrictions.ge(""task.taskDate"", calLo.getTime())).add(Restrictions.le(""task.taskDate"", calHi.getTime())).add(Restrictions.eq(""task.taskActive"", true)).addOrder(Order.desc(""task.taskNo"")).list();

I attempt to re-werite the code starting like:

    CriteriaBuilder cb = em.getCriteriaBuilder();
    CriteriaQuery cq = cb.createQuery(Task.class);
    Root task = cq.from(Task.class);
    cq.select(task).where(cb.ge(""task.taskDate"", calLo.getTime()) ... );

But JPA 2 criteria queries do not seem to support CriteriaBuilder.ge(...) method to accept dates or calendars and my code seems to fail from the start.

I need advice to retain and adapt the functionality of the Hibernate session criteria.",hibernate,session,jpa-2.0,criteria-api,criteriaquery,,open,0,154,12,"Advice needed Converting a Hibernate Criteria Query to JPA 2 Criteria Query I have the following Hibernate 3.x Criteria Query which I want to convert it to a Hibernate JPA 2.0 query:

    Calendar calLo = new GregorianCalendar();
    calLo.set(Calendar.HOUR_OF_DAY, 00);
    calLo.set(Calendar.MINUTE, 00);
    calLo.set(Calendar.SECOND, 00);
    Calendar calHi = new GregorianCalendar();
    calHi.set(Calendar.HOUR_OF_DAY, 23);
    calHi.set(Calendar.MINUTE, 59);
    calHi.set(Calendar.SECOND, 00);
    
    List taskList = session.createCriteria(Task.class, ""task"").add(Restrictions.ge(""task.taskDate"", calLo.getTime())).add(Restrictions.le(""task.taskDate"", calHi.getTime())).add(Restrictions.eq(""task.taskActive"", true)).addOrder(Order.desc(""task.taskNo"")).list();

I attempt to re-werite the code starting like:

    CriteriaBuilder cb = em.getCriteriaBuilder();
    CriteriaQuery cq = cb.createQuery(Task.class);
    Root task = cq.from(Task.class);
    cq.select(task).where(cb.ge(""task.taskDate"", calLo.getTime()) ... );

But JPA 2 criteria queries do not seem to support CriteriaBuilder.ge(...) method to accept dates or calendars and my code seems to fail from the start.

I need advice to retain and adapt the functionality of the Hibernate session criteria.",5
11487681,07/14/2012 21:59:27,445847,09/12/2010 23:23:42,64,4,"Using Hibernate 4.1 & JPA 2.0 with an Entity Manager, what is the optimal way to load multiple entities with sub-entities down to multiple levels?","We are using Hibernate 4.1.4 with an entity manager implementation and are very pleased with it.  When loading a single entity or small sets of entities (10-50 + sub-entities) we get excellent performance and all our joins work great and are bi-directional.  Editing/saving/deleting is a breeze!

**Loading 2500 Entities & Related Data for Reporting**

We are running into problems when we try to load hundreds or thousands of entities along with sub-entities.  In one example we have about 2500 base entities along with two one-to-one and three one-to-many joins.  This results in 2500 x 5 +1 queries.  Takes about 30 seconds to execute with our database (DB2).  

We use a dynamic query and the entity manager create query method: http://docs.jboss.org/hibernate/core/4.0/javadocs/

**Attempting to coax Hibernate to use Joins**

Our observations have been that no matter what we try, we can't seem to get hibernate to execute loads of sub-entities as joins on the primary query.  When loading a single entity using the find method and by primary key hibernate uses joins, but when multiple base entities are loaded it does not.

We have tried criteria api with the same result.

**Some Success Retrieving Multiple Entities in Query**

Example: 

    select a,b from table1 a left join table2 b

We have had partial success doing the joins manually in our query and retrieving the individual entities via tuples but this bypasses our annotated entity model and is not the preferred method (if we can avoid it).

http://docs.jboss.org/hibernate/core/4.0/manual/en-US/html_single/#objectstate-querying-executing

The problem we have encountered with tuples is they are detached from the primary entity (which seems logical as they are not loaded via annotated relationships) and there seems to be no way to re-attach them.  After manually adding all the one-to-many records in the list of an entity, when hibernate hits the get method for the list, it still tries to eager/lazy load the list (despite the list already being set).

**Attempted Optimization - Preloading of Data Sets**

Another optimization technique we attempted was to pre-load sets of data in advance. After loading all the core entities we built a list of the pk's and fired a single query off to load all the one-to-many sets of data.  But again when hibernate hits the getter for the list data it again tries to eager/lazy load the list ignoring what is already pre-loaded in the session (need to enable caching perhaps?).


**Suggestions?**

We are going in a number of different directions with little success and are hoping someone might be able to point us down the right path (or point out a new one!)!",hibernate,jpa-2.0,hibernate-entitymanager,,,,open,0,427,25,"Using Hibernate 4.1 & JPA 2.0 with an Entity Manager, what is the optimal way to load multiple entities with sub-entities down to multiple levels? We are using Hibernate 4.1.4 with an entity manager implementation and are very pleased with it.  When loading a single entity or small sets of entities (10-50 + sub-entities) we get excellent performance and all our joins work great and are bi-directional.  Editing/saving/deleting is a breeze!

**Loading 2500 Entities & Related Data for Reporting**

We are running into problems when we try to load hundreds or thousands of entities along with sub-entities.  In one example we have about 2500 base entities along with two one-to-one and three one-to-many joins.  This results in 2500 x 5 +1 queries.  Takes about 30 seconds to execute with our database (DB2).  

We use a dynamic query and the entity manager create query method: http://docs.jboss.org/hibernate/core/4.0/javadocs/

**Attempting to coax Hibernate to use Joins**

Our observations have been that no matter what we try, we can't seem to get hibernate to execute loads of sub-entities as joins on the primary query.  When loading a single entity using the find method and by primary key hibernate uses joins, but when multiple base entities are loaded it does not.

We have tried criteria api with the same result.

**Some Success Retrieving Multiple Entities in Query**

Example: 

    select a,b from table1 a left join table2 b

We have had partial success doing the joins manually in our query and retrieving the individual entities via tuples but this bypasses our annotated entity model and is not the preferred method (if we can avoid it).

http://docs.jboss.org/hibernate/core/4.0/manual/en-US/html_single/#objectstate-querying-executing

The problem we have encountered with tuples is they are detached from the primary entity (which seems logical as they are not loaded via annotated relationships) and there seems to be no way to re-attach them.  After manually adding all the one-to-many records in the list of an entity, when hibernate hits the get method for the list, it still tries to eager/lazy load the list (despite the list already being set).

**Attempted Optimization - Preloading of Data Sets**

Another optimization technique we attempted was to pre-load sets of data in advance. After loading all the core entities we built a list of the pk's and fired a single query off to load all the one-to-many sets of data.  But again when hibernate hits the getter for the list data it again tries to eager/lazy load the list ignoring what is already pre-loaded in the session (need to enable caching perhaps?).


**Suggestions?**

We are going in a number of different directions with little success and are hoping someone might be able to point us down the right path (or point out a new one!)!",3
4330480,12/02/2010 00:14:08,316745,04/14/2010 17:04:33,35,7,Prevent Hibernate N+1 Selects when grouping by an entity,"I have a Hibernate Criteria object that I build thusly: 

    Criteria obsCriteria = hibernateTemplate.getSessionFactory()
      .getCurrentSession().createCriteria(Observation.class);
    
    ProjectionList projection = Projections.projectionList()
      .add(Projections.rowCount())
      .add(Projections.avg(""value"").as(""avgScore""))
      .add(Projections.avg(""type.score""))
      .add(Projections.max(""date""))
      .add(Projections.groupProperty(""observedSubject""));
    criteria.setProjection(projection);

This produces a correct result for me, but the ""observedSubject"" property is an entity.  When I set set show_sql to true, I saw that after the first query (which returned 18 rows) there were 18 selects to get the observedSubject entities.  I've tried:

    criteria.setFetchMode(""observedSubject"", FetchMode.JOIN);

But that didn't work.  As kind of a stab in the dark, I tried:

    criteria.createAlias(""observedSubject"", ""observedSubject"", Criteria.FULL_JOIN);

But that didn't work, either.  Is there any way to prevent this behavior?
",hibernate,criteria-api,hibernate-criteria,,,,open,0,151,9,"Prevent Hibernate N+1 Selects when grouping by an entity I have a Hibernate Criteria object that I build thusly: 

    Criteria obsCriteria = hibernateTemplate.getSessionFactory()
      .getCurrentSession().createCriteria(Observation.class);
    
    ProjectionList projection = Projections.projectionList()
      .add(Projections.rowCount())
      .add(Projections.avg(""value"").as(""avgScore""))
      .add(Projections.avg(""type.score""))
      .add(Projections.max(""date""))
      .add(Projections.groupProperty(""observedSubject""));
    criteria.setProjection(projection);

This produces a correct result for me, but the ""observedSubject"" property is an entity.  When I set set show_sql to true, I saw that after the first query (which returned 18 rows) there were 18 selects to get the observedSubject entities.  I've tried:

    criteria.setFetchMode(""observedSubject"", FetchMode.JOIN);

But that didn't work.  As kind of a stab in the dark, I tried:

    criteria.createAlias(""observedSubject"", ""observedSubject"", Criteria.FULL_JOIN);

But that didn't work, either.  Is there any way to prevent this behavior?
",3
9752749,03/17/2012 18:43:49,1269965,03/14/2012 19:40:43,1,0,"Cannot find bean: ""list"" in any scope","i want to list table test with hibernate4 and struts1.3.10 in tomcat6 but when i run localhost/strutsh/hib1.do i get

> Etat HTTP 500 -
> 
> type Rapport d'exception
> 
> message
> 
> description Le serveur a rencontré une erreur interne () qui l'a
> empêché de satisfaire la requête.
> 
> exception
> 
> javax.servlet.ServletException: org.apache.jasper.JasperException:
> javax.servlet.ServletException: javax.servlet.jsp.JspException: Cannot
> find bean: ""list"" in any scope
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) cause
> mère
> 
> org.apache.jasper.JasperException: javax.servlet.ServletException:
> javax.servlet.jsp.JspException: Cannot find bean: ""list"" in any scope
> 	org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:502)
> 	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:412)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.struts.chain.commands.servlet.PerformForward.handleAsForward(PerformForward.java:113)
> 	org.apache.struts.chain.commands.servlet.PerformForward.perform(PerformForward.java:96)
> 	org.apache.struts.chain.commands.AbstractPerformForward.execute(AbstractPerformForward.java:54)
> 	org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:305)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) cause
> mère
> 
> javax.servlet.ServletException: javax.servlet.jsp.JspException: Cannot
> find bean: ""list"" in any scope
> 	org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:865)
> 	org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:794)
> 	org.apache.jsp.list_jsp._jspService(list_jsp.java:141)
> 	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.struts.chain.commands.servlet.PerformForward.handleAsForward(PerformForward.java:113)
> 	org.apache.struts.chain.commands.servlet.PerformForward.perform(PerformForward.java:96)
> 	org.apache.struts.chain.commands.AbstractPerformForward.execute(AbstractPerformForward.java:54)
> 	org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:305)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) cause
> mère
> 
> javax.servlet.jsp.JspException: Cannot find bean: ""list"" in any scope
> 	org.apache.struts.taglib.TagUtils.lookup(TagUtils.java:864)
> 	org.apache.struts.taglib.logic.IterateTag.doStartTag(IterateTag.java:236)
> 	org.apache.jsp.list_jsp._jspService(list_jsp.java:92)
> 	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.struts.chain.commands.servlet.PerformForward.handleAsForward(PerformForward.java:113)
> 	org.apache.struts.chain.commands.servlet.PerformForward.perform(PerformForward.java:96)
> 	org.apache.struts.chain.commands.AbstractPerformForward.execute(AbstractPerformForward.java:54)
> 	org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:305)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) note La
> trace complète de la cause mère de cette erreur est disponible dans
> les fichiers journaux de Apache Tomcat/6.0.35.
> 
> Apache Tomcat/6.0.35

list.jsp

    <%@ page language=""java"" pageEncoding=""ISO-8859-1""%>
    <%@ taglib uri=""http://struts.apache.org/tags-html"" prefix=""html"" %>
    <%@ taglib uri=""http://struts.apache.org/tags-logic"" prefix=""logic"" %>
    <%@ taglib uri=""http://struts.apache.org/tags-bean"" prefix=""bean"" %>
    
    <!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 4.01 Transitional//EN"">
    
    <html:html>
        <head>
            <meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"">
            <title>JSP Page</title>
        </head>
        <body>
    
    <logic:iterate name=""list"" id=""test"">
    <p>
    <bean:write name=""test"" property=""id""/>
    </p>
    </logic:iterate>
        </body>
    </html:html>

Hib1Action.java

    import javax.servlet.http.HttpServletRequest;
    import javax.servlet.http.HttpServletResponse;
    import javax.servlet.ServletContext;
    
    import org.apache.struts.action.Action;
    import org.apache.struts.action.ActionForm;
    import org.apache.struts.action.ActionForward;
    import org.apache.struts.action.ActionMapping;
    
    import org.hibernate.*;
    
    import java.util.*;
    
    public class Hib1Action extends Action {
    
    private List<test> list = new ArrayList<test>();
    
    @SuppressWarnings(""unchecked"")
    
    	public ActionForward execute(
    		ActionMapping mapping,
    		ActionForm form,
    		HttpServletRequest request,
    		HttpServletResponse response) throws Exception{
    
    		ServletContext context = request.getSession().getServletContext();
    
    		SessionFactory factory = (SessionFactory)
                    context.getAttribute(HibernatePlugIn.SESSION_FACTORY_KEY);
    
    		Session session = factory.openSession();
    try {  
    			//session.beginTransaction();
    		      
                            list= session.createSQLQuery(""SELECT * FROM test"").list();
    
                      //session.getTransaction().commit();
                      //request.setAttribute(""list"",list);
    
     } catch(Exception e) {  
                  session.getTransaction().rollback();
                  e.printStackTrace();
     }
    		
                    session.flush();
    		session.close();
    
    		return mapping.findForward(""success"");
    	}
     
    
    public List<test> getList() {
    		return list;
    	}
    
    public void setList(List<test> list) {
    		this.list = list;
    	}
     
    }

all java class are in the default package",hibernate,struts,struts-1,,,04/03/2012 13:10:50,too localized,1,764,7,"Cannot find bean: ""list"" in any scope i want to list table test with hibernate4 and struts1.3.10 in tomcat6 but when i run localhost/strutsh/hib1.do i get

> Etat HTTP 500 -
> 
> type Rapport d'exception
> 
> message
> 
> description Le serveur a rencontré une erreur interne () qui l'a
> empêché de satisfaire la requête.
> 
> exception
> 
> javax.servlet.ServletException: org.apache.jasper.JasperException:
> javax.servlet.ServletException: javax.servlet.jsp.JspException: Cannot
> find bean: ""list"" in any scope
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) cause
> mère
> 
> org.apache.jasper.JasperException: javax.servlet.ServletException:
> javax.servlet.jsp.JspException: Cannot find bean: ""list"" in any scope
> 	org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:502)
> 	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:412)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.struts.chain.commands.servlet.PerformForward.handleAsForward(PerformForward.java:113)
> 	org.apache.struts.chain.commands.servlet.PerformForward.perform(PerformForward.java:96)
> 	org.apache.struts.chain.commands.AbstractPerformForward.execute(AbstractPerformForward.java:54)
> 	org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:305)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) cause
> mère
> 
> javax.servlet.ServletException: javax.servlet.jsp.JspException: Cannot
> find bean: ""list"" in any scope
> 	org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:865)
> 	org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:794)
> 	org.apache.jsp.list_jsp._jspService(list_jsp.java:141)
> 	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.struts.chain.commands.servlet.PerformForward.handleAsForward(PerformForward.java:113)
> 	org.apache.struts.chain.commands.servlet.PerformForward.perform(PerformForward.java:96)
> 	org.apache.struts.chain.commands.AbstractPerformForward.execute(AbstractPerformForward.java:54)
> 	org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:305)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) cause
> mère
> 
> javax.servlet.jsp.JspException: Cannot find bean: ""list"" in any scope
> 	org.apache.struts.taglib.TagUtils.lookup(TagUtils.java:864)
> 	org.apache.struts.taglib.logic.IterateTag.doStartTag(IterateTag.java:236)
> 	org.apache.jsp.list_jsp._jspService(list_jsp.java:92)
> 	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	org.apache.struts.chain.commands.servlet.PerformForward.handleAsForward(PerformForward.java:113)
> 	org.apache.struts.chain.commands.servlet.PerformForward.perform(PerformForward.java:96)
> 	org.apache.struts.chain.commands.AbstractPerformForward.execute(AbstractPerformForward.java:54)
> 	org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:305)
> 	org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:191)
> 	org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
> 	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
> 	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:717) note La
> trace complète de la cause mère de cette erreur est disponible dans
> les fichiers journaux de Apache Tomcat/6.0.35.
> 
> Apache Tomcat/6.0.35

list.jsp

    <%@ page language=""java"" pageEncoding=""ISO-8859-1""%>
    <%@ taglib uri=""http://struts.apache.org/tags-html"" prefix=""html"" %>
    <%@ taglib uri=""http://struts.apache.org/tags-logic"" prefix=""logic"" %>
    <%@ taglib uri=""http://struts.apache.org/tags-bean"" prefix=""bean"" %>
    
    <!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 4.01 Transitional//EN"">
    
    <html:html>
        <head>
            <meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"">
            <title>JSP Page</title>
        </head>
        <body>
    
    <logic:iterate name=""list"" id=""test"">
    <p>
    <bean:write name=""test"" property=""id""/>
    </p>
    </logic:iterate>
        </body>
    </html:html>

Hib1Action.java

    import javax.servlet.http.HttpServletRequest;
    import javax.servlet.http.HttpServletResponse;
    import javax.servlet.ServletContext;
    
    import org.apache.struts.action.Action;
    import org.apache.struts.action.ActionForm;
    import org.apache.struts.action.ActionForward;
    import org.apache.struts.action.ActionMapping;
    
    import org.hibernate.*;
    
    import java.util.*;
    
    public class Hib1Action extends Action {
    
    private List<test> list = new ArrayList<test>();
    
    @SuppressWarnings(""unchecked"")
    
    	public ActionForward execute(
    		ActionMapping mapping,
    		ActionForm form,
    		HttpServletRequest request,
    		HttpServletResponse response) throws Exception{
    
    		ServletContext context = request.getSession().getServletContext();
    
    		SessionFactory factory = (SessionFactory)
                    context.getAttribute(HibernatePlugIn.SESSION_FACTORY_KEY);
    
    		Session session = factory.openSession();
    try {  
    			//session.beginTransaction();
    		      
                            list= session.createSQLQuery(""SELECT * FROM test"").list();
    
                      //session.getTransaction().commit();
                      //request.setAttribute(""list"",list);
    
     } catch(Exception e) {  
                  session.getTransaction().rollback();
                  e.printStackTrace();
     }
    		
                    session.flush();
    		session.close();
    
    		return mapping.findForward(""success"");
    	}
     
    
    public List<test> getList() {
    		return list;
    	}
    
    public void setList(List<test> list) {
    		this.list = list;
    	}
     
    }

all java class are in the default package",3
3722898,09/16/2010 00:34:03,448998,09/16/2010 00:31:45,1,0,	<tx:annotation-driven /> leads to java.lang.ClassNotFoundException: org.aopalliance.aop.Advice,"Anybody has an idea why adding the annotation-driven declaration leads to the aopalliance classes not found. I have not explicitly defined the weaving so using Spring defaults.

Any help is appreciated",hibernate,spring,jpa,,,,open,0,30,6,"	<tx:annotation-driven /> leads to java.lang.ClassNotFoundException: org.aopalliance.aop.Advice Anybody has an idea why adding the annotation-driven declaration leads to the aopalliance classes not found. I have not explicitly defined the weaving so using Spring defaults.

Any help is appreciated",3
10935222,06/07/2012 15:44:31,1366265,04/30/2012 16:38:11,11,1,"Hibernate 3.6, are you going to be around for a while?","Is there a ""life expectancy"" for the different versions of Hibernate? Any one knows if there is a plan to retire 3.6 and force an upgrade to Hibernate 4? If so, when is that due?

We are trying to decide if and when to upgrade to Hibernate 4. 

Thanks in advance!",hibernate,hibernate3,hibernate-4.x,,,06/10/2012 16:03:22,off topic,1,50,11,"Hibernate 3.6, are you going to be around for a while? Is there a ""life expectancy"" for the different versions of Hibernate? Any one knows if there is a plan to retire 3.6 and force an upgrade to Hibernate 4? If so, when is that due?

We are trying to decide if and when to upgrade to Hibernate 4. 

Thanks in advance!",3
3245840,07/14/2010 12:03:18,391519,07/14/2010 12:03:18,1,0,how to pass cursor as IN parameter to a stored procedure,"I want to pass a cursor to a stored procedure as IN parameter from my xyz.java file.
I am using spring and hibernate.
Can you help me with this.
Needed urgently.Reply soon.

And if cannot pass then can you help with some alernative.

Thankyou.  ",hibernate,spring,stored-procedures,,,,open,0,41,11,"how to pass cursor as IN parameter to a stored procedure I want to pass a cursor to a stored procedure as IN parameter from my xyz.java file.
I am using spring and hibernate.
Can you help me with this.
Needed urgently.Reply soon.

And if cannot pass then can you help with some alernative.

Thankyou.  ",3
5719571,04/19/2011 16:26:01,715605,04/19/2011 16:26:01,1,0,what am i missing for using hibernate annotation?,"i am trying to create a basic hibernate entity POJO using latest hibernate and i have added the necesary jar files i downloaded from hibernate website.

the problem is when i add the line @Tabe(name = ""user"")

it complains of a compile error:

> The annotation @Table must define the
> attribute appliesTo

full code below:

    package com.jr.entities.users;
    
    import java.io.Serializable;
    
    import org.hibernate.annotations.Entity;
    import org.hibernate.annotations.Table;
    
    @Entity
    @Table(name = ""user"")
    public class DAOuser implements Serializable{
    	
    	private String uid;
    	private String emailAddress;
    	private String username;
    	private String password;
    	
    
    }
In this example link http://www.roseindia.net/hibernate/hibernateannotations/hibernate-annotations-tutorial.shtml it says that it does not need to applyTo value to be set? am i missing something? I created a simple EJB3 project in eclipse J2ee if it helps.

Thanks in advance
",hibernate,ejb-3.0,,,,,open,0,176,8,"what am i missing for using hibernate annotation? i am trying to create a basic hibernate entity POJO using latest hibernate and i have added the necesary jar files i downloaded from hibernate website.

the problem is when i add the line @Tabe(name = ""user"")

it complains of a compile error:

> The annotation @Table must define the
> attribute appliesTo

full code below:

    package com.jr.entities.users;
    
    import java.io.Serializable;
    
    import org.hibernate.annotations.Entity;
    import org.hibernate.annotations.Table;
    
    @Entity
    @Table(name = ""user"")
    public class DAOuser implements Serializable{
    	
    	private String uid;
    	private String emailAddress;
    	private String username;
    	private String password;
    	
    
    }
In this example link http://www.roseindia.net/hibernate/hibernateannotations/hibernate-annotations-tutorial.shtml it says that it does not need to applyTo value to be set? am i missing something? I created a simple EJB3 project in eclipse J2ee if it helps.

Thanks in advance
",2
11381468,07/08/2012 07:34:00,146917,07/29/2009 08:11:14,534,13,Mapping entities to dynamic tablename,"I want to create a hibernate mapping to a data-source with dynamic tablenames. The tables reflect datasets extracted from another source by a legacy tool, and the tablename itself carries meta-information about the data in the table. The tablename would change for every request.

Is it possible to map this in hibernate? I'm thinking some temporary interceptor thing to change the table name, but cant really wrap my head around the best way to do this.",hibernate,mapping,,,,,open,0,75,5,"Mapping entities to dynamic tablename I want to create a hibernate mapping to a data-source with dynamic tablenames. The tables reflect datasets extracted from another source by a legacy tool, and the tablename itself carries meta-information about the data in the table. The tablename would change for every request.

Is it possible to map this in hibernate? I'm thinking some temporary interceptor thing to change the table name, but cant really wrap my head around the best way to do this.",2
650680,03/16/2009 14:32:01,77993,03/14/2009 05:26:56,75,0,Hibernate tutorials,"Let's say that I'm new to Hibernate, is there a way to get my skills up to speed? Are there any good tutorials?",hibernate,java,object-relational-mapping,framework,database,04/05/2012 14:53:22,not constructive,1,23,2,"Hibernate tutorials Let's say that I'm new to Hibernate, is there a way to get my skills up to speed? Are there any good tutorials?",5
10831420,05/31/2012 10:03:24,1428079,05/31/2012 09:56:58,1,0,What is hibernate and n-hibernate?,"What is hibernate and n-hibernate? can I use it in Visual Studio 2008 for C# Web Application development ? Pls Suggest me... I am newer to asp.net web application Developement. Just I heard about Hibernate.. How can i learn and implement in easy way....


Thanks in Advance..",hibernate,visual-studio-2008,nhibernate-mapping,asp.net-3.5,,,open,0,46,5,"What is hibernate and n-hibernate? What is hibernate and n-hibernate? can I use it in Visual Studio 2008 for C# Web Application development ? Pls Suggest me... I am newer to asp.net web application Developement. Just I heard about Hibernate.. How can i learn and implement in easy way....


Thanks in Advance..",4
1840748,12/03/2009 15:41:14,184792,10/06/2009 06:51:43,418,26,Using outer joins in HQL queries,"I'm trying to build a query using HQL and `OUTER JOIN`s and just can't get it work. Consider the following mapping

    <class name=""Parent"">
        <id name=""id"" type=""integer"">
          <generator class=""native"" />
        </id> 
    </class>
    
    <class name=""Child"">
        <id name=""id"" type=""integer"">
          <generator class=""native"" />
        </id> 
        <many-to-one name=""parent""/>
    </class>

Now I""d like to get a list of all Parents and the amount of the Parents' children. Suppose I have one Parent with two children and one Parent with no children at all. I'd expect an output like

    +-------------------+
    | parent | children |
    +--------+----------+
    |  1     | 2        |
    |  2     | 0        |
    +--------+----------+

using plain SQL it isn't a problem at all, I'll get this output doing something like

    SELECT p.id as parent, count(c.id) as children from parents p LEFT OUTER JOIN children c on c.parent_id = p.id group by p.id;

However it doesn't seem to be possible using HQL as one needs a **path** from Parent to Child when using a `OUTER JOIN`, which I obviously don't have (and also don't want to add).

Any ideas how to get the query working using HQL or is it really - I couldn't believe it - a missing hibernate feature?",hibernate,java,outer-join,sql,,,open,0,307,6,"Using outer joins in HQL queries I'm trying to build a query using HQL and `OUTER JOIN`s and just can't get it work. Consider the following mapping

    <class name=""Parent"">
        <id name=""id"" type=""integer"">
          <generator class=""native"" />
        </id> 
    </class>
    
    <class name=""Child"">
        <id name=""id"" type=""integer"">
          <generator class=""native"" />
        </id> 
        <many-to-one name=""parent""/>
    </class>

Now I""d like to get a list of all Parents and the amount of the Parents' children. Suppose I have one Parent with two children and one Parent with no children at all. I'd expect an output like

    +-------------------+
    | parent | children |
    +--------+----------+
    |  1     | 2        |
    |  2     | 0        |
    +--------+----------+

using plain SQL it isn't a problem at all, I'll get this output doing something like

    SELECT p.id as parent, count(c.id) as children from parents p LEFT OUTER JOIN children c on c.parent_id = p.id group by p.id;

However it doesn't seem to be possible using HQL as one needs a **path** from Parent to Child when using a `OUTER JOIN`, which I obviously don't have (and also don't want to add).

Any ideas how to get the query working using HQL or is it really - I couldn't believe it - a missing hibernate feature?",4
6594986,07/06/2011 10:32:04,810724,06/22/2011 16:12:59,6,0,Hibernate Jpa Annotation: Problem with Embedded Id,"I have this schema of db:

Table_A[1]-->[n]Table_C
and 
Table_B[1]-->[n]Table_C

Now, the PrimaryKey of Table_C is a EmbeddedId with Foreign key versus Table_A and Foreign Key versus Table_B. How do I note this annotation?

My solution is:

    @Entity
    public class TableA{
    	@Id @column(name=""ID"")
    	public int id;
    	
    	@OneToMany(mappedBy=""tableA"")
    	public List<TableC> listOftableC; 
    }
    
    @Entity
    public class TableB{
    	@Id @column(name=""ID"")
    	public String id;
    	
    	@OneToMany(mappedBy=""tableB"")
    	public List<TableC> listOftableC; 
    
    }
    
    @Entity
    public class TableC{
    	@EmbeddedId
    	public TableCPK idComposite;
    }
    
    @Embeddable
    public class TableCPK{
    	
    	@ManyToOne
        @JoinColumn(name = ""ID_TABLE_A"", referencedColumnName=""ID"")
    	public TableA tableA;
    	
    	@ManyToOne
        @JoinColumn(name = ""ID_TABLE_B"", referencedColumnName=""ID"")
    	public TableA tableB;
    }

Why this code work?",hibernate,jpa,annotations,,,,open,0,219,7,"Hibernate Jpa Annotation: Problem with Embedded Id I have this schema of db:

Table_A[1]-->[n]Table_C
and 
Table_B[1]-->[n]Table_C

Now, the PrimaryKey of Table_C is a EmbeddedId with Foreign key versus Table_A and Foreign Key versus Table_B. How do I note this annotation?

My solution is:

    @Entity
    public class TableA{
    	@Id @column(name=""ID"")
    	public int id;
    	
    	@OneToMany(mappedBy=""tableA"")
    	public List<TableC> listOftableC; 
    }
    
    @Entity
    public class TableB{
    	@Id @column(name=""ID"")
    	public String id;
    	
    	@OneToMany(mappedBy=""tableB"")
    	public List<TableC> listOftableC; 
    
    }
    
    @Entity
    public class TableC{
    	@EmbeddedId
    	public TableCPK idComposite;
    }
    
    @Embeddable
    public class TableCPK{
    	
    	@ManyToOne
        @JoinColumn(name = ""ID_TABLE_A"", referencedColumnName=""ID"")
    	public TableA tableA;
    	
    	@ManyToOne
        @JoinColumn(name = ""ID_TABLE_B"", referencedColumnName=""ID"")
    	public TableA tableB;
    }

Why this code work?",3
9130021,02/03/2012 14:17:20,1170897,01/26/2012 08:56:28,1,0,how to fetch all the objects from the hibernate at once,"I am having a hibernate class named AlarmObjects and i have stored 100 records into the hibernate. I want to fetch all these 100 objects at a time in a list. Is it possible ?
please help.",hibernate,hibernate-mapping,,,,02/05/2012 23:37:08,not a real question,1,36,11,"how to fetch all the objects from the hibernate at once I am having a hibernate class named AlarmObjects and i have stored 100 records into the hibernate. I want to fetch all these 100 objects at a time in a list. Is it possible ?
please help.",2
5532435,04/03/2011 20:52:43,690228,04/03/2011 20:48:11,1,0,How can I connect a mySQL database file by using JSP in Spring MVC?(Also Hibernate used.),Do you advice any tutorial or example?,hibernate,jsp,spring-mvc,,,04/03/2011 23:10:11,not a real question,1,7,16,How can I connect a mySQL database file by using JSP in Spring MVC?(Also Hibernate used.) Do you advice any tutorial or example?,3
4944034,02/09/2011 11:08:48,525024,11/30/2010 10:38:12,1,0,HQL JoinTable not accessible,"i have a many to many relationship between media and tags:

Medium:

	@ManyToMany(fetch=FetchType.EAGER)
	@IndexColumn(name=""tags_index_column"")
	@JoinTable(name=""tag_map"",
              joinColumns={@JoinColumn(name=""tag_id"")},
              inverseJoinColumns={@JoinColumn(name=""item_id"")})
	private List<Tag> tags;

Tags:

	@ManyToMany(mappedBy=""tags"")
	@JoinTable(name=""tag_map"",
			joinColumns={@JoinColumn(name=""item_id"")},
                  inverseJoinColumns={@JoinColumn(name=""tag_id"")})
	private List<Medium> media;

I try to query the join table from hql but i always get an exception:

    String resultQueryString = ""From tag_map""
    
    		Query resultQuery SessionFactory.getCurrentSession().createQuery(resultQueryString);

Exception:

    org.springframework.orm.hibernate3.HibernateQueryException: tag_map is not mapped [From tag_map]; nested exception is org.hibernate.hql.ast.QuerySyntaxException: tag_map is not mapped [From tag_map]


What i basically want to do is to query all media which has a tag with a specific id. Unfortunately i can't access the jointable. 

Any suggestions? :)",hibernate,query,hql,jointable,,,open,0,140,4,"HQL JoinTable not accessible i have a many to many relationship between media and tags:

Medium:

	@ManyToMany(fetch=FetchType.EAGER)
	@IndexColumn(name=""tags_index_column"")
	@JoinTable(name=""tag_map"",
              joinColumns={@JoinColumn(name=""tag_id"")},
              inverseJoinColumns={@JoinColumn(name=""item_id"")})
	private List<Tag> tags;

Tags:

	@ManyToMany(mappedBy=""tags"")
	@JoinTable(name=""tag_map"",
			joinColumns={@JoinColumn(name=""item_id"")},
                  inverseJoinColumns={@JoinColumn(name=""tag_id"")})
	private List<Medium> media;

I try to query the join table from hql but i always get an exception:

    String resultQueryString = ""From tag_map""
    
    		Query resultQuery SessionFactory.getCurrentSession().createQuery(resultQueryString);

Exception:

    org.springframework.orm.hibernate3.HibernateQueryException: tag_map is not mapped [From tag_map]; nested exception is org.hibernate.hql.ast.QuerySyntaxException: tag_map is not mapped [From tag_map]


What i basically want to do is to query all media which has a tag with a specific id. Unfortunately i can't access the jointable. 

Any suggestions? :)",4
798502,04/28/2009 15:17:09,23309,09/29/2008 01:11:34,867,23,How can I create a hibernate collection that will be re-read every time I request it?,"I have an entity that has a state table associated with it.  The state table is managed by another process, and contains a list of objects that my business logic must process.  I would like to get a new snapshot of the state table each time I reload the entity.  How can I ensure that no part of Hibernate or its support libraries _ever_ caches any of the values of this table?  Basically, I want to get a new view of the collection _every_ time I call getMyStateValues ().",hibernate,configuration,java,caching,,,open,0,93,16,"How can I create a hibernate collection that will be re-read every time I request it? I have an entity that has a state table associated with it.  The state table is managed by another process, and contains a list of objects that my business logic must process.  I would like to get a new snapshot of the state table each time I reload the entity.  How can I ensure that no part of Hibernate or its support libraries _ever_ caches any of the values of this table?  Basically, I want to get a new view of the collection _every_ time I call getMyStateValues ().",4
5619273,04/11/2011 09:26:22,559026,12/31/2010 06:04:07,338,41,Connection URl for SQLExpress database using Hibernate,"I am using `jtds` drivers to connect to SQL Server on local using Hibernate

I can conect to server using server name: COMP6\SQLEXPRESS

Below is my connection properties in hibernate.cfg

    <property name=""hibernate.dialect"">org.hibernate.dialect.SQLServerDialect</property>
		<property name=""hibernate.connection.driver_class"">net.sourceforge.jtds.jdbc.Driver</property>

		<property name=""hibernate.connection.url"">jdbc:jtds:sqlserver://COMP6\\SQLEXPRESS/ipms_m1_new_final_1apr</property>
				
		<property name=""hibernate.connection.username"">sa</property>
		<property name=""hibernate.connection.password"">xxxx</property>



Whole stacktrace



    java.sql.SQLException: Unknown server host name 'COMP6\\SQLEXPRESS'.
	at net.sourceforge.jtds.jdbc.ConnectionJDBC2.<init>(ConnectionJDBC2.java:401)
	at net.sourceforge.jtds.jdbc.ConnectionJDBC3.<init>(ConnectionJDBC3.java:50)
	at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)
	at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:84)
	at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2009)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1292)
	at com.nextenders.facadeimplementation.hibernate.util.HibernateFactory.configureSessionFactory(HibernateFactory.java:103)
	at com.nextenders.facadeimplementation.hibernate.util.HibernateFactory.buildIfNeeded(HibernateFactory.java:40)
	at com.nextenders.facadeimplementation.model.dao.AbstractDao.<init>(AbstractDao.java:19)
	at com.nextenders.facadeimplementation.model.dao.domain.common.ConfigurationDao.<init>(ConfigurationDao.java:28)
	at com.nextenders.facadeimplementation.facade.domain.common.ConfigurationFacade.getConfigurationList(ConfigurationFacade.java:83)
	at com.nextenders.server.businessdelegates.domain.common.ConfigurationBusinessDelegate.getConfigurationList(ConfigurationBusinessDelegate.java:45)
	at com.nextenders.server.actions.common.ContextListener.contextInitialized(ContextListener.java:60)
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:543)
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1220)
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:513)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
	at com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload.doStart(JettyLauncher.java:447)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:222)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
	at com.google.gwt.dev.shell.jetty.JettyLauncher.start(JettyLauncher.java:543)
	at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:421)
	at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1035)
	at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:783)
	at com.google.gwt.dev.DevMode.main(DevMode.java:275)
    Caused by: java.net.UnknownHostException: COMP6\\SQLEXPRESS
    	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:177)
    	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
    	at java.net.Socket.connect(Socket.java:525)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    	at java.lang.reflect.Method.invoke(Method.java:597)
    	at net.sourceforge.jtds.jdbc.SharedSocket.createSocketForJDBC3(SharedSocket.java:307)
    	at net.sourceforge.jtds.jdbc.SharedSocket.<init>(SharedSocket.java:257)
    	at net.sourceforge.jtds.jdbc.ConnectionJDBC2.<init>(ConnectionJDBC2.java:311)




",hibernate,sql-server-express,jtds,,,,open,0,139,7,"Connection URl for SQLExpress database using Hibernate I am using `jtds` drivers to connect to SQL Server on local using Hibernate

I can conect to server using server name: COMP6\SQLEXPRESS

Below is my connection properties in hibernate.cfg

    <property name=""hibernate.dialect"">org.hibernate.dialect.SQLServerDialect</property>
		<property name=""hibernate.connection.driver_class"">net.sourceforge.jtds.jdbc.Driver</property>

		<property name=""hibernate.connection.url"">jdbc:jtds:sqlserver://COMP6\\SQLEXPRESS/ipms_m1_new_final_1apr</property>
				
		<property name=""hibernate.connection.username"">sa</property>
		<property name=""hibernate.connection.password"">xxxx</property>



Whole stacktrace



    java.sql.SQLException: Unknown server host name 'COMP6\\SQLEXPRESS'.
	at net.sourceforge.jtds.jdbc.ConnectionJDBC2.<init>(ConnectionJDBC2.java:401)
	at net.sourceforge.jtds.jdbc.ConnectionJDBC3.<init>(ConnectionJDBC3.java:50)
	at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)
	at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:84)
	at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2009)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1292)
	at com.nextenders.facadeimplementation.hibernate.util.HibernateFactory.configureSessionFactory(HibernateFactory.java:103)
	at com.nextenders.facadeimplementation.hibernate.util.HibernateFactory.buildIfNeeded(HibernateFactory.java:40)
	at com.nextenders.facadeimplementation.model.dao.AbstractDao.<init>(AbstractDao.java:19)
	at com.nextenders.facadeimplementation.model.dao.domain.common.ConfigurationDao.<init>(ConfigurationDao.java:28)
	at com.nextenders.facadeimplementation.facade.domain.common.ConfigurationFacade.getConfigurationList(ConfigurationFacade.java:83)
	at com.nextenders.server.businessdelegates.domain.common.ConfigurationBusinessDelegate.getConfigurationList(ConfigurationBusinessDelegate.java:45)
	at com.nextenders.server.actions.common.ContextListener.contextInitialized(ContextListener.java:60)
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:543)
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1220)
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:513)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
	at com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload.doStart(JettyLauncher.java:447)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:222)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
	at com.google.gwt.dev.shell.jetty.JettyLauncher.start(JettyLauncher.java:543)
	at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:421)
	at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1035)
	at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:783)
	at com.google.gwt.dev.DevMode.main(DevMode.java:275)
    Caused by: java.net.UnknownHostException: COMP6\\SQLEXPRESS
    	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:177)
    	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
    	at java.net.Socket.connect(Socket.java:525)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    	at java.lang.reflect.Method.invoke(Method.java:597)
    	at net.sourceforge.jtds.jdbc.SharedSocket.createSocketForJDBC3(SharedSocket.java:307)
    	at net.sourceforge.jtds.jdbc.SharedSocket.<init>(SharedSocket.java:257)
    	at net.sourceforge.jtds.jdbc.ConnectionJDBC2.<init>(ConnectionJDBC2.java:311)




",3
10131320,04/12/2012 20:29:50,68567,02/19/2009 18:50:54,646,29,Insert specific ID with hibernate on postgresql database,"Java hibernate and Postgresql

Table:

    CREATE TABLE players
    (
      id serial NOT NULL,
      ....
    )


HBM:

    <class name=""Player"" table=""players"">
            <id name=""id"" column=""id"">
                <generator class=""identity"" />
            </id>
    ...

I want to be able to insert a specific ID in some cases as I'm importing data from another data source and need to maintain ID consistency.

When inserting with hibernate even when I set the ID of the object it still inserts without using the ID that I've specified.

Are there settings that I can change to support specifying the ID on insert?",hibernate,postgresql,,,,,open,0,148,8,"Insert specific ID with hibernate on postgresql database Java hibernate and Postgresql

Table:

    CREATE TABLE players
    (
      id serial NOT NULL,
      ....
    )


HBM:

    <class name=""Player"" table=""players"">
            <id name=""id"" column=""id"">
                <generator class=""identity"" />
            </id>
    ...

I want to be able to insert a specific ID in some cases as I'm importing data from another data source and need to maintain ID consistency.

When inserting with hibernate even when I set the ID of the object it still inserts without using the ID that I've specified.

Are there settings that I can change to support specifying the ID on insert?",2
6707733,07/15/2011 13:29:30,608292,02/08/2011 14:47:16,1,0,Is there a way to use hql without classes?,"The scenario is: in my system, the user will be able to define a query to a database using some kind of metadata.

Example: the user will define some parameters such as:
 -DatabaseType: Oracle 11g
 -ConnectionProperties: (user, password, server, etc)
 -TableName: TAB1
 -Columns: COL1, COL2
 -Filters: COL3=2 ; COL2=5

That way, I don't know previously what will be returned, and thus I don't have a class that matches the resultSet returned by this query.

That said, the problem is: can I build a HQL query using these ""metadata"" even without a class that match the result (like TAB1 with COL1 and COL2)?

FAQ: -""Why do you want to use HQL and not SQL"" Answer: to be database-independent.

Thanks, and please tell me if I wasn't clear enough :)
",hibernate,,,,,,open,0,123,9,"Is there a way to use hql without classes? The scenario is: in my system, the user will be able to define a query to a database using some kind of metadata.

Example: the user will define some parameters such as:
 -DatabaseType: Oracle 11g
 -ConnectionProperties: (user, password, server, etc)
 -TableName: TAB1
 -Columns: COL1, COL2
 -Filters: COL3=2 ; COL2=5

That way, I don't know previously what will be returned, and thus I don't have a class that matches the resultSet returned by this query.

That said, the problem is: can I build a HQL query using these ""metadata"" even without a class that match the result (like TAB1 with COL1 and COL2)?

FAQ: -""Why do you want to use HQL and not SQL"" Answer: to be database-independent.

Thanks, and please tell me if I wasn't clear enough :)
",1
9889358,03/27/2012 12:15:10,1000194,10/18/2011 00:24:19,288,11,Why to use enum to map type table in hibernate?,"i saw lots of examples that maps type tables to an enum instead of regular domain class
and i want to know what is the difference, and advantages or use cases for using enum rather than regular domain class. ",hibernate,design,java-ee,orm,,,open,0,39,10,"Why to use enum to map type table in hibernate? i saw lots of examples that maps type tables to an enum instead of regular domain class
and i want to know what is the difference, and advantages or use cases for using enum rather than regular domain class. ",4
7039486,08/12/2011 11:33:34,354495,05/31/2010 10:26:19,95,5,Using addjoin in Hibernate throws class cast exception,"**Query**

        List <t1> t1List  = hibernateSession.createSqlQuery
    (""select * from t1 join t2 on t1.id = t2.id"")  
    .addEntity(""t1Alias"",t1.class)
    .addJoin(t1Alias.id).list();
              
            
            for(t1 object : t1List  ){
            log.debug(t1.id);     //throws class cast exception 
                                  //Cannot convert object to class t1
            }

but the same code executes if i remove the addJoin (t1Alias.id) 


Can some explain why ?


",hibernate,hibernateexception,,,,,open,0,167,8,"Using addjoin in Hibernate throws class cast exception **Query**

        List <t1> t1List  = hibernateSession.createSqlQuery
    (""select * from t1 join t2 on t1.id = t2.id"")  
    .addEntity(""t1Alias"",t1.class)
    .addJoin(t1Alias.id).list();
              
            
            for(t1 object : t1List  ){
            log.debug(t1.id);     //throws class cast exception 
                                  //Cannot convert object to class t1
            }

but the same code executes if i remove the addJoin (t1Alias.id) 


Can some explain why ?


",2
8344627,12/01/2011 16:19:43,927768,09/04/2011 17:10:25,61,0,ICDBHibernateUtil initializig error on the webserver,"I hav a webserver and when I try to use the hibernate util I get an excpetion (returned to the client):

    SoapFault - faultcode: 'soapenv:Server' faultstring: 'Could not initialize class com.test.data.ICDBHibernateUtil' faultactor: 'null' detail: org.kxml2.kdom.Node@4054db90

It worked fine on my local pc. How can I know what is the reason for it?

    I have the following code:
    public class ICDBHibernateUtil {
    	private static final SessionFactory sessionFactory;
    
        static {
            try {
                // Create the SessionFactory from hibernate.cfg.xml
                sessionFactory = new Configuration().configure().buildSessionFactory();
            } catch (Throwable ex) {
                // Make sure you log the exception, as it might be swallowed
    //            System.err.println(""Initial SessionFactory creation failed."" + ex);
                throw new ExceptionInInitializerError(ex);
            }
        }
    
        public static SessionFactory getSessionFactory() {
            return sessionFactory;
        }
    }



Really really needs help with this... can supply any code needed.",hibernate,,,,,,open,0,296,6,"ICDBHibernateUtil initializig error on the webserver I hav a webserver and when I try to use the hibernate util I get an excpetion (returned to the client):

    SoapFault - faultcode: 'soapenv:Server' faultstring: 'Could not initialize class com.test.data.ICDBHibernateUtil' faultactor: 'null' detail: org.kxml2.kdom.Node@4054db90

It worked fine on my local pc. How can I know what is the reason for it?

    I have the following code:
    public class ICDBHibernateUtil {
    	private static final SessionFactory sessionFactory;
    
        static {
            try {
                // Create the SessionFactory from hibernate.cfg.xml
                sessionFactory = new Configuration().configure().buildSessionFactory();
            } catch (Throwable ex) {
                // Make sure you log the exception, as it might be swallowed
    //            System.err.println(""Initial SessionFactory creation failed."" + ex);
                throw new ExceptionInInitializerError(ex);
            }
        }
    
        public static SessionFactory getSessionFactory() {
            return sessionFactory;
        }
    }



Really really needs help with this... can supply any code needed.",1
1096053,07/08/2009 03:52:02,97901,04/29/2009 19:15:16,38,3,Hibernate property based on sum,"I have figured out that I can use hibernate to get the sum of a number of entities using HQL as follows...


    public Long getEnvelopeTotal(AbstractEnvelope envelope) {
        String query = ""select sum(t.amount) from User_Transaction t"";
        Long result = (Long) hibernateUtil.getSession().createQuery(query).uniqueResult();
        return result;
    }

Currently the rest of my application is able to seamlesly navigate the database via the object graph only.  The problem with having to use the function above is that I have to do the following psuedo code...

 1. Get instance of Entity ""Envelope""
 2. Pass Envelope instance i
 3. Based on the result of getEnvelopeTotal set the Envelope instance property ""total"" to the result.


What I am wondering if it is possible to use hibernate in such a way that the property ""total"" is set via custom HQL query instead of being mapped to a simply database column.

ex: 

    @SomeMagicAnnotation(query=""select sum(t.amount) from User_Transaction t"")
    private Long total;

Any suggestions?






",hibernate,jpa,hql,,,,open,0,183,5,"Hibernate property based on sum I have figured out that I can use hibernate to get the sum of a number of entities using HQL as follows...


    public Long getEnvelopeTotal(AbstractEnvelope envelope) {
        String query = ""select sum(t.amount) from User_Transaction t"";
        Long result = (Long) hibernateUtil.getSession().createQuery(query).uniqueResult();
        return result;
    }

Currently the rest of my application is able to seamlesly navigate the database via the object graph only.  The problem with having to use the function above is that I have to do the following psuedo code...

 1. Get instance of Entity ""Envelope""
 2. Pass Envelope instance i
 3. Based on the result of getEnvelopeTotal set the Envelope instance property ""total"" to the result.


What I am wondering if it is possible to use hibernate in such a way that the property ""total"" is set via custom HQL query instead of being mapped to a simply database column.

ex: 

    @SomeMagicAnnotation(query=""select sum(t.amount) from User_Transaction t"")
    private Long total;

Any suggestions?






",3
8113301,11/13/2011 17:24:43,802050,06/16/2011 18:09:43,498,0,Purpose of session.lock method in hibernate?,"i am going through lock method of hibernate given at http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/Session.html#lock(java.lang.Object, org.hibernate.LockMode). i did not get what we are trying to achieve thru this method. 


     p1  = (Person)session. get(Person.class,1);// person name is scott here
    // here peson name got update to henry by anothet thread
    session. lock(person, LockMode.READ) line 3
    // still name is henry too


 i  tried  above code snippet .  but it did not read the person from database at line 3
Doc says that This may be used to perform a version check.Not sure how?

similarily not sure what will session. lock(person, LockMode.upgrade) and session. lock(person, LockMode.None) will achieve.Doc says NONE is used to  to simply reassociate a transient instance with a session. Not sure what does it mean by reassociating a transient instance with session. A brief scenario will be a great help?

",hibernate,,,,,,open,0,154,6,"Purpose of session.lock method in hibernate? i am going through lock method of hibernate given at http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/Session.html#lock(java.lang.Object, org.hibernate.LockMode). i did not get what we are trying to achieve thru this method. 


     p1  = (Person)session. get(Person.class,1);// person name is scott here
    // here peson name got update to henry by anothet thread
    session. lock(person, LockMode.READ) line 3
    // still name is henry too


 i  tried  above code snippet .  but it did not read the person from database at line 3
Doc says that This may be used to perform a version check.Not sure how?

similarily not sure what will session. lock(person, LockMode.upgrade) and session. lock(person, LockMode.None) will achieve.Doc says NONE is used to  to simply reassociate a transient instance with a session. Not sure what does it mean by reassociating a transient instance with session. A brief scenario will be a great help?

",1
2908164,05/25/2010 20:12:35,195176,10/23/2009 09:13:22,83,3,netbeans + hibernate for java swing application,"im developing a java swing app and i would use hibernate for persistance.
Im totally new in jpa, hibernate and ORM in general.

Im follow [this][1] tutorial, its easy but the problem is the java class that descrive a table in db are made from the table with reverse enginering.

I want do the opposite process: i want make db table from the java class.

The question is, how can i do this with netbeans? There are some tutorial?

  [1]: http://netbeans.org/kb/docs/java/hibernate-java-se.html",hibernate,netbeans,jpa,persistence,,,open,0,78,7,"netbeans + hibernate for java swing application im developing a java swing app and i would use hibernate for persistance.
Im totally new in jpa, hibernate and ORM in general.

Im follow [this][1] tutorial, its easy but the problem is the java class that descrive a table in db are made from the table with reverse enginering.

I want do the opposite process: i want make db table from the java class.

The question is, how can i do this with netbeans? There are some tutorial?

  [1]: http://netbeans.org/kb/docs/java/hibernate-java-se.html",4
9425378,02/24/2012 04:24:37,1094603,12/12/2011 21:34:02,80,2,"Hibernate: when annotating objects to be used as Entities, why is it okay to import javax?","I am looking at this code: 
http://www.massapi.com/source/hibernate-distribution-3.6.5.Final/project/hibernate-documentation/quickstart/tutorials/annotations/src/test/java/org/hibernate/tutorial/annotations/Event.java.html

This is an example of how to use hibernates JPA implementation. They always import javax.persistence.* for each of their annotations. Why do they do this instead of importing the ones that come with hibernate?

For example they use 

    import javax.persistence.Table;

instead of

    import org.hibernate.annotations.Table;

Any ideas?
",hibernate,jpa,import,,,,open,0,56,16,"Hibernate: when annotating objects to be used as Entities, why is it okay to import javax? I am looking at this code: 
http://www.massapi.com/source/hibernate-distribution-3.6.5.Final/project/hibernate-documentation/quickstart/tutorials/annotations/src/test/java/org/hibernate/tutorial/annotations/Event.java.html

This is an example of how to use hibernates JPA implementation. They always import javax.persistence.* for each of their annotations. Why do they do this instead of importing the ones that come with hibernate?

For example they use 

    import javax.persistence.Table;

instead of

    import org.hibernate.annotations.Table;

Any ideas?
",3
11096951,06/19/2012 08:14:13,984044,10/07/2011 13:04:53,21,1,Hibernate HQL createQuery NullPointerException,"I can't find out why throw this expression always a NullPointerException:
	

    String jpql = ""DELETE Trend t WHERE t.owner = :owner AND t.shapeId = :shapeid AND t.security = :security AND t.timeframe = :timeframe""; 		
    int rows = 0; 		
    try { 			
    Query q = em.createQuery(jpql, Trend.class); // this line throw the exception
    ...

Other requests successfully executed.",hibernate,jpa,nullpointerexception,,,,open,0,72,4,"Hibernate HQL createQuery NullPointerException I can't find out why throw this expression always a NullPointerException:
	

    String jpql = ""DELETE Trend t WHERE t.owner = :owner AND t.shapeId = :shapeid AND t.security = :security AND t.timeframe = :timeframe""; 		
    int rows = 0; 		
    try { 			
    Query q = em.createQuery(jpql, Trend.class); // this line throw the exception
    ...

Other requests successfully executed.",3
9884042,03/27/2012 05:54:04,1292276,03/26/2012 05:55:35,1,0,Hibernate Getting Output from a Generic Cursor,"Need to get data out from oracle database using a complex procedure.  The output is a generic cursor.  i am using hibernate to fetch the output.   But the Result set does not have a mapping as it is not some table.  how can i fetch the data out from the cursor into my object.

Is there a  way i can get a resultset object below instead of a list ?  
I can get a connection from Session factory and use callable statement.  is that good practice ?


    Query query = session.createSQLQuery(
    	""CALL GetStocks(:stockCode)"")
    	.addEntity(Stock.class)
    	.setParameter(""stockCode"", ""7277"");
     
    List result = query.list();
    for(int i=0; i<result.size(); i++){
    	Stock stock = (Stock)result.get(i);
    	System.out.println(stock.getStockCode());

",hibernate,,,,,,open,0,145,7,"Hibernate Getting Output from a Generic Cursor Need to get data out from oracle database using a complex procedure.  The output is a generic cursor.  i am using hibernate to fetch the output.   But the Result set does not have a mapping as it is not some table.  how can i fetch the data out from the cursor into my object.

Is there a  way i can get a resultset object below instead of a list ?  
I can get a connection from Session factory and use callable statement.  is that good practice ?


    Query query = session.createSQLQuery(
    	""CALL GetStocks(:stockCode)"")
    	.addEntity(Stock.class)
    	.setParameter(""stockCode"", ""7277"");
     
    List result = query.list();
    for(int i=0; i<result.size(); i++){
    	Stock stock = (Stock)result.get(i);
    	System.out.println(stock.getStockCode());

",1
1605527,10/22/2009 07:19:24,103014,05/07/2009 16:51:24,411,45,How to create and read a sequence in Hibernate?,"I need to use a sequence to get a unique value. The production code uses postgres but I would like to access it via Hibernate so that I can test this with HSQL.

How can I create and read a sequence in Hibernate?",hibernate,postgres,hsql,,,,open,0,42,9,"How to create and read a sequence in Hibernate? I need to use a sequence to get a unique value. The production code uses postgres but I would like to access it via Hibernate so that I can test this with HSQL.

How can I create and read a sequence in Hibernate?",3
4589219,01/03/2011 23:02:46,502278,11/09/2010 18:29:03,6,0,Hibernate not printing HQL in the log,"Hibernate is printing the HQL as **null** in the log files(Example below). The text printed looks like the summary of the query executed. How do I get it to print the actual HQL.

**HQL: null, time: 0ms, rows: 4**

Thanks.",hibernate,,,,,,open,0,38,7,"Hibernate not printing HQL in the log Hibernate is printing the HQL as **null** in the log files(Example below). The text printed looks like the summary of the query executed. How do I get it to print the actual HQL.

**HQL: null, time: 0ms, rows: 4**

Thanks.",1
6371388,06/16/2011 11:54:59,801376,12/03/2009 10:14:10,1,0,Manage Hibernate Generator Sequence,"I need help related to *Hibernate Generator Sequence*.

Is it possible to manage with Hibernate java class a sequence defined in DB (Oracle) mapped by **hibernate hbm** file ?

I mean, update the sequence manually from java mapped class to generate a composite sequence.

Thanks !",hibernate,jpa,oracle10g,,,,open,0,43,4,"Manage Hibernate Generator Sequence I need help related to *Hibernate Generator Sequence*.

Is it possible to manage with Hibernate java class a sequence defined in DB (Oracle) mapped by **hibernate hbm** file ?

I mean, update the sequence manually from java mapped class to generate a composite sequence.

Thanks !",3
11481944,07/14/2012 07:37:38,1506021,07/06/2012 07:13:57,1,0,how to fetch values from the database for using in another form,how to fetch values from the database that are previously entered into database from any form page?? Actually I'm creating class for jsp form page using spring and hibernate that uses some values from the database as options in drop down select option..,hibernate,spring-mvc,,,,07/15/2012 06:43:28,not a real question,1,43,12,how to fetch values from the database for using in another form how to fetch values from the database that are previously entered into database from any form page?? Actually I'm creating class for jsp form page using spring and hibernate that uses some values from the database as options in drop down select option..,2
9786506,03/20/2012 12:12:07,1218072,02/18/2012 13:05:57,11,0,Hibernate named queries and startup performances,"We are starting a new projet using JPA/Hibernate. Someone in the team is refusing to use named queries saying that he had performance issues with those before. According to him, the named queries are not only parsed at startup but they also are executed which would slow significantly the startup. 

Is it right and if so, is there any configuration to prevent hibernate from executing the queries?",hibernate,jpa,named-query,,,,open,0,67,6,"Hibernate named queries and startup performances We are starting a new projet using JPA/Hibernate. Someone in the team is refusing to use named queries saying that he had performance issues with those before. According to him, the named queries are not only parsed at startup but they also are executed which would slow significantly the startup. 

Is it right and if so, is there any configuration to prevent hibernate from executing the queries?",3
4256936,11/23/2010 14:25:23,331747,05/03/2010 19:59:20,582,18,Dynamically sorting a NamedQuery?  Seam/Hibernate/JPA,"I have several `NamedQuery`'s defined, and I'd like to be able to sort on a field for an entity dynamically, without having to create unique `NamedQuery`'s for each field I want to sort on.  For example:

I have an entity called MyObject, with fields 'a', 'b', and 'c'.  My base query is ""`SELECT DISTINCT o FROM MyObject o`"", but I'd like to be able to add an `ORDER BY` clause to my query.  Ideally, I'd be able to do something like named parameters, where my query would look like:

    SELECT DISTINCT o FROM MyObject o ORDER BY :order

I would then specify the field (a, b, c) that I want to sort on.  Is there any way to accomplish this using Seam/Hibernate/JPA?  Is there a better strategy for tackling this?",hibernate,query,sorting,jpa,seam,,open,0,136,6,"Dynamically sorting a NamedQuery?  Seam/Hibernate/JPA I have several `NamedQuery`'s defined, and I'd like to be able to sort on a field for an entity dynamically, without having to create unique `NamedQuery`'s for each field I want to sort on.  For example:

I have an entity called MyObject, with fields 'a', 'b', and 'c'.  My base query is ""`SELECT DISTINCT o FROM MyObject o`"", but I'd like to be able to add an `ORDER BY` clause to my query.  Ideally, I'd be able to do something like named parameters, where my query would look like:

    SELECT DISTINCT o FROM MyObject o ORDER BY :order

I would then specify the field (a, b, c) that I want to sort on.  Is there any way to accomplish this using Seam/Hibernate/JPA?  Is there a better strategy for tackling this?",5
3142897,06/29/2010 16:54:24,127484,06/23/2009 10:24:57,25,4,Querying on property of a hasMany relationship,"I have the following association in a domain I'm working on (not actually pirates unfortunately).  A ship has many pirates.  I want to be able to find all ships that have a captain and do not have any land lubbers on the crew.

    class Pirate {

      String name
      Rank rank
    
      enum Rank {
        CAPTAIN,
        DECK_HAND,
        LAND_LUBBER
      }

    }

    class Ship {

      static hasmany = [crew:Pirate]

    }

I'm trying to use Hibernate criteria as in the long run I'd like this to be a named query that I can chain with other queries.  Here is the criteria I'm using.

    def pirateShips = Ship.withCriteria {
      crew {
        eq('rank', Pirate.Rank.CAPTAIN)
        not {
          eq('rank', Pirate.Rank.LAND_LUBBER)
        }
      }
    }

When I create the following entities I don't get the expected results.

    def blackbeard = new Pirate(name:'Blackbeard', rank:Pirate.Rank.CAPTAIN).save()
    def deckHand = new Pirate(name:'Deck Hand', rank:Pirate.Rank.DECK_HAND).save()
    def landLubber = new Pirate(name:'Land Lubber', rank:Pirate.Rank.LAND_LUBBER).save()

    def ship = new Ship(name:'Ship 1', crew:[blackbeard]).save()
    def infiltrator = new Ship(name:'Ship 2', crew:[blackbeard, landLubber]).save()
    def normalShip = new Ship(name:'Ship 3', crew:[blackbeard, deckHand]).save(flush:true)

Running the afore mentioned query results in all 3 ships being returned when I would expect only Ship 1 and Ship 3 to be returned (Ship 2 has a pesky land lubber which is of no use to me).

**Is there a way to use the criteria API to generate such a query? If not how would I go about writing a query in HQL?**",hibernate,grails,gorm,,,,open,0,359,7,"Querying on property of a hasMany relationship I have the following association in a domain I'm working on (not actually pirates unfortunately).  A ship has many pirates.  I want to be able to find all ships that have a captain and do not have any land lubbers on the crew.

    class Pirate {

      String name
      Rank rank
    
      enum Rank {
        CAPTAIN,
        DECK_HAND,
        LAND_LUBBER
      }

    }

    class Ship {

      static hasmany = [crew:Pirate]

    }

I'm trying to use Hibernate criteria as in the long run I'd like this to be a named query that I can chain with other queries.  Here is the criteria I'm using.

    def pirateShips = Ship.withCriteria {
      crew {
        eq('rank', Pirate.Rank.CAPTAIN)
        not {
          eq('rank', Pirate.Rank.LAND_LUBBER)
        }
      }
    }

When I create the following entities I don't get the expected results.

    def blackbeard = new Pirate(name:'Blackbeard', rank:Pirate.Rank.CAPTAIN).save()
    def deckHand = new Pirate(name:'Deck Hand', rank:Pirate.Rank.DECK_HAND).save()
    def landLubber = new Pirate(name:'Land Lubber', rank:Pirate.Rank.LAND_LUBBER).save()

    def ship = new Ship(name:'Ship 1', crew:[blackbeard]).save()
    def infiltrator = new Ship(name:'Ship 2', crew:[blackbeard, landLubber]).save()
    def normalShip = new Ship(name:'Ship 3', crew:[blackbeard, deckHand]).save(flush:true)

Running the afore mentioned query results in all 3 ships being returned when I would expect only Ship 1 and Ship 3 to be returned (Ship 2 has a pesky land lubber which is of no use to me).

**Is there a way to use the criteria API to generate such a query? If not how would I go about writing a query in HQL?**",3
2467238,03/18/2010 02:34:39,2955,08/26/2008 08:53:13,2503,156,Tips for resolving Hibernate/JPA EntityNotFoundException,"I'm running into a problem with **Hibernate** where when trying to delete a group of Entities I encounter the following error:

`javax.persistence.EntityNotFoundException: deleted entity passed to persist: [com.locuslive.odyssey.entity.FreightInvoiceLine#<null>]`

These are not normally so difficult to track down as they are usually caused by an entity being deleted but not being removed from a Collection that it is a member of.

In this case I have removed the entity from every list that I can think of (it's a complex datamodel). I've put JBoss logging into Trace and I can see the collections that are being cascaded. However I can't seem to find the Collection containing the entity that I'm deleting.

Does anyone have any tips for resolving this particular Exception?

Thanks.",hibernate,jsf,java,jpa,,,open,0,116,5,"Tips for resolving Hibernate/JPA EntityNotFoundException I'm running into a problem with **Hibernate** where when trying to delete a group of Entities I encounter the following error:

`javax.persistence.EntityNotFoundException: deleted entity passed to persist: [com.locuslive.odyssey.entity.FreightInvoiceLine#<null>]`

These are not normally so difficult to track down as they are usually caused by an entity being deleted but not being removed from a Collection that it is a member of.

In this case I have removed the entity from every list that I can think of (it's a complex datamodel). I've put JBoss logging into Trace and I can see the collections that are being cascaded. However I can't seem to find the Collection containing the entity that I'm deleting.

Does anyone have any tips for resolving this particular Exception?

Thanks.",4
1090798,07/07/2009 07:15:37,11238,09/16/2008 06:29:45,965,17,Hibernate: Query entities which contain a specified element in a CollectionOfElements?,"Let's say I have this entity (for Hibernate):

    @Entity
    public class Person {
        @Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        Long id;
    
        @CollectionOfElements
        @IndexColumn(""phones_index"")
        Set<String> phones;
    }

For example, I want to get instances of Person where their phones contain ""555-1234"".
How can I do a query on this? I am looking for something similar to:

    session.createCriteria(Person.class)./*something*/.add(Restrictions./*something*/""555-1234"").list();
",hibernate,java,database,collections,,,open,0,110,11,"Hibernate: Query entities which contain a specified element in a CollectionOfElements? Let's say I have this entity (for Hibernate):

    @Entity
    public class Person {
        @Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        Long id;
    
        @CollectionOfElements
        @IndexColumn(""phones_index"")
        Set<String> phones;
    }

For example, I want to get instances of Person where their phones contain ""555-1234"".
How can I do a query on this? I am looking for something similar to:

    session.createCriteria(Person.class)./*something*/.add(Restrictions./*something*/""555-1234"").list();
",4
3239120,07/13/2010 16:16:57,145348,07/26/2009 17:47:01,16,3,Inheritance mapping with JPA/Hibernate,"

This is a fairly lengthy (not overly complex) design question so please bear with me. I'm trying to implement a person/role management system with POJOs and JPA. I'm fairly new to ORM and this is mostly a mapping problem.

I've got this working as POJOs and am comfortable with the caller-level API, but would now like to map it to a database using JPA or Hibernate in a Seam environment.

My implementation is based on the Decorator (GoF) and Person Role Object patterns (Baumer/Riehle et al). All roles are hard-coded and run-time addition of new roles is not supported since it would require code changes to extend behavior. I'd use user groups to implement security and permissions.

There is a Person interface with role management methods such as addRole(), removeRole(), hasRole(), getRole(), getRoles(), among other things. The concrete implementation is provided by a PersonImpl class.

There is an abstract class Role which also implements the Person interface (for decorator substitution equivalence), and a RoleImpl class that extends it. The Role class holds a reference to a person instance, using it to service any method / property calls on the person interface, meaning all subclasses of Role can handle the Person interface. The role constructor takes the person object as a parameter.

This diagram (via yUML)  might be helpful in understanding the design.

<img src=""http://yuml.me/diagram/scruffy;dir:lr;scale:80/class/%5BPerson;%3C%3Cinterface%3E%3E%5D%5E-.-%5BPersonImpl%5D,%20%5BPerson;%3C%3Cinterface%3E%3E%5D%5E-.-%5BRole;%3C%3Cabstract%3E%3E%5D,%20%5BRole;%3C%3Cabstract%3E%3E%5D%5E-%5BRoleImpl%5D,%20%5BPersonImpl%5D%3C%3E-%3E%5BRoleImpl%5D,%20%5BPersonImpl%5D%3C-%5BRoleImpl%5D,%20%5BRoleImpl%5D%5E-%5BEmployee%5D,%20%5BEmployee%5D%5E-%5BTeacher%5D,%20%5BEmployee%5D%5E-%5BPrincipal%5D,%20%5BEmployee%5D%5E-%5BAccountant%5D,%20%5BRoleImpl%5D%5E-%5BParent%5D,%20%5BRoleImpl%5D%5E-%5BStudent%5D"">

I'd use these classes like so:

    Person p = new Person(""Doe"", ""John"", Person.MALE, ...);
    // assuming Employee extends Role
    Employee e = (Employee)p.addRole(Employee.class);

Since the Role class also implements the Person interface, I can also do:

    // assuming Parent extends Role
    Parent parent = new Parent((PersonImpl)p);

    e.addRole(Parent.class);
    e.getDateOfBirth();  // handled by the decorated person class

    // assuming Manager extends Employee extends Role
    Manager m = (Manager)p.getRole(Manager);
    
    if (m.hasRole(Employee.class) { 
        // true since Manager derives from Employee
    }

The questions I have are:

(a) Is this implementation needlessly complex and if so what would be a simpler approach? Note that this goes into a non-trivial business application and not a kiddy project, and I think the role subclassing is important to leverage behavior in cases such as Employee, Manager, etc.

(b) How do I map this in JPA/Hibernate?

(c) Can it be mapped so I can also take advantage of Seam Identity Management? (My definition of Role is clearly not analogous to Seam's)

(d) If I go with a table-per-subclass (InheritanceTYPE.JOINED) mapping strategy, I map PersonImpl as PERSONS and RoleImpl as ROLES tables, and map each subclass of RoleImpl (such as Employee and Parent) to their own tables as EMPLOYEES and PARENTS.

I would then have a @ManyToMany relationship between PERSONS and ROLES (on the roles collection in PersonImpl), with the join-table PERSON_ROLES. 

Now the problem is that the EMPLOYEES and PARENTS tables, etc. have only the ROLE_ID reference, since the inheritance mapping strategy obviously considers them to be extensions to Roles (ROLES) whereas I need them as addendum to PERSON_ROLES, and require the USER_ID + ROLE_ID key to be resolved properly, or at least the USER_ID.

I would prefer a normalized database with the attendant reliance on extra joins than a denormalized database which will be difficult to maintain and likely bunch up a ton of unused and irrelevant fields, which is why I think table-per-subclass is the way to go.

Or is a table-per-class-hierarchy (InheritanceType.SINGLE_TABLE)  with a discriminator column OK (from database maintenance perspective) in this scenario? Note that some roles are likely to have dozens of properties/fields.

(e) Is there a better alternative to this design?

Would very much appreciate any ideas/suggestions.
",hibernate,orm,jpa,mapping,many-to-many,,open,0,618,4,"Inheritance mapping with JPA/Hibernate 

This is a fairly lengthy (not overly complex) design question so please bear with me. I'm trying to implement a person/role management system with POJOs and JPA. I'm fairly new to ORM and this is mostly a mapping problem.

I've got this working as POJOs and am comfortable with the caller-level API, but would now like to map it to a database using JPA or Hibernate in a Seam environment.

My implementation is based on the Decorator (GoF) and Person Role Object patterns (Baumer/Riehle et al). All roles are hard-coded and run-time addition of new roles is not supported since it would require code changes to extend behavior. I'd use user groups to implement security and permissions.

There is a Person interface with role management methods such as addRole(), removeRole(), hasRole(), getRole(), getRoles(), among other things. The concrete implementation is provided by a PersonImpl class.

There is an abstract class Role which also implements the Person interface (for decorator substitution equivalence), and a RoleImpl class that extends it. The Role class holds a reference to a person instance, using it to service any method / property calls on the person interface, meaning all subclasses of Role can handle the Person interface. The role constructor takes the person object as a parameter.

This diagram (via yUML)  might be helpful in understanding the design.

<img src=""http://yuml.me/diagram/scruffy;dir:lr;scale:80/class/%5BPerson;%3C%3Cinterface%3E%3E%5D%5E-.-%5BPersonImpl%5D,%20%5BPerson;%3C%3Cinterface%3E%3E%5D%5E-.-%5BRole;%3C%3Cabstract%3E%3E%5D,%20%5BRole;%3C%3Cabstract%3E%3E%5D%5E-%5BRoleImpl%5D,%20%5BPersonImpl%5D%3C%3E-%3E%5BRoleImpl%5D,%20%5BPersonImpl%5D%3C-%5BRoleImpl%5D,%20%5BRoleImpl%5D%5E-%5BEmployee%5D,%20%5BEmployee%5D%5E-%5BTeacher%5D,%20%5BEmployee%5D%5E-%5BPrincipal%5D,%20%5BEmployee%5D%5E-%5BAccountant%5D,%20%5BRoleImpl%5D%5E-%5BParent%5D,%20%5BRoleImpl%5D%5E-%5BStudent%5D"">

I'd use these classes like so:

    Person p = new Person(""Doe"", ""John"", Person.MALE, ...);
    // assuming Employee extends Role
    Employee e = (Employee)p.addRole(Employee.class);

Since the Role class also implements the Person interface, I can also do:

    // assuming Parent extends Role
    Parent parent = new Parent((PersonImpl)p);

    e.addRole(Parent.class);
    e.getDateOfBirth();  // handled by the decorated person class

    // assuming Manager extends Employee extends Role
    Manager m = (Manager)p.getRole(Manager);
    
    if (m.hasRole(Employee.class) { 
        // true since Manager derives from Employee
    }

The questions I have are:

(a) Is this implementation needlessly complex and if so what would be a simpler approach? Note that this goes into a non-trivial business application and not a kiddy project, and I think the role subclassing is important to leverage behavior in cases such as Employee, Manager, etc.

(b) How do I map this in JPA/Hibernate?

(c) Can it be mapped so I can also take advantage of Seam Identity Management? (My definition of Role is clearly not analogous to Seam's)

(d) If I go with a table-per-subclass (InheritanceTYPE.JOINED) mapping strategy, I map PersonImpl as PERSONS and RoleImpl as ROLES tables, and map each subclass of RoleImpl (such as Employee and Parent) to their own tables as EMPLOYEES and PARENTS.

I would then have a @ManyToMany relationship between PERSONS and ROLES (on the roles collection in PersonImpl), with the join-table PERSON_ROLES. 

Now the problem is that the EMPLOYEES and PARENTS tables, etc. have only the ROLE_ID reference, since the inheritance mapping strategy obviously considers them to be extensions to Roles (ROLES) whereas I need them as addendum to PERSON_ROLES, and require the USER_ID + ROLE_ID key to be resolved properly, or at least the USER_ID.

I would prefer a normalized database with the attendant reliance on extra joins than a denormalized database which will be difficult to maintain and likely bunch up a ton of unused and irrelevant fields, which is why I think table-per-subclass is the way to go.

Or is a table-per-class-hierarchy (InheritanceType.SINGLE_TABLE)  with a discriminator column OK (from database maintenance perspective) in this scenario? Note that some roles are likely to have dozens of properties/fields.

(e) Is there a better alternative to this design?

Would very much appreciate any ideas/suggestions.
",5
3660535,09/07/2010 16:22:18,441631,09/07/2010 16:22:17,1,0,how to write subquery in hibernate,"i have SQL query , i dont know how to write in hibernate

select lp.lnprdtname,la.lid,la.step from mfic.lnapp as la left join mfic.lnprdt as lp on lp.lnprdtid 
in (select lnprdtid from mfic.lnapp where lid in (select lid from mfic.lnbrwr where brwrid in (select brwrid from mfic.brwr where uid=1)))
where la.lid in (select lid from mfic.lnbrwr where brwrid in (select brwrid from mfic.brwr where uid=1));

thanks for advance",hibernate,,,,,,open,0,63,6,"how to write subquery in hibernate i have SQL query , i dont know how to write in hibernate

select lp.lnprdtname,la.lid,la.step from mfic.lnapp as la left join mfic.lnprdt as lp on lp.lnprdtid 
in (select lnprdtid from mfic.lnapp where lid in (select lid from mfic.lnbrwr where brwrid in (select brwrid from mfic.brwr where uid=1)))
where la.lid in (select lid from mfic.lnbrwr where brwrid in (select brwrid from mfic.brwr where uid=1));

thanks for advance",1
