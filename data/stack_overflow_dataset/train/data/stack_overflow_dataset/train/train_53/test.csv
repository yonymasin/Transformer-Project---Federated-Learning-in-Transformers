PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
2091550,01/19/2010 06:26:52,197484,10/27/2009 16:40:08,1,3,What's the right way to define an anchor tag in rails?,"It's obvious from the [documentation][1] (and google) how to generate a link with a segment e.g. `podcast/5#comments`.  You just pass a value for `:anchor` to `link_to`.

My concern is about the much simpler task of generating the `<a name=""comments"">Comments</a>` tag i.e. the destination of the first link.

I've tried the following, and although they seemed to work, the markup was not what I expected:

    link_to ""Comments"", :name => ""comments""
    link_to ""Comments"", :anchor => ""comments""

I think I'm missing something obvious.  Thanks.


  [1]: http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#M001597",ruby-on-rails,html,hyperlink,segment,anchor,,open,0,89,11,"What's the right way to define an anchor tag in rails? It's obvious from the [documentation][1] (and google) how to generate a link with a segment e.g. `podcast/5#comments`.  You just pass a value for `:anchor` to `link_to`.

My concern is about the much simpler task of generating the `<a name=""comments"">Comments</a>` tag i.e. the destination of the first link.

I've tried the following, and although they seemed to work, the markup was not what I expected:

    link_to ""Comments"", :name => ""comments""
    link_to ""Comments"", :anchor => ""comments""

I think I'm missing something obvious.  Thanks.


  [1]: http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#M001597",5
9260989,02/13/2012 13:03:10,176060,09/19/2009 22:36:57,1065,20,Rails 3.1 Asset Pipeline not precompiling files from a different directory,"I currently have a Rails 3.1 app that hosts multiple sites for several different customers.
Each site is represented by a model that knows the domain name and path to where the assets are stored, along with some other info.

I've been using `app/sites/domain-name` as a location for storing assets, views and locales that are specific to a given site, and are running a custom middleware and controller actions for modifying the load path for Sprockets, setting up the view paths and so on.

middleware (loaded using `config.middleware.use ""Configurator""` in `application.rb`):

    class Configurator
      def initialize(app)
        @app = app
      end

      def call(env)
        @env = env
        clear_existing_paths
        prepend_local_assets
        @app.call(env)
      end

      def current_site
        # find site using @env
      end

      def current_site_path
        Rails.root.join('app', 'sites', current_site.path)
      end

      def clear_existing_paths
        paths = Rails.application.assets.paths
        Rails.application.assets.clear_paths
        paths.each do |path|
          next if path.include?(""app/sites/"")
          Rails.application.assets.append_path path
        end
      end

      def prepend_local_assets
        path = current_site_path.join('assets')
        return unless Dir.exists?(path)

        ['images', 'javascripts', 'misc', 'stylesheets'].each do |subdir|
          asset_dir = path.join(subdir).to_s
          next unless Dir.exists?(asset_dir)
          next if     Rails.application.assets.paths.include? asset_dir

          Rails.application.assets.prepend_path asset_dir
        end
      end
    end

The problem is that while this setup works, it prevents me from precompiling the assets that is not shared with the entire app, making them be generated over and over again, from the looks of it.

Is there any way I could tell the precompiler to find the assets located here, and create a version of those as well? Each site has a `site.css.scss` and a `site.js.coffee` file that might require other assets inside the site-dir. Would be nice if I could get it precompiled to `public/assets/domain-name/site.(js|css)`, so I could easily set up a separate subdomain for assets down the line when I need to optimize further",ruby-on-rails,ruby-on-rails-3.1,asset-pipeline,,,,open,0,498,11,"Rails 3.1 Asset Pipeline not precompiling files from a different directory I currently have a Rails 3.1 app that hosts multiple sites for several different customers.
Each site is represented by a model that knows the domain name and path to where the assets are stored, along with some other info.

I've been using `app/sites/domain-name` as a location for storing assets, views and locales that are specific to a given site, and are running a custom middleware and controller actions for modifying the load path for Sprockets, setting up the view paths and so on.

middleware (loaded using `config.middleware.use ""Configurator""` in `application.rb`):

    class Configurator
      def initialize(app)
        @app = app
      end

      def call(env)
        @env = env
        clear_existing_paths
        prepend_local_assets
        @app.call(env)
      end

      def current_site
        # find site using @env
      end

      def current_site_path
        Rails.root.join('app', 'sites', current_site.path)
      end

      def clear_existing_paths
        paths = Rails.application.assets.paths
        Rails.application.assets.clear_paths
        paths.each do |path|
          next if path.include?(""app/sites/"")
          Rails.application.assets.append_path path
        end
      end

      def prepend_local_assets
        path = current_site_path.join('assets')
        return unless Dir.exists?(path)

        ['images', 'javascripts', 'misc', 'stylesheets'].each do |subdir|
          asset_dir = path.join(subdir).to_s
          next unless Dir.exists?(asset_dir)
          next if     Rails.application.assets.paths.include? asset_dir

          Rails.application.assets.prepend_path asset_dir
        end
      end
    end

The problem is that while this setup works, it prevents me from precompiling the assets that is not shared with the entire app, making them be generated over and over again, from the looks of it.

Is there any way I could tell the precompiler to find the assets located here, and create a version of those as well? Each site has a `site.css.scss` and a `site.js.coffee` file that might require other assets inside the site-dir. Would be nice if I could get it precompiled to `public/assets/domain-name/site.(js|css)`, so I could easily set up a separate subdomain for assets down the line when I need to optimize further",3
4613592,01/06/2011 09:47:17,166029,08/31/2009 14:00:35,101,9,good way of organizing git repository of multiple projects,"there is 1 main RoR project and 2 additional

additional projects share some parts of main project - models, plugins, etc

currently all projects are under same svn repository with svn externals for shared parts

what is best way of moving such layout to git?",ruby-on-rails,git,github,,,,open,0,42,9,"good way of organizing git repository of multiple projects there is 1 main RoR project and 2 additional

additional projects share some parts of main project - models, plugins, etc

currently all projects are under same svn repository with svn externals for shared parts

what is best way of moving such layout to git?",3
4790440,01/25/2011 05:52:31,557863,12/30/2010 03:37:31,1,0,how to run thor  in rails production env,"i want to run some thor task on rails 3 production.
but i do not know how to set up
the following code not worked

class CheckData < Thor

  require File.expand_path('config/environment.rb')

end

",ruby-on-rails,configuration,thor,,,,open,0,29,9,"how to run thor  in rails production env i want to run some thor task on rails 3 production.
but i do not know how to set up
the following code not worked

class CheckData < Thor

  require File.expand_path('config/environment.rb')

end

",3
11371101,07/06/2012 23:59:37,1109847,12/21/2011 12:33:12,345,20,Cannot disable a date_select,"I'm trying to disable a date_select in rails 3.1.3

Here is the line of code

    <%= f.date_select ""mydate"", :value=>d.data,:disbled=>true %>

I tried

    <%= f.date_select ""mydate"", {:value=>d.data,:disbled=>true} %>

too.

But no luck.

Someone know where is the problem.

Thank you ppl.",ruby-on-rails,ruby,ruby-on-rails-3.1,,,07/07/2012 03:11:08,too localized,1,40,4,"Cannot disable a date_select I'm trying to disable a date_select in rails 3.1.3

Here is the line of code

    <%= f.date_select ""mydate"", :value=>d.data,:disbled=>true %>

I tried

    <%= f.date_select ""mydate"", {:value=>d.data,:disbled=>true} %>

too.

But no luck.

Someone know where is the problem.

Thank you ppl.",3
5254318,03/10/2011 01:06:40,166327,09/01/2009 01:10:26,60,5,rails 2 to rails 3,how to upgrade a rails 2 plugin to rails 3?,ruby-on-rails,ruby,plugins,rubygems,ruby-on-rails-gems,02/01/2012 20:08:30,not a real question,1,10,5,rails 2 to rails 3 how to upgrade a rails 2 plugin to rails 3?,5
7434764,09/15/2011 17:07:42,195351,10/23/2009 14:27:13,99,5,Rails routes issue with controller testing,"I'm at a loss as to what I'm doing wrong here.  Anyone have any insight?  


Here's my routes.rb

    resources :accounts do
        collection do
            get ""search/:term/:offset/:limit.:format"", :action => ""search"", :constraints => { :offset => /\d+/, :limit => /\d+/ }
        end
    end


Here's my rake routes output...

    GET    /accounts/search/:term/:offset/:limit.:format    {:offset=>/\d+/, :action=>""search"", :controller=>""accounts"", :limit=>/\d+/}
                               

Here's my test line...

    get :search, :term => ""Test"", :offset => 0, :limit => 2


Here's my error...

    ActionController::RoutingError: No route matches {:term=>""Test"", :action=>""search"", :controller=>""accounts"", :offset=>0, :limit=>2}


Any ideas?

Thanks in advance!
",ruby-on-rails,ruby-on-rails-3,unit-testing,routes,,,open,0,157,6,"Rails routes issue with controller testing I'm at a loss as to what I'm doing wrong here.  Anyone have any insight?  


Here's my routes.rb

    resources :accounts do
        collection do
            get ""search/:term/:offset/:limit.:format"", :action => ""search"", :constraints => { :offset => /\d+/, :limit => /\d+/ }
        end
    end


Here's my rake routes output...

    GET    /accounts/search/:term/:offset/:limit.:format    {:offset=>/\d+/, :action=>""search"", :controller=>""accounts"", :limit=>/\d+/}
                               

Here's my test line...

    get :search, :term => ""Test"", :offset => 0, :limit => 2


Here's my error...

    ActionController::RoutingError: No route matches {:term=>""Test"", :action=>""search"", :controller=>""accounts"", :offset=>0, :limit=>2}


Any ideas?

Thanks in advance!
",4
8772691,01/07/2012 20:08:48,435817,08/31/2010 10:30:08,72,2,rails 3: fields_for ordering after validation has failed,"In my controllers create method I am creating a parent & child(ren) objects using accepts_nested_attributes.  That all works fine.

The children have an ordering attribute which is correctly set.  

However, when the validation fails (for a missing attribute say) the ordering of the child objects is *not* preserved when the fields_for method runs.

I have tried using parent.children.reorder(""ordering ASC"") but that doesn't work... 

I'm happy to post any code should it make things clearer!

    def create
      @parent = Parent.new(params[:parent])

      respond_to do |format|
        if @parent.save
          format.html 
        else
          @parent.children.reorder(""ordering ASC"")  #this makes no difference
          format.html { render :action => ""new"" }
        end
      end
    end
  
-----
and in the form partial

    <%= f.fields_for :children do |ff| %>
      <%= render ""child_fields"", :ff => ff %>
    <% end %>

Any pointers would be great..",ruby-on-rails,nested-attributes,fields-for,,,,open,0,210,8,"rails 3: fields_for ordering after validation has failed In my controllers create method I am creating a parent & child(ren) objects using accepts_nested_attributes.  That all works fine.

The children have an ordering attribute which is correctly set.  

However, when the validation fails (for a missing attribute say) the ordering of the child objects is *not* preserved when the fields_for method runs.

I have tried using parent.children.reorder(""ordering ASC"") but that doesn't work... 

I'm happy to post any code should it make things clearer!

    def create
      @parent = Parent.new(params[:parent])

      respond_to do |format|
        if @parent.save
          format.html 
        else
          @parent.children.reorder(""ordering ASC"")  #this makes no difference
          format.html { render :action => ""new"" }
        end
      end
    end
  
-----
and in the form partial

    <%= f.fields_for :children do |ff| %>
      <%= render ""child_fields"", :ff => ff %>
    <% end %>

Any pointers would be great..",3
11435172,07/11/2012 14:41:46,223367,12/02/2009 23:52:01,4634,24,Why is the whitespace still there in my ruby,"Ok so i have a user model in my rails application with a name method


    def name
      ""#{self.first_name} #{self.last_name}""
    end

The problem is that the first name might be like this 

    ""Joshua               ""

so 

    1.9.3-p125 :057 > u.name
     => ""Joshua               Jones"" 

So i tried all the following 

    ""#{self.first_name} #{self.last_name}"".squish
    ""#{self.first_name} #{self.last_name}"".gsub(/\s+/, "" "").strip
    ""#{self.first_name} #{self.last_name}"".strip
    ""#{self.first_name.strip} #{self.last_name.strip}""

and still get this

    1.9.3-p125 :057 > u.name
     => ""Joshua               Jones"" 

Am i missing something on this 


",ruby-on-rails,ruby,ruby-on-rails-3,string,,07/11/2012 15:06:27,too localized,1,157,9,"Why is the whitespace still there in my ruby Ok so i have a user model in my rails application with a name method


    def name
      ""#{self.first_name} #{self.last_name}""
    end

The problem is that the first name might be like this 

    ""Joshua               ""

so 

    1.9.3-p125 :057 > u.name
     => ""Joshua               Jones"" 

So i tried all the following 

    ""#{self.first_name} #{self.last_name}"".squish
    ""#{self.first_name} #{self.last_name}"".gsub(/\s+/, "" "").strip
    ""#{self.first_name} #{self.last_name}"".strip
    ""#{self.first_name.strip} #{self.last_name.strip}""

and still get this

    1.9.3-p125 :057 > u.name
     => ""Joshua               Jones"" 

Am i missing something on this 


",4
5929181,05/08/2011 17:56:23,149080,08/01/2009 21:00:20,2627,29,"Given an input with a period . , how to get everything trailing?","Given inputs like the following


    bob - invalid
    bob. - invalid
    bob.edu - valid
    bob.com - valid
    bob.newco.com - valid

In ruby, I'd like a way to first determine if there is a period, if there is I want everything after the last period?

I tried doing 
 
              domain_ext = search_input.split('.').last


Problem is, if the input is roger. that is returning 5, thinking roger is the ext. I don't know how to tell ruby only after the last period? Ideas?",ruby-on-rails,ruby,regex,ruby-on-rails-3,match,,open,0,106,13,"Given an input with a period . , how to get everything trailing? Given inputs like the following


    bob - invalid
    bob. - invalid
    bob.edu - valid
    bob.com - valid
    bob.newco.com - valid

In ruby, I'd like a way to first determine if there is a period, if there is I want everything after the last period?

I tried doing 
 
              domain_ext = search_input.split('.').last


Problem is, if the input is roger. that is returning 5, thinking roger is the ext. I don't know how to tell ruby only after the last period? Ideas?",5
10869616,06/03/2012 10:38:44,1420585,05/27/2012 20:35:38,1,0,"Rails, redirect parameters","I have to restore rails applications using only log files. It is last version of [Redmine][1]. All HTTP parameters (GET, POST, PUT) I have captured in log file and want to know how to redirect them directly to ruby application using console. (I'm not experienced in ruby/rails applications).

Logs have such structure:

    Processing IssuesController#create (for 192.168.0.69 at 2012-05-24 16:58:49) [POST]
      Parameters: {""commit""=>""Create"", ""project_id""=>""PROJ1"", ""action""=>""create"", ""authenticity_token""=>""TOKEN"", ""issue""=>{""start_date""=>""2012-05-24"", ""custom_field_values""=>{""18""=>""""}, ""estimated_hours""=>"""", ""parent_issue_id""=>""15666"", ""priority_id""=>""6"", ""is_private""=>""0"", ""fixed_version_id""=>"""", ""done_ratio""=>""0"", ""assigned_to_id""=>""80"", ""subject""=>""TITLE"", ""category_id""=>"""", ""tracker_id""=>""4"", ""due_date""=>"""", ""status_id""=>""1"", ""description""=>""DESCRIPTION""}, ""controller""=>""issues"", ""attachments""=>{""1""=>{""description""=>""""}}}
    Sending email notification to: me@example.com
    Redirected to http://redmine.example.com/issues/15668
    Completed in 1555ms (DB: 16) | 302 Found [http://redmine.example.com/projects/PROJ1]

Sometines there is other format like xml of json

    Processing IssuesController#create to xml (for 192.168.0.69 at 2012-05-25 11:29:56) [POST]
      Parameters: {""format""=>""xml"", ""action""=>""create"", ""issue""=>{""project_id""=>""41"", ""assigned_to_id""=>nil, ""subject""=>""SUBJECT"", ""description""=>""DESC""}, ""controller""=>""issues""}
    Sending email notification to:
    Rendering issues/show (created)
    Completed in 107ms (View: 7, DB: 35) | 201 Created [http://redmine.example.com/issues.xml]

    Processing IssuesController#update to json (for 192.168.0.69 at 2012-05-24 14:30:49) [PUT]
      Parameters: {""format""=>""json"", ""action""=>""update"", ""id""=>""15659"", ""issue""=>{""start_date""=>""2012/05/24"", ""created_on""=>""2012/05/24 14:24:20 +0200"", ""author""=>{""name""=>""Chuck Norris"", ""id""=>69}, ""fixed_version""=>{""name""=>""test"", ""id""=>207}, ""priority""=>{""name""=>""Normal"", ""id""=>4}, ""id""=>15659, ""subject""=>""234234234234234234234234234234234"", ""updated_on""=>""2012/05/24 14:24:20 +0200"", ""project""=>{""name""=>""testproject"", ""id""=>61}, ""done_ratio""=>0, ""tracker""=>{""name""=>""Bug-L3"", ""id""=>1}, ""custom_fields""=>[{""name""=>""Reproducibility"", ""id""=>13, ""value""=>""""}, {""name""=>""Resolution"", ""id""=>15, ""value""=>""""}, {""name""=>""Severity"", ""id""=>16, ""value""=>""""}, {""name""=>""Fixed in version"", ""id""=>17}, {""name""=>""Trunk no."", ""id""=>18, ""value""=>""""}, {""name""=>""Browser"", ""id""=>20, ""value""=>""""}, {""name""=>""Browser  Version"", ""id""=>21, ""value""=>""""}], ""description""=>"""", ""status""=>{""name""=>""Ready To Test"", ""id""=>18}}, ""controller""=>""issues""}
    Completed in 99ms (View: 0, DB: 11) | 200 OK [http://redmine.example.com/issues/15659.json]

Could I pass this params directly to controller? (ex. ./app/controllers/issues_controller.rb)

  [1]: http://www.redmine.org/",ruby-on-rails,ruby,xml,json,redmine,06/04/2012 14:03:44,not a real question,1,276,3,"Rails, redirect parameters I have to restore rails applications using only log files. It is last version of [Redmine][1]. All HTTP parameters (GET, POST, PUT) I have captured in log file and want to know how to redirect them directly to ruby application using console. (I'm not experienced in ruby/rails applications).

Logs have such structure:

    Processing IssuesController#create (for 192.168.0.69 at 2012-05-24 16:58:49) [POST]
      Parameters: {""commit""=>""Create"", ""project_id""=>""PROJ1"", ""action""=>""create"", ""authenticity_token""=>""TOKEN"", ""issue""=>{""start_date""=>""2012-05-24"", ""custom_field_values""=>{""18""=>""""}, ""estimated_hours""=>"""", ""parent_issue_id""=>""15666"", ""priority_id""=>""6"", ""is_private""=>""0"", ""fixed_version_id""=>"""", ""done_ratio""=>""0"", ""assigned_to_id""=>""80"", ""subject""=>""TITLE"", ""category_id""=>"""", ""tracker_id""=>""4"", ""due_date""=>"""", ""status_id""=>""1"", ""description""=>""DESCRIPTION""}, ""controller""=>""issues"", ""attachments""=>{""1""=>{""description""=>""""}}}
    Sending email notification to: me@example.com
    Redirected to http://redmine.example.com/issues/15668
    Completed in 1555ms (DB: 16) | 302 Found [http://redmine.example.com/projects/PROJ1]

Sometines there is other format like xml of json

    Processing IssuesController#create to xml (for 192.168.0.69 at 2012-05-25 11:29:56) [POST]
      Parameters: {""format""=>""xml"", ""action""=>""create"", ""issue""=>{""project_id""=>""41"", ""assigned_to_id""=>nil, ""subject""=>""SUBJECT"", ""description""=>""DESC""}, ""controller""=>""issues""}
    Sending email notification to:
    Rendering issues/show (created)
    Completed in 107ms (View: 7, DB: 35) | 201 Created [http://redmine.example.com/issues.xml]

    Processing IssuesController#update to json (for 192.168.0.69 at 2012-05-24 14:30:49) [PUT]
      Parameters: {""format""=>""json"", ""action""=>""update"", ""id""=>""15659"", ""issue""=>{""start_date""=>""2012/05/24"", ""created_on""=>""2012/05/24 14:24:20 +0200"", ""author""=>{""name""=>""Chuck Norris"", ""id""=>69}, ""fixed_version""=>{""name""=>""test"", ""id""=>207}, ""priority""=>{""name""=>""Normal"", ""id""=>4}, ""id""=>15659, ""subject""=>""234234234234234234234234234234234"", ""updated_on""=>""2012/05/24 14:24:20 +0200"", ""project""=>{""name""=>""testproject"", ""id""=>61}, ""done_ratio""=>0, ""tracker""=>{""name""=>""Bug-L3"", ""id""=>1}, ""custom_fields""=>[{""name""=>""Reproducibility"", ""id""=>13, ""value""=>""""}, {""name""=>""Resolution"", ""id""=>15, ""value""=>""""}, {""name""=>""Severity"", ""id""=>16, ""value""=>""""}, {""name""=>""Fixed in version"", ""id""=>17}, {""name""=>""Trunk no."", ""id""=>18, ""value""=>""""}, {""name""=>""Browser"", ""id""=>20, ""value""=>""""}, {""name""=>""Browser  Version"", ""id""=>21, ""value""=>""""}], ""description""=>"""", ""status""=>{""name""=>""Ready To Test"", ""id""=>18}}, ""controller""=>""issues""}
    Completed in 99ms (View: 0, DB: 11) | 200 OK [http://redmine.example.com/issues/15659.json]

Could I pass this params directly to controller? (ex. ./app/controllers/issues_controller.rb)

  [1]: http://www.redmine.org/",5
5488617,03/30/2011 15:39:33,457478,09/24/2010 15:42:54,1,3,How hard is it to switch from CakePHP to Ruby on Rails?,"The past 2 years, we have been building [a web application][1] using CakePHP. So far we have quite enjoy CakePHP and think it is great. We evaluated Ruby on Rails before starting but decided on CakePHP because our team was more experienced with PHP / MySQL and it appeared more difficult/expensive to hire RoR developers.

Lately, we have been thinking about RoR because:

 1. Many new highly successful web applications
    are built on RoR and most look _beautiful_ and _simple_ to use.
 2. The user base, documentation,
    ability to find answers for RoR
    appears to be larger than CakePHP.
 3. PHP comes in so many flavors that
    often developers we approach say
    they know CakePHP, but really they
    program PHP and don't stick to CakePHP
    conventions.
 4. Ruby on Rails is created
    by a successful profit making
    business that relies on the codebase.
    Thus, giving us the assumption that
    RoR will improve faster than
    CakePHP. 
 5. Package management lets us
        believe that plugins are easier to
        install on RoR than CakePHP.

With this in mind. Our questions are: 

 1. How hard is it for a seasoned
    CakePHP programmer to switch from
    CakePHP to RoR?
 2. How big a task would it be to
    rewrite a moderately sized CakePHP (conventions strictly followed)
    web application in RoR


  [1]: http://kumutu.com",ruby-on-rails,cakephp,,,,03/31/2011 04:45:01,not a real question,1,280,12,"How hard is it to switch from CakePHP to Ruby on Rails? The past 2 years, we have been building [a web application][1] using CakePHP. So far we have quite enjoy CakePHP and think it is great. We evaluated Ruby on Rails before starting but decided on CakePHP because our team was more experienced with PHP / MySQL and it appeared more difficult/expensive to hire RoR developers.

Lately, we have been thinking about RoR because:

 1. Many new highly successful web applications
    are built on RoR and most look _beautiful_ and _simple_ to use.
 2. The user base, documentation,
    ability to find answers for RoR
    appears to be larger than CakePHP.
 3. PHP comes in so many flavors that
    often developers we approach say
    they know CakePHP, but really they
    program PHP and don't stick to CakePHP
    conventions.
 4. Ruby on Rails is created
    by a successful profit making
    business that relies on the codebase.
    Thus, giving us the assumption that
    RoR will improve faster than
    CakePHP. 
 5. Package management lets us
        believe that plugins are easier to
        install on RoR than CakePHP.

With this in mind. Our questions are: 

 1. How hard is it for a seasoned
    CakePHP programmer to switch from
    CakePHP to RoR?
 2. How big a task would it be to
    rewrite a moderately sized CakePHP (conventions strictly followed)
    web application in RoR


  [1]: http://kumutu.com",2
5228347,03/08/2011 04:27:59,81415,03/23/2009 13:14:20,113,6,Using mobile-fu with rails,"I am just starting out with RoR, and I'm having some problems. I'm using the Mobile-Fu plugin to load my application.mobile.haml file. The index page loads fine, but whenever I select another page, it loads the non-mobile haml file. 

    class EventsController < ApplicationController
      respond_to :html, :mobile
      
      before_filter :get_event, :except => [:index]
      before_filter :is_mobile
    
      def index
        @events = Event.all
        respond_with(@events)
      end
    
      def show
        respond_with(@event)
      end
    
      private
      def is_mobile
        @mobile = is_mobile_device?
      end
    
      def get_event
        @event = params[:id].present? ? Event.find(params[:id]) : Event.new
      end
    end",ruby-on-rails,mobile,,,,,open,0,206,4,"Using mobile-fu with rails I am just starting out with RoR, and I'm having some problems. I'm using the Mobile-Fu plugin to load my application.mobile.haml file. The index page loads fine, but whenever I select another page, it loads the non-mobile haml file. 

    class EventsController < ApplicationController
      respond_to :html, :mobile
      
      before_filter :get_event, :except => [:index]
      before_filter :is_mobile
    
      def index
        @events = Event.all
        respond_with(@events)
      end
    
      def show
        respond_with(@event)
      end
    
      private
      def is_mobile
        @mobile = is_mobile_device?
      end
    
      def get_event
        @event = params[:id].present? ? Event.find(params[:id]) : Event.new
      end
    end",2
11638096,07/24/2012 19:37:34,1431800,06/02/2012 00:18:17,13,3,env: ruby: No such file or directory Textmate Shell Variables,"This is really not a question but a answer. I ran into this problem some time ago and never really looked into. After spending few min looking for some ones solution online I made a small list of people that have helpful setup tools if you are running into any problems using Textmate and Ruby on Rails or just Ruby. 

The error is simple when you run the command-R the system returns a error that looks something like this.

    env: ruby: No such file or directory

![Error Message][1]


As you can see from the image just a basic puts will not work. If you take a look at my preferences you will see that there is a bit of a problem. 

![Advanced Shell Commands][2]

If I were to start my Textmate threw command line the $PATH variable would not mater. However because I just click the TextMate Application file it does not have the shell information. 

So in order to fix every thing you must make sure your TM_RUBY variable and the PATH variable is filled out. 

My Varables look like this

**My PATH VALUE**
 
       /Users/newdark/.rvm/gems/ruby-1.9.2-p320/bin:/Users/newdark/.rvm/gems/ruby-1.9.2-p320@global/bin:/Users/newdark/.rvm/rubies/ruby-1.9.2-p320/bin:/Users/newdark/.rvm/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/usr/local/git/bin

**My TM_RUBY VALUE**

    /Users/newdark/.rvm/bin/rvm-auto-ruby

However this information is different for each person in order to figure out this information for you just run these two commands and past the information into the Value Field

**PATH VALUE**

    echo $PATH

**TM_RUBY VALUE**

    which ruby

  [1]: http://i.stack.imgur.com/RaDPu.png
  [2]: http://i.stack.imgur.com/50Lqq.png",ruby-on-rails,ruby,textmate,,,07/24/2012 20:12:21,not a real question,1,245,10,"env: ruby: No such file or directory Textmate Shell Variables This is really not a question but a answer. I ran into this problem some time ago and never really looked into. After spending few min looking for some ones solution online I made a small list of people that have helpful setup tools if you are running into any problems using Textmate and Ruby on Rails or just Ruby. 

The error is simple when you run the command-R the system returns a error that looks something like this.

    env: ruby: No such file or directory

![Error Message][1]


As you can see from the image just a basic puts will not work. If you take a look at my preferences you will see that there is a bit of a problem. 

![Advanced Shell Commands][2]

If I were to start my Textmate threw command line the $PATH variable would not mater. However because I just click the TextMate Application file it does not have the shell information. 

So in order to fix every thing you must make sure your TM_RUBY variable and the PATH variable is filled out. 

My Varables look like this

**My PATH VALUE**
 
       /Users/newdark/.rvm/gems/ruby-1.9.2-p320/bin:/Users/newdark/.rvm/gems/ruby-1.9.2-p320@global/bin:/Users/newdark/.rvm/rubies/ruby-1.9.2-p320/bin:/Users/newdark/.rvm/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/usr/local/git/bin

**My TM_RUBY VALUE**

    /Users/newdark/.rvm/bin/rvm-auto-ruby

However this information is different for each person in order to figure out this information for you just run these two commands and past the information into the Value Field

**PATH VALUE**

    echo $PATH

**TM_RUBY VALUE**

    which ruby

  [1]: http://i.stack.imgur.com/RaDPu.png
  [2]: http://i.stack.imgur.com/50Lqq.png",3
9633947,03/09/2012 12:18:41,1259229,03/09/2012 11:55:17,1,0,MongoDB : Search on multiple keys on embeds documents,"I've a Translation document embeds many Translation Locales documents :

    class Translation
      include Mongoid::Document

      field :key, :type => String
      embeds_many :locales, :class_name => 'TranslationLocale'
    end

    class TranslationLocale
      include Mongoid::Document

      embedded_in :translation
      
      field :code,  :type => String
      field :state, :type => Boolean, :default => false
      field :text,  :type => String
    end

I want to be able to find all Translation documents including a particular locale in a given state.

    Translation.where('locales.code' => 'en', 'locales.state' => false).all

The problem is that query will look for Translation documents embedding a locale with code=en and a locale with state=false but not necessarily on the same sub document. 

Any help is appreciated, thank you!",ruby-on-rails,mongodb,mongoid,,,,open,0,169,9,"MongoDB : Search on multiple keys on embeds documents I've a Translation document embeds many Translation Locales documents :

    class Translation
      include Mongoid::Document

      field :key, :type => String
      embeds_many :locales, :class_name => 'TranslationLocale'
    end

    class TranslationLocale
      include Mongoid::Document

      embedded_in :translation
      
      field :code,  :type => String
      field :state, :type => Boolean, :default => false
      field :text,  :type => String
    end

I want to be able to find all Translation documents including a particular locale in a given state.

    Translation.where('locales.code' => 'en', 'locales.state' => false).all

The problem is that query will look for Translation documents embedding a locale with code=en and a locale with state=false but not necessarily on the same sub document. 

Any help is appreciated, thank you!",3
2929385,05/28/2010 13:33:02,69349,02/21/2009 16:33:27,327,15,Rails Page Caching with a hits/views counter. How?,"I want to use rails page caching to speed up a application which encounters heavy load. But I also need to count the hits/views on the objects presented. So I have the model ""Article"" with a unique hit counter method (by IP) which is called every time the user hits the show action. That doesn't work with caching, so I'm wondering about the right way to solve this problem. There is no need for the counter to show real-time results.

**Thoughts so far:**

- Use Cron and a Rake task to analyze the log/production.log file
- Write to a custom log (how? using nginx)

**Thanks for any input, ideas or best practice examples!**",ruby-on-rails,caching,page-caching,,,,open,0,109,8,"Rails Page Caching with a hits/views counter. How? I want to use rails page caching to speed up a application which encounters heavy load. But I also need to count the hits/views on the objects presented. So I have the model ""Article"" with a unique hit counter method (by IP) which is called every time the user hits the show action. That doesn't work with caching, so I'm wondering about the right way to solve this problem. There is no need for the counter to show real-time results.

**Thoughts so far:**

- Use Cron and a Rake task to analyze the log/production.log file
- Write to a custom log (how? using nginx)

**Thanks for any input, ideas or best practice examples!**",3
10458079,05/05/2012 01:39:14,1279844,03/05/2011 05:09:52,79,6,Facebook w/ Koala: easiest way to search users by name?,"Using Koala, is there a way to search for Facebook users by name, without supplying a user access token? Please provide an example.

My app is registered, but the search doesn't work when I supply the app token (only works with user access token).",ruby-on-rails,facebook-graph-api,koala,,,,open,0,43,10,"Facebook w/ Koala: easiest way to search users by name? Using Koala, is there a way to search for Facebook users by name, without supplying a user access token? Please provide an example.

My app is registered, but the search doesn't work when I supply the app token (only works with user access token).",3
7800222,10/17/2011 22:13:22,962274,09/24/2011 04:39:32,24,0,Handling different user types in Rails,"I'm designing an application that has two [three including administrators] user types: Buyers and Sellers. When a user signs up, it's assumed that they're signing up to simply purchase something [a Buyer account]. However, if they wish to become a Seller, there should be an option for them to post their items for sale, [become a Seller]. This becomes important, as users can switch back and forth between account types.

Of course, a Seller can buy items as well.

## The problem
The problem I'm facing is that Sellers have `profile` pages where buyers can go to view their items for sale, whereas Buyers do not. However, both user types have a `My Account` page that they can use to update their information.

## Possible design choices
### Single table inheritence

    class User < ActiveRecord::Base
      has_one :profile
    end
    
    class Seller < User
      has_many :sale_items
    end
    
    class Buyer < User
      # nothing here.. I guess this is the ""default"" user type
    end

I thought about this approach because then I could clearly separate the user types. For example, the show page for each user is clearly separated. However, this could lead to repeated code in each controller, and introduce a problem when switching between user types.

----------

### Just use declarative_authorization or CanCan to add functionality to the base user type

    class User < ActiveRecord::Base
      has_one :profile
      has_many :sale_items  # only for Sellers
                            # if the user is a seller, allow them to add sale_items
    end

I thought of this approach because a Seller is basically a Buyer with additional functionality, such as posting items for sale. This could lead to a lot of view logic, though. For example `if @user.role == ""seller"" render _some_seller_partial`. I also don't like the idea of checking for a hard coded string in the view. Well, I guess I could do `if @user.seller?`

### Other design choices?
I'm really interested in hearing how other people would model this application. I've been thinking about this for a couple days now.",ruby-on-rails,,,,,,open,0,408,6,"Handling different user types in Rails I'm designing an application that has two [three including administrators] user types: Buyers and Sellers. When a user signs up, it's assumed that they're signing up to simply purchase something [a Buyer account]. However, if they wish to become a Seller, there should be an option for them to post their items for sale, [become a Seller]. This becomes important, as users can switch back and forth between account types.

Of course, a Seller can buy items as well.

## The problem
The problem I'm facing is that Sellers have `profile` pages where buyers can go to view their items for sale, whereas Buyers do not. However, both user types have a `My Account` page that they can use to update their information.

## Possible design choices
### Single table inheritence

    class User < ActiveRecord::Base
      has_one :profile
    end
    
    class Seller < User
      has_many :sale_items
    end
    
    class Buyer < User
      # nothing here.. I guess this is the ""default"" user type
    end

I thought about this approach because then I could clearly separate the user types. For example, the show page for each user is clearly separated. However, this could lead to repeated code in each controller, and introduce a problem when switching between user types.

----------

### Just use declarative_authorization or CanCan to add functionality to the base user type

    class User < ActiveRecord::Base
      has_one :profile
      has_many :sale_items  # only for Sellers
                            # if the user is a seller, allow them to add sale_items
    end

I thought of this approach because a Seller is basically a Buyer with additional functionality, such as posting items for sale. This could lead to a lot of view logic, though. For example `if @user.role == ""seller"" render _some_seller_partial`. I also don't like the idea of checking for a hard coded string in the view. Well, I guess I could do `if @user.seller?`

### Other design choices?
I'm really interested in hearing how other people would model this application. I've been thinking about this for a couple days now.",1
8120856,11/14/2011 11:25:50,580403,01/18/2011 18:53:53,6,0,Load/unload plugin on every request on rails 3 based on request for a multitenant app,"My rails structure simplified:
> - app
	- controllers (a empty folder)
	- models (a empty folder)
	- views (a empty folder)
- config
	- application.rb
	- routes.rb
- vendor
	- plugins
		- default_app (always loaded)
			- app
				- controllers
					- x_controller.rb
				- models
				- views
					- x
						- index.html.erb (Hello world x!)
		- plugin_a (should by loaded dynamically on request)
			- app
				- controllers
					- y_controller.rb
				- models
				- views
					- y
						- index.html.erb (Hello world y!)
		- plugin_b (should by loaded dynamically on request)
			- app
				- controllers
					- z_controller.rb
				- models
				- views
					- z
						- index.html.erb (Hello world z!)
						
in config/routes.rb:
 
    match ':controller(/:action(/:id(.:format)))'

in config/application.rb:
 
    module MyApp
	class Application < Rails::Application
		config.reload_plugins = true
		config.plugins = [:common_app]
	end
    end
    ActionDispatch::Callbacks.before do
      MyApp::Application.config.plugins = [:common_app, :x]
    end

When i browse localhost:3000/x I see:<br/>
Hello world x!<br/>
OK! Rails loaded the plugin ""default_app"".<br/>
<br/>
When i browse localhost:3000/y I see:<br/>
Routing Error<br/>
Fail! Rails dont' loaded the plugin ""plugin_a"" during the request.<br/>
<br/>
When i browse localhost:3000/z I see:<br/>
Routing Error<br/>
OK! Rails don't loaded the plugin ""plugin_b"", because i d'ont included him in application config.<br/>
<br/>
how do I get this behavior or similar behavior?<br/>
Ex.:
> - localhost:3000/load_plugin/plugin_a/x -> should work, because is the ""default_app"" plugin.
 - localhost:3000/load_plugin/plugin_a/y -> should work, because he must load the ""plugin_a"" plugin.
 - localhost:3000/load_plugin/plugin_a/z -> should not work, because he d'ont must to load the ""plugin_b"" plugin.

> - localhost:3000/load_plugin/plugin_b/x -> should work, because is the ""default_app"" plugin.
 - localhost:3000/load_plugin/plugin_b/y -> should not work, because he d'ont must to load the ""plugin_a"" plugin.
 - localhost:3000/load_plugin/plugin_b/z -> should work, because he must load the ""plugin_b"" plugin.
	 
In other words: How i load the ""plugin_a"" and ""plugin_b"" in every request based on a route dynamically, being the plugin ""default_app"" always loaded?<br/>
Obs.: must work even on production!<br/>
and must to be dynamic because i will have a thousand of plugins (each one will be a site)
<br/>
<br/>
Sorry for the bad english =]<br/>",ruby-on-rails,plugins,routes,multitenancy,,,open,0,294,15,"Load/unload plugin on every request on rails 3 based on request for a multitenant app My rails structure simplified:
> - app
	- controllers (a empty folder)
	- models (a empty folder)
	- views (a empty folder)
- config
	- application.rb
	- routes.rb
- vendor
	- plugins
		- default_app (always loaded)
			- app
				- controllers
					- x_controller.rb
				- models
				- views
					- x
						- index.html.erb (Hello world x!)
		- plugin_a (should by loaded dynamically on request)
			- app
				- controllers
					- y_controller.rb
				- models
				- views
					- y
						- index.html.erb (Hello world y!)
		- plugin_b (should by loaded dynamically on request)
			- app
				- controllers
					- z_controller.rb
				- models
				- views
					- z
						- index.html.erb (Hello world z!)
						
in config/routes.rb:
 
    match ':controller(/:action(/:id(.:format)))'

in config/application.rb:
 
    module MyApp
	class Application < Rails::Application
		config.reload_plugins = true
		config.plugins = [:common_app]
	end
    end
    ActionDispatch::Callbacks.before do
      MyApp::Application.config.plugins = [:common_app, :x]
    end

When i browse localhost:3000/x I see:<br/>
Hello world x!<br/>
OK! Rails loaded the plugin ""default_app"".<br/>
<br/>
When i browse localhost:3000/y I see:<br/>
Routing Error<br/>
Fail! Rails dont' loaded the plugin ""plugin_a"" during the request.<br/>
<br/>
When i browse localhost:3000/z I see:<br/>
Routing Error<br/>
OK! Rails don't loaded the plugin ""plugin_b"", because i d'ont included him in application config.<br/>
<br/>
how do I get this behavior or similar behavior?<br/>
Ex.:
> - localhost:3000/load_plugin/plugin_a/x -> should work, because is the ""default_app"" plugin.
 - localhost:3000/load_plugin/plugin_a/y -> should work, because he must load the ""plugin_a"" plugin.
 - localhost:3000/load_plugin/plugin_a/z -> should not work, because he d'ont must to load the ""plugin_b"" plugin.

> - localhost:3000/load_plugin/plugin_b/x -> should work, because is the ""default_app"" plugin.
 - localhost:3000/load_plugin/plugin_b/y -> should not work, because he d'ont must to load the ""plugin_a"" plugin.
 - localhost:3000/load_plugin/plugin_b/z -> should work, because he must load the ""plugin_b"" plugin.
	 
In other words: How i load the ""plugin_a"" and ""plugin_b"" in every request based on a route dynamically, being the plugin ""default_app"" always loaded?<br/>
Obs.: must work even on production!<br/>
and must to be dynamic because i will have a thousand of plugins (each one will be a site)
<br/>
<br/>
Sorry for the bad english =]<br/>",4
11254341,06/28/2012 23:35:09,1196150,02/08/2012 02:20:44,456,0,Invalid record when declaring two Factories in before (:each) in Rspec,"I have the following rspec:

    require 'spec_helper'
    
    describe KnowledgesController do
    
      before (:each) do
        @knowledge = FactoryGirl.create(:knowledge)
        @professor = FactoryGirl.create(:professor)
        sign_in @professor
      end
    
      describe ""GET 'show'"" do
    
        it ""should be successful"" do
          response.should be_success
        end
     
      end
    
    end

Which when executed gives me the following error:

    Failure/Error: @professor = FactoryGirl.create(:professor)
         ActiveRecord::RecordInvalid:
           translation missing: es.activerecord.errors.messages.record_invalid
         # ./spec/controllers/knowledge_controller_spec.rb:7:in `block (2 levels) in <top (required)>'

If I change this:

    before (:each) do
            @knowledge = FactoryGirl.create(:knowledge)
            @professor = FactoryGirl.create(:professor)
            sign_in @professor
          end

For:

     before (:each) do
        @professor = FactoryGirl.create(:professor)
        @knowledge = FactoryGirl.create(:knowledge)
        sign_in @professor
     end

I get this error:

    Failure/Error: @knowledge = FactoryGirl.create(:knowledge)
         ActiveRecord::RecordInvalid:
           translation missing: es.activerecord.errors.messages.record_invalid

So, I don't think is a matter of the record being invalid, as in one case it hangs on the knowledge and in the other case in the professor.

Do you guys have any thoughts what can be happening?

The factories are these:

    #Knowledge

    FactoryGirl.define do
      factory :knowledge do |knowledge|
        knowledge.association(:professor)
        knowledge.association(:subject)
        knowledge.association(:level)
      end
    end

    #Professor
    
    FactoryGirl.define do
        factory :professor do
          first_name 'Mister'
          last_name 'Professor'
          ...
        end
    end


",ruby-on-rails,rspec,factorygirl,,,,open,0,478,11,"Invalid record when declaring two Factories in before (:each) in Rspec I have the following rspec:

    require 'spec_helper'
    
    describe KnowledgesController do
    
      before (:each) do
        @knowledge = FactoryGirl.create(:knowledge)
        @professor = FactoryGirl.create(:professor)
        sign_in @professor
      end
    
      describe ""GET 'show'"" do
    
        it ""should be successful"" do
          response.should be_success
        end
     
      end
    
    end

Which when executed gives me the following error:

    Failure/Error: @professor = FactoryGirl.create(:professor)
         ActiveRecord::RecordInvalid:
           translation missing: es.activerecord.errors.messages.record_invalid
         # ./spec/controllers/knowledge_controller_spec.rb:7:in `block (2 levels) in <top (required)>'

If I change this:

    before (:each) do
            @knowledge = FactoryGirl.create(:knowledge)
            @professor = FactoryGirl.create(:professor)
            sign_in @professor
          end

For:

     before (:each) do
        @professor = FactoryGirl.create(:professor)
        @knowledge = FactoryGirl.create(:knowledge)
        sign_in @professor
     end

I get this error:

    Failure/Error: @knowledge = FactoryGirl.create(:knowledge)
         ActiveRecord::RecordInvalid:
           translation missing: es.activerecord.errors.messages.record_invalid

So, I don't think is a matter of the record being invalid, as in one case it hangs on the knowledge and in the other case in the professor.

Do you guys have any thoughts what can be happening?

The factories are these:

    #Knowledge

    FactoryGirl.define do
      factory :knowledge do |knowledge|
        knowledge.association(:professor)
        knowledge.association(:subject)
        knowledge.association(:level)
      end
    end

    #Professor
    
    FactoryGirl.define do
        factory :professor do
          first_name 'Mister'
          last_name 'Professor'
          ...
        end
    end


",3
3328223,07/25/2010 05:54:02,401380,07/25/2010 05:54:02,1,0,how to impliment the mturk on rails application,"how to make controller , viwe , modle for mturk on rails apllication",ruby-on-rails,,,,,07/26/2010 05:38:39,not a real question,1,13,8,"how to impliment the mturk on rails application how to make controller , viwe , modle for mturk on rails apllication",1
8676712,12/30/2011 06:10:26,1122366,12/30/2011 05:21:54,1,0,how to do two search in the same page with meta_search?,"I have two list in a page, one for a model_1 and another for a model_2. When I click the sort_link of a column meta_search send the param ""search[meta_sort]=column_name.asc"". The problem is in the controller because the two models get filter with the same parameters:

@search_for_nodel_1 = Risk.search(params[:search])
@model_1s = @search_for_nodel_1.all

@search_for_nodel_2 = Risk.search(params[:search])
@model_2s = @search_for_nodel_2.all

I want change the param name ""search"" for something like ""search_for_model_name"" then in the controller:

@search_for_nodel_1 = Risk.search(params[:search_for_model_1])
@model_1s = @search_for_nodel_1.all

@search_for_nodel_2 = Risk.search(params[:search_for_model_2])
@model_2s = @search_for_nodel_2.all


I could not find the way to change the param name using the helper method sort_link that meta_search provide. Or is there a different manner to do this?

",ruby-on-rails,meta-search,,,,,open,0,102,11,"how to do two search in the same page with meta_search? I have two list in a page, one for a model_1 and another for a model_2. When I click the sort_link of a column meta_search send the param ""search[meta_sort]=column_name.asc"". The problem is in the controller because the two models get filter with the same parameters:

@search_for_nodel_1 = Risk.search(params[:search])
@model_1s = @search_for_nodel_1.all

@search_for_nodel_2 = Risk.search(params[:search])
@model_2s = @search_for_nodel_2.all

I want change the param name ""search"" for something like ""search_for_model_name"" then in the controller:

@search_for_nodel_1 = Risk.search(params[:search_for_model_1])
@model_1s = @search_for_nodel_1.all

@search_for_nodel_2 = Risk.search(params[:search_for_model_2])
@model_2s = @search_for_nodel_2.all


I could not find the way to change the param name using the helper method sort_link that meta_search provide. Or is there a different manner to do this?

",2
11134059,06/21/2012 08:12:50,1428109,05/16/2012 12:26:22,70,3,Simple sum not working in Rails,"I want to sum columns. 
<p>In my controller 

             def index
              @performance_reports = PerformanceReport.all
             end


My error:

           undefined method `+' for #<PerformanceReport:0x4a55690>
    74:         <td><%=  @performance_reports.sum(:clicks)%></td>

What is wrong ?",ruby-on-rails,,,,,,open,0,86,6,"Simple sum not working in Rails I want to sum columns. 
<p>In my controller 

             def index
              @performance_reports = PerformanceReport.all
             end


My error:

           undefined method `+' for #<PerformanceReport:0x4a55690>
    74:         <td><%=  @performance_reports.sum(:clicks)%></td>

What is wrong ?",1
8433139,12/08/2011 15:12:43,902500,08/19/2011 13:17:04,1,0,How to permit only single session for a single account with restful_authentication (rails plugin),"I use restful_authentication plugin in rails 2.3.5. application.
In this application, I want to permit to login with a single session for a single account at the same time. 
In other words, I don't want the users to login with single account using several computers.
Does the restful_authentication plugin support this function?
If not, how can I realize this function?
Please give me some advise.
Thank you very much in advance.



",ruby-on-rails,session,restful-authentication,,,,open,0,66,14,"How to permit only single session for a single account with restful_authentication (rails plugin) I use restful_authentication plugin in rails 2.3.5. application.
In this application, I want to permit to login with a single session for a single account at the same time. 
In other words, I don't want the users to login with single account using several computers.
Does the restful_authentication plugin support this function?
If not, how can I realize this function?
Please give me some advise.
Thank you very much in advance.



",3
7672198,10/06/2011 09:04:05,955237,09/20/2011 16:33:30,12,0,Sending SMS messages from a Rails Application without Gems,What are the links/keys needed to create a ruby application to send an SMS using an API. Without having to write gems for it? I have a link to the service and an API key. I need to know where to start. Im new to ruby and am trying to follow this tutorial but cant seem to get anywhere without knowing what i do without using clickatell. http://lukeredpath.co.uk/blog/sending-sms-messages-from-your-rails-application.html,ruby-on-rails,ruby,ruby-on-rails-3,sms-gateway,,,open,0,68,9,Sending SMS messages from a Rails Application without Gems What are the links/keys needed to create a ruby application to send an SMS using an API. Without having to write gems for it? I have a link to the service and an API key. I need to know where to start. Im new to ruby and am trying to follow this tutorial but cant seem to get anywhere without knowing what i do without using clickatell. http://lukeredpath.co.uk/blog/sending-sms-messages-from-your-rails-application.html,4
9966408,04/01/2012 17:12:50,168143,09/03/2009 20:31:24,3072,102,Additional tasks after asset compilation on Heroku Cedar,"I have this in **lib/tasks/foo.rake**:

    Rake::Task[""assets:precompile""].enhance do
      raise ""hello""
    end

I'm compiling assets on the heroku side during push. When I run `rake assets:precompile` locally, the exception is raised. When I run it during push, it is not. So either heroku asset compilation is swallowing it, or that rake task enhancement isn't getting run for some reason.

What's going on here?",ruby-on-rails,ruby,heroku,asset-pipeline,,,open,0,70,8,"Additional tasks after asset compilation on Heroku Cedar I have this in **lib/tasks/foo.rake**:

    Rake::Task[""assets:precompile""].enhance do
      raise ""hello""
    end

I'm compiling assets on the heroku side during push. When I run `rake assets:precompile` locally, the exception is raised. When I run it during push, it is not. So either heroku asset compilation is swallowing it, or that rake task enhancement isn't getting run for some reason.

What's going on here?",4
10339490,04/26/2012 18:43:23,450602,09/17/2010 12:53:58,617,3,Ruby on Rails - Is there a way tp generate scaffolod script from database tables?,"I already have the database tables and I need to create the rails script

      rails generate scaffold ...

Is there a way or a tool ? 
Thanks.",ruby-on-rails,rubymine,,,,,open,0,31,15,"Ruby on Rails - Is there a way tp generate scaffolod script from database tables? I already have the database tables and I need to create the rails script

      rails generate scaffold ...

Is there a way or a tool ? 
Thanks.",2
10777535,05/27/2012 21:51:18,96725,04/27/2009 19:29:22,430,5,Naming Convention: UserGroup vs Group - TaskType vs Type,"Usually using word `Group` as a model name is nice and easy, but my applicatoin is just getting little bit bigger and I was thinking about using `UserGroup`. This solves my problem, On the other hand making it 2 words creates code that is not visually satisfying `@user.user_group` or `task.task_type` .

What would be the other disadvantages of using names like these other than that?",ruby-on-rails,ruby,model,naming-conventions,,,open,0,64,9,"Naming Convention: UserGroup vs Group - TaskType vs Type Usually using word `Group` as a model name is nice and easy, but my applicatoin is just getting little bit bigger and I was thinking about using `UserGroup`. This solves my problem, On the other hand making it 2 words creates code that is not visually satisfying `@user.user_group` or `task.task_type` .

What would be the other disadvantages of using names like these other than that?",4
10336561,04/26/2012 15:27:42,583887,01/21/2011 02:53:44,119,7,Elasticsearch versioning through Tire gem,"I have an existing Rails app that uses tire (0.4.0) to interface with an Elasticsearch (0.17.4) engine. It already has a couple of models using Tire::Persistence. I want to add a new model that takes advantage of Elasticsearch versioning, to track all changes and be able to revert to previous versions.

Right now when I retrieve any 'persisted' model instance, I check `_version` and it is always `nil`. I have not found any tire documentation that relates to versioning. Do I have to activate it somehow, or manually save records with version values? Am I even on the right track here?",ruby-on-rails,ruby,elasticsearch,tire,,,open,0,100,5,"Elasticsearch versioning through Tire gem I have an existing Rails app that uses tire (0.4.0) to interface with an Elasticsearch (0.17.4) engine. It already has a couple of models using Tire::Persistence. I want to add a new model that takes advantage of Elasticsearch versioning, to track all changes and be able to revert to previous versions.

Right now when I retrieve any 'persisted' model instance, I check `_version` and it is always `nil`. I have not found any tire documentation that relates to versioning. Do I have to activate it somehow, or manually save records with version values? Am I even on the right track here?",4
11547181,07/18/2012 17:39:09,1446461,06/09/2012 17:13:04,1,1,Gemfile updated but get rake aborted! undefined method `prerequisites' for nil:NilClass error,"I'm going through RoR tutorial and when trying to run the rake db:migrate command on page 226 of the book I get the following error: 

    rake aborted!
    undefined method `prerequisites' for nil:NilClass


Here's a copy of my gemfile: 

    source 'https://rubygems.org'

    gem 'rails', '3.2.3'
    
    # Bundle edge Rails instead:
    # gem 'rails', :git => 'git://github.com/rails/rails.git'
    
    gem 'sqlite3', :require => 'sqlite3', :group => :development
    
    
    group :development do
      gem 'rspec-rails', '2.4.0'
    end
    
    group :test do
      gem 'rspec-rails', '2.4.0'
      gem 'webrat', '0.7.1'
    end
    
    
    
    # Gems used only for assets and not required
    # in production environments by default.
    group :assets do
      gem 'sass-rails',   '~> 3.2.3'
      gem 'coffee-rails', '~> 3.2.1'
    
      # See https://github.com/sstephenson/execjs#readme for more supported runtimes
      # gem 'therubyracer', :platform => :ruby
    
      gem 'uglifier', '>= 1.0.3'
    end
    
    gem 'jquery-rails'
    
    # To use ActiveModel has_secure_password
    # gem 'bcrypt-ruby', '~> 3.0.0'
    
    # To use Jbuilder templates for JSON
    # gem 'jbuilder'
    
    # Use unicorn as the app server
    # gem 'unicorn'
    
    # Deploy with Capistrano
    # gem 'capistrano'
    
    # To use debugger
    # gem 'ruby-debug19', :require => 'ruby-debug'


My gemfile is up to date and am not sure how to resolve the error..any help is appreciated!! 
",ruby-on-rails,database,rake,dbmigrate,,,open,0,375,12,"Gemfile updated but get rake aborted! undefined method `prerequisites' for nil:NilClass error I'm going through RoR tutorial and when trying to run the rake db:migrate command on page 226 of the book I get the following error: 

    rake aborted!
    undefined method `prerequisites' for nil:NilClass


Here's a copy of my gemfile: 

    source 'https://rubygems.org'

    gem 'rails', '3.2.3'
    
    # Bundle edge Rails instead:
    # gem 'rails', :git => 'git://github.com/rails/rails.git'
    
    gem 'sqlite3', :require => 'sqlite3', :group => :development
    
    
    group :development do
      gem 'rspec-rails', '2.4.0'
    end
    
    group :test do
      gem 'rspec-rails', '2.4.0'
      gem 'webrat', '0.7.1'
    end
    
    
    
    # Gems used only for assets and not required
    # in production environments by default.
    group :assets do
      gem 'sass-rails',   '~> 3.2.3'
      gem 'coffee-rails', '~> 3.2.1'
    
      # See https://github.com/sstephenson/execjs#readme for more supported runtimes
      # gem 'therubyracer', :platform => :ruby
    
      gem 'uglifier', '>= 1.0.3'
    end
    
    gem 'jquery-rails'
    
    # To use ActiveModel has_secure_password
    # gem 'bcrypt-ruby', '~> 3.0.0'
    
    # To use Jbuilder templates for JSON
    # gem 'jbuilder'
    
    # Use unicorn as the app server
    # gem 'unicorn'
    
    # Deploy with Capistrano
    # gem 'capistrano'
    
    # To use debugger
    # gem 'ruby-debug19', :require => 'ruby-debug'


My gemfile is up to date and am not sure how to resolve the error..any help is appreciated!! 
",4
3939799,10/15/2010 05:51:20,391006,07/13/2010 22:14:03,34,0,Rails - Conditions Include Multiple Items In An Array,"

    p = Person.find_by_id(1, :include => :bags, :conditions => ['bag.id in (?), [3,4])

I would like to know how I could make sure this query will only be valid if both 'items.id' '3' & '4' are present rather than '3' or/and '4'.

Thanks
",ruby-on-rails,arrays,conditions,,,,open,0,44,9,"Rails - Conditions Include Multiple Items In An Array 

    p = Person.find_by_id(1, :include => :bags, :conditions => ['bag.id in (?), [3,4])

I would like to know how I could make sure this query will only be valid if both 'items.id' '3' & '4' are present rather than '3' or/and '4'.

Thanks
",3
11266323,06/29/2012 17:29:04,979419,10/04/2011 22:29:47,8,0,Assistance in Implementing a Voting System on an Obtvse-powered Website,"my personal blog/website (ChandlerCollins.com) runs on the Obtvse platform. In case you don't know, Obtvse is the open source variant of Dustin Curtis' blogging  platform <a href = ""https://svbtle.com/"">Svbtle</a>. 

Obtvse is a simple markdown-powered Ruby on Rails blog platform. The code for Obtvse is found <a href=""https://github.com/NateW/obtvse/"">here</a>. 

What I want to do is add a Reddit style upvote/downvote button implemented in Ruby to Obtvse in the same position as the Kudos button found on any website in the Svbtle platform. (Example of the Kudos button <a href=""http://bearsfightingbears.com/"">here</a>) And then I want to add a button that will show all of my posts in sorted order depending on how many up votes or down votes they have.

If anyone can share the code or where I can find the code for implementing an upvote/downvote button or if anyone has had any experience in modifying the Obtvse code for their website, please let share how you accomplished that or share the URL in which I can find it.

Thanks,
Chandler C.",ruby-on-rails,open-source,github,reddit,vote-up-buttons,06/30/2012 23:35:47,not a real question,1,167,10,"Assistance in Implementing a Voting System on an Obtvse-powered Website my personal blog/website (ChandlerCollins.com) runs on the Obtvse platform. In case you don't know, Obtvse is the open source variant of Dustin Curtis' blogging  platform <a href = ""https://svbtle.com/"">Svbtle</a>. 

Obtvse is a simple markdown-powered Ruby on Rails blog platform. The code for Obtvse is found <a href=""https://github.com/NateW/obtvse/"">here</a>. 

What I want to do is add a Reddit style upvote/downvote button implemented in Ruby to Obtvse in the same position as the Kudos button found on any website in the Svbtle platform. (Example of the Kudos button <a href=""http://bearsfightingbears.com/"">here</a>) And then I want to add a button that will show all of my posts in sorted order depending on how many up votes or down votes they have.

If anyone can share the code or where I can find the code for implementing an upvote/downvote button or if anyone has had any experience in modifying the Obtvse code for their website, please let share how you accomplished that or share the URL in which I can find it.

Thanks,
Chandler C.",5
11745551,07/31/2012 17:16:25,1566432,07/31/2012 16:58:49,1,0,"<tr class=""<%= cycle('list_line_odd', 'list_line_even') %>"">","I'm studing "" Agile web development with rails"" (for rails 3.2)

when practiced ---rails32/depot_a/app/views/products/index.html.erb--- (pages 72)

the <tr class=""<%= cycle('list_line_odd', 'list_line_even') %>""> is not working any more...

Does some body know ( i am runing ruby 2.0 and rails 3.2.7)",ruby-on-rails,,,,,07/31/2012 17:55:40,not a real question,1,37,5,"<tr class=""<%= cycle('list_line_odd', 'list_line_even') %>""> I'm studing "" Agile web development with rails"" (for rails 3.2)

when practiced ---rails32/depot_a/app/views/products/index.html.erb--- (pages 72)

the <tr class=""<%= cycle('list_line_odd', 'list_line_even') %>""> is not working any more...

Does some body know ( i am runing ruby 2.0 and rails 3.2.7)",1
8363816,12/02/2011 23:07:41,178522,09/24/2009 15:11:58,19,1,How to persist the session in Rails before the end of request?,"I'm using Rails 2.3 and ActiveRecord as session store and I want to avoid creating sessions before it is needed.

I have a Itens table to store items associated to the session, ie, its model has an association `belongs_to :session`.

I have an Ajax call that should create a new item. When there is no session yet, it should create one to be associated to the item.
For this, I need the id from sessions table, not the session_id used for identify the sesssion by the cookie.
But, the session record is only created in DB after the request has finished.
Ex:

    def create
      request.session_options[:id] # nil if there is no session yet
      session[:activate] = 1 # this ""creates"" the sesssion (but not in DB)
      request.session_options[:id] # now the new generated session_id
      db_session = Session.find_by_session_id(request.session_options[:id]) # nil, not in DB yet :(
      Item.new(
        :sessao_id => db_session.id, # ops, id called for nil object
        :data => params[:data],
      )
    end",ruby-on-rails,session,activerecord,session-store,,,open,0,203,12,"How to persist the session in Rails before the end of request? I'm using Rails 2.3 and ActiveRecord as session store and I want to avoid creating sessions before it is needed.

I have a Itens table to store items associated to the session, ie, its model has an association `belongs_to :session`.

I have an Ajax call that should create a new item. When there is no session yet, it should create one to be associated to the item.
For this, I need the id from sessions table, not the session_id used for identify the sesssion by the cookie.
But, the session record is only created in DB after the request has finished.
Ex:

    def create
      request.session_options[:id] # nil if there is no session yet
      session[:activate] = 1 # this ""creates"" the sesssion (but not in DB)
      request.session_options[:id] # now the new generated session_id
      db_session = Session.find_by_session_id(request.session_options[:id]) # nil, not in DB yet :(
      Item.new(
        :sessao_id => db_session.id, # ops, id called for nil object
        :data => params[:data],
      )
    end",4
7719633,10/10/2011 23:00:42,598057,11/07/2010 23:08:15,8,1,How to extend Rails Engine's controllers properly?,"I am developing Rails plugin (it is 3.1 Engine) called Carrier (https://github.com/stanislaw/carrier).

In one of my rails app I want to extend Carrier's controller with some new methods - fx. add new action #comment_form to Carrier::MessagesController (I want this action only exist in my app - I don't want to add it in Engine - because it is very specific). 

Two strategies I see here:

1) I copy {Carrier's plugin root}/app/controllers/carrier/messages_controller.rb file to app/controllers/carrier/ folder of my app, and then extend it (all plugin's original actions are copied to rails app controllers folder too!).

2) More accurate way I want - is just to create {My rails app}/app/controllers/carrier/messages_controller.rb and write only #comment_form method I want Carrier to be extended with. 

Expecting that two controllers's content (original from plugin's folder + custom in my rails app having only new #comment_form) will superpose, I tried the second way. But Rails then stopped recognizing all original Carrier's actions (#index, #show, etc...) written in messages_controller.rb from the Carrier plugin's folder and began treating rails app's messages_controller.rb version as the only one (all original actions began treated as empty and thus began rendered through rails conventions default flow).

So my question in general is:
How to add new actions to Rails Engines controllers without copying them entirely to Rails app/controllers folder? ",ruby-on-rails,ruby-on-rails-3.1,ruby-on-rails-plugins,rails-engines,,,open,0,212,7,"How to extend Rails Engine's controllers properly? I am developing Rails plugin (it is 3.1 Engine) called Carrier (https://github.com/stanislaw/carrier).

In one of my rails app I want to extend Carrier's controller with some new methods - fx. add new action #comment_form to Carrier::MessagesController (I want this action only exist in my app - I don't want to add it in Engine - because it is very specific). 

Two strategies I see here:

1) I copy {Carrier's plugin root}/app/controllers/carrier/messages_controller.rb file to app/controllers/carrier/ folder of my app, and then extend it (all plugin's original actions are copied to rails app controllers folder too!).

2) More accurate way I want - is just to create {My rails app}/app/controllers/carrier/messages_controller.rb and write only #comment_form method I want Carrier to be extended with. 

Expecting that two controllers's content (original from plugin's folder + custom in my rails app having only new #comment_form) will superpose, I tried the second way. But Rails then stopped recognizing all original Carrier's actions (#index, #show, etc...) written in messages_controller.rb from the Carrier plugin's folder and began treating rails app's messages_controller.rb version as the only one (all original actions began treated as empty and thus began rendered through rails conventions default flow).

So my question in general is:
How to add new actions to Rails Engines controllers without copying them entirely to Rails app/controllers folder? ",4
5334464,03/17/2011 03:09:14,502052,11/09/2010 15:12:23,836,8,How much strong\hard will be to switch from a monolithic to a distibuited application system using Ruby on Rails application?,I am using Ruby on Rails 3 and I would to know how much strong\hard will be to switch from a monolithic to a distibuited application system.,ruby-on-rails,ruby,ruby-on-rails-3,application,switch,03/17/2011 20:51:22,not a real question,1,27,20,How much strong\hard will be to switch from a monolithic to a distibuited application system using Ruby on Rails application? I am using Ruby on Rails 3 and I would to know how much strong\hard will be to switch from a monolithic to a distibuited application system.,5
1077624,07/03/2009 03:08:36,76509,03/11/2009 05:45:04,238,3,"How to execute ActionView, ERB::Util from  ./script/console in Rails 2.0.5","I develop it in Ruby on Rails 2.0.5 now.

Can I execute link_to method and the url_escape method use in /script/console?",ruby-on-rails,,,,,,open,0,20,11,"How to execute ActionView, ERB::Util from  ./script/console in Rails 2.0.5 I develop it in Ruby on Rails 2.0.5 now.

Can I execute link_to method and the url_escape method use in /script/console?",1
11521343,07/17/2012 11:16:47,1503130,07/05/2012 06:46:54,178,9,How to get twitter like url appended string i.e. twitter inc?,"![][1]


  [1]: http://i.stack.imgur.com/XdeTA.png


I want to add Twitter, Inc. like placeholder  i.e. in green color in the url of twitter to my website , how do I do this. Is there any API for this.",ruby-on-rails,html5,url,twitter-api,,07/19/2012 01:18:15,not a real question,1,36,11,"How to get twitter like url appended string i.e. twitter inc? ![][1]


  [1]: http://i.stack.imgur.com/XdeTA.png


I want to add Twitter, Inc. like placeholder  i.e. in green color in the url of twitter to my website , how do I do this. Is there any API for this.",4
9153603,02/05/2012 22:18:40,910723,08/24/2011 21:47:34,1,0,Rails Time Zone Issues,"I've been bashing my head up against timezones in Rails for some time. Here is the issue:

I want users to be able to input into a `time_select` field a local time (e.g. 9:30AM). Based on the user's selected time zone, this should be stored in the database as UTC (e.g. 9:30AM EST is saved as 14:30)

Then it's only a matter of using `Time.zone` to display it correctly.

However, it seems that `time_select` creates a hash of multi-parameter assignment values that assumes that the time the user inputted is in UTC. No matter what I try I cannot coerce it into the user's local time. For example:

    ruby-1.9.2-p290 :016 > Time.use_zone(""Eastern Time (US & Canada)"") do
    ruby-1.9.2-p290 :017 >     a.attributes = {""starttime(1i)""=>""2000"", ""starttime(2i)""=>""1"", ""starttime(3i)""=>""1"", ""starttime(4i)""=>""09"", ""starttime(5i)""=>""30""}
    ruby-1.9.2-p290 :018?>   end
     => {""starttime(1i)""=>""2000"", ""starttime(2i)""=>""1"", ""starttime(3i)""=>""1"", ""starttime(4i)""=>""09"", ""starttime(5i)""=>""30""} 
    ruby-1.9.2-p290 :019 > a.starttime
     => 2000-01-01 09:30:00 UTC

I've seen recommendations to use `config.time_zone`, but I want this to work for users across multiple time zones, so a site-wide configuration setting doesn't seem like the right solution.

How can I save the user-supplied value in the database as UTC?

Thanks!
",ruby-on-rails,ruby-on-rails-3,activerecord,time,timezone,,open,0,207,4,"Rails Time Zone Issues I've been bashing my head up against timezones in Rails for some time. Here is the issue:

I want users to be able to input into a `time_select` field a local time (e.g. 9:30AM). Based on the user's selected time zone, this should be stored in the database as UTC (e.g. 9:30AM EST is saved as 14:30)

Then it's only a matter of using `Time.zone` to display it correctly.

However, it seems that `time_select` creates a hash of multi-parameter assignment values that assumes that the time the user inputted is in UTC. No matter what I try I cannot coerce it into the user's local time. For example:

    ruby-1.9.2-p290 :016 > Time.use_zone(""Eastern Time (US & Canada)"") do
    ruby-1.9.2-p290 :017 >     a.attributes = {""starttime(1i)""=>""2000"", ""starttime(2i)""=>""1"", ""starttime(3i)""=>""1"", ""starttime(4i)""=>""09"", ""starttime(5i)""=>""30""}
    ruby-1.9.2-p290 :018?>   end
     => {""starttime(1i)""=>""2000"", ""starttime(2i)""=>""1"", ""starttime(3i)""=>""1"", ""starttime(4i)""=>""09"", ""starttime(5i)""=>""30""} 
    ruby-1.9.2-p290 :019 > a.starttime
     => 2000-01-01 09:30:00 UTC

I've seen recommendations to use `config.time_zone`, but I want this to work for users across multiple time zones, so a site-wide configuration setting doesn't seem like the right solution.

How can I save the user-supplied value in the database as UTC?

Thanks!
",5
8632727,12/26/2011 03:24:29,1053709,11/18/2011 11:42:28,49,1,HABTM models and dynamic forms,"There are three things involved in the application that I'm developing: Reports, Sections, and Writers.

A Report has_many Sections and Writers. Sections and Writers have a HABTM relationship with each other, since a writer can choose to write several sections, and a section can be written by many articles.

The way I have it displayed is this:

- Report
  - Section 1
     - Writer 1
     - Writer 2
  - Section 2
     - Writer 1
     - Writer 3
  - Section 3
     - Writer 4
     - Writer 2

I can do that easily enough in the index. My problem is with the form in `view/writers/_form.html.erb`. 

When a writer is created, I want to assign the writer to 1.) a project, and 2.) a section. 

I actually have it working for the most part using check boxes. 

    <%= f.label :report_id %><br />
    <%= f.collection_select :report_id, Report.all, :id, :name %>

	<%= f.label ""Section"" %><br />
	<% Section.order(:name).all.each do |section| %>
		<%= check_box_tag ""writer[section_ids][]"", section.id, @writer.section_ids.include?(section.id) %>
		<%= section.name %><br />
	<% end %>

But this gives me problems. This way, ALL the sections from ALL reports are displayed. I don't want this. So I changed it to:

	<% Section.order(:name).where(report_id:@writer.report_id).each do |section| %>

But this way, no section checkboxes appear when a new writer is being created. It only appears in the edit page, after the writer has been saved with a report assigned to them already.

It makes sense why it does this, but is there any way I can make it so that reports are ""assigned"" once they're selected, so the proper section? 

I'm trying to follow Ryan Bates' Railcast at http://railscasts.com/episodes/88-dynamic-select-menus-revised but he works with two collection_select fields, and the model associations aren't exactly the same with each other..

",ruby-on-rails,,,,,,open,0,308,5,"HABTM models and dynamic forms There are three things involved in the application that I'm developing: Reports, Sections, and Writers.

A Report has_many Sections and Writers. Sections and Writers have a HABTM relationship with each other, since a writer can choose to write several sections, and a section can be written by many articles.

The way I have it displayed is this:

- Report
  - Section 1
     - Writer 1
     - Writer 2
  - Section 2
     - Writer 1
     - Writer 3
  - Section 3
     - Writer 4
     - Writer 2

I can do that easily enough in the index. My problem is with the form in `view/writers/_form.html.erb`. 

When a writer is created, I want to assign the writer to 1.) a project, and 2.) a section. 

I actually have it working for the most part using check boxes. 

    <%= f.label :report_id %><br />
    <%= f.collection_select :report_id, Report.all, :id, :name %>

	<%= f.label ""Section"" %><br />
	<% Section.order(:name).all.each do |section| %>
		<%= check_box_tag ""writer[section_ids][]"", section.id, @writer.section_ids.include?(section.id) %>
		<%= section.name %><br />
	<% end %>

But this gives me problems. This way, ALL the sections from ALL reports are displayed. I don't want this. So I changed it to:

	<% Section.order(:name).where(report_id:@writer.report_id).each do |section| %>

But this way, no section checkboxes appear when a new writer is being created. It only appears in the edit page, after the writer has been saved with a report assigned to them already.

It makes sense why it does this, but is there any way I can make it so that reports are ""assigned"" once they're selected, so the proper section? 

I'm trying to follow Ryan Bates' Railcast at http://railscasts.com/episodes/88-dynamic-select-menus-revised but he works with two collection_select fields, and the model associations aren't exactly the same with each other..

",1
2714448,04/26/2010 14:57:21,56517,01/18/2009 23:32:24,83,1,User avatar cropping/resizing with paperclip and jquery in rails,"Hello fellow stackoverflow users.

I am building my first Ruby on Rails app which is going to be my own little community.
I have made the User model with several fields and information.
But now i am thinking of adding avatar support for the users. And i've been researching and found that my best option would be using [Paperclip][1]. But then i've encountered a little dilemma.

I want my users to be able to resie/crop their avatar image after they have chosen a image.
I have googled alot and since i am using jQuery i found that [imgAreaSelect][2] would be best in my opinion. And i think [MiniMagick][3] looks best.

So to my question. How can i best intergrate Paperclip and imgAreaSelect?
I am new to Ruby and Rails so i don't know how i can resize the image.

Do you folks know how to intergrate the to or maybe some other options that fits my needs best?

I also need to apologize for my bad/misspelled english since i am not english :)

Thanking you in advance.

Yours sincerely,

Micke.


  [1]: http://github.com/thoughtbot/paperclip
  [2]: http://odyniec.net/projects/imgareaselect/
  [3]: http://rubyforge.org/projects/mini-magick/",ruby-on-rails,ruby,image-processing,image-manipulation,,,open,0,177,9,"User avatar cropping/resizing with paperclip and jquery in rails Hello fellow stackoverflow users.

I am building my first Ruby on Rails app which is going to be my own little community.
I have made the User model with several fields and information.
But now i am thinking of adding avatar support for the users. And i've been researching and found that my best option would be using [Paperclip][1]. But then i've encountered a little dilemma.

I want my users to be able to resie/crop their avatar image after they have chosen a image.
I have googled alot and since i am using jQuery i found that [imgAreaSelect][2] would be best in my opinion. And i think [MiniMagick][3] looks best.

So to my question. How can i best intergrate Paperclip and imgAreaSelect?
I am new to Ruby and Rails so i don't know how i can resize the image.

Do you folks know how to intergrate the to or maybe some other options that fits my needs best?

I also need to apologize for my bad/misspelled english since i am not english :)

Thanking you in advance.

Yours sincerely,

Micke.


  [1]: http://github.com/thoughtbot/paperclip
  [2]: http://odyniec.net/projects/imgareaselect/
  [3]: http://rubyforge.org/projects/mini-magick/",4
6431453,06/21/2011 20:17:28,618622,02/15/2011 21:32:54,259,10,String concatenation not possible?,"So over the last 2 hours, I've been trying to fill a combobox with all my users. I managed to get all firstnames in a combobox, but I want their full name in the combobox. No problem you would think, just concatenate the names and you're done. + and << should be the concatenation operator to do this.So this is my code:

    <%= collection_select(:user, :user_id, @users, :user_id, :user_firstname + :user_lastname, {:prompt => false}) %>


But it seems RoR doesn't accept this:

    undefined method `+' for :user_firstname:Symbol

What am I doing wrong?",ruby-on-rails,ruby,,,,,open,0,95,4,"String concatenation not possible? So over the last 2 hours, I've been trying to fill a combobox with all my users. I managed to get all firstnames in a combobox, but I want their full name in the combobox. No problem you would think, just concatenate the names and you're done. + and << should be the concatenation operator to do this.So this is my code:

    <%= collection_select(:user, :user_id, @users, :user_id, :user_firstname + :user_lastname, {:prompt => false}) %>


But it seems RoR doesn't accept this:

    undefined method `+' for :user_firstname:Symbol

What am I doing wrong?",2
8371875,12/03/2011 23:26:18,214365,11/19/2009 06:45:06,968,40,Problems matching class with Capybara/RSpec,"I'm trying to match a class attribute using Capybara with RSpec.

I can very clearly see the elements and their classes but no matter what I try, Capybara seems to know nothing about the classes. But it can find id's no problem. Any clues, pleeeassee?? https://gist.github.com/1428472



      visit ""/admin/staff?mobile=1""
      page.should have_selector(""ul"") #works
      page.should have_selector(""body#page"") #works
      page.should have_selector(""html.ui-mobile"") #fails
      page.should have_selector(""body.ui-mobile-viewport"") #fails
      save_and_open_page # this launches the page so I can see it and verify these attributes are indeed there.

--

< html class=""ui-mobile"" >
< body class=""ui-mobile-viewport"" id=""page"" >


(extra spaces added here b/c it otherwise wasnt' showing up in this post)

--

I also set a breakpoint and did this stuff which also didn't work right. 

    #works
    p find('body')[:id]
    p find(:xpath, '//body[@id=""page""]')
    
    # doesn't work
    p find('body')[:class]
    p find(:xpath, '//html[@class=""ui-mobile""]')

What's going oooonnn???

",ruby-on-rails,rspec,capybara,,,,open,0,178,5,"Problems matching class with Capybara/RSpec I'm trying to match a class attribute using Capybara with RSpec.

I can very clearly see the elements and their classes but no matter what I try, Capybara seems to know nothing about the classes. But it can find id's no problem. Any clues, pleeeassee?? https://gist.github.com/1428472



      visit ""/admin/staff?mobile=1""
      page.should have_selector(""ul"") #works
      page.should have_selector(""body#page"") #works
      page.should have_selector(""html.ui-mobile"") #fails
      page.should have_selector(""body.ui-mobile-viewport"") #fails
      save_and_open_page # this launches the page so I can see it and verify these attributes are indeed there.

--

< html class=""ui-mobile"" >
< body class=""ui-mobile-viewport"" id=""page"" >


(extra spaces added here b/c it otherwise wasnt' showing up in this post)

--

I also set a breakpoint and did this stuff which also didn't work right. 

    #works
    p find('body')[:id]
    p find(:xpath, '//body[@id=""page""]')
    
    # doesn't work
    p find('body')[:class]
    p find(:xpath, '//html[@class=""ui-mobile""]')

What's going oooonnn???

",3
8376447,12/04/2011 15:47:47,122536,06/13/2009 18:36:27,3336,18,Why so many non-Ruby developers built Rails-like frameworks inspired in Ruby on Rails?,"Rails inspired:

PHP developers to write [cakePHP][1],
JavaScript developers to write [Railway.JS][2]
and Python developers to write [Django][3] (I'm not sure about this one).

Why so many non-Ruby developers built Rails-like frameworks inspired in Ruby on Rails?
(I'm not very sure if some of the frameworks I mentioned above were written before Rails)

  [1]: http://cakephp.org/
  [2]: http://railwayjs.com/
  [3]: https://www.djangoproject.com/",ruby-on-rails,,,,,12/04/2011 22:58:41,not a real question,1,57,13,"Why so many non-Ruby developers built Rails-like frameworks inspired in Ruby on Rails? Rails inspired:

PHP developers to write [cakePHP][1],
JavaScript developers to write [Railway.JS][2]
and Python developers to write [Django][3] (I'm not sure about this one).

Why so many non-Ruby developers built Rails-like frameworks inspired in Ruby on Rails?
(I'm not very sure if some of the frameworks I mentioned above were written before Rails)

  [1]: http://cakephp.org/
  [2]: http://railwayjs.com/
  [3]: https://www.djangoproject.com/",1
5516227,04/01/2011 16:34:27,687951,04/01/2011 16:34:27,1,0,"Twitter-like ""Favorites"" (favorite posts)","How to make Twitter-like ""Favorites"" (favorite posts)? Please, can you write sep-by-step tutorial?",ruby-on-rails,,,,,04/01/2011 21:59:13,not a real question,1,13,4,"Twitter-like ""Favorites"" (favorite posts) How to make Twitter-like ""Favorites"" (favorite posts)? Please, can you write sep-by-step tutorial?",1
2957627,06/02/2010 12:26:52,119331,06/08/2009 16:39:15,178,16,Which must be the gems directory?,"Some weeks ago I upgraded my NetBeans version from 6.7 to 6.8.

Yesterday, while trying to solve some issue, I updated the gems' versions and suddenly the app stop working, throwing me the error message:

> Missing the Rails 2.3.4 gem. Please
> gem install -v=2.3.4 rails, update
> your RAILS_GEM_VERSION setting in
> config/environment.rb for the Rails
> version you do have installed, or
> comment out RAILS_GEM_VERSION to use
> the latest version installed.

Rails 2.3.4 is installed, and its specified correctly in environment.rb file as follows:

    RAILS_GEM_VERSION = '2.3.4' unless defined? RAILS_GEM_VERSION

I spent hours trying to fix this, when I discovered I had gems both in my NetBeans directory and in the Ruby directory. So I changed the Gems Home to the Ruby directory(instead of the NetBeans dir) and the app magically started.

That being said, I think that's not the proper solution, because I'm using both directories and I guess it's bringing me problems. Fox example, I cannot send emails any more, as posted [here][1].

Any help will be appreciated! Thanks in advance.


  [1]: http://stackoverflow.com/questions/2951337/cannot-send-e-mail-with-rails-2-3-4i-could-with-2-3-2",ruby-on-rails,,,,,,open,0,172,6,"Which must be the gems directory? Some weeks ago I upgraded my NetBeans version from 6.7 to 6.8.

Yesterday, while trying to solve some issue, I updated the gems' versions and suddenly the app stop working, throwing me the error message:

> Missing the Rails 2.3.4 gem. Please
> gem install -v=2.3.4 rails, update
> your RAILS_GEM_VERSION setting in
> config/environment.rb for the Rails
> version you do have installed, or
> comment out RAILS_GEM_VERSION to use
> the latest version installed.

Rails 2.3.4 is installed, and its specified correctly in environment.rb file as follows:

    RAILS_GEM_VERSION = '2.3.4' unless defined? RAILS_GEM_VERSION

I spent hours trying to fix this, when I discovered I had gems both in my NetBeans directory and in the Ruby directory. So I changed the Gems Home to the Ruby directory(instead of the NetBeans dir) and the app magically started.

That being said, I think that's not the proper solution, because I'm using both directories and I guess it's bringing me problems. Fox example, I cannot send emails any more, as posted [here][1].

Any help will be appreciated! Thanks in advance.


  [1]: http://stackoverflow.com/questions/2951337/cannot-send-e-mail-with-rails-2-3-4i-could-with-2-3-2",1
6986947,08/08/2011 18:43:18,103432,05/08/2009 09:49:12,447,24,What are the best tools you install in Ruby on Rails MacOS development environment?,"I'm new in Ruby on Rails world and I would like to know what tools use the big guns in their day to day work. The first of what i can think of is: 
 
 - pomodoro timer  
 - git client
 - RubyMine
 ...

Thanks",ruby-on-rails,productivity,osx-leopard,rubymine,,08/08/2011 22:34:15,not constructive,1,47,14,"What are the best tools you install in Ruby on Rails MacOS development environment? I'm new in Ruby on Rails world and I would like to know what tools use the big guns in their day to day work. The first of what i can think of is: 
 
 - pomodoro timer  
 - git client
 - RubyMine
 ...

Thanks",4
3041110,06/14/2010 21:33:45,302854,03/11/2010 18:08:52,127,6,Instatiating File from a remote url in a rails controller,"Is there a way to have something like this:

File.new('http://hostname/myfile.zip')

inside a controller?

Thanks in advance",ruby-on-rails,,,,,,open,0,13,10,"Instatiating File from a remote url in a rails controller Is there a way to have something like this:

File.new('http://hostname/myfile.zip')

inside a controller?

Thanks in advance",1
5726496,04/20/2011 06:46:35,92679,04/19/2009 05:23:14,808,21,Why am I getting error asking for create user template in rails 2 using authlhogic?,"I get theh following error:


> UsersController#create
> (ActionView::MissingTemplate) ""Missing
> template users/create.erb in view path
> app/views""

But I don't know why:  Here is my controller:


    1 class UsersController < ApplicationController
      2 
      3   before_filter :require_no_user, :only => [:new, :create]
      4   before_filter :require_user, :only => [:show, :edit, :update]
      5 
      6   def new
      7     @user = User.new
      8   end
      9 
     10   def create
     11 
     12     @user = User.new(params[:user])
     13     debugger
     14     @user.save do |result|
     15       debugger
     16       if result
     17         debugger
     18         flash[:notice] = ""Account registered!""
     19         debugger
     20         redirect_back_or_default campaign_path
     21       else
     22         debugger
     23         render :action => :new
     24       end
     25 
     26     end
     27   end

",ruby-on-rails,controller,authlogic,,,,open,0,326,15,"Why am I getting error asking for create user template in rails 2 using authlhogic? I get theh following error:


> UsersController#create
> (ActionView::MissingTemplate) ""Missing
> template users/create.erb in view path
> app/views""

But I don't know why:  Here is my controller:


    1 class UsersController < ApplicationController
      2 
      3   before_filter :require_no_user, :only => [:new, :create]
      4   before_filter :require_user, :only => [:show, :edit, :update]
      5 
      6   def new
      7     @user = User.new
      8   end
      9 
     10   def create
     11 
     12     @user = User.new(params[:user])
     13     debugger
     14     @user.save do |result|
     15       debugger
     16       if result
     17         debugger
     18         flash[:notice] = ""Account registered!""
     19         debugger
     20         redirect_back_or_default campaign_path
     21       else
     22         debugger
     23         render :action => :new
     24       end
     25 
     26     end
     27   end

",3
9965564,04/01/2012 15:22:26,1306441,04/01/2012 15:11:47,1,0,Overwriting Update to either Update or Archive in rails,"My requirement is that I want an object (tee) to update if there have not been rounds played on it. If there have been rounds played on it then I want the object (tee) to archive (active attribute set to false) and the updates to be applied to a clone of the object.

My first thought was that I would overwrite the update method in the Tee model like so and have a private method that handles the archive, clone and change:

    def update
      if(self.rounds.count == 0)
        super
      else
        #archive, clone and apply changes
        archive_clone_and_change
        return false
      end
    end

This feels dirty though because I am returning a false on a successful archive update. It also is going to get tricky when I try to apply the changes in the archive_clone_and_change method.

Should I be doing this in the controller instead of the method or does my approach make sense?",ruby-on-rails,ruby,update,,,,open,0,196,9,"Overwriting Update to either Update or Archive in rails My requirement is that I want an object (tee) to update if there have not been rounds played on it. If there have been rounds played on it then I want the object (tee) to archive (active attribute set to false) and the updates to be applied to a clone of the object.

My first thought was that I would overwrite the update method in the Tee model like so and have a private method that handles the archive, clone and change:

    def update
      if(self.rounds.count == 0)
        super
      else
        #archive, clone and apply changes
        archive_clone_and_change
        return false
      end
    end

This feels dirty though because I am returning a false on a successful archive update. It also is going to get tricky when I try to apply the changes in the archive_clone_and_change method.

Should I be doing this in the controller instead of the method or does my approach make sense?",3
10954462,06/08/2012 18:49:15,1235370,02/27/2012 10:41:29,178,42,Rails version stuck at 2.3.5 how to update to 3.x,"Hi there thanks for looking into this.

after a clean install of Linux ubuntu 10.10 i tried to re-install rails.

after doing sudo gem install rails I can see I am returned version 3.2.3 of rails

although after generating a new project i couldn't find my gemfile so i tried ruby -v wich returns 2.3.4 wich is odd since I know I got the latest.

also when trying sudo gem update --system I get an error because I might override system files. any solution here?

",ruby-on-rails,ruby,ruby-on-rails-3,,,,open,0,81,10,"Rails version stuck at 2.3.5 how to update to 3.x Hi there thanks for looking into this.

after a clean install of Linux ubuntu 10.10 i tried to re-install rails.

after doing sudo gem install rails I can see I am returned version 3.2.3 of rails

although after generating a new project i couldn't find my gemfile so i tried ruby -v wich returns 2.3.4 wich is odd since I know I got the latest.

also when trying sudo gem update --system I get an error because I might override system files. any solution here?

",3
3315516,07/23/2010 05:09:28,379927,06/30/2010 10:25:16,1,0,RoR Will_paginate custom pagination,"in will_paginate, i am using custom pagination.

Here, i am adding image for pagelinks as well as previous_buttons and next_button.

I get same image for both pagelinks and (prev, next buttons)

I want to differ the pagelink images with (prev,next buttons) i.e two different images in all.

i applied code from below link to my application
[http://thewebfellas.com/blog/2008/8/3/roll-your-own-pagination-links-with-will_paginate][1]

please guide me how i can go about it.


",ruby-on-rails,,,,,,open,0,60,4,"RoR Will_paginate custom pagination in will_paginate, i am using custom pagination.

Here, i am adding image for pagelinks as well as previous_buttons and next_button.

I get same image for both pagelinks and (prev, next buttons)

I want to differ the pagelink images with (prev,next buttons) i.e two different images in all.

i applied code from below link to my application
[http://thewebfellas.com/blog/2008/8/3/roll-your-own-pagination-links-with-will_paginate][1]

please guide me how i can go about it.


",1
11337190,07/05/2012 02:28:03,845598,07/14/2011 23:59:19,58,1,Changing heroku repo for pre-existing rails app,"I created a heroku repo some time ago for my rails app but deleted it because I was never using it. Now I have come to the point where I need to use heroku but I am encountering the following error:

`!  No such app as furious-mist-2295.` which was the old repo name, so it is clearly not pushing to the new stack I created. 

This is what I was considering trying, but am concerned about causing unnecessary changes to my git repo.

`git remote rm origin`

`git remote add origin <URL to new heroku app>`

`git push -u origin master`",ruby-on-rails,ruby,ruby-on-rails-3,heroku,,,open,0,98,7,"Changing heroku repo for pre-existing rails app I created a heroku repo some time ago for my rails app but deleted it because I was never using it. Now I have come to the point where I need to use heroku but I am encountering the following error:

`!  No such app as furious-mist-2295.` which was the old repo name, so it is clearly not pushing to the new stack I created. 

This is what I was considering trying, but am concerned about causing unnecessary changes to my git repo.

`git remote rm origin`

`git remote add origin <URL to new heroku app>`

`git push -u origin master`",4
6941938,08/04/2011 13:05:36,417825,08/11/2010 23:14:29,1,0,"I'm a sysadmin wanting to learn some web-development,better Asp Webforms or MVC/RoR","So i'm a windows/unix sysadmin wanting lo learn some web development.Here is a list of what i'm planning to learn and want to do :

- i'm planning to do that only as a hobby,for a couple of personal applications and my office little ""intranet"" (phone book,list of machines,a list of useful links and a password protected area for reserved info)

- i only have a basic understanding of html (i can read and modify it without problems but not writing it as a web developer),no javascript/css

- i used Ruby on Rails 2.x for the actual little office intranet,with a lot of copy and paste of html/css and a lot of scaffolding...so i know only the base of the old RoR

- i'm developing on a Windows machine and wanna rebuild from scratch my little application adding some new useful stuff (like a community space for news,info and comments)

- i will be on vacation in 5 days and wanna read about something new :) 

So i'm considering asp.net webforms 4.0 because i have little to no knownledge of frontend languages. I know that is not considering good habit now,but i really do not wanna learn first html/css/javascript,it's just an hobby as i told you before

I've considered too Ruby on Rails 3.0,but i really hate TDD development idea and there is still the html-css-javascript problem

What can you suggest me ?",ruby-on-rails,asp,,,,08/04/2011 14:57:37,not constructive,1,226,12,"I'm a sysadmin wanting to learn some web-development,better Asp Webforms or MVC/RoR So i'm a windows/unix sysadmin wanting lo learn some web development.Here is a list of what i'm planning to learn and want to do :

- i'm planning to do that only as a hobby,for a couple of personal applications and my office little ""intranet"" (phone book,list of machines,a list of useful links and a password protected area for reserved info)

- i only have a basic understanding of html (i can read and modify it without problems but not writing it as a web developer),no javascript/css

- i used Ruby on Rails 2.x for the actual little office intranet,with a lot of copy and paste of html/css and a lot of scaffolding...so i know only the base of the old RoR

- i'm developing on a Windows machine and wanna rebuild from scratch my little application adding some new useful stuff (like a community space for news,info and comments)

- i will be on vacation in 5 days and wanna read about something new :) 

So i'm considering asp.net webforms 4.0 because i have little to no knownledge of frontend languages. I know that is not considering good habit now,but i really do not wanna learn first html/css/javascript,it's just an hobby as i told you before

I've considered too Ruby on Rails 3.0,but i really hate TDD development idea and there is still the html-css-javascript problem

What can you suggest me ?",2
10426641,05/03/2012 07:04:24,582185,01/19/2011 22:16:43,335,15,Cannot authenticate using devise_cas_authenticatable,"I'm following the instruction at https://github.com/nbudin/devise_cas_authenticatable. However, using this and `before_filter :authenticate_user!` still makes the app trying to authenticate using the database authentication strategy for devise. Below is the devise config file:

    Devise.setup do |config|
      require 'devise/orm/active_record'
  
      config.cas_base_url = 'https://cas.uwaterloo.ca/cas'

      # If true, uses the password salt as remember token. This should be turned
      # to false if you are not using database authenticatable.
      config.use_salt_as_remember_token = true

      # ==> Configuration for :token_authenticatable
      # Defines name of the authentication token params key
      config.token_authentication_key = :auth_token

      # The default HTTP method used to sign out a resource. Default is :delete.
      config.sign_out_via = :delete
    end

Thanks!",ruby-on-rails,ruby,devise,,,,open,0,160,4,"Cannot authenticate using devise_cas_authenticatable I'm following the instruction at https://github.com/nbudin/devise_cas_authenticatable. However, using this and `before_filter :authenticate_user!` still makes the app trying to authenticate using the database authentication strategy for devise. Below is the devise config file:

    Devise.setup do |config|
      require 'devise/orm/active_record'
  
      config.cas_base_url = 'https://cas.uwaterloo.ca/cas'

      # If true, uses the password salt as remember token. This should be turned
      # to false if you are not using database authenticatable.
      config.use_salt_as_remember_token = true

      # ==> Configuration for :token_authenticatable
      # Defines name of the authentication token params key
      config.token_authentication_key = :auth_token

      # The default HTTP method used to sign out a resource. Default is :delete.
      config.sign_out_via = :delete
    end

Thanks!",3
2114885,01/22/2010 04:11:13,236655,12/22/2009 08:07:02,34,3,Paginate ordering doesn't work when using find_all_by_completed(false),"In my project model

      def incomplete
      @clients = current_user.clients.find_all_by_completed(false).paginate
      (:page => params[:page], :per_page => 10, :order => 'started_on DESC')
      end

For some reason it doesn't order started_on descending. However ordering works in another method

    def all
    @clients = current_user.clients.paginate(:page => params[:page], :per_page => 25, :order => 'started_on DESC')
    end

So I'm assuming using find_all_by_completed is throwing off paginate. I'm using will-paginate btw. Any help?",ruby-on-rails,pagination,will-paginate,,,,open,0,91,7,"Paginate ordering doesn't work when using find_all_by_completed(false) In my project model

      def incomplete
      @clients = current_user.clients.find_all_by_completed(false).paginate
      (:page => params[:page], :per_page => 10, :order => 'started_on DESC')
      end

For some reason it doesn't order started_on descending. However ordering works in another method

    def all
    @clients = current_user.clients.paginate(:page => params[:page], :per_page => 25, :order => 'started_on DESC')
    end

So I'm assuming using find_all_by_completed is throwing off paginate. I'm using will-paginate btw. Any help?",3
8640775,12/27/2011 03:02:43,938363,09/10/2011 16:23:28,159,5,'destroy' does now work for associated record in rails 3.1,"Have 2 models: lease_booking and lease_log. A lease_booking has_many lease_log and, a lease_log belongs_to a lease_booking. In routes.rb it is:

  resources :lease_bookings do
    resources :lease_logs
  end

The delete link is:

      <%= link_to 'Delete', lease_booking_lease_log_path(@lease_log.lease_booking_id, @lease_log.id), :confirm => ""Delete log？"", :method => :delete %>

The def in controller is :

      def destroy
        if has_destroy_right?
          @lease_booking = LeaseBooking.find(params[:lease_booking_id])
          @lease_log = @lease_booking.lease_log.find(params[:id])
          @lease_log.destroy
          redirect_to URI.escape(""/view_handler?index=0&msg=Log deleted!"")
        end
      end

The record was neither deleted nor redirect to the previous page. However the following rspec code passed without any error:

    it ""should destroy the record for end dept head"" do
      session[:eng] = true
      session[:dept_head] = true      
      booking = Factory(:lease_booking)
      log = Factory(:lease_log, :lease_booking_id => booking.id)
      get 'destroy', :lease_booking_id => booking.id, :id => log.id
      response.should redirect_to URI.escape(""/view_handler?index=0&msg=Log deleted!"")      
    end

Any idea why the code did not work? Thanks.",ruby-on-rails,rspec,ruby-on-rails-3.1,,,,open,0,246,10,"'destroy' does now work for associated record in rails 3.1 Have 2 models: lease_booking and lease_log. A lease_booking has_many lease_log and, a lease_log belongs_to a lease_booking. In routes.rb it is:

  resources :lease_bookings do
    resources :lease_logs
  end

The delete link is:

      <%= link_to 'Delete', lease_booking_lease_log_path(@lease_log.lease_booking_id, @lease_log.id), :confirm => ""Delete log？"", :method => :delete %>

The def in controller is :

      def destroy
        if has_destroy_right?
          @lease_booking = LeaseBooking.find(params[:lease_booking_id])
          @lease_log = @lease_booking.lease_log.find(params[:id])
          @lease_log.destroy
          redirect_to URI.escape(""/view_handler?index=0&msg=Log deleted!"")
        end
      end

The record was neither deleted nor redirect to the previous page. However the following rspec code passed without any error:

    it ""should destroy the record for end dept head"" do
      session[:eng] = true
      session[:dept_head] = true      
      booking = Factory(:lease_booking)
      log = Factory(:lease_log, :lease_booking_id => booking.id)
      get 'destroy', :lease_booking_id => booking.id, :id => log.id
      response.should redirect_to URI.escape(""/view_handler?index=0&msg=Log deleted!"")      
    end

Any idea why the code did not work? Thanks.",3
4004704,10/23/2010 15:27:37,131875,07/01/2009 17:59:55,30,2,"Heroku ""App Crashed""","I've been pulling my hair out for 14 hours trying to figure out what is going on with this app...which has been running fine for weeks.

If anyone sees anything in this backtrace and can provide some insight I would be forever in your debt:


==> production.log <==
# Logfile created on Sat Oct 23 08:23:42 -0700 2010
==> dyno-2162168.log <==

==> exceptional.log <==
# Logfile created on Sat Oct 23 08:23:43 -0700 2010 by logger.rb
[INFO] (init.rb:21) Sat Oct 23 15:23:43 UTC 2010 - Loading Exceptional 2.0.26 for 2.3.8

==> production.log <==
# Logfile created on Sat Oct 23 08:20:54 -0700 2010
==> dyno-2715906.log <==
Stopping due to timeout...
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `create_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1597:in `create_has_and_belongs_to_many_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1216:in `has_and_belongs_to_many'
(eval):3:in `has_and_belongs_to_many'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/app/models/user.rb:16
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:158:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:265:in `require_or_load'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:157:in `observed_class'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:183:in `observed_classes'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:166:in `initialize'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `new'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `instance'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:38:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:15:in `define_dispatcher_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `evaluate_method'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:166:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:276:in `run_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `run_prepare_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:631:in `prepare_dispatcher'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:185:in `process'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `run'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/config/environment.rb:10
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:42:in `load_application'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:23:in `initialize'
/home/heroku_rack/heroku.ru:29:in `new'
/home/heroku_rack/heroku.ru:29
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `map'
/home/heroku_rack/heroku.ru:18
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:11:in `new'
/home/heroku_rack/heroku.ru:11
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:1:in `new'
/home/heroku_rack/heroku.ru:1

==> exceptional.log <==
# Logfile created on Sat Oct 23 08:20:56 -0700 2010 by logger.rb
[INFO] (init.rb:21) Sat Oct 23 15:20:56 UTC 2010 - Loading Exceptional 2.0.26 for 2.3.8

==> dyno-2715906.log (crash) <==
Stopping due to timeout...
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `create_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1597:in `create_has_and_belongs_to_many_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1216:in `has_and_belongs_to_many'
(eval):3:in `has_and_belongs_to_many'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/app/models/user.rb:16
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:158:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:265:in `require_or_load'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:157:in `observed_class'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:183:in `observed_classes'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:166:in `initialize'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `new'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `instance'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:38:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:15:in `define_dispatcher_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `evaluate_method'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:166:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:276:in `run_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `run_prepare_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:631:in `prepare_dispatcher'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:185:in `process'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `run'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/config/environment.rb:10
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:42:in `load_application'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:23:in `initialize'
/home/heroku_rack/heroku.ru:29:in `new'
/home/heroku_rack/heroku.ru:29
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `map'
/home/heroku_rack/heroku.ru:18
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:11:in `new'
/home/heroku_rack/heroku.ru:11
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:1:in `new'
/home/heroku_rack/heroku.ru:1

-----> Your application crashed.

       Examine the backtrace above this message to debug.
",ruby-on-rails,heroku,,,,,open,0,260,3,"Heroku ""App Crashed"" I've been pulling my hair out for 14 hours trying to figure out what is going on with this app...which has been running fine for weeks.

If anyone sees anything in this backtrace and can provide some insight I would be forever in your debt:


==> production.log <==
# Logfile created on Sat Oct 23 08:23:42 -0700 2010
==> dyno-2162168.log <==

==> exceptional.log <==
# Logfile created on Sat Oct 23 08:23:43 -0700 2010 by logger.rb
[INFO] (init.rb:21) Sat Oct 23 15:23:43 UTC 2010 - Loading Exceptional 2.0.26 for 2.3.8

==> production.log <==
# Logfile created on Sat Oct 23 08:20:54 -0700 2010
==> dyno-2715906.log <==
Stopping due to timeout...
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `create_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1597:in `create_has_and_belongs_to_many_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1216:in `has_and_belongs_to_many'
(eval):3:in `has_and_belongs_to_many'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/app/models/user.rb:16
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:158:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:265:in `require_or_load'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:157:in `observed_class'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:183:in `observed_classes'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:166:in `initialize'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `new'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `instance'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:38:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:15:in `define_dispatcher_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `evaluate_method'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:166:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:276:in `run_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `run_prepare_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:631:in `prepare_dispatcher'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:185:in `process'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `run'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/config/environment.rb:10
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:42:in `load_application'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:23:in `initialize'
/home/heroku_rack/heroku.ru:29:in `new'
/home/heroku_rack/heroku.ru:29
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `map'
/home/heroku_rack/heroku.ru:18
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:11:in `new'
/home/heroku_rack/heroku.ru:11
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:1:in `new'
/home/heroku_rack/heroku.ru:1

==> exceptional.log <==
# Logfile created on Sat Oct 23 08:20:56 -0700 2010 by logger.rb
[INFO] (init.rb:21) Sat Oct 23 15:20:56 UTC 2010 - Loading Exceptional 2.0.26 for 2.3.8

==> dyno-2715906.log (crash) <==
Stopping due to timeout...
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:82:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/reflection.rb:17:in `create_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1597:in `create_has_and_belongs_to_many_reflection'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/associations.rb:1216:in `has_and_belongs_to_many'
(eval):3:in `has_and_belongs_to_many'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/app/models/user.rb:16
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:158:in `require'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:265:in `require_or_load'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:157:in `observed_class'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:183:in `observed_classes'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:166:in `initialize'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `new'
/usr/ruby1.8.7/lib/ruby/1.8/singleton.rb:94:in `instance'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:38:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activerecord-2.3.8/lib/active_record/observer.rb:36:in `instantiate_observers'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:15:in `define_dispatcher_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:182:in `evaluate_method'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:166:in `call'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `each'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:90:in `run'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/activesupport-2.3.8/lib/active_support/callbacks.rb:276:in `run_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:51:in `run_prepare_callbacks'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:631:in `prepare_dispatcher'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:185:in `process'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `send'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rails-2.3.8/lib/initializer.rb:113:in `run'
/disk1/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/config/environment.rb:10
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/ruby1.8.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:42:in `load_application'
/usr/ruby1.8.7/lib/ruby/gems/1.8/gems/thin-1.2.6/lib/rack/adapter/rails.rb:23:in `initialize'
/home/heroku_rack/heroku.ru:29:in `new'
/home/heroku_rack/heroku.ru:29
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `new'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:63:in `map'
/home/heroku_rack/heroku.ru:18
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:11:in `new'
/home/heroku_rack/heroku.ru:11
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `instance_eval'
/home/slugs/285728_d63a4fb_5df1-4caadf17-b17c-4777-a35c-621eac1c1fd9/mnt/.gems/gems/rack-1.1.0/lib/rack/builder.rb:46:in `initialize'
/home/heroku_rack/heroku.ru:1:in `new'
/home/heroku_rack/heroku.ru:1

-----> Your application crashed.

       Examine the backtrace above this message to debug.
",2
1163528,07/22/2009 07:04:14,130024,06/28/2009 09:32:57,1,1,Find most similar string,"I have a table of strings in my database. I select on of them.

How I can find the most similar string in the rest of the table ?
",ruby-on-rails,,,,,,open,0,28,4,"Find most similar string I have a table of strings in my database. I select on of them.

How I can find the most similar string in the rest of the table ?
",1
5200543,03/04/2011 23:50:45,307428,04/02/2010 03:46:25,34,0,ROR new action error Couldn't find Post with ID=nexttwentyfive,"I am getting an error where it thinks my action is post id?

 URL http://localhost:3000/posts/nexttwentyfive?lastid=1

<code>
  def nexttwentyfive
   @posts = Post.find(:all, :order => ""date"", :limit => 25, :conditions => [""id=? AND created_at > ?"", Time.now, params[:lastid]])
   
      respond_to do |format|
       format.html
       format.xml  { render :xml => @post } 
       format.json { render :json => @post }
     end
    end 
    
    map.resources :posts, :collection => { :nexttwentyfive => :get  } 

    
</code>

",ruby-on-rails,resources,condition,,,,open,0,116,9,"ROR new action error Couldn't find Post with ID=nexttwentyfive I am getting an error where it thinks my action is post id?

 URL http://localhost:3000/posts/nexttwentyfive?lastid=1

<code>
  def nexttwentyfive
   @posts = Post.find(:all, :order => ""date"", :limit => 25, :conditions => [""id=? AND created_at > ?"", Time.now, params[:lastid]])
   
      respond_to do |format|
       format.html
       format.xml  { render :xml => @post } 
       format.json { render :json => @post }
     end
    end 
    
    map.resources :posts, :collection => { :nexttwentyfive => :get  } 

    
</code>

",3
11081504,06/18/2012 11:05:35,788652,06/08/2011 06:16:15,160,7,RegEx that returns string from last / to end in ruby,"I have a string:

https://www.facebook.com/hackerbob

I would like to return ""hackerbob"" with the regEx.

How can this be done?",ruby-on-rails,ruby,regex,,,06/19/2012 11:50:37,not a real question,1,16,11,"RegEx that returns string from last / to end in ruby I have a string:

https://www.facebook.com/hackerbob

I would like to return ""hackerbob"" with the regEx.

How can this be done?",3
5607517,04/09/2011 19:59:23,49993,12/29/2008 22:11:12,807,53,Is it bad practice to constantize parameters submitted through the browser?,"I've got a single-table-inheritance setup where I have a single Controller (I felt having multiple would be duplicative). However, for some methods, I'd like to call into the subclasses of the models. I figured I could have the browser send a parameter that I'd write a case statement against. Something like:

    case @model[:type]
    when ""A""
      @results = Subclass1.search(params[:term])
    when ""B""
      @results = Subclass2.search(params[:term])
    ...
    end


Alternatively though, I learned that Ruby, in all it's trickery can create a model out of a string. Something like:

    @results = params[:model].constantize.search(params[:term])

My question: is this a bad practice? I can imagine someone sneaky could craft a request that would get me to form an arbitrary internal object.. but I could confirm that the object is a subclass of the thing I want.. ",ruby-on-rails,ruby,,,,,open,0,156,11,"Is it bad practice to constantize parameters submitted through the browser? I've got a single-table-inheritance setup where I have a single Controller (I felt having multiple would be duplicative). However, for some methods, I'd like to call into the subclasses of the models. I figured I could have the browser send a parameter that I'd write a case statement against. Something like:

    case @model[:type]
    when ""A""
      @results = Subclass1.search(params[:term])
    when ""B""
      @results = Subclass2.search(params[:term])
    ...
    end


Alternatively though, I learned that Ruby, in all it's trickery can create a model out of a string. Something like:

    @results = params[:model].constantize.search(params[:term])

My question: is this a bad practice? I can imagine someone sneaky could craft a request that would get me to form an arbitrary internal object.. but I could confirm that the object is a subclass of the thing I want.. ",2
6701863,07/15/2011 01:39:12,834056,07/07/2011 17:33:10,1,0,ROR noob - How do i write for ror?,"I setup a webfaction rails server but after that I'm lost. How do I write for it? What application? and how? 

thanks in advance & sorry I know this is stupid.",ruby-on-rails,,,,,07/15/2011 03:07:36,not a real question,1,31,9,"ROR noob - How do i write for ror? I setup a webfaction rails server but after that I'm lost. How do I write for it? What application? and how? 

thanks in advance & sorry I know this is stupid.",1
6081889,05/21/2011 12:58:10,631964,02/24/2011 08:47:52,39,4,Extjs with Rails- Problem in adding button dynamically on Panel,"I am using ExtJS 3.2.1 with Rails 3.x.
I have a Panel on which I want to add ExtJS Buttons ""dynamically"" depending upon the number of records in the db. I tried googling but no luck. 

Any Suggestions?

Thanks in advance !",ruby-on-rails,button,extjs,panel,,,open,0,40,10,"Extjs with Rails- Problem in adding button dynamically on Panel I am using ExtJS 3.2.1 with Rails 3.x.
I have a Panel on which I want to add ExtJS Buttons ""dynamically"" depending upon the number of records in the db. I tried googling but no luck. 

Any Suggestions?

Thanks in advance !",4
7456919,09/17/2011 18:26:23,519632,11/25/2010 03:28:48,334,3,Edit one file on Heroku,"All my main tech guys have gone to bed and my site is broken because Google removed jQuery UI 1.8.13. Our commits are not ready for production but I need to just alter my application layout to use 1.8.16 which is the latest.

How can I do this?",ruby-on-rails,git,deployment,heroku,,,open,0,47,5,"Edit one file on Heroku All my main tech guys have gone to bed and my site is broken because Google removed jQuery UI 1.8.13. Our commits are not ready for production but I need to just alter my application layout to use 1.8.16 which is the latest.

How can I do this?",4
6803991,07/23/2011 23:38:03,482255,10/20/2010 20:37:12,627,24,Using Paperclip + heroku + s3 ... local uploads broken when pushed live,"I am building a small website that has a fairly large amount of pictures > 100 for a small local group of people. If I upload files to s3 via paperclip on my local machine they work just fine, but when I push it to heroku those pics are then broken (aka pointing to the wrong location). 

If I pull the live database from heroku (case where I upload photos to the app that is online, then pull the online database). Those images don't load in my local app.

Any ideas on how to get this working? ",ruby-on-rails,amazon-s3,heroku,paperclip,,,open,0,97,13,"Using Paperclip + heroku + s3 ... local uploads broken when pushed live I am building a small website that has a fairly large amount of pictures > 100 for a small local group of people. If I upload files to s3 via paperclip on my local machine they work just fine, but when I push it to heroku those pics are then broken (aka pointing to the wrong location). 

If I pull the live database from heroku (case where I upload photos to the app that is online, then pull the online database). Those images don't load in my local app.

Any ideas on how to get this working? ",4
8060105,11/09/2011 03:47:09,88597,04/08/2009 13:38:53,4792,218,What's the official place to find latest stable version of 2.3.x Rails?,Is there an official webpage/blog/url to identify the latest stable version of 2.3.x Rails?,ruby-on-rails,,,,,11/10/2011 00:04:08,too localized,1,14,12,What's the official place to find latest stable version of 2.3.x Rails? Is there an official webpage/blog/url to identify the latest stable version of 2.3.x Rails?,1
6508474,06/28/2011 14:55:54,259900,01/16/2010 22:38:24,6020,295,Facebook Graph Feed Post Not Including Message,"I have the following snippet to post to a user's feed on Facebook:

    require 'httparty'
    
    token = ""...""
    message = ""...""
    url = URI.escape(""https://graph.facebook.com/me/feed?access_token=#{token}"")
    response = HTTParty.post(url, body: { message: message })

This posts to the wall, but no message is included. Any ideas what's wrong?",ruby-on-rails,ruby,facebook,httparty,,,open,0,64,7,"Facebook Graph Feed Post Not Including Message I have the following snippet to post to a user's feed on Facebook:

    require 'httparty'
    
    token = ""...""
    message = ""...""
    url = URI.escape(""https://graph.facebook.com/me/feed?access_token=#{token}"")
    response = HTTParty.post(url, body: { message: message })

This posts to the wall, but no message is included. Any ideas what's wrong?",4
7087565,08/17/2011 03:13:20,893447,08/13/2011 22:34:42,1,0,Rails Searching calculated fields using metasearch and metawhere,"Has anyone been able to find a way to search a calculated field using metawhere or metasearch in rails 3? I can search any field but calculated fields. There has to be a way. For anyone not familiar with metasearch or metawhere here is a railscast.

http://railscasts.com/episodes/251-metawhere-metasearch",ruby-on-rails,ruby,metawhere,,,,open,0,46,8,"Rails Searching calculated fields using metasearch and metawhere Has anyone been able to find a way to search a calculated field using metawhere or metasearch in rails 3? I can search any field but calculated fields. There has to be a way. For anyone not familiar with metasearch or metawhere here is a railscast.

http://railscasts.com/episodes/251-metawhere-metasearch",3
2851356,05/17/2010 17:42:14,151409,08/05/2009 22:33:47,244,5,"Rails 3, Authlogic, NGINX and HTTP basic authentication no working nicely together","I am in the early stages of building an app using Rails 3. User authentication is powered by Authlogic which I have setup pretty much as standard ([as per the example docs](http://github.com/binarylogic/authlogic_example)) and everything is working as expected locally.

I have just deployed the app to a clean server install of Centos 5.4 / NginX / Passenger so staff can start to log in and enter content, etc. However, we're a long way from this being ready for public eyes so I have used NginX's basic auth module to keep the entire site behind another level of authentication.

Unfortunately Authlogic's authentication and NginX's basic authentication seem to be conflicting with one another. If basic auth is on then it is impossible to log in with Authlogic, yet if I disable basic auth then Authlogic works as expected.

I haven't posted any code as I'm really not sure what code would be relevant. I wonder whether this is a known issue and if there is any changes I can make to the configuration to get round the issue?",ruby-on-rails,authlogic,nginx,basic-authentication,,,open,0,174,12,"Rails 3, Authlogic, NGINX and HTTP basic authentication no working nicely together I am in the early stages of building an app using Rails 3. User authentication is powered by Authlogic which I have setup pretty much as standard ([as per the example docs](http://github.com/binarylogic/authlogic_example)) and everything is working as expected locally.

I have just deployed the app to a clean server install of Centos 5.4 / NginX / Passenger so staff can start to log in and enter content, etc. However, we're a long way from this being ready for public eyes so I have used NginX's basic auth module to keep the entire site behind another level of authentication.

Unfortunately Authlogic's authentication and NginX's basic authentication seem to be conflicting with one another. If basic auth is on then it is impossible to log in with Authlogic, yet if I disable basic auth then Authlogic works as expected.

I haven't posted any code as I'm really not sure what code would be relevant. I wonder whether this is a known issue and if there is any changes I can make to the configuration to get round the issue?",4
11086068,06/18/2012 15:32:06,462002,09/29/2010 16:35:22,106,5,"Can't open guard-jasmine.coffee, No response from the Jasmine runner","When I try to run [guard-jasmine](https://github.com/netzpirat/guard-jasmine) in my guard set up or in the independent guard-jasmine command I get this error
 
<!-- language: bash  -->

    Guard::Jasmine starts thin test server on port 8888 in test environment.
    Waiting for Jasmine test runner at http://example.com:8888/
    Run Jasmine suite spec/javascripts/credit_card_spec.js
    Run Jasmine suite at http://example.com:8888/?spec=CreditCard
    Can't open '/home/yuvilio/.rvm/gems/ruby-1.9.3-p194@agilerails/bundler/gems/guard-jasmine-0fd614d12263/lib/guard/jasmine/phantomjs/guard-jasmine.coffee'
    ERROR: No response from the Jasmine runner!

Strangely, the 'guard-jasmine.coffee' file is indeed there and seems fine.

My Gemfile includes:

<!-- language: lang-rb -->

    group :test, :development do
      #...
      gem 'guard-jasmine', :git => ""https://github.com/netzpirat/guard-jasmine.git"", :branch => 'master'
      gem 'jasminerice', :git => ""https://github.com/bradphelan/jasminerice.git"", :branch => 'master'
      gem 'jasmine'
    end

my Guardfile includes:

<!-- language: lang-rb -->

    guard 'jasmine', :all_on_start => false, :server => :thin, :port => 8888,  :jasmine_url => 'http://localhost:8888/', :server_env => :test do
      watch(%r{spec/javascripts/spec\.(js\.coffee|js|coffee)$})         { ""spec/javascripts"" }
      watch(%r{spec/javascripts/.+_spec\.(js\.coffee|js|coffee)$})
      watch(%r{app/assets/javascripts/(.+?)\.(js\.coffee|js|coffee)$})  { |m| ""spec/javascripts/#{m[1]}_spec.#{m[2]}"" }
    end


When I run `rake jasmine` and browse to that http://example.com:8888/?spec=CreditCard test, it shows up fine (the test currently fails as expected).  Any idea what is causing the guard ",ruby-on-rails,jasmine,guard,phantomjs,,,open,0,239,9,"Can't open guard-jasmine.coffee, No response from the Jasmine runner When I try to run [guard-jasmine](https://github.com/netzpirat/guard-jasmine) in my guard set up or in the independent guard-jasmine command I get this error
 
<!-- language: bash  -->

    Guard::Jasmine starts thin test server on port 8888 in test environment.
    Waiting for Jasmine test runner at http://example.com:8888/
    Run Jasmine suite spec/javascripts/credit_card_spec.js
    Run Jasmine suite at http://example.com:8888/?spec=CreditCard
    Can't open '/home/yuvilio/.rvm/gems/ruby-1.9.3-p194@agilerails/bundler/gems/guard-jasmine-0fd614d12263/lib/guard/jasmine/phantomjs/guard-jasmine.coffee'
    ERROR: No response from the Jasmine runner!

Strangely, the 'guard-jasmine.coffee' file is indeed there and seems fine.

My Gemfile includes:

<!-- language: lang-rb -->

    group :test, :development do
      #...
      gem 'guard-jasmine', :git => ""https://github.com/netzpirat/guard-jasmine.git"", :branch => 'master'
      gem 'jasminerice', :git => ""https://github.com/bradphelan/jasminerice.git"", :branch => 'master'
      gem 'jasmine'
    end

my Guardfile includes:

<!-- language: lang-rb -->

    guard 'jasmine', :all_on_start => false, :server => :thin, :port => 8888,  :jasmine_url => 'http://localhost:8888/', :server_env => :test do
      watch(%r{spec/javascripts/spec\.(js\.coffee|js|coffee)$})         { ""spec/javascripts"" }
      watch(%r{spec/javascripts/.+_spec\.(js\.coffee|js|coffee)$})
      watch(%r{app/assets/javascripts/(.+?)\.(js\.coffee|js|coffee)$})  { |m| ""spec/javascripts/#{m[1]}_spec.#{m[2]}"" }
    end


When I run `rake jasmine` and browse to that http://example.com:8888/?spec=CreditCard test, it shows up fine (the test currently fails as expected).  Any idea what is causing the guard ",4
9075395,01/31/2012 06:32:49,1140435,01/10/2012 08:39:02,6,0,What is merge doing here...? - Rails,"Can you explain me what function of merge method here?

    it ""should reject email addresses identical up to case"" do
     upcased_email = @attr[:email].upcase
     User.create!(@attr.merge(:email => upcased_email))
     user_with_duplicate_email = User.new(@attr)
     user_with_duplicate_email.should_not be_valid
    end

How it works?",ruby-on-rails,,,,,,open,0,56,7,"What is merge doing here...? - Rails Can you explain me what function of merge method here?

    it ""should reject email addresses identical up to case"" do
     upcased_email = @attr[:email].upcase
     User.create!(@attr.merge(:email => upcased_email))
     user_with_duplicate_email = User.new(@attr)
     user_with_duplicate_email.should_not be_valid
    end

How it works?",1
11449903,07/12/2012 10:28:09,1520435,07/12/2012 10:07:48,1,0,Which web framework is the appropriate for developing an Advertisng job offers site?,"I am doing a study about some web frameworks i.e : Django, RoR, Symfony in order to develop a web site destinated to publish advertisements and job offers .

However, I haven't try any one of those three frameworks yet.. All my experience turn around java based frameworks and APIs (JSF 2.1, JPA, Seam3, Primefaces, GWT..).
JSF looks very powerful in developing web applications, but it's very heavy in the web sites field.

I will be grateful if some one could advise me which framework is the appropriate and explain to me the concepts that I should take in consideration.

Thanks in advance.",ruby-on-rails,django,symfony,website,advertisement,07/12/2012 11:04:30,not constructive,1,99,13,"Which web framework is the appropriate for developing an Advertisng job offers site? I am doing a study about some web frameworks i.e : Django, RoR, Symfony in order to develop a web site destinated to publish advertisements and job offers .

However, I haven't try any one of those three frameworks yet.. All my experience turn around java based frameworks and APIs (JSF 2.1, JPA, Seam3, Primefaces, GWT..).
JSF looks very powerful in developing web applications, but it's very heavy in the web sites field.

I will be grateful if some one could advise me which framework is the appropriate and explain to me the concepts that I should take in consideration.

Thanks in advance.",5
11068901,06/17/2012 04:23:04,1272323,03/15/2012 18:22:40,3,0,Resque vs. Sidekiq,"I'm working on a project with a friend where we've been using Resque for processing various commands from data input inside our rails application on a minute to minute basis.

We've been messing around with the idea of using Sidekiq because it is multi-threaded and won't be a memory hog and won't need to boot a ruby env for each worker.

I'm hoping to gather some thoughts and opinions from people that use Resque and Sidekiq in real time and explain the differences.

Thanks.",ruby-on-rails,ruby,resque,,,06/18/2012 03:47:56,not constructive,1,81,3,"Resque vs. Sidekiq I'm working on a project with a friend where we've been using Resque for processing various commands from data input inside our rails application on a minute to minute basis.

We've been messing around with the idea of using Sidekiq because it is multi-threaded and won't be a memory hog and won't need to boot a ruby env for each worker.

I'm hoping to gather some thoughts and opinions from people that use Resque and Sidekiq in real time and explain the differences.

Thanks.",3
10051792,04/07/2012 04:36:49,1131227,01/05/2012 02:21:52,11,0,Is rails routing failure caused by url rewriting?,"I'm trying to get a basic 2.3.5 application working with apache2.

In the apache2 config I've used an Alias to map the URL to the right place:

> Alias /release /usr/local/rails/release/public

and in the .htaccess file there's an appropriate rewrite rule

> RewriteBase /release

I can see the default public/index.html, but when I remove this and set up a route for the root in routes.rb I get:

> No route matches ""/release/"" with {:method=>:get}

As an experiment I set up an explicit route for ""/release/"" and this worked - but I assume this isn't a fix because it will screw up the other URLs in the application.

Can anyone suggest how to tell whether the problem is in the routing or in the URL rewriting? I've tried turning on logging in the rewrite engine, but it didn't help.",ruby-on-rails,url-rewriting,apache2,rails-routing,,,open,0,130,8,"Is rails routing failure caused by url rewriting? I'm trying to get a basic 2.3.5 application working with apache2.

In the apache2 config I've used an Alias to map the URL to the right place:

> Alias /release /usr/local/rails/release/public

and in the .htaccess file there's an appropriate rewrite rule

> RewriteBase /release

I can see the default public/index.html, but when I remove this and set up a route for the root in routes.rb I get:

> No route matches ""/release/"" with {:method=>:get}

As an experiment I set up an explicit route for ""/release/"" and this worked - but I assume this isn't a fix because it will screw up the other URLs in the application.

Can anyone suggest how to tell whether the problem is in the routing or in the URL rewriting? I've tried turning on logging in the rewrite engine, but it didn't help.",4
2955371,06/02/2010 06:09:11,321880,04/21/2010 02:51:10,9,0,rails question find no result,"Now .I have a question ,i want someone to help me to solve it ,the log of the problem like the under text

    >> Department.find(EmeReference.find(:all,:select =>:ref_config_id,:conditions=>""emergency_id = 1""))
    ActiveRecord::RecordNotFound: Couldn't find Department with ID=0
     from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/base.rb:1591:in `find_one'
     from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/base.rb:1574:in `find_from_ids_without_cache'
     from (__DELEGATION__):2:in `__send__'
     from (__DELEGATION__):2:in `find_from_ids_without_cache'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:158:in `find_from_keys'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/primary_key.rb:31:in `miss'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:66:in `hit_or_miss'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/accessor.rb:17:in `call'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/accessor.rb:17:in `fetch'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/accessor.rb:29:in `get'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:65:in `hit_or_miss'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:18:in `perform'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/primary_key.rb:17:in `perform'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:7:in `perform'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/finders.rb:29:in `find_from_ids'
     from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/base.rb:616:in `find'
     from (irb):135

that's the question! Thank your and best regards!",ruby-on-rails,ruby,,,,,open,0,165,5,"rails question find no result Now .I have a question ,i want someone to help me to solve it ,the log of the problem like the under text

    >> Department.find(EmeReference.find(:all,:select =>:ref_config_id,:conditions=>""emergency_id = 1""))
    ActiveRecord::RecordNotFound: Couldn't find Department with ID=0
     from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/base.rb:1591:in `find_one'
     from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/base.rb:1574:in `find_from_ids_without_cache'
     from (__DELEGATION__):2:in `__send__'
     from (__DELEGATION__):2:in `find_from_ids_without_cache'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:158:in `find_from_keys'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/primary_key.rb:31:in `miss'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:66:in `hit_or_miss'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/accessor.rb:17:in `call'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/accessor.rb:17:in `fetch'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/accessor.rb:29:in `get'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:65:in `hit_or_miss'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:18:in `perform'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/primary_key.rb:17:in `perform'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/query/abstract.rb:7:in `perform'
     from /usr/lib/ruby/gems/1.8/gems/nkallen-cache-money-0.2.5/lib/cash/finders.rb:29:in `find_from_ids'
     from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/base.rb:616:in `find'
     from (irb):135

that's the question! Thank your and best regards!",2
5721387,04/19/2011 19:08:57,126529,06/21/2009 17:24:08,804,37,Ruby: Example of well-documented gem/plugin,"I want to create rdoc comments for [active_factory plugin][1]. Could you suggest an example of ruby gem or rails plugin with most helpful documentation. What do you like there and what should i pay attension to? Also advices for documenting gems or links to articles with such advices are very welcome.


  [1]: https://github.com/tarasevich/active_factory",ruby-on-rails,ruby,documentation,gem,rdoc,,open,0,54,5,"Ruby: Example of well-documented gem/plugin I want to create rdoc comments for [active_factory plugin][1]. Could you suggest an example of ruby gem or rails plugin with most helpful documentation. What do you like there and what should i pay attension to? Also advices for documenting gems or links to articles with such advices are very welcome.


  [1]: https://github.com/tarasevich/active_factory",5
6682264,07/13/2011 16:29:11,74264,03/05/2009 14:26:11,1502,140,money gem: inherit currency from parent model,"Can someone tell me how to inherit the currency from a parent model?

I use the money gem ([https://github.com/RubyMoney/money][1]) and have 2 models (market and tradelimit). 

The price of the market becomes updated periodical and if there is a tradelimit which has the same price, the user becomes informed. 

Because the market has already the currency stored, i dont want to store it again in the tradelimit model (not dry):

    class Market << AR
      composed_of :price,
        :class_name => ""Money"",
        :mapping => [%w(price_cents cents), %w(currency currency_as_string)],
        :constructor => Proc.new { |cents, currency| Money.new(cents || 0, currency || Money.default_currency) },
        :converter => Proc.new { |value|  value.respond_to?(:to_money) ? value.to_money : raise(ArgumentError, ""Can't convert #{value.class} to Money"") }
      ...
    end

    #tradelimit.rb

    class Tradelimit << AR
      composed_of :price,
        :class_name => ""Money"",
        :mapping => [%w(price_cents cents), %w(currency currency_as_string)],
        :constructor => Proc.new { |cents, currency| Money.new(cents || 0, currency || Money.default_currency) },
        :converter => Proc.new { |value|  value.respond_to?(:to_money) ? value.to_money : raise(ArgumentError, ""Can't convert #{value.class} to Money"") }
      ...
    end


  [1]: https://github.com/RubyMoney/money

How can I inherit now the currency from the parent (market) model?
I tried to override the currency method in the tradelimit model, but this doenst work..

Any suggestions? Thanks!",ruby-on-rails,ruby,ruby-on-rails-3,rubygems,money,,open,0,285,7,"money gem: inherit currency from parent model Can someone tell me how to inherit the currency from a parent model?

I use the money gem ([https://github.com/RubyMoney/money][1]) and have 2 models (market and tradelimit). 

The price of the market becomes updated periodical and if there is a tradelimit which has the same price, the user becomes informed. 

Because the market has already the currency stored, i dont want to store it again in the tradelimit model (not dry):

    class Market << AR
      composed_of :price,
        :class_name => ""Money"",
        :mapping => [%w(price_cents cents), %w(currency currency_as_string)],
        :constructor => Proc.new { |cents, currency| Money.new(cents || 0, currency || Money.default_currency) },
        :converter => Proc.new { |value|  value.respond_to?(:to_money) ? value.to_money : raise(ArgumentError, ""Can't convert #{value.class} to Money"") }
      ...
    end

    #tradelimit.rb

    class Tradelimit << AR
      composed_of :price,
        :class_name => ""Money"",
        :mapping => [%w(price_cents cents), %w(currency currency_as_string)],
        :constructor => Proc.new { |cents, currency| Money.new(cents || 0, currency || Money.default_currency) },
        :converter => Proc.new { |value|  value.respond_to?(:to_money) ? value.to_money : raise(ArgumentError, ""Can't convert #{value.class} to Money"") }
      ...
    end


  [1]: https://github.com/RubyMoney/money

How can I inherit now the currency from the parent (market) model?
I tried to override the currency method in the tradelimit model, but this doenst work..

Any suggestions? Thanks!",5
3393249,08/03/2010 02:38:03,367869,06/16/2010 03:42:31,5,0,Best way to manage Rails application configuration settings persisted in a database?,"I was hoping someone could suggest some best practices for configuring Rails applications using a database (i.e. persisting configuration settings to a database rather than a flat file). My reasoning for this is that I have an application that will run on multiple servers and there are some configuration settings that are fairly dynamic and I would want to change them without having to make a change on every server.

In other languages, I've seen this done by using a simple configuration table (like name/value pairs) and a singleton that exposes the configuration data and periodically gets refreshed. Is there a similar - or better - way to do this with Rails?

Thanks in advance.",ruby-on-rails,ruby,database,configuration,,08/26/2011 02:18:04,not a real question,1,113,12,"Best way to manage Rails application configuration settings persisted in a database? I was hoping someone could suggest some best practices for configuring Rails applications using a database (i.e. persisting configuration settings to a database rather than a flat file). My reasoning for this is that I have an application that will run on multiple servers and there are some configuration settings that are fairly dynamic and I would want to change them without having to make a change on every server.

In other languages, I've seen this done by using a simple configuration table (like name/value pairs) and a singleton that exposes the configuration data and periodically gets refreshed. Is there a similar - or better - way to do this with Rails?

Thanks in advance.",4
5546234,04/05/2011 01:36:50,217345,11/23/2009 21:01:35,31,1,Rails 2.3.11 DateTime BigDecimal Precision,"I currently have a project in Ruby on Rails running Ruby 1.8.7 and Rails 2.3.2

I have some unit tests that read data from a database, specifically a date time column for two consecutive items which are supposed to be 24 hours apart. In one test I am setting the datetime for item 2 equal to that of item 1.

When I do an assert to make sure the two values are equal, the test works fine under rails 2.3.2. When I upgrade to rails 2.3.5, the tests fails showing that the difference between the two times to be off with the following error:

    <Thu, 01 Jan 2009 06:00:00 CST -06:00> expected but was
    <Thu, 01 Jan 2009 05:59:59 CST -06:00>.

There seems to be an issue with floating point conversions in the two version of rails. How can I account for the floating point issue?
",ruby-on-rails,ruby,,,,,open,0,149,5,"Rails 2.3.11 DateTime BigDecimal Precision I currently have a project in Ruby on Rails running Ruby 1.8.7 and Rails 2.3.2

I have some unit tests that read data from a database, specifically a date time column for two consecutive items which are supposed to be 24 hours apart. In one test I am setting the datetime for item 2 equal to that of item 1.

When I do an assert to make sure the two values are equal, the test works fine under rails 2.3.2. When I upgrade to rails 2.3.5, the tests fails showing that the difference between the two times to be off with the following error:

    <Thu, 01 Jan 2009 06:00:00 CST -06:00> expected but was
    <Thu, 01 Jan 2009 05:59:59 CST -06:00>.

There seems to be an issue with floating point conversions in the two version of rails. How can I account for the floating point issue?
",2
8183065,11/18/2011 13:20:50,809953,06/22/2011 08:26:17,426,17,How can i set and access config variables in rails 3,"I want to make some environment variables. How can i set/get them?

Thank you",ruby-on-rails,ruby,,,,11/19/2011 05:09:47,not a real question,1,13,11,"How can i set and access config variables in rails 3 I want to make some environment variables. How can i set/get them?

Thank you",2
3943708,10/15/2010 15:30:59,465986,10/04/2010 15:36:32,56,3,Is there a benefit to creating a very generic data model for a Rails 3 Project?,"A Product can have lots of things said about it, I'll call them Properties. It can have a brief description. But that description can be in multiple languages. Likewise, it can have multiple Prices, some which are specific to Customers. Given the following data:

    Product:
      identifier: 123-ABC
  
       Price:
         value: $1.25
         currency: USD
         customer: Wal-Mart

       Price:
         value: $1.96
         currency: USD

       Description:
         short: ""A Widget""
         language: EN

       Description:
         marketing: ""Made from Space Age Polymers.""
         language: EN

Does it make sense to use STI here, and make a generic set of models:

    Product has_many Properties
    Property has_many Attributes

    Price < Property
    Description < Property
    Package < Property

Is this way too broad of a generalization in the data model? Should I just stick with regular models and their associated tables?",ruby-on-rails,database-design,data-structures,oop,ruby-on-rails-3,,open,0,246,16,"Is there a benefit to creating a very generic data model for a Rails 3 Project? A Product can have lots of things said about it, I'll call them Properties. It can have a brief description. But that description can be in multiple languages. Likewise, it can have multiple Prices, some which are specific to Customers. Given the following data:

    Product:
      identifier: 123-ABC
  
       Price:
         value: $1.25
         currency: USD
         customer: Wal-Mart

       Price:
         value: $1.96
         currency: USD

       Description:
         short: ""A Widget""
         language: EN

       Description:
         marketing: ""Made from Space Age Polymers.""
         language: EN

Does it make sense to use STI here, and make a generic set of models:

    Product has_many Properties
    Property has_many Attributes

    Price < Property
    Description < Property
    Package < Property

Is this way too broad of a generalization in the data model? Should I just stick with regular models and their associated tables?",5
4737542,01/19/2011 16:04:03,232417,12/15/2009 20:21:32,945,10,What's the best way to integrate a Django and Rails app sharing the same MySQL datastore? ,"I'm going to be collaborating with a Python developer on a web
application. I'm going to be building a part of it in Ruby and he is
going to build another part of it using Django. I don't know much about
Django.

My plan for integrating the two parts is to simply map a certain URL
path prefix (say, any request that begins with /services) to the Python
code, while leaving Rails to process other requests. 

The Python and Ruby parts of the app will share and make updates to the
same MySQL datastore. 

My questions:

1. What do people think generally of this sort of integration strategy?
Is there a better alternative (short of writing it all in one language)?

2. What's the best way to share sensitive session data (i.e. a logged in
user's id) across the two parts of the app?  

",ruby-on-rails,django,,,,,open,0,135,17,"What's the best way to integrate a Django and Rails app sharing the same MySQL datastore?  I'm going to be collaborating with a Python developer on a web
application. I'm going to be building a part of it in Ruby and he is
going to build another part of it using Django. I don't know much about
Django.

My plan for integrating the two parts is to simply map a certain URL
path prefix (say, any request that begins with /services) to the Python
code, while leaving Rails to process other requests. 

The Python and Ruby parts of the app will share and make updates to the
same MySQL datastore. 

My questions:

1. What do people think generally of this sort of integration strategy?
Is there a better alternative (short of writing it all in one language)?

2. What's the best way to share sensitive session data (i.e. a logged in
user's id) across the two parts of the app?  

",2
10935835,06/07/2012 16:21:59,471313,10/10/2010 04:07:05,866,9,Is there a Gem for simplifying POST to API via curl,"I have seen API's such as `https://stripe.com/` or the new `https://pin.net.au/` that use a very simple and convenient POST approach. Instead of sending the object through JSON it send it as post attributes and values and the return is json. 

    curl https://api.pin.net.au/1/charges \
    -u your-api-key: \
    -d ""amount=400"" \
    -d ""description=test charge"" \
    -d ""email=roland@pin.net.au"" \
    -d ""ip_address=203.192.1.172"" \
    -d ""card[number]=5123456789012346"" \

My question there any Gem available to do this on Rails? I can understand what's going on underneath this, but I wanted to make sure if there's a Gem that do this seamless without further changing my current default implementation. ",ruby-on-rails,,,,,,open,0,124,11,"Is there a Gem for simplifying POST to API via curl I have seen API's such as `https://stripe.com/` or the new `https://pin.net.au/` that use a very simple and convenient POST approach. Instead of sending the object through JSON it send it as post attributes and values and the return is json. 

    curl https://api.pin.net.au/1/charges \
    -u your-api-key: \
    -d ""amount=400"" \
    -d ""description=test charge"" \
    -d ""email=roland@pin.net.au"" \
    -d ""ip_address=203.192.1.172"" \
    -d ""card[number]=5123456789012346"" \

My question there any Gem available to do this on Rails? I can understand what's going on underneath this, but I wanted to make sure if there's a Gem that do this seamless without further changing my current default implementation. ",1
8699459,01/02/2012 09:55:45,351132,05/26/2010 16:20:24,143,3,"Get title, content via link in rails","I just started learning rails. Could you help me understand parsing a single link? Good tutorial will help too...

The question:

When you submit a link in Digg, Facebook etc.. After you say attach link it parses the link to fetch the title, content, images of a particular url. Could you please help me  how a similar thing can be implemented in rails?

I have looked at feed parsers like feedzirra etc but they seem to get the complete website feed.. Not just the link we are looking for.. Or is it that I am making a mistake somewhere?

Thanks so much in advance.",ruby-on-rails,ruby,ruby-on-rails-3,parsing,web-scraping,,open,0,101,7,"Get title, content via link in rails I just started learning rails. Could you help me understand parsing a single link? Good tutorial will help too...

The question:

When you submit a link in Digg, Facebook etc.. After you say attach link it parses the link to fetch the title, content, images of a particular url. Could you please help me  how a similar thing can be implemented in rails?

I have looked at feed parsers like feedzirra etc but they seem to get the complete website feed.. Not just the link we are looking for.. Or is it that I am making a mistake somewhere?

Thanks so much in advance.",5
11655726,07/25/2012 17:56:43,1127283,01/03/2012 06:01:16,9,0,Creating a nested hash in Ruby gives me errors,"I tried to create a nested hash in several ways as mentioned in 
http://www.dzone.com/snippets/create-nested-hashes-ruby

    # From: http://www.ruby-forum.com/topic/111524
    # Author: Daniel Martin
    
    a = Hash.new{|h,k| h[k]=Hash.new(&h.default_proc) }
    
    a[2][1]=2
    a[2][2][3]=4
    a[3][1][1][1]=1
    
    p  a     #=> {2=>{1=>2, 2=>{3=>4}}, 3=>{1=>{1=>{1=>1}}}}
    
    
    # From: http://www.ruby-forum.com/topic/130324
    # Author: Sebastian Hungerecker
    
    blk = lambda {|h,k| h[k] = Hash.new(&blk)}
    x = Hash.new(&blk)
    x[:la][:li][:lu][:chunky][:bacon][:foo] = ""bar""

But they keep giving me errors like

    NoMethodError: undefined method `+' for {}:Hash
    	from (irb):66:in `block in irb_binding'
    	from (irb):65:in `each'
    	from (irb):65
    	from /Users/kennetht/.rvm/gems/ruby-1.9.3-p194@fdanalyse/gems/railties-3.2.5/lib/rails/commands/console.rb:47:in `start'
    	from /Users/kennetht/.rvm/gems/ruby-1.9.3-p194@fdanalyse/gems/railties-3.2.5/lib/rails/commands/console.rb:8:in `start'
    	from /Users/kennetht/.rvm/gems/ruby-1.9.3-p194@fdanalyse/gems/railties-3.2.5/lib/rails/commands.rb:41:in `<top (required)>'
    	from script/rails:6:in `require'
    	from script/rails:6:in `<main>'

What is going on?",ruby-on-rails,ruby,hash,,,07/27/2012 12:03:31,not a real question,1,188,9,"Creating a nested hash in Ruby gives me errors I tried to create a nested hash in several ways as mentioned in 
http://www.dzone.com/snippets/create-nested-hashes-ruby

    # From: http://www.ruby-forum.com/topic/111524
    # Author: Daniel Martin
    
    a = Hash.new{|h,k| h[k]=Hash.new(&h.default_proc) }
    
    a[2][1]=2
    a[2][2][3]=4
    a[3][1][1][1]=1
    
    p  a     #=> {2=>{1=>2, 2=>{3=>4}}, 3=>{1=>{1=>{1=>1}}}}
    
    
    # From: http://www.ruby-forum.com/topic/130324
    # Author: Sebastian Hungerecker
    
    blk = lambda {|h,k| h[k] = Hash.new(&blk)}
    x = Hash.new(&blk)
    x[:la][:li][:lu][:chunky][:bacon][:foo] = ""bar""

But they keep giving me errors like

    NoMethodError: undefined method `+' for {}:Hash
    	from (irb):66:in `block in irb_binding'
    	from (irb):65:in `each'
    	from (irb):65
    	from /Users/kennetht/.rvm/gems/ruby-1.9.3-p194@fdanalyse/gems/railties-3.2.5/lib/rails/commands/console.rb:47:in `start'
    	from /Users/kennetht/.rvm/gems/ruby-1.9.3-p194@fdanalyse/gems/railties-3.2.5/lib/rails/commands/console.rb:8:in `start'
    	from /Users/kennetht/.rvm/gems/ruby-1.9.3-p194@fdanalyse/gems/railties-3.2.5/lib/rails/commands.rb:41:in `<top (required)>'
    	from script/rails:6:in `require'
    	from script/rails:6:in `<main>'

What is going on?",3
5293754,03/14/2011 01:09:52,232579,12/16/2009 01:46:39,35,5,Rails 3.0.5 belongs_to association not updating primary key in declaring class,"I am trying to do a basic belongs_to/has_many association but running into a problem. It seems that the declaring class's foreign key column is not being updated. Here are my models:

<pre><code>
#
# Table name: clients
#
#  id         :integer         not null, primary key
#  name       :string(255)
#  created_at :datetime
#  updated_at :datetime
#

class Client &lt; ActiveRecord::Base
  has_many :units
  ...
  attr_accessible :name
end
</code></pre>

<pre><code>
#
# Table name: units
#
#  id         :integer         not null, primary key
#  client_id  :integer
#  name       :string(255)
#  created_at :datetime
#  updated_at :datetime
#

class Unit &lt; ActiveRecord::Base
  belongs_to :client
  ...
  attr_accessible :name
end
</code></pre>

When I open rails console I do the following:

<pre><code>#This works as it should
c1 = Client.create(:name => 'Urban Coding')
u1 = c1.units.create(:name => 'Birmingham Branch')
</code></pre>

The above gives me the correct results. I have a client and a unit. The unit has the client_id foreign key field populated correctly.

<pre><code>#This does not work.
c1 = Client.create(:name => 'Urban Coding')
u1 = Unit.create(:name => 'Birmingham Branch')

u1.client = c1
</code></pre>

I feel the above should have the same effect. However this is not the case. I have a unit and a client but the units client_id column is not populated. Not sure exactly what I am doing wrong here. Help is appreciated. Let me know if you need more information.
",ruby-on-rails,ruby-on-rails-3,activerecord,associations,belongs-to,,open,0,248,11,"Rails 3.0.5 belongs_to association not updating primary key in declaring class I am trying to do a basic belongs_to/has_many association but running into a problem. It seems that the declaring class's foreign key column is not being updated. Here are my models:

<pre><code>
#
# Table name: clients
#
#  id         :integer         not null, primary key
#  name       :string(255)
#  created_at :datetime
#  updated_at :datetime
#

class Client &lt; ActiveRecord::Base
  has_many :units
  ...
  attr_accessible :name
end
</code></pre>

<pre><code>
#
# Table name: units
#
#  id         :integer         not null, primary key
#  client_id  :integer
#  name       :string(255)
#  created_at :datetime
#  updated_at :datetime
#

class Unit &lt; ActiveRecord::Base
  belongs_to :client
  ...
  attr_accessible :name
end
</code></pre>

When I open rails console I do the following:

<pre><code>#This works as it should
c1 = Client.create(:name => 'Urban Coding')
u1 = c1.units.create(:name => 'Birmingham Branch')
</code></pre>

The above gives me the correct results. I have a client and a unit. The unit has the client_id foreign key field populated correctly.

<pre><code>#This does not work.
c1 = Client.create(:name => 'Urban Coding')
u1 = Unit.create(:name => 'Birmingham Branch')

u1.client = c1
</code></pre>

I feel the above should have the same effect. However this is not the case. I have a unit and a client but the units client_id column is not populated. Not sure exactly what I am doing wrong here. Help is appreciated. Let me know if you need more information.
",5
6164571,05/28/2011 21:53:39,773804,05/27/2011 21:50:01,25,0,How to let search return elements from queries that are part of the word,"I'm using [the acts_as_index plugin][1] for search and I've noticed that it seems to only return elements whose words match the exact query. I want to return elements even if the query is only part of a word. How would I configure for this?


  [1]: https://github.com/dougal/acts_as_indexed/",ruby-on-rails,ruby,ruby-on-rails-3,search,full-text-search,,open,0,47,14,"How to let search return elements from queries that are part of the word I'm using [the acts_as_index plugin][1] for search and I've noticed that it seems to only return elements whose words match the exact query. I want to return elements even if the query is only part of a word. How would I configure for this?


  [1]: https://github.com/dougal/acts_as_indexed/",5
10253484,04/20/2012 21:00:25,1108934,12/21/2011 00:55:14,3,0,Can't access site on EC2 instance via public ip,"I've been experimenting with EC2 for a couple days and have been banging my head against simply even being able to access the sample site I've hosted. The stack is Rails 3.1.3 with Thin and Nginx. 

I've tried several different configurations and finally ended up running the Nginx auto install script, which does return a webpage when I do a curl http://ec2-107-20-143-179.compute-1.amazonaws.com/. However, when I point my browser there, it hangs forever before saying the page cannot be found.

I have assigned an Elastic IP address, and I've enabled HTTP access via port 80. 

I don't much experience with the sysadmin side and I'm basically stumped at this point. Any advice would be greatly appreciated.

",ruby-on-rails,nginx,amazon-ec2,,,,open,0,114,9,"Can't access site on EC2 instance via public ip I've been experimenting with EC2 for a couple days and have been banging my head against simply even being able to access the sample site I've hosted. The stack is Rails 3.1.3 with Thin and Nginx. 

I've tried several different configurations and finally ended up running the Nginx auto install script, which does return a webpage when I do a curl http://ec2-107-20-143-179.compute-1.amazonaws.com/. However, when I point my browser there, it hangs forever before saying the page cannot be found.

I have assigned an Elastic IP address, and I've enabled HTTP access via port 80. 

I don't much experience with the sysadmin side and I'm basically stumped at this point. Any advice would be greatly appreciated.

",3
10183662,04/17/2012 00:48:35,501452,11/09/2010 03:48:09,370,2,Referring to current Rails model instance inside of model methods,"Suppose I have a `Post` model and I'd like to run a method when it's saved

in `post.rb` I do:

    :before_save some_method_on_post
    
    def some_method_on_post
      # Do something here
    end

My question is, how do I refer to the current instantiated Post object inside of the method?",ruby-on-rails,ruby-on-rails-3.2,,,,,open,0,62,10,"Referring to current Rails model instance inside of model methods Suppose I have a `Post` model and I'd like to run a method when it's saved

in `post.rb` I do:

    :before_save some_method_on_post
    
    def some_method_on_post
      # Do something here
    end

My question is, how do I refer to the current instantiated Post object inside of the method?",2
4192925,11/16/2010 09:59:56,259900,01/16/2010 22:38:24,2597,155,Paperclip Processor Operate on S3,"I am trying to create a custom `Paperclip::Processor` that integrates with an external web service. The external service needs the file to be present in S3 and will handle uploading the processed versions to S3 automatically. Can this be done using a custom `Paperclip::Processor` or should it be done with an ActiveRecord callback? If a `Paperclip::Processor` will work, what is the best way to trigger the upload? Thanks.",ruby-on-rails,paperclip,,,,,open,0,68,5,"Paperclip Processor Operate on S3 I am trying to create a custom `Paperclip::Processor` that integrates with an external web service. The external service needs the file to be present in S3 and will handle uploading the processed versions to S3 automatically. Can this be done using a custom `Paperclip::Processor` or should it be done with an ActiveRecord callback? If a `Paperclip::Processor` will work, what is the best way to trigger the upload? Thanks.",2
8504507,12/14/2011 12:31:25,604023,02/05/2011 01:46:34,310,34,Redirecting with Raise ActiveRecord::Rollback correctly?,"I can't redirect correctly, it keeps throwing me `ActiveRecord::RecordInvalid` but it should be redirecting `:back` to the original page. 

    def create_multiple
       Product.transaction do 
         begin
           @products = current_user.products.create!(params[:products].map { |_k, p| p.merge params[:product] })
             redirect_to :back, :notice => ""Success!""
           rescue ActiveRecord::Rollback
             redirect_to :back, :notice => ""An error occured, please try again.""
           end
         end
       end
    end

How do I get it to redirect?",ruby-on-rails,ruby,ruby-on-rails-3,,,,open,0,150,5,"Redirecting with Raise ActiveRecord::Rollback correctly? I can't redirect correctly, it keeps throwing me `ActiveRecord::RecordInvalid` but it should be redirecting `:back` to the original page. 

    def create_multiple
       Product.transaction do 
         begin
           @products = current_user.products.create!(params[:products].map { |_k, p| p.merge params[:product] })
             redirect_to :back, :notice => ""Success!""
           rescue ActiveRecord::Rollback
             redirect_to :back, :notice => ""An error occured, please try again.""
           end
         end
       end
    end

How do I get it to redirect?",3
10323645,04/25/2012 20:56:30,1357195,04/25/2012 20:41:11,1,0,how to pass a params into a controller action in ruby on rails,"i would appreciate if someone could help me on ruby on rails.
can i pass a params[:something] onto a controller?

in my index view i have 

    	
	       <button value=""1"" name=""most_recent"" type=""submit"" class=""btn"" data-toggle=""button"">Most Recent</button>
	       <button value=""1"" name=""score"" type=""submit"" class=""btn"" data-toggle=""button"">Score</button>
  

essentially if a button is pressed, the value goes into my index controller and i can receive it by doing

     params[:score]

to see if the score button was pressed. however, also on my index template i have

    	 <%= form_tag search_photos_path, :method => 'get' do %>
	  		<p>
	  			<%= text_field_tag :search, params[:search], 
	  				:class => ""input-medium search-query expand"" %>
	  			<%= submit_tag 'Search', :name => nil, :class => ""btn"" %>
	  		</p>
	  	<% end %>

when a user clicks search, it goes to my search action. is there a way to send what params[:score] is? if it has been clicked, i want to be able to know it has been clicked. i tried doing params[:search] in my search action, but it returns nil even though i clicked on the search button.

thank you",ruby-on-rails,controller,params,,,,open,0,195,13,"how to pass a params into a controller action in ruby on rails i would appreciate if someone could help me on ruby on rails.
can i pass a params[:something] onto a controller?

in my index view i have 

    	
	       <button value=""1"" name=""most_recent"" type=""submit"" class=""btn"" data-toggle=""button"">Most Recent</button>
	       <button value=""1"" name=""score"" type=""submit"" class=""btn"" data-toggle=""button"">Score</button>
  

essentially if a button is pressed, the value goes into my index controller and i can receive it by doing

     params[:score]

to see if the score button was pressed. however, also on my index template i have

    	 <%= form_tag search_photos_path, :method => 'get' do %>
	  		<p>
	  			<%= text_field_tag :search, params[:search], 
	  				:class => ""input-medium search-query expand"" %>
	  			<%= submit_tag 'Search', :name => nil, :class => ""btn"" %>
	  		</p>
	  	<% end %>

when a user clicks search, it goes to my search action. is there a way to send what params[:score] is? if it has been clicked, i want to be able to know it has been clicked. i tried doing params[:search] in my search action, but it returns nil even though i clicked on the search button.

thank you",3
11329210,07/04/2012 12:34:26,1413701,05/23/2012 22:08:51,58,0,Rails - using dropdown to pass id of object into session,"At the moment, I have a list of projects in the projects/index view. What the user currently has to do is click 'Show' on the project, then click 'Select Project'. This calls a custom action I've created in the controller, which passes the id of the project into the session, so only relevant tasks etc. are shown in the following pages.

What I want to happen is to have a dropdown menu on the index view, with a list of all the projects. Then, when the submit button is clicked, it will pass the id of that project into the session, exactly the same. I've tried every way I can think of doing this, but I can't get anything to work - mainly because it appears as if the id of the project isn't getting passed from the dropdown.

My question is - how can I get the submit button to call a custom action that will take the id from the dropdown menu's project and pass that into the session?

I don't know if I need to add the code to the index action of the controller, or whether the submit button can call the custom action. I'm pretty new to rails, so the more people can spell stuff out, the better!! 

Here's the projects/index:

    <%= form_for(@project) do |f| %>
      <% if @project.errors.any? %>
        <div id=""error_explanation"">
          <h2><%= pluralize(@project.errors.count, ""error"") %> prohibited this project from being saved:</h2>

          <ul>
          <% @project.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div class=""field"">
      <%= f.hidden_field :company_id, :value => session[:company_id] %>
      </div>
      <div class=""field"">
      <%= collection_select :project, :id, Project.all, :id, :name %>
      </div>
      <div class=""actions"">
        <%= f.submit 'Select Project', :class => ""btn btn-primary"" %>
      </div>
    <% end %>

The controller code so far:

    def index
      @projects = Project.all

      respond_to do |format|
        format.html # index.html.erb
        format.json { render json: @projects }
      end
    end

    def select_project
      project = Project.find(params[:id])
      session[:project_id] = project.id
      redirect_to root_url, notice: ""Current project set to: #{project.name}, ID: #{project.id}""
    end

I can't put

    @project = Project.find(params[:id])

into the index action, otherwise it says that it can't find a project without an id.",ruby-on-rails,session,drop-down-menu,action,,,open,0,541,11,"Rails - using dropdown to pass id of object into session At the moment, I have a list of projects in the projects/index view. What the user currently has to do is click 'Show' on the project, then click 'Select Project'. This calls a custom action I've created in the controller, which passes the id of the project into the session, so only relevant tasks etc. are shown in the following pages.

What I want to happen is to have a dropdown menu on the index view, with a list of all the projects. Then, when the submit button is clicked, it will pass the id of that project into the session, exactly the same. I've tried every way I can think of doing this, but I can't get anything to work - mainly because it appears as if the id of the project isn't getting passed from the dropdown.

My question is - how can I get the submit button to call a custom action that will take the id from the dropdown menu's project and pass that into the session?

I don't know if I need to add the code to the index action of the controller, or whether the submit button can call the custom action. I'm pretty new to rails, so the more people can spell stuff out, the better!! 

Here's the projects/index:

    <%= form_for(@project) do |f| %>
      <% if @project.errors.any? %>
        <div id=""error_explanation"">
          <h2><%= pluralize(@project.errors.count, ""error"") %> prohibited this project from being saved:</h2>

          <ul>
          <% @project.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div class=""field"">
      <%= f.hidden_field :company_id, :value => session[:company_id] %>
      </div>
      <div class=""field"">
      <%= collection_select :project, :id, Project.all, :id, :name %>
      </div>
      <div class=""actions"">
        <%= f.submit 'Select Project', :class => ""btn btn-primary"" %>
      </div>
    <% end %>

The controller code so far:

    def index
      @projects = Project.all

      respond_to do |format|
        format.html # index.html.erb
        format.json { render json: @projects }
      end
    end

    def select_project
      project = Project.find(params[:id])
      session[:project_id] = project.id
      redirect_to root_url, notice: ""Current project set to: #{project.name}, ID: #{project.id}""
    end

I can't put

    @project = Project.find(params[:id])

into the index action, otherwise it says that it can't find a project without an id.",4
4909099,02/05/2011 19:24:12,600873,02/03/2011 00:45:03,1,1,Rails Development Log,"I'm in Chapter 6 of the RoR Tutorial and can't seem to get the command 'tail -f log/development.log' to work. Using Mac OS X 10.6.6, Ruby 1.9.2, Rails 3.0.3 with RVM. I'm trying to run it in a sanboxed Rails console, here's the output of what's going on:


    Trenton-Scotts-MacBook-Air:sample_app TTS$ rails c --sandbox
    Loading development environment in sandbox (Rails 3.0.3)
    Any modifications you make will be rolled back on exit
    ruby-1.9.2-p136 :001 > tail -f log/development.log
    SyntaxError: (irb):1: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
    tail -f log/development.log
               ^
    	from /Users/TTS/.rvm/gems/ruby-1.9.2-p136/gems/railties-3.0.3/lib/rails/commands/console.rb:44:in `start'
    	from /Users/TTS/.rvm/gems/ruby-1.9.2-p136/gems/railties-3.0.3/lib/rails/commands/console.rb:8:in `start'
    	from /Users/TTS/.rvm/gems/ruby-1.9.2-p136/gems/railties-3.0.3/lib/rails/commands.rb:23:in `<top (required)>'
    	from script/rails:6:in `require'
    	from script/rails:6:in `<main>'
    ruby-1.9.2-p136 :002 > 


Any thoughts?",ruby-on-rails,console,logging,tail,,,open,0,163,3,"Rails Development Log I'm in Chapter 6 of the RoR Tutorial and can't seem to get the command 'tail -f log/development.log' to work. Using Mac OS X 10.6.6, Ruby 1.9.2, Rails 3.0.3 with RVM. I'm trying to run it in a sanboxed Rails console, here's the output of what's going on:


    Trenton-Scotts-MacBook-Air:sample_app TTS$ rails c --sandbox
    Loading development environment in sandbox (Rails 3.0.3)
    Any modifications you make will be rolled back on exit
    ruby-1.9.2-p136 :001 > tail -f log/development.log
    SyntaxError: (irb):1: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
    tail -f log/development.log
               ^
    	from /Users/TTS/.rvm/gems/ruby-1.9.2-p136/gems/railties-3.0.3/lib/rails/commands/console.rb:44:in `start'
    	from /Users/TTS/.rvm/gems/ruby-1.9.2-p136/gems/railties-3.0.3/lib/rails/commands/console.rb:8:in `start'
    	from /Users/TTS/.rvm/gems/ruby-1.9.2-p136/gems/railties-3.0.3/lib/rails/commands.rb:23:in `<top (required)>'
    	from script/rails:6:in `require'
    	from script/rails:6:in `<main>'
    ruby-1.9.2-p136 :002 > 


Any thoughts?",4
2331617,02/25/2010 04:22:16,100089,05/03/2009 04:49:40,316,9,How do I setup a rails project to use a source tree (not an installed gem) version of rails.,"I would like the rails 3.0 source tree in my project so I can use patches, etc. I don' want to freeze rails. I would like to be able to pull updates from the main repo too. How do I accomplish this?",ruby-on-rails,,,,,,open,0,42,19,"How do I setup a rails project to use a source tree (not an installed gem) version of rails. I would like the rails 3.0 source tree in my project so I can use patches, etc. I don' want to freeze rails. I would like to be able to pull updates from the main repo too. How do I accomplish this?",1
11627349,07/24/2012 08:51:28,1442803,06/07/2012 17:14:34,3,0,Could not find rake-0.9.2.2 in any of the sources,"This is an odd one. I'm getting this error when I run rake to do tests but not when I migrate. I'm running RVM, the shell dump below should give any information you need.

Any help would be greatly appreciated. I've seen a few other people with this issue, but no solutions that worked for me yet (or them).

Thanks.

    $ rake
    Could not find rake-0.9.2.2 in any of the sources
    Run `bundle install` to install missing gems.
    Could not find rake-0.9.2.2 in any of the sources
    Run `bundle install` to install missing gems.
    Errors running test:units, test:functionals, test:integration!
 
   

    $ ruby -v
        ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin11.4.0]
        $ rails -v
        Rails 3.1.6
        
    $ more .rvmrc 
    rvm ruby-1.9.3-p194@...
    $ rake db:rollback
    ==  AddAllLocationsToAlert: reverting =========================================
    -- remove_column(...
       -> 0.0320s
    ==  AddAllLocationsToAlert: reverted (0.0321s) ================================

",ruby-on-rails,ruby,ruby-on-rails-3.1,rake,bundler,,open,0,213,9,"Could not find rake-0.9.2.2 in any of the sources This is an odd one. I'm getting this error when I run rake to do tests but not when I migrate. I'm running RVM, the shell dump below should give any information you need.

Any help would be greatly appreciated. I've seen a few other people with this issue, but no solutions that worked for me yet (or them).

Thanks.

    $ rake
    Could not find rake-0.9.2.2 in any of the sources
    Run `bundle install` to install missing gems.
    Could not find rake-0.9.2.2 in any of the sources
    Run `bundle install` to install missing gems.
    Errors running test:units, test:functionals, test:integration!
 
   

    $ ruby -v
        ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin11.4.0]
        $ rails -v
        Rails 3.1.6
        
    $ more .rvmrc 
    rvm ruby-1.9.3-p194@...
    $ rake db:rollback
    ==  AddAllLocationsToAlert: reverting =========================================
    -- remove_column(...
       -> 0.0320s
    ==  AddAllLocationsToAlert: reverted (0.0321s) ================================

",5
1786018,11/23/2009 21:15:29,217354,11/23/2009 21:15:29,1,0,rails redirect after create problem,"Could anyone help with this problem:

Upon ""create"", the user is redirected to the url: model/model_id (eg post/1), instead I am redirected to models/url_encoding_object (eg posts/.%23<group:0x3943f24>) and there is an ""406 Not Acceptable"" message in the console.

Typically, upon create, the console's message is ""Processing PostsController#create (for 000.0.0.0 at 2009-11-23 12:32:52) [POST]"", but with this error, the message is ""Processing PostsController#create to #<post:0x3943f24> (for 000.0.0.0 at 2009-11-23 12:32:52) [POST]""

I've seen austinfromboston's response and tried his ""old fashioned but effective"" solution to that similar problem, but it doesn't work for me.

Any help would be greatly appreciated

",ruby-on-rails,redirect,create,object,,,open,0,93,5,"rails redirect after create problem Could anyone help with this problem:

Upon ""create"", the user is redirected to the url: model/model_id (eg post/1), instead I am redirected to models/url_encoding_object (eg posts/.%23<group:0x3943f24>) and there is an ""406 Not Acceptable"" message in the console.

Typically, upon create, the console's message is ""Processing PostsController#create (for 000.0.0.0 at 2009-11-23 12:32:52) [POST]"", but with this error, the message is ""Processing PostsController#create to #<post:0x3943f24> (for 000.0.0.0 at 2009-11-23 12:32:52) [POST]""

I've seen austinfromboston's response and tried his ""old fashioned but effective"" solution to that similar problem, but it doesn't work for me.

Any help would be greatly appreciated

",4
3143744,06/29/2010 18:44:21,168143,09/03/2009 20:31:24,165,13,Clearing out session data in a Rails application,"I find it odd that rails doesn't have a standard way of clearing out old sessions (file, ActiveRecord, or otherwise). There's a rake task that deletes all of them, which is not what I need (need to only delete sessions older than X weeks).

I can write a 3-line script and run it periodically easily enough, but wanted to first check if there is a best practice that I'm missing out on.
",ruby-on-rails,session,,,,,open,0,71,8,"Clearing out session data in a Rails application I find it odd that rails doesn't have a standard way of clearing out old sessions (file, ActiveRecord, or otherwise). There's a rake task that deletes all of them, which is not what I need (need to only delete sessions older than X weeks).

I can write a 3-line script and run it periodically easily enough, but wanted to first check if there is a best practice that I'm missing out on.
",2
2547175,03/30/2010 17:18:48,226651,12/07/2009 20:23:04,1,0,Is using js.erb files in conjunction with rails and jquery safe?,"I have seen many resources on using jQuery with rails where people recommend having callback functions in .js.erb files, however I have also heard that passing data this way leaves me vulnerable to man in the middle attacks.  Is this true?  What are the security concerns and is there a way to do it safely?

Thanks",ruby-on-rails,jquery,security,erb,,,open,0,57,11,"Is using js.erb files in conjunction with rails and jquery safe? I have seen many resources on using jQuery with rails where people recommend having callback functions in .js.erb files, however I have also heard that passing data this way leaves me vulnerable to man in the middle attacks.  Is this true?  What are the security concerns and is there a way to do it safely?

Thanks",4
1896007,12/13/2009 09:31:07,147564,07/30/2009 03:21:26,83,1,Is it possible for rails to save multiple data type in same db column ?,"I tried to simulate variable_set and variable_get in drupal which use as site-wide variables storage. I tried something like this.

    # == Schema Information
    # Schema version: 20091212170012
    #
    # Table name: variables
    #
    #  id         :integer         not null, primary key
    #  name       :string(255)
    #  value      :text
    #  created_at :datetime
    #  updated_at :datetime
    #
    
    class Variable < ActiveRecord::Base
      serialize :value
    
      validates_uniqueness_of :name
      validates_presence_of :name, :value
      
    
      def self.set(name, value)
        v = Variable.new() 
        v.name = name
        v.value = value
        v.save
      end  
      
      def self.get(name)
        Variable.find_by_name(name).value
      end
    
    end

but it doesn't work.

",ruby-on-rails,,,,,,open,0,259,15,"Is it possible for rails to save multiple data type in same db column ? I tried to simulate variable_set and variable_get in drupal which use as site-wide variables storage. I tried something like this.

    # == Schema Information
    # Schema version: 20091212170012
    #
    # Table name: variables
    #
    #  id         :integer         not null, primary key
    #  name       :string(255)
    #  value      :text
    #  created_at :datetime
    #  updated_at :datetime
    #
    
    class Variable < ActiveRecord::Base
      serialize :value
    
      validates_uniqueness_of :name
      validates_presence_of :name, :value
      
    
      def self.set(name, value)
        v = Variable.new() 
        v.name = name
        v.value = value
        v.save
      end  
      
      def self.get(name)
        Variable.find_by_name(name).value
      end
    
    end

but it doesn't work.

",1
10224296,04/19/2012 08:27:00,821244,06/29/2011 14:01:39,108,2,Add asset path in rails mountable engine?,"How can I add ```vendor/assets/javascripts/mymountableengine``` or ```vendor/assets/stylesheets/mymountableengine``` to my mountable engine's assets paths? I want to be able to require files from these folders in my mountable engine's application.js file with sprockets.

Thanks.",ruby-on-rails,rails-engines,,,,,open,0,32,7,"Add asset path in rails mountable engine? How can I add ```vendor/assets/javascripts/mymountableengine``` or ```vendor/assets/stylesheets/mymountableengine``` to my mountable engine's assets paths? I want to be able to require files from these folders in my mountable engine's application.js file with sprockets.

Thanks.",2
10117438,04/12/2012 04:37:08,214365,11/19/2009 06:45:06,1277,41,Storing user preference from collection of checkboxes,"I have a collection of checkboxes of names that a user can select multiple of. 

I want to save the users selection for the next time they login. 

However, over time some names may get removed while new ones may get added. Added names can remain unchecked, but I wouldn't want to keep storing id's of deleted names. 

So how should I go about this?",ruby-on-rails,ruby,preferences,,,,open,0,65,7,"Storing user preference from collection of checkboxes I have a collection of checkboxes of names that a user can select multiple of. 

I want to save the users selection for the next time they login. 

However, over time some names may get removed while new ones may get added. Added names can remain unchecked, but I wouldn't want to keep storing id's of deleted names. 

So how should I go about this?",3
11353839,07/05/2012 23:18:52,1248879,03/05/2012 01:41:22,23,0,How can I properly use hidden_fields with ruby on rails to pass information to the controller?,"I am attempting to allow the user to press a button create a new entry into the database using a hidden_field. However, the one bit of information I do want passed to the database is not making it there.

form on the view

    <%= form_for(current_user.rounds.build(:round_id => '201202)) do |f| %>
        <div><%= f.hidden_field :round_id %></div>
        <%= f.submit ""Register"", class: ""btn btn-large"" %>
    <% end %>

controller

    def create
        @register = current_user.rounds.build(params[:round_id])
        if @register.save
            redirect_to root_path, :flash => { :success => ""Registered"" }
        end
    end

This code however creates a new entry in the database with a user_id but no round_id.

Can someone show me where my mistake is?

Thanks
    ",ruby-on-rails,hidden-field,,,,,open,0,165,16,"How can I properly use hidden_fields with ruby on rails to pass information to the controller? I am attempting to allow the user to press a button create a new entry into the database using a hidden_field. However, the one bit of information I do want passed to the database is not making it there.

form on the view

    <%= form_for(current_user.rounds.build(:round_id => '201202)) do |f| %>
        <div><%= f.hidden_field :round_id %></div>
        <%= f.submit ""Register"", class: ""btn btn-large"" %>
    <% end %>

controller

    def create
        @register = current_user.rounds.build(params[:round_id])
        if @register.save
            redirect_to root_path, :flash => { :success => ""Registered"" }
        end
    end

This code however creates a new entry in the database with a user_id but no round_id.

Can someone show me where my mistake is?

Thanks
    ",2
10253697,04/20/2012 21:20:04,1211936,02/15/2012 17:00:59,10,1,Rails 3.1+ Simple Nested Form and Twitter Bootstrap Validation,"I need some help with handling validations with Twitter Bootstrap Properly. The validations are working properly, the issue is Twitter Bootstrap Flash screen. This is what I mean:

No fields filled out and submitted returns: http://i.stack.imgur.com/8pvUc.png

The 2 of the required 4 fields submitted returns: http://i.stack.imgur.com/J6lCi.png
(notice that it doesn't flash the errors)

I have a basketball app where a Player can be on many Rosters(for player roster archiving purposes) and a Roster can have many Players.

**Roster.rb**

    class Roster < ActiveRecord::Base
      belongs_to :team
      has_many :rosterizes
      has_many :players, :through => :rosterizes
      accepts_nested_attributes_for :players
      validates_presence_of :jersey_number, :class_year
      attr_accessible :jersey_number, :class_year, :players, :team_id, :players_attributes
    end

**Rosterizes.rb**(poorly named I know...)

    class Rosterize < ActiveRecord::Base
      belongs_to :player
      belongs_to :roster
      attr_accessible :player_id, :roster_id
    end

**Player.rb**

    class Player < ActiveRecord::Base
      has_many :rosterizes
      has_many :rosters, :through => :rosterizes
      validates_presence_of :first_name, :last_name
      attr_accessible :first_name, :last_name, :active
    end

**_add_player_form.html.erb**
(nested form)

    <%= simple_nested_form_for @roster, :url =>player_added_team_path, :html => { :class => 'form-horizontal' } do |f| %>	
    	<%= f.simple_fields_for :players, @roster.players.build do |x| %>
    		<%= x.input :first_name %>
    		<%= x.input :last_name %>
    		<%= x.input :active, :as => :hidden, :input_html => {:value => true} %>
    	<%end%>
    	<%=f.input :class_year %>		
    	<%=f.input :jersey_number %>
    	<%=f.input :team_id, :as => :hidden, :input_html => {:value => params[:id]}%>
    	
    	<div class=""well"">
        <%= f.button :submit, :class => 'btn-primary icon-plus-sign btn-success', :value => ""Add To Team"" %>
      	</div>
    <%end%>

Thanks for the help in advance!
",ruby-on-rails,ruby-on-rails-3.1,twitter-bootstrap,nested-attributes,simple-form,,open,0,347,9,"Rails 3.1+ Simple Nested Form and Twitter Bootstrap Validation I need some help with handling validations with Twitter Bootstrap Properly. The validations are working properly, the issue is Twitter Bootstrap Flash screen. This is what I mean:

No fields filled out and submitted returns: http://i.stack.imgur.com/8pvUc.png

The 2 of the required 4 fields submitted returns: http://i.stack.imgur.com/J6lCi.png
(notice that it doesn't flash the errors)

I have a basketball app where a Player can be on many Rosters(for player roster archiving purposes) and a Roster can have many Players.

**Roster.rb**

    class Roster < ActiveRecord::Base
      belongs_to :team
      has_many :rosterizes
      has_many :players, :through => :rosterizes
      accepts_nested_attributes_for :players
      validates_presence_of :jersey_number, :class_year
      attr_accessible :jersey_number, :class_year, :players, :team_id, :players_attributes
    end

**Rosterizes.rb**(poorly named I know...)

    class Rosterize < ActiveRecord::Base
      belongs_to :player
      belongs_to :roster
      attr_accessible :player_id, :roster_id
    end

**Player.rb**

    class Player < ActiveRecord::Base
      has_many :rosterizes
      has_many :rosters, :through => :rosterizes
      validates_presence_of :first_name, :last_name
      attr_accessible :first_name, :last_name, :active
    end

**_add_player_form.html.erb**
(nested form)

    <%= simple_nested_form_for @roster, :url =>player_added_team_path, :html => { :class => 'form-horizontal' } do |f| %>	
    	<%= f.simple_fields_for :players, @roster.players.build do |x| %>
    		<%= x.input :first_name %>
    		<%= x.input :last_name %>
    		<%= x.input :active, :as => :hidden, :input_html => {:value => true} %>
    	<%end%>
    	<%=f.input :class_year %>		
    	<%=f.input :jersey_number %>
    	<%=f.input :team_id, :as => :hidden, :input_html => {:value => params[:id]}%>
    	
    	<div class=""well"">
        <%= f.button :submit, :class => 'btn-primary icon-plus-sign btn-success', :value => ""Add To Team"" %>
      	</div>
    <%end%>

Thanks for the help in advance!
",5
8811475,01/10/2012 22:29:45,800737,06/16/2011 03:16:00,255,5,Cheap Ruby on Rails hosting? Not heroku; $34 p/m is not cheap,"Anyone know where I can host my Rails apps for a decent price? Heroku's ""free"" service is not really free since the app will reach the 750 free hours if it has active users 24/7.

Anyone know where I can find hosting for rails apps to the equivalent of shared hosting? Something cheap like $6 - $15 per month to host very simple apps.

",ruby-on-rails,,,,,01/10/2012 22:51:50,off topic,1,63,12,"Cheap Ruby on Rails hosting? Not heroku; $34 p/m is not cheap Anyone know where I can host my Rails apps for a decent price? Heroku's ""free"" service is not really free since the app will reach the 750 free hours if it has active users 24/7.

Anyone know where I can find hosting for rails apps to the equivalent of shared hosting? Something cheap like $6 - $15 per month to host very simple apps.

",1
11159800,06/22/2012 15:54:56,844866,07/14/2011 15:12:28,80,0,Markup for comments - ruby on rails,"I would like to add the markup feature to the user's comment. In comments, if I type [s 1234] it should create a link to solution 1234 with link text ""Solution 1234"". I am new to rails and i am not sure how to go about it. Any suggestions/recommendation would be a great help to me ? Thanks.",ruby-on-rails,ruby-on-rails-3,markup,,,,open,0,58,7,"Markup for comments - ruby on rails I would like to add the markup feature to the user's comment. In comments, if I type [s 1234] it should create a link to solution 1234 with link text ""Solution 1234"". I am new to rails and i am not sure how to go about it. Any suggestions/recommendation would be a great help to me ? Thanks.",3
2703186,04/24/2010 04:09:05,104361,05/10/2009 13:15:24,247,8,How can I get Rails to interpret a text field as a datetime,"My database has a datetime field, and I want to be able to create new entries. Obviously the [Rails datetime_select helper][1] isn't the most user friendly thing to have in your form.

I'd rather have a text field for the datetime (or one for the date, and one for the time) and interpret the inputs like [PHP strtotime][2] can.

I might just be searching the wrong keywords. Surely this has been discussed in great depth somewhere.

Thanks 

:0)

  [1]: http://api.rubyonrails.org/classes/ActionView/Helpers/DateHelper.html#M001700
  [2]: http://php.net/manual/en/function.strtotime.php",ruby-on-rails,datetime,strtotime,,,,open,0,81,13,"How can I get Rails to interpret a text field as a datetime My database has a datetime field, and I want to be able to create new entries. Obviously the [Rails datetime_select helper][1] isn't the most user friendly thing to have in your form.

I'd rather have a text field for the datetime (or one for the date, and one for the time) and interpret the inputs like [PHP strtotime][2] can.

I might just be searching the wrong keywords. Surely this has been discussed in great depth somewhere.

Thanks 

:0)

  [1]: http://api.rubyonrails.org/classes/ActionView/Helpers/DateHelper.html#M001700
  [2]: http://php.net/manual/en/function.strtotime.php",3
7695466,10/08/2011 07:40:29,199420,10/30/2009 04:48:16,1,0,rails standalone installer package for rail 3.xx,"Where can I find rails standalone installer package for the rails v.3.x.x?
I know I can use gem command and specify a particular version to download.
Is that available to download on some website like rubyforge?

Thanks in advance,
",ruby-on-rails,stand-alone,,,,07/31/2012 16:56:05,off topic,1,36,7,"rails standalone installer package for rail 3.xx Where can I find rails standalone installer package for the rails v.3.x.x?
I know I can use gem command and specify a particular version to download.
Is that available to download on some website like rubyforge?

Thanks in advance,
",2
11711423,07/29/2012 17:36:19,1436131,06/04/2012 21:58:51,21,4,Check to See if A Particular Active Record Object Is In A Particular 'Scope',"Currently on save I am trying to check to see if a recorded falls into a particular 'scope'. This 'scope' really is just some saved arguments for a .where call. Also with this 'scope' I am only ever checking values of the object, not ever how it relates to other objects in the database, so querying the database will always be over kill if that makes sense. 

I have only been able to come up with the below solution

    begin
       result = self.class.where(scope).find(self.id)
    rescue
      result = false
    end

The issue with this is that I have to query the database even though I already have the record, and I have to run this not only before save but after save to check the values it was and the values it will be after save, because there is no way to query the database for the updated version if it hasn't been saved. 

There can be a number of these checks so I would like to avoid having to do it twice, and also having to query the database that many times, even if ultimately I am just looking something up by id.

The only other solution I have been able to think of would be to have a method that some how translates the where call into a proc that return a boolean when passed an object. The only issue with that is translating it would some how have to work with the active record adapter being used, which seems like a whole project to its own. So does anyone know of some way to do this, or of a gem that would help?

PS I getting the 'scope' from cache so I can't save it as a proc because you can't put procs into the cache with Rails.",ruby-on-rails,activerecord,,,,,open,0,316,14,"Check to See if A Particular Active Record Object Is In A Particular 'Scope' Currently on save I am trying to check to see if a recorded falls into a particular 'scope'. This 'scope' really is just some saved arguments for a .where call. Also with this 'scope' I am only ever checking values of the object, not ever how it relates to other objects in the database, so querying the database will always be over kill if that makes sense. 

I have only been able to come up with the below solution

    begin
       result = self.class.where(scope).find(self.id)
    rescue
      result = false
    end

The issue with this is that I have to query the database even though I already have the record, and I have to run this not only before save but after save to check the values it was and the values it will be after save, because there is no way to query the database for the updated version if it hasn't been saved. 

There can be a number of these checks so I would like to avoid having to do it twice, and also having to query the database that many times, even if ultimately I am just looking something up by id.

The only other solution I have been able to think of would be to have a method that some how translates the where call into a proc that return a boolean when passed an object. The only issue with that is translating it would some how have to work with the active record adapter being used, which seems like a whole project to its own. So does anyone know of some way to do this, or of a gem that would help?

PS I getting the 'scope' from cache so I can't save it as a proc because you can't put procs into the cache with Rails.",2
4690731,01/14/2011 11:51:33,198128,10/28/2009 14:05:36,1424,31,ROR: Higher development speed than others?,"It's been shown that Ruby On Rails isn't especially fast in a performance perspective. Even PHP may be faster, but obviously there's other things that adds up to the cons of Ruby On Rails. Development speed is among those and commonly mentioned by people as one of ROR's biggest strengths.

However I have not seen any objective opinions on this. Does Ruby On Rails really help to keep development speeds lower than other web application programming languages?


",ruby-on-rails,ruby,performance,,,01/14/2011 12:30:49,not constructive,1,76,6,"ROR: Higher development speed than others? It's been shown that Ruby On Rails isn't especially fast in a performance perspective. Even PHP may be faster, but obviously there's other things that adds up to the cons of Ruby On Rails. Development speed is among those and commonly mentioned by people as one of ROR's biggest strengths.

However I have not seen any objective opinions on this. Does Ruby On Rails really help to keep development speeds lower than other web application programming languages?


",3
9898781,03/27/2012 22:43:25,1011444,10/24/2011 18:23:20,26,0,What's the difference between a 5$/mo and a 20$/mo web hosting?,"I need to put on the Internet my portfolio and a few other projects (http://myportfolio.com/website1 for example). I was thinking of a low budget web hosting like Bluehost. 

I'm learning Ruby on Rails and I plan to continue on this road, and [Bluehost][1] does support Ruby on Rails and PostgreSQL (which I'm using). But I saw on the Internet people recommending Heroku (which seems a bit pricy for the relatively little exposition I'll have) or [Linode][2], Slicehost, which are more like 20$/mo or more.

Which one should I take, and above all what's the difference? (I heard about hosting Rails apps in a ""shared environement"" not being recommendable, etc.) 

Thanks in advance.


  [1]: https://www.bluehost.com/
  [2]: http://www.linode.com/",ruby-on-rails,web-hosting,,,,03/27/2012 23:10:37,off topic,1,117,11,"What's the difference between a 5$/mo and a 20$/mo web hosting? I need to put on the Internet my portfolio and a few other projects (http://myportfolio.com/website1 for example). I was thinking of a low budget web hosting like Bluehost. 

I'm learning Ruby on Rails and I plan to continue on this road, and [Bluehost][1] does support Ruby on Rails and PostgreSQL (which I'm using). But I saw on the Internet people recommending Heroku (which seems a bit pricy for the relatively little exposition I'll have) or [Linode][2], Slicehost, which are more like 20$/mo or more.

Which one should I take, and above all what's the difference? (I heard about hosting Rails apps in a ""shared environement"" not being recommendable, etc.) 

Thanks in advance.


  [1]: https://www.bluehost.com/
  [2]: http://www.linode.com/",2
7098670,08/17/2011 19:58:55,826610,07/03/2011 05:24:26,18,0,Rails failing in ubuntu. Can anyone say why?,"I have installed rails 2.3.5. Rails was working properly till yesterday. All of a sudden, it is throwing the following error
![enter image description here][1]

Here is my gem list
![enter image description here][2]


  [1]: http://i.stack.imgur.com/3WEJh.png
  [2]: http://i.stack.imgur.com/EOsxy.png",ruby-on-rails,ubuntu,,,,08/17/2011 20:25:15,not a real question,1,37,8,"Rails failing in ubuntu. Can anyone say why? I have installed rails 2.3.5. Rails was working properly till yesterday. All of a sudden, it is throwing the following error
![enter image description here][1]

Here is my gem list
![enter image description here][2]


  [1]: http://i.stack.imgur.com/3WEJh.png
  [2]: http://i.stack.imgur.com/EOsxy.png",2
11633282,07/24/2012 14:40:06,1090640,12/09/2011 23:28:11,-8,0,how to attach an image to a micropost in ruby on rails,am building a social network which enables users to post microposts and i want a scenario which the user can add an image to the micropost. i.e append an image to that particular micropost .my micropst TABLE contains only :content which is a text. i will be glad for an immediate answer.,ruby-on-rails,image,,,,07/25/2012 12:11:16,not a real question,1,52,12,how to attach an image to a micropost in ruby on rails am building a social network which enables users to post microposts and i want a scenario which the user can add an image to the micropost. i.e append an image to that particular micropost .my micropst TABLE contains only :content which is a text. i will be glad for an immediate answer.,2
2472148,03/18/2010 17:44:28,132331,07/02/2009 14:53:31,68,2,Rails + AMCharts with vertical legend,"I followed http://railsontherun.com/2007/10/04/sexy-charts-in-less-than-5-minutes/ to get regular line charts working on my rails app. Now I'm trying to use http://www.amcharts.com/stock/vertical-legend/ but the I seem to be running into issues. Can anyone tell by looking at the tutorial what needs to change to make it work?

Thanks,
Elliot ",ruby-on-rails,amchart,,,,,open,0,45,6,"Rails + AMCharts with vertical legend I followed http://railsontherun.com/2007/10/04/sexy-charts-in-less-than-5-minutes/ to get regular line charts working on my rails app. Now I'm trying to use http://www.amcharts.com/stock/vertical-legend/ but the I seem to be running into issues. Can anyone tell by looking at the tutorial what needs to change to make it work?

Thanks,
Elliot ",2
6835192,07/26/2011 19:07:59,802471,06/17/2011 00:05:32,93,18,Is there a way to blacklist extensions in Paperclip?,"I have an app that must accept *almost* every file type except those known to be malitious (ie exe, dll, bat, etc).  I am using Paperclip and am wondering if there is a way to do this.  Following the commit on github, https://github.com/thoughtbot/paperclip/commit/020625921adae884534608d76c11f65692e4bbec, it looks like it may be possible.  But I am sure.",ruby-on-rails,ruby-on-rails-3,paperclip,attachments,,,open,0,57,9,"Is there a way to blacklist extensions in Paperclip? I have an app that must accept *almost* every file type except those known to be malitious (ie exe, dll, bat, etc).  I am using Paperclip and am wondering if there is a way to do this.  Following the commit on github, https://github.com/thoughtbot/paperclip/commit/020625921adae884534608d76c11f65692e4bbec, it looks like it may be possible.  But I am sure.",4
5266966,03/10/2011 23:02:22,654371,03/10/2011 21:59:35,1,0,JSON and carrierwave iphone problem,"I've been struggling with this issue for more than a week!

I'm having trouble POSTing images from my iphone to a backend rails server with carrierwave gem configured. Posting through the web form works just fine though, also, posting text from iphone through JSON works as well.

Here is my photo controller:

      class PhotosController < ApplicationController
      def new
        @photo = Photo.new(:user_id => params[:user_id])
      end
    
      def create
        @photo  = current_user.photos.build(params[:photo])
        if @photo.save
          
          respond_to do |format|
             format.html { flash[:notice] = ""Successfully created photo.""
             redirect_to @photo.user 
             }
             format.json { 
              render :json => {:action => 'create', :owner => current_user}
            }
          end
        else
          render :action => 'new'
        end
      end


and here is the objective-c code:

    UIImage *image  = [UIImage imageNamed:@""moon.png""];
        NSData *imageData = UIImagePNGRepresentation(image);
        
        NSString *urlString=[NSString stringWithFormat:@""http://127.0.0.1:3000/photos.json""];
    	// setting up the URL to post to
    	
    	// setting up the request object now
    	NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
    	[request setURL:[NSURL URLWithString:urlString]];
    	[request setHTTPMethod:@""POST""];
   
    	NSString *boundary = [NSString stringWithString:@""---------------------------14737809831466499882746641449""];
    	NSString *contentType = [NSString stringWithFormat:@""multipart/form-data; boundary=%@"",boundary];
    	[request addValue:contentType forHTTPHeaderField: @""Content-Type""];
    	
    	
    	NSMutableData *body = [NSMutableData data];
    	[body appendData:[[NSString stringWithFormat:@""\r\n--%@\r\n"",boundary] dataUsingEncoding:NSUTF8StringEncoding]];	
    	[body appendData:[[NSString stringWithString:@""Content-Disposition: form-data; name=\""userfile\""; filename=\""ipodfile.jpg\""\r\n""] dataUsingEncoding:NSUTF8StringEncoding]];
    	[body appendData:[[NSString stringWithString:@""Content-Type: application/octet-stream\r\n\r\n""] dataUsingEncoding:NSUTF8StringEncoding]];
    	[body appendData:[NSData dataWithData:imageData]];
    	[body appendData:[[NSString stringWithFormat:@""\r\n--%@--\r\n"",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    	// setting the body of the post to the reqeust
    	[request setHTTPBody:body];
    	
    	// now lets make the connection to the web
    	NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
    	NSString *returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];
    	
    	NSLog(returnString);


the response i'm getting from the server is:

""EOFError (bad content body)""

the objective-c code was tested with a php server and the upload was successful!
so I guess my problem has to do with my rails/carrierwave setup. please help me getting the bloody images out of my iPhone and to my rails server. 

your help is greatly appreciated.


",ruby-on-rails,json,ios,carrierwave,,04/15/2011 19:57:13,not a real question,1,565,5,"JSON and carrierwave iphone problem I've been struggling with this issue for more than a week!

I'm having trouble POSTing images from my iphone to a backend rails server with carrierwave gem configured. Posting through the web form works just fine though, also, posting text from iphone through JSON works as well.

Here is my photo controller:

      class PhotosController < ApplicationController
      def new
        @photo = Photo.new(:user_id => params[:user_id])
      end
    
      def create
        @photo  = current_user.photos.build(params[:photo])
        if @photo.save
          
          respond_to do |format|
             format.html { flash[:notice] = ""Successfully created photo.""
             redirect_to @photo.user 
             }
             format.json { 
              render :json => {:action => 'create', :owner => current_user}
            }
          end
        else
          render :action => 'new'
        end
      end


and here is the objective-c code:

    UIImage *image  = [UIImage imageNamed:@""moon.png""];
        NSData *imageData = UIImagePNGRepresentation(image);
        
        NSString *urlString=[NSString stringWithFormat:@""http://127.0.0.1:3000/photos.json""];
    	// setting up the URL to post to
    	
    	// setting up the request object now
    	NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
    	[request setURL:[NSURL URLWithString:urlString]];
    	[request setHTTPMethod:@""POST""];
   
    	NSString *boundary = [NSString stringWithString:@""---------------------------14737809831466499882746641449""];
    	NSString *contentType = [NSString stringWithFormat:@""multipart/form-data; boundary=%@"",boundary];
    	[request addValue:contentType forHTTPHeaderField: @""Content-Type""];
    	
    	
    	NSMutableData *body = [NSMutableData data];
    	[body appendData:[[NSString stringWithFormat:@""\r\n--%@\r\n"",boundary] dataUsingEncoding:NSUTF8StringEncoding]];	
    	[body appendData:[[NSString stringWithString:@""Content-Disposition: form-data; name=\""userfile\""; filename=\""ipodfile.jpg\""\r\n""] dataUsingEncoding:NSUTF8StringEncoding]];
    	[body appendData:[[NSString stringWithString:@""Content-Type: application/octet-stream\r\n\r\n""] dataUsingEncoding:NSUTF8StringEncoding]];
    	[body appendData:[NSData dataWithData:imageData]];
    	[body appendData:[[NSString stringWithFormat:@""\r\n--%@--\r\n"",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    	// setting the body of the post to the reqeust
    	[request setHTTPBody:body];
    	
    	// now lets make the connection to the web
    	NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
    	NSString *returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];
    	
    	NSLog(returnString);


the response i'm getting from the server is:

""EOFError (bad content body)""

the objective-c code was tested with a php server and the upload was successful!
so I guess my problem has to do with my rails/carrierwave setup. please help me getting the bloody images out of my iPhone and to my rails server. 

your help is greatly appreciated.


",4
7772710,10/14/2011 19:37:48,996044,10/14/2011 19:14:03,1,0,Beginer I am new but keen on learning Ruby on Rails need help.(starting from scratch with little programming experience in c and java),I am new but keen on learning Ruby on Rails need help.(starting from scratch with little programming experience in c and java).,ruby-on-rails,,,,,10/14/2011 22:04:16,not a real question,1,22,23,Beginer I am new but keen on learning Ruby on Rails need help.(starting from scratch with little programming experience in c and java) I am new but keen on learning Ruby on Rails need help.(starting from scratch with little programming experience in c and java).,1
8403372,12/06/2011 16:31:15,491400,10/29/2010 14:24:51,197,25,Rails: Database structure as models,"So this may sound a bit awkward, but I would like to have the database structure (tables, fkeys, columns) as a projection on Rails models e.g. the model 

    Table < ActiveModel 

which would  respond to call like 

    Table.find_by_name('Account').columns.each 

and so on. Is there any gem implementing something similar? ",ruby-on-rails,database,activemodel,,,,open,0,58,5,"Rails: Database structure as models So this may sound a bit awkward, but I would like to have the database structure (tables, fkeys, columns) as a projection on Rails models e.g. the model 

    Table < ActiveModel 

which would  respond to call like 

    Table.find_by_name('Account').columns.each 

and so on. Is there any gem implementing something similar? ",3
7139343,08/21/2011 15:54:37,893368,08/13/2011 20:25:17,8,0,Refinerycms - Adding an image field to the blog engine,"I have a refinerycms app with the community blog engine installed on it. I would like to add an image field to the blog_post so that I can choose a main image for the post and have it show in my views.

I've tried adding an image field, no joy. Then I looked at one of my other custom engines with an image field and that uses image_id to link to the main image table, so I tried adding an image_id field instead and the editing the blog_post model to have the same 'belongs_to"" line.  THe edit page for the blog loads, and the image picker partial works, but when I hit save it looks like nothing is being sent to my table.

One thing that concerns me is when I created my custom engine with the image field, I specified it as the field type image. This appears to have created the image_id field on the back end, and set everything up so I can still reference an image class. Adding an image field to the blog didn't do that, just created a field type called image. When inspecting the tables for my custom engine, there is no field type called image, so somewhere there is some transformation magic that I am not able to recreate.

Currently I have the following code:

Created this migration:

    class AddPictureToBlog < ActiveRecord::Migration
     def self.up
       add_column :blog_posts, :main_image_id, :integer
     end

     def self.down
       remove_column :blog_posts, :main_image_id
     end
    end

Added this to the blog_post model:

      belongs_to :main_image_id, :class_name => 'Image'

and have this on the view:

        <%= f.label :main_image_id -%>
    <%= render :partial => ""/shared/admin/image_picker"", :locals => {
          :f => f,
          :field => :main_image_id,
          :image => @blog_post.main_image_id,
          :toggle_image_display => false
        } %>

The custom engine doesn't even refer to the _id field, so I dont know which links im missing here. Any help would be greatly appreciated. It may not be a refinerycms specific problem at all - I am new at rails so there maybe some basics im missing here.

Thanks!",ruby-on-rails,model,refinerycms,,,,open,0,422,10,"Refinerycms - Adding an image field to the blog engine I have a refinerycms app with the community blog engine installed on it. I would like to add an image field to the blog_post so that I can choose a main image for the post and have it show in my views.

I've tried adding an image field, no joy. Then I looked at one of my other custom engines with an image field and that uses image_id to link to the main image table, so I tried adding an image_id field instead and the editing the blog_post model to have the same 'belongs_to"" line.  THe edit page for the blog loads, and the image picker partial works, but when I hit save it looks like nothing is being sent to my table.

One thing that concerns me is when I created my custom engine with the image field, I specified it as the field type image. This appears to have created the image_id field on the back end, and set everything up so I can still reference an image class. Adding an image field to the blog didn't do that, just created a field type called image. When inspecting the tables for my custom engine, there is no field type called image, so somewhere there is some transformation magic that I am not able to recreate.

Currently I have the following code:

Created this migration:

    class AddPictureToBlog < ActiveRecord::Migration
     def self.up
       add_column :blog_posts, :main_image_id, :integer
     end

     def self.down
       remove_column :blog_posts, :main_image_id
     end
    end

Added this to the blog_post model:

      belongs_to :main_image_id, :class_name => 'Image'

and have this on the view:

        <%= f.label :main_image_id -%>
    <%= render :partial => ""/shared/admin/image_picker"", :locals => {
          :f => f,
          :field => :main_image_id,
          :image => @blog_post.main_image_id,
          :toggle_image_display => false
        } %>

The custom engine doesn't even refer to the _id field, so I dont know which links im missing here. Any help would be greatly appreciated. It may not be a refinerycms specific problem at all - I am new at rails so there maybe some basics im missing here.

Thanks!",3
4610281,01/05/2011 23:24:12,251234,01/15/2010 02:18:22,170,1,Rails - Connecting checkboxes to change values for a join table ,"I have two models Events and Interests which are connected by a join table migration EventsInterests (event_id, interest_id, id=>false).

I was trying to create something where you could connect a set of interest categories to some events within my app.

I created a record in directly in the database and its showing up correctly, so I'm pretty sure the checkbox part is correct; but I cant edit the the record at all.  If I add another interest through the checkbox, nothing happens..Im not getting any errors and the log shows it calling the join table, so I'm guessing the issue is with my update statement.....

Im thinking its something with attr_accessible part but I dont know how to add that for a join table....do i just delete it?

events.rb 

      has_and_belongs_to_many :interests
      attr_accessible :name, :category

interests.rb
      
      has_and_belongs_to_many :events

In my edit form where I would like to add the records to the join table it looks like this.

    <%= form_for @event do |f| %>
    <%= f.error_messages %>
    
    <p>
       <%= f.label :title %><br />
        <%= f.text_field :title %>
     </p>
	
     <% for interest in @interests %>
	<div>
	<%= check_box_tag ""event[interest_ids][]"", interest.id, @event.interests.include?(interest) %>
	<%= interest.name %>
	</div>
	<% end %>	
       <p><%= f.submit %></p>

and the edit/update part in the controller looks like

     def update
    @event = Event.find(params[:id])
    params[:event][:interest_ids] ||= []
    if @event.update_attributes(params[:event])
      flash[:notice] = ""Successfully updated event.""
      redirect_to @event
    else
      render :action => 'edit'
    end
      end



",ruby-on-rails,checkbox,has-and-belongs-to-many,,,,open,0,323,12,"Rails - Connecting checkboxes to change values for a join table  I have two models Events and Interests which are connected by a join table migration EventsInterests (event_id, interest_id, id=>false).

I was trying to create something where you could connect a set of interest categories to some events within my app.

I created a record in directly in the database and its showing up correctly, so I'm pretty sure the checkbox part is correct; but I cant edit the the record at all.  If I add another interest through the checkbox, nothing happens..Im not getting any errors and the log shows it calling the join table, so I'm guessing the issue is with my update statement.....

Im thinking its something with attr_accessible part but I dont know how to add that for a join table....do i just delete it?

events.rb 

      has_and_belongs_to_many :interests
      attr_accessible :name, :category

interests.rb
      
      has_and_belongs_to_many :events

In my edit form where I would like to add the records to the join table it looks like this.

    <%= form_for @event do |f| %>
    <%= f.error_messages %>
    
    <p>
       <%= f.label :title %><br />
        <%= f.text_field :title %>
     </p>
	
     <% for interest in @interests %>
	<div>
	<%= check_box_tag ""event[interest_ids][]"", interest.id, @event.interests.include?(interest) %>
	<%= interest.name %>
	</div>
	<% end %>	
       <p><%= f.submit %></p>

and the edit/update part in the controller looks like

     def update
    @event = Event.find(params[:id])
    params[:event][:interest_ids] ||= []
    if @event.update_attributes(params[:event])
      flash[:notice] = ""Successfully updated event.""
      redirect_to @event
    else
      render :action => 'edit'
    end
      end



",3
11278479,06/30/2012 23:34:57,700074,04/09/2011 15:28:29,451,4,rspec with dynamic conditions,"I would like to include some dynamic data in my test output.

if I write a test like this then it prints out ""it should have '' things""

I figure I'm getting confused with rspec's magic and ruby's blocks as closures.

I can stick at count in a method outside the block but that seems hack-ish.

Any pointers?

    describe 'things' do
      before :all do
        @count = 3
      end
    
      it ""should have #{@count} things"" do
        #....
        page.should have_content(""entries: #{@count}"")
      end


    end


if I write a test like the above then it prints out ""it should have '' things""",ruby-on-rails,ruby,rspec,,,,open,0,143,4,"rspec with dynamic conditions I would like to include some dynamic data in my test output.

if I write a test like this then it prints out ""it should have '' things""

I figure I'm getting confused with rspec's magic and ruby's blocks as closures.

I can stick at count in a method outside the block but that seems hack-ish.

Any pointers?

    describe 'things' do
      before :all do
        @count = 3
      end
    
      it ""should have #{@count} things"" do
        #....
        page.should have_content(""entries: #{@count}"")
      end


    end


if I write a test like the above then it prints out ""it should have '' things""",3
3849390,10/03/2010 10:29:47,184600,10/05/2009 20:48:02,3932,165,How to cache HAML files in /tmp directory?,"I'm having an issue with HAML where it is attempting to write to a read-only filesystem (on a Heroku-deployed app).

I can only write to `/tmp` and `/log`. How can I configure HAML to write files to the `/tmp` directory?

Thanks!",ruby-on-rails,ruby-on-rails-3,heroku,haml,,,open,0,39,8,"How to cache HAML files in /tmp directory? I'm having an issue with HAML where it is attempting to write to a read-only filesystem (on a Heroku-deployed app).

I can only write to `/tmp` and `/log`. How can I configure HAML to write files to the `/tmp` directory?

Thanks!",4
6726618,07/17/2011 20:37:29,674329,03/24/2011 05:06:11,46,5,rails 'grandchild' joins query for two parallel 'grandparent' tables,"Is that the right way to label this query?  For those of you that know rails and sql well, I'm looking for some good information you could point me to

Quickly,

    User has_many :products
    Product has_many :posts    # Product is grandparent #1
    Event has_many :posts      # Event is grandparent #2
    Post belongs_to :event
    Post belongs_to :product
    Post has_many :orders      # Post is parent
    Order belongs_to :post     # Order is grandchild

I want to collect the orders from an event for a user (the seller), and here's my best crack at it (wrong syntax of course, because post belongs to both event and product) 

What is the proper way to join to two parallel parent tables?

    class Order < ActiveRecord::Base
      def self.collect_for_seller_and_event(user_id, event_id)
         self.joins(:post => {:event => :product}).where(:post => {:event_id => event_id}, :post => {:product => {:user_id => user_id}})
      end

Just to show that I have a basic understanding here, I've been able to get my first working nested join table going (I'm pretty excited about this accomplishment)

    BuyerFeedback 
    belongs_to :order
	def self.from_past_events
	   self.joins(:order => {:post => :event}).where(:order => {:post => {:event => {:date.lt => Date.today}}})
	end

",ruby-on-rails,join,grandchild,,,,open,0,250,9,"rails 'grandchild' joins query for two parallel 'grandparent' tables Is that the right way to label this query?  For those of you that know rails and sql well, I'm looking for some good information you could point me to

Quickly,

    User has_many :products
    Product has_many :posts    # Product is grandparent #1
    Event has_many :posts      # Event is grandparent #2
    Post belongs_to :event
    Post belongs_to :product
    Post has_many :orders      # Post is parent
    Order belongs_to :post     # Order is grandchild

I want to collect the orders from an event for a user (the seller), and here's my best crack at it (wrong syntax of course, because post belongs to both event and product) 

What is the proper way to join to two parallel parent tables?

    class Order < ActiveRecord::Base
      def self.collect_for_seller_and_event(user_id, event_id)
         self.joins(:post => {:event => :product}).where(:post => {:event_id => event_id}, :post => {:product => {:user_id => user_id}})
      end

Just to show that I have a basic understanding here, I've been able to get my first working nested join table going (I'm pretty excited about this accomplishment)

    BuyerFeedback 
    belongs_to :order
	def self.from_past_events
	   self.joins(:order => {:post => :event}).where(:order => {:post => {:event => {:date.lt => Date.today}}})
	end

",3
9135336,02/03/2012 20:54:00,887128,08/10/2011 03:41:37,539,38,What is the correct way to load a module from lib/?,"I have a Tournament model, which represents a tournament (I assume most people are familiar with what a tournament is). I want my tournaments to be accessed the same way, using RESTful routes, but I also wish to allow tournaments of multiple formats. Since there is a considerable amount of logic involved in generating a tournament in a particular format, I want a way to separate the format logic, and store that logic in a module. This is my setup:

In lib/formats/ I have single_elimination.rb:

    module SingleElimination
      def test
        ""Hello""
      end
    end

I then modified my application configuration to add:

    config.autoload_paths += %W(#{config.root}/lib/formats/)

Finally, I added this to my Tournament model:

    class Tournament < ActiveRecord::Base
      include SingleElimination
      # ...
    end

However, I get this error: `uninitialized constant Tournament::SingleElimination`

What can I do to resolve this problem?

",ruby-on-rails,ruby,ruby-on-rails-3,,,,open,0,173,11,"What is the correct way to load a module from lib/? I have a Tournament model, which represents a tournament (I assume most people are familiar with what a tournament is). I want my tournaments to be accessed the same way, using RESTful routes, but I also wish to allow tournaments of multiple formats. Since there is a considerable amount of logic involved in generating a tournament in a particular format, I want a way to separate the format logic, and store that logic in a module. This is my setup:

In lib/formats/ I have single_elimination.rb:

    module SingleElimination
      def test
        ""Hello""
      end
    end

I then modified my application configuration to add:

    config.autoload_paths += %W(#{config.root}/lib/formats/)

Finally, I added this to my Tournament model:

    class Tournament < ActiveRecord::Base
      include SingleElimination
      # ...
    end

However, I get this error: `uninitialized constant Tournament::SingleElimination`

What can I do to resolve this problem?

",3
6497509,06/27/2011 18:52:58,155720,08/13/2009 10:55:50,1224,80,Ruby performance issue,"I am running into a problem these past following weeks.
The problem is that ruby performance is absolutely horrible.

Attached is a screenshot of newrelic, check out the performance of ruby.
![NewRelic Screenshot][1]

I am running ruby 1.8.7, Rails 2.3.

What can cause this issue?
how can I fix it?


  [1]: http://i.stack.imgur.com/na9ZY.png",ruby-on-rails,ruby,,,,06/27/2011 20:24:28,not a real question,1,47,3,"Ruby performance issue I am running into a problem these past following weeks.
The problem is that ruby performance is absolutely horrible.

Attached is a screenshot of newrelic, check out the performance of ruby.
![NewRelic Screenshot][1]

I am running ruby 1.8.7, Rails 2.3.

What can cause this issue?
how can I fix it?


  [1]: http://i.stack.imgur.com/na9ZY.png",2
7701666,10/09/2011 05:38:04,25416,10/06/2008 08:01:28,5399,201,Store TimeZone with Mongoid,"I have the following Mongoid model...

    class Event
      include Mongoid::Document
      include Mongoid::Timestamps::Created
      include Mongoid::Timestamps::Updated
      include Mongoid::MultiParameterAttributes
    
      key :name
    
      field :name
      field :begins_at, type: Time
      field :ends_at, type: Time
      
      belongs_to :city
      
      attr_accessor :time_zone
    end

I'd like to be able to have a per-event TimeZone.  Obviously due to the complications of time zones the best way to handle this is to store times in UTC when going to the DB and convert back to the event's time zone on the way out of the DB.

I know ActiveRecord has support for this and I was wondering if Mongoid has any kind of native support for this.",ruby-on-rails,mongodb,time,mongoid,,,open,0,179,4,"Store TimeZone with Mongoid I have the following Mongoid model...

    class Event
      include Mongoid::Document
      include Mongoid::Timestamps::Created
      include Mongoid::Timestamps::Updated
      include Mongoid::MultiParameterAttributes
    
      key :name
    
      field :name
      field :begins_at, type: Time
      field :ends_at, type: Time
      
      belongs_to :city
      
      attr_accessor :time_zone
    end

I'd like to be able to have a per-event TimeZone.  Obviously due to the complications of time zones the best way to handle this is to store times in UTC when going to the DB and convert back to the event's time zone on the way out of the DB.

I know ActiveRecord has support for this and I was wondering if Mongoid has any kind of native support for this.",4
7324172,09/06/2011 18:04:12,931281,09/06/2011 18:04:12,1,0,Passenger load balancing for rails app,"I'm using passenger (3.0.8), and nginx (1.0.5) to serve a rails app (2.3.12) running on ruby (ree-1.8.7-2011.03) on top of Ubuntu 10.04 (64 bit).

The site gets a decent amount of traffic, and I had previously been using apache + mongrel with about 30 instances in the mongrel cluster. After switching to nginx + passenger, it seems to load balance strangely, and has never fired up more than the minimum number of instances (5).

After hitting the site with 4 slow running requests simultaneously, I was not able to load the main page until after the other requests finished. I would have expected to see passenger spawn additional instances (or at least serve a request on the 5th instance). What is going on?

    root:~# passenger-status 
    ----------- General information -----------
    max      = 50
    count    = 5
    active   = 0
    inactive = 5
    Waiting on global queue: 0

    ----------- Application groups -----------
    /home/user/apps/production/current:
      App root: /home/user/apps/production/current
      * PID: 10414   Sessions: 0    Processed: 1070    Uptime: 49m 3s
      * PID: 10404   Sessions: 0    Processed: 1196    Uptime: 49m 6s
      * PID: 10410   Sessions: 0    Processed: 513     Uptime: 49m 3s
      * PID: 10408   Sessions: 0    Processed: 194     Uptime: 49m 3s
      * PID: 10412   Sessions: 0    Processed: 0       Uptime: 49m 3s


Nginx config:

    #user  www-data;
    worker_processes  1;

    events {
      worker_connections  1024;
    }


    http {
      passenger_root /usr/local/rvm/gems/ree-1.8.7-2011.03/gems/passenger-3.0.8;
      passenger_ruby /usr/local/rvm/wrappers/ree-1.8.7-2011.03/ruby;

      passenger_max_pool_size 50;
      passenger_min_instances 5;
      passenger_pool_idle_time 300;

      include       mime.types;
      default_type  application/octet-stream;

      sendfile        on;
      keepalive_timeout  65;
      proxy_redirect off;

      server {
        listen         443;
        server_name    site.com;
        access_log     logs/site.com.log;

        ssl                  on;
        ssl_certificate      /etc/ssl/certs/site.com.chained.crt;
        ssl_certificate_key  /etc/ssl/certs/site.com.key;

        ssl_session_timeout  5m;

        ssl_protocols  SSLv2 SSLv3 TLSv1;
        ssl_ciphers  ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;
        ssl_prefer_server_ciphers   on;

        rails_env production;
        passenger_enabled on;
        passenger_use_global_queue on;
        root /home/user/apps/production/current/public;

        error_page   500 502 503 504  /500.html;
        error_page   404 /404.html;
        error_page   422 /422.html;
      }
    }",ruby-on-rails,ruby,nginx,passenger,,09/08/2011 02:07:26,off topic,1,663,6,"Passenger load balancing for rails app I'm using passenger (3.0.8), and nginx (1.0.5) to serve a rails app (2.3.12) running on ruby (ree-1.8.7-2011.03) on top of Ubuntu 10.04 (64 bit).

The site gets a decent amount of traffic, and I had previously been using apache + mongrel with about 30 instances in the mongrel cluster. After switching to nginx + passenger, it seems to load balance strangely, and has never fired up more than the minimum number of instances (5).

After hitting the site with 4 slow running requests simultaneously, I was not able to load the main page until after the other requests finished. I would have expected to see passenger spawn additional instances (or at least serve a request on the 5th instance). What is going on?

    root:~# passenger-status 
    ----------- General information -----------
    max      = 50
    count    = 5
    active   = 0
    inactive = 5
    Waiting on global queue: 0

    ----------- Application groups -----------
    /home/user/apps/production/current:
      App root: /home/user/apps/production/current
      * PID: 10414   Sessions: 0    Processed: 1070    Uptime: 49m 3s
      * PID: 10404   Sessions: 0    Processed: 1196    Uptime: 49m 6s
      * PID: 10410   Sessions: 0    Processed: 513     Uptime: 49m 3s
      * PID: 10408   Sessions: 0    Processed: 194     Uptime: 49m 3s
      * PID: 10412   Sessions: 0    Processed: 0       Uptime: 49m 3s


Nginx config:

    #user  www-data;
    worker_processes  1;

    events {
      worker_connections  1024;
    }


    http {
      passenger_root /usr/local/rvm/gems/ree-1.8.7-2011.03/gems/passenger-3.0.8;
      passenger_ruby /usr/local/rvm/wrappers/ree-1.8.7-2011.03/ruby;

      passenger_max_pool_size 50;
      passenger_min_instances 5;
      passenger_pool_idle_time 300;

      include       mime.types;
      default_type  application/octet-stream;

      sendfile        on;
      keepalive_timeout  65;
      proxy_redirect off;

      server {
        listen         443;
        server_name    site.com;
        access_log     logs/site.com.log;

        ssl                  on;
        ssl_certificate      /etc/ssl/certs/site.com.chained.crt;
        ssl_certificate_key  /etc/ssl/certs/site.com.key;

        ssl_session_timeout  5m;

        ssl_protocols  SSLv2 SSLv3 TLSv1;
        ssl_ciphers  ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;
        ssl_prefer_server_ciphers   on;

        rails_env production;
        passenger_enabled on;
        passenger_use_global_queue on;
        root /home/user/apps/production/current/public;

        error_page   500 502 503 504  /500.html;
        error_page   404 /404.html;
        error_page   422 /422.html;
      }
    }",4
3345683,07/27/2010 16:19:19,403620,07/27/2010 16:19:19,1,0,Best Ruby library for Excel files,"What is the best Ruby library for dealing with Excel spreadsheets?

I found spreadsheet-gem but I didn't find it to be as good as PHPExcel - a library I used to use when I was a PHP developer.

Please help.<br>
Thanks.",ruby-on-rails,ruby,excel,,,09/15/2011 13:19:28,not constructive,1,38,6,"Best Ruby library for Excel files What is the best Ruby library for dealing with Excel spreadsheets?

I found spreadsheet-gem but I didn't find it to be as good as PHPExcel - a library I used to use when I was a PHP developer.

Please help.<br>
Thanks.",3
3703218,09/13/2010 18:17:42,93311,04/20/2009 17:14:16,1183,78,Why is the controller layout being skipped?,"I'm revamping a controller and an AJAX call that passes through it. 

**javascript**

    $.ajax({type: ""GET"", url: $(this).attr(""href""), dataType: ""script""});

**show.js**

    == $(""#content"").html(""#{ escape_javascript(render :partial => 'tab') }"");

**tabs_controller.js**

    def show
      @organization = Organization.find(params[:organization_id])
      @tab = @organization.tabs.find(params[:id])
      respond_to do |format|
        format.html { render :partial => 'tab', :layout => 'myHQpage' }
        format.js
      end
    end

This works! But what I don't get is that the partial's layout is not double rendered if it already exists.

This is what I'm trying to replace it with :

**javascript**

    $.get($(this).attr('href'), function(response) { $('#content').html(response); });

**show.html.haml**

    = render :partial => 'tab'

And this code then causes a double render where the layout inside of the layout.

**The Big Goal:** Replace the `dataType: ""script""` with `dataType: ""html""`",ruby-on-rails,ajax,controller,,,,open,0,163,7,"Why is the controller layout being skipped? I'm revamping a controller and an AJAX call that passes through it. 

**javascript**

    $.ajax({type: ""GET"", url: $(this).attr(""href""), dataType: ""script""});

**show.js**

    == $(""#content"").html(""#{ escape_javascript(render :partial => 'tab') }"");

**tabs_controller.js**

    def show
      @organization = Organization.find(params[:organization_id])
      @tab = @organization.tabs.find(params[:id])
      respond_to do |format|
        format.html { render :partial => 'tab', :layout => 'myHQpage' }
        format.js
      end
    end

This works! But what I don't get is that the partial's layout is not double rendered if it already exists.

This is what I'm trying to replace it with :

**javascript**

    $.get($(this).attr('href'), function(response) { $('#content').html(response); });

**show.html.haml**

    = render :partial => 'tab'

And this code then causes a double render where the layout inside of the layout.

**The Big Goal:** Replace the `dataType: ""script""` with `dataType: ""html""`",3
9913178,03/28/2012 18:01:43,956408,09/21/2011 07:45:56,1,0,Ruby Rails Source Walkthrough,"I'm trying to understand the Ruby library and am using a simple hash source to understand something. 

My goal is to spend everyday going over source and asking specific questions on here.  My questions are commented on specific lines using the #.  Thanks!

1)  

    options = {} #creating a hash that will interface with the optparse?  Hash has an           intiial value of nil?

2)

    # The opts.on portion is the initial search key that will search through?  What is the symbol surronding opts here: OptionParser.new do |opts|

3)

    tag = options[:search] #All key values for the options hash?

4)

    filename = 'last_tweet_id.txt' #where will the file be output to?  Where's the variable  for assigning the drive?


    #!/usr/bin/env ruby
    # Twitter Hashtag Counter
    #
    # Script to count a twitter hashtag and save the result and last_tweet_id to 
    # hashtag_counter_result.txt and last_tweet_id.txt
    #
    # Requirements: twitter gem.
    # To install twitter gem: [sudo] gem install twitter
    require 'rubygems' #require is same as import in python, java, etc
    require 'twitter'
    require 'optparse'

    options = {} #creating a hash that will interface with the optparse?  Hash has an         intiial value of nil?

        OptionParser.new do |opts|
       opts.banner = ""Usage: ruby hashtag_counter.rb [options] [arguments]\n""
      opts.banner += ""Example: ruby hastag_counter.rb -s mytag -d 2010-09-21""

      opts.on(""-s"", ""--search [TAG]"", ""search tag. ie. mytag, will generate #mytag     automatically"") do |tag|
        options[:search] = tag
      end 

    # The opts.on portion is the initial search key that will search through?  What is the     symbol surronding opts here: OptionParser.new do |opts|

      opts.on(""-d"", ""--since-date [YYYY-MM-DD]"", ""since date. ie. 2010-09-21"") do |date|
        options[:date] = date
      end
    end.parse!


    tag = options[:search] #All key values for the options hash?
    date = options[:date]
    last_tweet_id = nil
    result = 0
    puts ""Count hashtag: ##{tag}"" #where does the {tag} come from?
    twitter_search = Twitter::Search.new.clear.hashed(tag).since_date(date).per_page(50)

    # search since last_tweet_id from last_tweet_id.txt
    # last_tweet_id.txt only contains one line with one tweet id
    filename = 'last_tweet_id.txt' #where will the file be output to?  Where's the variable             for assigning the drive?

    if File.exist?(filename)
      file = File.open(filename, 'r') #do you need to require or import any file IO?
      last_tweet_id = file.read
      file.close

      twitter_search.since(""#{last_tweet_id}"") if !last_tweet_id.nil? or     !last_tweet_id.empty?

      # get the last result from hashtag_counter_result.txt
      filename = 'hashtag_counter_result.txt'

      if File.exist?(filename)
        file = File.open(filename, 'r')
        result = file.read.to_i
        file.close
      end
    end

    begin
      # get the last tweet id
      # if last_tweet_id == nil, then everything is up-to-date
      last_tweet_id = twitter_search.fetch.results.first ?     twitter_search.fetch.results.first.id : nil

      if last_tweet_id
        page = 1
        # count each result page
        puts ""Fetch page #{page}""
        result += twitter_search.fetch.count
        while twitter_search.next_page?
          page += 1
          puts ""Fetch page #{page}""
          twitter_search = twitter_search.fetch_next_page
          result += twitter_search.count
        end

       file = File.open('hashtag_counter_result.txt', 'w')
        file.write(result)
        file.close

        file = File.open('last_tweet_id.txt', 'w')
        file.write(last_tweet_id)
        file.close

        # Print the results
        puts ""Done\n\n""
        puts ""Total tweets: #{result}""
        puts ""Last tweet id: #{last_tweet_id}""
      else
        puts ""Everything is up-to-date""
      end
    rescue
     puts ""Oops! Something went wrong. Try again..""
    end",ruby-on-rails,,,,,03/29/2012 06:06:01,not a real question,1,924,4,"Ruby Rails Source Walkthrough I'm trying to understand the Ruby library and am using a simple hash source to understand something. 

My goal is to spend everyday going over source and asking specific questions on here.  My questions are commented on specific lines using the #.  Thanks!

1)  

    options = {} #creating a hash that will interface with the optparse?  Hash has an           intiial value of nil?

2)

    # The opts.on portion is the initial search key that will search through?  What is the symbol surronding opts here: OptionParser.new do |opts|

3)

    tag = options[:search] #All key values for the options hash?

4)

    filename = 'last_tweet_id.txt' #where will the file be output to?  Where's the variable  for assigning the drive?


    #!/usr/bin/env ruby
    # Twitter Hashtag Counter
    #
    # Script to count a twitter hashtag and save the result and last_tweet_id to 
    # hashtag_counter_result.txt and last_tweet_id.txt
    #
    # Requirements: twitter gem.
    # To install twitter gem: [sudo] gem install twitter
    require 'rubygems' #require is same as import in python, java, etc
    require 'twitter'
    require 'optparse'

    options = {} #creating a hash that will interface with the optparse?  Hash has an         intiial value of nil?

        OptionParser.new do |opts|
       opts.banner = ""Usage: ruby hashtag_counter.rb [options] [arguments]\n""
      opts.banner += ""Example: ruby hastag_counter.rb -s mytag -d 2010-09-21""

      opts.on(""-s"", ""--search [TAG]"", ""search tag. ie. mytag, will generate #mytag     automatically"") do |tag|
        options[:search] = tag
      end 

    # The opts.on portion is the initial search key that will search through?  What is the     symbol surronding opts here: OptionParser.new do |opts|

      opts.on(""-d"", ""--since-date [YYYY-MM-DD]"", ""since date. ie. 2010-09-21"") do |date|
        options[:date] = date
      end
    end.parse!


    tag = options[:search] #All key values for the options hash?
    date = options[:date]
    last_tweet_id = nil
    result = 0
    puts ""Count hashtag: ##{tag}"" #where does the {tag} come from?
    twitter_search = Twitter::Search.new.clear.hashed(tag).since_date(date).per_page(50)

    # search since last_tweet_id from last_tweet_id.txt
    # last_tweet_id.txt only contains one line with one tweet id
    filename = 'last_tweet_id.txt' #where will the file be output to?  Where's the variable             for assigning the drive?

    if File.exist?(filename)
      file = File.open(filename, 'r') #do you need to require or import any file IO?
      last_tweet_id = file.read
      file.close

      twitter_search.since(""#{last_tweet_id}"") if !last_tweet_id.nil? or     !last_tweet_id.empty?

      # get the last result from hashtag_counter_result.txt
      filename = 'hashtag_counter_result.txt'

      if File.exist?(filename)
        file = File.open(filename, 'r')
        result = file.read.to_i
        file.close
      end
    end

    begin
      # get the last tweet id
      # if last_tweet_id == nil, then everything is up-to-date
      last_tweet_id = twitter_search.fetch.results.first ?     twitter_search.fetch.results.first.id : nil

      if last_tweet_id
        page = 1
        # count each result page
        puts ""Fetch page #{page}""
        result += twitter_search.fetch.count
        while twitter_search.next_page?
          page += 1
          puts ""Fetch page #{page}""
          twitter_search = twitter_search.fetch_next_page
          result += twitter_search.count
        end

       file = File.open('hashtag_counter_result.txt', 'w')
        file.write(result)
        file.close

        file = File.open('last_tweet_id.txt', 'w')
        file.write(last_tweet_id)
        file.close

        # Print the results
        puts ""Done\n\n""
        puts ""Total tweets: #{result}""
        puts ""Last tweet id: #{last_tweet_id}""
      else
        puts ""Everything is up-to-date""
      end
    rescue
     puts ""Oops! Something went wrong. Try again..""
    end",1
11020971,06/13/2012 18:19:44,1454404,06/13/2012 17:57:54,1,0,What's the best way to use symbols in Rails?,"After a bit of research on the internet (Google, StackOverflow, Rails forums, etc.) i didn't get the answer on this, so:

How's better?

1.

    = link_to ""Page"", ""/page"", :class => ""button"", :data => {:theme => ""green"", :icon => ""small-arrow""}

2.

    = link_to ""Page"", ""/page"", class: ""button"", data: {theme: ""green"", icon: ""small-arrow""}

3.

    = link_to ""Page"", ""/page"", class: :button, data: {theme: :green, icon: ""small-arrow""}


I found out that the symbols are the best way to use because of the memory alocation difference between symbols and strings.

I find version 2. as more readable (for me) and i think also more maintainable, because it's easier/faster to see/edit/add separated words (by space or dash) inside a string rather than edit a symbol and transform it to a string (when needed, like adding a second class ""button login"" or other theme ""dark-red"", for example).

Is there any serious reason (like performance, for e.g.) to use the notation from 1. or 3. rather than 2.?",ruby-on-rails,ruby-on-rails-3,symbols,,,06/15/2012 09:18:02,not constructive,1,162,9,"What's the best way to use symbols in Rails? After a bit of research on the internet (Google, StackOverflow, Rails forums, etc.) i didn't get the answer on this, so:

How's better?

1.

    = link_to ""Page"", ""/page"", :class => ""button"", :data => {:theme => ""green"", :icon => ""small-arrow""}

2.

    = link_to ""Page"", ""/page"", class: ""button"", data: {theme: ""green"", icon: ""small-arrow""}

3.

    = link_to ""Page"", ""/page"", class: :button, data: {theme: :green, icon: ""small-arrow""}


I found out that the symbols are the best way to use because of the memory alocation difference between symbols and strings.

I find version 2. as more readable (for me) and i think also more maintainable, because it's easier/faster to see/edit/add separated words (by space or dash) inside a string rather than edit a symbol and transform it to a string (when needed, like adding a second class ""button login"" or other theme ""dark-red"", for example).

Is there any serious reason (like performance, for e.g.) to use the notation from 1. or 3. rather than 2.?",3
7290379,09/03/2011 00:28:59,766876,05/23/2011 23:40:08,10,0,RoR: Has_many and belongs_to are not auto generating columns in SQLite tables,"I've set up two models, let's call them User and Post. In *user.rb*, I have

    class User < ActiveRecord::Base
	has_many ...
	has_many :posts

In *post.rb*, I have

    class Post < ActiveRecord::Base
	belongs_to :user

At some point or another, I create a post like this

    @post = @user.posts.build(some_params)
    if @post.save
    ...

---
However, whenever I try to retrieve the posts from a user...

    @users_posts = @user.posts

...and then access the array of posts...

    <%= @users_posts[0] %>

I get the following error.

> SQLite3::SQLException: no such column: posts.user_id: SELECT     ""posts"".* FROM       ""posts""  WHERE     (""posts"".user_id = 1)

---

I have reset my server and used migrated my database (not that should matter). I haven't done anything too complicated yet, so what could I be missing that would be causing this error?",ruby-on-rails,ruby,ruby-on-rails-3,sqlite,,09/03/2011 02:46:13,too localized,1,152,12,"RoR: Has_many and belongs_to are not auto generating columns in SQLite tables I've set up two models, let's call them User and Post. In *user.rb*, I have

    class User < ActiveRecord::Base
	has_many ...
	has_many :posts

In *post.rb*, I have

    class Post < ActiveRecord::Base
	belongs_to :user

At some point or another, I create a post like this

    @post = @user.posts.build(some_params)
    if @post.save
    ...

---
However, whenever I try to retrieve the posts from a user...

    @users_posts = @user.posts

...and then access the array of posts...

    <%= @users_posts[0] %>

I get the following error.

> SQLite3::SQLException: no such column: posts.user_id: SELECT     ""posts"".* FROM       ""posts""  WHERE     (""posts"".user_id = 1)

---

I have reset my server and used migrated my database (not that should matter). I haven't done anything too complicated yet, so what could I be missing that would be causing this error?",4
8642396,12/27/2011 08:04:52,1044646,11/13/2011 22:00:08,143,10,Rails attr_accessible :as and custom validator,"I have model User

    class User < ActiveRecord::Base
        has_and_belongs_to_many :roles

        attr_accessible :login, :email, :password, :password_confirmation ...
        attr_accessible :role_ids, :active, :as => :super_admin
        
        validates :email, :presence => true,
                          :format => {:with => /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i},
                          :uniqueness => {:case_sensitive => false},
                          :restricted_email_domain => true
        ...
    end

and two separate user controllers for front-end and back-end. First one is very trivial and works well, second one is below

    class Admin::UsersController < Admin::BaseController
        def create
            @user = User.new
            @user.assign_attributes(params[:user], :as => :super_admin)
            if @user.save
            ...
        end
        def update
            @user = User.find(params[:id])
            if @user.update_attributes(params[:user], :as => :super_admin)
            ...
        end
    end

I'm using custom validator that checks whether user's email domain restricted or not

    class RestrictedEmailDomainValidator < ActiveModel::EachValidator
        def validate_each(record, attr_name, value)
            if !value.include?(""@"") # this value is nil if I add "":as => :super_admin""
                record.errors.add(attr_name, :invalid, options.merge(:value => value))
            else
                domain = value.split(""@"")[1]
                record.errors.add(attr_name, :restricted_email_domain, options.merge(:value => value)) if ::RestrictedEmailDomain.where(:domain => domain).exists?
            end  
        end
    end
    module ActiveModel::Validations::HelperMethods
        def validates_restricted_email_domain(*attr_names)
            validates_with RestrictedEmailDomainValidator, _merge_attributes(attr_names)
        end
    end

Update action works well but create action gives `You have a nil object when you didn't expect it!` error in `config/initializers/restricted_email_domain_validator.rb:3:in 'validate_each'`. Without `:as => :super_admin` everything is ok, but of course `role_ids` and `active` attributes are not assigned.

I can assign values manually, but I'm wondering what am I doing wrong. 

Thanks in advance.",ruby-on-rails,ruby-on-rails-3.1,customvalidator,attr-accessible,,,open,0,574,6,"Rails attr_accessible :as and custom validator I have model User

    class User < ActiveRecord::Base
        has_and_belongs_to_many :roles

        attr_accessible :login, :email, :password, :password_confirmation ...
        attr_accessible :role_ids, :active, :as => :super_admin
        
        validates :email, :presence => true,
                          :format => {:with => /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i},
                          :uniqueness => {:case_sensitive => false},
                          :restricted_email_domain => true
        ...
    end

and two separate user controllers for front-end and back-end. First one is very trivial and works well, second one is below

    class Admin::UsersController < Admin::BaseController
        def create
            @user = User.new
            @user.assign_attributes(params[:user], :as => :super_admin)
            if @user.save
            ...
        end
        def update
            @user = User.find(params[:id])
            if @user.update_attributes(params[:user], :as => :super_admin)
            ...
        end
    end

I'm using custom validator that checks whether user's email domain restricted or not

    class RestrictedEmailDomainValidator < ActiveModel::EachValidator
        def validate_each(record, attr_name, value)
            if !value.include?(""@"") # this value is nil if I add "":as => :super_admin""
                record.errors.add(attr_name, :invalid, options.merge(:value => value))
            else
                domain = value.split(""@"")[1]
                record.errors.add(attr_name, :restricted_email_domain, options.merge(:value => value)) if ::RestrictedEmailDomain.where(:domain => domain).exists?
            end  
        end
    end
    module ActiveModel::Validations::HelperMethods
        def validates_restricted_email_domain(*attr_names)
            validates_with RestrictedEmailDomainValidator, _merge_attributes(attr_names)
        end
    end

Update action works well but create action gives `You have a nil object when you didn't expect it!` error in `config/initializers/restricted_email_domain_validator.rb:3:in 'validate_each'`. Without `:as => :super_admin` everything is ok, but of course `role_ids` and `active` attributes are not assigned.

I can assign values manually, but I'm wondering what am I doing wrong. 

Thanks in advance.",4
3577443,08/26/2010 16:52:51,364897,06/11/2010 20:00:53,10,0,Rails rendering JSON data with Model Root,"I've got some data in Rails that I want to render as JSON data. What I'm doing right now is simply finding all instances of a Model and calling render :json=>data.

    data = Data.find(:all)
    render :json => data


However, Rails is including the model name in each JSON object. So my JSON data ends up looking like this:

    [{modelname:{propertyName: 'value',...}},{modelname:{propertyName: 'value2',...}}]

instead of this:
    [{propertyName:'value',...},{propertyName:'value2',...}]

The modelname is always the same and I don't want it to be there. 

I changed the option to render the root in the JSON data in one of the Rails initializers but that affects everything that I want rendered as JSON, which I don't want to do for this project.

In this case, I want to be able to do this on a case-by-case basis. 

How can I do this? Thanks in advance.



",ruby-on-rails,json,,,,,open,0,147,7,"Rails rendering JSON data with Model Root I've got some data in Rails that I want to render as JSON data. What I'm doing right now is simply finding all instances of a Model and calling render :json=>data.

    data = Data.find(:all)
    render :json => data


However, Rails is including the model name in each JSON object. So my JSON data ends up looking like this:

    [{modelname:{propertyName: 'value',...}},{modelname:{propertyName: 'value2',...}}]

instead of this:
    [{propertyName:'value',...},{propertyName:'value2',...}]

The modelname is always the same and I don't want it to be there. 

I changed the option to render the root in the JSON data in one of the Rails initializers but that affects everything that I want rendered as JSON, which I don't want to do for this project.

In this case, I want to be able to do this on a case-by-case basis. 

How can I do this? Thanks in advance.



",2
3720864,09/15/2010 19:00:27,57290,01/20/2009 22:50:04,18,2,What is the most Rails'ish way of handling multiple layouts/views for the same controller action?,"The scenario is this:

I have some users on my site. A user has a role, the relevant ones here is `admin` and `normal`. I also have a model, let's call it `SomeModel`.

I have created a backend for the site, which uses an **admin** layout. All admins have full access to edit any content.

The problem arises with this relation: **User -> owns -> SomeModel**. That means a non admin  **User** can own an instance of `SomeModel` and should be able to edit the data of this instance.

The controller for `SomeModel` has an edit action which then caters to both admins and regular users.

However, I don't want regular users seing the **admin** layout and right now, the way I do this is like so:

    if current_user.admin?
      render :layout => 'admin'
    end

Which defaults to the standard layout if the user is not an admin. I have this in all my actions for `SomeModel` and it just doesn't seem like a very Rails way of doing things.

Is there a better way?

",ruby-on-rails,actionview,actioncontroller,,,,open,0,179,15,"What is the most Rails'ish way of handling multiple layouts/views for the same controller action? The scenario is this:

I have some users on my site. A user has a role, the relevant ones here is `admin` and `normal`. I also have a model, let's call it `SomeModel`.

I have created a backend for the site, which uses an **admin** layout. All admins have full access to edit any content.

The problem arises with this relation: **User -> owns -> SomeModel**. That means a non admin  **User** can own an instance of `SomeModel` and should be able to edit the data of this instance.

The controller for `SomeModel` has an edit action which then caters to both admins and regular users.

However, I don't want regular users seing the **admin** layout and right now, the way I do this is like so:

    if current_user.admin?
      render :layout => 'admin'
    end

Which defaults to the standard layout if the user is not an admin. I have this in all my actions for `SomeModel` and it just doesn't seem like a very Rails way of doing things.

Is there a better way?

",3
11197397,06/25/2012 21:08:30,880128,08/05/2011 08:01:19,1,0,Rails - View files - How to avoid one html file and one js file per controller action?,"Being quite new to rails and currently building a project, i'm begining to be in a situation where my view folder is growing a bit too much

I have for e.g :  
    /app/   
    ../views/  
    ..../comments/  
    ....../_comment.html.erb  
    ....../_comments_count.html.erb  
    ....../_form.html.erb  
    ....../create.js.erb  
    ....../destroy.js.erb  
    ....../edit.html.erb  
    ....../edit.js.erb  
    ....../index.html.erb  
    ....../index.js.erb  
    ....../new.html.erb  
    ....../show.html.erb  
    ....../update.js.erb  

I would definitely prefer to have 2 files :  
comments.html.erb  
comments.js.erb

And inside of each (like in controller) have a part for each actions.

Currently it seems too much trouble to edit each files, even if they are skinny.

How do you manage your view files ? Is my comments view folder ""normal"" for a rails project ? Is there some templates engine like handlebar that can help address this problem ? ",ruby-on-rails,views,,,,,open,0,195,18,"Rails - View files - How to avoid one html file and one js file per controller action? Being quite new to rails and currently building a project, i'm begining to be in a situation where my view folder is growing a bit too much

I have for e.g :  
    /app/   
    ../views/  
    ..../comments/  
    ....../_comment.html.erb  
    ....../_comments_count.html.erb  
    ....../_form.html.erb  
    ....../create.js.erb  
    ....../destroy.js.erb  
    ....../edit.html.erb  
    ....../edit.js.erb  
    ....../index.html.erb  
    ....../index.js.erb  
    ....../new.html.erb  
    ....../show.html.erb  
    ....../update.js.erb  

I would definitely prefer to have 2 files :  
comments.html.erb  
comments.js.erb

And inside of each (like in controller) have a part for each actions.

Currently it seems too much trouble to edit each files, even if they are skinny.

How do you manage your view files ? Is my comments view folder ""normal"" for a rails project ? Is there some templates engine like handlebar that can help address this problem ? ",2
7481410,09/20/2011 07:13:34,88412,04/08/2009 04:12:32,680,2,How to forcefully delete a file,When I try to delete a file I am getting acess denied  as error .How should I set the mode of a file or is there any way of deleting a file forcefully with out changing the mode.,ruby-on-rails,ruby,,,,,open,0,39,6,How to forcefully delete a file When I try to delete a file I am getting acess denied  as error .How should I set the mode of a file or is there any way of deleting a file forcefully with out changing the mode.,2
11416122,07/10/2012 14:57:44,577988,06/08/2010 16:34:02,31,1,Is there a way to set the default response format for an entire Rails 3 app?,"I don't want to set the default format for every resource, but instead just set it for all of them in 1 go. Is this possible?",ruby-on-rails,ruby,json,routes,,,open,0,26,16,"Is there a way to set the default response format for an entire Rails 3 app? I don't want to set the default format for every resource, but instead just set it for all of them in 1 go. Is this possible?",4
3908971,10/11/2010 18:35:50,195699,10/24/2009 00:27:14,315,13,"Adding ""Featured Posts"" to my blog...","I am trying to add a featured post feature to my Ruby on Rails Blog. So far I have added a `featured_post` column to my `post` table and it passes a `1` if the check box is selected and `0` if not. 

Now I am attempting to pull out these posts by doing the following:

/views/posts/index.html.erb

      <% @featured_post.each do |post| %>
        <%= post.title %>
      <% end %>

And in the posts_controller.rb I am doing the following in the `index` action:

    @featured_post = Post.all

Obviously this brings in all the post titles which is not what I want. I am assuming I have to add something to the controller to all for this but not sure what that is. ",ruby-on-rails,controller,blogs,,,,open,0,136,6,"Adding ""Featured Posts"" to my blog... I am trying to add a featured post feature to my Ruby on Rails Blog. So far I have added a `featured_post` column to my `post` table and it passes a `1` if the check box is selected and `0` if not. 

Now I am attempting to pull out these posts by doing the following:

/views/posts/index.html.erb

      <% @featured_post.each do |post| %>
        <%= post.title %>
      <% end %>

And in the posts_controller.rb I am doing the following in the `index` action:

    @featured_post = Post.all

Obviously this brings in all the post titles which is not what I want. I am assuming I have to add something to the controller to all for this but not sure what that is. ",3
3648749,09/06/2010 02:42:57,325418,05/09/2009 15:50:29,5390,128,"Technically, isn't it ""Rails on Ruby"" instead of Ruby on Rails?","More and more people just say Rails instead of Ruby on Rails nowadays... and isn't it Rails, which is developed on top of Ruby, so it is really Rails on Ruby?
",ruby-on-rails,ruby,ruby-on-rails-3,,,09/06/2010 02:53:23,off topic,1,31,11,"Technically, isn't it ""Rails on Ruby"" instead of Ruby on Rails? More and more people just say Rails instead of Ruby on Rails nowadays... and isn't it Rails, which is developed on top of Ruby, so it is really Rails on Ruby?
",3
5036235,02/18/2011 00:02:43,156011,08/13/2009 18:35:51,640,52,Rails 3: Caching to Global Variable,"I'm sure ""global variable"" will get the hair on the back of everyone's neck standing up. What I'm trying to do is store a hierarchical menu in an acts_as_tree data table (done). In application_helper.rb, I create an html menu by querying the database and walking the tree (done). I don't want to do this for every page load.

Here's what I tried:

application.rb

    config.menu = nil

application_helper.rb

    def my_menu_builder
      return MyApp::Application.config.menu if MyApp::Application.config.menu
      # All the menu building code that should only run once
      MyApp::Application.config.menu = menu_html
    end

menu_controller.rb

    def create
      # whatever create code
      expire_menu_cache
    end

    protected
    def expire_menu_cache
      MyApp::Application.config.menu = nil
    end

Where I stand right now is that on first page load, the database is, indeed, queried and the menu built. The results are stored in the config variable and the database is never again hit for this.

It's the cache expiration part that's not working. When I reset the config.menu variable to nil, presumably the next time through my_menu_builder, it will detect that change and rebuild the menu, caching the new results. Doesn't seem to happen.

Questions:

Is Application.config a good place to store stuff like this?
Does anyone see an obvious flaw in this caching strategy?

Don't say premature optimization -- that's the phase I'm in. The premature-optimization iteration :)

Thanks!",ruby-on-rails,caching,global-variables,,,,open,0,259,6,"Rails 3: Caching to Global Variable I'm sure ""global variable"" will get the hair on the back of everyone's neck standing up. What I'm trying to do is store a hierarchical menu in an acts_as_tree data table (done). In application_helper.rb, I create an html menu by querying the database and walking the tree (done). I don't want to do this for every page load.

Here's what I tried:

application.rb

    config.menu = nil

application_helper.rb

    def my_menu_builder
      return MyApp::Application.config.menu if MyApp::Application.config.menu
      # All the menu building code that should only run once
      MyApp::Application.config.menu = menu_html
    end

menu_controller.rb

    def create
      # whatever create code
      expire_menu_cache
    end

    protected
    def expire_menu_cache
      MyApp::Application.config.menu = nil
    end

Where I stand right now is that on first page load, the database is, indeed, queried and the menu built. The results are stored in the config variable and the database is never again hit for this.

It's the cache expiration part that's not working. When I reset the config.menu variable to nil, presumably the next time through my_menu_builder, it will detect that change and rebuild the menu, caching the new results. Doesn't seem to happen.

Questions:

Is Application.config a good place to store stuff like this?
Does anyone see an obvious flaw in this caching strategy?

Don't say premature optimization -- that's the phase I'm in. The premature-optimization iteration :)

Thanks!",3
3023093,06/11/2010 13:25:22,179855,09/27/2009 21:32:34,976,62,url optimization in rails?,"Hello I want to create seo optimize url in rails.Same like done in stackoverflow.
Right now this is my url

    http://localhost:3000/questions/56

I want to make it something like this:-

    http://localhost:3000/questions/56/this-is-my-optimized-url

i am using restful approach.
is there any plug-in available for this.",ruby-on-rails,plugins,,,,,open,0,44,4,"url optimization in rails? Hello I want to create seo optimize url in rails.Same like done in stackoverflow.
Right now this is my url

    http://localhost:3000/questions/56

I want to make it something like this:-

    http://localhost:3000/questions/56/this-is-my-optimized-url

i am using restful approach.
is there any plug-in available for this.",2
2414639,03/10/2010 05:03:21,180663,09/28/2009 19:11:43,10,0,Will defunct processes prevent proper running of other processes?,"My mongrels were not responding, and neither god restart nor cluster restart made a big difference. I dug a little deeper, than i realized that i had plenty of zombie processes.

app      29607 27948  0 19:45 ?        00:00:00 [mongrel_rails] <defunct>
app      30578 21681  0 19:52 ?        00:00:00 [mongrel_rails] <defunct>
app      30704 21405  0 19:53 ?        00:00:00 [mongrel_rails] <defunct>
<one for each mongrel process>

However, after i killed the parent processes using this:

""ps -ef | grep defunct | grep -v grep | awk '{print $3}' | xargs kill -9""

The restarts began working. Did my killing of the zombies help the restarts work? If so, it is weird, because i cannot find any references that explains how defunct processes affect normal ones",ruby-on-rails,god,process,linux,mongrel,05/31/2011 14:11:39,off topic,1,154,9,"Will defunct processes prevent proper running of other processes? My mongrels were not responding, and neither god restart nor cluster restart made a big difference. I dug a little deeper, than i realized that i had plenty of zombie processes.

app      29607 27948  0 19:45 ?        00:00:00 [mongrel_rails] <defunct>
app      30578 21681  0 19:52 ?        00:00:00 [mongrel_rails] <defunct>
app      30704 21405  0 19:53 ?        00:00:00 [mongrel_rails] <defunct>
<one for each mongrel process>

However, after i killed the parent processes using this:

""ps -ef | grep defunct | grep -v grep | awk '{print $3}' | xargs kill -9""

The restarts began working. Did my killing of the zombies help the restarts work? If so, it is weird, because i cannot find any references that explains how defunct processes affect normal ones",5
10926612,06/07/2012 06:19:11,1208394,02/14/2012 05:33:31,23,0,one-to-many relation ruby on rails,"So I have two tables:

    class Applicant < ActiveRecord::Base
      set_table_name ""applicant""
      set_primary_key ""id""
      belongs_to :specialization, :foreign_key => ""id""
      # attr_accessible :title, :body
    end

    class Specialization < ActiveRecord::Base
      set_table_name ""specialization""
      set_primary_key ""id""
      has_many :applicant, :foreign_key => ""id""
      # attr_accessible :title, :body
    end


I'm trying to get the total count of applicants pr specialization. In SQL that would be something like this:

    SELECT a.Name, COALESCE(b.total,0) AS ""Total Applicants""
    FROM specialization AS a
        LEFT JOIN ( SELECT specialization.Name, COUNT(*) as total
                    FROM applicant
		    JOIN specialization ON applicant.specialization = specialization.id
		    GROUP BY specialization.name) AS b
	ON a.name = b.name
    ORDER BY a.name;

How do I do this with RoR? So far what I've tried is:

    <% Specialization.includes(:applicant).all.each do |s| %>
        <tr>
            <td><%= s.name%></td>
            <td><%= s.applicant.count()%></td>
        </tr>
    <% end %>

This doesn't seem to work though since I'm only counting 1 applicant at some of the specializations where I know from looking at my database that there are 4 applicants at some specializations.",ruby-on-rails,,,,,,open,0,289,5,"one-to-many relation ruby on rails So I have two tables:

    class Applicant < ActiveRecord::Base
      set_table_name ""applicant""
      set_primary_key ""id""
      belongs_to :specialization, :foreign_key => ""id""
      # attr_accessible :title, :body
    end

    class Specialization < ActiveRecord::Base
      set_table_name ""specialization""
      set_primary_key ""id""
      has_many :applicant, :foreign_key => ""id""
      # attr_accessible :title, :body
    end


I'm trying to get the total count of applicants pr specialization. In SQL that would be something like this:

    SELECT a.Name, COALESCE(b.total,0) AS ""Total Applicants""
    FROM specialization AS a
        LEFT JOIN ( SELECT specialization.Name, COUNT(*) as total
                    FROM applicant
		    JOIN specialization ON applicant.specialization = specialization.id
		    GROUP BY specialization.name) AS b
	ON a.name = b.name
    ORDER BY a.name;

How do I do this with RoR? So far what I've tried is:

    <% Specialization.includes(:applicant).all.each do |s| %>
        <tr>
            <td><%= s.name%></td>
            <td><%= s.applicant.count()%></td>
        </tr>
    <% end %>

This doesn't seem to work though since I'm only counting 1 applicant at some of the specializations where I know from looking at my database that there are 4 applicants at some specializations.",1
6822267,07/25/2011 20:57:54,345429,05/19/2010 19:34:18,155,4,Rails 3 Eager Loading with conditions and nesting,"I have a lot of cases in my app where a user has no more than one object (say, a ""Description"") within its association to another object (a ""Group"").

For example:

    class User < ActiveRecord::Base
      has_many :descriptions
      has_many :groups

    class Group < ActiveRecord::Base
      has_many :users
      has_many :descriptions

    class Description < ActiveRecord::Base
      belongs_to :user
      belongs_to :group

If I wanted to render all the users in certain group and include their relevant descriptions, I could do something this:

    #users model
    def description_for(group_id)
      descriptions.find_by_group_id(group_id)
    end
    
    #view
    @group.users.each do |user|
       user.name
       user.description_for(@group.id).content

But this generates a huge number of Description queries. I've tried using joins:

    #controller
    @group = Group.find(params[:id], :joins => [{:users => :descriptions}])

with some conditions on the join, but since I'm still calling user.description_for(@group.id) it doesn't help with the page loading.",ruby-on-rails,join,eager-loading,,,,open,0,206,8,"Rails 3 Eager Loading with conditions and nesting I have a lot of cases in my app where a user has no more than one object (say, a ""Description"") within its association to another object (a ""Group"").

For example:

    class User < ActiveRecord::Base
      has_many :descriptions
      has_many :groups

    class Group < ActiveRecord::Base
      has_many :users
      has_many :descriptions

    class Description < ActiveRecord::Base
      belongs_to :user
      belongs_to :group

If I wanted to render all the users in certain group and include their relevant descriptions, I could do something this:

    #users model
    def description_for(group_id)
      descriptions.find_by_group_id(group_id)
    end
    
    #view
    @group.users.each do |user|
       user.name
       user.description_for(@group.id).content

But this generates a huge number of Description queries. I've tried using joins:

    #controller
    @group = Group.find(params[:id], :joins => [{:users => :descriptions}])

with some conditions on the join, but since I'm still calling user.description_for(@group.id) it doesn't help with the page loading.",3
6401001,06/19/2011 06:36:16,309343,04/05/2010 16:18:19,281,10,Ruby watch-outs for newbies,"I am starting to learn Ruby. Could you please help me (and many others like me) by warning for any this I should watch-out for? 

What are some of the common mistakes you are sure I will most probably make and bug you in the future with another question here!",ruby-on-rails,ruby,ruby-on-rails-3,,,06/19/2011 07:39:25,not a real question,1,50,4,"Ruby watch-outs for newbies I am starting to learn Ruby. Could you please help me (and many others like me) by warning for any this I should watch-out for? 

What are some of the common mistakes you are sure I will most probably make and bug you in the future with another question here!",3
3547905,08/23/2010 13:19:14,118437,06/06/2009 06:17:38,2600,52,Rails : post-processing a rendered view,"Some Rails application generates a view with some information displayed about a resource.

I'd like to suppress some of the information through a plugin, without altering nor overriding the view. (A possible way is to rewrite the view in the plugin but this may interfere with other plugins, and I don't want that.)

Is there a way to modify the controller instead, so that the generated view is post-processed before being sent to the client?",ruby-on-rails,,,,,,open,0,73,6,"Rails : post-processing a rendered view Some Rails application generates a view with some information displayed about a resource.

I'd like to suppress some of the information through a plugin, without altering nor overriding the view. (A possible way is to rewrite the view in the plugin but this may interfere with other plugins, and I don't want that.)

Is there a way to modify the controller instead, so that the generated view is post-processed before being sent to the client?",1
8122590,11/14/2011 13:53:31,1040033,11/10/2011 15:12:38,1,0,Why am I missing oracle driver in sinatra,"I'm trying to load a simple query page in sinatra but I'm getting and error that there's no oracle driver found.

I'm using rails 2 and I have oracle drivers in the classpath (ojdbc14.jar).

Justin",ruby-on-rails,ruby,oracle,sinatra,,11/22/2011 00:47:48,not a real question,1,33,8,"Why am I missing oracle driver in sinatra I'm trying to load a simple query page in sinatra but I'm getting and error that there's no oracle driver found.

I'm using rails 2 and I have oracle drivers in the classpath (ojdbc14.jar).

Justin",4
6661978,07/12/2011 09:24:05,140693,07/18/2009 15:54:15,194,4,Updates files on Amazon S3,I have a text-file @ Amazon S3. This file needs to be appended with some text periodically. Is it possible to update the same file on Amazon-S3 or should it be a new file altogether? Am using Ruby on Rails & PaperClip.,ruby-on-rails,amazon-s3,heroku,paperclip,,,open,0,42,5,Updates files on Amazon S3 I have a text-file @ Amazon S3. This file needs to be appended with some text periodically. Is it possible to update the same file on Amazon-S3 or should it be a new file altogether? Am using Ruby on Rails & PaperClip.,4
1423795,09/14/2009 20:40:08,171125,09/09/2009 21:30:35,1,0,How to validate that a string is a year,Using Ruby/RoR - The year is a string in the model/view. How do I validate that the user entered string is a valid gregorian calendar year?,ruby-on-rails,,,,,,open,0,26,9,How to validate that a string is a year Using Ruby/RoR - The year is a string in the model/view. How do I validate that the user entered string is a valid gregorian calendar year?,1
9899968,03/28/2012 01:25:31,937429,09/09/2011 19:19:19,10,0,flash object not displaying in safari,"I have a flash object embedded in my website with the embed code that I got from a website. It does not show up in Safari, it's just a blank area where the flash object is supposed to be. What can I do to get the object to show up in Safari? Thanks.

Here is the embedded code:

    <object classid=""clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"" codebase=""http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"" height=""250"" width=""258"" id=""sn_player"" align=""middle"">
     <param name=""allowFullScreen"" value=""true"" />
    <param name=""allowScriptAccess"" value=""always"" />
    <param name=""wmode"" value=""transparent"" />
    <param name=""allownetworking"" value=""all"" />
    <param name=""bgcolor"" value=""#000000"" />
    <param name=""movie"" value=""http://sermonplayer.com/swf/player45.swf"">
    <PARAM name=""flashvars"" value=""file=http://sermonplayer.com/build_xml_wzd_sn.php?player=12031-recent-.xml&skin=http://sermonplayer.com/swf/modieus_arial_ond.swf&backcolor=#111111&frontcolor=#2ea0aa&lightcolor=#2ea0aa&=Save&player_name=name (no punctuation)&controlbar=bottom&autostart=false&displayclick=play&icons=true&mute=false&repeat=none&shuffle=false&stretching=fill&plugins=&viral.onpause=false"" />
    <embed src=""http://sermonplayer.com/swf/player45.swf"" quality=""high"" height=""250"" width=""260"" id=""sn_player"" align=""middle"" allowScriptAccess=""always"" allowfullscreen=""true"" bgcolor=""#000000"" wmode=""opaque"" type=""application/x-shockwave-flash"" flashvars=""file=http://sermonplayer.com/build_xml_wzd_sn.php?player=12031-recent-.xml&skin=http://sermonplayer.com/swf/modieus_arial_ond.swf&backcolor=#000000&frontcolor=#888888&lightcolor=#2ea0aa&=Save&player_name=name (no punctuation)&controlbar=bottom&autostart=false&displayclick=play&icons=true&mute=false&repeat=none&shuffle=false&stretching=fill&plugins=&viral.onpause=false"" pluginspage=""http://www.macromedia.com/go/getflashplayer"">
     </embed></object><a href=""http://www.sermonplayer.com"" border=""01"">  <img src=""http://www.sermonplayer.com/images/poweredby.gif"" border=""0"" height=""1px"" width=""1px""></a>",ruby-on-rails,flash,safari,cross-browser,,,open,0,150,6,"flash object not displaying in safari I have a flash object embedded in my website with the embed code that I got from a website. It does not show up in Safari, it's just a blank area where the flash object is supposed to be. What can I do to get the object to show up in Safari? Thanks.

Here is the embedded code:

    <object classid=""clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"" codebase=""http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"" height=""250"" width=""258"" id=""sn_player"" align=""middle"">
     <param name=""allowFullScreen"" value=""true"" />
    <param name=""allowScriptAccess"" value=""always"" />
    <param name=""wmode"" value=""transparent"" />
    <param name=""allownetworking"" value=""all"" />
    <param name=""bgcolor"" value=""#000000"" />
    <param name=""movie"" value=""http://sermonplayer.com/swf/player45.swf"">
    <PARAM name=""flashvars"" value=""file=http://sermonplayer.com/build_xml_wzd_sn.php?player=12031-recent-.xml&skin=http://sermonplayer.com/swf/modieus_arial_ond.swf&backcolor=#111111&frontcolor=#2ea0aa&lightcolor=#2ea0aa&=Save&player_name=name (no punctuation)&controlbar=bottom&autostart=false&displayclick=play&icons=true&mute=false&repeat=none&shuffle=false&stretching=fill&plugins=&viral.onpause=false"" />
    <embed src=""http://sermonplayer.com/swf/player45.swf"" quality=""high"" height=""250"" width=""260"" id=""sn_player"" align=""middle"" allowScriptAccess=""always"" allowfullscreen=""true"" bgcolor=""#000000"" wmode=""opaque"" type=""application/x-shockwave-flash"" flashvars=""file=http://sermonplayer.com/build_xml_wzd_sn.php?player=12031-recent-.xml&skin=http://sermonplayer.com/swf/modieus_arial_ond.swf&backcolor=#000000&frontcolor=#888888&lightcolor=#2ea0aa&=Save&player_name=name (no punctuation)&controlbar=bottom&autostart=false&displayclick=play&icons=true&mute=false&repeat=none&shuffle=false&stretching=fill&plugins=&viral.onpause=false"" pluginspage=""http://www.macromedia.com/go/getflashplayer"">
     </embed></object><a href=""http://www.sermonplayer.com"" border=""01"">  <img src=""http://www.sermonplayer.com/images/poweredby.gif"" border=""0"" height=""1px"" width=""1px""></a>",4
4115768,11/06/2010 23:42:38,62078,02/03/2009 18:49:45,40,4,"rails , prototype and :afterFinish callback question","why does this work

    <script type=""text/javascript"">
        var mycallback = function() {
          $('user_session_username').focus();
         };
    </script>

    page.visual_effect :appear, 'user-response', :afterFinish => ""mycallback""

whereas this doesn't

    page.visual_effect :appear, 'user-response', :afterFinish => ""$('user_session_username').focus()"" 

or

    page.visual_effect :appear, 'user-response', :afterFinish => ""$('user_session_username').focus"" ",ruby-on-rails,prototype,,,,,open,0,75,7,"rails , prototype and :afterFinish callback question why does this work

    <script type=""text/javascript"">
        var mycallback = function() {
          $('user_session_username').focus();
         };
    </script>

    page.visual_effect :appear, 'user-response', :afterFinish => ""mycallback""

whereas this doesn't

    page.visual_effect :appear, 'user-response', :afterFinish => ""$('user_session_username').focus()"" 

or

    page.visual_effect :appear, 'user-response', :afterFinish => ""$('user_session_username').focus"" ",2
10348018,04/27/2012 09:18:38,987333,10/10/2011 08:45:59,1,0,Nginx intermittently serving up file dir instead of rails app,"Hi all I've spent the last few days setting up a new VPS for my website, its running but it seems that from time to time instead of serving up the rails application its simply serving the directory index 
here is my nginx config:

    user  www-data;
    worker_processes  1;

    events {
       worker_connections  1024;
    }


    http {
        passenger_root /home/deployer/.rvm/gems/ruby-1.9.2-p320@gemset/gems/passenger-3.0.12;
        passenger_ruby /home/deployer/.rvm/wrappers/ruby-1.9.2-p320@gemset/ruby;

        sendfile        on;

    server {
      listen                   80;
      server_name              www.my-app.com;
      root                     /u/apps/my-app/current/public;
      passenger_enabled        on;
      rails_env                production;
    }
    }

This is getting really frustrating, as first it will serve up the site, then if you refresh it serves up the ""index of/"" page listing all files and directories within that directory then a couple of refreshes later we're back to the rails application.

does anyone know what could be the issue?

Thanks in advance",ruby-on-rails,ruby-on-rails-3,nginx,passenger,vps,,open,0,286,10,"Nginx intermittently serving up file dir instead of rails app Hi all I've spent the last few days setting up a new VPS for my website, its running but it seems that from time to time instead of serving up the rails application its simply serving the directory index 
here is my nginx config:

    user  www-data;
    worker_processes  1;

    events {
       worker_connections  1024;
    }


    http {
        passenger_root /home/deployer/.rvm/gems/ruby-1.9.2-p320@gemset/gems/passenger-3.0.12;
        passenger_ruby /home/deployer/.rvm/wrappers/ruby-1.9.2-p320@gemset/ruby;

        sendfile        on;

    server {
      listen                   80;
      server_name              www.my-app.com;
      root                     /u/apps/my-app/current/public;
      passenger_enabled        on;
      rails_env                production;
    }
    }

This is getting really frustrating, as first it will serve up the site, then if you refresh it serves up the ""index of/"" page listing all files and directories within that directory then a couple of refreshes later we're back to the rails application.

does anyone know what could be the issue?

Thanks in advance",5
5918252,05/07/2011 00:14:57,149080,08/01/2009 21:00:20,2606,29,GIT how to handle Untracked files message?,"Normally, my workflow to check-in code to github is:

    git add .
    git commit -a -m ""description""
    git push

That has always worked. But now when I commit I get this error:

    $ git commit -a -m ""x""
    # On branch master
    # Untracked files:
    #   (use ""git add <file>..."" to include in what will be committed)
    #
    #	../db/migrate/20110506232317_add_xxxxxxxx.rb
    #	../lib/xxxxxxxx_job.rb
    nothing added to commit but untracked files present (use ""git add"" to track)


And recommitting with git add . has no effect. Any ideas what's going on here? Thanks
",ruby-on-rails,git,github,,,,open,0,122,7,"GIT how to handle Untracked files message? Normally, my workflow to check-in code to github is:

    git add .
    git commit -a -m ""description""
    git push

That has always worked. But now when I commit I get this error:

    $ git commit -a -m ""x""
    # On branch master
    # Untracked files:
    #   (use ""git add <file>..."" to include in what will be committed)
    #
    #	../db/migrate/20110506232317_add_xxxxxxxx.rb
    #	../lib/xxxxxxxx_job.rb
    nothing added to commit but untracked files present (use ""git add"" to track)


And recommitting with git add . has no effect. Any ideas what's going on here? Thanks
",3
6322157,06/12/2011 13:18:14,292973,03/13/2010 14:28:52,53,3,What are the Web Frameworks worth investing some time and effort into these days.,"I saw an interesting video replay of a presentation by Avi Bryant who claims the rails (MVC) framework (along with most others) is obsolete. Here is the link here: [Rails Is Obsolete (But so is everything else)][1]. 

Summary of the presentation follows.  So if you were going invest time in a new framework/platform today what would it be and why?  I'll throw out a couple of candidates for discussion purposes I'm sure I'm missing a lot of great candidates. 

 - Cappuccio
 - Spoutcore
 - Coccoa / IOS
 - Google / GWT
 - Seaside
 - Rails 3 (Because Rails is not obsolete)

Rails is Obsolete (But So's Everything Else)
Avi Bryant

Back in the old days, you submitted a form to some URL and you got back some HTML. These days, you probably didn't hit submit, your URL probably didn't change, and what you got back was probably JSON—but you never saw it because it came in asynchronously in the background. Best practices around web applications are changing fast, driven by new browser standards, sophisticated JavaScript libraries and super fast JavaScript implementations. Why would a web framework design from 2004 still be appropriate? What can we be doing to adapt, or reinvent, our approaches to building web apps?

",ruby-on-rails,development-environment,,,,06/12/2011 13:31:10,not constructive,1,207,14,"What are the Web Frameworks worth investing some time and effort into these days. I saw an interesting video replay of a presentation by Avi Bryant who claims the rails (MVC) framework (along with most others) is obsolete. Here is the link here: [Rails Is Obsolete (But so is everything else)][1]. 

Summary of the presentation follows.  So if you were going invest time in a new framework/platform today what would it be and why?  I'll throw out a couple of candidates for discussion purposes I'm sure I'm missing a lot of great candidates. 

 - Cappuccio
 - Spoutcore
 - Coccoa / IOS
 - Google / GWT
 - Seaside
 - Rails 3 (Because Rails is not obsolete)

Rails is Obsolete (But So's Everything Else)
Avi Bryant

Back in the old days, you submitted a form to some URL and you got back some HTML. These days, you probably didn't hit submit, your URL probably didn't change, and what you got back was probably JSON—but you never saw it because it came in asynchronously in the background. Best practices around web applications are changing fast, driven by new browser standards, sophisticated JavaScript libraries and super fast JavaScript implementations. Why would a web framework design from 2004 still be appropriate? What can we be doing to adapt, or reinvent, our approaches to building web apps?

",2
10163390,04/15/2012 15:30:11,1160916,01/20/2012 15:29:23,660,32,How to join/merge xml files into a single file and return it?,"I'm using the Last.fm API and I'm trying to get a lot of info about a certain user and returning it in xml. So, here's the call in my view:

    <%= form_tag fetch_user_path, :remote => true, :'data-type' => 'xml', :id => 'search' do %>
      <%= text_field_tag :q %>
    <% end %>

So, as you can see, it's expecting XML, and I'm correctly handling the callback using jQuery. Then, in my controller:

    # fetch_controller.rb
    def user
      username = params[:q].gsub(' ','+')
      get_info_url = ""http://ws.audioscrobbler.com/2.0/?method=user.getinfo&user=#{username}&api_key=#{API_KEY}""
      get_friends_url = ""http://ws.audioscrobbler.com/2.0/?method=user.getfriends&user=#{username}&api_key=#{API_KEY}""
      
      respond_to do |format|
        format.xml {
          begin
            @xml = Nokogiri::XML(open(get_info_url))
          rescue Exception => e
            if e.message == '400 Bad Request'
              render xml: { :error => 'User not found.' }, :status => 400
            else
              render xml: { :error => 'Connection to Last.fm failed.' }, :status => 500
            end
          else
            render xml: @xml
          end
        }
    end

This way, I'm correctly returning the xml returned by `get_info_url`. However, I want to join that xml to the xml returned by `get_friends_url`. How would I go about that?",ruby-on-rails,nokogiri,,,,,open,0,342,12,"How to join/merge xml files into a single file and return it? I'm using the Last.fm API and I'm trying to get a lot of info about a certain user and returning it in xml. So, here's the call in my view:

    <%= form_tag fetch_user_path, :remote => true, :'data-type' => 'xml', :id => 'search' do %>
      <%= text_field_tag :q %>
    <% end %>

So, as you can see, it's expecting XML, and I'm correctly handling the callback using jQuery. Then, in my controller:

    # fetch_controller.rb
    def user
      username = params[:q].gsub(' ','+')
      get_info_url = ""http://ws.audioscrobbler.com/2.0/?method=user.getinfo&user=#{username}&api_key=#{API_KEY}""
      get_friends_url = ""http://ws.audioscrobbler.com/2.0/?method=user.getfriends&user=#{username}&api_key=#{API_KEY}""
      
      respond_to do |format|
        format.xml {
          begin
            @xml = Nokogiri::XML(open(get_info_url))
          rescue Exception => e
            if e.message == '400 Bad Request'
              render xml: { :error => 'User not found.' }, :status => 400
            else
              render xml: { :error => 'Connection to Last.fm failed.' }, :status => 500
            end
          else
            render xml: @xml
          end
        }
    end

This way, I'm correctly returning the xml returned by `get_info_url`. However, I want to join that xml to the xml returned by `get_friends_url`. How would I go about that?",2
10036354,04/05/2012 21:34:12,272342,02/13/2010 09:16:54,3007,109,Best utility Rails gem to help you code / debug,"What **gems** do you use for helping you be **more productive** or **debug** more easily while coding in Rails?

<br>
Some gems are specific to a task, and you find them easily when you need to implement the feature. With this question, I'm looking for all the others, that you might not think to search for, but once you have heard of it, you install it on each new project.

<br>
Please keep one gem per reply, to help the votes sort them out.",ruby-on-rails,ruby,debugging,gem,productivity,04/05/2012 21:56:31,not constructive,1,80,10,"Best utility Rails gem to help you code / debug What **gems** do you use for helping you be **more productive** or **debug** more easily while coding in Rails?

<br>
Some gems are specific to a task, and you find them easily when you need to implement the feature. With this question, I'm looking for all the others, that you might not think to search for, but once you have heard of it, you install it on each new project.

<br>
Please keep one gem per reply, to help the votes sort them out.",5
3295889,07/21/2010 02:33:02,92679,04/19/2009 05:23:14,269,14,How do I store keys for API's in Rails?,"I have several api's that I am integrating with and need to call in various parts of my application.

What is the way to store the keys, the user/password, or token information, say, a configuration file and then how do I call them for use in other parts of the application?

Thanks.",ruby-on-rails,,,,,,open,0,50,9,"How do I store keys for API's in Rails? I have several api's that I am integrating with and need to call in various parts of my application.

What is the way to store the keys, the user/password, or token information, say, a configuration file and then how do I call them for use in other parts of the application?

Thanks.",1
5211210,03/06/2011 15:00:59,647019,03/06/2011 15:00:59,1,0,"ArgumentError in Chapter 7 of ""Rails Tutorial"" by Michael Hartl","everyone. I've got the following problem:
After implementing has_password? in section 7.2.3 RSpec displays the following error for ""should create a new instance given valid attributes"" test for example

> 1) User should create a new instance given valid attributes
     Failure/Error: User.create!(@attr)
     ArgumentError:
       wrong number of arguments (1 for 0)
     # ./app/models/user.rb:42:in `secure_hash'
     # ./app/models/user.rb:39:in `make_salt'
     # ./app/models/user.rb:30:in `encrypt_password'
     # ./spec/models/user_spec.rb:14:in `block (2 levels) in <top (required)>'

>Finished in 1.47 seconds
1 example, 1 failure
  <-- Slave(1) run done!

I don't understand, what exactly causes the problem.
Here is my user.rb code:

        require 'digest'
    
    class User < ActiveRecord::Base 
      attr_accessor :password
      attr_accessible :name, :email, :password, :password_confirmation
    
      email_regex = /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i
      
      validates :name,  :presence => true,
                        :length   => { :maximum => 50 }
      validates :email, :presence => true,
      					 :format   => { :with => email_regex },
      					 :uniqueness => { :case_sensitive => false }
      					 
      # Automatically create the virtual attribute ""password_confirmation""
      validates :password, :presence => true,
      					:confirmation => true,
      					:length => { :within => 6..40 } 
      
      before_save :encrypt_password
      
      # Return 'true' if the user's password matches the submitted password
      def has_password?(submitted_password)
      	encrypted_password == encrypt(submitted_password)
      end
      
      private
      
      def encrypt_password
      	self.salt = make_salt if new_record?
      	self.encrypted_password = encrypt(password)
      end
      
      def encrypt(string)
      	secure_hash(""#{salt}--#{string}"")
      end
      
      def make_salt
      	secure_hash(""#{Time.now.utc}--#{password}"")
      end
      
      def secure_hash
      	Digest::SHA2.hexdigest(string)
      end
    end

What can it be?
Thank you in advance!",ruby-on-rails,ruby-on-rails-3,,,,,open,0,494,10,"ArgumentError in Chapter 7 of ""Rails Tutorial"" by Michael Hartl everyone. I've got the following problem:
After implementing has_password? in section 7.2.3 RSpec displays the following error for ""should create a new instance given valid attributes"" test for example

> 1) User should create a new instance given valid attributes
     Failure/Error: User.create!(@attr)
     ArgumentError:
       wrong number of arguments (1 for 0)
     # ./app/models/user.rb:42:in `secure_hash'
     # ./app/models/user.rb:39:in `make_salt'
     # ./app/models/user.rb:30:in `encrypt_password'
     # ./spec/models/user_spec.rb:14:in `block (2 levels) in <top (required)>'

>Finished in 1.47 seconds
1 example, 1 failure
  <-- Slave(1) run done!

I don't understand, what exactly causes the problem.
Here is my user.rb code:

        require 'digest'
    
    class User < ActiveRecord::Base 
      attr_accessor :password
      attr_accessible :name, :email, :password, :password_confirmation
    
      email_regex = /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i
      
      validates :name,  :presence => true,
                        :length   => { :maximum => 50 }
      validates :email, :presence => true,
      					 :format   => { :with => email_regex },
      					 :uniqueness => { :case_sensitive => false }
      					 
      # Automatically create the virtual attribute ""password_confirmation""
      validates :password, :presence => true,
      					:confirmation => true,
      					:length => { :within => 6..40 } 
      
      before_save :encrypt_password
      
      # Return 'true' if the user's password matches the submitted password
      def has_password?(submitted_password)
      	encrypted_password == encrypt(submitted_password)
      end
      
      private
      
      def encrypt_password
      	self.salt = make_salt if new_record?
      	self.encrypted_password = encrypt(password)
      end
      
      def encrypt(string)
      	secure_hash(""#{salt}--#{string}"")
      end
      
      def make_salt
      	secure_hash(""#{Time.now.utc}--#{password}"")
      end
      
      def secure_hash
      	Digest::SHA2.hexdigest(string)
      end
    end

What can it be?
Thank you in advance!",2
4953095,02/10/2011 03:38:05,609904,02/09/2011 14:42:27,1,0,How to Install Cucumber-Rails under window7 OS,"I folllow the guid to install cucumber-Rails. When I run ""rails generate cucumber:install # Rails 3"" , I got an error ""Could not find generator cucumber:install.""  I have run ""bundle install"".


Output:
Using rake (0.8.7)
Using abstract (1.0.0)
Using activesupport (3.0.3)
Using builder (2.1.2)
Using i18n (0.5.0)
Using activemodel (3.0.3)
Using erubis (2.6.6)
Using rack (1.2.1)
Using rack-mount (0.6.13)
Using rack-test (0.5.7)
Using tzinfo (0.3.24)
Using actionpack (3.0.3)
Using mime-types (1.16)
Using polyglot (0.3.1)
Using treetop (1.4.9)
Using mail (2.2.15)
Using actionmailer (3.0.3)
Using arel (2.0.7)
Using activerecord (3.0.3)
Using activeresource (3.0.3)
Using bundler (1.0.9)
Using mysql2 (0.2.6)
Using thor (0.14.6)
Using railties (3.0.3)
Using rails (3.0.3)
Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem
is installed.


Is there any one can tell doest cucumber support on windows, and how can I install it.
",ruby-on-rails,windows,cucumber,,,,open,0,112,7,"How to Install Cucumber-Rails under window7 OS I folllow the guid to install cucumber-Rails. When I run ""rails generate cucumber:install # Rails 3"" , I got an error ""Could not find generator cucumber:install.""  I have run ""bundle install"".


Output:
Using rake (0.8.7)
Using abstract (1.0.0)
Using activesupport (3.0.3)
Using builder (2.1.2)
Using i18n (0.5.0)
Using activemodel (3.0.3)
Using erubis (2.6.6)
Using rack (1.2.1)
Using rack-mount (0.6.13)
Using rack-test (0.5.7)
Using tzinfo (0.3.24)
Using actionpack (3.0.3)
Using mime-types (1.16)
Using polyglot (0.3.1)
Using treetop (1.4.9)
Using mail (2.2.15)
Using actionmailer (3.0.3)
Using arel (2.0.7)
Using activerecord (3.0.3)
Using activeresource (3.0.3)
Using bundler (1.0.9)
Using mysql2 (0.2.6)
Using thor (0.14.6)
Using railties (3.0.3)
Using rails (3.0.3)
Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem
is installed.


Is there any one can tell doest cucumber support on windows, and how can I install it.
",3
7066137,08/15/2011 14:29:48,120992,06/11/2009 00:45:23,366,2,How to determine if string contains arabic symbols?,"I need to know, If the string is in Arabic to change the layout of my html page. How do I do this?",ruby-on-rails,ruby,,,,,open,0,23,8,"How to determine if string contains arabic symbols? I need to know, If the string is in Arabic to change the layout of my html page. How do I do this?",2
3937988,10/14/2010 22:07:14,256234,01/21/2010 22:04:12,11,1,Using Rack middleware for cross-domain sessions in same app,"I have a white-labelled Rails app that allows me to create a variety of different new websites, each with their own TLD, but all powered by the same app.  It's an ecommerce app so all orders are processed on a single, different TLD.

For example, I might have three TLDs:

domain_a.com
domain_b.com
domain_c.com

and orders are processed on

domain_orders.com

Domains a through c are basically marketing mini-sites where domain_orders.com takes the orders.  All four domains are powered by the EXACT SAME Rails app using the host name to decide what content to present.

The problem is, if I set any sessions or cookies on domains_a, b or c that I MUST read on domain_orders.com I CANT due to cross-domain security restrictions.

Since all these domains are part of the same app on the same server, I'm wondering if there is a piece of Rack middleware or the like that I can use to store cross-domain data that all four domains can read?

Thank you for the help.",ruby-on-rails,session,cookies,rack,,,open,0,159,9,"Using Rack middleware for cross-domain sessions in same app I have a white-labelled Rails app that allows me to create a variety of different new websites, each with their own TLD, but all powered by the same app.  It's an ecommerce app so all orders are processed on a single, different TLD.

For example, I might have three TLDs:

domain_a.com
domain_b.com
domain_c.com

and orders are processed on

domain_orders.com

Domains a through c are basically marketing mini-sites where domain_orders.com takes the orders.  All four domains are powered by the EXACT SAME Rails app using the host name to decide what content to present.

The problem is, if I set any sessions or cookies on domains_a, b or c that I MUST read on domain_orders.com I CANT due to cross-domain security restrictions.

Since all these domains are part of the same app on the same server, I'm wondering if there is a piece of Rack middleware or the like that I can use to store cross-domain data that all four domains can read?

Thank you for the help.",4
11117481,06/20/2012 10:20:56,1266681,03/13/2012 14:12:05,11,0,"Implementing ""Organizations, users, resources"" in rails. Anything we could start from?","We are currently implementing a small application and we came to the following general question.

In the app we have:
1. Organizations (teams)
2. Users
3. Resources - documents and records in tables.

We are looking for a way to implement the application and to base it on something already developed. Open sources or proprietary. We really do not want to implement it from scratch.

The connections between the objects are:

 - Organization - User, many..many
 - Organization - Resource, 1..many

The users in one organization could modify it resources. They could also make them public so that they are visible to other organizations.

Do you know of something that could help us in this case? A similar model already implemented elsewhere. ",ruby-on-rails,ruby,resources,user,,06/21/2012 13:10:25,not constructive,1,115,11,"Implementing ""Organizations, users, resources"" in rails. Anything we could start from? We are currently implementing a small application and we came to the following general question.

In the app we have:
1. Organizations (teams)
2. Users
3. Resources - documents and records in tables.

We are looking for a way to implement the application and to base it on something already developed. Open sources or proprietary. We really do not want to implement it from scratch.

The connections between the objects are:

 - Organization - User, many..many
 - Organization - Resource, 1..many

The users in one organization could modify it resources. They could also make them public so that they are visible to other organizations.

Do you know of something that could help us in this case? A similar model already implemented elsewhere. ",4
2928298,05/28/2010 10:46:21,352805,05/28/2010 10:46:21,1,0,Rails uses wrong class in belongs_to,"I have an application managing software tests and a class called TestResult:

    class TestResult < ActiveRecord::Base
      belongs_to :test_case,   :class_name => ""TestCase""
    end

I'm right now migrating from Rails 1.x to 2.3.5.

In Rails 1.x everything works fine.

When trying to access the association in Rails 2.3.5, I get the following error:

NoMethodError: undefined method 'find' for ActiveRecord::TestCase:Class
from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/belongs_to_association.rb:49:in 'send'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/belongs_to_association.rb:49:in 'find_target'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/association_proxy.rb:239:in 'load_target'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/association_proxy.rb:112:in 'reload'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations.rb:1250:in 'test_case'

My Question is: how can I tell Rails to use my TestCase-class instead of ActiveRecord::TestCase. 
",ruby-on-rails,associations,,,,,open,0,91,6,"Rails uses wrong class in belongs_to I have an application managing software tests and a class called TestResult:

    class TestResult < ActiveRecord::Base
      belongs_to :test_case,   :class_name => ""TestCase""
    end

I'm right now migrating from Rails 1.x to 2.3.5.

In Rails 1.x everything works fine.

When trying to access the association in Rails 2.3.5, I get the following error:

NoMethodError: undefined method 'find' for ActiveRecord::TestCase:Class
from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/belongs_to_association.rb:49:in 'send'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/belongs_to_association.rb:49:in 'find_target'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/association_proxy.rb:239:in 'load_target'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations/association_proxy.rb:112:in 'reload'

from /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/associations.rb:1250:in 'test_case'

My Question is: how can I tell Rails to use my TestCase-class instead of ActiveRecord::TestCase. 
",2
9594371,03/07/2012 01:05:17,369556,06/17/2010 16:31:27,98,2,heroku delayed_job error: job failed to load allocator undefined for proc,"I'm using delayed_job in my project.

it works perfectly locally.  
it works well on heroku as well.  

trouble is every so often, I see this error ""job failed to load.  allocator undefined for proc""

when I clear the queue (via jobs:clear) and then start the worker (via jobs:work) the worker starts fine and process all the jobs, but if I don't clear the queue before starting the worker, I get this error.

I'm pulling my hair trying to solve this one.  any ideas?",ruby-on-rails,heroku,delayed-job,,,,open,0,84,11,"heroku delayed_job error: job failed to load allocator undefined for proc I'm using delayed_job in my project.

it works perfectly locally.  
it works well on heroku as well.  

trouble is every so often, I see this error ""job failed to load.  allocator undefined for proc""

when I clear the queue (via jobs:clear) and then start the worker (via jobs:work) the worker starts fine and process all the jobs, but if I don't clear the queue before starting the worker, I get this error.

I'm pulling my hair trying to solve this one.  any ideas?",3
3081678,06/21/2010 01:35:31,371785,06/21/2010 01:35:31,1,0,Ecommerce Gems for ROR?,"I'm working as a project manager on a site with an Etsy-like shopping cart setup (allowing users to sell their products and taking a small percentage of the sale). While I expect my developer to answer this question, I figure it can't hurt to ask if anyone recommends specific gems for such a shopping set-up in RoR or financial reporting.",ruby-on-rails,rubygems,reporting,e-commerce,financial,01/04/2012 13:55:35,not constructive,1,60,4,"Ecommerce Gems for ROR? I'm working as a project manager on a site with an Etsy-like shopping cart setup (allowing users to sell their products and taking a small percentage of the sale). While I expect my developer to answer this question, I figure it can't hurt to ask if anyone recommends specific gems for such a shopping set-up in RoR or financial reporting.",5
3445750,08/10/2010 03:05:52,301218,03/24/2010 21:14:20,27,0,"Rails plugin, possible customize styelsheet?","could I have a stylesheets directory in Rails' plugin directory?

I am trying to write plugin for a existing Rails webApp, but still not sure how to customize 
the default CSS for my plugin?",ruby-on-rails,,,,,,open,0,33,5,"Rails plugin, possible customize styelsheet? could I have a stylesheets directory in Rails' plugin directory?

I am trying to write plugin for a existing Rails webApp, but still not sure how to customize 
the default CSS for my plugin?",1
1054853,06/28/2009 12:40:49,128991,06/25/2009 18:03:49,1,0,Can I narrow down the type of classes retrieved by a Polymorphic relationship in Rails?,"I have a polymorphic relationship in Rails, but in one particular instance of use, I'd only like to retrieve records for a specific class.

What's the best approach to do this?",ruby-on-rails,polymorphic-associations,,,,,open,0,30,15,"Can I narrow down the type of classes retrieved by a Polymorphic relationship in Rails? I have a polymorphic relationship in Rails, but in one particular instance of use, I'd only like to retrieve records for a specific class.

What's the best approach to do this?",2
10725909,05/23/2012 18:39:29,1413365,05/23/2012 18:33:15,1,0,How do I get request object with other params using ruby on rails 3?,"Currently I am working on project like web analytic using rails 3.2.3

I have two server, one is running on `port 3001` and other one running on `port 3000`. 

Here **port 3001 is the server** and **port 3000 server is the user**. Now I need to get
request object from port 3000.

If I will write below code I can get the Browser details.

application.html.erb	- This is user side code.

    <script type=""text/javascript"" 
    		src=""http://localhost:3001/tracks/track_client?bwname=<%= request.env[""HTTP_USER_AGENT""]  %>"">
    </script>

This is the server side coce

    def track_client
     params.each do |key,value|
      Rails.logger.warn ""Param #{key}: #{value}""
     end
    end

    {bwname=>Mozilla/5.0 (Windows NT 6.1"", "" WOW64) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2}

**But I need user's request object with all properties not specific.** like I need other properties too like 

    ""GATEWAY_INTERFACE"", ""PATH_INFO"", ""QUERY_STRING"", ""REMOTE_ADDR"", ""REMOTE_HOST"", ""REQUEST_METHOD"", ""REQUEST_URI"", ""SCRIPT_NAME"", ""SERVER_NAME"", ""SERVER_PORT"", ""SERVER_PROTOCOL"", ""SERVER_SOFTWARE"", ""HTTP_HOST"", ""HTTP_USER_AGENT"",
    ""HTTP_ACCEPT"",  ""HTTP_ACCEPT_LANGUAGE"",  ""HTTP_ACCEPT_ENCODING"",  ""HTTP_DNT""=>""1"",  ""HTTP_CONNECTION"", ""HTTP_COOKIE"", ""HTTP_IF_NONE_MATCH"", ""HTTP_CACHE_CONTROL""


Along with this I need some other params too like something like this 

    <script type=""text/javascript"" 
    		src=""http://localhost:3001/tracks/track_client?userid=1234&bwname=<%= request.env %>"">
    </script>

Thanks",ruby-on-rails,ruby,ruby-on-rails-3.2,,,,open,0,212,14,"How do I get request object with other params using ruby on rails 3? Currently I am working on project like web analytic using rails 3.2.3

I have two server, one is running on `port 3001` and other one running on `port 3000`. 

Here **port 3001 is the server** and **port 3000 server is the user**. Now I need to get
request object from port 3000.

If I will write below code I can get the Browser details.

application.html.erb	- This is user side code.

    <script type=""text/javascript"" 
    		src=""http://localhost:3001/tracks/track_client?bwname=<%= request.env[""HTTP_USER_AGENT""]  %>"">
    </script>

This is the server side coce

    def track_client
     params.each do |key,value|
      Rails.logger.warn ""Param #{key}: #{value}""
     end
    end

    {bwname=>Mozilla/5.0 (Windows NT 6.1"", "" WOW64) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2}

**But I need user's request object with all properties not specific.** like I need other properties too like 

    ""GATEWAY_INTERFACE"", ""PATH_INFO"", ""QUERY_STRING"", ""REMOTE_ADDR"", ""REMOTE_HOST"", ""REQUEST_METHOD"", ""REQUEST_URI"", ""SCRIPT_NAME"", ""SERVER_NAME"", ""SERVER_PORT"", ""SERVER_PROTOCOL"", ""SERVER_SOFTWARE"", ""HTTP_HOST"", ""HTTP_USER_AGENT"",
    ""HTTP_ACCEPT"",  ""HTTP_ACCEPT_LANGUAGE"",  ""HTTP_ACCEPT_ENCODING"",  ""HTTP_DNT""=>""1"",  ""HTTP_CONNECTION"", ""HTTP_COOKIE"", ""HTTP_IF_NONE_MATCH"", ""HTTP_CACHE_CONTROL""


Along with this I need some other params too like something like this 

    <script type=""text/javascript"" 
    		src=""http://localhost:3001/tracks/track_client?userid=1234&bwname=<%= request.env %>"">
    </script>

Thanks",3
11124447,06/20/2012 16:56:42,796004,06/13/2011 13:36:06,66,10,How to incorporate Rails Engine ApplicationController methods in a main app?,"How do I incorporate a Rails engine ApplicationController (it's methods) into a main app? I need to access these engine controller methods, and I'd like to do it with using an 'Include' in my main app's ApplicationController.

    module MyEngine
      class Engine < Rails::Engine
        initializer  ""myengine.load_helpers"" do
          ActiveSupport.on_load(:action_controller) do
            include MyEngine::Helpers
          end
        end
      end
    end

The above was posted on http://stackoverflow.com/questions/7323327/a-way-to-add-before-filter-from-engine-to-application/, but my understanding was that helpers are only view-usable, while I need need to access them in my controllers. ",ruby-on-rails,ruby-on-rails-3,,,,,open,0,139,11,"How to incorporate Rails Engine ApplicationController methods in a main app? How do I incorporate a Rails engine ApplicationController (it's methods) into a main app? I need to access these engine controller methods, and I'd like to do it with using an 'Include' in my main app's ApplicationController.

    module MyEngine
      class Engine < Rails::Engine
        initializer  ""myengine.load_helpers"" do
          ActiveSupport.on_load(:action_controller) do
            include MyEngine::Helpers
          end
        end
      end
    end

The above was posted on http://stackoverflow.com/questions/7323327/a-way-to-add-before-filter-from-engine-to-application/, but my understanding was that helpers are only view-usable, while I need need to access them in my controllers. ",2
11370973,07/06/2012 23:39:34,593109,01/28/2011 00:51:03,27,4,"When attempting to void a Hold on balanced payments that had been captured, why is the response a Hold with is_void == true?","When using the Balanced Payments ruby gem (https://github.com/balanced/balanced-ruby), and using the `Balanced::Hold#void` method on a `Balanced::Hold` instance that is captured, we are getting a `Balanced::Hold` back that has its `is_void` property set to `true`. 

That doesn't seem to make sense... is this the desired functionality?

Here's the output from the rails console:
https://gist.github.com/3063419

I am not sure if this is desired functionality. Happy to log it as an issue if someone thinks this doesn't make sense.",ruby-on-rails,ruby,,,,,open,0,73,23,"When attempting to void a Hold on balanced payments that had been captured, why is the response a Hold with is_void == true? When using the Balanced Payments ruby gem (https://github.com/balanced/balanced-ruby), and using the `Balanced::Hold#void` method on a `Balanced::Hold` instance that is captured, we are getting a `Balanced::Hold` back that has its `is_void` property set to `true`. 

That doesn't seem to make sense... is this the desired functionality?

Here's the output from the rails console:
https://gist.github.com/3063419

I am not sure if this is desired functionality. Happy to log it as an issue if someone thinks this doesn't make sense.",2
7786331,10/16/2011 18:23:32,858419,07/22/2011 17:40:51,23,0,Running a Ruby on Rails app from GitHub,"Im new to github..  I have register my name there, I'm not a rails developer, but i want to learn Ruby on Rails.

Have someone any idea about its basic tutorials for creating Ruby on Rails applications, execute them etc 

Thanks in advance",ruby-on-rails,git,github,,,,open,0,43,8,"Running a Ruby on Rails app from GitHub Im new to github..  I have register my name there, I'm not a rails developer, but i want to learn Ruby on Rails.

Have someone any idea about its basic tutorials for creating Ruby on Rails applications, execute them etc 

Thanks in advance",3
9134812,02/03/2012 20:06:51,881559,08/06/2011 02:20:46,19,0,Rails layout gone haywire,"So I finally finished Hartl's Rails tutorial book and created a new git branch to play around with. I tried to add an AJAX submit button to the front page feed. This didn't work so I decided to undo the branch.. The only way I could find to do this was by using `git reset --hard HEAD` ... this seemed to work fine.. however, when I went to load the site again the visual layout went bonkers. Please see the images below (top one crazy, bottom one normal). I can't even begin to imagine why this has happened. The oddest part is when I downloaded my stable version from github, the crazy layout was STILL there.

![haywire][1]
![normal][2]


  [1]: http://i.stack.imgur.com/6N6xn.png
  [2]: http://i.stack.imgur.com/EQhhM.png",ruby-on-rails,,,,,02/03/2012 21:58:41,too localized,1,122,4,"Rails layout gone haywire So I finally finished Hartl's Rails tutorial book and created a new git branch to play around with. I tried to add an AJAX submit button to the front page feed. This didn't work so I decided to undo the branch.. The only way I could find to do this was by using `git reset --hard HEAD` ... this seemed to work fine.. however, when I went to load the site again the visual layout went bonkers. Please see the images below (top one crazy, bottom one normal). I can't even begin to imagine why this has happened. The oddest part is when I downloaded my stable version from github, the crazy layout was STILL there.

![haywire][1]
![normal][2]


  [1]: http://i.stack.imgur.com/6N6xn.png
  [2]: http://i.stack.imgur.com/EQhhM.png",1
4713066,01/17/2011 12:20:34,126861,06/22/2009 11:16:54,52,2,plugin reload with each request rails 3,"As I understand it plugins are not reloaded in rails with each request in development mode
which makes sense, generally you add plugins to your app and develop the app

unless you are developing a plugin in which case you have to restart the server with each change to the plugin

I have scoured the internet and found no working way to get a plugins files to reload with each request in rails 3

it seems insane that this is so difficult",ruby-on-rails,ruby-on-rails-3,plugins,ruby-on-rails-plugins,reload,,open,0,78,7,"plugin reload with each request rails 3 As I understand it plugins are not reloaded in rails with each request in development mode
which makes sense, generally you add plugins to your app and develop the app

unless you are developing a plugin in which case you have to restart the server with each change to the plugin

I have scoured the internet and found no working way to get a plugins files to reload with each request in rails 3

it seems insane that this is so difficult",5
2246479,02/11/2010 17:59:34,270856,02/11/2010 06:00:23,1,0,"Creating ""feeds"" from multiple, different Rails models","I'm working on an application that has a few different models (tickets, posts, reports, etc..). The data is different in each model and I want to create a ""feed"" from all those models that displays the 10 most recent entries across the board (a mix of all the data).

What is the best way to go about this? Should I create a new Feed model and write to that table when a user is assigned a ticket or a new report is posted? We've also been looking at STI to build a table of model references or just creating a class method that aggregates the data. Not sure which method is the most efficient...",ruby-on-rails,single-table-inheritance,,,,,open,0,113,7,"Creating ""feeds"" from multiple, different Rails models I'm working on an application that has a few different models (tickets, posts, reports, etc..). The data is different in each model and I want to create a ""feed"" from all those models that displays the 10 most recent entries across the board (a mix of all the data).

What is the best way to go about this? Should I create a new Feed model and write to that table when a user is assigned a ticket or a new report is posted? We've also been looking at STI to build a table of model references or just creating a class method that aggregates the data. Not sure which method is the most efficient...",2
8141059,11/15/2011 18:13:36,435779,08/31/2010 09:38:48,16,0,Rails server running in command prompt causing conhost.exe to crash,"I have a Rails application that requires a bunch of environment stuff to get set up, and right now the easiest way for me to do it is to run a batch file to configure the environment and then launch the server from the command prompt.  (Perhaps one day I will bite the bullet and transcribe all of the various environment variables into the project config, but I'd rather not...)

But when I do this, I occasionally manage to crash conhost.exe!  It does not seem like I should be able to do this.  Stranger still, it seems to happen most often if I access certain records in the application.  I can't imagine it could crash if there were too much console output???

I am also having mscvrt-ruby.dll crashes, although I *may* have resolved those by doing some gem finagling.  The conhost issue may or may not be related, I'm not sure.  But if I launch the server from within RadRails, I don't seem to get these issues (the app doesn't completely work because of the missing environment stuff, but it seems much more stable).

Technicals: Windows 7, Rails 2.3.5, Ruby 1.93, Mongrel 1.2.0pre, uh, not sure what else...

Thoughts?",ruby-on-rails,ruby,windows,windows-7,,,open,0,201,10,"Rails server running in command prompt causing conhost.exe to crash I have a Rails application that requires a bunch of environment stuff to get set up, and right now the easiest way for me to do it is to run a batch file to configure the environment and then launch the server from the command prompt.  (Perhaps one day I will bite the bullet and transcribe all of the various environment variables into the project config, but I'd rather not...)

But when I do this, I occasionally manage to crash conhost.exe!  It does not seem like I should be able to do this.  Stranger still, it seems to happen most often if I access certain records in the application.  I can't imagine it could crash if there were too much console output???

I am also having mscvrt-ruby.dll crashes, although I *may* have resolved those by doing some gem finagling.  The conhost issue may or may not be related, I'm not sure.  But if I launch the server from within RadRails, I don't seem to get these issues (the app doesn't completely work because of the missing environment stuff, but it seems much more stable).

Technicals: Windows 7, Rails 2.3.5, Ruby 1.93, Mongrel 1.2.0pre, uh, not sure what else...

Thoughts?",4
4608188,01/05/2011 19:09:16,564443,01/05/2011 19:09:16,1,0,Flex Ruby-on-Rails http xml request error,"I'm currently developing a Ruby on Rails application with Rails 3.0 on Ubuntu 10.4.
I intend to use Adobe Flex for the front-end. For this reason I've installed Flash Builder 4 on Windows XP using Virtual Box. The Internet connection of this virtual machine is bridged.

The Flex Application currently only consists of a simple HTTP Request that retrieves an XML file from the Rails Application running on Ubuntu localhost:3000 :

    <?xml version=""1.0"" encoding=""utf-8""?>
    <s:Application xmlns:fx=""http://ns.adobe.com/mxml/2009"" 
          xmlns:s=""library://ns.adobe.com/flex/spark"" 
          xmlns:mx=""library://ns.adobe.com/flex/mx"" minWidth=""955"" minHeight=""600""
          creationComplete=""plansService.send()"">
     <fx:Declarations>
      <!-- Place non-visual elements (e.g., services, value objects) here -->
      <s:HTTPService id=""plansService""
            url=""http://192.168.1.102:3000/plans/list"" />
     </fx:Declarations>
     <fx:Script>
      <![CDATA[
       private function printPlans():void {
        for each (var xm:XML in plansService.lastResult.plans.plan) {
         trace(""my name is ""+ xm.child(""name""));
        }
        
       }
      ]]>
      
     </fx:Script>
    </s:Application>

In the Flash Builder Network Manager the HTTP Request is displayed as working. The response is there and contains the correct XML data.
But when the Flex Application loads in the Browser I get this error:

    Error #2044: Unhandled securityError:. text=Error #2048: Security sandbox violation: file://C:\Documents and Settings\susi\Adobe Flash Builder 4\naturalstudy\bin-debug\naturalstudy.swf cannot load data from localhost:27813.
     at mx.netmon::NetworkMonitorImpl()[/ndepot/fb_401/ide_builder/ActionscriptProjects/src/mx/netmon/NetworkMonitorImpl.as:81]
     at mx.netmon::NetworkMonitorImpl$/init()[/ndepot/fb_401/ide_builder/ActionscriptProjects/src/mx/netmon/NetworkMonitorImpl.as:49]
     at mx.managers::SystemManager/http://www.adobe.com/2006/flex/mx/internal::kickOff()[E:\dev\4.x\frameworks\projects\framework\src\mx\managers\SystemManager.as:2620]
     at mx.managers::SystemManager/http://www.adobe.com/2006/flex/mx/internal::preloader_completeHandler()[E:\dev\4.x\frameworks\projects\framework\src\mx\managers\SystemManager.as:2539]
     at flash.events::EventDispatcher/dispatchEventFunction()
     at flash.events::EventDispatcher/dispatchEvent()
     at mx.preloaders::Preloader/timerHandler()[E:\dev\4.x\frameworks\projects\framework\src\mx\preloaders\Preloader.as:515]
     at flash.utils::Timer/_timerDispatch()
     at flash.utils::Timer/tick()

I googled this and thus have tried these things:<br />
- added use-network=false to the Flash Builder compiler options for this project<br />
- added a crossdomain.xml file to the Rails Project public folder:
 

       <?xml version=""1.0"" encoding=""utf-8""?>
        <cross-domain-policy>
        <site-control permitted-cross-domain-policies=""all"" />
        <allow-access-from domain=""*"" />
        <allow-http-request-headers-from domain=""*"" headers=""*""/>
        </cross-domain-policy>

But it still doesn't work and the error is the same.
I think the problem is that the Flex application is trying to receive something from localhost:27813 ... but I'm stuck at this point. 
Help would be much appreciated!",ruby-on-rails,flex,flash-builder,virtualbox,,,open,0,486,6,"Flex Ruby-on-Rails http xml request error I'm currently developing a Ruby on Rails application with Rails 3.0 on Ubuntu 10.4.
I intend to use Adobe Flex for the front-end. For this reason I've installed Flash Builder 4 on Windows XP using Virtual Box. The Internet connection of this virtual machine is bridged.

The Flex Application currently only consists of a simple HTTP Request that retrieves an XML file from the Rails Application running on Ubuntu localhost:3000 :

    <?xml version=""1.0"" encoding=""utf-8""?>
    <s:Application xmlns:fx=""http://ns.adobe.com/mxml/2009"" 
          xmlns:s=""library://ns.adobe.com/flex/spark"" 
          xmlns:mx=""library://ns.adobe.com/flex/mx"" minWidth=""955"" minHeight=""600""
          creationComplete=""plansService.send()"">
     <fx:Declarations>
      <!-- Place non-visual elements (e.g., services, value objects) here -->
      <s:HTTPService id=""plansService""
            url=""http://192.168.1.102:3000/plans/list"" />
     </fx:Declarations>
     <fx:Script>
      <![CDATA[
       private function printPlans():void {
        for each (var xm:XML in plansService.lastResult.plans.plan) {
         trace(""my name is ""+ xm.child(""name""));
        }
        
       }
      ]]>
      
     </fx:Script>
    </s:Application>

In the Flash Builder Network Manager the HTTP Request is displayed as working. The response is there and contains the correct XML data.
But when the Flex Application loads in the Browser I get this error:

    Error #2044: Unhandled securityError:. text=Error #2048: Security sandbox violation: file://C:\Documents and Settings\susi\Adobe Flash Builder 4\naturalstudy\bin-debug\naturalstudy.swf cannot load data from localhost:27813.
     at mx.netmon::NetworkMonitorImpl()[/ndepot/fb_401/ide_builder/ActionscriptProjects/src/mx/netmon/NetworkMonitorImpl.as:81]
     at mx.netmon::NetworkMonitorImpl$/init()[/ndepot/fb_401/ide_builder/ActionscriptProjects/src/mx/netmon/NetworkMonitorImpl.as:49]
     at mx.managers::SystemManager/http://www.adobe.com/2006/flex/mx/internal::kickOff()[E:\dev\4.x\frameworks\projects\framework\src\mx\managers\SystemManager.as:2620]
     at mx.managers::SystemManager/http://www.adobe.com/2006/flex/mx/internal::preloader_completeHandler()[E:\dev\4.x\frameworks\projects\framework\src\mx\managers\SystemManager.as:2539]
     at flash.events::EventDispatcher/dispatchEventFunction()
     at flash.events::EventDispatcher/dispatchEvent()
     at mx.preloaders::Preloader/timerHandler()[E:\dev\4.x\frameworks\projects\framework\src\mx\preloaders\Preloader.as:515]
     at flash.utils::Timer/_timerDispatch()
     at flash.utils::Timer/tick()

I googled this and thus have tried these things:<br />
- added use-network=false to the Flash Builder compiler options for this project<br />
- added a crossdomain.xml file to the Rails Project public folder:
 

       <?xml version=""1.0"" encoding=""utf-8""?>
        <cross-domain-policy>
        <site-control permitted-cross-domain-policies=""all"" />
        <allow-access-from domain=""*"" />
        <allow-http-request-headers-from domain=""*"" headers=""*""/>
        </cross-domain-policy>

But it still doesn't work and the error is the same.
I think the problem is that the Flex application is trying to receive something from localhost:27813 ... but I'm stuck at this point. 
Help would be much appreciated!",4
2326422,02/24/2010 13:53:05,116522,06/03/2009 11:09:03,360,23,rails validation contigent on multiple elements,"I've been using accepts_nested_attributes_for for a few different models and I've got an odd situation.

I can skip creation blanks thru the top model, and I can validate_presence of individual records thru the bottom, but is it possible to do a most complex validation on a set of records?

I have the models Rooms and Rates.  Rooms has_many Rates and accepts_nested_attributes_for Rates.

I can weed out blanks with

  

    accepts_nested_attributes_for :room_rates, :reject_if => lambda { |a| a[:price].blank? }

but for each Room there are 7 different records (rates).. always 7 and submitted at once from the same form.  Currently if they enter only 1 day it will allow it.  However I would like to validate that all 7 must exist.  Either they enter all 7 and it accepts it or it gives them an error for entering only 1 or 2.  And does nothing at all if they leave all 7 completely blank.

I haven't seen anything like this yet for nested_attirbutes so i'm wondering if it's possible.",ruby-on-rails,nested,forms,nested-forms,ruby,,open,0,172,6,"rails validation contigent on multiple elements I've been using accepts_nested_attributes_for for a few different models and I've got an odd situation.

I can skip creation blanks thru the top model, and I can validate_presence of individual records thru the bottom, but is it possible to do a most complex validation on a set of records?

I have the models Rooms and Rates.  Rooms has_many Rates and accepts_nested_attributes_for Rates.

I can weed out blanks with

  

    accepts_nested_attributes_for :room_rates, :reject_if => lambda { |a| a[:price].blank? }

but for each Room there are 7 different records (rates).. always 7 and submitted at once from the same form.  Currently if they enter only 1 day it will allow it.  However I would like to validate that all 7 must exist.  Either they enter all 7 and it accepts it or it gives them an error for entering only 1 or 2.  And does nothing at all if they leave all 7 completely blank.

I haven't seen anything like this yet for nested_attirbutes so i'm wondering if it's possible.",5
11255417,06/29/2012 02:44:24,1258078,03/08/2012 21:51:36,5,0,directing messages ('intros') at a certain user,"Simple rails app: I have 2 models, user and intro [which is simply a message]. Each message has a sender (user) and receiver (user). Here's the intro model (validations omitted):

    class Intro < ActiveRecord::Base
      attr_accessible :content
    
      belongs_to :sender, class_name: ""User""
      belongs_to :receiver, class_name: ""User""
      
      default_scope order: 'intros.created_at DESC'
    end

and now the user model:
    
    class User < ActiveRecord::Base
    	attr_accessible :name, :email, :password, :password_confirmation
    	has_secure_password
    	
    	has_many :sent_intros, foreign_key: ""sender_id"", dependent: :destroy, class_name: ""Intro""
    	has_many :received_intros, foreign_key: ""receiver_id"", dependent: :destroy, class_name: ""Intro""
    
    	before_save { |user| user.email = email.downcase }
    	before_save :create_remember_token
    
     	private
    	
    		def create_remember_token
    			self.remember_token = SecureRandom.urlsafe_base64
    		end
    end

The app currently lets the current user submit an intro into a form and associate with that message (a home page shows sent_intros). However, I could use some help in the intros_controller/create method when it comes to the received_intros function. How do I let an intro that is created by the current user be associated with (i.e. sent to) another specific user so that I can route it to a recipient's inbox? Thank you.

    class IntrosController < ApplicationController
      before_filter :signed_in_user
    
      def create
      	@sent_intro = current_user.sent_intros.build(params[:intro])
      	if @sent_intro.save
      		flash[:success] = ""Intro sent!""
      		redirect_to root_path
      	else
      		render 'static_pages/home'
      	end
      end
      
      def index
      end
    
      def destroy
      end
    end",ruby-on-rails,ruby,,,,,open,0,383,7,"directing messages ('intros') at a certain user Simple rails app: I have 2 models, user and intro [which is simply a message]. Each message has a sender (user) and receiver (user). Here's the intro model (validations omitted):

    class Intro < ActiveRecord::Base
      attr_accessible :content
    
      belongs_to :sender, class_name: ""User""
      belongs_to :receiver, class_name: ""User""
      
      default_scope order: 'intros.created_at DESC'
    end

and now the user model:
    
    class User < ActiveRecord::Base
    	attr_accessible :name, :email, :password, :password_confirmation
    	has_secure_password
    	
    	has_many :sent_intros, foreign_key: ""sender_id"", dependent: :destroy, class_name: ""Intro""
    	has_many :received_intros, foreign_key: ""receiver_id"", dependent: :destroy, class_name: ""Intro""
    
    	before_save { |user| user.email = email.downcase }
    	before_save :create_remember_token
    
     	private
    	
    		def create_remember_token
    			self.remember_token = SecureRandom.urlsafe_base64
    		end
    end

The app currently lets the current user submit an intro into a form and associate with that message (a home page shows sent_intros). However, I could use some help in the intros_controller/create method when it comes to the received_intros function. How do I let an intro that is created by the current user be associated with (i.e. sent to) another specific user so that I can route it to a recipient's inbox? Thank you.

    class IntrosController < ApplicationController
      before_filter :signed_in_user
    
      def create
      	@sent_intro = current_user.sent_intros.build(params[:intro])
      	if @sent_intro.save
      		flash[:success] = ""Intro sent!""
      		redirect_to root_path
      	else
      		render 'static_pages/home'
      	end
      end
      
      def index
      end
    
      def destroy
      end
    end",2
10354073,04/27/2012 16:07:01,1240487,02/29/2012 14:24:58,26,1,What are the common practices in the front-end development for a Ruby-on-Rails web application?,"In a Rails web application project, I have been assigned to develop the front end which will be rich of dynamic forms (users will be able to add elements/components into the form) and charts for enterprise customers. I have limited front end experience so I would like to hear the up-to-date practices of very experienced front end developers like ""use this JS framework and stay away from that one"" ""take a look at this book"" ""check out those links"" ""X tool is great"" ""consider this workflow"" etc.
",ruby-on-rails,frontend,,,,04/30/2012 13:44:41,not constructive,1,87,14,"What are the common practices in the front-end development for a Ruby-on-Rails web application? In a Rails web application project, I have been assigned to develop the front end which will be rich of dynamic forms (users will be able to add elements/components into the form) and charts for enterprise customers. I have limited front end experience so I would like to hear the up-to-date practices of very experienced front end developers like ""use this JS framework and stay away from that one"" ""take a look at this book"" ""check out those links"" ""X tool is great"" ""consider this workflow"" etc.
",2
3836210,10/01/2010 02:41:21,149080,08/01/2009 21:00:20,1064,20,Rails 3 - Oberserver - Not able to user the Devise @current_user,"Im building a Rails 3 app, and have an Observer...

in the observer I need to user the current_user var that DEVISE allows me to user across my views...

How can you use the current_user.name or current_user.id in the Observer?

Thank you",ruby-on-rails,ruby-on-rails-3,devise,,,,open,0,39,12,"Rails 3 - Oberserver - Not able to user the Devise @current_user Im building a Rails 3 app, and have an Observer...

in the observer I need to user the current_user var that DEVISE allows me to user across my views...

How can you use the current_user.name or current_user.id in the Observer?

Thank you",3
7461985,09/18/2011 14:08:43,824806,07/01/2011 11:54:26,712,2,How to seed the production database using the Capistrano gem?,"I am using Ruby on Rails 3.0.9 and I would like to seed the *production database* in order to add some record *without re-build the database* (that is, without delete all existing values but just adding some table row). I would like to do that because the new data is needed to make the application to work.

So, since I am using the Capistrano gem, I run the `cap -T` command in the console in order to list all available commands and to know how I can accomplish what I aim:

    $ cap -T
    => ...
    => cap deploy:seed          # Reload the database with seed data.
    => ...

My question is: **if I run the `cap deploy:seed` command in the console on my local machine will the seeding process delete all existing data in the production database or will it just add the new data in that database?**

I am not sure on the word ""Reload"" present in the ""Reload the database with seed data."" sentence.",ruby-on-rails,ruby,ruby-on-rails-3,capistrano,seed,,open,0,184,10,"How to seed the production database using the Capistrano gem? I am using Ruby on Rails 3.0.9 and I would like to seed the *production database* in order to add some record *without re-build the database* (that is, without delete all existing values but just adding some table row). I would like to do that because the new data is needed to make the application to work.

So, since I am using the Capistrano gem, I run the `cap -T` command in the console in order to list all available commands and to know how I can accomplish what I aim:

    $ cap -T
    => ...
    => cap deploy:seed          # Reload the database with seed data.
    => ...

My question is: **if I run the `cap deploy:seed` command in the console on my local machine will the seeding process delete all existing data in the production database or will it just add the new data in that database?**

I am not sure on the word ""Reload"" present in the ""Reload the database with seed data."" sentence.",5
10272366,04/22/2012 21:42:32,1187490,02/03/2012 12:36:18,55,0,How to correctly view such in rails?,"I have selected for every model it's data from another table using this in controller:

      def modelv
        @model = Model.find(:all, :conditions => { :MOD_MFA_ID => params[:man]}) 
        @ct1 = CountryDesignation.all(:conditions => { :CDS_ID => @model.map(&:MOD_CDS_ID)})
        @ct = @ct1.uniq{|hh| hh.CDS_ID}
        @destext = DesText.find(:all, :conditions => { :TEX_ID => @ct.map(&:CDS_TEX_ID)})
        respond_to do |format|
          format.html # show.html.erb
          format.xml  { render :xml => @model }
        end
      end
sorry for dirty code.

> and my view %table   %tr
>     %th Mfa id
>     %th Год начала выпуска
>     %th Год завершения выпуска
>   - @model.each do |model| 
>     %tr
>       %td= model.MOD_CDS_ID
>       %td= link_to model.MOD_ID, model
>       %td= link_to model.MOD_PCON_START, model
>       -if model.MOD_PCON_END.blank?
>         %td= link_to ""По настоящее время"", model
>       -else
>         %td= link_to model.MOD_PCON_END, model
>       -#%td= model.country_designations.des_texts.TEX_TEXT
>       -#= link_to 'Show model', model   %br %table   %tr
>   - @destext.each do |t|
>     %tr
>       %td= t.TEX_ID
>       %td= t.TEX_TEXT
>   - @ct.each do |ct|
>     %tr
>       %td= ct.CDS_ID
>       %td= ct.CDS_TEX_ID

But how to display for every model its t.TEX_TEXT and ct.CDS_TEX_ID, not in another loop, but in same table, in column? And moreover, my method is fetching data, but when I select data, when ct.CDS_TEX_ID is same for some more than one entry, @destext is grouping, and i fetch only one instance, for example 

> cds_id cds_tex_id
> 110007626	420077
> 110007627	420077

and as result i get from @destext only one row. Help me please. It's non-standart db",ruby-on-rails,ruby-on-rails-3,mvc,view,,,open,0,401,7,"How to correctly view such in rails? I have selected for every model it's data from another table using this in controller:

      def modelv
        @model = Model.find(:all, :conditions => { :MOD_MFA_ID => params[:man]}) 
        @ct1 = CountryDesignation.all(:conditions => { :CDS_ID => @model.map(&:MOD_CDS_ID)})
        @ct = @ct1.uniq{|hh| hh.CDS_ID}
        @destext = DesText.find(:all, :conditions => { :TEX_ID => @ct.map(&:CDS_TEX_ID)})
        respond_to do |format|
          format.html # show.html.erb
          format.xml  { render :xml => @model }
        end
      end
sorry for dirty code.

> and my view %table   %tr
>     %th Mfa id
>     %th Год начала выпуска
>     %th Год завершения выпуска
>   - @model.each do |model| 
>     %tr
>       %td= model.MOD_CDS_ID
>       %td= link_to model.MOD_ID, model
>       %td= link_to model.MOD_PCON_START, model
>       -if model.MOD_PCON_END.blank?
>         %td= link_to ""По настоящее время"", model
>       -else
>         %td= link_to model.MOD_PCON_END, model
>       -#%td= model.country_designations.des_texts.TEX_TEXT
>       -#= link_to 'Show model', model   %br %table   %tr
>   - @destext.each do |t|
>     %tr
>       %td= t.TEX_ID
>       %td= t.TEX_TEXT
>   - @ct.each do |ct|
>     %tr
>       %td= ct.CDS_ID
>       %td= ct.CDS_TEX_ID

But how to display for every model its t.TEX_TEXT and ct.CDS_TEX_ID, not in another loop, but in same table, in column? And moreover, my method is fetching data, but when I select data, when ct.CDS_TEX_ID is same for some more than one entry, @destext is grouping, and i fetch only one instance, for example 

> cds_id cds_tex_id
> 110007626	420077
> 110007627	420077

and as result i get from @destext only one row. Help me please. It's non-standart db",4
3579344,08/26/2010 20:46:05,117608,06/04/2009 19:52:58,145,1,How do you specify Content-Type (and other headers) and request body in RSpec Rails Controller test?,"I'm trying to test a rails action that takes raw json in the POST body. If i curl with the Content-Type: application/json header set, rails parses the params correctly.

How do you set the request body and headers directly in an rspec controller test?",ruby-on-rails,json,rspec,,,,open,0,43,16,"How do you specify Content-Type (and other headers) and request body in RSpec Rails Controller test? I'm trying to test a rails action that takes raw json in the POST body. If i curl with the Content-Type: application/json header set, rails parses the params correctly.

How do you set the request body and headers directly in an rspec controller test?",3
4888450,02/03/2011 16:01:11,601829,02/03/2011 16:01:11,1,0,Help in naming my models,"I have a library app I am writing. The models I have are `users` and `books`. Users can checkout books. What should I call the table that keeps track of the books that are loaned out to the users? Right now my top choice is `checkouts` but I'm not sure this is the best name.

So my models will look like:

    User
        has_many :checkouts
        has_many :users, through :checkouts

    Checkout
        belongs_to :user
        belongs_to :book

    Book
        has_many :checkouts
        has_many :users, through :checkouts

Is there a better name I can use other than `checkout`?",ruby-on-rails,,,,,08/17/2011 08:22:57,off topic,1,140,5,"Help in naming my models I have a library app I am writing. The models I have are `users` and `books`. Users can checkout books. What should I call the table that keeps track of the books that are loaned out to the users? Right now my top choice is `checkouts` but I'm not sure this is the best name.

So my models will look like:

    User
        has_many :checkouts
        has_many :users, through :checkouts

    Checkout
        belongs_to :user
        belongs_to :book

    Book
        has_many :checkouts
        has_many :users, through :checkouts

Is there a better name I can use other than `checkout`?",1
6982549,08/08/2011 13:00:41,552469,12/23/2010 14:24:55,11,2,Offline installation of Rails greater than 2.3.4 gem,"I have an intranet only server unable to connect the web even through a proxy, so I always used to update Ruby gems via downloaded gems and the command (e.g for rails): 

> gem install 'rails-x.y.z.gem'

Now I've got to upgrade rails to, at least, 2.3.11, but can't find that release's gem on RubyForge.
Releases on RF seem to end at 2.3.4... 
I guess I'm missing some very basic requirement.

Can someone help me?

Thanks,

Andrea Colleoni",ruby-on-rails,gem,install,offline,,,open,0,72,8,"Offline installation of Rails greater than 2.3.4 gem I have an intranet only server unable to connect the web even through a proxy, so I always used to update Ruby gems via downloaded gems and the command (e.g for rails): 

> gem install 'rails-x.y.z.gem'

Now I've got to upgrade rails to, at least, 2.3.11, but can't find that release's gem on RubyForge.
Releases on RF seem to end at 2.3.4... 
I guess I'm missing some very basic requirement.

Can someone help me?

Thanks,

Andrea Colleoni",4
4890536,02/03/2011 19:09:18,598714,12/06/2010 18:48:16,8,0,Would Ruby on Rails suit my work..?,"I wanted to make a web site with the following basic features- (1)**User registration for buyers and sellers.** (2)**profile pages** (3)**A buyer should be able to post work and should get profile links** of the corresponding seller who has expertise in that work.

As time progresses i would want to add more features to the site.The **freelancer sites where user can post jobs and get bids is the best example** of the work.

(1)I want my code to be **maintainable** as i woud be adding features later on. (2)It should be **quick to develop**. (3)**Resources should be available**(not the entire thing, atleast in bits and pieces) for the above requirements and should not be tough to find for future enhancements. (4)**Design should be decoupled from the buisness logic** as i would outsource the design work.

I was thinking of Ruby on Rails for this work as i have experience in the MVC model and RoR looks cool.I am from the mobility domain so i don't know whether RoR will suit my work

Would RoR suit this purpose.If yes where can i find the resources to the above mentioned requirements.

Thanks
",ruby-on-rails,,,,,,open,0,185,7,"Would Ruby on Rails suit my work..? I wanted to make a web site with the following basic features- (1)**User registration for buyers and sellers.** (2)**profile pages** (3)**A buyer should be able to post work and should get profile links** of the corresponding seller who has expertise in that work.

As time progresses i would want to add more features to the site.The **freelancer sites where user can post jobs and get bids is the best example** of the work.

(1)I want my code to be **maintainable** as i woud be adding features later on. (2)It should be **quick to develop**. (3)**Resources should be available**(not the entire thing, atleast in bits and pieces) for the above requirements and should not be tough to find for future enhancements. (4)**Design should be decoupled from the buisness logic** as i would outsource the design work.

I was thinking of Ruby on Rails for this work as i have experience in the MVC model and RoR looks cool.I am from the mobility domain so i don't know whether RoR will suit my work

Would RoR suit this purpose.If yes where can i find the resources to the above mentioned requirements.

Thanks
",1
4127812,11/08/2010 20:34:27,229662,12/11/2009 14:08:54,1,1,Sort list based on their i18n translation,"Given i have a list of items in my DB and their respective translation in i18n file.

i18n file:

      basic_categories:  
        item_1: Z
        item_2: A
        item_3: F

on the view:

          <% @basic_categories.each do |category| %>
            <%= t(""basic_categories.#{category.name}"") %>
          <% end %>

How can i sort this list for each language?
",ruby-on-rails,sorting,internationalization,,,,open,0,103,7,"Sort list based on their i18n translation Given i have a list of items in my DB and their respective translation in i18n file.

i18n file:

      basic_categories:  
        item_1: Z
        item_2: A
        item_3: F

on the view:

          <% @basic_categories.each do |category| %>
            <%= t(""basic_categories.#{category.name}"") %>
          <% end %>

How can i sort this list for each language?
",3
5408281,03/23/2011 16:12:05,364812,06/11/2010 18:04:24,54,2,Rails 3 flexible CMS framework,"There are some other similar questions here but they're fairly old when Rails 3 was still in beta.

I am looking for a CMS system for Rails 3. I need something with basic functionality (pages, SEO etc.) and good/easy extensibility. The most important feature other than extensibility that I want is a good WYSIWYG editor. I will be using it to build CMSs for clients and need something flexible that I can extend easily to fit their needs. Since HTML will be prepared by someone else, I need the option to use html.erb format or something similar.

Some that I've seen:
- Refinery CMS
- Radiant CMS (is this rails 3 compatible? not sure...)
- Typus

So, what do you guys recommend and why?",ruby-on-rails,ruby-on-rails-3,,,,,open,0,118,5,"Rails 3 flexible CMS framework There are some other similar questions here but they're fairly old when Rails 3 was still in beta.

I am looking for a CMS system for Rails 3. I need something with basic functionality (pages, SEO etc.) and good/easy extensibility. The most important feature other than extensibility that I want is a good WYSIWYG editor. I will be using it to build CMSs for clients and need something flexible that I can extend easily to fit their needs. Since HTML will be prepared by someone else, I need the option to use html.erb format or something similar.

Some that I've seen:
- Refinery CMS
- Radiant CMS (is this rails 3 compatible? not sure...)
- Typus

So, what do you guys recommend and why?",2
3413055,08/05/2010 08:43:45,413023,07/03/2010 06:34:03,12,0,how to run rails application,"i installed rails gem on my machine
gem install rails-0.9.2.gem 
nd i got message like Successfully installed rails, version 0.9.2
now try to run a command like rail amit
but nothing happened not even a single message???",ruby-on-rails,,,,,,open,0,34,5,"how to run rails application i installed rails gem on my machine
gem install rails-0.9.2.gem 
nd i got message like Successfully installed rails, version 0.9.2
now try to run a command like rail amit
but nothing happened not even a single message???",1
11503831,07/16/2012 12:00:44,977017,10/03/2011 16:03:01,12,1,"Rails Geocoder says ""can't convert string to integer"""," Im my index index controller I have
   @usergeo = Geocoder.search(""83.215.14.101"")

result is:

    Geocoder::Result::Freegeoip:0x007ff3ced35eb8 @data={
    ""city""=>""Salzburg"", 
    ""region_code""=>""05"", 
    ""region_name""=>""Salzburg"", 
    ""metrocode""=>"""", 
    ""zipcode""=>"""",
    ""longitude""=>""13.0333"", 
    ""latitude""=>""47.8"", 
    ""country_code""=>""AT"", 
    ""ip""=>""83.215.14.101"", 
    ""country_name""=>""Austria""},

     @cache_hit=nil>]

.class means it is an array!

In the view I try this one:

    <%= @usergeo[""city""] %>

and the result is 

    can't convert String into Integer

Also an @usergeo[:city] does not work

any comment will be very helpful to me
thanks",ruby-on-rails,mongoid,rails-geocoder,,,,open,0,113,8,"Rails Geocoder says ""can't convert string to integer""  Im my index index controller I have
   @usergeo = Geocoder.search(""83.215.14.101"")

result is:

    Geocoder::Result::Freegeoip:0x007ff3ced35eb8 @data={
    ""city""=>""Salzburg"", 
    ""region_code""=>""05"", 
    ""region_name""=>""Salzburg"", 
    ""metrocode""=>"""", 
    ""zipcode""=>"""",
    ""longitude""=>""13.0333"", 
    ""latitude""=>""47.8"", 
    ""country_code""=>""AT"", 
    ""ip""=>""83.215.14.101"", 
    ""country_name""=>""Austria""},

     @cache_hit=nil>]

.class means it is an array!

In the view I try this one:

    <%= @usergeo[""city""] %>

and the result is 

    can't convert String into Integer

Also an @usergeo[:city] does not work

any comment will be very helpful to me
thanks",3
10237019,04/19/2012 21:24:47,1092012,12/11/2011 07:35:16,368,5,What's better? Scoped searches in models or in helpers?,"What's the best practice for scoped search that will end up in the view (i.e. current_company_name)?

Thanks.",ruby-on-rails,,,,,,open,0,16,9,"What's better? Scoped searches in models or in helpers? What's the best practice for scoped search that will end up in the view (i.e. current_company_name)?

Thanks.",1
4785285,01/24/2011 17:53:39,587893,01/24/2011 17:53:39,1,0,Showing validation errors in ajax form,"Comment model

      belongs_to :post
      validates_presence_of :username
      validates_presence_of :body

Post model
   

      has_many :comments


posts_controller

    def show
     @post = Post.find(params[:id])
     @comments = @post.comments
     @comment = Comment.new
    end

comments_controler

    def create
     @comment = Comment.new(params[:comment])
     if @comment.save
         @comments = @comment.post.comments
         respond_to do |format|
            format.js
         end
     else
         #what to do in here
     end
    end


create.js
 

    $(""#comments"").html(""<%= escape_javascript(render :partial => ""comments"", :collections => @comments) %>"");


posts show.html

    <div id=""comments"">
     <%= render :partial => ""comments"", :collection => @comments %>
    </div>
    <div id=""comment-form"">
     <%= form_for(@comment, :method => :put, :remote => true) do |f| %>
       
     <% if @comment.errors.any? %>
     <div id=""error_explanation"">
     <% @comment.errors.full_messages.each do |msg| %>
     <%= msg %>
     <% end %>
     </div>
     <% end %>
    
     <%= f.text_field :username %>
     <%= f.text_area :body %>
     <%= f.hidden_field :post_id, :value => @post.id  %>
     <%= f.submit %>
     
     <% end %>
    </div>


I want to write something in commented are of create action in comments_controller so that i can list validation errors. Any help will be appreciated. I can also change all codes if there is another solution to make ajax based commenting.
",ruby-on-rails,,,,,,open,0,359,6,"Showing validation errors in ajax form Comment model

      belongs_to :post
      validates_presence_of :username
      validates_presence_of :body

Post model
   

      has_many :comments


posts_controller

    def show
     @post = Post.find(params[:id])
     @comments = @post.comments
     @comment = Comment.new
    end

comments_controler

    def create
     @comment = Comment.new(params[:comment])
     if @comment.save
         @comments = @comment.post.comments
         respond_to do |format|
            format.js
         end
     else
         #what to do in here
     end
    end


create.js
 

    $(""#comments"").html(""<%= escape_javascript(render :partial => ""comments"", :collections => @comments) %>"");


posts show.html

    <div id=""comments"">
     <%= render :partial => ""comments"", :collection => @comments %>
    </div>
    <div id=""comment-form"">
     <%= form_for(@comment, :method => :put, :remote => true) do |f| %>
       
     <% if @comment.errors.any? %>
     <div id=""error_explanation"">
     <% @comment.errors.full_messages.each do |msg| %>
     <%= msg %>
     <% end %>
     </div>
     <% end %>
    
     <%= f.text_field :username %>
     <%= f.text_area :body %>
     <%= f.hidden_field :post_id, :value => @post.id  %>
     <%= f.submit %>
     
     <% end %>
    </div>


I want to write something in commented are of create action in comments_controller so that i can list validation errors. Any help will be appreciated. I can also change all codes if there is another solution to make ajax based commenting.
",1
6709928,07/15/2011 16:02:42,415286,08/09/2010 16:14:00,587,9,Should I rewrite my app?,"So here's the story,

About a year and a half ago I started working on a contact database program for my church in ASP.NET web forms cause it was all I knew. I didn't really get very far!

I then decided that I hadn't got anywhere at all and decided to scrap my .NET code and start again in PHP.. Which at the time I didn't know and was flashy and exciting to me..

Again got nowhere..

So a third time I began the process of reimplementing my half baked site in ruby on rails.. And I finally got somewhere! 

But it took me staying up literally all night cranking out code with misty eyes!

And now the app is a big convoluted mess (go figure) - no unit tests, big kludgy magic methods and an overall confusion of what's actually going on inside..

1 and a half months time from now I plan on shipping a 1.0 to my incredibly patient users..

Is it a horrendously bad idea for me to start a new rails project and carefully and (test drivenly) copy or reimplement my existing code?

(baring in mind I was working on it after work the first time around and plan on taking 2 weeks holiday off work to work on it this time!)

Thanks!",ruby-on-rails,,,,,07/15/2011 16:15:25,not constructive,1,209,5,"Should I rewrite my app? So here's the story,

About a year and a half ago I started working on a contact database program for my church in ASP.NET web forms cause it was all I knew. I didn't really get very far!

I then decided that I hadn't got anywhere at all and decided to scrap my .NET code and start again in PHP.. Which at the time I didn't know and was flashy and exciting to me..

Again got nowhere..

So a third time I began the process of reimplementing my half baked site in ruby on rails.. And I finally got somewhere! 

But it took me staying up literally all night cranking out code with misty eyes!

And now the app is a big convoluted mess (go figure) - no unit tests, big kludgy magic methods and an overall confusion of what's actually going on inside..

1 and a half months time from now I plan on shipping a 1.0 to my incredibly patient users..

Is it a horrendously bad idea for me to start a new rails project and carefully and (test drivenly) copy or reimplement my existing code?

(baring in mind I was working on it after work the first time around and plan on taking 2 weeks holiday off work to work on it this time!)

Thanks!",1
10756626,05/25/2012 14:53:23,433384,08/27/2010 21:36:17,143,2,Initializer or Gem not loaded with Unicorn causing 500 internal server error,"I deploy my application to an Ubuntu VPS. I followed the ""deploy to VPS"" railscast.

Everything went smooth, up until I added the following gem:
https://github.com/marceldegraaf/sisow

On my local development machine it works like a charm, but after I deployed it to my production environment, the rails application will not start anymore (500 Internal Server Error).

I have tried a number of ""tweaks"" to my unicorn configuration, deploy.rb and a bunch of other files, but nothing seems to work.

The weird thing is that when I use:

    RAILS_ENV=production bundle exec rails c

I can use the gem without any problems (?)

**unicorn.log**

    E, [2012-05-25T16:38:14.742805 #27916] ERROR -- : reaped #<Process::Status: pid 5777 exit 1> worker=1
    I, [2012-05-25T16:38:14.742998 #27916]  INFO -- : worker=1 spawning...
    I, [2012-05-25T16:38:14.746132 #5803]  INFO -- : worker=1 spawned pid=5803
    I, [2012-05-25T16:38:14.746557 #5803]  INFO -- : Refreshing Gem list
    /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require': cannot load such file -- sisow (LoadError)
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `block in require'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:236:in `load_dependency'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require'
    	from /home/deployer/apps/my_app/releases/20120525140057/config/initializers/sisow.rb:1:in `<top (required)>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:245:in `load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:245:in `block in load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:236:in `load_dependency'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:245:in `load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/engine.rb:588:in `block (2 levels) in <class:Engine>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/engine.rb:587:in `each'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/engine.rb:587:in `block in <class:Engine>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `instance_exec'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `run'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:55:in `block in run_initializers'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `each'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `run_initializers'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/application.rb:136:in `initialize!'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/railtie/configurable.rb:30:in `method_missing'
    	from /home/deployer/apps/my_app/releases/20120525140057/config/environment.rb:5:in `<top (required)>'
    	from config.ru:4:in `require'
    	from config.ru:4:in `block in <main>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/builder.rb:51:in `instance_eval'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/builder.rb:51:in `initialize'
    	from config.ru:1:in `new'
    	from config.ru:1:in `<main>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn.rb:44:in `eval'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn.rb:44:in `block in builder'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:696:in `call'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:696:in `build_app!'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:569:in `init_worker_process'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:589:in `worker_loop'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:487:in `spawn_missing_workers'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:498:in `maintain_worker_count'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:272:in `join'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/bin/unicorn:121:in `<top (required)>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/bin/unicorn:23:in `load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/bin/unicorn:23:in `<main>'
    E, [201


**unicorn.rb**

    app_path = ""/home/deployer/apps/my_app""
    root = ""/home/deployer/apps/my_app/current""
    bundle_path = ""#{app_path}/shared/bundle""
    working_directory root
    pid ""#{root}/tmp/pids/unicorn.pid""
    stderr_path ""#{root}/log/unicorn.log""
    stdout_path ""#{root}/log/unicorn.log""
    
    listen ""/tmp/unicorn.my_app.sock""
    worker_processes 4
    timeout 30
    
    before_exec do |server|                                                         
      ENV[""BUNDLE_GEMFILE""] = ""#{root}/Gemfile""                               
    end

**unicorn_init.sh**


    #!/bin/sh
    set -e
    
    # Feel free to change any of the following variables for your app:
    TIMEOUT=${TIMEOUT-60}
    APP_ROOT=/home/deployer/apps/my_app/current
    PID=$APP_ROOT/tmp/pids/unicorn.pid
    CMD=""cd $APP_ROOT; bundle exec unicorn -D -c $APP_ROOT/config/unicorn.rb -E production""
    AS_USER=deployer
    set -u
    
    OLD_PIN=""$PID.oldbin""
    
    sig () {
      test -s ""$PID"" && kill -$1 `cat $PID`
    }
    
    oldsig () {
      test -s $OLD_PIN && kill -$1 `cat $OLD_PIN`
    }
    
    run () {
      if [ ""$(id -un)"" = ""$AS_USER"" ]; then
        eval $1
      else
        su -c ""$1"" - $AS_USER
      fi
    }
    
    case ""$1"" in
    start)
      sig 0 && echo >&2 ""Already running"" && exit 0
      run ""$CMD""
      ;;
    stop)
      sig QUIT && exit 0
      echo >&2 ""Not running""
      ;;
    force-stop)
      sig TERM && exit 0
      echo >&2 ""Not running""
      ;;
    restart|reload)
      sig HUP && echo reloaded OK && exit 0
      echo >&2 ""Couldn't reload, starting '$CMD' instead""
      run ""$CMD""
      ;;
    upgrade)
      if sig USR2 && sleep 2 && sig 0 && oldsig QUIT
      then
        n=$TIMEOUT
        while test -s $OLD_PIN && test $n -ge 0
        do
          printf '.' && sleep 1 && n=$(( $n - 1 ))
        done
        echo
    
        if test $n -lt 0 && test -s $OLD_PIN
        then
          echo >&2 ""$OLD_PIN still exists after $TIMEOUT seconds""
          exit 1
        fi
        exit 0
      fi
      echo >&2 ""Couldn't upgrade, starting '$CMD' instead""
      run ""$CMD""
      ;;
    reopen-logs)
      sig USR1
      ;;
    *)
      echo >&2 ""Usage: $0 <start|stop|restart|upgrade|force-stop|reopen-logs>""
      exit 1
      ;;
    esac

**Gemfile**

    source 'http://rubygems.org'
    
    gem 'rails', '3.2.0'
    gem ""net-ssh"", ""~> 2.5.1""
    
    # Bundle edge Rails instead:
    # gem 'rails',     :git => 'git://github.com/rails/rails.git'
    
    gem 'pg'
    gem ""cocoon""
    gem 'nokogiri'
    gem 'hpricot'
    gem ""formtastic"", ""~> 2.1.1""
    gem ""activeadmin"", ""~> 0.4.4""
    gem 'omniauth'
    gem 'country-select'
    gem ""paperclip"", ""~> 3.0""
    gem 'cancan'
    gem 'rolify'
    
    gem ""meta_search"",    '>= 1.1.0.pre'
    gem 'bourbon', ""~> 2.0.0.rc1""
    gem ""rails-boilerplate""
    gem 'geocoder'
    gem 'httparty'
    gem 'hashie'
    gem 'will_paginate', :git => ""git://github.com/mislav/will_paginate.git""
    gem 'thinking-sphinx', '2.0.10'
    gem 'sanitize'
    gem 'feedzirra'
    gem ""crypt19"", ""~> 1.2.1""
    gem 'wicked_pdf'
    gem 'forem', :git => ""git://github.com/radar/forem.git""
    gem 'thin'
    gem 'whenever', :require => false
    gem ""ckeditor"", ""3.7.1""
    gem 'sisow'
    
    # Gems used only for assets and not required
    # in production environments by default.
    group :assets do
      gem 'sass-rails',   '~> 3.2.3'
      gem 'coffee-rails', '~> 3.2.1'
      gem 'uglifier', '>= 1.0.3'
    end
    
    gem 'haml-rails' 
    gem 'jquery-rails'
    
    group :development do
    	gem 'ruby_parser'
    end
    
    
    # To use ActiveModel has_secure_password
    # gem 'bcrypt-ruby', '~> 3.0.0'
    
    # Use unicorn as the web server
    gem 'unicorn'
    
    # Deploy with Capistrano
    gem 'capistrano'
    
    # To use debugger
    # gem 'ruby-debug19', :require => 'ruby-debug'
",ruby-on-rails,gem,capistrano,unicorn,,,open,0,1550,12,"Initializer or Gem not loaded with Unicorn causing 500 internal server error I deploy my application to an Ubuntu VPS. I followed the ""deploy to VPS"" railscast.

Everything went smooth, up until I added the following gem:
https://github.com/marceldegraaf/sisow

On my local development machine it works like a charm, but after I deployed it to my production environment, the rails application will not start anymore (500 Internal Server Error).

I have tried a number of ""tweaks"" to my unicorn configuration, deploy.rb and a bunch of other files, but nothing seems to work.

The weird thing is that when I use:

    RAILS_ENV=production bundle exec rails c

I can use the gem without any problems (?)

**unicorn.log**

    E, [2012-05-25T16:38:14.742805 #27916] ERROR -- : reaped #<Process::Status: pid 5777 exit 1> worker=1
    I, [2012-05-25T16:38:14.742998 #27916]  INFO -- : worker=1 spawning...
    I, [2012-05-25T16:38:14.746132 #5803]  INFO -- : worker=1 spawned pid=5803
    I, [2012-05-25T16:38:14.746557 #5803]  INFO -- : Refreshing Gem list
    /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require': cannot load such file -- sisow (LoadError)
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `block in require'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:236:in `load_dependency'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require'
    	from /home/deployer/apps/my_app/releases/20120525140057/config/initializers/sisow.rb:1:in `<top (required)>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:245:in `load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:245:in `block in load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:236:in `load_dependency'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:245:in `load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/engine.rb:588:in `block (2 levels) in <class:Engine>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/engine.rb:587:in `each'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/engine.rb:587:in `block in <class:Engine>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `instance_exec'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `run'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:55:in `block in run_initializers'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `each'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `run_initializers'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/application.rb:136:in `initialize!'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.2.0/lib/rails/railtie/configurable.rb:30:in `method_missing'
    	from /home/deployer/apps/my_app/releases/20120525140057/config/environment.rb:5:in `<top (required)>'
    	from config.ru:4:in `require'
    	from config.ru:4:in `block in <main>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/builder.rb:51:in `instance_eval'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/builder.rb:51:in `initialize'
    	from config.ru:1:in `new'
    	from config.ru:1:in `<main>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn.rb:44:in `eval'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn.rb:44:in `block in builder'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:696:in `call'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:696:in `build_app!'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:569:in `init_worker_process'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:589:in `worker_loop'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:487:in `spawn_missing_workers'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:498:in `maintain_worker_count'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/lib/unicorn/http_server.rb:272:in `join'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/gems/unicorn-4.3.1/bin/unicorn:121:in `<top (required)>'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/bin/unicorn:23:in `load'
    	from /home/deployer/apps/my_app/shared/bundle/ruby/1.9.1/bin/unicorn:23:in `<main>'
    E, [201


**unicorn.rb**

    app_path = ""/home/deployer/apps/my_app""
    root = ""/home/deployer/apps/my_app/current""
    bundle_path = ""#{app_path}/shared/bundle""
    working_directory root
    pid ""#{root}/tmp/pids/unicorn.pid""
    stderr_path ""#{root}/log/unicorn.log""
    stdout_path ""#{root}/log/unicorn.log""
    
    listen ""/tmp/unicorn.my_app.sock""
    worker_processes 4
    timeout 30
    
    before_exec do |server|                                                         
      ENV[""BUNDLE_GEMFILE""] = ""#{root}/Gemfile""                               
    end

**unicorn_init.sh**


    #!/bin/sh
    set -e
    
    # Feel free to change any of the following variables for your app:
    TIMEOUT=${TIMEOUT-60}
    APP_ROOT=/home/deployer/apps/my_app/current
    PID=$APP_ROOT/tmp/pids/unicorn.pid
    CMD=""cd $APP_ROOT; bundle exec unicorn -D -c $APP_ROOT/config/unicorn.rb -E production""
    AS_USER=deployer
    set -u
    
    OLD_PIN=""$PID.oldbin""
    
    sig () {
      test -s ""$PID"" && kill -$1 `cat $PID`
    }
    
    oldsig () {
      test -s $OLD_PIN && kill -$1 `cat $OLD_PIN`
    }
    
    run () {
      if [ ""$(id -un)"" = ""$AS_USER"" ]; then
        eval $1
      else
        su -c ""$1"" - $AS_USER
      fi
    }
    
    case ""$1"" in
    start)
      sig 0 && echo >&2 ""Already running"" && exit 0
      run ""$CMD""
      ;;
    stop)
      sig QUIT && exit 0
      echo >&2 ""Not running""
      ;;
    force-stop)
      sig TERM && exit 0
      echo >&2 ""Not running""
      ;;
    restart|reload)
      sig HUP && echo reloaded OK && exit 0
      echo >&2 ""Couldn't reload, starting '$CMD' instead""
      run ""$CMD""
      ;;
    upgrade)
      if sig USR2 && sleep 2 && sig 0 && oldsig QUIT
      then
        n=$TIMEOUT
        while test -s $OLD_PIN && test $n -ge 0
        do
          printf '.' && sleep 1 && n=$(( $n - 1 ))
        done
        echo
    
        if test $n -lt 0 && test -s $OLD_PIN
        then
          echo >&2 ""$OLD_PIN still exists after $TIMEOUT seconds""
          exit 1
        fi
        exit 0
      fi
      echo >&2 ""Couldn't upgrade, starting '$CMD' instead""
      run ""$CMD""
      ;;
    reopen-logs)
      sig USR1
      ;;
    *)
      echo >&2 ""Usage: $0 <start|stop|restart|upgrade|force-stop|reopen-logs>""
      exit 1
      ;;
    esac

**Gemfile**

    source 'http://rubygems.org'
    
    gem 'rails', '3.2.0'
    gem ""net-ssh"", ""~> 2.5.1""
    
    # Bundle edge Rails instead:
    # gem 'rails',     :git => 'git://github.com/rails/rails.git'
    
    gem 'pg'
    gem ""cocoon""
    gem 'nokogiri'
    gem 'hpricot'
    gem ""formtastic"", ""~> 2.1.1""
    gem ""activeadmin"", ""~> 0.4.4""
    gem 'omniauth'
    gem 'country-select'
    gem ""paperclip"", ""~> 3.0""
    gem 'cancan'
    gem 'rolify'
    
    gem ""meta_search"",    '>= 1.1.0.pre'
    gem 'bourbon', ""~> 2.0.0.rc1""
    gem ""rails-boilerplate""
    gem 'geocoder'
    gem 'httparty'
    gem 'hashie'
    gem 'will_paginate', :git => ""git://github.com/mislav/will_paginate.git""
    gem 'thinking-sphinx', '2.0.10'
    gem 'sanitize'
    gem 'feedzirra'
    gem ""crypt19"", ""~> 1.2.1""
    gem 'wicked_pdf'
    gem 'forem', :git => ""git://github.com/radar/forem.git""
    gem 'thin'
    gem 'whenever', :require => false
    gem ""ckeditor"", ""3.7.1""
    gem 'sisow'
    
    # Gems used only for assets and not required
    # in production environments by default.
    group :assets do
      gem 'sass-rails',   '~> 3.2.3'
      gem 'coffee-rails', '~> 3.2.1'
      gem 'uglifier', '>= 1.0.3'
    end
    
    gem 'haml-rails' 
    gem 'jquery-rails'
    
    group :development do
    	gem 'ruby_parser'
    end
    
    
    # To use ActiveModel has_secure_password
    # gem 'bcrypt-ruby', '~> 3.0.0'
    
    # Use unicorn as the web server
    gem 'unicorn'
    
    # Deploy with Capistrano
    gem 'capistrano'
    
    # To use debugger
    # gem 'ruby-debug19', :require => 'ruby-debug'
",4
4767268,01/22/2011 10:15:43,585486,01/22/2011 10:00:51,1,0,Best Ruby on Rails WebSocket tool,"I started project in Rails 3 and I need to add notifications(like Facebook one). Best way would be using WebSocket for support devices like iPad, but I can't find any good tools to easy implement it in Rails. I found Pusherapp, but they prices are overwhelming, and also I don't think that providing my data to third party company would be wise. So things needed:

- Open Source
- Some kind of channels support
- Helpers for Rails(and working with Rails 3)",ruby-on-rails,ruby-on-rails-3,websocket,,,09/11/2011 23:07:25,not constructive,1,79,6,"Best Ruby on Rails WebSocket tool I started project in Rails 3 and I need to add notifications(like Facebook one). Best way would be using WebSocket for support devices like iPad, but I can't find any good tools to easy implement it in Rails. I found Pusherapp, but they prices are overwhelming, and also I don't think that providing my data to third party company would be wise. So things needed:

- Open Source
- Some kind of channels support
- Helpers for Rails(and working with Rails 3)",3
3074206,06/19/2010 03:30:40,341583,05/14/2010 20:20:19,94,0,Rails: Rendering a partial to the right div?,"I have a loop in my view that renders many partials: each partial is a simple toggle to perform a save/unsave operation on a record. Each partial toggles the boolean field using javascript then updates itself, and the controller finishes by saying:

    $ controller
    render :partial => ""save_unsave_buttons"", :locals => {:matching => @matching}, :layout => false

    # view    
    <div id=<%= ""save#{match.id}"" -%>>
    <%= render :partial => ""save_unsave_buttons"", :locals => {:matching => match} %>
    </div>

When the controller renders the save_unsave_buttons partial, it isn't rendering to the right div; it just updates the partial for the first record it finds. How can I ask the controller to render the save_unsave_buttons partial to the div with the right id?

Thanks!",ruby-on-rails,div,partial,renderpartial,,,open,0,138,8,"Rails: Rendering a partial to the right div? I have a loop in my view that renders many partials: each partial is a simple toggle to perform a save/unsave operation on a record. Each partial toggles the boolean field using javascript then updates itself, and the controller finishes by saying:

    $ controller
    render :partial => ""save_unsave_buttons"", :locals => {:matching => @matching}, :layout => false

    # view    
    <div id=<%= ""save#{match.id}"" -%>>
    <%= render :partial => ""save_unsave_buttons"", :locals => {:matching => match} %>
    </div>

When the controller renders the save_unsave_buttons partial, it isn't rendering to the right div; it just updates the partial for the first record it finds. How can I ask the controller to render the save_unsave_buttons partial to the div with the right id?

Thanks!",4
3604894,08/30/2010 23:10:47,237507,12/23/2009 10:29:48,3,0,"ASP MVC, Django or Rails? ","I've to start my master thesis project and I've to choose a technology to work with. I've used Rails and ASP MVC, in two projects, but never used Django, only some play with it. But I've some experience with python and really like the admin interface.

The objective of my master thesis is a creation of portal to a public hospital.

I have several years of experience with .NET and C#, but the other alternatives are appealing too.

In terms of philosophy, all three are open-source, and ASP MVC works in Mono.

What are your opinion?
",ruby-on-rails,asp.net-mvc,django,asp.net-mvc-2,healthcare,08/30/2010 23:44:36,not constructive,1,92,6,"ASP MVC, Django or Rails?  I've to start my master thesis project and I've to choose a technology to work with. I've used Rails and ASP MVC, in two projects, but never used Django, only some play with it. But I've some experience with python and really like the admin interface.

The objective of my master thesis is a creation of portal to a public hospital.

I have several years of experience with .NET and C#, but the other alternatives are appealing too.

In terms of philosophy, all three are open-source, and ASP MVC works in Mono.

What are your opinion?
",5
9702505,03/14/2012 13:03:04,1222136,02/20/2012 22:18:16,49,1,assign random password,"I currently have in my application the ability for a user to create an account with a username and password and then have an email sent to them.

In order to generate a more secure log in, I wish for a random password to be generated and then in the email sent to the user the password is contained there. 

I am just wondering how I would do this. I have a password_hash and salt in my database so it would require having the random string assigned there. 

I understand that I would have to have in my model something like

   before_save :assign_password

and then a 

def assign_password
     stuff
end

Is this all I would need and it would assign to the password field? what would I include in the def assign_password?",ruby-on-rails,passwords,,,,,open,0,134,3,"assign random password I currently have in my application the ability for a user to create an account with a username and password and then have an email sent to them.

In order to generate a more secure log in, I wish for a random password to be generated and then in the email sent to the user the password is contained there. 

I am just wondering how I would do this. I have a password_hash and salt in my database so it would require having the random string assigned there. 

I understand that I would have to have in my model something like

   before_save :assign_password

and then a 

def assign_password
     stuff
end

Is this all I would need and it would assign to the password field? what would I include in the def assign_password?",2
10548832,05/11/2012 09:30:06,1389040,05/11/2012 09:07:41,1,0,What are the signs that I *shouldn't* use Ruby on Rails for a project?,"I've started learning RoR and I really like it - but it feels like it's oriented in one specific way - a very basic MVC model. 
Which type of web application might *not* benefit from using RoR? Are there any signs I can find while planning the architecture? 

",ruby-on-rails,,,,,05/11/2012 15:57:22,not constructive,1,49,14,"What are the signs that I *shouldn't* use Ruby on Rails for a project? I've started learning RoR and I really like it - but it feels like it's oriented in one specific way - a very basic MVC model. 
Which type of web application might *not* benefit from using RoR? Are there any signs I can find while planning the architecture? 

",1
4829520,01/28/2011 14:50:10,592136,01/27/2011 12:04:33,11,0,Is Rails much better for interactive website compare to Django?,"Just got a new website project for my company internal use. The whole website isn't that complicating but requires quite a lot of real time interaction. Basically, it's an interactive time line table where we can freely drag and drop each elements to move and resize them.

At first I wanted to use this opportunity to learn Python+Django (I'm given a huge amount of time) but then I read around and a lot of people mentioned Rails is better for creating rich interactive website. 

So, for a website with a lot of drag & drop interaction like this, is Rails really the better choice?  Is Rails built-in ajax that much easier to work with compare to Django+jQuery? How flexible and customizable is Rails' built-in ajax? I want to learn RoR just as much as Python by thee way.",ruby-on-rails,django,,,,,open,0,138,10,"Is Rails much better for interactive website compare to Django? Just got a new website project for my company internal use. The whole website isn't that complicating but requires quite a lot of real time interaction. Basically, it's an interactive time line table where we can freely drag and drop each elements to move and resize them.

At first I wanted to use this opportunity to learn Python+Django (I'm given a huge amount of time) but then I read around and a lot of people mentioned Rails is better for creating rich interactive website. 

So, for a website with a lot of drag & drop interaction like this, is Rails really the better choice?  Is Rails built-in ajax that much easier to work with compare to Django+jQuery? How flexible and customizable is Rails' built-in ajax? I want to learn RoR just as much as Python by thee way.",2
11648866,07/25/2012 11:39:03,1354853,04/24/2012 22:31:06,72,1,Use windows or linux to start work with Ruby On Rails?,I'm new to Ruby On Rails and I want to know which is better to use for work with it. Windows or Linux. I've never worked with Linux before but I heard It's better to work with it. Is it necessary for someone like me to install linux or I can use windows and the results will be same with linux?,ruby-on-rails,ruby,ruby-on-rails-3.1,,,,open,0,61,11,Use windows or linux to start work with Ruby On Rails? I'm new to Ruby On Rails and I want to know which is better to use for work with it. Windows or Linux. I've never worked with Linux before but I heard It's better to work with it. Is it necessary for someone like me to install linux or I can use windows and the results will be same with linux?,3
9861812,03/25/2012 16:24:24,298022,03/20/2010 14:06:40,222,12,Is it possible to set up a Virtual Machine in an external hard drive to have a working environment to develop ruby on rails applications?,"Is it possible to set up a Virtual Machine in an external hard drive to have a working environment to develop ruby on rails applications?
I'm asking this because often happens that I have to travel and my laptop is heavy to carry around together with clothes.
I'm new to both virtual machines configuration and rails development so I'm looking for guidelines to start in the right direction.
Now I'm using Virtual Box, should I switch to VM ware?
Is it ok to use ubuntu/aptana ? do you know any better configuration?

Do you have any particular advice to make the system fast?",ruby-on-rails,virtualization,virtual-machine,,,04/16/2012 01:59:00,off topic,1,98,25,"Is it possible to set up a Virtual Machine in an external hard drive to have a working environment to develop ruby on rails applications? Is it possible to set up a Virtual Machine in an external hard drive to have a working environment to develop ruby on rails applications?
I'm asking this because often happens that I have to travel and my laptop is heavy to carry around together with clothes.
I'm new to both virtual machines configuration and rails development so I'm looking for guidelines to start in the right direction.
Now I'm using Virtual Box, should I switch to VM ware?
Is it ok to use ubuntu/aptana ? do you know any better configuration?

Do you have any particular advice to make the system fast?",3
7360127,09/09/2011 10:13:02,660491,03/15/2011 11:46:16,1,2,Which more beautiful?,"i have a dispute with my colleague. There is a two code versions. Witch one you think is more beautiful:
His variant

    result = false
    if !real_account.nil?
      if payments.finished.count > 0
        result = true
      elsif real_account.created_at < date_from_str('2011-01-01')
        result = Trade.has_payments(real_account.login, date_from_str('2011-01-01'))
      end
    end
    return result

My Variant
  

    date = date_from_str('2011-01-01')
      if !real_account.nil?
        result = false
        result = payments.finished.count > 0
        result = Trade.has_payments(real_account.login, date) if !result && real_account.created_at < date
      end",ruby-on-rails,ruby,,,,09/09/2011 10:15:39,not constructive,1,147,3,"Which more beautiful? i have a dispute with my colleague. There is a two code versions. Witch one you think is more beautiful:
His variant

    result = false
    if !real_account.nil?
      if payments.finished.count > 0
        result = true
      elsif real_account.created_at < date_from_str('2011-01-01')
        result = Trade.has_payments(real_account.login, date_from_str('2011-01-01'))
      end
    end
    return result

My Variant
  

    date = date_from_str('2011-01-01')
      if !real_account.nil?
        result = false
        result = payments.finished.count > 0
        result = Trade.has_payments(real_account.login, date) if !result && real_account.created_at < date
      end",2
8111283,11/13/2011 11:44:34,840973,07/12/2011 14:55:05,1652,106,Multiple Relationships to the Same Thing Rails,"I'm very new to rails so please forgive my limited knowledge.

If I wanted to create a web app for pilots to log flights, I might have the following models...

    class Flight < ActiveRecord::Base
        belongs_to :plane
        belongs_to :pilot
    end

    class Plane < ActiveRecord::Base
        has_many :flights
    end

    class Pilot < ActiveRecord::Base
        has_many :flights
    end

However, if I wanted my Flight class to be related to an Airport class twice, one for the origin airport, and again for the destination airport, how would I do that?

Also how would I then set the relationship up on the airport side?...

Any advice on this would be much appreciated.",ruby-on-rails,activerecord,relationship,,,,open,0,147,7,"Multiple Relationships to the Same Thing Rails I'm very new to rails so please forgive my limited knowledge.

If I wanted to create a web app for pilots to log flights, I might have the following models...

    class Flight < ActiveRecord::Base
        belongs_to :plane
        belongs_to :pilot
    end

    class Plane < ActiveRecord::Base
        has_many :flights
    end

    class Pilot < ActiveRecord::Base
        has_many :flights
    end

However, if I wanted my Flight class to be related to an Airport class twice, one for the origin airport, and again for the destination airport, how would I do that?

Also how would I then set the relationship up on the airport side?...

Any advice on this would be much appreciated.",3
5067557,02/21/2011 15:06:58,626789,02/21/2011 14:56:25,1,0,Rails: HTTP version for response,"If someone POSTs to my Rails application with HTTP version 1.0 like this:

    POST /update HTTP/1.0

How do I send a HTTP version 1.0 response like this:

    HTTP/1.0 200 OK

I'm using Ruby on Rails 3.",ruby-on-rails,http,http-headers,,,,open,0,40,5,"Rails: HTTP version for response If someone POSTs to my Rails application with HTTP version 1.0 like this:

    POST /update HTTP/1.0

How do I send a HTTP version 1.0 response like this:

    HTTP/1.0 200 OK

I'm using Ruby on Rails 3.",3
8786564,01/09/2012 09:55:27,1138379,01/09/2012 09:45:16,1,0,Cannot push to Heroku because key fingerprint,"I am new to Rails, and I was trying to deploy a very simple app to Heroku. This is the second app that I deploy, and the first one I was able to do it just fine. However I am having some issues with this one. Whenever I ""**git push heroku master**"", I get this error:

> !  Your key with fingerprint xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx is not authorized to >access my_heroku_app.
>
>fatal: The remote end hung up unexpectedly

I have tried to manage my keys after logging in heroku. If I type in my console ""**heroku keys**"", then I get:
> No keys for myemailaddress.

However, If I run the comand ""**heroku keys:add**"" I get
>Found existing public key: /Users/michele/.ssh/id_rsa.pub
>Uploading ssh public key /Users/michele/.ssh/id_rsa.pub
> !    Fingerprint already exists. Please use one ssh key per Heroku account

Please help me! This is soo frustating, I have no idea what's wrong!
Thank you",ruby-on-rails,git,ssh,heroku,git-push,02/09/2012 17:09:09,off topic,1,145,7,"Cannot push to Heroku because key fingerprint I am new to Rails, and I was trying to deploy a very simple app to Heroku. This is the second app that I deploy, and the first one I was able to do it just fine. However I am having some issues with this one. Whenever I ""**git push heroku master**"", I get this error:

> !  Your key with fingerprint xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx is not authorized to >access my_heroku_app.
>
>fatal: The remote end hung up unexpectedly

I have tried to manage my keys after logging in heroku. If I type in my console ""**heroku keys**"", then I get:
> No keys for myemailaddress.

However, If I run the comand ""**heroku keys:add**"" I get
>Found existing public key: /Users/michele/.ssh/id_rsa.pub
>Uploading ssh public key /Users/michele/.ssh/id_rsa.pub
> !    Fingerprint already exists. Please use one ssh key per Heroku account

Please help me! This is soo frustating, I have no idea what's wrong!
Thank you",5
5839016,04/30/2011 02:17:16,560632,01/02/2011 21:56:18,36,4,"Rails 3, Rspec/Cucumber, and Factory Girl: No method error on nested/associated objects.","I've been bashing my head against a wall for a while on this one and I can't get it to work. I have three models:


    class Instrument < ActiveRecord::Base
      has_many :analytical_methods
      has_many :analytes, :through => :analytical_methods
      accepts_nested_attributes_for :analytical_methods  
      attr_accessible :name, :analytical_methods_attributes
    end

    class AnalyticalMethod < ActiveRecord::Base
      belongs_to :instrument
      has_many :analytes
      accepts_nested_attributes_for :analytes  
      attr_accessible :name, :analytes_attributes
    end

    class Analyte < ActiveRecord::Base
      belongs_to :analytical_method
      attr_accessible :name
    end

And I have the following factories:

    Factory.define :analyte do |analyte|
      analyte.name ""Test analyte""
    end  

    Factory.define :analytical_method do |analytical_method|
      analytical_method.name ""Test method""
      analytical_method.association :analyte
    end  

    Factory.define :instrument do |instrument|
      instrument.name ""Test instrument""
      instrument.association :analytical_method
      instrument.association :analyte
    end

Any time I try to Factory(:instrument) or Factory(:analytical_method), it throws the following error:

    NoMethodError:  
      undefined method `analyte=' for #<AnalyticalMethod:0x00000104c44758>

Am I missing some ridiculous typo or something? The website works perfectly fine, but the tests keep failing. Thanks for any help in returning my sanity!
",ruby-on-rails,cucumber,rspec2,factorygirl,,,open,0,277,12,"Rails 3, Rspec/Cucumber, and Factory Girl: No method error on nested/associated objects. I've been bashing my head against a wall for a while on this one and I can't get it to work. I have three models:


    class Instrument < ActiveRecord::Base
      has_many :analytical_methods
      has_many :analytes, :through => :analytical_methods
      accepts_nested_attributes_for :analytical_methods  
      attr_accessible :name, :analytical_methods_attributes
    end

    class AnalyticalMethod < ActiveRecord::Base
      belongs_to :instrument
      has_many :analytes
      accepts_nested_attributes_for :analytes  
      attr_accessible :name, :analytes_attributes
    end

    class Analyte < ActiveRecord::Base
      belongs_to :analytical_method
      attr_accessible :name
    end

And I have the following factories:

    Factory.define :analyte do |analyte|
      analyte.name ""Test analyte""
    end  

    Factory.define :analytical_method do |analytical_method|
      analytical_method.name ""Test method""
      analytical_method.association :analyte
    end  

    Factory.define :instrument do |instrument|
      instrument.name ""Test instrument""
      instrument.association :analytical_method
      instrument.association :analyte
    end

Any time I try to Factory(:instrument) or Factory(:analytical_method), it throws the following error:

    NoMethodError:  
      undefined method `analyte=' for #<AnalyticalMethod:0x00000104c44758>

Am I missing some ridiculous typo or something? The website works perfectly fine, but the tests keep failing. Thanks for any help in returning my sanity!
",4
3862354,10/05/2010 09:23:03,457020,09/24/2010 08:02:33,1,3,Keep selected value in collection_select as active after submit,"**View**
<form align=""center"" name=""gm"" action="""">
 <label for=""col1""><b>Name: </b></label> 
 <%= collection_select(@table, ""gm"", @pop1, ""col1"", ""col1"", :prompt => true) %>
 <%= submit_tag value=""Proceed-->""%>  
 <form name=""sp"" action="""">
  <label for=""col2""><b>Class: </b></label>
  <%= collection_select(@table, ""sp"", @pop2, ""col2"", ""col2"", :prompt => true) %><br><br>
   <%= submit_tag value=""Submit""%>  
</form>

Here, these are relational collection_select. I need to populate the second collection_select once first collection_select was selected. But, once ""Proceed"" submit was processed, params[gm] was disabled. So I am unable to process ""Submit"" tag with both params[gm] and params[sp] for @table. Any idea to keep selected value in collection_select to remain after click ""Proceed"".
",ruby-on-rails,,,,,,open,0,101,9,"Keep selected value in collection_select as active after submit **View**
<form align=""center"" name=""gm"" action="""">
 <label for=""col1""><b>Name: </b></label> 
 <%= collection_select(@table, ""gm"", @pop1, ""col1"", ""col1"", :prompt => true) %>
 <%= submit_tag value=""Proceed-->""%>  
 <form name=""sp"" action="""">
  <label for=""col2""><b>Class: </b></label>
  <%= collection_select(@table, ""sp"", @pop2, ""col2"", ""col2"", :prompt => true) %><br><br>
   <%= submit_tag value=""Submit""%>  
</form>

Here, these are relational collection_select. I need to populate the second collection_select once first collection_select was selected. But, once ""Proceed"" submit was processed, params[gm] was disabled. So I am unable to process ""Submit"" tag with both params[gm] and params[sp] for @table. Any idea to keep selected value in collection_select to remain after click ""Proceed"".
",1
5503485,03/31/2011 16:58:49,686166,03/31/2011 16:37:00,1,0,"Problems with ""devise_for"", ""devise_scope""!","I'm trying to customize my routes in devise. I've tried to use devise_scope :user, but it dind't work. So I changed to devise_for, and skiped the custom routes (registrations, confirmations, passwords, session) and it worked. But then, an error show up in my views, when i wass calling ""session_path"" for example. It was making a form redirecting to ""session.user"", that makes no sense.

Here is the code:

<pre>
  #routes.rb

  devise_for :users, :path => '', :skip => [ :passwords, :registrations, :confirmations] do
    post   ""account/password"",      :to => ""devise/passwords#create""
    get    ""account/password/new"",  :to => ""devise/passwords#new"", :as => ""new_password""
    get    ""account/password/edit"", :to => ""devise/passwords#edit"", :as => ""edit_password""
    put    ""account/password"",      :to => ""devise/passwords#update""
    post   ""account"",               :to => ""users/registrations#create""
    get    ""sign_up"",               :to => ""users/registrations#new""
    delete ""account"",               :to => ""users/registrations#destroy""
    post   ""confirmation"",          :to => ""devise/confirmations#create""
    get    ""confirmation/new"",      :to => ""devise/confirmations#new"", :as => ""new_confirmation""
    get    ""confirmation"",          :to => ""devise/confirmations#show""
  end
</pre>

New session view:

<pre>
  #users/sessions/new.html.erb
  = form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f| %>
</pre>

Error:

<pre>
No route matches {:action=>""new"", :format=>:user, :controller=>""devise/passwords""}
</pre>

What do I do? What happened to ""devise_scope"" doesn't work correctly (The error it was showing up was ""Could not find devise mapping for ..."")?

Thanks
</pre>
",ruby-on-rails,ruby-on-rails-3,devise,,,,open,0,317,4,"Problems with ""devise_for"", ""devise_scope""! I'm trying to customize my routes in devise. I've tried to use devise_scope :user, but it dind't work. So I changed to devise_for, and skiped the custom routes (registrations, confirmations, passwords, session) and it worked. But then, an error show up in my views, when i wass calling ""session_path"" for example. It was making a form redirecting to ""session.user"", that makes no sense.

Here is the code:

<pre>
  #routes.rb

  devise_for :users, :path => '', :skip => [ :passwords, :registrations, :confirmations] do
    post   ""account/password"",      :to => ""devise/passwords#create""
    get    ""account/password/new"",  :to => ""devise/passwords#new"", :as => ""new_password""
    get    ""account/password/edit"", :to => ""devise/passwords#edit"", :as => ""edit_password""
    put    ""account/password"",      :to => ""devise/passwords#update""
    post   ""account"",               :to => ""users/registrations#create""
    get    ""sign_up"",               :to => ""users/registrations#new""
    delete ""account"",               :to => ""users/registrations#destroy""
    post   ""confirmation"",          :to => ""devise/confirmations#create""
    get    ""confirmation/new"",      :to => ""devise/confirmations#new"", :as => ""new_confirmation""
    get    ""confirmation"",          :to => ""devise/confirmations#show""
  end
</pre>

New session view:

<pre>
  #users/sessions/new.html.erb
  = form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f| %>
</pre>

Error:

<pre>
No route matches {:action=>""new"", :format=>:user, :controller=>""devise/passwords""}
</pre>

What do I do? What happened to ""devise_scope"" doesn't work correctly (The error it was showing up was ""Could not find devise mapping for ..."")?

Thanks
</pre>
",3
5148786,02/28/2011 23:23:07,501383,11/09/2010 02:23:45,142,2,Nested Model/Routes in Rails 3,"I have a simple blogging functionality in my Rails 3 app. I am trying to add commenting to each post. The `BlogComment` model has a property, `blog_post_id`, to be able to find the corresponding comments for each post. I already setup my associations in the model, I also nested `BlogComments` under `BlogPost` in the routes file.

However, I can't figure out how to give each `BlogPost` access to its respective comments through the controller so that they can be shown later in the view.",ruby-on-rails,,,,,,open,0,83,5,"Nested Model/Routes in Rails 3 I have a simple blogging functionality in my Rails 3 app. I am trying to add commenting to each post. The `BlogComment` model has a property, `blog_post_id`, to be able to find the corresponding comments for each post. I already setup my associations in the model, I also nested `BlogComments` under `BlogPost` in the routes file.

However, I can't figure out how to give each `BlogPost` access to its respective comments through the controller so that they can be shown later in the view.",1
3414028,08/05/2010 11:01:44,367087,06/15/2010 09:38:54,30,0,Where is a good authlogic openid tutorial?,"I have searched a lot but found only old tutorials that doesn't works with latest plugins, how can i found a good and updated (working) how to to setup openid authentication ?
",ruby-on-rails,openid,,,,,open,0,32,7,"Where is a good authlogic openid tutorial? I have searched a lot but found only old tutorials that doesn't works with latest plugins, how can i found a good and updated (working) how to to setup openid authentication ?
",2
6965046,08/06/2011 05:43:47,757458,05/17/2011 13:37:08,15,0,sorting by unique categories in rails,"Im wondering if there's a better way of doing this:

I have the following models: Item, HalfLinks, Category

    Item has_many halflinks belongs_to: category
    Category has_many items
    HalfLinks belongs_to :other_item, :class_name => ""Item"", :foreign_key => :other_item

I am trying to display on the Item#show view, a list of linked items, by category. Something like:

This page is for Item 1

Category 1
- Item 2
- Item 3
- Item 4

Category 2
- Item 5
- Item 6

Category 3
- Item 7

The page is to display only categories that have HalfLinks for Item1, paginate a max of 10 categories, and within each category, to again only show the top 20 items.


I have only worked up to here:

    <table>
    <tr>
      <td>item_id, cat_id</td>
      <td>Item name</td>
      <td>Item Category</td>
      <td>Pic</td>
    </tr>
    <% @itemhl.each do |hl| %>
    <tr>
        <td><%= hl.other_item_id %> <%= hl.other_category_id %></td>
        <td><%= link_to hl.other_item.name, item_path(hl.other_item) %></td>
        <td><%= link_to hl.other_item.category.name, category_path(hl.other_item.category) %></td>
        <td><%= image_tag hl.other_item.itemimage.url(:thumb) %></td>
    </tr>
    <% end %>
     </table>
    </p>


Which I know is only a list of the items. 

I have tried to get a list of the unique categories with

        @itemhlc = @itemhl.map{|c| c.other_item.category.name }.uniq

but then I am at a loss how best to proceed.
My guess is that I will need to create a method, in the helper? to list the items in each category. But can I stuff this in the Controller where it probably should belong instead...

",ruby-on-rails,list,category,,,,open,0,310,6,"sorting by unique categories in rails Im wondering if there's a better way of doing this:

I have the following models: Item, HalfLinks, Category

    Item has_many halflinks belongs_to: category
    Category has_many items
    HalfLinks belongs_to :other_item, :class_name => ""Item"", :foreign_key => :other_item

I am trying to display on the Item#show view, a list of linked items, by category. Something like:

This page is for Item 1

Category 1
- Item 2
- Item 3
- Item 4

Category 2
- Item 5
- Item 6

Category 3
- Item 7

The page is to display only categories that have HalfLinks for Item1, paginate a max of 10 categories, and within each category, to again only show the top 20 items.


I have only worked up to here:

    <table>
    <tr>
      <td>item_id, cat_id</td>
      <td>Item name</td>
      <td>Item Category</td>
      <td>Pic</td>
    </tr>
    <% @itemhl.each do |hl| %>
    <tr>
        <td><%= hl.other_item_id %> <%= hl.other_category_id %></td>
        <td><%= link_to hl.other_item.name, item_path(hl.other_item) %></td>
        <td><%= link_to hl.other_item.category.name, category_path(hl.other_item.category) %></td>
        <td><%= image_tag hl.other_item.itemimage.url(:thumb) %></td>
    </tr>
    <% end %>
     </table>
    </p>


Which I know is only a list of the items. 

I have tried to get a list of the unique categories with

        @itemhlc = @itemhl.map{|c| c.other_item.category.name }.uniq

but then I am at a loss how best to proceed.
My guess is that I will need to create a method, in the helper? to list the items in each category. But can I stuff this in the Controller where it probably should belong instead...

",3
9828487,03/22/2012 18:41:11,1119800,12/28/2011 18:16:40,41,4,Rails mailer images will not render,"We replicated our CSS header as an image via Fireworks, and are now trying to get the header to render in our automated mail messages from our app's `ActionMailer`.

These images wont display in our mail tests.

we are using CSS for the header text, so in the event that the header image doesnt render we will still have our app's logo present in the body.

    body {
    background: url('../images/mailer_bg.jpg')
    }

Our image is located in `public/images/mailer_bg.jpg`",ruby-on-rails,,,,,,open,0,83,6,"Rails mailer images will not render We replicated our CSS header as an image via Fireworks, and are now trying to get the header to render in our automated mail messages from our app's `ActionMailer`.

These images wont display in our mail tests.

we are using CSS for the header text, so in the event that the header image doesnt render we will still have our app's logo present in the body.

    body {
    background: url('../images/mailer_bg.jpg')
    }

Our image is located in `public/images/mailer_bg.jpg`",1
2985600,06/06/2010 19:32:46,25068,10/04/2008 05:42:13,1555,24,How good is the Rails santize() method?,"Can I use [ActionView::Helpers::SanitizeHelper#sanitize][1] on user-entered text that I plan on showing to other users? E.g., will it properly handle [all cases described on this site][2]?

Also, the documentation mentions:

> Please note that sanitizing
> user-provided text does not guarantee
> that the resulting markup is valid
> (conforming to a document type) or
> even well-formed. The output may still
> contain e.g. unescaped ’<’, ’>’, ’&’
> characters and confuse browsers.

What's the best way to handle this? Pass the sanitized text through `Hpricot` before displaying?

  [1]: http://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#M002163
  [2]: http://ha.ckers.org/xss.html",ruby-on-rails,xss,sanitize,,,,open,0,86,7,"How good is the Rails santize() method? Can I use [ActionView::Helpers::SanitizeHelper#sanitize][1] on user-entered text that I plan on showing to other users? E.g., will it properly handle [all cases described on this site][2]?

Also, the documentation mentions:

> Please note that sanitizing
> user-provided text does not guarantee
> that the resulting markup is valid
> (conforming to a document type) or
> even well-formed. The output may still
> contain e.g. unescaped ’<’, ’>’, ’&’
> characters and confuse browsers.

What's the best way to handle this? Pass the sanitized text through `Hpricot` before displaying?

  [1]: http://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#M002163
  [2]: http://ha.ckers.org/xss.html",3
4364335,12/06/2010 08:06:47,295228,03/16/2010 22:45:23,176,9,How to set two diferent font style in one single line with prawn in Ruby on Rails generating a PDF file?,"I have the following code:

<pre><code>
    pdf = Prawn::Document.new
	pdf.text ""Hello"", :size => 22
    pdf.text ""wold"", :size => 12
</code></pre>

but this code displays two lines
i want to have the two text in one single line with the diferente font sizes as corresponding.

any help on this?",ruby-on-rails,pdf-generation,prawn,,,,open,0,48,21,"How to set two diferent font style in one single line with prawn in Ruby on Rails generating a PDF file? I have the following code:

<pre><code>
    pdf = Prawn::Document.new
	pdf.text ""Hello"", :size => 22
    pdf.text ""wold"", :size => 12
</code></pre>

but this code displays two lines
i want to have the two text in one single line with the diferente font sizes as corresponding.

any help on this?",3
6479142,06/25/2011 16:46:28,491223,10/29/2010 11:30:00,13,1,Get sum of an attribute in ROR,"I have 2 models Agent and Currency with following relationship

Agent has_many :currencies

Currency belongs_to :agent

I have the following code:

agent = Agent.find(1)

agentcurrs = agent.currencies

Currency has an attribute called 'val'

I want the sum of 'val' for the agentcurrs recordset so I'm doing the following:

totalval = agentcurrs.sum('val')

What I'm getting is a BigDecimal being returned rather than the value. 

Please can some one tell me what I'm doing wrong.  I'm using rails 2.3.8 and ruby 1.8.

Thanks",ruby-on-rails,ruby,bigdecimal,,,,open,0,72,7,"Get sum of an attribute in ROR I have 2 models Agent and Currency with following relationship

Agent has_many :currencies

Currency belongs_to :agent

I have the following code:

agent = Agent.find(1)

agentcurrs = agent.currencies

Currency has an attribute called 'val'

I want the sum of 'val' for the agentcurrs recordset so I'm doing the following:

totalval = agentcurrs.sum('val')

What I'm getting is a BigDecimal being returned rather than the value. 

Please can some one tell me what I'm doing wrong.  I'm using rails 2.3.8 and ruby 1.8.

Thanks",3
10118740,04/12/2012 06:48:31,672332,03/23/2011 03:16:58,1,0,Using Cassandra with rails app,"I would like to use cassandra with my rails application. There are few questions in my mind:
* How can I connection pool the cassandra clients?
* How can I store cassandra client object in a place that is shared among all my model objects during the duration of request. Of course if there is a connection pool, I need to return the object back to the pool at the end of request processing.


Thanks a lot
Behrang",ruby-on-rails,ruby,cassandra,,,,open,0,74,5,"Using Cassandra with rails app I would like to use cassandra with my rails application. There are few questions in my mind:
* How can I connection pool the cassandra clients?
* How can I store cassandra client object in a place that is shared among all my model objects during the duration of request. Of course if there is a connection pool, I need to return the object back to the pool at the end of request processing.


Thanks a lot
Behrang",3
7317182,09/06/2011 08:45:18,788770,06/08/2011 07:41:42,40,1,Nested references not saved from embedded document using mongoid,"Here a tricky issue dealing with nested documents, references and embedded documents.
You can find a zip file containing a sample project illustrating the issue.

I'm Using
Rails v3.0.9
Mongo v1.8.3
Mongoid v2.2.0

#### Models

- Conversation
- Message
- Text
- Media
- Link

- A Conversation embeds_many Messages (autosave => true)
- A Message has_many Media (autosave => true)
- Text inherit from Message (STI)
- Link inherit from Link (STI)
- A Conversation accept_nested_attributes_for :messages
- A Message accept_nested_attributes_for :medias

In rails console, let's do some testing :

    ruby-1.9.2-p180 :001 > c = Conversation.new({:messages_attributes => [{'_type' => 'Text', :content => 'content', :medias_attributes => [{'_type' => 'Link', :url => 'google.com'}]}]})
     => #<Conversation _id: 4e65c7275d156d0129000001, _type: nil, created_at: nil, updated_at: nil, title: nil> 
    ruby-1.9.2-p180 :002 > c.messages
     => [#<Message _id: 4e65c7275d156d0129000002, _type: ""Text"", created_at: nil, updated_at: nil, content: ""content"">] 
    ruby-1.9.2-p180 :003 > c.messages.first.medias
     => [#<Media _id: 4e65c7275d156d0129000003, _type: ""Link"", created_at: nil, updated_at: nil, message_id: BSON::ObjectId('4e65c7275d156d0129000002'), url: ""google.com"">] 
    ruby-1.9.2-p180 :004 > c.save
     => true 
    ruby-1.9.2-p180 :005 > c.reload
     => #<Conversation _id: 4e65c7275d156d0129000001, _type: nil, created_at: 2011-09-06 07:09:33 UTC, updated_at: 2011-09-06 07:09:33 UTC, title: nil> 
    ruby-1.9.2-p180 :006 > c.messages
     => [#<Text _id: 4e65c7275d156d0129000002, _type: ""Text"", created_at: nil, updated_at: nil, content: ""content"">] 
    ruby-1.9.2-p180 :007 > c.messages.first.medias
     => [] #Should not be empty

Now if you change the relations between Conversation <=> Message as follow :

- A Conversation has_many Messages

It works perfectly.
Some rails console testing also :

    ruby-1.9.2-p180 :002 > c = Conversation.new({:messages_attributes => [{'_type' => 'Text', :content => 'content', :medias_attributes => [{'_type' => 'Link', :url => 'google.com'}]}]})
     => #<Conversation _id: 4e65c6bb5d156d011a000004, _type: nil, created_at: nil, updated_at: nil, title: nil> 
    ruby-1.9.2-p180 :003 > c.messages
     => [#<Message _id: 4e65c6bb5d156d011a000005, _type: ""Text"", created_at: nil, updated_at: nil, conversation_id: BSON::ObjectId('4e65c6bb5d156d011a000004'), content: ""content"">] 
    ruby-1.9.2-p180 :004 > c.messages.first.medias
     => [#<Media _id: 4e65c6bb5d156d011a000006, _type: ""Link"", created_at: nil, updated_at: nil, message_id: BSON::ObjectId('4e65c6bb5d156d011a000005'), url: ""google.com"">] 
    ruby-1.9.2-p180 :005 > c.save
     => true 
    ruby-1.9.2-p180 :006 > c.reload
     => #<Conversation _id: 4e65c6bb5d156d011a000004, _type: nil, created_at: 2011-09-06 07:07:54 UTC, updated_at: 2011-09-06 07:07:54 UTC, title: nil> 
    ruby-1.9.2-p180 :007 > c.messages
     => [#<Text _id: 4e65c6bb5d156d011a000005, _type: ""Text"", created_at: 2011-09-06 07:07:54 UTC, updated_at: 2011-09-06 07:07:54 UTC, conversation_id: BSON::ObjectId('4e65c6bb5d156d011a000004'), content: ""content"">] 
    ruby-1.9.2-p180 :008 > c.messages.first.medias
     => [#<Link _id: 4e65c6bb5d156d011a000006, _type: ""Link"", created_at: 2011-09-06 07:07:54 UTC, updated_at: 2011-09-06 07:07:54 UTC, message_id: BSON::ObjectId('4e65c6bb5d156d011a000005'), url: ""google.com"">]

Here is the link to the sample zip file : http://d.pr/oMUc
",ruby-on-rails,ruby-on-rails-3,mongodb,embedded,mongoid,,open,0,474,9,"Nested references not saved from embedded document using mongoid Here a tricky issue dealing with nested documents, references and embedded documents.
You can find a zip file containing a sample project illustrating the issue.

I'm Using
Rails v3.0.9
Mongo v1.8.3
Mongoid v2.2.0

#### Models

- Conversation
- Message
- Text
- Media
- Link

- A Conversation embeds_many Messages (autosave => true)
- A Message has_many Media (autosave => true)
- Text inherit from Message (STI)
- Link inherit from Link (STI)
- A Conversation accept_nested_attributes_for :messages
- A Message accept_nested_attributes_for :medias

In rails console, let's do some testing :

    ruby-1.9.2-p180 :001 > c = Conversation.new({:messages_attributes => [{'_type' => 'Text', :content => 'content', :medias_attributes => [{'_type' => 'Link', :url => 'google.com'}]}]})
     => #<Conversation _id: 4e65c7275d156d0129000001, _type: nil, created_at: nil, updated_at: nil, title: nil> 
    ruby-1.9.2-p180 :002 > c.messages
     => [#<Message _id: 4e65c7275d156d0129000002, _type: ""Text"", created_at: nil, updated_at: nil, content: ""content"">] 
    ruby-1.9.2-p180 :003 > c.messages.first.medias
     => [#<Media _id: 4e65c7275d156d0129000003, _type: ""Link"", created_at: nil, updated_at: nil, message_id: BSON::ObjectId('4e65c7275d156d0129000002'), url: ""google.com"">] 
    ruby-1.9.2-p180 :004 > c.save
     => true 
    ruby-1.9.2-p180 :005 > c.reload
     => #<Conversation _id: 4e65c7275d156d0129000001, _type: nil, created_at: 2011-09-06 07:09:33 UTC, updated_at: 2011-09-06 07:09:33 UTC, title: nil> 
    ruby-1.9.2-p180 :006 > c.messages
     => [#<Text _id: 4e65c7275d156d0129000002, _type: ""Text"", created_at: nil, updated_at: nil, content: ""content"">] 
    ruby-1.9.2-p180 :007 > c.messages.first.medias
     => [] #Should not be empty

Now if you change the relations between Conversation <=> Message as follow :

- A Conversation has_many Messages

It works perfectly.
Some rails console testing also :

    ruby-1.9.2-p180 :002 > c = Conversation.new({:messages_attributes => [{'_type' => 'Text', :content => 'content', :medias_attributes => [{'_type' => 'Link', :url => 'google.com'}]}]})
     => #<Conversation _id: 4e65c6bb5d156d011a000004, _type: nil, created_at: nil, updated_at: nil, title: nil> 
    ruby-1.9.2-p180 :003 > c.messages
     => [#<Message _id: 4e65c6bb5d156d011a000005, _type: ""Text"", created_at: nil, updated_at: nil, conversation_id: BSON::ObjectId('4e65c6bb5d156d011a000004'), content: ""content"">] 
    ruby-1.9.2-p180 :004 > c.messages.first.medias
     => [#<Media _id: 4e65c6bb5d156d011a000006, _type: ""Link"", created_at: nil, updated_at: nil, message_id: BSON::ObjectId('4e65c6bb5d156d011a000005'), url: ""google.com"">] 
    ruby-1.9.2-p180 :005 > c.save
     => true 
    ruby-1.9.2-p180 :006 > c.reload
     => #<Conversation _id: 4e65c6bb5d156d011a000004, _type: nil, created_at: 2011-09-06 07:07:54 UTC, updated_at: 2011-09-06 07:07:54 UTC, title: nil> 
    ruby-1.9.2-p180 :007 > c.messages
     => [#<Text _id: 4e65c6bb5d156d011a000005, _type: ""Text"", created_at: 2011-09-06 07:07:54 UTC, updated_at: 2011-09-06 07:07:54 UTC, conversation_id: BSON::ObjectId('4e65c6bb5d156d011a000004'), content: ""content"">] 
    ruby-1.9.2-p180 :008 > c.messages.first.medias
     => [#<Link _id: 4e65c6bb5d156d011a000006, _type: ""Link"", created_at: 2011-09-06 07:07:54 UTC, updated_at: 2011-09-06 07:07:54 UTC, message_id: BSON::ObjectId('4e65c6bb5d156d011a000005'), url: ""google.com"">]

Here is the link to the sample zip file : http://d.pr/oMUc
",5
6198058,06/01/2011 08:04:32,1421542,03/09/2009 10:27:46,115,14,Rails: method_missing is not called on model when using associations,"My current code:

    class Product < ActiveRecord::Base
      belongs_to :cateroy
    end

    class Category < ActiveRecord::Base
      def method_missing name
        true
      end
    end

    Category.new.ex_undefined_method          #=> true
    Product.last.category.ex_undefined_method #=> NoMethodError: undefined method `ex_undefined_method' for #<ActiveRecord::Associations::BelongsToAssociation:0xc4cd52c>


This is what I want:

    Product.last.category.ex_undefined_method #=> true

How can I accomplish this?",ruby-on-rails,associations,belongs-to,method-missing,,,open,0,94,10,"Rails: method_missing is not called on model when using associations My current code:

    class Product < ActiveRecord::Base
      belongs_to :cateroy
    end

    class Category < ActiveRecord::Base
      def method_missing name
        true
      end
    end

    Category.new.ex_undefined_method          #=> true
    Product.last.category.ex_undefined_method #=> NoMethodError: undefined method `ex_undefined_method' for #<ActiveRecord::Associations::BelongsToAssociation:0xc4cd52c>


This is what I want:

    Product.last.category.ex_undefined_method #=> true

How can I accomplish this?",4
11513689,07/16/2012 22:46:33,218377,11/25/2009 07:31:11,1303,6,enable subdomain in nginx for wordpress,"My nginx.conf doesn't work. I need setup correctly a blog under the subdomain blog.nerto.it
The site on the main domain (nerto.it) is using rails.
Are There other settings that i need to setup out of this files?
I'm using ubuntu 10.04. Thanks mate!


        #user  nobody;
    worker_processes  1;
    
    #error_log  logs/error.log;
    #error_log  logs/error.log  notice;
    #error_log  logs/error.log  info;
    
    #pid        logs/nginx.pid;
    
    
    events {
        worker_connections  1024;
    }
    
    
    http {
        passenger_root /opt/ruby/lib/ruby/gems/1.8/gems/passenger-3.0.7;
        passenger_ruby /opt/ruby/bin/ruby;
    
        include       mime.types;
    
        default_type  application/octet-stream;
    
        log_format  main  '$remote_addr - $remote_user [$time_local] ""$request"" '
                          '$status $body_bytes_sent ""$http_referer"" '
                          '""$http_user_agent"" ""$http_x_forwarded_for""';
    
        access_log  logs/access.log  main;
    
        sendfile        on;
        #tcp_nopush     on;
    
        #keepalive_timeout  0;
        keepalive_timeout  65;
        client_max_body_size 9m;
    
    
        #gzip  on;
        server {
          listen 80;
          server_name nerto.it;
          root /var/www/current/public;   # <--- be sure to point to 'public'!
          passenger_enabled on;
    
        }
    
       server {
        listen 80;
        server_name www.nerto.it;
        rewrite ^ http://nerto.it$uri permanent;
       }

",ruby-on-rails,wordpress,ubuntu,nginx,subdomain,07/18/2012 14:11:36,off topic,1,489,6,"enable subdomain in nginx for wordpress My nginx.conf doesn't work. I need setup correctly a blog under the subdomain blog.nerto.it
The site on the main domain (nerto.it) is using rails.
Are There other settings that i need to setup out of this files?
I'm using ubuntu 10.04. Thanks mate!


        #user  nobody;
    worker_processes  1;
    
    #error_log  logs/error.log;
    #error_log  logs/error.log  notice;
    #error_log  logs/error.log  info;
    
    #pid        logs/nginx.pid;
    
    
    events {
        worker_connections  1024;
    }
    
    
    http {
        passenger_root /opt/ruby/lib/ruby/gems/1.8/gems/passenger-3.0.7;
        passenger_ruby /opt/ruby/bin/ruby;
    
        include       mime.types;
    
        default_type  application/octet-stream;
    
        log_format  main  '$remote_addr - $remote_user [$time_local] ""$request"" '
                          '$status $body_bytes_sent ""$http_referer"" '
                          '""$http_user_agent"" ""$http_x_forwarded_for""';
    
        access_log  logs/access.log  main;
    
        sendfile        on;
        #tcp_nopush     on;
    
        #keepalive_timeout  0;
        keepalive_timeout  65;
        client_max_body_size 9m;
    
    
        #gzip  on;
        server {
          listen 80;
          server_name nerto.it;
          root /var/www/current/public;   # <--- be sure to point to 'public'!
          passenger_enabled on;
    
        }
    
       server {
        listen 80;
        server_name www.nerto.it;
        rewrite ^ http://nerto.it$uri permanent;
       }

",5
7520813,09/22/2011 20:09:11,831892,07/06/2011 15:20:19,1,0,Routing issue while using high_voltage for static pages,"I am trying to use high_voltage to serve up static pages.  It seems to be working in that if I put .../pages/PAGE_NAME in the browser window it will bring up the correct page.  The problem that I am having is that the default root doesn't appear to be working properly. When I go to http://localhost:3000 I get the home.html.erb page that I put in the view/pages directory inside of my application.html.haml layout.  Basically, a page inside of a layout which is not what I expected.  

I am following the instructions in that I have the following entries in my routes.rb file:

    resources :pages
    root :to => 'high_voltage/pages#show', :id => 'home'

I also have a PagesController with the following code: 

    class PagesController < HighVoltage::PagesController
      layout nil
    end

It appears that my root route does not actually hit the PagesController (with layout nil) that I have in my code. How can I resolve this issue?",ruby-on-rails,ruby-on-rails-3.1,,,,,open,0,173,8,"Routing issue while using high_voltage for static pages I am trying to use high_voltage to serve up static pages.  It seems to be working in that if I put .../pages/PAGE_NAME in the browser window it will bring up the correct page.  The problem that I am having is that the default root doesn't appear to be working properly. When I go to http://localhost:3000 I get the home.html.erb page that I put in the view/pages directory inside of my application.html.haml layout.  Basically, a page inside of a layout which is not what I expected.  

I am following the instructions in that I have the following entries in my routes.rb file:

    resources :pages
    root :to => 'high_voltage/pages#show', :id => 'home'

I also have a PagesController with the following code: 

    class PagesController < HighVoltage::PagesController
      layout nil
    end

It appears that my root route does not actually hit the PagesController (with layout nil) that I have in my code. How can I resolve this issue?",2
11266114,06/29/2012 17:13:20,1455116,06/14/2012 01:38:25,16,3,ruby on rails regular expression,"I'm new to regular expressions and i'm feeling this very difficult to solve:

I have a the following string:

    ""inforun 7970 12423 99 10:03 ? 00:09:03 abcd -PR -gmh domain.den.abc.com -gmp 6020 -guid 9c06cc02-b1c8-41cf-93e6-1d795e9fff62 -rst 180 -s FOLDER_NAME:wkf_workflow.s_session -something Session task instance [session]""

I have to extract the `time` which `10:03` and the `'domain'` in `domain.den.abc.com` and the `FOLDER_NAME`, the `'workflow'` in the `'wkf_worklfow'` and the `'session'` in the `'s_session'` the `time`, `domain`, `foldername`, `workflow` and `session` keep changing for every string and there are a bunch of strings like this all attached as a single string. 
Here are the patterns that are common for every string. the `'abcd -PR -gmh'` is common and can help in finding the time that is just before the `'?'`
the `'-s', ':wkf'` is common for all the string and the `folder_name` is right in between these two.
the `'workflow'` is in between `'wkf_'` and `'.s_'`
the session is in between `'s_'` and the immediate next `'-'` 
I need the time, domain, folder name, workflow and session all in seperate strings.
I tried to practice regular expression only a few days back it is taking so much time for me even to comprehend something like `""\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z""` which is given [here](http://ruby.railstutorial.org/chapters/modeling-and-viewing-users-one#table:email_regex) 
Thank you for your help

",ruby-on-rails,ruby,regex,ruby-on-rails-3,ruby-on-rails-3.1,,open,0,208,5,"ruby on rails regular expression I'm new to regular expressions and i'm feeling this very difficult to solve:

I have a the following string:

    ""inforun 7970 12423 99 10:03 ? 00:09:03 abcd -PR -gmh domain.den.abc.com -gmp 6020 -guid 9c06cc02-b1c8-41cf-93e6-1d795e9fff62 -rst 180 -s FOLDER_NAME:wkf_workflow.s_session -something Session task instance [session]""

I have to extract the `time` which `10:03` and the `'domain'` in `domain.den.abc.com` and the `FOLDER_NAME`, the `'workflow'` in the `'wkf_worklfow'` and the `'session'` in the `'s_session'` the `time`, `domain`, `foldername`, `workflow` and `session` keep changing for every string and there are a bunch of strings like this all attached as a single string. 
Here are the patterns that are common for every string. the `'abcd -PR -gmh'` is common and can help in finding the time that is just before the `'?'`
the `'-s', ':wkf'` is common for all the string and the `folder_name` is right in between these two.
the `'workflow'` is in between `'wkf_'` and `'.s_'`
the session is in between `'s_'` and the immediate next `'-'` 
I need the time, domain, folder name, workflow and session all in seperate strings.
I tried to practice regular expression only a few days back it is taking so much time for me even to comprehend something like `""\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z""` which is given [here](http://ruby.railstutorial.org/chapters/modeling-and-viewing-users-one#table:email_regex) 
Thank you for your help

",5
119349,09/23/2008 06:13:35,9128,09/15/2008 17:48:29,598,39,Rails performance analyzers,"What are the preffered plugins for monitoring and analyzing the performance of a Rails app? I'm looking for both database/query analyzers and the rest of the stack if possible, though not necessarily all in one plugin. Which ones do you recommend?
( Bonus points for free ones :)

For example, [this one][1] looks spify.


  [1]: http://railstips.org/2008/9/17/rails-app-monitoring",ruby-on-rails,performance,plugins,,,,open,0,55,3,"Rails performance analyzers What are the preffered plugins for monitoring and analyzing the performance of a Rails app? I'm looking for both database/query analyzers and the rest of the stack if possible, though not necessarily all in one plugin. Which ones do you recommend?
( Bonus points for free ones :)

For example, [this one][1] looks spify.


  [1]: http://railstips.org/2008/9/17/rails-app-monitoring",3
3170037,07/03/2010 02:09:59,382495,07/03/2010 02:09:59,1,0,Ruby on Rails Case/Switch. How to match against object?,"I am working on a ruby on rails application. For a session controller, I want to use a case to check if a user's account is locked or banned. I am trying to use the object of a class as the case, and use when to check attributes.

For example,

    user = Profile.find(1)
    case user
    when user.ban
      redirect_to()
    when user.lock
      redirect_to()
    else
      redirect_to()
    end
The only problem is that doesn't work.

What does work is this:

    case user.ban
    when true
      redirect_to()
    else
      redirect_to()
    end

Any advice on how I can go about checking if a user object is banned or locked using a switch?

Thank you",ruby-on-rails,ruby,on,,,,open,0,156,9,"Ruby on Rails Case/Switch. How to match against object? I am working on a ruby on rails application. For a session controller, I want to use a case to check if a user's account is locked or banned. I am trying to use the object of a class as the case, and use when to check attributes.

For example,

    user = Profile.find(1)
    case user
    when user.ban
      redirect_to()
    when user.lock
      redirect_to()
    else
      redirect_to()
    end
The only problem is that doesn't work.

What does work is this:

    case user.ban
    when true
      redirect_to()
    else
      redirect_to()
    end

Any advice on how I can go about checking if a user object is banned or locked using a switch?

Thank you",3
2313608,02/22/2010 19:43:39,144044,07/23/2009 20:43:56,11,4,Does ActiveRecord allow for custom types?,"I have a scenario where I am trying to do a proof of concept using Rails on a legacy db2 database to get buy off that it is a viable option platform for us to use for current and future development.  

All of our tables have a primary key which is defined as char for bit data, which is binary.  Is there any way I can define a mapper to convert that data to/from a string?

I'm a ruby/rails newb so this may be an easy question to answer, I just haven't been able to find it.
",ruby-on-rails,activerecord,ruby,,,,open,0,98,6,"Does ActiveRecord allow for custom types? I have a scenario where I am trying to do a proof of concept using Rails on a legacy db2 database to get buy off that it is a viable option platform for us to use for current and future development.  

All of our tables have a primary key which is defined as char for bit data, which is binary.  Is there any way I can define a mapper to convert that data to/from a string?

I'm a ruby/rails newb so this may be an easy question to answer, I just haven't been able to find it.
",3
11680090,07/27/2012 00:51:41,1279844,03/05/2011 05:09:52,301,16,Rspec+capybara request specs: testing form submit with invisible button: best way to make button invisible?,"I have a one-textfield form on my app. I don't want a visible submit button (users have to hit 'enter' to submit). I understand you still want the button there for accessibility, so I move it offscreen.

I'm testing with Capybara. When I `click_on my-button`, it gives me this error:

    Failure/Error: click_on ""gimme-your-cc""
     Selenium::WebDriver::Error::MoveTargetOutOfBoundsError:
       Element cannot be scrolled into view:[object HTMLInputElement]

That particular spec is done within a `js: true` block so it uses webdriver and firefox.

Is there a good way to test submitting that button? Making it the button `display:hidden` didn't work either and I think that solution isn't very accessible anyway.",ruby-on-rails,capybara,,,,,open,0,114,15,"Rspec+capybara request specs: testing form submit with invisible button: best way to make button invisible? I have a one-textfield form on my app. I don't want a visible submit button (users have to hit 'enter' to submit). I understand you still want the button there for accessibility, so I move it offscreen.

I'm testing with Capybara. When I `click_on my-button`, it gives me this error:

    Failure/Error: click_on ""gimme-your-cc""
     Selenium::WebDriver::Error::MoveTargetOutOfBoundsError:
       Element cannot be scrolled into view:[object HTMLInputElement]

That particular spec is done within a `js: true` block so it uses webdriver and firefox.

Is there a good way to test submitting that button? Making it the button `display:hidden` didn't work either and I think that solution isn't very accessible anyway.",2
2824236,05/13/2010 03:20:17,236655,12/22/2009 08:07:02,133,16,"Create doc for rails, plugins, app in a single file","I was wondering what the best option for generating doc for rails, its plugin and the app in one single file that I can navigate.
I've been using rdoc but that creates multiple files, yard is too slow and hanna gets stuck at random places.
Any help? ",ruby-on-rails,rdoc,,,,,open,0,46,10,"Create doc for rails, plugins, app in a single file I was wondering what the best option for generating doc for rails, its plugin and the app in one single file that I can navigate.
I've been using rdoc but that creates multiple files, yard is too slow and hanna gets stuck at random places.
Any help? ",2
9550016,03/03/2012 21:28:09,1189707,02/04/2012 18:09:59,1,0,rails server just displays help message,"ruby 1.9.3p125
rails 3.2.2
windows XP pro sp3

I am following Getting Started on Rails (http://guides.rubyonrails.org/getting_started.html) and created the blog with no worries.  When I attempt to start the server with ""rails server"" the cli just displays the rails help message.  I know I'm missing something but I'll be dipped if I can figure it out.",ruby-on-rails,ruby,,,,03/05/2012 14:53:14,not a real question,1,55,6,"rails server just displays help message ruby 1.9.3p125
rails 3.2.2
windows XP pro sp3

I am following Getting Started on Rails (http://guides.rubyonrails.org/getting_started.html) and created the blog with no worries.  When I attempt to start the server with ""rails server"" the cli just displays the rails help message.  I know I'm missing something but I'll be dipped if I can figure it out.",2
1030465,06/23/2009 03:10:27,81085,03/22/2009 15:23:13,88,3,rails: how to detect other clients browsing the same url,"
What want to be accomplished is:
I want to ""synchronize web browsers"". my site has a ""wait URL"" where when browser gets there it will be kept waiting till another browser also go there and then both will be presented with a quiz-like game.


Right now the wait url will call each second to Rails to check if other player came to the game. How can in the Rails framework detect a different client connecting to the same URL?

As the controller is recreated per request looks like is not the place, not the view for sure and storing this in the model looks really clumsy. 
",ruby-on-rails,ruby,synchronization,,,,open,0,104,10,"rails: how to detect other clients browsing the same url 
What want to be accomplished is:
I want to ""synchronize web browsers"". my site has a ""wait URL"" where when browser gets there it will be kept waiting till another browser also go there and then both will be presented with a quiz-like game.


Right now the wait url will call each second to Rails to check if other player came to the game. How can in the Rails framework detect a different client connecting to the same URL?

As the controller is recreated per request looks like is not the place, not the view for sure and storing this in the model looks really clumsy. 
",3
10577511,05/14/2012 04:28:42,794481,06/12/2011 04:26:35,852,26,How do I sum a many to many value?,"Each User can have many Resources, and each of those Resources has many Votes, and each of those votes have a value attribute that I want to sum all that particular users resources.

If I were to type this in a syntactically incorrect way I want something like...

`@user.resources.votes.sum(&:value)`, but that obviously won't work.

I believe I need to use `collect` but I am not sure?

This is the closest I got but it prints them out, heh

`<%= @user.resources.collect { |r| r.votes.sum(&:value) } %>`",ruby-on-rails,ruby,ruby-on-rails-3,ruby-on-rails-3.1,collect,,open,0,80,9,"How do I sum a many to many value? Each User can have many Resources, and each of those Resources has many Votes, and each of those votes have a value attribute that I want to sum all that particular users resources.

If I were to type this in a syntactically incorrect way I want something like...

`@user.resources.votes.sum(&:value)`, but that obviously won't work.

I believe I need to use `collect` but I am not sure?

This is the closest I got but it prints them out, heh

`<%= @user.resources.collect { |r| r.votes.sum(&:value) } %>`",5
11718903,07/30/2012 09:42:41,1562464,07/30/2012 09:15:35,1,0,TDD test driven development. making the test pass,"I have a method push_elements and I need to pass hash_values (serial_no => name) to it. 

How do I make the test pass?

This is the test

it 'adds hash_values with serial_no and name' do

    @push_elements('one' => 'abcd')
    @push_elements.hash_values.should == {'one' => 'abcd'}
    @push_elements.name.should == ['abcd']
  end",ruby-on-rails,ruby,hash,tdd,,,open,0,55,8,"TDD test driven development. making the test pass I have a method push_elements and I need to pass hash_values (serial_no => name) to it. 

How do I make the test pass?

This is the test

it 'adds hash_values with serial_no and name' do

    @push_elements('one' => 'abcd')
    @push_elements.hash_values.should == {'one' => 'abcd'}
    @push_elements.name.should == ['abcd']
  end",4
8873670,01/15/2012 21:51:51,488195,10/26/2010 22:52:39,89,4,How to translate one string from one locale into another using FastGettext?,"I use [FastGettext][1] in my Rails application.

I need a particular string translated into every single ``FastGettext.available_locales`` in my application. 

How to do that?

PS: I couldn't find the solution with I18n either.


  [1]: https://github.com/grosser/fast_gettext",ruby-on-rails,ruby,internationalization,gettext,,,open,0,34,12,"How to translate one string from one locale into another using FastGettext? I use [FastGettext][1] in my Rails application.

I need a particular string translated into every single ``FastGettext.available_locales`` in my application. 

How to do that?

PS: I couldn't find the solution with I18n either.


  [1]: https://github.com/grosser/fast_gettext",4
6026191,05/17/2011 04:18:02,48523,12/23/2008 00:36:38,3536,74,"Ruby on Rails: How to create a ""recent_search_path"" helper method?","I have implemented a search feature of my application. After submitting a search term, you are redirected to a url that looks something like this:

    http://localhost:3000/search?utf8=✓&search=term

I want to be able to store this in the session and link to it later:

    <%= link_to 'Back', recent_search_path %>

How might I achieve this?",ruby-on-rails,,,,,,open,0,56,10,"Ruby on Rails: How to create a ""recent_search_path"" helper method? I have implemented a search feature of my application. After submitting a search term, you are redirected to a url that looks something like this:

    http://localhost:3000/search?utf8=✓&search=term

I want to be able to store this in the session and link to it later:

    <%= link_to 'Back', recent_search_path %>

How might I achieve this?",1
5477441,03/29/2011 18:51:04,501171,11/08/2010 21:18:10,504,15,Opinions on ruby on rails admin page implementation,"Whats the general consensus with implementing an admin interface behind a web app? Please note, I'm not looking for an admin generator similar to Merb, RailsAdmin, Typus or other.

I'd like to know the following:

 1. Is it necessary? If not, how else would admins administer the app? Via Rails console? Via database?
 2. Should the url look like: http://localhost/admin or http://admin.localhost/ or other?
 3. Should the namespace be admin or admins?
 4. How do large apps like Github, Facebook, or even Stackoverflow implement their admin interface?
 5. Does having an admin interface accessible via the web app entail a security hazard of any sort?

",ruby-on-rails,,,,,,open,0,104,8,"Opinions on ruby on rails admin page implementation Whats the general consensus with implementing an admin interface behind a web app? Please note, I'm not looking for an admin generator similar to Merb, RailsAdmin, Typus or other.

I'd like to know the following:

 1. Is it necessary? If not, how else would admins administer the app? Via Rails console? Via database?
 2. Should the url look like: http://localhost/admin or http://admin.localhost/ or other?
 3. Should the namespace be admin or admins?
 4. How do large apps like Github, Facebook, or even Stackoverflow implement their admin interface?
 5. Does having an admin interface accessible via the web app entail a security hazard of any sort?

",1
9137597,02/04/2012 01:20:03,152825,08/08/2009 01:01:42,557,9,running rake task on 'production' and specifying environment,"I have a host at Linode. I am trying to run a rake task on it but I get a mysql error saying can't connect. It looks like it thinks it is on dev. I did some googling and see that I can do something like this:


If I run 
 
   bundle exec rails c

It loads the dev environment and I cant run something like `User.all` giving me an access denied error. 

If I run `bundle exec rails c RAILS_ENV=production` I get the error 'Rails.env=production database is not configured (ActiveRecord::AdapterNotSpecified)' . However, if I access via web, everything is ok. I was able to run rake db:seed before so I know that there's some way around. 

Accessing mysql with the production credentials works fine. 

Any ideas?

thx ",ruby-on-rails,rake,,,,,open,0,129,8,"running rake task on 'production' and specifying environment I have a host at Linode. I am trying to run a rake task on it but I get a mysql error saying can't connect. It looks like it thinks it is on dev. I did some googling and see that I can do something like this:


If I run 
 
   bundle exec rails c

It loads the dev environment and I cant run something like `User.all` giving me an access denied error. 

If I run `bundle exec rails c RAILS_ENV=production` I get the error 'Rails.env=production database is not configured (ActiveRecord::AdapterNotSpecified)' . However, if I access via web, everything is ok. I was able to run rake db:seed before so I know that there's some way around. 

Accessing mysql with the production credentials works fine. 

Any ideas?

thx ",2
6004216,05/14/2011 19:13:08,231402,12/14/2009 15:56:31,120,0,Devise forbid certain user from signing in,"I was wandering how can I forbid certain users from signing in?

Thank you.",ruby-on-rails,devise,,,,05/15/2011 06:28:42,not a real question,1,13,7,"Devise forbid certain user from signing in I was wandering how can I forbid certain users from signing in?

Thank you.",2
6464781,06/24/2011 07:37:45,569015,01/09/2011 18:23:28,14,4,How many databases can I create on xeround for 149$/month plan.,"I've hosting my ROR applications on heroku and I wanted to host my database on xeround. They didn't mention how many databases I can create on their site for 149$/month. Or are they charging 149$ for a single database?

I have many small applications.",ruby-on-rails,heroku,,,,06/24/2011 17:02:55,off topic,1,43,11,"How many databases can I create on xeround for 149$/month plan. I've hosting my ROR applications on heroku and I wanted to host my database on xeround. They didn't mention how many databases I can create on their site for 149$/month. Or are they charging 149$ for a single database?

I have many small applications.",2
11581067,07/20/2012 14:08:50,1515476,07/10/2012 16:43:55,12,0,Ruby on Rails modify references,"So my initial question was http://stackoverflow.com/questions/11572293/association-ruby-on-rails. However when referring to a post the issue that i am having is that its blank. Don't see anything. After researching I believe is because when i created my test post I didn't define a customer related to it.

    class CustomersController < ApplicationController
    
      before_filter :signed_in_customer, only: [:edit, :update]
      before_filter :correct_customer,   only: [:edit, :update]
    
    
      def index
        @customers = Customer.all
      end
    
      def show
        @customer = Customer.find(params[:id])
        **@posts = @customer.posts**
      end 

Here the form that allow me to create a post for the moment.

    <%= form_for(@post) do |f| %>
      <% if @post.errors.any? %>
        <div id=""error_explanation"">
          <h2><%= pluralize(@post.errors.count, ""error"") %> prohibited this post from being saved:</h2>
    
          <ul>
          <% @post.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div class=""field"">
        <%= f.label :title %><br />
        <%= f.text_field :title %>
      </div>
      <div class=""field"">
        <%= f.label :description %><br />
        <%= f.text_field :description %>
      </div>
      <div class=""field"">
        <%= f.label :frienship_group_id %><br />
        <%= f.text_field :frienship_group_id %>
      </div>
      <div class=""field"">
        <%= f.label :post_size_id %><br />
        <%= f.text_field :post_size_id %>
      </div>
      <div class=""actions"">
        <%= f.submit %>
      </div>
    <% end %>

Which is what i am using when creating a new form. How i am suppose to allow customization to update the field that this is related to the current user in the customer_id field?

Here the model 

class Post < ActiveRecord::Base

 	belongs_to :customer
	

	validates :title, presence: true
	validates :description, presence: true
	validates :customer_id, presence: true
	validates :frienship_group_id, presence: true
	validates :Post_size_id, presence: true",ruby-on-rails,ruby,ruby-on-rails-3,ruby-on-rails-3.1,,,open,0,513,5,"Ruby on Rails modify references So my initial question was http://stackoverflow.com/questions/11572293/association-ruby-on-rails. However when referring to a post the issue that i am having is that its blank. Don't see anything. After researching I believe is because when i created my test post I didn't define a customer related to it.

    class CustomersController < ApplicationController
    
      before_filter :signed_in_customer, only: [:edit, :update]
      before_filter :correct_customer,   only: [:edit, :update]
    
    
      def index
        @customers = Customer.all
      end
    
      def show
        @customer = Customer.find(params[:id])
        **@posts = @customer.posts**
      end 

Here the form that allow me to create a post for the moment.

    <%= form_for(@post) do |f| %>
      <% if @post.errors.any? %>
        <div id=""error_explanation"">
          <h2><%= pluralize(@post.errors.count, ""error"") %> prohibited this post from being saved:</h2>
    
          <ul>
          <% @post.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div class=""field"">
        <%= f.label :title %><br />
        <%= f.text_field :title %>
      </div>
      <div class=""field"">
        <%= f.label :description %><br />
        <%= f.text_field :description %>
      </div>
      <div class=""field"">
        <%= f.label :frienship_group_id %><br />
        <%= f.text_field :frienship_group_id %>
      </div>
      <div class=""field"">
        <%= f.label :post_size_id %><br />
        <%= f.text_field :post_size_id %>
      </div>
      <div class=""actions"">
        <%= f.submit %>
      </div>
    <% end %>

Which is what i am using when creating a new form. How i am suppose to allow customization to update the field that this is related to the current user in the customer_id field?

Here the model 

class Post < ActiveRecord::Base

 	belongs_to :customer
	

	validates :title, presence: true
	validates :description, presence: true
	validates :customer_id, presence: true
	validates :frienship_group_id, presence: true
	validates :Post_size_id, presence: true",4
9912566,03/28/2012 17:20:44,29568,10/20/2008 11:02:38,517,16,Initialize child models at model creation,"I have a model Entree which belongs to a model Vin, which itself belongs to a model Producteur.

On the form for Entree creation/edition, I want to allow the user to define the attributes for parent Vin and Producteur to create them, or retrieve them if they exist (retrieval based on user input).

For now I do the following in Entree `new`  and `edit` actions:

    @entree = Entree.new
    @entree.vin = Vin.new    
    @entree.vin.producteur = Producteur.new

and use `fields_for` helper in the form,and that works. But I intend to have much more dependencies with more models, so I want to keep it DRY. I defined a `after_initialize` callback in Vin model which does the producteur initialization:

    class Vin < ActiveRecord::Base
      after_initialize :vin_setup

      def vin_setup
        producteur = Producteur.new
      end
    end

and remove the `producteur.new` from the controller. However, get an error on new action:

> undefined method `model_name' for NilClass:Class

for the line in the form that says

    <%= fields_for @entree.vin.producteur do |producteur| %>

I guess that means the after_initialize callback doesn't act as I expect it. Is there something I'm missing? Also, I get the same error if I define a `after_initialize` method in the Vin model instead of definiing a callback.",ruby-on-rails,,,,,,open,0,238,6,"Initialize child models at model creation I have a model Entree which belongs to a model Vin, which itself belongs to a model Producteur.

On the form for Entree creation/edition, I want to allow the user to define the attributes for parent Vin and Producteur to create them, or retrieve them if they exist (retrieval based on user input).

For now I do the following in Entree `new`  and `edit` actions:

    @entree = Entree.new
    @entree.vin = Vin.new    
    @entree.vin.producteur = Producteur.new

and use `fields_for` helper in the form,and that works. But I intend to have much more dependencies with more models, so I want to keep it DRY. I defined a `after_initialize` callback in Vin model which does the producteur initialization:

    class Vin < ActiveRecord::Base
      after_initialize :vin_setup

      def vin_setup
        producteur = Producteur.new
      end
    end

and remove the `producteur.new` from the controller. However, get an error on new action:

> undefined method `model_name' for NilClass:Class

for the line in the form that says

    <%= fields_for @entree.vin.producteur do |producteur| %>

I guess that means the after_initialize callback doesn't act as I expect it. Is there something I'm missing? Also, I get the same error if I define a `after_initialize` method in the Vin model instead of definiing a callback.",1
7567586,09/27/2011 10:22:19,920796,08/31/2011 01:44:54,8,0,Webrat or Capybara?,I am using Ruby on Rails 3.1.0 and I would like to start writing some integration test. I heard about *Webrat* and *Capybara* gems... **what of those do you advice to use? why? what are advantages and disadvantages of both?**,ruby-on-rails,ruby,ruby-on-rails-3,capybara,webrat,09/27/2011 12:44:15,not constructive,1,40,3,Webrat or Capybara? I am using Ruby on Rails 3.1.0 and I would like to start writing some integration test. I heard about *Webrat* and *Capybara* gems... **what of those do you advice to use? why? what are advantages and disadvantages of both?**,5
10974378,06/11/2012 04:01:26,1376641,05/05/2012 10:45:03,3,0,Use JSON object returned from a URL in rails,"I am fetching some data from a site using it's API-key and some other parameters.I get the data in the form of a JSON object.Now my question is how to use this JSON object in my rails application,may be doing something like using an instance variable that stores the JSON object then create it's erb template which wold display the instance variable's array.I tried going through some of the solutions on stackoverflow but did not understand them properly, some more basic level help would be great.

Thanks,
Jimmy",ruby-on-rails,json,,,,,open,0,86,9,"Use JSON object returned from a URL in rails I am fetching some data from a site using it's API-key and some other parameters.I get the data in the form of a JSON object.Now my question is how to use this JSON object in my rails application,may be doing something like using an instance variable that stores the JSON object then create it's erb template which wold display the instance variable's array.I tried going through some of the solutions on stackoverflow but did not understand them properly, some more basic level help would be great.

Thanks,
Jimmy",2
11493453,07/15/2012 16:08:55,1527105,07/15/2012 15:53:57,1,0,Rails Non-Profilts,"There are plenty of Rails Consulting companies out there, but I haven't been able to find any non-profits that specialize in Rails work.  Anyone know of any?  

I don't mean for profit companies that serve mainly non profits, but non-profits that do pro bono (rails) software development for communities or groups that may need it.",ruby-on-rails,non-profit,,,,07/16/2012 10:54:55,off topic,1,57,2,"Rails Non-Profilts There are plenty of Rails Consulting companies out there, but I haven't been able to find any non-profits that specialize in Rails work.  Anyone know of any?  

I don't mean for profit companies that serve mainly non profits, but non-profits that do pro bono (rails) software development for communities or groups that may need it.",2
1965086,12/27/2009 03:46:42,198133,10/28/2009 14:07:37,8,0,no such file to load -- silentale-on-rails (new gem),"I've just completed a new open source gem for the Silentale API and I'm facing a strange issue. In terminal I'm getting an error saying that it can't load the gem however it continues to start the server loading it without any issues.

    no such file to load -- silentale-on-rails
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/gem_dependency.rb:208:in `load'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `each'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:164:in `process'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `send'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `run'
    /Users/nick/Projects/dummy_project/config/environment.rb:9
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:84
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    no such file to load -- silentale-on-rails
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/gem_dependency.rb:208:in `load'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `each'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:169:in `process'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `send'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `run'
    /Users/nick/Projects/dummy_project/config/environment.rb:9
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:84
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    => Call with -d to detach
    => Ctrl-C to shutdown server

Could anyone tell me what is going wrong here? The gem can be installed by the following if you want to look at the code and see what might be up;

    $ sudo gem install silentale-on-rails

Many thanks!

",ruby-on-rails,rubygems,ruby-on-rails-plugins,ruby,,,open,0,333,9,"no such file to load -- silentale-on-rails (new gem) I've just completed a new open source gem for the Silentale API and I'm facing a strange issue. In terminal I'm getting an error saying that it can't load the gem however it continues to start the server loading it without any issues.

    no such file to load -- silentale-on-rails
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/gem_dependency.rb:208:in `load'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `each'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:164:in `process'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `send'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `run'
    /Users/nick/Projects/dummy_project/config/environment.rb:9
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:84
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    no such file to load -- silentale-on-rails
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/rails/gem_dependency.rb:208:in `load'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `each'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:307:in `load_gems'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:169:in `process'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `send'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `run'
    /Users/nick/Projects/dummy_project/config/environment.rb:9
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:156:in `require'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:84
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    => Call with -d to detach
    => Ctrl-C to shutdown server

Could anyone tell me what is going wrong here? The gem can be installed by the following if you want to look at the code and see what might be up;

    $ sudo gem install silentale-on-rails

Many thanks!

",4
2012074,01/06/2010 09:55:43,120992,06/11/2009 00:45:23,23,0,How can I guess action name from url in Rails?,For example I have an *url* generated by `something_path` or `something_url` methods. I need to know action name from that *url*,ruby-on-rails,routing,,,,,open,0,21,10,How can I guess action name from url in Rails? For example I have an *url* generated by `something_path` or `something_url` methods. I need to know action name from that *url*,2
5183975,03/03/2011 17:04:43,578987,01/17/2011 19:44:34,1,1,Factory Girl - what's the purpose?,"This is less technical and more curiousity, but this has been killing me.

What's the purpose of Factory Girl in my rspec tests when I could simply use before(:each) blocks?  I'm **very** green with Rails, when I was going through the tutorial, it feels like the only difference between Factory Girl and a before(:each) is that the factory prepares object creation outside of the test.

Is this right?  I have this nagging feeling that I'm missing something.  I figured I'd ask seasoned RoR dev's for answers.",ruby-on-rails,ruby,factorygirl,factory-girl,,,open,0,87,6,"Factory Girl - what's the purpose? This is less technical and more curiousity, but this has been killing me.

What's the purpose of Factory Girl in my rspec tests when I could simply use before(:each) blocks?  I'm **very** green with Rails, when I was going through the tutorial, it feels like the only difference between Factory Girl and a before(:each) is that the factory prepares object creation outside of the test.

Is this right?  I have this nagging feeling that I'm missing something.  I figured I'd ask seasoned RoR dev's for answers.",4
5876881,05/03/2011 23:26:57,737078,05/03/2011 23:25:53,1,0,RubyOnRails sending params with form_remote_tag,"I know some will think that i should use form_tag with :remote=>true, but i don't know how to render an entire html output....

My problem is the following:

I have this form that sends a collection through 3 comboxes

    <%= form_remote_tag :url => report_client_reports_path, :update => :graphic do%>
    <%#= form_tag reporte_client_reports_path%>
     <p><%= label_tag :supermercados %>
     <%=select_tag ""supermercados[]"", options_from_collection_for_select(@supermercados, ""id"", ""name""),{:multiple=>true, :id => ""supermarkets""}%>
     </p>

      <p><%= label_tag :cortes %>
    <%=select_tag ""cortes[]"", options_from_collection_for_select(@cortes, ""corte_real"",""cuts""),{:multiple=>true, :id => ""cortes""}%>
     </p>

     <p><%= label_tag :productos %>
     <%= select_tag ""productos[]"", options_from_collection_for_select(@productos, ""id"", ""name""),{:multiple=>true, :id => ""products""}%>
    </p>


    <p><%= submit_tag 'Send' %></p>
    <%end%> 


If i uncommented this line:
    <%#= form_tag reporte_client_reports_path%>
It work good and present me the graph, but not the way i expect to work.


I have detected that using form_remote_tag, it sends all vars with their values, bu i dont know why my controller only see one value of each variable.


here is the controller:

      @super = params[:supermarkets]
      @superm = []
      @super.each do |s|
        @superm << Company.find(s).abbr
      end

      @cuts = params[:cuts]
      @prods = params[:products]
      @cortesGraph = []

      @cortess.to_a.each do |c|
       @cortesGraph  << ""#{RawData.find_by_real_cut(c).cuts}""
      end 


The objects @superm,@cuts and @products arent receving more than 1 value in the array, is a routing problem or a option i have missed in the form_remote_tag?",ruby-on-rails,ruby,ajax,routing,,,open,0,310,5,"RubyOnRails sending params with form_remote_tag I know some will think that i should use form_tag with :remote=>true, but i don't know how to render an entire html output....

My problem is the following:

I have this form that sends a collection through 3 comboxes

    <%= form_remote_tag :url => report_client_reports_path, :update => :graphic do%>
    <%#= form_tag reporte_client_reports_path%>
     <p><%= label_tag :supermercados %>
     <%=select_tag ""supermercados[]"", options_from_collection_for_select(@supermercados, ""id"", ""name""),{:multiple=>true, :id => ""supermarkets""}%>
     </p>

      <p><%= label_tag :cortes %>
    <%=select_tag ""cortes[]"", options_from_collection_for_select(@cortes, ""corte_real"",""cuts""),{:multiple=>true, :id => ""cortes""}%>
     </p>

     <p><%= label_tag :productos %>
     <%= select_tag ""productos[]"", options_from_collection_for_select(@productos, ""id"", ""name""),{:multiple=>true, :id => ""products""}%>
    </p>


    <p><%= submit_tag 'Send' %></p>
    <%end%> 


If i uncommented this line:
    <%#= form_tag reporte_client_reports_path%>
It work good and present me the graph, but not the way i expect to work.


I have detected that using form_remote_tag, it sends all vars with their values, bu i dont know why my controller only see one value of each variable.


here is the controller:

      @super = params[:supermarkets]
      @superm = []
      @super.each do |s|
        @superm << Company.find(s).abbr
      end

      @cuts = params[:cuts]
      @prods = params[:products]
      @cortesGraph = []

      @cortess.to_a.each do |c|
       @cortesGraph  << ""#{RawData.find_by_real_cut(c).cuts}""
      end 


The objects @superm,@cuts and @products arent receving more than 1 value in the array, is a routing problem or a option i have missed in the form_remote_tag?",4
7317242,09/06/2011 08:50:34,230293,12/12/2009 14:07:27,697,39,rails deployment- best way,"There are several ways with which a RoR application can be deployed.
What is the best way to deploy ruby on rails application?
Capistrano, normal svn checkout, git pull or any other tool ??",ruby-on-rails,ruby-on-rails-3,deployment,,,04/18/2012 12:07:57,not constructive,1,32,4,"rails deployment- best way There are several ways with which a RoR application can be deployed.
What is the best way to deploy ruby on rails application?
Capistrano, normal svn checkout, git pull or any other tool ??",3
4144286,11/10/2010 12:09:25,427499,08/22/2010 07:23:20,137,13,collection.build of nested attribute through a remote_link does not create params when submitting form,"I have the following model:

    class Activity < ActiveRecord::Base
      has_many  :clientships, :dependent => :destroy, :after_add => :default_client_info
      accepts_nested_attributes_for :clientships, :allow_destroy => true
    end

In my controller, if I perform the following

      def new
        @activity = IndividualActivity.new(params[:activity])
        @activity.clientships.build(:client => Client.first)
        ...
      end

and then save the form, it creates the relevant params and submits successfully.

However, if I chose to call the following through a remote link

    @activity.clientships.build(:client => Client.last)

the view is updated with the new clientship record but when I submit the form, the params[:activity] is not created for the second nested attribute.

**Does anyone know how I can troubleshoot this further?** I seem to have come to a dead-end with my debugging...

I am on rails v2.3.5

Thanks

",ruby-on-rails,,,,,,open,0,164,14,"collection.build of nested attribute through a remote_link does not create params when submitting form I have the following model:

    class Activity < ActiveRecord::Base
      has_many  :clientships, :dependent => :destroy, :after_add => :default_client_info
      accepts_nested_attributes_for :clientships, :allow_destroy => true
    end

In my controller, if I perform the following

      def new
        @activity = IndividualActivity.new(params[:activity])
        @activity.clientships.build(:client => Client.first)
        ...
      end

and then save the form, it creates the relevant params and submits successfully.

However, if I chose to call the following through a remote link

    @activity.clientships.build(:client => Client.last)

the view is updated with the new clientship record but when I submit the form, the params[:activity] is not created for the second nested attribute.

**Does anyone know how I can troubleshoot this further?** I seem to have come to a dead-end with my debugging...

I am on rails v2.3.5

Thanks

",1
3853551,10/04/2010 08:08:45,448413,06/09/2010 10:04:01,11,1, How do i delete mongrel temp files after compltion of upload,"Hii all,
         In my rails application am uploading some large file(1 Gb),and
when i go windows temp folder ,mongrel temporary files are gathering
there,but i would like these files to be deleted after upload
completes.
                                  Could anyone tell me how do that??


this is my ruby version:
ruby 1.8.6 (2007-09-24 patchlevel 111) [i386-mswin32]


Thanks..",ruby-on-rails,ruby,mongrel,,,,open,0,89,12," How do i delete mongrel temp files after compltion of upload Hii all,
         In my rails application am uploading some large file(1 Gb),and
when i go windows temp folder ,mongrel temporary files are gathering
there,but i would like these files to be deleted after upload
completes.
                                  Could anyone tell me how do that??


this is my ruby version:
ruby 1.8.6 (2007-09-24 patchlevel 111) [i386-mswin32]


Thanks..",3
5190853,03/04/2011 07:19:12,363503,06/10/2010 13:34:37,1270,85,Write routes with rails 2.3.11.,"Is there any other way to write this type of routes with rails 2.3.11?

  map.resources :tests, :collection => { :upload => :get, :upload_csv => :post, :export_csv => :get, :upload_backup_csv => :get, :sort_data => :post }",ruby-on-rails,,,,,03/05/2011 05:18:46,not a real question,1,36,5,"Write routes with rails 2.3.11. Is there any other way to write this type of routes with rails 2.3.11?

  map.resources :tests, :collection => { :upload => :get, :upload_csv => :post, :export_csv => :get, :upload_backup_csv => :get, :sort_data => :post }",1
4353637,12/04/2010 13:10:30,39677,11/03/2008 21:48:03,7350,5,"Running rake db:setup on server, how to change to production mode?","Running rake db:setup on server, how to change to production mode?

I am SSH'd into the server (nginx, ubuntu, passenger)",ruby-on-rails,,,,,,open,0,19,11,"Running rake db:setup on server, how to change to production mode? Running rake db:setup on server, how to change to production mode?

I am SSH'd into the server (nginx, ubuntu, passenger)",1
9848427,03/24/2012 01:43:40,1247509,02/06/2012 22:16:41,407,7,Rails Book Suggestions,"I'm looking to learn Ruby on Rails. I already have a small background in Ruby and don't really need a book that covers both, as I ordered the Pickaxe Book a couple days ago. I recently read some of Beginning Ruby on Rails-Steven Holzner, but abandoned that after seeing multiple statements on SO about how terrible the code in it was, and also the fact that it used Rails 1...Just wondering, what is the best book for an ABSOLUTE BEGINNER in Rails? ",ruby-on-rails,ruby,books,,,03/27/2012 20:26:30,not constructive,1,83,3,"Rails Book Suggestions I'm looking to learn Ruby on Rails. I already have a small background in Ruby and don't really need a book that covers both, as I ordered the Pickaxe Book a couple days ago. I recently read some of Beginning Ruby on Rails-Steven Holzner, but abandoned that after seeing multiple statements on SO about how terrible the code in it was, and also the fact that it used Rails 1...Just wondering, what is the best book for an ABSOLUTE BEGINNER in Rails? ",3
4065580,10/31/2010 22:52:15,39677,11/03/2008 21:48:03,7104,5,should I be using 1.9.2 or 1.8.7 for rails 3.0 production apps?,"I'm currently using 1.9.2 with rails 3, and I ran into a snag with ruby-debug.

Should I be using 1.8.7 to be more on the safe side with rails 3?

I'm new to rails, and I want to stay away from hackish workarounds or configuration nightmares.

(I'm using rvm)",ruby-on-rails,,,,,,open,0,46,12,"should I be using 1.9.2 or 1.8.7 for rails 3.0 production apps? I'm currently using 1.9.2 with rails 3, and I ran into a snag with ruby-debug.

Should I be using 1.8.7 to be more on the safe side with rails 3?

I'm new to rails, and I want to stay away from hackish workarounds or configuration nightmares.

(I'm using rvm)",1
6788778,07/22/2011 10:36:43,222151,12/01/2009 14:31:28,403,16,Creating custom login forms,"I'm trying to create custom form with some custom submit code. I am using devise to sign people in. I'm creating the opportunity for people to create a session with a nickname without creating a permanent user account. I'm trying to work out, where do I need to put my code for the:
*ERB
*Rails

I don't believe I need to create more controllers using generate, but I'm not sure where to put the stuff without this to help.",ruby-on-rails,,,,,,open,0,76,4,"Creating custom login forms I'm trying to create custom form with some custom submit code. I am using devise to sign people in. I'm creating the opportunity for people to create a session with a nickname without creating a permanent user account. I'm trying to work out, where do I need to put my code for the:
*ERB
*Rails

I don't believe I need to create more controllers using generate, but I'm not sure where to put the stuff without this to help.",1
5138989,02/28/2011 06:46:32,502052,11/09/2010 15:12:23,523,8,Trouble setting SSL certificates in order to make HTTPS requests using Apache\Phusion Passenger and Virtual Hosts in localhost,"I am using Ruby on Rails 3 and I would like to make to work HTTPS connections on *localhost*.

I am using:

- Apache v2 + Phusion Passenger
- Mac OS + Snow Leopard v10.6.6

My Ruby on Rails installation use the [Typhoeus gem][1] (it is possible to use the Ruby net\http library but the result doesn't change) to make HTTP requests over HTTPS.

I created self-signed *ca.key*, *pjtname.crt* and *pjtname.key* as [detailed on the Apple website][2].

*Notice*: Following instruction from the Apple website, on running the `openssl req -new -key server.key -out server.csr` command (see the link) at this point 

    Common Name (eg, YOUR name) []: (this is the important one)

I entered `*pjtname.com` so that is valid for all sub_domain of that site.


----------


In my Apache `httpd.conf` I have two virtual hosts configured in this way:


    # Secure (SSL/TLS) connections
    #Include /private/etc/apache2/extra/httpd-ssl.conf
    #
    # Note: The following must must be present to support
    #       starting without SSL on platforms with no /dev/random equivalent
    #       but a statically compiled-in mod_ssl.
    #
    <IfModule ssl_module>
    SSLRandomSeed startup builtin
    SSLRandomSeed connect builtin
    </IfModule>
    
    Include /private/etc/apache2/other/*.conf
    

    
    # Passenger configuration
       LoadModule passenger_module /Users/<my_user_name>/.rvm/gems/ruby-1.9.2-p136/gems/passenger-3.0.2/ext/apache2/mod_passenger.so
       PassengerRoot /Users/<my_user_name>/.rvm/gems/ruby-1.9.2-p136/gems/passenger-3.0.2
       PassengerRuby /Users/<my_user_name>/.rvm/wrappers/ruby-1.9.2-p136/ruby
    
    
    
    
    # Go ahead and accept connections for these vhosts
    # from non-SNI clients
    SSLStrictSNIVHostCheck off
    
    
    # Ensure that Apache listens on port 443
    Listen 443
    
    # Listen for virtual host requests on all IP addresses
    NameVirtualHost *:80
    NameVirtualHost *:443
    
    
    
    #
    # PJTNAME.COM and subdomains SETTING
    #
    
    
    
    <VirtualHost *:443>
      # Because this virtual host is defined first, it will
      # be used as the default if the hostname is not received
      # in the SSL handshake, e.g. if the browser doesn't support
      # SNI.
    
      ServerName pjtname.com:443
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public""
    
      ServerAdmin you@example.com
      ErrorLog ""/private/var/log/apache2/error_log""
      TransferLog ""/private/var/log/apache2/access_log""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    
      # SSL Configuration
      SSLEngine on
    
      # Self Signed certificates
      # Server Certificate
      SSLCertificateFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.crt
      # Server Private Key
      SSLCertificateKeyFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.key
      # Server Intermediate Bundle
      SSLCertificateChainFile /private/etc/apache2/ssl/wildcard.certificate/ca.crt
    </VirtualHost>
    
    # HTTP Setting
    <VirtualHost *:80>
      ServerName pjtname.com
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    </VirtualHost>
    
    
    
    
    <VirtualHost *:443>
      ServerName users.pjtname.com:443
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public""
    
      ServerAdmin you@example.com
      ErrorLog ""/private/var/log/apache2/error_log""
      TransferLog ""/private/var/log/apache2/access_log""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    
      # SSL Configuration
      SSLEngine on
    
      # Self Signed certificates
      # Server Certificate
      SSLCertificateFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.crt
      # Server Private Key
      SSLCertificateKeyFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.key
      # Server Intermediate Bundle
      SSLCertificateChainFile /private/etc/apache2/ssl/wildcard.certificate/ca.crt
    </VirtualHost>
    
    # HTTP Setting
    <VirtualHost *:80>
      ServerName users.pjtname.com
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    </VirtualHost>
 

All seems to work properly, but when I make a request (using Typhoeus - I can use also the Ruby Net::Http library and the result doesn't change) from the `pjtname.com` RoR application:

    # Typhoeus request
    Typhoeus::Request.get(""https://users.pjtname.com/"")

I get something like a warning about the certificate:

    --- &id001 !ruby/object:Typhoeus::Response 
    app_connect_time: 0.0
    body: """"
    code: 0
    connect_time: 0.000625

    # Here is the warning
    curl_error_message: Peer certificate cannot be authenticated with known CA certificates

    curl_return_code: 60
    effective_url: https://users.pjtname.com/
    headers: """"
    http_version: 
    mock: false
    name_lookup_time: 0.000513
    pretransfer_time: 0.0
    request: !ruby/object:Typhoeus::Request 
      after_complete: 
      auth_method: 
      body: 
      ...


All this means that something is wrong. So, **what I have to do to avoid the ""Peer certificate cannot be authenticated with known CA certificates"" warning and make the HTTPS connection to work? Where is\are the error\errors?**

P.S.: if you need some more info, let me know.


  [1]: https://github.com/dbalatero/typhoeus
  [2]: http://developer.apple.com/internet/serverside/modssl.html",ruby-on-rails,ruby,apache,ruby-on-rails-3,ssl,,open,0,1201,18,"Trouble setting SSL certificates in order to make HTTPS requests using Apache\Phusion Passenger and Virtual Hosts in localhost I am using Ruby on Rails 3 and I would like to make to work HTTPS connections on *localhost*.

I am using:

- Apache v2 + Phusion Passenger
- Mac OS + Snow Leopard v10.6.6

My Ruby on Rails installation use the [Typhoeus gem][1] (it is possible to use the Ruby net\http library but the result doesn't change) to make HTTP requests over HTTPS.

I created self-signed *ca.key*, *pjtname.crt* and *pjtname.key* as [detailed on the Apple website][2].

*Notice*: Following instruction from the Apple website, on running the `openssl req -new -key server.key -out server.csr` command (see the link) at this point 

    Common Name (eg, YOUR name) []: (this is the important one)

I entered `*pjtname.com` so that is valid for all sub_domain of that site.


----------


In my Apache `httpd.conf` I have two virtual hosts configured in this way:


    # Secure (SSL/TLS) connections
    #Include /private/etc/apache2/extra/httpd-ssl.conf
    #
    # Note: The following must must be present to support
    #       starting without SSL on platforms with no /dev/random equivalent
    #       but a statically compiled-in mod_ssl.
    #
    <IfModule ssl_module>
    SSLRandomSeed startup builtin
    SSLRandomSeed connect builtin
    </IfModule>
    
    Include /private/etc/apache2/other/*.conf
    

    
    # Passenger configuration
       LoadModule passenger_module /Users/<my_user_name>/.rvm/gems/ruby-1.9.2-p136/gems/passenger-3.0.2/ext/apache2/mod_passenger.so
       PassengerRoot /Users/<my_user_name>/.rvm/gems/ruby-1.9.2-p136/gems/passenger-3.0.2
       PassengerRuby /Users/<my_user_name>/.rvm/wrappers/ruby-1.9.2-p136/ruby
    
    
    
    
    # Go ahead and accept connections for these vhosts
    # from non-SNI clients
    SSLStrictSNIVHostCheck off
    
    
    # Ensure that Apache listens on port 443
    Listen 443
    
    # Listen for virtual host requests on all IP addresses
    NameVirtualHost *:80
    NameVirtualHost *:443
    
    
    
    #
    # PJTNAME.COM and subdomains SETTING
    #
    
    
    
    <VirtualHost *:443>
      # Because this virtual host is defined first, it will
      # be used as the default if the hostname is not received
      # in the SSL handshake, e.g. if the browser doesn't support
      # SNI.
    
      ServerName pjtname.com:443
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public""
    
      ServerAdmin you@example.com
      ErrorLog ""/private/var/log/apache2/error_log""
      TransferLog ""/private/var/log/apache2/access_log""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    
      # SSL Configuration
      SSLEngine on
    
      # Self Signed certificates
      # Server Certificate
      SSLCertificateFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.crt
      # Server Private Key
      SSLCertificateKeyFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.key
      # Server Intermediate Bundle
      SSLCertificateChainFile /private/etc/apache2/ssl/wildcard.certificate/ca.crt
    </VirtualHost>
    
    # HTTP Setting
    <VirtualHost *:80>
      ServerName pjtname.com
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    </VirtualHost>
    
    
    
    
    <VirtualHost *:443>
      ServerName users.pjtname.com:443
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public""
    
      ServerAdmin you@example.com
      ErrorLog ""/private/var/log/apache2/error_log""
      TransferLog ""/private/var/log/apache2/access_log""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    
      # SSL Configuration
      SSLEngine on
    
      # Self Signed certificates
      # Server Certificate
      SSLCertificateFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.crt
      # Server Private Key
      SSLCertificateKeyFile /private/etc/apache2/ssl/wildcard.certificate/pjtname.key
      # Server Intermediate Bundle
      SSLCertificateChainFile /private/etc/apache2/ssl/wildcard.certificate/ca.crt
    </VirtualHost>
    
    # HTTP Setting
    <VirtualHost *:80>
      ServerName users.pjtname.com
      DocumentRoot ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public""
    
      RackEnv development
    
      <Directory ""/Users/<my_user_name>/Sites/pjtname.com/users.pjtname.com/public"">
        Order allow,deny
        Allow from all
      </Directory>
    </VirtualHost>
 

All seems to work properly, but when I make a request (using Typhoeus - I can use also the Ruby Net::Http library and the result doesn't change) from the `pjtname.com` RoR application:

    # Typhoeus request
    Typhoeus::Request.get(""https://users.pjtname.com/"")

I get something like a warning about the certificate:

    --- &id001 !ruby/object:Typhoeus::Response 
    app_connect_time: 0.0
    body: """"
    code: 0
    connect_time: 0.000625

    # Here is the warning
    curl_error_message: Peer certificate cannot be authenticated with known CA certificates

    curl_return_code: 60
    effective_url: https://users.pjtname.com/
    headers: """"
    http_version: 
    mock: false
    name_lookup_time: 0.000513
    pretransfer_time: 0.0
    request: !ruby/object:Typhoeus::Request 
      after_complete: 
      auth_method: 
      body: 
      ...


All this means that something is wrong. So, **what I have to do to avoid the ""Peer certificate cannot be authenticated with known CA certificates"" warning and make the HTTPS connection to work? Where is\are the error\errors?**

P.S.: if you need some more info, let me know.


  [1]: https://github.com/dbalatero/typhoeus
  [2]: http://developer.apple.com/internet/serverside/modssl.html",5
1619611,10/25/2009 00:38:20,196042,10/25/2009 00:38:20,1,0,Best rails plugin for comments?,"What is the best plugin or gem for adding comments to the ActiveRecord models in rails?

Maybe there is one with ability to rate each comments with votes +1/-1 (like on youtube for example) and a cool view helper to display comments in a tree?",ruby-on-rails,plugins,gem,comments,,09/11/2011 23:07:53,not constructive,1,44,5,"Best rails plugin for comments? What is the best plugin or gem for adding comments to the ActiveRecord models in rails?

Maybe there is one with ability to rate each comments with votes +1/-1 (like on youtube for example) and a cool view helper to display comments in a tree?",4
3898948,10/10/2010 03:52:54,149080,08/01/2009 21:00:20,1082,21,rails 3 - given XXX.created_at - How to output the 3 digit month + Day,"Give a model.created_at

I've been able to use: 

    <%=""#{time_ago_in_words(model.created_at)} ago ""%>

What is the helper to output something like

 - Oct 8
 - Sep 23
 - Aug 31
 - Jul 11

Bonus points, if it outputs like above, but for any records that were created today (not 24hrs ago but today). it shows the time, example:

 - 4:31pm
 - 1:20pm
 - 9:31am
 - Oct 8
 - Sep 23
 - Aug 31
 - Jul 11


Thanks

",ruby-on-rails,ruby-on-rails-3,,,,,open,0,75,15,"rails 3 - given XXX.created_at - How to output the 3 digit month + Day Give a model.created_at

I've been able to use: 

    <%=""#{time_ago_in_words(model.created_at)} ago ""%>

What is the helper to output something like

 - Oct 8
 - Sep 23
 - Aug 31
 - Jul 11

Bonus points, if it outputs like above, but for any records that were created today (not 24hrs ago but today). it shows the time, example:

 - 4:31pm
 - 1:20pm
 - 9:31am
 - Oct 8
 - Sep 23
 - Aug 31
 - Jul 11


Thanks

",2
6919379,08/02/2011 22:17:24,99877,05/02/2009 14:53:23,486,15,Rails 3 helper_method,"I have setup a helper method within the application controller ie.

    class ApplicationController < ActionController::Base
    
      # Helpers
      helper_method :current_user
    
      # Private Methods
      private
    
      def current_user
        @current_user ||= Tester.find(session[:user_id]) if session[:user_id]
      end
    
    end

If I try to access to current_user variable within a view im getting an error

    #code
    Welcome <%=@current_user.first_name%>
    
    #error
    undefined method `first_name' for nil:NilClass


I know the session is good. Is this the correct was to access to current_user ?

Thanks for the help
",ruby-on-rails,ruby-on-rails-3,,,,,open,0,148,3,"Rails 3 helper_method I have setup a helper method within the application controller ie.

    class ApplicationController < ActionController::Base
    
      # Helpers
      helper_method :current_user
    
      # Private Methods
      private
    
      def current_user
        @current_user ||= Tester.find(session[:user_id]) if session[:user_id]
      end
    
    end

If I try to access to current_user variable within a view im getting an error

    #code
    Welcome <%=@current_user.first_name%>
    
    #error
    undefined method `first_name' for nil:NilClass


I know the session is good. Is this the correct was to access to current_user ?

Thanks for the help
",2
8430675,12/08/2011 11:56:44,1008222,10/22/2011 06:07:13,809,93,how to set working the Words - interface to WordNet® with cross ruby distribution compatability,I want to use words for my application. How to set all the essential prerequisites to get this done aprt from installing the gem.,ruby-on-rails,ruby,ruby-on-rails-3,rubygems,ruby-on-rails-3.1,12/08/2011 16:49:01,not a real question,1,24,15,how to set working the Words - interface to WordNet® with cross ruby distribution compatability I want to use words for my application. How to set all the essential prerequisites to get this done aprt from installing the gem.,5
11068083,06/17/2012 00:38:57,164431,08/27/2009 18:41:54,450,5,Rails 3.1 to 3.2.6 upgrade - asset_sync error,"Making lots of progress in a rails 3.1 to 3.2.6 upgrade for a Heroku app.

I use asset_sync and precompile assets onto S3. I use the asset_sync.rb initialiser to config my S3 connection details.

Getting an error when I attempt to run 

    RAILS_ENV=production bundle exec rake assets:precompile

    AssetSync: using /Users/bob/work/myapp/config/initializers/asset_sync.rb
    rake aborted!
    could not connect to server: Permission denied
    	Is the server running locally and accepting
    	connections on Unix domain socket ""/var/pgsql_socket/.s.PGSQL.5432""?
    
    Tasks: TOP => environment
    (See full trace by running task with --trace)
    rake aborted!
    Command failed with status (1): [/Users/bob/.rvm/rubies/ruby-1.9.3-p...]

That's very strange. I checked that it *is* listening as per http://stackoverflow.com/questions/10791904/postgres-permission-denied-on-mac-os-x that question and related comments.
",ruby-on-rails,heroku,amazon-s3,assets,,,open,0,141,8,"Rails 3.1 to 3.2.6 upgrade - asset_sync error Making lots of progress in a rails 3.1 to 3.2.6 upgrade for a Heroku app.

I use asset_sync and precompile assets onto S3. I use the asset_sync.rb initialiser to config my S3 connection details.

Getting an error when I attempt to run 

    RAILS_ENV=production bundle exec rake assets:precompile

    AssetSync: using /Users/bob/work/myapp/config/initializers/asset_sync.rb
    rake aborted!
    could not connect to server: Permission denied
    	Is the server running locally and accepting
    	connections on Unix domain socket ""/var/pgsql_socket/.s.PGSQL.5432""?
    
    Tasks: TOP => environment
    (See full trace by running task with --trace)
    rake aborted!
    Command failed with status (1): [/Users/bob/.rvm/rubies/ruby-1.9.3-p...]

That's very strange. I checked that it *is* listening as per http://stackoverflow.com/questions/10791904/postgres-permission-denied-on-mac-os-x that question and related comments.
",4
2262773,02/14/2010 21:07:04,99694,05/02/2009 00:59:25,422,6,Is it easy to switch from relational to non-relational databases with Rails?,"Good day,

I have been using Rails/Mysql for the past while but I have been hearing about Cassandra, MongoDB, CouchDB and other document-store DB/Non-relational databases. I'm planning to explore them later as they might be better alternative for  scalability.

I'm planning to start an application soon. Will it make a different with Rails design if I move from relational to non-relational database? I know Rails migrations are database-agnostic but wasn't sure if moving to non-relational will make difference with design or not.",ruby-on-rails,database-design,relational-database,non-relational-database,,,open,0,81,12,"Is it easy to switch from relational to non-relational databases with Rails? Good day,

I have been using Rails/Mysql for the past while but I have been hearing about Cassandra, MongoDB, CouchDB and other document-store DB/Non-relational databases. I'm planning to explore them later as they might be better alternative for  scalability.

I'm planning to start an application soon. Will it make a different with Rails design if I move from relational to non-relational database? I know Rails migrations are database-agnostic but wasn't sure if moving to non-relational will make difference with design or not.",4
4905781,02/05/2011 08:01:52,474403,10/13/2010 11:41:27,1,0,RoR nested categories,"I wonder how to make url like: site.com/coding/ruby/rails/article-name 
As you can see there is nested category. I've already looked at acts-as-tree and awesome nested sets, but it makes urls like site.com/rails/article-name.

So, please help me",ruby-on-rails,ruby-on-rails-3,nested,url-routing,,,open,0,34,3,"RoR nested categories I wonder how to make url like: site.com/coding/ruby/rails/article-name 
As you can see there is nested category. I've already looked at acts-as-tree and awesome nested sets, but it makes urls like site.com/rails/article-name.

So, please help me",4
11699353,07/28/2012 08:07:46,1452409,06/12/2012 22:43:27,92,2,Many to Many join table validations,"How can uniqueness validated on a many or many association?

A User can be on many Teams and Many Teams can have a User. But how do you stop a user added to the same team twice?

",ruby-on-rails,validation,activerecord,,,,open,0,36,6,"Many to Many join table validations How can uniqueness validated on a many or many association?

A User can be on many Teams and Many Teams can have a User. But how do you stop a user added to the same team twice?

",3
7167407,08/23/2011 20:54:14,904319,08/21/2011 04:56:20,13,0,How to a set a variable for a rails gem?,"Hello I want to set the following:

    AssetHash::Base.asset_paths = ['assets']

as seen here: https://github.com/donaldpiret/asset_hash

I added it to an initializer, to environment.rb but it never takes effect. Here's the actually gem source for this: https://github.com/donaldpiret/asset_hash/blob/master/lib/asset_hash.rb

Can you please help me understand where I can set this config option?

Thanks",ruby-on-rails,ruby-on-rails-3,rubygems,,,,open,0,48,10,"How to a set a variable for a rails gem? Hello I want to set the following:

    AssetHash::Base.asset_paths = ['assets']

as seen here: https://github.com/donaldpiret/asset_hash

I added it to an initializer, to environment.rb but it never takes effect. Here's the actually gem source for this: https://github.com/donaldpiret/asset_hash/blob/master/lib/asset_hash.rb

Can you please help me understand where I can set this config option?

Thanks",3
5334554,03/17/2011 03:26:17,576667,01/15/2011 11:16:15,63,6,Restrict paperclip for fixed dimensions,"How can restrict/ validate paperclip for uploading image with fixed dimentions.

I want to upload image with a fixed dimensions else it should show an error displaying that the size is not proper and upload it with fixed size",ruby-on-rails,paperclip,,,,,open,0,38,5,"Restrict paperclip for fixed dimensions How can restrict/ validate paperclip for uploading image with fixed dimentions.

I want to upload image with a fixed dimensions else it should show an error displaying that the size is not proper and upload it with fixed size",2
1097370,07/08/2009 10:59:35,42404,12/02/2008 10:36:59,4494,244,How on earth is this rails query working?,"I have just optimised some Ruby code that was in a controller method, replacing it with a direct database query. The replacement appears to work and is much faster. Thing is, I've no idea how Rails managed to figure out the correct query to use! 

The purpose of the query is to work out tag counts for Place models within a certain distance of a given latitude and longitude. The distance part is handled by the *GeoKit* plugin (which basically adds convenience methods to add the appropriate trigonometry calculations to the select), and the tagging part is done by the *acts_as_taggable_on_steroids* plugin, which uses a polymorphic association. 

Below is the original code:

    places = Place.find(:all, :origin=>latlng, :order=>'distance asc', :within=>distance, :limit=>200)
    tag_counts = MyTag.tagcounts(places)
    deep_tag_counts=Array.new()
    tag_counts.each do |tag|
      count=Place.find_tagged_with(tag.name,:origin=>latlng, :order=>'distance asc', :within=>distance, :limit=>200).size
      deep_tag_counts<<{:name=>tag.name,:count=>count}
    end

where the MyTag class implements this:

      def MyTag.tagcounts(places)
        alltags = places.collect {|p| p.tags}.flatten.sort_by(&:name)
        lasttag=nil;
        tagcount=0;
        result=Array.new
        alltags.each do |tag| 
          unless (lasttag==nil || lasttag.name==tag.name) 
            result << MyTag.new(lasttag,tagcount)
            tagcount=0
          end
          tagcount=tagcount+1
          lasttag=tag
        end
        unless lasttag==nil then 
          result << MyTag.new(lasttag,tagcount)
        end
        result
      end

This was my (very ugly) first attempt as I originally found it difficult to come up with the right rails incantations to get this done in SQL. The new replacement is this single line:

    deep_tag_counts=Place.find(:all,:select=>'name,count(*) as count',:origin=>latlng,:within=>distance,:joins=>:tags, :group=>:tag_id)

Which results in an SQL query like this:

    SELECT name,count(*) as count, (ACOS(least(1,COS(0.897378837271255)*COS(-0.0153398733287034)*COS(RADIANS(places.lat))*COS(RADIANS(places.lng))+
     COS(0.897378837271255)*SIN(-0.0153398733287034)*COS(RADIANS(places.lat))*SIN(RADIANS(places.lng))+
     SIN(0.897378837271255)*SIN(RADIANS(places.lat))))*3963.19)
     AS distance FROM `places` INNER JOIN `taggings` ON (`places`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Place') INNER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (places.lat>50.693170735732 AND places.lat<52.1388692642679 AND places.lng>-2.03785525810908 AND places.lng<0.280035258109084 AND (ACOS(least(1,COS(0.897378837271255)*COS(-0.0153398733287034)*COS(RADIANS(places.lat))*COS(RADIANS(places.lng))+
     COS(0.897378837271255)*SIN(-0.0153398733287034)*COS(RADIANS(places.lat))*SIN(RADIANS(places.lng))+
     SIN(0.897378837271255)*SIN(RADIANS(places.lat))))*3963.19)
     <= 50) GROUP BY tag_id

Ignoring the trig (which is from GeoKit, and results from the :within and :origin parameters), what I can't figure out about this is how on earth Rails was able to figure out from the instruction to join 'tags', that it had to involve 'taggings' in the JOIN (which it does, as there is no direct way to join the places and tags tables), and also that it had to use the polymorphic stuff. 

In other words, how the heck did it (correctly) come up with this bit:

    INNER JOIN `taggings` ON (`places`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Place') INNER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`)

...given that I never mentioned the taggings table in the code! Digging into the taggable plugin, the only clue that Rails has seems to be this:

    class Tag < ActiveRecord::Base
      has_many :taggings, :dependent=>:destroy
    
    ...
    end

Anybody able to give some insight into the magic going on under the hood here?",ruby-on-rails,,,,,,open,0,634,8,"How on earth is this rails query working? I have just optimised some Ruby code that was in a controller method, replacing it with a direct database query. The replacement appears to work and is much faster. Thing is, I've no idea how Rails managed to figure out the correct query to use! 

The purpose of the query is to work out tag counts for Place models within a certain distance of a given latitude and longitude. The distance part is handled by the *GeoKit* plugin (which basically adds convenience methods to add the appropriate trigonometry calculations to the select), and the tagging part is done by the *acts_as_taggable_on_steroids* plugin, which uses a polymorphic association. 

Below is the original code:

    places = Place.find(:all, :origin=>latlng, :order=>'distance asc', :within=>distance, :limit=>200)
    tag_counts = MyTag.tagcounts(places)
    deep_tag_counts=Array.new()
    tag_counts.each do |tag|
      count=Place.find_tagged_with(tag.name,:origin=>latlng, :order=>'distance asc', :within=>distance, :limit=>200).size
      deep_tag_counts<<{:name=>tag.name,:count=>count}
    end

where the MyTag class implements this:

      def MyTag.tagcounts(places)
        alltags = places.collect {|p| p.tags}.flatten.sort_by(&:name)
        lasttag=nil;
        tagcount=0;
        result=Array.new
        alltags.each do |tag| 
          unless (lasttag==nil || lasttag.name==tag.name) 
            result << MyTag.new(lasttag,tagcount)
            tagcount=0
          end
          tagcount=tagcount+1
          lasttag=tag
        end
        unless lasttag==nil then 
          result << MyTag.new(lasttag,tagcount)
        end
        result
      end

This was my (very ugly) first attempt as I originally found it difficult to come up with the right rails incantations to get this done in SQL. The new replacement is this single line:

    deep_tag_counts=Place.find(:all,:select=>'name,count(*) as count',:origin=>latlng,:within=>distance,:joins=>:tags, :group=>:tag_id)

Which results in an SQL query like this:

    SELECT name,count(*) as count, (ACOS(least(1,COS(0.897378837271255)*COS(-0.0153398733287034)*COS(RADIANS(places.lat))*COS(RADIANS(places.lng))+
     COS(0.897378837271255)*SIN(-0.0153398733287034)*COS(RADIANS(places.lat))*SIN(RADIANS(places.lng))+
     SIN(0.897378837271255)*SIN(RADIANS(places.lat))))*3963.19)
     AS distance FROM `places` INNER JOIN `taggings` ON (`places`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Place') INNER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (places.lat>50.693170735732 AND places.lat<52.1388692642679 AND places.lng>-2.03785525810908 AND places.lng<0.280035258109084 AND (ACOS(least(1,COS(0.897378837271255)*COS(-0.0153398733287034)*COS(RADIANS(places.lat))*COS(RADIANS(places.lng))+
     COS(0.897378837271255)*SIN(-0.0153398733287034)*COS(RADIANS(places.lat))*SIN(RADIANS(places.lng))+
     SIN(0.897378837271255)*SIN(RADIANS(places.lat))))*3963.19)
     <= 50) GROUP BY tag_id

Ignoring the trig (which is from GeoKit, and results from the :within and :origin parameters), what I can't figure out about this is how on earth Rails was able to figure out from the instruction to join 'tags', that it had to involve 'taggings' in the JOIN (which it does, as there is no direct way to join the places and tags tables), and also that it had to use the polymorphic stuff. 

In other words, how the heck did it (correctly) come up with this bit:

    INNER JOIN `taggings` ON (`places`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Place') INNER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`)

...given that I never mentioned the taggings table in the code! Digging into the taggable plugin, the only clue that Rails has seems to be this:

    class Tag < ActiveRecord::Base
      has_many :taggings, :dependent=>:destroy
    
    ...
    end

Anybody able to give some insight into the magic going on under the hood here?",1
6825759,07/26/2011 05:43:50,845730,07/15/2011 03:04:06,8,0,How to creating an in-place editable form for embedded documents using mongoid in Rails3?,"I have two models User(main document) and Contact(embedded document in User). I'm showing a list of contacts when displaying a user. I was wondering if there is a suggested way of creating an in place editable form for all the contacts that are shown on the same page.

Really appreciate an sort of examples. ",ruby-on-rails,mongodb,embedded,views,mongoid,,open,0,54,14,"How to creating an in-place editable form for embedded documents using mongoid in Rails3? I have two models User(main document) and Contact(embedded document in User). I'm showing a list of contacts when displaying a user. I was wondering if there is a suggested way of creating an in place editable form for all the contacts that are shown on the same page.

Really appreciate an sort of examples. ",5
7483065,09/20/2011 09:36:38,953540,09/19/2011 21:04:04,1,0,Handling non-existent routes in Rails 3.1 application,"I just switched to rails not long ago and I'm loving it. Everything works well in my rails 3.1 application, but now at the end I want to somehow handle routes like www.myapp.com/something (off course, I dont have something controller). I get a routing error when I visit this page, but I was wandering if there was a way to do something about it, even if it's only redirecting these routes to my root_url. I tried to find the answer online with no luck.",ruby-on-rails,ruby,routing,,,,open,0,84,7,"Handling non-existent routes in Rails 3.1 application I just switched to rails not long ago and I'm loving it. Everything works well in my rails 3.1 application, but now at the end I want to somehow handle routes like www.myapp.com/something (off course, I dont have something controller). I get a routing error when I visit this page, but I was wandering if there was a way to do something about it, even if it's only redirecting these routes to my root_url. I tried to find the answer online with no luck.",3
2261093,02/14/2010 12:47:09,241287,12/31/2009 01:36:57,21,2,File upload timeouts with Ruby on Rails and apache,"I have a rails application running under 2.3.4 and Ubuntu. I'm using passenger.

I have had complaints when users try to upload large files (>300MB). For my part, I can do it just fine, but I have a very fast internet connection.

What's more puzzling is the behavior they see on their end. At some point into the process the upload process appears to hang. They don't receive an error, but if they look at their network traffic, nothing is happening.

Is this possibly an apache setting? Or could it be something on their end? Any suggestions on where I should look would be greatly appreciated.

Bob",ruby-on-rails,file-upload,timeout,,,,open,0,103,9,"File upload timeouts with Ruby on Rails and apache I have a rails application running under 2.3.4 and Ubuntu. I'm using passenger.

I have had complaints when users try to upload large files (>300MB). For my part, I can do it just fine, but I have a very fast internet connection.

What's more puzzling is the behavior they see on their end. At some point into the process the upload process appears to hang. They don't receive an error, but if they look at their network traffic, nothing is happening.

Is this possibly an apache setting? Or could it be something on their end? Any suggestions on where I should look would be greatly appreciated.

Bob",3
7679349,10/06/2011 19:20:26,982827,10/06/2011 18:59:20,1,0,How can i use rake cache and is it in rails 3.1?,"Is rake-cache a default gem in rails 3.1? I'm interesting in proxy cashing so how can i write my code for using it? Can i write code for browser caching and will it work with proxy cashing? 

P.S. Sorry for my English!",ruby-on-rails,rack-cache,,,,,open,0,42,12,"How can i use rake cache and is it in rails 3.1? Is rake-cache a default gem in rails 3.1? I'm interesting in proxy cashing so how can i write my code for using it? Can i write code for browser caching and will it work with proxy cashing? 

P.S. Sorry for my English!",2
11373344,07/07/2012 07:57:25,382906,07/04/2010 01:40:57,2807,68,Twitter Bootstrap and gmaps4rails,"I have the following view code and it dynamically adjusts its size for mobile phone as well as the desktop. However the map doesn't change size. Is there a way to make it so that the map changes size dynamically to fit on the phone/tablet/desktop using bootstrap? (see below)

    .row
      .span6.offset3
        .well
          = gmaps4rails(@maps_json)

![enter image description here][1]


  [1]: http://i.stack.imgur.com/k02jK.png",ruby-on-rails,gmaps4rails,bootstrap,,,,open,0,84,4,"Twitter Bootstrap and gmaps4rails I have the following view code and it dynamically adjusts its size for mobile phone as well as the desktop. However the map doesn't change size. Is there a way to make it so that the map changes size dynamically to fit on the phone/tablet/desktop using bootstrap? (see below)

    .row
      .span6.offset3
        .well
          = gmaps4rails(@maps_json)

![enter image description here][1]


  [1]: http://i.stack.imgur.com/k02jK.png",3
7069208,08/15/2011 18:47:13,42595,12/02/2008 19:47:03,4854,73,What's Rails 3 got that Rails 2 aint got? (And should I learn it?),"# Background

I've written several production apps using Rails 2. I've gotten comfortable with it. I kind of have my Rails 2 routine down.

However, now I face a dilemma.

I have two new apps to write immediately.

Rails 3 has been out for a while now, and I wonder if it's time to get a book, invest some weekends and evenings, and start coding these and any further apps using Rails 3.

The things I write are usually stuff like ""take our equipment inventory that's in MS Access and make a Web app of it,"" or ""write an app that lets the secretaries post PDFs to our website and attach notations to them."" (Those are made-up examples to give you an idea -- not the actual apps I'm working on or have ever worked on.)

### Side note

On a personal level, I do understand the value of learning for its own sake and I am genuinely *curious* and *interested* in learning Rails 3. But I also have to respect time and energy limitations. I'm curious and interested in a lot of things. So I have to choose carefully.

# Main question

What features / capabilities / improvements does Rails 3 have that might make the investment of time and risk worthwhile?

Or to put it another way, if I invest a week or two on Rails 3 tutorials, will it pay off in huge times savings later because Rails 3 development is way more efficient?

## Other question

Is there a major downside to just sticking with Rails 2 for another few years or another four or five apps? Some looming danger I should be aware of?

Any help or advice would be greatly appreciated. Thanks!",ruby-on-rails,ruby,ruby-on-rails-3,,,08/16/2011 00:19:28,not constructive,1,275,14,"What's Rails 3 got that Rails 2 aint got? (And should I learn it?) # Background

I've written several production apps using Rails 2. I've gotten comfortable with it. I kind of have my Rails 2 routine down.

However, now I face a dilemma.

I have two new apps to write immediately.

Rails 3 has been out for a while now, and I wonder if it's time to get a book, invest some weekends and evenings, and start coding these and any further apps using Rails 3.

The things I write are usually stuff like ""take our equipment inventory that's in MS Access and make a Web app of it,"" or ""write an app that lets the secretaries post PDFs to our website and attach notations to them."" (Those are made-up examples to give you an idea -- not the actual apps I'm working on or have ever worked on.)

### Side note

On a personal level, I do understand the value of learning for its own sake and I am genuinely *curious* and *interested* in learning Rails 3. But I also have to respect time and energy limitations. I'm curious and interested in a lot of things. So I have to choose carefully.

# Main question

What features / capabilities / improvements does Rails 3 have that might make the investment of time and risk worthwhile?

Or to put it another way, if I invest a week or two on Rails 3 tutorials, will it pay off in huge times savings later because Rails 3 development is way more efficient?

## Other question

Is there a major downside to just sticking with Rails 2 for another few years or another four or five apps? Some looming danger I should be aware of?

Any help or advice would be greatly appreciated. Thanks!",3
9043931,01/28/2012 08:30:03,1174961,01/28/2012 08:19:00,1,0,Rails: How to use the find method on an arbitrary index,"I have created a model that has a string as a unique identifier.
I created a migration to add an index on that string and set it to be unique.
How can i access a database entry by just passing its unique identifier string to the find method, for example

    @object = Object.find(:unique_id)

At the moment, all i get is an ActiveRecord::RecordNotFound exception...

> Couldn't find Object with id=abc

...when i try to access `Object.find('abc')`

The `where` method is no alternative as this gives me back a relation.",ruby-on-rails,find,unique-index,,,,open,0,85,11,"Rails: How to use the find method on an arbitrary index I have created a model that has a string as a unique identifier.
I created a migration to add an index on that string and set it to be unique.
How can i access a database entry by just passing its unique identifier string to the find method, for example

    @object = Object.find(:unique_id)

At the moment, all i get is an ActiveRecord::RecordNotFound exception...

> Couldn't find Object with id=abc

...when i try to access `Object.find('abc')`

The `where` method is no alternative as this gives me back a relation.",3
7278454,09/02/2011 01:40:19,222923,12/02/2009 13:40:30,581,35,rake task memory leak,"I have a long running rake task that is gobbling up all my system memory over time? What is the quickest way to track down my issue and get to the bottom of it?

Im using rails 2.3.5, ruby 1.8.7, ubuntu on slicehost and mysql 5.

I have rails app that works fine. I have a nightly job that runs all night and does tons of work (some external calls to twitter, google etc, and lots of db calls using active record, over time that job grows in memory size to nearly 4 gig. I need to figure out why the rake task is not releasing memeory.

I started looking into bleak_house, but it seems complex to setup and hasnt been updated in over a year. I cant get it to work locally so im reluctant to try in production. 

thanks
Joel",ruby-on-rails,memory-leaks,rake,,,,open,0,138,4,"rake task memory leak I have a long running rake task that is gobbling up all my system memory over time? What is the quickest way to track down my issue and get to the bottom of it?

Im using rails 2.3.5, ruby 1.8.7, ubuntu on slicehost and mysql 5.

I have rails app that works fine. I have a nightly job that runs all night and does tons of work (some external calls to twitter, google etc, and lots of db calls using active record, over time that job grows in memory size to nearly 4 gig. I need to figure out why the rake task is not releasing memeory.

I started looking into bleak_house, but it seems complex to setup and hasnt been updated in over a year. I cant get it to work locally so im reluctant to try in production. 

thanks
Joel",3
3335196,07/26/2010 13:27:01,165926,08/31/2009 10:06:58,281,25,clojure vs. Ruby,"I'm ASP.NET developer. I want to learn web development technologies and other languages than Microsofts.
I heard about two languages but I don't know which one is better or how to favor one over the other especially that clojure is new somehow.

Could anyone help me about why to choose one of them over the other?.

Thanks.",ruby-on-rails,ruby,clojure,,,07/26/2010 14:36:31,not constructive,1,54,3,"clojure vs. Ruby I'm ASP.NET developer. I want to learn web development technologies and other languages than Microsofts.
I heard about two languages but I don't know which one is better or how to favor one over the other especially that clojure is new somehow.

Could anyone help me about why to choose one of them over the other?.

Thanks.",3
2269231,02/15/2010 22:01:39,182172,09/30/2009 23:11:53,366,15,"Mask the name of a controller, Rails","I have a controller posts:
www.mydomain.com/posts/123-hello

Please bear in mind that the 123 is unique for each post but is not the correlative id (post.permalink)

I want to access the posts through addresses like:

www.mydomain.com/is/123-hello   
*not   
www.mydomain.com/posts/123-hello*

I have a `to_param` in my Post model to construct the ""123-hello"", but when I use `redirect_to @post` I end in www.mydomain.com/posts/123-hello

How can I do this? Thanks in advance!",ruby-on-rails,,,,,,open,0,65,7,"Mask the name of a controller, Rails I have a controller posts:
www.mydomain.com/posts/123-hello

Please bear in mind that the 123 is unique for each post but is not the correlative id (post.permalink)

I want to access the posts through addresses like:

www.mydomain.com/is/123-hello   
*not   
www.mydomain.com/posts/123-hello*

I have a `to_param` in my Post model to construct the ""123-hello"", but when I use `redirect_to @post` I end in www.mydomain.com/posts/123-hello

How can I do this? Thanks in advance!",1
10487214,05/07/2012 18:35:10,641672,02/03/2011 21:50:12,424,14,how can I make rvm create my gemset at capistrano deploy?,"I am trying to use capistrano to create my rvm gemset.
 
I use the rvm-capistrano gem.

Even I explicitly try to create it at setup, capistrano shell command looks like this:

    rvm_path=$HOME/.rvm/ $HOME/.rvm/bin/rvm-shell '1.9.3-p194@vatax' -c 'rvm use 1.9.3-p194@vatax --create'

which obviously fails with the error message:

    Gemset 'vatax' does not exist, 'rvm gemset create vatax' first, or append '--create'

In fact I expected the gem to be able to create the gemset for me, but if not at least I would like to use a non-rvm shell to create the gemset within capistrano.
 ",ruby-on-rails,deployment,gem,rvm,capistrano,,open,0,97,11,"how can I make rvm create my gemset at capistrano deploy? I am trying to use capistrano to create my rvm gemset.
 
I use the rvm-capistrano gem.

Even I explicitly try to create it at setup, capistrano shell command looks like this:

    rvm_path=$HOME/.rvm/ $HOME/.rvm/bin/rvm-shell '1.9.3-p194@vatax' -c 'rvm use 1.9.3-p194@vatax --create'

which obviously fails with the error message:

    Gemset 'vatax' does not exist, 'rvm gemset create vatax' first, or append '--create'

In fact I expected the gem to be able to create the gemset for me, but if not at least I would like to use a non-rvm shell to create the gemset within capistrano.
 ",5
3048900,06/15/2010 20:48:39,500107,06/15/2010 20:48:39,1,0,Non-normalized association with legacy tables in Rails and ActiveRecord,"I am building a Rails application accessing a legacy system. The data model contains Customers which can have one or more Subscriptions. A Subscription always belong to one and only one Customer. Though not needed, this association is represented through a join table ""subscribes"", which do not have an id column:

     Column          |  Type   | Modifiers
    -----------------+---------+-----------
     customer_id     | integer | not null
     subscription_id | integer | not null

I have this coded as a has_and_belongs_to_many declarations in both Customer and Subscription

    class Customer < Activerecord::Base
      has_and_belongs_to_many :subscriptions, :join_table => ""subscribes"",
        :foreign_key => ""customer_id"", :association_foreign_key => ""subscription_id""
    end
    class Subscription < Activerecord::Base
      has_and_belongs_to_many :customers, :join_table => ""subscribes"",
        :foreign_key => ""subscription_id"", :association_foreign_key => ""customer_id""
    end

The problem I have is that there can only ever be one customer for each subscription, not many, and the join table will always contain at most one row with a certain customer_id.
And thus, I don't want the association ""customers"" on a Subscription which returns an array of (at most one) Customer, I really do want the relation ""customer"" which returns the Customer associated.

Is there any way to force ActiveRecord to make this a 1-to-N relation even though the join table itself seems to make it an N-to-M relation?


--Thomas",ruby-on-rails,database,activerecord,normalization,foreign-key-relationship,,open,0,268,9,"Non-normalized association with legacy tables in Rails and ActiveRecord I am building a Rails application accessing a legacy system. The data model contains Customers which can have one or more Subscriptions. A Subscription always belong to one and only one Customer. Though not needed, this association is represented through a join table ""subscribes"", which do not have an id column:

     Column          |  Type   | Modifiers
    -----------------+---------+-----------
     customer_id     | integer | not null
     subscription_id | integer | not null

I have this coded as a has_and_belongs_to_many declarations in both Customer and Subscription

    class Customer < Activerecord::Base
      has_and_belongs_to_many :subscriptions, :join_table => ""subscribes"",
        :foreign_key => ""customer_id"", :association_foreign_key => ""subscription_id""
    end
    class Subscription < Activerecord::Base
      has_and_belongs_to_many :customers, :join_table => ""subscribes"",
        :foreign_key => ""subscription_id"", :association_foreign_key => ""customer_id""
    end

The problem I have is that there can only ever be one customer for each subscription, not many, and the join table will always contain at most one row with a certain customer_id.
And thus, I don't want the association ""customers"" on a Subscription which returns an array of (at most one) Customer, I really do want the relation ""customer"" which returns the Customer associated.

Is there any way to force ActiveRecord to make this a 1-to-N relation even though the join table itself seems to make it an N-to-M relation?


--Thomas",5
2338996,02/26/2010 01:45:53,118175,06/05/2009 17:52:19,692,18,How to approach multi-model form in rails,"I have a complex form in Ruby on Rails 2.3.5, here's the structure for it:
Artist
  - Name
  - Albums
      -Songs
  - Photos

Each artist can albums and several photos. For each album, there are several songs.
I want to create a 3 step process.
  - Create Artist
  - Create Album (will have option to create multiple songs)
  - Create Photos

I want to set it up in a wizard-like way.
My question is actually pretty general - how would you go about (organizationally speaking) creating forms for the models and controllers for such a project?

Currently, I have a model called Artist, a model called Albums and a model called Photos. Artists has many albums and photos. Under which view would I place the form?

Right now, the way it is looking I go to:
artists/new - create the artist, somehow pass artist id to album,
move to albums as albums/new, keep passing that artist id to photos,
photos/new to create photos and then finish -> back to artists/show.

Ideally, I'd like to have something like artists/new/1 to create the artists
artists/new/2 to create the albums and artists/new/3 to create the photos.

How would I go about doing that? Other than routing the pages to where I want them, is that the correct way of organizing things?

Thank you!

",ruby-on-rails,,,,,,open,0,217,7,"How to approach multi-model form in rails I have a complex form in Ruby on Rails 2.3.5, here's the structure for it:
Artist
  - Name
  - Albums
      -Songs
  - Photos

Each artist can albums and several photos. For each album, there are several songs.
I want to create a 3 step process.
  - Create Artist
  - Create Album (will have option to create multiple songs)
  - Create Photos

I want to set it up in a wizard-like way.
My question is actually pretty general - how would you go about (organizationally speaking) creating forms for the models and controllers for such a project?

Currently, I have a model called Artist, a model called Albums and a model called Photos. Artists has many albums and photos. Under which view would I place the form?

Right now, the way it is looking I go to:
artists/new - create the artist, somehow pass artist id to album,
move to albums as albums/new, keep passing that artist id to photos,
photos/new to create photos and then finish -> back to artists/show.

Ideally, I'd like to have something like artists/new/1 to create the artists
artists/new/2 to create the albums and artists/new/3 to create the photos.

How would I go about doing that? Other than routing the pages to where I want them, is that the correct way of organizing things?

Thank you!

",1
6874440,07/29/2011 14:10:32,717336,04/20/2011 14:26:57,10,0,How Ruby on Rails work,"I programmed in php. And when you use some framework, then, as far as php is intepreter, all the framework loads every request. But not rails, though, ruby is interperter too... So, how does it work",ruby-on-rails,ruby,ruby-on-rails-3,,,07/29/2011 15:12:41,not a real question,1,36,5,"How Ruby on Rails work I programmed in php. And when you use some framework, then, as far as php is intepreter, all the framework loads every request. But not rails, though, ruby is interperter too... So, how does it work",3
4297543,11/28/2010 15:38:03,435951,05/05/2010 03:08:39,346,2,Keep Heroku 1 dyno instance always alive.,"As is of your knowledge, after 5 minutes of no utilization, Heroku will put to sleep your free dyno instance which will make it the next request slower.

Is there a way that I can keep the instance alive? Maybe by making sure the site is always being used?

Thanks.",ruby-on-rails,ruby,ruby-on-rails-3,heroku,,12/09/2010 17:13:39,off topic,1,48,7,"Keep Heroku 1 dyno instance always alive. As is of your knowledge, after 5 minutes of no utilization, Heroku will put to sleep your free dyno instance which will make it the next request slower.

Is there a way that I can keep the instance alive? Maybe by making sure the site is always being used?

Thanks.",4
6653779,07/11/2011 17:07:41,515585,11/22/2010 03:30:03,59,1,NoMethodError: undefined method `created_at' for in Rails,"So here is a object I retrieved from the ActiveRecord  `other = [#<Referrer id: 16, name: ""Other"", published: true, created_at: ""2011-07-11 16:22:00"", updated_at: ""2011-07-11 16:22:00"">] 
`
Why can't I do `other.created_at` while I can do `other.name`?

Here is the model: 

    class Referrer < ActiveRecord::Base
    end

The error I'm getting: 

    NoMethodError: undefined method `created_at' for #<ActiveRecord::Relation:0x1035763c8>

What have I missed? 


",ruby-on-rails,ruby,activerecord,,,,open,0,68,7,"NoMethodError: undefined method `created_at' for in Rails So here is a object I retrieved from the ActiveRecord  `other = [#<Referrer id: 16, name: ""Other"", published: true, created_at: ""2011-07-11 16:22:00"", updated_at: ""2011-07-11 16:22:00"">] 
`
Why can't I do `other.created_at` while I can do `other.name`?

Here is the model: 

    class Referrer < ActiveRecord::Base
    end

The error I'm getting: 

    NoMethodError: undefined method `created_at' for #<ActiveRecord::Relation:0x1035763c8>

What have I missed? 


",3
7804949,10/18/2011 09:14:56,996628,10/15/2011 07:59:49,36,2,Empty/delete a session object,"Ho do i empty a session object after rendering a specific path.

I have one view method in my controller

    def view
    session[:storeid] = params[:id]
    redirect_to products_path
    end
Want to empty `session[:storeid]` after the products_path displayed.

Thanks in advnc
  ",ruby-on-rails,ruby-on-rails-3,session,session-variables,session-timeout,,open,0,50,4,"Empty/delete a session object Ho do i empty a session object after rendering a specific path.

I have one view method in my controller

    def view
    session[:storeid] = params[:id]
    redirect_to products_path
    end
Want to empty `session[:storeid]` after the products_path displayed.

Thanks in advnc
  ",5
11446060,07/12/2012 06:23:03,1005396,10/20/2011 14:20:43,108,7,Autocomplete search with most searched for search terms,"I want search to autocomplete users search, when they type something and I want the autocomplete to be based on what users search for the most... Like google does.

How would you accomplish something like this in rails?

I'm using rails 3.2 and I use a mongo database with Mongoid.",ruby-on-rails,ruby,ruby-on-rails-3,search,mongoid,07/12/2012 13:05:59,not a real question,1,48,8,"Autocomplete search with most searched for search terms I want search to autocomplete users search, when they type something and I want the autocomplete to be based on what users search for the most... Like google does.

How would you accomplish something like this in rails?

I'm using rails 3.2 and I use a mongo database with Mongoid.",5
11364267,07/06/2012 14:34:04,1506815,07/06/2012 13:02:39,1,0,Grails 2 VS Play 2 VS Rails 3,"I'm starting a new project so I'm evaluating using Grails 2, Play 2 or Rails 3. I know that there are plenty of post regarding this stuff, but most of them are outdated. It would be interesting comparing the following aspects of each framework:

1. Productivity
2. Community & plugins/gems/modules
3. Scale & Performance
4. Momentum
5. JQuery validation integration
6. Json interfaces

I come from the Java world. I've spent some days implementing a small app in play2 with Java. So far so good, but I'm founding quit frustrating the lack of modules (or when the required module exists there isn't a Java API). For example there isn't right now a module for auto-generating JQuery validation rules based on models. Also it seems imposible to beat  json interfaces that you can write with grails.
Rails and Grails seem to have a larger set of gens/plugins and community.

Although I like Scala, the learning curve it's not good for teaching to people. Also the ORM  are more verbose than the alternativas offered by Rails, Grails an also Play2+Java.

Does anybody has any experience working with rails or grails scaffolding. Is it simple to modify the controllers and views that are created?

Opinions?",ruby-on-rails,grails,playframework,,,07/06/2012 16:34:36,not a real question,1,193,8,"Grails 2 VS Play 2 VS Rails 3 I'm starting a new project so I'm evaluating using Grails 2, Play 2 or Rails 3. I know that there are plenty of post regarding this stuff, but most of them are outdated. It would be interesting comparing the following aspects of each framework:

1. Productivity
2. Community & plugins/gems/modules
3. Scale & Performance
4. Momentum
5. JQuery validation integration
6. Json interfaces

I come from the Java world. I've spent some days implementing a small app in play2 with Java. So far so good, but I'm founding quit frustrating the lack of modules (or when the required module exists there isn't a Java API). For example there isn't right now a module for auto-generating JQuery validation rules based on models. Also it seems imposible to beat  json interfaces that you can write with grails.
Rails and Grails seem to have a larger set of gens/plugins and community.

Although I like Scala, the learning curve it's not good for teaching to people. Also the ORM  are more verbose than the alternativas offered by Rails, Grails an also Play2+Java.

Does anybody has any experience working with rails or grails scaffolding. Is it simple to modify the controllers and views that are created?

Opinions?",3
3533502,08/20/2010 17:52:49,218183,11/24/2009 22:35:39,275,5,"im getting a ""patient successfully updated"" message after updating a object but values stay the same in rails? ","Sorry i really didn't know how to phrase the question any better but here is my problem:

when i try to update or create a patient object in my rails application the values are not getting sent through to the model, because when i try to create a new patient i get validation errors that i put in place sating i have to enter values (which i did), and when i update an existing patient object the values don't change even though i get the message of ""successfully updated patient""

any ideas why that might be?

it used to work fine and i didn't change anything in the patient controller or model for it to stop working?

if you need any code from me please just let me know what u need. 

thanks ",ruby-on-rails,ruby,,,,,open,0,130,19,"im getting a ""patient successfully updated"" message after updating a object but values stay the same in rails?  Sorry i really didn't know how to phrase the question any better but here is my problem:

when i try to update or create a patient object in my rails application the values are not getting sent through to the model, because when i try to create a new patient i get validation errors that i put in place sating i have to enter values (which i did), and when i update an existing patient object the values don't change even though i get the message of ""successfully updated patient""

any ideas why that might be?

it used to work fine and i didn't change anything in the patient controller or model for it to stop working?

if you need any code from me please just let me know what u need. 

thanks ",2
9993726,04/03/2012 12:56:24,297087,09/18/2009 05:11:07,8589,569,How to create partitioning on date column,"I have following table users

    id(PK)       some_column        period(Date)

In my table i have data of last 20 months(Total over 5 million) which i need to find using period.
So i want to do partitioning on period such that data of January goes to P1, data of February goes to P2 and so on.....So 8 partition will have data of 2 months (e.g. January 2011 & January 2012).....so i want to sub partition on the basis of the even-odd year so my partitioning will look like following 


          P1( e.g January)         P2(e.g. February)...............P12(e.g. December)
    SP13(January-12)   SP14(January-11)   ...............SP35(December-10)   SP36(December-11)  


I have following questions

    1] How can i do above desired partitioning?
    2] Can i do portioning on period(Date) column w/o dropping my Primary key(id)?
    3] Is partitioning only used for non changing tables? 
       If `NO` my new data will automatically goes to respective partitioning depending on my partitioning condition?
    4] Will this partitioning get used when i run following query?
     SELECT * FROM users WHERE period=""2011-01-01""


   


",ruby-on-rails,query-optimization,partioning,mysql-partitioning,,,open,0,231,7,"How to create partitioning on date column I have following table users

    id(PK)       some_column        period(Date)

In my table i have data of last 20 months(Total over 5 million) which i need to find using period.
So i want to do partitioning on period such that data of January goes to P1, data of February goes to P2 and so on.....So 8 partition will have data of 2 months (e.g. January 2011 & January 2012).....so i want to sub partition on the basis of the even-odd year so my partitioning will look like following 


          P1( e.g January)         P2(e.g. February)...............P12(e.g. December)
    SP13(January-12)   SP14(January-11)   ...............SP35(December-10)   SP36(December-11)  


I have following questions

    1] How can i do above desired partitioning?
    2] Can i do portioning on period(Date) column w/o dropping my Primary key(id)?
    3] Is partitioning only used for non changing tables? 
       If `NO` my new data will automatically goes to respective partitioning depending on my partitioning condition?
    4] Will this partitioning get used when i run following query?
     SELECT * FROM users WHERE period=""2011-01-01""


   


",4
4435899,12/14/2010 04:33:25,39677,11/03/2008 21:48:03,7589,5,How to show login/logout links the rails way?,"I have a property that is exposed in my view @is_logged_in

if its true, then I want to show the 'logout' link, otherwise I want to show the 'login' link.

Is there a fancy rails way to do this?

",ruby-on-rails,,,,,,open,0,37,8,"How to show login/logout links the rails way? I have a property that is exposed in my view @is_logged_in

if its true, then I want to show the 'logout' link, otherwise I want to show the 'login' link.

Is there a fancy rails way to do this?

",1
5591547,04/08/2011 06:56:54,647669,03/07/2011 05:45:25,1,0,Scroll down pagination in rails using will_paginate,"I wanna use infinite scroll down pagination in rails and want to pass the information like page number so that next data can be retrieved in the action and for the scroll down i can append the data to the existing data in my view.

is there any thing scroll down pagination that we can do with the will_paginate?

Thanks in advance
--Vam.",ruby-on-rails,,,,,,open,0,60,7,"Scroll down pagination in rails using will_paginate I wanna use infinite scroll down pagination in rails and want to pass the information like page number so that next data can be retrieved in the action and for the scroll down i can append the data to the existing data in my view.

is there any thing scroll down pagination that we can do with the will_paginate?

Thanks in advance
--Vam.",1
7700027,10/08/2011 21:56:07,985839,10/08/2011 21:52:33,1,0,Asset:Precompile too verbose,"I have a strange question. I am new to jruby and rails. When i precompile my assets it fills my logs with junk that i am not interested in.

(in /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319)
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers

I have tried --quiet, i have turned logging off. 

Any ideas/.

Thanks!
",ruby-on-rails,ruby,asset-pipeline,,,,open,0,54,3,"Asset:Precompile too verbose I have a strange question. I am new to jruby and rails. When i precompile my assets it fills my logs with junk that i am not interested in.

(in /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319)
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers
mkdir -p /srv/test/releases/cba9797f510b211ff3568c9bb800ee7a7366c319/public/assets/controllers

I have tried --quiet, i have turned logging off. 

Any ideas/.

Thanks!
",3
5078620,02/22/2011 13:16:13,476024,10/14/2010 16:35:57,527,5,why is rails faster then asp.net,I was facing a decision:rails or asp.net and for some reasons i chose asp.net . I understood that rails is faster .why ?,ruby-on-rails,,,,,02/22/2011 13:54:28,not constructive,1,23,6,why is rails faster then asp.net I was facing a decision:rails or asp.net and for some reasons i chose asp.net . I understood that rails is faster .why ?,1
2904072,05/25/2010 11:22:26,312586,07/13/2009 09:07:11,1830,116,rails + compass: advantages vs using haml + blueprint directly,"I've got some experience using haml (+sass) on rails projects. I recently started using them with blueprintcss - the only thing I did was transform blueprint.css into a sass file, and started coding from there. I even have a [rails generator][1] that includes all this by default.

It seems that [Compass][2] does what I do, and other things. I'm trying to understand what those other things are - but the documentation/tutorials weren't very clear.

These are my conclusions:

 - Compass comes with **built-in sass mixins** that implement common CSS idioms, such as links with icons or horizontal lists. My solution doesn't provide anything like that. (1 point for Compass).
 - Compass has several **command-line options**: you can create a rails project, but you can also ""install"" it on an existing rails project. A rails generator could be personalized to do the same thing, I guess. (Tie).
 - Compass has **two modes** of working with blueprint: ""basic"" and ""semantic"" usage. I'm not clear about the differences between those. With my rails generator I only have one mode, but it seems enough. (Tie)
 - Apparently, Compass is prepared to use **other frameworks**, besides blueprint (e.g. YUI). I could not find much documentation about this, and I'm not interested on it anyway - blueprint is ok for me (Tie).
 - Compass' learning curve seems a bit stiff and the documentation seems sparse. Learning could be a bit difficult. On the other hand, I know the ins and outs of my own system and can use it right away. (1 point for my system).

With this analysis, I'm hesitant to give Compass a try.

Is my analysis correct? Are Am I missing any key points, or have I evaluated any of these points wrongly?


  [1]: http://github.com/splendeo/splendeo-generators
  [2]: http://compass-style.org",ruby-on-rails,css,haml,compass,sass,,open,0,292,10,"rails + compass: advantages vs using haml + blueprint directly I've got some experience using haml (+sass) on rails projects. I recently started using them with blueprintcss - the only thing I did was transform blueprint.css into a sass file, and started coding from there. I even have a [rails generator][1] that includes all this by default.

It seems that [Compass][2] does what I do, and other things. I'm trying to understand what those other things are - but the documentation/tutorials weren't very clear.

These are my conclusions:

 - Compass comes with **built-in sass mixins** that implement common CSS idioms, such as links with icons or horizontal lists. My solution doesn't provide anything like that. (1 point for Compass).
 - Compass has several **command-line options**: you can create a rails project, but you can also ""install"" it on an existing rails project. A rails generator could be personalized to do the same thing, I guess. (Tie).
 - Compass has **two modes** of working with blueprint: ""basic"" and ""semantic"" usage. I'm not clear about the differences between those. With my rails generator I only have one mode, but it seems enough. (Tie)
 - Apparently, Compass is prepared to use **other frameworks**, besides blueprint (e.g. YUI). I could not find much documentation about this, and I'm not interested on it anyway - blueprint is ok for me (Tie).
 - Compass' learning curve seems a bit stiff and the documentation seems sparse. Learning could be a bit difficult. On the other hand, I know the ins and outs of my own system and can use it right away. (1 point for my system).

With this analysis, I'm hesitant to give Compass a try.

Is my analysis correct? Are Am I missing any key points, or have I evaluated any of these points wrongly?


  [1]: http://github.com/splendeo/splendeo-generators
  [2]: http://compass-style.org",5
2863769,05/19/2010 08:02:40,39444,11/19/2008 11:49:44,303,28,customized form_for tag in rails,"I want to make a table within a form by making a new form_tag. The following code in ApplicationHelper fails:


    def tabular_form_for(name, object = nil, options = nil, &proc)
      concat(""<table>"", proc.binding)
      form_for(name, 
               object, 
               (options||{}).merge(:builder => TabularFormBuilder), 
               &proc)
      concat(""</table>"", proc.binding)               
    end


Any ideas how to make this custom tag work?",ruby-on-rails,,,,,,open,0,129,5,"customized form_for tag in rails I want to make a table within a form by making a new form_tag. The following code in ApplicationHelper fails:


    def tabular_form_for(name, object = nil, options = nil, &proc)
      concat(""<table>"", proc.binding)
      form_for(name, 
               object, 
               (options||{}).merge(:builder => TabularFormBuilder), 
               &proc)
      concat(""</table>"", proc.binding)               
    end


Any ideas how to make this custom tag work?",1
10658004,05/18/2012 18:36:43,999355,10/17/2011 14:28:49,144,10,Devise authentication - confirmation page after password recovery,"I'm using Devise authentication gem with Rails.

How to display the page with message ""E-mail has been sent"" after password recovery e-mail has been sent, instead of redirecting to site root?",ruby-on-rails,devise,confirmation,password-recovery,,,open,0,30,8,"Devise authentication - confirmation page after password recovery I'm using Devise authentication gem with Rails.

How to display the page with message ""E-mail has been sent"" after password recovery e-mail has been sent, instead of redirecting to site root?",4
4906936,02/05/2011 12:55:44,190803,10/15/2009 18:29:05,115,4,My rails project fails after upgrading to ruby 1.9.2 on OS X,"I have upgaded ruby to 1.9.2, rubygems 1.5.0 and installed the latest rails 3.0.3 by following this tutorial:

http://hivelogic.com/articles/ruby-rails-mongrel-mysql-osx

But now my existing project no longer works. If I do a ""ruby script/about"", I get this:

<pre><code>&lt;internal:lib/rubygems/custom_require&gt;:29:in `require': no such file to load -- /Users/sneigaard/work/rails/myproject/config/../vendor/rails/railties/lib/initializer (LoadError)
	from &lt;internal:lib/rubygems/custom_require&gt;:29:in `require'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:45:in `load_initializer'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:38:in `run'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:11:in `boot!'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:110:in `&lt;top (required)&gt;'
	from &lt;internal:lib/rubygems/custom_require&gt;:29:in `require'
	from &lt;internal:lib/rubygems/custom_require&gt;:29:in `require'
	from script/about:2:in `&lt;main&gt;'</code></pre>

If I run ""mongrel_rails start"" I get this error:

<pre><code>** Starting Mongrel listening at 0.0.0.0:3000
** Starting Rails with development environment...
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require': no such file to load -- /Users/sneigaard/work/rails/myproject/config/../vendor/rails/railties/lib/initializer (LoadError)
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:45:in `load_initializer'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:38:in `run'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:11:in `boot!'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:110
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
	from /Users/sneigaard/work/rails/myproject/config/environment.rb:7
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:147:in `rails'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:113:in `cloaker_'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:149:in `call'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:149:in `listener'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:99:in `cloaker_'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:50:in `call'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:50:in `initialize'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:84:in `new'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:84:in `run'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
	from /usr/bin/mongrel_rails:19:in `load'
	from /usr/bin/mongrel_rails:19</code></pre>

In script/server I have this:

<pre><code>#!/usr/bin/env ruby
require File.expand_path('../../config/boot', __FILE__)
require 'commands/server'
</code></pre>

I have searched and searched the net, but I can not figure this out, and my project is stuck :( Please help me.

Thank you
<br/>Søren",ruby-on-rails,ruby-on-rails-3,,,,,open,0,160,12,"My rails project fails after upgrading to ruby 1.9.2 on OS X I have upgaded ruby to 1.9.2, rubygems 1.5.0 and installed the latest rails 3.0.3 by following this tutorial:

http://hivelogic.com/articles/ruby-rails-mongrel-mysql-osx

But now my existing project no longer works. If I do a ""ruby script/about"", I get this:

<pre><code>&lt;internal:lib/rubygems/custom_require&gt;:29:in `require': no such file to load -- /Users/sneigaard/work/rails/myproject/config/../vendor/rails/railties/lib/initializer (LoadError)
	from &lt;internal:lib/rubygems/custom_require&gt;:29:in `require'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:45:in `load_initializer'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:38:in `run'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:11:in `boot!'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:110:in `&lt;top (required)&gt;'
	from &lt;internal:lib/rubygems/custom_require&gt;:29:in `require'
	from &lt;internal:lib/rubygems/custom_require&gt;:29:in `require'
	from script/about:2:in `&lt;main&gt;'</code></pre>

If I run ""mongrel_rails start"" I get this error:

<pre><code>** Starting Mongrel listening at 0.0.0.0:3000
** Starting Rails with development environment...
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require': no such file to load -- /Users/sneigaard/work/rails/myproject/config/../vendor/rails/railties/lib/initializer (LoadError)
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:45:in `load_initializer'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:38:in `run'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:11:in `boot!'
	from /Users/sneigaard/work/rails/myproject/config/boot.rb:110
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
	from /Users/sneigaard/work/rails/myproject/config/environment.rb:7
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
	from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:147:in `rails'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:113:in `cloaker_'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:149:in `call'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:149:in `listener'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:99:in `cloaker_'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:50:in `call'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:50:in `initialize'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:84:in `new'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:84:in `run'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
	from /Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
	from /usr/bin/mongrel_rails:19:in `load'
	from /usr/bin/mongrel_rails:19</code></pre>

In script/server I have this:

<pre><code>#!/usr/bin/env ruby
require File.expand_path('../../config/boot', __FILE__)
require 'commands/server'
</code></pre>

I have searched and searched the net, but I can not figure this out, and my project is stuck :( Please help me.

Thank you
<br/>Søren",2
6693000,07/14/2011 12:18:43,796723,06/13/2011 22:21:59,58,0,Why magic comment is needed,"In this commit I do not see anything that is not utf-8. Then why magic comment is needed?

https://github.com/rails/rails/commit/db0a65cbe0a819e0fe325250155b3e2f0f01e6e2",ruby-on-rails,,,,,,open,0,18,5,"Why magic comment is needed In this commit I do not see anything that is not utf-8. Then why magic comment is needed?

https://github.com/rails/rails/commit/db0a65cbe0a819e0fe325250155b3e2f0f01e6e2",1
10481629,05/07/2012 11:55:12,1029551,11/04/2011 11:08:24,129,9,New acts like create,"In my create action, method new acts like create.

    def create
      @page = Page.new(params[:page].merge(:user_id => current_user.id ))
      if @page.save
        flash[:notice] = t(""success"")
        redirect_to pages_path
      else
        render :new
      end
    end

ActiveRecord creates new object in database while I'm using new with params. Page.new works fine in new action in my controller. What can be the reason? There is no overridden method new and no callbacks (before_save, before_create etc) in my model. Any help would be appreciated.",ruby-on-rails,ruby,ruby-on-rails-3,activerecord,,,open,0,121,4,"New acts like create In my create action, method new acts like create.

    def create
      @page = Page.new(params[:page].merge(:user_id => current_user.id ))
      if @page.save
        flash[:notice] = t(""success"")
        redirect_to pages_path
      else
        render :new
      end
    end

ActiveRecord creates new object in database while I'm using new with params. Page.new works fine in new action in my controller. What can be the reason? There is no overridden method new and no callbacks (before_save, before_create etc) in my model. Any help would be appreciated.",4
3892359,10/08/2010 16:11:56,468496,10/06/2010 21:32:59,13,0,Rails 3 - How do I get Rspec spec/ & autotest to work?,"I was all setup with Rspec and Autotest before I updated to Rails 3.

When running rspec spec/ I'm getting:

    * spec/spec.opts is deprecated.
    * please use ./.rspec or ~/.rspec instead.

I tried changed spec.opts to spec.rspec and running rspec spec/ again. But now I get a whole mess of warnings:

    DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated:

    DEPRECATION WARNING: reset_javascript_include_default is deprecated. Please manipulate config.action_view.javascript_expansions[:defaults] directly. 

    DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env.

    DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated:

    DEPRECATION WARNING: You are using the old router DSL which will be removed in Rails 3.1. Please check how to update your routes file at: http://www.engineyard.com/blog/2010/the-lowdown-on-routes-in-rails-3/.

Autotest isn't working either. I'm getting:

    .rvm/rubies/ruby-1.9.2-p0/bin/ruby -I.:lib:test -rubygems -e ""['test/unit', 'spec/integration/layout_links_spec.rb', 'test/unit/color_test.rb', 'test/functional/products_controller_test.rb', 'spec/integration/users_spec.rb', 'test/functional/colors_controller_test.rb', 'test/unit/product_test.rb', 'test/unit/helpers/products_helper_test.rb', 'test/unit/helpers/colors_helper_test.rb'].each { |f| require f }"" | .rvm/gems/ruby-1.9.2-p0/gems/autotest-4.3.2/bin/unit_diff -u
<internal:lib/rubygems/custom_require>:29:in `require': no such file to load -- spec_helper (LoadError)
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from spec/integration/layout_links_spec.rb:1:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from -e:1:in `block in <main>'
    from -e:1:in `each'
    from -e:1:in `<main>'

Any ideas?
",ruby-on-rails,rspec,autotest,,,,open,0,214,13,"Rails 3 - How do I get Rspec spec/ & autotest to work? I was all setup with Rspec and Autotest before I updated to Rails 3.

When running rspec spec/ I'm getting:

    * spec/spec.opts is deprecated.
    * please use ./.rspec or ~/.rspec instead.

I tried changed spec.opts to spec.rspec and running rspec spec/ again. But now I get a whole mess of warnings:

    DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated:

    DEPRECATION WARNING: reset_javascript_include_default is deprecated. Please manipulate config.action_view.javascript_expansions[:defaults] directly. 

    DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env.

    DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated:

    DEPRECATION WARNING: You are using the old router DSL which will be removed in Rails 3.1. Please check how to update your routes file at: http://www.engineyard.com/blog/2010/the-lowdown-on-routes-in-rails-3/.

Autotest isn't working either. I'm getting:

    .rvm/rubies/ruby-1.9.2-p0/bin/ruby -I.:lib:test -rubygems -e ""['test/unit', 'spec/integration/layout_links_spec.rb', 'test/unit/color_test.rb', 'test/functional/products_controller_test.rb', 'spec/integration/users_spec.rb', 'test/functional/colors_controller_test.rb', 'test/unit/product_test.rb', 'test/unit/helpers/products_helper_test.rb', 'test/unit/helpers/colors_helper_test.rb'].each { |f| require f }"" | .rvm/gems/ruby-1.9.2-p0/gems/autotest-4.3.2/bin/unit_diff -u
<internal:lib/rubygems/custom_require>:29:in `require': no such file to load -- spec_helper (LoadError)
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from spec/integration/layout_links_spec.rb:1:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from -e:1:in `block in <main>'
    from -e:1:in `each'
    from -e:1:in `<main>'

Any ideas?
",3
5725896,04/20/2011 05:27:25,716494,04/20/2011 05:27:25,1,0,Ruby on Rails sqlite3 entry point not found,"I'm unable to get Ruby on Rails working anymore (fiddled with Ruby [not Rails] a while ago, bla bla), and I'm stuck for a reason/fix for my problem.
I'm running XP, Ruby 1.9.2 (p180), sqlite3 (1.3.3 x86-mingw32), rails (3.0.7), and here is basically what I did earlier tonight:

 1. DL/Install Ruby (rubyinstaller-1.9.2-p180)
 2. DL sqlite3.exe, .dll, and .def, placed them in the \ruby192\bin\ directory (also note after the problem, I placed the .exe, .dll, and .def in the lib directory for the sqlite3 gem)
 3. gem install sqlite3, activesupport, and rails (in that order)
 4. rails new demo
 5. (in the newly created folder) rails s

and what I get out of all this...

The procedure entry point sqlite3_column_database_name could not be located in the dynamic link library sqlite3.dll

     C:/Ruby192/lib/ruby/gems/1.9.1/gems/sqlite3-1.3.3-x86-mingw32/lib/sqlite3.rb:6:i
    n `require': no such file to load -- sqlite3/sqlite3_native (LoadError)
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/sqlite3-1.3.3-x86-mingw32/lib/s
    qlite3.rb:6:in `rescue in <top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/sqlite3-1.3.3-x86-mingw32/lib/s
    qlite3.rb:2:in `<top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:68:in `require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:68:in `block (2 levels) in require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:66:in `each'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:66:in `block in require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:55:in `each'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:55:in `require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler.rb:1
    20:in `require'
     from C:/ruby/demo/config/application.rb:7:in `<top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:28:in `require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:28:in `block in <top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:27:in `tap'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:27:in `<top (required)>'
     from script/rails:6:in `require'
     from script/rails:6:in `<main>'

",ruby-on-rails,sqlite3,,,,,open,0,323,8,"Ruby on Rails sqlite3 entry point not found I'm unable to get Ruby on Rails working anymore (fiddled with Ruby [not Rails] a while ago, bla bla), and I'm stuck for a reason/fix for my problem.
I'm running XP, Ruby 1.9.2 (p180), sqlite3 (1.3.3 x86-mingw32), rails (3.0.7), and here is basically what I did earlier tonight:

 1. DL/Install Ruby (rubyinstaller-1.9.2-p180)
 2. DL sqlite3.exe, .dll, and .def, placed them in the \ruby192\bin\ directory (also note after the problem, I placed the .exe, .dll, and .def in the lib directory for the sqlite3 gem)
 3. gem install sqlite3, activesupport, and rails (in that order)
 4. rails new demo
 5. (in the newly created folder) rails s

and what I get out of all this...

The procedure entry point sqlite3_column_database_name could not be located in the dynamic link library sqlite3.dll

     C:/Ruby192/lib/ruby/gems/1.9.1/gems/sqlite3-1.3.3-x86-mingw32/lib/sqlite3.rb:6:i
    n `require': no such file to load -- sqlite3/sqlite3_native (LoadError)
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/sqlite3-1.3.3-x86-mingw32/lib/s
    qlite3.rb:6:in `rescue in <top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/sqlite3-1.3.3-x86-mingw32/lib/s
    qlite3.rb:2:in `<top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:68:in `require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:68:in `block (2 levels) in require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:66:in `each'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:66:in `block in require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:55:in `each'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler/runt
    ime.rb:55:in `require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/bundler-1.0.12/lib/bundler.rb:1
    20:in `require'
     from C:/ruby/demo/config/application.rb:7:in `<top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:28:in `require'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:28:in `block in <top (required)>'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:27:in `tap'
     from C:/Ruby192/lib/ruby/gems/1.9.1/gems/railties-3.0.7/lib/rails/comman
    ds.rb:27:in `<top (required)>'
     from script/rails:6:in `require'
     from script/rails:6:in `<main>'

",2
6674145,07/13/2011 04:35:56,832891,07/07/2011 05:33:37,92,1,Why doesn't this code produce the desired result?,"    def check_beta_code
		beta_code_array = ['AAAAAAAAAA', 'BBBBBBBBBB', 'CCCCCCCCCC', 'DDDDDDDDDD', 'EEEEEEEEEE']
		
		if false == beta_code_array.include?(:beta_code)
			errors.add(:beta_code, ""Invalid Beta Code"")
		end
	end

I create a user, **user = User.new{:beta_code=>'AAAAAAAAAA'}** and then **user.save #=> false** and then i do **user.errors #=>{:beta_code=>[""Invalid Beta Code""]}**

Why is it giving the error even though :beta_code is equal to one of the values?
Help!",ruby-on-rails,ruby,,,,,open,0,52,8,"Why doesn't this code produce the desired result?     def check_beta_code
		beta_code_array = ['AAAAAAAAAA', 'BBBBBBBBBB', 'CCCCCCCCCC', 'DDDDDDDDDD', 'EEEEEEEEEE']
		
		if false == beta_code_array.include?(:beta_code)
			errors.add(:beta_code, ""Invalid Beta Code"")
		end
	end

I create a user, **user = User.new{:beta_code=>'AAAAAAAAAA'}** and then **user.save #=> false** and then i do **user.errors #=>{:beta_code=>[""Invalid Beta Code""]}**

Why is it giving the error even though :beta_code is equal to one of the values?
Help!",2
5159923,03/01/2011 20:26:15,640057,03/01/2011 20:25:05,1,0,Rails: attribute evaluates as nil even though it is defined in db and visible via .inspect,"Rails newbie here.

I generated a ""Comment"" model with several attributes, including commenter_id.

All comment attributes evaluate fine except commenter_id, which always evaluates as nil in the view, controller and model (tested each independently).  Manual inspection of the sqlite db shows that the appropriate integer is stored in the commenter_id column, and .inspect also reveals that the attribute is appropriately defined.  I don't understand why it's evaluating as nil in the code base.

**Extra info that may or may not be relevant:**

line in comment.rb:

    belongs_to :commenter_id, :class_name => ""User""

line in user.rb:

    has_many :comments, :foreign_key => ""commenter_id""

form for creating new comment (in show.html.erb for links.. the comments are about links):

    <%= form_for current_user.comments.build( :link_id => @link.id, 
                                              :parent_comment_id => nil ) do |f| %>
	<%= render 'shared/error_messages', :object => f.object %>
	<div class=""field"">
		<%= f.label :content %><br />
		<%= f.text_area :content %>
	</div>
	<div><%= f.hidden_field :link_id %></div>
	<div><%= f.hidden_field :parent_comment_id %></div>
	<div class=""actions"">
		<%= f.submit ""Submit"" %>
	</div>
    <% end %>

current_user is pretty stable, I'm working with the code base from http://ruby.railstutorial.org/, which defined current_user.

create method in comments_controller.rb:

    def create
      @comment = current_user.comments.build(params[:comment])
      if @comment.save
        flash[:success] = ""Comment posted!""
        redirect_to Link.find(@comment.link_id)
      else
        redirect_to root_path  #temporary error handling
      end
    end
",ruby-on-rails,,,,,,open,0,292,16,"Rails: attribute evaluates as nil even though it is defined in db and visible via .inspect Rails newbie here.

I generated a ""Comment"" model with several attributes, including commenter_id.

All comment attributes evaluate fine except commenter_id, which always evaluates as nil in the view, controller and model (tested each independently).  Manual inspection of the sqlite db shows that the appropriate integer is stored in the commenter_id column, and .inspect also reveals that the attribute is appropriately defined.  I don't understand why it's evaluating as nil in the code base.

**Extra info that may or may not be relevant:**

line in comment.rb:

    belongs_to :commenter_id, :class_name => ""User""

line in user.rb:

    has_many :comments, :foreign_key => ""commenter_id""

form for creating new comment (in show.html.erb for links.. the comments are about links):

    <%= form_for current_user.comments.build( :link_id => @link.id, 
                                              :parent_comment_id => nil ) do |f| %>
	<%= render 'shared/error_messages', :object => f.object %>
	<div class=""field"">
		<%= f.label :content %><br />
		<%= f.text_area :content %>
	</div>
	<div><%= f.hidden_field :link_id %></div>
	<div><%= f.hidden_field :parent_comment_id %></div>
	<div class=""actions"">
		<%= f.submit ""Submit"" %>
	</div>
    <% end %>

current_user is pretty stable, I'm working with the code base from http://ruby.railstutorial.org/, which defined current_user.

create method in comments_controller.rb:

    def create
      @comment = current_user.comments.build(params[:comment])
      if @comment.save
        flash[:success] = ""Comment posted!""
        redirect_to Link.find(@comment.link_id)
      else
        redirect_to root_path  #temporary error handling
      end
    end
",1
9815973,03/22/2012 03:20:30,1232147,02/25/2012 05:43:35,1,0,Read the sendgrid attachments,"I have followed the link to save the attachments of the incoming mail using sendgrid


http://stackoverflow.com/questions/4869382/rails-building-a-serialized-object-of-n-records

With the URL I am able to save the attachments but now my question is how can I retrieve the attachments and save them in amazon.

Thanks in advance
",ruby-on-rails,,,,,,open,0,42,4,"Read the sendgrid attachments I have followed the link to save the attachments of the incoming mail using sendgrid


http://stackoverflow.com/questions/4869382/rails-building-a-serialized-object-of-n-records

With the URL I am able to save the attachments but now my question is how can I retrieve the attachments and save them in amazon.

Thanks in advance
",1
7588358,09/28/2011 19:15:00,740692,05/05/2011 20:38:55,126,8,Rails: How to create a file from a controller and save it in the server?,"For some strange reason I need to save a file (normally downloaded directly) in the server. In my case I have a PDF file created with PDFKit that I need to keep.

    # app/controllers/reports_controller.rb
    def show
      @report = Report.find(params[:id])
      
      respond_to do |format|
        format.pdf { render :text => PDFKit.new(report_url(@report)).to_pdf }
      end
    end

If I go to reports/1.pdf I get the report I am expecting but I want to keep it in the server.

Is there a Raily way to save a file in the server from a respond to? ",ruby-on-rails,file,,,,,open,0,124,15,"Rails: How to create a file from a controller and save it in the server? For some strange reason I need to save a file (normally downloaded directly) in the server. In my case I have a PDF file created with PDFKit that I need to keep.

    # app/controllers/reports_controller.rb
    def show
      @report = Report.find(params[:id])
      
      respond_to do |format|
        format.pdf { render :text => PDFKit.new(report_url(@report)).to_pdf }
      end
    end

If I go to reports/1.pdf I get the report I am expecting but I want to keep it in the server.

Is there a Raily way to save a file in the server from a respond to? ",2
6218206,06/02/2011 17:47:41,330889,05/02/2010 16:49:30,327,55,How to deal with Savon Responses?,"I do not understand the people who prefer Savon to Soap4r.

How can I get the attributes of the returned object in a Savon response? With soap4r it's as clean as invoking a getter!

Apparently, in Savon I need to explicitly parse the response and walk the response_hash. This is way worse than the soap4r approach. Am I getting something wrong, or is Savon just a worse-quality soap4r?",ruby-on-rails,ruby,soap,savon,soap4r,,open,0,66,6,"How to deal with Savon Responses? I do not understand the people who prefer Savon to Soap4r.

How can I get the attributes of the returned object in a Savon response? With soap4r it's as clean as invoking a getter!

Apparently, in Savon I need to explicitly parse the response and walk the response_hash. This is way worse than the soap4r approach. Am I getting something wrong, or is Savon just a worse-quality soap4r?",5
5395448,03/22/2011 17:33:56,516690,11/22/2010 21:39:50,3935,246,Rails alternative to including active record call in view,"I have a form partial that looks like this:


    <%= form_for(@pool) do |f| %>
      <div class=""field"">
        <%= f.label :name %><br />
        <%= f.text_field :name %>
      </div>
      <div class=""field"">
        <%= f.label :tournament %><br />
        <%= f.collection_select :tournament_id, Tournament.active, :id, :name, :prompt => true %>
      </div>
    
      <div class=""actions"">
        <%= f.submit %>
      </div>
    <% end %>

This seems like a code smell because the view shouldn't be responsible for knowing how to get the data for the `<select>` tag. The alternative to have the controller assign an instance variable is problematic because I have to replicate that code in several actions depending on whether or not this form is rendered.

In ASP.NET MVC I'd just pull that field out into a partial view and display it with a call to `RenderAction` Which would evaluate a common controller action. However, in Rails `render :action => '/view'` seems to only allow full blown views to be rendered. I'm pretty new to Rails so I'm not sure about what the best practices are.",ruby-on-rails,ruby-on-rails-3,view,,,,open,0,240,9,"Rails alternative to including active record call in view I have a form partial that looks like this:


    <%= form_for(@pool) do |f| %>
      <div class=""field"">
        <%= f.label :name %><br />
        <%= f.text_field :name %>
      </div>
      <div class=""field"">
        <%= f.label :tournament %><br />
        <%= f.collection_select :tournament_id, Tournament.active, :id, :name, :prompt => true %>
      </div>
    
      <div class=""actions"">
        <%= f.submit %>
      </div>
    <% end %>

This seems like a code smell because the view shouldn't be responsible for knowing how to get the data for the `<select>` tag. The alternative to have the controller assign an instance variable is problematic because I have to replicate that code in several actions depending on whether or not this form is rendered.

In ASP.NET MVC I'd just pull that field out into a partial view and display it with a call to `RenderAction` Which would evaluate a common controller action. However, in Rails `render :action => '/view'` seems to only allow full blown views to be rendered. I'm pretty new to Rails so I'm not sure about what the best practices are.",3
9398022,02/22/2012 15:43:36,439688,08/07/2010 10:16:37,611,25,How to set some type of marker in a method so that I can tell whether the method was executed successfully or not in ruby on rails,"I have class methods like these in a ""message"" model:



     def delete_all_users_messages(user_id, parent_id)
              message = Message.find_by_parent_id(parent_id)
              message.children.where(:sender_id => user_id ).update_all(:sender_status => 1)
              message.children.where(:recipient_id => user_id ).update_all(:recipient_status => 1 )
              thread = message.message_thread
              thread.update_attribute(:sender_status, 1) if thread.sender_id == user_id 
              thread.update_attribute(:recipient_status, 1) if thread.recipient_id == user_id 
                if thread.sender_status == 1 && thread.recipient_status == 1
                thread.delete
                Message.delete_all(:parent_id => parent_id)
                end
            end
    
            def delete_all_users_selected_messages(message_ids, user_id, parent_id)
              Message.where(:id => message_ids, :sender_id => user_id).update_all(:sender_status => 1)
              Message.where(:id => message_ids, :recipient_id => user_id).update_all(:recipient_status => 1)
              Message.where('id != ? AND parent_id = ?', parent_id, parent_id).where(:sender_status => 1, :recipient_status => 1).delete_all
              thread = MessageThread.find_by_message_id(parent_id)
              children_exist = thread.message.children.where('id != ? AND parent_id = ?', parent_id, parent_id).any?
                unless children_exist
                  thread.delete 
                  thread.message.delete
                end

I use them in my messages_controller like this:

    def destroy_all_messages
        Message.delete_all_users_messages(current_user.id, params[:format])
        flash[:success] = ""Messages deleted""
        redirect_to messages_path
      end
      
    
      def destroy_selected_messages
        Message.delete_all_users_selected_messages(params[:message_ids], current_user.id, params[:format])
          flash[:success] = ""Messages deleted""
          redirect_to :back
      end

I would like to also return an error message if something went wrong.. but because all the logic for deleting messages is in my model it's quite hard to do this.

Can anyone provide a solution with an example of how I could use some kind of condition to show my success message if messages were deleted and an error if they weren't because something went wrong. There must me some kind of markers I can put in the class methods to confirm they have passed a certain point successfully.

Thanks for your time
Kind regards",ruby-on-rails,ruby,ruby-on-rails-3,ruby-on-rails-3.1,rubygems,,open,0,607,27,"How to set some type of marker in a method so that I can tell whether the method was executed successfully or not in ruby on rails I have class methods like these in a ""message"" model:



     def delete_all_users_messages(user_id, parent_id)
              message = Message.find_by_parent_id(parent_id)
              message.children.where(:sender_id => user_id ).update_all(:sender_status => 1)
              message.children.where(:recipient_id => user_id ).update_all(:recipient_status => 1 )
              thread = message.message_thread
              thread.update_attribute(:sender_status, 1) if thread.sender_id == user_id 
              thread.update_attribute(:recipient_status, 1) if thread.recipient_id == user_id 
                if thread.sender_status == 1 && thread.recipient_status == 1
                thread.delete
                Message.delete_all(:parent_id => parent_id)
                end
            end
    
            def delete_all_users_selected_messages(message_ids, user_id, parent_id)
              Message.where(:id => message_ids, :sender_id => user_id).update_all(:sender_status => 1)
              Message.where(:id => message_ids, :recipient_id => user_id).update_all(:recipient_status => 1)
              Message.where('id != ? AND parent_id = ?', parent_id, parent_id).where(:sender_status => 1, :recipient_status => 1).delete_all
              thread = MessageThread.find_by_message_id(parent_id)
              children_exist = thread.message.children.where('id != ? AND parent_id = ?', parent_id, parent_id).any?
                unless children_exist
                  thread.delete 
                  thread.message.delete
                end

I use them in my messages_controller like this:

    def destroy_all_messages
        Message.delete_all_users_messages(current_user.id, params[:format])
        flash[:success] = ""Messages deleted""
        redirect_to messages_path
      end
      
    
      def destroy_selected_messages
        Message.delete_all_users_selected_messages(params[:message_ids], current_user.id, params[:format])
          flash[:success] = ""Messages deleted""
          redirect_to :back
      end

I would like to also return an error message if something went wrong.. but because all the logic for deleting messages is in my model it's quite hard to do this.

Can anyone provide a solution with an example of how I could use some kind of condition to show my success message if messages were deleted and an error if they weren't because something went wrong. There must me some kind of markers I can put in the class methods to confirm they have passed a certain point successfully.

Thanks for your time
Kind regards",5
8410878,12/07/2011 05:37:24,1045485,11/14/2011 11:29:55,1,0,String in rails,"Hey ve all know in rails to reverse the character ve write lik 
                       s= Kamal Rahul Naraen
                       s.reverse  => Naraen Rahul Kamal

    Now i want to reorder tiz characters as ""Rahul kamal Naraen"" in rails. Anyone guide me how to reorder tiz characters nd provide me the code...",ruby-on-rails,reverse,,,,12/14/2011 14:05:29,not a real question,1,97,3,"String in rails Hey ve all know in rails to reverse the character ve write lik 
                       s= Kamal Rahul Naraen
                       s.reverse  => Naraen Rahul Kamal

    Now i want to reorder tiz characters as ""Rahul kamal Naraen"" in rails. Anyone guide me how to reorder tiz characters nd provide me the code...",2
7112277,08/18/2011 18:28:05,413570,08/07/2010 00:08:37,195,5,What's Rubinius?,"how can I get all available urls of my application, I don't mean rake routes I mean some code that returns literally all the urls (or paths)

for example

let's say it's a blog application, with this code I should be able to see:

/
/about
/contact
/posts
/posts/2011-08-18
/posts/2011-08-18/blah-blah
/posts/2011-08-15/lalala
/posts/2011-08-18/foo
/posts/2011-08-18/bar
/posts/2011-08-18/baz 

Well, this is the point.. do you have any idea on how to do it?

A appreciate any reply!

Thanks in advance.",ruby-on-rails,ruby,,,,08/19/2011 07:53:55,not a real question,1,62,2,"What's Rubinius? how can I get all available urls of my application, I don't mean rake routes I mean some code that returns literally all the urls (or paths)

for example

let's say it's a blog application, with this code I should be able to see:

/
/about
/contact
/posts
/posts/2011-08-18
/posts/2011-08-18/blah-blah
/posts/2011-08-15/lalala
/posts/2011-08-18/foo
/posts/2011-08-18/bar
/posts/2011-08-18/baz 

Well, this is the point.. do you have any idea on how to do it?

A appreciate any reply!

Thanks in advance.",2
10839699,05/31/2012 19:04:50,1429146,05/31/2012 18:12:15,1,0,Virtual attribute is not set before attr_encrypted uses said virtual attribute for encryption key,"When `encryption_key` is called by `attr_encrypted`, `:passphrase` hasn't been set. The encryption key ends up being a sha1 hash of the salt; it *should* be a sha1 hash of the passphrase and salt.

The salt is generated on creation and saved in the database.

How do I use the `:passphrase` virtual attribute in the encryption key?

Any suggestions?

For brevity I ommitted a bunch of code.

<!-- language: lang-rb -->

    class Employee < ActiveRecord::Base
        require 'digest/sha1'
        attr_accessor :passphrase, :ssn
        attr_accessible :passphrase, :ssn
        attr_encrypted :ssn, :key => proc { |employee| ""#{employee.encryption_key}"" }

        def encryption_key
            unless salt?
                self.salt = Digest::SHA1.hexdigest(generate_salt)
            end

            Digest::SHA1.hexdigest([passphrase, self.salt].join)
        end
    end

    class EmployeesController < ApplicationController
        def create
            @employee = @parent.employees.new(params[:employee])
            if @employee.save
                redirect_to @parent
            else
                render action: ""new""
            end
        end
    end


Thanks in advance!",ruby-on-rails,virtual-attribute,attr-accessible,attr-accessor,attr-encrypted,,open,0,310,14,"Virtual attribute is not set before attr_encrypted uses said virtual attribute for encryption key When `encryption_key` is called by `attr_encrypted`, `:passphrase` hasn't been set. The encryption key ends up being a sha1 hash of the salt; it *should* be a sha1 hash of the passphrase and salt.

The salt is generated on creation and saved in the database.

How do I use the `:passphrase` virtual attribute in the encryption key?

Any suggestions?

For brevity I ommitted a bunch of code.

<!-- language: lang-rb -->

    class Employee < ActiveRecord::Base
        require 'digest/sha1'
        attr_accessor :passphrase, :ssn
        attr_accessible :passphrase, :ssn
        attr_encrypted :ssn, :key => proc { |employee| ""#{employee.encryption_key}"" }

        def encryption_key
            unless salt?
                self.salt = Digest::SHA1.hexdigest(generate_salt)
            end

            Digest::SHA1.hexdigest([passphrase, self.salt].join)
        end
    end

    class EmployeesController < ApplicationController
        def create
            @employee = @parent.employees.new(params[:employee])
            if @employee.save
                redirect_to @parent
            else
                render action: ""new""
            end
        end
    end


Thanks in advance!",5
1047943,06/26/2009 08:17:06,20134,09/21/2008 23:48:40,58,11,Best way to version a rails app?,What would be the best way to version a rails application? We want to start to get into more structured testing cycles and having a set version per build is a part of that. We use subversion but I would like to avoid using revision numbers for versions. Is there an easy way to do this automatically? Or should I just define a app_version method in the application helper? ,ruby-on-rails,version-control,versioning,,,04/18/2012 16:07:43,not constructive,1,70,7,Best way to version a rails app? What would be the best way to version a rails application? We want to start to get into more structured testing cycles and having a set version per build is a part of that. We use subversion but I would like to avoid using revision numbers for versions. Is there an easy way to do this automatically? Or should I just define a app_version method in the application helper? ,3
10825710,05/30/2012 23:36:34,1254034,03/07/2012 07:09:53,1,0,What is a great first project in Rails?,"I was thinking that I should create a Twitter clone seeing that it's built on Ruby, but I am wondering what you guys would do as a first project?",ruby-on-rails,ruby,,,,05/30/2012 23:40:01,not constructive,1,29,8,"What is a great first project in Rails? I was thinking that I should create a Twitter clone seeing that it's built on Ruby, but I am wondering what you guys would do as a first project?",2
10934218,06/07/2012 14:50:16,1422120,05/28/2012 16:41:51,1,0,Chapter 8 Ruby On Rails by Michael Hartl. Authentication_pages_spec.rb,"I was doing chapter 8 of Ruby on Rails by Michael Hartl, I finished the chapter, finally ran my test and got a few errors. I checked if my codes were right by cross checking with Michael Hartl's github relevant files and also by viewing his recent screencast and yet I cannot seem to figure out the error. 

Could you please kindly tell me the error and the solution like what I need to change? 

ERRORS

  2) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x4366b
d8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  3) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x43fdd
60>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  4) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x44773
38>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  5) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x4153f
f8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  6) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x4347f
a8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  7) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x43e1e
d8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  8) Authentication signin with valid information followed by signout
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x446dc
18>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m


SESSIONS_CONTROLLER.RB FILE

class SessionsController < ApplicationController

  def new
  end

  def create

    user = User.find_by_email(params[:session][:email])
    
    if user && user.authenticate(params[:session][:password])
      
       sign_in user
      
       redirect_back_or user
    else
      
       flash.now[:error] = ""Invalid email/password combination""
      
       render 'new'
    end
  end

  def destroy
    sign_out
    redirect_to root_path
  end
end

UTILITIES.RB FILE

include ApplicationHelper

RSpec::Matchers.define :have_error_message do |message|
  
   match do |page|
   
    page.should have_selector('div.alert.alert-error', text: 'Invalid')
  end
end

def sign_in(user)
  
  visit signin_path
  
  fill_in ""Email"",    with: user.email
  
  fill_in ""Password"", with: user.password
  
  click_button ""Sign in""
  
  # Sign in when not using Capybara.
  
  cookies[:remember_token] = user.remember_token
end

AUTHENTICATION_PAGES_SPEC.RB FILE

require 'spec_helper'

describe ""Authentication"" do

  subject { page }

  describe ""signin page"" do
    before { visit signin_path }

    it { should have_selector('h1',    text: 'Sign in') }
    it { should have_selector('title', text: 'Sign in') }
  end

  describe ""signin"" do
    before { visit signin_path }
    
    describe ""with invalid information"" do
      before { click_button ""Sign in"" }

      it { should have_selector('title', text: 'Sign in') }
      it { should have_error_message }

      describe ""after visiting another page"" do
        before { click_link ""Home"" }
        it { should_not have_error_message }
      end
    end

    describe ""with valid information"" do
      let(:user) { FactoryGirl.create(:user) }
      before { sign_in user }

      it { should have_selector('title', text: user.name) }
      it { should have_link('Profile',     href: user_path(user)) }
      it { should have_link('Sign out',    href: signout_path) }
      it { should have_link('Settings',    href: edit_user_path(user)) }
      it { should have_link('Users',       href: users_path) }
      it { should_not have_link('Sign in', href: signin_path) }

      describe ""followed by signout"" do
        before { click_link ""Sign out"" }
        it { should have_link('Sign in') }
      end
    end
  end
end 








",ruby-on-rails,,,,,,open,0,1040,9,"Chapter 8 Ruby On Rails by Michael Hartl. Authentication_pages_spec.rb I was doing chapter 8 of Ruby on Rails by Michael Hartl, I finished the chapter, finally ran my test and got a few errors. I checked if my codes were right by cross checking with Michael Hartl's github relevant files and also by viewing his recent screencast and yet I cannot seem to figure out the error. 

Could you please kindly tell me the error and the solution like what I need to change? 

ERRORS

  2) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x4366b
d8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  3) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x43fdd
60>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  4) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x44773
38>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  5) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x4153f
f8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  6) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x4347f
a8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  7) Authentication signin with valid information
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x43e1e
d8>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m

  8) Authentication signin with valid information followed by signout
     ←[31mFailure/Error:←[0m ←[31mbefore { sign_in user }←[0m
     ←[31mNoMethodError:←[0m
       ←[31mundefined method `redirect_back_or' for #<SessionsController:0x446dc
18>←[0m
←[36m     # ./app/controllers/sessions_controller.rb:10:in `create'←[0m
←[36m     # (eval):2:in `click_button'←[0m
←[36m     # ./spec/support/utilities.rb:13:in `sign_in'←[0m
←[36m     # ./spec/requests/authentication_pages_spec.rb:31:in `block (4 levels)
 in <top (required)>'←[0m


SESSIONS_CONTROLLER.RB FILE

class SessionsController < ApplicationController

  def new
  end

  def create

    user = User.find_by_email(params[:session][:email])
    
    if user && user.authenticate(params[:session][:password])
      
       sign_in user
      
       redirect_back_or user
    else
      
       flash.now[:error] = ""Invalid email/password combination""
      
       render 'new'
    end
  end

  def destroy
    sign_out
    redirect_to root_path
  end
end

UTILITIES.RB FILE

include ApplicationHelper

RSpec::Matchers.define :have_error_message do |message|
  
   match do |page|
   
    page.should have_selector('div.alert.alert-error', text: 'Invalid')
  end
end

def sign_in(user)
  
  visit signin_path
  
  fill_in ""Email"",    with: user.email
  
  fill_in ""Password"", with: user.password
  
  click_button ""Sign in""
  
  # Sign in when not using Capybara.
  
  cookies[:remember_token] = user.remember_token
end

AUTHENTICATION_PAGES_SPEC.RB FILE

require 'spec_helper'

describe ""Authentication"" do

  subject { page }

  describe ""signin page"" do
    before { visit signin_path }

    it { should have_selector('h1',    text: 'Sign in') }
    it { should have_selector('title', text: 'Sign in') }
  end

  describe ""signin"" do
    before { visit signin_path }
    
    describe ""with invalid information"" do
      before { click_button ""Sign in"" }

      it { should have_selector('title', text: 'Sign in') }
      it { should have_error_message }

      describe ""after visiting another page"" do
        before { click_link ""Home"" }
        it { should_not have_error_message }
      end
    end

    describe ""with valid information"" do
      let(:user) { FactoryGirl.create(:user) }
      before { sign_in user }

      it { should have_selector('title', text: user.name) }
      it { should have_link('Profile',     href: user_path(user)) }
      it { should have_link('Sign out',    href: signout_path) }
      it { should have_link('Settings',    href: edit_user_path(user)) }
      it { should have_link('Users',       href: users_path) }
      it { should_not have_link('Sign in', href: signin_path) }

      describe ""followed by signout"" do
        before { click_link ""Sign out"" }
        it { should have_link('Sign in') }
      end
    end
  end
end 








",1
3794270,09/25/2010 14:54:08,439636,09/04/2010 14:26:55,15,0,is ruby on rails (or at least the community) dying?,"This is an honest question and I am not trolling. 

As a newbie to rails I've been search for good rails resources. But I've been noticing many sites that apparently were once popular now being completely abandoned. Some examples:

 - http://www.softiesonrails.com/ - last updated Feb 2010
 - http://www.therailsway.com/ - last updated Aug 2009
 - http://nubyonrails.com/ - last updated Aug 2009
 - http://www.railsenvy.com/ - nothing there now
 - http://edgerails.info/ - last updated Feb 2010

Am I just coincidentally going to all the wrong websites/blogs (even though they're the top hits on google) or is the rails community slowly dying off? If I just happen to be going to the wrong sites can someone please point me to some currently updated sites?",ruby-on-rails,ruby,ruby-on-rails-3,,,09/25/2010 23:59:59,not constructive,1,119,10,"is ruby on rails (or at least the community) dying? This is an honest question and I am not trolling. 

As a newbie to rails I've been search for good rails resources. But I've been noticing many sites that apparently were once popular now being completely abandoned. Some examples:

 - http://www.softiesonrails.com/ - last updated Feb 2010
 - http://www.therailsway.com/ - last updated Aug 2009
 - http://nubyonrails.com/ - last updated Aug 2009
 - http://www.railsenvy.com/ - nothing there now
 - http://edgerails.info/ - last updated Feb 2010

Am I just coincidentally going to all the wrong websites/blogs (even though they're the top hits on google) or is the rails community slowly dying off? If I just happen to be going to the wrong sites can someone please point me to some currently updated sites?",3
10169544,04/16/2012 06:23:42,631261,02/23/2011 22:49:37,130,6,Rails functional testing on has_and_belongs_to_many issue,"I am relatively new to Ruby and rails and am stuck on a issue I cannot get my head around. I have two models PricingRuleType and PricingRule that are set up as shown below.

    class PricingRuleType < ActiveRecord::Base
      attr_accessible :type_of_rule
      has_and_belongs_to_many :product_rules
      validates :type_of_rule, :presence => true
    end

    class ProductRule < ActiveRecord::Base
      has_and_belongs_to_many :pricing_rule_types
      validates :pricing_rule_type, :discount_per_unit, :number_of_units, :presence => true
      validates :discount_per_unit, :numericality => {:greater_than_or_equal_to => 0.01}
    end

The functional test for the create and update methods are shown below:

    1) Error:
    test_should_create_product_rule(ProductRulesControllerTest):
    NoMethodError: undefined method `stringify_keys' for ""revoo_rule"":String
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:69:in `assign_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/base.rb:495:in `initialize'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:44:in `new'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:44:in `create'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:167:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rendering.rb:10:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:414:in `_run__580034481047679801__process_action__1008436725406406543__callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:405:in `__run_callback'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:17:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rescue.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `block in instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/params_wrapper.rb:205:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:121:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/rendering.rb:45:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/testing.rb:17:in `process_with_new_base_test'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:464:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:49:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:385:in `post'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/test/functional/product_rules_controller_test.rb:27:in `block (2 levels) in <class:ProductRulesControllerTest>'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/testing/assertions.rb:55:in `assert_difference'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/test/functional/product_rules_controller_test.rb:26:in `block in <class:ProductRulesControllerTest>'

 

    2) Error:
    test_should_update_product_rule(ProductRulesControllerTest):
    NoMethodError: undefined method `each' for ""1"":String
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/associations/collection_association.rb:308:in `replace'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/associations/collection_association.rb:41:in `writer'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/associations/builder/association.rb:51:in `block in define_writers'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:85:in `block in assign_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:78:in `each'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:78:in `assign_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/persistence.rb:212:in `block in update_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/transactions.rb:295:in `block in with_transaction_returning_status'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:190:in `transaction'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/transactions.rb:208:in `transaction'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/persistence.rb:211:in `update_attributes'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:63:in `block in update'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/mime_responds.rb:269:in `call'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/mime_responds.rb:269:in `retrieve_response_from_mimes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/mime_responds.rb:194:in `respond_to'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:62:in `update'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:167:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rendering.rb:10:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:414:in `_run__580034481047679801__process_action__1983642789249364420__callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:405:in `__run_callback'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:17:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rescue.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `block in instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/params_wrapper.rb:205:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:121:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/rendering.rb:45:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/testing.rb:17:in `process_with_new_base_test'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:464:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:49:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:390:in `put'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/test/functional/product_rules_controller_test.rb:44:in `block in <class:ProductRulesControllerTest>'

My test controllers are shown below:

    require 'test_helper'
    
    class ProductRulesControllerTest < ActionController::TestCase
      fixtures :product_rules
      setup do
        @product_rule = product_rules(:one)
        @update = {
          :number_of_units => 3, 
          :discount_per_unit => 2.3,
          :pricing_rule_type => pricing_rule_types(:revoo_pricing_rule)
        }
      end
    
      test ""should get index"" do
        get :index
        assert_response :success
        assert_not_nil assigns(:product_rules)
      end
    
      test ""should get new"" do
        get :new
        assert_response :success
      end
    
      test ""should create product_rule"" do
        assert_difference('ProductRule.count') do
          post :create, :product_rule => :revoo_rule
        end
    
        assert_redirected_to product_rule_path(assigns(:product_rule))
      end
    
      test ""should show product_rule"" do
        get :show, id: @product_rule
        assert_response :success
      end
    
      test ""should get edit"" do
        get :edit, id: @product_rule
        assert_response :success
      end
    
      test ""should update product_rule"" do
        put :update, id: @product_rule.to_param, :product_rule => @update
        assert_redirected_to product_rule_path(assigns(:product_rule))
      end
    
      test ""should destroy product_rule"" do
        assert_difference('ProductRule.count', -1) do
          delete :destroy, id: @product_rule
        end
    
        assert_redirected_to product_rules_path
      end
    end

I am not entirely sure why am I am getting that error and have been stuck on it for a while. Could this for any reason be due to the fact that I have included a has_and_belongs_to_many relationship. I have other models that are set up in a similar way to the above two but without this relationship and they don't seem to throw any errors.Any help is much appreciated.",ruby-on-rails,ruby,functional-testing,,,,open,0,1350,6,"Rails functional testing on has_and_belongs_to_many issue I am relatively new to Ruby and rails and am stuck on a issue I cannot get my head around. I have two models PricingRuleType and PricingRule that are set up as shown below.

    class PricingRuleType < ActiveRecord::Base
      attr_accessible :type_of_rule
      has_and_belongs_to_many :product_rules
      validates :type_of_rule, :presence => true
    end

    class ProductRule < ActiveRecord::Base
      has_and_belongs_to_many :pricing_rule_types
      validates :pricing_rule_type, :discount_per_unit, :number_of_units, :presence => true
      validates :discount_per_unit, :numericality => {:greater_than_or_equal_to => 0.01}
    end

The functional test for the create and update methods are shown below:

    1) Error:
    test_should_create_product_rule(ProductRulesControllerTest):
    NoMethodError: undefined method `stringify_keys' for ""revoo_rule"":String
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:69:in `assign_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/base.rb:495:in `initialize'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:44:in `new'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:44:in `create'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:167:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rendering.rb:10:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:414:in `_run__580034481047679801__process_action__1008436725406406543__callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:405:in `__run_callback'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:17:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rescue.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `block in instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/params_wrapper.rb:205:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:121:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/rendering.rb:45:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/testing.rb:17:in `process_with_new_base_test'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:464:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:49:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:385:in `post'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/test/functional/product_rules_controller_test.rb:27:in `block (2 levels) in <class:ProductRulesControllerTest>'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/testing/assertions.rb:55:in `assert_difference'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/test/functional/product_rules_controller_test.rb:26:in `block in <class:ProductRulesControllerTest>'

 

    2) Error:
    test_should_update_product_rule(ProductRulesControllerTest):
    NoMethodError: undefined method `each' for ""1"":String
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/associations/collection_association.rb:308:in `replace'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/associations/collection_association.rb:41:in `writer'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/associations/builder/association.rb:51:in `block in define_writers'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:85:in `block in assign_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:78:in `each'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/attribute_assignment.rb:78:in `assign_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/persistence.rb:212:in `block in update_attributes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/transactions.rb:295:in `block in with_transaction_returning_status'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:190:in `transaction'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/transactions.rb:208:in `transaction'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/persistence.rb:211:in `update_attributes'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:63:in `block in update'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/mime_responds.rb:269:in `call'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/mime_responds.rb:269:in `retrieve_response_from_mimes'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/mime_responds.rb:194:in `respond_to'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/app/controllers/product_rules_controller.rb:62:in `update'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:167:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rendering.rb:10:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:414:in `_run__580034481047679801__process_action__1983642789249364420__callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:405:in `__run_callback'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/callbacks.rb:17:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/rescue.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `block in instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.2.1/lib/active_support/notifications.rb:123:in `instrument'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/params_wrapper.rb:205:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.1/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/base.rb:121:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/abstract_controller/rendering.rb:45:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/metal/testing.rb:17:in `process_with_new_base_test'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:464:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:49:in `process'
        /Users/kushaldsouza/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.2.1/lib/action_controller/test_case.rb:390:in `put'
        /Users/kushaldsouza/Documents/Client Projects/Revoo/test/functional/product_rules_controller_test.rb:44:in `block in <class:ProductRulesControllerTest>'

My test controllers are shown below:

    require 'test_helper'
    
    class ProductRulesControllerTest < ActionController::TestCase
      fixtures :product_rules
      setup do
        @product_rule = product_rules(:one)
        @update = {
          :number_of_units => 3, 
          :discount_per_unit => 2.3,
          :pricing_rule_type => pricing_rule_types(:revoo_pricing_rule)
        }
      end
    
      test ""should get index"" do
        get :index
        assert_response :success
        assert_not_nil assigns(:product_rules)
      end
    
      test ""should get new"" do
        get :new
        assert_response :success
      end
    
      test ""should create product_rule"" do
        assert_difference('ProductRule.count') do
          post :create, :product_rule => :revoo_rule
        end
    
        assert_redirected_to product_rule_path(assigns(:product_rule))
      end
    
      test ""should show product_rule"" do
        get :show, id: @product_rule
        assert_response :success
      end
    
      test ""should get edit"" do
        get :edit, id: @product_rule
        assert_response :success
      end
    
      test ""should update product_rule"" do
        put :update, id: @product_rule.to_param, :product_rule => @update
        assert_redirected_to product_rule_path(assigns(:product_rule))
      end
    
      test ""should destroy product_rule"" do
        assert_difference('ProductRule.count', -1) do
          delete :destroy, id: @product_rule
        end
    
        assert_redirected_to product_rules_path
      end
    end

I am not entirely sure why am I am getting that error and have been stuck on it for a while. Could this for any reason be due to the fact that I have included a has_and_belongs_to_many relationship. I have other models that are set up in a similar way to the above two but without this relationship and they don't seem to throw any errors.Any help is much appreciated.",3
11391679,07/09/2012 08:44:46,468345,10/06/2010 18:50:33,1306,11,Ubuntu 12 - how to install Ruby and Rails correctly,"I read a lot of articles regarding installing `Ruby 1.9` and Ruby on `Rails 3.2.3` on `Ubuntu 12`. And I've installed them previously. But it took much time, about 5 days. I made many mistakes and I was very tired of that.

Now I need to do it again. Obviously I want it to be effortless and correct. Like in Windows using Rails installer and Ruby installer. 

Can anyone give me a link about how to install them correctly(!)? Or maybe you know the right way?",ruby-on-rails,ruby,ubuntu-12.04,,,07/09/2012 13:42:02,not constructive,1,85,10,"Ubuntu 12 - how to install Ruby and Rails correctly I read a lot of articles regarding installing `Ruby 1.9` and Ruby on `Rails 3.2.3` on `Ubuntu 12`. And I've installed them previously. But it took much time, about 5 days. I made many mistakes and I was very tired of that.

Now I need to do it again. Obviously I want it to be effortless and correct. Like in Windows using Rails installer and Ruby installer. 

Can anyone give me a link about how to install them correctly(!)? Or maybe you know the right way?",3
10868161,06/03/2012 05:38:18,353217,05/28/2010 19:50:24,521,23,scope of @m and application helpers,"I'm a little confused about the purpose of doing this:

    module SessionsHelper
       def current_user=(user)
           @current_user = user
       end
    end
source: http://ruby.railstutorial.org/chapters/sign-in-sign-out#code:current_user_equals

because through our controller we set @user, which has a the scope between controller, and views, so why do we need to define it explicitly?

Also, the explanation is allows for: 

    redirect_to current_user

how does the function current_user, know when I say redirect_to (function) im talking about @variable_path ? (in this case user_path)
",ruby-on-rails,,,,,,open,0,102,6,"scope of @m and application helpers I'm a little confused about the purpose of doing this:

    module SessionsHelper
       def current_user=(user)
           @current_user = user
       end
    end
source: http://ruby.railstutorial.org/chapters/sign-in-sign-out#code:current_user_equals

because through our controller we set @user, which has a the scope between controller, and views, so why do we need to define it explicitly?

Also, the explanation is allows for: 

    redirect_to current_user

how does the function current_user, know when I say redirect_to (function) im talking about @variable_path ? (in this case user_path)
",1
5302918,03/14/2011 18:42:35,262983,01/31/2010 16:54:29,830,55,Rails - Delivering downloadable files after payment,"I am looking for a way to deliver purchased files to users of a web app. Basically a user will purchase a 'product' from my site, at which point they can download the files they purchased (will likely be a zip file that I have precompiled)

I am using Rails 2.3.8, and have the payment processing working the Braintree Solutions. Is there a standard way of acheiving this, using short codes, or something? Does Braintree have something built in, does a plugin/gem exists?

I'm really looking for just a push in the right direction as to how this is typically done.. 

Thanks!",ruby-on-rails,file-download,payment-processing,braintree,,,open,0,100,7,"Rails - Delivering downloadable files after payment I am looking for a way to deliver purchased files to users of a web app. Basically a user will purchase a 'product' from my site, at which point they can download the files they purchased (will likely be a zip file that I have precompiled)

I am using Rails 2.3.8, and have the payment processing working the Braintree Solutions. Is there a standard way of acheiving this, using short codes, or something? Does Braintree have something built in, does a plugin/gem exists?

I'm really looking for just a push in the right direction as to how this is typically done.. 

Thanks!",4
3392804,08/03/2010 00:27:59,325068,04/24/2010 19:08:08,29,1,Organizing a bunch of controllers that all deal with the same model,"I have a bunch of different controllers that all deal with the same basic model.  For example...

 - FoobarController
 - FoobarShareController
 - FoobarTakeController
 - FoobarToolsController
 - FoobarVerifyController

They all do various things to the foobar model and I kind of wanted a better way to organize them along with other things that deal with the rest of the site like all the stuff that doesn't specifically deal with Foobar but just general site usage like the UserController, DashboardController, MainController.

My idea was to put everything into namespaces so I would have the Foobar module and the Site module.  The issue with that is in the case of say the Foobar:FoobarController my paths would be foobar_foobar_path and similarly the urls would look kind of odd.  

This seems less then ideal so I was wondering what the best way to do this kind of organization was instead of having everything just in one directory and thus one namespace.",ruby-on-rails,ruby,organization,,,,open,0,157,12,"Organizing a bunch of controllers that all deal with the same model I have a bunch of different controllers that all deal with the same basic model.  For example...

 - FoobarController
 - FoobarShareController
 - FoobarTakeController
 - FoobarToolsController
 - FoobarVerifyController

They all do various things to the foobar model and I kind of wanted a better way to organize them along with other things that deal with the rest of the site like all the stuff that doesn't specifically deal with Foobar but just general site usage like the UserController, DashboardController, MainController.

My idea was to put everything into namespaces so I would have the Foobar module and the Site module.  The issue with that is in the case of say the Foobar:FoobarController my paths would be foobar_foobar_path and similarly the urls would look kind of odd.  

This seems less then ideal so I was wondering what the best way to do this kind of organization was instead of having everything just in one directory and thus one namespace.",3
4170056,11/12/2010 23:57:27,336547,05/09/2010 07:39:23,75,7,Grails or Rails?,"I know that there have been plenty of topics describing this topic but I still can't put up my mind what to choose.First of all, I need you to know that I am a student in his last year, who will probably continue studying for a few years. However, I'm trying to find what I would benefit most from.

I've been in contact with RoR last year; seeing Ruby's squirky syntax amazed me, and Rails CoC and DRY principles make me dream. I've written some scripts to generate sql statements in Ruby, but that is about all.

I'm considered to be a  java developer, as they call me the java guy on school, (no, i do not consider myself good, on the contrary, every day I realise more how much more i've got to learn). Now, I've taught myself several technologies related to java. To make my work easier, I opted learning hibernate and maven. Now we are developping an application in Spring + Spring MVC.

Grails caught my attention lately since it is built on top of these technologies, and uses a language that is similar to java, and allows access to java classes.

However, i'm not sure what is the best way to go. Should I struggle through Ruby's quirkyness first, and learn Rails? Or would learning Grails first give me an advantage over learning RoR?

Also, as far as from what i've read, RoR would give me a bigger advantage on the market than grails would; but how do I get a ""proof"" that I can use RoR? Would it be enough to be able to show applications made using RoR? ",ruby-on-rails,ruby,grails,groovy,,11/13/2010 23:26:14,not constructive,1,271,3,"Grails or Rails? I know that there have been plenty of topics describing this topic but I still can't put up my mind what to choose.First of all, I need you to know that I am a student in his last year, who will probably continue studying for a few years. However, I'm trying to find what I would benefit most from.

I've been in contact with RoR last year; seeing Ruby's squirky syntax amazed me, and Rails CoC and DRY principles make me dream. I've written some scripts to generate sql statements in Ruby, but that is about all.

I'm considered to be a  java developer, as they call me the java guy on school, (no, i do not consider myself good, on the contrary, every day I realise more how much more i've got to learn). Now, I've taught myself several technologies related to java. To make my work easier, I opted learning hibernate and maven. Now we are developping an application in Spring + Spring MVC.

Grails caught my attention lately since it is built on top of these technologies, and uses a language that is similar to java, and allows access to java classes.

However, i'm not sure what is the best way to go. Should I struggle through Ruby's quirkyness first, and learn Rails? Or would learning Grails first give me an advantage over learning RoR?

Also, as far as from what i've read, RoR would give me a bigger advantage on the market than grails would; but how do I get a ""proof"" that I can use RoR? Would it be enough to be able to show applications made using RoR? ",4
4822052,01/27/2011 21:24:48,592908,01/27/2011 21:24:48,1,0,"Installing Rails: ""File not found: lib""","Whenever I try to install Rails on Ubuntu Server, I get the error, File not found: lib. Why is this?
",ruby-on-rails,ruby,ubuntu,,,,open,0,20,6,"Installing Rails: ""File not found: lib"" Whenever I try to install Rails on Ubuntu Server, I get the error, File not found: lib. Why is this?
",3
3954170,10/17/2010 16:41:24,473481,10/12/2010 15:08:51,68,6,Best way to teach yourself Ruby?,"I have a decent amount of web development and programming experience with C, C++ and several markup languages. In order to expand my knowledge I've decided to learn Ruby and I'm wondering what you guys recommend as being the best way to teach it to yourself. I took a quick browse through the books available at Amazon but nothing immediately jumped out at me.

Thanks a lot in advance, I really appreciate it.",ruby-on-rails,ruby,self-teaching,,,04/18/2012 12:05:48,not constructive,1,72,6,"Best way to teach yourself Ruby? I have a decent amount of web development and programming experience with C, C++ and several markup languages. In order to expand my knowledge I've decided to learn Ruby and I'm wondering what you guys recommend as being the best way to teach it to yourself. I took a quick browse through the books available at Amazon but nothing immediately jumped out at me.

Thanks a lot in advance, I really appreciate it.",3
11199772,06/26/2012 01:49:54,388928,07/11/2010 15:52:05,160,2,Use JRuby (or IronRuby) to boots performance of Rails on Windows?,"I am currently developing Rails on a Windows laptop, but it runs very slowly. Would it be worthwhile to try running rails on JRuby or IronRuby to speed up performance? ",ruby-on-rails,ruby,performance,jruby,ironruby,,open,0,31,11,"Use JRuby (or IronRuby) to boots performance of Rails on Windows? I am currently developing Rails on a Windows laptop, but it runs very slowly. Would it be worthwhile to try running rails on JRuby or IronRuby to speed up performance? ",5
1582568,10/17/2009 16:19:51,4045,09/01/2008 14:14:53,161,16,Chaining a calendar_date_select to a select in ActoveScaffold,"I am trying to chain a calendaer_date_select to a select field, so the select list is filtered by the choosen date. I have followed the instructions as described [here][1]


I have in the activescaffold config:

    config.columns[:order_date].form_ui = :calendar_date_select
    config.columns[:order_date].options = {:update_column => :sale}
    config.columns[:sale].form_ui = :select

... and in the helper:

    def options_for_association_conditions(association)
      if association.name == :sale
        {'sales.order_date' => @record.order_date}
      else
        super
      end
    end

The problem is that picking a date from the javascript widget thingy
doesn't trigger the select to refresh. However if I type in the date
then it does. Any ideas? 


  [1]: http://wiki.github.com/activescaffold/active_scaffold/chaining-form-fields",ruby-on-rails,activescaffold,,,,,open,0,137,8,"Chaining a calendar_date_select to a select in ActoveScaffold I am trying to chain a calendaer_date_select to a select field, so the select list is filtered by the choosen date. I have followed the instructions as described [here][1]


I have in the activescaffold config:

    config.columns[:order_date].form_ui = :calendar_date_select
    config.columns[:order_date].options = {:update_column => :sale}
    config.columns[:sale].form_ui = :select

... and in the helper:

    def options_for_association_conditions(association)
      if association.name == :sale
        {'sales.order_date' => @record.order_date}
      else
        super
      end
    end

The problem is that picking a date from the javascript widget thingy
doesn't trigger the select to refresh. However if I type in the date
then it does. Any ideas? 


  [1]: http://wiki.github.com/activescaffold/active_scaffold/chaining-form-fields",2
5213276,03/06/2011 20:43:23,183717,10/03/2009 20:08:39,906,0,No validation error in IRB console - Rails,"All,

I created a scaffold application with a model (`Post`) having a single field `name`. I performed the migration and tested by inserting values in the table for the field `name`. Now when I added the following changes to my model for validation purposes, no error is thrown for invalid entries. Changes to file `/app/models/Post.rb`

    class Post < ActiveRecord::Base
       validates_presence_of :name
    end

In IRB, added all invalid entries successfully.
`Post.create(:name => nil).valid? returns true`.

Is there something I need to do after adding validations to the model? It seems my code changes are not being picked up when adding records.",ruby-on-rails,validation,activerecord,,,03/07/2011 03:16:26,too localized,1,108,8,"No validation error in IRB console - Rails All,

I created a scaffold application with a model (`Post`) having a single field `name`. I performed the migration and tested by inserting values in the table for the field `name`. Now when I added the following changes to my model for validation purposes, no error is thrown for invalid entries. Changes to file `/app/models/Post.rb`

    class Post < ActiveRecord::Base
       validates_presence_of :name
    end

In IRB, added all invalid entries successfully.
`Post.create(:name => nil).valid? returns true`.

Is there something I need to do after adding validations to the model? It seems my code changes are not being picked up when adding records.",3
9875786,03/26/2012 16:16:43,888170,08/10/2011 15:01:51,51,2,Assign multiple css classes to a table element in Rails,"I'm trying to style a table row using both `cycle` and a helper, like shown: 

    <tr class= <%= cycle(""list-line-odd #{row_class(item)}"", ""list-line-even #{row_class(item)}"")%> >

However, when I do this, the resulting HTML is:

    <tr class = ""list-line-odd"" lowest-price>

with the return from the helper method not enclosed in the quotes, and therefore not recognized.

Here's the helper I'm using:

      def row_class(item)
        if item.highest_price > 0 and item.lowest_price > 0 and item.highest_price != item.lowest_price
          if item.current_price >= item.highest_price
            ""highest-price""
          elsif item.current_price <= item.lowest_price
        	""lowest-price""
          end
        end
      end

I must be missing something obvious, but I just can't figure out how to wrap both the result of cycle and the helper method return in the same set of quotes.  Any help would be greatly appreciated!

",ruby-on-rails,css,ruby-on-rails-3,,,,open,0,195,10,"Assign multiple css classes to a table element in Rails I'm trying to style a table row using both `cycle` and a helper, like shown: 

    <tr class= <%= cycle(""list-line-odd #{row_class(item)}"", ""list-line-even #{row_class(item)}"")%> >

However, when I do this, the resulting HTML is:

    <tr class = ""list-line-odd"" lowest-price>

with the return from the helper method not enclosed in the quotes, and therefore not recognized.

Here's the helper I'm using:

      def row_class(item)
        if item.highest_price > 0 and item.lowest_price > 0 and item.highest_price != item.lowest_price
          if item.current_price >= item.highest_price
            ""highest-price""
          elsif item.current_price <= item.lowest_price
        	""lowest-price""
          end
        end
      end

I must be missing something obvious, but I just can't figure out how to wrap both the result of cycle and the helper method return in the same set of quotes.  Any help would be greatly appreciated!

",3
10007937,04/04/2012 08:57:21,1307354,04/02/2012 06:27:27,108,0,rails route a path as an argument,"how to have 'something/like/this' route to any controller action with the whole 'something/like/this' as a string stored in params[:path]?

I tried

match ':path' => 'posts#index'

but clearly doesn't work.",ruby-on-rails,routing,,,,,open,0,26,7,"rails route a path as an argument how to have 'something/like/this' route to any controller action with the whole 'something/like/this' as a string stored in params[:path]?

I tried

match ':path' => 'posts#index'

but clearly doesn't work.",2
10719379,05/23/2012 11:55:07,1028956,11/04/2011 02:31:07,171,5,Polymorphic associations referencing user,"I've set up projects, tasks, and subtasks, all of wich are commentable. I have created comments model and connected the models but don't know how to properly validate for user id and how to test model code using Rpsec and Factory Girl. I am also using Devise.

**Comments Migration**

      1 class CreateComments < ActiveRecord::Migration
      2   def change               
      3     create_table :comments do |t|   
      4       t.references :user, :null => false
      5       t.text :comment,  :null => false,
      6                         :limit => 500                   
      7       t.references :commentable, :polymorphic => true
      8         # upper line is a shortcut for this
      9         # t.integer :commentable_id     
     10         # t.string :commentable_type    
     11       t.timestamps         
     12     end                    
     13     add_index :comments, :user_id   
     14     add_index :comments, :commentable_id
     15   end
     16 end

**Comment Model**
  

    1 class Comment < ActiveRecord::Base
      2         
      3   # RELATIONSHIPS   
      4   belongs_to :commentable, :polymorphic => true
      5 
      6   # VALIDATIONS            
      7   validates :user, :presence => true
      8   validates :comment, :presence => true,
      9                       :length => { :maximum => 500 }  
     10 
     11   # ATTRIBUTE ASSIGNMENT   
     12   attr_accessible :comment 
     13   
     14 end

**User Model**

      1 class User < ActiveRecord::Base
      2         
      3   # RELATIONSHIPS   
      4   has_many :synapses, :dependent => :destroy
      5   has_many :projects, :through => :synapses
      6 
      7   has_many :vesicles, :dependent => :destroy
      8   has_many :tasks, :through => :vesicles
      9 
     10   has_many :subvesicles, :dependent => :destroy
     11   has_many :subtasks, :through => :subvesicles, :dependent => :nullify
     12   
     13   has_many :comments, :as => :commentable, :dependent => :destroy
     14   
     15   # VALIDATIONS
     16   validates :name,  :presence => true,
     17                     :uniqueness => true             
     18 
     19   # ATTRIBUTE ASSIGNMENT   
     20   attr_accessible :name, :email, :password, :password_confirmation, :remember_me
     21 
     22   # DEVISE MODULES         
     23   # Include default devise modules. Others available are:
     24   # :token_authenticatable, :encryptable, :lockable, :timeoutable and :omniauthable
     25   devise :database_authenticatable, :registerable,
     26          :recoverable, :rememberable, :trackable, :validatable,
     27          :confirmable      
     28 
     29 end

**Comment Factory**

    105   factory :comment do
    106     comment ""This is some generic comment with some generic content""
    107   end

**Comment Model Specs**

      1 require 'spec_helper'      
      2         
      3 describe Comment do
      4 
      5   it 'Should create new comment' do
      6     FactoryGirl.build(:comment).should be_valid
      7   end                      
      8 
      9   it 'Should respond to method provided by polymorphism to find its parent' do
     10     FactoryGirl.build(:comment).should respond_to(:commentable)
     11   end                      
     12 
     13 end 

This 1st test currently fails with error message saying **undefined method `user' for #Comment:0xa88c354>**. But if I pass in user id like this...

    FactoryGirl.build(:comment, :user => confirmed_user).should be_valid

Than I should have user id set up as mass assignable attribute, and I don't want that (figure that some users might mess with that attribute and change it). **How to test and validate this properly?** Also, this is my 1st time doing polymorphic, so if you see anything silly, let me know.",ruby-on-rails,testing,polymorphism,,,,open,0,1223,4,"Polymorphic associations referencing user I've set up projects, tasks, and subtasks, all of wich are commentable. I have created comments model and connected the models but don't know how to properly validate for user id and how to test model code using Rpsec and Factory Girl. I am also using Devise.

**Comments Migration**

      1 class CreateComments < ActiveRecord::Migration
      2   def change               
      3     create_table :comments do |t|   
      4       t.references :user, :null => false
      5       t.text :comment,  :null => false,
      6                         :limit => 500                   
      7       t.references :commentable, :polymorphic => true
      8         # upper line is a shortcut for this
      9         # t.integer :commentable_id     
     10         # t.string :commentable_type    
     11       t.timestamps         
     12     end                    
     13     add_index :comments, :user_id   
     14     add_index :comments, :commentable_id
     15   end
     16 end

**Comment Model**
  

    1 class Comment < ActiveRecord::Base
      2         
      3   # RELATIONSHIPS   
      4   belongs_to :commentable, :polymorphic => true
      5 
      6   # VALIDATIONS            
      7   validates :user, :presence => true
      8   validates :comment, :presence => true,
      9                       :length => { :maximum => 500 }  
     10 
     11   # ATTRIBUTE ASSIGNMENT   
     12   attr_accessible :comment 
     13   
     14 end

**User Model**

      1 class User < ActiveRecord::Base
      2         
      3   # RELATIONSHIPS   
      4   has_many :synapses, :dependent => :destroy
      5   has_many :projects, :through => :synapses
      6 
      7   has_many :vesicles, :dependent => :destroy
      8   has_many :tasks, :through => :vesicles
      9 
     10   has_many :subvesicles, :dependent => :destroy
     11   has_many :subtasks, :through => :subvesicles, :dependent => :nullify
     12   
     13   has_many :comments, :as => :commentable, :dependent => :destroy
     14   
     15   # VALIDATIONS
     16   validates :name,  :presence => true,
     17                     :uniqueness => true             
     18 
     19   # ATTRIBUTE ASSIGNMENT   
     20   attr_accessible :name, :email, :password, :password_confirmation, :remember_me
     21 
     22   # DEVISE MODULES         
     23   # Include default devise modules. Others available are:
     24   # :token_authenticatable, :encryptable, :lockable, :timeoutable and :omniauthable
     25   devise :database_authenticatable, :registerable,
     26          :recoverable, :rememberable, :trackable, :validatable,
     27          :confirmable      
     28 
     29 end

**Comment Factory**

    105   factory :comment do
    106     comment ""This is some generic comment with some generic content""
    107   end

**Comment Model Specs**

      1 require 'spec_helper'      
      2         
      3 describe Comment do
      4 
      5   it 'Should create new comment' do
      6     FactoryGirl.build(:comment).should be_valid
      7   end                      
      8 
      9   it 'Should respond to method provided by polymorphism to find its parent' do
     10     FactoryGirl.build(:comment).should respond_to(:commentable)
     11   end                      
     12 
     13 end 

This 1st test currently fails with error message saying **undefined method `user' for #Comment:0xa88c354>**. But if I pass in user id like this...

    FactoryGirl.build(:comment, :user => confirmed_user).should be_valid

Than I should have user id set up as mass assignable attribute, and I don't want that (figure that some users might mess with that attribute and change it). **How to test and validate this properly?** Also, this is my 1st time doing polymorphic, so if you see anything silly, let me know.",3
5692644,04/17/2011 09:14:06,519632,11/25/2010 03:28:48,137,3,Redirect back to user's photo after commenting,"The URL for a photo is `/users/1/photos/1` and I want to redirect back to the photo after a comment on that photo has been added.

What should I put after `redirect_to`?",ruby-on-rails,ruby,ruby-on-rails-3,redirect,,,open,0,30,7,"Redirect back to user's photo after commenting The URL for a photo is `/users/1/photos/1` and I want to redirect back to the photo after a comment on that photo has been added.

What should I put after `redirect_to`?",4
11371875,07/07/2012 02:48:35,1204607,02/12/2012 02:29:54,1,0,"i install mysql2 gem successful, but when run: rake DB:create , get error:<<unknown>>:couldn't parse yaml at line 0 column 0","i install ror on windows7 with railsintaller2.1.0.ext, and i install mysql2 gem successful, but when run: rake DB:create , get error:<<unknown>>:couldn't parse yaml at line 0 column 0. someone help me ！",ruby-on-rails,mysql2,,,,07/10/2012 02:16:52,not a real question,1,32,20,"i install mysql2 gem successful, but when run: rake DB:create , get error:<<unknown>>:couldn't parse yaml at line 0 column 0 i install ror on windows7 with railsintaller2.1.0.ext, and i install mysql2 gem successful, but when run: rake DB:create , get error:<<unknown>>:couldn't parse yaml at line 0 column 0. someone help me ！",2
10906083,06/05/2012 22:47:37,836059,07/08/2011 20:40:11,26,0,capistrano not deploying to localhost,"I am trying to set up Capistrano on my public server (mywebserver) that I already have my Rails3 installation, my database (Postgres) server, and using Apache2 as the web server. My repository SVN is in a different development server (mysvnserver). My config/deploy.rb looks like this:

    set :application, ""myapp""
    set :location, ""mywebserver""
    set :domain, ""apps.mydomain.com""
    set :user, ""app_admin""
    set :host, ""localhost""

    set :repository,  ""svn+ssh://app_admin@192.168.XXX.XXX/home/svn/myapp""
    set :svn_username, ""svn_admin""
    set :svn_password, ""password""
    set :use_sudo, false
    set :scm, :subversion
    default_run_options[:pty] = true

    role :web, location                   
    role :app, location                        
    role :db,  location, :primary => true 

    set :deploy_to, ""/home/app_admin/#{application}""
    set :deploy_via, :checkout
    ssh_options[:forward_agent] = true

While I run `cap deploy:setup` from my public server, the code runs properly without any error. However, it deploys in the development server (the server that has SVN repo), but not in my public server (localhost). I am not getting any errors in deployment but it is not deploying in public server. Any suggestions? Thanks in advance! 
",ruby-on-rails,apache,svn,capistrano,,,open,0,253,5,"capistrano not deploying to localhost I am trying to set up Capistrano on my public server (mywebserver) that I already have my Rails3 installation, my database (Postgres) server, and using Apache2 as the web server. My repository SVN is in a different development server (mysvnserver). My config/deploy.rb looks like this:

    set :application, ""myapp""
    set :location, ""mywebserver""
    set :domain, ""apps.mydomain.com""
    set :user, ""app_admin""
    set :host, ""localhost""

    set :repository,  ""svn+ssh://app_admin@192.168.XXX.XXX/home/svn/myapp""
    set :svn_username, ""svn_admin""
    set :svn_password, ""password""
    set :use_sudo, false
    set :scm, :subversion
    default_run_options[:pty] = true

    role :web, location                   
    role :app, location                        
    role :db,  location, :primary => true 

    set :deploy_to, ""/home/app_admin/#{application}""
    set :deploy_via, :checkout
    ssh_options[:forward_agent] = true

While I run `cap deploy:setup` from my public server, the code runs properly without any error. However, it deploys in the development server (the server that has SVN repo), but not in my public server (localhost). I am not getting any errors in deployment but it is not deploying in public server. Any suggestions? Thanks in advance! 
",4
5507822,04/01/2011 00:00:46,346977,05/21/2010 10:15:14,407,7,Rails 3: Where to store shared methods for models?,"I have a method ""random_password"" that I'd like to be able to access from multiple models in my rails 3 project. I'm just wondering what the convention is for where to store it & how to provide access to it. Any help appreciated.",ruby-on-rails,ruby-on-rails-3,activemodel,,,,open,0,43,9,"Rails 3: Where to store shared methods for models? I have a method ""random_password"" that I'd like to be able to access from multiple models in my rails 3 project. I'm just wondering what the convention is for where to store it & how to provide access to it. Any help appreciated.",3
6912512,08/02/2011 13:02:58,93311,04/20/2009 17:14:16,3229,157,Server is timing out because of Sunspot-Solr reindex'ing problem,"Not too sure how to debug this. Any tips would be *greatly* appreciated.

Basically, I just did a large commit, and now my server can't boot up because of a Sunspot-solr issue.

I notice it when I try to manually reindex.

This is the return :

     $ rake reindex --trace
    (in /data/HQ_Channel2/releases/20110802123815)
    ** Invoke reindex (first_time)
    ** Invoke environment (first_time)
    ** Execute environment
    ** Execute reindex
    rake aborted!
    execution expired
    /usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:51:in `rbuf_fill'
    /usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
    /usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:146:in `__request__'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rest-client-1.6.1/lib/restclient/net_http_ext.rb:17:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:131:in `__request__'
    /usr/lib/ruby/1.8/net/http.rb:543:in `start'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:129:in `__request__'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rest-client-1.6.1/lib/restclient/net_http_ext.rb:17:in `request'
    /usr/lib/ruby/1.8/net/http.rb:845:in `post'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/connection/net_http.rb:22:in `post'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/connection/requestable.rb:33:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/client.rb:34:in `request_without_rails_logging'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/solr_logging.rb:25:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
    /usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
    /data/HQ_Channel2/releases/20110802123815/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/solr_logging.rb:24:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/client.rb:22:in `update'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/client.rb:76:in `delete_by_query'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/indexer.rb:55:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session.rb:181:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session.rb:181:in `each'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session.rb:181:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session_proxy/abstract_session_proxy.rb:11:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot.rb:454:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/searchable.rb:164:in `solr_remove_all_from_index'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/searchable.rb:183:in `reindex'
    /data/HQ_Channel2/releases/20110802123815/Rakefile:14
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:617:in `call'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:617:in `execute'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:612:in `each'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:612:in `execute'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:578:in `invoke_with_call_chain'
    /usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:571:in `invoke_with_call_chain'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:564:in `invoke'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:2019:in `invoke_task'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1997:in `top_level'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1997:in `each'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1997:in `top_level'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:2036:in `standard_exception_handling'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1991:in `top_level'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1970:in `run'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:2036:in `standard_exception_handling'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1967:in `run'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/bin/rake:31
    /usr/bin/rake:19:in `load'
    /usr/bin/rake:19
",ruby-on-rails,timeout,sunspot,sunspot-solr,reindex,,open,0,349,9,"Server is timing out because of Sunspot-Solr reindex'ing problem Not too sure how to debug this. Any tips would be *greatly* appreciated.

Basically, I just did a large commit, and now my server can't boot up because of a Sunspot-solr issue.

I notice it when I try to manually reindex.

This is the return :

     $ rake reindex --trace
    (in /data/HQ_Channel2/releases/20110802123815)
    ** Invoke reindex (first_time)
    ** Invoke environment (first_time)
    ** Execute environment
    ** Execute reindex
    rake aborted!
    execution expired
    /usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:51:in `rbuf_fill'
    /usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
    /usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:146:in `__request__'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rest-client-1.6.1/lib/restclient/net_http_ext.rb:17:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:131:in `__request__'
    /usr/lib/ruby/1.8/net/http.rb:543:in `start'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/right_http_connection-1.2.4/lib/net_fix.rb:129:in `__request__'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rest-client-1.6.1/lib/restclient/net_http_ext.rb:17:in `request'
    /usr/lib/ruby/1.8/net/http.rb:845:in `post'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/connection/net_http.rb:22:in `post'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/connection/requestable.rb:33:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/client.rb:34:in `request_without_rails_logging'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/solr_logging.rb:25:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
    /usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
    /data/HQ_Channel2/releases/20110802123815/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/solr_logging.rb:24:in `request'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/client.rb:22:in `update'
    /data/HQ_Channel2/releases/20110802123815/vendor/gems/rsolr-0.12.1/lib/rsolr/client.rb:76:in `delete_by_query'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/indexer.rb:55:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session.rb:181:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session.rb:181:in `each'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session.rb:181:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot/session_proxy/abstract_session_proxy.rb:11:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot-1.2.1/lib/sunspot.rb:454:in `remove_all'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/searchable.rb:164:in `solr_remove_all_from_index'
    /usr/lib/ruby/gems/1.8/gems/sunspot_rails-1.2.1/lib/sunspot/rails/searchable.rb:183:in `reindex'
    /data/HQ_Channel2/releases/20110802123815/Rakefile:14
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:617:in `call'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:617:in `execute'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:612:in `each'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:612:in `execute'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:578:in `invoke_with_call_chain'
    /usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:571:in `invoke_with_call_chain'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:564:in `invoke'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:2019:in `invoke_task'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1997:in `top_level'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1997:in `each'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1997:in `top_level'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:2036:in `standard_exception_handling'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1991:in `top_level'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1970:in `run'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:2036:in `standard_exception_handling'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/lib/rake.rb:1967:in `run'
    /usr/lib/ruby/gems/1.8/gems/rake-0.8.3/bin/rake:31
    /usr/bin/rake:19:in `load'
    /usr/bin/rake:19
",5
10046841,04/06/2012 17:20:02,611670,02/10/2011 16:05:46,81,8,true hosting costs for rails applications compared with php,"I know it is more expensive to host Rails. That is mentioned in I don't know how many blog posts, comments and also answers here on SO.  What I should like is a general estimate on how much more expensive it will be. 

I am a noob then it comes to hosting but lets say you have an identical PHP (framework) application and  Rails application,  and both use best practice for hosting,database, caching and so on. 

How much more resources (just guessing) do you think a large site like SO should demand from a rails app compered with the same application written in PHP?

On a 512MB VPS how much more should I be able to expect from a php app compared with a rails app?

This is not a rails vs php question, and is not related to coding happiness, security or anything else.  I am very happy with rails but are just not able to grasp the true costs for deployment. 





",ruby-on-rails,hosting,costs,,,04/08/2012 13:39:24,off topic,1,166,9,"true hosting costs for rails applications compared with php I know it is more expensive to host Rails. That is mentioned in I don't know how many blog posts, comments and also answers here on SO.  What I should like is a general estimate on how much more expensive it will be. 

I am a noob then it comes to hosting but lets say you have an identical PHP (framework) application and  Rails application,  and both use best practice for hosting,database, caching and so on. 

How much more resources (just guessing) do you think a large site like SO should demand from a rails app compered with the same application written in PHP?

On a 512MB VPS how much more should I be able to expect from a php app compared with a rails app?

This is not a rails vs php question, and is not related to coding happiness, security or anything else.  I am very happy with rails but are just not able to grasp the true costs for deployment. 





",3
5130126,02/26/2011 22:23:48,627473,03/01/2010 16:37:51,52,5,Design Question (Ruby On Rails),"In my system there are many types of users (4), based on the user that is logged in they have access to only certain information.

For example I am trying to do something like this in my Client model:
  
 

     class Client
         def self.allowed
            if current_user.is_a?(SuperAdmin)
              return self.all
            elsif current_user.is_a?(Client)
              return [current_user]
            elsif current_user.is_a?(ClientAdmin)
              return [current_user.client]
            end
          end
       end


The problem is, it seems my model doesn't have access to the current_user helper method.

I have 2 questions:
   

 1. How can I fix this
 2. Should logic such as getting back the allowed client be done in the model?

",ruby-on-rails,,,,,,open,0,211,5,"Design Question (Ruby On Rails) In my system there are many types of users (4), based on the user that is logged in they have access to only certain information.

For example I am trying to do something like this in my Client model:
  
 

     class Client
         def self.allowed
            if current_user.is_a?(SuperAdmin)
              return self.all
            elsif current_user.is_a?(Client)
              return [current_user]
            elsif current_user.is_a?(ClientAdmin)
              return [current_user.client]
            end
          end
       end


The problem is, it seems my model doesn't have access to the current_user helper method.

I have 2 questions:
   

 1. How can I fix this
 2. Should logic such as getting back the allowed client be done in the model?

",1
9527420,03/02/2012 03:05:28,633568,02/25/2011 04:38:35,64,7,How to access rails session variable from a module inside a gem,"I'm creating a gem for rails that abstracts away  bizarre third party API and having trouble with one item.
Inside my gem I have a module with a class inside that needs to access rails' session variable. Is there any way I can do this easily or do I have to do it in the ApplicationController?


Cheers,
Steve",ruby-on-rails,ruby,ruby-on-rails-3,gem,,,open,0,56,12,"How to access rails session variable from a module inside a gem I'm creating a gem for rails that abstracts away  bizarre third party API and having trouble with one item.
Inside my gem I have a module with a class inside that needs to access rails' session variable. Is there any way I can do this easily or do I have to do it in the ApplicationController?


Cheers,
Steve",4
7971959,11/01/2011 19:45:04,161746,08/23/2009 23:37:01,946,2,No man page for rails command,"I can't access rails man page. How can I fix this? Thanks

    nuno@Houdini:~/workspace/depot_a$ man rails
    man: can't resolve /usr/share/man/man1/rails.1.gz: No such file or directory
    No manual entry for rails

",ruby-on-rails,ubuntu,man,,,,open,0,38,6,"No man page for rails command I can't access rails man page. How can I fix this? Thanks

    nuno@Houdini:~/workspace/depot_a$ man rails
    man: can't resolve /usr/share/man/man1/rails.1.gz: No such file or directory
    No manual entry for rails

",3
5718654,04/19/2011 15:15:04,692734,04/05/2011 11:06:20,1,0,Rails:create association between an element and a 2nd level nested element,"The following system is for managing contacts.
Each contact belongs to an organisation, and each organisation has many locations. A contact is also related to one location from the parent organisation.
The organisation model looks like this

    has_many :contacts
    has_many :locations
    accepts_nested_attributes_for :locations, :reject_if => lambda { |a| a[""name""].blank? }

I want it to accept nested attributes for locations because when a user adds an organisation he can also add a location for it on the fly.

The contact model looks like this

      has_one :location
      belongs_to  :organisation
      accepts_nested_attributes_for :organisation

Same story, when a contact is added I want the user to be able to add the organisation on the fly, but the organisation needs to have a location, so a second level of nesting exists in the view to also create the location for the organsiation.
It works fine, it adds the contact, it adds the organisation and the location, it creates the association between the location and the organisation but what happens is that I have a field ""location_id"" in contact and I want to have in that the id of the location added for the organisation on the fly. Does anyone know a clean way to do it through the model or do I have to workaround it with some tweaks in the controllers?


",ruby-on-rails,nesting,,,,,open,0,235,11,"Rails:create association between an element and a 2nd level nested element The following system is for managing contacts.
Each contact belongs to an organisation, and each organisation has many locations. A contact is also related to one location from the parent organisation.
The organisation model looks like this

    has_many :contacts
    has_many :locations
    accepts_nested_attributes_for :locations, :reject_if => lambda { |a| a[""name""].blank? }

I want it to accept nested attributes for locations because when a user adds an organisation he can also add a location for it on the fly.

The contact model looks like this

      has_one :location
      belongs_to  :organisation
      accepts_nested_attributes_for :organisation

Same story, when a contact is added I want the user to be able to add the organisation on the fly, but the organisation needs to have a location, so a second level of nesting exists in the view to also create the location for the organsiation.
It works fine, it adds the contact, it adds the organisation and the location, it creates the association between the location and the organisation but what happens is that I have a field ""location_id"" in contact and I want to have in that the id of the location added for the organisation on the fly. Does anyone know a clean way to do it through the model or do I have to workaround it with some tweaks in the controllers?


",2
1623215,10/26/2009 05:24:53,143725,07/23/2009 13:28:14,857,30,Rails 2.3 Books,"Rails is a target that moves fast which makes finding up-to-date books difficult.  I know there are some great [Rails Guides](http://guides.rubyonrails.org/) that cover Rails 2.3; but sometimes I just want something in print.

Are there any Rails books that have recently or will soon be released that cover up to Rails 2.3?

Thanks",ruby-on-rails,,,,,09/26/2011 14:12:36,not constructive,1,52,3,"Rails 2.3 Books Rails is a target that moves fast which makes finding up-to-date books difficult.  I know there are some great [Rails Guides](http://guides.rubyonrails.org/) that cover Rails 2.3; but sometimes I just want something in print.

Are there any Rails books that have recently or will soon be released that cover up to Rails 2.3?

Thanks",1
7422910,09/14/2011 20:59:43,687756,04/01/2011 14:26:51,66,2,Set a session variable in devise on sign in,I'd like to set a session variable once a user signs in based on a certain field in the User table. I don't want to have to create a custom Devise controller if I don't have to. Is there a way? Or will I have to go the custom controller route? ,ruby-on-rails,ruby-on-rails-3,devise,,,,open,0,52,9,Set a session variable in devise on sign in I'd like to set a session variable once a user signs in based on a certain field in the User table. I don't want to have to create a custom Devise controller if I don't have to. Is there a way? Or will I have to go the custom controller route? ,3
8935867,01/20/2012 01:53:35,1080499,12/04/2011 20:26:19,115,2,Saving nested model data first,"I have a model A, with a nested model B. When saving the model, I have a before_save method that relies on some values in the nested model. However, it appears that the parent model is updated first, its before_save is called, and then then nested models are updated, so my before_save is not getting the updated data from model B.

Is there a way to force the nested models to update first?

Or could I call the things I need to do in after_save, and then save again? (that would perhaps cause an endless loop?)

Or should I add a call to the need functions in the controller after the update occurs?",ruby-on-rails,ruby-on-rails-3.1,,,,,open,0,110,5,"Saving nested model data first I have a model A, with a nested model B. When saving the model, I have a before_save method that relies on some values in the nested model. However, it appears that the parent model is updated first, its before_save is called, and then then nested models are updated, so my before_save is not getting the updated data from model B.

Is there a way to force the nested models to update first?

Or could I call the things I need to do in after_save, and then save again? (that would perhaps cause an endless loop?)

Or should I add a call to the need functions in the controller after the update occurs?",2
7466239,09/19/2011 03:45:29,393240,11/09/2009 21:46:11,98,0,Achievement model,"Building off this question, http://stackoverflow.com/questions/885277/how-to-implement-an-achievement-system-in-ror would I have a user_id column in my Achievement table? ",ruby-on-rails,,,,,09/20/2011 07:53:00,not a real question,1,16,2,"Achievement model Building off this question, http://stackoverflow.com/questions/885277/how-to-implement-an-achievement-system-in-ror would I have a user_id column in my Achievement table? ",1
3425264,08/06/2010 15:27:34,207187,11/09/2009 18:45:57,50,4,A Faster / More Scalable Approach to Twitter OAuth Dance in Rails?,"I'm running a Rails app on the Heroku Stack (complete with Memcached, DJ Asynchronous workers, MongoDB persistent storage).

Right now we use Twitter Oauth as the only authentication option on our site. (We plan to branch out to FB connect, OpenID, and/or Email/password eventually).

Ruby/Rails apps, as you probably know, don't support concurrency out of the box. On Heroku, you can spin up additional app instances (dynos), which increase your concurrency (concurrency capability = number of dynos), but each one costs $36/month. 

In general, this hasn't been a problem, because the average request on the site takes <100 ms. 

EXCEPT for Twitter OAuth. The OAuth-related requests to Twitter take, on average, around 3,500 ms.

So basically, when anyone logs in an entire app instance gets held up for 3-4 seconds. 

Is there any decent way to mitigate this? Would it be weird to put these actions in asynchronous DJ workers? It could make logging in a little slower, but at least if a bunch of people are logging in at once and/or Twitter is being really slow, these processes do not affect the rest of the app / other web requests?

Any other ideas?",ruby-on-rails,ruby,oauth,heroku,delayed-job,,open,0,190,12,"A Faster / More Scalable Approach to Twitter OAuth Dance in Rails? I'm running a Rails app on the Heroku Stack (complete with Memcached, DJ Asynchronous workers, MongoDB persistent storage).

Right now we use Twitter Oauth as the only authentication option on our site. (We plan to branch out to FB connect, OpenID, and/or Email/password eventually).

Ruby/Rails apps, as you probably know, don't support concurrency out of the box. On Heroku, you can spin up additional app instances (dynos), which increase your concurrency (concurrency capability = number of dynos), but each one costs $36/month. 

In general, this hasn't been a problem, because the average request on the site takes <100 ms. 

EXCEPT for Twitter OAuth. The OAuth-related requests to Twitter take, on average, around 3,500 ms.

So basically, when anyone logs in an entire app instance gets held up for 3-4 seconds. 

Is there any decent way to mitigate this? Would it be weird to put these actions in asynchronous DJ workers? It could make logging in a little slower, but at least if a bunch of people are logging in at once and/or Twitter is being really slow, these processes do not affect the rest of the app / other web requests?

Any other ideas?",5
269518,11/06/2008 17:24:29,10841,09/16/2008 02:16:24,23,1,How to achieve versioned ActiveRecord associations?,"I want to work with versioned ActiveRecord associations. <i>E.g.</i>, I want to find the object that another object belongs_to as of a certain past date, or the one that it belonged to before that. Does there already exist a library subclassing Rails' ActiveRecord to provide versioned relations? Or some other Ruby library which provides persistable versioned relations?",ruby-on-rails,activerecord,associations,activerecord-associations,,,open,0,57,6,"How to achieve versioned ActiveRecord associations? I want to work with versioned ActiveRecord associations. <i>E.g.</i>, I want to find the object that another object belongs_to as of a certain past date, or the one that it belonged to before that. Does there already exist a library subclassing Rails' ActiveRecord to provide versioned relations? Or some other Ruby library which provides persistable versioned relations?",4
2091566,01/19/2010 06:31:03,240061,12/29/2009 08:45:23,3,0,rails accessing value from facebooker hash/array,"This is my first time using the facebooker plugin with rails, and I'm having trouble accessing user info.  The website uses FB connect to authenticate users.

I am trying to get the name of the university that the logged in user attends.

When I use the command   `<%= facebook_session.user.education_history[:name] %>`, I get an error ""Symbol as array index"".  

I have also tried using `education_history[1`], but that just returns 
""# `Facebooker::EducationInfo:<some sort of alphanumeric  hash value>`"" 

When I use something like   `<%= facebook_session.user.relationship_status %>` , it returns the relationship status just fine. 
Similarly, 
`<%= facebook_session.user.hometown_location.city %>` returns the city name just fine.

I've checked out the documentation for facebooker, but I can't figure out the correct way to get the values I need.

Any idea on how to get this to work?  
Thanks!",ruby-on-rails,facebook,,,,,open,0,136,6,"rails accessing value from facebooker hash/array This is my first time using the facebooker plugin with rails, and I'm having trouble accessing user info.  The website uses FB connect to authenticate users.

I am trying to get the name of the university that the logged in user attends.

When I use the command   `<%= facebook_session.user.education_history[:name] %>`, I get an error ""Symbol as array index"".  

I have also tried using `education_history[1`], but that just returns 
""# `Facebooker::EducationInfo:<some sort of alphanumeric  hash value>`"" 

When I use something like   `<%= facebook_session.user.relationship_status %>` , it returns the relationship status just fine. 
Similarly, 
`<%= facebook_session.user.hometown_location.city %>` returns the city name just fine.

I've checked out the documentation for facebooker, but I can't figure out the correct way to get the values I need.

Any idea on how to get this to work?  
Thanks!",2
9952037,03/31/2012 00:48:37,1290030,03/24/2012 14:00:36,27,4,"Ruby on Rails, Heroku trouble","Sorry im new in Ruby on Rails and Im folling a tutorial but im getting troubles trying to push the db to heroku, I already install postgresql in my linux, try a lot of tutos and still the trouble :/.

When I enter:

     $ heroku rake db:migrate

and I got the next problems:

>DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these >plugins will be removed in Rails 4.0. Move them out and bundle them in your Gemfile,or fold >them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the release >notes for more on this: http://weblog.rubyonrails.org/2012/01/04/rails-3-2-0-rc2-has-been->released. (called from <top (required)> at /app/Rakefile:7)
>DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these >plugins will be removed in Rails 4.0. Move them out and bundle them in your Gemfile, or >fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the >release notes for more on this: http://weblog.rubyonrails.org/2012/01/04/rails-3-2-0-rc2->has-been-released. (called from <top (required)> at /app/Rakefile:7)
>DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these >plugins will be removed in Rails 4.0. Move them out and bundle them in your Gemfile, or >fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the >release notes for more on this: http://weblog.rubyonrails.org/2012/01/04/rails-3-2-0-rc2->has-been-released. (called from <top (required)> at /app/Rakefile:7)
>rake aborted!
>Please install the postgresql adapter: `gem install activerecord-postgresql-adapter` (pg is >not part of the bundle. Add it to Gemfile.)

>Tasks: TOP => db:migrate => db:load_config
>(See full trace by running task with --trace)
        
My Gemfile is this:

    source 'https://rubygems.org'
    gem 'rails', '3.2.2'
    gem 'sqlite3'

    group :production do
       gem 'pg'
    end
    
    group :assets do
    gem 'sass-rails',   '~> 3.2.3'
    gem 'coffee-rails', '~> 3.2.1'
    
    gem 'uglifier', '>= 1.0.3'
    end
    
    gem 'jquery-rails'


Someone can help me?

Thanks in advance.
",ruby-on-rails,ruby,,,,,open,0,344,5,"Ruby on Rails, Heroku trouble Sorry im new in Ruby on Rails and Im folling a tutorial but im getting troubles trying to push the db to heroku, I already install postgresql in my linux, try a lot of tutos and still the trouble :/.

When I enter:

     $ heroku rake db:migrate

and I got the next problems:

>DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these >plugins will be removed in Rails 4.0. Move them out and bundle them in your Gemfile,or fold >them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the release >notes for more on this: http://weblog.rubyonrails.org/2012/01/04/rails-3-2-0-rc2-has-been->released. (called from <top (required)> at /app/Rakefile:7)
>DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these >plugins will be removed in Rails 4.0. Move them out and bundle them in your Gemfile, or >fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the >release notes for more on this: http://weblog.rubyonrails.org/2012/01/04/rails-3-2-0-rc2->has-been-released. (called from <top (required)> at /app/Rakefile:7)
>DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these >plugins will be removed in Rails 4.0. Move them out and bundle them in your Gemfile, or >fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the >release notes for more on this: http://weblog.rubyonrails.org/2012/01/04/rails-3-2-0-rc2->has-been-released. (called from <top (required)> at /app/Rakefile:7)
>rake aborted!
>Please install the postgresql adapter: `gem install activerecord-postgresql-adapter` (pg is >not part of the bundle. Add it to Gemfile.)

>Tasks: TOP => db:migrate => db:load_config
>(See full trace by running task with --trace)
        
My Gemfile is this:

    source 'https://rubygems.org'
    gem 'rails', '3.2.2'
    gem 'sqlite3'

    group :production do
       gem 'pg'
    end
    
    group :assets do
    gem 'sass-rails',   '~> 3.2.3'
    gem 'coffee-rails', '~> 3.2.1'
    
    gem 'uglifier', '>= 1.0.3'
    end
    
    gem 'jquery-rails'


Someone can help me?

Thanks in advance.
",2
6882865,07/30/2011 11:38:22,760363,05/19/2011 04:59:01,11,0,Do I really need Macbook to do Ruby on Rails development?,"I'm starting to learn Ruby on Rails but this question is bugging me.

As I visited a lot of Ruby on Rails site and talked to a lot of Ruby on Rails dev I know, most of them are using Macbook to do the development.

Even I know that Ubuntu is also a good platform to do the development. But, why not so much people using it. The point is, a laptop with Ubuntu is much cheaper compare to Macbook Pro. It's almost $500 in different at my location, which is quite a lot of money for me. But, I can pay for it if Macbook is really better.

So, Is there any pros and cons that I'm not aware of? And, do I really need Macbook to do Ruby on Rails development?",ruby-on-rails,ruby-on-rails-3,,,,07/30/2011 14:04:12,not constructive,1,130,11,"Do I really need Macbook to do Ruby on Rails development? I'm starting to learn Ruby on Rails but this question is bugging me.

As I visited a lot of Ruby on Rails site and talked to a lot of Ruby on Rails dev I know, most of them are using Macbook to do the development.

Even I know that Ubuntu is also a good platform to do the development. But, why not so much people using it. The point is, a laptop with Ubuntu is much cheaper compare to Macbook Pro. It's almost $500 in different at my location, which is quite a lot of money for me. But, I can pay for it if Macbook is really better.

So, Is there any pros and cons that I'm not aware of? And, do I really need Macbook to do Ruby on Rails development?",2
7402021,09/13/2011 12:40:30,902817,08/19/2011 16:52:28,9,0,How to get Proper idea about Ruby On Rails?,"Hi I am from PHP background and in am not really very familiar with these command line process and idea about operation of Rails applications. I want to get fine idea about what is this Activerecord, REST and other important task such as Rake is, more precisely what is this 'task' in Rails anyway. I have been seeing these online screen casts about Rails and I get the idea how to make it work but don't quite know how does that really work, they just extend the class activerecord and use it to their app by making custom class but what is this activerecord, I am really very confused and I am having hard time getting rails inside my brain but I really really want to learn it. Is there any suitable resource to idea idea from basic. Please help.",ruby-on-rails,ruby,rest,activerecord,rake,09/13/2011 14:19:32,not constructive,1,140,9,"How to get Proper idea about Ruby On Rails? Hi I am from PHP background and in am not really very familiar with these command line process and idea about operation of Rails applications. I want to get fine idea about what is this Activerecord, REST and other important task such as Rake is, more precisely what is this 'task' in Rails anyway. I have been seeing these online screen casts about Rails and I get the idea how to make it work but don't quite know how does that really work, they just extend the class activerecord and use it to their app by making custom class but what is this activerecord, I am really very confused and I am having hard time getting rails inside my brain but I really really want to learn it. Is there any suitable resource to idea idea from basic. Please help.",5
9420449,02/23/2012 20:09:42,664833,03/17/2011 17:45:42,116,9,"How to display an error message on a destroy action, since it redirects to index action?","In a model I have:

    before_destroy :ensure_not_referenced_by_any_shopping_cart_item

and

    def ensure_not_referenced_by_any_shopping_cart_item
      unless shopping_cart_items.empty?
        errors.add(:base, ""This item can't be deleted because it is present in a shopping cart"")
        false
      end
    end

When the item is present in a cart, it is not destroyed (which is good), and I see the error if I log it in the action..

    def destroy
      @product = Beverage.find(params[:id])
      @product.destroy

      logger.debug ""--- error: #{@product.errors.inspect}""

      respond_to do |format|
        format.html { redirect_to beverages_url }
        format.json { head :ok }
      end
    end

..but the instance variable on which the error message was set is abandoned when the `redirect_to` happens, so the user never sees it.

How should the error message be persisted to the next action so it can be shown in its view?

Thanks!",ruby-on-rails,ruby-on-rails-3,error-handling,error-message,destroy,,open,0,197,16,"How to display an error message on a destroy action, since it redirects to index action? In a model I have:

    before_destroy :ensure_not_referenced_by_any_shopping_cart_item

and

    def ensure_not_referenced_by_any_shopping_cart_item
      unless shopping_cart_items.empty?
        errors.add(:base, ""This item can't be deleted because it is present in a shopping cart"")
        false
      end
    end

When the item is present in a cart, it is not destroyed (which is good), and I see the error if I log it in the action..

    def destroy
      @product = Beverage.find(params[:id])
      @product.destroy

      logger.debug ""--- error: #{@product.errors.inspect}""

      respond_to do |format|
        format.html { redirect_to beverages_url }
        format.json { head :ok }
      end
    end

..but the instance variable on which the error message was set is abandoned when the `redirect_to` happens, so the user never sees it.

How should the error message be persisted to the next action so it can be shown in its view?

Thanks!",5
4839573,01/29/2011 21:31:55,529043,12/03/2010 07:09:50,222,21,Rails clone or hash ?,"i need to use current_user model in order to perform some calculations inside a function. Inside the function i need to do something like current_user.name = 'whatever', thus changing the current value of name.

However, i want that change to be local, only done inside that function. Since Rails uses objects though, it's a problem. So i'm thinking, what is the best thing to do ? 

Maybe clone current_user to a new object and use that inside the function ? This seems expensive.
Or maybe creating a hash out of a model ? And if i do that, the actual model will not be changed ?",ruby-on-rails,,,,,,open,0,104,5,"Rails clone or hash ? i need to use current_user model in order to perform some calculations inside a function. Inside the function i need to do something like current_user.name = 'whatever', thus changing the current value of name.

However, i want that change to be local, only done inside that function. Since Rails uses objects though, it's a problem. So i'm thinking, what is the best thing to do ? 

Maybe clone current_user to a new object and use that inside the function ? This seems expensive.
Or maybe creating a hash out of a model ? And if i do that, the actual model will not be changed ?",1
8720994,01/04/2012 01:32:27,1041669,11/11/2011 12:10:02,399,7,"All of a sudden started getting ""Could Not Run The `Identify` Command. Please Install ImageMagick.""","I've had ImageMagick, RMagick, & PaperClip working properly with everything setup including the config `Paperclip.options[:command_path]` in `production.rb` file.

All of a sudden I've started getting the following error:

    Could Not Run The `Identify` Command. Please Install ImageMagick.

I've tried everything. I've reinstalled ImageMagick, etc. But no avail.",ruby-on-rails,ruby-on-rails-3,imagemagick,rmagick,,,open,0,48,15,"All of a sudden started getting ""Could Not Run The `Identify` Command. Please Install ImageMagick."" I've had ImageMagick, RMagick, & PaperClip working properly with everything setup including the config `Paperclip.options[:command_path]` in `production.rb` file.

All of a sudden I've started getting the following error:

    Could Not Run The `Identify` Command. Please Install ImageMagick.

I've tried everything. I've reinstalled ImageMagick, etc. But no avail.",4
5045809,02/18/2011 19:44:17,621736,02/17/2011 16:22:48,28,4,"Rails Activerecord Model with 2 foreign keys, neither accessible","Hey everybody I have a scenario here I am really trying to figure out.  I am trying to build a custom blog in Rails which requires users to be signed in to leave a comment.  Basically I have 3 models - Post, User, and Comment.  My problem is mainly with the comment model.
  I am trying to have it so that a Comment belongs_to a User and also belongs_to Post, which have many comments.  I also have made the post_id and the user_id inaccessible as I do not want them to be tampered with (I want the comment to be automatically associated with the id of the post on which it was left, and I want the user to be automatically determined via session).  My problem is that I am not really sure how I can create a valid comment.  If I try to add a comment doing @blog.comments.build(@attr) I am ignoring the inacessible User, and of course if I try to build it through the User I am ignoring the blog.

My guess is there is a much better way to do this and I might just be approaching it wrong.  Any ideas?",ruby-on-rails,activerecord,foreign-keys,,,,open,0,201,9,"Rails Activerecord Model with 2 foreign keys, neither accessible Hey everybody I have a scenario here I am really trying to figure out.  I am trying to build a custom blog in Rails which requires users to be signed in to leave a comment.  Basically I have 3 models - Post, User, and Comment.  My problem is mainly with the comment model.
  I am trying to have it so that a Comment belongs_to a User and also belongs_to Post, which have many comments.  I also have made the post_id and the user_id inaccessible as I do not want them to be tampered with (I want the comment to be automatically associated with the id of the post on which it was left, and I want the user to be automatically determined via session).  My problem is that I am not really sure how I can create a valid comment.  If I try to add a comment doing @blog.comments.build(@attr) I am ignoring the inacessible User, and of course if I try to build it through the User I am ignoring the blog.

My guess is there is a much better way to do this and I might just be approaching it wrong.  Any ideas?",3
7507498,09/21/2011 22:30:14,717365,02/17/2011 17:55:06,20,1,Authenticate from one Rails app to another,"I have two Rails apps, one Rails 3.0.9 using Authlogic, and one a Rails 3.1 using Devise. I'd like to Authenticate from the 3.1 app to the 3.0.9 app. I could switch out Authlogic for Devise pretty easily in the 3.0.9 app if needs be.

Both of these apps are intranet apps that are only available through our VPN at a small company, so the authentication is mostly only to pass around a current user object rather than protect sensitive info from the public at large.

There is a two year old question that looks promising and suggests using ActiveResource... but the answer itself and the documentation really leaves me with a lot of questions:

http://stackoverflow.com/questions/1097778/how-to-authenticate-one-ruby-on-rails-app-to-another-using-restful-authenticatio

Any suggestions would be extremely welcome.",ruby-on-rails,authentication,devise,authlogic,,,open,0,118,7,"Authenticate from one Rails app to another I have two Rails apps, one Rails 3.0.9 using Authlogic, and one a Rails 3.1 using Devise. I'd like to Authenticate from the 3.1 app to the 3.0.9 app. I could switch out Authlogic for Devise pretty easily in the 3.0.9 app if needs be.

Both of these apps are intranet apps that are only available through our VPN at a small company, so the authentication is mostly only to pass around a current user object rather than protect sensitive info from the public at large.

There is a two year old question that looks promising and suggests using ActiveResource... but the answer itself and the documentation really leaves me with a lot of questions:

http://stackoverflow.com/questions/1097778/how-to-authenticate-one-ruby-on-rails-app-to-another-using-restful-authenticatio

Any suggestions would be extremely welcome.",4
3955953,10/18/2010 00:39:47,424677,08/19/2010 00:53:22,70,5,rails Column cannot be null:,"I noticed that my application was automatically setting all my processes to having been completed as soon as they were created. I looked through it, couldn't find why the date was being updated without being told to, but I found that one of my views was looking for a field that didn't exist. I created the 'complete' field, set it as a not null boolean and tried again.

I was getting it being set automatically to true again so I tried setting it as false explicitly in the create method, this still didn't work :S so I tried putting a hidden field into the form. I am now getting a ""column cannot be null"" error even though the value is being provided.

As you can see there is clearly a parameter for the complete value. What am I missing?

Error:

    Mysql::Error: Column 'complete' cannot be null: INSERT INTO `decommissions` (`completed_at`, `keep_backups`, `services_stopped`, `updated_at`, `operating_system_id`, `comments`, `username`, `disposition`, `stakeholder_email`, `complete`, `alias`, `storage`, `model_id`, `contract_maintenance`, `created_at`) VALUES(NULL, 1, 1, '2010-10-18 00:32:37', 1, NULL, NULL, '', 'test@qut.edu.au', NULL, 'test1', '', 1, '', '2010-10-18 00:32:37')

Parameters:

    {""decommission""=>{""dns_items_attributes""=>{""0""=>{""ip""=>""131.181.185.111"",
     ""alias""=>""test"",
     ""retain""=>""1"",
     ""_destroy""=>""""}},
     ""keep_backups""=>""1"",
     ""services_stopped""=>""1"",
     ""operating_system_id""=>""1"",
     ""stakeholder_email""=>""test@qut.edu.au"",
     ""alias""=>""test1"",
     ""model_id""=>""1""},
     ""commit""=>""Submit"",
     ""authenticity_token""=>""cMMf0zS/5jPExlXqVPaYVXndqPeVkm+OQ/WEPIYd2+g="",
     ""disposition""=>""Dispose"",
     ""complete""=>""false"",
     ""storage""=>""Local"",
     ""contract_maintenance""=>""0""}

",ruby-on-rails,,columns,,,,open,0,260,5,"rails Column cannot be null: I noticed that my application was automatically setting all my processes to having been completed as soon as they were created. I looked through it, couldn't find why the date was being updated without being told to, but I found that one of my views was looking for a field that didn't exist. I created the 'complete' field, set it as a not null boolean and tried again.

I was getting it being set automatically to true again so I tried setting it as false explicitly in the create method, this still didn't work :S so I tried putting a hidden field into the form. I am now getting a ""column cannot be null"" error even though the value is being provided.

As you can see there is clearly a parameter for the complete value. What am I missing?

Error:

    Mysql::Error: Column 'complete' cannot be null: INSERT INTO `decommissions` (`completed_at`, `keep_backups`, `services_stopped`, `updated_at`, `operating_system_id`, `comments`, `username`, `disposition`, `stakeholder_email`, `complete`, `alias`, `storage`, `model_id`, `contract_maintenance`, `created_at`) VALUES(NULL, 1, 1, '2010-10-18 00:32:37', 1, NULL, NULL, '', 'test@qut.edu.au', NULL, 'test1', '', 1, '', '2010-10-18 00:32:37')

Parameters:

    {""decommission""=>{""dns_items_attributes""=>{""0""=>{""ip""=>""131.181.185.111"",
     ""alias""=>""test"",
     ""retain""=>""1"",
     ""_destroy""=>""""}},
     ""keep_backups""=>""1"",
     ""services_stopped""=>""1"",
     ""operating_system_id""=>""1"",
     ""stakeholder_email""=>""test@qut.edu.au"",
     ""alias""=>""test1"",
     ""model_id""=>""1""},
     ""commit""=>""Submit"",
     ""authenticity_token""=>""cMMf0zS/5jPExlXqVPaYVXndqPeVkm+OQ/WEPIYd2+g="",
     ""disposition""=>""Dispose"",
     ""complete""=>""false"",
     ""storage""=>""Local"",
     ""contract_maintenance""=>""0""}

",2
10008886,04/04/2012 09:59:27,1312490,04/04/2012 09:48:46,1,0,newbie on rails,"I'm new in the world of Ruby on Rails. I have some problems to solve before start to build a store-like web application.
I'm following instructions writed in the book ""Agile Web Development with Rails"" so I decided to use sqlite too...

...but I have already represented the scenario via ER Diagrams and now i don't know how to bring it on rails.

In the early chapters of the book, it use the scaffold command to create the table ""Product"". But this command create model view controller and test for every table i want to represent.

Is it the right way to proceed? Or is there a way to build all my tables before start to create mvc i need?",ruby-on-rails,ruby,ruby-on-rails-3.1,,,,open,0,116,3,"newbie on rails I'm new in the world of Ruby on Rails. I have some problems to solve before start to build a store-like web application.
I'm following instructions writed in the book ""Agile Web Development with Rails"" so I decided to use sqlite too...

...but I have already represented the scenario via ER Diagrams and now i don't know how to bring it on rails.

In the early chapters of the book, it use the scaffold command to create the table ""Product"". But this command create model view controller and test for every table i want to represent.

Is it the right way to proceed? Or is there a way to build all my tables before start to create mvc i need?",3
3775474,09/23/2010 04:34:53,149080,08/01/2009 21:00:20,945,19,"create.js.erb ,,, destroy.js.erb .... How does these files fit in the rails app","I haven't been able to find documentation that talk about how create.js.erb & destroy.js.erb fit in a rails 3 app.

What is the logic behind these types of Javascript files in the app > controllers? 

How & when are they accessed? thxs!",ruby-on-rails,ruby-on-rails-3,,,,,open,0,41,13,"create.js.erb ,,, destroy.js.erb .... How does these files fit in the rails app I haven't been able to find documentation that talk about how create.js.erb & destroy.js.erb fit in a rails 3 app.

What is the logic behind these types of Javascript files in the app > controllers? 

How & when are they accessed? thxs!",2
9040299,01/27/2012 21:26:13,475139,10/13/2010 23:08:44,104,8,Can requireJs can replace sprockets in a rails 3.x - backbone app,"In the context of a rails 3.2 rails with a backbone client side app I try to figure out how to organize the javascript files. 
It is not clear if requireJs could replace or be used instead of sprockets.
Reading this page on requireJs [http://requirejs.org/docs/faq-optimization.html#usage][1]make me think that sprockets can be replace.
Sprockets seems to be used as a rails tool in the assets pipeline feature.

To confirm my thought,I've seen this recent gem on github [https://github.com/jwhitley/requirejs-rails][2]. it proposed to replace sprockets by requireJS. Seems a good starting point. Is there any altenative?

could sprockets and requireJs live happy together? - is there any advantage with this solution?


  [1]: http://requirejs.org/docs/faq-optimization.html#usage
  [2]: https://github.com/jwhitley/requirejs-rails",ruby-on-rails,ruby-on-rails-3.1,backbone.js,requirejs,sprockets,01/31/2012 15:56:51,not a real question,1,110,12,"Can requireJs can replace sprockets in a rails 3.x - backbone app In the context of a rails 3.2 rails with a backbone client side app I try to figure out how to organize the javascript files. 
It is not clear if requireJs could replace or be used instead of sprockets.
Reading this page on requireJs [http://requirejs.org/docs/faq-optimization.html#usage][1]make me think that sprockets can be replace.
Sprockets seems to be used as a rails tool in the assets pipeline feature.

To confirm my thought,I've seen this recent gem on github [https://github.com/jwhitley/requirejs-rails][2]. it proposed to replace sprockets by requireJS. Seems a good starting point. Is there any altenative?

could sprockets and requireJs live happy together? - is there any advantage with this solution?


  [1]: http://requirejs.org/docs/faq-optimization.html#usage
  [2]: https://github.com/jwhitley/requirejs-rails",5
7296515,09/03/2011 23:42:10,849359,07/18/2011 04:43:33,59,1,Best Ruby language guide/tutorial for Rails?,I am looking for a good Ruby teaching guide (in pretty much any form) that gives a good sense of what is needed for programming with the Rails framework.,ruby-on-rails,ruby,,,,,open,0,29,6,Best Ruby language guide/tutorial for Rails? I am looking for a good Ruby teaching guide (in pretty much any form) that gives a good sense of what is needed for programming with the Rails framework.,2
5630063,04/12/2011 03:24:50,421109,08/15/2010 17:35:13,877,7,How do I get my app to go to this custom view?,"I have this custom action in my videos controller:

    def upvoted_songs
      @votes = current_user.videos_votes.where(""value = 1"")
      @videos = @votes.videos.page(params[:page]).per(15)
    end

this is my routes:

    resources :videos do
        member do
          put 'topic_update'
          get 'upvoted_songs'
        end
    end

And this link in my videos index view:

    <%= link_to ""Upvoted Songs"", videos_path, :action => ""upvoted_songs"", :class => ""upvoted_songs chosen_home_option"" %>

and a view file called videos/upvoted_songs.html.erb.

Why doesn't the link direct to the upvoted_songs.html.erb view but rather stay on the video index view?",ruby-on-rails,ruby,ruby-on-rails-3,redirect,links,,open,0,132,12,"How do I get my app to go to this custom view? I have this custom action in my videos controller:

    def upvoted_songs
      @votes = current_user.videos_votes.where(""value = 1"")
      @videos = @votes.videos.page(params[:page]).per(15)
    end

this is my routes:

    resources :videos do
        member do
          put 'topic_update'
          get 'upvoted_songs'
        end
    end

And this link in my videos index view:

    <%= link_to ""Upvoted Songs"", videos_path, :action => ""upvoted_songs"", :class => ""upvoted_songs chosen_home_option"" %>

and a view file called videos/upvoted_songs.html.erb.

Why doesn't the link direct to the upvoted_songs.html.erb view but rather stay on the video index view?",5
11459503,07/12/2012 19:47:40,1521869,07/12/2012 19:40:13,1,0,Building a portfolio: wordpress or ruby on rails?,"Im redesigning my portfolio site which was originally in php. I'm looking for opinions which would be a better option to build a portfolio site with: 

Wordpress or ruby on rails?

It will need a contact form, blog, and portfolio section showing my work.
It will need admin privileges to add in new blog posts and new work.
The portfolio section will require image uploading.

Thanks for all opinions.

",ruby-on-rails,portfolio,,,,07/13/2012 12:25:35,not constructive,1,65,8,"Building a portfolio: wordpress or ruby on rails? Im redesigning my portfolio site which was originally in php. I'm looking for opinions which would be a better option to build a portfolio site with: 

Wordpress or ruby on rails?

It will need a contact form, blog, and portfolio section showing my work.
It will need admin privileges to add in new blog posts and new work.
The portfolio section will require image uploading.

Thanks for all opinions.

",2
2123479,01/23/2010 14:33:38,230649,12/13/2009 12:00:08,133,9,Rails class name/type not working for a polymorphic has_many :through ,"I have an invoicing system that manages debits and credits. Basically the invoice amount is obtained by the sum of it's debits and the balance is derived by taking the sum of it's credits and subtracting it against the total amount.

I'm doing this with four models.

 1. Invoice
 2. Line Item
 3. Debit
 4. Credit

The way it works is via a join model (Line Item) that has a polymorphic association called recordable. Everything appears to work properly at first glance. **However, inspecting the line item shows that while the recordable_id shows up alright, the recordable_type is nil.**

Here is a break down of the code:

    class Invoice < ActiveRecord::Base
      has_many :line_items, :dependent => :destroy
      has_many :debits, :through => :line_items, :as => :recordable
      has_many :credits, :through => :line_items, :as => :recordable
    end
    
    class LineItem < ActiveRecord::Base
      belongs_to :invoice
      belongs_to :recordable, :polymorphic => true
      belongs_to :credit, :class_name => ""Credit"", :foreign_key => ""recordable_id""
      belongs_to :debit,  :class_name => ""Debit"",   :foreign_key => ""recordable_id""
    end
    
    class Credit < ActiveRecord::Base
      has_many :line_items, :as => :recordable, :dependent => :destroy
    end
    
    class Debit < ActiveRecord::Base
      has_many :line_items, :as => :recordable, :dependent => :destroy
    end

Can anyone point me into the right direction here?
",ruby-on-rails,ruby,polymorphic-associations,has-many-through,,,open,0,276,11,"Rails class name/type not working for a polymorphic has_many :through  I have an invoicing system that manages debits and credits. Basically the invoice amount is obtained by the sum of it's debits and the balance is derived by taking the sum of it's credits and subtracting it against the total amount.

I'm doing this with four models.

 1. Invoice
 2. Line Item
 3. Debit
 4. Credit

The way it works is via a join model (Line Item) that has a polymorphic association called recordable. Everything appears to work properly at first glance. **However, inspecting the line item shows that while the recordable_id shows up alright, the recordable_type is nil.**

Here is a break down of the code:

    class Invoice < ActiveRecord::Base
      has_many :line_items, :dependent => :destroy
      has_many :debits, :through => :line_items, :as => :recordable
      has_many :credits, :through => :line_items, :as => :recordable
    end
    
    class LineItem < ActiveRecord::Base
      belongs_to :invoice
      belongs_to :recordable, :polymorphic => true
      belongs_to :credit, :class_name => ""Credit"", :foreign_key => ""recordable_id""
      belongs_to :debit,  :class_name => ""Debit"",   :foreign_key => ""recordable_id""
    end
    
    class Credit < ActiveRecord::Base
      has_many :line_items, :as => :recordable, :dependent => :destroy
    end
    
    class Debit < ActiveRecord::Base
      has_many :line_items, :as => :recordable, :dependent => :destroy
    end

Can anyone point me into the right direction here?
",4
10554511,05/11/2012 15:39:42,1257980,03/08/2012 20:51:40,3,0,How: Multiple Rails apps per VHost - Migrate from Passenger RailsBaseURI?,"I'm migrating from apache/passenger to nginx/unicorn. I've successfully loaded nginix and hosting multiple sites with unicorn, but only one per domain.

In Passenger, one could host multiple rails apps under a single domain, via subfolders, and continue to host a single html file under root.  For example:

    <VirtualHost 10.0.0.2>
        ServerName preview.site.com
        ServerAlias preview.site.com

        DocumentRoot /var/www/com.site.preview

        <Directory /var/www/com.site.preview>
                AllowOverride all
                Options -MultiViews
        </Directory>

        RailsBaseURI /app-one
        RailsBaseURI /app-two
        RailsBaseURI /app-three

    </VirtualHost>

so going to 

    http://preview.site.com

would give me a directory. going to :

    http://preview.site.com/app-one
    http://preview.site.com/app-two
    http://preview.site.com/app-three

would instead run each application under that sub folder. is there a away I can still do this in nginx/unicorn?

A similar question was asked on http://stackoverflow.com/questions/10386305/how-to-make-unicorn-run-a-rails-3-0-app-under-a-path, but only provided part of the answer.",ruby-on-rails,nginx,rack,unicorn,,,open,0,219,11,"How: Multiple Rails apps per VHost - Migrate from Passenger RailsBaseURI? I'm migrating from apache/passenger to nginx/unicorn. I've successfully loaded nginix and hosting multiple sites with unicorn, but only one per domain.

In Passenger, one could host multiple rails apps under a single domain, via subfolders, and continue to host a single html file under root.  For example:

    <VirtualHost 10.0.0.2>
        ServerName preview.site.com
        ServerAlias preview.site.com

        DocumentRoot /var/www/com.site.preview

        <Directory /var/www/com.site.preview>
                AllowOverride all
                Options -MultiViews
        </Directory>

        RailsBaseURI /app-one
        RailsBaseURI /app-two
        RailsBaseURI /app-three

    </VirtualHost>

so going to 

    http://preview.site.com

would give me a directory. going to :

    http://preview.site.com/app-one
    http://preview.site.com/app-two
    http://preview.site.com/app-three

would instead run each application under that sub folder. is there a away I can still do this in nginx/unicorn?

A similar question was asked on http://stackoverflow.com/questions/10386305/how-to-make-unicorn-run-a-rails-3-0-app-under-a-path, but only provided part of the answer.",4
9452917,02/26/2012 12:08:30,459537,09/27/2010 13:38:55,1258,34,"Rails: how to get the current host, or build a URL with it?","I need to use the host to build a URL with a different port.

For example, if the host is example.com, I need to generate a URL like http://example.com:8080/

I need it to be portable, so when I'm in my local enviroment it shows http://localhost:8080/ instead.

Any ideas?",ruby-on-rails,ruby,url,host,,,open,0,45,13,"Rails: how to get the current host, or build a URL with it? I need to use the host to build a URL with a different port.

For example, if the host is example.com, I need to generate a URL like http://example.com:8080/

I need it to be portable, so when I'm in my local enviroment it shows http://localhost:8080/ instead.

Any ideas?",4
4717028,01/17/2011 19:31:26,578963,01/17/2011 19:17:35,1,0,"RAILS: One single controller in the ""/"" site-root taking variable requests...","being quite new to the rails framework i dont know exactly where i missed the spot.

i want to do the following:

1. someone sends a rest request (get,put,post,delete) in the form of /var1/var2/var3.var4
2. i want to catch all 4 vars
3. nothing else will run on this app. i do not need views, etc.
4. my rails app responds with an appropriate response object

right now i don't get around the routes.rb part. i got this so far:

    scope ""/"" do
       post "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#post""
       get "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#get""
       put "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#put""
       delete "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#delete""
    end

my controller rest_proxy exists, the methods exist, but i get a ""no route"" error, no matter what i do so there must be something fundamentally wrong.

rake route shows the quivalent of what you see above.

if anyone could point me into the right direction that would be awesome (also about the response object, but that shouldn't be a big deal, right...?)...

thanks and regards,
anton
",ruby-on-rails,rest,routes,,,,open,0,185,11,"RAILS: One single controller in the ""/"" site-root taking variable requests... being quite new to the rails framework i dont know exactly where i missed the spot.

i want to do the following:

1. someone sends a rest request (get,put,post,delete) in the form of /var1/var2/var3.var4
2. i want to catch all 4 vars
3. nothing else will run on this app. i do not need views, etc.
4. my rails app responds with an appropriate response object

right now i don't get around the routes.rb part. i got this so far:

    scope ""/"" do
       post "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#post""
       get "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#get""
       put "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#put""
       delete "":var1/:var2[/:var3[.:var4]]"" => ""rest_proxy#delete""
    end

my controller rest_proxy exists, the methods exist, but i get a ""no route"" error, no matter what i do so there must be something fundamentally wrong.

rake route shows the quivalent of what you see above.

if anyone could point me into the right direction that would be awesome (also about the response object, but that shouldn't be a big deal, right...?)...

thanks and regards,
anton
",3
5756955,04/22/2011 15:25:45,720696,04/22/2011 15:11:55,1,0,What is the best language to code a consumer review site in?,"What is the best language to code a consumer review site in? For example, what is Yelp coded in?",ruby-on-rails,,,,,04/22/2011 15:29:45,not constructive,1,19,12,"What is the best language to code a consumer review site in? What is the best language to code a consumer review site in? For example, what is Yelp coded in?",1
4302050,11/29/2010 08:39:14,261035,01/28/2010 14:03:13,40,2,Export data to CSV in rails,I need export data as CSV in rails appl. I found this plugin: https://github.com/crafterm/comma. Do you know about some better solution?,ruby-on-rails,csv,export,,,04/20/2012 12:35:15,not constructive,1,21,6,Export data to CSV in rails I need export data as CSV in rails appl. I found this plugin: https://github.com/crafterm/comma. Do you know about some better solution?,3
4003978,10/23/2010 12:35:54,39677,11/03/2008 21:48:03,6974,5,"Reset the database (purge all), then seed a database","Is there a rake command to wipe out the data in the database tables?

how do I create a db:seed script to pre-install data to my tables?",ruby-on-rails,,,,,,open,0,26,9,"Reset the database (purge all), then seed a database Is there a rake command to wipe out the data in the database tables?

how do I create a db:seed script to pre-install data to my tables?",1
10315688,04/25/2012 12:33:00,452792,06/02/2010 18:08:06,2158,126,Rails naming conventions when having two relations to the same model,"My question is more related to naming conventions than programmation I guess.

Let's assume an application where users can create new articles (so they are the owner of these articles) and where you can add article ""editors"", who can only update the article content.

    class User
      include Mongoid::Document
      has_many :articles # as owner of the articles
      has_and_belongs_to_many :articles # as editor of the articles
    end

    class Article
      include Mongoid::Document
      belongs_to :user
      has_and_belongs_to_many :editors, :class_name => 'User'
    end

What I want to know is how I should call the articles association in my User model. I mean, an article has an author and editors, which seems strong naming conventions to me, but a user has articles he created and articles he is the editor. How would you call/name/declare the last 2 associations?",ruby-on-rails,mongodb,coding-style,naming-conventions,mongoid,,open,0,171,11,"Rails naming conventions when having two relations to the same model My question is more related to naming conventions than programmation I guess.

Let's assume an application where users can create new articles (so they are the owner of these articles) and where you can add article ""editors"", who can only update the article content.

    class User
      include Mongoid::Document
      has_many :articles # as owner of the articles
      has_and_belongs_to_many :articles # as editor of the articles
    end

    class Article
      include Mongoid::Document
      belongs_to :user
      has_and_belongs_to_many :editors, :class_name => 'User'
    end

What I want to know is how I should call the articles association in my User model. I mean, an article has an author and editors, which seems strong naming conventions to me, but a user has articles he created and articles he is the editor. How would you call/name/declare the last 2 associations?",5
10502864,05/08/2012 16:47:41,1121744,12/29/2011 18:44:14,27,6,uninitialized constant CustomersController::CSV,"I'm following the tutorial [http://www.funonrails.com/2012/01/csv-file-importexport-in-rails-3.html\]][1]for upload files in rails 3, because I need  that my app's user could upload csv files but when I tried to save the file I get: **uninitialized constant CustomersController::CSV** message, before change my routes to get ""customers/import"" to post ""customers/import"" I had other error **No route matches [POST] ""/customers/import""** what Im doing wrong? thanks in advance.

**MY CONTROLLER:**

    class CustomersController < ApplicationController
    def import
    if request.post? && params[:file].present?
    infile = params[:file].read
    n, errs = 0, []
    CSV.parse(infile) do |row|
    n += 1
    # SKIP: header i.e. first row OR blank row
    next if n == 1 or row.join.blank?
    # build_from_csv method will map customer attributes & 
    # build new customer record
    customer = Customer.build_from_csv(row)
    # Save upon valid 
    # otherwise collect error records to export
    if customer.valid?
    customer.save
    else
    errs << row
    end
    end
    # Export Error file for later upload upon correction
    if errs.any?
    errFile =""errors_#{Date.today.strftime('%d%b%y')}.csv""
    errs.insert(0, Customer.csv_header)
    errCSV = CSV.generate do |csv|
    errs.each {|row| csv << row}
    end
    send_data errCSV,
    :type => 'text/csv; charset=iso-8859-1; header=present',
    :disposition => ""attachment; filename=#{errFile}.csv""
    else
    flash[:notice] = I18n.t('customer.import.success')
    redirect_to import_url #GET
    end
    end
    end
    end

**MY MODEL:**


    class Customer < ActiveRecord::Base
    scope :active, where(:active => true)
    scope :latest, order('created_at desc')
    def self.csv_header
    ""First Name,Last Name,Email,Phone,Mobile, Address, FAX, City"".split(',')
    end
      
    def self.build_from_csv(row)
    # find existing customer from email or create new
    cust = find_or_initialize_by_email(row[2])
    cust.attributes ={:first_name => row[0],
    :last_name => row[1],
    :email => row[3],
    :phone => row[4],
    :mobile => row[5],
    :address => row[6],
    :fax => row[7],
    :city => row[8]}
    return cust
    end
      
    def to_csv
    [first_name, last_name, email, phone, mobile, address, fax, city]
    end
    end

**MY VIEW:*

    <h1>Subir Archivos</h1>

    <%= form_tag('import', :multipart => true) do %>
    <p>
    File:<br />
    <%= file_field_tag 'file' %><br />
    </p>
    <p>
    <%= submit_tag ""subir"" %>
    </p>
    <% end %>

**MY ROUTES:**

    Pruebaupcsv::Application.routes.draw do
    post ""customers/import""


  [1]: http://www.funonrails.com/2012/01/csv-file-importexport-in-rails-3.html%5D",ruby-on-rails,file-upload,csv,,,,open,0,530,3,"uninitialized constant CustomersController::CSV I'm following the tutorial [http://www.funonrails.com/2012/01/csv-file-importexport-in-rails-3.html\]][1]for upload files in rails 3, because I need  that my app's user could upload csv files but when I tried to save the file I get: **uninitialized constant CustomersController::CSV** message, before change my routes to get ""customers/import"" to post ""customers/import"" I had other error **No route matches [POST] ""/customers/import""** what Im doing wrong? thanks in advance.

**MY CONTROLLER:**

    class CustomersController < ApplicationController
    def import
    if request.post? && params[:file].present?
    infile = params[:file].read
    n, errs = 0, []
    CSV.parse(infile) do |row|
    n += 1
    # SKIP: header i.e. first row OR blank row
    next if n == 1 or row.join.blank?
    # build_from_csv method will map customer attributes & 
    # build new customer record
    customer = Customer.build_from_csv(row)
    # Save upon valid 
    # otherwise collect error records to export
    if customer.valid?
    customer.save
    else
    errs << row
    end
    end
    # Export Error file for later upload upon correction
    if errs.any?
    errFile =""errors_#{Date.today.strftime('%d%b%y')}.csv""
    errs.insert(0, Customer.csv_header)
    errCSV = CSV.generate do |csv|
    errs.each {|row| csv << row}
    end
    send_data errCSV,
    :type => 'text/csv; charset=iso-8859-1; header=present',
    :disposition => ""attachment; filename=#{errFile}.csv""
    else
    flash[:notice] = I18n.t('customer.import.success')
    redirect_to import_url #GET
    end
    end
    end
    end

**MY MODEL:**


    class Customer < ActiveRecord::Base
    scope :active, where(:active => true)
    scope :latest, order('created_at desc')
    def self.csv_header
    ""First Name,Last Name,Email,Phone,Mobile, Address, FAX, City"".split(',')
    end
      
    def self.build_from_csv(row)
    # find existing customer from email or create new
    cust = find_or_initialize_by_email(row[2])
    cust.attributes ={:first_name => row[0],
    :last_name => row[1],
    :email => row[3],
    :phone => row[4],
    :mobile => row[5],
    :address => row[6],
    :fax => row[7],
    :city => row[8]}
    return cust
    end
      
    def to_csv
    [first_name, last_name, email, phone, mobile, address, fax, city]
    end
    end

**MY VIEW:*

    <h1>Subir Archivos</h1>

    <%= form_tag('import', :multipart => true) do %>
    <p>
    File:<br />
    <%= file_field_tag 'file' %><br />
    </p>
    <p>
    <%= submit_tag ""subir"" %>
    </p>
    <% end %>

**MY ROUTES:**

    Pruebaupcsv::Application.routes.draw do
    post ""customers/import""


  [1]: http://www.funonrails.com/2012/01/csv-file-importexport-in-rails-3.html%5D",3
4306317,11/29/2010 17:28:29,313127,04/09/2010 19:45:08,113,1,What's the most feature rich text editor on Linux for Ruby on Rails development?,"What text editor do you think is the most feature rich for Ruby on Rails development on Linux?

Thanks",ruby-on-rails,linux,polls,text-editor,,04/30/2012 21:51:26,not constructive,1,18,14,"What's the most feature rich text editor on Linux for Ruby on Rails development? What text editor do you think is the most feature rich for Ruby on Rails development on Linux?

Thanks",4
9228282,02/10/2012 13:08:16,364103,02/12/2009 12:51:47,15,0,Rspec & large spec files organisation,"I was just wondering how others organise large spec files (especially for models) with many contexts and sections organised in describe blocks for validations and other specs that can be grouped in some meaningful way.

Do you guys keep all the specs concerning a model in the same spec file for that model, or do you split into modules in a way or another? 

I have never cared too much about this so far but I am wondering what others do, as there doesn't seem to be some sort of agreement around a best practice or such. 

I've got some pretty large spec files for some models that I'd like to organise into smaller files, and there is little to no functionality shared across different models so I am not sure whether shared examples would be the way to go about this (regardless reusability) or whether there is some better way. Any suggestions?

Thanks in advance.",ruby-on-rails,ruby,testing,rspec,bdd,,open,0,154,6,"Rspec & large spec files organisation I was just wondering how others organise large spec files (especially for models) with many contexts and sections organised in describe blocks for validations and other specs that can be grouped in some meaningful way.

Do you guys keep all the specs concerning a model in the same spec file for that model, or do you split into modules in a way or another? 

I have never cared too much about this so far but I am wondering what others do, as there doesn't seem to be some sort of agreement around a best practice or such. 

I've got some pretty large spec files for some models that I'd like to organise into smaller files, and there is little to no functionality shared across different models so I am not sure whether shared examples would be the way to go about this (regardless reusability) or whether there is some better way. Any suggestions?

Thanks in advance.",5
83784,09/17/2008 14:25:08,15476,09/17/2008 09:45:04,24,0,Rails books?,Hey ya guys ...do you know good books for ruby on rails .I know 'Grails'.Keeping that in mind please suggest some good books for Rails !,ruby-on-rails,rubyonrails,grails,,,09/19/2011 06:29:54,not constructive,1,26,2,Rails books? Hey ya guys ...do you know good books for ruby on rails .I know 'Grails'.Keeping that in mind please suggest some good books for Rails !,3
11264030,06/29/2012 14:52:09,1169575,01/25/2012 15:52:52,145,2,Rails gem to add view content,"since often I'm comparing production and development website output, it happens sometimes I try to see latest development edits on the live website (just because they're equal, I don't see the URLbar address) and I lose minutes before to realize I was just looking at the production website.

So I'm willing to create a Rails3 Gem that has to be installed under the ""development"" group, that automatically adds some output to all views (for example a warning message ""DEVELOPMENT MODE"" or something like that, and maybe add at the bottom some debug info about the current page).

I've realized I could do this by creating some view helper, returning `nil` if the environment is ""production"", but it would require to install the gem globally to make it find the view helper also on a production server.

So I'm just trying to figure out if there's another way less intrusive to add such content. Is there?",ruby-on-rails,ruby,ruby-on-rails-3,views,,,open,0,152,6,"Rails gem to add view content since often I'm comparing production and development website output, it happens sometimes I try to see latest development edits on the live website (just because they're equal, I don't see the URLbar address) and I lose minutes before to realize I was just looking at the production website.

So I'm willing to create a Rails3 Gem that has to be installed under the ""development"" group, that automatically adds some output to all views (for example a warning message ""DEVELOPMENT MODE"" or something like that, and maybe add at the bottom some debug info about the current page).

I've realized I could do this by creating some view helper, returning `nil` if the environment is ""production"", but it would require to install the gem globally to make it find the view helper also on a production server.

So I'm just trying to figure out if there's another way less intrusive to add such content. Is there?",4
1283367,08/16/2009 02:57:26,131320,06/30/2009 20:13:54,25,1,render_to_string stripping markup,"I am using `render_to_string` within a JSON 'render' response. The `render_to_string` method seems to be striping my HTML, what am I doing wrong here?

Here's a sample:

    render :json => {:html => render_to_string(:partial => 'view', :locals => { data => @data} )}

The response is coming through without any markup on it.",ruby-on-rails,ruby,,,,,open,0,53,3,"render_to_string stripping markup I am using `render_to_string` within a JSON 'render' response. The `render_to_string` method seems to be striping my HTML, what am I doing wrong here?

Here's a sample:

    render :json => {:html => render_to_string(:partial => 'view', :locals => { data => @data} )}

The response is coming through without any markup on it.",2
6374648,06/16/2011 15:43:36,569901,01/10/2011 13:37:39,18,1,Actionmailer SMTP Server Response,"When sending mail trough actionmailer, the actionmailer gets a response from the STMP server, when its ok, or when its wrong. Is there a way to retrieve this response after sending a mail?
Also when no errors are thrown by the SMTP server?",ruby-on-rails,,,,,,open,0,42,4,"Actionmailer SMTP Server Response When sending mail trough actionmailer, the actionmailer gets a response from the STMP server, when its ok, or when its wrong. Is there a way to retrieve this response after sending a mail?
Also when no errors are thrown by the SMTP server?",1
8527541,12/15/2011 22:28:55,137777,07/14/2009 01:23:35,81,1,Should the resque-scheduler queue be expected to handle /lots/ of delayed jobs?,"I am currently using resque and resque-scheduler in an application that will have to handle a lot of recurring jobs - ""do this every hour"", ""do this every day"" etc. At the moment, I simply queue up the next run of the job in the job itself, the HourlyJob queue has a .enqueue_at(1.hour.from_now, HourlyJob) etc.

Should I be doing this? It ""feels"" like I should have a static recurring job using resque-schedulers cron-type functionality that then schedules up say the next 5 minutes worth of delayed jobs... but all I am really doing is moving the work from the (probably fast, redis based) resque-scheduler to my (probably less well implemented, mysql based) code, surely?

Is there anything wrong with how I'm doing it now?",ruby-on-rails,ruby,resque,,,,open,0,122,12,"Should the resque-scheduler queue be expected to handle /lots/ of delayed jobs? I am currently using resque and resque-scheduler in an application that will have to handle a lot of recurring jobs - ""do this every hour"", ""do this every day"" etc. At the moment, I simply queue up the next run of the job in the job itself, the HourlyJob queue has a .enqueue_at(1.hour.from_now, HourlyJob) etc.

Should I be doing this? It ""feels"" like I should have a static recurring job using resque-schedulers cron-type functionality that then schedules up say the next 5 minutes worth of delayed jobs... but all I am really doing is moving the work from the (probably fast, redis based) resque-scheduler to my (probably less well implemented, mysql based) code, surely?

Is there anything wrong with how I'm doing it now?",3
4544036,12/28/2010 06:08:57,555677,12/28/2010 06:04:14,1,0,Ruby on Rails path to public folder,I have a site that was developed in ROR by a friend. He put it on a linux server. I have root access and I am trying to figure out the path to the public public folder. Is there any standard path for ROR?,ruby-on-rails,,,,,,open,0,44,7,Ruby on Rails path to public folder I have a site that was developed in ROR by a friend. He put it on a linux server. I have root access and I am trying to figure out the path to the public public folder. Is there any standard path for ROR?,1
8997226,01/25/2012 02:38:53,435471,03/24/2010 17:45:15,249,10,rake assets:precompile attempting to connect to database,"I'm attempting to debug why my application is attempting to connect to my database when I run `rake assets:precompile --trace`. 

I'm probably missing something in the stack trace...anyone see the pertinent line?

    DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in ActionController::Base instead. (called from <top (required)> at /Users/Kyle/Desktop/skateparks-web/config/application.rb:4)
    ** Invoke assets:precompile (first_time)
    ** Execute assets:precompile
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/bin/ruby /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets --trace
    DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in ActionController::Base instead. (called from <top (required)> at /Users/Kyle/Desktop/skateparks-web/config/application.rb:4)
    ** Invoke assets:precompile:all (first_time)
    ** Execute assets:precompile:all
    ** Invoke assets:precompile:primary (first_time)
    ** Invoke assets:environment (first_time)
    ** Execute assets:environment
    ** Invoke environment (first_time)
    ** Execute environment
    rake aborted!
    FATAL:  database ""skateparks_production"" does not exist
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:1161:in `initialize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:1161:in `new'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:1161:in `connect'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:316:in `initialize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:27:in `new'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:27:in `postgresql_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:277:in `new_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:287:in `checkout_new_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:235:in `block (2 levels) in checkout'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:230:in `loop'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:230:in `block in checkout'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:229:in `checkout'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:95:in `connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `retrieve_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_specification.rb:168:in `retrieve_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_specification.rb:142:in `connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/model_schema.rb:308:in `clear_cache!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/railtie.rb:91:in `block (2 levels) in <class:Railtie>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:418:in `_run__2041913228368879189__prepare__1991931652306887621__callbacks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:405:in `__run_callback'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:385:in `_run_prepare_callbacks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:81:in `run_callbacks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/action_dispatch/middleware/reloader.rb:74:in `prepare!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/action_dispatch/middleware/reloader.rb:48:in `prepare!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application/finisher.rb:48:in `block in <module:Finisher>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `instance_exec'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:55:in `block in run_initializers'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `run_initializers'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application.rb:136:in `initialize!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/railtie/configurable.rb:30:in `method_missing'
    /Users/Kyle/Desktop/skateparks-web/config/environment.rb:5:in `<top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `block in require'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:236:in `load_dependency'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application.rb:103:in `require_environment!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application.rb:292:in `block (2 levels) in initialize_tasks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:89:in `block (2 levels) in <top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:176:in `block in invoke_prerequisites'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:174:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:174:in `invoke_prerequisites'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:157:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:56:in `block (3 levels) in <top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:112:in `invoke_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block (2 levels) in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:84:in `top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:62:in `block in run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:59:in `run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/bin/rake:32:in `<top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `load'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `<main>'
    Tasks: TOP => environment
    rake aborted!
    Command failed with status (1): [/Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/bi...]
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:53:in `block in create_shell_runner'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:45:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:45:in `sh'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils_ext.rb:36:in `sh'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:78:in `ruby'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils_ext.rb:36:in `ruby'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:9:in `ruby_rake_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:17:in `invoke_or_reboot_rake_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:25:in `block (2 levels) in <top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:112:in `invoke_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block (2 levels) in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:84:in `top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:62:in `block in run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:59:in `run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/bin/rake:32:in `<top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `load'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `<main>'
    Tasks: TOP => assets:precompile",ruby-on-rails,ruby,ruby-on-rails-3,ruby-on-rails-3.2,,,open,0,844,7,"rake assets:precompile attempting to connect to database I'm attempting to debug why my application is attempting to connect to my database when I run `rake assets:precompile --trace`. 

I'm probably missing something in the stack trace...anyone see the pertinent line?

    DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in ActionController::Base instead. (called from <top (required)> at /Users/Kyle/Desktop/skateparks-web/config/application.rb:4)
    ** Invoke assets:precompile (first_time)
    ** Execute assets:precompile
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/bin/ruby /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets --trace
    DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in ActionController::Base instead. (called from <top (required)> at /Users/Kyle/Desktop/skateparks-web/config/application.rb:4)
    ** Invoke assets:precompile:all (first_time)
    ** Execute assets:precompile:all
    ** Invoke assets:precompile:primary (first_time)
    ** Invoke assets:environment (first_time)
    ** Execute assets:environment
    ** Invoke environment (first_time)
    ** Execute environment
    rake aborted!
    FATAL:  database ""skateparks_production"" does not exist
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:1161:in `initialize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:1161:in `new'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:1161:in `connect'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:316:in `initialize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:27:in `new'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:27:in `postgresql_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:277:in `new_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:287:in `checkout_new_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:235:in `block (2 levels) in checkout'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:230:in `loop'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:230:in `block in checkout'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:229:in `checkout'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:95:in `connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `retrieve_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_specification.rb:168:in `retrieve_connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/connection_adapters/abstract/connection_specification.rb:142:in `connection'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/model_schema.rb:308:in `clear_cache!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activerecord-3.2.0/lib/active_record/railtie.rb:91:in `block (2 levels) in <class:Railtie>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:418:in `_run__2041913228368879189__prepare__1991931652306887621__callbacks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:405:in `__run_callback'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:385:in `_run_prepare_callbacks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/callbacks.rb:81:in `run_callbacks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/action_dispatch/middleware/reloader.rb:74:in `prepare!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/action_dispatch/middleware/reloader.rb:48:in `prepare!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application/finisher.rb:48:in `block in <module:Finisher>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `instance_exec'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:30:in `run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:55:in `block in run_initializers'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/initializable.rb:54:in `run_initializers'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application.rb:136:in `initialize!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/railtie/configurable.rb:30:in `method_missing'
    /Users/Kyle/Desktop/skateparks-web/config/environment.rb:5:in `<top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `block in require'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:236:in `load_dependency'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/activesupport-3.2.0/lib/active_support/dependencies.rb:251:in `require'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application.rb:103:in `require_environment!'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/railties-3.2.0/lib/rails/application.rb:292:in `block (2 levels) in initialize_tasks'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:89:in `block (2 levels) in <top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:176:in `block in invoke_prerequisites'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:174:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:174:in `invoke_prerequisites'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:157:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:56:in `block (3 levels) in <top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:112:in `invoke_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block (2 levels) in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:84:in `top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:62:in `block in run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:59:in `run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/bin/rake:32:in `<top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `load'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `<main>'
    Tasks: TOP => environment
    rake aborted!
    Command failed with status (1): [/Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/bi...]
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:53:in `block in create_shell_runner'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:45:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:45:in `sh'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils_ext.rb:36:in `sh'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils.rb:78:in `ruby'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/file_utils_ext.rb:36:in `ruby'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:9:in `ruby_rake_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:17:in `invoke_or_reboot_rake_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/actionpack-3.2.0/lib/sprockets/assets.rake:25:in `block (2 levels) in <top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
    /Users/Kyle/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:112:in `invoke_task'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block (2 levels) in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `each'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:90:in `block in top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:84:in `top_level'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:62:in `block in run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/lib/rake/application.rb:59:in `run'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/gems/rake-0.9.2/bin/rake:32:in `<top (required)>'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `load'
    /Users/Kyle/.rvm/gems/ruby-1.9.2-p290@skateparks/bin/rake:19:in `<main>'
    Tasks: TOP => assets:precompile",4
11027028,06/14/2012 05:14:52,949918,09/17/2011 05:56:08,310,13,"Not getting a [:id] prameter from url, Default route is not working","Hy guys when I request a URL as follows 

`http://localhost:3000/password_resets/edit/4RghIKJNygEDswIuuCo`

I'm not getting the [:id] parameter i.e. **4RghIKJNygEDswIuuCo**, here is my route file. Is there any modifications required to this? please help me!

    ActionController::Routing::Routes.draw do |map|
    
      match 'primary', :to => 'pages#primary', :as => ""primary""
      match 'admins', :to => 'admin_users#list', :as => ""admins""
      
      match 'login', :to => 'user_sessions#new', :as => ""login""
      match 'logout', :to => 'user_sessions#destroy', :as => ""logout""
    
      root :to =>""public#index""
    
      match 'HFA/:id/' => 'public#show'
      match 'HFA/:id/:uid' =>'public#show'
      match 'public/projectview/:projectid/' => 'public#projectview'
      map.connect ':controller/:action/:id.:format'
      map.connect ':controller/:action/:id'
    
      resources :users
      resources :usertypes
      resources :user_sessions
    end

",ruby-on-rails,ruby-on-rails-3,parameters,routes,url-parameters,,open,0,185,12,"Not getting a [:id] prameter from url, Default route is not working Hy guys when I request a URL as follows 

`http://localhost:3000/password_resets/edit/4RghIKJNygEDswIuuCo`

I'm not getting the [:id] parameter i.e. **4RghIKJNygEDswIuuCo**, here is my route file. Is there any modifications required to this? please help me!

    ActionController::Routing::Routes.draw do |map|
    
      match 'primary', :to => 'pages#primary', :as => ""primary""
      match 'admins', :to => 'admin_users#list', :as => ""admins""
      
      match 'login', :to => 'user_sessions#new', :as => ""login""
      match 'logout', :to => 'user_sessions#destroy', :as => ""logout""
    
      root :to =>""public#index""
    
      match 'HFA/:id/' => 'public#show'
      match 'HFA/:id/:uid' =>'public#show'
      match 'public/projectview/:projectid/' => 'public#projectview'
      map.connect ':controller/:action/:id.:format'
      map.connect ':controller/:action/:id'
    
      resources :users
      resources :usertypes
      resources :user_sessions
    end

",5
5489978,03/30/2011 17:40:48,520720,11/25/2010 23:19:34,3,1,Application stacks,"I'm trying to create an application that implements student data into a scheduled organizer. What are the best technologies to accomplish this? 

(I'm leaning towards ruby-on-rails for the web based application, then progressively moving it toward objective-c for the iphone. I'm curious to hear other approaches or stacks you guys would have in mind.)",ruby-on-rails,web-applications,programming-languages,,,03/30/2011 23:18:53,not constructive,1,54,2,"Application stacks I'm trying to create an application that implements student data into a scheduled organizer. What are the best technologies to accomplish this? 

(I'm leaning towards ruby-on-rails for the web based application, then progressively moving it toward objective-c for the iphone. I'm curious to hear other approaches or stacks you guys would have in mind.)",3
3547660,08/23/2010 12:49:18,327196,04/27/2010 19:28:43,46,0,How to pull a Sharepoint List with a Rails app?,"I would like to enable a rails app to pull from a sharepoint list in order to update a model.  Has anybody meshed up these two things?

",ruby-on-rails,sharepoint,synchronization,,,,open,0,28,10,"How to pull a Sharepoint List with a Rails app? I would like to enable a rails app to pull from a sharepoint list in order to update a model.  Has anybody meshed up these two things?

",3
10288693,04/23/2012 21:37:55,363954,06/10/2010 20:42:13,167,3,basic ruby on rails authentication trouble,"I am working on a basic authentication system for a rails app.  The authentication is verifying account information from Active Directory using a net-ldap class (this part is working fine).  

Something seems to be wrong with my session_helper however.  Even though ActiveDirectoryUser.authenticate is successful, the signed_in helper always returns false.  After signing in, the script redirects to root_path (default_controller's home) and then immediately redirects back to signin_path again-- as a result of the signed_in helper returning false.

See the code below.  What am I missing?

Thanks

**application_controller.rb**

    class ApplicationController < ActionController::Base
      protect_from_forgery
      include SessionsHelper
    end

**default_controller.rb**

    class DefaultController < ApplicationController
      before_filter :signed_in_user
    
      def home
      end
    
      private
        def signed_in_user
          redirect_to signin_path, notice: ""Please sign in."" unless signed_in?
        end
    end

**sessions_helper.rb**

    module SessionsHelper
      def sign_in(user)
        @current_user = user
      end
    
      def current_user
        @current_user ||= nil
      end
    
      def signed_in?
        !@current_user.nil?
      end
    
      def sign_out
        @current_user = nil
      end
    end

**sessions_controller.rb**

    class SessionsController < ApplicationController
      def new
      end
    
      def create    
        user = ActiveDirectoryUser.authenticate(params[:session][:username],params[:session][:password])
        
        if user.nil?
          # authentication failed
          flash.now[:error] = 'Invalid email/password combination'
          render 'new'
        else
          # authentication succeeded
          sign_in @user
          flash[:error] = 'Great success'
          redirect_to root_path
        end
      end
    
      def destroy
        sign_out
        redirect_to root_path
      end
    end",ruby-on-rails,ruby-on-rails-3,,,,,open,0,509,6,"basic ruby on rails authentication trouble I am working on a basic authentication system for a rails app.  The authentication is verifying account information from Active Directory using a net-ldap class (this part is working fine).  

Something seems to be wrong with my session_helper however.  Even though ActiveDirectoryUser.authenticate is successful, the signed_in helper always returns false.  After signing in, the script redirects to root_path (default_controller's home) and then immediately redirects back to signin_path again-- as a result of the signed_in helper returning false.

See the code below.  What am I missing?

Thanks

**application_controller.rb**

    class ApplicationController < ActionController::Base
      protect_from_forgery
      include SessionsHelper
    end

**default_controller.rb**

    class DefaultController < ApplicationController
      before_filter :signed_in_user
    
      def home
      end
    
      private
        def signed_in_user
          redirect_to signin_path, notice: ""Please sign in."" unless signed_in?
        end
    end

**sessions_helper.rb**

    module SessionsHelper
      def sign_in(user)
        @current_user = user
      end
    
      def current_user
        @current_user ||= nil
      end
    
      def signed_in?
        !@current_user.nil?
      end
    
      def sign_out
        @current_user = nil
      end
    end

**sessions_controller.rb**

    class SessionsController < ApplicationController
      def new
      end
    
      def create    
        user = ActiveDirectoryUser.authenticate(params[:session][:username],params[:session][:password])
        
        if user.nil?
          # authentication failed
          flash.now[:error] = 'Invalid email/password combination'
          render 'new'
        else
          # authentication succeeded
          sign_in @user
          flash[:error] = 'Great success'
          redirect_to root_path
        end
      end
    
      def destroy
        sign_out
        redirect_to root_path
      end
    end",2
7379381,09/11/2011 15:53:03,345157,02/19/2010 13:44:46,473,7,Rails creating object with the wrong id for certain field,"I am developing a mentions system similar to the one in twitter. So I am dealing with three classes in this problem: Post, User and Mention. The mention object has a mentioned_id field (the mentioned user) and a post_id ( the post in which it happens).
I found some weird problems while writing tests, so I opened a console session, and this is what happens:
I create two users, two posts, and two mentions. If you notice, when I create the second mention (@mention2) the id of @mentioned_id is not the correct user's id:

    ruby-1.9.2-p180 :001 > @user1 = Factory(:user, :email => Factory.next(:email))
    
     => #<User id: 1, name: ""Fulano"", email: ""person_number1@example.com"", created_at: ""2011-09-11 15:38:11"", updated_at: ""2011-09-11 15:38:11"", encrypted_password: ""ede4e8cc0440b8bd9fdc059e8496154715b6592690157aac618..."", salt: ""4bfae8fecee1629b7c290c2d5af5bd3bbeb38c4ce76546d7176..."", admin: false> 
    
    ruby-1.9.2-p180 :002 > @user2 = Factory(:user, :email => Factory.next(:email))
    
     => #<User id: 2, name: ""Fulano"", email: ""person_number2@example.com"", created_at: ""2011-09-11 15:39:06"", updated_at: ""2011-09-11 15:39:06"", encrypted_password: ""ddda10f48575f63724e1db3d3cf684f2c60380325236311e15d..."", salt: ""911121b8942dc57116dfd24383d96874c750bc5a21fa210288b..."", admin: false> 
    
    ruby-1.9.2-p180 :003 > @post1 = Factory(:post, :user => @user1)
    
     => #<post id: 1, content: ""Foo bar"", user_id: 1, created_at: ""2011-09-11 15:39:57"", updated_at: ""2011-09-11 15:39:57""> 
    
    ruby-1.9.2-p180 :004 > @post2 = Factory(:post, :user => @user2)
    
     => #<post id: 2, content: ""Foo bar"", user_id: 2, created_at: ""2011-09-11 15:40:37"", updated_at: ""2011-09-11 15:40:37""> 
    
    ruby-1.9.2-p180 :005 > @mention1 = @post2.mentions.create :mentioned_id => @user1
    
     => #<Mention id: 1, post_id: 2, mentioned_id: 1, created_at: ""2011-09-11 15:41:33"", updated_at: ""2011-09-11 15:41:33""> 
    
    ruby-1.9.2-p180 :007 > @mention2 = @post1.mentions.create :mentioned_id => @user2
    
     => #<Mention id: 2, post_id: 1, mentioned_id: 1, created_at: ""2011-09-11 15:42:16"", updated_at: ""2011-09-11 15:42:16""> 



Strangely enough, if I use **@user2.id** instead of just @user2 that last line, everything works fine:

    ruby-1.9.2-p180 :008 > @mention2 = @post1.mentions.create :mentioned_id => @user2.id
 

    => #<Mention id: 3, post_id: 1, mentioned_id: 2, created_at: ""2011-09-11 15:45:16"", updated_at: ""2011-09-11 15:45:16""> 

Can anyone please tell me what's happening? I thought rails ""magic"" took care of getting the id when referencing an object. And why would it work with the first user but not with the second??

This is the code for my mention class: 

    class Mention < ActiveRecord::Base
      attr_accessible :mentioned_id
      
      belongs_to :mentioned, :class_name => ""User""
      belongs_to :post
      
      validates :mentioned, :presence => true
      validates :post, :presence => true
      
    end

And this is the relevant portion of the code for my user class: 

        Class User < ActiveRecord::Base
      
      …
       
      has_many :posts, :dependent => :destroy  
      has_many :mentions, :dependent => :destroy, :foreign_key => 'mentioned_id'
    
      …






",ruby-on-rails,ruby-on-rails-3,,,,,open,0,575,10,"Rails creating object with the wrong id for certain field I am developing a mentions system similar to the one in twitter. So I am dealing with three classes in this problem: Post, User and Mention. The mention object has a mentioned_id field (the mentioned user) and a post_id ( the post in which it happens).
I found some weird problems while writing tests, so I opened a console session, and this is what happens:
I create two users, two posts, and two mentions. If you notice, when I create the second mention (@mention2) the id of @mentioned_id is not the correct user's id:

    ruby-1.9.2-p180 :001 > @user1 = Factory(:user, :email => Factory.next(:email))
    
     => #<User id: 1, name: ""Fulano"", email: ""person_number1@example.com"", created_at: ""2011-09-11 15:38:11"", updated_at: ""2011-09-11 15:38:11"", encrypted_password: ""ede4e8cc0440b8bd9fdc059e8496154715b6592690157aac618..."", salt: ""4bfae8fecee1629b7c290c2d5af5bd3bbeb38c4ce76546d7176..."", admin: false> 
    
    ruby-1.9.2-p180 :002 > @user2 = Factory(:user, :email => Factory.next(:email))
    
     => #<User id: 2, name: ""Fulano"", email: ""person_number2@example.com"", created_at: ""2011-09-11 15:39:06"", updated_at: ""2011-09-11 15:39:06"", encrypted_password: ""ddda10f48575f63724e1db3d3cf684f2c60380325236311e15d..."", salt: ""911121b8942dc57116dfd24383d96874c750bc5a21fa210288b..."", admin: false> 
    
    ruby-1.9.2-p180 :003 > @post1 = Factory(:post, :user => @user1)
    
     => #<post id: 1, content: ""Foo bar"", user_id: 1, created_at: ""2011-09-11 15:39:57"", updated_at: ""2011-09-11 15:39:57""> 
    
    ruby-1.9.2-p180 :004 > @post2 = Factory(:post, :user => @user2)
    
     => #<post id: 2, content: ""Foo bar"", user_id: 2, created_at: ""2011-09-11 15:40:37"", updated_at: ""2011-09-11 15:40:37""> 
    
    ruby-1.9.2-p180 :005 > @mention1 = @post2.mentions.create :mentioned_id => @user1
    
     => #<Mention id: 1, post_id: 2, mentioned_id: 1, created_at: ""2011-09-11 15:41:33"", updated_at: ""2011-09-11 15:41:33""> 
    
    ruby-1.9.2-p180 :007 > @mention2 = @post1.mentions.create :mentioned_id => @user2
    
     => #<Mention id: 2, post_id: 1, mentioned_id: 1, created_at: ""2011-09-11 15:42:16"", updated_at: ""2011-09-11 15:42:16""> 



Strangely enough, if I use **@user2.id** instead of just @user2 that last line, everything works fine:

    ruby-1.9.2-p180 :008 > @mention2 = @post1.mentions.create :mentioned_id => @user2.id
 

    => #<Mention id: 3, post_id: 1, mentioned_id: 2, created_at: ""2011-09-11 15:45:16"", updated_at: ""2011-09-11 15:45:16""> 

Can anyone please tell me what's happening? I thought rails ""magic"" took care of getting the id when referencing an object. And why would it work with the first user but not with the second??

This is the code for my mention class: 

    class Mention < ActiveRecord::Base
      attr_accessible :mentioned_id
      
      belongs_to :mentioned, :class_name => ""User""
      belongs_to :post
      
      validates :mentioned, :presence => true
      validates :post, :presence => true
      
    end

And this is the relevant portion of the code for my user class: 

        Class User < ActiveRecord::Base
      
      …
       
      has_many :posts, :dependent => :destroy  
      has_many :mentions, :dependent => :destroy, :foreign_key => 'mentioned_id'
    
      …






",2
9792724,03/20/2012 18:24:44,433811,08/28/2010 16:45:58,92,1,Watchr doesn't use the colors from Turn,"I'm using Minitest and the Turn gem for pretty test output. But when I run the tests in Watchr, none of the colors carry over. So I get all of the nice spacing and formatting, but none of the red/green color coding. Is there anything special I need to do to set this up?

Here's my .watchr file

    # [PROGRESS|DOT]=true bundle exec watchr test/tests.watchr

    ENV[""WATCHR""] = ""1""
    system 'clear'

    def growl(message)
      if growlnotify = `which growlnotify`.chomp
        title = ""Somebody's Waaaatchin Meeeee....""
        image = message.include?('0 failures, 0 errors') ? ""~/.watchr_images/passed.png"" : ""~/.watchr_images/failed.png""
        options = ""-n Watchr --image '#{File.expand_path(image)}' -m '#{message}' '#{title}'""
        system %(#{growlnotify} #{options} &)
      end
    end

    def run(cmd)
      puts(cmd)
      `#{cmd}`
    end

    def run_test_file(file)
      system('clear')
      result = run(%Q(ruby -I""lib:test"" -rubygems #{file}))
      growl result.split(""\n"").last rescue nil
      puts result
    end

    def run_all_tests
      system('clear')
      result = run ""rake test""
      growl result.split(""\n"").last rescue nil
      puts result
    end

    def run_all_features
      system('clear')
      run ""cucumber""
    end

    def related_test_files(path)
      Dir['test/**/*.rb'].select { |file| file =~ /#{File.basename(path).split(""."").first}_test.rb/ }
    end

    def run_suite
      run_all_tests
      run_all_features
    end

    watch('test/test_helper\.rb') { run_all_tests }
    watch('test/.*/.*_test\.rb') { |m| run_test_file(m[0]) }
    watch('app/.*/.*\.rb') { |m| related_test_files(m[0]).map {|tf| run_test_file(tf) } }
    watch('lib/.*/.*\.rb') { |m| related_test_files(m[0]).map {|tf| run_test_file(tf) } }
    watch('features/.*/.*\.feature') { run_all_features }

    # Ctrl-\
    Signal.trap 'QUIT' do
      puts "" --- Running all tests ---\n\n""
      run_all_tests
    end

    @interrupted = false

    # Ctrl-C
    Signal.trap 'INT' do
      if @interrupted then
        @wants_to_quit = true
        abort(""\n"")
      else
        puts ""Interrupt a second time to quit""
        @interrupted = true
        Kernel.sleep 1.5
        # raise Interrupt, nil # let the run loop catch it
        run_suite
      end
    end

And my Gemfile, in case you care:

    group :development do
      # Deployment
      gem 'sunspot_solr'
      gem 'brakeman', :require=>false
      
      # Capistrano requires...
      gem 'net-scp', :require=>false
      gem 'net-sftp', :require=>false
      gem 'highline', :require=>false
      gem 'net-ssh-gateway', :require=>false
      gem 'capistrano', :require => false
      gem 'capistrano_colors', :require => false
      
      # Tests auto-run on save
      gem 'guard', '~> 0.8.0'
      gem 'guard-livereload'

      gem 'watchr' # because guard doesn't reload my code

      # Sugary goodness
      gem 'annotate', :require => false, :git => 'git://github.com/jeremyolliver/annotate_models.git', :branch => 'rake_compatibility'
    end

    group :test do
      # Mocking
      gem 'vcr', :require=>false
      gem 'webmock', :require=>false

      # Testing framework
      gem 'factory_girl_rails', :require => false
      gem 'turn', '>= 0.9.3'
      gem 'minitest'                      # At least v2.0.2 if using MiniShoulda.
      gem 'guard-minitest'
      gem 'mini_specunit'                 # The goods! Force MiniTest::Spec instead of MiniTest::Unit.
      gem 'mini_backtrace'                # Use Rails.backtrace_cleaner with MiniTest.
      gem 'mini_shoulda'                  # A small Shoulda syntax on top of MiniTest::Spec.
      gem 'mocha'                         # For the occasional black box test.
      gem 'simplecov', :require => false  # Test coverage in Ruby 1.9
      # Spork makes our tests faster
      gem 'spork', git: 'https://github.com/sporkrb/spork.git' #'~> 0.9.0.rc9'
      gem 'guard-spork'
      gem 'spork-testunit', git: 'git://github.com/sporkrb/spork-testunit.git'
      gem 'ruby-prof' # needed to make Spork run on Minitest?
    end",ruby-on-rails,ruby,ruby-on-rails-3,automated-tests,watchr,,open,0,996,7,"Watchr doesn't use the colors from Turn I'm using Minitest and the Turn gem for pretty test output. But when I run the tests in Watchr, none of the colors carry over. So I get all of the nice spacing and formatting, but none of the red/green color coding. Is there anything special I need to do to set this up?

Here's my .watchr file

    # [PROGRESS|DOT]=true bundle exec watchr test/tests.watchr

    ENV[""WATCHR""] = ""1""
    system 'clear'

    def growl(message)
      if growlnotify = `which growlnotify`.chomp
        title = ""Somebody's Waaaatchin Meeeee....""
        image = message.include?('0 failures, 0 errors') ? ""~/.watchr_images/passed.png"" : ""~/.watchr_images/failed.png""
        options = ""-n Watchr --image '#{File.expand_path(image)}' -m '#{message}' '#{title}'""
        system %(#{growlnotify} #{options} &)
      end
    end

    def run(cmd)
      puts(cmd)
      `#{cmd}`
    end

    def run_test_file(file)
      system('clear')
      result = run(%Q(ruby -I""lib:test"" -rubygems #{file}))
      growl result.split(""\n"").last rescue nil
      puts result
    end

    def run_all_tests
      system('clear')
      result = run ""rake test""
      growl result.split(""\n"").last rescue nil
      puts result
    end

    def run_all_features
      system('clear')
      run ""cucumber""
    end

    def related_test_files(path)
      Dir['test/**/*.rb'].select { |file| file =~ /#{File.basename(path).split(""."").first}_test.rb/ }
    end

    def run_suite
      run_all_tests
      run_all_features
    end

    watch('test/test_helper\.rb') { run_all_tests }
    watch('test/.*/.*_test\.rb') { |m| run_test_file(m[0]) }
    watch('app/.*/.*\.rb') { |m| related_test_files(m[0]).map {|tf| run_test_file(tf) } }
    watch('lib/.*/.*\.rb') { |m| related_test_files(m[0]).map {|tf| run_test_file(tf) } }
    watch('features/.*/.*\.feature') { run_all_features }

    # Ctrl-\
    Signal.trap 'QUIT' do
      puts "" --- Running all tests ---\n\n""
      run_all_tests
    end

    @interrupted = false

    # Ctrl-C
    Signal.trap 'INT' do
      if @interrupted then
        @wants_to_quit = true
        abort(""\n"")
      else
        puts ""Interrupt a second time to quit""
        @interrupted = true
        Kernel.sleep 1.5
        # raise Interrupt, nil # let the run loop catch it
        run_suite
      end
    end

And my Gemfile, in case you care:

    group :development do
      # Deployment
      gem 'sunspot_solr'
      gem 'brakeman', :require=>false
      
      # Capistrano requires...
      gem 'net-scp', :require=>false
      gem 'net-sftp', :require=>false
      gem 'highline', :require=>false
      gem 'net-ssh-gateway', :require=>false
      gem 'capistrano', :require => false
      gem 'capistrano_colors', :require => false
      
      # Tests auto-run on save
      gem 'guard', '~> 0.8.0'
      gem 'guard-livereload'

      gem 'watchr' # because guard doesn't reload my code

      # Sugary goodness
      gem 'annotate', :require => false, :git => 'git://github.com/jeremyolliver/annotate_models.git', :branch => 'rake_compatibility'
    end

    group :test do
      # Mocking
      gem 'vcr', :require=>false
      gem 'webmock', :require=>false

      # Testing framework
      gem 'factory_girl_rails', :require => false
      gem 'turn', '>= 0.9.3'
      gem 'minitest'                      # At least v2.0.2 if using MiniShoulda.
      gem 'guard-minitest'
      gem 'mini_specunit'                 # The goods! Force MiniTest::Spec instead of MiniTest::Unit.
      gem 'mini_backtrace'                # Use Rails.backtrace_cleaner with MiniTest.
      gem 'mini_shoulda'                  # A small Shoulda syntax on top of MiniTest::Spec.
      gem 'mocha'                         # For the occasional black box test.
      gem 'simplecov', :require => false  # Test coverage in Ruby 1.9
      # Spork makes our tests faster
      gem 'spork', git: 'https://github.com/sporkrb/spork.git' #'~> 0.9.0.rc9'
      gem 'guard-spork'
      gem 'spork-testunit', git: 'git://github.com/sporkrb/spork-testunit.git'
      gem 'ruby-prof' # needed to make Spork run on Minitest?
    end",5
8906737,01/18/2012 07:41:36,130111,06/28/2009 17:53:48,122,8,light-weight recurring billing in rails,"I've looked so far at ActiveMerchant and SAAS railskit. ActiveMerchant supports many gateways, but not all (like Google Checkout). Is there a library that supports just billing/recurring  reminders? That way I could use individual plugins for payment processors that I care about and control the ""recurring"" part through an abstract library.",ruby-on-rails,payment,recurring-billing,,,01/23/2012 18:21:14,not constructive,1,52,5,"light-weight recurring billing in rails I've looked so far at ActiveMerchant and SAAS railskit. ActiveMerchant supports many gateways, but not all (like Google Checkout). Is there a library that supports just billing/recurring  reminders? That way I could use individual plugins for payment processors that I care about and control the ""recurring"" part through an abstract library.",3
