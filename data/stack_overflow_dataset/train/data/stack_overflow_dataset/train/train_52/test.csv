PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
9422461,02/23/2012 22:32:05,425964,08/20/2010 03:20:10,593,4,Check if directory mounted with bash,"I am using `mount -o bind /some/directory/here /foo/bar`

I want to check `/foo/bar` though with a bash script, and see if its been mounted? If not, then call the above mount command, else do something else. How can I do this?",bash,mount,,,,02/24/2012 22:44:12,off topic,1,40,6,"Check if directory mounted with bash I am using `mount -o bind /some/directory/here /foo/bar`

I want to check `/foo/bar` though with a bash script, and see if its been mounted? If not, then call the above mount command, else do something else. How can I do this?",2
8687502,12/31/2011 10:04:35,702642,04/11/2011 17:36:51,148,1,tar: Failed to open '/dev/sa0' error in freebsd,"I have a bash code below under freebsd

    tar --files-from $files --exclude-from $xfile -zc \
    | openssl aes-256-cbc -salt -pass pass:$PASSWORD -out $1


I have no problem with $files $xfile $PASSWORD or $1 variables, but it gives below error when I run it. Do you know  how can I fix it? Thanks for any help...

> tar: Failed to open '/dev/sa0'",bash,freebsd,tar,,,12/31/2011 20:29:37,off topic,1,66,8,"tar: Failed to open '/dev/sa0' error in freebsd I have a bash code below under freebsd

    tar --files-from $files --exclude-from $xfile -zc \
    | openssl aes-256-cbc -salt -pass pass:$PASSWORD -out $1


I have no problem with $files $xfile $PASSWORD or $1 variables, but it gives below error when I run it. Do you know  how can I fix it? Thanks for any help...

> tar: Failed to open '/dev/sa0'",3
11623724,07/24/2012 03:27:39,1547439,07/24/2012 03:25:00,1,0,How can I invoke a bash script from VBA?,I have a bash script on my unix PC. I have my VBA form that needs to invoke this bash script. Is there any way to do this ?,bash,vba,,,,07/24/2012 18:34:32,not a real question,1,29,9,How can I invoke a bash script from VBA? I have a bash script on my unix PC. I have my VBA form that needs to invoke this bash script. Is there any way to do this ?,2
11645416,07/25/2012 08:15:28,1140725,01/10/2012 11:26:42,361,49,Sort Date/Time in Unix,"**Input** 

    2012-07-24 10:05:08 PM
    2012-07-26 10:13:58 AM
    2012-07-24 10:13:58 PM
    2012-07-24 10:57:50 AM
    2012-07-24 11:15:03 AM
    2012-07-24 11:26:08 PM
    2012-07-25 11:26:08 PM

**Code I tried** 

    sort -t "" "" -nk 1 -nk 2.1,2.2,2.3 -k 3 Input.txt

But I am not getting desired output.

Can anyone suggest anything?",bash,unix,,,,,open,0,70,4,"Sort Date/Time in Unix **Input** 

    2012-07-24 10:05:08 PM
    2012-07-26 10:13:58 AM
    2012-07-24 10:13:58 PM
    2012-07-24 10:57:50 AM
    2012-07-24 11:15:03 AM
    2012-07-24 11:26:08 PM
    2012-07-25 11:26:08 PM

**Code I tried** 

    sort -t "" "" -nk 1 -nk 2.1,2.2,2.3 -k 3 Input.txt

But I am not getting desired output.

Can anyone suggest anything?",2
6142324,05/26/2011 17:04:43,601095,02/03/2011 06:58:42,50,0,if i wanted to do ls on files would this suffice?,"     ls | grep -v ""//|=/|@/||""

will ls then piped to a reverse grep work?
This question seems to not meet the quality standards, maybe if i write more random things
it will be a quality question.",bash,grep,ls,,,05/26/2011 17:16:37,not a real question,1,38,11,"if i wanted to do ls on files would this suffice?      ls | grep -v ""//|=/|@/||""

will ls then piped to a reverse grep work?
This question seems to not meet the quality standards, maybe if i write more random things
it will be a quality question.",3
5722722,04/19/2011 21:07:07,404730,07/28/2010 15:57:04,20,1,Print $PATH from groovy - characters getting escaped?,"Bit of trouble here. I am attempting to run a snippet such as:  

    println 'echo $PATH'.execute().getText()

And I expect to get the contents of the system $PATH variable back. However, I instead get:  

    $PATH

My guess was that the $ is being escaped, and therefor not evaluated by bash. I also tried command builder syntax, same result. Any suggestions?",bash,shell,variables,groovy,,,open,0,67,8,"Print $PATH from groovy - characters getting escaped? Bit of trouble here. I am attempting to run a snippet such as:  

    println 'echo $PATH'.execute().getText()

And I expect to get the contents of the system $PATH variable back. However, I instead get:  

    $PATH

My guess was that the $ is being escaped, and therefor not evaluated by bash. I also tried command builder syntax, same result. Any suggestions?",4
6625148,07/08/2011 13:30:04,562769,01/04/2011 15:39:58,366,22,How can I append a variable text to last line of file via command line?,"could you please tell me how I (a Linux-User) can add text to the last line of a text-file?

I have this so far:

    APPEND='Some/Path which is/variable'
    sed '${s/$/$APPEND/}' test.txt

It works, but $APPEND is added insted of the content of the variable. I know the reason for this is the singe quote (') I used for sed. 
But when I simply replace ' by "", no text gets added to the file.

Do you know a solution for this? I don't insist on using `sed`, it's only the first command line tool that came in my mind. You may use every standard command line program you like.

edit: I've just tried this:

    $ sed '${s/$/'""$APPEND/}"" test.txt
    sed: -e Ausdruck #1, Zeichen 11: Unbekannte Option für `s'",bash,sed,,,,,open,0,135,15,"How can I append a variable text to last line of file via command line? could you please tell me how I (a Linux-User) can add text to the last line of a text-file?

I have this so far:

    APPEND='Some/Path which is/variable'
    sed '${s/$/$APPEND/}' test.txt

It works, but $APPEND is added insted of the content of the variable. I know the reason for this is the singe quote (') I used for sed. 
But when I simply replace ' by "", no text gets added to the file.

Do you know a solution for this? I don't insist on using `sed`, it's only the first command line tool that came in my mind. You may use every standard command line program you like.

edit: I've just tried this:

    $ sed '${s/$/'""$APPEND/}"" test.txt
    sed: -e Ausdruck #1, Zeichen 11: Unbekannte Option für `s'",2
9197503,02/08/2012 16:33:35,826477,07/02/2011 23:56:52,3,0,how to pipe pwd into pushd,"How can I pipe in the output of pwd to pushd so that I can use pushd on the current directory. I've tried 

    pwd | pushd

and lots of other combinations but nothing seems to work.",bash,,,,,,open,0,39,6,"how to pipe pwd into pushd How can I pipe in the output of pwd to pushd so that I can use pushd on the current directory. I've tried 

    pwd | pushd

and lots of other combinations but nothing seems to work.",1
10573559,05/13/2012 17:01:38,794481,06/12/2011 04:26:35,852,25,How do I make iTerm2 show proper tabs,"I know this question has been asked before but it didn't have any answers I could understand.

When I do ruby/rails dev, Terminal used to say ""console"" or ""server"" or something to that effect. Right now it only shows ""rails (ruby)""

I am using ZSH, and I have seen a few places where they paste a million lines of code, I dont know where this goes. 

Firstly I cant believe this isnt an iTerm2 setting considering terminal could do it and iTerm seems to be better in every way.

Do I need to edit .zshrc?

edit: I have 'show current job name' and it's still not showing properly",bash,shell,terminal,command-prompt,zsh,05/14/2012 18:23:06,off topic,1,104,8,"How do I make iTerm2 show proper tabs I know this question has been asked before but it didn't have any answers I could understand.

When I do ruby/rails dev, Terminal used to say ""console"" or ""server"" or something to that effect. Right now it only shows ""rails (ruby)""

I am using ZSH, and I have seen a few places where they paste a million lines of code, I dont know where this goes. 

Firstly I cant believe this isnt an iTerm2 setting considering terminal could do it and iTerm seems to be better in every way.

Do I need to edit .zshrc?

edit: I have 'show current job name' and it's still not showing properly",5
1706431,11/10/2009 08:41:09,198720,10/29/2009 08:04:36,1,0,The easiest way to replace white spaces with (underscores) _ in bash,"recently I had to write a little script that parsed VMs in XenServer and as the names of the VMs are mostly with white spaces in e.g Windows XP or Windows Server 2008, I had to trim those white spaces and replace them with underscores _ . I found a simple solution to do this using sed which is great tool when it comes to string manipulation.

    echo ""This is just a test"" | sed -e 's/ /_/g'

returns

    This_is_just_a_test",bash,sed,,,,11/10/2009 12:28:00,not a real question,1,85,12,"The easiest way to replace white spaces with (underscores) _ in bash recently I had to write a little script that parsed VMs in XenServer and as the names of the VMs are mostly with white spaces in e.g Windows XP or Windows Server 2008, I had to trim those white spaces and replace them with underscores _ . I found a simple solution to do this using sed which is great tool when it comes to string manipulation.

    echo ""This is just a test"" | sed -e 's/ /_/g'

returns

    This_is_just_a_test",2
9510295,03/01/2012 03:37:10,315427,04/13/2010 11:57:31,1742,29,How to sort du -h output?,"    du --max-depth=1 -h /media/downloads/ | sort -g -r

This will not ofcourse sort regarding G, M, K suffixes... Is there any way to solve it as one-line bash command?",bash,oneliner,,,,,open,0,32,6,"How to sort du -h output?     du --max-depth=1 -h /media/downloads/ | sort -g -r

This will not ofcourse sort regarding G, M, K suffixes... Is there any way to solve it as one-line bash command?",2
6637135,07/09/2011 19:55:57,586580,01/23/2011 18:41:30,1,1,Can a script be used as an interpreter by the #! hashbang line?,"I'm trying to write a bash script which will behave as a basic interpreter, but it doesn't seem to work: The custom interpreter doesn't appear to be invoked. What am I doing wrong?

Here's a simple setup illustrating the problem:

`/bin/interpreter`: [owned by root; executable]

    #!/bin/bash

    echo ""I am an interpreter running "" $1


`/Users/zeph/script` is owned by me, and is executable:

    #!/bin/interpreter

    Here are some commands for the custom interpreter.

From what I understand about the mechanics of hashbangs, the script should be executable as follows:

    $ ./script
    I am an interpreter running ./script

But this doesn't work. Instead the following happens:

    $ ./script 
    ./script: line 3: Here: command not found

...It appears that `/bin/bash` is trying to interpret the contents of `./script`. What am I doing wrong?

Note: Although it appears that `/bin/interpreter` never invoked, I *do* get an error if it doesn't exist:

    $ ./script
    -bash: ./script: /bin/interpreter: bad interpreter: No such file or directory

(Second note: If it makes any difference, I'm doing this on MacOS X).",bash,unix,scripting,sysadmin,,,open,0,194,13,"Can a script be used as an interpreter by the #! hashbang line? I'm trying to write a bash script which will behave as a basic interpreter, but it doesn't seem to work: The custom interpreter doesn't appear to be invoked. What am I doing wrong?

Here's a simple setup illustrating the problem:

`/bin/interpreter`: [owned by root; executable]

    #!/bin/bash

    echo ""I am an interpreter running "" $1


`/Users/zeph/script` is owned by me, and is executable:

    #!/bin/interpreter

    Here are some commands for the custom interpreter.

From what I understand about the mechanics of hashbangs, the script should be executable as follows:

    $ ./script
    I am an interpreter running ./script

But this doesn't work. Instead the following happens:

    $ ./script 
    ./script: line 3: Here: command not found

...It appears that `/bin/bash` is trying to interpret the contents of `./script`. What am I doing wrong?

Note: Although it appears that `/bin/interpreter` never invoked, I *do* get an error if it doesn't exist:

    $ ./script
    -bash: ./script: /bin/interpreter: bad interpreter: No such file or directory

(Second note: If it makes any difference, I'm doing this on MacOS X).",4
10383505,04/30/2012 12:12:07,529640,12/03/2010 16:51:08,315,3,Zero Padding Bash/Shell,"I need to the last 3 chars say 002 and decrement it by 1 001. I currently have a problem whereby it is converting it to an int. So 001 becomes 1. What I am trying to do is use the printf and convert it back to 001. However this seems to not work for me. I have the following: 

    set -x
     
    substring()
    {
        VAR=$1
        OFFSET=$2
        LENGTH=$3
        RET_VAL=${VAR:$OFFSET:$LENGTH}
    }
     
    # $1 filename
     
    # Change to PF Gazetteer directory
    cd $CARRIER_PF_UPDATES_DIR
     
    LOG=log.txt
    DownloadedFile=$1
    OldFile=
    DATE=$(date +""%Y-%m-%d-%H:%M:%S"")
    RET=0
     
    if [ ""${2+1}"" == ""1"" ]
    then
        echo ""Date: "" $DATE > $LOG
        echo ""filename: "" $DownloadedFile >> $LOG
    fi
     
    substring ${DownloadedFile} -3 3
    extension=$RET_VAL
    old_ext=$((${extension}+1))
     
    substring ${DownloadedFile} 0 9
    echo $RET_VAL
    oldFile=""${RET_VAL}${old_ext}""
    oldFile= `printf ""%020d"" ${RET_VAL}`
    oldFile=""${oldFile}.${old_ext}""
     
    #printf '%03d\n' 1
     
    echo $oldFile
     
    # move any temporary files if they exist
    mv ""${DownloadedFile}~"" ${DownloadedFile}
     
    # check to see if we got a file
    result=$(grep 226 run.ilog)
     
     
    if [ ""${2+1}"" == ""1"" ]
    then
        echo ""grep found: "" $result >> $LOG
    fi
     
    if [ -e ""${DownloadedFile}"" ]
    then
       #add back onto filename
       #store back onto var = $OldFile
       #Check if OldFile exist
       #Cat files together and - Cat oldFile DownloadedFile > tempFile
    echo """"
    fi
     
    if [ ""$result"" == """" ]
    then
         # File not found
         RET=100
    else
         RET=10
         # START F4202
         sorted=$(sort -t'+' -k7 ${fileName} > ${fileName}.sorted)
         if [ -e ""${fileName}.sorted"" ]
         then
            mv ""${fileName}"" ""unsorted/${fileName}.unsorted""
            mv ""${fileName}.sorted"" ${fileName}
         fi
         # END F4202
    fi
     
    if [ ""${2+1}"" == ""1"" ]
    then
        echo ""script ret: "" $RET >> $LOG
    fi

To see the output click the following link [Ideone][1] I seem to be getting 1.1 instead of 1.1 when I should be getting 001
 


  [1]: http://ideone.com/dceC4",bash,shell,,,,,open,0,666,3,"Zero Padding Bash/Shell I need to the last 3 chars say 002 and decrement it by 1 001. I currently have a problem whereby it is converting it to an int. So 001 becomes 1. What I am trying to do is use the printf and convert it back to 001. However this seems to not work for me. I have the following: 

    set -x
     
    substring()
    {
        VAR=$1
        OFFSET=$2
        LENGTH=$3
        RET_VAL=${VAR:$OFFSET:$LENGTH}
    }
     
    # $1 filename
     
    # Change to PF Gazetteer directory
    cd $CARRIER_PF_UPDATES_DIR
     
    LOG=log.txt
    DownloadedFile=$1
    OldFile=
    DATE=$(date +""%Y-%m-%d-%H:%M:%S"")
    RET=0
     
    if [ ""${2+1}"" == ""1"" ]
    then
        echo ""Date: "" $DATE > $LOG
        echo ""filename: "" $DownloadedFile >> $LOG
    fi
     
    substring ${DownloadedFile} -3 3
    extension=$RET_VAL
    old_ext=$((${extension}+1))
     
    substring ${DownloadedFile} 0 9
    echo $RET_VAL
    oldFile=""${RET_VAL}${old_ext}""
    oldFile= `printf ""%020d"" ${RET_VAL}`
    oldFile=""${oldFile}.${old_ext}""
     
    #printf '%03d\n' 1
     
    echo $oldFile
     
    # move any temporary files if they exist
    mv ""${DownloadedFile}~"" ${DownloadedFile}
     
    # check to see if we got a file
    result=$(grep 226 run.ilog)
     
     
    if [ ""${2+1}"" == ""1"" ]
    then
        echo ""grep found: "" $result >> $LOG
    fi
     
    if [ -e ""${DownloadedFile}"" ]
    then
       #add back onto filename
       #store back onto var = $OldFile
       #Check if OldFile exist
       #Cat files together and - Cat oldFile DownloadedFile > tempFile
    echo """"
    fi
     
    if [ ""$result"" == """" ]
    then
         # File not found
         RET=100
    else
         RET=10
         # START F4202
         sorted=$(sort -t'+' -k7 ${fileName} > ${fileName}.sorted)
         if [ -e ""${fileName}.sorted"" ]
         then
            mv ""${fileName}"" ""unsorted/${fileName}.unsorted""
            mv ""${fileName}.sorted"" ${fileName}
         fi
         # END F4202
    fi
     
    if [ ""${2+1}"" == ""1"" ]
    then
        echo ""script ret: "" $RET >> $LOG
    fi

To see the output click the following link [Ideone][1] I seem to be getting 1.1 instead of 1.1 when I should be getting 001
 


  [1]: http://ideone.com/dceC4",2
10007690,04/04/2012 08:43:05,1312319,04/04/2012 08:28:36,1,0,"I'm puzzled here about awk, sed, etc","I'm trying for a while to work this out with no success so far
I have a command output that I need to chew to make it suitable for further processing

The text I have is:

    1/2 [3] (27/03/2012 19:32:54) word word word word 4/5

What I need is to extract only the numbers 1/2 [3] 4/5 so it will look:

    1 2 3 4 5
So, basically I was trying to exclude all characters that are not digits, like ""/"", ""["", ""]"", etc.
I tried awk with FS, tried using regexp, but none of my tries were successful.

I would then add something to it like
first:1 second:2 third:3 .... etc
Please take in mind I'm talking about a file that contains a lot if lines with the same structure, but I already though about using awk to sum every column with

    awk '{sum1+=$1 ; sum2+=$2 ;......etc} END {print ""first:""sum1 "" second:""sum2.....etc}'

But first I will need to extract only the relevant numbers, 
The date that is in between ""( )"" can be omitted completely but they are numbers too, so filtering merely by digits won't be enough as it will match them too

Hope you can help me out
Thanks in advance!

",bash,sed,awk,,,,open,0,202,7,"I'm puzzled here about awk, sed, etc I'm trying for a while to work this out with no success so far
I have a command output that I need to chew to make it suitable for further processing

The text I have is:

    1/2 [3] (27/03/2012 19:32:54) word word word word 4/5

What I need is to extract only the numbers 1/2 [3] 4/5 so it will look:

    1 2 3 4 5
So, basically I was trying to exclude all characters that are not digits, like ""/"", ""["", ""]"", etc.
I tried awk with FS, tried using regexp, but none of my tries were successful.

I would then add something to it like
first:1 second:2 third:3 .... etc
Please take in mind I'm talking about a file that contains a lot if lines with the same structure, but I already though about using awk to sum every column with

    awk '{sum1+=$1 ; sum2+=$2 ;......etc} END {print ""first:""sum1 "" second:""sum2.....etc}'

But first I will need to extract only the relevant numbers, 
The date that is in between ""( )"" can be omitted completely but they are numbers too, so filtering merely by digits won't be enough as it will match them too

Hope you can help me out
Thanks in advance!

",3
1738961,11/15/2009 21:45:42,110797,05/21/2009 22:51:20,181,4,Parse players currently in lobby,"I'm attempting to write a bash script to parse out the following log file and give me a list of CURRENT players in the room (so ignoring players that left, but including players that may have rejoined).  Note that Samual has rejoined.

    [Sun Nov 15 14:12:50 2009] [GAME: Tower Defense Join Fast!] player [Samual|192.168.1.115] joined the game
    [Sun Nov 15 14:12:54 2009] [GAME: Tower Defense Join Fast!] deleting player [Samual]: has left the game voluntarily
    [Sun Nov 15 14:12:57 2009] [GAME: Tower Defense Join Fast!] player [Jack|192.168.1.121] joined the game
    [Sun Nov 15 14:13:04 2009] [GAME: Tower Defense Join Fast!] player [NoobLand|192.168.1.153] is trying to join the game but is banned by IP address
    [Sun Nov 15 14:13:04 2009] [GAME: Tower Defense Join Fast!] [Local]: User [NoobLand] was banned on server [www.example.com] on 2009-11-04 by [Owner] because [].
    [Sun Nov 15 14:13:13 2009] [GAME: Tower Defense Join Fast!] player [Jones|192.168.1.178] joined the game
    [Sun Nov 15 14:13:21 2009] [GAME: Tower Defense Join Fast!] player [Arnold|192.168.1.126] joined the game
    [Sun Nov 15 14:13:35 2009] [GAME: Tower Defense Join Fast!] [Local]: Autokicking player [Arnold] for excessive ping of 131.
    [Sun Nov 15 14:13:35 2009] [GAME: Tower Defense Join Fast!] deleting player [Arnold]: was autokicked for excessive ping of 131
    [Sun Nov 15 14:13:44 2009] [GAME: Tower Defense Join Fast!] [Lobby] [Jones]: !chekme
    [Sun Nov 15 14:13:44 2009] [GAME: Tower Defense Join Fast!] non-spoofchecked user [Jones] sent command [chekme] with payload []
    [Sun Nov 15 14:13:45 2009] [GAME: Tower Defense Join Fast!] [Local]: Waiting for 4 more players before the game will automatically start.
    [Sun Nov 15 14:14:05 2009] [GAME: Tower Defense Join Fast!] player [Samual|192.168.1.116] joined the game

To give me a list of players currently in the room like this (I can probably use tr for case switch):


    'jack','jones','samual'

When a player joins it will say ""player [*Playername*|*PlayerIP*] joined the game"" (you can ignore the IP.
When a player leaves it will say ""deleting player [*Playername*]: *Some Reason*

While I know how to get at both of these lists individually, I need to combine them to somehow figure out who is still in the room, and order is important because they can rejoin.  Can anyone help me with this?

I have this sed statement to give me the players who have joined:

    sed -n 's/\[.*\] \[GAME: .*\] player \[\(.*\)|.*\] joined the game/\1/p`

and this to give me a list of leavers:

    sed -n 's/\[.*\] \[GAME: .*\] deleting player \[\(.*\)\].*/\1/p'

But don't know how to combine the two, or to put the ticks and commas in the list of players.

Thanks
",bash,parsing,sed,,,,open,0,471,5,"Parse players currently in lobby I'm attempting to write a bash script to parse out the following log file and give me a list of CURRENT players in the room (so ignoring players that left, but including players that may have rejoined).  Note that Samual has rejoined.

    [Sun Nov 15 14:12:50 2009] [GAME: Tower Defense Join Fast!] player [Samual|192.168.1.115] joined the game
    [Sun Nov 15 14:12:54 2009] [GAME: Tower Defense Join Fast!] deleting player [Samual]: has left the game voluntarily
    [Sun Nov 15 14:12:57 2009] [GAME: Tower Defense Join Fast!] player [Jack|192.168.1.121] joined the game
    [Sun Nov 15 14:13:04 2009] [GAME: Tower Defense Join Fast!] player [NoobLand|192.168.1.153] is trying to join the game but is banned by IP address
    [Sun Nov 15 14:13:04 2009] [GAME: Tower Defense Join Fast!] [Local]: User [NoobLand] was banned on server [www.example.com] on 2009-11-04 by [Owner] because [].
    [Sun Nov 15 14:13:13 2009] [GAME: Tower Defense Join Fast!] player [Jones|192.168.1.178] joined the game
    [Sun Nov 15 14:13:21 2009] [GAME: Tower Defense Join Fast!] player [Arnold|192.168.1.126] joined the game
    [Sun Nov 15 14:13:35 2009] [GAME: Tower Defense Join Fast!] [Local]: Autokicking player [Arnold] for excessive ping of 131.
    [Sun Nov 15 14:13:35 2009] [GAME: Tower Defense Join Fast!] deleting player [Arnold]: was autokicked for excessive ping of 131
    [Sun Nov 15 14:13:44 2009] [GAME: Tower Defense Join Fast!] [Lobby] [Jones]: !chekme
    [Sun Nov 15 14:13:44 2009] [GAME: Tower Defense Join Fast!] non-spoofchecked user [Jones] sent command [chekme] with payload []
    [Sun Nov 15 14:13:45 2009] [GAME: Tower Defense Join Fast!] [Local]: Waiting for 4 more players before the game will automatically start.
    [Sun Nov 15 14:14:05 2009] [GAME: Tower Defense Join Fast!] player [Samual|192.168.1.116] joined the game

To give me a list of players currently in the room like this (I can probably use tr for case switch):


    'jack','jones','samual'

When a player joins it will say ""player [*Playername*|*PlayerIP*] joined the game"" (you can ignore the IP.
When a player leaves it will say ""deleting player [*Playername*]: *Some Reason*

While I know how to get at both of these lists individually, I need to combine them to somehow figure out who is still in the room, and order is important because they can rejoin.  Can anyone help me with this?

I have this sed statement to give me the players who have joined:

    sed -n 's/\[.*\] \[GAME: .*\] player \[\(.*\)|.*\] joined the game/\1/p`

and this to give me a list of leavers:

    sed -n 's/\[.*\] \[GAME: .*\] deleting player \[\(.*\)\].*/\1/p'

But don't know how to combine the two, or to put the ticks and commas in the list of players.

Thanks
",3
8368966,12/03/2011 16:11:59,924140,09/01/2011 19:46:06,15,0,Here Document not working with sudo su,"I was trying to write an setup.sh script that searches an installs the require components of an application while installing. if an required component is not found it will prompt to install it. I have used sudo apt-get install for that , and I want to pass the user supplied password to sudo using here documents as 

    read passwd
    sudo apt-get install clisp <<EOF
    $passwd 
    $passwd
    EOF

but this is not working , ie, the input password is not getting passed to sudo , why is this not happening , is there any mistake in my usage ? please help 
 ",bash,,,,,12/05/2011 02:37:50,off topic,1,118,7,"Here Document not working with sudo su I was trying to write an setup.sh script that searches an installs the require components of an application while installing. if an required component is not found it will prompt to install it. I have used sudo apt-get install for that , and I want to pass the user supplied password to sudo using here documents as 

    read passwd
    sudo apt-get install clisp <<EOF
    $passwd 
    $passwd
    EOF

but this is not working , ie, the input password is not getting passed to sudo , why is this not happening , is there any mistake in my usage ? please help 
 ",1
6483637,06/26/2011 11:34:21,816089,06/26/2011 11:34:21,1,0,Check execute command after cheking file type,"I am working on a bash script which execute a command depending on the file type. I want to use the the ""file"" option and not the file extension to determine the type, but I am bloody new to this scripting stuff, so if someone can help me I would be very thankful! - Thanks!

Here the script I want to include the function:

     #!/bin/bash
      
     export PrintQueue=""/root/xxx"";
    
     IFS=$'\n'
    
     for PrintFile in $(/bin/ls -1 ${PrintQueue}) do
    
         lpr -r ${PrintQueue}/${PrintFile};
     
     done

The point is, all files which are PDFs should be printed with the `lpr` command, all others with `ooffice -p` 

",bash,file,lpr,,,,open,0,149,7,"Check execute command after cheking file type I am working on a bash script which execute a command depending on the file type. I want to use the the ""file"" option and not the file extension to determine the type, but I am bloody new to this scripting stuff, so if someone can help me I would be very thankful! - Thanks!

Here the script I want to include the function:

     #!/bin/bash
      
     export PrintQueue=""/root/xxx"";
    
     IFS=$'\n'
    
     for PrintFile in $(/bin/ls -1 ${PrintQueue}) do
    
         lpr -r ${PrintQueue}/${PrintFile};
     
     done

The point is, all files which are PDFs should be printed with the `lpr` command, all others with `ooffice -p` 

",3
6041708,05/18/2011 08:14:55,758748,05/18/2011 07:54:31,1,0,Bash - subshells and waiting for subprocesses to finish,"This is rather a snippet than a question, but still comments are welcome. Consider an example:

    #!/bin/bash

    echo ""one
    two
    three"" | while read line; do
        echo $line
        (
            echo ""Starting $$""
            sleep 10
            echo ""Ending $$""
        ) &
        sleep 2
    done

    echo ""Waiting""
    wait
    echo ""But not waited as expected""

The reason is that the | fires up a new subshell, which ends at the done statement. This subshell does not contain any wait statement and ends instantly after reading all lines without waiting for it's subprocesses to end. The wait statement used in this example will not wait for it's sub-subprocesses.

If You would like to make it work, use this form:

    #!/bin/bash
    
    echo ""one
    two
    three"" | (
    
        while read line; do
            echo $line
            (
                echo ""Starting $$""
                sleep 10
                echo ""Ending $$""
            ) &
            sleep 2
        done

        echo ""Waiting""
        wait
        echo ""Waited as expected""
    )

The ( ) syntax fires up a new subshell, but the wait command is now invoked in it's context, so it works as expected.

Cheers!

Konrad Procak",bash,wait,subshell,,,05/18/2011 08:51:42,not a real question,1,403,9,"Bash - subshells and waiting for subprocesses to finish This is rather a snippet than a question, but still comments are welcome. Consider an example:

    #!/bin/bash

    echo ""one
    two
    three"" | while read line; do
        echo $line
        (
            echo ""Starting $$""
            sleep 10
            echo ""Ending $$""
        ) &
        sleep 2
    done

    echo ""Waiting""
    wait
    echo ""But not waited as expected""

The reason is that the | fires up a new subshell, which ends at the done statement. This subshell does not contain any wait statement and ends instantly after reading all lines without waiting for it's subprocesses to end. The wait statement used in this example will not wait for it's sub-subprocesses.

If You would like to make it work, use this form:

    #!/bin/bash
    
    echo ""one
    two
    three"" | (
    
        while read line; do
            echo $line
            (
                echo ""Starting $$""
                sleep 10
                echo ""Ending $$""
            ) &
            sleep 2
        done

        echo ""Waiting""
        wait
        echo ""Waited as expected""
    )

The ( ) syntax fires up a new subshell, but the wait command is now invoked in it's context, so it works as expected.

Cheers!

Konrad Procak",3
9612502,03/08/2012 03:30:44,984936,10/08/2011 02:07:00,14,1,Getting previous line in Bash after new command?,"In a Bash terminal, I often type a command and realize that I needed to sudo that command.  I hit the up arrow to get the previous command and then backtrack to the beginning type sudo and enter.

Is there any way to type sudo, then press a key to pull down the previous command after sudo?

Thanks!",bash,,,,,,open,0,57,8,"Getting previous line in Bash after new command? In a Bash terminal, I often type a command and realize that I needed to sudo that command.  I hit the up arrow to get the previous command and then backtrack to the beginning type sudo and enter.

Is there any way to type sudo, then press a key to pull down the previous command after sudo?

Thanks!",1
9622883,03/08/2012 18:32:21,1053692,11/18/2011 11:30:09,84,0,Recursive copy of specific files in unix,I need to copy all *.jar files from directory and all its subdirectories. How can I do it in UNIX terminal? Command cp -r *.jar /destination_dir doesn't work,bash,unix,,,,03/15/2012 12:47:13,off topic,1,28,7,Recursive copy of specific files in unix I need to copy all *.jar files from directory and all its subdirectories. How can I do it in UNIX terminal? Command cp -r *.jar /destination_dir doesn't work,2
11313598,07/03/2012 14:54:35,1499161,07/03/2012 14:51:36,1,0,How do I compress a directory?,Hey guys I was wondering how would I gzip 7z tar or just regular zip a directory like this /var/Backups/Tones regular gzip won't do it because Tones is a directory and this site ss64.com/bash doesn't really tell much and I've searched google but what those people are talking about is computer based not mobile and I'd like to also make the archive password protected if its possible? If it helps any I'm using bash to do this.,bash,compression,gzip,tar,7zip,07/04/2012 07:38:58,off topic,1,77,6,How do I compress a directory? Hey guys I was wondering how would I gzip 7z tar or just regular zip a directory like this /var/Backups/Tones regular gzip won't do it because Tones is a directory and this site ss64.com/bash doesn't really tell much and I've searched google but what those people are talking about is computer based not mobile and I'd like to also make the archive password protected if its possible? If it helps any I'm using bash to do this.,5
8394435,12/06/2011 01:57:20,823847,06/30/2011 21:04:09,1,0,How does this other version of the bash fork bomb work?,"I get the general idea of how [this common version](http://stackoverflow.com/questions/991142/how-does-this-bash-fork-bomb-work)

    :(){ :|:& };:

of the bash fork bomb works.

However, I've seen another version (for bash in particular)

    #!/bin/bash
    $0 &
    $0 &

on the [Wikipedia fork bomb article](http://en.wikipedia.org/wiki/Fork_bomb) and in an [SO answer](http://stackoverflow.com/a/5398891/823847) to a [closed duplicate](http://stackoverflow.com/questions/5398866/writing-a-simple-intelligible-fork-bomb-in-bash) of the original fork bomb question I mentioned above.

I'm looking for an explanation of how the second (perhaps less common) version of the fork bomb works. I've commented the code below with my current understanding of what it does, but I don't really get how it achieves infinite recursion in the way that the other version of the bash fork bomb does (probably due to my poor understanding of bash processes and backgrounding).

    #!/bin/bash    # Specifies the location of the executable
                   # to use in executing this script.
    $0 &           # Duplicates (executes a new instance
                   # of) the current running process ('$0')
                   # (which would be the invocation of bash used
                   # to start running the script, right?)
                   # and background it ('&').
    $0 &           # Do the same as above, where $0 would be
                   # equivalent to the initial call to bash
                   # used to start the script, right? Or, would
                   # it be the backgrounded call to bash from the
                   # second line? I'm leaning towards the former.",bash,fork,background-process,,,,open,0,422,11,"How does this other version of the bash fork bomb work? I get the general idea of how [this common version](http://stackoverflow.com/questions/991142/how-does-this-bash-fork-bomb-work)

    :(){ :|:& };:

of the bash fork bomb works.

However, I've seen another version (for bash in particular)

    #!/bin/bash
    $0 &
    $0 &

on the [Wikipedia fork bomb article](http://en.wikipedia.org/wiki/Fork_bomb) and in an [SO answer](http://stackoverflow.com/a/5398891/823847) to a [closed duplicate](http://stackoverflow.com/questions/5398866/writing-a-simple-intelligible-fork-bomb-in-bash) of the original fork bomb question I mentioned above.

I'm looking for an explanation of how the second (perhaps less common) version of the fork bomb works. I've commented the code below with my current understanding of what it does, but I don't really get how it achieves infinite recursion in the way that the other version of the bash fork bomb does (probably due to my poor understanding of bash processes and backgrounding).

    #!/bin/bash    # Specifies the location of the executable
                   # to use in executing this script.
    $0 &           # Duplicates (executes a new instance
                   # of) the current running process ('$0')
                   # (which would be the invocation of bash used
                   # to start running the script, right?)
                   # and background it ('&').
    $0 &           # Do the same as above, where $0 would be
                   # equivalent to the initial call to bash
                   # used to start the script, right? Or, would
                   # it be the backgrounded call to bash from the
                   # second line? I'm leaning towards the former.",3
8385919,12/05/2011 13:17:53,1081026,12/05/2011 06:34:26,6,0,ssh source command not found,"I'm getting an error if i do ssh and source an alias command and execute that command,
    saying ""command not found"". what might be the problem? I have done alias for this command      in remote machine. 
     Thanks in advance",bash,shell,ssh,,,12/05/2011 13:33:02,off topic,1,52,5,"ssh source command not found I'm getting an error if i do ssh and source an alias command and execute that command,
    saying ""command not found"". what might be the problem? I have done alias for this command      in remote machine. 
     Thanks in advance",3
103857,09/19/2008 17:22:48,16226,09/17/2008 15:32:27,181,4,Favorite Bash Prompt,"What are some elements in your favorite bash prompt?  

I like to have an indicator of the success of the most recent command, like so  (in .bashrc):

    function exitstatus {

        EXITSTATUS=""$?""
        BOLD=""\[\033[1m\]""
        RED=""\[\033[1;31m\]""
        GREEN=""\[\e[32;1m\]""
        BLUE=""\[\e[34;1m\]""
        OFF=""\[\033[m\]""

        PROMPT=""[\u@\h ${BLUE}\W${OFF}""
    
        if [ ""${EXITSTATUS}"" -eq 0 ]
        then
           PS1=""${PROMPT} ${BOLD}${GREEN}:)${OFF} ]\$ ""
        else
           PS1=""${PROMPT} ${BOLD}${RED}:(${OFF} ]\$ ""
        fi
    
        PS2=""${BOLD}>${OFF} ""
    }
    
    PROMPT_COMMAND=exitstatus

",bash,prompt,linux,,,12/12/2011 03:49:29,not constructive,1,186,3,"Favorite Bash Prompt What are some elements in your favorite bash prompt?  

I like to have an indicator of the success of the most recent command, like so  (in .bashrc):

    function exitstatus {

        EXITSTATUS=""$?""
        BOLD=""\[\033[1m\]""
        RED=""\[\033[1;31m\]""
        GREEN=""\[\e[32;1m\]""
        BLUE=""\[\e[34;1m\]""
        OFF=""\[\033[m\]""

        PROMPT=""[\u@\h ${BLUE}\W${OFF}""
    
        if [ ""${EXITSTATUS}"" -eq 0 ]
        then
           PS1=""${PROMPT} ${BOLD}${GREEN}:)${OFF} ]\$ ""
        else
           PS1=""${PROMPT} ${BOLD}${RED}:(${OFF} ]\$ ""
        fi
    
        PS2=""${BOLD}>${OFF} ""
    }
    
    PROMPT_COMMAND=exitstatus

",3
4343916,12/03/2010 09:00:28,354612,05/31/2010 13:21:29,43,2,How do I update existing STDOUT?,"I need to print a bunch of strings to STDOUT. Instead of each string going on a newline, though, I want to have just one line that gets *updated* with each new string.

Any ideas?",bash,shell,stdout,,,,open,0,34,6,"How do I update existing STDOUT? I need to print a bunch of strings to STDOUT. Instead of each string going on a newline, though, I want to have just one line that gets *updated* with each new string.

Any ideas?",3
7600723,09/29/2011 16:55:53,969985,09/28/2011 21:22:17,3,0,cleaning up $PATH in bash,"My path has a lot of entries that were added long ago by scripts. They are not in my .bashrc, .bash_profile, or .bash_login.

I'm worried that resetting my path in .bashrc will have undesirable long-term results. Is there a way to find where things have been added to my path and remove them manually? Are things always added by file or is path cached somewhere? If the latter, is it easy to clean that up?",bash,path,,,,09/29/2011 19:48:21,off topic,1,74,5,"cleaning up $PATH in bash My path has a lot of entries that were added long ago by scripts. They are not in my .bashrc, .bash_profile, or .bash_login.

I'm worried that resetting my path in .bashrc will have undesirable long-term results. Is there a way to find where things have been added to my path and remove them manually? Are things always added by file or is path cached somewhere? If the latter, is it easy to clean that up?",2
10574794,05/13/2012 20:04:37,632472,02/24/2011 14:26:57,1084,43,Bash: How list only the files?,"I can't find this. 

How can I list all the files of one folder but not theirs folder or subfiles. In other words: How can I list only the files?",bash,,,,,,open,0,30,6,"Bash: How list only the files? I can't find this. 

How can I list all the files of one folder but not theirs folder or subfiles. In other words: How can I list only the files?",1
7250533,08/30/2011 22:26:02,199217,10/29/2009 20:28:01,1576,25,Error installing rjags:,"I am trying to install rjags on a new ubuntu 11.04 installation. Actually, I am trying to write a generic script so that the installation can be automated. I'd like to know how I can do this while avoiding conflicts.

I did the following:

    #in bash
    sudo apt-get install jags 
    sudo R                    
    #in R
    install.packages('rjags')

this gives the following error:

    configure: error: ""JAGS module directory 
    /usr/lib/JAGS/modules-3 does not exist.""

in `/usr/lib/JAGS/`, there is a folder `modules-2.2.0`.

I realized that [rjags depends on JAGS 3.0](http://cran.r-project.org/web/packages/rjags/index.html), but the ubuntu repository has JAGS 2.2. More importantly, this mismatch makes it more challenging to automate the installation script.

I would like to automate a script that will install compatable `JAGS` and `rjags`, by either:

1. installing JAGS 2.2 and the compatable rjags version (which version?)
2. generically installing the version of JAGS currently in the ubuntu repository and the appropriate rjags version, or
3. generically installing the most recent version of rjags at cran and the appropriate version of JAGS

I am most interested in case 1, but am also curious how I could implement cases 2 and/or 3.

How can I do this?
",bash,r,ubuntu,package,,,open,0,223,3,"Error installing rjags: I am trying to install rjags on a new ubuntu 11.04 installation. Actually, I am trying to write a generic script so that the installation can be automated. I'd like to know how I can do this while avoiding conflicts.

I did the following:

    #in bash
    sudo apt-get install jags 
    sudo R                    
    #in R
    install.packages('rjags')

this gives the following error:

    configure: error: ""JAGS module directory 
    /usr/lib/JAGS/modules-3 does not exist.""

in `/usr/lib/JAGS/`, there is a folder `modules-2.2.0`.

I realized that [rjags depends on JAGS 3.0](http://cran.r-project.org/web/packages/rjags/index.html), but the ubuntu repository has JAGS 2.2. More importantly, this mismatch makes it more challenging to automate the installation script.

I would like to automate a script that will install compatable `JAGS` and `rjags`, by either:

1. installing JAGS 2.2 and the compatable rjags version (which version?)
2. generically installing the version of JAGS currently in the ubuntu repository and the appropriate rjags version, or
3. generically installing the most recent version of rjags at cran and the appropriate version of JAGS

I am most interested in case 1, but am also curious how I could implement cases 2 and/or 3.

How can I do this?
",4
8549368,12/18/2011 02:10:52,328479,04/29/2010 03:53:46,92,0,"I added PATHs to ~/.bashrc and /root/.bashrc, but ""sudo adb"" still reports ""command not found""?","rebooted as well.
So I need a way to get sudo's .bashrc to be synced with my user's .bashrc?
the paths are right as I can run from my user, just not sudo--
PATH=~/android-sdks/tools:$PATH
PATH=~/android-sdks/platform-tools:$PATH",bash,ubuntu,ubuntu-10.04,,,12/18/2011 17:27:53,off topic,1,31,15,"I added PATHs to ~/.bashrc and /root/.bashrc, but ""sudo adb"" still reports ""command not found""? rebooted as well.
So I need a way to get sudo's .bashrc to be synced with my user's .bashrc?
the paths are right as I can run from my user, just not sudo--
PATH=~/android-sdks/tools:$PATH
PATH=~/android-sdks/platform-tools:$PATH",3
2199215,02/04/2010 11:25:31,201844,11/03/2009 16:04:00,8,0,"Bash: Copy a folder full of files and folders to an external hdd, but only if there is enough space to complete the copy.","I want to copy a folder from my X-Serve RAID to an external HDD on an X-Serve. Both disks are on the same server, so copying is fairly easy. I use the ditto command:

    ditto -rsrc /Volumes/WadXServeRaid/Users/ $destinationpath/Users/

However, I only want the copy to start if there is enough space on the destination disk. I know I can use the `DU` command to assess the destination disk but I don't know how to get the file size of a folder and compare it to the destination space.

Any suggestions would be hugely appreciated!",bash,osx,copy,file,,02/04/2010 12:24:59,off topic,1,95,24,"Bash: Copy a folder full of files and folders to an external hdd, but only if there is enough space to complete the copy. I want to copy a folder from my X-Serve RAID to an external HDD on an X-Serve. Both disks are on the same server, so copying is fairly easy. I use the ditto command:

    ditto -rsrc /Volumes/WadXServeRaid/Users/ $destinationpath/Users/

However, I only want the copy to start if there is enough space on the destination disk. I know I can use the `DU` command to assess the destination disk but I don't know how to get the file size of a folder and compare it to the destination space.

Any suggestions would be hugely appreciated!",4
5444065,03/26/2011 17:46:21,678237,03/26/2011 17:46:21,1,0,BASH Script Doesn't Exit Properly,"My BASH script doesn't exit properly.

    #!/bin/bash  
    #bootstrapper.sh
    PIDD=""$5""
    while sleep 1; do kill -0 $PIDD || break; done
    # Absolute path to this script. /home/user/bin/foo.sh
    SCRIPT=$(readlink -f $0)
    # Absolute path this script is in. /home/user/bin
    SCRIPTPATH=`dirname $SCRIPT`
    POSPAR1=""$1"" #-l
    POSPAR2=""$2"" #location
    POSPAR3=""$3"" #-d
    POSPAR4=""$4"" #directory
    cp -r -f $SCRIPTPATH/$4/* $2
    rm -r -f $SCRIPTPATH/$4

The line:  

    while sleep 1; do kill -0 $PIDD || break; done
Is supposed to wait until the PID (stored in variable $PIDD) closes. It waits until it doesn't exist (the PID), but when it finally doesn't exist, it outputs: kill: 4: No such process. The rest of the script works as intended, but then the script doesn't terminate. Can I make the script terminate properly and not have that No such process be outputted?  
Thanks again for all your help - I'm new to BASH/Linux.",bash,,,,,,open,0,190,5,"BASH Script Doesn't Exit Properly My BASH script doesn't exit properly.

    #!/bin/bash  
    #bootstrapper.sh
    PIDD=""$5""
    while sleep 1; do kill -0 $PIDD || break; done
    # Absolute path to this script. /home/user/bin/foo.sh
    SCRIPT=$(readlink -f $0)
    # Absolute path this script is in. /home/user/bin
    SCRIPTPATH=`dirname $SCRIPT`
    POSPAR1=""$1"" #-l
    POSPAR2=""$2"" #location
    POSPAR3=""$3"" #-d
    POSPAR4=""$4"" #directory
    cp -r -f $SCRIPTPATH/$4/* $2
    rm -r -f $SCRIPTPATH/$4

The line:  

    while sleep 1; do kill -0 $PIDD || break; done
Is supposed to wait until the PID (stored in variable $PIDD) closes. It waits until it doesn't exist (the PID), but when it finally doesn't exist, it outputs: kill: 4: No such process. The rest of the script works as intended, but then the script doesn't terminate. Can I make the script terminate properly and not have that No such process be outputted?  
Thanks again for all your help - I'm new to BASH/Linux.",1
9028138,01/27/2012 02:06:09,1172624,01/27/2012 02:02:31,1,0,Sed move first to end,"How do you move the first word to the end with bash?

    eg. ""super duper""
    => ""duper super""

Text will always be two words.",bash,unix,sed,,,,open,0,29,5,"Sed move first to end How do you move the first word to the end with bash?

    eg. ""super duper""
    => ""duper super""

Text will always be two words.",3
11460521,07/12/2012 20:55:38,1521994,07/12/2012 20:43:26,1,0,-bash-4.1# on CentOS 6,"im a total noob when it comes to PuTTY SSH stuff, but normally it displays **V-4705@root#** (Or something along those lines) but now it saying this:

login as: root
root@minehut.com's password:
Last login: Fri Jul 13 00:41:48 2012 from 5ac7a8b3.bb.sky.com
**-bash-4.1#**


Ive tried restarting the VPS, killing the bash process, it just comes back! When i type exit Putty quits, when I type leave it says command not found, i really need help.

I only use putty to start my MC server, but i seem to recall typing screen and then this is when the bash problem started.

Many Thanks",bash,,,,,07/13/2012 04:56:17,off topic,1,93,4,"-bash-4.1# on CentOS 6 im a total noob when it comes to PuTTY SSH stuff, but normally it displays **V-4705@root#** (Or something along those lines) but now it saying this:

login as: root
root@minehut.com's password:
Last login: Fri Jul 13 00:41:48 2012 from 5ac7a8b3.bb.sky.com
**-bash-4.1#**


Ive tried restarting the VPS, killing the bash process, it just comes back! When i type exit Putty quits, when I type leave it says command not found, i really need help.

I only use putty to start my MC server, but i seem to recall typing screen and then this is when the bash problem started.

Many Thanks",1
8277528,11/26/2011 09:37:37,1066402,11/26/2011 00:20:29,9,0,What is the meaning of getopts and IFS in shell scripting?,I am learning shell scripting so can someone please explain with some examples on what is getopts and IFS?,bash,shell,,,,06/16/2012 21:01:42,not a real question,1,19,11,What is the meaning of getopts and IFS in shell scripting? I am learning shell scripting so can someone please explain with some examples on what is getopts and IFS?,2
687014,03/26/2009 18:28:33,2907,08/25/2008 21:37:29,456,30,Removing created temp files in unexpected bash exit,"I am creating temporary files from a bash script. I am deleting them at the end of the processing, but since the script is running for quite a long time, if I kill it or simply CTRL-C during the run, the temp files are not deleted.  
Is there a way I can catch those events and clean-up the files before the execution ends?

Also, is there some kind of best practice for the naming and location of those temp files?  
I'm currently not sure between using:

    TMP1=`mktemp -p /tmp`
    TMP2=`mktemp -p /tmp`
    ...

and

    TMP1=/tmp/`basename $0`1.$$
    TMP2=/tmp/`basename $0`2.$$
    ...

Or maybe is there some better solutions?
    
",bash,linux,tempfile,copy-paste,,,open,0,127,8,"Removing created temp files in unexpected bash exit I am creating temporary files from a bash script. I am deleting them at the end of the processing, but since the script is running for quite a long time, if I kill it or simply CTRL-C during the run, the temp files are not deleted.  
Is there a way I can catch those events and clean-up the files before the execution ends?

Also, is there some kind of best practice for the naming and location of those temp files?  
I'm currently not sure between using:

    TMP1=`mktemp -p /tmp`
    TMP2=`mktemp -p /tmp`
    ...

and

    TMP1=/tmp/`basename $0`1.$$
    TMP2=/tmp/`basename $0`2.$$
    ...

Or maybe is there some better solutions?
    
",4
6572309,07/04/2011 13:41:47,495470,11/03/2010 02:39:54,252,9,Insert multiline string containing special characters to a template file using bash,"template.txt:

	.,:;-+=_'""`*^?!
	$xxx
	&$%#@|/\()[]{}<>

content.txt:

	.,:;-+=_'""`*^?!
	&$%#@|/\()[]{}<>

How should you create output.txt?

	.,:;-+=_'""`*^?!
	.,:;-+=_'""`*^?!
	&$%#@|/\()[]{}<>
	&$%#@|/\()[]{}<>

---

This seems to work fine even when the substituted text contains multiple lines and special characters, but the template obviously can't contain anything extra interpreted by eval:

	xxx=$(cat content.txt)
	echo ""$(eval ""echo \""$(cat template.txt)\"""")"" > output.txt

I have no idea how to escape the substitute pattern with sed:

	$ sed ""s|\$xxx|$(cat content.txt)|"" template.txt > output.txt
	sed: 1: ""s|$xxx|.,:;-+=_'""`*^?!\n ..."": unescaped newline inside substitute pattern

---

It's relatively easy using ruby:

	cat template.txt | ruby -p -e '$_.sub!(""$xxx"", IO.read(""content.txt""))' > output.txt

This also appears to work:

	ed template.txt <<EOF
	/\$xxx/d
	.r content.txt
	w output.txt
	EOF

However I'm curious how you'd accomplish the same thing using just bash (or sed or whatever).",bash,sed,,,,,open,0,99,12,"Insert multiline string containing special characters to a template file using bash template.txt:

	.,:;-+=_'""`*^?!
	$xxx
	&$%#@|/\()[]{}<>

content.txt:

	.,:;-+=_'""`*^?!
	&$%#@|/\()[]{}<>

How should you create output.txt?

	.,:;-+=_'""`*^?!
	.,:;-+=_'""`*^?!
	&$%#@|/\()[]{}<>
	&$%#@|/\()[]{}<>

---

This seems to work fine even when the substituted text contains multiple lines and special characters, but the template obviously can't contain anything extra interpreted by eval:

	xxx=$(cat content.txt)
	echo ""$(eval ""echo \""$(cat template.txt)\"""")"" > output.txt

I have no idea how to escape the substitute pattern with sed:

	$ sed ""s|\$xxx|$(cat content.txt)|"" template.txt > output.txt
	sed: 1: ""s|$xxx|.,:;-+=_'""`*^?!\n ..."": unescaped newline inside substitute pattern

---

It's relatively easy using ruby:

	cat template.txt | ruby -p -e '$_.sub!(""$xxx"", IO.read(""content.txt""))' > output.txt

This also appears to work:

	ed template.txt <<EOF
	/\$xxx/d
	.r content.txt
	w output.txt
	EOF

However I'm curious how you'd accomplish the same thing using just bash (or sed or whatever).",2
8654576,12/28/2011 10:20:33,638593,02/28/2011 09:20:25,37,5,bash sed fail in while loop,"    #!/bin/bash
    fname=$2
    rname=$1
    echo ""$(<$fname)"" | while read line ; do
    result=`echo ""$(<$rname)"" | grep ""$line""; echo $?`
    if [ $result != 0 ]
    then
    sed  '/$line/d' $fname > newkas
    fi 2> /dev/null
    done

Hi all, i am new to bash.

i have two lists one older than another. I wish to compare the names on 'fname' against 'rname'. 'Result' is the standard out put which i will get if the name is still available in 'rname'. if is not then i will get the non-zero output.
Using sed to delete that line and re route it to a new file.

I have tried part by part of the code and it works until i add in the while loop function. sed don't seems to work as the final output of 'newkas' is the same as the initial input 'fname'.
Is my method wrong or did i miss out any parts? ",bash,sed,,,,,open,0,179,6,"bash sed fail in while loop     #!/bin/bash
    fname=$2
    rname=$1
    echo ""$(<$fname)"" | while read line ; do
    result=`echo ""$(<$rname)"" | grep ""$line""; echo $?`
    if [ $result != 0 ]
    then
    sed  '/$line/d' $fname > newkas
    fi 2> /dev/null
    done

Hi all, i am new to bash.

i have two lists one older than another. I wish to compare the names on 'fname' against 'rname'. 'Result' is the standard out put which i will get if the name is still available in 'rname'. if is not then i will get the non-zero output.
Using sed to delete that line and re route it to a new file.

I have tried part by part of the code and it works until i add in the while loop function. sed don't seems to work as the final output of 'newkas' is the same as the initial input 'fname'.
Is my method wrong or did i miss out any parts? ",2
1688999,11/06/2009 17:14:06,6069,09/12/2008 08:44:04,961,45,How can I read a list of filenames from a file in bash?,"I'm trying to write a bash script that will process a list of files whose names are stored one per line in an input file, something the likes of

    find . -type f -mtime +15 > /tmp/filelist.txt
    for F in $(cat /tmp/filelist.txt) ; do
      ...
    done;

My problem is that filenames in filelist.txt may contain spaces, so the snipped above will expand the line

    my text file.txt

to three different filenames, `my`, `text` and `file.txt`. How can I fix that?
",bash,scripting,,,,,open,0,95,13,"How can I read a list of filenames from a file in bash? I'm trying to write a bash script that will process a list of files whose names are stored one per line in an input file, something the likes of

    find . -type f -mtime +15 > /tmp/filelist.txt
    for F in $(cat /tmp/filelist.txt) ; do
      ...
    done;

My problem is that filenames in filelist.txt may contain spaces, so the snipped above will expand the line

    my text file.txt

to three different filenames, `my`, `text` and `file.txt`. How can I fix that?
",2
8868764,01/15/2012 09:38:10,658984,03/14/2011 14:45:38,118,1,"How do i remove old files so that I keep one for every week, one for every month, etc.?","I do regular backups on my linux server but as it is now I delete all backups older than 14 days. I'd prefer if I could do it as sbackup or deja-dup. There you have the choice to keep all yesterdays backups, one backup per week, one backup per month and one backup per year.

How do I do a script that will delete files in this pattern?

Thanks!",bash,ubuntu,remove,smart,backups,01/15/2012 14:02:10,not a real question,1,67,19,"How do i remove old files so that I keep one for every week, one for every month, etc.? I do regular backups on my linux server but as it is now I delete all backups older than 14 days. I'd prefer if I could do it as sbackup or deja-dup. There you have the choice to keep all yesterdays backups, one backup per week, one backup per month and one backup per year.

How do I do a script that will delete files in this pattern?

Thanks!",5
11738661,07/31/2012 11:02:16,1178669,01/05/2010 08:17:25,6648,258,Are these steps enough to put my bash script under GPL 3?,"I have written a bash script I would like to put under GPL v3. I've read the GNU documentation
on [How to Apply These Terms to Your New Programs][1] and [How to use GNU licenses for your own software][2]. Still, I'm not quite sure what to put there and which artifacts are needed.

So far, I did the following:

 1. Put a file called `COPYING` (which contains the license) into the project folder
 2. At the beginning of my script, I attached the following to my script:

> up is a bash function to simplify vertical file system navigation.
>
> Copyright (C) 2012 Oliver Weiler
> 
> This program is free software: you can redistribute it and/or modify
> it under the terms of the GNU General Public License as published by
> the Free Software Foundation, either version 3 of the License, or
> (at your option) any later version.
> 
> This program is distributed in the hope that it will be useful,
> but WITHOUT ANY WARRANTY; without even the implied warranty of
> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> GNU General Public License for more details.
> 
> You should have received a copy of the GNU General Public License
> along with this program.  If not, see <http://www.gnu.org/licenses/>.

Is this all I have to do? Is putting the licence into a separate file actually needed, if the notice in the script file links to it?

  [1]: http://www.gnu.org/licenses/gpl-3.0.html#howto
  [2]: http://www.gnu.org/licenses/gpl-howto.en.html",bash,gpl,,,,07/31/2012 13:33:29,off topic,1,237,12,"Are these steps enough to put my bash script under GPL 3? I have written a bash script I would like to put under GPL v3. I've read the GNU documentation
on [How to Apply These Terms to Your New Programs][1] and [How to use GNU licenses for your own software][2]. Still, I'm not quite sure what to put there and which artifacts are needed.

So far, I did the following:

 1. Put a file called `COPYING` (which contains the license) into the project folder
 2. At the beginning of my script, I attached the following to my script:

> up is a bash function to simplify vertical file system navigation.
>
> Copyright (C) 2012 Oliver Weiler
> 
> This program is free software: you can redistribute it and/or modify
> it under the terms of the GNU General Public License as published by
> the Free Software Foundation, either version 3 of the License, or
> (at your option) any later version.
> 
> This program is distributed in the hope that it will be useful,
> but WITHOUT ANY WARRANTY; without even the implied warranty of
> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> GNU General Public License for more details.
> 
> You should have received a copy of the GNU General Public License
> along with this program.  If not, see <http://www.gnu.org/licenses/>.

Is this all I have to do? Is putting the licence into a separate file actually needed, if the notice in the script file links to it?

  [1]: http://www.gnu.org/licenses/gpl-3.0.html#howto
  [2]: http://www.gnu.org/licenses/gpl-howto.en.html",2
128365,09/24/2008 16:59:26,4249,09/02/2008 14:13:06,803,47,Count number of occurences of token in a file,"I have a server access log, with timestamps of each http request, I'd like to obtain a count of the number of requests at each second. Using `sed`, and `cut -c`, so far I've managed to cut the file down to just the timestamps, such as:

>22-Sep-2008 20:00:21 +0000  
22-Sep-2008 20:00:22 +0000  
22-Sep-2008 20:00:22 +0000  
22-Sep-2008 20:00:22 +0000  
22-Sep-2008 20:00:24 +0000  
22-Sep-2008 20:00:24 +0000

What I'd love to get is the number of times each unique timestamp appears in the file. For example, with the above example, I'd like to get output that looks like:

>22-Sep-2008 20:00:21 +0000: 1  
22-Sep-2008 20:00:22 +0000: 3  
22-Sep-2008 20:00:24 +0000: 2

I've used `sort -u` to filter the list of timestamps down to a list of unique tokens, hoping that I could use grep like

    grep -c -f <file containing patterns> <file>

but this just produces a single line of a grand total of matching lines.

I know this can be done in a single line, stringing a few utilities together ... but I can't think of which. Anyone know?",bash,shell,grep,,,,open,0,180,9,"Count number of occurences of token in a file I have a server access log, with timestamps of each http request, I'd like to obtain a count of the number of requests at each second. Using `sed`, and `cut -c`, so far I've managed to cut the file down to just the timestamps, such as:

>22-Sep-2008 20:00:21 +0000  
22-Sep-2008 20:00:22 +0000  
22-Sep-2008 20:00:22 +0000  
22-Sep-2008 20:00:22 +0000  
22-Sep-2008 20:00:24 +0000  
22-Sep-2008 20:00:24 +0000

What I'd love to get is the number of times each unique timestamp appears in the file. For example, with the above example, I'd like to get output that looks like:

>22-Sep-2008 20:00:21 +0000: 1  
22-Sep-2008 20:00:22 +0000: 3  
22-Sep-2008 20:00:24 +0000: 2

I've used `sort -u` to filter the list of timestamps down to a list of unique tokens, hoping that I could use grep like

    grep -c -f <file containing patterns> <file>

but this just produces a single line of a grand total of matching lines.

I know this can be done in a single line, stringing a few utilities together ... but I can't think of which. Anyone know?",3
3250265,07/14/2010 20:35:52,392041,07/14/2010 20:35:52,1,0,Finding a version number using grep,"Basically i am creating an update checker for emesene on osx. I need to find out the version number from inside this file: http://emesene.svn.sourceforge.net/viewvc/emesene/trunk/emesene/Controller.py

The version number is found at self.VERSION = 'version' in the file e.g. self.VERSION = '1.6.3'

The version number then needs to be saved in a file

Is this possible using grep?",bash,osx,grep,,,,open,0,53,6,"Finding a version number using grep Basically i am creating an update checker for emesene on osx. I need to find out the version number from inside this file: http://emesene.svn.sourceforge.net/viewvc/emesene/trunk/emesene/Controller.py

The version number is found at self.VERSION = 'version' in the file e.g. self.VERSION = '1.6.3'

The version number then needs to be saved in a file

Is this possible using grep?",3
10624425,05/16/2012 18:24:36,1229998,02/24/2012 05:19:24,1,0,run bash script in xampp,I would like to know  whether ***bash script runs on xampp***..? and want to know the location(directory)  where it can be  place in. if ***cgi script*** runs in xampp** **where to** **place and how to run it.**.. ?,bash,script,xampp,,,05/17/2012 11:15:33,not a real question,1,41,5,run bash script in xampp I would like to know  whether ***bash script runs on xampp***..? and want to know the location(directory)  where it can be  place in. if ***cgi script*** runs in xampp** **where to** **place and how to run it.**.. ?,3
8450224,12/09/2011 18:48:56,1002122,10/18/2011 22:45:19,3,0,Closing a running program via bash script,"I've tried searching for this a few times, but I just think I don't know the right terminology.

I have an application running in a screen session on a remote server. I'm periodically developing an updating the server, and use a Git repos to transfer my code. I'd like to automate this process. Here's what I want the script to do:

- Commit my code to my local machine repository
- Push the local repository to the server
- SSH to the server
- Atttach to the screen, and *kill* the application that is currently running there.
    - When I do this whole thing manually, I kill it with ctrl-C. That doesn't appear to be an option here.
- Then restart it using the new code.

Any thoughts on how to kill the application? Or a better way overall?
",bash,ssh,screen,kill,,02/09/2012 17:11:29,not a real question,1,135,7,"Closing a running program via bash script I've tried searching for this a few times, but I just think I don't know the right terminology.

I have an application running in a screen session on a remote server. I'm periodically developing an updating the server, and use a Git repos to transfer my code. I'd like to automate this process. Here's what I want the script to do:

- Commit my code to my local machine repository
- Push the local repository to the server
- SSH to the server
- Atttach to the screen, and *kill* the application that is currently running there.
    - When I do this whole thing manually, I kill it with ctrl-C. That doesn't appear to be an option here.
- Then restart it using the new code.

Any thoughts on how to kill the application? Or a better way overall?
",4
11599250,07/22/2012 09:49:39,1542324,07/21/2012 07:22:45,1,0,how does the cd command change directory in linux bash script?,i want down load .zip files from ftp URL and use wget command PLEASE Help me .Tanks everyone Matiar,bash,shell,,,,07/22/2012 10:10:00,not a real question,1,19,11,how does the cd command change directory in linux bash script? i want down load .zip files from ftp URL and use wget command PLEASE Help me .Tanks everyone Matiar,2
11347950,07/05/2012 15:46:00,1026922,11/03/2011 03:32:57,131,3,Auto accept EULA,"I have a rpm which has a EULA file.
When I install this rpm I need to manually ""accpet"" the agreement by typing ""yes"" from console.
I want to automate this process. 
I write a bash script for this.

yes | rpm -ivh EULA.rpm

yes yes | rpm -ivh EULA.rpm

echo ""yes"" | rpm -ivh EULA.rpm

But all these scripts fail to solve the purpose and I get the prompt to read the EULA agrrement and then manually need to enter yes to acceot it.
How can I automate this?
As the EULA file is long I need to press q (or keep reading the agreement by presssing the returm key) to get the promt where I can type 
""yes"" or ""no"". Am I suppose to give a 'q' as well in the scipt. I have even tried that and it didn't work.
Thanks in advance.
",bash,automation,eula,,,07/06/2012 04:08:00,off topic,1,137,3,"Auto accept EULA I have a rpm which has a EULA file.
When I install this rpm I need to manually ""accpet"" the agreement by typing ""yes"" from console.
I want to automate this process. 
I write a bash script for this.

yes | rpm -ivh EULA.rpm

yes yes | rpm -ivh EULA.rpm

echo ""yes"" | rpm -ivh EULA.rpm

But all these scripts fail to solve the purpose and I get the prompt to read the EULA agrrement and then manually need to enter yes to acceot it.
How can I automate this?
As the EULA file is long I need to press q (or keep reading the agreement by presssing the returm key) to get the promt where I can type 
""yes"" or ""no"". Am I suppose to give a 'q' as well in the scipt. I have even tried that and it didn't work.
Thanks in advance.
",3
11137169,06/21/2012 11:28:46,1370285,05/02/2012 14:29:16,8,0,bash out of order,"I'm having an issue with a bash script that goes out of order. This script is used im multiple places and usually works fine. In one specific directory however it goes all out of sync and makes its output file useless. The bash file itself is a copy paste so i doubt it's a coding issue. The directory structures are also identical and the input data it takes are very similar. (Working in clearcase if that makes a difference.)
Does anyone have any ideas? I'd appreciate it.


When the bash is functional its output looks like this:

    Techpack Meta Version is currently 3, has this changed? y/n n
    Have Techpack Version Dependencies changed? y/n n
    Updating Version Properties
        
    Building TPI File
    Inside make_tpi_file
    Created ../package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi
    Checked out ""package/12.0/"" from version ""/main/at_job/1"".
    Created element ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" (type ""compressed_file"").
    Created branch ""at_job"" from ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" version ""/main/0"".
    Checked out ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" from version ""/main/at_job/0"".
    Checked in ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" version ""/main/at_job/1"".
    Checked in ""package/12.0/"" version ""/main/at_job/2"".




When the bash is not functional its output looks like this:

    Techpack Meta Version is currently 3, has this changed? y/n n
    Have Techpack Version Dependencies changed? y/n n
    Updating Version Properties
    
    Building TPI File
    Inside make_tpi_file
    _R0E_b1.tpipackage/12.0/M_E_HANF_DATAGEN
    Checked out ""package/12.0/"" from version ""/main/at_job/4"".
    _R0E_b1.tpi"" (type ""compressed_file"").A_DATAGEN
    _R0E_b1.tpi"" version ""/main/0"".package/12.0/M_E_HANF_DATAGEN
    _R0E_b1.tpi"" from version ""/main/at_job/0"".
    _R0E_b1.tpi"" version ""/main/at_job/1"".GEN
    Checked in ""package/12.0/"" version ""/main/at_job/5"".
    
    /vobs/job/job_mg/test_tools/Data_Generator/HANF/FeatureTest/build
    Checked in ""install/version.properties"" version ""/main/at_job/14"".
    Checked in ""../package/12.2/build.number"" version ""/main/at_job/4"".

",bash,clearcase,,,,06/22/2012 00:24:07,not a real question,1,326,4,"bash out of order I'm having an issue with a bash script that goes out of order. This script is used im multiple places and usually works fine. In one specific directory however it goes all out of sync and makes its output file useless. The bash file itself is a copy paste so i doubt it's a coding issue. The directory structures are also identical and the input data it takes are very similar. (Working in clearcase if that makes a difference.)
Does anyone have any ideas? I'd appreciate it.


When the bash is functional its output looks like this:

    Techpack Meta Version is currently 3, has this changed? y/n n
    Have Techpack Version Dependencies changed? y/n n
    Updating Version Properties
        
    Building TPI File
    Inside make_tpi_file
    Created ../package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi
    Checked out ""package/12.0/"" from version ""/main/at_job/1"".
    Created element ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" (type ""compressed_file"").
    Created branch ""at_job"" from ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" version ""/main/0"".
    Checked out ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" from version ""/main/at_job/0"".
    Checked in ""package/12.0/M_E_LCHS_DATAGEN_R0E_b1.tpi"" version ""/main/at_job/1"".
    Checked in ""package/12.0/"" version ""/main/at_job/2"".




When the bash is not functional its output looks like this:

    Techpack Meta Version is currently 3, has this changed? y/n n
    Have Techpack Version Dependencies changed? y/n n
    Updating Version Properties
    
    Building TPI File
    Inside make_tpi_file
    _R0E_b1.tpipackage/12.0/M_E_HANF_DATAGEN
    Checked out ""package/12.0/"" from version ""/main/at_job/4"".
    _R0E_b1.tpi"" (type ""compressed_file"").A_DATAGEN
    _R0E_b1.tpi"" version ""/main/0"".package/12.0/M_E_HANF_DATAGEN
    _R0E_b1.tpi"" from version ""/main/at_job/0"".
    _R0E_b1.tpi"" version ""/main/at_job/1"".GEN
    Checked in ""package/12.0/"" version ""/main/at_job/5"".
    
    /vobs/job/job_mg/test_tools/Data_Generator/HANF/FeatureTest/build
    Checked in ""install/version.properties"" version ""/main/at_job/14"".
    Checked in ""../package/12.2/build.number"" version ""/main/at_job/4"".

",2
3964254,10/18/2010 23:23:11,253323,01/05/2010 08:00:34,80,2,bash script to run in 5 minutes,"I just want a bash script to run 5 minutes after it's called.  What am I doing wrong?

I have the command:

    /path/to/my/script | at now + 5 min

And yet the script runs right away every time.",bash,timed,,,,,open,0,40,7,"bash script to run in 5 minutes I just want a bash script to run 5 minutes after it's called.  What am I doing wrong?

I have the command:

    /path/to/my/script | at now + 5 min

And yet the script runs right away every time.",2
6619917,07/08/2011 04:16:51,514316,11/20/2010 08:18:17,42,3,How to use sed command to add a string before a pattern string?,"I want to use sed to modify my file named ""baz"".

When i search a pattern <foo> , i want to append <bar> before foo, how can i do it using sed?

    Input file named baz:
    foo
    foo
    foo
    foo

    Output file 
    barfoo
    barfoo
    barfoo
    barfoo

",bash,sed,,,,,open,0,76,13,"How to use sed command to add a string before a pattern string? I want to use sed to modify my file named ""baz"".

When i search a pattern <foo> , i want to append <bar> before foo, how can i do it using sed?

    Input file named baz:
    foo
    foo
    foo
    foo

    Output file 
    barfoo
    barfoo
    barfoo
    barfoo

",2
1165757,07/22/2009 14:37:09,78667,03/16/2009 16:33:14,212,9,Sort subgroups of lines with command-line tools,"I've been trying to find a way of sorting this with standard commandline tools, bash, awk, sort, whatever but can't find a way apart from using perl or similar.

Any hint?

**Input data**

    header1
    3
    2
    5
    1

    header2
    5
    1
    3
    .....
    .....

**Output data **

    header1
    1
    2
    3
    5
    
    header2
    1
    ....

Thanks",bash,command-line,,,,,open,0,113,7,"Sort subgroups of lines with command-line tools I've been trying to find a way of sorting this with standard commandline tools, bash, awk, sort, whatever but can't find a way apart from using perl or similar.

Any hint?

**Input data**

    header1
    3
    2
    5
    1

    header2
    5
    1
    3
    .....
    .....

**Output data **

    header1
    1
    2
    3
    5
    
    header2
    1
    ....

Thanks",2
10153057,04/14/2012 10:57:32,834616,07/08/2011 02:04:10,17,0,How to add extra delimiters to the end of a CSV file is some are found to be missing?,"I have a CSV file formatted like this:

    A @ B @ C @ D @ E

It should have five columns, unfortunately, some are missing the last column, e.g.:

    A @ B @ C @ D

How can I add an extra ` @ ` to the end of every line which is missing the last column?",bash,csv,awk,,,,open,0,62,19,"How to add extra delimiters to the end of a CSV file is some are found to be missing? I have a CSV file formatted like this:

    A @ B @ C @ D @ E

It should have five columns, unfortunately, some are missing the last column, e.g.:

    A @ B @ C @ D

How can I add an extra ` @ ` to the end of every line which is missing the last column?",3
11445044,07/12/2012 04:32:28,1253833,03/07/2012 04:48:22,30,0,How can I edit the welcome message when ssh start?,"I have a vps for my website hosting. It is running a ubuntu server. Every time I logged in my  server by ssh, it displays a lengthy welcome message in my terminal. 

""

Linux node61.buyvm.net 2.6.18-pony6-3 #1 SMP Tue Mar 13 07:31:44 PDT 2012 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Wed Jul 11 12:08:19 2012 from 113.72.193.52
Linux node61.buyvm.net 2.6.18-pony6-3 #1 SMP Tue Mar 13 07:31:44 PDT 2012 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
entered into CT 17323
-bash-4.2#


""

After doing some researches about this(yes i was just googling around), I realized that my server should have a .bashrc and .bash_profile(or .profile) controlling this. I use vim to open my .bashrc and .profile and I couldn't seem to find any line of codes that would display message in my terminal. Therefore I am wondering if there is like another file for this? 

I want to comment out those welcome message because my sftp is not working with an error(Received message too long 761422195). I am pretty sure that this error is caused by my server's welcome message. 

Sorry for my bad English. I would really appreciate any help! ",bash,ssh,ubuntu-server,,,07/12/2012 08:36:59,off topic,1,246,10,"How can I edit the welcome message when ssh start? I have a vps for my website hosting. It is running a ubuntu server. Every time I logged in my  server by ssh, it displays a lengthy welcome message in my terminal. 

""

Linux node61.buyvm.net 2.6.18-pony6-3 #1 SMP Tue Mar 13 07:31:44 PDT 2012 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Wed Jul 11 12:08:19 2012 from 113.72.193.52
Linux node61.buyvm.net 2.6.18-pony6-3 #1 SMP Tue Mar 13 07:31:44 PDT 2012 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
entered into CT 17323
-bash-4.2#


""

After doing some researches about this(yes i was just googling around), I realized that my server should have a .bashrc and .bash_profile(or .profile) controlling this. I use vim to open my .bashrc and .profile and I couldn't seem to find any line of codes that would display message in my terminal. Therefore I am wondering if there is like another file for this? 

I want to comment out those welcome message because my sftp is not working with an error(Received message too long 761422195). I am pretty sure that this error is caused by my server's welcome message. 

Sorry for my bad English. I would really appreciate any help! ",3
8116184,11/14/2011 01:01:03,986258,10/09/2011 10:10:52,36,0,Changing find to echo,"This is almost good

    find  *.txt -print0 | xargs -0 rm -f

And i want to have sth like that

    echo *.txt ./zad3.sh | xargs -l rm -f

First version is good cuz I can delete file with white spaces but I cant use my script to select file to delete.
Second version I can select files but I cant delete file with white spaces.",bash,,,,,11/14/2011 02:07:32,not a real question,1,69,4,"Changing find to echo This is almost good

    find  *.txt -print0 | xargs -0 rm -f

And i want to have sth like that

    echo *.txt ./zad3.sh | xargs -l rm -f

First version is good cuz I can delete file with white spaces but I cant use my script to select file to delete.
Second version I can select files but I cant delete file with white spaces.",1
629874,03/10/2009 12:15:23,54964,01/14/2009 11:38:17,648,7,Unable to scp from my server to my computer,"The following code does not work

    scp /home/username/public_html/site/pictures/* myUsernameAtMyMac@myIpAddress:/home/Masi/Desktop/

I have ""Allow only essential services"" in my Mac's firewall.

How can you solve the problem?",bash,scp,,,,06/02/2011 00:54:32,off topic,1,26,9,"Unable to scp from my server to my computer The following code does not work

    scp /home/username/public_html/site/pictures/* myUsernameAtMyMac@myIpAddress:/home/Masi/Desktop/

I have ""Allow only essential services"" in my Mac's firewall.

How can you solve the problem?",2
6955314,08/05/2011 11:09:24,735764,05/03/2011 08:36:05,150,0,Making a dictionary ... sort of,"I have following set of values in a tab delimited file (only a part of values is shown here... file has 2 columns)

MXRA8	9.9074e-08 <br>
AURKAIP1	0.0000e+00 <br>
CCNL2	1.4962e-07 <br>
CCNL2	2.0536e-07 <br>
CCNL2	2.5198e-07 <br>
CCNL2	2.5311e-07 <br>
LOC148413	2.2558e-07 <br>
MRPL20	0.0000e+00 <br>
LOC441869	0.0000e+00 <br>
TMEM88B	0.0000e+00 <br>

As evident value for CCNL2 occur 4 times, what I want is that only the highest value for a repeated name in column one should be extracted and put into another file.

Something like this

MXRA8	9.9074e-08 <br>
AURKAIP1	0.0000e+00 <br>
 CCNL2	2.5311e-07 <br>
LOC148413	2.2558e-07 <br>
MRPL20	0.0000e+00 <br>
LOC441869	0.0000e+00 <br>
TMEM88B	0.0000e+00 <br>

Any suggestions for a bash  Shell script script.
",bash,shell,,,,,open,0,82,6,"Making a dictionary ... sort of I have following set of values in a tab delimited file (only a part of values is shown here... file has 2 columns)

MXRA8	9.9074e-08 <br>
AURKAIP1	0.0000e+00 <br>
CCNL2	1.4962e-07 <br>
CCNL2	2.0536e-07 <br>
CCNL2	2.5198e-07 <br>
CCNL2	2.5311e-07 <br>
LOC148413	2.2558e-07 <br>
MRPL20	0.0000e+00 <br>
LOC441869	0.0000e+00 <br>
TMEM88B	0.0000e+00 <br>

As evident value for CCNL2 occur 4 times, what I want is that only the highest value for a repeated name in column one should be extracted and put into another file.

Something like this

MXRA8	9.9074e-08 <br>
AURKAIP1	0.0000e+00 <br>
 CCNL2	2.5311e-07 <br>
LOC148413	2.2558e-07 <br>
MRPL20	0.0000e+00 <br>
LOC441869	0.0000e+00 <br>
TMEM88B	0.0000e+00 <br>

Any suggestions for a bash  Shell script script.
",2
9470842,02/27/2012 19:15:49,1082009,12/05/2011 17:27:32,15,0,What's the error in this bash script?,"I have the syntax error: end of file not expected printed out when I execute this bash script and I don't understand why, does anyone have a reason?

     #!bin/bash
    COUNTER=$1
    while [  $COUNTER -ne $2 ]; do
	    echo ""$COUNTER "" >> pcascript.out
	    COUNTER2=0
	    SUMA=0
	    while [ $COUNTER2 -lt 5 ]; do      
	         elt=/usr/bin/time -f=""%e"" ./pi.pg $COUNTER
	         SUMA=$SUMA+$elt
			 COUNTER2=$COUNTER2+1
	    done
	    MEDIA=$SUMA/5
	    echo "" "" >> pcascript.out
	    echo MEDIA >> pcascript.out
	    let COUNTER=$COUNTER+500
    done

",bash,shell,script,,,02/29/2012 16:48:25,too localized,1,134,7,"What's the error in this bash script? I have the syntax error: end of file not expected printed out when I execute this bash script and I don't understand why, does anyone have a reason?

     #!bin/bash
    COUNTER=$1
    while [  $COUNTER -ne $2 ]; do
	    echo ""$COUNTER "" >> pcascript.out
	    COUNTER2=0
	    SUMA=0
	    while [ $COUNTER2 -lt 5 ]; do      
	         elt=/usr/bin/time -f=""%e"" ./pi.pg $COUNTER
	         SUMA=$SUMA+$elt
			 COUNTER2=$COUNTER2+1
	    done
	    MEDIA=$SUMA/5
	    echo "" "" >> pcascript.out
	    echo MEDIA >> pcascript.out
	    let COUNTER=$COUNTER+500
    done

",3
4238574,11/21/2010 15:14:57,515171,11/21/2010 15:14:57,1,0,Progressbar code you gave gives me an error about no PID.,"I am a beginner at Linux and a  big time beginner at bash scripting.  I am trying to write a bash script that will backup my home directory AND show me the progress. I found a script called bar that allows me to show a progress bar when deflating a tar.bz2 file, but not when creating one.  I found your code and am trying it, but it gives me an error: 
lsof:  no process ID specified
lsof 4.81


I go your code from this page:
http://stackoverflow.com/questions/238073/how-to-add-a-progress-bar-to-a-bash-script
Here is the code:
<pre>
#! /bin/bash
tar -jcf userhomeBU$(date +%Y&m&d)"".tar.bz2"" /home/user
lsof -o0 -o -p $PID |
awk '
            BEGIN { CONVFMT = ""%.2f"" }
            $4 ~ /^[0-9]+r$/ && $7 ~ /^0t/ {
                    offset = substr($7, 3)
                    fname = $9
                    ""stat -f %z '\''"" fname ""'\''"" | getline
                    len = $0
                    print fname, offset / len * 100 ""%""
            }
    '
</pre>

My home directory is backed up just fine, but I get no progress bar due to the error.

It looks like this will use the PID to watch to see when it is done.  I am thinking it uses the PID and not the name of the file because the name will be unknown at the very start of the script. Can you please explain what this script is doing exactly, and why I am not getting a PID for it to watch. I have put my backup code in front and at the end but it does not show a bar, and I get the same error just at a different time. 

Help!",bash,progress,bar,,,,open,0,387,11,"Progressbar code you gave gives me an error about no PID. I am a beginner at Linux and a  big time beginner at bash scripting.  I am trying to write a bash script that will backup my home directory AND show me the progress. I found a script called bar that allows me to show a progress bar when deflating a tar.bz2 file, but not when creating one.  I found your code and am trying it, but it gives me an error: 
lsof:  no process ID specified
lsof 4.81


I go your code from this page:
http://stackoverflow.com/questions/238073/how-to-add-a-progress-bar-to-a-bash-script
Here is the code:
<pre>
#! /bin/bash
tar -jcf userhomeBU$(date +%Y&m&d)"".tar.bz2"" /home/user
lsof -o0 -o -p $PID |
awk '
            BEGIN { CONVFMT = ""%.2f"" }
            $4 ~ /^[0-9]+r$/ && $7 ~ /^0t/ {
                    offset = substr($7, 3)
                    fname = $9
                    ""stat -f %z '\''"" fname ""'\''"" | getline
                    len = $0
                    print fname, offset / len * 100 ""%""
            }
    '
</pre>

My home directory is backed up just fine, but I get no progress bar due to the error.

It looks like this will use the PID to watch to see when it is done.  I am thinking it uses the PID and not the name of the file because the name will be unknown at the very start of the script. Can you please explain what this script is doing exactly, and why I am not getting a PID for it to watch. I have put my backup code in front and at the end but it does not show a bar, and I get the same error just at a different time. 

Help!",3
11519805,07/17/2012 09:37:18,674618,03/24/2011 09:16:54,29,2,How to run command,"I need to run a `command` under `userx` using sudo that is normally not available in the `PATH`.  `Command` is available in bash under `userx` because of `HOME/.bashrc`. 

Simply if I run in bash under `userx`

    echo $PATH
    /opt/sw-python/extra/pythonbrew/bin:/opt/sw-python/extra/pythonbrew/pythons/Python-2.7.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games

I get the right `PATH` and `command` is available.

But if I run with sudo:

    sudo -u userx echo $PATH
    /home/curuser/.pythonbrew/bin:/home/curuser/.pythonbrew/pythons/Python-2.7.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
    
    sudo -H -u userx echo $PATH
    /home/curuser/.pythonbrew/bin:/home/curuser/.pythonbrew/pythons/Python-2.7.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
    
    sudo su python -c 'echo $PATH'
    /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
    
    sudo su python -c 'bash -c ""echo $PATH""'
    /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games

PATH variable is not set using `userx`'s `.bashrc`.

How to run with sudo so that `PATH` will be normal `PATH` under `userx`?",bash,sudo,rc,,,07/19/2012 02:08:07,off topic,1,144,4,"How to run command I need to run a `command` under `userx` using sudo that is normally not available in the `PATH`.  `Command` is available in bash under `userx` because of `HOME/.bashrc`. 

Simply if I run in bash under `userx`

    echo $PATH
    /opt/sw-python/extra/pythonbrew/bin:/opt/sw-python/extra/pythonbrew/pythons/Python-2.7.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games

I get the right `PATH` and `command` is available.

But if I run with sudo:

    sudo -u userx echo $PATH
    /home/curuser/.pythonbrew/bin:/home/curuser/.pythonbrew/pythons/Python-2.7.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
    
    sudo -H -u userx echo $PATH
    /home/curuser/.pythonbrew/bin:/home/curuser/.pythonbrew/pythons/Python-2.7.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
    
    sudo su python -c 'echo $PATH'
    /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
    
    sudo su python -c 'bash -c ""echo $PATH""'
    /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games

PATH variable is not set using `userx`'s `.bashrc`.

How to run with sudo so that `PATH` will be normal `PATH` under `userx`?",3
11137942,06/21/2012 12:16:17,667820,03/20/2011 00:14:23,105,12,What are the common programming features between bash and ksh93?,"I've spent 25 years of my life programming in Bourne, ksh88, ksh93, and a bit of bash.  Both aspire  to POSIX shell conformance,  but in my experience, the two have much more in common than just POSIX.

Has anyone ever tried to compile a list of common features and differences between bash, ksh and posix?
",bash,shell,posix,ksh,,06/22/2012 12:52:47,not constructive,1,57,10,"What are the common programming features between bash and ksh93? I've spent 25 years of my life programming in Bourne, ksh88, ksh93, and a bit of bash.  Both aspire  to POSIX shell conformance,  but in my experience, the two have much more in common than just POSIX.

Has anyone ever tried to compile a list of common features and differences between bash, ksh and posix?
",4
