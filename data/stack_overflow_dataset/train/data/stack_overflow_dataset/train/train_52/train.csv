PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
11218619,06/27/2012 02:33:54,1369159,05/02/2012 04:39:34,1,2,init script not start when startup on ubuntu 12.04,"I creates init script with bash for unicorn to start, stop and restart named is unicorn . And I am trying to add it on startup or rc2.d with this command.

> update-rc.d unicorn defaults ..

and the result is :

> Adding system startup for /etc/init.d/unicorn ...   
> /etc/rc0.d/K20unicorn -> ../init.d/unicorn    /etc/rc1.d/K20unicorn ->
> ../init.d/unicorn    /etc/rc6.d/K20unicorn -> ../init.d/unicorn   
> /etc/rc2.d/S20unicorn -> ../init.d/unicorn    /etc/rc3.d/S20unicorn ->
> ../init.d/unicorn    /etc/rc4.d/S20unicorn -> ../init.d/unicorn   
> /etc/rc5.d/S20unicorn -> ../init.d/unicorn

but when I try to reboot the machine my script is not working.. whats happen? anyone can tell me? Thanks .. :)",bash,shell,init,unicorn,,06/28/2012 11:12:07,off topic,1,108,9,"init script not start when startup on ubuntu 12.04 I creates init script with bash for unicorn to start, stop and restart named is unicorn . And I am trying to add it on startup or rc2.d with this command.

> update-rc.d unicorn defaults ..

and the result is :

> Adding system startup for /etc/init.d/unicorn ...   
> /etc/rc0.d/K20unicorn -> ../init.d/unicorn    /etc/rc1.d/K20unicorn ->
> ../init.d/unicorn    /etc/rc6.d/K20unicorn -> ../init.d/unicorn   
> /etc/rc2.d/S20unicorn -> ../init.d/unicorn    /etc/rc3.d/S20unicorn ->
> ../init.d/unicorn    /etc/rc4.d/S20unicorn -> ../init.d/unicorn   
> /etc/rc5.d/S20unicorn -> ../init.d/unicorn

but when I try to reboot the machine my script is not working.. whats happen? anyone can tell me? Thanks .. :)",4
6726830,07/17/2011 21:18:35,849063,07/17/2011 21:18:35,1,0,Bash variable assignment,"I have a basic script to edit config files in ~/.config - it works with the `cd` lines, but that seems redundant:

<pre><code>dir=$HOME/.config/$1
if [ ! -d ""$dir"" ]; then :
    else 
	cd ""$dir"" && 
	for file in * ; do
	    case ""$file"" in
		conf | config | *.cfg | *rc)  $EDITOR ""$file"" ;;
		*)  :  ;;
	    esac
    done
    cd - 1>/dev/null;
fi</code></pre>

Changing it to use the variable `""$dir""` fails. What am I doing wrong?

<pre><code>dir=$HOME/.config/$1
if [ ! -d ""$dir"" ]; then :
    else 
	for file in ""$dir"" ; do
	    case ""$file"" in
		conf | config | *.cfg | *rc)  $EDITOR ""$file"" ;;
		*)  :  ;;
	    esac
    done;
fi</code></pre>
",bash,variables,,,,,open,0,133,3,"Bash variable assignment I have a basic script to edit config files in ~/.config - it works with the `cd` lines, but that seems redundant:

<pre><code>dir=$HOME/.config/$1
if [ ! -d ""$dir"" ]; then :
    else 
	cd ""$dir"" && 
	for file in * ; do
	    case ""$file"" in
		conf | config | *.cfg | *rc)  $EDITOR ""$file"" ;;
		*)  :  ;;
	    esac
    done
    cd - 1>/dev/null;
fi</code></pre>

Changing it to use the variable `""$dir""` fails. What am I doing wrong?

<pre><code>dir=$HOME/.config/$1
if [ ! -d ""$dir"" ]; then :
    else 
	for file in ""$dir"" ; do
	    case ""$file"" in
		conf | config | *.cfg | *rc)  $EDITOR ""$file"" ;;
		*)  :  ;;
	    esac
    done;
fi</code></pre>
",2
10620975,05/16/2012 14:43:07,835806,07/08/2011 17:29:53,561,52,Is there a site or community serving up to date links for Unix script writers?,"Trying to keep scripts up-to-date is impossible at times and for those of us running blogs with scripts for Linux developers you can never be sure that a link will be up when your audience uses a script. Perhaps your intention is to write a script that always seves latest stable release of item a, b or c.

Is there some type of proxy service out there that guarantees updated links?

Of course this isn't relevant if you don't mind outdated links. ",bash,script,proxy,,,05/27/2012 15:45:44,too localized,1,81,15,"Is there a site or community serving up to date links for Unix script writers? Trying to keep scripts up-to-date is impossible at times and for those of us running blogs with scripts for Linux developers you can never be sure that a link will be up when your audience uses a script. Perhaps your intention is to write a script that always seves latest stable release of item a, b or c.

Is there some type of proxy service out there that guarantees updated links?

Of course this isn't relevant if you don't mind outdated links. ",3
4727036,01/18/2011 17:24:35,1394168,11/24/2010 16:39:50,23,0,bash: append newline when redirecting file,"Here is how I read a file row by row:

    while read ROW
    do
    ...
    done < file

I don't use the other syntax

    cat file | while read ROW
    do
    ...
    done

because the pipe creates a subshell and makes me lose the environment variables.
The problem arises if the file doesn't end with a newline: last line is not read. It is easy to solve this in the latter syntax, by echoing just a newline:

    (cat file; echo) | while read ROW
    do
    ...
    done

How do I do the same in the former syntax, without opening a subshell nor creating a temporary file (the list is quite big)?",bash,file,newline,append,,,open,0,143,6,"bash: append newline when redirecting file Here is how I read a file row by row:

    while read ROW
    do
    ...
    done < file

I don't use the other syntax

    cat file | while read ROW
    do
    ...
    done

because the pipe creates a subshell and makes me lose the environment variables.
The problem arises if the file doesn't end with a newline: last line is not read. It is easy to solve this in the latter syntax, by echoing just a newline:

    (cat file; echo) | while read ROW
    do
    ...
    done

How do I do the same in the former syntax, without opening a subshell nor creating a temporary file (the list is quite big)?",4
10891220,06/05/2012 03:33:09,1436450,06/05/2012 03:29:28,1,0,how to use jobs -x command [args ] in bash,"the `help jobs` command show me following help message,

**If -x is given, COMMAND is run after all job specifications
    that appear in ARGS have been replaced with the process ID of that job's
    process group leader.**

can anyone give me some example ? very thanks!",bash,jobs,,,,06/05/2012 03:35:17,off topic,1,50,10,"how to use jobs -x command [args ] in bash the `help jobs` command show me following help message,

**If -x is given, COMMAND is run after all job specifications
    that appear in ARGS have been replaced with the process ID of that job's
    process group leader.**

can anyone give me some example ? very thanks!",2
7859051,10/22/2011 11:06:59,348785,05/24/2010 09:03:30,682,19,why linux commands call the same thing different names?,"    column
           -s
                  Specify a set of characters to be used to delimit columns for the -t option.
    
    sort
           -t, --field-separator=SEP
                  use SEP instead of non-blank to blank transition
    
    cut
           -d, --delimiter=DELIM
                  use DELIM instead of TAB for field delimiter

    awk
           -F fs
           --field-separator fs
                  Use fs for the input field separator (the value of the FS predefined variable).

It's really difficult to remember all of them.<br>",bash,,,,,10/22/2011 13:06:59,not a real question,1,204,9,"why linux commands call the same thing different names?     column
           -s
                  Specify a set of characters to be used to delimit columns for the -t option.
    
    sort
           -t, --field-separator=SEP
                  use SEP instead of non-blank to blank transition
    
    cut
           -d, --delimiter=DELIM
                  use DELIM instead of TAB for field delimiter

    awk
           -F fs
           --field-separator fs
                  Use fs for the input field separator (the value of the FS predefined variable).

It's really difficult to remember all of them.<br>",1
8666118,12/29/2011 09:39:27,1116360,12/26/2011 13:14:28,15,0,Gnuplot + bash script,"I have some problems with the following:

I would like to plot many data files, and I found a more or less good script for that

    #! /bin/bash
    ls *.data | sed ""s/.data//"" > list
    for i in `cat list` ; do
       sed -e ""s/INPUTFILE/$i/"" -e ""s/OUTPUTFILE/$i/"" \
        plot.gnu | gnuplot
    done
    rm list

plot.gnu

    set term postscript enhanced color
    set output 'OUTPUTFILE.eps'
    set title 'OUTPUTFILE'
    p 'INPUTFILE.data' u 1:2 w l


But I have problem with this part

    for i in `cat list` ; do
           sed -e ""s/INPUTFILE/$i/"" -e ""s/OUTPUTFILE/$i/"" \
            plot.gnu | gnuplot
        done

somehow it cannot update the plot.gnu file as it should be... This sed command does not work properly...

Can anyone help me to solve this issue? Thanks in advance!",bash,sed,gnuplot,,,,open,0,191,4,"Gnuplot + bash script I have some problems with the following:

I would like to plot many data files, and I found a more or less good script for that

    #! /bin/bash
    ls *.data | sed ""s/.data//"" > list
    for i in `cat list` ; do
       sed -e ""s/INPUTFILE/$i/"" -e ""s/OUTPUTFILE/$i/"" \
        plot.gnu | gnuplot
    done
    rm list

plot.gnu

    set term postscript enhanced color
    set output 'OUTPUTFILE.eps'
    set title 'OUTPUTFILE'
    p 'INPUTFILE.data' u 1:2 w l


But I have problem with this part

    for i in `cat list` ; do
           sed -e ""s/INPUTFILE/$i/"" -e ""s/OUTPUTFILE/$i/"" \
            plot.gnu | gnuplot
        done

somehow it cannot update the plot.gnu file as it should be... This sed command does not work properly...

Can anyone help me to solve this issue? Thanks in advance!",3
7155827,08/23/2011 02:54:11,494074,10/23/2010 21:32:53,776,13,How to know how long a process has been running?,I am interested in doing this purely using bash.,bash,,,,,08/23/2011 02:57:46,off topic,1,9,10,How to know how long a process has been running? I am interested in doing this purely using bash.,1
10512777,05/09/2012 08:53:14,1384093,05/09/2012 08:43:38,1,0,Can not pipe the output of echo command to ls,"everyone, i found this strange problem ( maybe it is a feature ) this afternoon.
In my current working directory, there are 5 files, namely a,b,c,d,e

If i issue the following command 

echo ""a""| ls -l


What I expect is only the detailed information of file a is listed.
But from the output, the detailed information of file a,b,c,d,e are listed.
It seems as if the command before the pipe is not working, eg, the following command will output exactly as if only ""ls -l "" is executed.

echo ""whatever_you_type""| ls -l


I am confused, can anybody help to explain this issue ?
I know i can workaround this problem by using xargs, something like echo ""a"" |xargs ls -l
But I want to know why.

",bash,,,,,,open,0,117,10,"Can not pipe the output of echo command to ls everyone, i found this strange problem ( maybe it is a feature ) this afternoon.
In my current working directory, there are 5 files, namely a,b,c,d,e

If i issue the following command 

echo ""a""| ls -l


What I expect is only the detailed information of file a is listed.
But from the output, the detailed information of file a,b,c,d,e are listed.
It seems as if the command before the pipe is not working, eg, the following command will output exactly as if only ""ls -l "" is executed.

echo ""whatever_you_type""| ls -l


I am confused, can anybody help to explain this issue ?
I know i can workaround this problem by using xargs, something like echo ""a"" |xargs ls -l
But I want to know why.

",1
2514512,03/25/2010 10:01:04,296316,03/18/2010 08:16:10,119,0,What's the equivalent of the bash in windows batch?,"    while [1 = 1]
    do
    eject
    sleep 1
    
    eject -t
    sleep 1
    done


And this is said to be the same:

    watch -n 1 eject -T

What does it do?What's the equivalent in batch?",bash,batch,syntax,,,,open,0,61,9,"What's the equivalent of the bash in windows batch?     while [1 = 1]
    do
    eject
    sleep 1
    
    eject -t
    sleep 1
    done


And this is said to be the same:

    watch -n 1 eject -T

What does it do?What's the equivalent in batch?",3
8827097,01/11/2012 21:43:29,287592,03/06/2010 04:41:11,639,5,Sed inside bash script not working: But it works on command line,"I have tried the following on the command line and they work, but when I place them in a bash script I get an error (see below):

    sed -e ""s/INSERT_ME_HERE/""${ROOT_BUILD_HOME}""/g"" ./Doxyfile > ./tmp && mv ./tmp ./Doxyfile
    sed -e ""s/INSERT_ME_HERE/'${ROOT_BUILD_HOME}'/g"" ./Doxyfile > ./tmp && mv ./tmp ./Doxyfile
    sed -e ""s/INSERT_ME_HERE/`echo ${ROOT_BUILD_HOME}`/g"" ./Doxyfile > ./tmp && mv ./tmp ./Doxyfile


The error I am getting is:

    sed: -e expression #1, char 19: unknown option to `s'

However like I said I am using it from the command line and it works:

    [mehoggan@hogganz400 Doxygen]$ ROOT_BUILD_HOME=MONKEY; sed -e ""s/INSERT_ME_HERE/`echo ${ROOT_BUILD_HOME}`/g"" ./Doxyfile | grep MONKEY
    INPUT                  = MONKEY

Why does it work under one case and not the other?

Also `ROOT_BUILD_HOME` is set, I echo it right before the sed expression within the shell script.

    echo `date`: ""Going to run doxygen on source and move to ${ROOT_BUILD_HOME}"";

",bash,scripting,sed,,,,open,0,176,12,"Sed inside bash script not working: But it works on command line I have tried the following on the command line and they work, but when I place them in a bash script I get an error (see below):

    sed -e ""s/INSERT_ME_HERE/""${ROOT_BUILD_HOME}""/g"" ./Doxyfile > ./tmp && mv ./tmp ./Doxyfile
    sed -e ""s/INSERT_ME_HERE/'${ROOT_BUILD_HOME}'/g"" ./Doxyfile > ./tmp && mv ./tmp ./Doxyfile
    sed -e ""s/INSERT_ME_HERE/`echo ${ROOT_BUILD_HOME}`/g"" ./Doxyfile > ./tmp && mv ./tmp ./Doxyfile


The error I am getting is:

    sed: -e expression #1, char 19: unknown option to `s'

However like I said I am using it from the command line and it works:

    [mehoggan@hogganz400 Doxygen]$ ROOT_BUILD_HOME=MONKEY; sed -e ""s/INSERT_ME_HERE/`echo ${ROOT_BUILD_HOME}`/g"" ./Doxyfile | grep MONKEY
    INPUT                  = MONKEY

Why does it work under one case and not the other?

Also `ROOT_BUILD_HOME` is set, I echo it right before the sed expression within the shell script.

    echo `date`: ""Going to run doxygen on source and move to ${ROOT_BUILD_HOME}"";

",3
4753993,01/20/2011 23:48:02,98050,04/29/2009 22:27:21,1642,31,Passing arguments to a command in Bash script with spaces,"I'm trying to pass 2 arguments to a command and each argument contains spaces, I've tried escaping the spaces in the args, I've tried wrapping in single quotes, I've tried escaping \"" but nothing will work.

Here's a simple example.

    #!/bin/bash -xv
    
    ARG=""/tmp/a b/1.txt""
    ARG2=""/tmp/a b/2.txt""
    
    ARG_BOTH=""\""$ARG\"" \""$ARG2\""""
    cat $ARG_BOTH

I'm getting the following when it runs:

    ARG_BOTH=""$ARG $ARG2""
    + ARG_BOTH='/tmp/a\ b/1.txt /tmp/a\ b/2.txt'
    cat $ARG_BOTH
    + cat '/tmp/a\' b/1.txt '/tmp/a\' b/2.txt
    cat: /tmp/a\: No such file or directory
    cat: b/1.txt: No such file or directory
    cat: /tmp/a\: No such file or directory
    cat: b/2.txt: No such file or directory

",bash,shell,unix,scripting,escaping,,open,0,145,10,"Passing arguments to a command in Bash script with spaces I'm trying to pass 2 arguments to a command and each argument contains spaces, I've tried escaping the spaces in the args, I've tried wrapping in single quotes, I've tried escaping \"" but nothing will work.

Here's a simple example.

    #!/bin/bash -xv
    
    ARG=""/tmp/a b/1.txt""
    ARG2=""/tmp/a b/2.txt""
    
    ARG_BOTH=""\""$ARG\"" \""$ARG2\""""
    cat $ARG_BOTH

I'm getting the following when it runs:

    ARG_BOTH=""$ARG $ARG2""
    + ARG_BOTH='/tmp/a\ b/1.txt /tmp/a\ b/2.txt'
    cat $ARG_BOTH
    + cat '/tmp/a\' b/1.txt '/tmp/a\' b/2.txt
    cat: /tmp/a\: No such file or directory
    cat: b/1.txt: No such file or directory
    cat: /tmp/a\: No such file or directory
    cat: b/2.txt: No such file or directory

",5
9872663,03/26/2012 13:04:43,387640,07/09/2010 10:47:19,181,6,Information needed with Bash/Unix fundamentals,"I'm struggling to understand how `Bash` works (I'm using Mac OS X Lion).

I use the terminal for things like Git Version Control and SSH'ing onto our servers and doing basic interactions like that. But I don't really understand Bash scripts and the whole unix set-up past that.

So when I need to install software and it asks me to set environment variables (and PATH variables like $PATH e.g. `export PATH=/usr/local/bin`) or add paths to a file like `/usr/local/bin/:usr/bin/:$PATH` - I just have no idea of what I'm doing or more importantly ""why"" - it is just really confusing to me. 

For example, why is there a `/usr/local/bin/` and a `/usr/bin/` (one local and one not?) and why does some software get installed in one and not the other?

And what about files like `.bashrc`, `.profile` and `.bash_profile` - I understand that `.bashrc` is executed when a shell starts up and it checks the paths inside that file for application settings and stuff like that, but why do I not have either `.profile` and `.bash_profile` on my work computer, but on my home laptop I have `.bash_profile` and in some places I've seen articles where people ask the user to set-up a `.profile` if it doesn't exist? Why not just one file for the shell to go to to look for stuff.

I've got NodeJs installed on my laptop at home and that has a path set-up under `.bash_profile`. I've recently tried installing `rvm` so I can try out some Ruby programming (I needed rvm so I could upgrade to the latest version of Ruby) but that has settings inside `.bashrc` such as `PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting`.

Sorry if I'm just repeating myself, but it seems like there just aren't any good articles about this sort of stuff. Articles are either non-existent OR they are over-kill so you never really understand the bits you're interested in (i.e. I don't want to know everything about UNIX just enough to understand these common items that seem to crop up a lot).

Again, this is a bit of a strange question because there isn't a specific *thing* I want to know, just the common stuff that crops us when you need to install software via the Terminal and you're asked to do things like setting paths and variables and choosing locations of where to install stuff (which bin folder to use) and stuff like that, so a general overview of all this would be amazing!

Any help I can get understanding how the above items work and why would be great!

Thanks.",bash,terminal,osx-lion,,,03/27/2012 16:12:53,off topic,1,425,5,"Information needed with Bash/Unix fundamentals I'm struggling to understand how `Bash` works (I'm using Mac OS X Lion).

I use the terminal for things like Git Version Control and SSH'ing onto our servers and doing basic interactions like that. But I don't really understand Bash scripts and the whole unix set-up past that.

So when I need to install software and it asks me to set environment variables (and PATH variables like $PATH e.g. `export PATH=/usr/local/bin`) or add paths to a file like `/usr/local/bin/:usr/bin/:$PATH` - I just have no idea of what I'm doing or more importantly ""why"" - it is just really confusing to me. 

For example, why is there a `/usr/local/bin/` and a `/usr/bin/` (one local and one not?) and why does some software get installed in one and not the other?

And what about files like `.bashrc`, `.profile` and `.bash_profile` - I understand that `.bashrc` is executed when a shell starts up and it checks the paths inside that file for application settings and stuff like that, but why do I not have either `.profile` and `.bash_profile` on my work computer, but on my home laptop I have `.bash_profile` and in some places I've seen articles where people ask the user to set-up a `.profile` if it doesn't exist? Why not just one file for the shell to go to to look for stuff.

I've got NodeJs installed on my laptop at home and that has a path set-up under `.bash_profile`. I've recently tried installing `rvm` so I can try out some Ruby programming (I needed rvm so I could upgrade to the latest version of Ruby) but that has settings inside `.bashrc` such as `PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting`.

Sorry if I'm just repeating myself, but it seems like there just aren't any good articles about this sort of stuff. Articles are either non-existent OR they are over-kill so you never really understand the bits you're interested in (i.e. I don't want to know everything about UNIX just enough to understand these common items that seem to crop up a lot).

Again, this is a bit of a strange question because there isn't a specific *thing* I want to know, just the common stuff that crops us when you need to install software via the Terminal and you're asked to do things like setting paths and variables and choosing locations of where to install stuff (which bin folder to use) and stuff like that, so a general overview of all this would be amazing!

Any help I can get understanding how the above items work and why would be great!

Thanks.",3
3182871,07/06/2010 00:39:30,311509,04/08/2010 01:12:42,60,0,How Can i Rename All Files in a Directory using For Loop?,"Here is my snippet:

    #!/bin/sh
    
    for fname in *
    do
          if [! -d ""$fname""]
          then
              WHAT CAN I DO
          fi
    done

All new named files has to have this format O.fname - as you see preceeded by O.
Can you please help? I know i have to use mv somewhere.",bash,shell,,,,,open,0,104,12,"How Can i Rename All Files in a Directory using For Loop? Here is my snippet:

    #!/bin/sh
    
    for fname in *
    do
          if [! -d ""$fname""]
          then
              WHAT CAN I DO
          fi
    done

All new named files has to have this format O.fname - as you see preceeded by O.
Can you please help? I know i have to use mv somewhere.",2
43321,09/04/2008 08:04:37,4161,09/02/2008 07:55:46,226,9,Worth switching to zsh for casual use?,"The default shell in Mac OS X is `bash`, which I'm generally happy to be using. I just take it for granted. It would be really nice if it auto-completed *more stuff*, though, and I've heard good things about `zsh` in this regard. But I don't really have the inclination to spend hours fiddling with settings to improve my command line usage by a tiny amount, since my life on the command line isn't that bad. 

(As I understand it, `bash` can also be configured to auto-complete more cleverly. It's the configuring I'm not all that keen on.)

Will switching to `zsh`, even in a small number cases, make my life easier? Or is it only a better shell if you put in the time to learn *why* it's better? (Examples would be nice, too `:)` )

",bash,shell,zsh,,,11/18/2011 18:35:15,off topic,1,136,7,"Worth switching to zsh for casual use? The default shell in Mac OS X is `bash`, which I'm generally happy to be using. I just take it for granted. It would be really nice if it auto-completed *more stuff*, though, and I've heard good things about `zsh` in this regard. But I don't really have the inclination to spend hours fiddling with settings to improve my command line usage by a tiny amount, since my life on the command line isn't that bad. 

(As I understand it, `bash` can also be configured to auto-complete more cleverly. It's the configuring I'm not all that keen on.)

Will switching to `zsh`, even in a small number cases, make my life easier? Or is it only a better shell if you put in the time to learn *why* it's better? (Examples would be nice, too `:)` )

",3
11286480,07/01/2012 23:45:24,1380918,05/08/2012 00:33:23,42,0,Linux: Terminate screen once the process within ends,"Right now I'm running a process within GNU screen. Screen is started with the command `screen -dmS screenname` and the attached with `screen -r screenname`. A process is started in the screen session, and is killed after some time.

How would I have the screen terminate when the process inside has ended?

Note: I wouldn't prefer a loop, so I'm looking for an alternative. Sometimes I start the process with an `& exit` following it, but that never executes if I use `kill -9 pid` on the process.",bash,gnu-screen,,,,07/02/2012 09:22:58,off topic,1,86,8,"Linux: Terminate screen once the process within ends Right now I'm running a process within GNU screen. Screen is started with the command `screen -dmS screenname` and the attached with `screen -r screenname`. A process is started in the screen session, and is killed after some time.

How would I have the screen terminate when the process inside has ended?

Note: I wouldn't prefer a loop, so I'm looking for an alternative. Sometimes I start the process with an `& exit` following it, but that never executes if I use `kill -9 pid` on the process.",2
9955843,03/31/2012 12:26:30,1020706,10/30/2011 13:27:42,14,0,Bash - numerical sort sorts 10s before 1s,"I'm in a directory.  There are two subdirectories and I want to list the files in them, in numerical order.  In the first directory, the files are named 01, 02, 03... and they sort fine.  But in the second directory, the files are named 1, 2, 3 and thus the 10 sorts before the 1.  Keying does not seem to work as I'm a directory back from the files, so a script such as this:

    find ""$PWD"" -type f|sort -n -t _ -k 1

Does not work.  How do I list in true numerical order?",bash,sorting,numerical,,,,open,0,102,8,"Bash - numerical sort sorts 10s before 1s I'm in a directory.  There are two subdirectories and I want to list the files in them, in numerical order.  In the first directory, the files are named 01, 02, 03... and they sort fine.  But in the second directory, the files are named 1, 2, 3 and thus the 10 sorts before the 1.  Keying does not seem to work as I'm a directory back from the files, so a script such as this:

    find ""$PWD"" -type f|sort -n -t _ -k 1

Does not work.  How do I list in true numerical order?",3
1229537,08/04/2009 19:45:12,97113,04/28/2009 13:41:23,85,0,Error in bash script while reading a file.,"The following is a script I wrote to run an  executable ./runnable on arguement/input file  *input*. It takes standard from another file called *finalfile* and outputs it to a file called *outfile*. There are 91 lines in *finalfile* (i.e 91 different standard space delimited inputs) and therefore the bash script should call the ./runnable input 91 times. But, I am not sure why is it calling it only one time. Any suggestions on whats going on wrong? I am new to bash scripting and ergo not very good. Kindly be explanatory. Thanks!

    #!/bin/bash
    
    OUTFILE=outfile
    (
    
    a=0
    
    while read line
    do 
    
    ./runnable input
    echo ""This is line number: $a""
    a='expr $a+ 1'
    
    done<final_file

    ) >$OUTFILE

",bash,,,,,,open,0,170,8,"Error in bash script while reading a file. The following is a script I wrote to run an  executable ./runnable on arguement/input file  *input*. It takes standard from another file called *finalfile* and outputs it to a file called *outfile*. There are 91 lines in *finalfile* (i.e 91 different standard space delimited inputs) and therefore the bash script should call the ./runnable input 91 times. But, I am not sure why is it calling it only one time. Any suggestions on whats going on wrong? I am new to bash scripting and ergo not very good. Kindly be explanatory. Thanks!

    #!/bin/bash
    
    OUTFILE=outfile
    (
    
    a=0
    
    while read line
    do 
    
    ./runnable input
    echo ""This is line number: $a""
    a='expr $a+ 1'
    
    done<final_file

    ) >$OUTFILE

",1
11080473,06/18/2012 09:52:42,418507,08/12/2010 14:15:38,799,0,How to safety download file?,"How to safety download file ?

For example download file, check result of download, and move file ( is it atomic operation  ? )",bash,,,,,06/18/2012 09:56:44,not a real question,1,24,5,"How to safety download file? How to safety download file ?

For example download file, check result of download, and move file ( is it atomic operation  ? )",1
3481564,08/14/2010 01:05:20,420118,08/14/2010 01:05:20,1,0,symlink delete ????,"I want to help
I have some compressed files on the system
When you want to unzip these files
Delete any file which symlink
""ln -s""
{{
I need script is necessary
Script contain:
Any operation to decompress the system is doing to delete any symlink
After decompress files
}}
Thanks
",bash,,,,,08/14/2010 01:31:48,not a real question,1,40,3,"symlink delete ???? I want to help
I have some compressed files on the system
When you want to unzip these files
Delete any file which symlink
""ln -s""
{{
I need script is necessary
Script contain:
Any operation to decompress the system is doing to delete any symlink
After decompress files
}}
Thanks
",1
10322027,04/25/2012 18:55:27,657514,03/13/2011 13:26:09,506,1,how do I add a path to a file in this .bashrc file,"I have this .bashrc file

    
    #PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting

    [[ -s ""$HOME/.rvm/scripts/rvm"" ]] && \. ""$HOME/.rvm/scripts/rvm"" 
    export PS1=""\u @\w >""
    
    #redefine a command to add options
    alias mv='mv -i'
    alias cp='cp -i'
    alias rm='rm -i'
    alias df='df -h'
    alias du='du -h'
    alias mkdir='mkdir -p'
    alias ls='ls -lahG'
    export LESS='-N'

 I have this .bash_login file 

    
    [[ -s ""$HOME/.rvm/scripts/rvm"" ]] && source ""$HOME/.rvm/scripts/rvm"" # Load RVM into a     shell session *as a function*


I have this .bash_profile file 

    #This file only runs when user first logs in

    #[[ -s ""$HOME/.rvm/scripts/rvm"" ]] && \. ""$HOME/.rvm/scripts/rvm"" 
    #export PS1=""\u @\w >""
    
    if [ -f ~/.bashrc ]; then
    	source ~/.bashrc
    fi

I want to add this path to my $PATH variable so that the system can locate the program.

    /Library/PostgreSQL/9.1/bin/

Which file should I add this to?

Thanks",bash,.bash-profile,,,,,open,0,216,13,"how do I add a path to a file in this .bashrc file I have this .bashrc file

    
    #PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting

    [[ -s ""$HOME/.rvm/scripts/rvm"" ]] && \. ""$HOME/.rvm/scripts/rvm"" 
    export PS1=""\u @\w >""
    
    #redefine a command to add options
    alias mv='mv -i'
    alias cp='cp -i'
    alias rm='rm -i'
    alias df='df -h'
    alias du='du -h'
    alias mkdir='mkdir -p'
    alias ls='ls -lahG'
    export LESS='-N'

 I have this .bash_login file 

    
    [[ -s ""$HOME/.rvm/scripts/rvm"" ]] && source ""$HOME/.rvm/scripts/rvm"" # Load RVM into a     shell session *as a function*


I have this .bash_profile file 

    #This file only runs when user first logs in

    #[[ -s ""$HOME/.rvm/scripts/rvm"" ]] && \. ""$HOME/.rvm/scripts/rvm"" 
    #export PS1=""\u @\w >""
    
    if [ -f ~/.bashrc ]; then
    	source ~/.bashrc
    fi

I want to add this path to my $PATH variable so that the system can locate the program.

    /Library/PostgreSQL/9.1/bin/

Which file should I add this to?

Thanks",2
2578311,04/05/2010 12:23:06,295183,03/16/2010 21:37:54,15,0,Circular Shifts on Strings in Bash,"I have a homework assignment where I need to take input from a file and continuously remove the first word in a line and append it to the end of the line until all combinations have been done. I really don't know where to begin and would be thankful for any sort of direction. The part that has me confused is that this is suppose to be performed without the use of arrays. I'm not just fishing for someone to solve the problem for me, I'm just looking for some direction. Thank you very much for your time and help.

***SAMPlE INPUT:***

Pipes and Filters

Java Swing

Software Requirements Analysis


***SAMPLE OUTPUT:***

Analysis Software Requirements

Filters Pipes and

Java Swing

Pipes and Filters

Requirements Analysis Software

Software Requirements Analysis

Swing Java",bash,circular,shift,,,,open,0,119,6,"Circular Shifts on Strings in Bash I have a homework assignment where I need to take input from a file and continuously remove the first word in a line and append it to the end of the line until all combinations have been done. I really don't know where to begin and would be thankful for any sort of direction. The part that has me confused is that this is suppose to be performed without the use of arrays. I'm not just fishing for someone to solve the problem for me, I'm just looking for some direction. Thank you very much for your time and help.

***SAMPlE INPUT:***

Pipes and Filters

Java Swing

Software Requirements Analysis


***SAMPLE OUTPUT:***

Analysis Software Requirements

Filters Pipes and

Java Swing

Pipes and Filters

Requirements Analysis Software

Software Requirements Analysis

Swing Java",3
7992174,11/03/2011 08:50:40,1027244,11/03/2011 08:38:19,1,0,bash ls command,"I need to know how what command or commands in the linux bash shell would give me a directory listing like this.

total 24
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	backups
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	bin
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	c_source
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	cgi_files
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	cgi_scripts
drwxr-xr-x	4 dshoe	users	4096 2010-10-28 18:41	ny
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	perl
-rw-r--r--	1 dshoe	users	1954 2010-10-28 18:41	pers
drwxrwxrwx	2 dshoe	users	4096 2010-10-28 18:41	public_html
-rw-r--r--	1 dshoe	users	3392 2010-10-28 18:41	sales
-rwxr--r--	1 dshoe users	228  2010-10-28 18:41	sargs
drwx------	2 dshoe	users	4096 2010-10-28 18:41	scripts
-rw-r--r--	1 dshoe	users	131  2010-10-28 18:41	setup
Total bytes:	17899
Total files:	4
Directories:	9
And scripts:	1
",bash,,,,,,open,0,68,3,"bash ls command I need to know how what command or commands in the linux bash shell would give me a directory listing like this.

total 24
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	backups
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	bin
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	c_source
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	cgi_files
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	cgi_scripts
drwxr-xr-x	4 dshoe	users	4096 2010-10-28 18:41	ny
drwxr-xr-x	2 dshoe	users	4096 2010-10-28 18:41	perl
-rw-r--r--	1 dshoe	users	1954 2010-10-28 18:41	pers
drwxrwxrwx	2 dshoe	users	4096 2010-10-28 18:41	public_html
-rw-r--r--	1 dshoe	users	3392 2010-10-28 18:41	sales
-rwxr--r--	1 dshoe users	228  2010-10-28 18:41	sargs
drwx------	2 dshoe	users	4096 2010-10-28 18:41	scripts
-rw-r--r--	1 dshoe	users	131  2010-10-28 18:41	setup
Total bytes:	17899
Total files:	4
Directories:	9
And scripts:	1
",1
7135768,08/21/2011 01:22:26,559742,01/01/2011 11:13:47,521,30,Bash - How to know my Linux server IP adress?,"Is there a way to echo **only** the server ip adress from Bash? I am on a Linux/Debian6.
Thanks.",bash,ip,cli,,,09/05/2011 15:11:11,off topic,1,18,10,"Bash - How to know my Linux server IP adress? Is there a way to echo **only** the server ip adress from Bash? I am on a Linux/Debian6.
Thanks.",3
556820,02/17/2009 13:39:52,51649,01/05/2009 13:47:38,34,3,Bash script does not continue to read the next line of file,"I have a shell script that saves the output of a command that is executed to a CSV file. It reads the command it has to execute from a shell script which is in this format:

    ffmpeg -i /home/test/videos/avi/418kb.avi /home/test/videos/done/418kb.flv
    ffmpeg -i /home/test/videos/avi/1253kb.avi /home/test/videos/done/1253kb.flv
    ffmpeg -i /home/test/videos/avi/2093kb.avi /home/test/videos/done/2093kb.flv

You can see each line is an ffmpeg command. However, the script just executes the first line. Just a minute ago it was doing nearly all of the commands. It was missing half for some reason. I edited the text file that contained the commands and now it will only do the first line. Here is my bash script:

    #!/bin/bash
    # Shell script utility to read a file line line.
    # Once line is read it will run processLine() function
     
    #Function processLine
    processLine(){
    line=""$@""
    
    START=$(date +%s.%N)
    
    eval $line > /dev/null 2>&1 
    
    END=$(date +%s.%N)
    DIFF=$(echo ""$END - $START"" | bc)
    
    echo ""$line, $START, $END, $DIFF"" >> file.csv 2>&1
    echo ""It took $DIFF seconds""
    echo $line
    }
     
    # Store file name
    FILE=""""
     
    # get file name as command line argument
    # Else read it from standard input device
    if [ ""$1"" == """" ]; then
       FILE=""/dev/stdin""
    else
       FILE=""$1""
       # make sure file exist and readable
       if [ ! -f $FILE ]; then
      	echo ""$FILE : does not exists""
      	exit 1
       elif [ ! -r $FILE ]; then
      	echo ""$FILE: can not read""
      	exit 2
       fi
    fi
    # read $FILE using the file descriptors
     
    # Set loop separator to end of line
    BAKIFS=$IFS
    IFS=$(echo -en ""\n\b"")
    exec 3<&0
    exec 0<$FILE
    while read line
    do
    	# use $line variable to process line in processLine() function
    	processLine $line
    done
    exec 0<&3
     
    # restore $IFS which was used to determine what the field separators are
    BAKIFS=$ORIGIFS
    exit 0

Thank you for any help.
 ",bash,scripting,shell,command-line,linux,,open,0,509,12,"Bash script does not continue to read the next line of file I have a shell script that saves the output of a command that is executed to a CSV file. It reads the command it has to execute from a shell script which is in this format:

    ffmpeg -i /home/test/videos/avi/418kb.avi /home/test/videos/done/418kb.flv
    ffmpeg -i /home/test/videos/avi/1253kb.avi /home/test/videos/done/1253kb.flv
    ffmpeg -i /home/test/videos/avi/2093kb.avi /home/test/videos/done/2093kb.flv

You can see each line is an ffmpeg command. However, the script just executes the first line. Just a minute ago it was doing nearly all of the commands. It was missing half for some reason. I edited the text file that contained the commands and now it will only do the first line. Here is my bash script:

    #!/bin/bash
    # Shell script utility to read a file line line.
    # Once line is read it will run processLine() function
     
    #Function processLine
    processLine(){
    line=""$@""
    
    START=$(date +%s.%N)
    
    eval $line > /dev/null 2>&1 
    
    END=$(date +%s.%N)
    DIFF=$(echo ""$END - $START"" | bc)
    
    echo ""$line, $START, $END, $DIFF"" >> file.csv 2>&1
    echo ""It took $DIFF seconds""
    echo $line
    }
     
    # Store file name
    FILE=""""
     
    # get file name as command line argument
    # Else read it from standard input device
    if [ ""$1"" == """" ]; then
       FILE=""/dev/stdin""
    else
       FILE=""$1""
       # make sure file exist and readable
       if [ ! -f $FILE ]; then
      	echo ""$FILE : does not exists""
      	exit 1
       elif [ ! -r $FILE ]; then
      	echo ""$FILE: can not read""
      	exit 2
       fi
    fi
    # read $FILE using the file descriptors
     
    # Set loop separator to end of line
    BAKIFS=$IFS
    IFS=$(echo -en ""\n\b"")
    exec 3<&0
    exec 0<$FILE
    while read line
    do
    	# use $line variable to process line in processLine() function
    	processLine $line
    done
    exec 0<&3
     
    # restore $IFS which was used to determine what the field separators are
    BAKIFS=$ORIGIFS
    exit 0

Thank you for any help.
 ",5
6448632,06/23/2011 02:14:35,522065,11/27/2010 06:27:18,21,2,'read' not timing out when reading from pipe in bash,"I create a pipe using 

mkfifo /tmp/foo.pipe

Now, I want to try reading from the pipe for a maximum of 2 seconds, so I execute 

read -t 2 line < /tmp/foo.pipe

The timeout does not occur. Read just sits there waiting for input from the pipe. 

The manuals say that 'read' is supposed to work with named pipes. Does anyone have an idea why this is happening? 

ls -al /tmp/foo.pipe gives
prw-r----- 1 foo bar 0 Jun 22 19:06 /tmp/foo.pipe",bash,timeout,,,,,open,0,77,10,"'read' not timing out when reading from pipe in bash I create a pipe using 

mkfifo /tmp/foo.pipe

Now, I want to try reading from the pipe for a maximum of 2 seconds, so I execute 

read -t 2 line < /tmp/foo.pipe

The timeout does not occur. Read just sits there waiting for input from the pipe. 

The manuals say that 'read' is supposed to work with named pipes. Does anyone have an idea why this is happening? 

ls -al /tmp/foo.pipe gives
prw-r----- 1 foo bar 0 Jun 22 19:06 /tmp/foo.pipe",2
8038047,11/07/2011 14:46:07,1033929,11/07/2011 14:43:39,1,0,How do I play multiple files simultaneously with mplayer?,I have three .mp3 files that I want to play simultaneously using mplayer. Could you please show me how to do this with a script or with mplayer itself?,bash,mplayer,,,,11/07/2011 23:59:32,off topic,1,29,9,How do I play multiple files simultaneously with mplayer? I have three .mp3 files that I want to play simultaneously using mplayer. Could you please show me how to do this with a script or with mplayer itself?,2
3627317,09/02/2010 13:01:00,434533,08/30/2010 01:26:46,13,0,How to change output filename if it originally is something else.,"I have two files with different names. I have a for-loop to see if one file is there.. if it is then it will change a file.

My first tought where to make a list on all the files and what it's counterpart is. That would not look nice and i can't cover all possibilities in the script. If this is the only way.. how would i do it best?

The script will find if a program has an icon on the desktop. If it has then my script will change the size of that with imagemagick. My problem is that the name of the program not always is the same as the icon-file. So i am not sure what the best action would be...",bash,change,filenames,,,,open,0,123,11,"How to change output filename if it originally is something else. I have two files with different names. I have a for-loop to see if one file is there.. if it is then it will change a file.

My first tought where to make a list on all the files and what it's counterpart is. That would not look nice and i can't cover all possibilities in the script. If this is the only way.. how would i do it best?

The script will find if a program has an icon on the desktop. If it has then my script will change the size of that with imagemagick. My problem is that the name of the program not always is the same as the icon-file. So i am not sure what the best action would be...",3
10014083,04/04/2012 15:15:56,212211,11/16/2009 16:52:56,5171,327,Is there a way in a shell script to figure out where its output is redirected?,"We have scripts of following nature (in cron)

`someScript.sh > /tmp/cronlog/somescript.$(date +%Y%m%d).log 2>&1`

Now is there a way by which with in `someScript.sh` I can figure out what file the output has gone in to?

The script sends email with summary. At the same time I would like to mention that  details could be found in so and so output file - with in the email.


I am aware of the construct `if [ -t 1 ]` to detect stdout etc but how to get the output file name? 
Note that I want this to be generic so that some one can change the output file in cron and the script does not need to be modified.",bash,shell,script,output,,,open,0,114,16,"Is there a way in a shell script to figure out where its output is redirected? We have scripts of following nature (in cron)

`someScript.sh > /tmp/cronlog/somescript.$(date +%Y%m%d).log 2>&1`

Now is there a way by which with in `someScript.sh` I can figure out what file the output has gone in to?

The script sends email with summary. At the same time I would like to mention that  details could be found in so and so output file - with in the email.


I am aware of the construct `if [ -t 1 ]` to detect stdout etc but how to get the output file name? 
Note that I want this to be generic so that some one can change the output file in cron and the script does not need to be modified.",4
9964823,04/01/2012 13:41:05,1149061,01/14/2012 08:30:19,13,0,How to check if a file is empty in bash shell?,"I have one file, **diff.txt**

Wanted to write a simple if/else script in bash to check if diff.txt is empty. Did something like this but couldn't get it working.


    if [ -s diff.txt ]
    then
            touch empty.txt
            rm full.txt
    else
            touch full.txt
            rm emtpy.txt
    fi


Suspect it's the naming of the filename but googled and got nowhere.",bash,if-statement,,,,,open,0,111,11,"How to check if a file is empty in bash shell? I have one file, **diff.txt**

Wanted to write a simple if/else script in bash to check if diff.txt is empty. Did something like this but couldn't get it working.


    if [ -s diff.txt ]
    then
            touch empty.txt
            rm full.txt
    else
            touch full.txt
            rm emtpy.txt
    fi


Suspect it's the naming of the filename but googled and got nowhere.",2
1203290,07/29/2009 21:54:05,145905,07/27/2009 17:58:23,1,0,Check whether stderr is a pipe in bash,"I have a bash script that prompts the user for input with 'read'. If stdout or stderr is piped to something other than a terminal, I would like to suppress this step. Is that possible?",bash,stderr,pipe,,,,open,0,35,8,"Check whether stderr is a pipe in bash I have a bash script that prompts the user for input with 'read'. If stdout or stderr is piped to something other than a terminal, I would like to suppress this step. Is that possible?",3
4542132,12/27/2010 22:02:22,535591,12/08/2010 20:58:43,1,0,Bash echo and actions order,"I have created a bash script to find files matching a pattern, and copying them if found.
My idea is basically:

Echo ""starting""
listing files here
Echo ""found one""
copying it
on to the next to test it
Echo ""done""

But basically what I get is the script doing its job, and echoing one ""found one"" in the end for each relevant file, as if my script was processing all requests and then echoing, rather than following that order I tried to have. What am I doing wrong ? thanks !",bash,logic,echo,,,05/18/2012 13:10:03,not a real question,1,83,5,"Bash echo and actions order I have created a bash script to find files matching a pattern, and copying them if found.
My idea is basically:

Echo ""starting""
listing files here
Echo ""found one""
copying it
on to the next to test it
Echo ""done""

But basically what I get is the script doing its job, and echoing one ""found one"" in the end for each relevant file, as if my script was processing all requests and then echoing, rather than following that order I tried to have. What am I doing wrong ? thanks !",3
8201125,11/20/2011 11:13:14,76661,03/11/2009 13:48:12,1935,80,ls command and age of files,"I'm observing a directory with several log files. What I'm interested in, are files which have changed in say last 10 mins.

Is it possible to list all files in a directory older than n-minutes with a simple command? 


",bash,shell,ls,,,,open,0,39,6,"ls command and age of files I'm observing a directory with several log files. What I'm interested in, are files which have changed in say last 10 mins.

Is it possible to list all files in a directory older than n-minutes with a simple command? 


",3
5808362,04/27/2011 17:51:19,727810,04/27/2011 17:51:19,1,0,bash: how to redirect stdin/stderr then later revert fd's?,"I want a script to redirect stdin and stderr to a file, do a bunch of stuff, then undo those redirections and take action on the file contents.  I'm trying:

    function redirect(){
       exec 3>&1
       exec 4>&2
       exec 1>outfile 2>&1
    }
    function undirect(){
       exec 1>&3
       exec 2>&4
    }
    echo first
    redirect
    echo something
    cat kjkk
    undirect
    if some_predicate outfile; then echo ERROR; fi

Which seems to do what I want, but it seems rather complex.  Is there a cleaner/clearer way to do this?",bash,redirect,descriptor,,,,open,0,143,9,"bash: how to redirect stdin/stderr then later revert fd's? I want a script to redirect stdin and stderr to a file, do a bunch of stuff, then undo those redirections and take action on the file contents.  I'm trying:

    function redirect(){
       exec 3>&1
       exec 4>&2
       exec 1>outfile 2>&1
    }
    function undirect(){
       exec 1>&3
       exec 2>&4
    }
    echo first
    redirect
    echo something
    cat kjkk
    undirect
    if some_predicate outfile; then echo ERROR; fi

Which seems to do what I want, but it seems rather complex.  Is there a cleaner/clearer way to do this?",3
6565694,07/03/2011 21:33:12,205674,11/07/2009 17:04:59,388,28,left-side failure on pipe in bash?,"I've grown fond of using a generator-like pattern between functions in my shell scripts. Something like this:

    parse_commands /da/cmd/file | process_commands

However, the basic problem with this pattern is that if parse_command encounters an error, the only way I have found to notify process_command that it failed is by explicitly telling it (e.g. echo ""FILE_NOT_FOUND""). This means that every potentially faulting operation in parse_command would have to be fenced.

Is there no way process_command can detect that the left side exited with a non-zero exit code?",bash,pipeline,,,,,open,0,87,6,"left-side failure on pipe in bash? I've grown fond of using a generator-like pattern between functions in my shell scripts. Something like this:

    parse_commands /da/cmd/file | process_commands

However, the basic problem with this pattern is that if parse_command encounters an error, the only way I have found to notify process_command that it failed is by explicitly telling it (e.g. echo ""FILE_NOT_FOUND""). This means that every potentially faulting operation in parse_command would have to be fenced.

Is there no way process_command can detect that the left side exited with a non-zero exit code?",2
10155678,04/14/2012 17:22:13,947301,09/15/2011 16:50:42,369,0,create 10000 files with size 4k by using bash?,"I want to do this.
Create 10000 files, (filename can be just combination of time and random number).
File size should be 4k.
And I want to time this. say how many seconds it will take.

How can I do this on bash?

Thank you.
",bash,,,,,04/15/2012 00:26:33,not a real question,1,40,9,"create 10000 files with size 4k by using bash? I want to do this.
Create 10000 files, (filename can be just combination of time and random number).
File size should be 4k.
And I want to time this. say how many seconds it will take.

How can I do this on bash?

Thank you.
",1
11228295,06/27/2012 14:17:19,1291492,03/25/2012 16:18:52,4896,330,Trying to write a script to kill a program automatically (mac/unix - kill tomcat),"by hand, here is the process:

ps -ef | grep tomcat

The results of this look like:

   0 39107     1   0  5:40PM ttys004    5:22.34 /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK/Home/bin/java -Djava.util.logging.config.file=/opt/local/tomcat7/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -server -Xms384m -Xmx768m -XX:NewSize=256m -XX:NewRatio=2 -XX:PermSize=128m -XX:MaxPermSize=384m -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:+CMSIncrementalPacing -XX:+CMSClassUnloadingEnabled -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djava.endorsed.dirs=/opt/local/tomcat7/endorsed -classpath /opt/local/tomcat7/bin/bootstrap.jar:/opt/local/tomcat7/bin/tomcat-juli.jar -Dcatalina.base=/opt/local/tomcat7 -Dcatalina.home=/opt/local/tomcat7 -Djava.io.tmpdir=/opt/local/tomcat7/temp org.apache.catalina.startup.Bootstrap start

the second number is the pid.

Then I do

sudo kill tomcat_pid

How can I automate this?

ps. I know there is a shutdown.sh script. I've tried it but it never works.
",bash,shell,unix,,,,open,0,86,14,"Trying to write a script to kill a program automatically (mac/unix - kill tomcat) by hand, here is the process:

ps -ef | grep tomcat

The results of this look like:

   0 39107     1   0  5:40PM ttys004    5:22.34 /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK/Home/bin/java -Djava.util.logging.config.file=/opt/local/tomcat7/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -server -Xms384m -Xmx768m -XX:NewSize=256m -XX:NewRatio=2 -XX:PermSize=128m -XX:MaxPermSize=384m -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:+CMSIncrementalPacing -XX:+CMSClassUnloadingEnabled -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djava.endorsed.dirs=/opt/local/tomcat7/endorsed -classpath /opt/local/tomcat7/bin/bootstrap.jar:/opt/local/tomcat7/bin/tomcat-juli.jar -Dcatalina.base=/opt/local/tomcat7 -Dcatalina.home=/opt/local/tomcat7 -Djava.io.tmpdir=/opt/local/tomcat7/temp org.apache.catalina.startup.Bootstrap start

the second number is the pid.

Then I do

sudo kill tomcat_pid

How can I automate this?

ps. I know there is a shutdown.sh script. I've tried it but it never works.
",3
9437402,02/24/2012 20:15:46,1224398,02/21/2012 21:21:02,13,0,How to extract the substring for each column of a file in bash?,"Given a text file named file like this:
    
    AAA 3/4 2/2 3/5 
    BBB 3/4 2/3 3/3 6/7 
    CCC 4/4 7/9

What should I do to get just the numerator of each fraction? like following:

    AAA 3 2 2
    BBB 3 2 3 6
    CCC 4 7

Thank you.",bash,extract,,,,,open,0,70,13,"How to extract the substring for each column of a file in bash? Given a text file named file like this:
    
    AAA 3/4 2/2 3/5 
    BBB 3/4 2/3 3/3 6/7 
    CCC 4/4 7/9

What should I do to get just the numerator of each fraction? like following:

    AAA 3 2 2
    BBB 3 2 3 6
    CCC 4 7

Thank you.",2
6324404,06/12/2011 20:19:14,793760,06/11/2011 07:09:44,6,0,"In bash, how do I reestablish sftp conection and run it in a script that makes nautilus do it?","I have a bash script that tests whether the sftp connection exists, very simple one:

$ if [ -d ~/.gvfs/sftp for username on 192.168.1.101 ]; then echo ""sftp missing"" exit; fi

Now heres the question:
How do I make the script reestablish the previously connected sftp that still has a cached pass to reconnect without having it depend on if the bash script is on?

Since I have a bookmarked sftp thing in nautilus, i just point and click, presto its reconnected. I need the same for my script which will TERMINATE in a couple of lines; in other words the script only reconnects nautilus and dies, connection stays open...

I am still noobish at sftp, besides connecting...

Extra info: I use Ubuntu for both client and server, and i dont mind entering the ssh pass again if its new conection, any help is appreciated :D

Its critical that sftp wont d/c, or die, when i close script, or it ends, nohup cant be used for script since it will be run >10 times per day

Thanks!",bash,ubuntu,script,sftp,,,open,0,169,19,"In bash, how do I reestablish sftp conection and run it in a script that makes nautilus do it? I have a bash script that tests whether the sftp connection exists, very simple one:

$ if [ -d ~/.gvfs/sftp for username on 192.168.1.101 ]; then echo ""sftp missing"" exit; fi

Now heres the question:
How do I make the script reestablish the previously connected sftp that still has a cached pass to reconnect without having it depend on if the bash script is on?

Since I have a bookmarked sftp thing in nautilus, i just point and click, presto its reconnected. I need the same for my script which will TERMINATE in a couple of lines; in other words the script only reconnects nautilus and dies, connection stays open...

I am still noobish at sftp, besides connecting...

Extra info: I use Ubuntu for both client and server, and i dont mind entering the ssh pass again if its new conection, any help is appreciated :D

Its critical that sftp wont d/c, or die, when i close script, or it ends, nohup cant be used for script since it will be run >10 times per day

Thanks!",4
9918694,03/29/2012 03:28:44,1273158,03/16/2012 03:40:37,1,0,Write a shell script to print a diamond figure,"Write a shell script to print the following figure (Do not hardcode).

     *
    * *
   * * *
  * * * *
 * * * * *
* * * * * *
 * * * * *
  * * * *
   * * *
    * *
     *",bash,shell,script,,,03/29/2012 06:06:51,not a real question,1,67,9,"Write a shell script to print a diamond figure Write a shell script to print the following figure (Do not hardcode).

     *
    * *
   * * *
  * * * *
 * * * * *
* * * * * *
 * * * * *
  * * * *
   * * *
    * *
     *",3
1439588,09/17/2009 15:28:07,11895,09/16/2008 12:06:42,15,1,"""cp --parents"" in MS-DOS/VBScript","How would you write this having only MS-DOS and VBScript at your disposal in a Windows environment?

    find -name '*.ext' -exec cp --parents {} destination/ \;

Or put it this way:

 - Look recursively in the current folder for some filename pattern (ending with an extension called `ext` in the example above),
 - Copy each of these files to a destination folder (wherever that is) preserving directory tree structure (or creating any missing intermediate directories) as in current folder.",bash,ms-dos,vbscript,copy,parents,,open,0,81,4,"""cp --parents"" in MS-DOS/VBScript How would you write this having only MS-DOS and VBScript at your disposal in a Windows environment?

    find -name '*.ext' -exec cp --parents {} destination/ \;

Or put it this way:

 - Look recursively in the current folder for some filename pattern (ending with an extension called `ext` in the example above),
 - Copy each of these files to a destination folder (wherever that is) preserving directory tree structure (or creating any missing intermediate directories) as in current folder.",5
8279367,11/26/2011 15:14:29,1067017,11/26/2011 15:08:50,1,0,String search in shell,"I'm creating a shell script to a basic program.

One option is to delete a user, but the problem is that if I search for a string that belongs to the username in question, the program will assume it as a user aswell.

For example, if I have the user adminaaa if I search for admin the program will recognize it as a user, even if ""admin"" is not a user.

The piece of code that I'm using is the following: 

    existe=`cat meusutilizadores.txt|grep ""$user"" |wc -l`
			if [ $existe = 1 ]
			then
				fullUser=`grep $user meusutilizadores.txt`
				passUser=$(echo $fullUser|awk -F ':' '{ print $2 }')

What I need is to be able to program it to recognize the user for his entire string, not only a part of it.

I hope I was able to express myself well enough for you to understand.
Hope you can help me.

Best regards",bash,shell,script,,,,open,0,142,4,"String search in shell I'm creating a shell script to a basic program.

One option is to delete a user, but the problem is that if I search for a string that belongs to the username in question, the program will assume it as a user aswell.

For example, if I have the user adminaaa if I search for admin the program will recognize it as a user, even if ""admin"" is not a user.

The piece of code that I'm using is the following: 

    existe=`cat meusutilizadores.txt|grep ""$user"" |wc -l`
			if [ $existe = 1 ]
			then
				fullUser=`grep $user meusutilizadores.txt`
				passUser=$(echo $fullUser|awk -F ':' '{ print $2 }')

What I need is to be able to program it to recognize the user for his entire string, not only a part of it.

I hope I was able to express myself well enough for you to understand.
Hope you can help me.

Best regards",3
7124903,08/19/2011 16:57:03,90070,04/12/2009 22:26:47,123,0,Bash if statement syntax error,"I'm at a loss as to why this is giving a syntax error.  Any thoughts?


    #!/bin/bash
    
    if [ `date +%H` -lt 11 ] ; then exit 0;
    fi
   
    if [ `date +%H` -gt 14 ] ; then
      if[ `date +%H` -lt 20 ] ; then  # <--- this line is the culprit, it seems
        exit 0;
      fi
    fi


When run, I get:

    ./get.sh: line 7: syntax error near unexpected token `then'
    ./get.sh: line 7: `  if[ `date +%H` -lt 20 ] ; then '

",bash,,,,,,open,0,131,5,"Bash if statement syntax error I'm at a loss as to why this is giving a syntax error.  Any thoughts?


    #!/bin/bash
    
    if [ `date +%H` -lt 11 ] ; then exit 0;
    fi
   
    if [ `date +%H` -gt 14 ] ; then
      if[ `date +%H` -lt 20 ] ; then  # <--- this line is the culprit, it seems
        exit 0;
      fi
    fi


When run, I get:

    ./get.sh: line 7: syntax error near unexpected token `then'
    ./get.sh: line 7: `  if[ `date +%H` -lt 20 ] ; then '

",1
11592280,07/21/2012 12:41:51,1492449,06/30/2012 01:52:08,11,0,mpi resubmit script in bash shell error,"This is my job script i use for a resubmit mpi job. I have this script originally written for tcsh shell. I tried to rewrite it for bash shell, i get errors. Kindly help me with correcting the script. 


    ##============================================================================
    
    #!/bin/bash                                                                                                                                                                                            
    #PBS -l mem=10GB                                                                                                                                
    #PBS -l walltime=12:00:00                                                                                                                       
    #PBS -l nodes=2:ppn=6                                                                                                                                                                                                                                             
    #PBS -v NJOBS,NJOB
    
    if [ X$NJOBS == X ]; then
        $ECHO ""NJOBS (total number of jobs in sequence) is not set - defaulting to 1""
        export NJOBS=1
    fi
    
    if [ X$NJOB == X ]; then
        $ECHO ""NJOB (current job number in sequence) is not set - defaulting to 1""
        export NJOB=1
    fi
    
    #                                                                                                                                               
    # Quick termination of job sequence - look for a specific file                                                                                  
    #                                                                                                                                               
    if [ -f STOP_SEQUENCE ] ; then
        $ECHO  ""Terminating sequence at job number $NJOB""
        exit 0
    fi
    
    #                                                                                                                                               
    # Pre-job file manipulation goes here ...                                                                                                       
    # =============================================================================                                                                                                                                              
    # INSERT CODE             
    # =============================================================================
    
    module load openmpi/1.4.3
    
    startnum= 0
    x=1
    i= $(($NJOB + $startnum - $x))
    j= $(($i + $x))
    
    $ECHO ""This is job $i""
    #$ECHO floobuks.$i.blah                                                                                                                         
    #$ECHO flogwhilp.$j.txt                                                                                                                         
    
    
    #===========================================================================
    # actual execution code                                                                                                                    
    #===========================================================================                 
    
    # this is just a sample 
    echo ""job $i is followed by $j""
    
    #=========================================================================== 
    RUN COMPLETE
    #===========================================================================
    
    #
    # Check the exit status
    #
    errstat=$?
    if [ $errstat -ne 0 ]; then
        # A brief nap so PBS kills us in normal termination
        # If execution line above exceeded some limit we want PBS
        # to kill us hard
        sleep 5
        $ECHO ""Job number $NJOB returned an error status $errstat - stopping job sequence.""
        exit $errstat
    fi
    
    #
    # Are we in an incomplete job sequence - more jobs to run ?
    #
    if [ $NJOB -lt $NJOBS ]; then
    
    
    #
    # Now increment counter and submit the next job
    #
        NJOB=$(($NJOB+1))
        $ECHO ""Submitting job number $NJOB in sequence of $NJOBS jobs""
        qsub recur2.bash
    else
        $ECHO ""Finished last job in sequence of $NJOBS jobs""
    fi
    
    #==============================================================================

I get the following errors when i run 

    qsub -v NJOBS=4  recur2.bash
    
    
    
    ModuleCmd_Load.c(200):ERROR:105: Unable to locate a modulefile for 'openmpi/1.4.3'
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 115: 0: command not found
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 117: 0: command not found
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 118: 1: command not found
    /home/nsubramanian/bin/gromacs_3.3.3/bin/grompp_mpi: error while loading shared libraries: libmpi.so.0: cannot open shared object file: No such\
     file or directory
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 128: mpirun: command not found

i was able to figure out the error for the openmpi but rest i could not. i do not know how to make it working.

Note: pls ignore the line numbers, its different from the original files.



",bash,mpi,,,,07/23/2012 05:48:53,off topic,1,2609,7,"mpi resubmit script in bash shell error This is my job script i use for a resubmit mpi job. I have this script originally written for tcsh shell. I tried to rewrite it for bash shell, i get errors. Kindly help me with correcting the script. 


    ##============================================================================
    
    #!/bin/bash                                                                                                                                                                                            
    #PBS -l mem=10GB                                                                                                                                
    #PBS -l walltime=12:00:00                                                                                                                       
    #PBS -l nodes=2:ppn=6                                                                                                                                                                                                                                             
    #PBS -v NJOBS,NJOB
    
    if [ X$NJOBS == X ]; then
        $ECHO ""NJOBS (total number of jobs in sequence) is not set - defaulting to 1""
        export NJOBS=1
    fi
    
    if [ X$NJOB == X ]; then
        $ECHO ""NJOB (current job number in sequence) is not set - defaulting to 1""
        export NJOB=1
    fi
    
    #                                                                                                                                               
    # Quick termination of job sequence - look for a specific file                                                                                  
    #                                                                                                                                               
    if [ -f STOP_SEQUENCE ] ; then
        $ECHO  ""Terminating sequence at job number $NJOB""
        exit 0
    fi
    
    #                                                                                                                                               
    # Pre-job file manipulation goes here ...                                                                                                       
    # =============================================================================                                                                                                                                              
    # INSERT CODE             
    # =============================================================================
    
    module load openmpi/1.4.3
    
    startnum= 0
    x=1
    i= $(($NJOB + $startnum - $x))
    j= $(($i + $x))
    
    $ECHO ""This is job $i""
    #$ECHO floobuks.$i.blah                                                                                                                         
    #$ECHO flogwhilp.$j.txt                                                                                                                         
    
    
    #===========================================================================
    # actual execution code                                                                                                                    
    #===========================================================================                 
    
    # this is just a sample 
    echo ""job $i is followed by $j""
    
    #=========================================================================== 
    RUN COMPLETE
    #===========================================================================
    
    #
    # Check the exit status
    #
    errstat=$?
    if [ $errstat -ne 0 ]; then
        # A brief nap so PBS kills us in normal termination
        # If execution line above exceeded some limit we want PBS
        # to kill us hard
        sleep 5
        $ECHO ""Job number $NJOB returned an error status $errstat - stopping job sequence.""
        exit $errstat
    fi
    
    #
    # Are we in an incomplete job sequence - more jobs to run ?
    #
    if [ $NJOB -lt $NJOBS ]; then
    
    
    #
    # Now increment counter and submit the next job
    #
        NJOB=$(($NJOB+1))
        $ECHO ""Submitting job number $NJOB in sequence of $NJOBS jobs""
        qsub recur2.bash
    else
        $ECHO ""Finished last job in sequence of $NJOBS jobs""
    fi
    
    #==============================================================================

I get the following errors when i run 

    qsub -v NJOBS=4  recur2.bash
    
    
    
    ModuleCmd_Load.c(200):ERROR:105: Unable to locate a modulefile for 'openmpi/1.4.3'
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 115: 0: command not found
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 117: 0: command not found
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 118: 1: command not found
    /home/nsubramanian/bin/gromacs_3.3.3/bin/grompp_mpi: error while loading shared libraries: libmpi.so.0: cannot open shared object file: No such\
     file or directory
    /var/spool/PBS/mom_priv/jobs/1833549.epic.SC: line 128: mpirun: command not found

i was able to figure out the error for the openmpi but rest i could not. i do not know how to make it working.

Note: pls ignore the line numbers, its different from the original files.



",2
2736732,04/29/2010 11:03:31,296328,03/18/2010 08:45:25,125,29,bash completion for Subversion,"I've tried to load [bash_completion][1] in my bash (3.2.25), it does not work. No message etc. I've used the following in my .bashrc

    if [ -f ~/.bash_completion ]; then
      . ~/.bash_completion
    fi

I also tried to use .bash_profile instead, but with the same result.
So the problem is why does it not work? Any idea? Hints?


  [1]: http://svn.apache.org/repos/asf/subversion/trunk/tools/client-side/bash_completion",bash,subversion,tab-completion,,,,open,0,68,4,"bash completion for Subversion I've tried to load [bash_completion][1] in my bash (3.2.25), it does not work. No message etc. I've used the following in my .bashrc

    if [ -f ~/.bash_completion ]; then
      . ~/.bash_completion
    fi

I also tried to use .bash_profile instead, but with the same result.
So the problem is why does it not work? Any idea? Hints?


  [1]: http://svn.apache.org/repos/asf/subversion/trunk/tools/client-side/bash_completion",3
11060412,06/16/2012 02:55:53,1193746,02/07/2012 03:23:37,1,0,Taking A Certian Number Or String Into Another Command Or String?,"Iv Been Studying Python And Bash For A Couple Months So Forgive Me If I Make A Mistake On Anything.
The Question I Would Like To Ask Is This?

How Would You Take A Certian String Or Even Something From The Terminal Within Linux And Combine It With Another String Or Command.

So Lets Use Aircrack-ng For An Example:

Lets Say Somebody Wants The Bssid Of The Router.
Instead Of Copying And Pasting It You Wanna Create A GUI That Can Do This For You.

How Can You Grab The Bssid Then Add It Into Your Script Or GUI Without Copying Or Pasting Or Even Writing It?

Btw Im Learning This In Bash Shell Script?

Another Example To Make Things Clearer:

Bssid:00:11:22:33:44:55

And The Command 

aireplay-ng -b ""BSSID GOES HERE""

How Can I Put The Bssid Where -b Is Without Writing It Down Or Copying And Pasting It?

Any Help Would Be Most Apperciated?
Thank You Very Much:)",bash,,,,,06/16/2012 13:10:48,not a real question,1,145,11,"Taking A Certian Number Or String Into Another Command Or String? Iv Been Studying Python And Bash For A Couple Months So Forgive Me If I Make A Mistake On Anything.
The Question I Would Like To Ask Is This?

How Would You Take A Certian String Or Even Something From The Terminal Within Linux And Combine It With Another String Or Command.

So Lets Use Aircrack-ng For An Example:

Lets Say Somebody Wants The Bssid Of The Router.
Instead Of Copying And Pasting It You Wanna Create A GUI That Can Do This For You.

How Can You Grab The Bssid Then Add It Into Your Script Or GUI Without Copying Or Pasting Or Even Writing It?

Btw Im Learning This In Bash Shell Script?

Another Example To Make Things Clearer:

Bssid:00:11:22:33:44:55

And The Command 

aireplay-ng -b ""BSSID GOES HERE""

How Can I Put The Bssid Where -b Is Without Writing It Down Or Copying And Pasting It?

Any Help Would Be Most Apperciated?
Thank You Very Much:)",1
2283640,02/17/2010 19:12:46,18446,09/19/2008 01:49:34,1374,45,bash case statements evaluate to strings,"I've caught the functional programming bug, so naturally nothing is good enough for me anymore. ;)

So, in bash one could write:

    case $status in
      ""foo"") status=""bar"" ;;
      ""baz"") status=""buh"" ;;
       *) status=$status ;;
     esac

but I'm afraid of typos, so I'd __prefer__ to write:

    status=case $status in
      ""foo"") ""bar"" ;;
      ""baz"") ""buh"" ;;
      *) $status ;;
    esac

The second form is invalid since the case evaluates to the exit code of the last executed command, which is not at all what I'm looking for.

Are there easy hacks to achieving what I __am__ looking for?",bash,case,functional-programming,notation,,,open,0,136,6,"bash case statements evaluate to strings I've caught the functional programming bug, so naturally nothing is good enough for me anymore. ;)

So, in bash one could write:

    case $status in
      ""foo"") status=""bar"" ;;
      ""baz"") status=""buh"" ;;
       *) status=$status ;;
     esac

but I'm afraid of typos, so I'd __prefer__ to write:

    status=case $status in
      ""foo"") ""bar"" ;;
      ""baz"") ""buh"" ;;
      *) $status ;;
    esac

The second form is invalid since the case evaluates to the exit code of the last executed command, which is not at all what I'm looking for.

Are there easy hacks to achieving what I __am__ looking for?",4
11172221,06/23/2012 19:07:36,601095,02/03/2011 06:58:42,650,28,How do I include an environment variable inside an alias for bash?,"I am pretty new to bash, and I want to include an env for bash aliases.. I want to do something like the following

    alias foo=""bar $(baz)""

So that I could do something like the following

    > baz=40
    > foo

and foo will expand to the command `bar 40`. Currently the above does not work because $(baz) is expanded while making the alias. Do I have to wrap this inside a function or something?",bash,,,,,,open,0,81,12,"How do I include an environment variable inside an alias for bash? I am pretty new to bash, and I want to include an env for bash aliases.. I want to do something like the following

    alias foo=""bar $(baz)""

So that I could do something like the following

    > baz=40
    > foo

and foo will expand to the command `bar 40`. Currently the above does not work because $(baz) is expanded while making the alias. Do I have to wrap this inside a function or something?",1
11391138,07/09/2012 08:03:23,1511345,07/09/2012 08:00:10,1,0,Can't get rid of 'export' key word in bash shell,"I was trying to install and use RVM and made some changes to my .zshrc and .bashrc files and now this 'export' keyword/variable won't go away. Any thoughts? I've already undone the changes I've made to the .zschrc and .bashrc files, so those are empty.",bash,shell,unix,export,,07/27/2012 04:15:53,not a real question,1,45,10,"Can't get rid of 'export' key word in bash shell I was trying to install and use RVM and made some changes to my .zshrc and .bashrc files and now this 'export' keyword/variable won't go away. Any thoughts? I've already undone the changes I've made to the .zschrc and .bashrc files, so those are empty.",4
9220464,02/09/2012 23:17:45,1186110,02/02/2012 20:41:56,3,0,BASH Command save to variable with a variable in the command,"I have a command I want to run first I ran another command to get a directory which is saved in a variable: 

    path_white=""/sys/block/sdb/""

Then I want to run another command using this variable and store the output in a variable.  I get errors and don't know what I am doing wrong.  Any help will be appreciated. 

    path_pci_white=$(ll $path_white | xargs | cut -d / -f 8 | cut -b 6-13)

it seems that it is not running the entire command below is the error

    /sys/block/sdb : is a directory

when i run 

    ll /sys/block/sdb | xargs | cut -d / -f 8 | cut -b 6-13

in the terminal i get what i want output I just want to use a variable and put the output into a variable 

Thanks",bash,variables,command,,,,open,0,144,11,"BASH Command save to variable with a variable in the command I have a command I want to run first I ran another command to get a directory which is saved in a variable: 

    path_white=""/sys/block/sdb/""

Then I want to run another command using this variable and store the output in a variable.  I get errors and don't know what I am doing wrong.  Any help will be appreciated. 

    path_pci_white=$(ll $path_white | xargs | cut -d / -f 8 | cut -b 6-13)

it seems that it is not running the entire command below is the error

    /sys/block/sdb : is a directory

when i run 

    ll /sys/block/sdb | xargs | cut -d / -f 8 | cut -b 6-13

in the terminal i get what i want output I just want to use a variable and put the output into a variable 

Thanks",3
7037440,08/12/2011 08:26:31,612678,02/02/2011 02:51:52,454,16,stop a calling script upon error,"I have 2 shell scripts, namely script A and script B.
I have both of them ""set -e"", telling them to stop upon error.

However, when script A call script B, and script B had an error and stopped, script A didn't stop.

What can I stop the mother script when the child script dies?",bash,error-handling,,,,,open,0,52,6,"stop a calling script upon error I have 2 shell scripts, namely script A and script B.
I have both of them ""set -e"", telling them to stop upon error.

However, when script A call script B, and script B had an error and stopped, script A didn't stop.

What can I stop the mother script when the child script dies?",2
9452384,02/26/2012 10:32:06,101999,05/06/2009 04:13:22,7259,219,Why is this slash needed?,"I created a `bash` script to thumbnail all images in a tree. It is the following:

    #!/bin/bash

    find -path ""thumbnails/"" -prune -or -iname ""*.jpg"" -exec \
        bash -c 'convert ""$0"" -resize 256x256 thumbnails/`sha512sum ""$0"" | awk ""{ print \\$1 }""`.jpg' {} \;
    #                                                                                   ^^

In the awk command, there is a double `\\`. (I've marked it with `^^` on the commented line, but you'll probably need to scroll ) Why do I need two backslashes here? I need one to prevent the shell from attempting to expand `$1`, but otherwise, we are working within just a single set of single-quotes, which shouldn't be messing with the number of slashes. Yet, with just one backslash, <code>awk { print &nbsp;}</code> gets executed, which isn't correct.

**Why the `\\`?**",bash,,,,,,open,0,222,5,"Why is this slash needed? I created a `bash` script to thumbnail all images in a tree. It is the following:

    #!/bin/bash

    find -path ""thumbnails/"" -prune -or -iname ""*.jpg"" -exec \
        bash -c 'convert ""$0"" -resize 256x256 thumbnails/`sha512sum ""$0"" | awk ""{ print \\$1 }""`.jpg' {} \;
    #                                                                                   ^^

In the awk command, there is a double `\\`. (I've marked it with `^^` on the commented line, but you'll probably need to scroll ) Why do I need two backslashes here? I need one to prevent the shell from attempting to expand `$1`, but otherwise, we are working within just a single set of single-quotes, which shouldn't be messing with the number of slashes. Yet, with just one backslash, <code>awk { print &nbsp;}</code> gets executed, which isn't correct.

**Why the `\\`?**",1
10878399,06/04/2012 08:30:46,1434691,06/04/2012 08:21:02,1,0,Copy shell script and preserve permissions,"I have a small shell script that starts a program when I double-click it. (I have set the permissions to allow executing the script).

I want to be able to copy that script to another computer so that the new user can double-click it without needing to know anything about chmod or permissions. But I can't find out how to preserve the execute permission when I copy the file.

I can usually find answers with Google but this has me defeated - I guess I am not expressing my question properly.

Thanks",bash,permissions,distribute,,,06/05/2012 12:50:53,off topic,1,89,6,"Copy shell script and preserve permissions I have a small shell script that starts a program when I double-click it. (I have set the permissions to allow executing the script).

I want to be able to copy that script to another computer so that the new user can double-click it without needing to know anything about chmod or permissions. But I can't find out how to preserve the execute permission when I copy the file.

I can usually find answers with Google but this has me defeated - I guess I am not expressing my question properly.

Thanks",3
11517139,07/17/2012 06:33:14,1415715,05/24/2012 17:45:41,39,1,getopts related,"

    while getopts ""hd:R:"" arg; do
      case $arg in
        h)
          echo ""usgae"" 
          ;;
        d)
          dir=$OPTARG
          ;;
        R)
          if [[ $OPTARG =~ ^[0-9]+$ ]];then
            level=$OPTARG
          else
            level=1
          ;;
        \?)
          echo ""WRONG"" >&2
          ;;
      esac
    done

## level refers to parameter of -R, dir refers to parameters of -d

## when I input  `./count.sh -R 1 -d test/`

it works rightly

## when I input `./count.sh  -d test/ -R 1`

it works rightly

## but I want to make it works when I input `./count.sh  -d test/ -R` or `./count.sh  -R -d test/`

This means that I want -R has a default value and the sequence of command could be more flexible.",bash,,,,,,open,0,255,2,"getopts related 

    while getopts ""hd:R:"" arg; do
      case $arg in
        h)
          echo ""usgae"" 
          ;;
        d)
          dir=$OPTARG
          ;;
        R)
          if [[ $OPTARG =~ ^[0-9]+$ ]];then
            level=$OPTARG
          else
            level=1
          ;;
        \?)
          echo ""WRONG"" >&2
          ;;
      esac
    done

## level refers to parameter of -R, dir refers to parameters of -d

## when I input  `./count.sh -R 1 -d test/`

it works rightly

## when I input `./count.sh  -d test/ -R 1`

it works rightly

## but I want to make it works when I input `./count.sh  -d test/ -R` or `./count.sh  -R -d test/`

This means that I want -R has a default value and the sequence of command could be more flexible.",1
11122505,06/20/2012 15:07:06,898465,08/17/2011 10:50:38,51,2,FileZilla FTPing unzip problems,"I have a bash script that utilises inotify-tools to wait for .zip files to be dropped in a substructure under the root. From there they are unzipped into a another directory.

When I copy the .zip files in with WinSCP the script executes correctly. Copying the .zip files with Filezilla leads to this error however:

    End-of-central-directory signature not found.  Either this file is not
    a zipfile, or it constitutes one disk of a multi-part archive.  In the
    latter case the central directory and zipfile comment will be found on
    the last disk(s) of this archive.

I've googled this error and the two main issues seem to be an old version of Linux's unzip functionality, which I have a newer version of, and trying to copy files that are > 2gb (this file isn't)

Anyone know the issue here, it seems to me that Linux is trying to unzip the script before it is fully copied to disk? Like I said, only filezilla has this error, I don't get it with winSCP",bash,ftp,inotify,filezilla,,,open,0,182,4,"FileZilla FTPing unzip problems I have a bash script that utilises inotify-tools to wait for .zip files to be dropped in a substructure under the root. From there they are unzipped into a another directory.

When I copy the .zip files in with WinSCP the script executes correctly. Copying the .zip files with Filezilla leads to this error however:

    End-of-central-directory signature not found.  Either this file is not
    a zipfile, or it constitutes one disk of a multi-part archive.  In the
    latter case the central directory and zipfile comment will be found on
    the last disk(s) of this archive.

I've googled this error and the two main issues seem to be an old version of Linux's unzip functionality, which I have a newer version of, and trying to copy files that are > 2gb (this file isn't)

Anyone know the issue here, it seems to me that Linux is trying to unzip the script before it is fully copied to disk? Like I said, only filezilla has this error, I don't get it with winSCP",4
6345429,06/14/2011 14:48:45,27025,10/11/2008 07:11:54,896,27,How do I print some text in bash and pad it with spaces to a certain width?,"I'm echoing some text in a bash script with a variable in it, and want to pad that variable so it will always have the appropriate ammount of spaces to the right to keep the rest of the text aligned.

Here's an example of what I want:

    Echoing random number 1080    [ OK ]
    Echoing random number 443     [ OK ]
    Echoing random number 34842   [ OK ]

The numerical value would be of varying length (probably no longer than 5 or 6 digits).

I know that printf can do this and right align the variable by doing the following:

    printf ""Echoing random number %5s   [ OK ]"" $RAND_NUM

However, this would format the text like this:

    Echoing random number  1080   [ OK ]
    Echoing random number   443   [ OK ]
    Echoing random number 34842   [ OK ]

And of course just echoing with spaces doens't work:

    echo ""Echoing random number ${RAND_NUM}   [ OK ]""

Produces this:

    Echoing random number 1080   [ OK ]
    Echoing random number 443   [ OK ]
    Echoing random number 34842   [ OK ]

Is there a way to print the text like my first example?",bash,variables,printing,formatting,printf,,open,0,244,17,"How do I print some text in bash and pad it with spaces to a certain width? I'm echoing some text in a bash script with a variable in it, and want to pad that variable so it will always have the appropriate ammount of spaces to the right to keep the rest of the text aligned.

Here's an example of what I want:

    Echoing random number 1080    [ OK ]
    Echoing random number 443     [ OK ]
    Echoing random number 34842   [ OK ]

The numerical value would be of varying length (probably no longer than 5 or 6 digits).

I know that printf can do this and right align the variable by doing the following:

    printf ""Echoing random number %5s   [ OK ]"" $RAND_NUM

However, this would format the text like this:

    Echoing random number  1080   [ OK ]
    Echoing random number   443   [ OK ]
    Echoing random number 34842   [ OK ]

And of course just echoing with spaces doens't work:

    echo ""Echoing random number ${RAND_NUM}   [ OK ]""

Produces this:

    Echoing random number 1080   [ OK ]
    Echoing random number 443   [ OK ]
    Echoing random number 34842   [ OK ]

Is there a way to print the text like my first example?",5
5650410,04/13/2011 13:52:42,512652,11/18/2010 19:46:20,528,18,Bash: Symlink Following,"I've got a file tree containing a bunch of data I've generated. I've decided that at several stages of the data generation, I'd like to try some different configuration options in the programs that get used.

My solution was duplicating the data tree, and symlinking to all of the original data (multiplied by the number of new tests that I'm running). Then I'd let the programs clobber away the symlinks as needed. The result would be symlinks to the original tree for data that didn't get affected by my new configurations, and real data for anything new.

The problem is that the `-clobber` option on most of the programs I use follow symlinks, so it in fact clobbered over my original data. Is there anything I could try (maybe something like bash environment settings?) that might make all of these programs clobber the actual symlink, rather than the data it points at?",bash,data,symlink,overwrite,,,open,0,150,3,"Bash: Symlink Following I've got a file tree containing a bunch of data I've generated. I've decided that at several stages of the data generation, I'd like to try some different configuration options in the programs that get used.

My solution was duplicating the data tree, and symlinking to all of the original data (multiplied by the number of new tests that I'm running). Then I'd let the programs clobber away the symlinks as needed. The result would be symlinks to the original tree for data that didn't get affected by my new configurations, and real data for anything new.

The problem is that the `-clobber` option on most of the programs I use follow symlinks, so it in fact clobbered over my original data. Is there anything I could try (maybe something like bash environment settings?) that might make all of these programs clobber the actual symlink, rather than the data it points at?",4
10872458,06/03/2012 17:32:12,950669,09/17/2011 21:08:00,1514,104,Laptop has a full RGB keyboard backlight that I'd like to hook into,"How do I go about this? I've never done any sort of hack this close to the metal, and I'm excited to start now.

I'm hoping to do this under linux in whatever language necessary.",bash,hack,,,,06/04/2012 01:22:21,off topic,1,34,13,"Laptop has a full RGB keyboard backlight that I'd like to hook into How do I go about this? I've never done any sort of hack this close to the metal, and I'm excited to start now.

I'm hoping to do this under linux in whatever language necessary.",2
7372995,09/10/2011 16:21:46,579689,01/18/2011 09:35:00,351,4,How to change the host name locally in bash,"I want to generate ssh public key using ssh-keygen with custom host name in it at the end of the file
.
How to change the host name locally in bash. ",bash,ubuntu,ssh,gnome,openssh,09/10/2011 16:33:36,off topic,1,30,9,"How to change the host name locally in bash I want to generate ssh public key using ssh-keygen with custom host name in it at the end of the file
.
How to change the host name locally in bash. ",5
11486210,07/14/2012 18:17:34,1382299,03/27/2011 15:53:29,472,3,"no response when I ping my website, but I can still access it?","Sorry, this may be a dumb question, but I noticed something weird when I went to terminal and typed

    ping -o mysite.com

and I get the message...

    Request timeout for icmp_seq 0

but when I visit my site, it's fine. Is this something to be concerned about (i.e. what does this mean for my end users? Is my site too slow?) or since I can access it via a browser, should I disregard this message?

Also, is this something that should be brought up with my hosting company? I don't control the server myself...
",bash,terminal,ping,,,07/18/2012 02:33:10,off topic,1,97,13,"no response when I ping my website, but I can still access it? Sorry, this may be a dumb question, but I noticed something weird when I went to terminal and typed

    ping -o mysite.com

and I get the message...

    Request timeout for icmp_seq 0

but when I visit my site, it's fine. Is this something to be concerned about (i.e. what does this mean for my end users? Is my site too slow?) or since I can access it via a browser, should I disregard this message?

Also, is this something that should be brought up with my hosting company? I don't control the server myself...
",3
5998126,05/13/2011 21:47:57,200477,11/01/2009 12:41:57,2494,28,Send command to a background process,"I have a previously running process (process1.sh) that is running in the background with a PID of 1111 (or some other arbitrary number). How could I send something like ""command option1 option2"" to that process with a PID of 1111? I DO NOT want to start a new process1.sh!",bash,process,,,,,open,0,49,6,"Send command to a background process I have a previously running process (process1.sh) that is running in the background with a PID of 1111 (or some other arbitrary number). How could I send something like ""command option1 option2"" to that process with a PID of 1111? I DO NOT want to start a new process1.sh!",2
10743123,05/24/2012 18:17:42,459950,09/27/2010 21:09:22,654,14,What does #arr[*] mean in bash?,"I cam across a script with some code like this:

    arr=($p)
    np=${#arr[*]}

p is a string of integer pairs: ""0,1 2,4 3,5"" etc. First of all, I'm not 100% sure what the () do in the first line, but I think it just turns the things into an associative array of sorts? That may not be correct either .... But more than that, I'm at a complete loss as to what the second line does.",bash,,,,,,open,0,80,6,"What does #arr[*] mean in bash? I cam across a script with some code like this:

    arr=($p)
    np=${#arr[*]}

p is a string of integer pairs: ""0,1 2,4 3,5"" etc. First of all, I'm not 100% sure what the () do in the first line, but I think it just turns the things into an associative array of sorts? That may not be correct either .... But more than that, I'm at a complete loss as to what the second line does.",1
4898156,02/04/2011 12:49:35,486578,10/25/2010 15:03:02,604,6,COM1 port log in bash,Can anybody give me script which log PID who uses ( and was using  ) COM1 port ( history ) in bash ?,bash,,,,,,open,0,24,5,COM1 port log in bash Can anybody give me script which log PID who uses ( and was using  ) COM1 port ( history ) in bash ?,1
8259384,11/24/2011 15:29:18,39036,11/19/2008 17:43:10,7977,294,How can I write a Unix script to quickly start a service on multiple remote servers?,"I am trying to run an application on multiple (~20) Unix servers. Rather than SSH'ing into each one individually, I would like to log in to one and use a script to start them all up. 

The application does not require any direct user interaction, so I essentially just need to run './app arg1 arg2' on each machine.",bash,unix,scripting,,,11/25/2011 21:13:31,off topic,1,58,16,"How can I write a Unix script to quickly start a service on multiple remote servers? I am trying to run an application on multiple (~20) Unix servers. Rather than SSH'ing into each one individually, I would like to log in to one and use a script to start them all up. 

The application does not require any direct user interaction, so I essentially just need to run './app arg1 arg2' on each machine.",3
10674632,05/20/2012 15:14:25,974747,10/01/2011 18:23:41,119,1,Line deleting trouble in bash: passing user-input to sed vs to grep?,"Bashing trouble in MSYS: The following simple function should delete all lines that match user-input string `$kwd`.

<!-- lang: bash -->

    function delnote () {
       read kwd
       sed -e ""/$kwd/d"" -i ~/notes.txt
    }

Instead, I keep getting *""sed -e expression #1, char 0: no previous regular expression""* errors. Why?

I'm new to both bash and sed (and MSYS), so I'm not sure whether this is an issue of passing variables to sed or using quotes the wrong way. I tried replacing my function with [the one provided here][1], but still got the same error. 

In case this is an issue of misplacing quotes, then what's the difference between how sed and grep handle user input in bash? (As opposed to sed, using `'""$*""'` in a grep function does work.)

Thanks for any help and explanations!

  [1]: http://stackoverflow.com/questions/4108850/passing-bash-arguments-into-sed-to-delete-lines",bash,sed,grep,msys,,,open,0,152,12,"Line deleting trouble in bash: passing user-input to sed vs to grep? Bashing trouble in MSYS: The following simple function should delete all lines that match user-input string `$kwd`.

<!-- lang: bash -->

    function delnote () {
       read kwd
       sed -e ""/$kwd/d"" -i ~/notes.txt
    }

Instead, I keep getting *""sed -e expression #1, char 0: no previous regular expression""* errors. Why?

I'm new to both bash and sed (and MSYS), so I'm not sure whether this is an issue of passing variables to sed or using quotes the wrong way. I tried replacing my function with [the one provided here][1], but still got the same error. 

In case this is an issue of misplacing quotes, then what's the difference between how sed and grep handle user input in bash? (As opposed to sed, using `'""$*""'` in a grep function does work.)

Thanks for any help and explanations!

  [1]: http://stackoverflow.com/questions/4108850/passing-bash-arguments-into-sed-to-delete-lines",4
11618071,07/23/2012 18:13:07,1120354,12/29/2011 02:53:42,502,0,How to avoid having to type password every time rsync is run in a Bash script?,"In a bash script, I have several rsync statements.  Every rsync will prompt for typing password, and defeats very much the automation of doing the job using a script.  How to improve this? The destination path of rsync statements are either network drive connected via SAMBA or on a SSH server.",bash,ssh,passwords,rsync,,07/26/2012 01:07:28,off topic,1,53,16,"How to avoid having to type password every time rsync is run in a Bash script? In a bash script, I have several rsync statements.  Every rsync will prompt for typing password, and defeats very much the automation of doing the job using a script.  How to improve this? The destination path of rsync statements are either network drive connected via SAMBA or on a SSH server.",4
8748076,01/05/2012 18:52:52,1000626,10/18/2011 07:44:34,1,0,Bash: Make output of command appear on single line,"Is it possible to get the output of a command - for example: 'tar' - to write each line of output to one line only?

Example usage:
'tar -options -f dest source | $(insert trickery here)'
and the output would show every file being processed without making the screen move: each output overwrites the last one.

Can it be done?",bash,command,output,overwrite,,01/17/2012 12:40:18,off topic,1,56,9,"Bash: Make output of command appear on single line Is it possible to get the output of a command - for example: 'tar' - to write each line of output to one line only?

Example usage:
'tar -options -f dest source | $(insert trickery here)'
and the output would show every file being processed without making the screen move: each output overwrites the last one.

Can it be done?",4
8701663,01/02/2012 13:53:01,1178669,01/05/2010 08:17:25,5374,236,Unable to use cd within a bash script as intended,"Consider this script I wrote, which should go into parent directory, when no argument is given (the if ... part).

    #/bin/bash
    
    if (($# == 0))
    then
      cd ..
    else
      for basename
      do
        cd ${PWD%$basename*}$basename
      done
    fi

The problem is, that if I execute it like this

    ./up.sh

the cd is executed in a subshell, rendering it useless.

If I execute the script using `source`, it works, but I don't want to call it that way (I makes calling the script to complicated, also you would expect to call it directly if found in the PATH).",bash,,,,,,open,0,141,10,"Unable to use cd within a bash script as intended Consider this script I wrote, which should go into parent directory, when no argument is given (the if ... part).

    #/bin/bash
    
    if (($# == 0))
    then
      cd ..
    else
      for basename
      do
        cd ${PWD%$basename*}$basename
      done
    fi

The problem is, that if I execute it like this

    ./up.sh

the cd is executed in a subshell, rendering it useless.

If I execute the script using `source`, it works, but I don't want to call it that way (I makes calling the script to complicated, also you would expect to call it directly if found in the PATH).",1
249709,10/30/2008 09:58:12,2592,08/23/2008 12:32:00,331,15,Run command when bash script is stopped,"How can i, in a bash script, execute a command when the user stops the script (with ctrl - c)?

Currently, i have this:

    afplay file.mp3
    
    while true:
    do osascript -e ""set volume 10""
    end

But i would like it to execute `killall afplay` when the user is finished with it, regardless if it is command-c or another keypress.",bash,osx,,,,,open,0,73,7,"Run command when bash script is stopped How can i, in a bash script, execute a command when the user stops the script (with ctrl - c)?

Currently, i have this:

    afplay file.mp3
    
    while true:
    do osascript -e ""set volume 10""
    end

But i would like it to execute `killall afplay` when the user is finished with it, regardless if it is command-c or another keypress.",2
3814479,09/28/2010 15:36:51,363829,06/10/2010 18:49:36,308,9,How to change shells in script,"The default shell on the the system is `csh` but I want to write a script in `bash`. How do I write a script that will run bash and then convert back to csh at the end.

I tried this but it doesn't work:

    bash
    var=Hello
    echo $var
    csh",bash,shell,csh,,,,open,0,60,6,"How to change shells in script The default shell on the the system is `csh` but I want to write a script in `bash`. How do I write a script that will run bash and then convert back to csh at the end.

I tried this but it doesn't work:

    bash
    var=Hello
    echo $var
    csh",3
7205842,08/26/2011 14:03:51,907131,08/23/2011 06:35:06,1,0,Needed help on bash shell script.....,"I need some help inbash shell script for one of my project im developing, I need to convert the format attached in the below url

[Click to download the source format](http://tinyurl.com/3nxt723)

to the following format

(From Word document: Combine Text Phrases with Towns and add States [From Header A] generated programatically exactly as below)

Text Phrase One for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase One for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase One for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase One for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase One for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase One for Tampa FL, Elsie MI, Fowler MI, 60605 IL


""Text Phrase One"" ""Lansing MI"" ""Chicago IL"" ""Mason MI"" ""Dimondale MI""
""Text Phrase One"" ""East Lansing MI"" ""Haslett MI"" ""Seatle WA"" ""48910 MI""
""Text Phrase One"" ""Okemos MI"" ""St. Johns MI"" ""Detroit MI"" ""48823 MI""
""Text Phrase One"" ""Williamston MI"" ""Grand Ledge MI"" ""Eaton Rapids MI"" ""48864 MI""
""Text Phrase One"" ""Perry MI"" ""Charlotte MI"" ""Laingsburg MI"" ""Bath MI""
""Text Phrase One"" ""Tampa FL"" ""Elsie MI"" ""Fowler MI"" ""60605 IL""


Text Phrase Two for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase Two for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase Two for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase Two for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase Two for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase Two for Tampa FL, Elsie MI, Fowler MI, 60605 IL

""Text Phrase Two"" ""Same as above towns, and example Text Phrase One""

Text Phrase Three for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase Three for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase Three for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase Three for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase Three for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase Three for Tampa FL, Elsie MI, Fowler MI, 60605 IL

""Text Phrase Three"" ""Same as Text Phrase One example""

Text Phrase Four for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase Four for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase Four for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase Four for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase Four for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase Four for Tampa FL, Elsie MI, Fowler MI, 60605 IL

""Text Phrase Four"" ""Same as Text Phrase One Exapmle""

(From Word Document: Description)

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id vulputate sem. Phasellus malesuada erat quis velit congue commodo. Quisque nec sem sem. Nulla viverra dapibus nulla quis hendrerit. Donec sed massa ligula, eget dignissim lacus. Pellentesque ante erat, rhoncus sed vulputate et, aliquet a tellus. In hac habitasse platea dictumst. Nam sed dui nec dolor commodo blandit eu non risus. Nulla augue nisi, malesuada euismod rutrum sed, dapibus sed lacus. Etiam id dolor ut elit pharetra placerat. Sed fermentum, arcu in porta fringilla, odio orci dictum mi, et feugiat nibh mi at ipsum. Donec ut laoreet est. 
Maecenas odio nibh, mattis ac volutpat sit amet, sollicitudin ut elit. Suspendisse consectetur molestie neque, in fermentum purus iaculis quis. Fusce et augue vel felis condimentum auctor a a augue. Nam sagittis viverra augue, in ornare urna porta vel. Aliquam elementum blandit mi, hendrerit venenatis nisl porttitor sed. Duis sit amet lectus nunc, eget rhoncus velit. Mauris mollis bibendum libero, sed tristique dui vestibulum id. Nulla vel magna ipsum. Sed hendrerit urna euismod massa luctus bibendum. ",bash,shell,script,,,08/26/2011 18:06:59,not a real question,1,599,6,"Needed help on bash shell script..... I need some help inbash shell script for one of my project im developing, I need to convert the format attached in the below url

[Click to download the source format](http://tinyurl.com/3nxt723)

to the following format

(From Word document: Combine Text Phrases with Towns and add States [From Header A] generated programatically exactly as below)

Text Phrase One for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase One for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase One for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase One for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase One for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase One for Tampa FL, Elsie MI, Fowler MI, 60605 IL


""Text Phrase One"" ""Lansing MI"" ""Chicago IL"" ""Mason MI"" ""Dimondale MI""
""Text Phrase One"" ""East Lansing MI"" ""Haslett MI"" ""Seatle WA"" ""48910 MI""
""Text Phrase One"" ""Okemos MI"" ""St. Johns MI"" ""Detroit MI"" ""48823 MI""
""Text Phrase One"" ""Williamston MI"" ""Grand Ledge MI"" ""Eaton Rapids MI"" ""48864 MI""
""Text Phrase One"" ""Perry MI"" ""Charlotte MI"" ""Laingsburg MI"" ""Bath MI""
""Text Phrase One"" ""Tampa FL"" ""Elsie MI"" ""Fowler MI"" ""60605 IL""


Text Phrase Two for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase Two for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase Two for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase Two for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase Two for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase Two for Tampa FL, Elsie MI, Fowler MI, 60605 IL

""Text Phrase Two"" ""Same as above towns, and example Text Phrase One""

Text Phrase Three for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase Three for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase Three for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase Three for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase Three for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase Three for Tampa FL, Elsie MI, Fowler MI, 60605 IL

""Text Phrase Three"" ""Same as Text Phrase One example""

Text Phrase Four for Lansing MI, Chicago IL, Mason MI, Dimondale MI
Text Phrase Four for East Lansing MI, Haslett MI, Seatle WA, 48910 MI
Text Phrase Four for Okemos MI, St. Johns MI, Detroit MI, 48823 MI
Text Phrase Four for Williamston MI, Grand Ledge MI, Eaton Rapids MI, 48864 MI
Text Phrase Four for Perry MI, Charlotte MI, Laingsburg MI, Bath MI
Text Phrase Four for Tampa FL, Elsie MI, Fowler MI, 60605 IL

""Text Phrase Four"" ""Same as Text Phrase One Exapmle""

(From Word Document: Description)

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id vulputate sem. Phasellus malesuada erat quis velit congue commodo. Quisque nec sem sem. Nulla viverra dapibus nulla quis hendrerit. Donec sed massa ligula, eget dignissim lacus. Pellentesque ante erat, rhoncus sed vulputate et, aliquet a tellus. In hac habitasse platea dictumst. Nam sed dui nec dolor commodo blandit eu non risus. Nulla augue nisi, malesuada euismod rutrum sed, dapibus sed lacus. Etiam id dolor ut elit pharetra placerat. Sed fermentum, arcu in porta fringilla, odio orci dictum mi, et feugiat nibh mi at ipsum. Donec ut laoreet est. 
Maecenas odio nibh, mattis ac volutpat sit amet, sollicitudin ut elit. Suspendisse consectetur molestie neque, in fermentum purus iaculis quis. Fusce et augue vel felis condimentum auctor a a augue. Nam sagittis viverra augue, in ornare urna porta vel. Aliquam elementum blandit mi, hendrerit venenatis nisl porttitor sed. Duis sit amet lectus nunc, eget rhoncus velit. Mauris mollis bibendum libero, sed tristique dui vestibulum id. Nulla vel magna ipsum. Sed hendrerit urna euismod massa luctus bibendum. ",3
10219224,04/18/2012 22:51:18,171546,09/10/2009 16:13:36,1359,16,Substitution depending on the value of other column,"I want to perform a conditional substitution in several large text files. The structure is

    1 ad sd bg we we A.2 890 3434 DATA
    2 gf nh ok wa we A.1 890 3434 DATA
    3 gf nh ok wa we A.1 890 3434 
    ...
    ...

I would like to do, when the value ""DATA"" exists in the 10th column (it does not always happen), check whether the element of the 7th column is A.1. In that case, substitute it for B.2

I tried mixed see plus awk approaches but could not get it done, any hints for doing this in bash?

",bash,columns,substitution,,,,open,0,116,8,"Substitution depending on the value of other column I want to perform a conditional substitution in several large text files. The structure is

    1 ad sd bg we we A.2 890 3434 DATA
    2 gf nh ok wa we A.1 890 3434 DATA
    3 gf nh ok wa we A.1 890 3434 
    ...
    ...

I would like to do, when the value ""DATA"" exists in the 10th column (it does not always happen), check whether the element of the 7th column is A.1. In that case, substitute it for B.2

I tried mixed see plus awk approaches but could not get it done, any hints for doing this in bash?

",3
7265272,09/01/2011 01:29:35,922692,09/01/2011 01:29:35,1,0,How to list files in directory using bash?,"How to copy only the regular files in a directory (ignoring sub-directories and links) to the same destiny? (bash on Linux)
**A very large number of files**",bash,,,,,09/01/2011 13:14:24,off topic,1,26,8,"How to list files in directory using bash? How to copy only the regular files in a directory (ignoring sub-directories and links) to the same destiny? (bash on Linux)
**A very large number of files**",1
11099177,06/19/2012 10:34:14,529640,12/03/2010 16:51:08,357,6,How to run shell script 100 times in parallel,"I have the following for loop that process 100 with the customer ref and a Du Id 


    for i in {1..100}
    do
      echo ""This should return PD_PRIVATPAKKER_E""
      ./1161-I-007-Consignor_Performance_Test.sh ${P_CUST_ORDER_REF} ${P_DU_ID} LOGISTICAPOST 4600 5000 &
      (( P_CUST_ORDER_REF++ ))
      (( P_DU_ID++ ))
    done

I am trying to make it run 100 instances in parallel and processes them. However when I run this script I get back 1 reply. What should happen is that it process 100 orders and 100 records are put into the table. What am I doing wrong. ",bash,shell,,,,,open,0,118,9,"How to run shell script 100 times in parallel I have the following for loop that process 100 with the customer ref and a Du Id 


    for i in {1..100}
    do
      echo ""This should return PD_PRIVATPAKKER_E""
      ./1161-I-007-Consignor_Performance_Test.sh ${P_CUST_ORDER_REF} ${P_DU_ID} LOGISTICAPOST 4600 5000 &
      (( P_CUST_ORDER_REF++ ))
      (( P_DU_ID++ ))
    done

I am trying to make it run 100 instances in parallel and processes them. However when I run this script I get back 1 reply. What should happen is that it process 100 orders and 100 records are put into the table. What am I doing wrong. ",2
11481783,07/14/2012 07:07:48,992834,10/13/2011 06:39:01,62,5,"When the lines of a file or directory get too long, upgrade to ls list format?","Is there a way I can do this- for example if a gets a long name like

i-have-names-that-are-too-long-to-describe/
i-have-names-that-are-too-long-to-describe-2/
i-have-names-that-are-too-long-to-descri-3/

Can I 'upgrade' over from `ls` to `ls -l` from ls given that I have a name of a file or directory that is longer than than say, 20 characters?  

Is there a way to set up a bash function in my .bashrc to do this?
",bash,.bash-profile,,,,07/14/2012 13:22:12,off topic,1,63,16,"When the lines of a file or directory get too long, upgrade to ls list format? Is there a way I can do this- for example if a gets a long name like

i-have-names-that-are-too-long-to-describe/
i-have-names-that-are-too-long-to-describe-2/
i-have-names-that-are-too-long-to-descri-3/

Can I 'upgrade' over from `ls` to `ls -l` from ls given that I have a name of a file or directory that is longer than than say, 20 characters?  

Is there a way to set up a bash function in my .bashrc to do this?
",2
3781262,09/23/2010 18:07:01,456493,09/23/2010 18:07:01,1,0,bash templating,"i have a template, with a var LINK
and a data file, links.txt, with one url per line

how in bash i can substitute LINK with the content of links.txt?

if i do 

    #!/bin/bash
    LINKS=$(cat links.txt)
    sed ""s/LINKS/$LINK/g"" template.xml

two problem:

 1. $LINKS has the content of links.txt without newline
 
 2. sed: 1: ""s/LINKS/http://test ..."": bad flag in substitute command: '/'
    
sed is not escaping the // in the links.txt file

thanks
",bash,sed,,,,,open,0,81,2,"bash templating i have a template, with a var LINK
and a data file, links.txt, with one url per line

how in bash i can substitute LINK with the content of links.txt?

if i do 

    #!/bin/bash
    LINKS=$(cat links.txt)
    sed ""s/LINKS/$LINK/g"" template.xml

two problem:

 1. $LINKS has the content of links.txt without newline
 
 2. sed: 1: ""s/LINKS/http://test ..."": bad flag in substitute command: '/'
    
sed is not escaping the // in the links.txt file

thanks
",2
4391214,12/08/2010 19:03:39,196093,10/25/2009 05:49:26,255,4,insert a string in the previous line and next line of a particular phrase/text,"I want to edit a bunch of files in a folder  using a script/command as follows.

Before :

    .
    .
    upc_barrier
    .
    .

After inserting:

    .
    .
    start = clock();
    upc_barrier
    end  = clock() ;
    .
    .
    .


Could any of you help me out ?",bash,sed,awk,,,,open,0,84,14,"insert a string in the previous line and next line of a particular phrase/text I want to edit a bunch of files in a folder  using a script/command as follows.

Before :

    .
    .
    upc_barrier
    .
    .

After inserting:

    .
    .
    start = clock();
    upc_barrier
    end  = clock() ;
    .
    .
    .


Could any of you help me out ?",3
11687054,07/27/2012 11:41:43,267491,02/06/2010 00:15:02,1330,48,Split access.log file by dates using command line tools,"I have a Apache access.log file, which is around 35GB in size.. Grepping through it is not an option any more, without waiting a great deal.

I wanted to split it in many small files, by using date as splitting criteria.

Date is in format ""[15/Oct/2011:12:02:02 +0000]"". Any idea how could I do it using only bash scripting, standard text manipulation programs (grep, awk, sed, and likes), piping and redirection?

Input file name is access.log. I'd like output files to have format such as access.apache.15_Oct_2011.log (that would do the trick, although not nice when sorting..)",bash,text,logfiles,,,,open,0,92,9,"Split access.log file by dates using command line tools I have a Apache access.log file, which is around 35GB in size.. Grepping through it is not an option any more, without waiting a great deal.

I wanted to split it in many small files, by using date as splitting criteria.

Date is in format ""[15/Oct/2011:12:02:02 +0000]"". Any idea how could I do it using only bash scripting, standard text manipulation programs (grep, awk, sed, and likes), piping and redirection?

Input file name is access.log. I'd like output files to have format such as access.apache.15_Oct_2011.log (that would do the trick, although not nice when sorting..)",3
5417582,03/24/2011 10:15:11,589927,01/26/2011 00:07:06,316,0,"Bash shell script to glob files in several directories, add to an archive and remove original file","I am trying to write a bash script that does the following:

1. Enumerates through list of files in a directory, that match a specified pattern
2. Creates a tar file containing the matching files
3. Removes (i.e. deletes) the matched files from their source directories

To keep things simple, I intend to use a hard coded list of directories and file patterns

This is what I have come up with so far:

    #!/bin/bash
    
    filenames[0]='/home/user1/*.foo'
    filenames[1]='/some/otherpath/*.fbar'
    
    for f in ${filenames[@]}
       do
          echo ""$f""
    done


However, I am unusure on how to proceed from this point onward. Specifically, I need help on:

1. How to glob the files matching the pattern $f
2. How to add the ENTIRE list of matching files (i.e. from all directories) to a tar file in one go


Regarding deleting the files, I am thinking of simply iterating through the ENTIRE list obtained in step 2 above, and 'rm' the actual file - is there a better/quicker/more elegant way?


PS:

I am running this on Ubuntu 10.0.4 LTS",bash,,,,,,open,0,199,17,"Bash shell script to glob files in several directories, add to an archive and remove original file I am trying to write a bash script that does the following:

1. Enumerates through list of files in a directory, that match a specified pattern
2. Creates a tar file containing the matching files
3. Removes (i.e. deletes) the matched files from their source directories

To keep things simple, I intend to use a hard coded list of directories and file patterns

This is what I have come up with so far:

    #!/bin/bash
    
    filenames[0]='/home/user1/*.foo'
    filenames[1]='/some/otherpath/*.fbar'
    
    for f in ${filenames[@]}
       do
          echo ""$f""
    done


However, I am unusure on how to proceed from this point onward. Specifically, I need help on:

1. How to glob the files matching the pattern $f
2. How to add the ENTIRE list of matching files (i.e. from all directories) to a tar file in one go


Regarding deleting the files, I am thinking of simply iterating through the ENTIRE list obtained in step 2 above, and 'rm' the actual file - is there a better/quicker/more elegant way?


PS:

I am running this on Ubuntu 10.0.4 LTS",1
11292010,07/02/2012 10:39:32,1183016,02/01/2012 15:19:48,6,0,How to automate dos2unix using shell script?,"I have a bunch of xml files in a directory that need to have the dos2unix command performed on them and new files will be added every so often.  I Instead of manually performing dos2unix command on each files everytime I would like to automate it all with a script.  I have never even looked at a shell script in my life but so far I have this from what I have read on a few tutorials:

    FILES=/tmp/testFiles/*
    for f in $FILES
    do
      fname=`basename $f`
      dos2unix *.xml $f $fname
    done

However I keep getting the 'usage' output showing up.  I think the problem is that I am not assigning the name of the new file correctly (fname).  Can anyone help.

Thanks,
Alan",bash,shell,dos2unix,,,,open,0,145,7,"How to automate dos2unix using shell script? I have a bunch of xml files in a directory that need to have the dos2unix command performed on them and new files will be added every so often.  I Instead of manually performing dos2unix command on each files everytime I would like to automate it all with a script.  I have never even looked at a shell script in my life but so far I have this from what I have read on a few tutorials:

    FILES=/tmp/testFiles/*
    for f in $FILES
    do
      fname=`basename $f`
      dos2unix *.xml $f $fname
    done

However I keep getting the 'usage' output showing up.  I think the problem is that I am not assigning the name of the new file correctly (fname).  Can anyone help.

Thanks,
Alan",3
6664336,07/12/2011 12:45:01,788700,06/08/2011 06:55:18,46,2,KDE: klipper action script,"So KDE's clipboard manager - klipper - allows one to write a script to be applied to clipboard contents matching regexp. Say, I want klipper to download an image through bash script. 

Here's a klipper QRegExp:

    ^http://.*\.(png|svg|gif|jpg|jpeg)

I know that this regexp works - klipper notifies me every time I copy image URL to clipboard. Then, here's a bash script

    #!/bin/bash
    # let's name it clip.bash
    name=`basename $1`
    curl -o ~/Downloads/$name $1

I put this script to the PATH, and finally I specify an action the following way:

    clip.bash \%s

everything's fine and taken care about = but it doesn't work!

So my question is: ""how to make klipper download an image through the bash script?""",bash,clipboard,kde,kde4,,,open,0,130,4,"KDE: klipper action script So KDE's clipboard manager - klipper - allows one to write a script to be applied to clipboard contents matching regexp. Say, I want klipper to download an image through bash script. 

Here's a klipper QRegExp:

    ^http://.*\.(png|svg|gif|jpg|jpeg)

I know that this regexp works - klipper notifies me every time I copy image URL to clipboard. Then, here's a bash script

    #!/bin/bash
    # let's name it clip.bash
    name=`basename $1`
    curl -o ~/Downloads/$name $1

I put this script to the PATH, and finally I specify an action the following way:

    clip.bash \%s

everything's fine and taken care about = but it doesn't work!

So my question is: ""how to make klipper download an image through the bash script?""",4
8903813,01/18/2012 00:51:13,1155119,01/18/2012 00:13:24,11,0,pros and cons of file descriptors over regular pipe redirection?,"What are the pros and cons  of file descriptors over regular Pipe Redirection ( ls | wc  )?

why to prefer File Descriptors stdin 1, stdout 2, stderr 3 etc?
any idea?",bash,shell,unix,,,01/18/2012 10:11:28,not a real question,1,32,10,"pros and cons of file descriptors over regular pipe redirection? What are the pros and cons  of file descriptors over regular Pipe Redirection ( ls | wc  )?

why to prefer File Descriptors stdin 1, stdout 2, stderr 3 etc?
any idea?",3
9953842,03/31/2012 07:08:42,834616,07/08/2011 02:04:10,115,0,Removing two consecutive line breaks,"My file has a lot of line breaks, like this:

    This is a line.

    This is another line.

I would like to remove these, but only in cases where the first line ends with `}`, e.g.:

    \macro{This is a line.}

    This is another line.

That should become:

    \macro{This is a line.}This is another line.

How can I remove the line breaks in this situation? ",bash,sed,,,,,open,0,77,5,"Removing two consecutive line breaks My file has a lot of line breaks, like this:

    This is a line.

    This is another line.

I would like to remove these, but only in cases where the first line ends with `}`, e.g.:

    \macro{This is a line.}

    This is another line.

That should become:

    \macro{This is a line.}This is another line.

How can I remove the line breaks in this situation? ",2
11044378,06/15/2012 03:57:04,1000804,10/18/2011 09:36:44,360,9,Syntax highlighting bugs of VIM 7.3 for BASH scripts,"I just upgraded OS from Ubuntu 8.04 to Ubuntu 12.04, as well as the corresponding VIM package. However, I found the syntax highlighting of newer VIM for BASH scripts is strange: (1) the colors of open and close parenthesis are different; (2) the color of comments seems wrong; (3) the BASH keyword in comment should not be highlighted. I have already add `let g:is_bash=1` and `syntax on` into my "".vimrc"" file

The screenshot of wrong syntax highlighting.
![enter image description here][1]

The screenshot of corresponding correct syntax highlighting:
![enter image description here][2]

The new (wrong) VIM version is: VIM - Vi IMproved 7.3 (2010 Aug 15, compiled May 4 2012 04:21:49)  Included patches: 1-429

The old (correct) VIM version is: VIM - Vi IMproved 7.2 (2008 Aug 9, compiled Sep 21 2009 11:21:42) Included patches: 1-245


  [1]: http://i.stack.imgur.com/fpTEl.png
  [2]: http://i.stack.imgur.com/6h5tH.png",bash,vim,syntax-highlighting,,,06/18/2012 03:47:01,off topic,1,137,9,"Syntax highlighting bugs of VIM 7.3 for BASH scripts I just upgraded OS from Ubuntu 8.04 to Ubuntu 12.04, as well as the corresponding VIM package. However, I found the syntax highlighting of newer VIM for BASH scripts is strange: (1) the colors of open and close parenthesis are different; (2) the color of comments seems wrong; (3) the BASH keyword in comment should not be highlighted. I have already add `let g:is_bash=1` and `syntax on` into my "".vimrc"" file

The screenshot of wrong syntax highlighting.
![enter image description here][1]

The screenshot of corresponding correct syntax highlighting:
![enter image description here][2]

The new (wrong) VIM version is: VIM - Vi IMproved 7.3 (2010 Aug 15, compiled May 4 2012 04:21:49)  Included patches: 1-429

The old (correct) VIM version is: VIM - Vi IMproved 7.2 (2008 Aug 9, compiled Sep 21 2009 11:21:42) Included patches: 1-245


  [1]: http://i.stack.imgur.com/fpTEl.png
  [2]: http://i.stack.imgur.com/6h5tH.png",3
10731001,05/24/2012 04:07:34,1242028,03/01/2012 06:55:33,1,0,Can I improve this small bash script?,"I just got through writing a bash script so my friend and I can share snippets of code to a central file via rsync and ssh. What it does is this;

1. Sets up ssh public key auth if not already working.
2. Makes a local ""snippet file"" using rsync to copy an exiting file from a remote server.
3. Allows the user to edit the snippet file.
4. If user chooses, sync snippet file to remote host.  

I put the project on github at https://github.com/shakabra/snippetShare 

It's a pretty straight-forward script, but I wonder what could be done better.

I am really new at programming and was hoping you guys might spot some obvious mistakes that I just over-looked or don't understand.

Thanks in advance if you take the time to look over the script. ",bash,ssh,rsync,,,05/24/2012 10:02:53,off topic,1,131,7,"Can I improve this small bash script? I just got through writing a bash script so my friend and I can share snippets of code to a central file via rsync and ssh. What it does is this;

1. Sets up ssh public key auth if not already working.
2. Makes a local ""snippet file"" using rsync to copy an exiting file from a remote server.
3. Allows the user to edit the snippet file.
4. If user chooses, sync snippet file to remote host.  

I put the project on github at https://github.com/shakabra/snippetShare 

It's a pretty straight-forward script, but I wonder what could be done better.

I am really new at programming and was hoping you guys might spot some obvious mistakes that I just over-looked or don't understand.

Thanks in advance if you take the time to look over the script. ",3
3065067,06/17/2010 19:44:18,1190,08/13/2008 12:15:38,8330,251,How do I set bash environment variables from a script?,"I have some proxy settings that I only occasionally want to turn on, so I don't want to put them in my `~/.bash_profile`. I tried putting them directly in `~/bin/set_proxy_env.sh`, adding `~/bin` to my `PATH`, and `chmod +x`ing the script but though the script runs, the variables don't stick in my shell. Does anyone know how to get them to stick around for the rest of the shell session?",bash,osx,terminal,,,,open,0,69,10,"How do I set bash environment variables from a script? I have some proxy settings that I only occasionally want to turn on, so I don't want to put them in my `~/.bash_profile`. I tried putting them directly in `~/bin/set_proxy_env.sh`, adding `~/bin` to my `PATH`, and `chmod +x`ing the script but though the script runs, the variables don't stick in my shell. Does anyone know how to get them to stick around for the rest of the shell session?",3
9730314,03/16/2012 00:41:34,834616,07/08/2011 02:04:10,23,0,"Removing everything except the numbers 1, 2, 3, 4, and 5 from a file","I want to remove everything from a file, such that only the numbers 1, 2, 3, 4, and 5 remain. Line breaks should be kept. How can I delete everything else from the file?",bash,sed,awk,grep,,,open,0,34,14,"Removing everything except the numbers 1, 2, 3, 4, and 5 from a file I want to remove everything from a file, such that only the numbers 1, 2, 3, 4, and 5 remain. Line breaks should be kept. How can I delete everything else from the file?",4
363209,12/12/2008 16:14:45,1246613,03/03/2012 09:25:03,31,3,bash scripting..copying files without overwriting,"I would like to know if it is possible to copy/move files to a destination based on the origin name.

Basically, I have a /mail folder, which has several subfolders such as cur and new etc. I then have an extracted backup in /mail/home/username that is a duplicate. mv -f will not work, as I do not have permission to overwrite the directories, but only the files within.

I get errors such as mv: cannot overwrite directory `/home/username/mail/username.com'

What I want to do is for each file in the directory username.com, move it to the folder of the same name in /mail. There could be any number of folders in place of username.com, with seperate sub sirectories of their own.

What is the best way to do this?

I have to do it this way as due to circumstances I only have access to my host with ftp and bash via php.

",bash,,,,,12/15/2008 10:46:51,off topic,1,147,5,"bash scripting..copying files without overwriting I would like to know if it is possible to copy/move files to a destination based on the origin name.

Basically, I have a /mail folder, which has several subfolders such as cur and new etc. I then have an extracted backup in /mail/home/username that is a duplicate. mv -f will not work, as I do not have permission to overwrite the directories, but only the files within.

I get errors such as mv: cannot overwrite directory `/home/username/mail/username.com'

What I want to do is for each file in the directory username.com, move it to the folder of the same name in /mail. There could be any number of folders in place of username.com, with seperate sub sirectories of their own.

What is the best way to do this?

I have to do it this way as due to circumstances I only have access to my host with ftp and bash via php.

",1
3475426,08/13/2010 09:12:07,341182,05/14/2010 11:25:53,1,0,"Shell-Scripting (BASH): What is the best way to toggle a script ""on/off"" that isn't able to end itself?","I would like to have a script with an infinite loop, that kills all processes created by this script when it gets executed again.

So basically you start the script via terminal:

**bash poll.sh**

and it's running infinitely, you open another terminal and again

**bash poll.sh**

and all poll.sh processes will get killed.

What would be the best way to do that? My first thought was to set environment variables, something like **export POLLRUNNING=true** and poll.sh would implement something like **if [ $POLLRUNNING = true ]; exit 1**

My second idea was to work with **touch .isrunning** and statement to ask for that file.


How would you do that?",bash,unix,process,toggle,kill,,open,0,101,18,"Shell-Scripting (BASH): What is the best way to toggle a script ""on/off"" that isn't able to end itself? I would like to have a script with an infinite loop, that kills all processes created by this script when it gets executed again.

So basically you start the script via terminal:

**bash poll.sh**

and it's running infinitely, you open another terminal and again

**bash poll.sh**

and all poll.sh processes will get killed.

What would be the best way to do that? My first thought was to set environment variables, something like **export POLLRUNNING=true** and poll.sh would implement something like **if [ $POLLRUNNING = true ]; exit 1**

My second idea was to work with **touch .isrunning** and statement to ask for that file.


How would you do that?",5
9531072,03/02/2012 09:46:57,834616,07/08/2011 02:04:10,170,0,"Converting ""A B [C] D"" formatted file to ""A@B@C@D""","I have a file which has contents on every line following this format (A, B, C, and D represent text):

    A B [C] D

E.g.:

    cat Cat [noun] This animal likes to eat mice.

- The first separator is the first space ("" "")
- The second separator is a space and a square opening bracket ("" ["").
- The final separator is a square closing bracket and a space (""] "").

I want to convert all of the content in this file to a @-separated file:

    A@B@C@D

- The original file contains many strange characters in UTF-8.
- There are no spaces or backets within the contents of A and B.
- C sometimes contains spaces, but no brackets inside the two given.
- D contains anything from spaces, square brackets, etc. and the contents should remain unchanged.

How can I convert this file to that format?",bash,csv,,,,,open,0,147,9,"Converting ""A B [C] D"" formatted file to ""A@B@C@D"" I have a file which has contents on every line following this format (A, B, C, and D represent text):

    A B [C] D

E.g.:

    cat Cat [noun] This animal likes to eat mice.

- The first separator is the first space ("" "")
- The second separator is a space and a square opening bracket ("" ["").
- The final separator is a square closing bracket and a space (""] "").

I want to convert all of the content in this file to a @-separated file:

    A@B@C@D

- The original file contains many strange characters in UTF-8.
- There are no spaces or backets within the contents of A and B.
- C sometimes contains spaces, but no brackets inside the two given.
- D contains anything from spaces, square brackets, etc. and the contents should remain unchanged.

How can I convert this file to that format?",2
10488963,05/07/2012 20:52:53,632472,02/24/2011 14:26:57,1056,43,Bash: How can I replace a string by new line in osx bash?,"I am googling it a lot. I only want that this line:

    echo ""Replace <newLine> it by <newLine> NEWLINE <newLine> in my OSX terminal <newLine> and bash script"" | sed -e 's/<newLine>/\n/g'

works in my osx terminal and in my bash script. I can't use `sed` for this? Is there another one line solution?",bash,sed,,,,,open,0,56,13,"Bash: How can I replace a string by new line in osx bash? I am googling it a lot. I only want that this line:

    echo ""Replace <newLine> it by <newLine> NEWLINE <newLine> in my OSX terminal <newLine> and bash script"" | sed -e 's/<newLine>/\n/g'

works in my osx terminal and in my bash script. I can't use `sed` for this? Is there another one line solution?",2
9620126,03/08/2012 15:25:32,140750,07/18/2009 19:02:44,13877,677,Restore traps without a temp file,"Without arguments `trap` prints the currently set commands for all traps.  However, a subshell does not inherit traps, so the canonical example for saving and restoring traps fails in bash:
<pre>
save_traps=$(trap)
...
eval ""$save_traps""
</pre>

The trap on the RHS of the assignment runs in a subshell, so save_traps is always the empty string.  Other than writing the output of `trap` to a temporary file, how can a script find the current command set for a trap?",bash,sh,trap,,,,open,0,74,6,"Restore traps without a temp file Without arguments `trap` prints the currently set commands for all traps.  However, a subshell does not inherit traps, so the canonical example for saving and restoring traps fails in bash:
<pre>
save_traps=$(trap)
...
eval ""$save_traps""
</pre>

The trap on the RHS of the assignment runs in a subshell, so save_traps is always the empty string.  Other than writing the output of `trap` to a temporary file, how can a script find the current command set for a trap?",3
10996478,06/12/2012 12:16:28,1178669,01/05/2010 08:17:25,6316,253,Why do no other languages implement break the way Bash does?,"I just stumbled over the documentation of the break builtin in Bash:

> break [n]

> Exit  from within a for, while, until, or select loop.  If n
> is specified, break n levels.

So, unlike in most other (scripting) languages, `break` can told be to break n levels. This looks like a really useful feature, still, I've never seen something similar in other languages (which often use labels to break out of multiple loops).

Is there a reason this feature is only found in Bash (probably also in ksh, zsh and sh)?",bash,language-features,,,,06/12/2012 14:14:56,not constructive,1,90,11,"Why do no other languages implement break the way Bash does? I just stumbled over the documentation of the break builtin in Bash:

> break [n]

> Exit  from within a for, while, until, or select loop.  If n
> is specified, break n levels.

So, unlike in most other (scripting) languages, `break` can told be to break n levels. This looks like a really useful feature, still, I've never seen something similar in other languages (which often use labels to break out of multiple loops).

Is there a reason this feature is only found in Bash (probably also in ksh, zsh and sh)?",2
6601084,07/06/2011 18:18:52,832157,07/06/2011 18:18:52,1,0,[mkfs.ext4] Problem with permissions,"I need to be able to use mkfs.ext4 tools so that it creates filesystem accessible to user. What I mean is that when I create the new fs on some device and try to copy files on it from the level of UI, I get permission denied error. The problem is that I don't se relevant option in manual.

Thanks in advance for help!",bash,filesystems,,,,07/08/2011 19:17:47,off topic,1,63,4,"[mkfs.ext4] Problem with permissions I need to be able to use mkfs.ext4 tools so that it creates filesystem accessible to user. What I mean is that when I create the new fs on some device and try to copy files on it from the level of UI, I get permission denied error. The problem is that I don't se relevant option in manual.

Thanks in advance for help!",2
11325366,07/04/2012 08:34:44,1488047,06/28/2012 09:15:03,1,0,Console based menu in bash,"can anyone tell me how can i build console based menu in which i can navigate by direction keys to select options. Code should be in bash or shell script.

",bash,menu,console,,,07/05/2012 14:47:22,not a real question,1,30,5,"Console based menu in bash can anyone tell me how can i build console based menu in which i can navigate by direction keys to select options. Code should be in bash or shell script.

",3
4769694,01/22/2011 18:27:13,149523,08/03/2009 06:19:45,182,0,Problem with RDD bash script variable,"I have the folowing bash script i'm trying to implement, but it fails awfully, can anyone help me with some advice...
<pre><code>#!/bin/bash
FILE='/var/www/router.rrd'
OUTPUT='/var/www/router.png'
RRDTOOL='rrdtool graph'
$RRDTOOL $OUTPUT \
        -t ""192.168.10.1"" -v ""Time in ms"" \
        --start=""now-1d"" \
        --end=""now"" \
        --height=""120"" \
        --width=""440"" \
        ""DEF:ping_time=$FILE:ping:AVERAGE"" \
        ""CDEF:shading2=ping_time,0.98,*"" ""AREA:shading2#F90000:router"" \
        ""GPRINT:ping_time:LAST:Last\: %5.2lf ms"" \
        ""GPRINT:ping_time:MIN:Min\: %5.2lf ms"" \
        ""GPRINT:ping_time:MAX:Max\: %5.2lf ms"" \
        ""GPRINT:ping_time:AVERAGE:Avg\: %5.2lf ms"" >/dev/null
</code></pre>",bash,rrdtool,,,,,open,0,137,6,"Problem with RDD bash script variable I have the folowing bash script i'm trying to implement, but it fails awfully, can anyone help me with some advice...
<pre><code>#!/bin/bash
FILE='/var/www/router.rrd'
OUTPUT='/var/www/router.png'
RRDTOOL='rrdtool graph'
$RRDTOOL $OUTPUT \
        -t ""192.168.10.1"" -v ""Time in ms"" \
        --start=""now-1d"" \
        --end=""now"" \
        --height=""120"" \
        --width=""440"" \
        ""DEF:ping_time=$FILE:ping:AVERAGE"" \
        ""CDEF:shading2=ping_time,0.98,*"" ""AREA:shading2#F90000:router"" \
        ""GPRINT:ping_time:LAST:Last\: %5.2lf ms"" \
        ""GPRINT:ping_time:MIN:Min\: %5.2lf ms"" \
        ""GPRINT:ping_time:MAX:Max\: %5.2lf ms"" \
        ""GPRINT:ping_time:AVERAGE:Avg\: %5.2lf ms"" >/dev/null
</code></pre>",2
8463145,12/11/2011 09:57:50,279538,02/23/2010 14:23:22,136,0,"Bash: if [ ""echo test"" == ""test""]; then echo ""echo test outputs test on shell"" fi; Possible?","Is it possible with bash to execute a command from shell and if it returns a certain value (or an empty one) execute a command?
Thanks",bash,,,,,,open,0,25,17,"Bash: if [ ""echo test"" == ""test""]; then echo ""echo test outputs test on shell"" fi; Possible? Is it possible with bash to execute a command from shell and if it returns a certain value (or an empty one) execute a command?
Thanks",1
6722253,07/17/2011 06:18:30,848424,07/17/2011 06:07:37,1,0,SSH and run commands as another user.,"I need to SSH into a very locked down server (where I am an operator, not an admin) and run a few commands as another user.

This is what I try to use:
ssh -t myUser@remoteServer 'sudo /var/sudo/theOtherUser; sudo /usr/sbin/application1; sudo /usr/sbin/application2'

It works fine but right after i change user to theOtherUser my ""scritp"" stops. After I do an exit it resumes and tries to run the two remaining commands as myUser.

Is there any way to run them as theOtherUser? I can't login as theOtherUser in any other way than this and the system is very locked down so I have to do everything by SSH.

Thanks for any help!",bash,unix,ssh,,,07/17/2011 06:59:05,off topic,1,107,7,"SSH and run commands as another user. I need to SSH into a very locked down server (where I am an operator, not an admin) and run a few commands as another user.

This is what I try to use:
ssh -t myUser@remoteServer 'sudo /var/sudo/theOtherUser; sudo /usr/sbin/application1; sudo /usr/sbin/application2'

It works fine but right after i change user to theOtherUser my ""scritp"" stops. After I do an exit it resumes and tries to run the two remaining commands as myUser.

Is there any way to run them as theOtherUser? I can't login as theOtherUser in any other way than this and the system is very locked down so I have to do everything by SSH.

Thanks for any help!",3
7741697,10/12/2011 14:29:33,312896,04/09/2010 14:51:11,91,2,Works copied from echo but not right from batch file,"    #!/bin/bash
    
    shopt -s nullglob
    eval=""c:cd(\\\""src/\\\""),""
    
    for f in src/*.erl
    do
      filename=`basename ""$f""`
      eval=${eval}"" c:c(\\\""$filename\\\""),""
    done
    
    eval=${eval}"" c:q().""
    echo erl -eval ""\""""${eval}""\""""
    erl -eval ""\""""${eval}""\""""

Here, if i copy echo output and run it from command line - its working, but last line failed( I have tested different approaches with quotes and escape chars, but unsuccessfully.",bash,erlang,,,,,open,0,104,10,"Works copied from echo but not right from batch file     #!/bin/bash
    
    shopt -s nullglob
    eval=""c:cd(\\\""src/\\\""),""
    
    for f in src/*.erl
    do
      filename=`basename ""$f""`
      eval=${eval}"" c:c(\\\""$filename\\\""),""
    done
    
    eval=${eval}"" c:q().""
    echo erl -eval ""\""""${eval}""\""""
    erl -eval ""\""""${eval}""\""""

Here, if i copy echo output and run it from command line - its working, but last line failed( I have tested different approaches with quotes and escape chars, but unsuccessfully.",2
8106489,11/12/2011 18:14:03,1030294,11/04/2011 19:07:22,11,0,Text processing using bash,"I have a vmstat dump file that has the header and values in this format  

procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu------  
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st  
12  0 5924396 20810624 548548 935160    0    0     0     5    0    0 60  5 34  0  0  
12  0 5924396 20768588 548548 935160    0    0     0     0 1045 1296 99  0  0  0  0  
12  0 5924396 20768968 548548 935452    0    0     0    32 1025 1288 100  0  0  0  0  
procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu------  
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st  
 4  0 5924396 20768724 548552 935408    0    0     0    92 1093 1377 33  0 67  0  0  

I'm writing a script in bash that extracts just the lines containing lines with numbers i.e. values and remove all lines containing the alphabet. How do I do that


",bash,text-processing,,,,,open,0,292,4,"Text processing using bash I have a vmstat dump file that has the header and values in this format  

procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu------  
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st  
12  0 5924396 20810624 548548 935160    0    0     0     5    0    0 60  5 34  0  0  
12  0 5924396 20768588 548548 935160    0    0     0     0 1045 1296 99  0  0  0  0  
12  0 5924396 20768968 548548 935452    0    0     0    32 1025 1288 100  0  0  0  0  
procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu------  
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st  
 4  0 5924396 20768724 548552 935408    0    0     0    92 1093 1377 33  0 67  0  0  

I'm writing a script in bash that extracts just the lines containing lines with numbers i.e. values and remove all lines containing the alphabet. How do I do that


",2
845863,05/10/2009 18:51:37,365377,04/30/2009 20:32:34,11,0,How to use > in an xargs command?,"I want to find a bash command that will let me grep every file in a directory and write the output of that grep to a separate file.  My guess would have been to do something like this

    ls -1 | xargs -I{} ""grep ABC '{}' > '{}'.out""

but, as far as I know, xargs doesn't like the double-quotes.  If I remove the double-quotes, however, then the command redirects the output of the entire command to a single file called '{}'.out instead of to a series of individual files.  

Does anyone know of a way to do this using xargs?  I just used this grep scenario as an example to illustrate my problem with xargs so any solutions that don't use xargs aren't as applicable for me.

",bash,xargs,redirect,,,,open,0,133,8,"How to use > in an xargs command? I want to find a bash command that will let me grep every file in a directory and write the output of that grep to a separate file.  My guess would have been to do something like this

    ls -1 | xargs -I{} ""grep ABC '{}' > '{}'.out""

but, as far as I know, xargs doesn't like the double-quotes.  If I remove the double-quotes, however, then the command redirects the output of the entire command to a single file called '{}'.out instead of to a series of individual files.  

Does anyone know of a way to do this using xargs?  I just used this grep scenario as an example to illustrate my problem with xargs so any solutions that don't use xargs aren't as applicable for me.

",3
7694374,10/08/2011 02:20:40,984940,10/08/2011 02:12:34,1,0,How to get the time of a process created remotely via ssh?,"I am currently writing a script whose purpose is to kill a process whose running time exceeds a threshold.  The ""killer"" is run on a bunch of hosts and the jobs are send by a server to each host.  My idea was to use 'ps' to get the running time of the job but all it prints is 

17433 17433 ?   00:00:00 python

whatever the time I wait.

I tried to find a simplified example to avoid posting all the code I wrote.  Let's call S the server and H the host.

If I do the following steps:

1) ssh login@H from the server
2) python myscript.py (now logged on the host)
3) ps -U login (still on the host)

I get the same result than the one above 00:00:00 as far as the time is concerned.

How can I get the real execution time ?  When I do everything locally on my machine, it works fine.

I thank you very much for your help.

V.
",bash,ssh,,,,,open,0,162,12,"How to get the time of a process created remotely via ssh? I am currently writing a script whose purpose is to kill a process whose running time exceeds a threshold.  The ""killer"" is run on a bunch of hosts and the jobs are send by a server to each host.  My idea was to use 'ps' to get the running time of the job but all it prints is 

17433 17433 ?   00:00:00 python

whatever the time I wait.

I tried to find a simplified example to avoid posting all the code I wrote.  Let's call S the server and H the host.

If I do the following steps:

1) ssh login@H from the server
2) python myscript.py (now logged on the host)
3) ps -U login (still on the host)

I get the same result than the one above 00:00:00 as far as the time is concerned.

How can I get the real execution time ?  When I do everything locally on my machine, it works fine.

I thank you very much for your help.

V.
",2
8049132,11/08/2011 10:39:16,231644,12/14/2009 21:30:45,92,4,How can I detect whether a symlink is broken in Bash?,"I run `find` and iterate through the results with `[ \( -L $F \)  ]` to collect certain symbolic links. 

I am wondering if there is an easy way to determine if the link is broken in this scenario.

Here is my code:

    FILES=`find /target/ | grep -v '\.disabled$' | sort`

    for F in $FILES; do
        if [ -L $F ]; then
            DO THINGS
        fi
    done",bash,symlink,,,,,open,0,100,11,"How can I detect whether a symlink is broken in Bash? I run `find` and iterate through the results with `[ \( -L $F \)  ]` to collect certain symbolic links. 

I am wondering if there is an easy way to determine if the link is broken in this scenario.

Here is my code:

    FILES=`find /target/ | grep -v '\.disabled$' | sort`

    for F in $FILES; do
        if [ -L $F ]; then
            DO THINGS
        fi
    done",2
7145562,08/22/2011 09:41:42,831970,07/06/2011 16:12:23,18,6,"Colorize text/background, how to make pretty-print portable? Also, large list of Color Functions written by Aesthir, enjoy?","Although this isn't a specific question, I do have one.... but first, I'd like to share `[ Aesthir's Color Functions ]`...  it's not really trademarked ;^)  with all the shell-coders out there who would like things to look a bit nicer.  I use these religiously throughout all my scripts (70+ now), just for fun, to easily separate data and to organize better.

Below are the color functions that I use regularly... wrote them years ago and have gotten so used to them that they're a regular part of my scripting. They function as `printf` substitutes, so rather than boring old `printf ""Hello\n""`, a green hello simply `Tgreen ""Hello\n""` Just stick this code block into your .bashrc file, start a new session, and you're set!  Hell stick some into your PSn variables for easy color prompts. For instance, here is my select prompt: `export PS3=""$(Tmagenta 'Select')""`, and my sudo prompt: `export SUDO_PROMPT=""$(Tgreen 'Password') ""`. These are the ones I use:
<HR>

	##  ##
	##  [ Aesthir's Color Functions ]  ##
	##  ##
		Normal () { printf '\e[m'""$*""; }                  ; Tblack () { printf '\e[0;30m'""$*""'\e[m'; }
		TNormal () { printf '\e[m'""$*""; }                 ; Tred () { printf '\e[0;31m'""$*""'\e[m'; }
		Bold () { printf '\e[1m'""$*""'\e[m'; }             ; Tgreen () { printf '\e[0;32m'""$*""'\e[m'; }
		TBold () { printf '\e[1m'""$*""'\e[m'; }            ; Tbrown () { printf '\e[0;33m'""$*""'\e[m'; }
		Underline () { printf '\e[4m'""$*""'\e[m'; }        ; Tyellow () { printf '\e[0;33m'""$*""'\e[m'; }
		TUnderline () { printf '\e[4m'""$*""'\e[m'; }       ; Tblue () { printf '\e[0;34m'""$*""'\e[m'; }
		Flash () { printf '\e[5m'""$*""'\e[m'; }            ; Tmagenta () { printf '\e[0;35m'""$*""'\e[m'; }
		TFlash () { printf '\e[5m'""$*""'\e[m'; }           ; Tpurple () { printf '\e[0;35m'""$*""'\e[m'; }
		Invert () { printf '\e[7m'""$*""'\e[m'; }           ; Taqua () { printf '\e[0;36m'""$*""'\e[m'; }
		TInvert () { printf '\e[7m'""$*""'\e[m'; }          ; Tcyan () { printf '\e[0;36m'""$*""'\e[m'; }
		Invisible () { printf '\e[8m'""$*""'\e[m'; }        ; Tgrey () { printf '\e[0;37m'""$*""'\e[m'; }
		TInvisible () { printf '\e[8m'""$*""'\e[m'; }       ; Twhite () { printf '\e[0;37m'""$*""'\e[m'; }
	##  Bold Color Text  ##  Underlined Color Text  ##
		TblackB () { printf '\e[1;30m'""$*""'\e[m'; }       ; TblackU () { printf '\e[4;30m'""$*""'\e[m'; }
		TgreyB () { printf '\e[1;30m'""$*""'\e[m'; }        ; TredU () { printf '\e[4;31m'""$*""'\e[m'; }
		TredB () { printf '\e[1;31m'""$*""'\e[m'; }         ; TgreenU () { printf '\e[4;32m'""$*""'\e[m'; }
		TgreenB () { printf '\e[1;32m'""$*""'\e[m'; }       ; TbrownU () { printf '\e[4;33m'""$*""'\e[m'; }
		TbrownB () { printf '\e[1;33m'""$*""'\e[m'; }       ; TyellowU () { printf '\e[4;33m'""$*""'\e[m'; }
		TyellowB () { printf '\e[1;33m'""$*""'\e[m'; }      ; TblueU () { printf '\e[4;34m'""$*""'\e[m'; }
		TblueB () { printf '\e[1;34m'""$*""'\e[m'; }        ; TmagentaU () { printf '\e[4;35m'""$*""'\e[m'; }
		TmagentaB () { printf '\e[1;35m'""$*""'\e[m'; }     ; TpurpleU () { printf '\e[4;35m'""$*""'\e[m'; }
		TpurpleB () { printf '\e[1;35m'""$*""'\e[m'; }      ; TaquaU () { printf '\e[4;36m'""$*""'\e[m'; }
		TaquaB () { printf '\e[1;36m'""$*""'\e[m'; }        ; TcyanU () { printf '\e[4;36m'""$*""'\e[m'; }
		TcyanB () { printf '\e[1;36m'""$*""'\e[m'; }        ; TgreyU () { printf '\e[4;37m'""$*""'\e[m'; }
		TwhiteB () { printf '\e[1;37m'""$*""'\e[m'; }       ; TwhiteU () { printf '\e[4;37m'""$*""'\e[m'; }
	##  Flashing Color Text  ##  Inverted Color Text  ##
		TblackF () { printf '\e[5;30m'""$*""'\e[m'; }       ; TblackI () { printf '\e[7;40m'""$*""'\e[m'; }
		TredF () { printf '\e[5;31m'""$*""'\e[m'; }         ; TredI () { printf '\e[7;41m'""$*""'\e[m'; }
		TgreenF () { printf '\e[5;32m'""$*""'\e[m'; }       ; TgreenI () { printf '\e[7;42m'""$*""'\e[m'; }
		TbrownF () { printf '\e[5;33m'""$*""'\e[m'; }       ; TbrownI () { printf '\e[7;43m'""$*""'\e[m'; }
		TyellowF () { printf '\e[5;33m'""$*""'\e[m'; }      ; TyellowI () { printf '\e[7;43m'""$*""'\e[m'; }
		TblueF () { printf '\e[5;34m'""$*""'\e[m'; }        ; TblueI () { printf '\e[7;44m'""$*""'\e[m'; }
		TmagentaF () { printf '\e[5;35m'""$*""'\e[m'; }     ; TmagentaI () { printf '\e[7;45m'""$*""'\e[m'; }
		TpurpleF () { printf '\e[5;35m'""$*""'\e[m'; }      ; TpurpleI () { printf '\e[7;45m'""$*""'\e[m'; }
		TaquaF () { printf '\e[5;36m'""$*""'\e[m'; }        ; TaquaI () { printf '\e[7;46m'""$*""'\e[m'; }
		TcyanF () { printf '\e[5;36m'""$*""'\e[m'; }        ; TcyanI () { printf '\e[7;46m'""$*""'\e[m'; }
		TgreyF () { printf '\e[5;37m'""$*""'\e[m'; }        ; TgreyI () { printf '\e[7;47m'""$*""'\e[m'; }
		TwhiteF () { printf '\e[5;37m'""$*""'\e[m'; }       ; TwhiteI () { printf '\e[7;47m'""$*""'\e[m'; }
	##  Invisible Color Text  ##  Plain Text on Color Background  ##
		TblackV () { printf '\e[8;30m'""$*""'\e[m'; }       ; Bblack () { printf '\e[m'""$*""'\e[m'; }
		TredV () { printf '\e[8;31m'""$*""'\e[m'; }         ; Bred () { printf '\e[0;41m'""$*""'\e[m'; }
		TgreenV () { printf '\e[8;32m'""$*""'\e[m'; }       ; Bgreen () { printf '\e[0;42m'""$*""'\e[m'; }
		TbrownV () { printf '\e[8;33m'""$*""'\e[m'; }       ; Bbrown () { printf '\e[0;43m'""$*""'\e[m'; }
		TyellowV () { printf '\e[8;33m'""$*""'\e[m'; }      ; Byellow () { printf '\e[0;43m'""$*""'\e[m'; }
		TblueV () { printf '\e[8;34m'""$*""'\e[m'; }        ; Bblue () { printf '\e[0;44m'""$*""'\e[m'; }
		TmagentaV () { printf '\e[8;35m'""$*""'\e[m'; }     ; Bmagenta () { printf '\e[0;45m'""$*""'\e[m'; }
		TpurpleV () { printf '\e[8;35m'""$*""'\e[m'; }      ; Bpurple () { printf '\e[0;45m'""$*""'\e[m'; }
		TaquaV () { printf '\e[8;36m'""$*""'\e[m'; }        ; Baqua () { printf '\e[0;46m'""$*""'\e[m'; }
		TcyanV () { printf '\e[8;36m'""$*""'\e[m'; }        ; Bcyan () { printf '\e[0;46m'""$*""'\e[m'; }
		TgreyV () { printf '\e[8;37m'""$*""'\e[m'; }        ; Bgrey () { printf '\e[0;47m'""$*""'\e[m'; }
		TwhiteV () { printf '\e[8;37m'""$*""'\e[m'; }       ; Bwhite () { printf '\e[0;47m'""$*""'\e[m'; }
	##  Bold Text on Color Background  ##  Underlined Text on Color Background  ##
		BblackB () { printf '\e[1;40m'""$*""'\e[m'; }       ; BblackU () { printf '\e[4;40m'""$*""'\e[m'; }
		BredB () { printf '\e[1;41m'""$*""'\e[m'; }         ; BredU () { printf '\e[4;41m'""$*""'\e[m'; }
		BgreenB () { printf '\e[1;42m'""$*""'\e[m'; }       ; BgreenU () { printf '\e[4;42m'""$*""'\e[m'; }
		BbrownB () { printf '\e[1;43m'""$*""'\e[m'; }       ; BbrownU () { printf '\e[4;43m'""$*""'\e[m'; }
		ByellowB () { printf '\e[1;43m'""$*""'\e[m'; }      ; ByellowU () { printf '\e[4;43m'""$*""'\e[m'; }
		BblueB () { printf '\e[1;44m'""$*""'\e[m'; }        ; BblueU () { printf '\e[4;44m'""$*""'\e[m'; }
		BmagentaB () { printf '\e[1;45m'""$*""'\e[m'; }     ; BmagentaU () { printf '\e[4;45m'""$*""'\e[m'; }
		BpurpleB () { printf '\e[1;45m'""$*""'\e[m'; }      ; BpurpleU () { printf '\e[4;45m'""$*""'\e[m'; }
		BaquaB () { printf '\e[1;46m'""$*""'\e[m'; }        ; BaquaU () { printf '\e[4;46m'""$*""'\e[m'; }
		BcyanB () { printf '\e[1;46m'""$*""'\e[m'; }        ; BcyanU () { printf '\e[4;46m'""$*""'\e[m'; }
		BgreyB () { printf '\e[1;47m'""$*""'\e[m'; }        ; BgreyU () { printf '\e[4;47m'""$*""'\e[m'; }
		BwhiteB () { printf '\e[1;47m'""$*""'\e[m'; }       ; BwhiteU () { printf '\e[4;47m'""$*""'\e[m'; }
	##  Flashing Text on Color Background  ##  Inverted Text on Color Background  ##
		BblackF () { printf '\e[5;40m'""$*""'\e[m'; }       ; BblackI () { printf '\e[7;30m'""$*""'\e[m'; }
		BredF () { printf '\e[5;41m'""$*""'\e[m'; }         ; BredI () { printf '\e[7;31m'""$*""'\e[m'; }
		BgreenF () { printf '\e[5;42m'""$*""'\e[m'; }       ; BgreenI () { printf '\e[7;32m'""$*""'\e[m'; }
		BbrownF () { printf '\e[5;43m'""$*""'\e[m'; }       ; BbrownI () { printf '\e[7;33m'""$*""'\e[m'; }
		ByellowF () { printf '\e[5;43m'""$*""'\e[m'; }      ; ByellowI () { printf '\e[7;33m'""$*""'\e[m'; }
		BblueF () { printf '\e[5;44m'""$*""'\e[m'; }        ; BblueI () { printf '\e[7;34m'""$*""'\e[m'; }
		BmagentaF () { printf '\e[5;45m'""$*""'\e[m'; }     ; BmagentaI () { printf '\e[7;35m'""$*""'\e[m'; }
		BpurpleF () { printf '\e[5;45m'""$*""'\e[m'; }      ; BpurpleI () { printf '\e[7;35m'""$*""'\e[m'; }
		BaquaF () { printf '\e[5;46m'""$*""'\e[m'; }        ; BaquaI () { printf '\e[7;36m'""$*""'\e[m'; }
		BcyanF () { printf '\e[5;46m'""$*""'\e[m'; }        ; BcyanI () { printf '\e[7;36m'""$*""'\e[m'; }
		BgreyF () { printf '\e[5;47m'""$*""'\e[m'; }        ; BgreyI () { printf '\e[7;37m'""$*""'\e[m'; }
		BwhiteF () { printf '\e[5;47m'""$*""'\e[m'; }       ; BwhiteI () { printf '\e[7;37m'""$*""'\e[m'; }
	##  Invisible Text on Color Background  ##  Color Code Notes  ##
		BblackV () { printf '\e[8;40m'""$*""'\e[m'; }     ## Unless I missed something or made a mistake, I   ##
		BredV () { printf '\e[8;41m'""$*""'\e[m'; }       ## calculate a total of 7681 different color codes, ##
		BgreenV () { printf '\e[8;42m'""$*""'\e[m'; }     ## none of which produce a duplicate result.        ##
		BbrownV () { printf '\e[8;43m'""$*""'\e[m'; }     ##                      These will be fine for now. ##
		ByellowV () { printf '\e[8;43m'""$*""'\e[m'; }
		BblueV () { printf '\e[8;44m'""$*""'\e[m'; }
		BmagentaV () { printf '\e[8;45m'""$*""'\e[m'; }
		BpurpleV () { printf '\e[8;45m'""$*""'\e[m'; }
		BaquaV () { printf '\e[8;46m'""$*""'\e[m'; }
		BcyanV () { printf '\e[8;46m'""$*""'\e[m'; }
		BgreyV () { printf '\e[8;47m'""$*""'\e[m'; }
		BwhiteV () { printf '\e[8;47m'""$*""'\e[m'; }
	##  ##

The only thing to keep in mind is when wanting a `%` percent sign or a `\` backslash, you need to double them up inside:<BR>
like:  `printf ""$(Tblue ""%%s"")\n"" 'hi'` <BR>
but not for `Tblue ""%s\n"" 'hi'`<BR>
or `printf ""$(Tblue ""%s"" 'hi')\n""`<BR>

Since these use printf, you can do stuff like:
	printf ""hi $(Tred there) man $(BaquaI ""%c"" '!') $(Bold 'This \\t is %%s') %s\n"" ""$(BgreenB 'super')"" ""$(Bblue mega Colorful)""
or in an echo:
	echo ""hi $(Tred there) man $(BaquaI ""%c"" '!') $(Bold 'This \\t is %s' ""$(BblackB 'super')"") $(Bblue mega Colorful)""
A more useful example:
	printf ""\t%s Volume \""%s\"" is not connected.\n"" ""$(TwhiteB [)$(TredB Error)$(TwhiteB \]:)"" ""$(Tbrown $Volume)""
Or with other commands:
	eval ""echo 'This is OSX' | sed 's:OSX:$(Invert [)$(TaquaF OSX)$(Invert ]):'""
Or something with a bit more swank:
	find . -exec stat -f ""Name: $(Tbrown %%N)%t%t$(Tpurple ""->"")%tPermissions: $(Tgreen %%Sp)"" {} \;

Use your imagination! Feel free all to use these...

**Some may say, what's the use of invisible text?**<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Not much, really... but it's there. I have used it a few times, but only to line up text when <I>""drawing""</I> with Unicode characters...
<HR>
<H2>Now for my questions...</H2>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<STRONG>1) The meta-question:</STRONG> If anyone out there feels like typing up a continuation of what I've started, can you please use the format above? or at least a similar format? Some examples are:

	TgreenBU			## Bold, underlined, green text ##
	TcyanBUFBblackI		## Bold cyan/aqua text that's underlined and flashing on an inverted black background ##

And so on... make up your own names so that it's possible to have all the permutations with minimal, yet clear parameter names. These are examples, but I haven't looked to see if these names conflict with others...
If someone out there likes these functions, uses them regularly, has some time, and woud like to give back something, can this mythical person please **post them for me on this question as a reply or email them to me at *[mdouglas34@hotmail.com]*[1]**. I'm too lazy to type up <I>all</I> the possibilities (I've quickly calculated over 7000 of them, but there may be many, many more if I missed something).<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<STRONG>2) The main question:</STRONG> Since I use these **`Color Functions`** all the time... in every script, I need to know something about another user's terminal:<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**Is there any way to determine the background color of a terminal** (without looking at it directly obviously)?<BR><BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**Can any other information be gleaned? Like if the terminal is set to handle colors? Perhaps their LSCOLORS or something to give hints at their terminal capabilities/settings?** I guess `$TERM` if set to `xterm-color`, that's a dead giveaway that colors are possible... but what are the capabilities of other terminals? Can `rxvt` produce the same colors? How is `xterm-256color` relate to this? can more colors be used than the standard 8? and 8 bold?<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basically, I want to write code that spits out color output and is suitable on any system running any terminal, with any setting. **Is there any way to get this information or is this only a pipe dream?**


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finally... **What about fonts? do all terminals use proportional/monospaced fonts? Is there any way to determine if a user has, say, unicode support?** It would be nice to konw if certain pretty yet fancy characters are not going to display property as they could be swapped with uglier, yet simpler characters.<BR><BR>

<H4>So basically, I'm looking for many ways to scan a non-local user's settings, environment, so that pretty-print code would be ported elsewhere.</H4>
Is there software writted for this purpose out there that I don't know of?

Sorry for all the questions... some precise, others a bit vague... I hope there will be lots of answers for me to pool together. Porting pretty-print is a major challenge in the unix world... I hope to make a dent in this battleship of a problem.

In the mean time all, feel free all to use my `Color Functions` as you see fit!

Enjoy!

-- <B><I>Aesthir</I></B>


  [1]: http://mdouglas34@hotmail.com",bash,shell,colors,portability,pretty-print,,open,0,2391,17,"Colorize text/background, how to make pretty-print portable? Also, large list of Color Functions written by Aesthir, enjoy? Although this isn't a specific question, I do have one.... but first, I'd like to share `[ Aesthir's Color Functions ]`...  it's not really trademarked ;^)  with all the shell-coders out there who would like things to look a bit nicer.  I use these religiously throughout all my scripts (70+ now), just for fun, to easily separate data and to organize better.

Below are the color functions that I use regularly... wrote them years ago and have gotten so used to them that they're a regular part of my scripting. They function as `printf` substitutes, so rather than boring old `printf ""Hello\n""`, a green hello simply `Tgreen ""Hello\n""` Just stick this code block into your .bashrc file, start a new session, and you're set!  Hell stick some into your PSn variables for easy color prompts. For instance, here is my select prompt: `export PS3=""$(Tmagenta 'Select')""`, and my sudo prompt: `export SUDO_PROMPT=""$(Tgreen 'Password') ""`. These are the ones I use:
<HR>

	##  ##
	##  [ Aesthir's Color Functions ]  ##
	##  ##
		Normal () { printf '\e[m'""$*""; }                  ; Tblack () { printf '\e[0;30m'""$*""'\e[m'; }
		TNormal () { printf '\e[m'""$*""; }                 ; Tred () { printf '\e[0;31m'""$*""'\e[m'; }
		Bold () { printf '\e[1m'""$*""'\e[m'; }             ; Tgreen () { printf '\e[0;32m'""$*""'\e[m'; }
		TBold () { printf '\e[1m'""$*""'\e[m'; }            ; Tbrown () { printf '\e[0;33m'""$*""'\e[m'; }
		Underline () { printf '\e[4m'""$*""'\e[m'; }        ; Tyellow () { printf '\e[0;33m'""$*""'\e[m'; }
		TUnderline () { printf '\e[4m'""$*""'\e[m'; }       ; Tblue () { printf '\e[0;34m'""$*""'\e[m'; }
		Flash () { printf '\e[5m'""$*""'\e[m'; }            ; Tmagenta () { printf '\e[0;35m'""$*""'\e[m'; }
		TFlash () { printf '\e[5m'""$*""'\e[m'; }           ; Tpurple () { printf '\e[0;35m'""$*""'\e[m'; }
		Invert () { printf '\e[7m'""$*""'\e[m'; }           ; Taqua () { printf '\e[0;36m'""$*""'\e[m'; }
		TInvert () { printf '\e[7m'""$*""'\e[m'; }          ; Tcyan () { printf '\e[0;36m'""$*""'\e[m'; }
		Invisible () { printf '\e[8m'""$*""'\e[m'; }        ; Tgrey () { printf '\e[0;37m'""$*""'\e[m'; }
		TInvisible () { printf '\e[8m'""$*""'\e[m'; }       ; Twhite () { printf '\e[0;37m'""$*""'\e[m'; }
	##  Bold Color Text  ##  Underlined Color Text  ##
		TblackB () { printf '\e[1;30m'""$*""'\e[m'; }       ; TblackU () { printf '\e[4;30m'""$*""'\e[m'; }
		TgreyB () { printf '\e[1;30m'""$*""'\e[m'; }        ; TredU () { printf '\e[4;31m'""$*""'\e[m'; }
		TredB () { printf '\e[1;31m'""$*""'\e[m'; }         ; TgreenU () { printf '\e[4;32m'""$*""'\e[m'; }
		TgreenB () { printf '\e[1;32m'""$*""'\e[m'; }       ; TbrownU () { printf '\e[4;33m'""$*""'\e[m'; }
		TbrownB () { printf '\e[1;33m'""$*""'\e[m'; }       ; TyellowU () { printf '\e[4;33m'""$*""'\e[m'; }
		TyellowB () { printf '\e[1;33m'""$*""'\e[m'; }      ; TblueU () { printf '\e[4;34m'""$*""'\e[m'; }
		TblueB () { printf '\e[1;34m'""$*""'\e[m'; }        ; TmagentaU () { printf '\e[4;35m'""$*""'\e[m'; }
		TmagentaB () { printf '\e[1;35m'""$*""'\e[m'; }     ; TpurpleU () { printf '\e[4;35m'""$*""'\e[m'; }
		TpurpleB () { printf '\e[1;35m'""$*""'\e[m'; }      ; TaquaU () { printf '\e[4;36m'""$*""'\e[m'; }
		TaquaB () { printf '\e[1;36m'""$*""'\e[m'; }        ; TcyanU () { printf '\e[4;36m'""$*""'\e[m'; }
		TcyanB () { printf '\e[1;36m'""$*""'\e[m'; }        ; TgreyU () { printf '\e[4;37m'""$*""'\e[m'; }
		TwhiteB () { printf '\e[1;37m'""$*""'\e[m'; }       ; TwhiteU () { printf '\e[4;37m'""$*""'\e[m'; }
	##  Flashing Color Text  ##  Inverted Color Text  ##
		TblackF () { printf '\e[5;30m'""$*""'\e[m'; }       ; TblackI () { printf '\e[7;40m'""$*""'\e[m'; }
		TredF () { printf '\e[5;31m'""$*""'\e[m'; }         ; TredI () { printf '\e[7;41m'""$*""'\e[m'; }
		TgreenF () { printf '\e[5;32m'""$*""'\e[m'; }       ; TgreenI () { printf '\e[7;42m'""$*""'\e[m'; }
		TbrownF () { printf '\e[5;33m'""$*""'\e[m'; }       ; TbrownI () { printf '\e[7;43m'""$*""'\e[m'; }
		TyellowF () { printf '\e[5;33m'""$*""'\e[m'; }      ; TyellowI () { printf '\e[7;43m'""$*""'\e[m'; }
		TblueF () { printf '\e[5;34m'""$*""'\e[m'; }        ; TblueI () { printf '\e[7;44m'""$*""'\e[m'; }
		TmagentaF () { printf '\e[5;35m'""$*""'\e[m'; }     ; TmagentaI () { printf '\e[7;45m'""$*""'\e[m'; }
		TpurpleF () { printf '\e[5;35m'""$*""'\e[m'; }      ; TpurpleI () { printf '\e[7;45m'""$*""'\e[m'; }
		TaquaF () { printf '\e[5;36m'""$*""'\e[m'; }        ; TaquaI () { printf '\e[7;46m'""$*""'\e[m'; }
		TcyanF () { printf '\e[5;36m'""$*""'\e[m'; }        ; TcyanI () { printf '\e[7;46m'""$*""'\e[m'; }
		TgreyF () { printf '\e[5;37m'""$*""'\e[m'; }        ; TgreyI () { printf '\e[7;47m'""$*""'\e[m'; }
		TwhiteF () { printf '\e[5;37m'""$*""'\e[m'; }       ; TwhiteI () { printf '\e[7;47m'""$*""'\e[m'; }
	##  Invisible Color Text  ##  Plain Text on Color Background  ##
		TblackV () { printf '\e[8;30m'""$*""'\e[m'; }       ; Bblack () { printf '\e[m'""$*""'\e[m'; }
		TredV () { printf '\e[8;31m'""$*""'\e[m'; }         ; Bred () { printf '\e[0;41m'""$*""'\e[m'; }
		TgreenV () { printf '\e[8;32m'""$*""'\e[m'; }       ; Bgreen () { printf '\e[0;42m'""$*""'\e[m'; }
		TbrownV () { printf '\e[8;33m'""$*""'\e[m'; }       ; Bbrown () { printf '\e[0;43m'""$*""'\e[m'; }
		TyellowV () { printf '\e[8;33m'""$*""'\e[m'; }      ; Byellow () { printf '\e[0;43m'""$*""'\e[m'; }
		TblueV () { printf '\e[8;34m'""$*""'\e[m'; }        ; Bblue () { printf '\e[0;44m'""$*""'\e[m'; }
		TmagentaV () { printf '\e[8;35m'""$*""'\e[m'; }     ; Bmagenta () { printf '\e[0;45m'""$*""'\e[m'; }
		TpurpleV () { printf '\e[8;35m'""$*""'\e[m'; }      ; Bpurple () { printf '\e[0;45m'""$*""'\e[m'; }
		TaquaV () { printf '\e[8;36m'""$*""'\e[m'; }        ; Baqua () { printf '\e[0;46m'""$*""'\e[m'; }
		TcyanV () { printf '\e[8;36m'""$*""'\e[m'; }        ; Bcyan () { printf '\e[0;46m'""$*""'\e[m'; }
		TgreyV () { printf '\e[8;37m'""$*""'\e[m'; }        ; Bgrey () { printf '\e[0;47m'""$*""'\e[m'; }
		TwhiteV () { printf '\e[8;37m'""$*""'\e[m'; }       ; Bwhite () { printf '\e[0;47m'""$*""'\e[m'; }
	##  Bold Text on Color Background  ##  Underlined Text on Color Background  ##
		BblackB () { printf '\e[1;40m'""$*""'\e[m'; }       ; BblackU () { printf '\e[4;40m'""$*""'\e[m'; }
		BredB () { printf '\e[1;41m'""$*""'\e[m'; }         ; BredU () { printf '\e[4;41m'""$*""'\e[m'; }
		BgreenB () { printf '\e[1;42m'""$*""'\e[m'; }       ; BgreenU () { printf '\e[4;42m'""$*""'\e[m'; }
		BbrownB () { printf '\e[1;43m'""$*""'\e[m'; }       ; BbrownU () { printf '\e[4;43m'""$*""'\e[m'; }
		ByellowB () { printf '\e[1;43m'""$*""'\e[m'; }      ; ByellowU () { printf '\e[4;43m'""$*""'\e[m'; }
		BblueB () { printf '\e[1;44m'""$*""'\e[m'; }        ; BblueU () { printf '\e[4;44m'""$*""'\e[m'; }
		BmagentaB () { printf '\e[1;45m'""$*""'\e[m'; }     ; BmagentaU () { printf '\e[4;45m'""$*""'\e[m'; }
		BpurpleB () { printf '\e[1;45m'""$*""'\e[m'; }      ; BpurpleU () { printf '\e[4;45m'""$*""'\e[m'; }
		BaquaB () { printf '\e[1;46m'""$*""'\e[m'; }        ; BaquaU () { printf '\e[4;46m'""$*""'\e[m'; }
		BcyanB () { printf '\e[1;46m'""$*""'\e[m'; }        ; BcyanU () { printf '\e[4;46m'""$*""'\e[m'; }
		BgreyB () { printf '\e[1;47m'""$*""'\e[m'; }        ; BgreyU () { printf '\e[4;47m'""$*""'\e[m'; }
		BwhiteB () { printf '\e[1;47m'""$*""'\e[m'; }       ; BwhiteU () { printf '\e[4;47m'""$*""'\e[m'; }
	##  Flashing Text on Color Background  ##  Inverted Text on Color Background  ##
		BblackF () { printf '\e[5;40m'""$*""'\e[m'; }       ; BblackI () { printf '\e[7;30m'""$*""'\e[m'; }
		BredF () { printf '\e[5;41m'""$*""'\e[m'; }         ; BredI () { printf '\e[7;31m'""$*""'\e[m'; }
		BgreenF () { printf '\e[5;42m'""$*""'\e[m'; }       ; BgreenI () { printf '\e[7;32m'""$*""'\e[m'; }
		BbrownF () { printf '\e[5;43m'""$*""'\e[m'; }       ; BbrownI () { printf '\e[7;33m'""$*""'\e[m'; }
		ByellowF () { printf '\e[5;43m'""$*""'\e[m'; }      ; ByellowI () { printf '\e[7;33m'""$*""'\e[m'; }
		BblueF () { printf '\e[5;44m'""$*""'\e[m'; }        ; BblueI () { printf '\e[7;34m'""$*""'\e[m'; }
		BmagentaF () { printf '\e[5;45m'""$*""'\e[m'; }     ; BmagentaI () { printf '\e[7;35m'""$*""'\e[m'; }
		BpurpleF () { printf '\e[5;45m'""$*""'\e[m'; }      ; BpurpleI () { printf '\e[7;35m'""$*""'\e[m'; }
		BaquaF () { printf '\e[5;46m'""$*""'\e[m'; }        ; BaquaI () { printf '\e[7;36m'""$*""'\e[m'; }
		BcyanF () { printf '\e[5;46m'""$*""'\e[m'; }        ; BcyanI () { printf '\e[7;36m'""$*""'\e[m'; }
		BgreyF () { printf '\e[5;47m'""$*""'\e[m'; }        ; BgreyI () { printf '\e[7;37m'""$*""'\e[m'; }
		BwhiteF () { printf '\e[5;47m'""$*""'\e[m'; }       ; BwhiteI () { printf '\e[7;37m'""$*""'\e[m'; }
	##  Invisible Text on Color Background  ##  Color Code Notes  ##
		BblackV () { printf '\e[8;40m'""$*""'\e[m'; }     ## Unless I missed something or made a mistake, I   ##
		BredV () { printf '\e[8;41m'""$*""'\e[m'; }       ## calculate a total of 7681 different color codes, ##
		BgreenV () { printf '\e[8;42m'""$*""'\e[m'; }     ## none of which produce a duplicate result.        ##
		BbrownV () { printf '\e[8;43m'""$*""'\e[m'; }     ##                      These will be fine for now. ##
		ByellowV () { printf '\e[8;43m'""$*""'\e[m'; }
		BblueV () { printf '\e[8;44m'""$*""'\e[m'; }
		BmagentaV () { printf '\e[8;45m'""$*""'\e[m'; }
		BpurpleV () { printf '\e[8;45m'""$*""'\e[m'; }
		BaquaV () { printf '\e[8;46m'""$*""'\e[m'; }
		BcyanV () { printf '\e[8;46m'""$*""'\e[m'; }
		BgreyV () { printf '\e[8;47m'""$*""'\e[m'; }
		BwhiteV () { printf '\e[8;47m'""$*""'\e[m'; }
	##  ##

The only thing to keep in mind is when wanting a `%` percent sign or a `\` backslash, you need to double them up inside:<BR>
like:  `printf ""$(Tblue ""%%s"")\n"" 'hi'` <BR>
but not for `Tblue ""%s\n"" 'hi'`<BR>
or `printf ""$(Tblue ""%s"" 'hi')\n""`<BR>

Since these use printf, you can do stuff like:
	printf ""hi $(Tred there) man $(BaquaI ""%c"" '!') $(Bold 'This \\t is %%s') %s\n"" ""$(BgreenB 'super')"" ""$(Bblue mega Colorful)""
or in an echo:
	echo ""hi $(Tred there) man $(BaquaI ""%c"" '!') $(Bold 'This \\t is %s' ""$(BblackB 'super')"") $(Bblue mega Colorful)""
A more useful example:
	printf ""\t%s Volume \""%s\"" is not connected.\n"" ""$(TwhiteB [)$(TredB Error)$(TwhiteB \]:)"" ""$(Tbrown $Volume)""
Or with other commands:
	eval ""echo 'This is OSX' | sed 's:OSX:$(Invert [)$(TaquaF OSX)$(Invert ]):'""
Or something with a bit more swank:
	find . -exec stat -f ""Name: $(Tbrown %%N)%t%t$(Tpurple ""->"")%tPermissions: $(Tgreen %%Sp)"" {} \;

Use your imagination! Feel free all to use these...

**Some may say, what's the use of invisible text?**<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Not much, really... but it's there. I have used it a few times, but only to line up text when <I>""drawing""</I> with Unicode characters...
<HR>
<H2>Now for my questions...</H2>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<STRONG>1) The meta-question:</STRONG> If anyone out there feels like typing up a continuation of what I've started, can you please use the format above? or at least a similar format? Some examples are:

	TgreenBU			## Bold, underlined, green text ##
	TcyanBUFBblackI		## Bold cyan/aqua text that's underlined and flashing on an inverted black background ##

And so on... make up your own names so that it's possible to have all the permutations with minimal, yet clear parameter names. These are examples, but I haven't looked to see if these names conflict with others...
If someone out there likes these functions, uses them regularly, has some time, and woud like to give back something, can this mythical person please **post them for me on this question as a reply or email them to me at *[mdouglas34@hotmail.com]*[1]**. I'm too lazy to type up <I>all</I> the possibilities (I've quickly calculated over 7000 of them, but there may be many, many more if I missed something).<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<STRONG>2) The main question:</STRONG> Since I use these **`Color Functions`** all the time... in every script, I need to know something about another user's terminal:<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**Is there any way to determine the background color of a terminal** (without looking at it directly obviously)?<BR><BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**Can any other information be gleaned? Like if the terminal is set to handle colors? Perhaps their LSCOLORS or something to give hints at their terminal capabilities/settings?** I guess `$TERM` if set to `xterm-color`, that's a dead giveaway that colors are possible... but what are the capabilities of other terminals? Can `rxvt` produce the same colors? How is `xterm-256color` relate to this? can more colors be used than the standard 8? and 8 bold?<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basically, I want to write code that spits out color output and is suitable on any system running any terminal, with any setting. **Is there any way to get this information or is this only a pipe dream?**


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finally... **What about fonts? do all terminals use proportional/monospaced fonts? Is there any way to determine if a user has, say, unicode support?** It would be nice to konw if certain pretty yet fancy characters are not going to display property as they could be swapped with uglier, yet simpler characters.<BR><BR>

<H4>So basically, I'm looking for many ways to scan a non-local user's settings, environment, so that pretty-print code would be ported elsewhere.</H4>
Is there software writted for this purpose out there that I don't know of?

Sorry for all the questions... some precise, others a bit vague... I hope there will be lots of answers for me to pool together. Porting pretty-print is a major challenge in the unix world... I hope to make a dent in this battleship of a problem.

In the mean time all, feel free all to use my `Color Functions` as you see fit!

Enjoy!

-- <B><I>Aesthir</I></B>


  [1]: http://mdouglas34@hotmail.com",5
2471528,03/18/2010 16:23:16,150571,08/04/2009 19:18:46,8,0,How to parse POST data in a CGI script with BASH scripting?,"I Have a cgi script written with bash and i have to read a POST variable sent to this file.
I am not good at bash scripting so i really need this help.

From a php script I send a POST variable named log_message to this cgi but i don't know how to parse the POST var from the header. 

Any help? ",bash,cgi,parsing,,,02/16/2012 19:35:36,too localized,1,61,12,"How to parse POST data in a CGI script with BASH scripting? I Have a cgi script written with bash and i have to read a POST variable sent to this file.
I am not good at bash scripting so i really need this help.

From a php script I send a POST variable named log_message to this cgi but i don't know how to parse the POST var from the header. 

Any help? ",3
11587246,07/20/2012 21:37:00,1371011,05/02/2012 20:21:52,31,0,print the line on which text occurs using grep bash,"I would like to grep a file for certain text, and output ONLY the line number on which it occurs. Example:

File.text:

firstsentance
secondsentance
thirdsentance


if I grep for secondsentance I should receive an output of 2.  

 ",bash,grep,,,,,open,0,35,10,"print the line on which text occurs using grep bash I would like to grep a file for certain text, and output ONLY the line number on which it occurs. Example:

File.text:

firstsentance
secondsentance
thirdsentance


if I grep for secondsentance I should receive an output of 2.  

 ",2
3776061,09/23/2010 07:02:01,451404,09/18/2010 13:34:47,1,0,Unix Command in EXPECT script,"Whenever i try to run the script, it doesn't show me any result on standard output ?


#!/usr/bin/expect --
send [exec tail -f /var/opt/jboss/log/jbossall.log | grep -i ""pattern""]

Please advice the reason.",bash,command,expect,script,,,open,0,29,5,"Unix Command in EXPECT script Whenever i try to run the script, it doesn't show me any result on standard output ?


#!/usr/bin/expect --
send [exec tail -f /var/opt/jboss/log/jbossall.log | grep -i ""pattern""]

Please advice the reason.",4
9856390,03/24/2012 22:56:17,1102994,12/17/2011 02:11:01,20,0,Some troubles with using sed and awk,"Right now I have some troubles. I'm finding a way to solve one problem. I have some file in the tree whose names are stdout-captured, stderr-captured and status-capture and I have to rename these files to stdout-expected, stderr-expected and status-expected. 
Thanks for your help.",bash,unix,script,sed,awk,03/26/2012 12:26:53,not a real question,1,44,7,"Some troubles with using sed and awk Right now I have some troubles. I'm finding a way to solve one problem. I have some file in the tree whose names are stdout-captured, stderr-captured and status-capture and I have to rename these files to stdout-expected, stderr-expected and status-expected. 
Thanks for your help.",5
10402536,05/01/2012 18:45:43,494074,10/23/2010 21:32:53,946,19,How can I get getopts source?,My embedded device uses busybox and it only has getopt. I wanted to port getopts to my embedded device and was looking for getopts source to do that. Where can I find getopts source?,bash,getopts,,,,,open,0,34,6,How can I get getopts source? My embedded device uses busybox and it only has getopt. I wanted to port getopts to my embedded device and was looking for getopts source to do that. Where can I find getopts source?,2
8628121,12/25/2011 03:54:24,1037059,11/09/2011 06:41:12,21,0,Uses of Bash scripting in C / C++ programming projects.,"In what ways are scripting languages (especially bash) is used to manage large C++/C programming projects? 

It will be helpful if someone can list some clever uses of scripts in their programming projects at automating certain tasks.  



",bash,script,project,,,12/26/2011 00:20:41,not constructive,1,39,10,"Uses of Bash scripting in C / C++ programming projects. In what ways are scripting languages (especially bash) is used to manage large C++/C programming projects? 

It will be helpful if someone can list some clever uses of scripts in their programming projects at automating certain tasks.  



",3
7864869,10/23/2011 07:14:05,176824,09/21/2009 21:57:06,99,1,Using awk for conditional find/replace,"I want to solve a common but very specific problem: due to OCR errors, a lot of subtitle files contain the character ""I"" (upper case i) instead of ""l"" (lower case L).

My plan of attack is:

1. Process the file word by word
2. Pass each word to the hunspell spellchecker (""echo the-word | hunspell -l"" produces no response at all if it is valid, and a response if it is bad)
3. If it is a bad word, AND it has uppercase Is in it, then replace these with lowercase l and try again.  If it is now a valid word, replace the original word.

I could certainly tokenize and reconstruct the entire file in a script, but before I go down that path I was wondering if it is possible to use awk and/or sed for these kinds of conditional operations at the word-level?  

Any other suggested approaches would also be very welcome!  Thanking you in advance.",bash,sed,awk,hunspell,spellcheck,,open,0,158,5,"Using awk for conditional find/replace I want to solve a common but very specific problem: due to OCR errors, a lot of subtitle files contain the character ""I"" (upper case i) instead of ""l"" (lower case L).

My plan of attack is:

1. Process the file word by word
2. Pass each word to the hunspell spellchecker (""echo the-word | hunspell -l"" produces no response at all if it is valid, and a response if it is bad)
3. If it is a bad word, AND it has uppercase Is in it, then replace these with lowercase l and try again.  If it is now a valid word, replace the original word.

I could certainly tokenize and reconstruct the entire file in a script, but before I go down that path I was wondering if it is possible to use awk and/or sed for these kinds of conditional operations at the word-level?  

Any other suggested approaches would also be very welcome!  Thanking you in advance.",5
10543622,05/10/2012 23:45:38,1388323,05/10/2012 23:39:30,1,0,Run program script bash,"Hay guys i am running a dedicated server,  i am running ammong other things a terraria server.
for the program to run i have to keep a ssh connection open to the dedicated server this, this is not the best option because putty can freeze up a lot. so i want to be able to launch the program and put in the options for it in the bash script e.g 
once launched the program will print this to screen.

please choose world
1.XXXXX
2.YYYYY

and i have to chose 1 or 2 i want to be able to do all this in the bash script so it can run in the background without me needing a terminal window open.

This is what i have so far i can launch the program

#!/bin/sh
/usr/bin/mono /etc/tshockter/TerrariaServer.exe ""$@""


im a networker not a scripter so this is kinda hard for me.

thanks

Ben",bash,,,,,05/11/2012 09:54:22,not a real question,1,140,4,"Run program script bash Hay guys i am running a dedicated server,  i am running ammong other things a terraria server.
for the program to run i have to keep a ssh connection open to the dedicated server this, this is not the best option because putty can freeze up a lot. so i want to be able to launch the program and put in the options for it in the bash script e.g 
once launched the program will print this to screen.

please choose world
1.XXXXX
2.YYYYY

and i have to chose 1 or 2 i want to be able to do all this in the bash script so it can run in the background without me needing a terminal window open.

This is what i have so far i can launch the program

#!/bin/sh
/usr/bin/mono /etc/tshockter/TerrariaServer.exe ""$@""


im a networker not a scripter so this is kinda hard for me.

thanks

Ben",1
7958722,10/31/2011 19:33:35,171546,09/10/2009 16:13:36,1306,16,Specify location of input and output files for a binary file in bash,"In a bash script called through shell in some directory ($PWD), there is a line where I need to call an executable located at $PWD/bin so that it reads a input file located at $PWD/inputfiles and the resulting output files are stored in $PWD/output. I only have the binary of this program, so can not modify source code of the program. Nevertheless, can this be achieved? I mean, given a general program designed for reading the input file and writing output files in the same directory from where it is called, how can one pass to it a variable with the PATH of input files and another PATH for the desired location of the output files.",bash,path,redirection,binaryfiles,,,open,0,116,13,"Specify location of input and output files for a binary file in bash In a bash script called through shell in some directory ($PWD), there is a line where I need to call an executable located at $PWD/bin so that it reads a input file located at $PWD/inputfiles and the resulting output files are stored in $PWD/output. I only have the binary of this program, so can not modify source code of the program. Nevertheless, can this be achieved? I mean, given a general program designed for reading the input file and writing output files in the same directory from where it is called, how can one pass to it a variable with the PATH of input files and another PATH for the desired location of the output files.",4
11719041,07/30/2012 09:51:39,380451,06/30/2010 19:41:12,755,28,What's your .bash_profile look like?,"After looking at some [example](http://www.devdaily.com/blog/post/mac-os-x/sample-mac-osx-bashrc-terminal-startup-file) .bash_profiles online, I was curious what shortcuts and tricks people have hidden in their .bash_profiles.

What's you's look like? Any clever things you use?",bash,unix,configuration,terminal,.bash-profile,07/30/2012 11:50:09,not constructive,1,28,5,"What's your .bash_profile look like? After looking at some [example](http://www.devdaily.com/blog/post/mac-os-x/sample-mac-osx-bashrc-terminal-startup-file) .bash_profiles online, I was curious what shortcuts and tricks people have hidden in their .bash_profiles.

What's you's look like? Any clever things you use?",5
3609230,08/31/2010 12:56:11,400575,07/23/2010 18:54:30,8,0,Best(?) way to make a popup menu for semi-portable shell scripts?,"Basically I would love to say:

      echo `grep ^foo /usr/share/dict/words | popup_menu`

...and have some type of keyboard navigable menu popup or selection tool, very similar to how vim's "":Explore"" mechanism works.

Extreme bonus points for ""easy and works pretty much everywhere with standard tools""

Also acceptable is ""needs some sort of extra config file or 5-10 line shell script""

Less acceptable is ""go download this perl library or 100 line python script, etc..."" at that point, I would rather just try to find some actual program / package to install and list it as a hard dependency.  But if you can come up with a 2-5 line perl / python script that doesn't require tracking down libraries that'd probably work too.


I have investigated: 

* Dialog - appears more geared towards ""shell application"" instead of ad-hoc scripting (looks like there might be a way to make it do what I want, though), drawback is that it overwrites the current screen state

* Curses - seems like it targets ""C"" or would need to be used as part of a perl / python library, would have to write my own menu program using this

* bash ""select"" builtin - works via number selection, not keyboard navigation, is a little awkward to use but fairly close

* Vim - ""grep ^foo /usr/share/dict/words | vim -"" ... this gets you surprisingly close, just missing ""bind the enter key to print current line to terminal and exit""

...so, how do I go about making or finding a decent, simple, ad-hoc menu maker for use in bash scripts and when I'm being lazy on the command line?

     ... git checkout -b `git branch -a | menu`
     ... ssh `grep foo /etc/hosts | menu`
     ... rm `ls | menu`  # ignore obvious quoting issues with this...
",bash,scripting,shell,menu,interactive,,open,0,311,11,"Best(?) way to make a popup menu for semi-portable shell scripts? Basically I would love to say:

      echo `grep ^foo /usr/share/dict/words | popup_menu`

...and have some type of keyboard navigable menu popup or selection tool, very similar to how vim's "":Explore"" mechanism works.

Extreme bonus points for ""easy and works pretty much everywhere with standard tools""

Also acceptable is ""needs some sort of extra config file or 5-10 line shell script""

Less acceptable is ""go download this perl library or 100 line python script, etc..."" at that point, I would rather just try to find some actual program / package to install and list it as a hard dependency.  But if you can come up with a 2-5 line perl / python script that doesn't require tracking down libraries that'd probably work too.


I have investigated: 

* Dialog - appears more geared towards ""shell application"" instead of ad-hoc scripting (looks like there might be a way to make it do what I want, though), drawback is that it overwrites the current screen state

* Curses - seems like it targets ""C"" or would need to be used as part of a perl / python library, would have to write my own menu program using this

* bash ""select"" builtin - works via number selection, not keyboard navigation, is a little awkward to use but fairly close

* Vim - ""grep ^foo /usr/share/dict/words | vim -"" ... this gets you surprisingly close, just missing ""bind the enter key to print current line to terminal and exit""

...so, how do I go about making or finding a decent, simple, ad-hoc menu maker for use in bash scripts and when I'm being lazy on the command line?

     ... git checkout -b `git branch -a | menu`
     ... ssh `grep foo /etc/hosts | menu`
     ... rm `ls | menu`  # ignore obvious quoting issues with this...
",5
5139753,02/28/2011 08:43:20,345859,05/20/2010 08:06:31,136,0,how to tar with a prefix directory,"I want to tar the directory /opt/mydir
into a directory /opt/myprefix/mydir

how can I do that with tar command? (solaris)

thanks",bash,shell,solaris,,,02/28/2011 13:37:41,off topic,1,18,7,"how to tar with a prefix directory I want to tar the directory /opt/mydir
into a directory /opt/myprefix/mydir

how can I do that with tar command? (solaris)

thanks",3
1010748,06/18/2009 04:15:11,104015,05/09/2009 09:59:12,381,1,how to scp across servers using bash?,"Is it doable?

",bash,scp,,,,06/02/2011 00:52:05,off topic,1,3,7,"how to scp across servers using bash? Is it doable?

",2
2013396,01/06/2010 13:59:46,148423,07/31/2009 10:44:10,1996,71,Mutable list or array structure in Bash? How can I easily append to it?,I'm trying to collect string values in a bash script. What's the simplest way that I can append string values to a list or array structure such that I can echo them out at the end?,bash,arrays,scripting,,,,open,0,36,14,Mutable list or array structure in Bash? How can I easily append to it? I'm trying to collect string values in a bash script. What's the simplest way that I can append string values to a list or array structure such that I can echo them out at the end?,3
4405355,12/10/2010 03:23:15,134482,07/07/2009 19:35:53,471,6,Help with a curl command and reading from a file,"I have a curl command that needs to make a post and send my ssh key as one of the params, the command I am using looks like this:

    SSH_KEY=`cat ~/.ssh/id_rsa.pub`;
    curl -d ""login=username&token=apikey&title=test&key=$SSH_KEY"" http://github.com/api/v2/yaml/repos/key/username/somerepo/add

The problem is that there is a `+` in the ssh key and the string is terminating at that point, how can I avoid this?",bash,shell,scripting,curl,github,,open,0,65,10,"Help with a curl command and reading from a file I have a curl command that needs to make a post and send my ssh key as one of the params, the command I am using looks like this:

    SSH_KEY=`cat ~/.ssh/id_rsa.pub`;
    curl -d ""login=username&token=apikey&title=test&key=$SSH_KEY"" http://github.com/api/v2/yaml/repos/key/username/somerepo/add

The problem is that there is a `+` in the ssh key and the string is terminating at that point, how can I avoid this?",5
10217029,04/18/2012 19:58:03,1342358,04/18/2012 19:39:56,1,0,Can you echo F-Keys through a Pipe to another program?,"I am trying to write a short bash hack that requires piping keystrokes of the F-Keys
basically what I am trying to do is:

    (echo ""1""; ""for x in 1..9; do echo ""123<F1>34<F3>""; done; echo ""<F1>"")|./program

where <F#> is the F-key with that #

is this possible? if so can some one point me to the docs, or something

",bash,pipes,stdin,,,,open,0,59,10,"Can you echo F-Keys through a Pipe to another program? I am trying to write a short bash hack that requires piping keystrokes of the F-Keys
basically what I am trying to do is:

    (echo ""1""; ""for x in 1..9; do echo ""123<F1>34<F3>""; done; echo ""<F1>"")|./program

where <F#> is the F-key with that #

is this possible? if so can some one point me to the docs, or something

",3
9451068,02/26/2012 06:24:21,1122042,12/29/2011 22:43:45,-3,0,How to create functions in Bash,"I want to create two function to call and convert temperature 
Can you please provide me an example of functions for temperature conversion.
Thanks",bash,function,shell,script,,02/26/2012 16:53:09,not a real question,1,23,6,"How to create functions in Bash I want to create two function to call and convert temperature 
Can you please provide me an example of functions for temperature conversion.
Thanks",4
8330334,11/30/2011 17:33:10,859453,07/23/2011 15:54:48,22,0,The exactly use of string comparison operator __TO-DO__ in Bash,I'd like to know the exactly and correct way to use __TO-DO__ in a Bash script. I don't understand how to use it.,bash,string-comparison,todo,,,11/30/2011 17:37:54,not a real question,1,23,10,The exactly use of string comparison operator __TO-DO__ in Bash I'd like to know the exactly and correct way to use __TO-DO__ in a Bash script. I don't understand how to use it.,3
10569217,05/13/2012 03:55:12,735796,05/03/2011 08:54:43,240,22,Why is this script so slow?,"I've written a recursive descent parser in bash. But its just suuuuuper slow. I'm wondering if you can point something out to me or help me to rewrite this in AWK. I'm not an awk programmer (yet) but since its all laid out in functions, if a translation is needed it shouldn't be but a 20 minute workout if you know awk well enough.

It supports backslash escapes and quoted fields with parse error reporting.

The script works like `cut` in some ways.. taking input from file or `stdin` allowing the user to select which line and which field they would like printed out. using options `-l` and `-f` respectively.

Weighing in at 115 lines of code, I don't see much room for optimization but I could be wrong.

    #!/bin/bash

    shopt -s extglob;

    declare field='' lineNum=1 thisLine=0;

    while [[ ${1:0:1} = '-' ]]; do # Parse user arguments

        case $1 in
            -f)
                field=$2; shift 2;
            ;;
            -l)
                lineNum=$2; shift 2;
            ;;
            *) break;;
        esac
        
    done

    [[ -e ""$1"" ]] && exec 0<$1;

    until [[ $thisLine -eq $lineNum ]]; do read -r; let thisLine++; done

    declare symbol input=$REPLY strLen=${#REPLY} value='';
    declare -i iPos=-1 tPos
    declare comma=',' quote='""' backslash='\' text='[^,\""\\]';

    declare -a items=();

    NextSymbol() {
        
        iPos+=1;
        
        symbol=""${input:iPos:1}"";
        
        (( iPos < strLen ));
        
    }

    Accept() {
        [[ ""$symbol"" = '' && ""$1"" = '' ]] && return 0; # accept ""nothing/empty"" 
        [[ ""$symbol"" = '\' && ""$1"" = '\' ]] && NextSymbol && return 0; # back slash
        [[ ""$symbol"" =~ ^${1}$ ]] && NextSymbol && return 0; # non-terminals
    }

    Expect() {
        Accept ""$1"" && return
        msg=""$0: parse fail: line $lineNum: expected symbol:""
        echo ""$msg '${1:-end of input}'"" >&2;
        exit 1;
    }

    value() {
        
        while Accept $text; do
            value+=${input:iPos-1:1};
        done
               
        Accept $nothing && {
            value+=${input:iPos-1:1} 
            pushValue;
        }

    }

    pushValue() {
        items[tPos++]=$value;
        value='';
    }

    slashBack() {
        value+=$symbol;
        NextSymbol;
        value;
    }

    quote() {
        until [[ $symbol = $quote || $symbol = '' ]]; do
            value+=$symbol;
            NextSymbol;
        done
        Expect $quote;
    }

    line() {
        
        Accept $quote && {
            quote
            line;
        }
        
        Accept $backslash && {
            slashBack;
            line;
        }

        Accept $comma && {
            pushValue;
            line;
        }

        Accept $text && {
            value=${input:iPos-1:1};
            value;
            line;
        }
        
    }

    NextSymbol;
        line;
            Expect $nothing;
            
    echo ""${items[field-1]}""
",bash,csv,awk,recursive-descent,,05/13/2012 23:17:08,off topic,1,1030,6,"Why is this script so slow? I've written a recursive descent parser in bash. But its just suuuuuper slow. I'm wondering if you can point something out to me or help me to rewrite this in AWK. I'm not an awk programmer (yet) but since its all laid out in functions, if a translation is needed it shouldn't be but a 20 minute workout if you know awk well enough.

It supports backslash escapes and quoted fields with parse error reporting.

The script works like `cut` in some ways.. taking input from file or `stdin` allowing the user to select which line and which field they would like printed out. using options `-l` and `-f` respectively.

Weighing in at 115 lines of code, I don't see much room for optimization but I could be wrong.

    #!/bin/bash

    shopt -s extglob;

    declare field='' lineNum=1 thisLine=0;

    while [[ ${1:0:1} = '-' ]]; do # Parse user arguments

        case $1 in
            -f)
                field=$2; shift 2;
            ;;
            -l)
                lineNum=$2; shift 2;
            ;;
            *) break;;
        esac
        
    done

    [[ -e ""$1"" ]] && exec 0<$1;

    until [[ $thisLine -eq $lineNum ]]; do read -r; let thisLine++; done

    declare symbol input=$REPLY strLen=${#REPLY} value='';
    declare -i iPos=-1 tPos
    declare comma=',' quote='""' backslash='\' text='[^,\""\\]';

    declare -a items=();

    NextSymbol() {
        
        iPos+=1;
        
        symbol=""${input:iPos:1}"";
        
        (( iPos < strLen ));
        
    }

    Accept() {
        [[ ""$symbol"" = '' && ""$1"" = '' ]] && return 0; # accept ""nothing/empty"" 
        [[ ""$symbol"" = '\' && ""$1"" = '\' ]] && NextSymbol && return 0; # back slash
        [[ ""$symbol"" =~ ^${1}$ ]] && NextSymbol && return 0; # non-terminals
    }

    Expect() {
        Accept ""$1"" && return
        msg=""$0: parse fail: line $lineNum: expected symbol:""
        echo ""$msg '${1:-end of input}'"" >&2;
        exit 1;
    }

    value() {
        
        while Accept $text; do
            value+=${input:iPos-1:1};
        done
               
        Accept $nothing && {
            value+=${input:iPos-1:1} 
            pushValue;
        }

    }

    pushValue() {
        items[tPos++]=$value;
        value='';
    }

    slashBack() {
        value+=$symbol;
        NextSymbol;
        value;
    }

    quote() {
        until [[ $symbol = $quote || $symbol = '' ]]; do
            value+=$symbol;
            NextSymbol;
        done
        Expect $quote;
    }

    line() {
        
        Accept $quote && {
            quote
            line;
        }
        
        Accept $backslash && {
            slashBack;
            line;
        }

        Accept $comma && {
            pushValue;
            line;
        }

        Accept $text && {
            value=${input:iPos-1:1};
            value;
            line;
        }
        
    }

    NextSymbol;
        line;
            Expect $nothing;
            
    echo ""${items[field-1]}""
",4
11594178,07/21/2012 17:07:08,805284,06/19/2011 11:44:34,381,18,bash: colorized man page,"Where do I have to take a look at in the system to colorize the man pages?

The man pages are viewed with less, so I tried adding the following lines to my .bashrc to change the colors: (Which works fine, btw.)

     # LESS COLORS FOR MAN PAGES
    export LESS_TERMCAP_mb=$'\E[1;31m'       # begin blinking
     # change first number pair for command and flag color
     # currently brown, which is dark yellow for me 
        export LESS_TERMCAP_md=$'\E[0;33;5;74m'  # begin bold
        export LESS_TERMCAP_me=$'\E[0m'           # end mode
        export LESS_TERMCAP_se=$'\E[0m'           # end standout-mode
        export LESS_TERMCAP_so=$'\E[38;5;246m'    # begin standout-mode - info box
        export LESS_TERMCAP_ue=$'\E[0m'           # end underline
     # change first number pair for parameter color
     # currently cyan
        export LESS_TERMCAP_us=$'\E[0;36;5;146m' # begin underline
    
     #########################################
     # Colorcodes:
     # Black       0;30     Dark Gray     1;30
     # Blue        0;34     Light Blue    1;34
     # Green       0;32     Light Green   1;32
     # Cyan        0;36     Light Cyan    1;36
     # Red         0;31     Light Red     1;31
     # Purple      0;35     Light Purple  1;35
     # Brown       0;33     Yellow        1;33
     # Light Gray  0;37     White         1;37
     #########################################

To my shame I have to admit that I did not find out what the second number pair meant, i.e. the `5;74` and the `5;146`.

Can someone clarify that further?",bash,shell,colors,pager,man,07/22/2012 07:05:00,off topic,1,458,4,"bash: colorized man page Where do I have to take a look at in the system to colorize the man pages?

The man pages are viewed with less, so I tried adding the following lines to my .bashrc to change the colors: (Which works fine, btw.)

     # LESS COLORS FOR MAN PAGES
    export LESS_TERMCAP_mb=$'\E[1;31m'       # begin blinking
     # change first number pair for command and flag color
     # currently brown, which is dark yellow for me 
        export LESS_TERMCAP_md=$'\E[0;33;5;74m'  # begin bold
        export LESS_TERMCAP_me=$'\E[0m'           # end mode
        export LESS_TERMCAP_se=$'\E[0m'           # end standout-mode
        export LESS_TERMCAP_so=$'\E[38;5;246m'    # begin standout-mode - info box
        export LESS_TERMCAP_ue=$'\E[0m'           # end underline
     # change first number pair for parameter color
     # currently cyan
        export LESS_TERMCAP_us=$'\E[0;36;5;146m' # begin underline
    
     #########################################
     # Colorcodes:
     # Black       0;30     Dark Gray     1;30
     # Blue        0;34     Light Blue    1;34
     # Green       0;32     Light Green   1;32
     # Cyan        0;36     Light Cyan    1;36
     # Red         0;31     Light Red     1;31
     # Purple      0;35     Light Purple  1;35
     # Brown       0;33     Yellow        1;33
     # Light Gray  0;37     White         1;37
     #########################################

To my shame I have to admit that I did not find out what the second number pair meant, i.e. the `5;74` and the `5;146`.

Can someone clarify that further?",5
8144022,11/15/2011 22:23:11,959333,09/22/2011 14:28:17,342,1,Concatenating Thousands of Text Files Across Hundreds of Directories (while keeping some structure),"I have a set of plain text files spread across 400+ directories, with tons and tons of subdirectories. There are about 300,000 text files. For example:

    directory1/subdirectory1
    directory1/subdirectory2
    directory1/subdirectory1/subdirectory3

All of those text files within `directory1` should end up in one big massive text file named `directory1.txt`. Then repeat with `directory2`.

What would be the quickest and simplest way to go into each of these four hundred directories and combine all of the text files in such a manner? 

I know I could go to each of the four hundred directories and use the commands such as `find` to bring all the text files together into one directory, and then use `cat *.txt >> all.txt`, but surely there must be an easy way to automate this process?",bash,shell,command-line,,,,open,0,134,13,"Concatenating Thousands of Text Files Across Hundreds of Directories (while keeping some structure) I have a set of plain text files spread across 400+ directories, with tons and tons of subdirectories. There are about 300,000 text files. For example:

    directory1/subdirectory1
    directory1/subdirectory2
    directory1/subdirectory1/subdirectory3

All of those text files within `directory1` should end up in one big massive text file named `directory1.txt`. Then repeat with `directory2`.

What would be the quickest and simplest way to go into each of these four hundred directories and combine all of the text files in such a manner? 

I know I could go to each of the four hundred directories and use the commands such as `find` to bring all the text files together into one directory, and then use `cat *.txt >> all.txt`, but surely there must be an easy way to automate this process?",3
11174138,06/24/2012 00:41:12,916332,08/28/2011 10:52:24,169,6,Cutting a text file from line containing X to first line containing Y,"I have many text files containing bank transactions in the middle of them.

Each file has a custom header of variable length.

In every file, transactions begin exactly after the first (and only) line containing the text:

    FECHA OPERACION	FECHA VALOR	CONCEPTO	IMPORTE	SALDO

In every file, transactions end exactly before the first (and only) line containing the text:

    PROCHAIN

Each line after the ""frontier"" is a transaction, one transaction per line, until the closing guard.

There is a single block of transactions per file.

How can I conveniently and efficiently extract all transactions using command line tools only?",bash,shell,filter,sed,awk,,open,0,95,13,"Cutting a text file from line containing X to first line containing Y I have many text files containing bank transactions in the middle of them.

Each file has a custom header of variable length.

In every file, transactions begin exactly after the first (and only) line containing the text:

    FECHA OPERACION	FECHA VALOR	CONCEPTO	IMPORTE	SALDO

In every file, transactions end exactly before the first (and only) line containing the text:

    PROCHAIN

Each line after the ""frontier"" is a transaction, one transaction per line, until the closing guard.

There is a single block of transactions per file.

How can I conveniently and efficiently extract all transactions using command line tools only?",5
4559307,12/30/2010 01:22:02,435299,08/30/2010 19:45:07,30,10,BASH echo write mysql input,"Have a bash menu where variables write to file for mysql input.
heres what I have:

        echo ""CREATE DATABASE '$mysqldbn';
    
    #GRANT ALL PRIVILEGES ON *.* TO '$mysqlu'@'$myhost' IDENTIFIED BY '$mysqlup' WITH GRANT OPTION;
    
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON '$mysqldbn'.* TO '$mysqlu'@'$myhost' IDENTIFIED BY '$mysqlup';
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON '$mysqldbn'.* TO '$mysqlu'@'$myip' IDENTIFIED BY '$mysqlup';
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON '$mysqldbn'.* TO '$mysqlu'@'localhost' IDENTIFIED BY '$mysqlup';
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES< LOCK TABLES on '$mysqldbn'.* TO '$mysqlu'@'$rip' IDENTIFIED BY '$mysqlup';"" > nmysql.db

    
    mysql -u root -p$mypass < nmysql.db

problem is to get variables to show I had to put them in single quotes, the single quotes show up as I want for instances like '$mysqlu'@'localhost'. But how can I remove the quotes and still get to use the variable in the instance like, CREATE DATABASE '$mysqldbn' ? Double quotes wont work either, I am at a loss.

Thanks in advance,
Joe ",bash,,,,,,open,0,222,5,"BASH echo write mysql input Have a bash menu where variables write to file for mysql input.
heres what I have:

        echo ""CREATE DATABASE '$mysqldbn';
    
    #GRANT ALL PRIVILEGES ON *.* TO '$mysqlu'@'$myhost' IDENTIFIED BY '$mysqlup' WITH GRANT OPTION;
    
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON '$mysqldbn'.* TO '$mysqlu'@'$myhost' IDENTIFIED BY '$mysqlup';
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON '$mysqldbn'.* TO '$mysqlu'@'$myip' IDENTIFIED BY '$mysqlup';
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES ON '$mysqldbn'.* TO '$mysqlu'@'localhost' IDENTIFIED BY '$mysqlup';
    GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES< LOCK TABLES on '$mysqldbn'.* TO '$mysqlu'@'$rip' IDENTIFIED BY '$mysqlup';"" > nmysql.db

    
    mysql -u root -p$mypass < nmysql.db

problem is to get variables to show I had to put them in single quotes, the single quotes show up as I want for instances like '$mysqlu'@'localhost'. But how can I remove the quotes and still get to use the variable in the instance like, CREATE DATABASE '$mysqldbn' ? Double quotes wont work either, I am at a loss.

Thanks in advance,
Joe ",1
5398866,03/22/2011 22:55:10,672111,03/22/2011 22:55:10,1,0,"Writing a simple, intelligible fork bomb in bash?","How can I do this? 

I just wish to write something like

    while(true) {
    fork()
    }

Is this possible in bash ? I don't want it for religious reasons, just to explain to a friend!",bash,fork,,,,03/22/2011 23:35:22,too localized,1,43,8,"Writing a simple, intelligible fork bomb in bash? How can I do this? 

I just wish to write something like

    while(true) {
    fork()
    }

Is this possible in bash ? I don't want it for religious reasons, just to explain to a friend!",2
11438284,07/11/2012 17:37:22,1483579,06/26/2012 17:47:21,1,0,Remove Wireless 802.1x Profile via terminal or applescript?,"Is this at all possible on os x lion 10.7?

",bash,apple,terminal,osx-lion,applescript,07/12/2012 06:02:05,off topic,1,10,8,"Remove Wireless 802.1x Profile via terminal or applescript? Is this at all possible on os x lion 10.7?

",5
8866873,01/15/2012 01:28:28,937841,09/10/2011 04:11:33,444,18,Bash control+c process,"I have a couple of servers each that have a 'screen' that is running a program. This way, i am able to ssh in and monitor their out putat any given time.

The problem, is that i am often having to ssh in, log into the screen, control+c the process and then restart it.

I would like to write a bash script that would do this for each of my servers, and i think i understand how to do it, aside from the control+c bit.

    ssh ubuntu@ipaddress
    screen -dr that_one_screen
    #control+c somehow
    restart_process

Can someone please help me out?",bash,ssh,amazon-ec2,,,02/09/2012 17:14:13,off topic,1,108,3,"Bash control+c process I have a couple of servers each that have a 'screen' that is running a program. This way, i am able to ssh in and monitor their out putat any given time.

The problem, is that i am often having to ssh in, log into the screen, control+c the process and then restart it.

I would like to write a bash script that would do this for each of my servers, and i think i understand how to do it, aside from the control+c bit.

    ssh ubuntu@ipaddress
    screen -dr that_one_screen
    #control+c somehow
    restart_process

Can someone please help me out?",3
11569901,07/19/2012 21:53:14,1539192,07/19/2012 21:33:17,1,0,Need to change ssl default to ssl 3,"The core of the problem with my computer is seen when I use curl. If I type:

curl -i https://the_web_site_i_need.com

then it times out after a minute and prints:

curl: (35) Unknown SSL protocol error in connection to the_web_site_I_need.com:443 

but if I type:

curl -3i https://the_web_site_i_need.com

it gives me what I'm asking for. The problem (I found after much googling) seems to be that my default ssl protocol is 2, rather than 3, and the target refuses to accept it. This wouldn't be a problem, but I'm running a python script, which makes nested calls to many libraries which are running into this problem down the line. Rather than rewrite my company's libs (which I'm underqualified to do), I'd rather just change my defaults.

Does anyone have any suggestions? Again, this is Mac OSX 10.6.8 (Snow Leopard). Neither googling nor searching this site seems to bring me to this particular problem.",bash,ssl,osx-snow-leopard,,,07/20/2012 00:06:29,off topic,1,145,8,"Need to change ssl default to ssl 3 The core of the problem with my computer is seen when I use curl. If I type:

curl -i https://the_web_site_i_need.com

then it times out after a minute and prints:

curl: (35) Unknown SSL protocol error in connection to the_web_site_I_need.com:443 

but if I type:

curl -3i https://the_web_site_i_need.com

it gives me what I'm asking for. The problem (I found after much googling) seems to be that my default ssl protocol is 2, rather than 3, and the target refuses to accept it. This wouldn't be a problem, but I'm running a python script, which makes nested calls to many libraries which are running into this problem down the line. Rather than rewrite my company's libs (which I'm underqualified to do), I'd rather just change my defaults.

Does anyone have any suggestions? Again, this is Mac OSX 10.6.8 (Snow Leopard). Neither googling nor searching this site seems to bring me to this particular problem.",3
8344859,12/01/2011 16:34:50,632472,02/24/2011 14:26:57,651,27,How check if a file exist in a server with bash,"Check if a [file exist in my computer][1] is easy. But how about check if this file exist in my server?

If my file is: 

    host@server:/path/to/my/file.txt

So I will need do what?


  [1]: http://stackoverflow.com/questions/638975/how-do-i-tell-if-a-file-does-not-exist-in-bash",bash,shell,,,,12/02/2011 15:22:35,off topic,1,37,11,"How check if a file exist in a server with bash Check if a [file exist in my computer][1] is easy. But how about check if this file exist in my server?

If my file is: 

    host@server:/path/to/my/file.txt

So I will need do what?


  [1]: http://stackoverflow.com/questions/638975/how-do-i-tell-if-a-file-does-not-exist-in-bash",2
6870010,07/29/2011 07:40:18,861592,07/25/2011 12:46:20,3,0,How does Erlang heart work?,"This question is related to my previous one: http://stackoverflow.com/questions/6830806/running-erlang-shell-as-a-deamon-service

I have a script that looks like this:

    #!/bin/bash
    # Load the VERBOSE setting and other rcS variables
    . /lib/init/vars.sh
    # Define LSB log_* functions.
    # Depend on lsb-base (>= 3.0-6) to ensure that this file is present.
    . /lib/lsb/init-functions
    
    
    export HEART_COMMAND=""/etc/init.d/script restart""
    
    start() {
    
    
            erl  -heart -pa DIR -sname NAME -setcookie COOKIE -env port 21 -s M -s M2 --
            ### Create the lock file ###
            touch /var/lock/lock
    }
    
    stop() {
    
            erl -noshell -sname temp_control -setcookie COOKIE -eval ""rpc:call(NAME@ubuntu, init, stop, [])"" -s init stop
            ### Now, delete the lock file ###
            rm -f /var/lock/lock
    }
    
    
    ### main logic ###
    case ""$1"" in
      start)
            start
            ;;
      stop)
            stop
            ;;
      restart)
            stop
           # start
            ;;
      *)
            echo $""Usage: $0 {start|stop|restart}""
            exit 1
    esac
    
    exit 0


I don't know how to simulate a crash so I just tried ctrl+c and aborted the shell, the output looks like this:

    root@ubuntu:/etc/init.d# ./script start
    heart_beat_kill_pid = 17512
    Erlang R13B03 (erts-5.7.4) [source] [64-bit] [smp:4:4] [rq:4] [async-threads:0] [hipe] [kernel-poll:false]
    
    Eshell V5.7.4  (abort with ^G)
    (NAME@ubuntu)1> Starting M2
    Listening on port 21
    
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded
           (v)ersion (k)ill (D)b-tables (d)istribution
    a
    heart: Fri Jul 29 09:25:10 2011: Erlang has closed.
    root@ubuntu:/etc/init.d# heart_beat_kill_pid = 17557
    heart: Fri Jul 29 09:25:13 2011: Erlang has closed.
    /etc/init.d/NAME: line 20: 17557 Killed                  erl  -heart -pa DIR -sname NAME -setcookie COOKIE -env port 21 -s M -s M2 --
    heart: Fri Jul 29 09:25:13 2011: Executed ""/etc/init.d/script restart"". Terminating.
    heart_beat_kill_pid = 17602
    heart: Fri Jul 29 09:25:15 2011: Erlang has closed.
    /etc/init.d/NAME: line 20: 17602 Killed                  erl  -heart -pa DIR -sname NAME -setcookie COOKIE -env port 21 -s M -s M2 --
    heart: Fri Jul 29 09:25:15 2011: Executed ""/etc/init.d/script restart"". Terminating.
    heart: Fri Jul 29 09:25:17 2011: Executed ""/etc/init.d/script restart"". Terminating.
    
    root@ubuntu:/etc/init.d#

This goes on for ever if I don't comment the line of code in the script that starts it. It's like an endless loop of terminating erlang shells... or something.

If I try for example ""export HEART_COMMAND=""/bin/echo hello"" it says ""write error: broken pipe"". 

Why doesn't it work? How do I simulate a crash properly to check if the heart command work?

Thankful for any advice you might have.
",bash,erlang,heartbeat,,,,open,0,773,5,"How does Erlang heart work? This question is related to my previous one: http://stackoverflow.com/questions/6830806/running-erlang-shell-as-a-deamon-service

I have a script that looks like this:

    #!/bin/bash
    # Load the VERBOSE setting and other rcS variables
    . /lib/init/vars.sh
    # Define LSB log_* functions.
    # Depend on lsb-base (>= 3.0-6) to ensure that this file is present.
    . /lib/lsb/init-functions
    
    
    export HEART_COMMAND=""/etc/init.d/script restart""
    
    start() {
    
    
            erl  -heart -pa DIR -sname NAME -setcookie COOKIE -env port 21 -s M -s M2 --
            ### Create the lock file ###
            touch /var/lock/lock
    }
    
    stop() {
    
            erl -noshell -sname temp_control -setcookie COOKIE -eval ""rpc:call(NAME@ubuntu, init, stop, [])"" -s init stop
            ### Now, delete the lock file ###
            rm -f /var/lock/lock
    }
    
    
    ### main logic ###
    case ""$1"" in
      start)
            start
            ;;
      stop)
            stop
            ;;
      restart)
            stop
           # start
            ;;
      *)
            echo $""Usage: $0 {start|stop|restart}""
            exit 1
    esac
    
    exit 0


I don't know how to simulate a crash so I just tried ctrl+c and aborted the shell, the output looks like this:

    root@ubuntu:/etc/init.d# ./script start
    heart_beat_kill_pid = 17512
    Erlang R13B03 (erts-5.7.4) [source] [64-bit] [smp:4:4] [rq:4] [async-threads:0] [hipe] [kernel-poll:false]
    
    Eshell V5.7.4  (abort with ^G)
    (NAME@ubuntu)1> Starting M2
    Listening on port 21
    
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    (NAME@ubuntu)1>
    BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded
           (v)ersion (k)ill (D)b-tables (d)istribution
    a
    heart: Fri Jul 29 09:25:10 2011: Erlang has closed.
    root@ubuntu:/etc/init.d# heart_beat_kill_pid = 17557
    heart: Fri Jul 29 09:25:13 2011: Erlang has closed.
    /etc/init.d/NAME: line 20: 17557 Killed                  erl  -heart -pa DIR -sname NAME -setcookie COOKIE -env port 21 -s M -s M2 --
    heart: Fri Jul 29 09:25:13 2011: Executed ""/etc/init.d/script restart"". Terminating.
    heart_beat_kill_pid = 17602
    heart: Fri Jul 29 09:25:15 2011: Erlang has closed.
    /etc/init.d/NAME: line 20: 17602 Killed                  erl  -heart -pa DIR -sname NAME -setcookie COOKIE -env port 21 -s M -s M2 --
    heart: Fri Jul 29 09:25:15 2011: Executed ""/etc/init.d/script restart"". Terminating.
    heart: Fri Jul 29 09:25:17 2011: Executed ""/etc/init.d/script restart"". Terminating.
    
    root@ubuntu:/etc/init.d#

This goes on for ever if I don't comment the line of code in the script that starts it. It's like an endless loop of terminating erlang shells... or something.

If I try for example ""export HEART_COMMAND=""/bin/echo hello"" it says ""write error: broken pipe"". 

Why doesn't it work? How do I simulate a crash properly to check if the heart command work?

Thankful for any advice you might have.
",3
11661470,07/26/2012 02:29:38,1337499,04/16/2012 23:54:49,6,0,Segmentation fault when running bib2x,"I'm working on an unfamiliar machine and I am trying to get a program called bib2x (http://www.xandi.eu/bib2x/about.html) to work, but unfortunately, when I run the program, I keep getting a segmentation fault. My (limited) experience and research leads me to believe that this was a result of some kind of memory error, but I'm not sure how to proceed or how to fix the problem.

I've run the program accessing files that the user account definitely has permission to access. Any idea on how I ought proceed?

Sorry if this is vague. It's a vague problem and I'm confused about what to do next.",bash,shell,ubuntu,,,07/27/2012 00:47:13,off topic,1,102,5,"Segmentation fault when running bib2x I'm working on an unfamiliar machine and I am trying to get a program called bib2x (http://www.xandi.eu/bib2x/about.html) to work, but unfortunately, when I run the program, I keep getting a segmentation fault. My (limited) experience and research leads me to believe that this was a result of some kind of memory error, but I'm not sure how to proceed or how to fix the problem.

I've run the program accessing files that the user account definitely has permission to access. Any idea on how I ought proceed?

Sorry if this is vague. It's a vague problem and I'm confused about what to do next.",3
8204408,11/20/2011 20:19:30,530432,12/04/2010 13:10:51,65,5,Start named via Cron?,"How can I can check status of the `named` via a Cron? 

And how can I start it if it is down?


",bash,cron,centos,named,,11/21/2011 15:15:45,not a real question,1,22,4,"Start named via Cron? How can I can check status of the `named` via a Cron? 

And how can I start it if it is down?


",4
11378516,07/07/2012 20:49:26,1140038,01/10/2012 03:42:08,61,0,How can I put tabs in text files from Terminal?,"When I use Terminal to find every job that has been worked on last twenty-four hours I get a text file with lines like this:

ABC 12345 Job Worked on DATE

DEF 67890 Another Job on DATE

GHI 10112 Final Job on DATE

This text file can be up to hundred lines. I have to insert all this data into a tabel in Microsoft Excel. To make my life easier I would like to figure out how to add a tab in every line, after the numbers.

Something like this:
      
    echo ""ABC 12345 <tab> Job Worked on DATE"" >> jobs.txt
    echo ""DEF 67890 <tab> Another Job on DATE"" >> jobs.txt
    echo ""GHI 10112 <tab> Final Job on DATE"" >> jobs.txt

How would I achieve this?",bash,shell,scripting,terminal,,07/10/2012 14:20:42,off topic,1,134,10,"How can I put tabs in text files from Terminal? When I use Terminal to find every job that has been worked on last twenty-four hours I get a text file with lines like this:

ABC 12345 Job Worked on DATE

DEF 67890 Another Job on DATE

GHI 10112 Final Job on DATE

This text file can be up to hundred lines. I have to insert all this data into a tabel in Microsoft Excel. To make my life easier I would like to figure out how to add a tab in every line, after the numbers.

Something like this:
      
    echo ""ABC 12345 <tab> Job Worked on DATE"" >> jobs.txt
    echo ""DEF 67890 <tab> Another Job on DATE"" >> jobs.txt
    echo ""GHI 10112 <tab> Final Job on DATE"" >> jobs.txt

How would I achieve this?",4
11440758,07/11/2012 20:17:02,1518951,07/11/2012 20:05:09,1,0,I need to add a column to a data file entirely composed of a $var,"i have a list of two types of files name.fit and name.pht, i can get the $var from name.fit and i need to put it into name.pht as the last column off all the same number $var, so the last column  is $var repeated on every line.",bash,columns,grep,,,07/14/2012 05:01:30,not a real question,1,48,15,"I need to add a column to a data file entirely composed of a $var i have a list of two types of files name.fit and name.pht, i can get the $var from name.fit and i need to put it into name.pht as the last column off all the same number $var, so the last column  is $var repeated on every line.",3
11526253,07/17/2012 15:50:45,1475619,06/22/2012 18:09:17,61,0,Bash: Using process IDs in a shell script,"I am a bit confused on the uses of PIDs and parent/children processes. I have been reading up on them and I understand as far as the fact that when a program starts it makes an exact copy of itself (the child) and each of them have unique PIDs. But I am not sure if I can use it in a shell to tell me when certain aspects of that shell program have finished. 
For example (in pseudo code):

    for all the values in an array
       run a command on the current value 
       #(in the background so I can begin the next value in the array as well)
    done 

I am hoping to be able to see when any given value is finished in the command so that I can (in some way) have it move on to the next for loop and command. I have seen that wait can take a job identifier as an argument (wait%1 or wait $PPID) but I am not really sure how those would be implemented. 

Does anyone have advice and/or a link to a super good tutorial? (and I mean *super* good, I need some laymen's terms thrown in there)

Thanks!",bash,parent-child,pid,,,,open,0,216,8,"Bash: Using process IDs in a shell script I am a bit confused on the uses of PIDs and parent/children processes. I have been reading up on them and I understand as far as the fact that when a program starts it makes an exact copy of itself (the child) and each of them have unique PIDs. But I am not sure if I can use it in a shell to tell me when certain aspects of that shell program have finished. 
For example (in pseudo code):

    for all the values in an array
       run a command on the current value 
       #(in the background so I can begin the next value in the array as well)
    done 

I am hoping to be able to see when any given value is finished in the command so that I can (in some way) have it move on to the next for loop and command. I have seen that wait can take a job identifier as an argument (wait%1 or wait $PPID) but I am not really sure how those would be implemented. 

Does anyone have advice and/or a link to a super good tutorial? (and I mean *super* good, I need some laymen's terms thrown in there)

Thanks!",3
355439,12/10/2008 08:43:39,44817,12/10/2008 01:06:37,1,0,"""wget --domains"" not helping.. what am I doing wrong?","I'm attempting to use wget to recursively grab only the .jpg files from a particular website, with a view to creating an amusing screensaver for myself. Not such a lofty goal really.

The problem is that the pictures are hosted elsewhere (mfrost.typepad.com), not on the main domain of the website (www.cuteoverload.com).

I have tried using ""-D"" to specified the allowed domains, but sadly no cute jpgs have been forthcoming. How could I alter the line below to make this work?

    wget -r -l2 -np -w1 -D www.cuteoverload.com,mfrost.typepad.com -A.jpg -R.html.php.gif www.cuteoverload.com/
Thanks.",bash,wget,,,,12/10/2008 08:55:11,off topic,1,91,9,"""wget --domains"" not helping.. what am I doing wrong? I'm attempting to use wget to recursively grab only the .jpg files from a particular website, with a view to creating an amusing screensaver for myself. Not such a lofty goal really.

The problem is that the pictures are hosted elsewhere (mfrost.typepad.com), not on the main domain of the website (www.cuteoverload.com).

I have tried using ""-D"" to specified the allowed domains, but sadly no cute jpgs have been forthcoming. How could I alter the line below to make this work?

    wget -r -l2 -np -w1 -D www.cuteoverload.com,mfrost.typepad.com -A.jpg -R.html.php.gif www.cuteoverload.com/
Thanks.",2
3855108,10/04/2010 12:16:52,330356,05/01/2010 12:57:11,1,0,Redirecting standard output to a file containing the pid of the logging process,"I've searched for a while but i can't either find an answer or come up with a solution of my own, so I turn to you guys. First question I actually ask here :)

I would like to run several instances of the same program, and redirect each of these programs' standard output to a file that contains that same process' pid, something like:

    my_program > <pid of the instance of my_program that is called in this command>.log

I'm aware that this is not even close of the way to go :P I have tinkered around with exec and $PPID but to no avail. My bash-fu is weak :| please help me, point me somewhere! Thanks!",bash,scripting,command,line,,,open,0,117,13,"Redirecting standard output to a file containing the pid of the logging process I've searched for a while but i can't either find an answer or come up with a solution of my own, so I turn to you guys. First question I actually ask here :)

I would like to run several instances of the same program, and redirect each of these programs' standard output to a file that contains that same process' pid, something like:

    my_program > <pid of the instance of my_program that is called in this command>.log

I'm aware that this is not even close of the way to go :P I have tinkered around with exec and $PPID but to no avail. My bash-fu is weak :| please help me, point me somewhere! Thanks!",4
7722024,10/11/2011 06:12:34,984090,10/07/2011 13:36:42,1,0,"I am using the bash script ""unique"" with -c command.","The output starts with 3 periods, a number and 1 period before the text. I would like to change that into 1 tab, a number and a tab before the text

    cat $fname | sort | uniq -c | sort -d",bash,,,,,10/11/2011 14:05:42,not a real question,1,44,10,"I am using the bash script ""unique"" with -c command. The output starts with 3 periods, a number and 1 period before the text. I would like to change that into 1 tab, a number and a tab before the text

    cat $fname | sort | uniq -c | sort -d",1
4505339,12/22/2010 00:57:32,45525,12/11/2008 21:55:35,2387,83,Bash ambiguous redirect - redirect to multiple files.,"This is a trivial task, but I'd like to take this opportunity to improve my bash knowledge.

    $ echo """" >  /home/jem/rep_0[1-3]/logs/SystemOut.log
    bash: /home/jem/rep_0[1-3]/logs/SystemOut.log: ambiguous redirect

Can I redirect to multiple files at a time?

Edit: Any answer that allows use of the ambiguous file reference?


",bash,redirect,,,,,open,0,51,8,"Bash ambiguous redirect - redirect to multiple files. This is a trivial task, but I'd like to take this opportunity to improve my bash knowledge.

    $ echo """" >  /home/jem/rep_0[1-3]/logs/SystemOut.log
    bash: /home/jem/rep_0[1-3]/logs/SystemOut.log: ambiguous redirect

Can I redirect to multiple files at a time?

Edit: Any answer that allows use of the ambiguous file reference?


",2
4412238,12/10/2010 18:50:48,392975,07/15/2010 16:36:24,140,3,What's the Cleanest Way to SSH and Run Multiple Commands in Bash?,"I already have ssh agent setup, and I can run commands on an external server in bash script doing stuff like:
<code> ssh blah_server ""ls; pwd;""<br></code>
Now, what I'd really like to do is run a lot of long commands on an external server. Enclosing all of these in between quotation marks would be quite ugly, and I'd really rather avoid sshing multiple times just to avoid this. 
<br><br>
So, is there a way I can do this in one go enclosed in parentheses or something? I'm looking for something along the lines of:<br><br>
<code>ssh blah_server (<br>
ls some_folder;<br>
./someaction.sh<br>
pwd;<br>
)<br><br></code>
Basically, I'll be happy with any solution as long as it's clean. Thanks in advance!",bash,unix,ssh,,,,open,0,108,12,"What's the Cleanest Way to SSH and Run Multiple Commands in Bash? I already have ssh agent setup, and I can run commands on an external server in bash script doing stuff like:
<code> ssh blah_server ""ls; pwd;""<br></code>
Now, what I'd really like to do is run a lot of long commands on an external server. Enclosing all of these in between quotation marks would be quite ugly, and I'd really rather avoid sshing multiple times just to avoid this. 
<br><br>
So, is there a way I can do this in one go enclosed in parentheses or something? I'm looking for something along the lines of:<br><br>
<code>ssh blah_server (<br>
ls some_folder;<br>
./someaction.sh<br>
pwd;<br>
)<br><br></code>
Basically, I'll be happy with any solution as long as it's clean. Thanks in advance!",3
7566253,09/27/2011 08:34:23,958265,09/22/2011 04:26:49,45,6,Divide files depending on X and put into individual folder,"How do I create a script in a command prompt (or shell script in a bash) to divide files depending on a number, say X, and put into individual folder.

Example: I have 10 files and the number X is 4 (I can set it inside the script). So, the system will create 3 folders (1st folder contain 4 files, 2nd folder contain 4 files and the last folder will contain the remaining 2 files) after running the script.

Regarding about the divide of the files. It can be either go by the date or the filename.

Example: Suppose the 10 files above is a.txt, aa.txt, b.txt, cd.txt, ef.txt, g.txt, h.txt, iii.txt, j.txt and zzz.txt. After running the script, it will create the 3 folders such that the 1st folder contain a.txt, aa.txt, b.txt, cd.txt, the 2nd folder contains ef.txt, g.txt, h.txt, iii.txt and the last folder will contain the remaining files - j.txt and zzz.txt
",bash,shell,script,command-prompt,,,open,0,153,10,"Divide files depending on X and put into individual folder How do I create a script in a command prompt (or shell script in a bash) to divide files depending on a number, say X, and put into individual folder.

Example: I have 10 files and the number X is 4 (I can set it inside the script). So, the system will create 3 folders (1st folder contain 4 files, 2nd folder contain 4 files and the last folder will contain the remaining 2 files) after running the script.

Regarding about the divide of the files. It can be either go by the date or the filename.

Example: Suppose the 10 files above is a.txt, aa.txt, b.txt, cd.txt, ef.txt, g.txt, h.txt, iii.txt, j.txt and zzz.txt. After running the script, it will create the 3 folders such that the 1st folder contain a.txt, aa.txt, b.txt, cd.txt, the 2nd folder contains ef.txt, g.txt, h.txt, iii.txt and the last folder will contain the remaining files - j.txt and zzz.txt
",4
10146974,04/13/2012 19:17:07,1286528,03/22/2012 17:03:09,48,0,Bash - extract info from table according to specific characteristics,"My data table looks like that:

    chr4    124097568       124098568       337
    chr4    159597106       159598106       1000   
    chr4    159597106       159598106       1000 
    chr4    164361532       164362532       455
    chr4    164361532       164362532       74
    chr4    164361532       164362532       2
    chr4    170360150       170361150       0

I want to: Extract unique rows - if data in col#2 & col#3 is the same -> just the highest value (col#4) row should be extracted. If #2,#3 & #4 are identical just one of the rows should be extracted. 

Preferred output is:

    chr4    124097568       124098568       337
    chr4    159597106       159598106       1000 
    chr4    164361532       164362532       455
    chr4    170360150       170361150       0

If something is not clear I'll try to explain it more (cause I really need to solve this problem now).",bash,table,,,,,open,0,314,10,"Bash - extract info from table according to specific characteristics My data table looks like that:

    chr4    124097568       124098568       337
    chr4    159597106       159598106       1000   
    chr4    159597106       159598106       1000 
    chr4    164361532       164362532       455
    chr4    164361532       164362532       74
    chr4    164361532       164362532       2
    chr4    170360150       170361150       0

I want to: Extract unique rows - if data in col#2 & col#3 is the same -> just the highest value (col#4) row should be extracted. If #2,#3 & #4 are identical just one of the rows should be extracted. 

Preferred output is:

    chr4    124097568       124098568       337
    chr4    159597106       159598106       1000 
    chr4    164361532       164362532       455
    chr4    170360150       170361150       0

If something is not clear I'll try to explain it more (cause I really need to solve this problem now).",2
10523244,05/09/2012 19:59:25,1385509,05/09/2012 19:38:13,1,0,"wrong application performance started from bash script, but working from nested script","application is not working properly - one of the .so libs cannot get connection to remote host,
if application started from bash *script.sh* simply as:

    cd /usr/local/app/
    ./app

but it is working well if it started from *script.sh* as:

    cd /usr/local/app/
    ./starter.sh

where *starter.sh*:

    cd /usr/local/app/
    ./app

How I can avoid nested scripts?
BR
",bash,application,script,nested,start,05/10/2012 21:08:12,too localized,1,67,12,"wrong application performance started from bash script, but working from nested script application is not working properly - one of the .so libs cannot get connection to remote host,
if application started from bash *script.sh* simply as:

    cd /usr/local/app/
    ./app

but it is working well if it started from *script.sh* as:

    cd /usr/local/app/
    ./starter.sh

where *starter.sh*:

    cd /usr/local/app/
    ./app

How I can avoid nested scripts?
BR
",5
2945232,05/31/2010 18:04:40,221626,11/30/2009 21:07:18,10,0,logins with cURL,"I'm looking to use cURL to login to Blackboard, a course management system used a many universities. (For example, http://blackboard.unh.edu)

How would I do this? Blackboard uses HTTPS certificates and cookies too I believe. Thanks!",bash,ubuntu,curl,libcurl,blackboard,,open,0,34,3,"logins with cURL I'm looking to use cURL to login to Blackboard, a course management system used a many universities. (For example, http://blackboard.unh.edu)

How would I do this? Blackboard uses HTTPS certificates and cookies too I believe. Thanks!",5
8847958,01/13/2012 08:49:21,1147282,01/13/2012 08:44:07,1,0,How to get unique rows in a file if 2 or more lines start with same word,"inputfile.log
-----------------
HSDA_17_VerifyShippingOrderNoInOrderConfirmationTest): Timed out after 90 seconds
HSDA_17_VerifyShippingOrderNoInOrderConfirmationTest): Session not available
HSDA_1_BuyVoice): Session not available 
HSDA_1_BuyVoice): Unable to locate element:
HSDA_9_CreateAccounAndBuyDeviceInCheckoutTest): Timed out after 90 seconds
HSDA_2_BuyMapswithNewUserAtCheckOutTest): Address already in use: connect
HSDA_69_ChangeBillingAddressInNonUSLocaleForAllFieldsTest): Index: 0, Size: 0

output expected
---------------
HSDA_17_VerifyShippingOrderNoInOrderConfirmationTest): Timed out after 90 seconds
HSDA_1_BuyVoice): Session not available 
HSDA_9_CreateAccounAndBuyDeviceInCheckoutTest): Timed out after 90 seconds
HSDA_2_BuyMapswithNewUserAtCheckOutTest): Address already in use: connect
HSDA_69_ChangeBillingAddressInNonUSLocaleForAllFieldsTest): Index: 0, Size: 0
",bash,sed,awk,grep,,01/14/2012 05:39:15,not a real question,1,55,17,"How to get unique rows in a file if 2 or more lines start with same word inputfile.log
-----------------
HSDA_17_VerifyShippingOrderNoInOrderConfirmationTest): Timed out after 90 seconds
HSDA_17_VerifyShippingOrderNoInOrderConfirmationTest): Session not available
HSDA_1_BuyVoice): Session not available 
HSDA_1_BuyVoice): Unable to locate element:
HSDA_9_CreateAccounAndBuyDeviceInCheckoutTest): Timed out after 90 seconds
HSDA_2_BuyMapswithNewUserAtCheckOutTest): Address already in use: connect
HSDA_69_ChangeBillingAddressInNonUSLocaleForAllFieldsTest): Index: 0, Size: 0

output expected
---------------
HSDA_17_VerifyShippingOrderNoInOrderConfirmationTest): Timed out after 90 seconds
HSDA_1_BuyVoice): Session not available 
HSDA_9_CreateAccounAndBuyDeviceInCheckoutTest): Timed out after 90 seconds
HSDA_2_BuyMapswithNewUserAtCheckOutTest): Address already in use: connect
HSDA_69_ChangeBillingAddressInNonUSLocaleForAllFieldsTest): Index: 0, Size: 0
",4
368003,12/15/2008 10:51:38,1246613,03/03/2012 09:25:03,31,3,reordering an mbox file chronologically,"I have a single spool mbox file that was created with evolution, containing a selection of emails that I wish to print. My problem is that the emails are not placed into the mbox file chronologically. I would like to know the best way to place order the files from first to last, or perhaps it would be easier to use maildir files or such?

The emails currently exist in the format:

    From x@blah.com Fri Aug 12 09:34:09 2005
    Message-ID: <42FBEE81.9090701@blah.com>
    Date: Fri, 12 Aug 2005 09:34:09 +0900
    From: me <x@blah.com>
    User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
    X-Accept-Language: en-us, en
    MIME-Version: 1.0
    To: someone <someone@hotmail.com>
    Subject: Re: (no subject)
    References: <BAY101-F9353854000A4758A7E2CCA9BD0@phx.gbl>
    In-Reply-To: <BAY101-F9353854000A4758A7E2CCA9BD0@phx.gbl>
    Content-Type: text/plain; charset=ISO-8859-1; format=flowed
    Content-Transfer-Encoding: 8bit
    Status: RO
    X-Status: 
    X-Keywords:                 
    X-UID: 371
    X-Evolution-Source: imap://x+blah.com@blah.com/
    X-Evolution: 00000002-0010
    
    Hey
    
    the actual content of the email
    
    someone wrote:
    
    > lines of quotedtext



I am wondering if there is a way to use this information to easily reorganize the file, perhaps with perl or such.",bash,perl,mbox,email,python,,open,0,264,5,"reordering an mbox file chronologically I have a single spool mbox file that was created with evolution, containing a selection of emails that I wish to print. My problem is that the emails are not placed into the mbox file chronologically. I would like to know the best way to place order the files from first to last, or perhaps it would be easier to use maildir files or such?

The emails currently exist in the format:

    From x@blah.com Fri Aug 12 09:34:09 2005
    Message-ID: <42FBEE81.9090701@blah.com>
    Date: Fri, 12 Aug 2005 09:34:09 +0900
    From: me <x@blah.com>
    User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
    X-Accept-Language: en-us, en
    MIME-Version: 1.0
    To: someone <someone@hotmail.com>
    Subject: Re: (no subject)
    References: <BAY101-F9353854000A4758A7E2CCA9BD0@phx.gbl>
    In-Reply-To: <BAY101-F9353854000A4758A7E2CCA9BD0@phx.gbl>
    Content-Type: text/plain; charset=ISO-8859-1; format=flowed
    Content-Transfer-Encoding: 8bit
    Status: RO
    X-Status: 
    X-Keywords:                 
    X-UID: 371
    X-Evolution-Source: imap://x+blah.com@blah.com/
    X-Evolution: 00000002-0010
    
    Hey
    
    the actual content of the email
    
    someone wrote:
    
    > lines of quotedtext



I am wondering if there is a way to use this information to easily reorganize the file, perhaps with perl or such.",5
8237668,11/23/2011 05:21:17,1061192,11/23/2011 05:03:22,1,0,Bash scripting. Hiding output of one particular command in a script thats output to a file,"This script of mine is slowly getting larger. It has its output piped to a file on invocation (which is later used to build an email body), however, I have one particular command that's invoked in that script whose output I want to trim down.

I was trying to do

    ./somecommand | egrep ""pattern1|pattern2""

Which works fine in a regular console window, however when snuck into my larger script, the pipe to egrep gets ignored and the whole output of the ""./somecommand"" lands in the output of the parent script.

How can fix?

I'm keeping this question vague to avoid copy pasting the whole damn thing. More info can be provided on request. And yes, scripts within scripts within scripts, we need to go deeper, etc. I'm up to five scripts so-far handling different tasks as part of a larger multi-server backup operation. The main operating script is output to a text file which an email body is built around, this serves as the logging that the end user sees. One particular script I'm calling from within the main script is quite 'noisy', hence the egrep to grab just the output relevant to the users.

Thanks folks!",bash,output,grep,nested,pipe,,open,0,195,16,"Bash scripting. Hiding output of one particular command in a script thats output to a file This script of mine is slowly getting larger. It has its output piped to a file on invocation (which is later used to build an email body), however, I have one particular command that's invoked in that script whose output I want to trim down.

I was trying to do

    ./somecommand | egrep ""pattern1|pattern2""

Which works fine in a regular console window, however when snuck into my larger script, the pipe to egrep gets ignored and the whole output of the ""./somecommand"" lands in the output of the parent script.

How can fix?

I'm keeping this question vague to avoid copy pasting the whole damn thing. More info can be provided on request. And yes, scripts within scripts within scripts, we need to go deeper, etc. I'm up to five scripts so-far handling different tasks as part of a larger multi-server backup operation. The main operating script is output to a text file which an email body is built around, this serves as the logging that the end user sees. One particular script I'm calling from within the main script is quite 'noisy', hence the egrep to grab just the output relevant to the users.

Thanks folks!",5
9044481,01/28/2012 10:15:26,395034,12/01/2009 15:49:39,587,4,remove bad files with grep in bash,"I need script in bash which helps me remove bad files like

- zero size
- zero byte consists only (00 00 00 00 00 ...)

help me please, my OS is Ubuntu",bash,grep,,,,01/28/2012 16:58:37,not a real question,1,30,7,"remove bad files with grep in bash I need script in bash which helps me remove bad files like

- zero size
- zero byte consists only (00 00 00 00 00 ...)

help me please, my OS is Ubuntu",2
7451367,09/16/2011 23:32:50,451621,09/18/2010 21:29:40,1,0,Passing Quoted Posix Argument Values in bash,"I have a bash script where I'm trying to pass posix style arguments with quoted values down to another script called within. On the command-line I might type:

    somescript --foo=""bar baz""

This means with the argument having the key `foo`, the value is `bar baz`. Within somescript, you might think this would work:

    innerscript ""$@""

However, this re-quotes the *entirety* of each argument, both key and value chunked together, not just the value. So innerscript receives `""--foo=bar baz""` and believes you are trying to pass the key named `foo=bar baz` with an *empty value*.

It's not good enough to tell bash ""re-quote all the passed in arguments"". I need to tell bash ""re-quote all passed in arguments *exactly how they were quoted before*"". Don't change the position of my quotes, bro!
",bash,unix,posix,quotes,,,open,0,134,7,"Passing Quoted Posix Argument Values in bash I have a bash script where I'm trying to pass posix style arguments with quoted values down to another script called within. On the command-line I might type:

    somescript --foo=""bar baz""

This means with the argument having the key `foo`, the value is `bar baz`. Within somescript, you might think this would work:

    innerscript ""$@""

However, this re-quotes the *entirety* of each argument, both key and value chunked together, not just the value. So innerscript receives `""--foo=bar baz""` and believes you are trying to pass the key named `foo=bar baz` with an *empty value*.

It's not good enough to tell bash ""re-quote all the passed in arguments"". I need to tell bash ""re-quote all passed in arguments *exactly how they were quoted before*"". Don't change the position of my quotes, bro!
",4
4594698,01/04/2011 14:32:14,351903,05/27/2010 11:48:37,1127,70,"Using a variable's value as password for scp, ssh etc. instead of prompting for user input every time","AFAIK, the bash shell commands `ssh` or `scp` do not have a password parameter. Otherwise I could keep the password in a variable and probably get rid of the enter password prompt. If I write an scp command in my shell script, it prompts the user to input the password. I have multiple ssh and scp commands in my script and I do not want the user to enter the password every time. I would prefer to save the password in a shell variable in the beginning (by asking password once), then use it for every ssh or scp. 

I read about ""public key identification"" in [this question][1]. Is it related to the solution I am looking for?


  [1]: http://stackoverflow.com/questions/3457719/complete-password-field-scp-command-on-linux",bash,shell,variables,ssh,,,open,0,121,18,"Using a variable's value as password for scp, ssh etc. instead of prompting for user input every time AFAIK, the bash shell commands `ssh` or `scp` do not have a password parameter. Otherwise I could keep the password in a variable and probably get rid of the enter password prompt. If I write an scp command in my shell script, it prompts the user to input the password. I have multiple ssh and scp commands in my script and I do not want the user to enter the password every time. I would prefer to save the password in a shell variable in the beginning (by asking password once), then use it for every ssh or scp. 

I read about ""public key identification"" in [this question][1]. Is it related to the solution I am looking for?


  [1]: http://stackoverflow.com/questions/3457719/complete-password-field-scp-command-on-linux",4
8211480,11/21/2011 12:01:28,695006,04/06/2011 14:22:12,6,0,Bash /shell/ script md5 hash tree output to .csv file,"i need bash /shell/ script to md5sum hash all current directory tree files to one single .csv file like this :

""index.php"",""add95c73ccafa79b4936cf7236a074f4""
""logs/index.html"",""1c7b413c3fa39d0fed40556d2658ac73""

Thank You very much ;)",bash,shell,scripting,md5,md5sum,11/21/2011 18:06:34,not a real question,1,25,10,"Bash /shell/ script md5 hash tree output to .csv file i need bash /shell/ script to md5sum hash all current directory tree files to one single .csv file like this :

""index.php"",""add95c73ccafa79b4936cf7236a074f4""
""logs/index.html"",""1c7b413c3fa39d0fed40556d2658ac73""

Thank You very much ;)",5
10285600,04/23/2012 17:50:11,826203,07/02/2011 16:19:52,606,2,How to run a bash script from a browser?,"I'm using mac and normally i just browse... but occasionally i have to do some tasks periodically. 

yes, i could save a ""xxx.command"" script and double click to run it.

But just curious, is it possible to make a shortcut somewhere inside browser such as Google Chrome or safari, so that one click - and it will run?
",bash,browser,,,,04/25/2012 12:30:37,off topic,1,57,9,"How to run a bash script from a browser? I'm using mac and normally i just browse... but occasionally i have to do some tasks periodically. 

yes, i could save a ""xxx.command"" script and double click to run it.

But just curious, is it possible to make a shortcut somewhere inside browser such as Google Chrome or safari, so that one click - and it will run?
",2
11215555,06/26/2012 20:39:36,1291203,03/25/2012 11:42:35,29,1,How to capture dvdauthor output to file,"I'm trying to capture dvdauthor's output to a file. 
So far i found this command but it's not working:S

    dvdauthor -x dvdauthor.xml > output.txt

Any kind of idea is really appreciated.",bash,shell,,,,,open,0,33,7,"How to capture dvdauthor output to file I'm trying to capture dvdauthor's output to a file. 
So far i found this command but it's not working:S

    dvdauthor -x dvdauthor.xml > output.txt

Any kind of idea is really appreciated.",2
11034380,06/14/2012 13:40:47,1456355,06/14/2012 13:33:45,1,0,Convert date format from 'm/d/yyyy' to 'yyyy-mm-dd' using a shell script,"I have a list of dates in a file (one date for each line) like that :<br>
6/31/1988<br>
1/2/2000<br>
etc. ...<br>

and I want a list of dates like that :<br>
1988-06-31<br>
2000-01-02<br>
etc. ...<br>

I have done some research and maybe a script with a sed command could do that but as I am a beginner, I don t manage to do it.
Thanks a lot
",bash,shell,unix,date,format,,open,0,58,11,"Convert date format from 'm/d/yyyy' to 'yyyy-mm-dd' using a shell script I have a list of dates in a file (one date for each line) like that :<br>
6/31/1988<br>
1/2/2000<br>
etc. ...<br>

and I want a list of dates like that :<br>
1988-06-31<br>
2000-01-02<br>
etc. ...<br>

I have done some research and maybe a script with a sed command could do that but as I am a beginner, I don t manage to do it.
Thanks a lot
",5
537942,02/11/2009 17:47:34,56761,01/19/2009 17:22:13,329,22,How to list running screen sessions ?,"I have a bunch of servers, on which I run experiments using `screen`. The procedure is the following :

 1. `ssh` to server XXX
 2. launch `screen`
 3. start experiments in a few tabs
 4. detach `screen`
 5. disconnect from the server

While the experiments are running, I can easily find on which servers they are by `ssh`ing to all servers and listing my running processes (using `top` or `ps`).

However, once the experiments are finished, how could I find on which servers I have a screen session opened (so that I can have a look at the output, relaunch them, etc.) ?

PS: my experiments do print their output to files, too... but this is not the point of my question.",bash,screen,linux,command-line,,,open,0,119,7,"How to list running screen sessions ? I have a bunch of servers, on which I run experiments using `screen`. The procedure is the following :

 1. `ssh` to server XXX
 2. launch `screen`
 3. start experiments in a few tabs
 4. detach `screen`
 5. disconnect from the server

While the experiments are running, I can easily find on which servers they are by `ssh`ing to all servers and listing my running processes (using `top` or `ps`).

However, once the experiments are finished, how could I find on which servers I have a screen session opened (so that I can have a look at the output, relaunch them, etc.) ?

PS: my experiments do print their output to files, too... but this is not the point of my question.",4
5415595,03/24/2011 06:36:08,404264,07/28/2010 08:25:08,163,6,is there pipe map in bash?,"    cmd1 | cmd2
will call cmd2 only one time with cmd1 output as argument. What i want is call cmd2 one by one with each line of cmd1 output as argument. Maybe something looks like:

    cmd1 | map cmd2

I know i can write one by myself, just want to know is there built-in support already?",bash,,,,,06/04/2012 14:05:14,off topic,1,61,6,"is there pipe map in bash?     cmd1 | cmd2
will call cmd2 only one time with cmd1 output as argument. What i want is call cmd2 one by one with each line of cmd1 output as argument. Maybe something looks like:

    cmd1 | map cmd2

I know i can write one by myself, just want to know is there built-in support already?",1
4152321,11/11/2010 07:50:41,413016,08/06/2010 12:17:29,41,0,How to automate an INSERT INTO process in SQLite ?,"I have created a database - tasks.db - with SQLite.
This database has one table - todo - with the following fields :
id (pk), date (NOW with trigger), project, duedate, status, description

To enter a new row in SQLite from the command line, I have to write :

sqlite3 tasks.db ""insert into todo (project,duedate,status,description) values (2010-11_18,'Home','Urgent','Call the plumber');""

which is a rather long and error-prone process. So I decided to ""automate"" it with a shell script (bsq) which runs as follows :

#!/bin/sh
echo ""What project ?""
read Proj
echo ""For when ?""
read Due
echo ""What status ?""
read Stat
echo ""What to do ?""
read Descr

echo sqlite3 tasks.db ""insert into todo (project,duedate,status,description) values ('$Proj',$Due,'$Stat','$Descr');""

 and nothing happens when I run : sh bsq. The sequence appears then brings me back to the prompt.
Where did I go wrong or what did I omit (ENTER ? but how do I do that ?) ?

Thanks for your help

ThG",bash,scripting,sqlite3,,,,open,0,144,10,"How to automate an INSERT INTO process in SQLite ? I have created a database - tasks.db - with SQLite.
This database has one table - todo - with the following fields :
id (pk), date (NOW with trigger), project, duedate, status, description

To enter a new row in SQLite from the command line, I have to write :

sqlite3 tasks.db ""insert into todo (project,duedate,status,description) values (2010-11_18,'Home','Urgent','Call the plumber');""

which is a rather long and error-prone process. So I decided to ""automate"" it with a shell script (bsq) which runs as follows :

#!/bin/sh
echo ""What project ?""
read Proj
echo ""For when ?""
read Due
echo ""What status ?""
read Stat
echo ""What to do ?""
read Descr

echo sqlite3 tasks.db ""insert into todo (project,duedate,status,description) values ('$Proj',$Due,'$Stat','$Descr');""

 and nothing happens when I run : sh bsq. The sequence appears then brings me back to the prompt.
Where did I go wrong or what did I omit (ENTER ? but how do I do that ?) ?

Thanks for your help

ThG",3
4380478,12/07/2010 18:55:57,213136,11/17/2009 18:16:19,4487,284,Indirect parameter substitution in shell script,"I'm having a problem with a shell script (POSIX shell under HP-UX, FWIW).  I have a function called print_arg into which I'm passing the name of a parameter as $1.  Given the name of the parameter, I then want to print the name and the value of that parameter.  However, I keep getting an error.  Here's an example of what I'm trying to do:

    #!/usr/bin/sh
    
    function print_arg
      {
      # $1 holds the name of the argument to be shown
      
      arg=$1
      
      # The following line errors off with
      #   ./test_print.sh[9]: argval=${""$arg""}: The specified substitution is not valid for this command.
      
      argval=${""$arg""}
      
      if [[ $argval != '' ]] ; then
        printf ""ftp_func: $arg='$argval'\n""
      fi
      }
    
    COMMAND=""XYZ""
    
    print_arg ""COMMAND""

I've tried re-writing the offending line every way I can think of.  I've consulted the local oracles.  I've checked the online ""BASH Scripting Guide"".  And I sharpened up the ol' wavy-bladed knife and scrubbed the altar until it gleamed, but then I discovered that our local supply of virgins has been cut down to, like, nothin'.  Drat!

Any advice regarding how to get the value of a parameter whose name is passed into a function as a parameter will be received appreciatively.",bash,shell,scripting,posix,,,open,0,306,6,"Indirect parameter substitution in shell script I'm having a problem with a shell script (POSIX shell under HP-UX, FWIW).  I have a function called print_arg into which I'm passing the name of a parameter as $1.  Given the name of the parameter, I then want to print the name and the value of that parameter.  However, I keep getting an error.  Here's an example of what I'm trying to do:

    #!/usr/bin/sh
    
    function print_arg
      {
      # $1 holds the name of the argument to be shown
      
      arg=$1
      
      # The following line errors off with
      #   ./test_print.sh[9]: argval=${""$arg""}: The specified substitution is not valid for this command.
      
      argval=${""$arg""}
      
      if [[ $argval != '' ]] ; then
        printf ""ftp_func: $arg='$argval'\n""
      fi
      }
    
    COMMAND=""XYZ""
    
    print_arg ""COMMAND""

I've tried re-writing the offending line every way I can think of.  I've consulted the local oracles.  I've checked the online ""BASH Scripting Guide"".  And I sharpened up the ol' wavy-bladed knife and scrubbed the altar until it gleamed, but then I discovered that our local supply of virgins has been cut down to, like, nothin'.  Drat!

Any advice regarding how to get the value of a parameter whose name is passed into a function as a parameter will be received appreciatively.",4
11585633,07/20/2012 19:15:19,486720,10/25/2010 17:26:57,450,1,what's special with executing multiple commands in one line?,"if one executes the following two commands in one line, as follows,

> rm -rf dir ; cp dir2 dir

it may complain that cp can not create directory ``dir/subdir``: File exists

but if these two commands are executed in two lines, no errors will be thrown. I am just wandering what is the difference? and more importantly, how to execute two commands in one line, with the effect exactly the same as by two lines... ",bash,shell,command,,,07/20/2012 22:58:36,off topic,1,74,9,"what's special with executing multiple commands in one line? if one executes the following two commands in one line, as follows,

> rm -rf dir ; cp dir2 dir

it may complain that cp can not create directory ``dir/subdir``: File exists

but if these two commands are executed in two lines, no errors will be thrown. I am just wandering what is the difference? and more importantly, how to execute two commands in one line, with the effect exactly the same as by two lines... ",3
6483283,06/26/2011 09:57:21,713083,04/18/2011 08:54:21,16,0,changing a single line in a file,"I have a file with about 2000 lines.
What is the easiest way to change a particular line to something else.
say for example I want to change the 400th line from:   int cut_off = flow_max_-6;
to int cut_off = flow_max_-8;

I need to do this in the linux console
",bash,,,,,06/26/2011 16:42:38,not a real question,1,48,7,"changing a single line in a file I have a file with about 2000 lines.
What is the easiest way to change a particular line to something else.
say for example I want to change the 400th line from:   int cut_off = flow_max_-6;
to int cut_off = flow_max_-8;

I need to do this in the linux console
",1
6908508,08/02/2011 07:19:20,174011,09/15/2009 23:14:29,312,4,How to make mouse wheel scroll the less pager using bash and gnome-terminal?,"I have two computers with the latest Fedora. On the first, I'm using zsh and the mouse wheel can be used with the less pager within gnome-terminal to scroll the pager.

On the second, I use bash and the mouse whell scroll the terminal history, not the pager.

The shell shouldn't make any difference, why can't I use the mouse wheel to scroll in the second case?
<!--

To illustrate what it does, imagine I have a document like this:

    AAAA
    BBBB
    CCCC
    DDDD
    EEEE

And I have a two line terminal. If I use less, I get on the screen

    AAAA
    BBBB

The mouse wheeel cannot scroll further down. If I scroll upwards, I get the bash prompt history. Now I use the page down key to get to the bottom of the document, I get on screen:

    DDDD
    EEEE

Scrolling upwards gets me

    BBBB
    DDDD
-->",bash,scrolling,less,gnome-terminal,,07/30/2012 06:33:56,off topic,1,173,13,"How to make mouse wheel scroll the less pager using bash and gnome-terminal? I have two computers with the latest Fedora. On the first, I'm using zsh and the mouse wheel can be used with the less pager within gnome-terminal to scroll the pager.

On the second, I use bash and the mouse whell scroll the terminal history, not the pager.

The shell shouldn't make any difference, why can't I use the mouse wheel to scroll in the second case?
<!--

To illustrate what it does, imagine I have a document like this:

    AAAA
    BBBB
    CCCC
    DDDD
    EEEE

And I have a two line terminal. If I use less, I get on the screen

    AAAA
    BBBB

The mouse wheeel cannot scroll further down. If I scroll upwards, I get the bash prompt history. Now I use the page down key to get to the bottom of the document, I get on screen:

    DDDD
    EEEE

Scrolling upwards gets me

    BBBB
    DDDD
-->",4
11496076,07/15/2012 22:11:51,1518153,07/11/2012 14:48:12,21,0,How can I turn off the dialogue that red mark for the first character?,"How can I turn off the dialogue that red mark for the first character?
Thank you.

http://www.img-share.net/view/bCK3OcaG20.jpg",bash,,,,,07/16/2012 01:58:32,not a real question,1,15,14,"How can I turn off the dialogue that red mark for the first character? How can I turn off the dialogue that red mark for the first character?
Thank you.

http://www.img-share.net/view/bCK3OcaG20.jpg",1
1720286,11/12/2009 06:23:42,42069,12/01/2008 07:13:06,812,46,Remove first 4 letters from a folder name using bash scripting,As the title says i want to remove the first 4 letters from a folder name using a bash script. If you have another way to do it in linux i dont really mind e.g. python. Also i need the script to be executed regularly (daily),bash,linux,python,,,,open,0,46,11,Remove first 4 letters from a folder name using bash scripting As the title says i want to remove the first 4 letters from a folder name using a bash script. If you have another way to do it in linux i dont really mind e.g. python. Also i need the script to be executed regularly (daily),3
11097250,06/19/2012 08:30:41,1413440,05/23/2012 19:18:49,38,0,"NetBeans generates bad code after ""Add New Line Before Brace""","I am using  NetBeans IDE 7.1.1 on OSX-Lion and I noticed that it generates bad code after ""Add New Line Before Brace"".       
The newline char is part of the line, so Unix tools show a weird stuff when it is not there for the last line.        
In order to fix this I need to add the newline at the end of file.

Is there an automatic way to do this recursively in netbeans?    
or using the bash shell?",bash,netbeans,osx-lion,netbeans-7,,,open,0,94,10,"NetBeans generates bad code after ""Add New Line Before Brace"" I am using  NetBeans IDE 7.1.1 on OSX-Lion and I noticed that it generates bad code after ""Add New Line Before Brace"".       
The newline char is part of the line, so Unix tools show a weird stuff when it is not there for the last line.        
In order to fix this I need to add the newline at the end of file.

Is there an automatic way to do this recursively in netbeans?    
or using the bash shell?",4
5259399,03/10/2011 12:09:11,413910,08/07/2010 16:10:29,4100,292,how to force bash interpreter?,"I have two simple shell scripts to run my solr installation in a screen and restart it on crash (sometimes a memory heap exception happens...)

startserver.sh

    cd apache-solr/example
    screen -S solrserver ./runner.sh
    cd ../..

runner.sh

    until java -jar -Xmx1024m start.jar; do
        echo ""server stopped with exit code $? restart..."" >&2
        sleep 10
    done

they work just fine so far, the problem however is, that runner.sh must be executeable for the current user.

so this has to explicitly set. 

i have everything in subversion, and subversion is not intelligent enough to manage access rights.

so i am looking for a solution to start the script not as executeable script in the current environment but rather pass it on to the interpreter. 

something like:

    /bin/bash runner.sh

another alias for that should be just `. runner.sh` (well than its not  necessarily bash but the current users shell)
i did this with perl and php scripts before but somehow it won't work

i have a straight forward ubuntu 10.04 lts server on an amazon instance. well i installed apache2 and some apache modules, subversion and my favorite command line editor but no major system adaptations.",bash,shell,,,,11/08/2011 09:33:15,too localized,1,216,5,"how to force bash interpreter? I have two simple shell scripts to run my solr installation in a screen and restart it on crash (sometimes a memory heap exception happens...)

startserver.sh

    cd apache-solr/example
    screen -S solrserver ./runner.sh
    cd ../..

runner.sh

    until java -jar -Xmx1024m start.jar; do
        echo ""server stopped with exit code $? restart..."" >&2
        sleep 10
    done

they work just fine so far, the problem however is, that runner.sh must be executeable for the current user.

so this has to explicitly set. 

i have everything in subversion, and subversion is not intelligent enough to manage access rights.

so i am looking for a solution to start the script not as executeable script in the current environment but rather pass it on to the interpreter. 

something like:

    /bin/bash runner.sh

another alias for that should be just `. runner.sh` (well than its not  necessarily bash but the current users shell)
i did this with perl and php scripts before but somehow it won't work

i have a straight forward ubuntu 10.04 lts server on an amazon instance. well i installed apache2 and some apache modules, subversion and my favorite command line editor but no major system adaptations.",2
6969054,08/06/2011 21:35:40,538551,12/11/2010 01:29:26,1246,72,"Bash- ""command not found"" on simple variable assignment","Here's a simple version of my script which displays the failure:

    #!/bin/bash
    ${something:=""false""}
    ${something_else:=""blahblah""}
    ${name:=""file.ext""}

    echo ${something}
    echo ${something_else}
    echo ${name}

When I echo the variables, I get the values I put in, but it also emits an error. What am I doing wrong?

Output:


    ./test.sh: line 3: blahblah: command not found
    ./test.sh: line 4: file.ext: command not found
    false
    blahblah
    file.ext

The first two lines are being emitted to stderr, while the next three are being output to stdout.

My platform is fedora 15, bash version 4.2.10.",bash,,,,,,open,0,120,8,"Bash- ""command not found"" on simple variable assignment Here's a simple version of my script which displays the failure:

    #!/bin/bash
    ${something:=""false""}
    ${something_else:=""blahblah""}
    ${name:=""file.ext""}

    echo ${something}
    echo ${something_else}
    echo ${name}

When I echo the variables, I get the values I put in, but it also emits an error. What am I doing wrong?

Output:


    ./test.sh: line 3: blahblah: command not found
    ./test.sh: line 4: file.ext: command not found
    false
    blahblah
    file.ext

The first two lines are being emitted to stderr, while the next three are being output to stdout.

My platform is fedora 15, bash version 4.2.10.",1
8277061,11/26/2011 07:47:58,1066402,11/26/2011 00:20:29,6,0,Disk Usage format,"How can I get the disk usage information which is with 

> -h format

 and sorted. Right now if i use -h format it does not get sorted correctly.",bash,shell,unix,scripting,,11/26/2011 08:15:31,off topic,1,29,3,"Disk Usage format How can I get the disk usage information which is with 

> -h format

 and sorted. Right now if i use -h format it does not get sorted correctly.",4
10780215,05/28/2012 06:26:34,950238,09/17/2011 12:38:49,570,31,grep and sed to capture parameter in file,"I have a line which has some parameters that i want to grab. What is the best way to do this ?

Example line is :

 

    l1_user_instr hits=0035191479 misses=0000013657
    l1_user_data hits=0009562889 misses=0001215170

I want to write a script which gives hits=xx and miss=yy for a particular config.

grep l1_user_instr_hits | sed ?

I am not an expert in sed and hence the question. ",bash,shell,scripting,sed,,,open,0,67,8,"grep and sed to capture parameter in file I have a line which has some parameters that i want to grab. What is the best way to do this ?

Example line is :

 

    l1_user_instr hits=0035191479 misses=0000013657
    l1_user_data hits=0009562889 misses=0001215170

I want to write a script which gives hits=xx and miss=yy for a particular config.

grep l1_user_instr_hits | sed ?

I am not an expert in sed and hence the question. ",4
10483148,05/07/2012 13:41:20,361992,05/15/2010 19:50:41,106,1,Bash script Validations/Best Practices,"I am writing a Bash script to set some environment variables and then start a web server. What are some good validation checks to add to the script to make sure it is a fail proof as possible:

      1 #!/bin/bash
      2 
      3 # Allow checking that variables don't get set to empty strings.
      4 set -o nounset
      5 
      6 readonly qi_redmine_base=""/srv/redmine""
      7 
      8 if test ""${qi_redmine_base}"" -eq ""notset""
      9 then
     10 echo
     11 fi
     12 
     13 readonly qi_redmine_etc=""/etc/redmine/default""
     14 
     15 if test ""${qi_redmine_etc}"" -eq ""notset""
     16 then
     17 echo
     18 fi
     19 
     20 
     21 readonly RAILS_ETC=""${qi_redmine_etc}""
     22 export RAILS_ETC
     23 
     24 readonly RAILS_LOG=""${qi_redmine_base}/log""
     25 export RAILS_LOG
     26 
     27 readonly RAILS_VAR=""${qi_redmine_base}""
     28 export RAILS_VAR
     29 
     30 readonly RAILS_CACHE=""${qi_redmine_base}/tmp""
     31 export RAILS_CACHE
     32 
     33 export RAILS_ENV=production
     34 export X_DEBIAN_SITEID=default
     35 
     36 
     37 ruby /usr/share/redmine/script/server webrick -e production
     38 if [$? -ne 0]; then
     39   echo ""Server failed to start""   

Any help is greatly appreciated!

Greg",bash,shell,,,,05/07/2012 15:44:29,not a real question,1,334,4,"Bash script Validations/Best Practices I am writing a Bash script to set some environment variables and then start a web server. What are some good validation checks to add to the script to make sure it is a fail proof as possible:

      1 #!/bin/bash
      2 
      3 # Allow checking that variables don't get set to empty strings.
      4 set -o nounset
      5 
      6 readonly qi_redmine_base=""/srv/redmine""
      7 
      8 if test ""${qi_redmine_base}"" -eq ""notset""
      9 then
     10 echo
     11 fi
     12 
     13 readonly qi_redmine_etc=""/etc/redmine/default""
     14 
     15 if test ""${qi_redmine_etc}"" -eq ""notset""
     16 then
     17 echo
     18 fi
     19 
     20 
     21 readonly RAILS_ETC=""${qi_redmine_etc}""
     22 export RAILS_ETC
     23 
     24 readonly RAILS_LOG=""${qi_redmine_base}/log""
     25 export RAILS_LOG
     26 
     27 readonly RAILS_VAR=""${qi_redmine_base}""
     28 export RAILS_VAR
     29 
     30 readonly RAILS_CACHE=""${qi_redmine_base}/tmp""
     31 export RAILS_CACHE
     32 
     33 export RAILS_ENV=production
     34 export X_DEBIAN_SITEID=default
     35 
     36 
     37 ruby /usr/share/redmine/script/server webrick -e production
     38 if [$? -ne 0]; then
     39   echo ""Server failed to start""   

Any help is greatly appreciated!

Greg",2
7485403,09/19/2011 17:26:40,123367,06/15/2009 21:18:09,99,9,Programming unix shells,"I am in need of help writing a shell please. I am currently in the process of creating pipes and spawning associated child process to read and write to the pipe. The part that does not seem to work is communication between the parent and the child process. I need help with this please. First off, I would appreciate it if you would please explain how this would work (Stdin and Stdout as well) and also help me dissect what I have to help me understand what I am missing. ",bash,process,c++,c,pipe,09/20/2011 19:21:09,not a real question,1,91,3,"Programming unix shells I am in need of help writing a shell please. I am currently in the process of creating pipes and spawning associated child process to read and write to the pipe. The part that does not seem to work is communication between the parent and the child process. I need help with this please. First off, I would appreciate it if you would please explain how this would work (Stdin and Stdout as well) and also help me dissect what I have to help me understand what I am missing. ",5
11249949,06/28/2012 17:33:11,295182,03/16/2010 21:37:13,149,5,better options for screen?,"OK.  So I love screen.  It has saved my bacon a few times when machines crash or get disconnected from the network.    However, there are enough reasons keep keep me from using screen for everything,  which include:

 1. Pain in the butt scrolling.  Why can't I just interact as though this is a normal bash shell?
 2. My keyboard shortcuts are gone.   I have a number of things customized in my bash environment, is there a way to get them to work in screen as well?

Are there any tools our tips that I can use to make my screen-using experience as high quality as my bash using experience?


",bash,screen,,,,06/28/2012 18:45:07,off topic,1,117,4,"better options for screen? OK.  So I love screen.  It has saved my bacon a few times when machines crash or get disconnected from the network.    However, there are enough reasons keep keep me from using screen for everything,  which include:

 1. Pain in the butt scrolling.  Why can't I just interact as though this is a normal bash shell?
 2. My keyboard shortcuts are gone.   I have a number of things customized in my bash environment, is there a way to get them to work in screen as well?

Are there any tools our tips that I can use to make my screen-using experience as high quality as my bash using experience?


",2
10094636,04/10/2012 18:49:11,1261434,03/10/2012 19:27:18,8,0,accesing functions from external files bash,"This is really simple but since i m still a newbiw in shell scripting, i  not able to do this. It is simple, i have a menu driven script in which when the user enters his choice i loop in the case function and execute the selected menu. Uptil now i was writing the entire code in the same script. Now i am putting the code in each menu option in a external script and accessing the code from there. So it is something like this,

    > case $choice in
    > 
    > 1)
    > 
    > create()
    >
    echo Enter to continue;read junk
    >
    >2)
    >
    >(some code)

Then i created another external script where I wrote the create() function

Code is in the link,

    create()
    {
      while true
      do
            echo Please enter the name: ;read name
            echo Please enter your surname: ;read surname
            echo Please enter the address: ;read add
            echo Please enter the cell no.: ;read cell
            if yesno Do you really wish to save the following data to file
            then
            echo $name:$surname:$add:$cell >> $file
            clear
            echo The record has been inserted :D
            else 
            echo The record was not save
            fi
            if yesno Do you wish to enter another record
            then
            :
            else
            xit
            fi
      done
    }
    
    addRecord()
    {
    
    }
    
    search()
    {
    
    }
    
    delRecord()
    {
    
    }



 
But i am getting an error,

    course_func: line 31: syntax error near unexpected token `}'
    course_func: line 31: `}'
    menu_driven: line 18: syntax error near unexpected token `echo'
    menu_driven: line 18: `	echo Enter to continue; read crap'

Line 31 is where I am ending the addRecord function, which is empty function, for the remaining cases. Can we not have a empty function in bash?",bash,bash-function,,,,,open,0,600,6,"accesing functions from external files bash This is really simple but since i m still a newbiw in shell scripting, i  not able to do this. It is simple, i have a menu driven script in which when the user enters his choice i loop in the case function and execute the selected menu. Uptil now i was writing the entire code in the same script. Now i am putting the code in each menu option in a external script and accessing the code from there. So it is something like this,

    > case $choice in
    > 
    > 1)
    > 
    > create()
    >
    echo Enter to continue;read junk
    >
    >2)
    >
    >(some code)

Then i created another external script where I wrote the create() function

Code is in the link,

    create()
    {
      while true
      do
            echo Please enter the name: ;read name
            echo Please enter your surname: ;read surname
            echo Please enter the address: ;read add
            echo Please enter the cell no.: ;read cell
            if yesno Do you really wish to save the following data to file
            then
            echo $name:$surname:$add:$cell >> $file
            clear
            echo The record has been inserted :D
            else 
            echo The record was not save
            fi
            if yesno Do you wish to enter another record
            then
            :
            else
            xit
            fi
      done
    }
    
    addRecord()
    {
    
    }
    
    search()
    {
    
    }
    
    delRecord()
    {
    
    }



 
But i am getting an error,

    course_func: line 31: syntax error near unexpected token `}'
    course_func: line 31: `}'
    menu_driven: line 18: syntax error near unexpected token `echo'
    menu_driven: line 18: `	echo Enter to continue; read crap'

Line 31 is where I am ending the addRecord function, which is empty function, for the remaining cases. Can we not have a empty function in bash?",2
7786241,10/16/2011 18:08:26,250687,01/14/2010 11:48:45,43,0,How to improve one's bash/command-line skills?,"Unfortunately I come from the Windows world and quite a newbie to Linux. I see people who are really productive due to their skills with BASH. Any pointers, tutorials, bools or suggestions to improve one's command-line skills? Something like http://www.commandlinefu.com/.
",bash,shell,scripting,command-line,,10/16/2011 22:44:35,off topic,1,40,6,"How to improve one's bash/command-line skills? Unfortunately I come from the Windows world and quite a newbie to Linux. I see people who are really productive due to their skills with BASH. Any pointers, tutorials, bools or suggestions to improve one's command-line skills? Something like http://www.commandlinefu.com/.
",4
4545532,12/28/2010 11:04:15,465587,10/04/2010 07:47:46,1,0,How to: Simulating keystroke inputs in shell to an app running in an embedded target,"I am writing an automation script that runs on an embedded linux target. 

A part of the script involves running an app on the target and obtaining some data from the stdout. Stdout here is the ssh terminal connection I have to the target. 

However, this data is available on the stdout only if certain keys are pressed and the key press has to be done on the keyboard connected to the embedded target and not on the host system from which I have ssh'd into the target. Is there any way to simulate this?

",bash,shell,keyboard,embedded-linux,keystroke,,open,0,95,15,"How to: Simulating keystroke inputs in shell to an app running in an embedded target I am writing an automation script that runs on an embedded linux target. 

A part of the script involves running an app on the target and obtaining some data from the stdout. Stdout here is the ssh terminal connection I have to the target. 

However, this data is available on the stdout only if certain keys are pressed and the key press has to be done on the keyboard connected to the embedded target and not on the host system from which I have ssh'd into the target. Is there any way to simulate this?

",5
7422378,09/14/2011 20:11:27,945450,09/14/2011 20:11:27,1,0,How to extract substring from string,"I have a string, that does not always look the same, and from this string I want to extract some information if it exists. The string might look like one of the following:

myCommand -s 12 moreParameters
myCommand -s12 moreParamaters
myCommand -s moreParameters

I want to get the number, i.e. 12 in this case, if it exists. How can I accomplish that?

Many thanks!",bash,sed,grep,substring,extract,,open,0,59,6,"How to extract substring from string I have a string, that does not always look the same, and from this string I want to extract some information if it exists. The string might look like one of the following:

myCommand -s 12 moreParameters
myCommand -s12 moreParamaters
myCommand -s moreParameters

I want to get the number, i.e. 12 in this case, if it exists. How can I accomplish that?

Many thanks!",5
11568712,07/19/2012 20:22:42,1486386,06/27/2012 16:56:52,33,0,pass a password to sudo su,"I wanted to sudo to different user after ssh'ing into remote server, for this i tried the following:

    cat remote-test.sh
    ssh -t -t abcuser@test-server.net 'bash -s' << EOF
      /tmp/test.sh
    EOF

when i execute the remote-test.sh from development-server.net, I wanted to ssh to test-server.net as abcuser and then sudo as xyzuser .

    cat /tmp/test.sh
    
    echo ""password"" | sudo -S su - xyzuser
    cd /tmp/some/directory

Can someone please advice how to pass a password while doing sudo su in a script.
",bash,shell,ssh,remote-access,sudo,07/20/2012 11:04:58,off topic,1,104,6,"pass a password to sudo su I wanted to sudo to different user after ssh'ing into remote server, for this i tried the following:

    cat remote-test.sh
    ssh -t -t abcuser@test-server.net 'bash -s' << EOF
      /tmp/test.sh
    EOF

when i execute the remote-test.sh from development-server.net, I wanted to ssh to test-server.net as abcuser and then sudo as xyzuser .

    cat /tmp/test.sh
    
    echo ""password"" | sudo -S su - xyzuser
    cd /tmp/some/directory

Can someone please advice how to pass a password while doing sudo su in a script.
",5
7938535,10/29/2011 11:15:38,133939,07/06/2009 22:38:15,7069,210,How can I use the Platform LSF blaunch command to start processes simultaneously?,"I'm having a hard time figuring out why I can't launch commands in parallel using the LSF `blaunch` command:


    for num in `seq 3`; do
    blaunch -u JobHost ./cmd_${num}.sh &
    done

Error message:

    Oct 29 13:08:55 2011 18887 3 7.04 lsb_launch(): Failed while executing tasks.
    Oct 29 13:08:55 2011 18885 3 7.04 lsb_launch(): Failed while executing tasks.
    Oct 29 13:08:55 2011 18884 3 7.04 lsb_launch(): Failed while executing tasks.

Removing the ampersand (`&`) allows the commands to execute sequentially, but I am after parallel execution.
",bash,lsf,,,,,open,0,101,13,"How can I use the Platform LSF blaunch command to start processes simultaneously? I'm having a hard time figuring out why I can't launch commands in parallel using the LSF `blaunch` command:


    for num in `seq 3`; do
    blaunch -u JobHost ./cmd_${num}.sh &
    done

Error message:

    Oct 29 13:08:55 2011 18887 3 7.04 lsb_launch(): Failed while executing tasks.
    Oct 29 13:08:55 2011 18885 3 7.04 lsb_launch(): Failed while executing tasks.
    Oct 29 13:08:55 2011 18884 3 7.04 lsb_launch(): Failed while executing tasks.

Removing the ampersand (`&`) allows the commands to execute sequentially, but I am after parallel execution.
",2
68372,09/16/2008 00:55:59,3499,08/28/2008 19:39:37,301,27,What are some of your favorite little known command-line tricks using Bash?,"We all know how to use &lt;CTRL&gt;-R to reverse search through history, but did you know you can use &lt;CTRL&gt;-S to forward search if you set `stty stop """"`?  Also, have you ever tried running bind -p to see all of your keyboard shortcuts listed?  There are over 455 on Mac OS X by default.  

What are some of your favorite obscure tricks, keyboard shortcuts and shopt configuration using bash?

",bash,,,,,05/27/2011 21:59:18,not a real question,1,73,12,"What are some of your favorite little known command-line tricks using Bash? We all know how to use &lt;CTRL&gt;-R to reverse search through history, but did you know you can use &lt;CTRL&gt;-S to forward search if you set `stty stop """"`?  Also, have you ever tried running bind -p to see all of your keyboard shortcuts listed?  There are over 455 on Mac OS X by default.  

What are some of your favorite obscure tricks, keyboard shortcuts and shopt configuration using bash?

",1
7450158,09/16/2011 20:40:19,913171,08/26/2011 00:34:04,13,0,sed: not interpreting escape characters in variable correctly,"I am trying to replace a line in a file with the value of a variable (the variable contains a windows path). Although the variable prints correctly to STDOUT, when used in sed to replace the line of interest, the backslashes disappear.

Any idea how to remedy this? Other ideas welcome.

CODE:


WINPATH=""\\\\\\\\hd-place\\\stor1\\\fold1\\\archive\\\$VAR1.$Var2\\\Viewer""

print this to screen (as it should): \\\hd-place\stor1\fold1\archive\$VAR1.$Var2\Viewer

The SED command I'm using is: cat file.xml | sed ""3 c\
  <\RunFolder>$WINPATH<\/RunFolder>"" (please excuse the slashes inside the XML tags)

This outputs this:

\hd-placestor1fold1archive$VAR1.$Var2Viewer

Where as I want this:
\\\hd-place\stor1\fold1\archive\$VAR1.$Var2\Viewer
",bash,sed,awk,,,,open,0,84,8,"sed: not interpreting escape characters in variable correctly I am trying to replace a line in a file with the value of a variable (the variable contains a windows path). Although the variable prints correctly to STDOUT, when used in sed to replace the line of interest, the backslashes disappear.

Any idea how to remedy this? Other ideas welcome.

CODE:


WINPATH=""\\\\\\\\hd-place\\\stor1\\\fold1\\\archive\\\$VAR1.$Var2\\\Viewer""

print this to screen (as it should): \\\hd-place\stor1\fold1\archive\$VAR1.$Var2\Viewer

The SED command I'm using is: cat file.xml | sed ""3 c\
  <\RunFolder>$WINPATH<\/RunFolder>"" (please excuse the slashes inside the XML tags)

This outputs this:

\hd-placestor1fold1archive$VAR1.$Var2Viewer

Where as I want this:
\\\hd-place\stor1\fold1\archive\$VAR1.$Var2\Viewer
",3
11286823,07/02/2012 00:59:50,1291203,03/25/2012 11:42:35,33,1,mkisofs creating iso file with no error or warning but iso corrupted,"I'm trying to make a dvd from mpeg2 files. 

First of all i'm on windows 7. 

I'm using the following binaries:

 1. jpeg2yuv
 2. mpeg2enc
 3. mplex
 4. spumux
 5. dvdauthor

Now everything is fine till this point absolutely no errors, but then i'm using mkisofs to make the iso file also no errors or warnings. It creates the iso file but i cannot burn it to dvd it said: The selected disk image file isn't valid.

I tried it on a Mac osx as well and there the iso is worked fine.

It is an NTSC iso.

I'm totaly stuck with this problem any help is really appreciated.

",bash,,,,,07/02/2012 03:15:17,off topic,1,105,12,"mkisofs creating iso file with no error or warning but iso corrupted I'm trying to make a dvd from mpeg2 files. 

First of all i'm on windows 7. 

I'm using the following binaries:

 1. jpeg2yuv
 2. mpeg2enc
 3. mplex
 4. spumux
 5. dvdauthor

Now everything is fine till this point absolutely no errors, but then i'm using mkisofs to make the iso file also no errors or warnings. It creates the iso file but i cannot burn it to dvd it said: The selected disk image file isn't valid.

I tried it on a Mac osx as well and there the iso is worked fine.

It is an NTSC iso.

I'm totaly stuck with this problem any help is really appreciated.

",1
6611689,07/07/2011 13:51:45,640584,03/02/2011 05:19:56,546,12,Best quotes practice when it doesn't matter?,"If I want to something like:

    foo=""bar baz""
    foo='bar baz'

Is it best practice to use double-quotes or single-quotes?",bash,quotes,double-quotes,singlequotes,,03/15/2012 12:44:13,not constructive,1,24,7,"Best quotes practice when it doesn't matter? If I want to something like:

    foo=""bar baz""
    foo='bar baz'

Is it best practice to use double-quotes or single-quotes?",4
11053558,06/15/2012 15:18:40,1310527,04/03/2012 13:19:35,79,0,Bash: Rename small part of multiple files in middle of name,"I'd just like to change this

    cc211_AMBER_13062012i.II  cc211_GROMOS_13062012i.II
    cc211_CHARM_13062012i.II  cc211_OPLS_13062012i.II

to

    cc211_AMBER_15062012i.II  cc211_GROMOS_15062012i.II
    cc211_CHARM_15062012i.II  cc211_OPLS_15062012i.II

I tried,

    find -name ""*.13 *"" | xargs rename "".13"" "".15""

There is normally no space between the 3 and the second asterix, thats just makes it italics on from what I can see. Basically there's a lot of answers for what to do when it's at the end of the filename, where asterix seem to work, but here I can't make it work.

Anything you've got would make my life a lot easier!

Thanks,

Charlie
",bash,,,,,,open,0,104,11,"Bash: Rename small part of multiple files in middle of name I'd just like to change this

    cc211_AMBER_13062012i.II  cc211_GROMOS_13062012i.II
    cc211_CHARM_13062012i.II  cc211_OPLS_13062012i.II

to

    cc211_AMBER_15062012i.II  cc211_GROMOS_15062012i.II
    cc211_CHARM_15062012i.II  cc211_OPLS_15062012i.II

I tried,

    find -name ""*.13 *"" | xargs rename "".13"" "".15""

There is normally no space between the 3 and the second asterix, thats just makes it italics on from what I can see. Basically there's a lot of answers for what to do when it's at the end of the filename, where asterix seem to work, but here I can't make it work.

Anything you've got would make my life a lot easier!

Thanks,

Charlie
",1
4238341,11/21/2010 14:28:24,168034,09/03/2009 17:13:52,1013,47,"What is the reason for the weird syntax of the ""case"" statement in a bash/zsh script?","Looking from a programmer's point of view then shell script is just another programming language, where one has to learn and conform to the rules of the language. However, I have to admit that this syntax is the weirdest style I have ever seen in a rather commonly used language. Did the shell take this syntax from an older language that it descents from? Is there a special implication / meaning in the syntax?

As an example, here is a little snippet that I take from [another post][1] on SO

    case ""$1"" in
        start)
            start
            ;;
        stop)
            stop
            ;;
        restart)
            stop
            start
            ;;
        status)
            check_status
            ;;
        *)
            echo ""Usage: $0 {start|stop|restart|status}""
            exit 1
            ;;
    esac

Looking at this, firstly I can see that `case` ends with `esac`, which is its reversed form (like `if` ending in `fi`). Secondly I understand that each case is followed by a `)`. Fair enough, but why on earth do I need two `;` at the end of each statement? I would also say that the `)` without an accompanying `(` is ugly.

I'm looking for more information about the historical aspect of the language, but I'm open for technical reasons as well.

  [1]: http://stackoverflow.com/questions/3989656/init-d-celery-script-for-centos/4046542#4046542",bash,shell,case,zsh,,,open,0,371,16,"What is the reason for the weird syntax of the ""case"" statement in a bash/zsh script? Looking from a programmer's point of view then shell script is just another programming language, where one has to learn and conform to the rules of the language. However, I have to admit that this syntax is the weirdest style I have ever seen in a rather commonly used language. Did the shell take this syntax from an older language that it descents from? Is there a special implication / meaning in the syntax?

As an example, here is a little snippet that I take from [another post][1] on SO

    case ""$1"" in
        start)
            start
            ;;
        stop)
            stop
            ;;
        restart)
            stop
            start
            ;;
        status)
            check_status
            ;;
        *)
            echo ""Usage: $0 {start|stop|restart|status}""
            exit 1
            ;;
    esac

Looking at this, firstly I can see that `case` ends with `esac`, which is its reversed form (like `if` ending in `fi`). Secondly I understand that each case is followed by a `)`. Fair enough, but why on earth do I need two `;` at the end of each statement? I would also say that the `)` without an accompanying `(` is ugly.

I'm looking for more information about the historical aspect of the language, but I'm open for technical reasons as well.

  [1]: http://stackoverflow.com/questions/3989656/init-d-celery-script-for-centos/4046542#4046542",4
4190150,11/16/2010 00:22:06,193430,10/20/2009 22:29:42,8,0,Running bash script from IIS6,"Running IIS6 on Windows 2003.  I'm trying to set up a simple ASP page which runs a bash script:

    dim wshShell
    set wshShell = CreateObject(""WScript.Shell"")

    dim command
    command = ""c:\inetpub\wwwroot\bin\bash.exe /cygdrive/c/inetpub/wwwroot/test.sh""

    wshShell.Run(command)
    set wshShell = nothing

I've configured IIS6 to use the account IUSR_SERVERNAME as the identity for the default application pool, and confirmed that the script executes when I run it from the command line using

    runas /usr:IUSR_SERVERNAME [command]

If I set the command to be notepad.exe, IIS6 launches it (with no window, of course, but I can see it in Task Manager, and the user name is set to IUSR_SERVERNAME).

Is there something I'm overlooking that I need to configure?  I've got a similar script running on Windows 7 / IIS7, and it wasn't difficult to get running.",bash,asp-classic,iis6,,,,open,0,150,5,"Running bash script from IIS6 Running IIS6 on Windows 2003.  I'm trying to set up a simple ASP page which runs a bash script:

    dim wshShell
    set wshShell = CreateObject(""WScript.Shell"")

    dim command
    command = ""c:\inetpub\wwwroot\bin\bash.exe /cygdrive/c/inetpub/wwwroot/test.sh""

    wshShell.Run(command)
    set wshShell = nothing

I've configured IIS6 to use the account IUSR_SERVERNAME as the identity for the default application pool, and confirmed that the script executes when I run it from the command line using

    runas /usr:IUSR_SERVERNAME [command]

If I set the command to be notepad.exe, IIS6 launches it (with no window, of course, but I can see it in Task Manager, and the user name is set to IUSR_SERVERNAME).

Is there something I'm overlooking that I need to configure?  I've got a similar script running on Windows 7 / IIS7, and it wasn't difficult to get running.",3
11510440,07/16/2012 18:37:20,1004278,10/20/2011 00:53:10,813,8,Easiest way to search for a directory or a file in UNIX?,"What's the easiest command to use to search for a directory or file containing ""abc"" in it? ",bash,shell,unix,command-line,,07/16/2012 19:03:30,off topic,1,18,12,"Easiest way to search for a directory or a file in UNIX? What's the easiest command to use to search for a directory or file containing ""abc"" in it? ",4
7633026,10/03/2011 09:09:55,453785,09/21/2010 10:23:11,3,2,How can I add certain commands to .bash_history permanently?,"I use bash and I sometimes have to type some very long commands for certain tasks. These long commands are not regularly used and generally gets overwritten in .bash_history file by the time I use them again. How can I add certain commands to .bash_history permanently?

Thanks.",bash,history,,,,,open,0,46,9,"How can I add certain commands to .bash_history permanently? I use bash and I sometimes have to type some very long commands for certain tasks. These long commands are not regularly used and generally gets overwritten in .bash_history file by the time I use them again. How can I add certain commands to .bash_history permanently?

Thanks.",2
4826329,01/28/2011 08:42:37,581242,01/19/2011 10:16:51,5,1,"I have written a simple daemon, pls suggest improvements (bash/python-Ubuntu)","I have a bash script that basically starts an audio stream using mplayer:

    #!/bin/bash
    # startmusic.sh
    /usr/bin/mplayer http://www.audiostream.com

what I want to make sure is that if mplayer chrashes or ends of any reason, it gets automatically restarted. I therefore have a cron job running every minute which also is a bash script:

    #!/bin/bash
    # interval.sh
    if [ -z ""$(pgrep mplayer)"" ]; then
     #restart music
     (
      exec </dev/null
      exec >/dev/null
      exec 2>/dev/null
      umask 0
      cd /
     bash /home/user/startmusic.sh
     ) &
    else
     echo ""music already playing, no need to restart startmusic.sh""         
    fi

One odd thing that makes this script not very useful is that it seems that mplayer is starting 2 instances, and if the player stops (as it e.g. does when the connection is lost), only 1 mplayer instance quits, still leaving one left. Since my programming skills are quite rudimentary, I would greatly appreciate any (easy-to-implement) solutions.
Thanks in advance/J
",bash,daemon,mplayer,,,,open,0,226,10,"I have written a simple daemon, pls suggest improvements (bash/python-Ubuntu) I have a bash script that basically starts an audio stream using mplayer:

    #!/bin/bash
    # startmusic.sh
    /usr/bin/mplayer http://www.audiostream.com

what I want to make sure is that if mplayer chrashes or ends of any reason, it gets automatically restarted. I therefore have a cron job running every minute which also is a bash script:

    #!/bin/bash
    # interval.sh
    if [ -z ""$(pgrep mplayer)"" ]; then
     #restart music
     (
      exec </dev/null
      exec >/dev/null
      exec 2>/dev/null
      umask 0
      cd /
     bash /home/user/startmusic.sh
     ) &
    else
     echo ""music already playing, no need to restart startmusic.sh""         
    fi

One odd thing that makes this script not very useful is that it seems that mplayer is starting 2 instances, and if the player stops (as it e.g. does when the connection is lost), only 1 mplayer instance quits, still leaving one left. Since my programming skills are quite rudimentary, I would greatly appreciate any (easy-to-implement) solutions.
Thanks in advance/J
",3
10136210,04/13/2012 06:27:49,1330807,04/13/2012 05:51:26,1,0,Error running makepkg on yaourt from the Aur,"A failure occured when i ran makepkg for yaourt.

the exact things displayed

    ==> Starting package()...
    /usr/bin/install -d /home/jaden/Aur/yaourt/pkg/usr/bin
    /bin/bash: /usr/bin/install: No such file or directory
    make: *** [install] Error 127
    ==> ERROR: A failure occured in package().
    Aborting...

so i tried creating the dir that it was talking and running again

the ""helpful"" error message simply said
    
    ==> Starting package()...
    /usr/bin/install -d /home/jaden/Aur/yaourt/pkg/usr/bin
    /bin/bash: /usr/bin/install: file or directory exists
    make: *** [install] Error 126
    ==> ERROR: A failure occured in package().
    Aborting...

looked around the archwiki and yaourt Aur page comments and saw that the same problem had occured to another and that they had found a fix....

so i ran the fix (pacman file link.) that they used 

`$ ln -s /usr/share/bash-completion/completions/pacman /etc/bash_completion.d/`


and nothing changes

i personally cannot find anything else even remotely helpful/pointing towards help 

if you guys need more info and such i can't really think of what else to give you but regardless let me know and i will eagerly do anything i can to help you help me ;)

Thanks in advanced for all the help I really appreciate it.
 :)",bash,error-message,make,syntax-error,archlinux,,open,0,220,8,"Error running makepkg on yaourt from the Aur A failure occured when i ran makepkg for yaourt.

the exact things displayed

    ==> Starting package()...
    /usr/bin/install -d /home/jaden/Aur/yaourt/pkg/usr/bin
    /bin/bash: /usr/bin/install: No such file or directory
    make: *** [install] Error 127
    ==> ERROR: A failure occured in package().
    Aborting...

so i tried creating the dir that it was talking and running again

the ""helpful"" error message simply said
    
    ==> Starting package()...
    /usr/bin/install -d /home/jaden/Aur/yaourt/pkg/usr/bin
    /bin/bash: /usr/bin/install: file or directory exists
    make: *** [install] Error 126
    ==> ERROR: A failure occured in package().
    Aborting...

looked around the archwiki and yaourt Aur page comments and saw that the same problem had occured to another and that they had found a fix....

so i ran the fix (pacman file link.) that they used 

`$ ln -s /usr/share/bash-completion/completions/pacman /etc/bash_completion.d/`


and nothing changes

i personally cannot find anything else even remotely helpful/pointing towards help 

if you guys need more info and such i can't really think of what else to give you but regardless let me know and i will eagerly do anything i can to help you help me ;)

Thanks in advanced for all the help I really appreciate it.
 :)",5
2184893,02/02/2010 14:52:37,180361,09/28/2009 13:22:57,5,1,Run bash with redefined PS1 env variable,"I have written cpp aplication called MyShell that takes as the params some real shell name (generally bash) and its params. MyShell works as a wrapper for it.

I need to change command prompting for the inner shell, specifically the PS1 environmental variable.

I know how to do it command-line way using PS1 env var:

$ PS1=""[myshell]""$PS1
 
[myshell]$ 

But it is not so easy to do that from cpp application:
    
    string newPS1 = ""[myshell]"" + string(getenv(""PS1""));
    setenv(""PS1"", newPS1.c_str());
    if (execvp(shell, argv) < 0) {
        cerr << ""can not exec "" << shell << "": "" << strerror(errno) << endl;
        exit(1);
    }

afaik, when bash is invoked it executes command from /etc/.bashrc or /etc/profile (depending on users options). Those scipts redefine PS1 var too. So my  
    
    setenv(""PS1"", newPS1.c_str());

has no effect.

Any suggestion?",bash,c++,environment-variables,prompt,,,open,0,165,7,"Run bash with redefined PS1 env variable I have written cpp aplication called MyShell that takes as the params some real shell name (generally bash) and its params. MyShell works as a wrapper for it.

I need to change command prompting for the inner shell, specifically the PS1 environmental variable.

I know how to do it command-line way using PS1 env var:

$ PS1=""[myshell]""$PS1
 
[myshell]$ 

But it is not so easy to do that from cpp application:
    
    string newPS1 = ""[myshell]"" + string(getenv(""PS1""));
    setenv(""PS1"", newPS1.c_str());
    if (execvp(shell, argv) < 0) {
        cerr << ""can not exec "" << shell << "": "" << strerror(errno) << endl;
        exit(1);
    }

afaik, when bash is invoked it executes command from /etc/.bashrc or /etc/profile (depending on users options). Those scipts redefine PS1 var too. So my  
    
    setenv(""PS1"", newPS1.c_str());

has no effect.

Any suggestion?",4
4169204,11/12/2010 21:30:22,505879,11/12/2010 14:51:50,1,0,Bash case in sequence of numbers,"num=0.5

avg=`seq 0.47 0.01 0.79`

case $num in
""$avg"" )
echo ""ok""
;;
1 )
echo ""no""
;;
esac

Im trying to do this, if you understand. 
So, im giving it a number, and it is ok if number matches sequence.
But this does not work. Is there another way to do this?",bash,sequence,case,,,,open,0,42,6,"Bash case in sequence of numbers num=0.5

avg=`seq 0.47 0.01 0.79`

case $num in
""$avg"" )
echo ""ok""
;;
1 )
echo ""no""
;;
esac

Im trying to do this, if you understand. 
So, im giving it a number, and it is ok if number matches sequence.
But this does not work. Is there another way to do this?",3
295195,11/17/2008 09:46:19,10264,09/15/2008 22:00:30,56,6,How do I add a directory with a colon to a shell path?,"The problem is simple:

Using bash, I want to add a directory to my PYTHONPATH for ease of script execution. Unfortunately, the directory I want to use has a : in it. So I try each of the following

    export PYTHONPATH=${PYTHONPATH}:/home/shane/mywebsite.com:3344/
    export PYTHONPATH=${PYTHONPATH}:/home/shane/mywebsite.com\:3344/
    export PYTHONPATH=${PYTHONPATH}:""/home/shane/mywebsite.com:3344/""

None of these work. Every time, the path is created as two separate directories on the path.
My question is, is it possible at all to do this for bash?
If so, what's the syntax required?
",bash,shell,,,,,open,0,86,13,"How do I add a directory with a colon to a shell path? The problem is simple:

Using bash, I want to add a directory to my PYTHONPATH for ease of script execution. Unfortunately, the directory I want to use has a : in it. So I try each of the following

    export PYTHONPATH=${PYTHONPATH}:/home/shane/mywebsite.com:3344/
    export PYTHONPATH=${PYTHONPATH}:/home/shane/mywebsite.com\:3344/
    export PYTHONPATH=${PYTHONPATH}:""/home/shane/mywebsite.com:3344/""

None of these work. Every time, the path is created as two separate directories on the path.
My question is, is it possible at all to do this for bash?
If so, what's the syntax required?
",2
4920078,02/07/2011 10:15:12,553223,12/24/2010 10:35:59,19,2,bash script is taking fixed argument values instead of those actually passed,"I have simple bash script find.sh for finding the files

==>cat find.sh

echo $1

find -name $1



but it is not taking the correct arguments sometimes, instead it takes the fixed argument 

Eg

find.sh 'ECSv2_P_TCP_FUNC_060*'

ECSv2_P_TCP_FUNC_060 ECSv2_P_TCP_FUNC_060.backup


Here though i have passed 'ECSv2_P_TCP_FUNC_060*' it has taken ECSv2_P_TCP_FUNC_060 ECSv2_P_TCP_FUNC_060.backup these as arguments.

Why does this happen?
And how to avoid this?



",bash,shell,command-line-arguments,,,,open,0,51,12,"bash script is taking fixed argument values instead of those actually passed I have simple bash script find.sh for finding the files

==>cat find.sh

echo $1

find -name $1



but it is not taking the correct arguments sometimes, instead it takes the fixed argument 

Eg

find.sh 'ECSv2_P_TCP_FUNC_060*'

ECSv2_P_TCP_FUNC_060 ECSv2_P_TCP_FUNC_060.backup


Here though i have passed 'ECSv2_P_TCP_FUNC_060*' it has taken ECSv2_P_TCP_FUNC_060 ECSv2_P_TCP_FUNC_060.backup these as arguments.

Why does this happen?
And how to avoid this?



",3
6550484,07/01/2011 16:13:14,298690,03/22/2010 00:34:16,1160,61,Avoid grep returning error when input doesn't match,"I want to write in a bash script a piece of code that checks if a program is already running.
I have the following in order to search whether bar is running

     foo=`ps -ef | grep bar | grep -v grep`

The

     grep -v grep

part is to ensure that the ""grep bar"" is not taken into account in ps results

When bar isn't running, foo is correctly empty. But my problem lies in the fact tha the script has

     set -e

which is a flag to terminate the script if some command returns an error.
It turns out that when bar isn't running, ""grep -v grep"" doesn't match with anything and grep returns an error. I tried using -q or -s but to no avail.

Is there any solution to that? Thx",bash,grep,,,,,open,0,138,8,"Avoid grep returning error when input doesn't match I want to write in a bash script a piece of code that checks if a program is already running.
I have the following in order to search whether bar is running

     foo=`ps -ef | grep bar | grep -v grep`

The

     grep -v grep

part is to ensure that the ""grep bar"" is not taken into account in ps results

When bar isn't running, foo is correctly empty. But my problem lies in the fact tha the script has

     set -e

which is a flag to terminate the script if some command returns an error.
It turns out that when bar isn't running, ""grep -v grep"" doesn't match with anything and grep returns an error. I tried using -q or -s but to no avail.

Is there any solution to that? Thx",2
8657164,12/28/2011 14:32:04,1051924,11/17/2011 13:47:37,376,3,bash sort for resolution,"i have a list of resolutions (mobile devices, monitors etc...) and i want to sort them by resolution using bash/vim

i have (not ordered):

    1024 x 480
    96 x 120
    1024 x 600
    100 x 120
    800 x 1280
    64 x 98
    640 x 320
    64 x 128
    640 x 960
    800 x 480
    80 x 120

then when i do:

    cat file | sort -u

i get:

    100 x 120
    1024 x 480
    1024 x 600
    640 x 320
    640 x 960
    64 x 128
    64 x 98
    800 x 1280
    800 x 480
    80 x 120
    96 x 120

why it not sorted like this and how can i do it?

    64 x 98
    64 x 128
    80 x 120
    96 x 120
    100 x 120
    640 x 320
    640 x 960
    800 x 1280
    800 x 480
    1024 x 480
    1024 x 600

",bash,sorting,,,,,open,0,244,4,"bash sort for resolution i have a list of resolutions (mobile devices, monitors etc...) and i want to sort them by resolution using bash/vim

i have (not ordered):

    1024 x 480
    96 x 120
    1024 x 600
    100 x 120
    800 x 1280
    64 x 98
    640 x 320
    64 x 128
    640 x 960
    800 x 480
    80 x 120

then when i do:

    cat file | sort -u

i get:

    100 x 120
    1024 x 480
    1024 x 600
    640 x 320
    640 x 960
    64 x 128
    64 x 98
    800 x 1280
    800 x 480
    80 x 120
    96 x 120

why it not sorted like this and how can i do it?

    64 x 98
    64 x 128
    80 x 120
    96 x 120
    100 x 120
    640 x 320
    640 x 960
    800 x 1280
    800 x 480
    1024 x 480
    1024 x 600

",2
8663595,12/29/2011 03:07:15,1114038,12/23/2011 22:01:06,45,0,bash for inline command,"i have to run commands in bash script and based on these i have to run other commands - i have centos and i use cronjob or one time script command

so i found 2 ways to do this on blogs and manuals:

1: using the ticks or accent char

    command `sub command`

or

2: using the dollar sign and parentheses

    command $(sub command)

what is the difference between the 2 and which one is preferable to use?

thank you",bash,command,,,,,open,0,80,4,"bash for inline command i have to run commands in bash script and based on these i have to run other commands - i have centos and i use cronjob or one time script command

so i found 2 ways to do this on blogs and manuals:

1: using the ticks or accent char

    command `sub command`

or

2: using the dollar sign and parentheses

    command $(sub command)

what is the difference between the 2 and which one is preferable to use?

thank you",2
7294056,09/03/2011 15:37:32,864405,07/26/2011 22:44:22,26,2,How to lookup the meaning of exit codes for linux command line utilities?,"I have my prompt (bash) configured to print out the exit code from the last command, if it wasn't successful (aka not zero). Therefore I'm seeing a lot of exit codes, even when a program seems to encounter no problems. **Is there a way to lookup the meaning of these exit codes?**

I always try the manpages, infopages or the ""--help"" option, but to no avail.

To clarify, I'm asking about the utilities that come with linux, like cd, ls, du ...",bash,error-message,,,,09/05/2011 00:03:17,off topic,1,80,13,"How to lookup the meaning of exit codes for linux command line utilities? I have my prompt (bash) configured to print out the exit code from the last command, if it wasn't successful (aka not zero). Therefore I'm seeing a lot of exit codes, even when a program seems to encounter no problems. **Is there a way to lookup the meaning of these exit codes?**

I always try the manpages, infopages or the ""--help"" option, but to no avail.

To clarify, I'm asking about the utilities that come with linux, like cd, ls, du ...",2
8385627,12/05/2011 12:55:01,688412,04/01/2011 23:10:33,165,4,bash - subtract 2 variables,"   I have the script below to subtract the counts of files between 2 directories but the COUNT= expression does not work, what is the correct syntax?

     #!/usr/bin/env bash

    
    FIRSTV=`ls -1 | wc -l`
    cd ..
    SECONDV=`ls -1 | wc -l`
    COUNT=expr $FIRSTV-$SECONDV
    echo $COUNT",bash,shell,unix,scripting,command-line,,open,0,70,5,"bash - subtract 2 variables    I have the script below to subtract the counts of files between 2 directories but the COUNT= expression does not work, what is the correct syntax?

     #!/usr/bin/env bash

    
    FIRSTV=`ls -1 | wc -l`
    cd ..
    SECONDV=`ls -1 | wc -l`
    COUNT=expr $FIRSTV-$SECONDV
    echo $COUNT",5
6022093,05/16/2011 19:06:08,344480,05/18/2010 20:41:11,308,18,VirtualBox VM access with cygwin,"I cannot access my virtual machines from the cygwin console. (Windows 7, UAC is disabled)

    Matthias@laptop0x4d53 /cygdrive/c/Program Files/Oracle/VirtualBox
    $ ./VBoxManage list vms

The Windows console, however, has access to my virtual machines.

    C:\Program Files\Oracle\VirtualBox>VBoxManage.exe list vms
    ""GlassFish"" {68874e4d-817a-4315-9ea2-38726964ac32}
    ""Tomcat"" {2e22a7c0-9950-4593-8eda-778d404476c7}
    ""LAMP"" {36aa6968-df52-49b5-be52-1f59c50f1527}

Maybe it's a problem with the user's rights. How can I access my VMs from cygwin also?",bash,cygwin,virtualbox,,,,open,0,75,5,"VirtualBox VM access with cygwin I cannot access my virtual machines from the cygwin console. (Windows 7, UAC is disabled)

    Matthias@laptop0x4d53 /cygdrive/c/Program Files/Oracle/VirtualBox
    $ ./VBoxManage list vms

The Windows console, however, has access to my virtual machines.

    C:\Program Files\Oracle\VirtualBox>VBoxManage.exe list vms
    ""GlassFish"" {68874e4d-817a-4315-9ea2-38726964ac32}
    ""Tomcat"" {2e22a7c0-9950-4593-8eda-778d404476c7}
    ""LAMP"" {36aa6968-df52-49b5-be52-1f59c50f1527}

Maybe it's a problem with the user's rights. How can I access my VMs from cygwin also?",3
9883418,03/27/2012 04:31:30,149076,08/01/2009 20:50:45,3021,190,What level of expertise would this interview item suggest? unset foo; echo bar | read foo; echo $foo,"Imagine that you are preparing for an in-depth technical interview and you are asked to rate your expertise in shell scripting (hypothetically on a scale of one to ten).  Then look at the following shell command line example and answer the questions: *What does this do?* and *Why?*

    unset foo; echo bar | read foo; echo ""$foo""

What level of expertise would you map to correctly answer this question **for the general case** (not merely for one or another, specific, version of the shell)?

Now imagine that you're given the following example:


    cat ""$SOMELIST_OF_HOSTS"" | while read host; do ssh $host ""$some_cmd""; done

... and the interviewer explains that this command ""doesn't work"" and that it seems to only execute the *ssh* command on  a few of the hosts listed in the (large) file (something like on in every few hundred hostnames, seemingly scattered from among the list).  Naturally he or she asks: *Why is it doing that?* and *How might you fix it?*

Then rate the level of expertise to which you would map someone who can answer those questions correctly.

",bash,interview-questions,ksh,zsh,sh,03/28/2012 04:46:12,off topic,1,187,18,"What level of expertise would this interview item suggest? unset foo; echo bar | read foo; echo $foo Imagine that you are preparing for an in-depth technical interview and you are asked to rate your expertise in shell scripting (hypothetically on a scale of one to ten).  Then look at the following shell command line example and answer the questions: *What does this do?* and *Why?*

    unset foo; echo bar | read foo; echo ""$foo""

What level of expertise would you map to correctly answer this question **for the general case** (not merely for one or another, specific, version of the shell)?

Now imagine that you're given the following example:


    cat ""$SOMELIST_OF_HOSTS"" | while read host; do ssh $host ""$some_cmd""; done

... and the interviewer explains that this command ""doesn't work"" and that it seems to only execute the *ssh* command on  a few of the hosts listed in the (large) file (something like on in every few hundred hostnames, seemingly scattered from among the list).  Naturally he or she asks: *Why is it doing that?* and *How might you fix it?*

Then rate the level of expertise to which you would map someone who can answer those questions correctly.

",5
11571957,07/20/2012 02:16:42,490735,10/28/2010 23:46:19,170,1,What is the reason that copying some commands from ~/.bashrc to /etc/profile results in a bouncing graphical login in ubuntu 10?,"I added some commands, as noted above, to /etc/profile, so that my aliases would be there in a login shell as well. The side-effect, however, turned out to be that after typing in my password, the graphical login screen just blinks as if beginning to show the wallpaper, but then returns to the prompt as if I didn't enter anything. It doesn't produce any errors, just returns back to the prompt. The tty login works fine, without errors. I couldn't find which command I copied from ~./bashrc is causing this after commenting out a few, but I verified that renaming /etc/profile always fixes it. Btw, renaming ~/.bashrc had no effect. Could you explain what's happening?",bash,ubuntu,login,,,07/22/2012 13:53:15,off topic,1,115,21,"What is the reason that copying some commands from ~/.bashrc to /etc/profile results in a bouncing graphical login in ubuntu 10? I added some commands, as noted above, to /etc/profile, so that my aliases would be there in a login shell as well. The side-effect, however, turned out to be that after typing in my password, the graphical login screen just blinks as if beginning to show the wallpaper, but then returns to the prompt as if I didn't enter anything. It doesn't produce any errors, just returns back to the prompt. The tty login works fine, without errors. I couldn't find which command I copied from ~./bashrc is causing this after commenting out a few, but I verified that renaming /etc/profile always fixes it. Btw, renaming ~/.bashrc had no effect. Could you explain what's happening?",3
9066609,01/30/2012 15:50:43,42636,12/02/2008 22:18:00,3947,43,Fastest possible grep,"I'd like to know if there is any tip to make **grep** as fast as possible. I have a rather large base of txt files to search in the quickest possible way. I've made them all lowercase, so that I could get rid of `-i` option. This makes the search much faster.

Also, I've found out that `-P` and `-F` modes are quicker than the default one. I use the former when the search string is not a regular expression (just plain text), the latter if regex is involved.

Does anyone have any experience in speeding up grep? Maybe compile it from scratch with some particular flag (I'm on Linux CentOS), organize the files in a certain fashion or maybe make the search parallel in some way? Any tip is appreciated. Thanks.",bash,unix,grep,,,,open,0,130,3,"Fastest possible grep I'd like to know if there is any tip to make **grep** as fast as possible. I have a rather large base of txt files to search in the quickest possible way. I've made them all lowercase, so that I could get rid of `-i` option. This makes the search much faster.

Also, I've found out that `-P` and `-F` modes are quicker than the default one. I use the former when the search string is not a regular expression (just plain text), the latter if regex is involved.

Does anyone have any experience in speeding up grep? Maybe compile it from scratch with some particular flag (I'm on Linux CentOS), organize the files in a certain fashion or maybe make the search parallel in some way? Any tip is appreciated. Thanks.",3
8891886,01/17/2012 08:57:16,781909,06/02/2011 22:01:19,170,9,"What are your favourite ZSH tips, tricks and features?","I've read a few blog posts on some of the ZSH tips and tricks namely http://avalonstar.com/journal/2012/jan/16/a-weekend-with-z-shell/, http://blog.peepcode.com/blog/2012/my-command-line-prompt. I haven't used it myself, but posts like the above make me more and more tempted to do so.

For inspiration (and maybe an impetus to change shell), I thought I'd open out the question to StackOverflow - what are your favourite ZSH tips, tricks and features?",bash,shell,tips-and-tricks,zsh,,01/17/2012 17:11:20,not constructive,1,63,9,"What are your favourite ZSH tips, tricks and features? I've read a few blog posts on some of the ZSH tips and tricks namely http://avalonstar.com/journal/2012/jan/16/a-weekend-with-z-shell/, http://blog.peepcode.com/blog/2012/my-command-line-prompt. I haven't used it myself, but posts like the above make me more and more tempted to do so.

For inspiration (and maybe an impetus to change shell), I thought I'd open out the question to StackOverflow - what are your favourite ZSH tips, tricks and features?",4
2316701,02/23/2010 08:31:53,279264,02/23/2010 08:31:53,1,0,SO how to make MAC recognize linux BASH? ,"Script runs fine in Solaris and Linux just not on the crippled MAC -- thus no build environment 
#!/bin/bash
var0=1 
LIMIT=60 
mkdir Application 
cd Application 
while [ ""$var0"" -lt ""$LIMIT"" ] 
do 
mkdir ""$var0""; 
cd $var0;
	for i in $(seq 1 8192); 
	do mkdir ""${i}"";
	cd ""$i"";
	dd if=/dev/urandom of=a bs=4096 count=1 > /dev/null 2>&1;
		mkdir ""${i}""; 
		cd ""$i""; 
		dd if=/dev/urandom of=a bs=4096 count=1 > /dev/null 2>&1;
			mkdir ""${i}""; 
			cd ""$i""; 
			dd if=/dev/urandom of=a bs=4096 count=1 > /dev/null 2>&1;
                               cd ..;
                          cd ..;
                     cd ..;
                      done
                 cd ..;
      var0=$((var0 = 1));
         echo ""$var0"";
        date;
",bash,osx,,,,01/26/2012 14:40:37,too localized,1,220,9,"SO how to make MAC recognize linux BASH?  Script runs fine in Solaris and Linux just not on the crippled MAC -- thus no build environment 
#!/bin/bash
var0=1 
LIMIT=60 
mkdir Application 
cd Application 
while [ ""$var0"" -lt ""$LIMIT"" ] 
do 
mkdir ""$var0""; 
cd $var0;
	for i in $(seq 1 8192); 
	do mkdir ""${i}"";
	cd ""$i"";
	dd if=/dev/urandom of=a bs=4096 count=1 > /dev/null 2>&1;
		mkdir ""${i}""; 
		cd ""$i""; 
		dd if=/dev/urandom of=a bs=4096 count=1 > /dev/null 2>&1;
			mkdir ""${i}""; 
			cd ""$i""; 
			dd if=/dev/urandom of=a bs=4096 count=1 > /dev/null 2>&1;
                               cd ..;
                          cd ..;
                     cd ..;
                      done
                 cd ..;
      var0=$((var0 = 1));
         echo ""$var0"";
        date;
",2
8848335,01/13/2012 09:26:33,446140,09/13/2010 09:29:00,191,5,/bin/bash printf does not work with other LANG than C,"I have a really weird problem with /bin/bash and a script that uses printf to format a string.

My script looks like this

    rt=$(printf ""%.3f"" 13.234324245)

with the difference, that i compute the number 13.23... above. When i use /usr/bin/zsh that works great! Even /bin/sh can do it (but it cant do the if stuff...)
The biggest problem ist that /bin/bash seems to does not understand printf or does have another formating way when i dont use `LANG=C`. 

My LANG Variable is set to `de_AT.UTF-8` and then i get this Error:

    /path/to/script: Zeile 12: printf: 13.234324245: Ungltige Zahl.

So it simply says that the number i gave printf is invalid...

Do i need to run printf in a different way?
",bash,locale,printf,zsh,,,open,0,121,10,"/bin/bash printf does not work with other LANG than C I have a really weird problem with /bin/bash and a script that uses printf to format a string.

My script looks like this

    rt=$(printf ""%.3f"" 13.234324245)

with the difference, that i compute the number 13.23... above. When i use /usr/bin/zsh that works great! Even /bin/sh can do it (but it cant do the if stuff...)
The biggest problem ist that /bin/bash seems to does not understand printf or does have another formating way when i dont use `LANG=C`. 

My LANG Variable is set to `de_AT.UTF-8` and then i get this Error:

    /path/to/script: Zeile 12: printf: 13.234324245: Ungltige Zahl.

So it simply says that the number i gave printf is invalid...

Do i need to run printf in a different way?
",4
4313914,11/30/2010 12:47:36,369203,06/17/2010 10:20:42,90,1,problem with unix date util running in emacs shell,"
here's a oddity.

on Cygwin bash on Windows Vista, i can get date like this:

    $ date
    2010-11-30  4:40:48 AM PST
    
    xah@xah-PC ~
    $ date +%s
    1291120855

but in emacs shell, running the same date command, i get this:

    c:\Users\xah\web\xahlee_org\comp>which date
    which date
    /usr/bin/date
    
    c:\Users\xah\web\xahlee_org\comp>date
    date
    The current date is: 2010-11-30 
    Enter the new date: (yy-mm-dd) 
    
    
    c:\Users\xah\web\xahlee_org\comp>date +%s
    date +%s
    The system cannot accept the date entered.
    Enter the new date: (yy-mm-dd) 

any idea what's going on?
",bash,shell,emacs,,,,open,0,142,9,"problem with unix date util running in emacs shell 
here's a oddity.

on Cygwin bash on Windows Vista, i can get date like this:

    $ date
    2010-11-30  4:40:48 AM PST
    
    xah@xah-PC ~
    $ date +%s
    1291120855

but in emacs shell, running the same date command, i get this:

    c:\Users\xah\web\xahlee_org\comp>which date
    which date
    /usr/bin/date
    
    c:\Users\xah\web\xahlee_org\comp>date
    date
    The current date is: 2010-11-30 
    Enter the new date: (yy-mm-dd) 
    
    
    c:\Users\xah\web\xahlee_org\comp>date +%s
    date +%s
    The system cannot accept the date entered.
    Enter the new date: (yy-mm-dd) 

any idea what's going on?
",3
5369368,03/20/2011 15:20:24,522234,11/27/2010 12:19:08,3,2,Compare all file sizes of 2 directories in bash,"Sometimes it happens that for some reason the process of copying many files (i.e. to external HDD; using Nautilus file manager) crashes. If I then start it again, I use to ignore already existing files, though some of them were not copied 100%. So the properties window shows me ""460 Files (225 GB)"" in source folder and ""460 Files (222 GB)"" in destination folder...

How do I now find out which files have only been copied partially (maybe using `ls` and `diff`)?",bash,file,diff,size,folder,,open,0,81,9,"Compare all file sizes of 2 directories in bash Sometimes it happens that for some reason the process of copying many files (i.e. to external HDD; using Nautilus file manager) crashes. If I then start it again, I use to ignore already existing files, though some of them were not copied 100%. So the properties window shows me ""460 Files (225 GB)"" in source folder and ""460 Files (222 GB)"" in destination folder...

How do I now find out which files have only been copied partially (maybe using `ls` and `diff`)?",5
3858208,10/04/2010 18:52:20,239690,12/28/2009 17:24:44,40,2,Sudo - is there a command to check if I have sudo and/or how much time is left?,"See title.  I want a command that lets me query sudo.  Ideally it would return success if I still have sudo and false if sudo has expired.  Getting the time left might also be useful (although if I was concerned I could just do sudo -v to revalidate.)  Oh and it shouldn't have to ask for a password.  

The closest thing I've found is ""sudo -n true"", but the -n option is only present on my Centos 5 machine at work.  -n fails if it has to ask for a password.  Is there any other way to get this functionality?  Assume I don't actually have root on all the machines I work with, so I can't install new versions of sudo to my liking.

For what it's worth I'm doing this so I can get my prompt to indicate sudo status.  I like knowing which terminals are actively sudo-able.  I also have a prompt that changes colors when I'm root, but I don't use root very often so that's of limited use.

",bash,sudo,,,,10/04/2010 19:38:29,off topic,1,181,18,"Sudo - is there a command to check if I have sudo and/or how much time is left? See title.  I want a command that lets me query sudo.  Ideally it would return success if I still have sudo and false if sudo has expired.  Getting the time left might also be useful (although if I was concerned I could just do sudo -v to revalidate.)  Oh and it shouldn't have to ask for a password.  

The closest thing I've found is ""sudo -n true"", but the -n option is only present on my Centos 5 machine at work.  -n fails if it has to ask for a password.  Is there any other way to get this functionality?  Assume I don't actually have root on all the machines I work with, so I can't install new versions of sudo to my liking.

For what it's worth I'm doing this so I can get my prompt to indicate sudo status.  I like knowing which terminals are actively sudo-able.  I also have a prompt that changes colors when I'm root, but I don't use root very often so that's of limited use.

",2
10210062,04/18/2012 13:09:23,1341344,04/18/2012 12:42:51,1,0,Compare 2 files and remove duplicate matching items in file1,"issue is:

i have 2 files. 
one file has a listing like so:

ZNI008
ZNI009
ZNI010
ZNI011
ZNI012
... over 19463 lines 

second file includes lines which match the items listed in file1:

copy /Y \\server\foldername\version\20050001_ZNI008_162635.xml \\server\foldername\version\folder\
copy /Y \\server\foldername\version\20050001_ZNI010_162635.xml \\server\foldername\version\folder\
copy /Y \\server\foldername\version\20050001_ZNI012_162635.xml \\server\foldername\version\folder\
copy /Y \\server\foldername\version\20050001_ZNI009_162635.xml \\server\foldername\version\folder\
....continues listing until line 51360 

What do i know and what did i test:

**grep -v -i -f file1.txt file2.txt > f3.txt** -  does not produce any output to file 3 or remove any lines. i verified by running wc -l file2.txt
 and the result is 51360 file2.txt

i believe this is because there is no exact matches. when i run the following it shows nothing
**comm -1 -2 file1.txt file2.txt**

running a **( tr '\0' '\n' < file1.txt; tr '\0' '\n' < file2.txt ) | sort | uniq -c | egrep -v '^ +1'**

shows only 1 match. when i can clearly see there is more than one match.

alternatively a **grep -Ev ""$(cat file1.txt)""	1>LinesRemoved.log**   say argument has too many lines to process.

i need to remove lines matching the items in file1 from file2.
Any help would be appreciated. 
",bash,sed,awk,grep,csh,,open,0,174,10,"Compare 2 files and remove duplicate matching items in file1 issue is:

i have 2 files. 
one file has a listing like so:

ZNI008
ZNI009
ZNI010
ZNI011
ZNI012
... over 19463 lines 

second file includes lines which match the items listed in file1:

copy /Y \\server\foldername\version\20050001_ZNI008_162635.xml \\server\foldername\version\folder\
copy /Y \\server\foldername\version\20050001_ZNI010_162635.xml \\server\foldername\version\folder\
copy /Y \\server\foldername\version\20050001_ZNI012_162635.xml \\server\foldername\version\folder\
copy /Y \\server\foldername\version\20050001_ZNI009_162635.xml \\server\foldername\version\folder\
....continues listing until line 51360 

What do i know and what did i test:

**grep -v -i -f file1.txt file2.txt > f3.txt** -  does not produce any output to file 3 or remove any lines. i verified by running wc -l file2.txt
 and the result is 51360 file2.txt

i believe this is because there is no exact matches. when i run the following it shows nothing
**comm -1 -2 file1.txt file2.txt**

running a **( tr '\0' '\n' < file1.txt; tr '\0' '\n' < file2.txt ) | sort | uniq -c | egrep -v '^ +1'**

shows only 1 match. when i can clearly see there is more than one match.

alternatively a **grep -Ev ""$(cat file1.txt)""	1>LinesRemoved.log**   say argument has too many lines to process.

i need to remove lines matching the items in file1 from file2.
Any help would be appreciated. 
",5
8842781,01/12/2012 21:42:21,386125,07/08/2010 00:33:32,128,3,How do I echo a period every 2 seconds while 'yum -y update' is running?,"I am writing a script to do some default configuration of customers' servers, and have it nearly working 100%.

What I cannot figure out is how to run `yum -y update` in some kind of a loop that echoes a ""."" every two seconds while it is updating.

Here is a code example to help explain a little more

    YUMLOG=/var/log/config.log
    while [ yum -y update > $YUMLOG 2>&1 ]
    do
        echo "".""
        sleep 2
    done

Obviously, that doesn't work, but I don't know what changes to make so that it *does* work. I have other parts in the code that give me this 'progress bar' effect, but nothing inside of a loop. For example:

    if [ $SETXENNET != ""y"" ]; then
            sleep 1
            cp $TEMPLATEDIR/rc.local.template $TEMPLATEDIR/rc.local.new
            echo "".""
            sleep 1
            cp $TEMPLATEDIR/rc.local.new /etc/rc.local
            echo "".""
            sleep 1
            chmod a+x /etc/rc.local
            echo "".""
            sleep 1
        else
            sleep 1
            cp $TEMPLATEDIR/rc.local.xen.template $TEMPLATEDIR/rc.local.xen.new
            echo "".""
            sleep 1
            cp $TEMPLATEDIR/rc.local.xen.new /etc/rc.local
            echo "".""
            sleep 1
            chmod a+x /etc/rc.local
            echo "".""
            sleep 1
        fi

And, before I get people yelling at me for all the 'sleeps', I had to have a way to show progress of the script because the people running it will not have any idea what they are doing (they just read keystrokes from a checklist and check off when something has been done). 

So, I needed a nice, clean, easy way for them to 1) see what is happening in plain English (i.e. 'done', or 'skipped') and 2) visualize that the script is still running, even if nothing is displayed on screen.

Last, I cannot make a global change to the way I am showing progress, there is too much code to have to make changes to everything it does. But, if that is the absolute only answer, I guess that may be what I have to do...some day...

",bash,loops,script,while-loops,yum,,open,0,566,15,"How do I echo a period every 2 seconds while 'yum -y update' is running? I am writing a script to do some default configuration of customers' servers, and have it nearly working 100%.

What I cannot figure out is how to run `yum -y update` in some kind of a loop that echoes a ""."" every two seconds while it is updating.

Here is a code example to help explain a little more

    YUMLOG=/var/log/config.log
    while [ yum -y update > $YUMLOG 2>&1 ]
    do
        echo "".""
        sleep 2
    done

Obviously, that doesn't work, but I don't know what changes to make so that it *does* work. I have other parts in the code that give me this 'progress bar' effect, but nothing inside of a loop. For example:

    if [ $SETXENNET != ""y"" ]; then
            sleep 1
            cp $TEMPLATEDIR/rc.local.template $TEMPLATEDIR/rc.local.new
            echo "".""
            sleep 1
            cp $TEMPLATEDIR/rc.local.new /etc/rc.local
            echo "".""
            sleep 1
            chmod a+x /etc/rc.local
            echo "".""
            sleep 1
        else
            sleep 1
            cp $TEMPLATEDIR/rc.local.xen.template $TEMPLATEDIR/rc.local.xen.new
            echo "".""
            sleep 1
            cp $TEMPLATEDIR/rc.local.xen.new /etc/rc.local
            echo "".""
            sleep 1
            chmod a+x /etc/rc.local
            echo "".""
            sleep 1
        fi

And, before I get people yelling at me for all the 'sleeps', I had to have a way to show progress of the script because the people running it will not have any idea what they are doing (they just read keystrokes from a checklist and check off when something has been done). 

So, I needed a nice, clean, easy way for them to 1) see what is happening in plain English (i.e. 'done', or 'skipped') and 2) visualize that the script is still running, even if nothing is displayed on screen.

Last, I cannot make a global change to the way I am showing progress, there is too much code to have to make changes to everything it does. But, if that is the absolute only answer, I guess that may be what I have to do...some day...

",5
7002333,08/09/2011 20:13:39,559742,01/01/2011 11:13:47,453,28,"Bash - wget and mv ""command not found""","I have this basic script in bash:

	SOFT=apt-fast
	FILE=$SOFT.sh
	PATH=$SRCF/$FILE
	WWW=http://www.mattparnell.com/linux/apt-fast/$FILE
	EXEC=/usr/bin/apt-fast
	wget -v -U firefox $WWW -O $PATH
	mv $PATH $EXEC


The rendered code (with the debugging turned on) is as follows:

	SOFT=apt-fast
	+ SOFT=apt-fast
	FILE=$SOFT.sh
	+ FILE=apt-fast.sh
	PATH=$SRCF/$FILE
	+ PATH=/home/rgr/src/apt-fast.sh
	WWW=http://www.mattparnell.com/linux/apt-fast/$FILE
	+ WWW=http://www.mattparnell.com/linux/apt-fast/apt-fast.sh
	EXEC=/usr/bin/apt-fast
	+ EXEC=/usr/bin/apt-fast
	wget -v -U firefox $WWW -O $PATH
	+ wget -v -U firefox http://www.mattparnell.com/linux/apt-fast/apt-fast.sh -O /home/rgr/src/apt-fast.sh
	cleanstart.sh: line 132: **wget: command not found**
	mv $PATH $EXEC
	+ mv /home/rgr/src/apt-fast.sh /usr/bin/apt-fast
	cleanstart.sh: line 133: **mv: command not found**
	exit
	+ exit


I have tried almost everything... What foolish mistake am I making here? The script is beeing called like this:

`sudo bash -vx cleans`

Thanks.",bash,script,cli,,,,open,0,82,8,"Bash - wget and mv ""command not found"" I have this basic script in bash:

	SOFT=apt-fast
	FILE=$SOFT.sh
	PATH=$SRCF/$FILE
	WWW=http://www.mattparnell.com/linux/apt-fast/$FILE
	EXEC=/usr/bin/apt-fast
	wget -v -U firefox $WWW -O $PATH
	mv $PATH $EXEC


The rendered code (with the debugging turned on) is as follows:

	SOFT=apt-fast
	+ SOFT=apt-fast
	FILE=$SOFT.sh
	+ FILE=apt-fast.sh
	PATH=$SRCF/$FILE
	+ PATH=/home/rgr/src/apt-fast.sh
	WWW=http://www.mattparnell.com/linux/apt-fast/$FILE
	+ WWW=http://www.mattparnell.com/linux/apt-fast/apt-fast.sh
	EXEC=/usr/bin/apt-fast
	+ EXEC=/usr/bin/apt-fast
	wget -v -U firefox $WWW -O $PATH
	+ wget -v -U firefox http://www.mattparnell.com/linux/apt-fast/apt-fast.sh -O /home/rgr/src/apt-fast.sh
	cleanstart.sh: line 132: **wget: command not found**
	mv $PATH $EXEC
	+ mv /home/rgr/src/apt-fast.sh /usr/bin/apt-fast
	cleanstart.sh: line 133: **mv: command not found**
	exit
	+ exit


I have tried almost everything... What foolish mistake am I making here? The script is beeing called like this:

`sudo bash -vx cleans`

Thanks.",3
9024006,01/26/2012 19:25:45,446406,09/13/2010 13:53:11,31,0,Find multiple strings in a file and email on occurence of any defined string,"I want to write a shell script which will find the occurance of multiple string like ""Errors|Notice|Warnings"" from a given log file may be /var/log/messages. If any string matches it should send a mail notification to specified mail ID.

I can use 

grep -i -E '^Errors|Notice|Warnings' /var/log/messages

But my main problem is, log file always growing and if i want to add this script in cron, how can i record the file line or contents that i had already checked on last execution of my script.

For eg. If the log file is of 100 lines and i have read the file using cat or anything similar.. then before second execution  file has 300 lines, now i want to read from 101 line number to 300. 

Can anyone please suggest me that, how can i record this...


Thanks
Ramesh",bash,shell,grep,cat,,,open,0,135,14,"Find multiple strings in a file and email on occurence of any defined string I want to write a shell script which will find the occurance of multiple string like ""Errors|Notice|Warnings"" from a given log file may be /var/log/messages. If any string matches it should send a mail notification to specified mail ID.

I can use 

grep -i -E '^Errors|Notice|Warnings' /var/log/messages

But my main problem is, log file always growing and if i want to add this script in cron, how can i record the file line or contents that i had already checked on last execution of my script.

For eg. If the log file is of 100 lines and i have read the file using cat or anything similar.. then before second execution  file has 300 lines, now i want to read from 101 line number to 300. 

Can anyone please suggest me that, how can i record this...


Thanks
Ramesh",4
3477213,08/13/2010 13:25:35,198183,10/28/2009 14:55:35,841,11,Is there for the bash something like perls __DATA__? ,"Is there for the bash something like perls __DATA__? 
I mean the feature, that the code after __DATA__ will not be executed.",bash,shell,,,,,open,0,22,10,"Is there for the bash something like perls __DATA__?  Is there for the bash something like perls __DATA__? 
I mean the feature, that the code after __DATA__ will not be executed.",2
1777011,11/21/2009 22:32:01,215571,11/20/2009 16:06:52,158,8,Which programming language has very short context-free Grammar in its formal specification?,"What programming language has short and beautiful grammars (in EBNF)?

Some languages are easer to be parsed. Some time ago I have created a simple VHDL parser, but it was very slow. Not because it is implemented completely in Python, but because VHDL grammar (in EBNF) is huge. The EBNF of Python is beautiful but it is not very short.

I suggest that many functional programming languages like LISP have short simple grammars, but I am interested in a more popular simple imperative language like C or Bash.",bash,c,python,vhdl,,,open,0,86,12,"Which programming language has very short context-free Grammar in its formal specification? What programming language has short and beautiful grammars (in EBNF)?

Some languages are easer to be parsed. Some time ago I have created a simple VHDL parser, but it was very slow. Not because it is implemented completely in Python, but because VHDL grammar (in EBNF) is huge. The EBNF of Python is beautiful but it is not very short.

I suggest that many functional programming languages like LISP have short simple grammars, but I am interested in a more popular simple imperative language like C or Bash.",4
7568242,09/27/2011 11:19:08,966888,09/27/2011 11:08:00,1,0,freemaker and shell cmd,"Hi sharp minds out there!

I am working on customizing one big peace of software for our local needs. It uses Freemaker template to create job submitting scripts. I am not familiar with Freemaker and therefor want to ask if there is a way to make it run shell cmd and assign output to variable?

The background is very simple:
by running ""id -un"" I would get the users name and if it would go to the template, the que system would know who is running the job...

Thanks for help in advance!
",bash,templates,shell,script,cmd,,open,0,89,4,"freemaker and shell cmd Hi sharp minds out there!

I am working on customizing one big peace of software for our local needs. It uses Freemaker template to create job submitting scripts. I am not familiar with Freemaker and therefor want to ask if there is a way to make it run shell cmd and assign output to variable?

The background is very simple:
by running ""id -un"" I would get the users name and if it would go to the template, the que system would know who is running the job...

Thanks for help in advance!
",5
6749128,07/19/2011 14:48:03,583507,01/20/2011 19:31:29,49,3,Store output from sed into a variable,"Very simple question

I want to store the second line of my file into a variable.  So I am doing this.

`sed -n '2p' myfile`

I wish to store the output of the `sed` into a variable named line `$line`

What is the correct syntax to do this.  Thank you",bash,,,,,,open,0,48,7,"Store output from sed into a variable Very simple question

I want to store the second line of my file into a variable.  So I am doing this.

`sed -n '2p' myfile`

I wish to store the output of the `sed` into a variable named line `$line`

What is the correct syntax to do this.  Thank you",1
7641040,10/03/2011 21:46:33,210070,11/13/2009 00:05:09,2141,120,Shell script comparing dates,"I'm working on a shell script that scrapes a date off a webpage and then checks if it is in the last three days of the current date (running it in Cygwin). If the test passes, it simply echoes ""PASS"", and if it fails, it echoes ""FAIL"";

However, when I run my script, I get the following:

    integer expression expected: 1317618000
    FAIL

Here is the script:

    updateStr=$(curl ""http://www.mywebsite.com"" | grep ""Last Update"")
    dateStr=(`echo $updateStr | sed -e 's/.*Last Update: \([^<]*\)<.*/\1/'`)
    update=$(date -d ""$dateStr"" +%s)
    epoch=$(date -d ""-3 days ago"" +%s)
    test ""$update"" -ge ""$epoch"" && echo ""PASS"" || echo ""FAIL""

Any ideas on what the issue is?",bash,shell,unix,cygwin,,,open,0,125,4,"Shell script comparing dates I'm working on a shell script that scrapes a date off a webpage and then checks if it is in the last three days of the current date (running it in Cygwin). If the test passes, it simply echoes ""PASS"", and if it fails, it echoes ""FAIL"";

However, when I run my script, I get the following:

    integer expression expected: 1317618000
    FAIL

Here is the script:

    updateStr=$(curl ""http://www.mywebsite.com"" | grep ""Last Update"")
    dateStr=(`echo $updateStr | sed -e 's/.*Last Update: \([^<]*\)<.*/\1/'`)
    update=$(date -d ""$dateStr"" +%s)
    epoch=$(date -d ""-3 days ago"" +%s)
    test ""$update"" -ge ""$epoch"" && echo ""PASS"" || echo ""FAIL""

Any ideas on what the issue is?",4
7463423,09/18/2011 18:21:24,734727,05/02/2011 16:03:35,35,1,Bash/Shell Echo Globbing Pattern,new to Unix shell commands. I need to echo files in current directory who's names DO NOT start with 'cs'. ,bash,shell,unix,,,09/18/2011 20:11:12,off topic,1,21,4,Bash/Shell Echo Globbing Pattern new to Unix shell commands. I need to echo files in current directory who's names DO NOT start with 'cs'. ,3
11554903,07/19/2012 06:11:46,1536561,07/19/2012 02:17:19,1,0,cant figure out what is wrong with my script can anybody correct this?,"can anybody help me with this i need some corrections made and im not sure why it is not working

        ppprunning = yes
    while $ppprunning = yes ; do
     echo "" INTERNET MENU\N
     1. Dial out
     2. Exit
     Choice:
     read choice
     case choice in
      1) if [ -z $ppprunning
            echo ""Enter your username and password""
         else
           chat.sh
         endif ;
      *) ppprunning=no
      endcase
    done",bash,unix,script,,,07/19/2012 06:56:31,not constructive,1,152,13,"cant figure out what is wrong with my script can anybody correct this? can anybody help me with this i need some corrections made and im not sure why it is not working

        ppprunning = yes
    while $ppprunning = yes ; do
     echo "" INTERNET MENU\N
     1. Dial out
     2. Exit
     Choice:
     read choice
     case choice in
      1) if [ -z $ppprunning
            echo ""Enter your username and password""
         else
           chat.sh
         endif ;
      *) ppprunning=no
      endcase
    done",3
7285864,09/02/2011 15:38:45,440266,09/06/2010 00:05:05,664,0,Transforming a sftp shell script command into a ftp command,"I am writing my first shell script ever and trying to figure out how to transform this command:

    sftp -o IdentityFile=/home/test/test/id_dsa test@test.test.com < sftp_put.txt; 

into an equivalent command where I connect to a ftp server. The key difference is that I will be logging into this server via a username and password not my ssh credentials. Note I am trying to upload two files.

Again any help would be more than appreciated! Thanks again :) :) :)",bash,shell,ftp,sftp,,,open,0,79,10,"Transforming a sftp shell script command into a ftp command I am writing my first shell script ever and trying to figure out how to transform this command:

    sftp -o IdentityFile=/home/test/test/id_dsa test@test.test.com < sftp_put.txt; 

into an equivalent command where I connect to a ftp server. The key difference is that I will be logging into this server via a username and password not my ssh credentials. Note I am trying to upload two files.

Again any help would be more than appreciated! Thanks again :) :) :)",4
11516277,07/17/2012 05:02:48,1530595,07/17/2012 04:05:28,1,0,How to hook into bash? like command-not-found hanle,"How to hook into bash? like command-not-found hanle
Thank you very much!",bash,hook,,,,07/17/2012 13:26:00,not a real question,1,11,8,"How to hook into bash? like command-not-found hanle How to hook into bash? like command-not-found hanle
Thank you very much!",2
1943712,12/22/2009 01:36:19,51923,01/06/2009 05:06:19,332,7,redirecting standard output to the calling process ,"Im no bash expert so bare with me  

I have a python script thats starting other processes, which then emit log messages on stdout  
what bash command would I use to redirect stdout of those child processes back to the stdout of the parent process (the python script thats starting the processes)?  

thank you in advance",bash,python,,,,,open,0,59,8,"redirecting standard output to the calling process  Im no bash expert so bare with me  

I have a python script thats starting other processes, which then emit log messages on stdout  
what bash command would I use to redirect stdout of those child processes back to the stdout of the parent process (the python script thats starting the processes)?  

thank you in advance",2
8607057,12/22/2011 16:42:30,599912,02/02/2011 11:34:56,250,2,Edit a property value in a property file from shell script,"The title says all. i need to replace a property value whom i don't know to a different value.
i'm trying this:

    #!/bin/bash
    sed -i ""s/myprop=[^ ]*/myprop=$newvalue/g"" file.properties

i get `sed: -e expression #1, char 19: unknown option to `s'`

I think the problem is that `$newvalue` is a string that represents a directory so it messes up sed.

What can I do ?
",bash,shell,script,sed,,,open,0,66,11,"Edit a property value in a property file from shell script The title says all. i need to replace a property value whom i don't know to a different value.
i'm trying this:

    #!/bin/bash
    sed -i ""s/myprop=[^ ]*/myprop=$newvalue/g"" file.properties

i get `sed: -e expression #1, char 19: unknown option to `s'`

I think the problem is that `$newvalue` is a string that represents a directory so it messes up sed.

What can I do ?
",4
4415598,12/11/2010 06:50:08,390014,07/13/2010 01:19:44,40,0,what does u stands for in ctrl+u?,"I was trying to understand and remember keyboard shortcuts for bash. I was wondering why is the char 'u' in

    CTRL-u --- cancel whole line

used to represent cancel/delete whole line?",bash,keyboard-shortcuts,,,,02/07/2012 14:01:56,off topic,1,33,7,"what does u stands for in ctrl+u? I was trying to understand and remember keyboard shortcuts for bash. I was wondering why is the char 'u' in

    CTRL-u --- cancel whole line

used to represent cancel/delete whole line?",2
10371590,04/29/2012 11:01:15,958694,09/22/2011 08:58:48,1,0,Selecting the best available option using BASH,"I curious as whether a shell script to pick the best available option from a list of options can be written in a neater way than this?

    d=""least wanted directory""
    dt=""possible directory""    && [ -d $dt ] && d=$dt
    dt=""preferred directory""   && [ -d $dt ] && d=$dt
",bash,command-line,conditional-statements,,,,open,0,62,7,"Selecting the best available option using BASH I curious as whether a shell script to pick the best available option from a list of options can be written in a neater way than this?

    d=""least wanted directory""
    dt=""possible directory""    && [ -d $dt ] && d=$dt
    dt=""preferred directory""   && [ -d $dt ] && d=$dt
",3
8939596,01/20/2012 09:59:51,801072,06/16/2011 08:23:06,27,2,Why is bash stopping processing the script,"I'm generating a script like this

    (echo ""ssh hans@mymachine.com echo hello"" ; echo 'echo Done')

which produces

    ssh hans@mymachine.com echo hello
    echo Done

I'm executing the script by piping these commands to bash

    (echo ""ssh hans@mymachine.com echo hello"" ; echo 'echo Done') | bash

The result is

    Warning: No xauth data; using fake authentication data for X11 forwarding.
    hello

As you can see bash did not execute the 'echo Done' command. My first thought was that ssh
probably produces a non zero return value probaby caused by this xauth warning. So I did this

    ssh hans@mymachine.com echo hello
    echo $?

which produced

    Warning: No xauth data; using fake authentication data for X11 forwarding.
    hello
    0

So return value is oke. Now I tried using a trap

    trap """" ERR

but this also didn't help. Pretty logical as the return value was zero anyway.

So I'm lost. Why is the 'echo Done' command not being executed?",bash,ssh,,,,,open,0,182,7,"Why is bash stopping processing the script I'm generating a script like this

    (echo ""ssh hans@mymachine.com echo hello"" ; echo 'echo Done')

which produces

    ssh hans@mymachine.com echo hello
    echo Done

I'm executing the script by piping these commands to bash

    (echo ""ssh hans@mymachine.com echo hello"" ; echo 'echo Done') | bash

The result is

    Warning: No xauth data; using fake authentication data for X11 forwarding.
    hello

As you can see bash did not execute the 'echo Done' command. My first thought was that ssh
probably produces a non zero return value probaby caused by this xauth warning. So I did this

    ssh hans@mymachine.com echo hello
    echo $?

which produced

    Warning: No xauth data; using fake authentication data for X11 forwarding.
    hello
    0

So return value is oke. Now I tried using a trap

    trap """" ERR

but this also didn't help. Pretty logical as the return value was zero anyway.

So I'm lost. Why is the 'echo Done' command not being executed?",2
7376429,09/11/2011 05:15:49,862812,07/26/2011 05:39:54,21,2,How to write a bash script that automatically logins to a website,"Hi I have no experience in scripting programming. Does anyone know how to write a simple script that logs in in a webpage i.e. gmail or some website that requires logging in. 
. I want to use this script ti login to a website so that I don't have to do it manually?",bash,script,logging,,,09/11/2011 07:46:23,not a real question,1,53,12,"How to write a bash script that automatically logins to a website Hi I have no experience in scripting programming. Does anyone know how to write a simple script that logs in in a webpage i.e. gmail or some website that requires logging in. 
. I want to use this script ti login to a website so that I don't have to do it manually?",3
498358,01/31/2009 05:50:54,27779,10/14/2008 09:12:12,569,22,How do I do date math in a bash script on OS X Leopard?,"I realize I could whip up a little C or Ruby program to do this, but I want my script to have as few dependencies as possible.

Given that _caveat_, how does one do date math in a bash script on OS X? I've seen a post (on another site) where someone did the following:

<pre>date -d ""-1 day""</pre>

But this does not seem to work on OS X.",bash,osx,datemath,,,,open,0,66,14,"How do I do date math in a bash script on OS X Leopard? I realize I could whip up a little C or Ruby program to do this, but I want my script to have as few dependencies as possible.

Given that _caveat_, how does one do date math in a bash script on OS X? I've seen a post (on another site) where someone did the following:

<pre>date -d ""-1 day""</pre>

But this does not seem to work on OS X.",3
6757454,07/20/2011 05:39:09,853119,07/20/2011 02:28:00,5,0,Delete the line with a sepific occurance pattern in SED?,"Please spend a few second. i would like to delete the line which has the sixth `<ul>` occurance.
 i google the way of doing it and i tried

`sed -i '/^<ul>$/ d/6' file` .

However, it turn out a 

    sed: -e expression #1, char 9: extra characters after 

error.",bash,,,,,,open,0,51,10,"Delete the line with a sepific occurance pattern in SED? Please spend a few second. i would like to delete the line which has the sixth `<ul>` occurance.
 i google the way of doing it and i tried

`sed -i '/^<ul>$/ d/6' file` .

However, it turn out a 

    sed: -e expression #1, char 9: extra characters after 

error.",1
9771797,03/19/2012 14:16:45,445475,04/24/2010 20:18:43,40,4,Bash on Mac can't do **rm aFolder -rf**,"On Linux,  you can do like **rm -rf aFolder/**  or **rm aFolder -rf**

But On Mac you only can do like **rm -rf aFolder/** 

Does anybody know what's the problem, or how to fix it?
",bash,,,,,03/20/2012 11:33:43,off topic,1,36,8,"Bash on Mac can't do **rm aFolder -rf** On Linux,  you can do like **rm -rf aFolder/**  or **rm aFolder -rf**

But On Mac you only can do like **rm -rf aFolder/** 

Does anybody know what's the problem, or how to fix it?
",1
7591133,09/29/2011 00:18:59,766543,05/23/2011 19:06:40,8,0,Is it possible to possible to run a .sh script when another specific local computer boots?,"**Is it possible to possible to run a .sh script when another specific local computer boots?**

I need to run a script on my server every time my iMac is on and operational. Is that possible? If yes, where should the script be located? On the server, or on the iMac?

Thanks!",bash,shell,,,,09/29/2011 06:11:38,off topic,1,50,16,"Is it possible to possible to run a .sh script when another specific local computer boots? **Is it possible to possible to run a .sh script when another specific local computer boots?**

I need to run a script on my server every time my iMac is on and operational. Is that possible? If yes, where should the script be located? On the server, or on the iMac?

Thanks!",2
