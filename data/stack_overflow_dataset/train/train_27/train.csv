PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
7718446,10/10/2011 20:44:45,263960,02/02/2010 00:19:07,481,1,Checking if value exists in SQL and if not returning another row,"I have a MySQL SQL query that selects products and the text translations:

    SELECT *
    FROM (select * from products) p
    LEFT JOIN (SELECT * FROM translations) t
    ON t.id = p.product_id

This grabs the products from the database. However it grabs all the available translations. I just want to get the translations in the current language. So i can use this:

    SELECT *
    FROM (select * from products) p
    LEFT JOIN (SELECT * FROM translations WHERE lang = 'en') t
    ON t.id = p.product_id

This works as intended, however not all products have a translation for every language. What I ultimately want to do is specify a language and if there is no given translation then return whatever other translations we have. Can this be done in SQL or am i going to need to iterate through the results in PHP?",mysql,sql,join,,,,open,0,164,12,"Checking if value exists in SQL and if not returning another row I have a MySQL SQL query that selects products and the text translations:

    SELECT *
    FROM (select * from products) p
    LEFT JOIN (SELECT * FROM translations) t
    ON t.id = p.product_id

This grabs the products from the database. However it grabs all the available translations. I just want to get the translations in the current language. So i can use this:

    SELECT *
    FROM (select * from products) p
    LEFT JOIN (SELECT * FROM translations WHERE lang = 'en') t
    ON t.id = p.product_id

This works as intended, however not all products have a translation for every language. What I ultimately want to do is specify a language and if there is no given translation then return whatever other translations we have. Can this be done in SQL or am i going to need to iterate through the results in PHP?",3
11560005,07/19/2012 11:35:25,1537707,07/19/2012 11:17:54,1,0,Zend Framework and Mysql at 100% CPU,"I'm trying to redirect my web site to a static file when the database machine is at 100% CPU because of the the backend process, this makes the web page loading until the browser shows a timeout error, I would like to catch this situation in order to display an error in a static file. ",mysql,zend-framework,zend-db,,,07/20/2012 00:37:58,not constructive,1,56,7,"Zend Framework and Mysql at 100% CPU I'm trying to redirect my web site to a static file when the database machine is at 100% CPU because of the the backend process, this makes the web page loading until the browser shows a timeout error, I would like to catch this situation in order to display an error in a static file. ",3
10844394,06/01/2012 04:26:12,1425709,05/30/2012 09:49:06,15,0,How to publish database on RackSpace dedicated server?,"I have made database in MYSql on local WampServer.

Now i want to publish this database on RackSpace dedicated server.

I have no idea of publishing database on dedicated server.

I have searched for this ,but didnt get any solution.

How can i do this?

Please help me.

Thanks..",mysql,database,publishing,,,06/01/2012 14:36:33,not a real question,1,43,8,"How to publish database on RackSpace dedicated server? I have made database in MYSql on local WampServer.

Now i want to publish this database on RackSpace dedicated server.

I have no idea of publishing database on dedicated server.

I have searched for this ,but didnt get any solution.

How can i do this?

Please help me.

Thanks..",3
5216588,03/07/2011 06:34:55,619397,02/16/2011 09:50:13,6,0,how to write this mysql query,"table ab  <br>
partyid          conatctpurpose <br>
1                  general      <br> 
1                  shipping     <br>
1                  phone         <br>
2                  general       <br>
2                  shipping    <br>
2                  phone       <br>
3                  phone       <br>


every partyid should be assigned  3 contact purposes ( general,shipping,phone ) <br>

write a query to return partyid which is not assigned the above set of contact purposes .<br>

",mysql,,,,,06/20/2011 05:12:42,not a real question,1,215,6,"how to write this mysql query table ab  <br>
partyid          conatctpurpose <br>
1                  general      <br> 
1                  shipping     <br>
1                  phone         <br>
2                  general       <br>
2                  shipping    <br>
2                  phone       <br>
3                  phone       <br>


every partyid should be assigned  3 contact purposes ( general,shipping,phone ) <br>

write a query to return partyid which is not assigned the above set of contact purposes .<br>

",1
11539728,07/18/2012 10:54:56,1530706,07/17/2012 05:22:34,6,0,Export from mysql for large tables,I Want to export large data of my database in kloxo but  when i select my tables and select zip for export after 10 minutes its give me a file with 0kb .what is the best way for large tables ?,mysql,,,,,07/19/2012 07:47:29,off topic,1,42,6,Export from mysql for large tables I Want to export large data of my database in kloxo but  when i select my tables and select zip for export after 10 minutes its give me a file with 0kb .what is the best way for large tables ?,1
6581695,07/05/2011 11:10:35,790535,06/09/2011 08:16:44,23,2,Retrieve Coments from tables and columns in a Mysql database,"i have to build an aplication to manage an existing MySQL database. This database was created with MySQLworkbench and some useful comments were added to its tables and columns.

I think it would be great to somehow, query that comments and show them to the user to explain ""what that field is"". The probem is i dont know if its possible to retrieve that coments (they are only visible from the workbench).

Any clues will help :D

Thank you very much !",mysql,query,comments,mysql-workbench,,,open,0,79,10,"Retrieve Coments from tables and columns in a Mysql database i have to build an aplication to manage an existing MySQL database. This database was created with MySQLworkbench and some useful comments were added to its tables and columns.

I think it would be great to somehow, query that comments and show them to the user to explain ""what that field is"". The probem is i dont know if its possible to retrieve that coments (they are only visible from the workbench).

Any clues will help :D

Thank you very much !",4
7466289,09/19/2011 03:55:46,885155,08/09/2011 02:51:04,30,0,Apply WHERE after GROUP BY,"I have a table with items that are part of a thread, so they have a thread ID, each item also has a date (UNIX timestamp). So my table looks something like (UNIX timestamps simplified):

    +-----------------------------+
    |  id |   date  |  thread_id  |
    +-----+---------+-------------+
    |  1  |   1111  |      4      |
    |  2  |   1333  |      4      |
    |  3  |   1444  |      5      |
    |  4  |   1666  |      5      |
    +-----------------------------+

What I want to do is select thread IDs where ALL the items sharing the same thread ID are smaller than the passed date. So if I wanted thread IDs where ALL items are older than 1555 (date < 1555), I would only expect to have thread ID 4 returned, not 5 even though it's got an item with a date smaller than 1555. So this is what I tried:

    SELECT * FROM table WHERE date < 1555 GROUP BY thread_id ORDER BY date DESC

What I'm trying to do with that query is group all items by thread ID around the item with the highest date value and from there get the items where the date is less than 1555. But that doesn't work, it will still return thread ID 5 because it's got an item older than 1555.

So to summarize, how would I only select thread IDs where ALL items are older than a certain date?

Thank you for your time!",mysql,,,,,,open,0,326,5,"Apply WHERE after GROUP BY I have a table with items that are part of a thread, so they have a thread ID, each item also has a date (UNIX timestamp). So my table looks something like (UNIX timestamps simplified):

    +-----------------------------+
    |  id |   date  |  thread_id  |
    +-----+---------+-------------+
    |  1  |   1111  |      4      |
    |  2  |   1333  |      4      |
    |  3  |   1444  |      5      |
    |  4  |   1666  |      5      |
    +-----------------------------+

What I want to do is select thread IDs where ALL the items sharing the same thread ID are smaller than the passed date. So if I wanted thread IDs where ALL items are older than 1555 (date < 1555), I would only expect to have thread ID 4 returned, not 5 even though it's got an item with a date smaller than 1555. So this is what I tried:

    SELECT * FROM table WHERE date < 1555 GROUP BY thread_id ORDER BY date DESC

What I'm trying to do with that query is group all items by thread ID around the item with the highest date value and from there get the items where the date is less than 1555. But that doesn't work, it will still return thread ID 5 because it's got an item older than 1555.

So to summarize, how would I only select thread IDs where ALL items are older than a certain date?

Thank you for your time!",1
3029238,06/12/2010 15:57:58,148956,08/01/2009 13:27:48,632,2,Is there anyway to change the database server within stopping the database?,"I have a database in data center, which is running mySQL, and I want to change the database from data center to host in my company. At that time, I don't want to stop the data base in the data center, is there any ways / untities to this kind of integeration? Thank u..",mysql,database,migration,,,,open,0,54,12,"Is there anyway to change the database server within stopping the database? I have a database in data center, which is running mySQL, and I want to change the database from data center to host in my company. At that time, I don't want to stop the data base in the data center, is there any ways / untities to this kind of integeration? Thank u..",3
3484369,08/14/2010 17:25:38,417854,08/12/2010 00:36:37,6,0,mysql_fetch_row(): supplied argument is not a valid MySQL result resource in,"I am getting the error (mysql_fetch_row(): supplied argument is not a valid MySQL result resource in) for this query. Why?

<code>
<?php

set_time_limit(0);
//MySQL globals
$mysql_server = ""***"";//change this server for your Drupal installations
$mysql_user = ""***"";//Ideally, should be root
$mysql_pass = ""***"";//Corresponding password
$conn = mysql_connect($mysql_server,$mysql_user,$mysql_pass);//MySQL connection string


$query = ""select * from dr_wiwe_old_node WHERE type = 'story'"";
$noders = mysql_query($query);
var_dump($noders);
while ($row = mysql_fetch_row($noders)) {
$nid = $row[0];
$vid = $row[1];
$type = $row[2];
$title = mysql_real_escape_string($row[3]);
$uid = $row[4];
$status = $row [5];
$created = $row[6];
$changed = $row[7];
$comment = $row[8];
$promote = $row[9];
$moderate = $row[10];
$sticky = $row[11];
//Insertion into node
$query=""insert into dr_wiwe_node values('"" . $nid . ""','"" . $vid . ""','"" . $type . ""','','"" . $title . ""','"" . $uid . ""','"" . $status . ""','"" . $created . ""','"" . $changed . ""','"" . $comment . ""','"" . $promote . ""','"" . $moderate . ""','"" . $sticky . ""','0','0')"";
if (!mysql_query($query)) {
print $query;
}
?>
</code>

Where is the error or Wat can I change?",mysql,mysql-error-1064,,,,,open,0,145,11,"mysql_fetch_row(): supplied argument is not a valid MySQL result resource in I am getting the error (mysql_fetch_row(): supplied argument is not a valid MySQL result resource in) for this query. Why?

<code>
<?php

set_time_limit(0);
//MySQL globals
$mysql_server = ""***"";//change this server for your Drupal installations
$mysql_user = ""***"";//Ideally, should be root
$mysql_pass = ""***"";//Corresponding password
$conn = mysql_connect($mysql_server,$mysql_user,$mysql_pass);//MySQL connection string


$query = ""select * from dr_wiwe_old_node WHERE type = 'story'"";
$noders = mysql_query($query);
var_dump($noders);
while ($row = mysql_fetch_row($noders)) {
$nid = $row[0];
$vid = $row[1];
$type = $row[2];
$title = mysql_real_escape_string($row[3]);
$uid = $row[4];
$status = $row [5];
$created = $row[6];
$changed = $row[7];
$comment = $row[8];
$promote = $row[9];
$moderate = $row[10];
$sticky = $row[11];
//Insertion into node
$query=""insert into dr_wiwe_node values('"" . $nid . ""','"" . $vid . ""','"" . $type . ""','','"" . $title . ""','"" . $uid . ""','"" . $status . ""','"" . $created . ""','"" . $changed . ""','"" . $comment . ""','"" . $promote . ""','"" . $moderate . ""','"" . $sticky . ""','0','0')"";
if (!mysql_query($query)) {
print $query;
}
?>
</code>

Where is the error or Wat can I change?",2
11561897,07/19/2012 13:27:12,192545,09/05/2009 18:31:23,380,37,Database Design for High Traffic and High Volume Website,"I am thinking of developing a website as pet project or possibly some business. Depends on how it goes. The pet project is called **Matrimony website**.

Before doing anything, I collected some column names and thought to develop Database. For that I thought of some tables and its name. 

**But I am struck with some big issues:**

 - Do I use ORM based approach, or
 - Just go into mysql Workbench and create table, or 
 - Create a schema and draw tables from it (any free tool? ), or
 - Some other way.

Problem is this is my pet project and I will only be involved with it. Sometime I think of quick and dirty way but again I think why to create a crap. 

I know that while in development, I may need to redesign database many times. In this case what will be easier to follow. Just creating tables may be easier to forgot to update on other places, etc.
I used ORM when learning Symfony. There few data types was not supported that time but table creating was easier. 

Any suggestion for the above and other things you know I may face in this case. 

Next issue is **Relational database or NoSQL** or mixed of it. How to do it?

Should I use **DB Abstraction Layer**. Think of Mysql as DB in general. 


Thank you! 

",mysql,database,,,,07/20/2012 14:10:21,not constructive,1,226,9,"Database Design for High Traffic and High Volume Website I am thinking of developing a website as pet project or possibly some business. Depends on how it goes. The pet project is called **Matrimony website**.

Before doing anything, I collected some column names and thought to develop Database. For that I thought of some tables and its name. 

**But I am struck with some big issues:**

 - Do I use ORM based approach, or
 - Just go into mysql Workbench and create table, or 
 - Create a schema and draw tables from it (any free tool? ), or
 - Some other way.

Problem is this is my pet project and I will only be involved with it. Sometime I think of quick and dirty way but again I think why to create a crap. 

I know that while in development, I may need to redesign database many times. In this case what will be easier to follow. Just creating tables may be easier to forgot to update on other places, etc.
I used ORM when learning Symfony. There few data types was not supported that time but table creating was easier. 

Any suggestion for the above and other things you know I may face in this case. 

Next issue is **Relational database or NoSQL** or mixed of it. How to do it?

Should I use **DB Abstraction Layer**. Think of Mysql as DB in general. 


Thank you! 

",2
1547697,10/10/2009 11:19:12,153995,08/10/2009 21:46:48,151,19,'in' and 'not in' counts do not add up - what's wrong?,"I have some servers. Some of them have ips assigned. I want to figure out how many do not. There are clearly more servers than have ips assigned, but my db tells me there are no servers that have no ips assigned...

I'm at my wit's end here. Is my DB corrupted in some strange way? 

    mysql> select count(*) from server;
    +----------+
    | count(*) |
    +----------+
    |    23088 | 
    +----------+
    1 row in set (0.00 sec)
    
    mysql> select count(*) from server where server_id in (select distinct(server_id) from ips);
    +----------+
    | count(*) |
    +----------+
    |    13811 | 
    +----------+
    1 row in set (0.01 sec)
    
    mysql> select count(*) from server where server_id not in (select distinct(server_id) from ips);
    +----------+
    | count(*) |
    +----------+
    |        0 | 
    +----------+
    1 row in set (0.02 sec)

results have been edited to protect the guilty, but you get the idea. all tables are InnoDB. `Check table` returns ok on both of these tables.",mysql,sql,,,,,open,0,243,12,"'in' and 'not in' counts do not add up - what's wrong? I have some servers. Some of them have ips assigned. I want to figure out how many do not. There are clearly more servers than have ips assigned, but my db tells me there are no servers that have no ips assigned...

I'm at my wit's end here. Is my DB corrupted in some strange way? 

    mysql> select count(*) from server;
    +----------+
    | count(*) |
    +----------+
    |    23088 | 
    +----------+
    1 row in set (0.00 sec)
    
    mysql> select count(*) from server where server_id in (select distinct(server_id) from ips);
    +----------+
    | count(*) |
    +----------+
    |    13811 | 
    +----------+
    1 row in set (0.01 sec)
    
    mysql> select count(*) from server where server_id not in (select distinct(server_id) from ips);
    +----------+
    | count(*) |
    +----------+
    |        0 | 
    +----------+
    1 row in set (0.02 sec)

results have been edited to protect the guilty, but you get the idea. all tables are InnoDB. `Check table` returns ok on both of these tables.",2
7535923,09/23/2011 23:46:31,881317,08/05/2011 20:54:43,3,0,Setting MySQL SQL Modes to be stricter before migrating to SQL Server 2008,"We're eventually migrating an application to SQL Server 2008, but before we do that, we're considering setting the MySQL SQL modes to be stricter so that we can test the ""looseness"" of the existing application before it's migrated to the stricter SQL Server 2008.

What are some MySQL SQL modes we can set in order to get it to be more at the strictness level of SQL Server 2008 to help better facilitate the migration eventually?",mysql,sql-server,sql-server-2008,database-migration,,,open,0,75,13,"Setting MySQL SQL Modes to be stricter before migrating to SQL Server 2008 We're eventually migrating an application to SQL Server 2008, but before we do that, we're considering setting the MySQL SQL modes to be stricter so that we can test the ""looseness"" of the existing application before it's migrated to the stricter SQL Server 2008.

What are some MySQL SQL modes we can set in order to get it to be more at the strictness level of SQL Server 2008 to help better facilitate the migration eventually?",4
10573491,05/13/2012 16:52:33,1163513,01/22/2012 14:03:52,68,6,Database to use to handle over 3 billion records,"I am going to develop a site which will going to have over 3 billion of records.So i am confused regarding which database should i use to make the system work efficiently.Should I go for MS Sql or for Oracle or Mysql?.

Any help would be highly appreciable.",mysql,sql-server,database,oracle,,05/13/2012 21:22:45,not constructive,1,47,9,"Database to use to handle over 3 billion records I am going to develop a site which will going to have over 3 billion of records.So i am confused regarding which database should i use to make the system work efficiently.Should I go for MS Sql or for Oracle or Mysql?.

Any help would be highly appreciable.",4
11620872,07/23/2012 21:34:13,1322908,04/09/2012 23:53:17,154,2,UPDATE COLUMN from a JOIN,"I have a table called `t1` with a `PRIMARY KEY` that I will call `ITEM_ID`.
The table is as follows:

    ITEM_ID    VALUE1
    2          2500
    3          3500
    5          5500

I also several tables `t2` and `t3` that are like this:

    ITEM_ID    VALUE2
    2          250
    3          350
    4          450
    5          550

and

    ITEM_ID    VALUE3
    2          25
    3          35
    4          45
    5          55
    6          65

I want to obtain this (I join keeping only the rows found in `t1`)

    ITEM_ID    VALUE1    VALUE2    VALUE3
    2          2500      250       25
    3          3500      350       35
    5          5500      550       55

I know how to do this using a `JOIN` and `CREATE` a new table.
But is it possible to do it just by `ALTER`, `ADD` and `UPDATE` columns?",mysql,sql,database,,,,open,0,357,5,"UPDATE COLUMN from a JOIN I have a table called `t1` with a `PRIMARY KEY` that I will call `ITEM_ID`.
The table is as follows:

    ITEM_ID    VALUE1
    2          2500
    3          3500
    5          5500

I also several tables `t2` and `t3` that are like this:

    ITEM_ID    VALUE2
    2          250
    3          350
    4          450
    5          550

and

    ITEM_ID    VALUE3
    2          25
    3          35
    4          45
    5          55
    6          65

I want to obtain this (I join keeping only the rows found in `t1`)

    ITEM_ID    VALUE1    VALUE2    VALUE3
    2          2500      250       25
    3          3500      350       35
    5          5500      550       55

I know how to do this using a `JOIN` and `CREATE` a new table.
But is it possible to do it just by `ALTER`, `ADD` and `UPDATE` columns?",3
4982814,02/13/2011 06:34:21,381088,07/01/2010 12:36:12,161,0,Mysql over Oracle..,"I have a perception that Mysql is an open-source lightweight RDBMS mainly used in academia to teach students basics of SQL and give them some sense of using a DBMS, and also Mysql is used in other open-source products. With the mindset that free things will not be as good as things you pay for (in terms of features etc) , is Mysql adopted in any big popular paid products over Oracle?
Do biggies like Google,Yahoo,Amazon,Microsoft use Mysql at all in their products? Because they can very well afford to pay Oracle for their products.

Thanks,",mysql,oracle,google,open-source,amazon,02/13/2011 07:57:51,not constructive,1,94,3,"Mysql over Oracle.. I have a perception that Mysql is an open-source lightweight RDBMS mainly used in academia to teach students basics of SQL and give them some sense of using a DBMS, and also Mysql is used in other open-source products. With the mindset that free things will not be as good as things you pay for (in terms of features etc) , is Mysql adopted in any big popular paid products over Oracle?
Do biggies like Google,Yahoo,Amazon,Microsoft use Mysql at all in their products? Because they can very well afford to pay Oracle for their products.

Thanks,",5
11632366,07/24/2012 13:51:46,1507119,07/06/2012 14:59:54,13,0,export ascii xml from ms access,"I have an MS ACCESS DB .accdb, and would like to convert it to mysql.
The problem is that the MS Access data is in armscii and I want to save it in mysql with utf8

I already created a converting script with php

The problem is that i don't have any ODBC and can't use ODBC, so I tried to export MS Access data to xml but it has no ARMSCII encoding, only utf8 or utf 16

Can you please give me an advice how to get my goal !
Thank you",mysql,ms-access,export,convert,,,open,0,88,6,"export ascii xml from ms access I have an MS ACCESS DB .accdb, and would like to convert it to mysql.
The problem is that the MS Access data is in armscii and I want to save it in mysql with utf8

I already created a converting script with php

The problem is that i don't have any ODBC and can't use ODBC, so I tried to export MS Access data to xml but it has no ARMSCII encoding, only utf8 or utf 16

Can you please give me an advice how to get my goal !
Thank you",4
7810120,10/18/2011 15:53:51,757595,05/17/2011 14:47:35,7,0,Mysql: pulling from table,"I am having some trouble putting a query together. I need to show images pulled in the order of if they are in the ""editorial"" section then if they have an order to be displayed in it will show the editorial image first but if its not ordered in that section it would just default and pull the regular image that is ordered already (which may not be a editorial type image but is a preferred one if nothing else is available). What I have now is the query below BUT that doesn't pull the editorial ranked images first but rather the ""ordered_by' seems to take precedence.

    SELECT i.img_name, a.artist_path_name, a.artist_dir, a.artist_name, ck.catKey_id        
    FROM images AS i JOIN artists AS a USING (artist_id)
    JOIN img_cat_table AS imc USING ( img_id )
    JOIN catkeys AS ck USING (catKey_id)
    WHERE site = 'editorial' AND editorial_order = 1 OR ordered_by = 1 GROUP BY artist_name ORDER BY ed_banner


Its probably something silly that I am missing -- any and all help is appreciated.",mysql,query,join,,,,open,0,192,4,"Mysql: pulling from table I am having some trouble putting a query together. I need to show images pulled in the order of if they are in the ""editorial"" section then if they have an order to be displayed in it will show the editorial image first but if its not ordered in that section it would just default and pull the regular image that is ordered already (which may not be a editorial type image but is a preferred one if nothing else is available). What I have now is the query below BUT that doesn't pull the editorial ranked images first but rather the ""ordered_by' seems to take precedence.

    SELECT i.img_name, a.artist_path_name, a.artist_dir, a.artist_name, ck.catKey_id        
    FROM images AS i JOIN artists AS a USING (artist_id)
    JOIN img_cat_table AS imc USING ( img_id )
    JOIN catkeys AS ck USING (catKey_id)
    WHERE site = 'editorial' AND editorial_order = 1 OR ordered_by = 1 GROUP BY artist_name ORDER BY ed_banner


Its probably something silly that I am missing -- any and all help is appreciated.",3
2791914,05/07/2010 21:58:06,318957,04/16/2010 23:18:04,6,1,"Fiscal year, quarters, student table, and faculty table... How do I relate these?!","I have a student and faculty table. The primary key for student is studendID (SID) and faculty's primary key is facultyID, naturally. Student has an advisor column and a requested advisor column, which are foreign key to faculty. That's simple enough, right?

However, now I have to throw in dates. I want to be able to view who their advisor was for a certain quarter (such as 2009 Winter) and who they had requested.

The result will be a table like this:

    Year | Term   | SID       | Current | Requested
    ------------------------------------------------
    2009 | Winter | 860123456 | 1       | NULL
    2009 | Winter | 860445566 | 3       | NULL
    2009 | Winter | 860369147 | 5       | 1

And then if I feel like it, I could also go ahead and view a different year and a different term. 

I am not sure how these new table(s) will look like. Will there be a year table with three columns that are Fall, Spring and Winter? And what will the Fall, Spring, Winter table have?

I am new to the art of tables, so this is baffling me...

Also, I feel I should clarify how the site works so far now.
Admin can approve student requests, and what happens is that the student's current advisor gets overwritten with their request. However, I think I should not do that anymore, right?",mysql,table,relationships,table-relationships,,,open,0,265,13,"Fiscal year, quarters, student table, and faculty table... How do I relate these?! I have a student and faculty table. The primary key for student is studendID (SID) and faculty's primary key is facultyID, naturally. Student has an advisor column and a requested advisor column, which are foreign key to faculty. That's simple enough, right?

However, now I have to throw in dates. I want to be able to view who their advisor was for a certain quarter (such as 2009 Winter) and who they had requested.

The result will be a table like this:

    Year | Term   | SID       | Current | Requested
    ------------------------------------------------
    2009 | Winter | 860123456 | 1       | NULL
    2009 | Winter | 860445566 | 3       | NULL
    2009 | Winter | 860369147 | 5       | 1

And then if I feel like it, I could also go ahead and view a different year and a different term. 

I am not sure how these new table(s) will look like. Will there be a year table with three columns that are Fall, Spring and Winter? And what will the Fall, Spring, Winter table have?

I am new to the art of tables, so this is baffling me...

Also, I feel I should clarify how the site works so far now.
Admin can approve student requests, and what happens is that the student's current advisor gets overwritten with their request. However, I think I should not do that anymore, right?",4
5311190,03/15/2011 11:41:21,585804,01/22/2011 18:05:28,41,4,Simple database considerations and CakePHP,"I'm thinking of creating a simple game in order to help get my head around database design and CakePHP. The reasoning is that the game should ultimately be extendable, something that should be provided by MVC.

I'm struggling to get my head around a correct database design however, for example:

I have a table for users, just containing the usual details etc. 

Each user in the game will have an armoury (storing weapons) and so my understanding is that a User and Armoury tables share a 'has' relationship. 

My question is where should the foreign key be placed? If at all? Should I have a Armoury foreign key in the User table or a User foreign key in the Armoury table. Or should I have an entirely different table for the relationship between the two?

Also, regardless of approach, how do I then relate the structure of the database within CakePHP?",mysql,database,mvc,cakephp,,,open,0,148,5,"Simple database considerations and CakePHP I'm thinking of creating a simple game in order to help get my head around database design and CakePHP. The reasoning is that the game should ultimately be extendable, something that should be provided by MVC.

I'm struggling to get my head around a correct database design however, for example:

I have a table for users, just containing the usual details etc. 

Each user in the game will have an armoury (storing weapons) and so my understanding is that a User and Armoury tables share a 'has' relationship. 

My question is where should the foreign key be placed? If at all? Should I have a Armoury foreign key in the User table or a User foreign key in the Armoury table. Or should I have an entirely different table for the relationship between the two?

Also, regardless of approach, how do I then relate the structure of the database within CakePHP?",4
11709598,07/29/2012 13:25:58,829568,07/05/2011 11:14:42,920,26,Squeryl: KeyedEntity.id isn't updated on insert,"I have a table definition

    class Transaction(
      val ...
    ) extends KeyedEntity[Long] {
      val id:Long = 0
    }

    val transaction = table[Transaction](""transactions"")

    on(transaction) {t =>
        declare(
            t.id is unique
            ... (other fields)
        )
    }

The database table was not generated by Squeryl (I created it manually), but the ""ID"" column is set to PrimaryKey and AutoIncrement.

Now I'm inserting a row in this table:

    val row = new Transaction(...)
    val rowResult = Transaction.insert(row)
    println(""Id1=""+row.id+""; Id2=""+rowResult.id)

The row is correctly inserted into the database and there an ID is assigned (!=0).
But the application prints ""ID1=0; ID2=0"" on the command line.

Why? And how do I get the assigned ID?

**edit:**
I did also try the table definition this way

    class Transaction(
        val id: Long,
        ...
    ) extends KeyedEntity[Long]

Didn't make any differences.",mysql,scala,playframework-2.0,squeryl,,,open,0,217,6,"Squeryl: KeyedEntity.id isn't updated on insert I have a table definition

    class Transaction(
      val ...
    ) extends KeyedEntity[Long] {
      val id:Long = 0
    }

    val transaction = table[Transaction](""transactions"")

    on(transaction) {t =>
        declare(
            t.id is unique
            ... (other fields)
        )
    }

The database table was not generated by Squeryl (I created it manually), but the ""ID"" column is set to PrimaryKey and AutoIncrement.

Now I'm inserting a row in this table:

    val row = new Transaction(...)
    val rowResult = Transaction.insert(row)
    println(""Id1=""+row.id+""; Id2=""+rowResult.id)

The row is correctly inserted into the database and there an ID is assigned (!=0).
But the application prints ""ID1=0; ID2=0"" on the command line.

Why? And how do I get the assigned ID?

**edit:**
I did also try the table definition this way

    class Transaction(
        val id: Long,
        ...
    ) extends KeyedEntity[Long]

Didn't make any differences.",4
11221003,06/27/2012 07:04:59,536768,12/09/2010 17:06:03,2473,123,"Does MySQL accept ORDER BY ""nothing"" LIMIT ""all"" when I only want to get number of results in a search query?","I have ported a search from Coldfusion into a MySQL stored procedure. 

The actual search is run twice on the site. Once to get the number of records, the 2nd time to get the actual results to display.

So both MySQL syntax differ in the last two lines:

Get no of records: 

     SELECT ...
     GROUP BY a, b, c
     HAVING ... 

Actual results:

     SELECT ...
     GROUP BY a, b, c
     HAVING ... 
     ORDER BY var1, var2
     LIMIT var_start, var_end

**My question**:  
Since I need to run this twice, is there a way to at least use the same stored procedure = can I add default values such as **""ORDER BY 'nothing' LIMIT 'all'**, so when I call the proc to get the no of results it just disregards both values, but when I'm querying results and passing parameters, both are used?

Sort of like an if statement

    WHERE 1
    AND IF( var_x = '', '.', var_x = some_value )

Thanks for input!",mysql,search,order-by,limit,,,open,0,198,21,"Does MySQL accept ORDER BY ""nothing"" LIMIT ""all"" when I only want to get number of results in a search query? I have ported a search from Coldfusion into a MySQL stored procedure. 

The actual search is run twice on the site. Once to get the number of records, the 2nd time to get the actual results to display.

So both MySQL syntax differ in the last two lines:

Get no of records: 

     SELECT ...
     GROUP BY a, b, c
     HAVING ... 

Actual results:

     SELECT ...
     GROUP BY a, b, c
     HAVING ... 
     ORDER BY var1, var2
     LIMIT var_start, var_end

**My question**:  
Since I need to run this twice, is there a way to at least use the same stored procedure = can I add default values such as **""ORDER BY 'nothing' LIMIT 'all'**, so when I call the proc to get the no of results it just disregards both values, but when I'm querying results and passing parameters, both are used?

Sort of like an if statement

    WHERE 1
    AND IF( var_x = '', '.', var_x = some_value )

Thanks for input!",4
11171793,06/23/2012 18:06:32,1469887,06/20/2012 16:23:39,1,0,MySQL and VB 2010 Ultimate,Can somebody teach me how to connect and manipulate database tables using MySQL 5.x and Visual Basic 2010? Thanks!,mysql,,,,,06/23/2012 21:14:55,not a real question,1,19,5,MySQL and VB 2010 Ultimate Can somebody teach me how to connect and manipulate database tables using MySQL 5.x and Visual Basic 2010? Thanks!,1
7685417,10/07/2011 09:32:47,983696,10/07/2011 09:22:37,1,0,Incorrect syntax for sql call,"> Microsoft OLE DB Provider for SQL Server error '80040e14'
> 
> Line 1: Incorrect syntax near 'needa_job_employee_cv'.
> 
> /include/server/calls/employee_cv_generic_all.asp, line 6

Basically I use this generic call hundredths of times on this website to call information from dozens of different databases. I just make an ASP object for the SQL call and what database column I am looking for. It works everywhere but the one place, so I assume the problem is with my call.

    <%cvid = request.querystring(""cid"")%>
    <%=cvid%>
    <%call_select = ""SELECT * needa_job_employee_cv WHERE employee_cv_id='""& cvid &""'""%>
    <%call_fld_1 = ""employee_cv_title""%>
    <!--#INCLUDE Virtual=""/include/server/calls/employee_cv_generic_all.asp"" -->
    <%getcust_title=getcall_1%>

This an example of one that works. Any idea what my problem is? Its probably soemthign obvious.

    <%call_select = ""SELECT * FROM needa_job_employee_cv WHERE employee_cv_id='""& cv &""'""
    call_fld_1 = ""employee_cv_title""%>
    <!--#INCLUDE Virtual=""/include/server/calls/employee_cv_generic_all.asp"" -->	

    <%title_name = getcall_1_ary(j)%>
",mysql,asp,,,,10/07/2011 15:24:24,too localized,1,159,5,"Incorrect syntax for sql call > Microsoft OLE DB Provider for SQL Server error '80040e14'
> 
> Line 1: Incorrect syntax near 'needa_job_employee_cv'.
> 
> /include/server/calls/employee_cv_generic_all.asp, line 6

Basically I use this generic call hundredths of times on this website to call information from dozens of different databases. I just make an ASP object for the SQL call and what database column I am looking for. It works everywhere but the one place, so I assume the problem is with my call.

    <%cvid = request.querystring(""cid"")%>
    <%=cvid%>
    <%call_select = ""SELECT * needa_job_employee_cv WHERE employee_cv_id='""& cvid &""'""%>
    <%call_fld_1 = ""employee_cv_title""%>
    <!--#INCLUDE Virtual=""/include/server/calls/employee_cv_generic_all.asp"" -->
    <%getcust_title=getcall_1%>

This an example of one that works. Any idea what my problem is? Its probably soemthign obvious.

    <%call_select = ""SELECT * FROM needa_job_employee_cv WHERE employee_cv_id='""& cv &""'""
    call_fld_1 = ""employee_cv_title""%>
    <!--#INCLUDE Virtual=""/include/server/calls/employee_cv_generic_all.asp"" -->	

    <%title_name = getcall_1_ary(j)%>
",2
6525180,06/29/2011 18:01:53,698641,04/08/2011 12:38:14,446,1,MYSQL: DECIMAL with accuracy of 10 digits after the comma,"In MySQL I have a DECIMAL field set to 10,10. However, whenever I enter a new value, it shows 0.9999999999. What would I need to change to accept any number with an accuracy of 10 digits after the comma? It does work with 10,6 for some reason.

PS: I want to insert exchange rates.",mysql,decimal,,,,,open,0,53,10,"MYSQL: DECIMAL with accuracy of 10 digits after the comma In MySQL I have a DECIMAL field set to 10,10. However, whenever I enter a new value, it shows 0.9999999999. What would I need to change to accept any number with an accuracy of 10 digits after the comma? It does work with 10,6 for some reason.

PS: I want to insert exchange rates.",2
9701169,03/14/2012 11:34:41,1127709,01/03/2012 11:24:22,158,0,MySQL and several concats?,"I have this query:

    SELECT concat('insert into catalog_category_entity_text (value) values(test) where value_id = ', value_id)
    FROM catalog_category_entity_text
    WHERE value LIKE '%category-slider%'

The result looks like this for example:

    insert into catalog_category_entity_text (value) values(test) where value_id = 15

Now, what I wanto is to replace the *test* with another value like value_id. In this case, the column is called *value*. How would I do this? 

Thanks!",mysql,string-concatenation,,,,,open,0,75,4,"MySQL and several concats? I have this query:

    SELECT concat('insert into catalog_category_entity_text (value) values(test) where value_id = ', value_id)
    FROM catalog_category_entity_text
    WHERE value LIKE '%category-slider%'

The result looks like this for example:

    insert into catalog_category_entity_text (value) values(test) where value_id = 15

Now, what I wanto is to replace the *test* with another value like value_id. In this case, the column is called *value*. How would I do this? 

Thanks!",2
141278,09/26/2008 18:58:53,521,08/06/2008 14:16:34,763,39,Subqueries vs joins,"I refactored a slow section of an application we inherited from another company to use an inner join instead of a subquery like

    where id in (select id from ... )

**The refactored query runs about 100x faster.** (~50 seconds to ~0.3) I expected an improvement, but can anyone explain why it was so drastic? The columns used in the where clause were all indexed. Does SQL execute the query in the where clause once per row or something?",mysql,sql,join,optimization,,,open,0,81,3,"Subqueries vs joins I refactored a slow section of an application we inherited from another company to use an inner join instead of a subquery like

    where id in (select id from ... )

**The refactored query runs about 100x faster.** (~50 seconds to ~0.3) I expected an improvement, but can anyone explain why it was so drastic? The columns used in the where clause were all indexed. Does SQL execute the query in the where clause once per row or something?",4
10281684,04/23/2012 13:38:43,764730,05/22/2011 11:13:32,46,3,Dataming and Statistical Ideas,"I have a database for a regular POS system with tables like 'stock', 'orders', 'customers', 'employees',... 

I have been adding to add some simple dataming queries and statistics like:

 - most and least item sold
 - most and least customer buying
 - most and least employess selling
 - most and least hours,days,months, and days + hours sold
 - items sold together (2,3,4)
 
I have been searching the web for more advanced queries appliable on such a database but with no luck.

I would appreciate any ideas or links.

Thanks",mysql,sql,query,data-mining,statistical-analysis,04/25/2012 11:50:11,not constructive,1,87,4,"Dataming and Statistical Ideas I have a database for a regular POS system with tables like 'stock', 'orders', 'customers', 'employees',... 

I have been adding to add some simple dataming queries and statistics like:

 - most and least item sold
 - most and least customer buying
 - most and least employess selling
 - most and least hours,days,months, and days + hours sold
 - items sold together (2,3,4)
 
I have been searching the web for more advanced queries appliable on such a database but with no luck.

I would appreciate any ideas or links.

Thanks",5
4802613,01/26/2011 08:41:32,495989,11/03/2010 14:02:21,23,3,Inserting a file into mysql DB via CMD,"My question is simple I thought, but I did not get it right yet . .

I am having a simple db in mysql server 5.1 -

Which includes a file to be saved in as db format ""blob""

How do I save a file in the database ? assuming it is 2 fields, one id - int one blob for the file !?! Is blob right ? Want to save microsoft word and pdf documents !!

I want to insert it via CMD, and struggel, when putting a file path in, it saves the path, but no file !!

E.G. > 
INSERT INTO cvtable VALUES(""1"",""???file path???"");

Thank you guys for any hints here !!",mysql,cmd,,,,,open,0,109,8,"Inserting a file into mysql DB via CMD My question is simple I thought, but I did not get it right yet . .

I am having a simple db in mysql server 5.1 -

Which includes a file to be saved in as db format ""blob""

How do I save a file in the database ? assuming it is 2 fields, one id - int one blob for the file !?! Is blob right ? Want to save microsoft word and pdf documents !!

I want to insert it via CMD, and struggel, when putting a file path in, it saves the path, but no file !!

E.G. > 
INSERT INTO cvtable VALUES(""1"",""???file path???"");

Thank you guys for any hints here !!",2
6503838,06/28/2011 08:42:54,769023,05/25/2011 06:34:52,47,3,MySQL index on Chinese content.,Is any one know how about the effectivness of using mysql to build index on Chinese content?,mysql,database,index,chinese,,05/09/2012 11:48:59,not a real question,1,17,5,MySQL index on Chinese content. Is any one know how about the effectivness of using mysql to build index on Chinese content?,4
9584659,03/06/2012 13:30:52,791022,06/09/2011 13:43:00,897,4,Database Design - Employee Clocking In and Out System,"I want to develop Employee Clocking In and Out System (website).

I am concerned two things:

 - If staff forgot to 'Clock Out' from yesterday and they have 'Clock In' today, it should flag to the manager.

 - Staff may work over time, eg: Clock In Monday 11:00 AM To Tuesday 01:30 AM (after Midnight). I dont want system think thay staff have forgot to clock Out.. 

- Staff may clock In and Clock Out multiple times a day.

How to solve this issue and is the database design or what can be improved? 

**staff table:**

    +-------------+--------------+------+-----+---------+----------------+
    | Field       | Type         | Null | Key | Default | Extra          |
    +-------------+--------------+------+-----+---------+----------------+
    | id          | int(11)      | NO   | PRI | NULL    | auto_increment |
    | name        | varchar(50)  | NO   |     | NULL    |                |
    | password    | varchar(50)  | NO   |     | NULL    |                |
    | hourly_rate | decimal(6,2) | NO   |     | NULL    |                |
    +-------------+--------------+------+-----+---------+----------------+

**clocking table:**

    +----------------+----------+------+-----+---------+----------------+
    | Field          | Type     | Null | Key | Default | Extra          |
    +----------------+----------+------+-----+---------+----------------+
    | id             | int(11)  | NO   | PRI | NULL    | auto_increment |
    | staff_id       | int(11)  | NO   |     | NULL    |                |
    | clock_in_date  | datetime | NO   |     | NULL    |                |
    | clock_out_date | datetime | NO   |     | NULL    |                |
    +----------------+----------+------+-----+---------+----------------+

",mysql,database,database-design,logic,,03/07/2012 21:03:42,not constructive,1,513,9,"Database Design - Employee Clocking In and Out System I want to develop Employee Clocking In and Out System (website).

I am concerned two things:

 - If staff forgot to 'Clock Out' from yesterday and they have 'Clock In' today, it should flag to the manager.

 - Staff may work over time, eg: Clock In Monday 11:00 AM To Tuesday 01:30 AM (after Midnight). I dont want system think thay staff have forgot to clock Out.. 

- Staff may clock In and Clock Out multiple times a day.

How to solve this issue and is the database design or what can be improved? 

**staff table:**

    +-------------+--------------+------+-----+---------+----------------+
    | Field       | Type         | Null | Key | Default | Extra          |
    +-------------+--------------+------+-----+---------+----------------+
    | id          | int(11)      | NO   | PRI | NULL    | auto_increment |
    | name        | varchar(50)  | NO   |     | NULL    |                |
    | password    | varchar(50)  | NO   |     | NULL    |                |
    | hourly_rate | decimal(6,2) | NO   |     | NULL    |                |
    +-------------+--------------+------+-----+---------+----------------+

**clocking table:**

    +----------------+----------+------+-----+---------+----------------+
    | Field          | Type     | Null | Key | Default | Extra          |
    +----------------+----------+------+-----+---------+----------------+
    | id             | int(11)  | NO   | PRI | NULL    | auto_increment |
    | staff_id       | int(11)  | NO   |     | NULL    |                |
    | clock_in_date  | datetime | NO   |     | NULL    |                |
    | clock_out_date | datetime | NO   |     | NULL    |                |
    +----------------+----------+------+-----+---------+----------------+

",4
9640593,03/09/2012 20:33:19,260007,01/27/2010 11:34:40,1666,93,Simplified/shorthand SQL Data Definition Languages?,"Some people like describing their database structure in a simple textual way instead of using `CREATE TABLE` statements. A few example:

 - http://stackoverflow.com/questions/6578015/foreign-key-as-primary-key
 - http://stackoverflow.com/questions/5707933/multiple-primary-keys-as-single-foreign-key/5708015#5708015
 - http://stackoverflow.com/questions/9625213/how-can-i-set-up-a-database-schema-where-there-are-two-concurrent-many-many-rela/9625253#9625253
 - http://stackoverflow.com/questions/9237833/primary-key-and-foreign-key/9237885#9237885
 - http://stackoverflow.com/questions/9591651/how-should-i-set-up-database-tables-for-this-order-situation/9593796#9593796

Do you know about any software which converts this kind of shorthand notation to actual SQL statements?",mysql,sql,database-schema,ddl,shorthand,,open,0,47,5,"Simplified/shorthand SQL Data Definition Languages? Some people like describing their database structure in a simple textual way instead of using `CREATE TABLE` statements. A few example:

 - http://stackoverflow.com/questions/6578015/foreign-key-as-primary-key
 - http://stackoverflow.com/questions/5707933/multiple-primary-keys-as-single-foreign-key/5708015#5708015
 - http://stackoverflow.com/questions/9625213/how-can-i-set-up-a-database-schema-where-there-are-two-concurrent-many-many-rela/9625253#9625253
 - http://stackoverflow.com/questions/9237833/primary-key-and-foreign-key/9237885#9237885
 - http://stackoverflow.com/questions/9591651/how-should-i-set-up-database-tables-for-this-order-situation/9593796#9593796

Do you know about any software which converts this kind of shorthand notation to actual SQL statements?",5
1913017,12/16/2009 07:53:08,218102,11/24/2009 20:26:29,1,0,"Why does insert from php to mysql mis-handle question marks sometimes, but from command line never?","I have a simple table:

    describe chat_public_messageboard ;
    
        +--------------+---------------+------+-----+---------+----------------+
        | Field        | Type          | Null | Key | Default | Extra          |
        +--------------+---------------+------+-----+---------+----------------+
        | message_id   | int(100)      | NO   | PRI | NULL    | auto_increment |
        | message_from | varchar(255)  | NO   |     | NULL    |                |
        | message_to   | varchar(20)   | NO   |     | NULL    |                |
        | message_body | tinytext      | NO   |     | NULL    |                |
        | message_time | varchar(50)   | NO   |     | NULL    |                |
        | welcome_msg  | enum('0','1') | NO   |     | 0       |                |
        +--------------+---------------+------+-----+---------+----------------+
    
        When I do an insert from the terminal, it works fine:
        select *
           314 | sweety_margs  | daffy          | what did you say?  
    
    INSERT INTO chat_public_messageboard ( message_from , message_body , message_time , message_to , welcome_msg ) VALUES ( 'pdz' , 'what did you say?\n' , '1260948972' , 'pdz2' , 1 ) ""
    
    But when I send this exact query through the mysql db->query() function, the question mark turns to NULL
    
    $query = $querystring =	""INSERT INTO chat_public_messageboard ( message_from , message_body , message_time , message_to , welcome_msg ) VALUES ( 'pdz' , 'what did you say?\n' , '1260948972' , 'pdz2' , 1 ) "" ;
    db->query($querystring);
    
    select *
        314 | sweety_margs  | daffy          | what did you sayNULL  
    
    
    Thanks.

",mysql,php,insert,,,,open,0,562,16,"Why does insert from php to mysql mis-handle question marks sometimes, but from command line never? I have a simple table:

    describe chat_public_messageboard ;
    
        +--------------+---------------+------+-----+---------+----------------+
        | Field        | Type          | Null | Key | Default | Extra          |
        +--------------+---------------+------+-----+---------+----------------+
        | message_id   | int(100)      | NO   | PRI | NULL    | auto_increment |
        | message_from | varchar(255)  | NO   |     | NULL    |                |
        | message_to   | varchar(20)   | NO   |     | NULL    |                |
        | message_body | tinytext      | NO   |     | NULL    |                |
        | message_time | varchar(50)   | NO   |     | NULL    |                |
        | welcome_msg  | enum('0','1') | NO   |     | 0       |                |
        +--------------+---------------+------+-----+---------+----------------+
    
        When I do an insert from the terminal, it works fine:
        select *
           314 | sweety_margs  | daffy          | what did you say?  
    
    INSERT INTO chat_public_messageboard ( message_from , message_body , message_time , message_to , welcome_msg ) VALUES ( 'pdz' , 'what did you say?\n' , '1260948972' , 'pdz2' , 1 ) ""
    
    But when I send this exact query through the mysql db->query() function, the question mark turns to NULL
    
    $query = $querystring =	""INSERT INTO chat_public_messageboard ( message_from , message_body , message_time , message_to , welcome_msg ) VALUES ( 'pdz' , 'what did you say?\n' , '1260948972' , 'pdz2' , 1 ) "" ;
    db->query($querystring);
    
    select *
        314 | sweety_margs  | daffy          | what did you sayNULL  
    
    
    Thanks.

",3
3760021,09/21/2010 11:54:41,339108,05/12/2010 08:40:51,369,1,How do you create an index across different tables,"        Table A consists of (id, fieldA, fieldB, fieldC, fieldD)
        Table B consists of (id, tableA-id, fieldE, fieldF, fieldG)
    
    My queries looks like this:-
    
    1. select * from tableB b, tableA a where a.fieldA=? and a.fieldB=? and a.fieldC=? and a.fieldD=? and (b.fieldF >= '09/01/10' and b.fieldF <= '09/30/10');
    
    2. select * from tableB b, tableA a where a.fieldA=? and a.fieldB=? and a.fieldC=? and a.fieldD=? and b.fieldE=? and (b.fieldF >= '09/01/10' and b.fieldF <= '09/30/10');

Note: fieldE is the extra parameter for [2]

How should I define my indexes to accommodate these queries",mysql,database,indexing,,,,open,0,125,9,"How do you create an index across different tables         Table A consists of (id, fieldA, fieldB, fieldC, fieldD)
        Table B consists of (id, tableA-id, fieldE, fieldF, fieldG)
    
    My queries looks like this:-
    
    1. select * from tableB b, tableA a where a.fieldA=? and a.fieldB=? and a.fieldC=? and a.fieldD=? and (b.fieldF >= '09/01/10' and b.fieldF <= '09/30/10');
    
    2. select * from tableB b, tableA a where a.fieldA=? and a.fieldB=? and a.fieldC=? and a.fieldD=? and b.fieldE=? and (b.fieldF >= '09/01/10' and b.fieldF <= '09/30/10');

Note: fieldE is the extra parameter for [2]

How should I define my indexes to accommodate these queries",3
2276369,02/16/2010 21:10:58,67153,02/16/2009 23:43:45,3875,214,How to cast to string the result of an inner query?,"I have the following query (which should return a scalar/numeric), But I still get a sql error. 

I am using mysql 5.0.77 or 5.1.37

`SELECT CAST(SELECT COUNT(*) FROM t1 AS VARCHAR)`",mysql,sql,,,,,open,0,30,11,"How to cast to string the result of an inner query? I have the following query (which should return a scalar/numeric), But I still get a sql error. 

I am using mysql 5.0.77 or 5.1.37

`SELECT CAST(SELECT COUNT(*) FROM t1 AS VARCHAR)`",2
126791,09/24/2008 12:22:13,9777,09/15/2008 19:56:37,150,16,Best MySQL Server Monitoring Tool,"I'd like some opinions about the best mysql monitoring tool available. I've tried [MySQL Enterprise Monitor][1], and it is great for me except it's impossible to get MySQL sell something - I'm ok to pay even if I find the pricing and bundling it with MySQL Enterprise only unreasonable.

I am also looking at [MONyog MySQL Monitor][2] now, gonna give it a try soon. Just wanna get some expert advice/field experience.


  [1]: http://www.mysql.com/products/enterprise/advisors.html
  [2]: http://www.webyog.com/en/monyog_feature_list.php",mysql,mysql-management,monitoring,,,09/14/2011 15:18:43,not constructive,1,76,5,"Best MySQL Server Monitoring Tool I'd like some opinions about the best mysql monitoring tool available. I've tried [MySQL Enterprise Monitor][1], and it is great for me except it's impossible to get MySQL sell something - I'm ok to pay even if I find the pricing and bundling it with MySQL Enterprise only unreasonable.

I am also looking at [MONyog MySQL Monitor][2] now, gonna give it a try soon. Just wanna get some expert advice/field experience.


  [1]: http://www.mysql.com/products/enterprise/advisors.html
  [2]: http://www.webyog.com/en/monyog_feature_list.php",3
7167216,08/23/2011 20:35:09,212246,11/16/2009 17:29:52,1,2,server bogged and mysql query slow log,"i have serious performance problem (all of a sudden) on my server (php+mysql). I enabled mysql slow query log and he started to show some queries that were taking even 25 secs to complete. for example this one takes 15 seconds:

    # Time: 110823  2:07:01
    # User@Host: ***[***] @ localhost []
    # Query_time: 15  Lock_time: 0  Rows_sent: 1  Rows_examined: 1
    use ***;
    SELECT `users`.*
    FROM (`users`)
    WHERE `users`.`id` = 4413
    ORDER BY `users`.`id` ASC
    LIMIT 0, 1;

Point is, on the field Id there is a primary key and if i run the query from phpmyadmin it executes in 0.00008 seconds. This is the explain plan:

    id 	select_type 	table 	type 	possible_keys 	key 	key_len 	ref 	rows 	Extra
    1 	SIMPLE 	users 	const 	PRIMARY 	PRIMARY 	4 	const 	1 	

I am really confused, because the hosting provider it is saying everything is fine and is my database. I checked all the parameters with tuning-primer by Matthew Montgomery and all settings seems fine...



",mysql,performance,query,,,,open,0,194,7,"server bogged and mysql query slow log i have serious performance problem (all of a sudden) on my server (php+mysql). I enabled mysql slow query log and he started to show some queries that were taking even 25 secs to complete. for example this one takes 15 seconds:

    # Time: 110823  2:07:01
    # User@Host: ***[***] @ localhost []
    # Query_time: 15  Lock_time: 0  Rows_sent: 1  Rows_examined: 1
    use ***;
    SELECT `users`.*
    FROM (`users`)
    WHERE `users`.`id` = 4413
    ORDER BY `users`.`id` ASC
    LIMIT 0, 1;

Point is, on the field Id there is a primary key and if i run the query from phpmyadmin it executes in 0.00008 seconds. This is the explain plan:

    id 	select_type 	table 	type 	possible_keys 	key 	key_len 	ref 	rows 	Extra
    1 	SIMPLE 	users 	const 	PRIMARY 	PRIMARY 	4 	const 	1 	

I am really confused, because the hosting provider it is saying everything is fine and is my database. I checked all the parameters with tuning-primer by Matthew Montgomery and all settings seems fine...



",3
5126653,02/26/2011 11:36:02,460055,09/28/2010 00:02:34,328,12,MySQL Inner Join With LIMIT to left table,"I have this database query

    SELECT *
    FROM (`metadata` im)
    INNER JOIN `content` ic ON `im`.`rev_id`  = `ic`.`rev_id`
    WHERE `im`.`id` = '00039'
    AND `current_revision` = 1
    ORDER BY `timestamp` DESC
    LIMIT 5, 5 

The query limits the total rows in the result to 5. I want to limit the left table `metadata` to 5 without limiting the entire result-set.

How should I write the query?",mysql,inner-join,,,,,open,0,86,8,"MySQL Inner Join With LIMIT to left table I have this database query

    SELECT *
    FROM (`metadata` im)
    INNER JOIN `content` ic ON `im`.`rev_id`  = `ic`.`rev_id`
    WHERE `im`.`id` = '00039'
    AND `current_revision` = 1
    ORDER BY `timestamp` DESC
    LIMIT 5, 5 

The query limits the total rows in the result to 5. I want to limit the left table `metadata` to 5 without limiting the entire result-set.

How should I write the query?",2
11427410,07/11/2012 07:12:43,1465358,06/19/2012 04:28:47,3,0,"MYSQL Multiple Left Joins, Where Statement & Calculations","       SELECT    
          P.ProductID,    
              (ifnull(g.g_sum,0) + ifnull(rq.rq_sum,0))-(ifnull(i.i_sum,0) + ifnull(ro.ro_sum,0)) as StockBalance,
                  ifnull(g.g_sum,0) as GRN_QUANTITY,             
         ifnull( rq.rq_sum,0) as RETURN_IN_QUANTITY,          
         ifnull( i.i_sum,0) as INVOICE_QUANTITY,                     
         ifnull( ro.ro_sum,0) as RETURN_OUT_QUANTITY          
        from products as P    
          left join (select    
                   ProductID,    
                   sum(Qty)  as g_sum    
                 from grnqty group by ProductID) as g    
            on g.ProductID = P.ProductID    
          left join (select
                   ProductID,    
                   sum(Qty) as rq_sum
                 from returninqty group by ProductID) as rq
            on rq.ProductID = P.ProductID    
          left join (select
                   ProductID,
                   sum(Qty)  as i_sum    
                 from invoiceqty group by ProductID) as i    
            on i.ProductID = P.ProductID    
          left join (select    
                   ProductID,    
                   sum(Qty) as ro_sum    
                 from returnoutqty group by ProductID) as ro    
            on ro.ProductID = P.ProductID

        
    
This is my query, i need this datas between to dates, but dates are in differen tables like -
    GRN(Table), Invoice(Table), ReturnIn(Table), ReturnOut(Table) how can i add a where statement for this function

",mysql,,,,,07/11/2012 12:32:05,not a real question,1,636,8,"MYSQL Multiple Left Joins, Where Statement & Calculations        SELECT    
          P.ProductID,    
              (ifnull(g.g_sum,0) + ifnull(rq.rq_sum,0))-(ifnull(i.i_sum,0) + ifnull(ro.ro_sum,0)) as StockBalance,
                  ifnull(g.g_sum,0) as GRN_QUANTITY,             
         ifnull( rq.rq_sum,0) as RETURN_IN_QUANTITY,          
         ifnull( i.i_sum,0) as INVOICE_QUANTITY,                     
         ifnull( ro.ro_sum,0) as RETURN_OUT_QUANTITY          
        from products as P    
          left join (select    
                   ProductID,    
                   sum(Qty)  as g_sum    
                 from grnqty group by ProductID) as g    
            on g.ProductID = P.ProductID    
          left join (select
                   ProductID,    
                   sum(Qty) as rq_sum
                 from returninqty group by ProductID) as rq
            on rq.ProductID = P.ProductID    
          left join (select
                   ProductID,
                   sum(Qty)  as i_sum    
                 from invoiceqty group by ProductID) as i    
            on i.ProductID = P.ProductID    
          left join (select    
                   ProductID,    
                   sum(Qty) as ro_sum    
                 from returnoutqty group by ProductID) as ro    
            on ro.ProductID = P.ProductID

        
    
This is my query, i need this datas between to dates, but dates are in differen tables like -
    GRN(Table), Invoice(Table), ReturnIn(Table), ReturnOut(Table) how can i add a where statement for this function

",1
11082949,06/18/2012 12:31:23,763256,05/20/2011 18:51:20,523,8,SQL query split and correspond to another table,"I have two tables:

    Table_A
    name1
    create_date
    
    Table_B
    name2
    keep_time

name1 is something like xxxxxx-yyy and name2 is like xxxxxxx Name2 is exactly the first part of the name1 seperated by '-'.

I would like to get all the rows in Table A, whose keep_time is less than (now - create_date).
As you understand, the problem is how I can `split the name1 by '-' character` and get the first prt and get the keep_time from Table_B by corresponding `name2`.

I need to write SQL in MySQL for such query?

Thanks",mysql,sql,query,,,,open,0,108,8,"SQL query split and correspond to another table I have two tables:

    Table_A
    name1
    create_date
    
    Table_B
    name2
    keep_time

name1 is something like xxxxxx-yyy and name2 is like xxxxxxx Name2 is exactly the first part of the name1 seperated by '-'.

I would like to get all the rows in Table A, whose keep_time is less than (now - create_date).
As you understand, the problem is how I can `split the name1 by '-' character` and get the first prt and get the keep_time from Table_B by corresponding `name2`.

I need to write SQL in MySQL for such query?

Thanks",3
8047935,11/08/2011 08:54:38,1035248,11/08/2011 08:45:19,1,0,Hibernate transaction takes more than a minute,"I have a Spring/Hibernate webapp which interacts with mysql (all tables are running on INNODB)

I have simplistic transaction to create a profile, sample code is proided at the end of the post. Strangely enough at times this transaction takes almost a minute or more to complete, flooding the logs with the following messages
> 2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Found thread-bound Session for HibernateTemplate
> 2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Not closing pre-bound Hibernate Session after HibernateTemplate
> 2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Found thread-bound Session for HibernateTemplate
>2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Not closing pre-bound Hibernate Session after HibernateTemplate
>2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Found thread-bound Session for HibernateTemplate



    DefaultTransactionAttribute transactionAttribute = new DefaultTransactionAttribute(TransactionDefinition.PROPAGATION_REQUIRED);
    transactionAttribute.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);
    TransactionStatus status =  transactionManager.getTransaction(transactionAttribute);
    boolean success = false;
    try{
        .......
     catch(Exception w)
     {
	// We need to propagate web application exception upwards
	logger.error(""Error occured during registration cc:"" + cc+ "" tn:"" + tn + "" "",w);
			throw w; 
		}
		finally
		{
			if (success) {

				transactionManager.commit(status);
			} else {

				transactionManager.rollback(status);
			}
		}
",mysql,hibernate,spring,transactions,,11/10/2011 22:59:07,too localized,1,187,7,"Hibernate transaction takes more than a minute I have a Spring/Hibernate webapp which interacts with mysql (all tables are running on INNODB)

I have simplistic transaction to create a profile, sample code is proided at the end of the post. Strangely enough at times this transaction takes almost a minute or more to complete, flooding the logs with the following messages
> 2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Found thread-bound Session for HibernateTemplate
> 2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Not closing pre-bound Hibernate Session after HibernateTemplate
> 2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Found thread-bound Session for HibernateTemplate
>2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Not closing pre-bound Hibernate Session after HibernateTemplate
>2011-11-08 08:35:57,317 [http-9080-2] DEBUG org.springframework.orm.hibernate3.HibernateTemplate - Found thread-bound Session for HibernateTemplate



    DefaultTransactionAttribute transactionAttribute = new DefaultTransactionAttribute(TransactionDefinition.PROPAGATION_REQUIRED);
    transactionAttribute.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);
    TransactionStatus status =  transactionManager.getTransaction(transactionAttribute);
    boolean success = false;
    try{
        .......
     catch(Exception w)
     {
	// We need to propagate web application exception upwards
	logger.error(""Error occured during registration cc:"" + cc+ "" tn:"" + tn + "" "",w);
			throw w; 
		}
		finally
		{
			if (success) {

				transactionManager.commit(status);
			} else {

				transactionManager.rollback(status);
			}
		}
",4
8268810,11/25/2011 11:58:18,1012928,10/25/2011 14:45:44,1,0,Connect as root user to MySQL on GoDaddy,"I have a problem on my shared hosting account on GoDaddy. I can't export CSV files because apparently I don't have permission.

The error is ""Access denied for user 'myusername'@'%' (using password: YES)"".

Browsing the web tells me I need to connect to the hosting account using a command line (Windows command line?), switch to the root account and then give my user account file privileges. Sounds simple enough, but first of all, how do I connect from the command line? And how would I know the root password, which I assume I need to switch to the root account? I found the code that does the actual giving of privileges, it's:

    USE mysql;
    UPDATE user SET File_priv = 'Y' WHERE User = 'db_user';
    FLUSH PRIVILEGES;

Is there a way to do all this from phpMyAdmin? Or any way to do it, really, I just need to get this done quickly.",mysql,command,line,root,,01/06/2012 12:50:34,off topic,1,157,8,"Connect as root user to MySQL on GoDaddy I have a problem on my shared hosting account on GoDaddy. I can't export CSV files because apparently I don't have permission.

The error is ""Access denied for user 'myusername'@'%' (using password: YES)"".

Browsing the web tells me I need to connect to the hosting account using a command line (Windows command line?), switch to the root account and then give my user account file privileges. Sounds simple enough, but first of all, how do I connect from the command line? And how would I know the root password, which I assume I need to switch to the root account? I found the code that does the actual giving of privileges, it's:

    USE mysql;
    UPDATE user SET File_priv = 'Y' WHERE User = 'db_user';
    FLUSH PRIVILEGES;

Is there a way to do all this from phpMyAdmin? Or any way to do it, really, I just need to get this done quickly.",4
4917864,02/07/2011 03:32:09,200025,10/31/2009 03:17:04,89,1,Best way to store 'extra' user data in MySQL?,"I'm adding a new feature to my user module for my CMS and I've hit a road block... Or I guess, a fork in the road, and I wanted to get some opinions from stackoverflow before I commit to anything.  
Basically I want to allow admins to add new, 'extra' user fields that users can fill out on registration, edit in their profile, and/or be controlled by other modules. An example of this would be a birthday field, a lengthy description of themselves, or maybe points the user has earned on the site. Needless to say, the data stored will be varied and can range from large amounts of text, to a small integer value. To make matters worse - I want there to be the option to search this data.

With that out of the way - what would be the best way to do this? Right now I'm leaning towards having a table with the following columns.

    userid, refFieldID, varchar, tinyint, smallint, int, text, date, datetime, etc.

I would prefer this as it would make searching significantly faster, and the reference table (Which holds all of the field's data, such as the name of the field, whether it's searchable or not, etc.) can reference which column should be used when storing data for that field.

The other idea, which was suggested to me and I've seen used in other solutions (vBulletin being one, although I have seen others whose names escape me at the moment), where you just have the userid, reference id, and a medtext field. I don't know enough about MySQL to say this with any certainty, but this method seems like it would be slower to search, and possibly have a larger overhead.

So which method would be 'best'? Is there another method I'm missing? Whichever method I end up using, it needs to be fast to search, not massive (A tiny bit of overhead is fine), and preferably allow complex queries used against the data.",mysql,registration,user-accounts,,,,open,0,331,9,"Best way to store 'extra' user data in MySQL? I'm adding a new feature to my user module for my CMS and I've hit a road block... Or I guess, a fork in the road, and I wanted to get some opinions from stackoverflow before I commit to anything.  
Basically I want to allow admins to add new, 'extra' user fields that users can fill out on registration, edit in their profile, and/or be controlled by other modules. An example of this would be a birthday field, a lengthy description of themselves, or maybe points the user has earned on the site. Needless to say, the data stored will be varied and can range from large amounts of text, to a small integer value. To make matters worse - I want there to be the option to search this data.

With that out of the way - what would be the best way to do this? Right now I'm leaning towards having a table with the following columns.

    userid, refFieldID, varchar, tinyint, smallint, int, text, date, datetime, etc.

I would prefer this as it would make searching significantly faster, and the reference table (Which holds all of the field's data, such as the name of the field, whether it's searchable or not, etc.) can reference which column should be used when storing data for that field.

The other idea, which was suggested to me and I've seen used in other solutions (vBulletin being one, although I have seen others whose names escape me at the moment), where you just have the userid, reference id, and a medtext field. I don't know enough about MySQL to say this with any certainty, but this method seems like it would be slower to search, and possibly have a larger overhead.

So which method would be 'best'? Is there another method I'm missing? Whichever method I end up using, it needs to be fast to search, not massive (A tiny bit of overhead is fine), and preferably allow complex queries used against the data.",3
9452864,02/26/2012 11:59:55,821398,06/29/2011 15:15:54,18,0,JPA EntityExistsException Duplicate entry when doing merge?,"Using JPA (OpenJPA) in a J2SE application I'm trying to update a table with the content of a List of Entries : adding new entries or replacing existing entries with what is in the List if they exist.

1) What is the best approach to do that?


For that I would like to perform several hundreds merge within the same transaction... (some of the entries in the List may be indentical with the same Id)

It seems to work fine when using HSQLDB, but when using MySQL as the database I'm getting this exception:
org.apache.openjpa.persistence.EntityExistsException: Duplicate entry

2) any idea why?


The code is simple and something like this:

    EntityManager em = emfactory.createEntityManager();
    em.getTransaction().begin();
    
    // update messages
    for (Message msg : messages) {
      Entry e=new Entry(msg.getId(), msg.getText(),msg.getDate());
      em.merge(e);
    }
    			
    em.getTransaction().commit();
    em.close();


thanks

",mysql,jpa,transactions,merge,,,open,0,164,7,"JPA EntityExistsException Duplicate entry when doing merge? Using JPA (OpenJPA) in a J2SE application I'm trying to update a table with the content of a List of Entries : adding new entries or replacing existing entries with what is in the List if they exist.

1) What is the best approach to do that?


For that I would like to perform several hundreds merge within the same transaction... (some of the entries in the List may be indentical with the same Id)

It seems to work fine when using HSQLDB, but when using MySQL as the database I'm getting this exception:
org.apache.openjpa.persistence.EntityExistsException: Duplicate entry

2) any idea why?


The code is simple and something like this:

    EntityManager em = emfactory.createEntityManager();
    em.getTransaction().begin();
    
    // update messages
    for (Message msg : messages) {
      Entry e=new Entry(msg.getId(), msg.getText(),msg.getDate());
      em.merge(e);
    }
    			
    em.getTransaction().commit();
    em.close();


thanks

",4
8688149,12/31/2011 12:45:04,885515,08/09/2011 08:24:00,7,0,What is merits and demerits of splitting records in multiple table or using single table for storing multiple records in single table,"I need to know these answers
What is merits and demerits of splitting records in multiple table or using single table for storing multiple records in single table and

what approach is good for large database sites

what is the speed of Mysql query

How can i improve my query into database

What is data parsing I heard from someone it as a kind of hacking only for Apache - mysql server is that so how can i prevent my data from that (hackers writes a script and all the data downloaded from the server)",mysql,database,query,database-design,,01/03/2012 08:25:25,not a real question,1,90,22,"What is merits and demerits of splitting records in multiple table or using single table for storing multiple records in single table I need to know these answers
What is merits and demerits of splitting records in multiple table or using single table for storing multiple records in single table and

what approach is good for large database sites

what is the speed of Mysql query

How can i improve my query into database

What is data parsing I heard from someone it as a kind of hacking only for Apache - mysql server is that so how can i prevent my data from that (hackers writes a script and all the data downloaded from the server)",4
906810,05/25/2009 13:52:10,676066,11/07/2008 07:45:18,505,24,Batch problem in MySQL?,"I have a script in MySQL that creates two tables, the second table references a field in the first table, now when I try to run this script in one batch it returns an error. My guess is that it checks the referenced table in the second table definition before creating the tables.

Any idea how I can create both tables at once?

Thanks",mysql,,,,,,open,0,62,4,"Batch problem in MySQL? I have a script in MySQL that creates two tables, the second table references a field in the first table, now when I try to run this script in one batch it returns an error. My guess is that it checks the referenced table in the second table definition before creating the tables.

Any idea how I can create both tables at once?

Thanks",1
11024613,06/13/2012 23:09:12,665335,03/18/2011 01:05:50,772,9,Run Simple SQL statement on dbForge query window directly,"I want to run a sql statement on dbForge query window, but got error:

    if (ifnull(null,'s') = 's') then
    select 's';
    end if;

Error:

    1 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if (ifnull(null,'s') = 's') then
    select 's'' at line 2 SQL1.sql 2 1

 


I have to put that statement within a stored procedure to test it.

How to run the statement directly on query window, like SQL Server management studio.

",mysql,dbforge,,,,,open,0,103,9,"Run Simple SQL statement on dbForge query window directly I want to run a sql statement on dbForge query window, but got error:

    if (ifnull(null,'s') = 's') then
    select 's';
    end if;

Error:

    1 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if (ifnull(null,'s') = 's') then
    select 's'' at line 2 SQL1.sql 2 1

 


I have to put that statement within a stored procedure to test it.

How to run the statement directly on query window, like SQL Server management studio.

",2
4994814,02/14/2011 16:52:56,616528,02/14/2011 16:52:56,1,0,is to be posible in mysql repeat the same result,"I have a select with 1 result only 

ex:
SELECT + FROM table1

I need try it with a lot of results, is to be possibe add any word in this select to repeat this a lot of times with the same result.

Thanks",mysql,,,,,,open,0,41,10,"is to be posible in mysql repeat the same result I have a select with 1 result only 

ex:
SELECT + FROM table1

I need try it with a lot of results, is to be possibe add any word in this select to repeat this a lot of times with the same result.

Thanks",1
5484818,03/30/2011 10:01:12,611468,02/10/2011 13:53:35,8,0,Database Authorised Updates,"How do I design a database structure so that a number of user of a database can add, update and delete records which may include foreign keys from some of the database's tables and prevent these changes from going live until the user's supervisor authorises these changes, some of these changes or declines these changes from occuring. The database will eventualy have a number of these groups of users and supervisors.

What is the best methodology, or system for this, I am using MySQL database at present.",mysql,database-design,authorization,roles,,,open,0,86,3,"Database Authorised Updates How do I design a database structure so that a number of user of a database can add, update and delete records which may include foreign keys from some of the database's tables and prevent these changes from going live until the user's supervisor authorises these changes, some of these changes or declines these changes from occuring. The database will eventualy have a number of these groups of users and supervisors.

What is the best methodology, or system for this, I am using MySQL database at present.",4
1828653,12/01/2009 20:24:45,120151,06/09/2009 21:41:29,1,1,Mysql query optimization,"I am working on a Rails project and hitting a performance problem. Here is the simplified db schema

<pre>
table gaming_platforms ( ~5 rows)
  id

table games ( ~10k rows)
  id
  gaming_platform_id
  winner             (black or white or n/a)
  black_id           => online_players.id
  white_id           => online_players.id

table online_players ( ~1k rows)
  id
  gaming_platform_id
  username
</pre>

Now given a username, I want to display players whose names match the input, with no. of games they played, won or lost. 

I created 3 views to avoid 1+n problem. 

<pre>
create or replace view online_player_games as
      select online_players.id as online_player_id, count(*) as games 
      from games
      left join online_players 
      on games.gaming_platform_id = online_players.gaming_platform_id and 
      (games.black_id = online_players.id or games.white_id = online_players.id)
      group by online_players.id;

create or replace view online_player_won_games as
      select online_players.id as online_player_id, count(games.id) as games 
      from online_players 
      left join games on games.gaming_platform_id = online_players.gaming_platform_id and 
      ((games.winner = 1 and games.black_id = online_players.id) or (games.winner = 2 and games.white_id = online_players.id))
      group by online_players.id;

create or replace view online_player_lost_games as
      select online_players.id as online_player_id, count(games.id) as games 
      from online_players
      left join games on games.gaming_platform_id = online_players.gaming_platform_id and 
      ((games.winner = 2 and games.black_id = online_players.id) or (games.winner = 1 and games.white_id = online_players.id))
      group by online_players.id;
</pre>

Without using any index, it takes > 20 secs to query against those views. The query looks complicated. I am not sure which indexes I should create. Any opinions or suggestions are very welcome.",mysql,index,rails,performance,,,open,0,353,3,"Mysql query optimization I am working on a Rails project and hitting a performance problem. Here is the simplified db schema

<pre>
table gaming_platforms ( ~5 rows)
  id

table games ( ~10k rows)
  id
  gaming_platform_id
  winner             (black or white or n/a)
  black_id           => online_players.id
  white_id           => online_players.id

table online_players ( ~1k rows)
  id
  gaming_platform_id
  username
</pre>

Now given a username, I want to display players whose names match the input, with no. of games they played, won or lost. 

I created 3 views to avoid 1+n problem. 

<pre>
create or replace view online_player_games as
      select online_players.id as online_player_id, count(*) as games 
      from games
      left join online_players 
      on games.gaming_platform_id = online_players.gaming_platform_id and 
      (games.black_id = online_players.id or games.white_id = online_players.id)
      group by online_players.id;

create or replace view online_player_won_games as
      select online_players.id as online_player_id, count(games.id) as games 
      from online_players 
      left join games on games.gaming_platform_id = online_players.gaming_platform_id and 
      ((games.winner = 1 and games.black_id = online_players.id) or (games.winner = 2 and games.white_id = online_players.id))
      group by online_players.id;

create or replace view online_player_lost_games as
      select online_players.id as online_player_id, count(games.id) as games 
      from online_players
      left join games on games.gaming_platform_id = online_players.gaming_platform_id and 
      ((games.winner = 2 and games.black_id = online_players.id) or (games.winner = 1 and games.white_id = online_players.id))
      group by online_players.id;
</pre>

Without using any index, it takes > 20 secs to query against those views. The query looks complicated. I am not sure which indexes I should create. Any opinions or suggestions are very welcome.",4
8525313,12/15/2011 19:10:26,391460,07/14/2010 10:43:45,91,2,homebrew mysql unknown option '--skip-bdb',"I've just installed a fresh installation of mysql via homebrew and when I do a `'mysql_install_db --verbose --user=`whoami` --basedir=""$(brew --prefix mysql)"" --datadir=/usr/local/var/mysql --tmpdir=/tmp'` I get the following error: 

    >Installing MySQL system tables...
    >
    >111215 19:03:41 [Warning] Setting lower_case_table_names=2 because file system for /usr/local/var/mysql/ is case insensitive
    >
    >111215 19:03:41 [Note] Plugin 'InnoDB' is disabled.
    >
    >111215 19:03:41 [ERROR] /usr/local/Cellar/mysql/5.5.15/bin/mysqld: unknown option '--skip-bdb'
    >
    >111215 19:03:41 [ERROR] Aborting
    >
    >111215 19:03:41 [Note] /usr/local/Cellar/mysql/5.5.15/bin/mysqld: Shutdown complete
    >
    >Installation of system tables failed!

Does anyone know why I might be getting this error I've tried google around but can't find anything specially on `""unknown option '--skip-bdb'""`

",mysql,homebrew,,,,,open,0,142,5,"homebrew mysql unknown option '--skip-bdb' I've just installed a fresh installation of mysql via homebrew and when I do a `'mysql_install_db --verbose --user=`whoami` --basedir=""$(brew --prefix mysql)"" --datadir=/usr/local/var/mysql --tmpdir=/tmp'` I get the following error: 

    >Installing MySQL system tables...
    >
    >111215 19:03:41 [Warning] Setting lower_case_table_names=2 because file system for /usr/local/var/mysql/ is case insensitive
    >
    >111215 19:03:41 [Note] Plugin 'InnoDB' is disabled.
    >
    >111215 19:03:41 [ERROR] /usr/local/Cellar/mysql/5.5.15/bin/mysqld: unknown option '--skip-bdb'
    >
    >111215 19:03:41 [ERROR] Aborting
    >
    >111215 19:03:41 [Note] /usr/local/Cellar/mysql/5.5.15/bin/mysqld: Shutdown complete
    >
    >Installation of system tables failed!

Does anyone know why I might be getting this error I've tried google around but can't find anything specially on `""unknown option '--skip-bdb'""`

",2
9493791,02/29/2012 05:00:37,377856,06/28/2010 08:00:21,1052,39,"INSERT INTO...SELECT, and UPDATE from SELECT","I'm using MySQL's `INSERT INTO...SELECT` structure:

    INSERT INTO some_table (col1, col2, col3)
       SELECT otbl.col4, obtl.col5, atbl.col6 FROM other_table otbl
       INNER JOIN another_table atbl
          ON atbl.id = otbl.some_id
       WHERE obtl.col7 = 0;

In the same query, I want to ""toggle on"" `col7 = 1` wherever the `SELECT` matched. Possible?",mysql,insert,,,,,open,0,77,6,"INSERT INTO...SELECT, and UPDATE from SELECT I'm using MySQL's `INSERT INTO...SELECT` structure:

    INSERT INTO some_table (col1, col2, col3)
       SELECT otbl.col4, obtl.col5, atbl.col6 FROM other_table otbl
       INNER JOIN another_table atbl
          ON atbl.id = otbl.some_id
       WHERE obtl.col7 = 0;

In the same query, I want to ""toggle on"" `col7 = 1` wherever the `SELECT` matched. Possible?",2
9880399,03/26/2012 21:51:15,612584,02/11/2011 05:58:43,1,1,Selecting items in MySQL database within a certain day,"I want to create a graph of items on a certain day using data from a MySQL database. I have the query ""SELECT * FROM activities WHERE timestamp BETWEEN UNIX_TIMESTAMP() - 24 * 3600 * 7 AND UNIX_TIMESTAMP() - 24 * 3600 * 6"" to select items from x days ago (where the 7 and 6 can vary in order to select the day), but it's returning an empty set in my database for some reason.",mysql,sql,,,,,open,0,76,9,"Selecting items in MySQL database within a certain day I want to create a graph of items on a certain day using data from a MySQL database. I have the query ""SELECT * FROM activities WHERE timestamp BETWEEN UNIX_TIMESTAMP() - 24 * 3600 * 7 AND UNIX_TIMESTAMP() - 24 * 3600 * 6"" to select items from x days ago (where the 7 and 6 can vary in order to select the day), but it's returning an empty set in my database for some reason.",2
5169060,03/02/2011 14:41:11,426123,08/20/2010 08:13:35,11,0,Problem with LEFT JOIN in MySQL,"I have 2 tables

countries
id, name

results
id, stat, type, country, value, date

stat can be any of 10 values and type 1 of 2. Country is the id of the country on the countries table.

Results for a specific date do not have all countries.

How can i create a LEFT JOIN so ALL countries are listed for EVERY stat-type combination, so if a country does not have results 0 (or NULL) will be displayed.

i tried 
SELECT * FROM dt_countries c LEFT JOIN results r ON c.id = r.country

as a test but it does not show the results i want.

thanks


",mysql,left-join,,,,,open,0,95,6,"Problem with LEFT JOIN in MySQL I have 2 tables

countries
id, name

results
id, stat, type, country, value, date

stat can be any of 10 values and type 1 of 2. Country is the id of the country on the countries table.

Results for a specific date do not have all countries.

How can i create a LEFT JOIN so ALL countries are listed for EVERY stat-type combination, so if a country does not have results 0 (or NULL) will be displayed.

i tried 
SELECT * FROM dt_countries c LEFT JOIN results r ON c.id = r.country

as a test but it does not show the results i want.

thanks


",2
3151153,06/30/2010 16:08:21,366797,01/23/2010 04:19:59,187,28,Re-Invent a better wheel or make ado with available RDBMS-based app development products?,"My first experience developing DBMS-based apps was with IMS, using COBOL calls to DLI. Later on, I worked with several other products, on a smaller scale, such as: DBASE, INFORMIX 3.3/SQL and ORACLE on DOS, UNIX-XENIX and VAX/VMS platforms. When I was a product planner for AT&T-IS Labs, I had the opportunity to eval several RDBMS-based app development products. Since those days until present, I have not come across a truly decent rapid development (RDS) product which allowed me to quickly generate a prototype and easily customize it to achieve desired functionality. Informix-SQL was one product which came close to achieving this, however some customization required lengthy and cumbersome ESQL/C or re-writing the app with I4GL. Progress RDBMS had good features, but no code generation and was not SQL compatible. I considered Oracle to be functionally rich but lacked RDS capabilites that I've been seeking. It would be great if an RDS app generation product existed which had a combination of all the best features from the currently availble products. Perhaps some day, with so many experienced app developers in this realm, we could design and produce an ideal RDBMS-based RDS!            ",mysql,database,oracle,rdbms,informix,07/02/2010 19:18:21,not a real question,1,203,13,"Re-Invent a better wheel or make ado with available RDBMS-based app development products? My first experience developing DBMS-based apps was with IMS, using COBOL calls to DLI. Later on, I worked with several other products, on a smaller scale, such as: DBASE, INFORMIX 3.3/SQL and ORACLE on DOS, UNIX-XENIX and VAX/VMS platforms. When I was a product planner for AT&T-IS Labs, I had the opportunity to eval several RDBMS-based app development products. Since those days until present, I have not come across a truly decent rapid development (RDS) product which allowed me to quickly generate a prototype and easily customize it to achieve desired functionality. Informix-SQL was one product which came close to achieving this, however some customization required lengthy and cumbersome ESQL/C or re-writing the app with I4GL. Progress RDBMS had good features, but no code generation and was not SQL compatible. I considered Oracle to be functionally rich but lacked RDS capabilites that I've been seeking. It would be great if an RDS app generation product existed which had a combination of all the best features from the currently availble products. Perhaps some day, with so many experienced app developers in this realm, we could design and produce an ideal RDBMS-based RDS!            ",5
11092915,06/19/2012 00:32:41,254592,01/20/2010 04:28:49,94,5,"SQL wildcard Oddities, need stricter results","    SELECT *
    FROM list
    WHERE list_item LIKE ""%_1375_%""

returns results it should not. For example a result with _13753_ in the list_item instead of _1375_, even though the 3 comes before the underscore.

     _13753_  and _1375_ are written above and not suppose to be italic.

Is there anyway to fix that?",mysql,wildcard,,,,,open,0,64,6,"SQL wildcard Oddities, need stricter results     SELECT *
    FROM list
    WHERE list_item LIKE ""%_1375_%""

returns results it should not. For example a result with _13753_ in the list_item instead of _1375_, even though the 3 comes before the underscore.

     _13753_  and _1375_ are written above and not suppose to be italic.

Is there anyway to fix that?",2
4037522,10/27/2010 20:40:22,310525,04/07/2010 01:05:46,189,0,SQL query LEFT JOIN issue (MySQL),"I have 2 tables - SCHOOLS (ID, SCHOOL_NAME, CITY_ID) and STUDENTS (ID, STUDENT_NAME, SCHOOL_ID). I want to list schools in a particular city along with the student count (School Name| Student Count)

One way to do this is to have co-related subquery -

    select sh.school_name, (select count(*) from student where school_id = sh.id) as student_count from schools sh where city_id=1


But since co-related queries are not recommended, I want to avoid that & I tried a group by -

    select sh.school_name, count(st.school_id) as student_count from schools sh left join students st on sh.id=st.school_id where sh.city_id=1 group by st.school_id

Now this works only if the student count for a school is > 0. So i m guessing the left join concept is not working, meaning if any schools that has no students should be listed as student_count=0, but that is not happening. The interesting thing is - i do see ""one"" record with student_count = 0, but thats about it.

Anything wrong in my LEFT JOIN query??


",mysql,mysql-query,sql-join,,,,open,0,168,6,"SQL query LEFT JOIN issue (MySQL) I have 2 tables - SCHOOLS (ID, SCHOOL_NAME, CITY_ID) and STUDENTS (ID, STUDENT_NAME, SCHOOL_ID). I want to list schools in a particular city along with the student count (School Name| Student Count)

One way to do this is to have co-related subquery -

    select sh.school_name, (select count(*) from student where school_id = sh.id) as student_count from schools sh where city_id=1


But since co-related queries are not recommended, I want to avoid that & I tried a group by -

    select sh.school_name, count(st.school_id) as student_count from schools sh left join students st on sh.id=st.school_id where sh.city_id=1 group by st.school_id

Now this works only if the student count for a school is > 0. So i m guessing the left join concept is not working, meaning if any schools that has no students should be listed as student_count=0, but that is not happening. The interesting thing is - i do see ""one"" record with student_count = 0, but thats about it.

Anything wrong in my LEFT JOIN query??


",3
8456776,12/10/2011 13:22:03,1041223,11/11/2011 07:12:07,19,0,PProblems of handling XML datatypes wid MYSQL,IS there any way to include XML datatype in MYSQl 5.1 or we have a newer version with XML datatype given?? like DB2 and MSSQL having XML datatype..,mysql,db2,,,,,open,0,28,7,PProblems of handling XML datatypes wid MYSQL IS there any way to include XML datatype in MYSQl 5.1 or we have a newer version with XML datatype given?? like DB2 and MSSQL having XML datatype..,2
8077978,11/10/2011 10:19:31,726783,04/27/2011 08:08:43,157,15,MySQL queries extremely slow in fresh XAMPP installation,"I just reinstalled Windows 7 and I am trying to get my development environment up and running again.  XAMPP installed ok, and my application is in htdocs and all databases have imported fine.  I can view them in phpMyAdmin and everything looks intact.

When trying to run the application, queries are so slow that most pages timeout before all the queries can complete.

For example, pages this computer could generate in 3 seconds before, now go up to 30 seconds and the page times out.

This is an XAMPP installation 1.7.7, but I have tried rolling back to their older versions and got the same result.

There is nothing in the log files, as it's not actually erroring out, it's just performing the queries very slowly.

Even navigating the databases via phpMyAdmin takes about 3-10 seconds to load pages whereas it has previously been instant.  So this eliminates my application (which also hasn't changed since when it was working very quickly before).

Any ideas what could be causing this big slowdown in a fresh xampp install?  Was there something in httpd.conf, php.ini or my.ini I might have setup prevously that got wiped by the fresh install and might now cause the database access to be slow?

Thanks!",mysql,xampp,,,,11/11/2011 01:29:19,off topic,1,204,8,"MySQL queries extremely slow in fresh XAMPP installation I just reinstalled Windows 7 and I am trying to get my development environment up and running again.  XAMPP installed ok, and my application is in htdocs and all databases have imported fine.  I can view them in phpMyAdmin and everything looks intact.

When trying to run the application, queries are so slow that most pages timeout before all the queries can complete.

For example, pages this computer could generate in 3 seconds before, now go up to 30 seconds and the page times out.

This is an XAMPP installation 1.7.7, but I have tried rolling back to their older versions and got the same result.

There is nothing in the log files, as it's not actually erroring out, it's just performing the queries very slowly.

Even navigating the databases via phpMyAdmin takes about 3-10 seconds to load pages whereas it has previously been instant.  So this eliminates my application (which also hasn't changed since when it was working very quickly before).

Any ideas what could be causing this big slowdown in a fresh xampp install?  Was there something in httpd.conf, php.ini or my.ini I might have setup prevously that got wiped by the fresh install and might now cause the database access to be slow?

Thanks!",2
8635367,12/26/2011 11:38:17,969528,09/28/2011 16:34:28,242,2,MySQL charset for users table,"I'm building a user table in MySQL using utf8_general_ci as the charset.

1-)using this charset two users named one Bob and another bob will look the same one right? i don't know it this may cause some problems or if it's better to avoid username to be egual but  one uppercase and the other one lowercase

2-) in many sites i've noticed they accept only username with letters form a to z and they don't accept Chinese, Cyrillic or others type of letters. There is a reason for that? my app will be open for users from the whole world althought it ma be translated only in some languages",mysql,charset-table,,,,,open,0,108,5,"MySQL charset for users table I'm building a user table in MySQL using utf8_general_ci as the charset.

1-)using this charset two users named one Bob and another bob will look the same one right? i don't know it this may cause some problems or if it's better to avoid username to be egual but  one uppercase and the other one lowercase

2-) in many sites i've noticed they accept only username with letters form a to z and they don't accept Chinese, Cyrillic or others type of letters. There is a reason for that? my app will be open for users from the whole world althought it ma be translated only in some languages",2
8464415,12/11/2011 13:48:13,1006225,10/20/2011 23:42:25,411,13,SQL is independent table allowed in a database structure?,"Ok so till today I had the impression that it is okay to have an independent table in my data structure and I had a table that keeps track of failed logins coming from IPs (so I would keep track of the IPs of attempted logins and then block them if they have more than `n` attemps)

But today I was told by my professor that it is not possible/right to have this table as an independent table and it has to have a relationship with other tables otherwise its wrong.

Now I cant help but this that the table is independent simply because the purpose of it isnt to have a relationship with other entries/tables. 

am I right or wrong? and please explain.",mysql,sql,database,,,,open,0,122,9,"SQL is independent table allowed in a database structure? Ok so till today I had the impression that it is okay to have an independent table in my data structure and I had a table that keeps track of failed logins coming from IPs (so I would keep track of the IPs of attempted logins and then block them if they have more than `n` attemps)

But today I was told by my professor that it is not possible/right to have this table as an independent table and it has to have a relationship with other tables otherwise its wrong.

Now I cant help but this that the table is independent simply because the purpose of it isnt to have a relationship with other entries/tables. 

am I right or wrong? and please explain.",3
11370331,07/06/2012 22:12:57,256604,01/21/2010 20:04:59,31,2,Best schema design pattern to store user searches,"What is the optimal way for storing user generated search quires, for (near) Real Time retrieval, when an item is added/modified that matches the user search parameters.

In our case we have a large product database, that will allow users to save searches, and get them as push messages for mobile, email, rss, sms, etc. The problem currently is that as the number of saved searches and products goes up, there is a bigger and bigger time gap between the sending of the first and last push message.
We currently have our data stored in a mysql and de-normalized in SOLR for fast searching, upon save an event is triggered that start an async process of finding the users who needs get notified about the new/changed product(s).

Of course the application also has to take into account that the item(product) should not be visible untill all users are notified, so that all potential customers will get access to the same item at the same time.

Any ideas or proposals ?",mysql,database,search,solr,real-time,07/07/2012 22:22:44,not constructive,1,166,8,"Best schema design pattern to store user searches What is the optimal way for storing user generated search quires, for (near) Real Time retrieval, when an item is added/modified that matches the user search parameters.

In our case we have a large product database, that will allow users to save searches, and get them as push messages for mobile, email, rss, sms, etc. The problem currently is that as the number of saved searches and products goes up, there is a bigger and bigger time gap between the sending of the first and last push message.
We currently have our data stored in a mysql and de-normalized in SOLR for fast searching, upon save an event is triggered that start an async process of finding the users who needs get notified about the new/changed product(s).

Of course the application also has to take into account that the item(product) should not be visible untill all users are notified, so that all potential customers will get access to the same item at the same time.

Any ideas or proposals ?",5
9299127,02/15/2012 18:29:58,1154910,01/17/2012 21:20:16,52,0,MySQL vs DB2 RDBMS,"Is there s significant difference between the two? MySQL is used by YouTube, Google and Facebook while DB2 has the highest benchmark scores. Are there areas or cases where using a specific one would matter? Like size wise it is said that DB2 is really good on very small and very large databases (not sure why). 

Any feedback or suggestions?

P.S. I'm more looking for functionality and capability differences.",mysql,database,db2,,,02/16/2012 19:24:42,not constructive,1,68,4,"MySQL vs DB2 RDBMS Is there s significant difference between the two? MySQL is used by YouTube, Google and Facebook while DB2 has the highest benchmark scores. Are there areas or cases where using a specific one would matter? Like size wise it is said that DB2 is really good on very small and very large databases (not sure why). 

Any feedback or suggestions?

P.S. I'm more looking for functionality and capability differences.",3
6047070,05/18/2011 15:16:56,628831,02/22/2011 18:01:48,78,6,Fulltext exact phrase matching,"I started with: -

    SELECT id FROM people WHERE name = 'john roger';

Which was too slow. So put a fulltext index on and now have: -

    SELECT id FROM people WHERE MATCH (name) AGAINST('""john roger""' IN BOOLEAN MODE) LIMIT 1;

But that matches.

'john roger stevens'

Is it possible to get a fulltext exact phrase match?
",mysql,,,,,,open,0,59,4,"Fulltext exact phrase matching I started with: -

    SELECT id FROM people WHERE name = 'john roger';

Which was too slow. So put a fulltext index on and now have: -

    SELECT id FROM people WHERE MATCH (name) AGAINST('""john roger""' IN BOOLEAN MODE) LIMIT 1;

But that matches.

'john roger stevens'

Is it possible to get a fulltext exact phrase match?
",1
4880035,02/02/2011 21:24:38,429909,08/24/2010 18:34:39,149,4,Alter MSSQL Column in PDO,"I am trying to make an existing ID column in a MSSQL database AUTO_INCREMENT. I do not have access to the GUI.

I am trying this query.

    $stmt = $this->conn()->prepare('ALTER TABLE myTable ALTER COLUMN ID int NOT NULL auto_increment');
    if($stmt->execute()){

    }else{
        echo ""<pre>"";
        print_r($stmt->errorInfo());
        echo ""</pre>"";
    }

This gives the following error     `[2] => Incorrect syntax near 'auto_increment'. [20018] (severity 5) [(null)]`

Thanks for the help.
",mysql,sql-server,pdo,,,,open,0,100,5,"Alter MSSQL Column in PDO I am trying to make an existing ID column in a MSSQL database AUTO_INCREMENT. I do not have access to the GUI.

I am trying this query.

    $stmt = $this->conn()->prepare('ALTER TABLE myTable ALTER COLUMN ID int NOT NULL auto_increment');
    if($stmt->execute()){

    }else{
        echo ""<pre>"";
        print_r($stmt->errorInfo());
        echo ""</pre>"";
    }

This gives the following error     `[2] => Incorrect syntax near 'auto_increment'. [20018] (severity 5) [(null)]`

Thanks for the help.
",3
10278218,04/23/2012 09:48:29,654789,03/11/2011 05:30:56,1698,64,Creating a new table from two or more existing tables (MySQL),"<h1>Question:</h1>
Is it possible to create a table in mySQL from two or more existing tables?

<h1>Details:</h1>
Can I create a table like so:


    CREATE TABLE IF NOT EXISTS USERNAME ( AGE INT NOT NULL )
    CREATE TABLE IF NOT EXISTS USERAGE ( NAME VARCHAR(100) NOT NULL )
    CREATE TABLE IF NOT EXISTS USER LIKE USERNAME LIKE USERAGE;

I can't make heads or tails of [Reference Manual](http://dev.mysql.com/doc/refman/5.0/en/create-table.html):

    CREATE [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name
    { LIKE old_tbl_name | (LIKE old_tbl_name) }

Does the trailing `(LIKE old_tbl_name)` mean 1 or more occurrences of  `LIKE old_tbl_name`?

If it is possible, then what happens to same name columns, or two primary ids?",mysql,,,,,,open,0,119,11,"Creating a new table from two or more existing tables (MySQL) <h1>Question:</h1>
Is it possible to create a table in mySQL from two or more existing tables?

<h1>Details:</h1>
Can I create a table like so:


    CREATE TABLE IF NOT EXISTS USERNAME ( AGE INT NOT NULL )
    CREATE TABLE IF NOT EXISTS USERAGE ( NAME VARCHAR(100) NOT NULL )
    CREATE TABLE IF NOT EXISTS USER LIKE USERNAME LIKE USERAGE;

I can't make heads or tails of [Reference Manual](http://dev.mysql.com/doc/refman/5.0/en/create-table.html):

    CREATE [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name
    { LIKE old_tbl_name | (LIKE old_tbl_name) }

Does the trailing `(LIKE old_tbl_name)` mean 1 or more occurrences of  `LIKE old_tbl_name`?

If it is possible, then what happens to same name columns, or two primary ids?",1
11032315,06/14/2012 11:41:18,1456068,06/14/2012 11:22:34,1,0,MySQL JDBC returning 0 results,"It seems a very basic question but I couldn't find any resolution for it.
I have following code with me:

    package com.test.db.util;

    import java.sql.Connection;
    import java.sql.DriverManager;
    import java.sql.PreparedStatement;
    import java.sql.ResultSet;
    import java.sql.SQLException;
    import java.sql.Statement;

    public class JDBCConnect
    {
	private Connection conn = null;
	private final String uname = ""root"";
	private final String passwd = ""test@123"";
	private String url = ""jdbc:mysql://127.0.0.1:3306/TrainDB"";
	private final String className = ""com.mysql.jdbc.Driver"";
	
	public void initConnection()
	{
		try
		{
			if(this.conn == null || this.conn.isClosed())
			{
				try
				{
					Class.forName (className).newInstance ();
					this.conn = DriverManager.getConnection(url, uname, passwd);
					System.out.println(""database connection established."");
				}
				catch(SQLException sqe)
				{
					sqe.printStackTrace();
				}
				catch (InstantiationException e) 
				{
					e.printStackTrace();
				} 
				catch (IllegalAccessException e) 
				{
					e.printStackTrace();
				} 
				catch (ClassNotFoundException e) 
				{
					e.printStackTrace();
				}
					
			}
		}
		catch(SQLException sqle)
		{
			sqle.printStackTrace();
		}
		//return this.conn;
	}
	
	public void disconnect()
	{
		if (conn != null)
            {
                try
                {
                    conn.close ();
                    System.out.println (""Database connection terminated"");
                }
                catch (Exception e) { /* ignore close errors */ }
            }

	}
	
	public void insertData(String sql)
	{
		PreparedStatement s;
		try
		{
			
			if(conn == null || conn.isClosed())
			{
				initConnection();
			}
			s = conn.prepareStatement(sql);
			int count = s.executeUpdate ();
			s.close ();
			System.out.println (count + "" rows were inserted"");
		} 
		catch (SQLException e) 
		{
			e.printStackTrace();
			if (conn != null)
            {
                try
                {
                    conn.close ();
                    System.out.println (""Database connection terminated"");
                }
                catch (Exception se) { /* ignore close errors */ }
            }
		}
		
	}
	
	public ResultSet query(String sql)
	{
		Statement s = null;
		try
		{
			if(this.conn == null || this.conn.isClosed())
			{
				initConnection();
			}
			
                        s = conn.createStatement();
			s.executeQuery(sql);
    //ResultSet rs = s.executeQuery(sql);
			ResultSet rs = s.getResultSet();
			System.out.println(""lets see "" + rs.getFetchSize());
			return rs;
		}
		catch(SQLException sq)
		{
			System.out.println(""Error in query"");
			return null;
		}
		finally
		{
			try {
				s.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
		}
	}
}

I am using JDBCConnect in a different class:




    public class traininfo
    {


	public static void main(String[] args)
	{
		JDBCConnect jdbcConn = new JDBCConnect();


		
		sql = ""SELECT id FROM testtable"";
		ResultSet rs = jdbcConn.query(sql);
		try {
			System.out.println(rs.getFetchSize());
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		if(rs != null)
		{
			try
			{
				while(rs.next())
				{
					System.out.println(rs.getString(""id""));
				}
				rs.close();
			}
			catch(SQLException sqe)
			{

			}
		}
		jdbcConn.disconnect();
	}
}


I am not using concurrent calls for insertion and reads. If I use the same query in mysql-workbench (client), I am getting proper results but using the mentioned code, I am getting

    database connection established.
    lets see 0
    0
    Database connection terminated
    
Please suggest me what I am missing?",mysql,jdbc,,,,,open,0,602,5,"MySQL JDBC returning 0 results It seems a very basic question but I couldn't find any resolution for it.
I have following code with me:

    package com.test.db.util;

    import java.sql.Connection;
    import java.sql.DriverManager;
    import java.sql.PreparedStatement;
    import java.sql.ResultSet;
    import java.sql.SQLException;
    import java.sql.Statement;

    public class JDBCConnect
    {
	private Connection conn = null;
	private final String uname = ""root"";
	private final String passwd = ""test@123"";
	private String url = ""jdbc:mysql://127.0.0.1:3306/TrainDB"";
	private final String className = ""com.mysql.jdbc.Driver"";
	
	public void initConnection()
	{
		try
		{
			if(this.conn == null || this.conn.isClosed())
			{
				try
				{
					Class.forName (className).newInstance ();
					this.conn = DriverManager.getConnection(url, uname, passwd);
					System.out.println(""database connection established."");
				}
				catch(SQLException sqe)
				{
					sqe.printStackTrace();
				}
				catch (InstantiationException e) 
				{
					e.printStackTrace();
				} 
				catch (IllegalAccessException e) 
				{
					e.printStackTrace();
				} 
				catch (ClassNotFoundException e) 
				{
					e.printStackTrace();
				}
					
			}
		}
		catch(SQLException sqle)
		{
			sqle.printStackTrace();
		}
		//return this.conn;
	}
	
	public void disconnect()
	{
		if (conn != null)
            {
                try
                {
                    conn.close ();
                    System.out.println (""Database connection terminated"");
                }
                catch (Exception e) { /* ignore close errors */ }
            }

	}
	
	public void insertData(String sql)
	{
		PreparedStatement s;
		try
		{
			
			if(conn == null || conn.isClosed())
			{
				initConnection();
			}
			s = conn.prepareStatement(sql);
			int count = s.executeUpdate ();
			s.close ();
			System.out.println (count + "" rows were inserted"");
		} 
		catch (SQLException e) 
		{
			e.printStackTrace();
			if (conn != null)
            {
                try
                {
                    conn.close ();
                    System.out.println (""Database connection terminated"");
                }
                catch (Exception se) { /* ignore close errors */ }
            }
		}
		
	}
	
	public ResultSet query(String sql)
	{
		Statement s = null;
		try
		{
			if(this.conn == null || this.conn.isClosed())
			{
				initConnection();
			}
			
                        s = conn.createStatement();
			s.executeQuery(sql);
    //ResultSet rs = s.executeQuery(sql);
			ResultSet rs = s.getResultSet();
			System.out.println(""lets see "" + rs.getFetchSize());
			return rs;
		}
		catch(SQLException sq)
		{
			System.out.println(""Error in query"");
			return null;
		}
		finally
		{
			try {
				s.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
		}
	}
}

I am using JDBCConnect in a different class:




    public class traininfo
    {


	public static void main(String[] args)
	{
		JDBCConnect jdbcConn = new JDBCConnect();


		
		sql = ""SELECT id FROM testtable"";
		ResultSet rs = jdbcConn.query(sql);
		try {
			System.out.println(rs.getFetchSize());
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		if(rs != null)
		{
			try
			{
				while(rs.next())
				{
					System.out.println(rs.getString(""id""));
				}
				rs.close();
			}
			catch(SQLException sqe)
			{

			}
		}
		jdbcConn.disconnect();
	}
}


I am not using concurrent calls for insertion and reads. If I use the same query in mysql-workbench (client), I am getting proper results but using the mentioned code, I am getting

    database connection established.
    lets see 0
    0
    Database connection terminated
    
Please suggest me what I am missing?",2
9194429,02/08/2012 13:40:37,533913,12/07/2010 16:06:25,141,1,updating the primary key and foreign key in multiple tables,"I need to update the primary ID value of a record in table_1 and at the same time update the foreign keys referencing that ID value. In the sql below, i have included ALL the tables referencing table_1, however not all of these tables are referencing that particular record.
I am using the sql below:

    UPDATE table_1 T1, 
    table_2 T2, 
    table_3 T3, 
    table_4 T4,
    table_5 T5, 
    table_6 T6,
    table_7 T7
    SET T1.EMI_ID = 15678, 
        T2.AKN_EMI_FK = 15678, 
    	T3.EXP_EMI_FK = 15678,
        T4.HDR_EMI_FK = 15678, 
    	T5.LSU_EMI_FK = 15678,
        T6.MUT_EMI_FK = 15678, 
    	T7.IMG_EMI_FK = 15678
    WHERE T1.EMI_ID = 77777718765 AND 
    T2.AKN_EMI_FK = T1.EMI_ID AND 
    T3.EXP_EMI_FK = T1.EMI_ID AND 
    T4.HDR_EMI_FK = T1.EMI_ID AND 
    T5.LSU_EMI_FK = T1.EMI_ID AND 
    T6.MUT_EMI_FK = T1.EMI_ID AND 
    T7.IMG_EMI_FK = T1.EMI_ID; 


It does not seem to be working and i believe that could be because in some tables that record id does not exist as foreign key.

Is there a better way of doing this?
",mysql,,,,,,open,0,241,10,"updating the primary key and foreign key in multiple tables I need to update the primary ID value of a record in table_1 and at the same time update the foreign keys referencing that ID value. In the sql below, i have included ALL the tables referencing table_1, however not all of these tables are referencing that particular record.
I am using the sql below:

    UPDATE table_1 T1, 
    table_2 T2, 
    table_3 T3, 
    table_4 T4,
    table_5 T5, 
    table_6 T6,
    table_7 T7
    SET T1.EMI_ID = 15678, 
        T2.AKN_EMI_FK = 15678, 
    	T3.EXP_EMI_FK = 15678,
        T4.HDR_EMI_FK = 15678, 
    	T5.LSU_EMI_FK = 15678,
        T6.MUT_EMI_FK = 15678, 
    	T7.IMG_EMI_FK = 15678
    WHERE T1.EMI_ID = 77777718765 AND 
    T2.AKN_EMI_FK = T1.EMI_ID AND 
    T3.EXP_EMI_FK = T1.EMI_ID AND 
    T4.HDR_EMI_FK = T1.EMI_ID AND 
    T5.LSU_EMI_FK = T1.EMI_ID AND 
    T6.MUT_EMI_FK = T1.EMI_ID AND 
    T7.IMG_EMI_FK = T1.EMI_ID; 


It does not seem to be working and i believe that could be because in some tables that record id does not exist as foreign key.

Is there a better way of doing this?
",1
2463602,03/17/2010 15:35:42,295604,03/17/2010 11:18:43,21,1,MySQL load data infile - acceleration?,"sometimes, I have to re-import data for a project, thus reading about 3.6 million rows into a MySQL table (currently InnoDB, but I am actually not really limited to this engine). ""Load data infile..."" has proved to be the fastest solution, however it has a tradeoff:
- when importing without keys, the import itself takes about 45 seconds, but the key creation takes ages (already running for 20 minutes...). 
- doing import with keys on the table makes the import much slower

There are keys over 3 fields of the table, referencing numeric fields.
Is there any way to accelerate this?

Another issue is: when I terminate the process which has started a slow query, it continues running on the database. Is there any way to terminate the query without restarting mysqld?

Thanks a lot
DBa",mysql,index,performance,load-data-infile,,,open,0,130,6,"MySQL load data infile - acceleration? sometimes, I have to re-import data for a project, thus reading about 3.6 million rows into a MySQL table (currently InnoDB, but I am actually not really limited to this engine). ""Load data infile..."" has proved to be the fastest solution, however it has a tradeoff:
- when importing without keys, the import itself takes about 45 seconds, but the key creation takes ages (already running for 20 minutes...). 
- doing import with keys on the table makes the import much slower

There are keys over 3 fields of the table, referencing numeric fields.
Is there any way to accelerate this?

Another issue is: when I terminate the process which has started a slow query, it continues running on the database. Is there any way to terminate the query without restarting mysqld?

Thanks a lot
DBa",4
6752776,07/19/2011 19:14:28,159388,08/19/2009 15:40:01,1273,72,Select parent row only if it has no children,"I have a MySQL database in which table A has a one-to-many relation to table B, and I would like to select all rows in table B that have no children in table A. I have tried using 

    SELECT id FROM A WHERE NOT EXISTS (SELECT * FROM B WHERE B.id=A.id)
and

    SELECT id FROM A LEFT JOIN B ON A.id=B.id WHERE B.id IS NULL

Both of these seem slow. Is there a faster query to achieve the same thing?

In case this is relevant, in my database table A has about 500,000 rows and table B has about 3 to 4 million rows. ",mysql,sql,,,,,open,0,109,9,"Select parent row only if it has no children I have a MySQL database in which table A has a one-to-many relation to table B, and I would like to select all rows in table B that have no children in table A. I have tried using 

    SELECT id FROM A WHERE NOT EXISTS (SELECT * FROM B WHERE B.id=A.id)
and

    SELECT id FROM A LEFT JOIN B ON A.id=B.id WHERE B.id IS NULL

Both of these seem slow. Is there a faster query to achieve the same thing?

In case this is relevant, in my database table A has about 500,000 rows and table B has about 3 to 4 million rows. ",2
8187020,11/18/2011 18:14:05,1054322,11/18/2011 17:39:25,1,0,MySql: How can i select a column by name if a subquery first selects it with min() or max()?,"

    select position from 
        (select prefix, min(position) 
        from Chart_Position 
        group by chartnum) as Foo;

gives:

> ERROR 1054 (42S22): Unknown column 'position' in 'field list'

when `I select * from ...` The following columns are shown:

    +----------+---------------+ 
    | prefix   | min(position) |
    +----------+---------------+ 
    | 1964_232 |            87 | [rows truncated]

I'm trying to select the column titled above ""min(position)"" but I can't figure out how to reference it.  It seems like the min() is causing my trouble.

Thank you for taking a look!

**EDIT: FOUND IT!** I needed to alias the result of min(position) in the subquery.  Like so:

    select position from 
        (select prefix, min(position) as position
        from Chart_Position 
        group by chartnum) as Foo;

",mysql,sql,select,name,min,11/19/2011 00:02:11,too localized,1,190,19,"MySql: How can i select a column by name if a subquery first selects it with min() or max()? 

    select position from 
        (select prefix, min(position) 
        from Chart_Position 
        group by chartnum) as Foo;

gives:

> ERROR 1054 (42S22): Unknown column 'position' in 'field list'

when `I select * from ...` The following columns are shown:

    +----------+---------------+ 
    | prefix   | min(position) |
    +----------+---------------+ 
    | 1964_232 |            87 | [rows truncated]

I'm trying to select the column titled above ""min(position)"" but I can't figure out how to reference it.  It seems like the min() is causing my trouble.

Thank you for taking a look!

**EDIT: FOUND IT!** I needed to alias the result of min(position) in the subquery.  Like so:

    select position from 
        (select prefix, min(position) as position
        from Chart_Position 
        group by chartnum) as Foo;

",5
10481961,05/07/2012 12:19:12,1339632,04/17/2012 19:39:48,1,0,Django setting.py error,"I have the following code with the following settings. But I always get an error in my settings ... 
MySQL version is 5 and Django the last version.
Python 3.7


    #!/usr/bin/env python
    import os
    import sys
    sys.path.append(""/home/test"")
    
    
    if __name__ == ""__main__"":
    	 os.environ.setdefault(""DJANGO_SETTINGS_MODULE"", ""standAlone.myScript"")
    	 from django.core.management import execute_from_command_line
    	 execute_from_command_line(sys.argv)

This is my myScript:

    # settings.py
    from django.conf import settings
    
    
    #settings.configure(
        DATABASE_ENGINE    = "" "",
        DATABASE_NAME      = "" "",
        DATABASE_USER      = "" "",
        DATABASE_PASSWORD  = "" "",
        DATABASE_HOST      = "" "",
        DATABASE_PORT      = "" "",
       # INSTALLED_APPS     = (""myApp"")
    )
    
    from django.db import models
    from myApp.models import *

And this is my settings.py:

    DATABASE_ENGINE    = 'django.db.backends.mysql'
    DATABASE_NAME      = 'DATABASE_NAME'
    DATABASE_USER      = '****'
    DATABASE_PASSWORD  = '****'
    DATABASE_HOST      = '127.0.0.1'
    DATABASE_PORT      = '3306'

I have the following error:

    Traceback (most recent call last):
      File ""manage.py"", line 10, in <module>
        execute_from_command_line(sys.argv)
      File ""/home/test/django/core/management/__init__.py"", line 443, in execute_from_command_line
        utility.execute()
      File ""/home/test/django/core/management/__init__.py"", line 382, in execute
        self.fetch_command(subcommand).run_from_argv(self.argv)
      File ""/home/test/django/core/management/__init__.py"", line 252, in fetch_command
        app_name = get_commands()[subcommand]
      File ""/home/test/django/core/management/__init__.py"", line 101, in get_commands
        apps = settings.INSTALLED_APPS
      File ""/home/test/django/utils/functional.py"", line 184, in inner
        self._setup()
      File ""/home/test/django/conf/__init__.py"", line 42, in _setup
        self._wrapped = Settings(settings_module)
      File ""/home/test/django/conf/__init__.py"", line 93, in __init__
        mod = importlib.import_module(self.SETTINGS_MODULE)
      File ""/home/test/django/utils/importlib.py"", line 35, in import_module
        __import__(name)
      File ""/home/test/standAlone/myScript.py"", line 6
        DATABASE_ENGINE    = ""django.db.backends.mysql"",
        ^

",mysql,django,orm,,,,open,0,520,3,"Django setting.py error I have the following code with the following settings. But I always get an error in my settings ... 
MySQL version is 5 and Django the last version.
Python 3.7


    #!/usr/bin/env python
    import os
    import sys
    sys.path.append(""/home/test"")
    
    
    if __name__ == ""__main__"":
    	 os.environ.setdefault(""DJANGO_SETTINGS_MODULE"", ""standAlone.myScript"")
    	 from django.core.management import execute_from_command_line
    	 execute_from_command_line(sys.argv)

This is my myScript:

    # settings.py
    from django.conf import settings
    
    
    #settings.configure(
        DATABASE_ENGINE    = "" "",
        DATABASE_NAME      = "" "",
        DATABASE_USER      = "" "",
        DATABASE_PASSWORD  = "" "",
        DATABASE_HOST      = "" "",
        DATABASE_PORT      = "" "",
       # INSTALLED_APPS     = (""myApp"")
    )
    
    from django.db import models
    from myApp.models import *

And this is my settings.py:

    DATABASE_ENGINE    = 'django.db.backends.mysql'
    DATABASE_NAME      = 'DATABASE_NAME'
    DATABASE_USER      = '****'
    DATABASE_PASSWORD  = '****'
    DATABASE_HOST      = '127.0.0.1'
    DATABASE_PORT      = '3306'

I have the following error:

    Traceback (most recent call last):
      File ""manage.py"", line 10, in <module>
        execute_from_command_line(sys.argv)
      File ""/home/test/django/core/management/__init__.py"", line 443, in execute_from_command_line
        utility.execute()
      File ""/home/test/django/core/management/__init__.py"", line 382, in execute
        self.fetch_command(subcommand).run_from_argv(self.argv)
      File ""/home/test/django/core/management/__init__.py"", line 252, in fetch_command
        app_name = get_commands()[subcommand]
      File ""/home/test/django/core/management/__init__.py"", line 101, in get_commands
        apps = settings.INSTALLED_APPS
      File ""/home/test/django/utils/functional.py"", line 184, in inner
        self._setup()
      File ""/home/test/django/conf/__init__.py"", line 42, in _setup
        self._wrapped = Settings(settings_module)
      File ""/home/test/django/conf/__init__.py"", line 93, in __init__
        mod = importlib.import_module(self.SETTINGS_MODULE)
      File ""/home/test/django/utils/importlib.py"", line 35, in import_module
        __import__(name)
      File ""/home/test/standAlone/myScript.py"", line 6
        DATABASE_ENGINE    = ""django.db.backends.mysql"",
        ^

",3
8787039,01/09/2012 10:32:53,956686,09/21/2011 10:25:10,65,6,what is gone wrong in this procedure ?,"I want to give if condition in my procedure but creating problem please help me out .

   

     DELIMITER $$
    
    DROP PROCEDURE IF EXISTS `fill_plan_data`$$
    CREATE PROCEDURE `fill_plan_data`(IN statecode VARCHAR(2), carrier_name VARCHAR(50))
        BEGIN
    	DECLARE countMedicaid int default 0;
    	insert into carrier (`name`,`state_code`,`active`,`carrier_id`) select CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2))), upper(statecode), '1', upper(concat_ws('-',carrier_name,statecode)) from (select distinct `state_code` from zip_codes)t where state_code = upper(statecode);
    	select count(*) into countMedicaid from plan_details p , carrier c where c.name = carrier_name and c.state_code = statecode and c.id = p.carrier_id and p.programType = 'medicaid';
    	if countMedicaid == 0 then
    		//then do some insert query 
    	end if
    	
    	insert into plan_details (`name`,`plan_type`,`carrier_id`,benefits,active,active_from,active_to,created_by,created_date,updated_by,updated_date,plan_id,market_code,family_code,available_for,level_of_coverage,customer_rating,quality_rating,`type`) select concat(`name`,' Simple 2'), '0', id,'<?xml version=\""1.0\"" encoding=\""UTF-8\""?><planBenefits lifeTimeMaximum_outnw=\""0.0\"" lifeTimeMaximum_innw=\""0.0\"" mailOrderDaysSupply_innw=\""90.0\"" mailOrderDaysSupply_outnw=\""0.0\""><pcpRequired_innw value=\""true\""/><pcpRequired_outnw/><srRequired_innw value=\""true\""/><srRequired_outnw/><hsaEligible_innw value=\""true\""/><hsaEligible_outnw/><outOfNetworkCoverage_innw value=\""false\""/><outOfCountryCoverage_innw/><outOfCountryCoverage_outnw/><adminFees_innw payableWhen=\""ONE_TIME\"" amount=\""50.0\""/><adminFees_outnw payableWhen=\""NONE\"" amount=\""0.0\""/><deductible_innw applicable=\""true\"" individual_amt=\""1000.0\"" family_amt=\""2000.0\"" displayString=\""\""/><deductible_outnw applicable=\""true\"" individual_amt=\""10000.0\"" family_amt=\""20000.0\""/><coinsurance_innw applicable=\""true\"" amount=\""40.0\"" beforeDeductible=\""true\""/><coinsurance_outnw applicable=\""true\"" amount=\""50.0\"" beforeDeductible=\""true\""/><outOfPocketLimit_innw applicable=\""true\"" individual_amt=\""2000\"" family_amt=\""4000\""   /><outOfPocketLimit_outnw applicable=\""true\"" individual_amt=\""12500.0\"" family_amt=\""25000.0\""/><primaryDoctor_innw covered=\""true\"" copay=\""20.0\""/><primaryDoctor_outnw covered=\""true\""/><specialist_innw covered=\""true\"" copay=\""20.0\""/><specialist_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><periodicHealthExam_innw covered=\""false\"" copay=\""0.0\""/><periodicHealthExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><periodicObGynExam_innw covered=\""false\"" copay=\""0.0\""/><periodicObGynExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><wellBabyCare_innw covered=\""false\"" copay=\""0.0\""/><wellBabyCare_outnw covered=\""true\"" copay=\""50.0\""/><chiropractic_innw covered=\""true\"" coinsuranceAfterDeductible=\""40.0\"" displayString=\""Max 5 outpatient visits per benefit year\""/><chiropractic_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><mentalHealth_innw covered=\""false\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""Limited to Biologically Based Mental Illness/Copayment or coinsurance/Deductible is depending on place of service.\""/><mentalHealth_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""0.0\""/><genericPrescriptionDrugs_innw covered=\""true\"" copay=\""15.0\"" displayString=\""\""/><genericPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><brandedPrescriptionDrugs_innw covered=\""true\"" copay=\""30.0\"" displayString=\""\""/><brandedPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryPrescriptionDrugs_innw covered=\""true\"" copay=\""50.0\"" displayString=\""\""/><nonFormulatoryPrescriptionDrugs_outnw covered=\""true\"" copay=\""50.0\""/><annualPrescriptionDrugs_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\""/><anuualPrescriptionDrugs_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><genericMailOrder_innw covered=\""true\"" copay=\""30.0\"" displayString=\""\""/><genericMailOrder_outnw covered=\""true\"" copay=\""80.0\"" displayString=\""or 50%, whichever is greater \""/><brandedMailOrder_innw covered=\""true\"" copay=\""60.0\"" displayString=\""\""/><brandedMailOrder_outnw covered=\""true\"" copay=\""500.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryMailOrder_innw covered=\""true\"" copay=\""150.0\"" displayString=\""\""/><nonFormulatoryMailOrder_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""80.0\""/><annualMailOrder_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\"" displayString=\""None\""/><annualMailOrder_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><labsAndXRays_innw covered=\""true\"" copay=\""0.0\"" displayString=\""Copay after deductible\""/><labsAndXRays_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><emergencyRoom_innw covered=\""true\"" copay=\""100.0\"" displayString=\""Copay after deductible\""/><emergencyRoom_outnw covered=\""true\"" copay=\""50.0\""/><outpatientSurgery_innw covered=\""true\"" copay=\""0.0\"" displayString=\""Copay after deductible\""/><outpatientSurgery_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><hospitalization_innw covered=\""true\"" copay=\""0.0\"" displayString=\""Copay after deductible\""/><hospitalization_outnw covered=\""true\"" coinsuranceAfterDeductible=\""5000.0\""/><preAndPostNatalOfficeVisit_innw covered=\""false\""/><preAndPostNatalOfficeVisit_outnw covered=\""true\"" displayString=\""Complications Only\""/><laborDeliveryHospitalStay_innw covered=\""false\""/><laborDeliveryHospitalStay_outnw covered=\""false\"" displayString=\""Complications Only\""/><mailOrderAvailable_innw value=\""true\""/><mailOrderAvailable_outnw/><preventiveCare_innw value=\""true\""/><preventiveCare_outnw value=\""true\""/><benefitsUrls><benefits url=\""http://www.electroluxicon.com/Files/International_English/0-999/documents/E24CM76GSS_UC.pdf\""/><benefits url=\""http://www.sedl.org/scimath/pasopartners/pdfs/health.pdf\""/><benefits url=\""CovOne EG 09-10.pdf\"" displayText=\""Plan Brochure\""/></benefitsUrls><officeVisits_innw value=\""true\""/><officeVisits_outnw value=\""true\""/><prescriptionDrugBenefit_innw value=\""true\""/><prescriptionDrugBenefit_outnw value=\""true\""/><hospitalServices_innw value=\""true\""/><hospitalServices_outnw value=\""true\""/><maternity_innw value=\""true\""/><maternity_outnw value=\""true\""/><addlCoverage_innw value=\""true\""/><addlCoverage_outnw value=\""true\""/></planBenefits>',1,'2009-01-10','2012-01-03','mohit.agarwal@hcentive.com',CURRENT_TIMESTAMP(),null,null,concat(carrier_id,'SIMPLE_2'),concat(`name`,'_market_code'),'Simple',0,'silver',5,4,0 from carrier where carrier.state_code=upper(statecode) and carrier.name=carrier_name;
    	insert into plan_details (`name`,`plan_type`,`carrier_id`,benefits,active,active_from,active_to,created_by,created_date,updated_by,updated_date,plan_id,market_code,family_code,available_for,level_of_coverage,customer_rating,quality_rating,`type`) select concat(`name`,' Simple 3'), '0', id, '<?xml version=\""1.0\"" encoding=\""UTF-8\""?><planBenefits lifeTimeMaximum_outnw=\""0.0\"" lifeTimeMaximum_innw=\""0.0\"" mailOrderDaysSupply_innw=\""90.0\"" mailOrderDaysSupply_outnw=\""0.0\""><pcpRequired_innw value=\""true\""/><pcpRequired_outnw/><srRequired_innw value=\""true\""/><srRequired_outnw/><hsaEligible_innw value=\""true\""/><hsaEligible_outnw/><outOfNetworkCoverage_innw value=\""false\""/><outOfCountryCoverage_innw/><outOfCountryCoverage_outnw/><adminFees_innw payableWhen=\""ONE_TIME\"" amount=\""50.0\""/><adminFees_outnw payableWhen=\""NONE\"" amount=\""0.0\""/><deductible_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\"" displayString=\""None\""/><deductible_outnw applicable=\""true\"" individual_amt=\""10000.0\"" family_amt=\""20000.0\""/><coinsurance_innw applicable=\""true\"" amount=\""40.0\"" beforeDeductible=\""true\""/><coinsurance_outnw applicable=\""true\"" amount=\""50.0\"" beforeDeductible=\""true\""/><outOfPocketLimit_innw applicable=\""true\"" individual_amt=\""2000\"" family_amt=\""4000\""   /><outOfPocketLimit_outnw applicable=\""true\"" individual_amt=\""12500.0\"" family_amt=\""25000.0\""/><primaryDoctor_innw covered=\""true\"" copay=\""25.0\""/><primaryDoctor_outnw covered=\""true\""/><specialist_innw covered=\""true\"" copay=\""40.0\""/><specialist_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><periodicHealthExam_innw covered=\""false\"" copay=\""0.0\""/><periodicHealthExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><periodicObGynExam_innw covered=\""false\"" copay=\""0.0\""/><periodicObGynExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><wellBabyCare_innw covered=\""false\"" copay=\""0.0\""/><wellBabyCare_outnw covered=\""true\"" copay=\""50.0\""/><chiropractic_innw covered=\""true\"" coinsuranceAfterDeductible=\""40.0\"" displayString=\""Max 5 outpatient visits per benefit year\""/><chiropractic_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><mentalHealth_innw covered=\""false\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""Limited to Biologically Based Mental Illness/Copayment or coinsurance/Deductible is depending on place of service.\""/><mentalHealth_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""0.0\""/><genericPrescriptionDrugs_innw covered=\""true\"" copay=\""15.0\"" displayString=\""\""/><genericPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><brandedPrescriptionDrugs_innw covered=\""true\"" copay=\""50.0\"" displayString=\""\""/><brandedPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryPrescriptionDrugs_innw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\"" displayString=\""\""/><nonFormulatoryPrescriptionDrugs_outnw covered=\""true\"" copay=\""50.0\""/><annualPrescriptionDrugs_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\""/><anuualPrescriptionDrugs_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><genericMailOrder_innw covered=\""true\"" copay=\""30.0\"" displayString=\""\""/><genericMailOrder_outnw covered=\""true\"" copay=\""80.0\"" displayString=\""or 50%, whichever is greater \""/><brandedMailOrder_innw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\"" displayString=\""\""/><brandedMailOrder_outnw covered=\""true\"" copay=\""500.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryMailOrder_innw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\"" displayString=\""\""/><nonFormulatoryMailOrder_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""80.0\""/><annualMailOrder_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\"" displayString=\""None\""/><annualMailOrder_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><labsAndXRays_innw covered=\""true\"" copay=\""0.0\""/><labsAndXRays_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><emergencyRoom_innw covered=\""true\"" copay=\""100.0\""/><emergencyRoom_outnw covered=\""true\"" copay=\""50.0\""/><outpatientSurgery_innw covered=\""true\"" copay=\""500.0\""/><outpatientSurgery_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><hospitalization_innw covered=\""true\"" copay=\""500.0\""/><hospitalization_outnw covered=\""true\"" coinsuranceAfterDeductible=\""5000.0\""/><preAndPostNatalOfficeVisit_innw covered=\""false\""/><preAndPostNatalOfficeVisit_outnw covered=\""true\"" displayString=\""Complications Only\""/><laborDeliveryHospitalStay_innw covered=\""false\""/><laborDeliveryHospitalStay_outnw covered=\""false\"" displayString=\""Complications Only\""/><mailOrderAvailable_innw value=\""true\""/><mailOrderAvailable_outnw/><preventiveCare_innw value=\""true\""/><preventiveCare_outnw value=\""true\""/><benefitsUrls><benefits url=\""http://www.electroluxicon.com/Files/International_English/0-999/documents/E24CM76GSS_UC.pdf\""/><benefits url=\""http://www.sedl.org/scimath/pasopartners/pdfs/health.pdf\""/><benefits url=\""CovOne EG 09-10.pdf\"" displayText=\""Plan Brochure\""/></benefitsUrls><officeVisits_innw value=\""true\""/><officeVisits_outnw value=\""true\""/><prescriptionDrugBenefit_innw value=\""true\""/><prescriptionDrugBenefit_outnw value=\""true\""/><hospitalServices_innw value=\""true\""/><hospitalServices_outnw value=\""true\""/><maternity_innw value=\""true\""/><maternity_outnw value=\""true\""/><addlCoverage_innw value=\""true\""/><addlCoverage_outnw value=\""true\""/></planBenefits>',1,'2009-01-10','2012-01-03','mohit.agarwal@hcentive.com',CURRENT_TIMESTAMP(),null,null,concat(carrier_id,'SIMPLE_3'),concat(`name`,'_market_code'),'Simple',0,'gold',4,5,0  from carrier where carrier.state_code=upper(statecode) and carrier.name=carrier_name;
    	
    	insert into plan_documents (select plan_id, market_code, active_from, ExtractValue(benefits,'/planBenefits/benefitsUrls/benefits[@displayText=""Additional Details""]/@url'), ExtractValue(benefits,'/planBenefits/benefitsUrls/benefits[@displayText=""Plan Brochure""]/@url'), ExtractValue(benefits,'/planBenefits/benefitsUrls/benefits[@displayText=""Exclusions and Limitations""]/@url'), null, CURRENT_TIMESTAMP()  from plan_details where plan_id like concat('%',carrier_name,'-',statecode , '%'));
    	insert into plan_service_area_lookup select `code`,`county`,CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Code'),CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Desc'),CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name FROM 2)),'_Market_Code'),upper(concat_ws('-',carrier_name,statecode)) from zip_codes where state_code = upper(statecode);
    	insert into area_code_lookup select `code`,`county`,CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Code'),CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Desc'),upper(concat_ws('-',carrier_name,statecode)) from zip_codes where state_code = upper(statecode);
    
        END$$

please help me what gone wrong in if condition? if i delete if condition procedure execute successfully
    
    DELIMITER ;",mysql,stored-procedures,,,,,open,0,710,8,"what is gone wrong in this procedure ? I want to give if condition in my procedure but creating problem please help me out .

   

     DELIMITER $$
    
    DROP PROCEDURE IF EXISTS `fill_plan_data`$$
    CREATE PROCEDURE `fill_plan_data`(IN statecode VARCHAR(2), carrier_name VARCHAR(50))
        BEGIN
    	DECLARE countMedicaid int default 0;
    	insert into carrier (`name`,`state_code`,`active`,`carrier_id`) select CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2))), upper(statecode), '1', upper(concat_ws('-',carrier_name,statecode)) from (select distinct `state_code` from zip_codes)t where state_code = upper(statecode);
    	select count(*) into countMedicaid from plan_details p , carrier c where c.name = carrier_name and c.state_code = statecode and c.id = p.carrier_id and p.programType = 'medicaid';
    	if countMedicaid == 0 then
    		//then do some insert query 
    	end if
    	
    	insert into plan_details (`name`,`plan_type`,`carrier_id`,benefits,active,active_from,active_to,created_by,created_date,updated_by,updated_date,plan_id,market_code,family_code,available_for,level_of_coverage,customer_rating,quality_rating,`type`) select concat(`name`,' Simple 2'), '0', id,'<?xml version=\""1.0\"" encoding=\""UTF-8\""?><planBenefits lifeTimeMaximum_outnw=\""0.0\"" lifeTimeMaximum_innw=\""0.0\"" mailOrderDaysSupply_innw=\""90.0\"" mailOrderDaysSupply_outnw=\""0.0\""><pcpRequired_innw value=\""true\""/><pcpRequired_outnw/><srRequired_innw value=\""true\""/><srRequired_outnw/><hsaEligible_innw value=\""true\""/><hsaEligible_outnw/><outOfNetworkCoverage_innw value=\""false\""/><outOfCountryCoverage_innw/><outOfCountryCoverage_outnw/><adminFees_innw payableWhen=\""ONE_TIME\"" amount=\""50.0\""/><adminFees_outnw payableWhen=\""NONE\"" amount=\""0.0\""/><deductible_innw applicable=\""true\"" individual_amt=\""1000.0\"" family_amt=\""2000.0\"" displayString=\""\""/><deductible_outnw applicable=\""true\"" individual_amt=\""10000.0\"" family_amt=\""20000.0\""/><coinsurance_innw applicable=\""true\"" amount=\""40.0\"" beforeDeductible=\""true\""/><coinsurance_outnw applicable=\""true\"" amount=\""50.0\"" beforeDeductible=\""true\""/><outOfPocketLimit_innw applicable=\""true\"" individual_amt=\""2000\"" family_amt=\""4000\""   /><outOfPocketLimit_outnw applicable=\""true\"" individual_amt=\""12500.0\"" family_amt=\""25000.0\""/><primaryDoctor_innw covered=\""true\"" copay=\""20.0\""/><primaryDoctor_outnw covered=\""true\""/><specialist_innw covered=\""true\"" copay=\""20.0\""/><specialist_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><periodicHealthExam_innw covered=\""false\"" copay=\""0.0\""/><periodicHealthExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><periodicObGynExam_innw covered=\""false\"" copay=\""0.0\""/><periodicObGynExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><wellBabyCare_innw covered=\""false\"" copay=\""0.0\""/><wellBabyCare_outnw covered=\""true\"" copay=\""50.0\""/><chiropractic_innw covered=\""true\"" coinsuranceAfterDeductible=\""40.0\"" displayString=\""Max 5 outpatient visits per benefit year\""/><chiropractic_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><mentalHealth_innw covered=\""false\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""Limited to Biologically Based Mental Illness/Copayment or coinsurance/Deductible is depending on place of service.\""/><mentalHealth_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""0.0\""/><genericPrescriptionDrugs_innw covered=\""true\"" copay=\""15.0\"" displayString=\""\""/><genericPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><brandedPrescriptionDrugs_innw covered=\""true\"" copay=\""30.0\"" displayString=\""\""/><brandedPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryPrescriptionDrugs_innw covered=\""true\"" copay=\""50.0\"" displayString=\""\""/><nonFormulatoryPrescriptionDrugs_outnw covered=\""true\"" copay=\""50.0\""/><annualPrescriptionDrugs_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\""/><anuualPrescriptionDrugs_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><genericMailOrder_innw covered=\""true\"" copay=\""30.0\"" displayString=\""\""/><genericMailOrder_outnw covered=\""true\"" copay=\""80.0\"" displayString=\""or 50%, whichever is greater \""/><brandedMailOrder_innw covered=\""true\"" copay=\""60.0\"" displayString=\""\""/><brandedMailOrder_outnw covered=\""true\"" copay=\""500.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryMailOrder_innw covered=\""true\"" copay=\""150.0\"" displayString=\""\""/><nonFormulatoryMailOrder_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""80.0\""/><annualMailOrder_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\"" displayString=\""None\""/><annualMailOrder_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><labsAndXRays_innw covered=\""true\"" copay=\""0.0\"" displayString=\""Copay after deductible\""/><labsAndXRays_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><emergencyRoom_innw covered=\""true\"" copay=\""100.0\"" displayString=\""Copay after deductible\""/><emergencyRoom_outnw covered=\""true\"" copay=\""50.0\""/><outpatientSurgery_innw covered=\""true\"" copay=\""0.0\"" displayString=\""Copay after deductible\""/><outpatientSurgery_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><hospitalization_innw covered=\""true\"" copay=\""0.0\"" displayString=\""Copay after deductible\""/><hospitalization_outnw covered=\""true\"" coinsuranceAfterDeductible=\""5000.0\""/><preAndPostNatalOfficeVisit_innw covered=\""false\""/><preAndPostNatalOfficeVisit_outnw covered=\""true\"" displayString=\""Complications Only\""/><laborDeliveryHospitalStay_innw covered=\""false\""/><laborDeliveryHospitalStay_outnw covered=\""false\"" displayString=\""Complications Only\""/><mailOrderAvailable_innw value=\""true\""/><mailOrderAvailable_outnw/><preventiveCare_innw value=\""true\""/><preventiveCare_outnw value=\""true\""/><benefitsUrls><benefits url=\""http://www.electroluxicon.com/Files/International_English/0-999/documents/E24CM76GSS_UC.pdf\""/><benefits url=\""http://www.sedl.org/scimath/pasopartners/pdfs/health.pdf\""/><benefits url=\""CovOne EG 09-10.pdf\"" displayText=\""Plan Brochure\""/></benefitsUrls><officeVisits_innw value=\""true\""/><officeVisits_outnw value=\""true\""/><prescriptionDrugBenefit_innw value=\""true\""/><prescriptionDrugBenefit_outnw value=\""true\""/><hospitalServices_innw value=\""true\""/><hospitalServices_outnw value=\""true\""/><maternity_innw value=\""true\""/><maternity_outnw value=\""true\""/><addlCoverage_innw value=\""true\""/><addlCoverage_outnw value=\""true\""/></planBenefits>',1,'2009-01-10','2012-01-03','mohit.agarwal@hcentive.com',CURRENT_TIMESTAMP(),null,null,concat(carrier_id,'SIMPLE_2'),concat(`name`,'_market_code'),'Simple',0,'silver',5,4,0 from carrier where carrier.state_code=upper(statecode) and carrier.name=carrier_name;
    	insert into plan_details (`name`,`plan_type`,`carrier_id`,benefits,active,active_from,active_to,created_by,created_date,updated_by,updated_date,plan_id,market_code,family_code,available_for,level_of_coverage,customer_rating,quality_rating,`type`) select concat(`name`,' Simple 3'), '0', id, '<?xml version=\""1.0\"" encoding=\""UTF-8\""?><planBenefits lifeTimeMaximum_outnw=\""0.0\"" lifeTimeMaximum_innw=\""0.0\"" mailOrderDaysSupply_innw=\""90.0\"" mailOrderDaysSupply_outnw=\""0.0\""><pcpRequired_innw value=\""true\""/><pcpRequired_outnw/><srRequired_innw value=\""true\""/><srRequired_outnw/><hsaEligible_innw value=\""true\""/><hsaEligible_outnw/><outOfNetworkCoverage_innw value=\""false\""/><outOfCountryCoverage_innw/><outOfCountryCoverage_outnw/><adminFees_innw payableWhen=\""ONE_TIME\"" amount=\""50.0\""/><adminFees_outnw payableWhen=\""NONE\"" amount=\""0.0\""/><deductible_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\"" displayString=\""None\""/><deductible_outnw applicable=\""true\"" individual_amt=\""10000.0\"" family_amt=\""20000.0\""/><coinsurance_innw applicable=\""true\"" amount=\""40.0\"" beforeDeductible=\""true\""/><coinsurance_outnw applicable=\""true\"" amount=\""50.0\"" beforeDeductible=\""true\""/><outOfPocketLimit_innw applicable=\""true\"" individual_amt=\""2000\"" family_amt=\""4000\""   /><outOfPocketLimit_outnw applicable=\""true\"" individual_amt=\""12500.0\"" family_amt=\""25000.0\""/><primaryDoctor_innw covered=\""true\"" copay=\""25.0\""/><primaryDoctor_outnw covered=\""true\""/><specialist_innw covered=\""true\"" copay=\""40.0\""/><specialist_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><periodicHealthExam_innw covered=\""false\"" copay=\""0.0\""/><periodicHealthExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><periodicObGynExam_innw covered=\""false\"" copay=\""0.0\""/><periodicObGynExam_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><wellBabyCare_innw covered=\""false\"" copay=\""0.0\""/><wellBabyCare_outnw covered=\""true\"" copay=\""50.0\""/><chiropractic_innw covered=\""true\"" coinsuranceAfterDeductible=\""40.0\"" displayString=\""Max 5 outpatient visits per benefit year\""/><chiropractic_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\""/><mentalHealth_innw covered=\""false\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""Limited to Biologically Based Mental Illness/Copayment or coinsurance/Deductible is depending on place of service.\""/><mentalHealth_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""0.0\""/><genericPrescriptionDrugs_innw covered=\""true\"" copay=\""15.0\"" displayString=\""\""/><genericPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><brandedPrescriptionDrugs_innw covered=\""true\"" copay=\""50.0\"" displayString=\""\""/><brandedPrescriptionDrugs_outnw covered=\""true\"" coinsuranceAfterDeductible=\""0.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryPrescriptionDrugs_innw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\"" displayString=\""\""/><nonFormulatoryPrescriptionDrugs_outnw covered=\""true\"" copay=\""50.0\""/><annualPrescriptionDrugs_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\""/><anuualPrescriptionDrugs_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><genericMailOrder_innw covered=\""true\"" copay=\""30.0\"" displayString=\""\""/><genericMailOrder_outnw covered=\""true\"" copay=\""80.0\"" displayString=\""or 50%, whichever is greater \""/><brandedMailOrder_innw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\"" displayString=\""\""/><brandedMailOrder_outnw covered=\""true\"" copay=\""500.0\"" displayString=\""or 50%, whichever is greater \""/><nonFormulatoryMailOrder_innw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\"" displayString=\""\""/><nonFormulatoryMailOrder_outnw covered=\""true\"" coinsuranceBeforeDeductible=\""80.0\""/><annualMailOrder_innw applicable=\""false\"" individual_amt=\""0.0\"" family_amt=\""0.0\"" displayString=\""None\""/><annualMailOrder_outnw applicable=\""true\"" individual_amt=\""50.0\"" family_amt=\""101.0\""/><labsAndXRays_innw covered=\""true\"" copay=\""0.0\""/><labsAndXRays_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><emergencyRoom_innw covered=\""true\"" copay=\""100.0\""/><emergencyRoom_outnw covered=\""true\"" copay=\""50.0\""/><outpatientSurgery_innw covered=\""true\"" copay=\""500.0\""/><outpatientSurgery_outnw covered=\""true\"" coinsuranceAfterDeductible=\""50.0\""/><hospitalization_innw covered=\""true\"" copay=\""500.0\""/><hospitalization_outnw covered=\""true\"" coinsuranceAfterDeductible=\""5000.0\""/><preAndPostNatalOfficeVisit_innw covered=\""false\""/><preAndPostNatalOfficeVisit_outnw covered=\""true\"" displayString=\""Complications Only\""/><laborDeliveryHospitalStay_innw covered=\""false\""/><laborDeliveryHospitalStay_outnw covered=\""false\"" displayString=\""Complications Only\""/><mailOrderAvailable_innw value=\""true\""/><mailOrderAvailable_outnw/><preventiveCare_innw value=\""true\""/><preventiveCare_outnw value=\""true\""/><benefitsUrls><benefits url=\""http://www.electroluxicon.com/Files/International_English/0-999/documents/E24CM76GSS_UC.pdf\""/><benefits url=\""http://www.sedl.org/scimath/pasopartners/pdfs/health.pdf\""/><benefits url=\""CovOne EG 09-10.pdf\"" displayText=\""Plan Brochure\""/></benefitsUrls><officeVisits_innw value=\""true\""/><officeVisits_outnw value=\""true\""/><prescriptionDrugBenefit_innw value=\""true\""/><prescriptionDrugBenefit_outnw value=\""true\""/><hospitalServices_innw value=\""true\""/><hospitalServices_outnw value=\""true\""/><maternity_innw value=\""true\""/><maternity_outnw value=\""true\""/><addlCoverage_innw value=\""true\""/><addlCoverage_outnw value=\""true\""/></planBenefits>',1,'2009-01-10','2012-01-03','mohit.agarwal@hcentive.com',CURRENT_TIMESTAMP(),null,null,concat(carrier_id,'SIMPLE_3'),concat(`name`,'_market_code'),'Simple',0,'gold',4,5,0  from carrier where carrier.state_code=upper(statecode) and carrier.name=carrier_name;
    	
    	insert into plan_documents (select plan_id, market_code, active_from, ExtractValue(benefits,'/planBenefits/benefitsUrls/benefits[@displayText=""Additional Details""]/@url'), ExtractValue(benefits,'/planBenefits/benefitsUrls/benefits[@displayText=""Plan Brochure""]/@url'), ExtractValue(benefits,'/planBenefits/benefitsUrls/benefits[@displayText=""Exclusions and Limitations""]/@url'), null, CURRENT_TIMESTAMP()  from plan_details where plan_id like concat('%',carrier_name,'-',statecode , '%'));
    	insert into plan_service_area_lookup select `code`,`county`,CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Code'),CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Desc'),CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name FROM 2)),'_Market_Code'),upper(concat_ws('-',carrier_name,statecode)) from zip_codes where state_code = upper(statecode);
    	insert into area_code_lookup select `code`,`county`,CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Code'),CONCAT(UPPER(SUBSTRING(carrier_name, 1, 1)), LOWER(SUBSTRING(carrier_name from 2)),'_Region_Desc'),upper(concat_ws('-',carrier_name,statecode)) from zip_codes where state_code = upper(statecode);
    
        END$$

please help me what gone wrong in if condition? if i delete if condition procedure execute successfully
    
    DELIMITER ;",2
7511255,09/22/2011 07:41:13,958554,09/22/2011 07:41:13,1,0,Access or MySQL in a big company,"Since a month, i'm working for a big company in France. They asked me to make a application manage their plannings. I devellopped something not so bad using their existant Access database and VB.net.
The problem is that in a few months, the application will maybe be used by 70 workers while today only 10 use it.
So i did a lot of researches, and i read that Access could not support more that 20 connection in the same time.
Firts, is that true ? What do I risk with an Access database for 70 workers ?
And then, what do you think of MySQL in my case ? The application won't be connect on internet, only on intranet. I took a very long time to connect my application to MySQL, but now i don't know how to connect the application in intranet.
In fact i'm a bit lost with the choice of my SGDB.

I'm sorry for my English and my bad explanations but i'm french and i didn't find the answers to my questions in french forums.

Thanks to those who will help me.",mysql,vb.net,access,intranet,,11/02/2011 20:56:26,not constructive,1,179,7,"Access or MySQL in a big company Since a month, i'm working for a big company in France. They asked me to make a application manage their plannings. I devellopped something not so bad using their existant Access database and VB.net.
The problem is that in a few months, the application will maybe be used by 70 workers while today only 10 use it.
So i did a lot of researches, and i read that Access could not support more that 20 connection in the same time.
Firts, is that true ? What do I risk with an Access database for 70 workers ?
And then, what do you think of MySQL in my case ? The application won't be connect on internet, only on intranet. I took a very long time to connect my application to MySQL, but now i don't know how to connect the application in intranet.
In fact i'm a bit lost with the choice of my SGDB.

I'm sorry for my English and my bad explanations but i'm french and i didn't find the answers to my questions in french forums.

Thanks to those who will help me.",4
5011766,02/16/2011 01:59:33,618901,02/16/2011 01:59:33,1,0,How do you find out the total size of the data in MySQL database?,"I am just wondering how to calculate the total size of the database in MySQL? 

P.S. Total size in term of how much disk space is using.",mysql,,,,,,open,0,27,14,"How do you find out the total size of the data in MySQL database? I am just wondering how to calculate the total size of the database in MySQL? 

P.S. Total size in term of how much disk space is using.",1
5122762,02/25/2011 21:18:07,36609,11/11/2008 15:28:09,199,0,Why does this :id in Rails not work with Postgresql but it does work with MySQL?,"I am using this method for search engine friendly URLs in Rails - http://jroller.com/obie/entry/seo_optimization_of_urls_in

My model looks like this.

    class Listing < ActiveRecord::Base
      def to_param
        ""#{id}-#{title.parameterize}""
      end
    end

This works with MySQL but not Postgresql.

This is the error I get:

ActiveRecord::StatementInvalid (PGError: ERROR:  invalid input syntax for integer: ""16-    college-station-apartments""
: SELECT * FROM ""floorplans"" WHERE (""floorplans"".""listing_id"" = E'16-college-station-apartments')  ORDER BY beds ASC, baths ASC, footage ASC, price ASC):

Is ActiveRecord not doing a .to_i on the find for Postgresql?",mysql,ruby-on-rails,ruby,postgresql,activerecord,,open,0,103,16,"Why does this :id in Rails not work with Postgresql but it does work with MySQL? I am using this method for search engine friendly URLs in Rails - http://jroller.com/obie/entry/seo_optimization_of_urls_in

My model looks like this.

    class Listing < ActiveRecord::Base
      def to_param
        ""#{id}-#{title.parameterize}""
      end
    end

This works with MySQL but not Postgresql.

This is the error I get:

ActiveRecord::StatementInvalid (PGError: ERROR:  invalid input syntax for integer: ""16-    college-station-apartments""
: SELECT * FROM ""floorplans"" WHERE (""floorplans"".""listing_id"" = E'16-college-station-apartments')  ORDER BY beds ASC, baths ASC, footage ASC, price ASC):

Is ActiveRecord not doing a .to_i on the find for Postgresql?",5
4269395,11/24/2010 16:57:57,492767,05/05/2010 13:13:03,158,7,Rails - Accidentally dropped my table.,"Being stupid, and careless, I accidentally dropped my table with contents. How do I re-create that table again in RAils? Tried to run `rake db:migrate` but it didn't create a new table. Thanks.",mysql,ruby-on-rails,,,,,open,0,33,6,"Rails - Accidentally dropped my table. Being stupid, and careless, I accidentally dropped my table with contents. How do I re-create that table again in RAils? Tried to run `rake db:migrate` but it didn't create a new table. Thanks.",2
8150044,11/16/2011 10:21:55,428390,08/23/2010 12:09:00,225,2,How can i export MS Sql Server Database dump and Import that Into Mysql Database?,"I am in a strange situation now, I am very new to MS Sql server Database think. Am working on mysql now. I have a databse in MS Sql server database and i want to create a same database in mysql. I try to generate script from MS Sql server into a file dump.sql now that i need is i cannot use that file to import into mysql database. 

Can some one tell me how can i use the generated script to create a database in mysql? 

Or is there any other way i cano directly get mysql formate script from MS Sql server ?

thank you in advance.",mysql,sql-server,,,,,open,0,108,15,"How can i export MS Sql Server Database dump and Import that Into Mysql Database? I am in a strange situation now, I am very new to MS Sql server Database think. Am working on mysql now. I have a databse in MS Sql server database and i want to create a same database in mysql. I try to generate script from MS Sql server into a file dump.sql now that i need is i cannot use that file to import into mysql database. 

Can some one tell me how can i use the generated script to create a database in mysql? 

Or is there any other way i cano directly get mysql formate script from MS Sql server ?

thank you in advance.",2
4006760,10/24/2010 00:57:17,244333,01/05/2010 22:58:36,335,1,How to get tags of a website?,"For example google.com can be tagged as a search engine. facebook as a social networking site

I want to automate this process. How do I go about it? 
That is, I want to create a tag engine which automatically labels websites. 

I can pull up the meta information for each website and then guess the category.f there are sites already there on the net which does the same thing",mysql,,,,,10/24/2010 01:19:28,not a real question,1,68,7,"How to get tags of a website? For example google.com can be tagged as a search engine. facebook as a social networking site

I want to automate this process. How do I go about it? 
That is, I want to create a tag engine which automatically labels websites. 

I can pull up the meta information for each website and then guess the category.f there are sites already there on the net which does the same thing",1
3234123,07/13/2010 04:06:17,31671,10/27/2008 01:07:58,13995,704,Using the `set` datatype in MySQL,"I just came across a requirement of labeling a user as 1 of 3 different roles. Normally I have used an id, but the roles don't really relate to each other at all.

I had a look at the set datatype, and I added the 3 different options.

- Will the database internally just store the index of the set, e.g. if the set is `set('a', 'b', 'c')` and I choose `a`, will it store `a` or the index `0`?

- I haven't seen this datatype used before when looking at other people's databases. Is it bad practice? Is using an id (perhaps `role_id` which maps to a table `roles`) a better idea?

Thanks",mysql,,,,,,open,0,110,6,"Using the `set` datatype in MySQL I just came across a requirement of labeling a user as 1 of 3 different roles. Normally I have used an id, but the roles don't really relate to each other at all.

I had a look at the set datatype, and I added the 3 different options.

- Will the database internally just store the index of the set, e.g. if the set is `set('a', 'b', 'c')` and I choose `a`, will it store `a` or the index `0`?

- I haven't seen this datatype used before when looking at other people's databases. Is it bad practice? Is using an id (perhaps `role_id` which maps to a table `roles`) a better idea?

Thanks",1
7283095,09/02/2011 12:00:34,458975,09/26/2010 22:01:37,7,0,i can't access to phpmyadmin,"I use Xampp and i remove the all users in phpmyadmin and now i can't access to phpmyadmin again. I try to unistall and install the xampp again but the problem not solved and still get this error:

    Error
    MySQL said:  
    
    #1130 - Host 'localhost' is not allowed to connect to this MySQL server 
    
    Connection for controluser as defined in your configuration failed.
    phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection. You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server. 


Please help me,
Thanks",mysql,passwords,phpmyadmin,xampp,,09/03/2011 01:59:38,off topic,1,134,5,"i can't access to phpmyadmin I use Xampp and i remove the all users in phpmyadmin and now i can't access to phpmyadmin again. I try to unistall and install the xampp again but the problem not solved and still get this error:

    Error
    MySQL said:  
    
    #1130 - Host 'localhost' is not allowed to connect to this MySQL server 
    
    Connection for controluser as defined in your configuration failed.
    phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection. You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server. 


Please help me,
Thanks",4
5700862,04/18/2011 09:24:20,703617,04/12/2011 08:07:05,12,1,mysql sort asc or desc,"is there any way to sort table ASC or DESC without knowing it,somthing like if it's ASC sort DESC and if it's DESC sort ASC ",mysql,table,sorting,,,04/18/2011 09:41:55,not a real question,1,26,5,"mysql sort asc or desc is there any way to sort table ASC or DESC without knowing it,somthing like if it's ASC sort DESC and if it's DESC sort ASC ",3
6592079,07/06/2011 05:48:58,463601,10/01/2010 07:05:48,188,3,How to write condition wise result providing query?,"Hi I want to write a mysql query that gives a condition wise result.

for example. I have a table with question, answer value, user chose value fields.

user can attend to answer that question many times.

I want to display how many times user provide right answer and wrorng answer for questions?
how can I write a mysql query for that? any body can help me?",mysql,sql,mysql5,,,,open,0,63,8,"How to write condition wise result providing query? Hi I want to write a mysql query that gives a condition wise result.

for example. I have a table with question, answer value, user chose value fields.

user can attend to answer that question many times.

I want to display how many times user provide right answer and wrorng answer for questions?
how can I write a mysql query for that? any body can help me?",3
8230712,11/22/2011 17:04:03,187730,10/10/2009 17:45:27,930,66,MYSQL group_concat equivalent in Sybase ASE?,Is there a equivalent function in Sybase ASE to the group_concat of MYSQL?,mysql,sql,tsql,sybase,sybase-ase,,open,0,13,6,MYSQL group_concat equivalent in Sybase ASE? Is there a equivalent function in Sybase ASE to the group_concat of MYSQL?,5
2590680,04/07/2010 07:28:58,269521,02/09/2010 13:51:51,79,9,How to list records for a query and to display 'no records' when no rows returned using a single query?,"How to list records for a query and to display 'no records' when no rows returned using a single query?
 
Now i'm using a count(*) query or using the mysql_num_rows and then another query in different result set to list data..

Please tell me whether its possible with a single query..?",mysql,,,,,,open,0,50,20,"How to list records for a query and to display 'no records' when no rows returned using a single query? How to list records for a query and to display 'no records' when no rows returned using a single query?
 
Now i'm using a count(*) query or using the mysql_num_rows and then another query in different result set to list data..

Please tell me whether its possible with a single query..?",1
7941703,10/29/2011 21:03:27,1007996,10/21/2011 23:54:44,1,0,Database tutorials,"I am a recent graduate, and i didn't have any course including Database in my bachelors or i didn't choose to take database courses rather. I have been looking for job and giving interviews, and i realized that basic knowledge of database is required in almost all the jobs. So I would like some database pundits to suggest me some tutorials or websites, so that i can have some basic knowledge of database and i can at least cope with the interview questions. Thanks a lot for reading the post.",mysql,sql,database,,,10/30/2011 13:03:22,not constructive,1,90,2,"Database tutorials I am a recent graduate, and i didn't have any course including Database in my bachelors or i didn't choose to take database courses rather. I have been looking for job and giving interviews, and i realized that basic knowledge of database is required in almost all the jobs. So I would like some database pundits to suggest me some tutorials or websites, so that i can have some basic knowledge of database and i can at least cope with the interview questions. Thanks a lot for reading the post.",3
6885534,07/30/2011 19:31:09,614208,02/12/2011 12:56:02,233,13,Which one is good InnoDB or MYISAM?,I am using mySQL server and I came to know that mySQL uses both InnoDB and MYISAM engine.So I want to know for any big project which engine should I choose InnoDB or MYISAM.,mysql,innodb,myisam,,,08/02/2011 14:27:47,not constructive,1,34,7,Which one is good InnoDB or MYISAM? I am using mySQL server and I came to know that mySQL uses both InnoDB and MYISAM engine.So I want to know for any big project which engine should I choose InnoDB or MYISAM.,3
5472193,03/29/2011 12:05:06,444035,09/10/2010 05:34:05,53,0,Question about MYSQL foreign keys and orphan rows,"If I add a foreign key between two tables, am I allowed to add orphan rows afterwards? Also when I'm creating a foreign key between two tables, is there any way to create it ignoring the orphan rows?

My next question is about the efficiency of foreign keys. I had always thought that they created an index between one key in a table and the corresponding key in another table which essentially made it a linear lookup when doing a join. 

Is a foreign key much more efficient then simply having an index or are they the same?

Thanks.",mysql,database,foreign-keys,foreign-key-relationship,,,open,0,97,8,"Question about MYSQL foreign keys and orphan rows If I add a foreign key between two tables, am I allowed to add orphan rows afterwards? Also when I'm creating a foreign key between two tables, is there any way to create it ignoring the orphan rows?

My next question is about the efficiency of foreign keys. I had always thought that they created an index between one key in a table and the corresponding key in another table which essentially made it a linear lookup when doing a join. 

Is a foreign key much more efficient then simply having an index or are they the same?

Thanks.",4
1023675,06/21/2009 11:06:25,41283,11/27/2008 08:29:45,2596,74,Does MySQL's LIMIT keyword guarantee order of returned data?,"I am new to MySQL, but I have used Oracle for some time. I am a little confused about MySQL's `LIMIT` keyword. Does this keyword imply that the order of the returned data will be the same every time the query is executed? What if more data is added to the tables that affect the query? And how would the data be ordered if no order-by clause exists?",mysql,database,query,,,,open,0,68,9,"Does MySQL's LIMIT keyword guarantee order of returned data? I am new to MySQL, but I have used Oracle for some time. I am a little confused about MySQL's `LIMIT` keyword. Does this keyword imply that the order of the returned data will be the same every time the query is executed? What if more data is added to the tables that affect the query? And how would the data be ordered if no order-by clause exists?",3
11253996,06/28/2012 22:50:00,239354,12/28/2009 01:54:16,1479,51,MySql very slow count on query with joins,"I have a view for mysql :

    CREATE VIEW
        loggingquarantine_quarantine ( id, mail_id, partition_tag, content, rs, subject, sender, TIME,
        spam_level, size, sid, email ) AS
    SELECT
        concat(CAST(`mr`.`mail_id` AS CHAR(255) charset utf8),CAST(`mr`.`partition_tag` AS CHAR(255)
        charset utf8))      AS `id`,
        `mr`.`mail_id`       AS `mail_id`,
        `mr`.`partition_tag` AS `partition_tag`,
        `mr`.`content`      AS `content`,
        `mr`.`rs`           AS `rs`,
        `m`.`subject`       AS `subject`,
        `m`.`from_addr`     AS `sender`,
        `m`.`time_num`      AS `TIME`,
        `m`.`spam_level`    AS `spam_level`,
        `m`.`size`          AS `size`,
        `m`.`sid`           AS `sid`,
        `maddr`.`email`          AS `email`
    FROM
        (((`msgrcpt` `mr` JOIN `msgs` `m`
    ON
        (
            
                    `m`.`partition_tag` = `mr`.`partition_tag`
            AND
                    `m`.`mail_id` = `mr`.`mail_id`
            
        )
    )
    JOIN `maddr` maddr
    ON
        (
            `mr`.`rid` = `maddr`.`id`
        )
    )

WHen i try to make a count for this view it take about 13min for 2.5 million of record. Thats inceredibly slow. All field have indexes. If i do count on each table it take no longer than 20seconds.
Here is what mysql explain shows:

    mysql> explain SELECT COUNT(*) FROM `loggingquarantine_quarantine`;
    +----+-------------+-------+--------+-----------------------------------------------------------------------+-------------------------+---------+-----------------------------------------------------------+---------+-------------+
    | id | select_type | table | type   | possible_keys                                                         | key                     | key_len | ref                                                       | rows    | Extra       |
    +----+-------------+-------+--------+-----------------------------------------------------------------------+-------------------------+---------+-----------------------------------------------------------+---------+-------------+
    |  1 | SIMPLE      | maddr | index  | PRIMARY                                                               | maddr_partition_tag_idx | 5       | NULL                                                      | 1016497 | Using index |
    |  1 | SIMPLE      | mr    | ref    | PRIMARY,msgrcpt_idx_rid,msgrcpt_mail_id_idx,msgrcpt_partition_tag_idx | msgrcpt_idx_rid         | 8       | mroute_logquar.maddr.id                                   |       2 | Using index |
    |  1 | SIMPLE      | m     | eq_ref | PRIMARY,msgs_mail_id_idx,msgs_partition_tag_idx                       | PRIMARY                 | 22      | mroute_logquar.mr.partition_tag,mroute_logquar.mr.mail_id |       1 | Using index |
    +----+-------------+-------+--------+-----------------------------------------------------------------------+-------------------------+---------+-----------------------------------------------------------+---------+-------------+

How can i optimize the query/view so it will not take 13minutes to make a count.. What  wrong with a current query?",mysql,sql,,,,,open,0,996,8,"MySql very slow count on query with joins I have a view for mysql :

    CREATE VIEW
        loggingquarantine_quarantine ( id, mail_id, partition_tag, content, rs, subject, sender, TIME,
        spam_level, size, sid, email ) AS
    SELECT
        concat(CAST(`mr`.`mail_id` AS CHAR(255) charset utf8),CAST(`mr`.`partition_tag` AS CHAR(255)
        charset utf8))      AS `id`,
        `mr`.`mail_id`       AS `mail_id`,
        `mr`.`partition_tag` AS `partition_tag`,
        `mr`.`content`      AS `content`,
        `mr`.`rs`           AS `rs`,
        `m`.`subject`       AS `subject`,
        `m`.`from_addr`     AS `sender`,
        `m`.`time_num`      AS `TIME`,
        `m`.`spam_level`    AS `spam_level`,
        `m`.`size`          AS `size`,
        `m`.`sid`           AS `sid`,
        `maddr`.`email`          AS `email`
    FROM
        (((`msgrcpt` `mr` JOIN `msgs` `m`
    ON
        (
            
                    `m`.`partition_tag` = `mr`.`partition_tag`
            AND
                    `m`.`mail_id` = `mr`.`mail_id`
            
        )
    )
    JOIN `maddr` maddr
    ON
        (
            `mr`.`rid` = `maddr`.`id`
        )
    )

WHen i try to make a count for this view it take about 13min for 2.5 million of record. Thats inceredibly slow. All field have indexes. If i do count on each table it take no longer than 20seconds.
Here is what mysql explain shows:

    mysql> explain SELECT COUNT(*) FROM `loggingquarantine_quarantine`;
    +----+-------------+-------+--------+-----------------------------------------------------------------------+-------------------------+---------+-----------------------------------------------------------+---------+-------------+
    | id | select_type | table | type   | possible_keys                                                         | key                     | key_len | ref                                                       | rows    | Extra       |
    +----+-------------+-------+--------+-----------------------------------------------------------------------+-------------------------+---------+-----------------------------------------------------------+---------+-------------+
    |  1 | SIMPLE      | maddr | index  | PRIMARY                                                               | maddr_partition_tag_idx | 5       | NULL                                                      | 1016497 | Using index |
    |  1 | SIMPLE      | mr    | ref    | PRIMARY,msgrcpt_idx_rid,msgrcpt_mail_id_idx,msgrcpt_partition_tag_idx | msgrcpt_idx_rid         | 8       | mroute_logquar.maddr.id                                   |       2 | Using index |
    |  1 | SIMPLE      | m     | eq_ref | PRIMARY,msgs_mail_id_idx,msgs_partition_tag_idx                       | PRIMARY                 | 22      | mroute_logquar.mr.partition_tag,mroute_logquar.mr.mail_id |       1 | Using index |
    +----+-------------+-------+--------+-----------------------------------------------------------------------+-------------------------+---------+-----------------------------------------------------------+---------+-------------+

How can i optimize the query/view so it will not take 13minutes to make a count.. What  wrong with a current query?",2
10045576,04/06/2012 15:26:10,1317738,04/06/2012 15:18:48,1,0,MYSQL Trigger to update table that is based on two other tables,"Okay here is the deal, I've created a table name 'combined_data' using data from two tables 'store_data' and 'hd_data'. The two tables share a common column which I used to link the data when creating the new table and that is 'store_num'. What happens is when a user submits information to 'store_data' I want info from that submit such as store_num, store_name, etc to move into the 'combined_data' table as well as pull information from the 'hd_data' that pertains to the particular store_num entered such as region, division etc. Trying to come up with the structure to do this, I can fill in table names and column names just fine. Just curious if this is doable or if another solution should be sought out.",mysql,database,table,update,triggers,,open,0,124,12,"MYSQL Trigger to update table that is based on two other tables Okay here is the deal, I've created a table name 'combined_data' using data from two tables 'store_data' and 'hd_data'. The two tables share a common column which I used to link the data when creating the new table and that is 'store_num'. What happens is when a user submits information to 'store_data' I want info from that submit such as store_num, store_name, etc to move into the 'combined_data' table as well as pull information from the 'hd_data' that pertains to the particular store_num entered such as region, division etc. Trying to come up with the structure to do this, I can fill in table names and column names just fine. Just curious if this is doable or if another solution should be sought out.",5
11452733,07/12/2012 13:19:12,1520841,07/12/2012 13:01:28,1,0,Retrieving non-hidden forum threads in MySQL in possibly infinite subforum structure,"I recently inherited an application with a custom-built forum. This forum has ""categories"", who have ""subcategories"", who may have ""subforums"", all of which can have a flag ""hidden"" set.

Threads can be posted in subcategories and in subforums, but not directly in categories.

I now need to retrieve threads from this forum which are not hidden, meaning that if a thread is placed in a hidden subforum, it won't show up. However, it should also not show up if the parent subcategory or parent category is hidden.

Easy enough so far. My problem is that subforums can have subforums of their own. Theoretically, there's no max depth - it could well be the case that subforum a belongs to subforum b which belongs to subforum c which belongs to subforum d which is hidden. If I'd built it myself, I would have kept track of child and parent lists in the forums, but this is unfortunately not the case.

Is there any way that I can still perform this search or do I have to prune the search results by scripting after retrieving? 

I apologise if the above is not clear. Thanks for any help!",mysql,iteration,hierarchy,,,,open,0,191,11,"Retrieving non-hidden forum threads in MySQL in possibly infinite subforum structure I recently inherited an application with a custom-built forum. This forum has ""categories"", who have ""subcategories"", who may have ""subforums"", all of which can have a flag ""hidden"" set.

Threads can be posted in subcategories and in subforums, but not directly in categories.

I now need to retrieve threads from this forum which are not hidden, meaning that if a thread is placed in a hidden subforum, it won't show up. However, it should also not show up if the parent subcategory or parent category is hidden.

Easy enough so far. My problem is that subforums can have subforums of their own. Theoretically, there's no max depth - it could well be the case that subforum a belongs to subforum b which belongs to subforum c which belongs to subforum d which is hidden. If I'd built it myself, I would have kept track of child and parent lists in the forums, but this is unfortunately not the case.

Is there any way that I can still perform this search or do I have to prune the search results by scripting after retrieving? 

I apologise if the above is not clear. Thanks for any help!",3
1797229,11/25/2009 14:25:53,202335,11/04/2009 04:57:55,211,0,"Mysql, ""insert into“","I want to write a SQL statement something like 

    insert into mytable column1=value1 and ((column2,column3,column4) (select filed1, filed2,filed3 from anothertable where filed4=a_varible))

I am using Mysql. The statement above only expresses what I am going to achieve. 
Is it possible? Is there a way to achieve this? ",mysql,sql,,,,,open,0,51,3,"Mysql, ""insert into“ I want to write a SQL statement something like 

    insert into mytable column1=value1 and ((column2,column3,column4) (select filed1, filed2,filed3 from anothertable where filed4=a_varible))

I am using Mysql. The statement above only expresses what I am going to achieve. 
Is it possible? Is there a way to achieve this? ",2
8939983,01/20/2012 10:29:43,1141168,01/10/2012 15:14:27,1,0,Request : Brute Force Protection Windows 2008,"My Database information (i mean all accounts / password ) was bypassed with brute force attack.

How can i protect my Database system from attack again  , my customers lose his accounts now

Working programs on dedicated machine : Mysql Server 5.0 , Navicat premium 
",mysql,,,,,01/22/2012 01:02:12,off topic,1,45,7,"Request : Brute Force Protection Windows 2008 My Database information (i mean all accounts / password ) was bypassed with brute force attack.

How can i protect my Database system from attack again  , my customers lose his accounts now

Working programs on dedicated machine : Mysql Server 5.0 , Navicat premium 
",1
2780537,05/06/2010 11:04:16,220221,11/27/2009 19:39:22,15,1,Speed-up of readonly MyISAM table,"We have a large MyISAM table that is used to archive old data. This archiving is performed every month, and except from these occasions data is never written to the table. Is there anyway to ""tell"" MySQL that this table is read-only, so that MySQL might optimize the performance of reads from this table? I've looked at the MEMORY storage engine, but the problem is that this table is so large that it would take a large portion of the servers memory, which I don't want.

Hope my question is clear enough, I'm a novice when it comes to db administration so any input or suggestions are welcome.",mysql,myisam,performance,,,,open,0,107,5,"Speed-up of readonly MyISAM table We have a large MyISAM table that is used to archive old data. This archiving is performed every month, and except from these occasions data is never written to the table. Is there anyway to ""tell"" MySQL that this table is read-only, so that MySQL might optimize the performance of reads from this table? I've looked at the MEMORY storage engine, but the problem is that this table is so large that it would take a large portion of the servers memory, which I don't want.

Hope my question is clear enough, I'm a novice when it comes to db administration so any input or suggestions are welcome.",3
11325406,07/04/2012 08:37:24,1049781,11/16/2011 13:47:08,1,0,mysql auto save 10 digit unique number,"
I'm using rails web application with mysql database, I need to auto save 10 digit unique number/alphanumeric for each record in a table.
The table may contain more than millions of records(in future)

**Requirement**:

 1. A 10 digit unique number should be generated only from mysql database and the generated number should not be less than 10 digit
 2. I also refered the mysql's uuid() and uuid_short() methods which returns a universal unique id, but these returns more than 10 digit number.
 3. If generated unique numbers are not in sequence then it will be much better (unpredictable to access other records such as next or previous reocrd).

**NOTE**:

 - I don't think it is better to generate the unique id by manually(applying some logic like combination of timestamp, record_id, ...etc), because additional query is needed to check uniqueness in table.",mysql,ruby-on-rails-3,unique,values,,,open,0,138,7,"mysql auto save 10 digit unique number 
I'm using rails web application with mysql database, I need to auto save 10 digit unique number/alphanumeric for each record in a table.
The table may contain more than millions of records(in future)

**Requirement**:

 1. A 10 digit unique number should be generated only from mysql database and the generated number should not be less than 10 digit
 2. I also refered the mysql's uuid() and uuid_short() methods which returns a universal unique id, but these returns more than 10 digit number.
 3. If generated unique numbers are not in sequence then it will be much better (unpredictable to access other records such as next or previous reocrd).

**NOTE**:

 - I don't think it is better to generate the unique id by manually(applying some logic like combination of timestamp, record_id, ...etc), because additional query is needed to check uniqueness in table.",4
9674164,03/12/2012 20:17:37,984314,10/07/2011 15:59:25,15,0,searching lat long with mysql with spatial,"Using mysql db. I have a column ""latlong"" which is a point type with a spatial index. I would like to get the closest locations 4 miles closest to the latitude and longitude.

So far I have this...

    SELECT `postcode`,county, ( 3959 * acos( cos( radians(51.585738) ) * cos( radians( x(GeomFromText(astext(latlong))) ) ) * cos( radians( y(GeomFromText(astext(latlong))) ) - radians(-0.260878) ) + sin( radians(51.585738) ) * sin( radians( x(GeomFromText(astext(latlong))) ) ) ) ) AS distance  
    FROM uk_p HAVING distance < 4 ORDER BY distance LIMIT 0 , 20

I only have 2900 records, and it takes approximately 0.0277 secs. Is there anyway of optimising this query, as I am worried that as the database grows, the slower this query will be...",mysql,spatial,latitude,closest,longitude,,open,0,127,7,"searching lat long with mysql with spatial Using mysql db. I have a column ""latlong"" which is a point type with a spatial index. I would like to get the closest locations 4 miles closest to the latitude and longitude.

So far I have this...

    SELECT `postcode`,county, ( 3959 * acos( cos( radians(51.585738) ) * cos( radians( x(GeomFromText(astext(latlong))) ) ) * cos( radians( y(GeomFromText(astext(latlong))) ) - radians(-0.260878) ) + sin( radians(51.585738) ) * sin( radians( x(GeomFromText(astext(latlong))) ) ) ) ) AS distance  
    FROM uk_p HAVING distance < 4 ORDER BY distance LIMIT 0 , 20

I only have 2900 records, and it takes approximately 0.0277 secs. Is there anyway of optimising this query, as I am worried that as the database grows, the slower this query will be...",5
3304631,07/21/2010 23:17:14,133116,07/04/2009 12:20:57,88,5,How recovery wrong updates in a mysql database??,"I update a table , but my query clear all columms , can i roll back this updates?",mysql,,,,,,open,0,18,8,"How recovery wrong updates in a mysql database?? I update a table , but my query clear all columms , can i roll back this updates?",1
8748408,01/05/2012 19:18:37,1131059,01/04/2012 23:45:24,3,0,PostgreSQL or mySQL best for daily log website?,"I know that both these databases are better for different scenarios but in terms of a website where users will login and enter numerical data to a daily log, which one would it be best to use? I read that mySQL is faster to begin with but PostgreSQL is more scalable if the website were to start getting a lot of users?

The downside is that my host only offers mySQL and so to use postgreSQL I would have to purchase VPS hosting which is more expensive. I have also read people advising people to not worry about it to begin with, however it concerns me that I would have to rewrite queries and forms if I later moved to postgreSQL? I would appreciate everyone's thoughts on this.",mysql,postgresql,,,,01/05/2012 22:47:55,not constructive,1,127,8,"PostgreSQL or mySQL best for daily log website? I know that both these databases are better for different scenarios but in terms of a website where users will login and enter numerical data to a daily log, which one would it be best to use? I read that mySQL is faster to begin with but PostgreSQL is more scalable if the website were to start getting a lot of users?

The downside is that my host only offers mySQL and so to use postgreSQL I would have to purchase VPS hosting which is more expensive. I have also read people advising people to not worry about it to begin with, however it concerns me that I would have to rewrite queries and forms if I later moved to postgreSQL? I would appreciate everyone's thoughts on this.",2
6235132,06/04/2011 06:21:01,783107,06/03/2011 17:27:53,11,0,Do the most companies store their information in databases?,"I'm now creating a big, big site and if we look at a company in the size of Facebook, do they store their texts and such in files or do they store it in databases? 

Which should I pick? Store all in databases or files?",mysql,database,,,,06/04/2011 06:49:13,not a real question,1,45,9,"Do the most companies store their information in databases? I'm now creating a big, big site and if we look at a company in the size of Facebook, do they store their texts and such in files or do they store it in databases? 

Which should I pick? Store all in databases or files?",2
9326212,02/17/2012 10:02:35,1215900,02/17/2012 09:52:01,1,0,SELECT chaining the result of two queries on MYSQL,"I want to chain the contents of two queries. Please notice I DON'T want to use CONCAT() or CONCAT_WS() because that's not what I want to achieve.

Query 1 results:

    Id    Name
    1     John
    2     Mike
    
Query 2 results:

    Id    Name
    3     Emily
    7     Robert

And what I want is:

    Id    Name
    1     John
    2     Mike
    3     Emily
    7     Robert

I can also rewrite both queries as one. That would be great. Here are my current failed attempts:
    SELECT a.x AS x, a.y AS y FROM a;
    SELECT b.x AS x, b.y AS y FROM b;

Thank you.",mysql,sql,database,query,select,,open,0,177,9,"SELECT chaining the result of two queries on MYSQL I want to chain the contents of two queries. Please notice I DON'T want to use CONCAT() or CONCAT_WS() because that's not what I want to achieve.

Query 1 results:

    Id    Name
    1     John
    2     Mike
    
Query 2 results:

    Id    Name
    3     Emily
    7     Robert

And what I want is:

    Id    Name
    1     John
    2     Mike
    3     Emily
    7     Robert

I can also rewrite both queries as one. That would be great. Here are my current failed attempts:
    SELECT a.x AS x, a.y AS y FROM a;
    SELECT b.x AS x, b.y AS y FROM b;

Thank you.",5
10866909,06/03/2012 00:07:24,1422411,05/28/2012 20:27:55,5,0,What does 'Can't sync file './database_name/....frm' to disk (Errcode: 28)' mean?,I am getting this error message whenever I try to create a new index or a new table in my mysql server. Does anyone know what the reason is?,mysql,,,,,06/03/2012 15:17:14,off topic,1,29,11,What does 'Can't sync file './database_name/....frm' to disk (Errcode: 28)' mean? I am getting this error message whenever I try to create a new index or a new table in my mysql server. Does anyone know what the reason is?,1
9998037,04/03/2012 17:06:55,1071915,11/29/2011 18:12:48,16,0,Mysql query...WHERE (comma separated string)IN(Comma separated string),"I am trying to pull ids from table where numbers in comma-separated string 1, are all in comma-separated string 2. The IN function gives me ids if any numbers match, but I want all from string 1 to match or that id is not shown in result.

 	$query = ""SELECT teams FROM #__bl_teamcord WHERE u_id = "".$t_id."" AND s_id = "".$sid."" LIMIT 1"";
		$db->setQuery($query);
		$tcteams = $db->loadResult();

	
	$query = ""SELECT r.id FROM  #__bl_regions as r WHERE (NOW() between r.start_date and r.end_date) AND r.s_id = "".$sid.""  AND (r.teams IN($tcteams))"";
		$db->setQuery($query);
		$regions1 = $db->loadResultArray();

",mysql,query,,,,,open,0,89,7,"Mysql query...WHERE (comma separated string)IN(Comma separated string) I am trying to pull ids from table where numbers in comma-separated string 1, are all in comma-separated string 2. The IN function gives me ids if any numbers match, but I want all from string 1 to match or that id is not shown in result.

 	$query = ""SELECT teams FROM #__bl_teamcord WHERE u_id = "".$t_id."" AND s_id = "".$sid."" LIMIT 1"";
		$db->setQuery($query);
		$tcteams = $db->loadResult();

	
	$query = ""SELECT r.id FROM  #__bl_regions as r WHERE (NOW() between r.start_date and r.end_date) AND r.s_id = "".$sid.""  AND (r.teams IN($tcteams))"";
		$db->setQuery($query);
		$regions1 = $db->loadResultArray();

",2
6096606,05/23/2011 11:34:46,672856,03/23/2011 10:57:21,-2,0,order by not working in union,"Order by not working globally in this following query.
<code>
SELECT m.*, s.*, o.*, e.*, c.*, t.*, x.* 
FROM course_offering_exam m LEFT JOIN marksheet_status_lookup s ON m.MARKSHEET_STATUS_LOOKUP_CODE = s.MARKSHEET_STATUS_LOOKUP_CODE LEFT JOIN course_offering o ON m.COURSE_OFFERING_ID = o.COURSE_OFFERING_ID LEFT JOIN course_offering_enrollment e ON o.COURSE_OFFERING_ID = e.COURSE_OFFERING_ID LEFT JOIN course c ON o.COURSE_ID = c.COURSE_ID LEFT JOIN course_type_lookup t ON c.COURSE_TYPE_LOOKUP_CODE=t.COURSE_TYPE_LOOKUP_CODE LEFT JOIN course_offering_marksheet_status x ON o.COURSE_OFFERING_ID=x.COURSE_OFFERING_ID WHERE e.person_id =1030 AND e.role_type_lookup_code =""FACULTY"" AND o.period_id = 1001 AND o.sub_period_id = 1003 AND m.marksheet_status_lookup_code != ""UPCOMING_EXAM"" AND m.marksheet_status_lookup_code != ""MARKSHEET_SUBMITTED"" 

UNION 

SELECT m.*, s.*, o.*, e.*, c.*, t.*, x.* 
FROM course_offering_exam m LEFT JOIN marksheet_status_lookup s ON m.MARKSHEET_STATUS_LOOKUP_CODE = s.MARKSHEET_STATUS_LOOKUP_CODE LEFT JOIN course_offering o ON m.COURSE_OFFERING_ID = o.COURSE_OFFERING_ID LEFT JOIN course_offering_enrollment e ON o.COURSE_OFFERING_ID = e.COURSE_OFFERING_ID LEFT JOIN course c ON o.COURSE_ID = c.COURSE_ID LEFT JOIN course_type_lookup t ON c.COURSE_TYPE_LOOKUP_CODE=t.COURSE_TYPE_LOOKUP_CODE LEFT JOIN course_offering_marksheet_status x ON o.COURSE_OFFERING_ID=x.COURSE_OFFERING_ID WHERE e.person_id =1030 AND e.role_type_lookup_code =""FACULTY"" AND o.period_id = 1001 AND o.sub_period_id = 1003 AND m.marksheet_status_lookup_code = ""MARKSHEET_SUBMITTED"" AND x.marksheet_status_lookup_code = ""MARKSHEET_READY_FOR_SUBMISSION"" GROUP BY c.COURSE_NAME 
ORDER BY 'm.END_DATE' ASC, 'c.COURSE_NAME' ASC, 'm.EXAM_NAME' ASC 
</code>
",mysql,,,,,05/23/2011 12:28:56,not a real question,1,175,6,"order by not working in union Order by not working globally in this following query.
<code>
SELECT m.*, s.*, o.*, e.*, c.*, t.*, x.* 
FROM course_offering_exam m LEFT JOIN marksheet_status_lookup s ON m.MARKSHEET_STATUS_LOOKUP_CODE = s.MARKSHEET_STATUS_LOOKUP_CODE LEFT JOIN course_offering o ON m.COURSE_OFFERING_ID = o.COURSE_OFFERING_ID LEFT JOIN course_offering_enrollment e ON o.COURSE_OFFERING_ID = e.COURSE_OFFERING_ID LEFT JOIN course c ON o.COURSE_ID = c.COURSE_ID LEFT JOIN course_type_lookup t ON c.COURSE_TYPE_LOOKUP_CODE=t.COURSE_TYPE_LOOKUP_CODE LEFT JOIN course_offering_marksheet_status x ON o.COURSE_OFFERING_ID=x.COURSE_OFFERING_ID WHERE e.person_id =1030 AND e.role_type_lookup_code =""FACULTY"" AND o.period_id = 1001 AND o.sub_period_id = 1003 AND m.marksheet_status_lookup_code != ""UPCOMING_EXAM"" AND m.marksheet_status_lookup_code != ""MARKSHEET_SUBMITTED"" 

UNION 

SELECT m.*, s.*, o.*, e.*, c.*, t.*, x.* 
FROM course_offering_exam m LEFT JOIN marksheet_status_lookup s ON m.MARKSHEET_STATUS_LOOKUP_CODE = s.MARKSHEET_STATUS_LOOKUP_CODE LEFT JOIN course_offering o ON m.COURSE_OFFERING_ID = o.COURSE_OFFERING_ID LEFT JOIN course_offering_enrollment e ON o.COURSE_OFFERING_ID = e.COURSE_OFFERING_ID LEFT JOIN course c ON o.COURSE_ID = c.COURSE_ID LEFT JOIN course_type_lookup t ON c.COURSE_TYPE_LOOKUP_CODE=t.COURSE_TYPE_LOOKUP_CODE LEFT JOIN course_offering_marksheet_status x ON o.COURSE_OFFERING_ID=x.COURSE_OFFERING_ID WHERE e.person_id =1030 AND e.role_type_lookup_code =""FACULTY"" AND o.period_id = 1001 AND o.sub_period_id = 1003 AND m.marksheet_status_lookup_code = ""MARKSHEET_SUBMITTED"" AND x.marksheet_status_lookup_code = ""MARKSHEET_READY_FOR_SUBMISSION"" GROUP BY c.COURSE_NAME 
ORDER BY 'm.END_DATE' ASC, 'c.COURSE_NAME' ASC, 'm.EXAM_NAME' ASC 
</code>
",1
1855589,12/06/2009 14:52:41,145427,07/26/2009 22:55:03,126,13,MySQL syntax for Wordpress,"I need to retrieve data from a <strong>Parent > Child > Child</strong> relationship category setup. And I have no CLUE as to the proper SQL query syntax for that.

Help?

Thanks,
Tomer
",mysql,wordpress,categories,php,parent-child,,open,0,29,4,"MySQL syntax for Wordpress I need to retrieve data from a <strong>Parent > Child > Child</strong> relationship category setup. And I have no CLUE as to the proper SQL query syntax for that.

Help?

Thanks,
Tomer
",5
8735992,01/05/2012 00:16:14,969430,09/28/2011 15:39:47,15,0,How can I stop MySQL on Mac OS and delete it afterwards?,"I installed the MySQL Package mysql-5.5.19-osx10.6-x86 on to my MacBook. As well the startupitem, that now is located at `/Library/StartupItems/MySQLCOM/MySQLCOM`.<br>
I was able to start it. But now I wanted to delete the whole MySQL files that are located at `usr/local/mysql-VERSION`. Because I don't need it any longer!<br>I couldn't stop the Server with `sudo /Library/StartupItems/MySQLCOM/MySQLCOM stop`, how I thought it would work. It says: Could not find MySQL startup script!<br>
So of course when I want to delete it it says it cant, cause there are still things running somehow.<br>
Can somebody help me and tell me what I have to do to stop it and be able to delete it from my Computer?<br>
Thank You<br>
Jules
",mysql,delete,osx-snow-leopard,uninstall,stop,,open,0,112,12,"How can I stop MySQL on Mac OS and delete it afterwards? I installed the MySQL Package mysql-5.5.19-osx10.6-x86 on to my MacBook. As well the startupitem, that now is located at `/Library/StartupItems/MySQLCOM/MySQLCOM`.<br>
I was able to start it. But now I wanted to delete the whole MySQL files that are located at `usr/local/mysql-VERSION`. Because I don't need it any longer!<br>I couldn't stop the Server with `sudo /Library/StartupItems/MySQLCOM/MySQLCOM stop`, how I thought it would work. It says: Could not find MySQL startup script!<br>
So of course when I want to delete it it says it cant, cause there are still things running somehow.<br>
Can somebody help me and tell me what I have to do to stop it and be able to delete it from my Computer?<br>
Thank You<br>
Jules
",5
11655156,07/25/2012 17:19:07,1017792,10/28/2011 05:46:36,16,0,Recover Deleted Mysql Row,"I've deleted some rows by mistake. I have MYD, FRM and MYI files. When I check MYD file I can see deleted records. I got copies of that 3 files right after deleted. Is there any chance to recover deleted rows in MYD file?

Thanks",mysql,recover,deleted,,,,open,0,44,4,"Recover Deleted Mysql Row I've deleted some rows by mistake. I have MYD, FRM and MYI files. When I check MYD file I can see deleted records. I got copies of that 3 files right after deleted. Is there any chance to recover deleted rows in MYD file?

Thanks",3
10377334,04/30/2012 00:49:22,1034801,11/08/2011 01:51:54,79,0,The storage engine for the table doesn't support repair. InooDB or MyISAM?,"After repairing my database I received the following error:

    scode_tracker.ap_visits
    note     : The storage engine for the table doesn't support repair
    scode_tracker.visit_length
    note     : The storage engine for the table doesn't support repair

I found out that the type of table is InnoDB. The other table was MyISAM and it was repaired successfully.

After reading some topic here, the solution is to change it to MyISAM. I don't know much about InnoDB and MyISAM. I don't specify the type when I created the table. So my question is should I use MyISAM instead of InooDB? If yes, how can I change it from InooDB to MyISAM?",mysql,,,,,,open,0,124,12,"The storage engine for the table doesn't support repair. InooDB or MyISAM? After repairing my database I received the following error:

    scode_tracker.ap_visits
    note     : The storage engine for the table doesn't support repair
    scode_tracker.visit_length
    note     : The storage engine for the table doesn't support repair

I found out that the type of table is InnoDB. The other table was MyISAM and it was repaired successfully.

After reading some topic here, the solution is to change it to MyISAM. I don't know much about InnoDB and MyISAM. I don't specify the type when I created the table. So my question is should I use MyISAM instead of InooDB? If yes, how can I change it from InooDB to MyISAM?",1
7295748,09/03/2011 20:35:58,877581,08/03/2011 22:52:03,1319,103,MySQL: Optimize query with DISTINCT,"In my Java application I have found a small performance issue, which is caused by such simple query:

     SELECT DISTINCT a from table WHERE checked=0 LIMIT 10000

I have index on ""checked"". At the beginning the query is very fast (i.e. where almost all rows have checked=0). But as I mark more and more rows as checked, the query becomes greatly inefficient (up to several minutes). 

How can I improve the performnce of this query ? Should I add a complex index 

a, checked

or rather

checked, a?

My table has a lot of millions of rows, that is why I do not want to test it manually and hope to have lucky guess.",mysql,performance,distinct,,,,open,0,114,5,"MySQL: Optimize query with DISTINCT In my Java application I have found a small performance issue, which is caused by such simple query:

     SELECT DISTINCT a from table WHERE checked=0 LIMIT 10000

I have index on ""checked"". At the beginning the query is very fast (i.e. where almost all rows have checked=0). But as I mark more and more rows as checked, the query becomes greatly inefficient (up to several minutes). 

How can I improve the performnce of this query ? Should I add a complex index 

a, checked

or rather

checked, a?

My table has a lot of millions of rows, that is why I do not want to test it manually and hope to have lucky guess.",3
9248365,02/12/2012 11:16:11,1204960,02/12/2012 10:42:41,1,0,Database system suitable for image sharing website,"I'm planning an image sharing website where users can upload images and create albums etc. Users should be able to rate and comment on the pictures, as well as rate other comments. Lists of most popular images, most active users, highest rated comments etc. will have to be generated. The site should be able to scale without too much effort and eventually be able to deal with millions of uploads per month.

Any suggestions on what database system I should be using, and how I should arrange/store the data?

I fear that if I use MySQL, any action made by a user (such as voting), would lead to a lot of databases having to be updated, thus making the site slow (once the databases no longer fit in RAM).

I will probably be using the nginx web server.",mysql,database,nginx,nosql,sharing,02/13/2012 07:28:17,not a real question,1,135,7,"Database system suitable for image sharing website I'm planning an image sharing website where users can upload images and create albums etc. Users should be able to rate and comment on the pictures, as well as rate other comments. Lists of most popular images, most active users, highest rated comments etc. will have to be generated. The site should be able to scale without too much effort and eventually be able to deal with millions of uploads per month.

Any suggestions on what database system I should be using, and how I should arrange/store the data?

I fear that if I use MySQL, any action made by a user (such as voting), would lead to a lot of databases having to be updated, thus making the site slow (once the databases no longer fit in RAM).

I will probably be using the nginx web server.",5
10322663,04/25/2012 19:45:25,1012885,10/25/2011 14:26:23,164,4,Show a MYSQL variable in the result table,"How do you show the string value of a user Defined MYSQL variable in the printed table?

##Example:
This...
    	
    SELECT CONCAT_WS(  ' ', o.FirstName, o.LastName ) AS FirstLast,
    `Company` 
    FROM Orders o
    	
Gives me this..

    |---------------|----------|	
    |   FirstLast   | Company  |
    |---------------|----------|
    | First1 Last1  | Company1 |
    | First2 Last2  | Company2 |
    | First3 Last3  | Company3 |
    | First4 Last4  | Company4 |
    |---------------|----------|	

But this...

    SELECT @firstlast = CONCAT_WS(  ' ', o.FirstName, o.LastName ),
    `Company` 
    FROM Orders o

Gives me this...

    |-------------------------------------------------------------|----------|
    |   @firstlast = CONCAT_WS(  ' ', o.FirstName, o.LastName )   | Company  |
    |-------------------------------------------------------------|----------|
    |                                                       NULL  | Company1 |
    |                                                       NULL  | Company2 |
    |                                                       NULL  | Company3 |
    |                                                       NULL  | Company4 |
    |-------------------------------------------------------------|----------|

Obviously this is incorrect, but I don't know what is.

How would I 'print' or display the value? I'm not even sure if I made the variable correct! 

Any direction or pointers would be great.",mysql,,,,,,open,0,461,8,"Show a MYSQL variable in the result table How do you show the string value of a user Defined MYSQL variable in the printed table?

##Example:
This...
    	
    SELECT CONCAT_WS(  ' ', o.FirstName, o.LastName ) AS FirstLast,
    `Company` 
    FROM Orders o
    	
Gives me this..

    |---------------|----------|	
    |   FirstLast   | Company  |
    |---------------|----------|
    | First1 Last1  | Company1 |
    | First2 Last2  | Company2 |
    | First3 Last3  | Company3 |
    | First4 Last4  | Company4 |
    |---------------|----------|	

But this...

    SELECT @firstlast = CONCAT_WS(  ' ', o.FirstName, o.LastName ),
    `Company` 
    FROM Orders o

Gives me this...

    |-------------------------------------------------------------|----------|
    |   @firstlast = CONCAT_WS(  ' ', o.FirstName, o.LastName )   | Company  |
    |-------------------------------------------------------------|----------|
    |                                                       NULL  | Company1 |
    |                                                       NULL  | Company2 |
    |                                                       NULL  | Company3 |
    |                                                       NULL  | Company4 |
    |-------------------------------------------------------------|----------|

Obviously this is incorrect, but I don't know what is.

How would I 'print' or display the value? I'm not even sure if I made the variable correct! 

Any direction or pointers would be great.",1
8494904,12/13/2011 19:21:06,1088220,12/08/2011 17:14:15,50,1,FULLTEXT search SQL,"table structure (type : MyISAM) 

        user_name	           varchar(30)		 	 	 	 	 	 	 
	function_type	           varchar(30)			 	 	 	 	 	 	 
	function_name	           varchar(30)			 	 	 	 	 	 	 
	function_description	   text	

FULLTEXT : 

    keyname             TYPE:                          FIELD:
	PRIMARY	BTREE	    BTREE		                   function_name
	full_text	        FULLTEXT	                   function_description				




AND these values :

    function_description:
    akram lofaif 
    that is das
    akram is blum test
    adnan is fine

And when i tried to get back some values like this : 

    SELECT * FROM functions
         WHERE MATCH (function_description)
         AGAINST ('akram' IN NATURAL LANGUAGE MODE)

it did give back NOTHING ! 

",mysql,sql,phpmyadmin,,,,open,0,248,3,"FULLTEXT search SQL table structure (type : MyISAM) 

        user_name	           varchar(30)		 	 	 	 	 	 	 
	function_type	           varchar(30)			 	 	 	 	 	 	 
	function_name	           varchar(30)			 	 	 	 	 	 	 
	function_description	   text	

FULLTEXT : 

    keyname             TYPE:                          FIELD:
	PRIMARY	BTREE	    BTREE		                   function_name
	full_text	        FULLTEXT	                   function_description				




AND these values :

    function_description:
    akram lofaif 
    that is das
    akram is blum test
    adnan is fine

And when i tried to get back some values like this : 

    SELECT * FROM functions
         WHERE MATCH (function_description)
         AGAINST ('akram' IN NATURAL LANGUAGE MODE)

it did give back NOTHING ! 

",3
10449189,05/04/2012 12:53:17,8003,09/15/2008 14:53:45,5002,64,DBI: Connect to a different database if the first database doesn't exist,"I'm trying to sort our some legacy code that serves two purposes. It uses DBI to *create* a database and later uses DBI to *connect* to that database. Unfortunately, it used the same code for each. That means that if you create a `sales` database, later, when use reconnect, you must explicitly call `$dbh->do('use sales')`. That leads to all sorts of problems, such as developers forgetting to do that or the database handle reconnecting and forgetting which database it was in.

What we're trying to do as a first pass fix is to have the `DBI::connect()` method use `HandleError` to reconnect to MySQL if the database doesn't exist, thus allowing us to create the database. For various legacy reasons (yeah, we've all been there), it's much harder to try to trap the ""Unknown database"" error outside of the of the `connect()` method.

Thus, my first pass at solving this is as follows:

    use strict;                                                                                                                                               
    use warnings;
    use DBI;
    use PadWalker 'peek_my';
    my $dbh = DBI->connect(
        $dsn,
        $user,
        $pass,
        {   RaiseError  => 1,
            PrintError  => 0,
            HandleError => \&reconnect_if_unknown_database,
        },
    );

    sub reconnect_if_unknown_database {
        my ($msg, $drh, $dbh) = @_;
        return unless $msg =~ /Unknown database/;

        my ($dsn, $user, $pass, $attr) = @{peek_my(1)}{qw/$dsn $user $pass $attr/};

        unless ($dsn && $user && $pass && $attr) {
            return;    # don't do this if we can't get everything
        }

        # they're all scalar refs.
        $_ = $$_ foreach $dsn, $user, $pass, $attr;

        unless ($dsn =~ s/^[^;]+;/DBI:mysql:mysql;/) {
            return;    # can't parse dsn, so return
        }
        delete $attr->{HandleError};    # infinite loops tickle

        $_[2] = DBI->connect($dsn, $user, $pass, $attr);
    }

That works and it's currently transparent to the end user, but it also feels like a steaming pile of ones and zeros. Is there a better way of reconnecting to a *different* database on connect failure?",mysql,perl,dbi,,,,open,0,633,12,"DBI: Connect to a different database if the first database doesn't exist I'm trying to sort our some legacy code that serves two purposes. It uses DBI to *create* a database and later uses DBI to *connect* to that database. Unfortunately, it used the same code for each. That means that if you create a `sales` database, later, when use reconnect, you must explicitly call `$dbh->do('use sales')`. That leads to all sorts of problems, such as developers forgetting to do that or the database handle reconnecting and forgetting which database it was in.

What we're trying to do as a first pass fix is to have the `DBI::connect()` method use `HandleError` to reconnect to MySQL if the database doesn't exist, thus allowing us to create the database. For various legacy reasons (yeah, we've all been there), it's much harder to try to trap the ""Unknown database"" error outside of the of the `connect()` method.

Thus, my first pass at solving this is as follows:

    use strict;                                                                                                                                               
    use warnings;
    use DBI;
    use PadWalker 'peek_my';
    my $dbh = DBI->connect(
        $dsn,
        $user,
        $pass,
        {   RaiseError  => 1,
            PrintError  => 0,
            HandleError => \&reconnect_if_unknown_database,
        },
    );

    sub reconnect_if_unknown_database {
        my ($msg, $drh, $dbh) = @_;
        return unless $msg =~ /Unknown database/;

        my ($dsn, $user, $pass, $attr) = @{peek_my(1)}{qw/$dsn $user $pass $attr/};

        unless ($dsn && $user && $pass && $attr) {
            return;    # don't do this if we can't get everything
        }

        # they're all scalar refs.
        $_ = $$_ foreach $dsn, $user, $pass, $attr;

        unless ($dsn =~ s/^[^;]+;/DBI:mysql:mysql;/) {
            return;    # can't parse dsn, so return
        }
        delete $attr->{HandleError};    # infinite loops tickle

        $_[2] = DBI->connect($dsn, $user, $pass, $attr);
    }

That works and it's currently transparent to the end user, but it also feels like a steaming pile of ones and zeros. Is there a better way of reconnecting to a *different* database on connect failure?",3
10271960,04/22/2012 20:45:19,359844,06/06/2010 19:25:39,424,0,What's the fastest way to search through a MySQL database containing billions of records?,I've been looking for a very fast and efficient way to search a database of an enormous size without using anything other than PHP and Mysql. What would be some options I could use?,mysql,database,,,,04/22/2012 22:08:27,not a real question,1,34,14,What's the fastest way to search through a MySQL database containing billions of records? I've been looking for a very fast and efficient way to search a database of an enormous size without using anything other than PHP and Mysql. What would be some options I could use?,2
10379699,04/30/2012 07:00:59,1249330,03/05/2012 07:48:19,6,0,HAProxy vs. Nginx for Load Balancing for mysql replication,I have two mysql master master replication node. For tcp port redirection which one is better either HAProxy or Nginx ?,mysql,nginx,haproxy,,,04/30/2012 22:11:20,not a real question,1,21,9,HAProxy vs. Nginx for Load Balancing for mysql replication I have two mysql master master replication node. For tcp port redirection which one is better either HAProxy or Nginx ?,3
2666638,04/19/2010 10:34:55,203256,11/05/2009 08:10:15,151,19,log mysql updates,"i have a migration script that reads from one DB and write to a second DB

I usually update the existing records.I was wondering how i can log the updates like below

    productID : 125
    title : Product1 => test update
    price : 125 => 140

Whitch means that the productID 125 had title Products1 and became test after update and had price : 125 and became 140

One thought is to read the record keep the values and then update, read again the values and the compare and log what necessary fields.

I was wondering if any other method exist.

Thanks",mysql,update,logging,,,,open,0,106,3,"log mysql updates i have a migration script that reads from one DB and write to a second DB

I usually update the existing records.I was wondering how i can log the updates like below

    productID : 125
    title : Product1 => test update
    price : 125 => 140

Whitch means that the productID 125 had title Products1 and became test after update and had price : 125 and became 140

One thought is to read the record keep the values and then update, read again the values and the compare and log what necessary fields.

I was wondering if any other method exist.

Thanks",3
11431105,07/11/2012 10:53:57,1177292,01/30/2012 03:48:48,46,1,mysql return duplicate records based on same key used in IN CLAUSE,"I have the following query

    SELECT P.PRICE, P.PRODUCT_ID FROM PRODUCT P WHERE P.PRODUCT_ID IN (41,41)

I need it to return the product record twice due to limitations with the application code. 

I am not too familiar with SQL so really stuck, I don't want to run single queries for each product",mysql,sql,,,,,open,0,53,12,"mysql return duplicate records based on same key used in IN CLAUSE I have the following query

    SELECT P.PRICE, P.PRODUCT_ID FROM PRODUCT P WHERE P.PRODUCT_ID IN (41,41)

I need it to return the product record twice due to limitations with the application code. 

I am not too familiar with SQL so really stuck, I don't want to run single queries for each product",2
8491377,12/13/2011 15:05:13,894284,08/14/2011 22:08:01,5687,177,creating a user and granting no privileges,"Is there a difference between

    grant usage on databasename.* to 'username'@'localhost' identified by 'password'

and 

    grant usage on *.* to 'username'@'localhost' identified by 'password'

and 

    create user 'username'@'localhost' identified by 'password'

assuming that the user does not already exist?  My understanding is that each of these creates a user with a password, and grants no privileges to the user.",mysql,sql,user,privileges,,,open,0,68,7,"creating a user and granting no privileges Is there a difference between

    grant usage on databasename.* to 'username'@'localhost' identified by 'password'

and 

    grant usage on *.* to 'username'@'localhost' identified by 'password'

and 

    create user 'username'@'localhost' identified by 'password'

assuming that the user does not already exist?  My understanding is that each of these creates a user with a password, and grants no privileges to the user.",4
3756320,09/20/2010 23:43:15,440976,09/06/2010 23:42:06,6,0,Acceptable length of url to be stored as unique MySql/PHP,"I want to store url's as unique in a mysql database table but with string type varchar and text the length of a 1000 is too long. Lengths of Search engine friendly url's can be typically long,whats an acceptable length?",mysql,database,,,,,open,0,40,10,"Acceptable length of url to be stored as unique MySql/PHP I want to store url's as unique in a mysql database table but with string type varchar and text the length of a 1000 is too long. Lengths of Search engine friendly url's can be typically long,whats an acceptable length?",2
10571205,05/13/2012 11:05:16,1127564,01/03/2012 09:55:58,12,0,How to skip error record while load file processing the INSERT,"in PHP,MYSQL.

using load file, we are going to insert records into table, 
table schema is two fields, field one is INT type, field2 is VARCHAR, 

Some time, load file may contain the alphanumeric instead of integer, so while script execute script, just throwing error num and its description.

How set condition, skip the record record and process the load file further .

but here we need, in load field which is bad record and its line number. also how get number rows inserted, deleted and history.",mysql,,,,,06/20/2012 12:02:15,not a real question,1,84,11,"How to skip error record while load file processing the INSERT in PHP,MYSQL.

using load file, we are going to insert records into table, 
table schema is two fields, field one is INT type, field2 is VARCHAR, 

Some time, load file may contain the alphanumeric instead of integer, so while script execute script, just throwing error num and its description.

How set condition, skip the record record and process the load file further .

but here we need, in load field which is bad record and its line number. also how get number rows inserted, deleted and history.",1
6098616,05/23/2011 14:29:19,49153,12/26/2008 04:39:37,7621,192,DOs and DONTs for creating Indexes,"What are some DOs and DONTs for creating indexes in database tables, specifically MySQL?",mysql,sql,database,database-design,index,05/23/2011 14:34:07,not a real question,1,14,6,"DOs and DONTs for creating Indexes What are some DOs and DONTs for creating indexes in database tables, specifically MySQL?",5
4384640,12/08/2010 06:01:20,478375,10/17/2010 06:03:51,12,0,why mysql function now() sometimes return 00:00:00?,"I write several mysql commands like these:

    insert into news_seeds values(1, 'http://www...', 0, 0, 60, now(), 10, now());
    insert into news_seeds values(2, 'http://www...', 0, 0, 60, now()-10, 10, now()-2);
    insert into news_seeds values(3, 'http://www...', 0, 0, 60, now()-20, 10, now()-4);
    ...

but i find sometimes now just return 00:00:00, why?
",mysql,database,function,now,,,open,0,61,7,"why mysql function now() sometimes return 00:00:00? I write several mysql commands like these:

    insert into news_seeds values(1, 'http://www...', 0, 0, 60, now(), 10, now());
    insert into news_seeds values(2, 'http://www...', 0, 0, 60, now()-10, 10, now()-2);
    insert into news_seeds values(3, 'http://www...', 0, 0, 60, now()-20, 10, now()-4);
    ...

but i find sometimes now just return 00:00:00, why?
",4
6645389,07/11/2011 03:06:03,596634,01/31/2011 09:46:18,-2,3,Suggest Free MYSQL SP Generator,Suggest a good Stored procedure generator that generates good secure code and is available for free ? ,mysql,generator,procedure,,,07/11/2011 03:46:08,not a real question,1,18,5,Suggest Free MYSQL SP Generator Suggest a good Stored procedure generator that generates good secure code and is available for free ? ,3
7288297,09/02/2011 19:20:27,846866,07/15/2011 16:57:55,6,0,mysql database suddenly occupies all the space in server,I maintain a mysql server and today evening my programmers updated and inserted around 600 000 records and after that the server is occupying lot of storage. I had 155 GB free space. But it becomes 100% full and again it gets back to 155 GB space and then after sometime it again becomes full. This is happenning for last 4 hours and its looks like never ending process. I tried restarting and nothing has changed. This database has around 4 Million records.,mysql,,,,,01/04/2012 21:54:45,off topic,1,83,9,mysql database suddenly occupies all the space in server I maintain a mysql server and today evening my programmers updated and inserted around 600 000 records and after that the server is occupying lot of storage. I had 155 GB free space. But it becomes 100% full and again it gets back to 155 GB space and then after sometime it again becomes full. This is happenning for last 4 hours and its looks like never ending process. I tried restarting and nothing has changed. This database has around 4 Million records.,1
5428740,03/25/2011 05:05:53,158126,08/18/2009 01:57:25,202,0,Help with MySQL sub query,"Basically what I have is a comments MySQL table. I have a column called 'parent_id' which tracks if a comment is a reply to another comment.

What I want to do is count all the comments. This was working fine but if you delete a comment and not the replies, it counts them as still active but intact they are deleted.

Here is my MySQL query which at the moment isn't working... Any ideas?

    SELECT ic.* FROM roster_services_items_comments AS ic 
		WHERE (SELECT icp.id FROM roster_services_items_comments AS icp WHERE ic.parent_id = '' OR (icp.id = ic.parent_id AND icp.deleted != 0) LIMIT 1) IS NOT NULL",mysql,,,,,,open,0,105,5,"Help with MySQL sub query Basically what I have is a comments MySQL table. I have a column called 'parent_id' which tracks if a comment is a reply to another comment.

What I want to do is count all the comments. This was working fine but if you delete a comment and not the replies, it counts them as still active but intact they are deleted.

Here is my MySQL query which at the moment isn't working... Any ideas?

    SELECT ic.* FROM roster_services_items_comments AS ic 
		WHERE (SELECT icp.id FROM roster_services_items_comments AS icp WHERE ic.parent_id = '' OR (icp.id = ic.parent_id AND icp.deleted != 0) LIMIT 1) IS NOT NULL",1
1154275,07/20/2009 15:32:31,141442,07/20/2009 14:44:28,1,0,"MySQL: Updating a left-joined view, where right table has no matching data.","I'm curious to know if this is actually possible...

In this simplified example, I have:

    Table_A:           Table_B:
    
    +------+--------+  +------+--------+
    | id   | data_1 |  | id   | data_2 |
    +------+--------+  +------+--------+
    | 1    | Hello  |  | 1    | There  |
    +------+--------+  +------+--------+
    | 2    | Hi     |
    +------+--------+

A MySQL View (`CREATE VIEW...`) called `tables` is:

    SELECT table_a.id AS id, 
     table_a.data_1 AS data_1, 
     table_b.data_2 AS data_2
    FROM table_a
    LEFT JOIN table_b
    ON table_a.id=table_b.id

So, a simple `SELECT * FROM tables` will return:

    +------+--------+--------+
    | id   | data_1 | data_2 |
    +------+--------+--------+
    | 1    | Hello  | There  |
    +------+--------+--------+
    | 2    | Hi     | NULL   |
    +------+--------+--------+

An update to existing data is fine. Ie., `UPDATE tables SET data_2='World' WHERE id=1` completes and the result for id 1 would be:

    +------+--------+--------+
    | id   | data_1 | data_2 |
    +------+--------+--------+
    | 1    | Hello  | World  |
    +------+--------+--------+

But what about using an `UPDATE` statement on the right table (`table_b`) if it does not have any data matching the id? Using the same example as earlier, `UPDATE tables SET data_2='John' WHERE id=2` will result in 0 Rows matched (and therefore, `tables` will still return `NULL` instead of `John` in the `data_2` field). 

    +------+--------+--------+
    | id   | data_1 | data_2 |
    +------+--------+--------+
    | 2    | Hi     | NULL   |
    +------+--------+--------+

Is there a way to make this work on the `tables` view, without having to touch the `table_b` directly?",mysql,query,,,,,open,0,402,12,"MySQL: Updating a left-joined view, where right table has no matching data. I'm curious to know if this is actually possible...

In this simplified example, I have:

    Table_A:           Table_B:
    
    +------+--------+  +------+--------+
    | id   | data_1 |  | id   | data_2 |
    +------+--------+  +------+--------+
    | 1    | Hello  |  | 1    | There  |
    +------+--------+  +------+--------+
    | 2    | Hi     |
    +------+--------+

A MySQL View (`CREATE VIEW...`) called `tables` is:

    SELECT table_a.id AS id, 
     table_a.data_1 AS data_1, 
     table_b.data_2 AS data_2
    FROM table_a
    LEFT JOIN table_b
    ON table_a.id=table_b.id

So, a simple `SELECT * FROM tables` will return:

    +------+--------+--------+
    | id   | data_1 | data_2 |
    +------+--------+--------+
    | 1    | Hello  | There  |
    +------+--------+--------+
    | 2    | Hi     | NULL   |
    +------+--------+--------+

An update to existing data is fine. Ie., `UPDATE tables SET data_2='World' WHERE id=1` completes and the result for id 1 would be:

    +------+--------+--------+
    | id   | data_1 | data_2 |
    +------+--------+--------+
    | 1    | Hello  | World  |
    +------+--------+--------+

But what about using an `UPDATE` statement on the right table (`table_b`) if it does not have any data matching the id? Using the same example as earlier, `UPDATE tables SET data_2='John' WHERE id=2` will result in 0 Rows matched (and therefore, `tables` will still return `NULL` instead of `John` in the `data_2` field). 

    +------+--------+--------+
    | id   | data_1 | data_2 |
    +------+--------+--------+
    | 2    | Hi     | NULL   |
    +------+--------+--------+

Is there a way to make this work on the `tables` view, without having to touch the `table_b` directly?",2
9812190,03/21/2012 20:17:15,149664,08/03/2009 11:09:18,1831,57,Mysql find date range,"Given the following values YYYY-MM-DD

    $start = 2012-03-21
    $stop = 2012-07-15

and the following records in the DB, also YYYY-MM-DD


        DATE_FROM    DATE_TO       PRICE
        2012-01-01   2012-03-01    123
        2012-03-01   2012-04-08    123
        2012-04-09   2012-06-04    456
        2012-06-04   2012-07-02    789
        2012-07-02   2012-07-16    111
        2012-07-17   2012-08-17    222

How can I select all records that fall within the range of `$start` - `$stop`? This should include all except the last and first row

Attempt below, which gets records 2 - 4 but not 5.

        SELECT date_from, date_to, price 
        FROM periods
        WHERE (date(date_from) <= '$start' OR date(date_to) <= '$stop')",mysql,,,,,,open,0,204,4,"Mysql find date range Given the following values YYYY-MM-DD

    $start = 2012-03-21
    $stop = 2012-07-15

and the following records in the DB, also YYYY-MM-DD


        DATE_FROM    DATE_TO       PRICE
        2012-01-01   2012-03-01    123
        2012-03-01   2012-04-08    123
        2012-04-09   2012-06-04    456
        2012-06-04   2012-07-02    789
        2012-07-02   2012-07-16    111
        2012-07-17   2012-08-17    222

How can I select all records that fall within the range of `$start` - `$stop`? This should include all except the last and first row

Attempt below, which gets records 2 - 4 but not 5.

        SELECT date_from, date_to, price 
        FROM periods
        WHERE (date(date_from) <= '$start' OR date(date_to) <= '$stop')",1
9968020,04/01/2012 20:26:18,1197044,02/08/2012 11:26:31,42,0,Integrating MySQL or SQL in an ios app,"I am building a ios app for ipad, in which the user will be able to create a personal page, by adding in a view controller lavels, images, and text fields... I then wanted to offer the share option, so that the content is saved online and shared amongs all app users. This is where i am getting a bit confused. At first i thought of using icloud, but this was not possible. So i looked on the internet, and found out of this mySQL, but after all the research i still can not understand how it works. So I have at first to create a mysql or sql (don't know the difference), on a mac or pc, and then integrate using a firmware my server in the app. Am i right? Is this how you do it? Can someone explain me? Also, has this anything to do with XML?

Thanks in advance",mysql,ios,xcode,,,04/02/2012 05:10:56,not a real question,1,152,8,"Integrating MySQL or SQL in an ios app I am building a ios app for ipad, in which the user will be able to create a personal page, by adding in a view controller lavels, images, and text fields... I then wanted to offer the share option, so that the content is saved online and shared amongs all app users. This is where i am getting a bit confused. At first i thought of using icloud, but this was not possible. So i looked on the internet, and found out of this mySQL, but after all the research i still can not understand how it works. So I have at first to create a mysql or sql (don't know the difference), on a mac or pc, and then integrate using a firmware my server in the app. Am i right? Is this how you do it? Can someone explain me? Also, has this anything to do with XML?

Thanks in advance",3
8391683,12/05/2011 20:50:50,925086,09/02/2011 10:37:22,40,1,"get one bit by index from bit field, mysql","Is there a way to get one bit (or bool) from a bit field in mysql?

The only solution i've came up with is to use the following:
i want the bit value at position three.


    SELECT bit_count(bin(column) & b'100') AS bitValue FROM table;

The output from this query is either a one or a zero. But it does not look so nice.
Is there a better way to get the bit value at a specific position in a bit field?
Reading the bit values would be done heavily at my web application, do you think that the way of getting the value that i used above would be a problem for the performance?? i mean with both a bit_count and a BIN() and ""and"" operator..


I am looking for something like:

    SELECT column(3) FROM table;

Thanks for reading!

Mattias.


",mysql,bit,bit-fields,,,,open,0,138,9,"get one bit by index from bit field, mysql Is there a way to get one bit (or bool) from a bit field in mysql?

The only solution i've came up with is to use the following:
i want the bit value at position three.


    SELECT bit_count(bin(column) & b'100') AS bitValue FROM table;

The output from this query is either a one or a zero. But it does not look so nice.
Is there a better way to get the bit value at a specific position in a bit field?
Reading the bit values would be done heavily at my web application, do you think that the way of getting the value that i used above would be a problem for the performance?? i mean with both a bit_count and a BIN() and ""and"" operator..


I am looking for something like:

    SELECT column(3) FROM table;

Thanks for reading!

Mattias.


",3
5584632,04/07/2011 16:47:18,697227,04/07/2011 16:47:18,1,0,mysql live and archived data,"Suppose I have the following tables:

    CREATE TABLE `channels` (
    `channel_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
    `channel_name` varchar(40) NOT NULL,
    PRIMARY KEY (`channel_id`),
    UNIQUE KEY `channel_name` (`channel_name`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1;


    CREATE TABLE `data` (
    `date_time` decimal(26,6) NOT NULL,
    `channel_id` mediumint(8) unsigned NOT NULL,
    `value` varchar(40) DEFAULT NULL,
    `status` tinyint(3) unsigned DEFAULT NULL,
    `connected` tinyint(1) unsigned NOT NULL,
    PRIMARY KEY (`channel_id`,`date_time`)
    ) ENGINE=MyISAM DEFAULT CHARSET=latin1;

The `data` table stores the archived values for each channel. The channel_name is referenced by the `channels` table using the channel_id. I would also like to include the current value of each channel in my queries. The current value for each channel will be continuously updated, and occasionally archived in the `data` table. What is the best way to do this? Should I create another table for the current values, or store them in the `data` table with another column to indicate that they are current? Is there another option I haven't considered? How would I include the current values in my queries?

Thank you for your time.",mysql,,,,,,open,0,214,5,"mysql live and archived data Suppose I have the following tables:

    CREATE TABLE `channels` (
    `channel_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
    `channel_name` varchar(40) NOT NULL,
    PRIMARY KEY (`channel_id`),
    UNIQUE KEY `channel_name` (`channel_name`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1;


    CREATE TABLE `data` (
    `date_time` decimal(26,6) NOT NULL,
    `channel_id` mediumint(8) unsigned NOT NULL,
    `value` varchar(40) DEFAULT NULL,
    `status` tinyint(3) unsigned DEFAULT NULL,
    `connected` tinyint(1) unsigned NOT NULL,
    PRIMARY KEY (`channel_id`,`date_time`)
    ) ENGINE=MyISAM DEFAULT CHARSET=latin1;

The `data` table stores the archived values for each channel. The channel_name is referenced by the `channels` table using the channel_id. I would also like to include the current value of each channel in my queries. The current value for each channel will be continuously updated, and occasionally archived in the `data` table. What is the best way to do this? Should I create another table for the current values, or store them in the `data` table with another column to indicate that they are current? Is there another option I haven't considered? How would I include the current values in my queries?

Thank you for your time.",1
4598834,01/04/2011 21:52:16,556352,12/28/2010 19:42:33,3,0,Handling spatial data in CakePHP,"I have a database with a field for spatial data and a cakephp interface for it.  In MySQL I can save the data by doing:

INSERT INTO nodes (Location) VALUES (GeomFromText('POINT(42.450071 -76.487664)'))

How can I make Cake take the latitude and longitude from a web form and insert it in this manner?  I made a model that reads spatial data but I can't figure out how to make it write in spatial format.

Thanks for any insight.

-Andrew",mysql,cakephp,spatial,,,,open,0,76,5,"Handling spatial data in CakePHP I have a database with a field for spatial data and a cakephp interface for it.  In MySQL I can save the data by doing:

INSERT INTO nodes (Location) VALUES (GeomFromText('POINT(42.450071 -76.487664)'))

How can I make Cake take the latitude and longitude from a web form and insert it in this manner?  I made a model that reads spatial data but I can't figure out how to make it write in spatial format.

Thanks for any insight.

-Andrew",3
7292622,09/03/2011 10:39:31,561237,01/03/2011 12:51:24,78,0,retrieve deleted Mysql database from carbon copy cloner backup?,"I'm running OSX snow leopard with MAMP installed. I use MAMP for a drupal 6 site. Now, the database of the site dissappeared suddenly. So I have this  carbon copy cloner backup of the sites folder with the drupal project located on another drive. Obviously, you can't just copy the old sites folder and expect that to fix the situation, but I guess I can retrieve the database somehow, can't I?

Thanks in advance.

",mysql,drupal,backup,,,09/03/2011 18:52:07,off topic,1,74,9,"retrieve deleted Mysql database from carbon copy cloner backup? I'm running OSX snow leopard with MAMP installed. I use MAMP for a drupal 6 site. Now, the database of the site dissappeared suddenly. So I have this  carbon copy cloner backup of the sites folder with the drupal project located on another drive. Obviously, you can't just copy the old sites folder and expect that to fix the situation, but I guess I can retrieve the database somehow, can't I?

Thanks in advance.

",3
6014814,05/16/2011 08:33:22,741137,05/06/2011 05:36:34,3,0,Mysql query confusion,"I have this query 

    SELECT a.name, b.name, b.psn, b.firstname, b.country, b.email
    FROM member_groups a, members b
    WHERE a.staff = 'yes'
    AND a.id = b.gid
    GROUP BY a.name

 

a.name is group name and b.name is username

this query returns only one users from table b but there are more than 5 users in each group and if i remove group by it returns the group name more than once

I don't know about joins and other things, can you please help me.

Thanks",mysql,,,,,05/16/2011 08:43:48,not a real question,1,95,3,"Mysql query confusion I have this query 

    SELECT a.name, b.name, b.psn, b.firstname, b.country, b.email
    FROM member_groups a, members b
    WHERE a.staff = 'yes'
    AND a.id = b.gid
    GROUP BY a.name

 

a.name is group name and b.name is username

this query returns only one users from table b but there are more than 5 users in each group and if i remove group by it returns the group name more than once

I don't know about joins and other things, can you please help me.

Thanks",1
2706690,04/25/2010 00:25:36,227411,12/08/2009 19:36:12,188,5,Can't find my.cnf file so I can enable InnoDB - is there another way?,"I am trying to Magento running on a share server, and am having difficulty.

When I look at the engines in PHPmyAdmin, I get `InnoDB	DISABLED`. So I look in /etc/, and there is no my.cnf file. 

There is a ftpquota and a .boxtrapper file, but nothing else. 

I know I can probably create a new one, but this is a server that hosts a lot of sites. I'm afraid I will mess someone up. 

So is there a way to maybe create a my.cnf file that only enable InnoDB and doesn't effect anything else? Or is there another way to enable it?",mysql,innodb,,,,,open,0,101,14,"Can't find my.cnf file so I can enable InnoDB - is there another way? I am trying to Magento running on a share server, and am having difficulty.

When I look at the engines in PHPmyAdmin, I get `InnoDB	DISABLED`. So I look in /etc/, and there is no my.cnf file. 

There is a ftpquota and a .boxtrapper file, but nothing else. 

I know I can probably create a new one, but this is a server that hosts a lot of sites. I'm afraid I will mess someone up. 

So is there a way to maybe create a my.cnf file that only enable InnoDB and doesn't effect anything else? Or is there another way to enable it?",2
4548112,12/28/2010 17:52:46,3546,08/29/2008 04:36:13,4716,249,Is it possible to stop intellisense for .sql files in Visual Studio 2010?,"I'm using Visual Studio 2010 to edit DDL for a MySQL database in a file with a "".sql"" extension. The IDE insists on providing red squiggles under perfectly legal MySQL syntax, presumably as it's not legal SQL Server syntax.

Is it possible to disable syntax highlighting for .SQL files?

Or, better still, is MySQL IntelliSense highlighting available?",mysql,visual-studio-2010,intellisense,,,,open,0,55,13,"Is it possible to stop intellisense for .sql files in Visual Studio 2010? I'm using Visual Studio 2010 to edit DDL for a MySQL database in a file with a "".sql"" extension. The IDE insists on providing red squiggles under perfectly legal MySQL syntax, presumably as it's not legal SQL Server syntax.

Is it possible to disable syntax highlighting for .SQL files?

Or, better still, is MySQL IntelliSense highlighting available?",3
11131876,06/21/2012 05:16:16,949918,09/17/2011 05:56:08,316,13,How to avoid SQL injection in Rails 3,"In my Controllers I'm using many **find_by_sql()** stuff, and to avoid SQL injection I'm building my SQL statements as **hashes** as follows

    Beneficiary.find_by_sql([""SELECT * FROM beneficiaries WHERE project_id=? AND cso_id IN(SELECT user_id FROM user_projects INNER JOIN users ON  user_projects.user_id=users.id)"",params[:id]])

Is it enough to avoid SQL injection? or need more?",mysql,ruby-on-rails-3,sql-injection,controllers,hashes,,open,0,52,8,"How to avoid SQL injection in Rails 3 In my Controllers I'm using many **find_by_sql()** stuff, and to avoid SQL injection I'm building my SQL statements as **hashes** as follows

    Beneficiary.find_by_sql([""SELECT * FROM beneficiaries WHERE project_id=? AND cso_id IN(SELECT user_id FROM user_projects INNER JOIN users ON  user_projects.user_id=users.id)"",params[:id]])

Is it enough to avoid SQL injection? or need more?",5
4402518,12/09/2010 19:57:01,76778,03/11/2009 16:59:04,213,19,Is it worth to use Oracle for a web application instead of PostgreSQL or MySQL?,I'm starting a web application and I'm hesitating if it is worth to use Oracle in order to have a better performance / scalability. Thanks,mysql,oracle,postgresql,,,12/10/2010 03:37:34,not constructive,1,25,15,Is it worth to use Oracle for a web application instead of PostgreSQL or MySQL? I'm starting a web application and I'm hesitating if it is worth to use Oracle in order to have a better performance / scalability. Thanks,3
7686708,10/07/2011 11:39:20,892256,08/12/2011 18:04:41,2105,260,MySql database and business,"Is it better to ensure the integrity of the database through triggers or the use of stored procedures to make sure only good data goes into it. i.e. use of regex, range checking,.. into the tables",mysql,design,,,,10/08/2011 09:00:17,not a real question,1,36,4,"MySql database and business Is it better to ensure the integrity of the database through triggers or the use of stored procedures to make sure only good data goes into it. i.e. use of regex, range checking,.. into the tables",2
11583516,07/20/2012 16:35:56,407615,07/31/2010 18:53:18,519,25,"With ActiveRecord, how do I get all records from database with only one associated record?","With ActiveRecord, how do I get all records from database with only one associated record?

For example: I have two tables, table_a has many related records in table_b.

I want to make an ActiveRecord query that will fetch me only the table_a query objects that have *only one associated records in table_b*.

How would I go about doing this? 

Thanks!",mysql,sql,ruby-on-rails-3,activerecord,,,open,0,57,15,"With ActiveRecord, how do I get all records from database with only one associated record? With ActiveRecord, how do I get all records from database with only one associated record?

For example: I have two tables, table_a has many related records in table_b.

I want to make an ActiveRecord query that will fetch me only the table_a query objects that have *only one associated records in table_b*.

How would I go about doing this? 

Thanks!",4
6621829,07/08/2011 08:23:19,248854,01/12/2010 12:06:31,105,0,MySql overloads 3 Xeon CPUs on VPS even with memcached installed,"    Total processors: 3
    Processor #1
    Vendor
    GenuineIntel
    Name
    Intel(R) Xeon(R) CPU E5520 @ 2.27GHz
    Speed
    2261.059 MHz
    Cache
    8192 KB
    Processor #2
    Vendor
    GenuineIntel
    Name
    Intel(R) Xeon(R) CPU E5520 @ 2.27GHz
    Speed
    2261.059 MHz
    Cache
    8192 KB
    Processor #3
    Vendor
    GenuineIntel
    Name
    Intel(R) Xeon(R) CPU E5520 @ 2.27GHz
    Speed
    2261.059 MHz
    Cache
    8192 KB


So thats a **CPU:5.09 GHZ RAM:3801 MB VPS** that I purchased from hostgator which sucks hell out of me.

What I get is constant CPU usage of 156-166%. My site traffic isnt that high and i have optimized all the mysql queries up to my knowledge. And the server keep crashing every five minutes after I kill the MYSQL. I have enabled memcached even thats not helping that much.

I just wanted know is theres something that im missing on MySql performance crap. Should I install ngix or lighttpd? I dont think thats involved.

And are those dedicated servers with 2GHz better than a 5GHz VPS?

Or simply hosgator sucks?",mysql,performance,memcached,overloading,cpu,07/08/2011 08:37:30,off topic,1,244,11,"MySql overloads 3 Xeon CPUs on VPS even with memcached installed     Total processors: 3
    Processor #1
    Vendor
    GenuineIntel
    Name
    Intel(R) Xeon(R) CPU E5520 @ 2.27GHz
    Speed
    2261.059 MHz
    Cache
    8192 KB
    Processor #2
    Vendor
    GenuineIntel
    Name
    Intel(R) Xeon(R) CPU E5520 @ 2.27GHz
    Speed
    2261.059 MHz
    Cache
    8192 KB
    Processor #3
    Vendor
    GenuineIntel
    Name
    Intel(R) Xeon(R) CPU E5520 @ 2.27GHz
    Speed
    2261.059 MHz
    Cache
    8192 KB


So thats a **CPU:5.09 GHZ RAM:3801 MB VPS** that I purchased from hostgator which sucks hell out of me.

What I get is constant CPU usage of 156-166%. My site traffic isnt that high and i have optimized all the mysql queries up to my knowledge. And the server keep crashing every five minutes after I kill the MYSQL. I have enabled memcached even thats not helping that much.

I just wanted know is theres something that im missing on MySql performance crap. Should I install ngix or lighttpd? I dont think thats involved.

And are those dedicated servers with 2GHz better than a 5GHz VPS?

Or simply hosgator sucks?",5
2382931,03/04/2010 21:44:05,286652,03/04/2010 21:44:05,1,0,mysql many to many relation query,"Maybe I am just falling asleep (or not!), but how can you do this:

I have a table (many to many), let's say for example with fields key1 and key2, in which I want to select all the key1 that don't have a relation with certain key2. As an example, if I have the following:

    k1_A --- k2_A 
    k1_A --- k2_B
    k1_B --- k2_C
    k1_C --- k2_D
    k1_D --- k2_A

I want all the key1 that don't have ""k2_A"", so I would expect as result: k1_B,k1_C.

Thanks,
Cheers

",mysql,query,,,,,open,0,100,6,"mysql many to many relation query Maybe I am just falling asleep (or not!), but how can you do this:

I have a table (many to many), let's say for example with fields key1 and key2, in which I want to select all the key1 that don't have a relation with certain key2. As an example, if I have the following:

    k1_A --- k2_A 
    k1_A --- k2_B
    k1_B --- k2_C
    k1_C --- k2_D
    k1_D --- k2_A

I want all the key1 that don't have ""k2_A"", so I would expect as result: k1_B,k1_C.

Thanks,
Cheers

",2
6770751,07/21/2011 02:40:59,855098,07/21/2011 02:40:59,1,0,"Lost connection to MySQL server at 'reading initial communication packet', system error: 61","3 days on this and have hit a wall. I'm running mac os x. I have installed the mysql-5.5.14-osx10.6-x86_64.dmg. I have tried over  50 solutions I've found on the net and the only words, thoughts and feelings I have left are WTF? 

As far as the context, I need to install the mysql gem for use with ruby on rails and it that won't install properly unless there is a valid instance of mysql running. 

I've tried using the /Library/StartupItems/MySQLCOM/MySQLCOM [start|stop|restart] method to start the mysql server and it comes back with no errors, but when I try to connect to it via the MySQL Workbench, it always says ""Lost connection to MySQL server at 'reading initial communication packet', system error: 61"". 

Other solutions I've found indicate I need to comment out the bind-address in my.cnf but there is no such file on my system. 

I come from a windows background and am very confused about how all this is configured on a mac.

Any help would more than awesome!
",mysql,osx,mysql-workbench,,,,open,0,170,13,"Lost connection to MySQL server at 'reading initial communication packet', system error: 61 3 days on this and have hit a wall. I'm running mac os x. I have installed the mysql-5.5.14-osx10.6-x86_64.dmg. I have tried over  50 solutions I've found on the net and the only words, thoughts and feelings I have left are WTF? 

As far as the context, I need to install the mysql gem for use with ruby on rails and it that won't install properly unless there is a valid instance of mysql running. 

I've tried using the /Library/StartupItems/MySQLCOM/MySQLCOM [start|stop|restart] method to start the mysql server and it comes back with no errors, but when I try to connect to it via the MySQL Workbench, it always says ""Lost connection to MySQL server at 'reading initial communication packet', system error: 61"". 

Other solutions I've found indicate I need to comment out the bind-address in my.cnf but there is no such file on my system. 

I come from a windows background and am very confused about how all this is configured on a mac.

Any help would more than awesome!
",3
11525919,07/17/2012 15:34:20,272096,02/12/2010 19:44:47,155,2,How to delete a bad trigger,"On Mysql Version 5.0.77, I ran this 

    CREATE TRIGGER ins_trap_to_memory AFTER INSERT on Table1
    FOR EACH ROW 
    INSERT INTO Table1_Copy SELECT NEW.*;

It ran, but now the database is disconnecting whenever I try to do certain things:

Can't view triggers-

    mysql> SHOW TRIGGERS LIKE '%'\G
    ERROR 2006 (HY000): MySQL server has gone away
    No connection. Trying to reconnect...
    Connection id:    7
    Current database: mydb

    ERROR 2013 (HY000): Lost connection to MySQL server during query

Can't drop the problem trigger-

    mysql> DROP TRIGGER ins_trap_to_memory;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3

Can't query information_schema.TRIGGERS-

    mysql> select * from information_schema.TRIGGERS;
    ERROR 2006 (HY000): MySQL server has gone away
    No connection. Trying to reconnect...
    Connection id:    12
    Current database: information_schema

    ERROR 2013 (HY000): Lost connection to MySQL server during query
",mysql,,,,,07/18/2012 15:52:10,too localized,1,207,6,"How to delete a bad trigger On Mysql Version 5.0.77, I ran this 

    CREATE TRIGGER ins_trap_to_memory AFTER INSERT on Table1
    FOR EACH ROW 
    INSERT INTO Table1_Copy SELECT NEW.*;

It ran, but now the database is disconnecting whenever I try to do certain things:

Can't view triggers-

    mysql> SHOW TRIGGERS LIKE '%'\G
    ERROR 2006 (HY000): MySQL server has gone away
    No connection. Trying to reconnect...
    Connection id:    7
    Current database: mydb

    ERROR 2013 (HY000): Lost connection to MySQL server during query

Can't drop the problem trigger-

    mysql> DROP TRIGGER ins_trap_to_memory;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3

Can't query information_schema.TRIGGERS-

    mysql> select * from information_schema.TRIGGERS;
    ERROR 2006 (HY000): MySQL server has gone away
    No connection. Trying to reconnect...
    Connection id:    12
    Current database: information_schema

    ERROR 2013 (HY000): Lost connection to MySQL server during query
",1
4455035,12/15/2010 21:24:22,276959,02/19/2010 12:45:43,910,6,Cross table update in MySQL,"I'm writing a trigger that will do a cross table update, but I can't get the desired result. I'm working with one param, and that is messageId. Using that messageId, I need to go into the messages table and find the userId @messageId, then update his/her score:

          UPDATE users
          SET users.score = users.score + 1
          WHERE users.id = messages.userId

I need to select messages.userId @messageId from messages, but the trigger will not let me do a select statement, so I'm a bit stuck!",mysql,,,,,,open,0,109,5,"Cross table update in MySQL I'm writing a trigger that will do a cross table update, but I can't get the desired result. I'm working with one param, and that is messageId. Using that messageId, I need to go into the messages table and find the userId @messageId, then update his/her score:

          UPDATE users
          SET users.score = users.score + 1
          WHERE users.id = messages.userId

I need to select messages.userId @messageId from messages, but the trigger will not let me do a select statement, so I'm a bit stuck!",1
9937907,03/30/2012 06:18:53,1259446,03/09/2012 13:57:13,38,0,Insert Query Not working,"Hi i have a small query which takes data from one mysql database and inserts it into a duplicate table, the problem is i get the relevant data out of the database fine, but i can not seem to get it in to the new database, i have error reporting enabled, but i am not getting any errors.

Below is my code:

    $dbhost							= """";
    $dbuser							= """";
    $dbpass							= """";
    $dbname							= """";
    $conn = mysql_connect($dbhost, $dbuser, $dbpass) or die (""Error connecting to  database"");
    mysql_select_db($dbname);
    $result = mysql_query(""SELECT * FROM ip_stats WHERE DATE(date) = CURDATE()"") 
    or die(mysql_error());  
    // keeps getting the next row until there are no more to get
    while($row = mysql_fetch_array( $result )) {
    $id   = $row['id'];
    $date   = $row['date'];
    $ip   = $row['ip'];
    $hostname   = $row['hostname'];
    $company_name   = $row['company_name'];
    $address   = $row['address'];
    $descr   = $row['descr'];
    echo ""$id - $date - $ip - $hostname - $company_name - $address - $descr""; ?><br /><?php
          $query = ""INSERT INTO `ip_stats11` (`id`, `ip`, `date`, `hostname`, `company_name`, `address`, `descr`, `updated`)
		  VALUES ('$id', '$ip', '$date', '$hostname', '$company_name', '$address', '$descr', 'yes')"";
          echo ""updated $ip""; ?><br /><?php
    }",mysql,php5,,,,03/30/2012 18:48:44,too localized,1,271,4,"Insert Query Not working Hi i have a small query which takes data from one mysql database and inserts it into a duplicate table, the problem is i get the relevant data out of the database fine, but i can not seem to get it in to the new database, i have error reporting enabled, but i am not getting any errors.

Below is my code:

    $dbhost							= """";
    $dbuser							= """";
    $dbpass							= """";
    $dbname							= """";
    $conn = mysql_connect($dbhost, $dbuser, $dbpass) or die (""Error connecting to  database"");
    mysql_select_db($dbname);
    $result = mysql_query(""SELECT * FROM ip_stats WHERE DATE(date) = CURDATE()"") 
    or die(mysql_error());  
    // keeps getting the next row until there are no more to get
    while($row = mysql_fetch_array( $result )) {
    $id   = $row['id'];
    $date   = $row['date'];
    $ip   = $row['ip'];
    $hostname   = $row['hostname'];
    $company_name   = $row['company_name'];
    $address   = $row['address'];
    $descr   = $row['descr'];
    echo ""$id - $date - $ip - $hostname - $company_name - $address - $descr""; ?><br /><?php
          $query = ""INSERT INTO `ip_stats11` (`id`, `ip`, `date`, `hostname`, `company_name`, `address`, `descr`, `updated`)
		  VALUES ('$id', '$ip', '$date', '$hostname', '$company_name', '$address', '$descr', 'yes')"";
          echo ""updated $ip""; ?><br /><?php
    }",2
6688812,07/14/2011 05:26:19,843895,07/14/2011 05:14:13,1,0,Exactly is near-linear scalability supposed to be good scalability or bad scalability?,"
I've been doing some reading on scalability and i came across the term **near-linear scalability**.

Exactly is **near-linear scalability** supposed to be good scalability or bad scalability?",mysql,sql-server,database,nosql,,07/14/2011 11:21:25,not a real question,1,26,12,"Exactly is near-linear scalability supposed to be good scalability or bad scalability? 
I've been doing some reading on scalability and i came across the term **near-linear scalability**.

Exactly is **near-linear scalability** supposed to be good scalability or bad scalability?",4
1814491,11/29/2009 02:50:19,200619,04/16/2009 23:41:03,89,3,How does MySQL execute an aggregate query with a limit?,Does it group all possible results and then send back the results found within the given `LIMIT`?,mysql,query,,,,,open,0,17,10,How does MySQL execute an aggregate query with a limit? Does it group all possible results and then send back the results found within the given `LIMIT`?,2
7706712,10/09/2011 21:35:53,980430,10/05/2011 13:17:48,1,0,"Fedora 15 , unable to install programmes","this is my first post, so lets get into it:

my problem is with fedora 15

# uname -a
Linux alienware 2.6.38.8-35.fc15.i686 #1 SMP Wed Jul 6 14:46:26 UTC 2011 i686 i686 i386 GNU/Linux

and with installation of some programmes I have this kind of thing going on:

Error: Package: mysql-server-5.5.10-2.fc15.i686 (fedora)
           Requires: mysql-libs(x86-32) = 5.5.10-2.fc15
           Installed: mysql-libs-5.5.14-2.fc15.i686 (@updates)
               mysql-libs(x86-32) = 5.5.14-2.fc15
           Available: mysql-libs-5.5.10-2.fc15.i686 (fedora)
               mysql-libs(x86-32) = 5.5.10-2.fc15
Error: Package: mysql-server-5.5.10-2.fc15.i686 (fedora)
           Requires: mysql(x86-32) = 5.5.10-2.fc15
           Installed: mysql-5.5.14-2.fc15.i686 (@updates)
               mysql(x86-32) = 5.5.14-2.fc15
           Available: mysql-5.5.10-2.fc15.i686 (fedora)
               mysql(x86-32) = 5.5.10-2.fc15

from the message it seems, that I am kind of ahead, but what to do with it, I encountered it also on many others, but this one is the most recent one and I desperately need this. Please someone help me to solve this. 

(I have tryed some things from the internet, but wont work at all... and reinstal is not the solution either.... what now ? :( )

",mysql,package,fedora,,,10/09/2011 21:59:55,off topic,1,266,7,"Fedora 15 , unable to install programmes this is my first post, so lets get into it:

my problem is with fedora 15

# uname -a
Linux alienware 2.6.38.8-35.fc15.i686 #1 SMP Wed Jul 6 14:46:26 UTC 2011 i686 i686 i386 GNU/Linux

and with installation of some programmes I have this kind of thing going on:

Error: Package: mysql-server-5.5.10-2.fc15.i686 (fedora)
           Requires: mysql-libs(x86-32) = 5.5.10-2.fc15
           Installed: mysql-libs-5.5.14-2.fc15.i686 (@updates)
               mysql-libs(x86-32) = 5.5.14-2.fc15
           Available: mysql-libs-5.5.10-2.fc15.i686 (fedora)
               mysql-libs(x86-32) = 5.5.10-2.fc15
Error: Package: mysql-server-5.5.10-2.fc15.i686 (fedora)
           Requires: mysql(x86-32) = 5.5.10-2.fc15
           Installed: mysql-5.5.14-2.fc15.i686 (@updates)
               mysql(x86-32) = 5.5.14-2.fc15
           Available: mysql-5.5.10-2.fc15.i686 (fedora)
               mysql(x86-32) = 5.5.10-2.fc15

from the message it seems, that I am kind of ahead, but what to do with it, I encountered it also on many others, but this one is the most recent one and I desperately need this. Please someone help me to solve this. 

(I have tryed some things from the internet, but wont work at all... and reinstal is not the solution either.... what now ? :( )

",3
859313,05/13/2009 17:33:31,86731,04/03/2009 13:16:39,1,0,Import SQL dump into MySQL,"I'm confused how to import a SQL dump file.

I can't seem to import the database without creating the database first in MySQL.
This is the error displayed when database_name has not yet been created:  
username = username of someone with access to the database on the original server.  
database_name = name of database from the original server  
$ mysql -u username -p -h localhost database_name < dumpfile.sql   
Enter password:  
ERROR 1049 (42000): Unknown database 'database_name'  

If I log into MySQL as root and create the database, database_name  
    mysql -u root  
    create database database_name;  
    create user username;# same username as the user from the database I got the dump from.  
    grant all privileges on database_name.* to username@""localhost"" identified by 'password';  
exit mysql

then attempt to import the sql dump again:  
$ mysql -u username -p database_name < dumpfile.sql  
Enter password:  
ERROR 1007 (HY000) at line 21: Can't create database 'database_name'; database exists

How am I supposed to import the SQL dumpfile?",mysql,mysqldump,sql,,,,open,0,188,5,"Import SQL dump into MySQL I'm confused how to import a SQL dump file.

I can't seem to import the database without creating the database first in MySQL.
This is the error displayed when database_name has not yet been created:  
username = username of someone with access to the database on the original server.  
database_name = name of database from the original server  
$ mysql -u username -p -h localhost database_name < dumpfile.sql   
Enter password:  
ERROR 1049 (42000): Unknown database 'database_name'  

If I log into MySQL as root and create the database, database_name  
    mysql -u root  
    create database database_name;  
    create user username;# same username as the user from the database I got the dump from.  
    grant all privileges on database_name.* to username@""localhost"" identified by 'password';  
exit mysql

then attempt to import the sql dump again:  
$ mysql -u username -p database_name < dumpfile.sql  
Enter password:  
ERROR 1007 (HY000) at line 21: Can't create database 'database_name'; database exists

How am I supposed to import the SQL dumpfile?",3
8770624,01/07/2012 15:08:49,1084950,12/07/2011 05:26:22,1,0,how to install MDB2 for pear on window 7?,"I have been install mysql、php、pear, and I dont konw how to install MDB2 on win7.
Should I install Wamp first?",mysql,pear,mdb2,,,01/09/2012 10:26:54,off topic,1,19,9,"how to install MDB2 for pear on window 7? I have been install mysql、php、pear, and I dont konw how to install MDB2 on win7.
Should I install Wamp first?",3
9967382,04/01/2012 19:09:56,551855,12/23/2010 00:05:14,154,25,Login from a site A to a site B?,"Ok theres one news-portal and its huge (site A). During production backwards, it has been even powered with some sort of a social networking stuff which is crazy addicting - not yet started, but about to start (soon site B).

Packed together looks great, but in some future there might be a lot of problems with maintaining DB, servers and stuff so guys asked me to separate it as I did.

Site A goes on its own domain, site B also - DBs are separated.

Now, I'm endeavored to do the following:

- when user logs into site B (social site) and arrives to site A (portal) its very welcome to be instantly logged in there too (on a site A).

Any hot ideas/pathways how to do this - without duplicating entries to user tables? I never faced challenge like this.

With one DB no problem, but with two.. Any hot tips? 

Thanx in advance.


",mysql,php5,optimization,,,,open,0,149,9,"Login from a site A to a site B? Ok theres one news-portal and its huge (site A). During production backwards, it has been even powered with some sort of a social networking stuff which is crazy addicting - not yet started, but about to start (soon site B).

Packed together looks great, but in some future there might be a lot of problems with maintaining DB, servers and stuff so guys asked me to separate it as I did.

Site A goes on its own domain, site B also - DBs are separated.

Now, I'm endeavored to do the following:

- when user logs into site B (social site) and arrives to site A (portal) its very welcome to be instantly logged in there too (on a site A).

Any hot ideas/pathways how to do this - without duplicating entries to user tables? I never faced challenge like this.

With one DB no problem, but with two.. Any hot tips? 

Thanx in advance.


",3
6707896,07/15/2011 13:42:30,673018,03/23/2011 12:33:25,156,7,"What is difference between ""colum is not null"" and ""column !=''"" and 'column<> ''' in mysql query ?","IF ""emp"" is one of the column of the table in mysql Database, Please let me know, the difference between below queries ?
`emp <> ''`
and
`emp not null`
I'm confused, please help me.
",mysql,,,,,,open,0,31,18,"What is difference between ""colum is not null"" and ""column !=''"" and 'column<> ''' in mysql query ? IF ""emp"" is one of the column of the table in mysql Database, Please let me know, the difference between below queries ?
`emp <> ''`
and
`emp not null`
I'm confused, please help me.
",1
10548476,05/11/2012 09:03:44,979099,10/04/2011 18:47:18,88,1,MySQL Query with multiple columns but exact matches?,"I've got my table called Device_tbl which has the following columns:

 - Image
 - Manufacturer
 - Model

An example of some of my Manufacturers are:

 - Sony Ericsson
 - HTC
 - Motorola

An example of some of my Models are:

 - One X
 - One S
 - Xperia Arc
 - Xperia X10
 - Xoom

The issue I have is that I pass the combination of a Manufacturer and a Model into the query.  For example:

    SELECT Image, Manufacturer, Model FROM Device_tbl WHERE Manufacturer LIKE 'Sony Ericsson Xperia Arc' OR Model LIKE 'Sony Ericsson Xperia Arc' 

As you can see, this would return nothing.  What I am after is an it to return an EXACT match of only that result above, however if I searched for Son it'd return all results where Son exists in either Manufacturer or Model.

Possible solution?
------------------

If its any help, I am using the JQuery Autocomplete function to generate the full names.  These suggestions are generated from an array which combines the  Manufacturer and Model.  Not sure if there's a way to split it in the background so the search is more accurate?

    <?php
    mysql_select_db($database_database_connection, $database_connection);
    $query = ""SELECT * FROM Device_tbl"";
    $result=mysql_query($query, $database_connection) or die(mysql_error());
    $findrow = array();
    while($row = mysql_fetch_assoc($result)){
    	$manufac = $row['Manufacturer'];
    	$mod = $row['Model'];
    	$string = $manufac.' '.$mod;
    	$findrow[] = $string;
    }
    
    ?>
    
    
    <script type=""text/javascript"">
    $(document).ready(function() {
    
    var availableTags = <?php echo json_encode($findrow);?>;
    
      $(""#search_input"").watermark(""Begin Typing to Search"");
      $('#searchresultdata').append(sendSelected);
       
    	$( ""#search_input"" ).autocomplete({
        	source: availableTags,
        	select: function(event, ui) {
          	  sendSelected(ui.item.value);
          	  }
        	});
    
    function sendSelected(_val){
        var search_input = _val;
        if (search_input =='') search_input ='*';
        var dataString = 'keyword='+search_input;
    
        if (search_input.length > 2 || search_input=='*') {
           $.ajax({
                type: ""GET"",
                url: ""core/functions/searchdata.php"",
                data: dataString,
                success: function(server_response) {
                    $('#searchresultdata').empty();
                    $('#searchresultdata').append(server_response);
                    $('span#category_title').html(search_input);
                }
            });
        }
    }
    });
    </script>	

",mysql,jquery-ui,,,,,open,0,628,8,"MySQL Query with multiple columns but exact matches? I've got my table called Device_tbl which has the following columns:

 - Image
 - Manufacturer
 - Model

An example of some of my Manufacturers are:

 - Sony Ericsson
 - HTC
 - Motorola

An example of some of my Models are:

 - One X
 - One S
 - Xperia Arc
 - Xperia X10
 - Xoom

The issue I have is that I pass the combination of a Manufacturer and a Model into the query.  For example:

    SELECT Image, Manufacturer, Model FROM Device_tbl WHERE Manufacturer LIKE 'Sony Ericsson Xperia Arc' OR Model LIKE 'Sony Ericsson Xperia Arc' 

As you can see, this would return nothing.  What I am after is an it to return an EXACT match of only that result above, however if I searched for Son it'd return all results where Son exists in either Manufacturer or Model.

Possible solution?
------------------

If its any help, I am using the JQuery Autocomplete function to generate the full names.  These suggestions are generated from an array which combines the  Manufacturer and Model.  Not sure if there's a way to split it in the background so the search is more accurate?

    <?php
    mysql_select_db($database_database_connection, $database_connection);
    $query = ""SELECT * FROM Device_tbl"";
    $result=mysql_query($query, $database_connection) or die(mysql_error());
    $findrow = array();
    while($row = mysql_fetch_assoc($result)){
    	$manufac = $row['Manufacturer'];
    	$mod = $row['Model'];
    	$string = $manufac.' '.$mod;
    	$findrow[] = $string;
    }
    
    ?>
    
    
    <script type=""text/javascript"">
    $(document).ready(function() {
    
    var availableTags = <?php echo json_encode($findrow);?>;
    
      $(""#search_input"").watermark(""Begin Typing to Search"");
      $('#searchresultdata').append(sendSelected);
       
    	$( ""#search_input"" ).autocomplete({
        	source: availableTags,
        	select: function(event, ui) {
          	  sendSelected(ui.item.value);
          	  }
        	});
    
    function sendSelected(_val){
        var search_input = _val;
        if (search_input =='') search_input ='*';
        var dataString = 'keyword='+search_input;
    
        if (search_input.length > 2 || search_input=='*') {
           $.ajax({
                type: ""GET"",
                url: ""core/functions/searchdata.php"",
                data: dataString,
                success: function(server_response) {
                    $('#searchresultdata').empty();
                    $('#searchresultdata').append(server_response);
                    $('span#category_title').html(search_input);
                }
            });
        }
    }
    });
    </script>	

",2
9465253,02/27/2012 12:46:10,599781,02/02/2011 09:54:12,13,2,Why choose MySQL over other Sql?,"i wanted to ask a question that i myself have been asked in class by our database teacher;

What makes MySQL different from other Sqls? I've always been using MySQL due to the fact that's what we have been taught when i learned how to program websites, but honestly? I dont know what makes MySQL better then other SQL's(For program development) such as;

SQLite
MS Access
PostgreSQL
MongoDB

I was hoping someone could point me towards the answer or perhaps even give me a explanation of it.

I hope it was alright to post this question here as i'm unsure as to were else it should have been posted.

Thanks in advance.",mysql,sql,,,,02/27/2012 12:51:46,not a real question,1,104,6,"Why choose MySQL over other Sql? i wanted to ask a question that i myself have been asked in class by our database teacher;

What makes MySQL different from other Sqls? I've always been using MySQL due to the fact that's what we have been taught when i learned how to program websites, but honestly? I dont know what makes MySQL better then other SQL's(For program development) such as;

SQLite
MS Access
PostgreSQL
MongoDB

I was hoping someone could point me towards the answer or perhaps even give me a explanation of it.

I hope it was alright to post this question here as i'm unsure as to were else it should have been posted.

Thanks in advance.",2
1345331,08/28/2009 06:29:24,159554,08/19/2009 19:40:37,1,1,get max value in php (instead of mysql),"I have two msyql tables, Badges and Events. I use a join to find all the events and return the badge info for that event (title & description) using the following code:

> SELECT COUNT(Badges.badge_ID) AS
> badge_count,title,Badges.description
> FROM `Badges` JOIN `Events` ON
> Badges.badge_id=Events.badge_id GROUP
> BY title ASC

In addition to the counts, I need to know the value of the event with the most entries. I thought I'd do this in php with the max() function, but I had trouble getting that to work correctly. So, I decided I could get the same result by modifying the above query by using ""ORDER BY badgecount DESC LIMIT 1,"" which returns an array of a single element, whose value is the highest count total of all the events.

While this solution works well for me, I'm curious if it is taking more resources to make 2 calls to the server (b/c I'm now using two queries) instead of working it out in php. If I did do it in php, how could I get the max value of a particular item in an associative array (it would be nice to be able to return the key and the value, if possible)?",mysql,php,,,,,open,0,196,8,"get max value in php (instead of mysql) I have two msyql tables, Badges and Events. I use a join to find all the events and return the badge info for that event (title & description) using the following code:

> SELECT COUNT(Badges.badge_ID) AS
> badge_count,title,Badges.description
> FROM `Badges` JOIN `Events` ON
> Badges.badge_id=Events.badge_id GROUP
> BY title ASC

In addition to the counts, I need to know the value of the event with the most entries. I thought I'd do this in php with the max() function, but I had trouble getting that to work correctly. So, I decided I could get the same result by modifying the above query by using ""ORDER BY badgecount DESC LIMIT 1,"" which returns an array of a single element, whose value is the highest count total of all the events.

While this solution works well for me, I'm curious if it is taking more resources to make 2 calls to the server (b/c I'm now using two queries) instead of working it out in php. If I did do it in php, how could I get the max value of a particular item in an associative array (it would be nice to be able to return the key and the value, if possible)?",2
2911028,05/26/2010 07:51:49,58082,01/22/2009 22:18:39,5701,290,mysql UDF : fopen = permission denied,"I'm trying to create a [mysql UDF function][1] , this function calls ""fopen/fclose"" to read a flat file stored in `/data`. But using errno (yes, I know it is bad in a MT program...) I can see that the function cannot open my file:

    ""Permission denied""

I tried to do a

    chmod -R 755 /data

but it didn't change anything.
Any idea ?

  [1]: http://dev.mysql.com/doc/refman/5.0/en/adding-functions.html",mysql,permissions,udf,,,,open,0,69,7,"mysql UDF : fopen = permission denied I'm trying to create a [mysql UDF function][1] , this function calls ""fopen/fclose"" to read a flat file stored in `/data`. But using errno (yes, I know it is bad in a MT program...) I can see that the function cannot open my file:

    ""Permission denied""

I tried to do a

    chmod -R 755 /data

but it didn't change anything.
Any idea ?

  [1]: http://dev.mysql.com/doc/refman/5.0/en/adding-functions.html",3
9022334,01/26/2012 17:18:34,1171807,01/26/2012 17:12:29,1,0,when must you becareful when combining a join with a where condition?,"I have looked for this answer in my book for school and on line and have been unsuccessful, please help me find the answer to this I am new to the data base world and need to learn it but cannot learn if I cannot find the answers, I know that when I get into real world situations I will learn a lot more about it with constant hands on experience but for now Im just trying to pass the course and get onto the next. thanks",mysql,,,,,01/26/2012 21:24:14,not a real question,1,87,12,"when must you becareful when combining a join with a where condition? I have looked for this answer in my book for school and on line and have been unsuccessful, please help me find the answer to this I am new to the data base world and need to learn it but cannot learn if I cannot find the answers, I know that when I get into real world situations I will learn a lot more about it with constant hands on experience but for now Im just trying to pass the course and get onto the next. thanks",1
8612219,12/23/2011 04:23:31,74908,03/06/2009 22:39:16,598,2,mySQL commands not recognized in the Unix Shell,"I just installed mySQL (mysql-5.5.19-osx10.6-x86_64) on my Mac OS X and when I try to run one of the mysql command like `mysqld` I get the following error:

    -bash: mysqld: command not found

Is there something I am missing?  I've tried restarting Terminal and I made sure to run the command for the files located in `/usr/local/mysql/bin`.

Thanks",mysql,osx,unix,,,12/23/2011 12:46:28,off topic,1,60,8,"mySQL commands not recognized in the Unix Shell I just installed mySQL (mysql-5.5.19-osx10.6-x86_64) on my Mac OS X and when I try to run one of the mysql command like `mysqld` I get the following error:

    -bash: mysqld: command not found

Is there something I am missing?  I've tried restarting Terminal and I made sure to run the command for the files located in `/usr/local/mysql/bin`.

Thanks",3
7368708,09/10/2011 00:12:10,253976,01/19/2010 12:09:40,2377,6,Database Design: saving Google Maps data,"SEE: http://maps.googleapis.com/maps/api/geocode/json?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA&sensor=false

I'm using MySQL.

Given a partial or complete address, the Google Map API will return something like this:

    ""address_components"" : [
                {
                   ""long_name"" : ""1600"",
                   ""short_name"" : ""1600"",
                   ""types"" : [ ""street_number"" ]
                },
                {
                   ""long_name"" : ""Amphitheatre Pkwy"",
                   ""short_name"" : ""Amphitheatre Pkwy"",
                   ""types"" : [ ""route"" ]
                },
                {
                   ""long_name"" : ""Mountain View"",
                   ""short_name"" : ""Mountain View"",
                   ""types"" : [ ""locality"", ""political"" ]
                },
                {
                   ""long_name"" : ""Santa Clara"",
                   ""short_name"" : ""Santa Clara"",
                   ""types"" : [ ""administrative_area_level_2"", ""political"" ]
                },
                {
                   ""long_name"" : ""California"",
                   ""short_name"" : ""CA"",
                   ""types"" : [ ""administrative_area_level_1"", ""political"" ]
                },
                {
                   ""long_name"" : ""United States"",
                   ""short_name"" : ""US"",
                   ""types"" : [ ""country"", ""political"" ]
                },
                {
                   ""long_name"" : ""94043"",
                   ""short_name"" : ""94043"",
                   ""types"" : [ ""postal_code"" ]
                }
             ]

Assume I am developing an application wherein:

 1. account owners can specify their location, and
 2. search by location is supported

How should I store the address components I get from Google so that I can query for the following:

 1. How many account owners in a particular country?
 2. How many account owners in a particular state?
 3. How many account owners in a particular ZIP/postal code?
 4. etc.

One very easy way is to store individual address components in one table:

    TABLE: account
    - account_id (PK)
    - street_number
    - route
    - locality
    - administrative_area_level_2
    - administrative_area_level_1
    - country
    - postal_code

I'll just leave blank whatever information Google does not provide (e.g. if account owner did not provide a street number, then the Google API also won't return the `street_number`). I think this would be the simplest to query. However, this data won't be normalized.

Alternatively, I could could design the database to have multiple tables, for example:

    TABLE: country
    - country_id (PK)
    - name
    
    TABLE: administrative_area_level_1
    - administrative_area_level_1_id (PK)
    - country_id (FK)
    - name

... and so on

This will probably normalize the data, but might be a pain to query. Also, missing information might also cause some problems. For example, what if Google returns `country` and `administrative_area_level_2`, skipping `administrative_area_level_1` (I'm not sure if this is even possible)?  `administrative_area_level_2` would require a `administrative_area_level_1_id` as its FK -- and without it, the model breaks.

Another idea might be to use a nested set or adjacency model. The data would be normalized and would probably be able to deal better with missing information.

My gut feeling is that the simplest model -- the one allowing redundant data -- is the best option for me. The data is not coming from me, it's coming from Google and I *think* I only need the data so I can do these search-by-location searches. Maybe I won't run into anomalies?

**Any suggestions on how to model this?**",mysql,database,database-design,relational-database,database-modeling,09/10/2011 20:15:16,not constructive,1,1093,6,"Database Design: saving Google Maps data SEE: http://maps.googleapis.com/maps/api/geocode/json?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA&sensor=false

I'm using MySQL.

Given a partial or complete address, the Google Map API will return something like this:

    ""address_components"" : [
                {
                   ""long_name"" : ""1600"",
                   ""short_name"" : ""1600"",
                   ""types"" : [ ""street_number"" ]
                },
                {
                   ""long_name"" : ""Amphitheatre Pkwy"",
                   ""short_name"" : ""Amphitheatre Pkwy"",
                   ""types"" : [ ""route"" ]
                },
                {
                   ""long_name"" : ""Mountain View"",
                   ""short_name"" : ""Mountain View"",
                   ""types"" : [ ""locality"", ""political"" ]
                },
                {
                   ""long_name"" : ""Santa Clara"",
                   ""short_name"" : ""Santa Clara"",
                   ""types"" : [ ""administrative_area_level_2"", ""political"" ]
                },
                {
                   ""long_name"" : ""California"",
                   ""short_name"" : ""CA"",
                   ""types"" : [ ""administrative_area_level_1"", ""political"" ]
                },
                {
                   ""long_name"" : ""United States"",
                   ""short_name"" : ""US"",
                   ""types"" : [ ""country"", ""political"" ]
                },
                {
                   ""long_name"" : ""94043"",
                   ""short_name"" : ""94043"",
                   ""types"" : [ ""postal_code"" ]
                }
             ]

Assume I am developing an application wherein:

 1. account owners can specify their location, and
 2. search by location is supported

How should I store the address components I get from Google so that I can query for the following:

 1. How many account owners in a particular country?
 2. How many account owners in a particular state?
 3. How many account owners in a particular ZIP/postal code?
 4. etc.

One very easy way is to store individual address components in one table:

    TABLE: account
    - account_id (PK)
    - street_number
    - route
    - locality
    - administrative_area_level_2
    - administrative_area_level_1
    - country
    - postal_code

I'll just leave blank whatever information Google does not provide (e.g. if account owner did not provide a street number, then the Google API also won't return the `street_number`). I think this would be the simplest to query. However, this data won't be normalized.

Alternatively, I could could design the database to have multiple tables, for example:

    TABLE: country
    - country_id (PK)
    - name
    
    TABLE: administrative_area_level_1
    - administrative_area_level_1_id (PK)
    - country_id (FK)
    - name

... and so on

This will probably normalize the data, but might be a pain to query. Also, missing information might also cause some problems. For example, what if Google returns `country` and `administrative_area_level_2`, skipping `administrative_area_level_1` (I'm not sure if this is even possible)?  `administrative_area_level_2` would require a `administrative_area_level_1_id` as its FK -- and without it, the model breaks.

Another idea might be to use a nested set or adjacency model. The data would be normalized and would probably be able to deal better with missing information.

My gut feeling is that the simplest model -- the one allowing redundant data -- is the best option for me. The data is not coming from me, it's coming from Google and I *think* I only need the data so I can do these search-by-location searches. Maybe I won't run into anomalies?

**Any suggestions on how to model this?**",5
8079286,11/10/2011 12:09:05,860844,07/25/2011 03:13:03,225,4,How to get the Sum of a Group of Records?,"I am relatively new to rails and also sql. I am using postgres on production.

I have a `Like` model and through polymorphism, it has attributes `likeable_type` and `likeable_id`, this is how items in my `Photo` model are ""liked"" by the user. I can access a photo through through a like object too as `like.likeable` when the likeable object has `Photo` as the `likeable_type`.

**In short, I want to be able to get a list of Photos that were liked the most in the past 24 hours, with the most liked one on top and the least liked one at the bottom in the order.**

So far I know my code should look something like

    likes = Like.find(:all, :conditions => { :created_at => 1.days.ago.utc...Time.now.utc, :likeable_type => ""Photo"" })
    likes = likes.group( --- something here --- , SUM( --- something here --- ))

but I am not quite able to figure what the correct syntax shoule be.

any help will be very much appreciated!",mysql,ruby-on-rails,postgresql,ruby-on-rails-3.1,rails-postgresql,,open,0,164,10,"How to get the Sum of a Group of Records? I am relatively new to rails and also sql. I am using postgres on production.

I have a `Like` model and through polymorphism, it has attributes `likeable_type` and `likeable_id`, this is how items in my `Photo` model are ""liked"" by the user. I can access a photo through through a like object too as `like.likeable` when the likeable object has `Photo` as the `likeable_type`.

**In short, I want to be able to get a list of Photos that were liked the most in the past 24 hours, with the most liked one on top and the least liked one at the bottom in the order.**

So far I know my code should look something like

    likes = Like.find(:all, :conditions => { :created_at => 1.days.ago.utc...Time.now.utc, :likeable_type => ""Photo"" })
    likes = likes.group( --- something here --- , SUM( --- something here --- ))

but I am not quite able to figure what the correct syntax shoule be.

any help will be very much appreciated!",5
8923854,01/19/2012 09:42:45,951163,04/11/2011 02:50:30,1,0,max key length is 1000 bytes,"CREATE TABLE `_modules` (
`rid` int( 12 ) NOT NULL AUTO_INCREMENT ,
`module_name` varchar( 200 ) DEFAULT NULL ,
`module_controller` varchar( 200 ) DEFAULT NULL ,
`descr` text,
`owner_users_rid` int( 12 ) DEFAULT NULL ,
`createDT` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ,
`modifyDT` timestamp NULL DEFAULT NULL ,
`modifier_users_rid` int( 12 ) DEFAULT NULL ,
`archive` tinyint( 1 ) DEFAULT '0',
PRIMARY KEY ( `rid` ) ,
UNIQUE KEY `item_name` ( `module_name` , `module_controller` ) ,
KEY `FK__menu_items1` ( `modifier_users_rid` ) ,
KEY `FK__menu_items2` ( `owner_users_rid` ) ,
CONSTRAINT `FK__modules_1` FOREIGN KEY ( `modifier_users_rid` ) REFERENCES `_users` ( `rid` ) ON UPDATE CASCADE ,
CONSTRAINT `FK__modules_2` FOREIGN KEY ( `owner_users_rid` ) REFERENCES `_users` ( `rid` ) ON UPDATE CASCADE
) ENGINE = InnoDB AUTO_INCREMENT =40 DEFAULT CHARSET = utf8;

MySQL said: Documentation
#1071 - Specified key was too long; max key length is 1000 bytes ",mysql,error-message,,,,01/19/2012 10:09:54,not a real question,1,128,6,"max key length is 1000 bytes CREATE TABLE `_modules` (
`rid` int( 12 ) NOT NULL AUTO_INCREMENT ,
`module_name` varchar( 200 ) DEFAULT NULL ,
`module_controller` varchar( 200 ) DEFAULT NULL ,
`descr` text,
`owner_users_rid` int( 12 ) DEFAULT NULL ,
`createDT` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ,
`modifyDT` timestamp NULL DEFAULT NULL ,
`modifier_users_rid` int( 12 ) DEFAULT NULL ,
`archive` tinyint( 1 ) DEFAULT '0',
PRIMARY KEY ( `rid` ) ,
UNIQUE KEY `item_name` ( `module_name` , `module_controller` ) ,
KEY `FK__menu_items1` ( `modifier_users_rid` ) ,
KEY `FK__menu_items2` ( `owner_users_rid` ) ,
CONSTRAINT `FK__modules_1` FOREIGN KEY ( `modifier_users_rid` ) REFERENCES `_users` ( `rid` ) ON UPDATE CASCADE ,
CONSTRAINT `FK__modules_2` FOREIGN KEY ( `owner_users_rid` ) REFERENCES `_users` ( `rid` ) ON UPDATE CASCADE
) ENGINE = InnoDB AUTO_INCREMENT =40 DEFAULT CHARSET = utf8;

MySQL said: Documentation
#1071 - Specified key was too long; max key length is 1000 bytes ",2
3914582,10/12/2010 12:20:48,360758,06/07/2010 19:30:00,144,2,mysql count query,"I have a mysql table set up like this  

    id | refference_id | data

Is it possible to count the number of entries for each refference_id all in the query ? ",mysql,count,,,,,open,0,36,3,"mysql count query I have a mysql table set up like this  

    id | refference_id | data

Is it possible to count the number of entries for each refference_id all in the query ? ",2
4681584,01/13/2011 15:13:42,574427,01/13/2011 15:11:13,1,0,"Mysql, import data from excel sheet to phpmyadmin","I am trying to create a interface.In this if you upload and submit.the data present in some excel file or other file data should get into data base.

",mysql,,,,,01/13/2011 16:03:43,not a real question,1,28,8,"Mysql, import data from excel sheet to phpmyadmin I am trying to create a interface.In this if you upload and submit.the data present in some excel file or other file data should get into data base.

",1
6636772,07/09/2011 18:48:38,155196,08/12/2009 16:08:13,1074,32,Loyalty points system,"I wanna create a loyalty system for various activities on my web app like in the Stack Over Flow with points badges etc.

Can some one point me out how to structure the data and store the things.

does each activity needs its own table etc ?",mysql,database,database-design,,,07/10/2011 00:37:32,not a real question,1,45,3,"Loyalty points system I wanna create a loyalty system for various activities on my web app like in the Stack Over Flow with points badges etc.

Can some one point me out how to structure the data and store the things.

does each activity needs its own table etc ?",3
6700285,07/14/2011 21:43:52,845448,07/14/2011 21:41:36,1,0,Who uses MySQL Cluster?,What known massive-scale websites utilize MySQL Cluster as their DBMS (as opposed to a NoSQL solution such as Cassandra)?,mysql,database,scalability,distributed,cluster-computing,07/15/2011 03:02:56,off topic,1,19,4,Who uses MySQL Cluster? What known massive-scale websites utilize MySQL Cluster as their DBMS (as opposed to a NoSQL solution such as Cassandra)?,5
7697677,10/08/2011 15:05:40,251946,01/15/2010 23:48:59,176,3,MySQL on Windows - Access denied for user ''@'localhost' - cannot connect from any host,"I tried to update my Mysql instance to support remote access. I went to MySQL Administration UI and added % (any host) for user root and removed all other entries.

Now I cannot access MySQL as root from any machine including localhost. What is the best way to fix this?

Thanks",mysql,windows,login,root,access,,open,0,49,15,"MySQL on Windows - Access denied for user ''@'localhost' - cannot connect from any host I tried to update my Mysql instance to support remote access. I went to MySQL Administration UI and added % (any host) for user root and removed all other entries.

Now I cannot access MySQL as root from any machine including localhost. What is the best way to fix this?

Thanks",5
5579752,04/07/2011 10:39:12,696618,04/07/2011 10:39:12,1,0,"MySQL: How can I get a ""traditional"" single row result from a key-value oriented table layout","I have a table which was designed as a key-value table, like

    ID | key | value
    1  | abc | value 1
    2  | def | value 2
    3  | geh | value 3

which has various benefits for what we are doing with the data. Only drawback is, I can't sort easily on such a key-value table.
What would be an intelligent/usual way to get a result-set with all the keys/values ""flattened out"" in a traditional way, with the keys appearing as fields:

    abc     | def     | geh
    value 1 | value 2 | value 3",mysql,select,join,group,key-value,,open,0,125,16,"MySQL: How can I get a ""traditional"" single row result from a key-value oriented table layout I have a table which was designed as a key-value table, like

    ID | key | value
    1  | abc | value 1
    2  | def | value 2
    3  | geh | value 3

which has various benefits for what we are doing with the data. Only drawback is, I can't sort easily on such a key-value table.
What would be an intelligent/usual way to get a result-set with all the keys/values ""flattened out"" in a traditional way, with the keys appearing as fields:

    abc     | def     | geh
    value 1 | value 2 | value 3",5
9849805,03/24/2012 07:01:55,74088,03/05/2009 05:28:31,75,2,Creating a leaderboard (ranked list of members) in MySQL with nested queries,"I'm trying to create a leaderboard of members on my site by using the two nested queries below.

The first query grabs a list of members:

    SELECT member_id, username, screen_name FROM exp_members WHERE group_id IN (1,5) LIMIT 100

The second query is nested inside the first query, and grabs a count of how many times a member's entries have been favorited:

    SELECT COUNT(*) AS favorite_count
       FROM qb_channel_titles, qb_channel_data, qb_matrix_data
       WHERE qb_channel_titles.channel_id = '1'
       AND qb_channel_titles.entry_id = qb_channel_data.entry_id
       AND qb_channel_titles.entry_id = qb_matrix_data.entry_id
       AND field_id = '13'
       AND author_id = 'MEMBER_ID_FROM_FIRST_QUERY'
       ORDER BY favorite_count DESC""
    }

So the code I have is like:

    [first query]
       [second query]
          ..output one row of the leaderboard..
       [/second query]
    [/first query]

Nesting the second query inside the first gives me the proper list of members and the number of votes they've each received, but the list is sorted on the first (outer) query rather than the second (inner) query.

Two questions:

 1. How do I sort the list of members by `favorite_count` in descending order?
 2. What is the most resource efficient way to do this? I suspect that nesting queries isn't the best way to go, but I honestly don't know any better.",mysql,optimization,expressionengine,leaderboard,nested-queries,,open,0,271,12,"Creating a leaderboard (ranked list of members) in MySQL with nested queries I'm trying to create a leaderboard of members on my site by using the two nested queries below.

The first query grabs a list of members:

    SELECT member_id, username, screen_name FROM exp_members WHERE group_id IN (1,5) LIMIT 100

The second query is nested inside the first query, and grabs a count of how many times a member's entries have been favorited:

    SELECT COUNT(*) AS favorite_count
       FROM qb_channel_titles, qb_channel_data, qb_matrix_data
       WHERE qb_channel_titles.channel_id = '1'
       AND qb_channel_titles.entry_id = qb_channel_data.entry_id
       AND qb_channel_titles.entry_id = qb_matrix_data.entry_id
       AND field_id = '13'
       AND author_id = 'MEMBER_ID_FROM_FIRST_QUERY'
       ORDER BY favorite_count DESC""
    }

So the code I have is like:

    [first query]
       [second query]
          ..output one row of the leaderboard..
       [/second query]
    [/first query]

Nesting the second query inside the first gives me the proper list of members and the number of votes they've each received, but the list is sorted on the first (outer) query rather than the second (inner) query.

Two questions:

 1. How do I sort the list of members by `favorite_count` in descending order?
 2. What is the most resource efficient way to do this? I suspect that nesting queries isn't the best way to go, but I honestly don't know any better.",5
4055864,10/29/2010 20:57:50,185657,10/07/2009 14:06:46,4570,237,Pick another RDBMS,"Other then Oracle, MySQL, and PostgreSQL, what is out there? Is there anything else used in a production environment? I'm curious about other database systems (aside from NoSQL) that are applicable for use. 

Bonus points if it works with Ibatis, some sort of Java connector is necessary though.",mysql,database,oracle,postgresql,rdbms,10/31/2010 07:27:31,not a real question,1,48,3,"Pick another RDBMS Other then Oracle, MySQL, and PostgreSQL, what is out there? Is there anything else used in a production environment? I'm curious about other database systems (aside from NoSQL) that are applicable for use. 

Bonus points if it works with Ibatis, some sort of Java connector is necessary though.",5
10806605,05/29/2012 20:58:05,341362,05/14/2010 15:12:06,2305,74,Add only new records in MySQL via script,"I have a large database which I am trying to update via perl.  The information to be added comes from a csv file which I do not control (but which is trusted&mdash;it comes from a different part of our company). For each record in the file, I need to either add it (if it does not exist) or do nothing (if it exists). Adding a record consists of the usual `INSERT INTO`, but before that can run for a particular entry a specific `UPDATE` must be run.

Let's say for the sake of concreteness that the file has 10,000 entries, but 90% of them are already in the database. What is the most efficient way to import the records? I can see a few obvious approaches:

* Pull all records of this type from the database, then check each of the entries from the file for membership. Downside: lots of data transfer, possibly enough to time the server out.
* Read in the entries from the file and send a query for just those records with an `RLIKE 'foo|bar|baz|...'` query (or a `stuff = 'foo' || stuff = 'bar' || ...` query, but that seems even worse). Downside: huge query, probably enough to choke the server.
* Read in the file, send a query for each entry, then add it if appropriate. Downside: tens of thousands of queries, very slow.

Apart from the `UPDATE` requirement, this seems like a fairly standard issue that presumably has a standard solution. If there is, it can probably be adapted to my case with appropriate use of tests on the `auto_increment` primary key.",mysql,sql,perl,optimization,query-optimization,,open,0,265,8,"Add only new records in MySQL via script I have a large database which I am trying to update via perl.  The information to be added comes from a csv file which I do not control (but which is trusted&mdash;it comes from a different part of our company). For each record in the file, I need to either add it (if it does not exist) or do nothing (if it exists). Adding a record consists of the usual `INSERT INTO`, but before that can run for a particular entry a specific `UPDATE` must be run.

Let's say for the sake of concreteness that the file has 10,000 entries, but 90% of them are already in the database. What is the most efficient way to import the records? I can see a few obvious approaches:

* Pull all records of this type from the database, then check each of the entries from the file for membership. Downside: lots of data transfer, possibly enough to time the server out.
* Read in the entries from the file and send a query for just those records with an `RLIKE 'foo|bar|baz|...'` query (or a `stuff = 'foo' || stuff = 'bar' || ...` query, but that seems even worse). Downside: huge query, probably enough to choke the server.
* Read in the file, send a query for each entry, then add it if appropriate. Downside: tens of thousands of queries, very slow.

Apart from the `UPDATE` requirement, this seems like a fairly standard issue that presumably has a standard solution. If there is, it can probably be adapted to my case with appropriate use of tests on the `auto_increment` primary key.",5
9557183,03/04/2012 17:31:16,1115454,12/25/2011 16:50:42,483,31,How much time did this types of mysql query take?,"Tables and its details 

""user"" table stores user details and have 10 millions record

How much times did this query take ?

select * from user where user_name = ""Jhon""
select * from user wher uid = ""2331234534""

please note i am new in mysql means i have basic knowledge of mysql means i don't known how to make proper table and how to make that more fast i shall be very thank full to you if you suggest any thing for the above table is for example because i am planing to make a social networking site

Thank You so much ",mysql,sql,phpmyadmin,,,03/04/2012 17:38:49,not a real question,1,98,10,"How much time did this types of mysql query take? Tables and its details 

""user"" table stores user details and have 10 millions record

How much times did this query take ?

select * from user where user_name = ""Jhon""
select * from user wher uid = ""2331234534""

please note i am new in mysql means i have basic knowledge of mysql means i don't known how to make proper table and how to make that more fast i shall be very thank full to you if you suggest any thing for the above table is for example because i am planing to make a social networking site

Thank You so much ",3
10803547,05/29/2012 17:00:27,1424236,05/29/2012 16:43:45,1,0,Using a veriable in the WHERE Clause php mySQL,"Newbie here to mySQL and PHP. I have a HTML form where I would like to pass 1 variable from to my php code and then run a query on my database for the record that holds that variable under the column 'Serial'. I can run it fine when I hard code the 'serial' that I want to look up but when I try with the variable I get an error. 

Any Help would greatly be appreciated! Or a better way to do this.

Here is my error: Unknown column 'amg002' in 'where clause'

Here is my code;



$serial= $_POST['Serial'];
echo $serial;



//Connect To Database


$link = mysql_connect($hostname,$username, $password) OR DIE ('Unable to connect to database! Please try again later.');
echo ""Connected to MySQL<br />"";

//Select the database - 'SiteInfo'


// Collects data from ""SiteInfo"" table

//****This is where I am running into the error*** 

$sql = 'SELECT * FROM `SiteInfo` WHERE `Serial` ='.$serial; 

// This works!!!

//$sql = 'SELECT * FROM `SiteInfo` WHERE `Serial` =""amg002"";';   

$data = mysql_query($sql)
or die(mysql_error());

// puts the ""SiteInfo"" info into the $info array

$info = mysql_fetch_array( $data );

//Print out the contents of the entry

echo ""Site Name: "".$info['SiteName'] . ""<br /"";
Print ""Serial Number: "".$info['Serial'] . ""<br />"";
Print ""Location: "".$info['Location'] . ""<br />"";


// Close the database connection

	mysql_close($link); 
	echo ""Connection Closed. <br />"";
?>",mysql,,,,,,open,0,205,9,"Using a veriable in the WHERE Clause php mySQL Newbie here to mySQL and PHP. I have a HTML form where I would like to pass 1 variable from to my php code and then run a query on my database for the record that holds that variable under the column 'Serial'. I can run it fine when I hard code the 'serial' that I want to look up but when I try with the variable I get an error. 

Any Help would greatly be appreciated! Or a better way to do this.

Here is my error: Unknown column 'amg002' in 'where clause'

Here is my code;



$serial= $_POST['Serial'];
echo $serial;



//Connect To Database


$link = mysql_connect($hostname,$username, $password) OR DIE ('Unable to connect to database! Please try again later.');
echo ""Connected to MySQL<br />"";

//Select the database - 'SiteInfo'


// Collects data from ""SiteInfo"" table

//****This is where I am running into the error*** 

$sql = 'SELECT * FROM `SiteInfo` WHERE `Serial` ='.$serial; 

// This works!!!

//$sql = 'SELECT * FROM `SiteInfo` WHERE `Serial` =""amg002"";';   

$data = mysql_query($sql)
or die(mysql_error());

// puts the ""SiteInfo"" info into the $info array

$info = mysql_fetch_array( $data );

//Print out the contents of the entry

echo ""Site Name: "".$info['SiteName'] . ""<br /"";
Print ""Serial Number: "".$info['Serial'] . ""<br />"";
Print ""Location: "".$info['Location'] . ""<br />"";


// Close the database connection

	mysql_close($link); 
	echo ""Connection Closed. <br />"";
?>",1
8784874,01/09/2012 06:57:24,1138138,01/09/2012 06:52:12,1,0,Need Help in writing sql query?,"I have a table with fields


Season Namee, Statrt date , end date, start month, End month.


I want to get a season based on the current system date.

Eg.
Season name =------Karif
Start month---june
Start date---15
End month----October 
End Date----15




Please help me",mysql,sql,,,,,open,0,36,6,"Need Help in writing sql query? I have a table with fields


Season Namee, Statrt date , end date, start month, End month.


I want to get a season based on the current system date.

Eg.
Season name =------Karif
Start month---june
Start date---15
End month----October 
End Date----15




Please help me",2
8082396,11/10/2011 16:00:49,945391,09/14/2011 19:31:47,6,0,Identifying what sql instance a machine is running?,"Suppose I do not know what SQL instance a machine is running, how can I find out whether it is MySQL or MS SQL or SyBase or any other SQL server instance? Can I use the information_schema to find out the instance of the SQL server? If not how else is it possible to do it?",mysql,sql,database,relational-database,information-schema,11/11/2011 05:47:22,off topic,1,56,8,"Identifying what sql instance a machine is running? Suppose I do not know what SQL instance a machine is running, how can I find out whether it is MySQL or MS SQL or SyBase or any other SQL server instance? Can I use the information_schema to find out the instance of the SQL server? If not how else is it possible to do it?",5
1803595,11/26/2009 13:10:44,203282,11/05/2009 08:53:14,43,0,MySQL search options for chinese characters,"I have a database table with chinese dictionaries (about 300 000 rows) for online dictionary. The data structure looks like this:

     ID     ch_smpl     pinyin     definition
     ----------------------------------------
     1       我           wǒ          I, me
     2       我们         wǒmen       we, us
     etc.

I'm not good with php and mysql, so the question is how to setup a search engine? I've found a bunch of tutorials on php mysql search, I also found some full-text search examples, but I'm not sure how it works with chinese characters. The speed of search is really important for me.

Any suggestions on how to organize the search engine for this purpose are greatly appreciated.
",mysql,search,php,chinese-characters,,05/06/2012 18:38:16,off topic,1,180,6,"MySQL search options for chinese characters I have a database table with chinese dictionaries (about 300 000 rows) for online dictionary. The data structure looks like this:

     ID     ch_smpl     pinyin     definition
     ----------------------------------------
     1       我           wǒ          I, me
     2       我们         wǒmen       we, us
     etc.

I'm not good with php and mysql, so the question is how to setup a search engine? I've found a bunch of tutorials on php mysql search, I also found some full-text search examples, but I'm not sure how it works with chinese characters. The speed of search is really important for me.

Any suggestions on how to organize the search engine for this purpose are greatly appreciated.
",4
2381323,03/04/2010 17:24:38,286465,03/04/2010 17:24:38,1,0,How to handle mysql's error on duplicate entry?,"Sometimes when there's an entry about to be added to the database it failed because it's a duplicate entry, an error shows up. So, how to handle this error with the help of php?",mysql,php,,,,,open,0,34,8,"How to handle mysql's error on duplicate entry? Sometimes when there's an entry about to be added to the database it failed because it's a duplicate entry, an error shows up. So, how to handle this error with the help of php?",2
7022886,08/11/2011 08:24:47,743761,05/08/2011 09:33:36,28,0,"Apache on Linux, MySql on Windows",Is it possible to have a web server (Apache for instance) on a linux machine connecting to a backgroun database server (MySql) on a windows machine? ,mysql,windows,linux,apache,,08/11/2011 16:53:22,off topic,1,27,6,"Apache on Linux, MySql on Windows Is it possible to have a web server (Apache for instance) on a linux machine connecting to a backgroun database server (MySql) on a windows machine? ",4
11254453,06/28/2012 23:52:38,758177,05/17/2011 21:10:21,199,28,relating relational tables (MySQL & datamapper),"I've potentially got myself into a bit of a pickle:

 - Main Table: `Orders`
 - Main Table: `Products`

I need to relate orders with products and allow users to supply values of attributes of the products. So I'm thinking of setting it up like so:

    Orders >-< Orders_Products >-< Orders_Products_Attributes
                     |                        |
                  Products     >-<   Products_Attributes

 - `Orders` stores metadata
 - `Orders_Products` is relational
 - `Orders_Products_Attributes` is mostly relational but also stores values for the `Product_Attributes`

Is that allowed? Will datamapper understand?",mysql,database-design,codeigniter-datamapper,,,,open,0,148,6,"relating relational tables (MySQL & datamapper) I've potentially got myself into a bit of a pickle:

 - Main Table: `Orders`
 - Main Table: `Products`

I need to relate orders with products and allow users to supply values of attributes of the products. So I'm thinking of setting it up like so:

    Orders >-< Orders_Products >-< Orders_Products_Attributes
                     |                        |
                  Products     >-<   Products_Attributes

 - `Orders` stores metadata
 - `Orders_Products` is relational
 - `Orders_Products_Attributes` is mostly relational but also stores values for the `Product_Attributes`

Is that allowed? Will datamapper understand?",3
8607459,12/22/2011 17:12:21,468969,10/07/2010 10:46:33,10,0,return mySQL original row number,"I want to get the row_number of the original record in the database. Is there any way to retrieve the original row number of a record in mysql?
Suppose my statement is 

    select course_id from course where subject='finance';

there can be multiple records for this query. Suppose they are from row numbers 4, 5, 7, 9 and 10. How can i retrieve these row_numbers from my query?",mysql,row,rownumber,,,,open,0,69,5,"return mySQL original row number I want to get the row_number of the original record in the database. Is there any way to retrieve the original row number of a record in mysql?
Suppose my statement is 

    select course_id from course where subject='finance';

there can be multiple records for this query. Suppose they are from row numbers 4, 5, 7, 9 and 10. How can i retrieve these row_numbers from my query?",3
6860865,07/28/2011 14:42:37,812909,06/23/2011 19:04:39,68,1,Detecting a Computer,I have an application that has to run on 3 machines at the same time. I'm also using some MySQL statements in the program. Should I create a field in a table and have it look for a specific number in the field that would match that specific computer? I'm just having trouble on thinking through this problem so any advice would help. I could be over thinking this a lot too.  ,mysql,visual-studio,vb,,,07/30/2011 10:05:00,not a real question,1,74,3,Detecting a Computer I have an application that has to run on 3 machines at the same time. I'm also using some MySQL statements in the program. Should I create a field in a table and have it look for a specific number in the field that would match that specific computer? I'm just having trouble on thinking through this problem so any advice would help. I could be over thinking this a lot too.  ,3
9630990,03/09/2012 08:31:08,1124948,01/01/2012 08:30:49,15,0,how to insert without duplicate from one table into another,"greeting everyone...

i tried to insert from one table into another and im having with the redundancy..
i came up with a query but every time when i execute it, it cannot deals with duplicate...
here's my query...

> INSERT INTO balik 
    ( balik_date, balik_time, balik_cardID, balik_status,balik_type) 
select current_date(), '00:00:00', L_CardID, 'BELUM BALIK', L_Type 
FROM logdetail t1 
LEFT JOIN balik t2 ON (t1.L_CardID = t2.balik_cardID)
WHERE t1.L_Type = 'IN'

any help will be greatly appreciated....thank you in advance..",mysql,,,,,,open,0,76,10,"how to insert without duplicate from one table into another greeting everyone...

i tried to insert from one table into another and im having with the redundancy..
i came up with a query but every time when i execute it, it cannot deals with duplicate...
here's my query...

> INSERT INTO balik 
    ( balik_date, balik_time, balik_cardID, balik_status,balik_type) 
select current_date(), '00:00:00', L_CardID, 'BELUM BALIK', L_Type 
FROM logdetail t1 
LEFT JOIN balik t2 ON (t1.L_CardID = t2.balik_cardID)
WHERE t1.L_Type = 'IN'

any help will be greatly appreciated....thank you in advance..",1
11746495,07/31/2012 18:17:58,1252794,03/06/2012 17:00:30,120,6,mysql get substring offset (indexOf)?,"is there a way to get the offset of a substring, in mysql?

IE

""hello everybody i'm a newbie programmer"" ""everybody"" offset 6

i'm looking for the equivalent of indexOf in java/javascript

thanks!",mysql,sql,,,,07/31/2012 19:05:13,not a real question,1,29,5,"mysql get substring offset (indexOf)? is there a way to get the offset of a substring, in mysql?

IE

""hello everybody i'm a newbie programmer"" ""everybody"" offset 6

i'm looking for the equivalent of indexOf in java/javascript

thanks!",2
7499407,09/21/2011 12:02:42,889852,08/11/2011 12:01:44,320,49,All kinde of databases website,"Is there any website where I coulde buy or get for free databases of all sort: Like countries list, cars names list and so on?",mysql,sql,sql-server,,,09/21/2011 12:21:03,off topic,1,25,5,"All kinde of databases website Is there any website where I coulde buy or get for free databases of all sort: Like countries list, cars names list and so on?",3
10692659,05/21/2012 21:09:55,795776,06/13/2011 10:42:19,18,2,Moving data from one column to another,"I'm not quite sure if I'm thinking about this the wrong way, so if that's the case perhaps someone will point me in the right direction. If however I am just missing the concept then perhaps I can get help with that. 

So any way I'll win.. or something.

What I want to do is something like this, given a table in a database, in a single query move a specific value to another row.

To clarify take this table as an example:

    id I value
    0 I 5
    1 I 2

I want to move _value_ for _id=0_ so that the table become:

    id I value
    0 I 0
    1 I 5

(OBSERVE! the value at _id=1_ doesn't matter, it's overridden and the _id=0_ _value_ is just set to zero)

My attempt this far have been a query something along the lines of:

    UPDATE atable 
    SET item = CASE id 
    WHEN '1' THEN (SELECT value FROM atable WHERE id='1') 
    WHEN '0' THEN '0' 
    END;

However this is not valid and I can't use the _SELECT_ in that fashion. So my take #2 were:

    UPDATE atable 
    SET item=(SELECT value FROM atable WHERE id='1') 
    WHERE id='0';

Which kind of works, however I can't find a way to then set _value=0_ for _id=0_

I hope it all makes sense and aren't all just ramblings now.

Just to try to be all clear:
_I want to **move** the value from one row to another, so copy will not do I can figure that one out. AND I want to do it in one query, of course I could split it up into two queries and it would be simple_

Thank's for your time reading this.
",mysql,,,,,,open,0,319,7,"Moving data from one column to another I'm not quite sure if I'm thinking about this the wrong way, so if that's the case perhaps someone will point me in the right direction. If however I am just missing the concept then perhaps I can get help with that. 

So any way I'll win.. or something.

What I want to do is something like this, given a table in a database, in a single query move a specific value to another row.

To clarify take this table as an example:

    id I value
    0 I 5
    1 I 2

I want to move _value_ for _id=0_ so that the table become:

    id I value
    0 I 0
    1 I 5

(OBSERVE! the value at _id=1_ doesn't matter, it's overridden and the _id=0_ _value_ is just set to zero)

My attempt this far have been a query something along the lines of:

    UPDATE atable 
    SET item = CASE id 
    WHEN '1' THEN (SELECT value FROM atable WHERE id='1') 
    WHEN '0' THEN '0' 
    END;

However this is not valid and I can't use the _SELECT_ in that fashion. So my take #2 were:

    UPDATE atable 
    SET item=(SELECT value FROM atable WHERE id='1') 
    WHERE id='0';

Which kind of works, however I can't find a way to then set _value=0_ for _id=0_

I hope it all makes sense and aren't all just ramblings now.

Just to try to be all clear:
_I want to **move** the value from one row to another, so copy will not do I can figure that one out. AND I want to do it in one query, of course I could split it up into two queries and it would be simple_

Thank's for your time reading this.
",1
3675640,09/09/2010 10:15:52,158865,08/18/2009 23:33:16,434,2,What MySQL field should I use for a Yes/No Checkbox value?,"I am using the MySQL table below.  I would like to add a field called `'subcheck'` that will be a yes/no value determined by the HTML form input `TYPE = CHECKBOX`.  What ""type"" should I give this new field?

Thanks in advance,

John


    `submission` (
      `submissionid` int(11) unsigned NOT NULL auto_increment,
      `loginid` int(11) NOT NULL,
      `title` varchar(1000) NOT NULL,
      `slug` varchar(1000) NOT NULL,
      `url` varchar(1000) NOT NULL,
      `displayurl` varchar(1000) NOT NULL,
      `datesubmitted` timestamp NOT NULL default CURRENT_TIMESTAMP,
      PRIMARY KEY  (`submissionid`)
    )",mysql,html,,,,,open,0,128,11,"What MySQL field should I use for a Yes/No Checkbox value? I am using the MySQL table below.  I would like to add a field called `'subcheck'` that will be a yes/no value determined by the HTML form input `TYPE = CHECKBOX`.  What ""type"" should I give this new field?

Thanks in advance,

John


    `submission` (
      `submissionid` int(11) unsigned NOT NULL auto_increment,
      `loginid` int(11) NOT NULL,
      `title` varchar(1000) NOT NULL,
      `slug` varchar(1000) NOT NULL,
      `url` varchar(1000) NOT NULL,
      `displayurl` varchar(1000) NOT NULL,
      `datesubmitted` timestamp NOT NULL default CURRENT_TIMESTAMP,
      PRIMARY KEY  (`submissionid`)
    )",2
5275876,03/11/2011 16:56:42,621125,02/17/2011 10:00:06,1,1,"Multiple word searching with Ruby, and MySQL","I'm trying to accomplish a multiple word searching in a quotes database using Ruby, ActiveRecord, and MySQL. The way I did is shown bellow, and it is working, but I would like to know if there a better way to do.


    # receives a string, splits it in a array of words, create the 'conditions'
    # query, and send it to ActiveRecord
    def search
    	query = params[:query].strip.split if params[:query]
    	like = ""quote LIKE ""
    	conditions = """"
    	query.each do |word|
    		conditions += (like + ""'%#{word}%'"")
    		conditions += "" AND "" unless query.last == word
    	end
    	@quotes = Quote.all(:conditions => conditions)
    end

I would like to know if there is better way to compose this 'conditions' string. I also tried it using string interpolation, e.g., using the * operator, but ended up needing more string processing. Thanks in advance

",mysql,ruby,search,activerecord,,,open,0,173,7,"Multiple word searching with Ruby, and MySQL I'm trying to accomplish a multiple word searching in a quotes database using Ruby, ActiveRecord, and MySQL. The way I did is shown bellow, and it is working, but I would like to know if there a better way to do.


    # receives a string, splits it in a array of words, create the 'conditions'
    # query, and send it to ActiveRecord
    def search
    	query = params[:query].strip.split if params[:query]
    	like = ""quote LIKE ""
    	conditions = """"
    	query.each do |word|
    		conditions += (like + ""'%#{word}%'"")
    		conditions += "" AND "" unless query.last == word
    	end
    	@quotes = Quote.all(:conditions => conditions)
    end

I would like to know if there is better way to compose this 'conditions' string. I also tried it using string interpolation, e.g., using the * operator, but ended up needing more string processing. Thanks in advance

",4
3868434,10/05/2010 23:10:14,358829,06/04/2010 20:19:42,18,0,Automatically sharding MySQL?,"Right now, I'm dealing with a TON (trust me) of data that needs to be available in real-time for fast reads and writes to customers.  The backend storage system that we're using is Oracle, but we'd like to replace our big, beefy machines with a leaner system.

For various reasons, we can't use Cassandra, and we're testing (but I'm scared of) MongoDB (it's really young and is missing some critical features), so I was thinking about sharding a bunch of MySQL instances.

Is there a good system to manage this, or do I have to roll my own?  I've found a few projects but it's unclear to me if they support adding/removing shards on the fly.",mysql,database,partitioning,scale,sharding,,open,0,116,3,"Automatically sharding MySQL? Right now, I'm dealing with a TON (trust me) of data that needs to be available in real-time for fast reads and writes to customers.  The backend storage system that we're using is Oracle, but we'd like to replace our big, beefy machines with a leaner system.

For various reasons, we can't use Cassandra, and we're testing (but I'm scared of) MongoDB (it's really young and is missing some critical features), so I was thinking about sharding a bunch of MySQL instances.

Is there a good system to manage this, or do I have to roll my own?  I've found a few projects but it's unclear to me if they support adding/removing shards on the fly.",5
11737474,07/31/2012 09:54:03,775026,05/29/2011 09:58:00,67,1,"Harddrive failed, Need to backup mysql databases via filesystem","I have WHM/CPanel and my server's harddrive died.

I want to get the database files so I can restore the data.

I can't access the server, but I can salvage files from the hdd

what files do I need to get in order to salvage the mysql databases for my cpanel accounts?
",mysql,apache,crash,webserver,hdd,07/31/2012 20:56:48,off topic,1,49,9,"Harddrive failed, Need to backup mysql databases via filesystem I have WHM/CPanel and my server's harddrive died.

I want to get the database files so I can restore the data.

I can't access the server, but I can salvage files from the hdd

what files do I need to get in order to salvage the mysql databases for my cpanel accounts?
",5
10059096,04/07/2012 23:07:50,1316224,04/05/2012 20:16:44,6,0,What is the most efficient approaches to advance search/sort database (MySql) information?,"I'm curious what the popular opinion is for creating an advanced searching/sorting function for a database. I'm thinking something like these examples; [Amazon](http://www.amazon.com/gp/browse.html?node=241582011) or [Cars.com](http://www.cars.com/for-sale/advancedsearch.action).

I'm looking to use MySql and searching would be done completely by select, radio, and checkboxes. I would like to use chained select boxes much like the cars.com example where if a user does not make a selection all results for that category will be shown. I also want to make sure and keep myself secure, avoiding sql injection. 

My original design allowed for selections to be made by select boxes where if no selection was made it passed a variable to the sql SELECT statement but it seems dirty and long (mysql_real_escape_string not included). I have to establish a variable for each possible, searchable, category like so.
    
    }
    if(!$_POST['ex1']) {
	$ex1='%';
    }
    else {
	$ex1=$_POST['ex1'];
    }

Then I must use a select statement like:
    ""SELECT * FROM table WHERE ex1 LIKE '$ex1' AND ex2 LIKE '$ex2' AND numEx BETWEEN '$numEX1' AND '$numEX2' AND ex3 LIKE '$ex3' ORDER BY ex1""; 

I started with a very simple and clean version of this but as my needs grew I have developed what I feel is ugly and inefficient. Since I am needing to expand significantly, I thought now would be the best time to start from scratch.

 I'd love to hear others opinions as I know this self-made solution is far from best. I'm obviously not a professional, just a personal hobby and taking care of my needs independently. Thanks in advance for the help!
",mysql,database,query,search,sorting,04/09/2012 05:11:13,not constructive,1,276,12,"What is the most efficient approaches to advance search/sort database (MySql) information? I'm curious what the popular opinion is for creating an advanced searching/sorting function for a database. I'm thinking something like these examples; [Amazon](http://www.amazon.com/gp/browse.html?node=241582011) or [Cars.com](http://www.cars.com/for-sale/advancedsearch.action).

I'm looking to use MySql and searching would be done completely by select, radio, and checkboxes. I would like to use chained select boxes much like the cars.com example where if a user does not make a selection all results for that category will be shown. I also want to make sure and keep myself secure, avoiding sql injection. 

My original design allowed for selections to be made by select boxes where if no selection was made it passed a variable to the sql SELECT statement but it seems dirty and long (mysql_real_escape_string not included). I have to establish a variable for each possible, searchable, category like so.
    
    }
    if(!$_POST['ex1']) {
	$ex1='%';
    }
    else {
	$ex1=$_POST['ex1'];
    }

Then I must use a select statement like:
    ""SELECT * FROM table WHERE ex1 LIKE '$ex1' AND ex2 LIKE '$ex2' AND numEx BETWEEN '$numEX1' AND '$numEX2' AND ex3 LIKE '$ex3' ORDER BY ex1""; 

I started with a very simple and clean version of this but as my needs grew I have developed what I feel is ugly and inefficient. Since I am needing to expand significantly, I thought now would be the best time to start from scratch.

 I'd love to hear others opinions as I know this self-made solution is far from best. I'm obviously not a professional, just a personal hobby and taking care of my needs independently. Thanks in advance for the help!
",5
7259901,08/31/2011 16:02:34,921901,08/31/2011 15:17:56,1,0,mysql IFNULL INSERT huge setback?,"I am having a bit of a problem with some mysql. I will try to give a much background as I can. This is the situation, I had created an availability for my parent's plant nursery and stored the plant information in mysql, I did a terrible job the first time and now I am redoing it with the new knowledge I have gained in the mean time.

Background of the problem, I had 2 tables in the old database one being called `Gallery` with the following fields:

 (`id`, `Plant_id_1`, `Plant_id_2`, `Plant_id_3`, `Plant_id_4`, `Plant_id_5`, `Image1`, `Image1_Copyright`, `Image2`, `Image2_Copyright`, `Scientific`, `Common`, `Category`, `Height`, `Spread`, `Exposure`, `Zone`, `Descp`).

The `Plant_id_1...` fields would be the `id` of the second table which is called `Availability ` with the following fields:

(`id`, `name`, `size`, `description`, `available`, `upcomming`, `price`)

So as you can see I knew nothing about datases(still might not) but on to the new structure for the table, again 2 tables the first being called `plants` with the following fields:

(`id`, `scientific_name`, `common_name`, `category`, `height`, `spread`, `exposure`, `usda`, `description`, `image1_url`, `image1_copyright`, `image2_url`, `image2_copyright`)

The second being called `current` with the following fields:

(`id`, `plant_id`, `size`, `available`, `upcoming`, `price`, `description`)

The `plant_id` will be the id of the corresponding plant in the `plant` table. 

Now on to the problem. I need to get the data from the old table and put it into the new table. I have all the plants from gallery in the new `plant` table no issue there. But now to get the `Availability` into the `Current` table.

This is an example from the export of the `Availability` (I took the top 3):

    INSERT INTO `Availability` (`id`, `name`, `size`, `description`,`available`, `upcomming`, `price`) VALUES(91, 'Acer P.''Shishigashira''', ' #5', '30-36""', 27, 0, 36.00); 

    INSERT INTO `Availability` (`id`, `name`, `size`, `description`, `available`,`upcomming`, `price`) VALUES(697, 'Arbutus U. ''Compacta''', ' #5','', 0, 0, 16.20); 

    INSERT INTO `Availability` (`id`, `name`, `size`, `description`, `available`, `upcomming`, `price`) VALUES(90, 'Acer P.''Shigitatsusawa''', '#15', '', 0, 0, 65.00);

I need to get the `plant_id` from the plant table and put that into a insert statement, which I believe I have with the following:

    INSERT INTO `current` (`plant_id`, `size`,`description`, `available`, `upcoming`, `price`) VALUES(
    (SELECT  `id` 
    FROM  `plants` 
    WHERE  `scientific_name` 
    REGEXP  'Acer P.+ ''Shishigashira'''),  ' #5', '30-36""', 27, 0, 36.00);

But now I have a new problem what if there is no plant in the `plant` table to match, So i need a ifnull in there. to create the plant with the scientific name and the rest null. well I am new to SQL so this is what I have and its not working:
    
    SELECT IFNULL( (SELECT `id`
    FROM  `plants` 
    WHERE  `scientific_name` 
    REGEXP  'Chamaecyparis O.+ Nana'),( 

    INSERT INTO  `plants` (`scientific_name`)
    VALUES ('Chamaecyparis O. ''Nana'''));

As you can see Its very complicated if you think you are up to the challenge of helping me i would beyond greatly appreciated. If no one can help me I will have to manually reenter all the data into the `current` table.
",mysql,ifnull,,,,,open,0,543,5,"mysql IFNULL INSERT huge setback? I am having a bit of a problem with some mysql. I will try to give a much background as I can. This is the situation, I had created an availability for my parent's plant nursery and stored the plant information in mysql, I did a terrible job the first time and now I am redoing it with the new knowledge I have gained in the mean time.

Background of the problem, I had 2 tables in the old database one being called `Gallery` with the following fields:

 (`id`, `Plant_id_1`, `Plant_id_2`, `Plant_id_3`, `Plant_id_4`, `Plant_id_5`, `Image1`, `Image1_Copyright`, `Image2`, `Image2_Copyright`, `Scientific`, `Common`, `Category`, `Height`, `Spread`, `Exposure`, `Zone`, `Descp`).

The `Plant_id_1...` fields would be the `id` of the second table which is called `Availability ` with the following fields:

(`id`, `name`, `size`, `description`, `available`, `upcomming`, `price`)

So as you can see I knew nothing about datases(still might not) but on to the new structure for the table, again 2 tables the first being called `plants` with the following fields:

(`id`, `scientific_name`, `common_name`, `category`, `height`, `spread`, `exposure`, `usda`, `description`, `image1_url`, `image1_copyright`, `image2_url`, `image2_copyright`)

The second being called `current` with the following fields:

(`id`, `plant_id`, `size`, `available`, `upcoming`, `price`, `description`)

The `plant_id` will be the id of the corresponding plant in the `plant` table. 

Now on to the problem. I need to get the data from the old table and put it into the new table. I have all the plants from gallery in the new `plant` table no issue there. But now to get the `Availability` into the `Current` table.

This is an example from the export of the `Availability` (I took the top 3):

    INSERT INTO `Availability` (`id`, `name`, `size`, `description`,`available`, `upcomming`, `price`) VALUES(91, 'Acer P.''Shishigashira''', ' #5', '30-36""', 27, 0, 36.00); 

    INSERT INTO `Availability` (`id`, `name`, `size`, `description`, `available`,`upcomming`, `price`) VALUES(697, 'Arbutus U. ''Compacta''', ' #5','', 0, 0, 16.20); 

    INSERT INTO `Availability` (`id`, `name`, `size`, `description`, `available`, `upcomming`, `price`) VALUES(90, 'Acer P.''Shigitatsusawa''', '#15', '', 0, 0, 65.00);

I need to get the `plant_id` from the plant table and put that into a insert statement, which I believe I have with the following:

    INSERT INTO `current` (`plant_id`, `size`,`description`, `available`, `upcoming`, `price`) VALUES(
    (SELECT  `id` 
    FROM  `plants` 
    WHERE  `scientific_name` 
    REGEXP  'Acer P.+ ''Shishigashira'''),  ' #5', '30-36""', 27, 0, 36.00);

But now I have a new problem what if there is no plant in the `plant` table to match, So i need a ifnull in there. to create the plant with the scientific name and the rest null. well I am new to SQL so this is what I have and its not working:
    
    SELECT IFNULL( (SELECT `id`
    FROM  `plants` 
    WHERE  `scientific_name` 
    REGEXP  'Chamaecyparis O.+ Nana'),( 

    INSERT INTO  `plants` (`scientific_name`)
    VALUES ('Chamaecyparis O. ''Nana'''));

As you can see Its very complicated if you think you are up to the challenge of helping me i would beyond greatly appreciated. If no one can help me I will have to manually reenter all the data into the `current` table.
",2
6956246,08/05/2011 12:27:26,278669,02/22/2010 12:34:03,64,7,strange behaviour of mysql,"i have partitioned table by field daynumber. during the day i write into table  logs, and then calculate some stat. table is big, each day i have ~ 3M new rows. field myField is indexed;

query:

    SELECT COUNT(DISTINCT myField) FROM mytable WHERE daynumber=somevalue; 

returns 0, which is mistake

and query:

    SELECT COUNT(*) FROM (SELECT DISTINCT(myField) FROM mytable WHERE daynumber=somevalue) t;

returns true value;

for some daynumber values, first query works fine. 
i tried to repeir that partition, but had no effect

any suggestions?",mysql,,,,,,open,0,85,4,"strange behaviour of mysql i have partitioned table by field daynumber. during the day i write into table  logs, and then calculate some stat. table is big, each day i have ~ 3M new rows. field myField is indexed;

query:

    SELECT COUNT(DISTINCT myField) FROM mytable WHERE daynumber=somevalue; 

returns 0, which is mistake

and query:

    SELECT COUNT(*) FROM (SELECT DISTINCT(myField) FROM mytable WHERE daynumber=somevalue) t;

returns true value;

for some daynumber values, first query works fine. 
i tried to repeir that partition, but had no effect

any suggestions?",1
3221977,07/11/2010 05:32:30,159795,08/20/2009 06:34:11,196,3,MYSQL Select/Group By: How do I remove a group from the result based on a value of one of it's members?,"Consider the table of events below. The OrderID field is a foreign key to an Orders table.
<pre>
OrderID     EventType     TimeAdded*       Processed
   1           ...        3 Hours Ago          0
   2           ...        5 Minutes Ago        0
   1           ...        2 Hours Ago          0
   1           ...        1 Hour Ago           0    
   3           ...        12 Minutes ago       1
   3           ...        3 Hours Ago          0
   2           ...        2 Hours Ago          0
</pre>
*TimeAdded is actual a mysql date-time field. I used human readable times here to make the question easier to read.

<br/>
I need to get a result set that has each OrderID, only once, but only if ALL records attached to a given order ID, that have a proceeded status of 0, have been added more than 15 minutes ago.

In this example, order #2 should be OMITTED from the result set because it has an unprocessed event added within the last 15 minutes. The fact that it has an unprocessed event from 2 hours ago is inconsequential.

Order #3 SHOULD be included. Even though one of its entries was added 12 minutes ago, that entry has already been processed, and should not be considered. Only the ""3 hours ago"" entry should be considered in this set, and it is greater than 15 minutes ago.

Order #1 SHOULD be included, since all three unprocessed events attached to it occurred more than 15 minutes ago.

I'm not sure if this needs to use a sub-query or group by or possibly both?

pseudo code:

    SELECT * FROM OrderEvents WHERE Processed=0 GROUP BY OrderID
        OMIT WHOLE GROUP IF GROUP_MIN(TimeAdded) >= (NOW() - INTERVAL 15 MINUTE)


I'm just not certain of the correct syntax?",mysql,select,group-by,,,,open,0,483,21,"MYSQL Select/Group By: How do I remove a group from the result based on a value of one of it's members? Consider the table of events below. The OrderID field is a foreign key to an Orders table.
<pre>
OrderID     EventType     TimeAdded*       Processed
   1           ...        3 Hours Ago          0
   2           ...        5 Minutes Ago        0
   1           ...        2 Hours Ago          0
   1           ...        1 Hour Ago           0    
   3           ...        12 Minutes ago       1
   3           ...        3 Hours Ago          0
   2           ...        2 Hours Ago          0
</pre>
*TimeAdded is actual a mysql date-time field. I used human readable times here to make the question easier to read.

<br/>
I need to get a result set that has each OrderID, only once, but only if ALL records attached to a given order ID, that have a proceeded status of 0, have been added more than 15 minutes ago.

In this example, order #2 should be OMITTED from the result set because it has an unprocessed event added within the last 15 minutes. The fact that it has an unprocessed event from 2 hours ago is inconsequential.

Order #3 SHOULD be included. Even though one of its entries was added 12 minutes ago, that entry has already been processed, and should not be considered. Only the ""3 hours ago"" entry should be considered in this set, and it is greater than 15 minutes ago.

Order #1 SHOULD be included, since all three unprocessed events attached to it occurred more than 15 minutes ago.

I'm not sure if this needs to use a sub-query or group by or possibly both?

pseudo code:

    SELECT * FROM OrderEvents WHERE Processed=0 GROUP BY OrderID
        OMIT WHOLE GROUP IF GROUP_MIN(TimeAdded) >= (NOW() - INTERVAL 15 MINUTE)


I'm just not certain of the correct syntax?",3
1153738,07/20/2009 13:57:10,104015,05/09/2009 09:59:12,666,1,mysql limit inside group?,"I want to limit the size of records inside a group,and here is my trial,how to do it right?

    mysql> select * from accounts limit 5 group by type;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group by type' at line 1",mysql,sql,,,,,open,0,69,4,"mysql limit inside group? I want to limit the size of records inside a group,and here is my trial,how to do it right?

    mysql> select * from accounts limit 5 group by type;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group by type' at line 1",2
2716898,04/26/2010 21:07:23,46782,12/16/2008 19:05:07,819,43,How can I optimize the import of this dataset in mysql?,"I've got the following table schema:

>>CREATE TABLE `alexa` (
  `id` int(10) unsigned NOT NULL,
  `rank` int(10) unsigned NOT NULL,
  `domain` varchar(63) NOT NULL,
  `domainStatus` varchar(6) DEFAULT NULL,
  PRIMARY KEY (`rank`),
  KEY `domain` (`domain`),
  KEY `id` (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1

It takes several minutes to import the data.  To me that seems rather slow as we're only talking about a million rows of data.

What can I do to optimize the insert of this data?  (already using disable keys)

G-Man",mysql,optimization,table,import,,,open,0,85,11,"How can I optimize the import of this dataset in mysql? I've got the following table schema:

>>CREATE TABLE `alexa` (
  `id` int(10) unsigned NOT NULL,
  `rank` int(10) unsigned NOT NULL,
  `domain` varchar(63) NOT NULL,
  `domainStatus` varchar(6) DEFAULT NULL,
  PRIMARY KEY (`rank`),
  KEY `domain` (`domain`),
  KEY `id` (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1

It takes several minutes to import the data.  To me that seems rather slow as we're only talking about a million rows of data.

What can I do to optimize the insert of this data?  (already using disable keys)

G-Man",4
9185,08/12/2008 19:46:43,999,08/11/2008 12:32:21,117,19,What is the best MySQL Client Application for Windows,"Are there any MySQL Client applications for Windows that get even close to what the Enterprise Manager / Server Management Studio is for Microsoft SQL?

I have two requirements and one ""nice to have"" feature:

1. Editing table structure should not be a pain in the a** -> I don't want to click an ""add another column"" button, then edit the column's properties in a new window. What I want is adding a new row in a ""column-list table"" as it is done in the Management Studio.

2. Same applies to adding new rows to the table. Should be as easy as editing an Excel sheet.

3. Nice to have: I'd like to have a feature that's comparable to the database diagrams in the Management Studio, where I can visualize ""foreign key relations"" between tables. They don't actually need to become [constraints][1] because I mainly use MyISAM (which doesn't support constraints). Just the diagrams are a lot of help.


Is there any application that you can recommend to me? Free would be a plus, but anything up to $100 would be okay, too.


  [1]: http://dev.mysql.com/doc/refman/5.0/en/innodb-foreign-key-constraints.html",mysql,frontend,client,windows,,02/10/2012 03:59:36,not constructive,1,181,9,"What is the best MySQL Client Application for Windows Are there any MySQL Client applications for Windows that get even close to what the Enterprise Manager / Server Management Studio is for Microsoft SQL?

I have two requirements and one ""nice to have"" feature:

1. Editing table structure should not be a pain in the a** -> I don't want to click an ""add another column"" button, then edit the column's properties in a new window. What I want is adding a new row in a ""column-list table"" as it is done in the Management Studio.

2. Same applies to adding new rows to the table. Should be as easy as editing an Excel sheet.

3. Nice to have: I'd like to have a feature that's comparable to the database diagrams in the Management Studio, where I can visualize ""foreign key relations"" between tables. They don't actually need to become [constraints][1] because I mainly use MyISAM (which doesn't support constraints). Just the diagrams are a lot of help.


Is there any application that you can recommend to me? Free would be a plus, but anything up to $100 would be okay, too.


  [1]: http://dev.mysql.com/doc/refman/5.0/en/innodb-foreign-key-constraints.html",4
937523,06/02/2009 01:03:52,104015,05/09/2009 09:59:12,164,0,mysql fake select,"    mysql> select id from accounts where id in (1,2,3,4,5,6);
    +----+
    | id |
    +----+
    |  1 |
    |  2 |
    |  3 |
    |  5 |
    |  6 |
    +----+
    5 rows in set (0.00 sec)


The above sql is surely ok,but my question is:is there a way to get the same result without 

specifying a table?Because my purpose here is just to propagate rows by an id_set",mysql,select,,,,,open,0,106,3,"mysql fake select     mysql> select id from accounts where id in (1,2,3,4,5,6);
    +----+
    | id |
    +----+
    |  1 |
    |  2 |
    |  3 |
    |  5 |
    |  6 |
    +----+
    5 rows in set (0.00 sec)


The above sql is surely ok,but my question is:is there a way to get the same result without 

specifying a table?Because my purpose here is just to propagate rows by an id_set",2
11634134,07/24/2012 15:24:18,1549121,07/24/2012 15:01:57,1,0,Build MySQL connector C library with Xcode 4.3,"Just want to share with folks. 

1) Download mysql-connector-c-6.0.2.tar from
http://dev.mysql.com/downloads/connector/c/

Note: select source code in the platform pull down menu. 

Extract to $DEV/mysql-connector-c-6.0.2/

2) Download CMake from 
http://www.cmake.org/cmake/resources/software.html

I chose: cmake-2.8.8-Darwin64-universal.dmg 

During installation, it will ask for command line.  Just say YES.

3) Xcode 4.3 install command line Tools
Xcode->preference->download->Command Line Tools

4) start a command line window and go to $DEV/mysql-connector-c-6.0.2/
cmake -G Xcode

Note: It will configure and generate project file

5) In Xcode
- open  $DEV/mysql-connector-c-6.0.2/libmysql.xcodeproj
- build for archiving

6) libmysql.a is in the $DEV/mysql-connector-c-6.0.2/libmysql/Release/




",mysql,xcode,xcode4.3,,,07/26/2012 02:47:01,not a real question,1,79,8,"Build MySQL connector C library with Xcode 4.3 Just want to share with folks. 

1) Download mysql-connector-c-6.0.2.tar from
http://dev.mysql.com/downloads/connector/c/

Note: select source code in the platform pull down menu. 

Extract to $DEV/mysql-connector-c-6.0.2/

2) Download CMake from 
http://www.cmake.org/cmake/resources/software.html

I chose: cmake-2.8.8-Darwin64-universal.dmg 

During installation, it will ask for command line.  Just say YES.

3) Xcode 4.3 install command line Tools
Xcode->preference->download->Command Line Tools

4) start a command line window and go to $DEV/mysql-connector-c-6.0.2/
cmake -G Xcode

Note: It will configure and generate project file

5) In Xcode
- open  $DEV/mysql-connector-c-6.0.2/libmysql.xcodeproj
- build for archiving

6) libmysql.a is in the $DEV/mysql-connector-c-6.0.2/libmysql/Release/




",3
2254918,02/12/2010 20:29:52,128585,06/25/2009 03:24:13,1717,122,MySQL : Order by 2 fields,"Suppose I have a list of products, and each has a price. I wish to show the most expensive product, and if 2 products or more tie, then I wish to order by their name. Doing this doesn't seem to produce the results I want:

    ORDER BY cost DESC, product_name

What is the syntax which I am looking for?",mysql,,,,,,open,0,61,6,"MySQL : Order by 2 fields Suppose I have a list of products, and each has a price. I wish to show the most expensive product, and if 2 products or more tie, then I wish to order by their name. Doing this doesn't seem to produce the results I want:

    ORDER BY cost DESC, product_name

What is the syntax which I am looking for?",1
10994538,06/12/2012 10:12:45,330457,05/01/2010 16:44:30,153,0,MySQL change view column from BIGINT to BIT,"I have a table like this.

    (BIGINT)     (BIGINT)
    PLAYER_ID    FRIEND_ID
    ----------------------
    1            2
    2            1
    1            3

I think I can make a View as

    SELECT * FROM FRIEND F1 LEFT OUTER JOIN FRIEND F2 ON F1.FRIEND_ID = F2.PLAYER_ID

printing

    F1.PLAYER_ID    F1.FRIEND_ID    F2.PLAYER_ID    F2.FRIEND_ID
    [BIGINT]        [BIGINT]        [BIGINT]        [BIGINT]
    ------------------------------------------------------------
    1               2               2               1
    2               1               1               2
    1               3               NULL            NULL

Can I make a View which represents those F2's existence AS BIT?

    F1.PLAYER_ID    F1.FRIEND_ID    BACK
    [BIGINT]        [BIGINT]        [BIT]
    -------------------------------------
    1               2               1     // exist (1 -> 2)
    2               1               1     // exist (2 -> 1)
    1               3               0     // no backing relation (3 -> 1)
",mysql,sql,,,,,open,0,469,8,"MySQL change view column from BIGINT to BIT I have a table like this.

    (BIGINT)     (BIGINT)
    PLAYER_ID    FRIEND_ID
    ----------------------
    1            2
    2            1
    1            3

I think I can make a View as

    SELECT * FROM FRIEND F1 LEFT OUTER JOIN FRIEND F2 ON F1.FRIEND_ID = F2.PLAYER_ID

printing

    F1.PLAYER_ID    F1.FRIEND_ID    F2.PLAYER_ID    F2.FRIEND_ID
    [BIGINT]        [BIGINT]        [BIGINT]        [BIGINT]
    ------------------------------------------------------------
    1               2               2               1
    2               1               1               2
    1               3               NULL            NULL

Can I make a View which represents those F2's existence AS BIT?

    F1.PLAYER_ID    F1.FRIEND_ID    BACK
    [BIGINT]        [BIGINT]        [BIT]
    -------------------------------------
    1               2               1     // exist (1 -> 2)
    2               1               1     // exist (2 -> 1)
    1               3               0     // no backing relation (3 -> 1)
",2
6147019,05/27/2011 01:46:34,463471,10/01/2010 02:23:35,9,3,MySQL INSERT Using Subquery with COUNT() on the Same Table,"I'm having trouble getting an `INSERT` query to execute properly, and I can't seem to find anything on Google or Stack Overflow that solves this particular issue.

I'm trying to create a simple table for featured entries, where the `entry_id` is saved to the table along with it's current order.

My desired output is this:

If the `featured` table currently has these three entries:

    featured_id    entry_id    featured_order
    1              27          0
    2              54          1
    4              23          2

I want the next entry to save with `featured_order`=3.

I'm trying to get the following query to work with no luck:

    INSERT INTO `featured`
    (
        `entry_id`, `featured_order`
    )
    VALUES
    (
        200,
        (SELECT COUNT(*) AS `the_count` FROM `featured`)
    )

The error I'm getting is: `You can't specify target table 'featured' for update in FROM clause`.

Can anyone help with a solution that gets the count without causing an error?

Thanks in advance!",mysql,insert,subquery,,,,open,0,262,10,"MySQL INSERT Using Subquery with COUNT() on the Same Table I'm having trouble getting an `INSERT` query to execute properly, and I can't seem to find anything on Google or Stack Overflow that solves this particular issue.

I'm trying to create a simple table for featured entries, where the `entry_id` is saved to the table along with it's current order.

My desired output is this:

If the `featured` table currently has these three entries:

    featured_id    entry_id    featured_order
    1              27          0
    2              54          1
    4              23          2

I want the next entry to save with `featured_order`=3.

I'm trying to get the following query to work with no luck:

    INSERT INTO `featured`
    (
        `entry_id`, `featured_order`
    )
    VALUES
    (
        200,
        (SELECT COUNT(*) AS `the_count` FROM `featured`)
    )

The error I'm getting is: `You can't specify target table 'featured' for update in FROM clause`.

Can anyone help with a solution that gets the count without causing an error?

Thanks in advance!",3
10033314,04/05/2012 17:42:12,973552,09/30/2011 17:30:09,398,10,How the big guys searches work,"If I go to amazon and search simply for the word ""hugo"", the first answer it gives me is a DVD called Hugo, which is brand new and very popular at the moment. But how does the search know that's what I'm searching for? I could be looking for Hugo Boss Aftershave.

Same if I search for the word ipad, how does it know what to show first?

Is the question what is score/relevance?

Does they have another table which records the number of times people search for that word, which at the moment will be a lot, then record the clicks as to where people go after that and somehow link to that table when a user is searching?
",mysql,sql,fulltext,,,04/05/2012 18:18:23,off topic,1,117,6,"How the big guys searches work If I go to amazon and search simply for the word ""hugo"", the first answer it gives me is a DVD called Hugo, which is brand new and very popular at the moment. But how does the search know that's what I'm searching for? I could be looking for Hugo Boss Aftershave.

Same if I search for the word ipad, how does it know what to show first?

Is the question what is score/relevance?

Does they have another table which records the number of times people search for that word, which at the moment will be a lot, then record the clicks as to where people go after that and somehow link to that table when a user is searching?
",3
5036780,02/18/2011 01:29:45,344491,05/18/2010 20:55:12,25,1,mysql - show profiles doesn't show me a query,"Hallo guys. Someone can explain me why show profiles doesn't show me a query?
This is the output of my attempt:

    mysql> set profiling = 1;
    Query OK, 0 rows affected (0.00 sec)
    
    mysql> use slow;
    Database changed
    mysql> show profiles;
    +----------+------------+-------------------+
    | Query_ID | Duration   | Query             |
    +----------+------------+-------------------+
    |        1 | 0.00024275 | SELECT DATABASE() |
    +----------+------------+-------------------+
    1 row in set (0.00 sec)
    
    mysql> select count(*) from people;
    +----------+
    | count(*) |
    +----------+
    |   500000 |
    +----------+
    1 row in set (0.00 sec)
    
    mysql> show profiles;
    +----------+------------+-----------------------------+
    | Query_ID | Duration   | Query                       |
    +----------+------------+-----------------------------+
    |        1 | 0.00024275 | SELECT DATABASE()           |
    |        2 | 0.00030825 | select count(*) from people |
    +----------+------------+-----------------------------+
    2 rows in set (0.00 sec)
    
    mysql> select
        -> concat_ws('-',min(age(dob)),max(age(dob))) as year
        -> count(*) as total
        -> from people
        -> group by if(age(dob)=0,1,ceil(age(dob)/5))
        -> ;
    +---------+-------+
    | years   | total |
    +---------+-------+
    | 0-5     | 29789 |
    | 6-10    | 24847 |
    | 11-15   | 24670 |
    | 16-20   | 24764 |
    | 21-25   | 24751 |
    | 26-30   | 24753 |
    | 31-35   | 24817 |
    | 36-40   | 24505 |
    | 41-45   | 24540 |
    | 46-50   | 24745 |
    | 51-55   | 24575 |
    | 56-60   | 24441 |
    | 61-65   | 24953 |
    | 66-70   | 24760 |
    | 71-75   | 24586 |
    | 76-80   | 24647 |
    | 81-85   | 24819 |
    | 86-90   | 24879 |
    | 91-95   | 24683 |
    | 96-100  | 24829 |
    | 101-101 |   647 |
    +---------+-------+
    21 rows in set (31.42 sec)
    
    mysql> show profiles;
    +----------+------------+-----------------------------+
    | Query_ID | Duration   | Query                       |
    +----------+------------+-----------------------------+
    |        1 | 0.00024275 | SELECT DATABASE()           |
    |        2 | 0.00030825 | select count(*) from people |
    +----------+------------+-----------------------------+
    2 rows in set (0.00 sec)

Thanks in advance.",mysql,,,,,,open,0,701,9,"mysql - show profiles doesn't show me a query Hallo guys. Someone can explain me why show profiles doesn't show me a query?
This is the output of my attempt:

    mysql> set profiling = 1;
    Query OK, 0 rows affected (0.00 sec)
    
    mysql> use slow;
    Database changed
    mysql> show profiles;
    +----------+------------+-------------------+
    | Query_ID | Duration   | Query             |
    +----------+------------+-------------------+
    |        1 | 0.00024275 | SELECT DATABASE() |
    +----------+------------+-------------------+
    1 row in set (0.00 sec)
    
    mysql> select count(*) from people;
    +----------+
    | count(*) |
    +----------+
    |   500000 |
    +----------+
    1 row in set (0.00 sec)
    
    mysql> show profiles;
    +----------+------------+-----------------------------+
    | Query_ID | Duration   | Query                       |
    +----------+------------+-----------------------------+
    |        1 | 0.00024275 | SELECT DATABASE()           |
    |        2 | 0.00030825 | select count(*) from people |
    +----------+------------+-----------------------------+
    2 rows in set (0.00 sec)
    
    mysql> select
        -> concat_ws('-',min(age(dob)),max(age(dob))) as year
        -> count(*) as total
        -> from people
        -> group by if(age(dob)=0,1,ceil(age(dob)/5))
        -> ;
    +---------+-------+
    | years   | total |
    +---------+-------+
    | 0-5     | 29789 |
    | 6-10    | 24847 |
    | 11-15   | 24670 |
    | 16-20   | 24764 |
    | 21-25   | 24751 |
    | 26-30   | 24753 |
    | 31-35   | 24817 |
    | 36-40   | 24505 |
    | 41-45   | 24540 |
    | 46-50   | 24745 |
    | 51-55   | 24575 |
    | 56-60   | 24441 |
    | 61-65   | 24953 |
    | 66-70   | 24760 |
    | 71-75   | 24586 |
    | 76-80   | 24647 |
    | 81-85   | 24819 |
    | 86-90   | 24879 |
    | 91-95   | 24683 |
    | 96-100  | 24829 |
    | 101-101 |   647 |
    +---------+-------+
    21 rows in set (31.42 sec)
    
    mysql> show profiles;
    +----------+------------+-----------------------------+
    | Query_ID | Duration   | Query                       |
    +----------+------------+-----------------------------+
    |        1 | 0.00024275 | SELECT DATABASE()           |
    |        2 | 0.00030825 | select count(*) from people |
    +----------+------------+-----------------------------+
    2 rows in set (0.00 sec)

Thanks in advance.",1
7543674,09/25/2011 04:30:36,246677,01/08/2010 19:45:16,35,0,Is there any success stories for MySql/NDB?,MySql/NDB addresses problems which are main reasons why NoSql DBs have been created: horizontal scalability with shared nothing architecture + it has power of SQL. I just wondered is there any success stories for building high loaded systems with MySql/NDB? Why is it not popular? Is it stable and matured enough? Any opinions or stories? ,mysql,success,stories,,,09/25/2011 05:31:33,not constructive,1,56,7,Is there any success stories for MySql/NDB? MySql/NDB addresses problems which are main reasons why NoSql DBs have been created: horizontal scalability with shared nothing architecture + it has power of SQL. I just wondered is there any success stories for building high loaded systems with MySql/NDB? Why is it not popular? Is it stable and matured enough? Any opinions or stories? ,3
11321108,07/04/2012 00:48:11,1380652,05/07/2012 20:30:48,1,0,MySQL- Select at least n rows per group,"Suppose you have 

    id   /   value
    1        2
    1        3
    1        6
    2        3
    3        1 
    3        3
    3        6

And I want to retrieve at least n rows per id group, let's say n = 4. In addition, it would help if a counter is added as a column. So the results should be like:

    counter /  id   /  value
    1          1       2
    2          1       3
    3          1       6
    4          null    null
    1          2       3
    2          null    null
    3          null    null
    4          null    null
    1          3       1
    2          3       3
    3          3       6
    4          null    null


regards




",mysql,select,greatest-n-per-group,,,,open,0,383,8,"MySQL- Select at least n rows per group Suppose you have 

    id   /   value
    1        2
    1        3
    1        6
    2        3
    3        1 
    3        3
    3        6

And I want to retrieve at least n rows per id group, let's say n = 4. In addition, it would help if a counter is added as a column. So the results should be like:

    counter /  id   /  value
    1          1       2
    2          1       3
    3          1       6
    4          null    null
    1          2       3
    2          null    null
    3          null    null
    4          null    null
    1          3       1
    2          3       3
    3          3       6
    4          null    null


regards




",3
3404766,08/04/2010 10:49:29,79536,03/18/2009 15:07:49,101,3,Mysql mystery: null value is not different to non-null string,"Why is this query returning 0 rows?

    select t.f1, t.f2
    from (select null f1, 'a' f2 from dual) t
    where t.f1<>t.f2;

This is a distilled version of a complex query I have. I wan't to compare two tables containing one-to-one related data and I want to select those rows that contain different values for certain fields. But also there can be the case where one row is missing in one of the tables. The LEFT JOIN correctly returns null values for these rows, but then, the WHERE clause is incorrectly (or unexpectedly) filtering these rows out.

**Why -in this case- 'null' IS NOT DIFFERENT to any not null value (like 'a') ?**


What is driving me crazy is that this

    select t.f1, t.f2
    from (select null f1, 'a' f2 from dual) t;

returns 1 row (as I expected) but this

    select t.f1, t.f2
    from (select null f1, 'a' f2 from dual) t
    where t.f1=t.f2;

returns 0 rows !! **So null is not equal to 'a' and null is not different to 'a' !!**

Please... Can anybody explain this?
",mysql,,,,,,open,0,196,10,"Mysql mystery: null value is not different to non-null string Why is this query returning 0 rows?

    select t.f1, t.f2
    from (select null f1, 'a' f2 from dual) t
    where t.f1<>t.f2;

This is a distilled version of a complex query I have. I wan't to compare two tables containing one-to-one related data and I want to select those rows that contain different values for certain fields. But also there can be the case where one row is missing in one of the tables. The LEFT JOIN correctly returns null values for these rows, but then, the WHERE clause is incorrectly (or unexpectedly) filtering these rows out.

**Why -in this case- 'null' IS NOT DIFFERENT to any not null value (like 'a') ?**


What is driving me crazy is that this

    select t.f1, t.f2
    from (select null f1, 'a' f2 from dual) t;

returns 1 row (as I expected) but this

    select t.f1, t.f2
    from (select null f1, 'a' f2 from dual) t
    where t.f1=t.f2;

returns 0 rows !! **So null is not equal to 'a' and null is not different to 'a' !!**

Please... Can anybody explain this?
",1
2890265,05/23/2010 00:25:16,182671,10/01/2009 18:07:20,273,11,Which data structure used in MySql?,Which data structure used in MySql?,mysql,algorithm,,,,05/23/2010 00:30:19,not a real question,1,6,6,Which data structure used in MySql? Which data structure used in MySql?,2
8251824,11/24/2011 03:12:56,253976,01/19/2010 12:09:40,2650,10,MySQL Workbench - producing bad SQL?,"I'm trying to make a table that has a ""created"" timestamp and an ""updated"" timestamp (and have MySQL insert values in there automatically for me). It's doable, see: http://gusiev.com/2009/04/update-and-create-timestamps-with-mysql/.

As a first step, I copied the example table from the reference site and modeled it in Workbench. I then did a forward engineer and tested the resulting SQL in phpMyAdmin. Everything worked. Here was the SQL:

    -- -----------------------------------------------------
    -- Table `test_table`
    -- -----------------------------------------------------
    
    DROP TABLE IF EXISTS `test_table` ;
    
    CREATE  TABLE IF NOT EXISTS `test_table` (
      `id` INT NOT NULL AUTO_INCREMENT ,
      `stamp_created` TIMESTAMP NULL DEFAULT '0000-00-00 00:00:00' ,
      `stamp_updated` TIMESTAMP NULL DEFAULT now() on update now() ,
      PRIMARY KEY (`id`) )
    ENGINE = InnoDB;

After verifying that the idea works, I then implemented the concept in one of my actual tables. The resulting SQL was this:

    -- -----------------------------------------------------
    -- Table `user_login`
    -- -----------------------------------------------------
    
    DROP TABLE IF EXISTS `user_login` ;
    
    CREATE  TABLE IF NOT EXISTS `user_login` (
      `user_login_id` INT NOT NULL AUTO_INCREMENT ,
      `user_id` INT NOT NULL ,
      `hashed_password` CHAR(255) NULL ,
      `provider_id` CHAR(255) NULL ,
      `provider_name` CHAR(255) NULL ,
      `unverified_email_address` CHAR(255) NULL ,
      `verification_code_email_address` CHAR(255) NULL ,
      `verification_code_password_change` CHAR(255) NULL ,
      `verified_email_address` CHAR(255) NULL ,
      `stamp_created` TIMESTAMP NULL DEFAULT '0000-00-00 00:00:00' ,
      `stamp_updated` TIMESTAMP NULL DEFAULT now() on update now() ,
      `stamp_deleted` TIMESTAMP NULL ,
      PRIMARY KEY (`user_login_id`) ,
      INDEX `user_login_user_id` (`user_id` ASC) ,
      UNIQUE INDEX `verified_email_address_UNIQUE` (`verified_email_address` ASC) ,
      UNIQUE INDEX `unverified_email_address_UNIQUE` (`unverified_email_address` ASC) ,
      CONSTRAINT `user_login_user_id`
        FOREIGN KEY (`user_id` )
        REFERENCES `user` (`user_id` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB;

When I execute the SQL, I get the following error:

`#1067 - Invalid default value for 'stamp_created'`

**Anyone see what's causing my problem?**",mysql,database,,,,,open,0,463,6,"MySQL Workbench - producing bad SQL? I'm trying to make a table that has a ""created"" timestamp and an ""updated"" timestamp (and have MySQL insert values in there automatically for me). It's doable, see: http://gusiev.com/2009/04/update-and-create-timestamps-with-mysql/.

As a first step, I copied the example table from the reference site and modeled it in Workbench. I then did a forward engineer and tested the resulting SQL in phpMyAdmin. Everything worked. Here was the SQL:

    -- -----------------------------------------------------
    -- Table `test_table`
    -- -----------------------------------------------------
    
    DROP TABLE IF EXISTS `test_table` ;
    
    CREATE  TABLE IF NOT EXISTS `test_table` (
      `id` INT NOT NULL AUTO_INCREMENT ,
      `stamp_created` TIMESTAMP NULL DEFAULT '0000-00-00 00:00:00' ,
      `stamp_updated` TIMESTAMP NULL DEFAULT now() on update now() ,
      PRIMARY KEY (`id`) )
    ENGINE = InnoDB;

After verifying that the idea works, I then implemented the concept in one of my actual tables. The resulting SQL was this:

    -- -----------------------------------------------------
    -- Table `user_login`
    -- -----------------------------------------------------
    
    DROP TABLE IF EXISTS `user_login` ;
    
    CREATE  TABLE IF NOT EXISTS `user_login` (
      `user_login_id` INT NOT NULL AUTO_INCREMENT ,
      `user_id` INT NOT NULL ,
      `hashed_password` CHAR(255) NULL ,
      `provider_id` CHAR(255) NULL ,
      `provider_name` CHAR(255) NULL ,
      `unverified_email_address` CHAR(255) NULL ,
      `verification_code_email_address` CHAR(255) NULL ,
      `verification_code_password_change` CHAR(255) NULL ,
      `verified_email_address` CHAR(255) NULL ,
      `stamp_created` TIMESTAMP NULL DEFAULT '0000-00-00 00:00:00' ,
      `stamp_updated` TIMESTAMP NULL DEFAULT now() on update now() ,
      `stamp_deleted` TIMESTAMP NULL ,
      PRIMARY KEY (`user_login_id`) ,
      INDEX `user_login_user_id` (`user_id` ASC) ,
      UNIQUE INDEX `verified_email_address_UNIQUE` (`verified_email_address` ASC) ,
      UNIQUE INDEX `unverified_email_address_UNIQUE` (`unverified_email_address` ASC) ,
      CONSTRAINT `user_login_user_id`
        FOREIGN KEY (`user_id` )
        REFERENCES `user` (`user_id` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB;

When I execute the SQL, I get the following error:

`#1067 - Invalid default value for 'stamp_created'`

**Anyone see what's causing my problem?**",2
10025867,04/05/2012 09:16:14,1197089,02/08/2012 11:48:36,6,0,Slow Responsiveness MySql,"I have fired a command SHOW ENGINE INNODB STATUS; in mysql for detecting slowness in response,  following is the stacktrace of Semaphore, but as I am new to this, so can't figure out statistics, please let me know if we can trace something from it.

SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 22124, signal count 103334
Mutex spin waits 2140674, rounds 1742014, OS waits 8304
RW-shared spins 24931, OS waits 4171; RW-excl spins 1775, OS waits 8282
Spin rounds per wait: 0.81 mutex, 10.20 RW-shared, 210.67 RW-excl
",mysql,innodb,semaphore,,,04/09/2012 17:53:46,not a real question,1,83,3,"Slow Responsiveness MySql I have fired a command SHOW ENGINE INNODB STATUS; in mysql for detecting slowness in response,  following is the stacktrace of Semaphore, but as I am new to this, so can't figure out statistics, please let me know if we can trace something from it.

SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 22124, signal count 103334
Mutex spin waits 2140674, rounds 1742014, OS waits 8304
RW-shared spins 24931, OS waits 4171; RW-excl spins 1775, OS waits 8282
Spin rounds per wait: 0.81 mutex, 10.20 RW-shared, 210.67 RW-excl
",3
9195068,02/08/2012 14:19:18,1062218,11/23/2011 15:30:52,554,45,"MySQL Query: Get 3 results where id equals this, then another 3 where id equals that","I have the following:

TABLE: topics   
COLS: topicId, categoryId (linking to the categoryId in categories)

TABLE: categories   
COLS: categoryId

For the sake of this discussion, lets pretend the topic table has 100 rows with topicIds 100 through 200, and each row is associated with varying categoryIds 1 - 10.  Assume each categoryId is in there 10 times randomly through; not in order.
Categories then has 10 rows with categoryIds:  1 through 10

I want to write a query that reads like (I know this isn't right):    

    SELECT topicId FROM topics WHERE categoryId = 1 OR categoryId = 2 OR categoryID = 3 LIMIT 3 topicIds per categoryId

The result should be that I pull 9 rows from the database.  3 of the rows are associated with categoryId 1, 3 with catId 2, 3 with catId 4.

How can I do this?  I'm stumped.",mysql,query,,,,,open,0,151,16,"MySQL Query: Get 3 results where id equals this, then another 3 where id equals that I have the following:

TABLE: topics   
COLS: topicId, categoryId (linking to the categoryId in categories)

TABLE: categories   
COLS: categoryId

For the sake of this discussion, lets pretend the topic table has 100 rows with topicIds 100 through 200, and each row is associated with varying categoryIds 1 - 10.  Assume each categoryId is in there 10 times randomly through; not in order.
Categories then has 10 rows with categoryIds:  1 through 10

I want to write a query that reads like (I know this isn't right):    

    SELECT topicId FROM topics WHERE categoryId = 1 OR categoryId = 2 OR categoryID = 3 LIMIT 3 topicIds per categoryId

The result should be that I pull 9 rows from the database.  3 of the rows are associated with categoryId 1, 3 with catId 2, 3 with catId 4.

How can I do this?  I'm stumped.",2
8108295,11/12/2011 23:16:46,469855,10/08/2010 04:59:23,406,3,Intersection of sets,"I'm trying to remember what the SQL solution is for this type of problem.  Let's say I have the following tables:

`tagged_nodes`:

 1. `nid` - Node id.  Foreign key.
 2. `tid` - Tag id.  Foreign key.
 3. `tnid` - Primary key (irrelevant to the problem at hand).

`nodes`:

 1. `nid` - Node id.  Primary key.
 2. ... - Other columns are irrelevant.

Assuming I have a set of tag ids (`tid`), I want to return the set of associated nodes (intersection).  How do I do this?",mysql,sql,,,,,open,0,88,3,"Intersection of sets I'm trying to remember what the SQL solution is for this type of problem.  Let's say I have the following tables:

`tagged_nodes`:

 1. `nid` - Node id.  Foreign key.
 2. `tid` - Tag id.  Foreign key.
 3. `tnid` - Primary key (irrelevant to the problem at hand).

`nodes`:

 1. `nid` - Node id.  Primary key.
 2. ... - Other columns are irrelevant.

Assuming I have a set of tag ids (`tid`), I want to return the set of associated nodes (intersection).  How do I do this?",2
10317863,04/25/2012 14:31:57,1102512,12/16/2011 18:18:39,42,2,Copy a column from in mysql (two different databases),"I tried to copy a column from one table to another table (in two different databases)

I tried the following queries:

    update des_db.mytable as des 
    set col=  (select col from src_db.mytable as src where src.id = db.id)

and also joining these two tables.<br/>
In both solutions, I got the error ""Total number of locks exceed the lock table size"". <br/>
I increased the ""innodb_log_buffer_size to 32M and it doesn't work.

I want to know if there is any solution to do this.

IMPORTANT NOTE: the source table is actually my backup and it has the same number of rows as the other one has. (666,666 records)


",mysql,copy,columns,,,,open,0,108,9,"Copy a column from in mysql (two different databases) I tried to copy a column from one table to another table (in two different databases)

I tried the following queries:

    update des_db.mytable as des 
    set col=  (select col from src_db.mytable as src where src.id = db.id)

and also joining these two tables.<br/>
In both solutions, I got the error ""Total number of locks exceed the lock table size"". <br/>
I increased the ""innodb_log_buffer_size to 32M and it doesn't work.

I want to know if there is any solution to do this.

IMPORTANT NOTE: the source table is actually my backup and it has the same number of rows as the other one has. (666,666 records)


",3
4971860,02/11/2011 17:03:56,311188,04/07/2010 16:44:08,24,0,Row lock for update status,"I have a table of ""commands to do""  with a status ('toprocess', 'processing', 'done')

I have several instances (amazon ec2) with a daemon asking for ""commands to do"".

The daemon asks for rows with status 'toprocess', then it processes, and at the end of each loop it changes the status to 'done'.

The thing is that, before starting that loop, I need to change all rows 'toprocess' to status 'processing', so other instances will not take the same rows, avoiding conflict.

I've read about innodb row locks, but I don't understand them very well ...

SELECT * from commands where status = 'toprocess' 
then I need to take the ID's of these results, and update status to 'processing' , locking these rows until they are updated.

How can i do it ?

Thank you",mysql,locking,innodb,row,,,open,0,128,5,"Row lock for update status I have a table of ""commands to do""  with a status ('toprocess', 'processing', 'done')

I have several instances (amazon ec2) with a daemon asking for ""commands to do"".

The daemon asks for rows with status 'toprocess', then it processes, and at the end of each loop it changes the status to 'done'.

The thing is that, before starting that loop, I need to change all rows 'toprocess' to status 'processing', so other instances will not take the same rows, avoiding conflict.

I've read about innodb row locks, but I don't understand them very well ...

SELECT * from commands where status = 'toprocess' 
then I need to take the ID's of these results, and update status to 'processing' , locking these rows until they are updated.

How can i do it ?

Thank you",4
11076886,06/18/2012 04:18:21,400765,07/23/2010 23:36:59,26,2,SQL query for eBay-style winning auction bid,"I'm developing an auction site that will work similarly to eBay auctions. Rules:

 - If there is not a tie for the top bid on an auction:
    - The winner is the user with the highest bid.
    - The price is the second-highest bid, plus $1. (if the top n bids are by the same user, then the price is the (n+1)th highest bid plus $1.
    - If only one user has bid on the auction, the price is $1.
 - If there is a tie between multiple users for the top bid in an auction:
    - The winning bid is whichever came earlier.
    - The price is the amount of the bid.

Here's my bid table:

    mysql> select * from bids;
    +--------+------------+---------+--------+---------------------+
    | bid_id | auction_id | user_id | amount | timestamp           |
    +--------+------------+---------+--------+---------------------+
    |      1 |          1 |       1 |     10 | 2012-06-17 23:37:15 |
    |      2 |          1 |       2 |     20 | 2012-06-17 23:38:03 |
    |      3 |          2 |       1 |    150 | 2012-06-17 23:38:30 |
    |      4 |          2 |       2 |    200 | 2012-06-17 23:39:03 |
    |      5 |          2 |       1 |    200 | 2012-06-17 23:46:04 |
    |      6 |          3 |       2 |     40 | 2012-06-17 23:57:09 |
    |      7 |          3 |       1 |     50 | 2012-06-17 23:57:15 |
    |      8 |          3 |       1 |     60 | 2012-06-17 23:57:23 |
    |      9 |          4 |       1 |      5 | 2012-06-17 23:58:54 |
    +--------+------------+---------+--------+---------------------+

And here's the result I want:

    auction_id    winner    amount
             1         2        11  (2 wins at 1's bid plus 1)
             2         2       200  (2 wins the tiebreaker b/c his bid was earlier)
             3         1        41  (1 is not punished for his multiple bids)
             4         1         1  (1 is the only bidder on this auction)


How do I get this result? I'm using MySQL.",mysql,sql,,,,,open,0,705,7,"SQL query for eBay-style winning auction bid I'm developing an auction site that will work similarly to eBay auctions. Rules:

 - If there is not a tie for the top bid on an auction:
    - The winner is the user with the highest bid.
    - The price is the second-highest bid, plus $1. (if the top n bids are by the same user, then the price is the (n+1)th highest bid plus $1.
    - If only one user has bid on the auction, the price is $1.
 - If there is a tie between multiple users for the top bid in an auction:
    - The winning bid is whichever came earlier.
    - The price is the amount of the bid.

Here's my bid table:

    mysql> select * from bids;
    +--------+------------+---------+--------+---------------------+
    | bid_id | auction_id | user_id | amount | timestamp           |
    +--------+------------+---------+--------+---------------------+
    |      1 |          1 |       1 |     10 | 2012-06-17 23:37:15 |
    |      2 |          1 |       2 |     20 | 2012-06-17 23:38:03 |
    |      3 |          2 |       1 |    150 | 2012-06-17 23:38:30 |
    |      4 |          2 |       2 |    200 | 2012-06-17 23:39:03 |
    |      5 |          2 |       1 |    200 | 2012-06-17 23:46:04 |
    |      6 |          3 |       2 |     40 | 2012-06-17 23:57:09 |
    |      7 |          3 |       1 |     50 | 2012-06-17 23:57:15 |
    |      8 |          3 |       1 |     60 | 2012-06-17 23:57:23 |
    |      9 |          4 |       1 |      5 | 2012-06-17 23:58:54 |
    +--------+------------+---------+--------+---------------------+

And here's the result I want:

    auction_id    winner    amount
             1         2        11  (2 wins at 1's bid plus 1)
             2         2       200  (2 wins the tiebreaker b/c his bid was earlier)
             3         1        41  (1 is not punished for his multiple bids)
             4         1         1  (1 is the only bidder on this auction)


How do I get this result? I'm using MySQL.",2
7764143,10/14/2011 07:02:54,974372,10/01/2011 10:28:45,20,0,sql query for getting same data from database,My MYSQL database contains some fields which contains duplicate entries. I want to view all those rows which contains same data. Is there a query for this.,mysql,,,,,10/14/2011 08:05:48,not a real question,1,27,8,sql query for getting same data from database My MYSQL database contains some fields which contains duplicate entries. I want to view all those rows which contains same data. Is there a query for this.,1
7813750,10/18/2011 21:07:53,799575,06/15/2011 12:32:11,76,0,mysql - long execution time on what I think is a simple query,"This query is stumping me. It's taking 19 seconds on a quad core server and I can't seem to figure out why!

select * from data where status=2  order by id desc limit 3

The id column is an int(11) primary index with auto_increment, the status is a tinyint(1) which with a regular index (tinyint(1) because this field only has a 0,1,2,3,4 values).

I do have over 2 million records but this isn't a complex query so I would assume it would take less than 1 sec to execute.

Can someone help me figure out what I'm doing wrong with this?",mysql,,,,,,open,0,98,13,"mysql - long execution time on what I think is a simple query This query is stumping me. It's taking 19 seconds on a quad core server and I can't seem to figure out why!

select * from data where status=2  order by id desc limit 3

The id column is an int(11) primary index with auto_increment, the status is a tinyint(1) which with a regular index (tinyint(1) because this field only has a 0,1,2,3,4 values).

I do have over 2 million records but this isn't a complex query so I would assume it would take less than 1 sec to execute.

Can someone help me figure out what I'm doing wrong with this?",1
7849771,10/21/2011 13:03:26,1096892,10/12/2011 19:29:32,63,0,Creating the correct database structure for my website (mysql),"I am a web developer but I need to include a database for my website but I am very weak when it comes to producing the correct database. My website is an online exam system where users answer questions by selecting answers from the following options given to them.

What I asking is what fields would you include in the answer table, studentanswers table, questions table and I probably need to inlude an options table as there could be different types of options e.g true or false, a,b,c, or even a,b,c,d,e. also some questions may have one answer by selecting one option and other questions may have multiple answers by selecting multiple options.

Thank you and please share me your ideas as I can use then to help build a suitable database for this website.",mysql,database,,,,10/21/2011 17:38:38,not constructive,1,133,9,"Creating the correct database structure for my website (mysql) I am a web developer but I need to include a database for my website but I am very weak when it comes to producing the correct database. My website is an online exam system where users answer questions by selecting answers from the following options given to them.

What I asking is what fields would you include in the answer table, studentanswers table, questions table and I probably need to inlude an options table as there could be different types of options e.g true or false, a,b,c, or even a,b,c,d,e. also some questions may have one answer by selecting one option and other questions may have multiple answers by selecting multiple options.

Thank you and please share me your ideas as I can use then to help build a suitable database for this website.",2
67117,09/15/2008 21:23:51,556,08/06/2008 16:48:23,1032,12,Do you have any tips and tricks for speeding up mysql dumps and imports?,"This would include my.cnf settings, using ramdisks, etc. ",mysql,,,,,01/07/2012 03:53:41,not constructive,1,9,14,"Do you have any tips and tricks for speeding up mysql dumps and imports? This would include my.cnf settings, using ramdisks, etc. ",1
7034058,08/11/2011 23:17:28,890885,08/11/2011 23:17:28,1,0,What can I do if I don't have cpanel install,"I have a completely working website with database, unfortunately my hosting provider did not provide cpanel. In order to install cpanel I will keep to clean up my database, which already has a lot of data and I cannot afford to do that.

Is there any way else I can use something similar to cpanel? I am using mysql.

I need to query my mysql etc, and doing it through the terminal is not the same.

Thank you",mysql,cpanel,,,,08/12/2011 07:07:29,off topic,1,75,10,"What can I do if I don't have cpanel install I have a completely working website with database, unfortunately my hosting provider did not provide cpanel. In order to install cpanel I will keep to clean up my database, which already has a lot of data and I cannot afford to do that.

Is there any way else I can use something similar to cpanel? I am using mysql.

I need to query my mysql etc, and doing it through the terminal is not the same.

Thank you",2
11622641,07/24/2012 00:48:34,1341732,04/18/2012 15:03:18,1,0,how to configure this two files?," 1. I'm installing riped chat to my site but When i enter to Setup.php
    it shows error

 

 1. **Parse error: syntax error, unexpected T_LOGICAL_OR in /chat.inc on line 361**
 2. [here is **setup.php** code](http://kl1p.com/MvS) 
 3. [and **chat.inc**
        code](http://kl1p.com/MvS)

if you need more info ask
",mysql,database,chat,,,07/24/2012 01:22:01,not a real question,1,56,6,"how to configure this two files?  1. I'm installing riped chat to my site but When i enter to Setup.php
    it shows error

 

 1. **Parse error: syntax error, unexpected T_LOGICAL_OR in /chat.inc on line 361**
 2. [here is **setup.php** code](http://kl1p.com/MvS) 
 3. [and **chat.inc**
        code](http://kl1p.com/MvS)

if you need more info ask
",3
4969018,02/11/2011 12:32:30,482925,10/21/2010 11:27:55,73,0,mysql benchmark ?,"I wan`t to make some benchmark tests, so how to generate long time taking query (20 seconds will be enough) ?",mysql,,,,,02/11/2011 12:50:29,not a real question,1,21,3,"mysql benchmark ? I wan`t to make some benchmark tests, so how to generate long time taking query (20 seconds will be enough) ?",1
8477985,12/12/2011 17:05:50,1094190,12/12/2011 16:59:24,1,0,"no matter whatever I do , my apache and mysql services are not stopping , what might be the prblm?","I provided the link of screenshot of the image so that you can see the error message ...

http://i.imgur.com/A3zGY.png

please don't say me that to restart the xampp , for getting what I need ...

I exactly need the reason(answer) why the error is being desplayed ...",mysql,apache,xampp,,,12/12/2011 17:20:29,off topic,1,44,20,"no matter whatever I do , my apache and mysql services are not stopping , what might be the prblm? I provided the link of screenshot of the image so that you can see the error message ...

http://i.imgur.com/A3zGY.png

please don't say me that to restart the xampp , for getting what I need ...

I exactly need the reason(answer) why the error is being desplayed ...",3
8208255,11/21/2011 06:54:05,814502,06/24/2011 17:37:35,15,0,How to add the extention .wav in string matching in writing sql query?,"I've a database(db), which has 11 tables(t1, t2 ... t11). Lets say, I want to use t2 and t7, whose details are:  
t2: c2-1(int), c2-2(int), c2-3(varchar), c2-4(varchar)  
t7: c7-1(int), c7-2(int), c7-3(int), c7-4(int), c7-5(varchar)  

Now, values in c7-5 are like (abc, def, ghi, jkl . . .)  
Now, values in c2-3 and c2-4 are like (abc.wav, def.wav, ghi.wav, jkl.wav . . .)  

The question is: How do I write a query in sql to get all the values of c2-2 from t2 for which c2-3 or c2-4 is equal to c7-5 ???  

Basically, How to add the extension (.wav) to match the value in c2-3 and c2-4 ???  

Please help me. as I'm stuck with this for more than 24 hours now ???",mysql,sql,query,,,,open,0,129,13,"How to add the extention .wav in string matching in writing sql query? I've a database(db), which has 11 tables(t1, t2 ... t11). Lets say, I want to use t2 and t7, whose details are:  
t2: c2-1(int), c2-2(int), c2-3(varchar), c2-4(varchar)  
t7: c7-1(int), c7-2(int), c7-3(int), c7-4(int), c7-5(varchar)  

Now, values in c7-5 are like (abc, def, ghi, jkl . . .)  
Now, values in c2-3 and c2-4 are like (abc.wav, def.wav, ghi.wav, jkl.wav . . .)  

The question is: How do I write a query in sql to get all the values of c2-2 from t2 for which c2-3 or c2-4 is equal to c7-5 ???  

Basically, How to add the extension (.wav) to match the value in c2-3 and c2-4 ???  

Please help me. as I'm stuck with this for more than 24 hours now ???",3
5840133,04/30/2011 06:51:47,732149,04/30/2011 06:51:47,1,0,join and order with mysql unions,"I'd be grateful if someone could help me with this. I have two simple tables and I would like to create a (not so simple) query. One of my tables stores user data, the another one stores messages sent between users. Like these:

    TABLE1
    userid, username
    0, Alice
    1, Bob
    2, Tom
    3, Jerry
    
    TABLE2
    messageid, senderid, recipientid, message
    0, 3, 2, ""Hello Tom, how are you?""
    1, 2, 3, ""Hello Jerry""
    2, 2, 0, ""Happy Birthday Alice, Hugs, Tom""
    3, 3, 1, ""Bob, what's up there?""

I would like to create a contact list of any given user. I mean, an ordered list that includes the names of users who got messages from the given user or sent messages to him/her. So the contact list of Tom would look like this:

    Alice
    Jerry

And Bob's contact list would include Jerry only. And so on.

I figured out that maybe I have to use two select operations and union them. For example:

    (select senderid from TABLE2 where recipientid=2) union (select recipientid from TABLE2 where senderid=2)

I have three questions.

How can I use JOIN here to see the names from TABLE1 instead of ids from TABLE2?

How can I sort the result by the names?

And, is it possible to solve this in any other way?

Thanks.
",mysql,,,,,,open,0,258,6,"join and order with mysql unions I'd be grateful if someone could help me with this. I have two simple tables and I would like to create a (not so simple) query. One of my tables stores user data, the another one stores messages sent between users. Like these:

    TABLE1
    userid, username
    0, Alice
    1, Bob
    2, Tom
    3, Jerry
    
    TABLE2
    messageid, senderid, recipientid, message
    0, 3, 2, ""Hello Tom, how are you?""
    1, 2, 3, ""Hello Jerry""
    2, 2, 0, ""Happy Birthday Alice, Hugs, Tom""
    3, 3, 1, ""Bob, what's up there?""

I would like to create a contact list of any given user. I mean, an ordered list that includes the names of users who got messages from the given user or sent messages to him/her. So the contact list of Tom would look like this:

    Alice
    Jerry

And Bob's contact list would include Jerry only. And so on.

I figured out that maybe I have to use two select operations and union them. For example:

    (select senderid from TABLE2 where recipientid=2) union (select recipientid from TABLE2 where senderid=2)

I have three questions.

How can I use JOIN here to see the names from TABLE1 instead of ids from TABLE2?

How can I sort the result by the names?

And, is it possible to solve this in any other way?

Thanks.
",1
11616625,07/23/2012 16:30:06,1546378,07/23/2012 16:19:27,1,0,Move mySQL Wordpress database to new host. correct me if i am wrong,"Guys need little bit help here.

I have recently moved one of my website from shared hosting to new managed host with the following step by steps.  Keep in mind the new host is only for Wordpress Hosting so it gives access to phpMyAdmin and Wordpress admin panel.

1. goto phpMyAdmin of old host, goto Export mysql and created sql export file of complete database ( i have selected the database complete)
2. goto phpMyAdmin of new host, as there was already wordpress db created with default wordpress install tables, selected all tables & Drop.
3. goto Import and uploaded that .sql file from old host to this host, Booom! all files imported and all the tables created with same old prefix.

So the above method will effect anything performance etc of the webiste? because since the migration the website goes down after few hours and have to ask the support to reboot mySQL.
as per hosting support there is bug in theme which creates too many connections to db, but theme is classipress classified theme they say there is no such bug, but i have asked freelancer to modify some mods for search.
Now i am not sure what is exactly the problem. Freelancer blaming the hosting, hosting support blamming the theme.
Any suggestions ??? Please?
or if any expert can help me in this regards. please i can paste the code which hosting support said is the main reason for this hike.",mysql,database,migration,,,07/24/2012 02:46:20,off topic,1,236,13,"Move mySQL Wordpress database to new host. correct me if i am wrong Guys need little bit help here.

I have recently moved one of my website from shared hosting to new managed host with the following step by steps.  Keep in mind the new host is only for Wordpress Hosting so it gives access to phpMyAdmin and Wordpress admin panel.

1. goto phpMyAdmin of old host, goto Export mysql and created sql export file of complete database ( i have selected the database complete)
2. goto phpMyAdmin of new host, as there was already wordpress db created with default wordpress install tables, selected all tables & Drop.
3. goto Import and uploaded that .sql file from old host to this host, Booom! all files imported and all the tables created with same old prefix.

So the above method will effect anything performance etc of the webiste? because since the migration the website goes down after few hours and have to ask the support to reboot mySQL.
as per hosting support there is bug in theme which creates too many connections to db, but theme is classipress classified theme they say there is no such bug, but i have asked freelancer to modify some mods for search.
Now i am not sure what is exactly the problem. Freelancer blaming the hosting, hosting support blamming the theme.
Any suggestions ??? Please?
or if any expert can help me in this regards. please i can paste the code which hosting support said is the main reason for this hike.",3
8831613,01/12/2012 07:40:48,966583,09/27/2011 08:22:42,89,1,ON clause condition versus WHERE clause condition in mysql,How should we determine which conditions to place in ON clause and which of them to place in WHERE clause in a mysql query. And which of them execute faster?,mysql,join,,,,,open,0,30,9,ON clause condition versus WHERE clause condition in mysql How should we determine which conditions to place in ON clause and which of them to place in WHERE clause in a mysql query. And which of them execute faster?,2
5373663,03/21/2011 03:58:07,181310,09/29/2009 17:56:15,451,14,Query in RAILS taking WAY longer than via Mysql client,"So I just started with RAILS. I know just enough to be dangerous.

I have a bunch of models doing very simple queries, mostly generated via scaffold. I have a legacy db, and most of it is already rails compatible. Everything has indexes. The DB is not massive, but it is significant. 

On one model I simply did a .all and it took forever, of course that table has about 400,000 rows. That being said, it was WAYY faster in Mysql. I took the same table and then tried to get maybe 100 results and it took maybe a few minutes. The same query in mysql took less than a second. When I check the console I see this when it is done:

>   Node Load (0.4ms)  SELECT `nodes`.*
> FROM `nodes` WHERE (`nodes`.`id` =
> 276645) LIMIT 1   CACHE (0.0ms) 
> SELECT `profiles`.* FROM
> `profiles` WHERE
> (`profiles`.`id` = 0)
> LIMIT 1   CACHE (0.0ms)  SELECT
> `points`.* FROM `points`
> WHERE (`points`.`id` = 19404)
> LIMIT 1

over and over. When the query wasn't returning back anything (in other words, I had some logic incorrect), it was extremely fast. I think it is not doing ""joins"" but rather querying individually or something for related models. Ideas?

The model looks something like this:

    class Trigger < ActiveRecord::Base
      def self.table_name() ""w_trigger"" end
      belongs_to :node
      belongs_to :profile
      belongs_to :point
    
      scope :within, lambda{|up,down,left,right| joins(:point).where('`points`.`lat` <= ? AND `points`.`lat` >= ? AND `points`.`lon` <= ? AND `points.`.`lon` >= ?',up,down,left,right)}
    
    end",mysql,ruby-on-rails,query,,,,open,0,283,10,"Query in RAILS taking WAY longer than via Mysql client So I just started with RAILS. I know just enough to be dangerous.

I have a bunch of models doing very simple queries, mostly generated via scaffold. I have a legacy db, and most of it is already rails compatible. Everything has indexes. The DB is not massive, but it is significant. 

On one model I simply did a .all and it took forever, of course that table has about 400,000 rows. That being said, it was WAYY faster in Mysql. I took the same table and then tried to get maybe 100 results and it took maybe a few minutes. The same query in mysql took less than a second. When I check the console I see this when it is done:

>   Node Load (0.4ms)  SELECT `nodes`.*
> FROM `nodes` WHERE (`nodes`.`id` =
> 276645) LIMIT 1   CACHE (0.0ms) 
> SELECT `profiles`.* FROM
> `profiles` WHERE
> (`profiles`.`id` = 0)
> LIMIT 1   CACHE (0.0ms)  SELECT
> `points`.* FROM `points`
> WHERE (`points`.`id` = 19404)
> LIMIT 1

over and over. When the query wasn't returning back anything (in other words, I had some logic incorrect), it was extremely fast. I think it is not doing ""joins"" but rather querying individually or something for related models. Ideas?

The model looks something like this:

    class Trigger < ActiveRecord::Base
      def self.table_name() ""w_trigger"" end
      belongs_to :node
      belongs_to :profile
      belongs_to :point
    
      scope :within, lambda{|up,down,left,right| joins(:point).where('`points`.`lat` <= ? AND `points`.`lat` >= ? AND `points`.`lon` <= ? AND `points.`.`lon` >= ?',up,down,left,right)}
    
    end",3
2189258,02/03/2010 02:32:01,105550,05/12/2009 18:35:59,97,1,MySQL - Limit the amount of rows in a join?,"Not sure Looking for some guidance here...

I have the following tables: 

    site_text
    id   site_id    text    date_added
    1    1          ...     2010-02-02 10:01:00
    2    1          ...     2010-02-02 10:01:20
    3    2          ...     2010-02-02 10:01:00
    4    1          ...     2010-02-02 10:01:40
    5    2          ...     2010-02-02 10:02:00

    sites
    id   site_name
    1    www.a.com
    2    www.b.com
    ....

I'm trying to select the last 2 rows (ordered by date desc) in site_text for each site.  Can you do this with one query?  Something like, but have it only find 2 rows of each site?

    SELECT * FROM site_text st JOIN sites s ON st.site_id=s.id WHERE st.date_added > '2010-02-01 23:32:04' ORDER BY s.id, st.date_added DESC

In the end, I would be looking for site_text.id = 4,2,5,3.

Thanks all
",mysql,mysql-query,,,,,open,0,253,10,"MySQL - Limit the amount of rows in a join? Not sure Looking for some guidance here...

I have the following tables: 

    site_text
    id   site_id    text    date_added
    1    1          ...     2010-02-02 10:01:00
    2    1          ...     2010-02-02 10:01:20
    3    2          ...     2010-02-02 10:01:00
    4    1          ...     2010-02-02 10:01:40
    5    2          ...     2010-02-02 10:02:00

    sites
    id   site_name
    1    www.a.com
    2    www.b.com
    ....

I'm trying to select the last 2 rows (ordered by date desc) in site_text for each site.  Can you do this with one query?  Something like, but have it only find 2 rows of each site?

    SELECT * FROM site_text st JOIN sites s ON st.site_id=s.id WHERE st.date_added > '2010-02-01 23:32:04' ORDER BY s.id, st.date_added DESC

In the end, I would be looking for site_text.id = 4,2,5,3.

Thanks all
",2
11588539,07/21/2012 00:33:45,1542010,07/21/2012 00:24:06,1,0,wordpress mysql - delete all custom post type,"I've got a wordpress/mysql set up using the 'custom post type' which currently holds about 40,000 rows of data in the wp_posts table of the database.   I'm trying to work on an SQL query that will remove all the rows of a certain custom post type in one go but it keeps telling me I've got a syntax error. The code I'm using is below, apologies if it's simple but SQL is alien to me and I'm struggling to find anything in the forums.

DELETE FROM `wp_posts`
WHERE  `post_type` =  'prefix-numberplates'
LIMIT 0 , 3000

There are ` around wp_posts & post_type but it won't let me style them on here.
Any help is greatly appreciated.

 ",mysql,sql,database,wordpress,,,open,0,116,8,"wordpress mysql - delete all custom post type I've got a wordpress/mysql set up using the 'custom post type' which currently holds about 40,000 rows of data in the wp_posts table of the database.   I'm trying to work on an SQL query that will remove all the rows of a certain custom post type in one go but it keeps telling me I've got a syntax error. The code I'm using is below, apologies if it's simple but SQL is alien to me and I'm struggling to find anything in the forums.

DELETE FROM `wp_posts`
WHERE  `post_type` =  'prefix-numberplates'
LIMIT 0 , 3000

There are ` around wp_posts & post_type but it won't let me style them on here.
Any help is greatly appreciated.

 ",4
11599056,07/22/2012 09:19:01,1238424,02/28/2012 17:13:54,26,0,Error 1045 while configuring the mysql,"I can install the mysql but while configuring it i am getting error like this:
** 1045 : access denied for user root@loaclhost.**
 i can install it i cant configure it. Please help...I am quite new to this.",mysql,sql,database-connection,mysql-error-1045,,07/23/2012 00:01:14,off topic,1,37,6,"Error 1045 while configuring the mysql I can install the mysql but while configuring it i am getting error like this:
** 1045 : access denied for user root@loaclhost.**
 i can install it i cant configure it. Please help...I am quite new to this.",4
10436953,05/03/2012 18:05:12,702275,04/11/2011 13:46:41,629,23,"naming primary keys ""id"" vs ""something_id"" in SQL","i'm wondering what is the best practice for naming primary/unique keys in a database with many tables. Should you always just call each table's primary key `id` or is ok to not have an `id` field in each table and just name each of them `something1_id`, `something2_id`, etc?

thanks,
tim",mysql,sql,naming-conventions,primary-key,,05/03/2012 19:23:41,not constructive,1,48,8,"naming primary keys ""id"" vs ""something_id"" in SQL i'm wondering what is the best practice for naming primary/unique keys in a database with many tables. Should you always just call each table's primary key `id` or is ok to not have an `id` field in each table and just name each of them `something1_id`, `something2_id`, etc?

thanks,
tim",4
9120934,02/02/2012 22:24:52,139117,07/16/2009 01:12:31,2522,55,Why is BETWEEN significantly slower than running each query separately?,"I ran a job like

	select * from some_table where date = '2011-12-01';

and it ran in 30 minutes.

Now I'm running

	select * from some_table where date BETWEEN '2011-12-01' and '2011-12-08';

and it is taking 20+ hours, which makes me think that it would have been faster to run

	select * from some_table where date = '2011-12-01';
	select * from some_table where date = '2011-12-02';
	select * from some_table where date = '2011-12-03';

etc. Why is 'BETWEEN' so slow?
",mysql,sql,,,,04/01/2012 04:55:31,too localized,1,71,10,"Why is BETWEEN significantly slower than running each query separately? I ran a job like

	select * from some_table where date = '2011-12-01';

and it ran in 30 minutes.

Now I'm running

	select * from some_table where date BETWEEN '2011-12-01' and '2011-12-08';

and it is taking 20+ hours, which makes me think that it would have been faster to run

	select * from some_table where date = '2011-12-01';
	select * from some_table where date = '2011-12-02';
	select * from some_table where date = '2011-12-03';

etc. Why is 'BETWEEN' so slow?
",2
10678201,05/20/2012 23:54:37,1406850,05/20/2012 23:42:11,1,0,Mysql Cluster tablespace disappeared,"I am running Mysql 5.5.20-ndb-7.2.5-gpl usnig mixed storage (Disk and RAM) in Amazon WS.

I was doing some cleanup on the MySql Cluster and suddenly started receiving the error:

Got temporary error 233 'Out of operation records in transaction coordinator (increase MaxNoOfConcurrentOperations)' from NDBCLUSTER

Then I tried to do a select and got:
MySQL error code 157: Could not connect to storage engine

So I went to check the information_schema table only to find that the files table has zero rows! The TableSpace was gone!

Obviously this meant that all tables in my database had also zero rows... but wait! There's more!  After about 10 minutes, all the table in the database also vanished leaving me with an empty database!

All this from trying to delete 33k records at once? Seems rather delicate no?

Anyone seen this dramatic behavious before? Any clues as to what could have been the real cause of the problems? Anything special that I should look for in the log files?

",mysql,crash,cluster-computing,tablespace,,05/22/2012 14:04:48,off topic,1,158,4,"Mysql Cluster tablespace disappeared I am running Mysql 5.5.20-ndb-7.2.5-gpl usnig mixed storage (Disk and RAM) in Amazon WS.

I was doing some cleanup on the MySql Cluster and suddenly started receiving the error:

Got temporary error 233 'Out of operation records in transaction coordinator (increase MaxNoOfConcurrentOperations)' from NDBCLUSTER

Then I tried to do a select and got:
MySQL error code 157: Could not connect to storage engine

So I went to check the information_schema table only to find that the files table has zero rows! The TableSpace was gone!

Obviously this meant that all tables in my database had also zero rows... but wait! There's more!  After about 10 minutes, all the table in the database also vanished leaving me with an empty database!

All this from trying to delete 33k records at once? Seems rather delicate no?

Anyone seen this dramatic behavious before? Any clues as to what could have been the real cause of the problems? Anything special that I should look for in the log files?

",4
6664316,07/12/2011 12:43:10,222427,12/01/2009 21:04:28,840,4,MySQL Hardware performance importance,"This is a simple question, what is the order of the below items that are most important to MySQL performance.

1) CPU  
2) Memory  
3) HardDrive Speed  
4) Motherboard Bus Speed  
",mysql,,,,,07/12/2011 13:03:10,off topic,1,35,4,"MySQL Hardware performance importance This is a simple question, what is the order of the below items that are most important to MySQL performance.

1) CPU  
2) Memory  
3) HardDrive Speed  
4) Motherboard Bus Speed  
",1
8555448,12/18/2011 22:44:55,1104990,12/18/2011 22:33:56,1,0,"VPS, cloud, or dedicated.. i cant get a straight answer","Hi ive been trying to get a straight answer for about a week now. Im a noob but i put in work when its due dilleigence time, ive been trying to educate myself as much as i can, calling hosting companies, joinging forums but people just fight over the answer. 

I just had a site developer, it works similar to bizbuysell dot com. It is intense as far as mysql, i think that means i need to use linux server. 

it has lots of user messaging, user ads, etc. I know shared hosting it not going to work out well so im left with cloud, vps, or dedicated.

dedicated seems to be expensive id like to avoid it right now. Considering im a new im going to run CPanel so that's going to suck up some resources as well. I am soon to launch the site but have pre signed up about 1000 users. This could start becoming demanding quickly on the server side or barely have any traffic so it is kind of a testing phase. 

To me VPS seemed perfect, but once i learned about sharing with others, when others traffic goes up it pulls from mine etc. Also the other problem, some tech guys in the hosting department actually told me VPS is not really good for something mysql intensive like mine, a cloud server may suit me better, but they said dedicated is really what my site is built for. My programmers have it on a bootleg shared server now and its actually pretty quick but once users are active im sure it will have issues. I have video hosting-internally no youtube, and picture hosting. 


I ask myself... why does life have to be so difficult, or am i over thinking this? I do not intend to be the next myspace nor does it need to have massive traffic to hit its goal, but it definitely functions like myspace as far as user messaging and things. I have many search filters so that im sure hurts when people start filtering and many people are doing this. It was built of of CodeIgnitor, the code is pretty good, im sure not perfect, but its fast and does what it needs to do so im kind of confused at this point.

thank you i really appreciate the help, wish i would have made more computer friends in 2nd grade.",mysql,hosting,vps,dedicated,,01/10/2012 16:44:33,off topic,1,399,10,"VPS, cloud, or dedicated.. i cant get a straight answer Hi ive been trying to get a straight answer for about a week now. Im a noob but i put in work when its due dilleigence time, ive been trying to educate myself as much as i can, calling hosting companies, joinging forums but people just fight over the answer. 

I just had a site developer, it works similar to bizbuysell dot com. It is intense as far as mysql, i think that means i need to use linux server. 

it has lots of user messaging, user ads, etc. I know shared hosting it not going to work out well so im left with cloud, vps, or dedicated.

dedicated seems to be expensive id like to avoid it right now. Considering im a new im going to run CPanel so that's going to suck up some resources as well. I am soon to launch the site but have pre signed up about 1000 users. This could start becoming demanding quickly on the server side or barely have any traffic so it is kind of a testing phase. 

To me VPS seemed perfect, but once i learned about sharing with others, when others traffic goes up it pulls from mine etc. Also the other problem, some tech guys in the hosting department actually told me VPS is not really good for something mysql intensive like mine, a cloud server may suit me better, but they said dedicated is really what my site is built for. My programmers have it on a bootleg shared server now and its actually pretty quick but once users are active im sure it will have issues. I have video hosting-internally no youtube, and picture hosting. 


I ask myself... why does life have to be so difficult, or am i over thinking this? I do not intend to be the next myspace nor does it need to have massive traffic to hit its goal, but it definitely functions like myspace as far as user messaging and things. I have many search filters so that im sure hurts when people start filtering and many people are doing this. It was built of of CodeIgnitor, the code is pretty good, im sure not perfect, but its fast and does what it needs to do so im kind of confused at this point.

thank you i really appreciate the help, wish i would have made more computer friends in 2nd grade.",4
8742675,01/05/2012 12:43:40,247560,01/10/2010 17:09:38,360,0,Forming MySql query ( compare result within rows),"    Problem statement:
    
    select all for stores , their status, phone numbers , effective date whose phone number has been changed from 2003 till date.
    
    Schema is 
    
    store_name,phone number , start_date , status
    
    sample rows
    
        abc 1234  30-DEC-2011 open 
        abc 1234  3-Jan-2012 close
        abc 3433  04-Jan-2012 close
        bbb 4444  30-Jan-2010 open
        bbb 4444  31-Jan-2011 open
    Output
    
    abc 1234 open 30-DEC-3011 till 30-DEc-2011
    abc 1234 close 31-Dec-2011 till 3-Jan-2012
    abc 3433 close 03-Jan-2012 till date
    
    I am also fine having two rows in output with sorted start date like
    
    abc 1234 30-DEC-2011 open
    abc 1234 3-Jan-2012 close    
    abc  3433 02-Jan-2012 close
    
    bbb should not be reported.

Can someone help me with this query on Oracle.I guess by using corelated queries it can be done but I am not sure how can I construct one. Please note that my table is having around 3154953 records so I also need to make sure that correlated query doesn't lock the table for whole lot of time.Is this even possible with Oracle ?



Thanks!

  ",mysql,oracle,query,,,,open,0,294,8,"Forming MySql query ( compare result within rows)     Problem statement:
    
    select all for stores , their status, phone numbers , effective date whose phone number has been changed from 2003 till date.
    
    Schema is 
    
    store_name,phone number , start_date , status
    
    sample rows
    
        abc 1234  30-DEC-2011 open 
        abc 1234  3-Jan-2012 close
        abc 3433  04-Jan-2012 close
        bbb 4444  30-Jan-2010 open
        bbb 4444  31-Jan-2011 open
    Output
    
    abc 1234 open 30-DEC-3011 till 30-DEc-2011
    abc 1234 close 31-Dec-2011 till 3-Jan-2012
    abc 3433 close 03-Jan-2012 till date
    
    I am also fine having two rows in output with sorted start date like
    
    abc 1234 30-DEC-2011 open
    abc 1234 3-Jan-2012 close    
    abc  3433 02-Jan-2012 close
    
    bbb should not be reported.

Can someone help me with this query on Oracle.I guess by using corelated queries it can be done but I am not sure how can I construct one. Please note that my table is having around 3154953 records so I also need to make sure that correlated query doesn't lock the table for whole lot of time.Is this even possible with Oracle ?



Thanks!

  ",3
11439592,07/11/2012 19:00:40,627868,01/17/2011 08:31:06,145,35,Oracle to Mysql Migration...help needed,"Hi I am having 3 Huge Schema in oracle i want to Convert those schema into MySQL....

I don't wanna Replace oracle server i just need to add one MySQL Server with oracle so they can talk with each other...Kinda of Real time Replication",mysql,oracle,,,,07/12/2012 08:39:26,not a real question,1,43,5,"Oracle to Mysql Migration...help needed Hi I am having 3 Huge Schema in oracle i want to Convert those schema into MySQL....

I don't wanna Replace oracle server i just need to add one MySQL Server with oracle so they can talk with each other...Kinda of Real time Replication",2
4321496,12/01/2010 05:33:03,468764,10/07/2010 06:27:27,11,0,MySql underscore wildcard optimization,"Hey, I'm trying to optimize a SELECT char statement in mysql.

I am fully aware that using a **LIKE '%text%'** will NOT be optimizable, but can the underscore wildcard be used in any sort of optimization?

For instance I want something such as: 
    
    SELECT * FROM tbl WHERE col LIKE '_a_b_'

Is there a way to optimize this sort of query if I never use the % wildcard?",mysql,,,,,,open,0,73,4,"MySql underscore wildcard optimization Hey, I'm trying to optimize a SELECT char statement in mysql.

I am fully aware that using a **LIKE '%text%'** will NOT be optimizable, but can the underscore wildcard be used in any sort of optimization?

For instance I want something such as: 
    
    SELECT * FROM tbl WHERE col LIKE '_a_b_'

Is there a way to optimize this sort of query if I never use the % wildcard?",1
9247387,02/12/2012 08:14:13,1204837,02/12/2012 08:05:02,1,0,Exclude characters from search in Mysql,"Is it possible to make some characters stored in mysql invisible for search queries?

Of course, I can do this in application, but is there maybe some setting option in mysql for this?",mysql,search,,,,,open,0,32,6,"Exclude characters from search in Mysql Is it possible to make some characters stored in mysql invisible for search queries?

Of course, I can do this in application, but is there maybe some setting option in mysql for this?",2
5910569,05/06/2011 11:13:09,533524,12/07/2010 10:32:31,34,1,MySQL join with multiple ranges in 'WHERE' clause,"I am trying to use snort's schema and extract information relevant to my program. 
I use the following query to extract alerts that have happened over a specified period of time for a given set of IPs.The query is something like

    select event.sid,event.cid,event.signature,event.timestamp,iphdr.ip_proto,iphdr.ip_src,iphdr.ip_dst from 
    event join iphdr 
    where event.sid=iphdr.sid and event.cid=iphdr.cid and iphdr.ip_dst >= inet_aton('x.x.x.1') and iphdr.ip_dst <= inet_aton('x.x.x.255') 
    or iphdr.ip_dst >= inet_aton('x.x.y.1') and iphdr.ip_dst <= inet_aton('x.x.y.255') 
    and event.timestamp > ""2011-05-06 00:00:00"" order by timestamp 

Where I need to get the alerts that occur after specified time (06-May-2011) for two sets of IPs (x.x.x.0/24 and x.x.y.0/24)

Execution of the query for ONLY ONE set of IPs (say 192.168.1.0/24) (i.e. between 192.168.1.1 and 192.168.1.255) is fast and easy

The problem happens if there are multiple ranges in WHERE clause. E.g. IPs between 192.168.1.1 and 192.168.1.255 OR between 10.21.18.1 and 10.21.18.255. As given in query above

In such a case, the execution of the mysql query takes long time to execute (I ran it for 30 minutes and then had to kill MySQL daemon)

I am sure it is the OR part that is causing the problem but don't know how to rectify it.

Both the event and iphdr tables have approx. 150,000 rows in all

Since in my program the user may specify multiple subnets for which he wants to see the alerts, I need the query to run seamlessly irrespective of the number of ranges in WHERE clause. ",mysql,join,where-clause,,,,open,0,252,8,"MySQL join with multiple ranges in 'WHERE' clause I am trying to use snort's schema and extract information relevant to my program. 
I use the following query to extract alerts that have happened over a specified period of time for a given set of IPs.The query is something like

    select event.sid,event.cid,event.signature,event.timestamp,iphdr.ip_proto,iphdr.ip_src,iphdr.ip_dst from 
    event join iphdr 
    where event.sid=iphdr.sid and event.cid=iphdr.cid and iphdr.ip_dst >= inet_aton('x.x.x.1') and iphdr.ip_dst <= inet_aton('x.x.x.255') 
    or iphdr.ip_dst >= inet_aton('x.x.y.1') and iphdr.ip_dst <= inet_aton('x.x.y.255') 
    and event.timestamp > ""2011-05-06 00:00:00"" order by timestamp 

Where I need to get the alerts that occur after specified time (06-May-2011) for two sets of IPs (x.x.x.0/24 and x.x.y.0/24)

Execution of the query for ONLY ONE set of IPs (say 192.168.1.0/24) (i.e. between 192.168.1.1 and 192.168.1.255) is fast and easy

The problem happens if there are multiple ranges in WHERE clause. E.g. IPs between 192.168.1.1 and 192.168.1.255 OR between 10.21.18.1 and 10.21.18.255. As given in query above

In such a case, the execution of the mysql query takes long time to execute (I ran it for 30 minutes and then had to kill MySQL daemon)

I am sure it is the OR part that is causing the problem but don't know how to rectify it.

Both the event and iphdr tables have approx. 150,000 rows in all

Since in my program the user may specify multiple subnets for which he wants to see the alerts, I need the query to run seamlessly irrespective of the number of ranges in WHERE clause. ",3
10289049,04/23/2012 22:13:15,1276707,03/18/2012 09:00:12,15,1,Exclude rows if the id match,"How can i exclude row with same id. Like i have a table of members activity. where member id is repeated many times in the table. I want to get all member id but in this case if i select member id i will get all ids and i want one id only one time not repeating.

    ID | OwnerID | Date               | GroupID
    1    1        2012-04-23 19:25:04  1
    2    1        2012-04-23 19:26:55  1
    3    2        2012-04-23 19:26:56  1
    4    1        2012-04-23 19:26:58  1
    5    2        2012-04-23 19:27:14  1

Here if i select the OwnerID i will get 1 three times i want to make it 1. Its like i just want to have a list of user who is in this table and don't want how many times he/she comes up in this table. I hope it makes sense..
Thanks in advance.",mysql,query,,,,05/07/2012 15:27:12,not a real question,1,228,6,"Exclude rows if the id match How can i exclude row with same id. Like i have a table of members activity. where member id is repeated many times in the table. I want to get all member id but in this case if i select member id i will get all ids and i want one id only one time not repeating.

    ID | OwnerID | Date               | GroupID
    1    1        2012-04-23 19:25:04  1
    2    1        2012-04-23 19:26:55  1
    3    2        2012-04-23 19:26:56  1
    4    1        2012-04-23 19:26:58  1
    5    2        2012-04-23 19:27:14  1

Here if i select the OwnerID i will get 1 three times i want to make it 1. Its like i just want to have a list of user who is in this table and don't want how many times he/she comes up in this table. I hope it makes sense..
Thanks in advance.",2
7284067,09/02/2011 13:23:54,295962,03/17/2010 18:55:33,198,15,"JPA, Glassfish, Mysql: UTC time conversion occuring twice","I'm going nuts here... I have recently noticed that time is mis-presented in my JPA-managed entities, when I access a `Date` field:

  * My personal timezone is CEST, same for the machine that runs Glassfish and MySQL.
  * Glassfish is instructed to use UTC as default Timezone: a `@Startup`-bean sets `TimeZone.setDefault(TimeZone.getTimeZone(""UTC""));`
  * Caching is disabled in persistence.xml

Here's what happens:

  * Entity A has a field `syncTimestamp` of `java.util.Date`.
  * When a particular REST resource is triggered, the timestamp is set to now: `a.setSyncTimestamp(new Date())`. Let's assume my clock on the wall says 14:30:00h (date omitted for brevity).
  * The entity is managed, so the update ends up in the DB. The row in the database (of type `DATETIME`) shows the expected value ""12:30:00h"" - CEST is currently 2h ahead of UTC.
  * Accessing the getter in the same transaction outputs the timestamp as ""12:30:00.123Z"" (note the milliseconds).
  * Accessing the getter in a separate transaction, after retrieving the entity from the database again (disabled caching), outputs ""10:30:00Z"".

So when loading the entity from the DB, it looks like JPA converted again from what it thinks was a CEST timestamp to UTC, substracting 2 hours.

I've read plenty posts about JPA and timezone, etc. What I learned was: neither `java.util.Date` nor MySQL `DATETIME` have an understanding of Timezones. This should not be a problem, as long as everything is always considered ""UTC"", right? Now **why** does JPA (I think?) convert the value?

(PS: I found a [related][1] post. It suggests to put the JVM into Timezone UTC -- but isn't this what my Startup Bean does?)


  [1]: http://stackoverflow.com/questions/6099753/date-in-utc-in-mysql",mysql,datetime,java-ee,jpa,,,open,0,273,8,"JPA, Glassfish, Mysql: UTC time conversion occuring twice I'm going nuts here... I have recently noticed that time is mis-presented in my JPA-managed entities, when I access a `Date` field:

  * My personal timezone is CEST, same for the machine that runs Glassfish and MySQL.
  * Glassfish is instructed to use UTC as default Timezone: a `@Startup`-bean sets `TimeZone.setDefault(TimeZone.getTimeZone(""UTC""));`
  * Caching is disabled in persistence.xml

Here's what happens:

  * Entity A has a field `syncTimestamp` of `java.util.Date`.
  * When a particular REST resource is triggered, the timestamp is set to now: `a.setSyncTimestamp(new Date())`. Let's assume my clock on the wall says 14:30:00h (date omitted for brevity).
  * The entity is managed, so the update ends up in the DB. The row in the database (of type `DATETIME`) shows the expected value ""12:30:00h"" - CEST is currently 2h ahead of UTC.
  * Accessing the getter in the same transaction outputs the timestamp as ""12:30:00.123Z"" (note the milliseconds).
  * Accessing the getter in a separate transaction, after retrieving the entity from the database again (disabled caching), outputs ""10:30:00Z"".

So when loading the entity from the DB, it looks like JPA converted again from what it thinks was a CEST timestamp to UTC, substracting 2 hours.

I've read plenty posts about JPA and timezone, etc. What I learned was: neither `java.util.Date` nor MySQL `DATETIME` have an understanding of Timezones. This should not be a problem, as long as everything is always considered ""UTC"", right? Now **why** does JPA (I think?) convert the value?

(PS: I found a [related][1] post. It suggests to put the JVM into Timezone UTC -- but isn't this what my Startup Bean does?)


  [1]: http://stackoverflow.com/questions/6099753/date-in-utc-in-mysql",4
7578006,09/28/2011 03:33:14,569292,01/10/2011 02:27:45,307,9,DATABASE: Mysql.com was hacked twice this year should we still use mysql for our database?,"Last March(2011)
http://techie-buzz.com/tech-news/mysql-com-database-compromised-sql-injection.html

This Month(2011)
http://www.pcworld.com/businesscenter/article/240609/mysqlcom_hacked_to_serve_malware.html",mysql,,,,,09/28/2011 03:49:30,not constructive,1,3,15,"DATABASE: Mysql.com was hacked twice this year should we still use mysql for our database? Last March(2011)
http://techie-buzz.com/tech-news/mysql-com-database-compromised-sql-injection.html

This Month(2011)
http://www.pcworld.com/businesscenter/article/240609/mysqlcom_hacked_to_serve_malware.html",1
10406248,05/02/2012 00:33:01,2652,08/23/2008 23:28:28,1420,33,Making Rails use ActiveRecord for only some requests,"I have a Rails application in which the vast majority of requests do not use ActiveRecord in any way. It would be nice if the rest of the application worked seamlessly when MySQL was unavailable. However, it seems that on each request, ActiveRecord::Base.verify_active_connections! is called. This means that every endpoint breaks, when really just the ones that use ActiveRecord need to break. How can I configure things so that the actions that do not require ActiveRecord will work fine in the absence of MySQL?",mysql,ruby-on-rails,ruby,activerecord,rack,,open,0,84,8,"Making Rails use ActiveRecord for only some requests I have a Rails application in which the vast majority of requests do not use ActiveRecord in any way. It would be nice if the rest of the application worked seamlessly when MySQL was unavailable. However, it seems that on each request, ActiveRecord::Base.verify_active_connections! is called. This means that every endpoint breaks, when really just the ones that use ActiveRecord need to break. How can I configure things so that the actions that do not require ActiveRecord will work fine in the absence of MySQL?",5
11474111,07/13/2012 16:02:03,1524040,07/13/2012 15:56:47,1,0,MySQL: AVG of defined variable per month,"I'm a complete SQL Newbie and need help with the following code:

    SELECT DISTINCT userid, count( userid ) as login_count
    FROM (SELECT DISTINCT userid, date( FROM_UNIXTIME( date_time ) ) AS DAY
    FROM xcart_login_history
    WHERE status=""success"" and (action =""login"" or action = ""autologin"") 
    ORDER BY userid, DAY) as login_days
    WHERE login_days.DAY 
    < 
    (SELECT DISTINCT min(date(FROM_UNIXTIME(xcart_orders.date)))
    FROM xcart_orders
    WHERE xcart_orders.userid = login_days.userid
    GROUP BY userid )
    GROUP BY userid

What it does: it shows me the logins of individual users before purchasing (on purpose not more than one per day counted). I now need the average login number / login count before purchase on a monthly basis.

Could please somebody help me? Thank!",mysql,avg,,,,07/16/2012 02:13:16,off topic,1,148,7,"MySQL: AVG of defined variable per month I'm a complete SQL Newbie and need help with the following code:

    SELECT DISTINCT userid, count( userid ) as login_count
    FROM (SELECT DISTINCT userid, date( FROM_UNIXTIME( date_time ) ) AS DAY
    FROM xcart_login_history
    WHERE status=""success"" and (action =""login"" or action = ""autologin"") 
    ORDER BY userid, DAY) as login_days
    WHERE login_days.DAY 
    < 
    (SELECT DISTINCT min(date(FROM_UNIXTIME(xcart_orders.date)))
    FROM xcart_orders
    WHERE xcart_orders.userid = login_days.userid
    GROUP BY userid )
    GROUP BY userid

What it does: it shows me the logins of individual users before purchasing (on purpose not more than one per day counted). I now need the average login number / login count before purchase on a monthly basis.

Could please somebody help me? Thank!",2
10123607,04/12/2012 12:30:21,1329079,04/12/2012 12:23:19,1,0,"mysql,sql query.issue on selecting values","I have 2 tables.first one is user table and other user_entry.
I need to select the user info from user table and user_entry table on the bases of user_id.
Now the case is :
user_entry may or may contain the user row.
while selecting the user info from both the table i need to select a column from the user_entry table.if user row exist in user_entry table the column contain any value from user_entry table again that user else return null or blank.



Thanks",mysql,sql,,,,,open,0,79,5,"mysql,sql query.issue on selecting values I have 2 tables.first one is user table and other user_entry.
I need to select the user info from user table and user_entry table on the bases of user_id.
Now the case is :
user_entry may or may contain the user row.
while selecting the user info from both the table i need to select a column from the user_entry table.if user row exist in user_entry table the column contain any value from user_entry table again that user else return null or blank.



Thanks",2
7575572,09/27/2011 20:56:29,964000,09/25/2011 19:58:26,15,0,Speed up DISTINCT query in MySQL,"I have a  InnoDB MYSQL table that stores a multi select name ( or 'code' as the table calls it), a parent object's id (parent_id) and the name of the option selected in the multi select (name_id): 

    CREATE TABLE IF NOT EXISTS `v2_CA_venue_option_map` (
      `map_id` int(11) NOT NULL auto_increment,
      `code` varchar(30) NOT NULL,
      `parent_id` int(11) NOT NULL,
      `name_id` int(11) NOT NULL,
      PRIMARY KEY  (`map_id`),
      UNIQUE KEY `3way_unique` (`code`,`parent_id`,`name_id`),
      KEY `name_id` (`name_id`),
      KEY `filter` (`code`,`name_id`),
      KEY `parent_id` (`parent_id`),
      KEY `code` (`code`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=875156 ;

and a simple table to store the names (i figured i would show this because its used in the query):

    CREATE TABLE IF NOT EXISTS `v2_CA_venue_option_name` (
      `name_id` int(11) NOT NULL auto_increment,
      `name` varchar(255) NOT NULL,
      PRIMARY KEY  (`name_id`),
      UNIQUE KEY `name` (`name`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1 COMMENT='Venue Option Names' AUTO_INCREMENT=60 ;

That I would like to optimize for the following query:

    SELECT DISTINCT name_id, name 
    FROM `v2_CA_venue_option_map` 
    JOIN `v2_CA_venue_option_name` 
        USING (name_id) 
    WHERE code = ""a_event_types""

This query takes about 600ms to execute and I was wondering:

1. If I could place an index on the table to speed up this distinct query.
2. How could I get the same result with better performance.

-------
OTHER QUESTION

Other queries i am running against these tables are:

    SELECT v.name, v.venue_id, v.url_key
    FROM `v2_CA_venue_option_map` map
    JOIN `v2_CA_venue_option_map` map2 ON (map2.parent_id = map.parent_id)
    JOIN `v2_CA_venue_option_map` map3 ON (map3.parent_id = map.parent_id)
    JOIN `v2_CA_venues` v ON (v.venue_id = map.parent_id)
    WHERE v.city = 'Nevada City'
    AND map3.code = 'a_venue_types'
    AND map3.name_id = 19
    AND map.code = 'a_event_types'
    AND map.name_id = 20
    AND map2.code = 'a_event_types'
    AND map2.name_id = 3
    AND v.status = 'a'

1. Are the indexes placed on the table offering the best performance for these Joins and WHEREs?

(please ignore the table 'v2_CA_venues' used in the above example. its just a simple table that have the name, id and url_key of venues)

Thank you so much! I am looking for adive on the way to get the best performace out of these tables.",mysql,,,,,,open,0,474,6,"Speed up DISTINCT query in MySQL I have a  InnoDB MYSQL table that stores a multi select name ( or 'code' as the table calls it), a parent object's id (parent_id) and the name of the option selected in the multi select (name_id): 

    CREATE TABLE IF NOT EXISTS `v2_CA_venue_option_map` (
      `map_id` int(11) NOT NULL auto_increment,
      `code` varchar(30) NOT NULL,
      `parent_id` int(11) NOT NULL,
      `name_id` int(11) NOT NULL,
      PRIMARY KEY  (`map_id`),
      UNIQUE KEY `3way_unique` (`code`,`parent_id`,`name_id`),
      KEY `name_id` (`name_id`),
      KEY `filter` (`code`,`name_id`),
      KEY `parent_id` (`parent_id`),
      KEY `code` (`code`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=875156 ;

and a simple table to store the names (i figured i would show this because its used in the query):

    CREATE TABLE IF NOT EXISTS `v2_CA_venue_option_name` (
      `name_id` int(11) NOT NULL auto_increment,
      `name` varchar(255) NOT NULL,
      PRIMARY KEY  (`name_id`),
      UNIQUE KEY `name` (`name`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1 COMMENT='Venue Option Names' AUTO_INCREMENT=60 ;

That I would like to optimize for the following query:

    SELECT DISTINCT name_id, name 
    FROM `v2_CA_venue_option_map` 
    JOIN `v2_CA_venue_option_name` 
        USING (name_id) 
    WHERE code = ""a_event_types""

This query takes about 600ms to execute and I was wondering:

1. If I could place an index on the table to speed up this distinct query.
2. How could I get the same result with better performance.

-------
OTHER QUESTION

Other queries i am running against these tables are:

    SELECT v.name, v.venue_id, v.url_key
    FROM `v2_CA_venue_option_map` map
    JOIN `v2_CA_venue_option_map` map2 ON (map2.parent_id = map.parent_id)
    JOIN `v2_CA_venue_option_map` map3 ON (map3.parent_id = map.parent_id)
    JOIN `v2_CA_venues` v ON (v.venue_id = map.parent_id)
    WHERE v.city = 'Nevada City'
    AND map3.code = 'a_venue_types'
    AND map3.name_id = 19
    AND map.code = 'a_event_types'
    AND map.name_id = 20
    AND map2.code = 'a_event_types'
    AND map2.name_id = 3
    AND v.status = 'a'

1. Are the indexes placed on the table offering the best performance for these Joins and WHEREs?

(please ignore the table 'v2_CA_venues' used in the above example. its just a simple table that have the name, id and url_key of venues)

Thank you so much! I am looking for adive on the way to get the best performace out of these tables.",1
9902941,03/28/2012 07:26:54,171991,09/11/2009 10:20:13,179,7,SQL: Where is mistake?,"Please help me finding where I have made mistake?

    delimiter //
    CREATE FUNCTION `count_photos_in_gallery`(`tmp_gallery_id` INT(11) NOT NULL) RETURNS TINYINT(3) UNSIGNED
    BEGIN
    	DECLARE `tmp_count` TINYINT(3) UNSIGNED DEFAULT 0;
    
    	SELECT COUNT(`id`) INTO `tmp_count` FROM `photos_items` WHERE `gallery_id`=`tmp_gallery_id` LIMIT 1;
    	
    	RETURN `tmp_count`;
    END//",mysql,sql,,,,03/29/2012 14:31:20,too localized,1,69,4,"SQL: Where is mistake? Please help me finding where I have made mistake?

    delimiter //
    CREATE FUNCTION `count_photos_in_gallery`(`tmp_gallery_id` INT(11) NOT NULL) RETURNS TINYINT(3) UNSIGNED
    BEGIN
    	DECLARE `tmp_count` TINYINT(3) UNSIGNED DEFAULT 0;
    
    	SELECT COUNT(`id`) INTO `tmp_count` FROM `photos_items` WHERE `gallery_id`=`tmp_gallery_id` LIMIT 1;
    	
    	RETURN `tmp_count`;
    END//",2
10117448,04/12/2012 04:39:02,981835,10/06/2011 08:48:23,41,0,Which database to use for storing key value (array) pairs,Can someone please tell which database to use to store store key value pairs. I want my keys to be unicode string and value to be arrays of unicode strings. Should I use MySQL or MongoDB. I have read on wikipedia that MongoDB can store key value pairs. Also in MySQL I suppose I can store value as a blob. Please help. I am really confused.,mysql,database,mongodb,,,04/12/2012 08:10:40,not constructive,1,66,10,Which database to use for storing key value (array) pairs Can someone please tell which database to use to store store key value pairs. I want my keys to be unicode string and value to be arrays of unicode strings. Should I use MySQL or MongoDB. I have read on wikipedia that MongoDB can store key value pairs. Also in MySQL I suppose I can store value as a blob. Please help. I am really confused.,3
10197665,04/17/2012 19:17:21,1275997,03/17/2012 16:57:54,463,8,Hey one undesired error is occuring in mysql,"I just wrote a query, which was displaying data from mysql perfectly, but after a while when i am running the same query, the output is showing as ""MySQL returned an empty result set (i.e. zero rows)"".

I don't know why it's happening.
I am doing INNER JOIN of two tables.

",mysql,,,,,04/19/2012 15:24:29,too localized,1,49,8,"Hey one undesired error is occuring in mysql I just wrote a query, which was displaying data from mysql perfectly, but after a while when i am running the same query, the output is showing as ""MySQL returned an empty result set (i.e. zero rows)"".

I don't know why it's happening.
I am doing INNER JOIN of two tables.

",1
11523218,07/17/2012 13:10:18,1233918,02/26/2012 14:28:19,10,0,wamp mysql user with password,"hey guys i have installed wamp server with mysql and i have one user root without password. but now i want create one another user with password. when i was create user with password and check his connection with mysql_connect() its give me error like this 

     Access denied for user 'Dest'@'localhost' (using password: YES)

But password is realy correct. what can i do? i was delete this user and create other user but i have the same problem. if anyone knows that problem please help me ",mysql,wamp,,,,,open,0,91,5,"wamp mysql user with password hey guys i have installed wamp server with mysql and i have one user root without password. but now i want create one another user with password. when i was create user with password and check his connection with mysql_connect() its give me error like this 

     Access denied for user 'Dest'@'localhost' (using password: YES)

But password is realy correct. what can i do? i was delete this user and create other user but i have the same problem. if anyone knows that problem please help me ",2
7355393,09/08/2011 22:45:46,491682,10/29/2010 19:21:26,666,46,MySQL: self join to produce pairs of dates,"I have a table with entries for Items as being 'lost' and 'found'. Each row has a date for the event. Im hoping to build a query with matching pairs of 'itemid', 'lost date', 'found date' by joining the table to itself.

This works to a point: unfortunately if there are multiple lost and found pairs for a given item each 'lost date' will be joined with all the 'found dates' that follow it.

Still with me?

The query goes something like:

    select c0.ItemId, c0.ChangeDate, c1.ChangeDate from Changes c0
    join Changes c1 on 
       c0.ItemId = c1.ItemId and c1.ChangeDate >= c0.ChangeDate
    where c0.ChangeType = 9 (lost) and c1.ChangeType = 10 (found);

What Im hoping to achieve is some form of a given 'lost date' paired with only the next 'found date' in sequence (or NULL if no 'found date' exists). Im (pretty) sure this is possible but Im not seeing the path. 

I was wondering about putting a sub-select in the first join and using a LIMIT 1 to get only one record but I don't see how to join this to the appropriate row in the main part of the select. MySQL tells me it doesn't exist. Fair enough. ",mysql,select,join,,,,open,0,212,8,"MySQL: self join to produce pairs of dates I have a table with entries for Items as being 'lost' and 'found'. Each row has a date for the event. Im hoping to build a query with matching pairs of 'itemid', 'lost date', 'found date' by joining the table to itself.

This works to a point: unfortunately if there are multiple lost and found pairs for a given item each 'lost date' will be joined with all the 'found dates' that follow it.

Still with me?

The query goes something like:

    select c0.ItemId, c0.ChangeDate, c1.ChangeDate from Changes c0
    join Changes c1 on 
       c0.ItemId = c1.ItemId and c1.ChangeDate >= c0.ChangeDate
    where c0.ChangeType = 9 (lost) and c1.ChangeType = 10 (found);

What Im hoping to achieve is some form of a given 'lost date' paired with only the next 'found date' in sequence (or NULL if no 'found date' exists). Im (pretty) sure this is possible but Im not seeing the path. 

I was wondering about putting a sub-select in the first join and using a LIMIT 1 to get only one record but I don't see how to join this to the appropriate row in the main part of the select. MySQL tells me it doesn't exist. Fair enough. ",3
9016594,01/26/2012 10:15:50,1171007,01/26/2012 10:05:35,1,0,Update DB field using Zend Framework,"I'm a n00bie with Zend but I'm learning it.
I want to update a field in the database using a button, but I don't know how to do it.

This is what I wanna do: `UPDATE $table SET content_field=1 WHERE $id = contentId`

For example if I press that button I wanna put a 1 in the field instead of a default 0.",mysql,zend-framework,,,,,open,0,60,6,"Update DB field using Zend Framework I'm a n00bie with Zend but I'm learning it.
I want to update a field in the database using a button, but I don't know how to do it.

This is what I wanna do: `UPDATE $table SET content_field=1 WHERE $id = contentId`

For example if I press that button I wanna put a 1 in the field instead of a default 0.",2
7860882,10/22/2011 16:24:10,702740,04/11/2011 18:50:20,27,0,mysql join/union select query?,"running mysql/linux. 

trying to get the following..


                   clsApp                      bkApp                    facApp  
    colA   svrScriptA | clScriptA   svrScriptA1 | clScriptA1    srvScript | clScript      
    colB   svrScriptB | clScriptB   svrScriptB1 | clScriptB1    srvScript | clScript      


the idea is to be able to get the scriptapps for the client/server for the class/book/faculty for each college...
the following selects get the data for a college for the server and client for the class/book/faculty, but I'm not sure how to ""join"" the selects/results to get the data I'm trying to achieve like in the above section.

the app needs to ultimately be able to do this for all colleges in the universityTBL for the ""ID"".

the tbls and the data/selects/links are listed below.


thoughts/comments??

basic selects::

    mysql> select BaseScriptName,ClientServerTypeID,BaseItemID,b.BaseScriptNameID,sBaseType,itemType,ScriptType from BaseScriptNameTBL as b join ServerSideScriptBaseTypeTBL as s on s.ID=b.BaseItemID join ParseScriptTBL as p on p.BaseScriptNameID=b.BaseScriptNameID join ParseScriptTypeTBL as p1 on p1.pTypeID=s.itemType where b.ClientServerTypeID=2 and p.CollegeID=90; 
    +----------------+--------------------+------------+------------------+-------------+----------+------------+
    | BaseScriptName | ClientServerTypeID | BaseItemID | BaseScriptNameID | sBaseType   | itemType | ScriptType |
        +----------------+--------------------+------------+------------------+-------------+----------+------------+
    | asuclient  |           2 |    6 |      1 | homegrownJa |        1 | Course     |
    | Default    |           2 |   22 |      6 | Default     |        2 | Faculty    |
    | Default    |           2 |   23 |      7 | Default     |        3 | Book       |
    +----------------+--------------------+------------+------------------+-------------+----------+------------+
3 rows in set (0.01 sec)

     mysql> select BaseScriptName,ClientServerTypeID,BaseItemID,b.BaseScriptNameID,cBaseType,itemType,ScriptType from BaseScriptNameTBL as b join ClientSideScriptBaseTypeTBL as s on s.ID=b.BaseItemID join ParseScriptTBL as p on p.BaseScriptNameID=b.BaseScriptNameID join ParseScriptTypeTBL as p1 on p1.pTypeID=s.itemType where b.ClientServerTypeID=1 and CollegeID=90; 
    +----------------+--------------------+------------+------------------+-----------+----------+------------+
    | BaseScriptName | ClientServerTypeID | BaseItemID | BaseScriptNameID | cBaseType | itemType | ScriptType |
    +----------------+--------------------+------------+------------------+-----------+----------+------------+
    | Default    |         1 |      21 |          2 | Default   |        1 | Course     |
    | Default    |         1 |      22 |          3 | Default   |        2 | Faculty    |
    | Default    |         1 |      23 |          4 | Default   |        3 | Book       |
    +------------+-----------+---------+------------+-----------+----------+------------+
3 rows in set (0.00 sec)


links:::

    ParseScriptTBL.CollegeID=universityTBL.ID

    ParseScriptTBL.BaseScriptNameID=BaseScriptNameTBL.BaseScriptNameID

    if BaseScriptNameTBL.ClientServerTypeID=1
      BaseScriptNameTBL.BaseItemID=ClientSideScriptBaseTypeTBL.ID
    elseif BaseScriptNameTBL.ClientServerTypeID=2
      BaseScriptNameTBL.BaseItemID=ServerSideScriptBaseTypeTBL.ID

    for either ClientSideScriptBaseTypeTBL/ServerSideScriptBaseTypeTBL
      ServerSideScriptBaseTypeTBL.itemType=ParseScriptTypeTBL.ID


    CREATE TABLE `ServerSideScriptBaseTypeTBL` (
      `sBaseType` varchar(50) NOT NULL DEFAULT '',
       `itemType` int(5) NOT NULL DEFAULT 0,
      `serverBaseItemID` int(5) unsigned DEFAULT 0,
      `ID` int(10) NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`ID`),
      KEY `serverBaseItemID` (`serverBaseItemID`)
    )

    CREATE TABLE `ClientSideScriptBaseTypeTBL` (
      `cBaseType` varchar(50) NOT NULL DEFAULT '',
      `itemType` int(5) NOT NULL DEFAULT 0,
      `clientBaseItemID` int(5) unsigned DEFAULT 0,
      `ID` int(10) NOT NULL AUTO_INCREMENT,
       PRIMARY KEY (`ID`),
      KEY `clientBaseItemID` (`clientBaseItemID`)
    )

    CREATE TABLE `ParseScriptTBL` (
      `BaseScriptNameID` int(5) DEFAULT 0,
      `CollegeID` int(10) NOT NULL DEFAULT '0',
       `ScriptID` int(10) NOT NULL AUTO_INCREMENT,
       PRIMARY KEY (`ScriptID`),
      UNIQUE KEY `ClientServerTypeID` (`BaseScriptNameID`,`CollegeID`),
      KEY `ParseScriptTBL_ScriptID` (`ScriptID`)
    )

    CREATE TABLE `universityTBL` (
      `name` varchar(100) DEFAULT NULL,
      `ID` int(10) NOT NULL AUTO_INCREMENT,
       PRIMARY KEY (`ID`),
      UNIQUE KEY `name` (`name`)
    )

    CREATE TABLE `BaseScriptNameTBL` (
      `BaseScriptName` varchar(100) DEFAULT NULL,
      `ClientServerTypeID` int(5) unsigned DEFAULT NULL,
      `BaseItemID` int(5) unsigned DEFAULT NULL,
      `BaseScriptNameID` int(10) NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`BaseScriptNameID`)
    )

    CREATE TABLE `ParseScriptTypeTBL` (
      `ScriptType` varchar(50) NOT NULL DEFAULT '',
      `pTypeID` int(1) NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`pTypeID`)
    )



==============================================

    tbl selects
    mysql> select * from BaseScriptNameTBL;
    +----------------+--------------------+------------+------------------+
    | BaseScriptName | ClientServerTypeID | BaseItemID | BaseScriptNameID |
    +----------------+--------------------+------------+------------------+
    | asuclient      |                  2 |          6 |                1 |
    | Default        |                  1 |         21 |                2 |
    | Default        |                  1 |         22 |                3 |
     | Default        |                  1 |         23 |                4 |
    | Default        |                  2 |         21 |                5 |
    | Default        |                  2 |         22 |                6 |
    | Default        |                  2 |         23 |                7 |
    +----------------+--------------------+------------+------------------+


    mysql> select * from universityTBL where ID=90;
    +--------------------------+----+
    | name                     | ID |
    +--------------------------+----+
     | Arizona State University | 90 |
    +--------------------------+----+
    1 row in set (0.05 sec)

    mysql> select * from ParseScriptTBL where CollegeID=90;
    +------------------+-----------+--------------------+--------+----------+----------+
    | BaseScriptNameID | CollegeID | parentAppAttribute | enable | required | ScriptID |
    +------------------+-----------+--------------------+--------+----------+----------+
    |                2 |        90 |               NULL |      0 |        0 |       10 |
     |                1 |        90 |               NULL |      0 |        0 |       11 |
    |                3 |        90 |               NULL |      0 |        0 |       12 |
    |                6 |        90 |               NULL |      0 |        0 |       13 |
    |                4 |        90 |               NULL |      0 |        0 |       14 |
    |                7 |        90 |               NULL |      0 |        0 |       15 |
    +------------------+-----------+--------------------+--------+----------+----------+
    6 rows in set (0.00 sec)

    mysql> select * from ServerSideScriptBaseTypeTBL;
    +-------------+----------+------------------+----+
    | sBaseType   | itemType | serverBaseItemID | ID |
    +-------------+----------+------------------+----+
    | psoft       |        1 |                1 |  1 |
    | banner      |        1 |                2 |  2 |
    | sungard     |        1 |                3 |  3 |
    | webadvisor  |        1 |                4 |  4 |
    | homegrownPy |        1 |                5 |  5 |
    | homegrownJa |        1 |                6 |  6 |
    | ePOS        |        3 |                7 |  7 |
    | ePOS-1      |        3 |                8 |  8 |
    | Verba       |        3 |                9 |  9 |
    | Barnes      |        3 |               10 | 10 |
    | Barnes-1    |        3 |               11 | 11 |
    | Follett     |        3 |               12 | 12 |
    | Follett-1   |        3 |               13 | 13 |
    | mbsBooks    |        3 |               14 | 14 |
    | mbsBooks-1  |        3 |               15 | 15 |
    | nebooks     |        3 |               16 | 16 |
    | nebooks-1   |        3 |               17 | 17 |
    | ratek       |        3 |               18 | 18 |
    | homegrownPy |        3 |               19 | 19 |
    | homegrownJa |        3 |               20 | 20 |
    | Default     |        1 |               21 | 21 |
    | Default     |        2 |               22 | 22 |
    | Default     |        3 |               23 | 23 |
    +-------------+----------+------------------+----+
    23 rows in set (0.04 sec)


    mysql> select * from ClientSideScriptBaseTypeTBL;
    +-------------+----------+------------------+----+
    | cBaseType   | itemType | clientBaseItemID | ID |
    +-------------+----------+------------------+----+
    | psoft       |        1 |                1 |  1 |
    | banner      |        1 |                2 |  2 |
    | sungard     |        1 |                3 |  3 |
    | webadvisor  |        1 |                4 |  4 |
    | homegrownPy |        1 |                5 |  5 |
    | homegrownJa |        1 |                6 |  6 |
    | ePOS        |        3 |                7 |  7 |
    | ePOS-1      |        3 |                8 |  8 |
    | Verba       |        3 |                9 |  9 |
    | Barnes      |        3 |               10 | 10 |
    | Barnes-1    |        3 |               11 | 11 |
    | Follett     |        3 |               12 | 12 |
    | Follett-1   |        3 |               13 | 13 |
    | mbsBooks    |        3 |               14 | 14 |
    | mbsBooks-1  |        3 |               15 | 15 |
    | nebooks     |        3 |               16 | 16 |
    | nebooks-1   |        3 |               17 | 17 |
    | ratek       |        3 |               18 | 18 |
    | homegrownPy |        3 |               19 | 19 |
    | homegrownJa |        3 |               20 | 20 |
    | Default     |        1 |               21 | 21 |
    | Default     |        2 |               22 | 22 |
    | Default     |        3 |               23 | 23 |
    +-------------+----------+------------------+----+
    23 rows in set (0.06 sec)

    mysql> select * from ParseScriptTypeTBL;
    +------------+---------+
    | ScriptType | pTypeID |
    +------------+---------+
    | Course     |       1 |
    | Faculty    |       2 |
    | Book       |       3 |
    +------------+---------+
    3 rows in set (0.00 sec)



",mysql,select,join,union,,10/26/2011 00:47:57,too localized,1,3939,4,"mysql join/union select query? running mysql/linux. 

trying to get the following..


                   clsApp                      bkApp                    facApp  
    colA   svrScriptA | clScriptA   svrScriptA1 | clScriptA1    srvScript | clScript      
    colB   svrScriptB | clScriptB   svrScriptB1 | clScriptB1    srvScript | clScript      


the idea is to be able to get the scriptapps for the client/server for the class/book/faculty for each college...
the following selects get the data for a college for the server and client for the class/book/faculty, but I'm not sure how to ""join"" the selects/results to get the data I'm trying to achieve like in the above section.

the app needs to ultimately be able to do this for all colleges in the universityTBL for the ""ID"".

the tbls and the data/selects/links are listed below.


thoughts/comments??

basic selects::

    mysql> select BaseScriptName,ClientServerTypeID,BaseItemID,b.BaseScriptNameID,sBaseType,itemType,ScriptType from BaseScriptNameTBL as b join ServerSideScriptBaseTypeTBL as s on s.ID=b.BaseItemID join ParseScriptTBL as p on p.BaseScriptNameID=b.BaseScriptNameID join ParseScriptTypeTBL as p1 on p1.pTypeID=s.itemType where b.ClientServerTypeID=2 and p.CollegeID=90; 
    +----------------+--------------------+------------+------------------+-------------+----------+------------+
    | BaseScriptName | ClientServerTypeID | BaseItemID | BaseScriptNameID | sBaseType   | itemType | ScriptType |
        +----------------+--------------------+------------+------------------+-------------+----------+------------+
    | asuclient  |           2 |    6 |      1 | homegrownJa |        1 | Course     |
    | Default    |           2 |   22 |      6 | Default     |        2 | Faculty    |
    | Default    |           2 |   23 |      7 | Default     |        3 | Book       |
    +----------------+--------------------+------------+------------------+-------------+----------+------------+
3 rows in set (0.01 sec)

     mysql> select BaseScriptName,ClientServerTypeID,BaseItemID,b.BaseScriptNameID,cBaseType,itemType,ScriptType from BaseScriptNameTBL as b join ClientSideScriptBaseTypeTBL as s on s.ID=b.BaseItemID join ParseScriptTBL as p on p.BaseScriptNameID=b.BaseScriptNameID join ParseScriptTypeTBL as p1 on p1.pTypeID=s.itemType where b.ClientServerTypeID=1 and CollegeID=90; 
    +----------------+--------------------+------------+------------------+-----------+----------+------------+
    | BaseScriptName | ClientServerTypeID | BaseItemID | BaseScriptNameID | cBaseType | itemType | ScriptType |
    +----------------+--------------------+------------+------------------+-----------+----------+------------+
    | Default    |         1 |      21 |          2 | Default   |        1 | Course     |
    | Default    |         1 |      22 |          3 | Default   |        2 | Faculty    |
    | Default    |         1 |      23 |          4 | Default   |        3 | Book       |
    +------------+-----------+---------+------------+-----------+----------+------------+
3 rows in set (0.00 sec)


links:::

    ParseScriptTBL.CollegeID=universityTBL.ID

    ParseScriptTBL.BaseScriptNameID=BaseScriptNameTBL.BaseScriptNameID

    if BaseScriptNameTBL.ClientServerTypeID=1
      BaseScriptNameTBL.BaseItemID=ClientSideScriptBaseTypeTBL.ID
    elseif BaseScriptNameTBL.ClientServerTypeID=2
      BaseScriptNameTBL.BaseItemID=ServerSideScriptBaseTypeTBL.ID

    for either ClientSideScriptBaseTypeTBL/ServerSideScriptBaseTypeTBL
      ServerSideScriptBaseTypeTBL.itemType=ParseScriptTypeTBL.ID


    CREATE TABLE `ServerSideScriptBaseTypeTBL` (
      `sBaseType` varchar(50) NOT NULL DEFAULT '',
       `itemType` int(5) NOT NULL DEFAULT 0,
      `serverBaseItemID` int(5) unsigned DEFAULT 0,
      `ID` int(10) NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`ID`),
      KEY `serverBaseItemID` (`serverBaseItemID`)
    )

    CREATE TABLE `ClientSideScriptBaseTypeTBL` (
      `cBaseType` varchar(50) NOT NULL DEFAULT '',
      `itemType` int(5) NOT NULL DEFAULT 0,
      `clientBaseItemID` int(5) unsigned DEFAULT 0,
      `ID` int(10) NOT NULL AUTO_INCREMENT,
       PRIMARY KEY (`ID`),
      KEY `clientBaseItemID` (`clientBaseItemID`)
    )

    CREATE TABLE `ParseScriptTBL` (
      `BaseScriptNameID` int(5) DEFAULT 0,
      `CollegeID` int(10) NOT NULL DEFAULT '0',
       `ScriptID` int(10) NOT NULL AUTO_INCREMENT,
       PRIMARY KEY (`ScriptID`),
      UNIQUE KEY `ClientServerTypeID` (`BaseScriptNameID`,`CollegeID`),
      KEY `ParseScriptTBL_ScriptID` (`ScriptID`)
    )

    CREATE TABLE `universityTBL` (
      `name` varchar(100) DEFAULT NULL,
      `ID` int(10) NOT NULL AUTO_INCREMENT,
       PRIMARY KEY (`ID`),
      UNIQUE KEY `name` (`name`)
    )

    CREATE TABLE `BaseScriptNameTBL` (
      `BaseScriptName` varchar(100) DEFAULT NULL,
      `ClientServerTypeID` int(5) unsigned DEFAULT NULL,
      `BaseItemID` int(5) unsigned DEFAULT NULL,
      `BaseScriptNameID` int(10) NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`BaseScriptNameID`)
    )

    CREATE TABLE `ParseScriptTypeTBL` (
      `ScriptType` varchar(50) NOT NULL DEFAULT '',
      `pTypeID` int(1) NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`pTypeID`)
    )



==============================================

    tbl selects
    mysql> select * from BaseScriptNameTBL;
    +----------------+--------------------+------------+------------------+
    | BaseScriptName | ClientServerTypeID | BaseItemID | BaseScriptNameID |
    +----------------+--------------------+------------+------------------+
    | asuclient      |                  2 |          6 |                1 |
    | Default        |                  1 |         21 |                2 |
    | Default        |                  1 |         22 |                3 |
     | Default        |                  1 |         23 |                4 |
    | Default        |                  2 |         21 |                5 |
    | Default        |                  2 |         22 |                6 |
    | Default        |                  2 |         23 |                7 |
    +----------------+--------------------+------------+------------------+


    mysql> select * from universityTBL where ID=90;
    +--------------------------+----+
    | name                     | ID |
    +--------------------------+----+
     | Arizona State University | 90 |
    +--------------------------+----+
    1 row in set (0.05 sec)

    mysql> select * from ParseScriptTBL where CollegeID=90;
    +------------------+-----------+--------------------+--------+----------+----------+
    | BaseScriptNameID | CollegeID | parentAppAttribute | enable | required | ScriptID |
    +------------------+-----------+--------------------+--------+----------+----------+
    |                2 |        90 |               NULL |      0 |        0 |       10 |
     |                1 |        90 |               NULL |      0 |        0 |       11 |
    |                3 |        90 |               NULL |      0 |        0 |       12 |
    |                6 |        90 |               NULL |      0 |        0 |       13 |
    |                4 |        90 |               NULL |      0 |        0 |       14 |
    |                7 |        90 |               NULL |      0 |        0 |       15 |
    +------------------+-----------+--------------------+--------+----------+----------+
    6 rows in set (0.00 sec)

    mysql> select * from ServerSideScriptBaseTypeTBL;
    +-------------+----------+------------------+----+
    | sBaseType   | itemType | serverBaseItemID | ID |
    +-------------+----------+------------------+----+
    | psoft       |        1 |                1 |  1 |
    | banner      |        1 |                2 |  2 |
    | sungard     |        1 |                3 |  3 |
    | webadvisor  |        1 |                4 |  4 |
    | homegrownPy |        1 |                5 |  5 |
    | homegrownJa |        1 |                6 |  6 |
    | ePOS        |        3 |                7 |  7 |
    | ePOS-1      |        3 |                8 |  8 |
    | Verba       |        3 |                9 |  9 |
    | Barnes      |        3 |               10 | 10 |
    | Barnes-1    |        3 |               11 | 11 |
    | Follett     |        3 |               12 | 12 |
    | Follett-1   |        3 |               13 | 13 |
    | mbsBooks    |        3 |               14 | 14 |
    | mbsBooks-1  |        3 |               15 | 15 |
    | nebooks     |        3 |               16 | 16 |
    | nebooks-1   |        3 |               17 | 17 |
    | ratek       |        3 |               18 | 18 |
    | homegrownPy |        3 |               19 | 19 |
    | homegrownJa |        3 |               20 | 20 |
    | Default     |        1 |               21 | 21 |
    | Default     |        2 |               22 | 22 |
    | Default     |        3 |               23 | 23 |
    +-------------+----------+------------------+----+
    23 rows in set (0.04 sec)


    mysql> select * from ClientSideScriptBaseTypeTBL;
    +-------------+----------+------------------+----+
    | cBaseType   | itemType | clientBaseItemID | ID |
    +-------------+----------+------------------+----+
    | psoft       |        1 |                1 |  1 |
    | banner      |        1 |                2 |  2 |
    | sungard     |        1 |                3 |  3 |
    | webadvisor  |        1 |                4 |  4 |
    | homegrownPy |        1 |                5 |  5 |
    | homegrownJa |        1 |                6 |  6 |
    | ePOS        |        3 |                7 |  7 |
    | ePOS-1      |        3 |                8 |  8 |
    | Verba       |        3 |                9 |  9 |
    | Barnes      |        3 |               10 | 10 |
    | Barnes-1    |        3 |               11 | 11 |
    | Follett     |        3 |               12 | 12 |
    | Follett-1   |        3 |               13 | 13 |
    | mbsBooks    |        3 |               14 | 14 |
    | mbsBooks-1  |        3 |               15 | 15 |
    | nebooks     |        3 |               16 | 16 |
    | nebooks-1   |        3 |               17 | 17 |
    | ratek       |        3 |               18 | 18 |
    | homegrownPy |        3 |               19 | 19 |
    | homegrownJa |        3 |               20 | 20 |
    | Default     |        1 |               21 | 21 |
    | Default     |        2 |               22 | 22 |
    | Default     |        3 |               23 | 23 |
    +-------------+----------+------------------+----+
    23 rows in set (0.06 sec)

    mysql> select * from ParseScriptTypeTBL;
    +------------+---------+
    | ScriptType | pTypeID |
    +------------+---------+
    | Course     |       1 |
    | Faculty    |       2 |
    | Book       |       3 |
    +------------+---------+
    3 rows in set (0.00 sec)



",4
4465625,12/16/2010 21:40:32,545371,12/16/2010 21:40:32,1,0,MySQL keeps crashing due to bug.,"So about a week ago, I finally figured out what was causing my server to continually crash.

After reviewing my mysqld.log I keep seeing this same error,

    101210  5:04:32 [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted to 4294967295

Here is a link to the bug report, http://bugs.mysql.com/bug.php?id=35346 someone recommend that you set the max_join_size vaule in my.cnf to 4M, and I did. I assumed this fixed the issue, and it was working for about a week with no issues until today...

I checked MySQL and the same error is now back,

    101216 06:35:25  mysqld restarted
    101216  6:38:15 [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted to 4294967295
    101216  6:38:15 [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted to 4294967295
    101216 06:40:42  mysqld ended

Anyone know how I can really fix this issue? I can't keep having mysql crash like this.

EDIT: I forgot to mention every time this happens I get an email from linode staying I have a high disk io rate 

Your Linode, has exceeded the notification threshold (1000) for disk io rate by averaging 2483.68 for the last 2 hours.",mysql,crash,,,,,open,0,196,6,"MySQL keeps crashing due to bug. So about a week ago, I finally figured out what was causing my server to continually crash.

After reviewing my mysqld.log I keep seeing this same error,

    101210  5:04:32 [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted to 4294967295

Here is a link to the bug report, http://bugs.mysql.com/bug.php?id=35346 someone recommend that you set the max_join_size vaule in my.cnf to 4M, and I did. I assumed this fixed the issue, and it was working for about a week with no issues until today...

I checked MySQL and the same error is now back,

    101216 06:35:25  mysqld restarted
    101216  6:38:15 [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted to 4294967295
    101216  6:38:15 [Warning] option 'max_join_size': unsigned value 18446744073709551615 adjusted to 4294967295
    101216 06:40:42  mysqld ended

Anyone know how I can really fix this issue? I can't keep having mysql crash like this.

EDIT: I forgot to mention every time this happens I get an email from linode staying I have a high disk io rate 

Your Linode, has exceeded the notification threshold (1000) for disk io rate by averaging 2483.68 for the last 2 hours.",2
10388883,04/30/2012 18:46:31,1321210,04/09/2012 05:04:05,11,0,Mysql SELECT column from 3 tables,"I've three tables,i want all columns with where condtion a=0 and b=0 and c=1

![enter image description here][1]


  [1]: http://i.stack.imgur.com/7WelX.png",mysql,select,,,,,open,0,20,6,"Mysql SELECT column from 3 tables I've three tables,i want all columns with where condtion a=0 and b=0 and c=1

![enter image description here][1]


  [1]: http://i.stack.imgur.com/7WelX.png",2
10097003,04/10/2012 21:53:08,486990,09/29/2010 18:11:50,491,35,Why do I get incorrect SUM in my MYSQL query joining two tables?,"The simple working query, list the number of licenses for each license type:

Query:

    SELECT
      COUNT(licenses.licenseID) AS total
    FROM
      licenses
    GROUP BY
      licenses.licensetypeID

Results:

    total
    =====
    389
     14
      2
      5
      3
      1
      1

Now I want to sum up the profit from the licenses. A table `transactions` contains all transactions from PayPal. I use `mc_gross` to sum up. Some times there are refunds, so `mc_gross` is negative and there are more transactions than licenses.

In my current database, four licenses was removed because the transaction was refunded.

My attempt:

    SELECT
      COUNT(licenses.licenseID) AS total,
      SUM( transactions.mc_gross ) AS gross
    FROM
      licenses
      LEFT JOIN transactions ON licenses.txn_id = transactions.txn_id
    GROUP BY
      licenses.licensetypeID

The result:

    393 	9020.00
     14 	NULL
      2 	NULL
      5 	NULL
      3 	100.00
      1 	NULL
      1 	NULL

Notice that the first license type now has a total of four more than the first query. From this I deduce that it's counting up the extra rows in the transactions table. But I do not understand why, because I thought a `LEFT JOIN` would take all the rows for the left table `licenses` and connect to whatever available `transactions`.

Reading up on the different joins I cannot make any sense of them to produce my desired result.

Am I doing an incorrect join? Or do I group by the wrong value?

Note that I do want to list all license types - even if they sum up to zero count.

(Let me know if the whole table structure is required - I skipped it to avoid making the question too long. I hope all the relevant info is included.)",mysql,,,,,,open,0,383,13,"Why do I get incorrect SUM in my MYSQL query joining two tables? The simple working query, list the number of licenses for each license type:

Query:

    SELECT
      COUNT(licenses.licenseID) AS total
    FROM
      licenses
    GROUP BY
      licenses.licensetypeID

Results:

    total
    =====
    389
     14
      2
      5
      3
      1
      1

Now I want to sum up the profit from the licenses. A table `transactions` contains all transactions from PayPal. I use `mc_gross` to sum up. Some times there are refunds, so `mc_gross` is negative and there are more transactions than licenses.

In my current database, four licenses was removed because the transaction was refunded.

My attempt:

    SELECT
      COUNT(licenses.licenseID) AS total,
      SUM( transactions.mc_gross ) AS gross
    FROM
      licenses
      LEFT JOIN transactions ON licenses.txn_id = transactions.txn_id
    GROUP BY
      licenses.licensetypeID

The result:

    393 	9020.00
     14 	NULL
      2 	NULL
      5 	NULL
      3 	100.00
      1 	NULL
      1 	NULL

Notice that the first license type now has a total of four more than the first query. From this I deduce that it's counting up the extra rows in the transactions table. But I do not understand why, because I thought a `LEFT JOIN` would take all the rows for the left table `licenses` and connect to whatever available `transactions`.

Reading up on the different joins I cannot make any sense of them to produce my desired result.

Am I doing an incorrect join? Or do I group by the wrong value?

Note that I do want to list all license types - even if they sum up to zero count.

(Let me know if the whole table structure is required - I skipped it to avoid making the question too long. I hope all the relevant info is included.)",1
7633480,10/03/2011 09:59:19,483965,10/22/2010 08:20:46,352,7,How to check if referenced table is not empty?,"For example, I have 2 tables:

    CREATE TABLE IF NOT EXISTS master(
        master_id      INT          NOT NULL AUTO_INCREMENT,
        master_name    VARCHAR(15) NOT NULL,
        PRIMARY KEY(master_id)
    ) TYPE=InnoDB CHARACTER SET=UTF8;

and

    CREATE TABLE IF NOT EXISTS slave(
        slave_id        INT          NOT NULL AUTO_INCREMENT,
        slave_name      VARCHAR(15)  NOT NULL,
        master_id       INT
        PRIMARY KEY (slave_id), 
        FOREIGN KEY (master_id) REFERENCES master(master_id)
    ) TYPE=InnoDB CHARACTER SET=UTF8; 

How can I check if the master table is connected to the slave table and then, if it is,  I want to know if slave is empty?

",mysql,,,,,,open,0,198,9,"How to check if referenced table is not empty? For example, I have 2 tables:

    CREATE TABLE IF NOT EXISTS master(
        master_id      INT          NOT NULL AUTO_INCREMENT,
        master_name    VARCHAR(15) NOT NULL,
        PRIMARY KEY(master_id)
    ) TYPE=InnoDB CHARACTER SET=UTF8;

and

    CREATE TABLE IF NOT EXISTS slave(
        slave_id        INT          NOT NULL AUTO_INCREMENT,
        slave_name      VARCHAR(15)  NOT NULL,
        master_id       INT
        PRIMARY KEY (slave_id), 
        FOREIGN KEY (master_id) REFERENCES master(master_id)
    ) TYPE=InnoDB CHARACTER SET=UTF8; 

How can I check if the master table is connected to the slave table and then, if it is,  I want to know if slave is empty?

",1
10437779,05/03/2012 19:04:27,295189,03/16/2010 21:44:33,1628,21,how to create this architect,"I have a matrix like this


                  User                                   trial                      free
    package1      fullaccess                             limited access             very limited access
                  partial access to downloads            previews                   expiration
    
    package2      full access                            n/a                        n/a
                  full access to assets  



how would I create a schema for this scenario",mysql,sql,,,,06/16/2012 21:03:34,not a real question,1,286,5,"how to create this architect I have a matrix like this


                  User                                   trial                      free
    package1      fullaccess                             limited access             very limited access
                  partial access to downloads            previews                   expiration
    
    package2      full access                            n/a                        n/a
                  full access to assets  



how would I create a schema for this scenario",2
2681295,04/21/2010 08:21:49,321132,04/20/2010 09:03:05,1,0,i want to fire atrigger after data has been inserted in a tablein mysql,"i want to fire a trigger after my table has been filled woth reords ,i dont want to fire a rowwise trigger.please tell how can we do that in mysql.",mysql,,,,,,open,0,30,14,"i want to fire atrigger after data has been inserted in a tablein mysql i want to fire a trigger after my table has been filled woth reords ,i dont want to fire a rowwise trigger.please tell how can we do that in mysql.",1
2929492,05/28/2010 13:46:16,100382,05/03/2009 17:27:08,17,1,Making a mySQL-query to get products that have not ben sold?,"Using openbravoPOS i got a mySQL database of all my producs tickets stock etc.

Products are in one table and the tickets are in another, so to make a query that get me all the products that are sold (and therefore are in ticketlines) are simple.

How do I make a query that gives me the products that are not i any ticketlines?",mysql,openbravo,,,,,open,0,61,11,"Making a mySQL-query to get products that have not ben sold? Using openbravoPOS i got a mySQL database of all my producs tickets stock etc.

Products are in one table and the tickets are in another, so to make a query that get me all the products that are sold (and therefore are in ticketlines) are simple.

How do I make a query that gives me the products that are not i any ticketlines?",2
6176229,05/30/2011 12:21:20,651647,03/09/2011 13:51:39,41,8,Non-in-memory olap for MySql,I'm familiar with Mondrian. But I am looking for something like SSAS for MySql. Any suggestion?,mysql,olap,,,,06/04/2011 02:40:08,not a real question,1,16,4,Non-in-memory olap for MySql I'm familiar with Mondrian. But I am looking for something like SSAS for MySql. Any suggestion?,2
1612115,10/23/2009 08:35:40,79742,03/18/2009 21:50:03,8,0,"On a 20 gig disk, I have a mysql folder of 17gig, but I have 16 gig free?","I am wondering how this is possible. At my host, I have a Mysql folder that is 17 Gig big, however I have only 20Gig, but DF and the admin panel say's I still have 16Gig Free. How is this possible? Does anyone know?

Thank you
 ",mysql,linux,,,,10/25/2009 01:50:13,off topic,1,46,18,"On a 20 gig disk, I have a mysql folder of 17gig, but I have 16 gig free? I am wondering how this is possible. At my host, I have a Mysql folder that is 17 Gig big, however I have only 20Gig, but DF and the admin panel say's I still have 16Gig Free. How is this possible? Does anyone know?

Thank you
 ",2
8512440,12/14/2011 22:12:32,303254,03/27/2010 16:47:18,45,2,"Wampserver, PhpMyAdmin, since set root pass cant login","i installed new wampserver, and i put root pass since then i cant enter (localhost) via browser, how can i enter phpmyadmin via browser (i remember the pass).

Error is: #1045 - Access denied for user 'root'@'localhost' (using password: NO) ",mysql,phpmyadmin,wampserver,,,12/15/2011 23:53:48,not a real question,1,40,8,"Wampserver, PhpMyAdmin, since set root pass cant login i installed new wampserver, and i put root pass since then i cant enter (localhost) via browser, how can i enter phpmyadmin via browser (i remember the pass).

Error is: #1045 - Access denied for user 'root'@'localhost' (using password: NO) ",3
10407264,05/02/2012 03:19:05,1156901,01/18/2012 18:23:41,11,0,How to get MySQL query return correct value in PHP?,"DB has value of 1, but query below is returning 0. What am I doing wrong? TY!

    $queryziptrack2 = mysql_query(""SELECT $box1 FROM paint WHERE color=$box2"") or die ('Error: ' . mysql_error ());

    $queryziptrack1 = mysql_fetch_array($queryziptrack2);

    echo $queryziptrack1['$box1'];
",mysql,php5,,,,05/02/2012 11:55:12,not constructive,1,46,10,"How to get MySQL query return correct value in PHP? DB has value of 1, but query below is returning 0. What am I doing wrong? TY!

    $queryziptrack2 = mysql_query(""SELECT $box1 FROM paint WHERE color=$box2"") or die ('Error: ' . mysql_error ());

    $queryziptrack1 = mysql_fetch_array($queryziptrack2);

    echo $queryziptrack1['$box1'];
",2
10691920,05/21/2012 20:11:47,886955,08/10/2011 00:34:47,15,1,Best Storage Engine on MySQL,"Just wondering what the best storage engine to use for my website would be? I manually enter values into the database - there is no user input being put into the database itself. It basically holds short values, as well as some short URLs (for images based on the content). I noticed on the empty table I have InnoDB has a 3,690MB overhead..which seems a little extreme considering it's not being accessed.

Would MyISAM be better? Suggestions?

EDIT: All I'm really doing, aside from manually inputting the values in phpMyAdmin is calling those values when needed.",mysql,,,,,05/22/2012 08:37:52,not constructive,1,94,5,"Best Storage Engine on MySQL Just wondering what the best storage engine to use for my website would be? I manually enter values into the database - there is no user input being put into the database itself. It basically holds short values, as well as some short URLs (for images based on the content). I noticed on the empty table I have InnoDB has a 3,690MB overhead..which seems a little extreme considering it's not being accessed.

Would MyISAM be better? Suggestions?

EDIT: All I'm really doing, aside from manually inputting the values in phpMyAdmin is calling those values when needed.",1
10352487,04/27/2012 14:26:22,260308,01/27/2010 17:34:44,541,33,mysql 5.5 dump import VERY slow,"I imported sql dumps via mysql -uroot -p dbname < dump.sql under MySQL 5.1.33 for some time.
I switched now to MySQL 5.5 and the same import takes like forever. I got a faster machine with more ram now too.

I'm importing tables with ENGINE=InnoDB CHARACTER SET utf8. The whole dump file is 1 Mio. Lines, one INSERT per line.

One strange thing i saw is that when i check one of the tables while importing, the rows count is not constantly raising but like jumping up and down and raising very slowly. Also the actual space usage for the table data is raising only every 10 secs or so while the rows count is jumping all the time. Maybe this is an InnoDB effect, i dont know.

I have no idea, but this import should go way faster (maybe 15 minutes) this way it will go for like 4 hours.

Anything changed in MySQL 5.5?
",mysql,innodb,mysqldump,,,04/30/2012 14:23:29,too localized,1,151,6,"mysql 5.5 dump import VERY slow I imported sql dumps via mysql -uroot -p dbname < dump.sql under MySQL 5.1.33 for some time.
I switched now to MySQL 5.5 and the same import takes like forever. I got a faster machine with more ram now too.

I'm importing tables with ENGINE=InnoDB CHARACTER SET utf8. The whole dump file is 1 Mio. Lines, one INSERT per line.

One strange thing i saw is that when i check one of the tables while importing, the rows count is not constantly raising but like jumping up and down and raising very slowly. Also the actual space usage for the table data is raising only every 10 secs or so while the rows count is jumping all the time. Maybe this is an InnoDB effect, i dont know.

I have no idea, but this import should go way faster (maybe 15 minutes) this way it will go for like 4 hours.

Anything changed in MySQL 5.5?
",3
4142872,11/10/2010 09:20:49,501242,11/08/2010 22:26:05,3,0,Alternatives to low-cardinality columns (and pointless indexes) in mysql?,"So I have a mysql table for photos on my website. Every photo is tied to one of two sets of entities, so has two columns; nEntity1FK, nEntity2FK.

Exactly one of these columns is always non-zero in every row.  As such about 50% of the rows have ""0"" in nEntity1FK, and about 50% have ""0"" in nEntity2FK.

All well and good so far.  Until I add a `WHERE nEntity1FK=0` clause.  Things suddenly get pretty slow, even if I have a `LIMIT 0,50` to go with it.  

I kinda understand why.  I get that low-cardinality indexes are bad and generally don't get used.  What's the alternative though?  The only thing I can think of is to keep all of my photo information in 2 separate tables instead of one (and have a view that joins them together for queries that need both).  This seems messy/hassle to me, is there a better option?

Thanks all.",mysql,index,cardinality,,,,open,0,158,9,"Alternatives to low-cardinality columns (and pointless indexes) in mysql? So I have a mysql table for photos on my website. Every photo is tied to one of two sets of entities, so has two columns; nEntity1FK, nEntity2FK.

Exactly one of these columns is always non-zero in every row.  As such about 50% of the rows have ""0"" in nEntity1FK, and about 50% have ""0"" in nEntity2FK.

All well and good so far.  Until I add a `WHERE nEntity1FK=0` clause.  Things suddenly get pretty slow, even if I have a `LIMIT 0,50` to go with it.  

I kinda understand why.  I get that low-cardinality indexes are bad and generally don't get used.  What's the alternative though?  The only thing I can think of is to keep all of my photo information in 2 separate tables instead of one (and have a view that joins them together for queries that need both).  This seems messy/hassle to me, is there a better option?

Thanks all.",3
5291035,03/13/2011 17:21:14,657709,03/13/2011 17:21:14,1,0,Fingerprint recognition in java,"how to do a fingerprint recognition program in java without any fingerprint reader device, by using fingerprint image.Please help me.",mysql,,,,,03/13/2011 19:46:40,not a real question,1,20,4,"Fingerprint recognition in java how to do a fingerprint recognition program in java without any fingerprint reader device, by using fingerprint image.Please help me.",1
9170926,02/07/2012 04:15:12,1193774,02/07/2012 03:47:28,1,0,MySQL: Limit number of results for each group in query based on results from another query,"I would like to thank everyone in advance for any help you would share on this following issue.

In mysql I have the following tables:

select id, product_id from MembersProducts;
<pre>
Member Products

id | product_id
1  | 2
1  | 3
1  | 4
1  | 5
1  | 6
2  | 5
2  | 6
</pre>

select id, (TimesPerDay * TimesPerWeek) from Schedule;
<pre>
Schedule
id | (TimesPerDay * TimesPerWeek)
1  | 2
2  | 1
</pre>

I would like to create a query that generates the following table:

<pre>
Member Products

id | product_id
1  | 2
1  | 3
2  | 5
</pre>

My goal is to have the number of product_id limited by the (TimesPerDay * TimesPerWeek) column for each id.

",mysql,select,join,,,,open,0,109,16,"MySQL: Limit number of results for each group in query based on results from another query I would like to thank everyone in advance for any help you would share on this following issue.

In mysql I have the following tables:

select id, product_id from MembersProducts;
<pre>
Member Products

id | product_id
1  | 2
1  | 3
1  | 4
1  | 5
1  | 6
2  | 5
2  | 6
</pre>

select id, (TimesPerDay * TimesPerWeek) from Schedule;
<pre>
Schedule
id | (TimesPerDay * TimesPerWeek)
1  | 2
2  | 1
</pre>

I would like to create a query that generates the following table:

<pre>
Member Products

id | product_id
1  | 2
1  | 3
2  | 5
</pre>

My goal is to have the number of product_id limited by the (TimesPerDay * TimesPerWeek) column for each id.

",3
10996460,06/12/2012 12:15:30,1451186,06/12/2012 12:11:16,1,0,MySQL Gujarati font,"I have three mysql tables and i am inserting gujarati content in them.
when I insert two tables are inserted fine and are readable but in one table it is showing junk characters/Unreadable.Kindly Support for the issue.",mysql,database,language-agnostic,fonts,mysql-error-1064,,open,0,36,3,"MySQL Gujarati font I have three mysql tables and i am inserting gujarati content in them.
when I insert two tables are inserted fine and are readable but in one table it is showing junk characters/Unreadable.Kindly Support for the issue.",5
3740796,09/18/2010 07:44:54,200653,11/01/2009 23:34:56,359,23,MySQL timestamp to .NET timestamp,"I am using DBLinq to access a MySQL DB from C# .NET 3.5

I have created the dbml file for the Visual Studio 2010 ORM, and it loads fine - however when I compile the source I am met with errors regarding the conversion of MySQL timestamp to .NET DateTime.

Now this kind of makes sense, because they are 2 'different' types (Though the MySQL documentation says that they are practically the same).[http://dev.mysql.com/doc/refman/5.0/en/datetime.html][1]

The error thrown by VS 2010 is:

> Error	1	DBML1005: Mapping between DbType 'timestamp' and Type 'System.DateTime' in Column 'RowVersion' of Type 'Activity' is not supported.		0	0	

Where RowVersion is a timestamp for optimistic concurrency.

How do I get it to work between the 2?


  [1]: http://dev.mysql.com/doc/refman/5.0/en/datetime.html",mysql,visual-studio,linq,types,dblinq,,open,0,113,5,"MySQL timestamp to .NET timestamp I am using DBLinq to access a MySQL DB from C# .NET 3.5

I have created the dbml file for the Visual Studio 2010 ORM, and it loads fine - however when I compile the source I am met with errors regarding the conversion of MySQL timestamp to .NET DateTime.

Now this kind of makes sense, because they are 2 'different' types (Though the MySQL documentation says that they are practically the same).[http://dev.mysql.com/doc/refman/5.0/en/datetime.html][1]

The error thrown by VS 2010 is:

> Error	1	DBML1005: Mapping between DbType 'timestamp' and Type 'System.DateTime' in Column 'RowVersion' of Type 'Activity' is not supported.		0	0	

Where RowVersion is a timestamp for optimistic concurrency.

How do I get it to work between the 2?


  [1]: http://dev.mysql.com/doc/refman/5.0/en/datetime.html",5
8841978,01/12/2012 20:41:17,1102512,12/16/2011 18:18:39,18,0,Mergin two databases with the same design (Mysql),"I have two databases with the same design, and different records in Mysql
There are two main tables with a unique primary key. (I mean if two records in different databases has the same primary keys they are the same.)
And there are many small tables in which these primary keys are foreign keys.

Now I want to merge the data of these two databases.


Any Idea?

",mysql,sql,query,,,,open,0,63,8,"Mergin two databases with the same design (Mysql) I have two databases with the same design, and different records in Mysql
There are two main tables with a unique primary key. (I mean if two records in different databases has the same primary keys they are the same.)
And there are many small tables in which these primary keys are foreign keys.

Now I want to merge the data of these two databases.


Any Idea?

",3
4254625,11/23/2010 09:42:06,467610,10/06/2010 05:59:59,1,0,MySQL fullsearch question.,"I have a database that is about 200MB. It has about 140 tables and its completely MyISAM based. I'm planning to perform a fulltext search almost 100,000 a day. Should I make any improvements so that MySQL does not give me any problems?",mysql,full-text-search,,,,,open,0,43,3,"MySQL fullsearch question. I have a database that is about 200MB. It has about 140 tables and its completely MyISAM based. I'm planning to perform a fulltext search almost 100,000 a day. Should I make any improvements so that MySQL does not give me any problems?",2
9621509,03/08/2012 16:51:15,860126,07/24/2011 10:08:25,174,2,Limit number of records using trigger and constraints in MySQL,"I have a table called BFFs, that stores userID, and best friend's userID and I would like to restrict that table to have exactly 3 number of best friends for each different user.

I mean if the table structre is:

    BFFs(userID, userID)

and records are:

    (3286, 1212)
    (3286, 4545)
    (3286, 7878)

And in that case, if user with ID 3286 should not be allowed to have a new record such as (3286, xyzt).

How should I restrich this on relational tables through assertions or triggers ?

Thanks 
",mysql,triggers,constraints,,,,open,0,95,10,"Limit number of records using trigger and constraints in MySQL I have a table called BFFs, that stores userID, and best friend's userID and I would like to restrict that table to have exactly 3 number of best friends for each different user.

I mean if the table structre is:

    BFFs(userID, userID)

and records are:

    (3286, 1212)
    (3286, 4545)
    (3286, 7878)

And in that case, if user with ID 3286 should not be allowed to have a new record such as (3286, xyzt).

How should I restrich this on relational tables through assertions or triggers ?

Thanks 
",3
10673420,05/20/2012 12:32:43,1162474,01/21/2012 15:56:43,1,0,Install MySQL on Mac OS X Lion?,"I have downloaded the MySQL community server and extracted the files from the .tar file. But how do I install it? I simply cannot find a easy way to to this, or any method for that matter. Or is it already installed after `tar xvf MySQL.tar`? And also, when installing the .pkg version, shouldn't it create the files anywhere? Finally, the community server is the one used with django right?

Thanks in advance!",mysql,database,django,install,tar,,open,0,72,7,"Install MySQL on Mac OS X Lion? I have downloaded the MySQL community server and extracted the files from the .tar file. But how do I install it? I simply cannot find a easy way to to this, or any method for that matter. Or is it already installed after `tar xvf MySQL.tar`? And also, when installing the .pkg version, shouldn't it create the files anywhere? Finally, the community server is the one used with django right?

Thanks in advance!",5
2084248,01/18/2010 06:26:48,252962,01/18/2010 06:26:48,1,0,how to create shopping cart database tables and fetch the products from database.and display the products,using mysql and php programming ....,mysql,,,,,06/28/2012 00:27:02,not a real question,1,6,16,how to create shopping cart database tables and fetch the products from database.and display the products using mysql and php programming ....,1
10347237,04/27/2012 08:23:14,961482,09/23/2011 15:27:40,39,2,How do I point a linux MySQL server to use the data from my OS X partition,"I have MySQL setup on OS X, with its data in the `/usr/local/mysql-5.5.23-osx10.6-x86_64/data/mysql/` directory.  Given the problems Lion has with its dynamic memory pager, I am keen to profile the performance of the same database on both Lion and Ubuntu.

How can I point the linux MySQL installation to use the OS X data directory (assuming I am mounting my efs partition under `/mnt/osx` in my Ubuntu installation)?",mysql,ubuntu,osx-lion,,,04/30/2012 13:54:44,off topic,1,68,17,"How do I point a linux MySQL server to use the data from my OS X partition I have MySQL setup on OS X, with its data in the `/usr/local/mysql-5.5.23-osx10.6-x86_64/data/mysql/` directory.  Given the problems Lion has with its dynamic memory pager, I am keen to profile the performance of the same database on both Lion and Ubuntu.

How can I point the linux MySQL installation to use the OS X data directory (assuming I am mounting my efs partition under `/mnt/osx` in my Ubuntu installation)?",3
10623588,05/16/2012 17:27:07,1399233,05/16/2012 17:15:06,1,0,"MySQL: Calling a Stored Procedure Within a Cursor Loop, Without Tripping the Continue Handler","I am trying to call a Stored Procedure in MySQL within the loop of a Cursor.  The cursor behaves properly when doing an INSERT in the loop; but if I try to call a Stored Procedure, the continue Handler 'sets done = 1' and will exit the loop prematurely, after the first record is processed.  Any thoughts on how to work around this?  Thanks.

    declare test_cursor cursor for 
           select projectid, projectdesc
             from tblProjects
            order by projectdesc;          

    DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;

    set done = 0;  
    open test_cursor;
       
    repeat

      fetch trade_cursor into wprojectid, wprojectdesc;

      if not done then  

        insert into tblTest (a, b) values wprojectid, wprojectdesc;   <--this would work
        call spTest(a, b, @retrn);                                    <--this trips the Handler after first loop
        
      end if;      
      
    until done end repeat;
      
    close test_cursor; ",mysql,stored-procedures,cursor,handler,,,open,0,304,14,"MySQL: Calling a Stored Procedure Within a Cursor Loop, Without Tripping the Continue Handler I am trying to call a Stored Procedure in MySQL within the loop of a Cursor.  The cursor behaves properly when doing an INSERT in the loop; but if I try to call a Stored Procedure, the continue Handler 'sets done = 1' and will exit the loop prematurely, after the first record is processed.  Any thoughts on how to work around this?  Thanks.

    declare test_cursor cursor for 
           select projectid, projectdesc
             from tblProjects
            order by projectdesc;          

    DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;

    set done = 0;  
    open test_cursor;
       
    repeat

      fetch trade_cursor into wprojectid, wprojectdesc;

      if not done then  

        insert into tblTest (a, b) values wprojectid, wprojectdesc;   <--this would work
        call spTest(a, b, @retrn);                                    <--this trips the Handler after first loop
        
      end if;      
      
    until done end repeat;
      
    close test_cursor; ",4
6817551,07/25/2011 14:19:06,471379,10/10/2010 06:45:05,38,0,Sequel Pro Alternative for Windows,"Well my macbook pro is kind of not cutting it for me anymore and I have a perfectly good Windows Laptop I would actually rather use but I cannot find a reliable replacement for my SQL client. So I am looking for a replacement for SequelPro for Windows.. 

Ones I have Tried and Either Didn't like or found a few issues with. 

Navicat - This one when left inactive for more than 15 minutes crashes.. I don't mind that it wants to disconnect but please do it gracefully with out locking up my system for a few minutes. 

SQLyog - Works well but I would like something with atleast a free for non-commercial use. I don't do any freelance and rarely do I do any of my 'work' on my personal laptop. 


So does anyone have any suggestions?  ",mysql,gui,,,,07/03/2012 14:29:16,off topic,1,140,5,"Sequel Pro Alternative for Windows Well my macbook pro is kind of not cutting it for me anymore and I have a perfectly good Windows Laptop I would actually rather use but I cannot find a reliable replacement for my SQL client. So I am looking for a replacement for SequelPro for Windows.. 

Ones I have Tried and Either Didn't like or found a few issues with. 

Navicat - This one when left inactive for more than 15 minutes crashes.. I don't mind that it wants to disconnect but please do it gracefully with out locking up my system for a few minutes. 

SQLyog - Works well but I would like something with atleast a free for non-commercial use. I don't do any freelance and rarely do I do any of my 'work' on my personal laptop. 


So does anyone have any suggestions?  ",2
5948481,05/10/2011 10:10:32,548433,12/20/2010 09:33:56,1,0,Does reconfiguring mysql delete all the previous databases??,"This is my first time posting here, so please bear with me!! :D

I am running Ubuntu 10.04.02 and running MySQL 5.1 on it.

Due to some problems i had in restarting the mysql server, the mysql.sock file was deleted.

I looked up this issue and found a link which said that i could reconfigure my MySQL installation, reset the passwords and everything will be good as new.

The thing i'm worried about is, will reconfiguring MySQL delete all the databases i had before.

Please HELP me out, its really urgent.

Thanks And Regards
Gaurav Manchanda",mysql,linux,ubuntu-10.04,,,,open,0,89,8,"Does reconfiguring mysql delete all the previous databases?? This is my first time posting here, so please bear with me!! :D

I am running Ubuntu 10.04.02 and running MySQL 5.1 on it.

Due to some problems i had in restarting the mysql server, the mysql.sock file was deleted.

I looked up this issue and found a link which said that i could reconfigure my MySQL installation, reset the passwords and everything will be good as new.

The thing i'm worried about is, will reconfiguring MySQL delete all the databases i had before.

Please HELP me out, its really urgent.

Thanks And Regards
Gaurav Manchanda",3
7306533,09/05/2011 10:06:09,928641,09/05/2011 10:06:09,1,0,login and specific info from database,"I have a database where each customer has their own job id and completion percentage. I'm trying to get each customer to login using their last name and job id so that they can see their completion percentage. But I can't figure out how to use their authentication to bring up only their specific info on their page.

If anyone can help, that'd be great. 

Thanks.",mysql,authentication,,,,09/05/2011 15:09:14,not a real question,1,65,6,"login and specific info from database I have a database where each customer has their own job id and completion percentage. I'm trying to get each customer to login using their last name and job id so that they can see their completion percentage. But I can't figure out how to use their authentication to bring up only their specific info on their page.

If anyone can help, that'd be great. 

Thanks.",2
4237717,11/21/2010 12:05:19,244413,01/06/2010 02:46:19,1461,0,Why companies spent a lot of money with Oracle ?,"Why not just postgresql or mysql ?
Is oracle very indispensable in some case ? In which case ?",mysql,database,oracle,postgresql,oracle10g,11/21/2010 15:49:15,not constructive,1,18,10,"Why companies spent a lot of money with Oracle ? Why not just postgresql or mysql ?
Is oracle very indispensable in some case ? In which case ?",5
3732925,09/17/2010 05:51:14,149128,08/01/2009 23:17:40,69,2,strip 0 from all rows in single column MySQL,"I want to `TRIM(LEADING 0 FROM month) FROM table1`

where `table1` has column `month` with data formatted like so: 01, 02, 03

I would like the data formatted: 1, 2, 3, ...

Thanks!",mysql,,,,,,open,0,30,9,"strip 0 from all rows in single column MySQL I want to `TRIM(LEADING 0 FROM month) FROM table1`

where `table1` has column `month` with data formatted like so: 01, 02, 03

I would like the data formatted: 1, 2, 3, ...

Thanks!",1
9088650,01/31/2012 23:30:25,388185,07/09/2010 23:05:17,326,8,Mysql: using convert_tz for datetime comparisons,"I have a table with day/time values that are split into date and an int fields respectively rather than a single datetime. Each row has a unique combo of date and hour, so there are 24 rows per each day.

My challenge is selecting data relevant for users in a different timezone when I need to take these timezone adjustments into account in the where statement. For example, if the user's two hours ahead of the server time, the where statement needs to reflect it:

     ...where concat(theDate,' ',theHour) > convert_tz(concat('2012-01-01',' ','00:00:00'), '-8:00', '-6:00')

..for, say, PST to central time. But obviously I can't use convert_tz or a value with which it was calculated in a where clause. 

I'd like to use convert_tz rather than clumsy DATE_ADD or whatever. What can be done?",mysql,datetime,timezone,,,,open,0,134,6,"Mysql: using convert_tz for datetime comparisons I have a table with day/time values that are split into date and an int fields respectively rather than a single datetime. Each row has a unique combo of date and hour, so there are 24 rows per each day.

My challenge is selecting data relevant for users in a different timezone when I need to take these timezone adjustments into account in the where statement. For example, if the user's two hours ahead of the server time, the where statement needs to reflect it:

     ...where concat(theDate,' ',theHour) > convert_tz(concat('2012-01-01',' ','00:00:00'), '-8:00', '-6:00')

..for, say, PST to central time. But obviously I can't use convert_tz or a value with which it was calculated in a where clause. 

I'd like to use convert_tz rather than clumsy DATE_ADD or whatever. What can be done?",3
1854383,12/06/2009 04:38:42,115182,05/31/2009 19:08:40,157,3,Select average from MySQL table with LIMIT,"I am trying to get the average of the lowest 5 priced items, grouped by the username attached to them.  However, the below query gives the average price for each user (which of course is the price), but I just want one answer returned.

    SELECT AVG(price) FROM table WHERE price > '0' && item_id = '$id' GROUP BY username ORDER BY price ASC LIMIT 5",mysql,sql,mysql-query,average,,,open,0,69,7,"Select average from MySQL table with LIMIT I am trying to get the average of the lowest 5 priced items, grouped by the username attached to them.  However, the below query gives the average price for each user (which of course is the price), but I just want one answer returned.

    SELECT AVG(price) FROM table WHERE price > '0' && item_id = '$id' GROUP BY username ORDER BY price ASC LIMIT 5",4
9722544,03/15/2012 15:07:45,1171810,01/26/2012 17:14:03,18,0,Specifying Field Data Type LOAD DATA - MYSQL,"I want to specify Field data type in following data load statement for MySQL

Use db;
LOAD DATA LOCAL INFILE 'C:/test.csv'INTO TABLE db.table1 FIELDS TERMINATED BY ','LINES TERMINATED BY '\n';

Following data sample is imported /loaded into MySQL  
Id,Name,Grade,Assignment 1
30062000,""Black"",3.000000000,3.000000000
and 
when the record set is exported back data type changes
30062000,""""""Black"""""",3,3

How can I specify the Data type during Import of sample data in the above LOAD DATA LOCAL INFILE statement

Thanks a lot",mysql,loaddata,,,,,open,0,69,8,"Specifying Field Data Type LOAD DATA - MYSQL I want to specify Field data type in following data load statement for MySQL

Use db;
LOAD DATA LOCAL INFILE 'C:/test.csv'INTO TABLE db.table1 FIELDS TERMINATED BY ','LINES TERMINATED BY '\n';

Following data sample is imported /loaded into MySQL  
Id,Name,Grade,Assignment 1
30062000,""Black"",3.000000000,3.000000000
and 
when the record set is exported back data type changes
30062000,""""""Black"""""",3,3

How can I specify the Data type during Import of sample data in the above LOAD DATA LOCAL INFILE statement

Thanks a lot",2
311657,11/22/2008 19:09:02,17560,09/18/2008 11:39:52,223,9,MySql – how do you find the time down to the   Millisecond ,"Is there any way to get the time down to the Millisecond in MySql

",mysql,,,,,,open,0,14,15,"MySql – how do you find the time down to the   Millisecond  Is there any way to get the time down to the Millisecond in MySql

",1
1282232,08/15/2009 16:17:04,138251,07/14/2009 18:19:13,38,4,mysql high cpu usage,"recently my server cpu has been going very high 

CPU load averages 13.91 (1 min) 11.72 (5 mins) 8.01 (15 mins)

and my website has only had a slight increase in traffic.

after running a top command i saw my mysql was using 160% cpu!

recently i've been optimizing table and i switch to persistant connections, could this be causing mysql to use high amounts of cpu?",mysql,cpu-usage,,,,07/17/2012 11:51:58,off topic,1,64,4,"mysql high cpu usage recently my server cpu has been going very high 

CPU load averages 13.91 (1 min) 11.72 (5 mins) 8.01 (15 mins)

and my website has only had a slight increase in traffic.

after running a top command i saw my mysql was using 160% cpu!

recently i've been optimizing table and i switch to persistant connections, could this be causing mysql to use high amounts of cpu?",2
6843182,07/27/2011 10:56:13,865204,07/27/2011 10:56:14,1,0,cakephp containable condition problem,"    /*assume the following tables: businesses_locations (location_state_id), users_locations(location_state_id), and businesses_reviews(user_id, business_id). How should a 'find' call on BusinessesReview look like in order to select only those entries where the user state DIFFERS from the business state?
     
    */
    $this->BusinessesReview->contain(array('BusinessesProfile'=>array('BusinessesLocation'),'User'=>array('UsersLocation')));
            $results = $this->BusinessesReview->find('all', array('conditions'=>array('BusinessesLocation.location_state_id <> UsersLocation.location_state_id')));
     
    //gives error:
    MySQL Error: 1054: Unknown column 'BusinessesLocation.location_state_id' ",mysql,cakephp,,,,,open,0,89,4,"cakephp containable condition problem     /*assume the following tables: businesses_locations (location_state_id), users_locations(location_state_id), and businesses_reviews(user_id, business_id). How should a 'find' call on BusinessesReview look like in order to select only those entries where the user state DIFFERS from the business state?
     
    */
    $this->BusinessesReview->contain(array('BusinessesProfile'=>array('BusinessesLocation'),'User'=>array('UsersLocation')));
            $results = $this->BusinessesReview->find('all', array('conditions'=>array('BusinessesLocation.location_state_id <> UsersLocation.location_state_id')));
     
    //gives error:
    MySQL Error: 1054: Unknown column 'BusinessesLocation.location_state_id' ",2
5296210,03/14/2011 08:19:59,657251,03/13/2011 05:34:27,10,0,Is the display width actually working in MySQL?,"> This optional display width may be
> used by applications to display
> integer values having a width less
> than the width specified for the
> column by left-padding them with
> spaces.

Does the display width actually work in MySQL?

    `type` tinyint(2) NOT NULL,

    mysql> select length(type) from wp_orders;
    +--------------+
    | length(type) |
    +--------------+
    |            1 |
    +--------------+
    1 row in set (0.00 sec)


It seems to me that `length(type)` should be at least `2` if it's working correctly?",mysql,,,,,,open,0,110,8,"Is the display width actually working in MySQL? > This optional display width may be
> used by applications to display
> integer values having a width less
> than the width specified for the
> column by left-padding them with
> spaces.

Does the display width actually work in MySQL?

    `type` tinyint(2) NOT NULL,

    mysql> select length(type) from wp_orders;
    +--------------+
    | length(type) |
    +--------------+
    |            1 |
    +--------------+
    1 row in set (0.00 sec)


It seems to me that `length(type)` should be at least `2` if it's working correctly?",1
280508,11/11/2008 10:18:44,30748,10/23/2008 11:07:52,228,13,MySQL collations not working as advertised in documentation,"I'm trying to get my MySQL table to behave as the utf8 table in Example 2 from this [MySQL Reference][1] page:

    CREATE TABLE germanutf8 (c CHAR(10)) CHARACTER SET utf8 COLLATE utf8_unicode_ci;
    INSERT INTO germanutf8 VALUES ('Bar'), ('Bär');
    SELECT * FROM germanutf8 WHERE c = 'Bär';

According to the example, this should yield:

    +------+
    | c    |
    +------+
    | Bar  |
    | Bär  |
    +------+

But all I'm getting is simple `""Bär""`. Am I doing something wrong? Should I adjust my settings? 

I've tried this on MySQL 5.0.45 on Mac OS X and on 5.0.51a on Red Hat. 



  [1]: http://dev.mysql.com/doc/refman/5.0/en/charset-collation-effect.html
",mysql,character-encoding,collation,unicode,,11/27/2008 11:44:19,off topic,1,131,8,"MySQL collations not working as advertised in documentation I'm trying to get my MySQL table to behave as the utf8 table in Example 2 from this [MySQL Reference][1] page:

    CREATE TABLE germanutf8 (c CHAR(10)) CHARACTER SET utf8 COLLATE utf8_unicode_ci;
    INSERT INTO germanutf8 VALUES ('Bar'), ('Bär');
    SELECT * FROM germanutf8 WHERE c = 'Bär';

According to the example, this should yield:

    +------+
    | c    |
    +------+
    | Bar  |
    | Bär  |
    +------+

But all I'm getting is simple `""Bär""`. Am I doing something wrong? Should I adjust my settings? 

I've tried this on MySQL 5.0.45 on Mac OS X and on 5.0.51a on Red Hat. 



  [1]: http://dev.mysql.com/doc/refman/5.0/en/charset-collation-effect.html
",4
7664688,10/05/2011 16:38:03,965363,09/26/2011 15:45:23,8,0,What kind of database should I use because MySQL is not meeting my need?,"Currently, I am using MySQL but I feel it is not keeping up with the stream data that is coming. I have memcached in front of MySQL for caching, but most the data is accessed for single time so the cache is not helping much. The other problem is the ibdata file keeps getting bigger and even deleting data won't claim disk space. 

The data is short, average 200 charers. I just want store the data and retrieve it using a key. There is no complex data relationship. There are about 100,000 insert and get in hour but getting much bigger. I even tried Amazon RDS service, but the latency between EC2 and RDS within the same region is slow I started getting MySQL too many connection error.

I know that I have to use Nosql type of database, but not sure which one. Disk space is important that I need to claim it when I delete data.",mysql,database,design,nosql,,10/05/2011 16:52:30,not constructive,1,157,14,"What kind of database should I use because MySQL is not meeting my need? Currently, I am using MySQL but I feel it is not keeping up with the stream data that is coming. I have memcached in front of MySQL for caching, but most the data is accessed for single time so the cache is not helping much. The other problem is the ibdata file keeps getting bigger and even deleting data won't claim disk space. 

The data is short, average 200 charers. I just want store the data and retrieve it using a key. There is no complex data relationship. There are about 100,000 insert and get in hour but getting much bigger. I even tried Amazon RDS service, but the latency between EC2 and RDS within the same region is slow I started getting MySQL too many connection error.

I know that I have to use Nosql type of database, but not sure which one. Disk space is important that I need to claim it when I delete data.",4
8754931,01/06/2012 07:57:01,1004443,10/20/2011 04:15:50,77,0,How do I delete either the first or last set of rows in a dynamic fashion,"I would like to delete the first 100 rows or the last 100 rows in a certain table (ordered by the primary key).

Note: Lots of data is being spooled into this table.",mysql,sql,,,,,open,0,32,16,"How do I delete either the first or last set of rows in a dynamic fashion I would like to delete the first 100 rows or the last 100 rows in a certain table (ordered by the primary key).

Note: Lots of data is being spooled into this table.",2
10186744,04/17/2012 07:11:17,1338050,04/17/2012 07:02:58,1,0,i want to write this query in mysql will you please help me,"my query is: (Find the names of all classes that either meet in room 115 or have five or more students enrolled.)
CREATE TABLE STUDENT (
    sid NUMERIC(6) NOT NULL,
    sname VARCHAR(15),
    major VARCHAR(20),
    level VARCHAR(2),
    sage NUMERIC(2) NOT NULL,
    PRIMARY KEY (sid)
    );
CREATE TABLE CLASS(
    cnum VARCHAR(6),
    meets_at TIME,
    room VARCHAR(6),
    fid NUMERIC(6) ,
    PRIMARY KEY (cnum),
    FOREIGN KEY (fid)
    references FACULTY (fid)     
   );
CREATE TABLE ENROLLED (   
    cnum VARCHAR(6),
    sid NUMERIC(6) NOT NULL,
    PRIMARY KEY (cnum,sid),
  FOREIGN KEY (sid)
       REFERENCES STUDENT (sid),
        FOREIGN KEY (sid)
       REFERENCES FACULTY (fid),
       FOREIGN KEY (cnum)
       REFERENCES CLASS (cnum)        
    );
  alter table ENROLLED 
   add foreign key (sid)
   references STUDENT (sid); 
",mysql,,,,,04/17/2012 07:55:45,not a real question,1,216,13,"i want to write this query in mysql will you please help me my query is: (Find the names of all classes that either meet in room 115 or have five or more students enrolled.)
CREATE TABLE STUDENT (
    sid NUMERIC(6) NOT NULL,
    sname VARCHAR(15),
    major VARCHAR(20),
    level VARCHAR(2),
    sage NUMERIC(2) NOT NULL,
    PRIMARY KEY (sid)
    );
CREATE TABLE CLASS(
    cnum VARCHAR(6),
    meets_at TIME,
    room VARCHAR(6),
    fid NUMERIC(6) ,
    PRIMARY KEY (cnum),
    FOREIGN KEY (fid)
    references FACULTY (fid)     
   );
CREATE TABLE ENROLLED (   
    cnum VARCHAR(6),
    sid NUMERIC(6) NOT NULL,
    PRIMARY KEY (cnum,sid),
  FOREIGN KEY (sid)
       REFERENCES STUDENT (sid),
        FOREIGN KEY (sid)
       REFERENCES FACULTY (fid),
       FOREIGN KEY (cnum)
       REFERENCES CLASS (cnum)        
    );
  alter table ENROLLED 
   add foreign key (sid)
   references STUDENT (sid); 
",1
6923648,08/03/2011 08:30:06,871440,07/31/2011 10:00:43,6,0,group similar queries in mysql,"I have page with lot of users (cca 80k) so I need to save execution time of every query. I was wondering if there is a way to group same queries and give just one result. For example: ""SELECT COUNT(*) FROM `user`"" [obviously query that counts number of users on page :)] is executed every time the page is reloaded. My idea is that e.g. 10 users execute this query in same time, the first user queries DB and the others get only ""outdated"" cached result of first user. Is it possible to make this somehow in DB with some settings? 
Thanks for help.

M.
",mysql,performance,,,,,open,0,104,5,"group similar queries in mysql I have page with lot of users (cca 80k) so I need to save execution time of every query. I was wondering if there is a way to group same queries and give just one result. For example: ""SELECT COUNT(*) FROM `user`"" [obviously query that counts number of users on page :)] is executed every time the page is reloaded. My idea is that e.g. 10 users execute this query in same time, the first user queries DB and the others get only ""outdated"" cached result of first user. Is it possible to make this somehow in DB with some settings? 
Thanks for help.

M.
",2
2318367,02/23/2010 13:19:23,198729,10/29/2009 08:13:14,1219,0,Is the index on `parent` necessary here?,"    Create Table: CREATE TABLE `category` (
      `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(255) NOT NULL,
      `parent` bigint(20) unsigned DEFAULT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `name` (`name`),
      KEY `parent_idx` (`parent`),
      CONSTRAINT `category_parent_category_id` FOREIGN KEY (`parent`) REFERENCES `category` (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8

I'm not sure whether a foreign key will imply an index?",mysql,foreign-keys,index,,,,open,0,96,7,"Is the index on `parent` necessary here?     Create Table: CREATE TABLE `category` (
      `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(255) NOT NULL,
      `parent` bigint(20) unsigned DEFAULT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `name` (`name`),
      KEY `parent_idx` (`parent`),
      CONSTRAINT `category_parent_category_id` FOREIGN KEY (`parent`) REFERENCES `category` (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8

I'm not sure whether a foreign key will imply an index?",3
8631737,12/25/2011 21:44:07,854762,07/20/2011 20:48:26,1,0,MySQL SELECT COUNT() and then ORDER BY date,"I've searched all over the place, but just can't seem to get the right way of phrasing my question to get the result I want (I'm sure it's really easy, but I've been smacking my head against it for ages!)

I have the following query:

    SELECT co.title, co.content, co.id, bu.backupDate, bu.backupBy, COUNT(bu.id) AS totalBackups
    FROM content co, wol_content_backup bu
    WHERE co.car_model = '6-110'
    AND co.subcategory = 'introduction'
    ORDER BY bu.backupDate DESC

content contains an article's content, and wol_content_backup contains backups of the articles. bu.backupDate is a DATETIME field containing the date of the backup.

What I want is to return the date of the last backup(bu.backupDate) (there are usually several, since most of my admins are well trained and press the ""backup"" button before they modify the article!) and also the number of backups in the database (COUNT(bu.id) AS totalBackups)

However, my query is currently just returning one result, which is the first backup (not the most recent) All I want is for it to select the row from content which has the most recent corresponding backup date. Query works fine without the COUNT(bu.id) so Im guessing this is the problem, but not sure how to fix it...

Any help would be really appreciated!

Happy Christmas!

Seb

",mysql,select,count,order,,,open,0,215,8,"MySQL SELECT COUNT() and then ORDER BY date I've searched all over the place, but just can't seem to get the right way of phrasing my question to get the result I want (I'm sure it's really easy, but I've been smacking my head against it for ages!)

I have the following query:

    SELECT co.title, co.content, co.id, bu.backupDate, bu.backupBy, COUNT(bu.id) AS totalBackups
    FROM content co, wol_content_backup bu
    WHERE co.car_model = '6-110'
    AND co.subcategory = 'introduction'
    ORDER BY bu.backupDate DESC

content contains an article's content, and wol_content_backup contains backups of the articles. bu.backupDate is a DATETIME field containing the date of the backup.

What I want is to return the date of the last backup(bu.backupDate) (there are usually several, since most of my admins are well trained and press the ""backup"" button before they modify the article!) and also the number of backups in the database (COUNT(bu.id) AS totalBackups)

However, my query is currently just returning one result, which is the first backup (not the most recent) All I want is for it to select the row from content which has the most recent corresponding backup date. Query works fine without the COUNT(bu.id) so Im guessing this is the problem, but not sure how to fix it...

Any help would be really appreciated!

Happy Christmas!

Seb

",4
2441138,03/14/2010 04:04:38,164237,08/27/2009 14:05:22,51,2,MySQL returns fewer rows with GROUP BY statement,"I've got a MySQL database that stores image information. Right now it only has three rows stored in the database, and each row is associated with something like, for instance, a unique blog post via a key column.

As of right now, one ""blog post key"" has one image, and one has two images in the database.

When I run this query, MySQL returns all three rows.

    SELECT `id`, `key`, `url`
    FROM (`images`)
    WHERE `key` = 'TpaS4G5h'
    OR `key` = '78855e44'

However, when i add the `GROUP BY` statement I only get two rows... one for each key.

    SELECT `id`, `key`, `url`
    FROM (`images`)
    WHERE `key` = 'TpaS4G5h'
    OR `key` = '78855e44'
    GROUP BY `key`

I'm sure there is a simple solution, but I don't know what it is... so any help would be really appreciated.

Thanks in advance!",mysql,,,,,,open,0,161,8,"MySQL returns fewer rows with GROUP BY statement I've got a MySQL database that stores image information. Right now it only has three rows stored in the database, and each row is associated with something like, for instance, a unique blog post via a key column.

As of right now, one ""blog post key"" has one image, and one has two images in the database.

When I run this query, MySQL returns all three rows.

    SELECT `id`, `key`, `url`
    FROM (`images`)
    WHERE `key` = 'TpaS4G5h'
    OR `key` = '78855e44'

However, when i add the `GROUP BY` statement I only get two rows... one for each key.

    SELECT `id`, `key`, `url`
    FROM (`images`)
    WHERE `key` = 'TpaS4G5h'
    OR `key` = '78855e44'
    GROUP BY `key`

I'm sure there is a simple solution, but I don't know what it is... so any help would be really appreciated.

Thanks in advance!",1
5571960,04/06/2011 19:33:40,669536,03/21/2011 13:46:24,3,0,Ubuntu MySQL How To?,How i can install MySQL-5.5.11 from source?,mysql,,,,,04/06/2011 19:40:16,off topic,1,7,4,Ubuntu MySQL How To? How i can install MySQL-5.5.11 from source?,1
2649596,04/15/2010 23:07:21,307536,04/02/2010 08:06:16,13,1,MySQL: Limit rows linked to each joined row,"**Specifications: MySQL 4.1+**

I've certain situation that requires certain result set from MySQL query, let's see the current query first & then ask my question:

    			SELECT thread.dateline AS tdateline, post.dateline AS pdateline, MIN(post.dateline)
			FROM thread AS thread
			LEFT JOIN post AS post ON(thread.threadid = post.threadid)
			LEFT JOIN forum AS forum ON(thread.forumid = forum.forumid)
			WHERE post.postid != thread.firstpostid
				AND thread.open = 1
				AND thread.visible = 1
				AND thread.replycount >= 1
				AND post.visible = 1
				AND (forum.options & 1)
				AND (forum.options & 2)
				AND (forum.options & 4)
				AND forum.forumid IN(1,2,3)
			GROUP BY post.threadid
			ORDER BY tdateline DESC, pdateline ASC

As you can see, mainly I need to select dateline of threads from 'thread' table, in addition to dateline of the second post of each thread, that's all under the conditions you see in the WHERE CLAUSE. Since each thread has many posts, and I need only one result per thread, I've used GROUP BY CLAUSE for that purpose.

This query will return only one post's dateline with it's related unique thread.


**My questions are:**

 1. How to limit returned threads per
    each forum!? Suppose I need only 5
    threads -as a maximum- to be
    returned for each forum declared in
    the WHERE CLAUSE 'forum.forumid
    IN(1,2,3)', how can this be
    achieved.
 2. Is there any recommendations for
    optimizing this query (of course
    after solving the first point)?


**Notes:**
I prefer not to use sub-queries, but if it's the only solution available I'll accept it. Double queries not recommended. I'm sure there's a smart solution for this situation.


**Appreciated advice in advance :)**",mysql,sql,limit,query,join,,open,0,265,8,"MySQL: Limit rows linked to each joined row **Specifications: MySQL 4.1+**

I've certain situation that requires certain result set from MySQL query, let's see the current query first & then ask my question:

    			SELECT thread.dateline AS tdateline, post.dateline AS pdateline, MIN(post.dateline)
			FROM thread AS thread
			LEFT JOIN post AS post ON(thread.threadid = post.threadid)
			LEFT JOIN forum AS forum ON(thread.forumid = forum.forumid)
			WHERE post.postid != thread.firstpostid
				AND thread.open = 1
				AND thread.visible = 1
				AND thread.replycount >= 1
				AND post.visible = 1
				AND (forum.options & 1)
				AND (forum.options & 2)
				AND (forum.options & 4)
				AND forum.forumid IN(1,2,3)
			GROUP BY post.threadid
			ORDER BY tdateline DESC, pdateline ASC

As you can see, mainly I need to select dateline of threads from 'thread' table, in addition to dateline of the second post of each thread, that's all under the conditions you see in the WHERE CLAUSE. Since each thread has many posts, and I need only one result per thread, I've used GROUP BY CLAUSE for that purpose.

This query will return only one post's dateline with it's related unique thread.


**My questions are:**

 1. How to limit returned threads per
    each forum!? Suppose I need only 5
    threads -as a maximum- to be
    returned for each forum declared in
    the WHERE CLAUSE 'forum.forumid
    IN(1,2,3)', how can this be
    achieved.
 2. Is there any recommendations for
    optimizing this query (of course
    after solving the first point)?


**Notes:**
I prefer not to use sub-queries, but if it's the only solution available I'll accept it. Double queries not recommended. I'm sure there's a smart solution for this situation.


**Appreciated advice in advance :)**",5
8005826,11/04/2011 06:57:58,504383,11/11/2010 10:47:57,22,0,is it good to use mysql stored procedures?,Am going to start a php mysql web project.  I know there is a lot of pros and cons of stored procedures in mysql. So I just need some information of where to use SPs and wheren't use it.,mysql,database,database-design,stored-procedures,,11/04/2011 08:16:34,not a real question,1,40,8,is it good to use mysql stored procedures? Am going to start a php mysql web project.  I know there is a lot of pros and cons of stored procedures in mysql. So I just need some information of where to use SPs and wheren't use it.,4
6652136,07/11/2011 14:59:09,498457,11/05/2010 15:04:40,1,3,How to duplicate a MySQL database on the same server,"I have a large mysql db (lets call it live_db) which I want to replicate on the same machine to provide a test system to play around with (test_db), including table structure and data.
In regular intervals I want to update the test_db with the content of the live_db; if possible incremental.
Is there some inbuild mechanism in MySQL to do that? I think that master-slave replication is not the thing I want since it should be possible to alter data in the test_db. These changes do not have to be preserved, though.

Regards,

CGD",mysql,database,sync,replicate,,,open,0,91,10,"How to duplicate a MySQL database on the same server I have a large mysql db (lets call it live_db) which I want to replicate on the same machine to provide a test system to play around with (test_db), including table structure and data.
In regular intervals I want to update the test_db with the content of the live_db; if possible incremental.
Is there some inbuild mechanism in MySQL to do that? I think that master-slave replication is not the thing I want since it should be possible to alter data in the test_db. These changes do not have to be preserved, though.

Regards,

CGD",4
5041439,02/18/2011 12:46:10,384201,07/06/2010 05:51:35,2,2,selecting current match from the cricket schedule using mysql query,"I have a cricket schedule and i need to select the matches of the current day just half an hour before the match starts and the selection should last until the 2 hours past the end of the match , this should be done in a single query i have used the following query but it is not working accurately...


SELECT * FROM `schedule` WHERE  date1  BETWEEN DATE_SUB(NOW(), INTERVAL 30 MInute) AND DATE_ADD(NOW(), INTERVAL 10 HOUR)

",mysql,,,,,,open,0,77,10,"selecting current match from the cricket schedule using mysql query I have a cricket schedule and i need to select the matches of the current day just half an hour before the match starts and the selection should last until the 2 hours past the end of the match , this should be done in a single query i have used the following query but it is not working accurately...


SELECT * FROM `schedule` WHERE  date1  BETWEEN DATE_SUB(NOW(), INTERVAL 30 MInute) AND DATE_ADD(NOW(), INTERVAL 10 HOUR)

",1
7465204,09/18/2011 23:39:41,385132,07/07/2010 03:52:18,197,10,maximum mysql password length,"What is the maximum length for a mysql user password?

I'm interested in having the most secure password possible, I know that longer is better. I wasn't able to find good documentation on this. Can anyone help?",mysql,,,,,09/19/2011 03:59:37,off topic,1,36,4,"maximum mysql password length What is the maximum length for a mysql user password?

I'm interested in having the most secure password possible, I know that longer is better. I wasn't able to find good documentation on this. Can anyone help?",1
2665128,04/19/2010 04:01:33,208530,11/11/2009 09:23:49,16,1,Mysql selecting and sorting by the bigger field,"I have two fields on my table, lets say date_created and date_updated

I  want to select 20 recently updated/created records

so it means i have to choose the top dates from both fields, how do i do that?
",mysql,,,,,,open,0,37,8,"Mysql selecting and sorting by the bigger field I have two fields on my table, lets say date_created and date_updated

I  want to select 20 recently updated/created records

so it means i have to choose the top dates from both fields, how do i do that?
",1
10227078,04/19/2012 11:30:46,470085,10/08/2010 09:31:59,46,0,Why is import of sql so slow?,"I got a sql-file containing two tables with around 600.000 rows together. Yesterday I tried to import the file in my myql database on Fedora 16, and it took over 2 hours to import the file. On my Windows pc it took 7 minutes... It's exactly the same hardware on both my Linux and Windows machine. A couple of my friends tried it too, and they had a similar experience.

The command we were using was: mysql -u root database_name < sql_file.sql

Do you know why there is such a difference in speed?

Thanks in advance.",mysql,windows,linux,,,,open,0,93,7,"Why is import of sql so slow? I got a sql-file containing two tables with around 600.000 rows together. Yesterday I tried to import the file in my myql database on Fedora 16, and it took over 2 hours to import the file. On my Windows pc it took 7 minutes... It's exactly the same hardware on both my Linux and Windows machine. A couple of my friends tried it too, and they had a similar experience.

The command we were using was: mysql -u root database_name < sql_file.sql

Do you know why there is such a difference in speed?

Thanks in advance.",3
10917736,06/06/2012 15:53:10,900898,08/18/2011 15:24:09,340,37,"Mysql ""source"" command don't work through phpmyadmin and startup file","I have startup file with next code : 

use mydb;
source /path/to/source/source.sql;

This file I put to init-file option. That means that code from this file must be execute when mysql server start.

But I have an error in ""source"" command. Try it from console client - all works fine. Try it from phpmyadmin and get same error on ""source"" command. i found next : 
[source command through mysql query browser][1]


  [1]: http://forums.mysql.com/read.php?108,270752,270752

but this not help me.",mysql,phpmyadmin,source,,,,open,0,75,10,"Mysql ""source"" command don't work through phpmyadmin and startup file I have startup file with next code : 

use mydb;
source /path/to/source/source.sql;

This file I put to init-file option. That means that code from this file must be execute when mysql server start.

But I have an error in ""source"" command. Try it from console client - all works fine. Try it from phpmyadmin and get same error on ""source"" command. i found next : 
[source command through mysql query browser][1]


  [1]: http://forums.mysql.com/read.php?108,270752,270752

but this not help me.",3
9685882,03/13/2012 14:20:23,952069,09/19/2011 06:21:25,26,2,apt-get install mysql in debian6.0 error,"print like this:

Stopping MySQL database server: mysqld.

120313 21:08:06 [Note] Plugin 'FEDERATED' is disabled.

120313 21:08:06  InnoDB: Initializing buffer pool, size = 8.0M

120313 21:08:06  InnoDB: Completed initialization of buffer pool

120313 21:08:06  InnoDB: Started; log sequence number 0 44233

120313 21:08:06  InnoDB: Starting shutdown...

120313 21:08:11  InnoDB: Shutdown completed; log sequence number 0 44233

insserv: warning: script 'K01vmware' missing LSB tags and overrides

insserv: warning: script 'S50vmware-USBArbitrator' missing LSB tags and overrides

insserv: warning: script 'vmware' missing LSB tags and overrides

insserv: warning: script 'vmware-workstation-server' missing LSB tags and overrides

insserv: warning: script 'vmware-USBArbitrator' missing LSB tags and overrides

insserv: There is a loop between service rmnologin and mountnfs if started

insserv:  loop involving service mountnfs at depth 7

insserv:  loop involving service nfs-common at depth 6

insserv: There is a loop between service rmnologin and checkroot if started

insserv:  loop involving service checkroot at depth 4



update-rc.d: error: insserv rejected the script header

dpkg：处理 mysql-server-5.1 (--configure)时出错：

 子进程 已安装 post-installation 脚本 返回了错误号 1

configured to not write apport reports

                                      正在设置 libhtml-template-perl (2.9-2) ...

dpkg：依赖关系问题使得 mysql-server 的配置工作不能继续：

 mysql-server 依赖于 mysql-server-5.1；然而：

  软件包 mysql-server-5.1 尚未配置。

dpkg：处理 mysql-server (--configure)时出错：

 依赖关系问题 - 仍未被配置

configured to not write apport reports

                                      在处理时有错误发生：
I guess need some packages,but can not get in the www.debian.org.
Anybody have ideal?thanks!
",mysql,debian,,,,03/14/2012 14:50:01,off topic,1,269,6,"apt-get install mysql in debian6.0 error print like this:

Stopping MySQL database server: mysqld.

120313 21:08:06 [Note] Plugin 'FEDERATED' is disabled.

120313 21:08:06  InnoDB: Initializing buffer pool, size = 8.0M

120313 21:08:06  InnoDB: Completed initialization of buffer pool

120313 21:08:06  InnoDB: Started; log sequence number 0 44233

120313 21:08:06  InnoDB: Starting shutdown...

120313 21:08:11  InnoDB: Shutdown completed; log sequence number 0 44233

insserv: warning: script 'K01vmware' missing LSB tags and overrides

insserv: warning: script 'S50vmware-USBArbitrator' missing LSB tags and overrides

insserv: warning: script 'vmware' missing LSB tags and overrides

insserv: warning: script 'vmware-workstation-server' missing LSB tags and overrides

insserv: warning: script 'vmware-USBArbitrator' missing LSB tags and overrides

insserv: There is a loop between service rmnologin and mountnfs if started

insserv:  loop involving service mountnfs at depth 7

insserv:  loop involving service nfs-common at depth 6

insserv: There is a loop between service rmnologin and checkroot if started

insserv:  loop involving service checkroot at depth 4



update-rc.d: error: insserv rejected the script header

dpkg：处理 mysql-server-5.1 (--configure)时出错：

 子进程 已安装 post-installation 脚本 返回了错误号 1

configured to not write apport reports

                                      正在设置 libhtml-template-perl (2.9-2) ...

dpkg：依赖关系问题使得 mysql-server 的配置工作不能继续：

 mysql-server 依赖于 mysql-server-5.1；然而：

  软件包 mysql-server-5.1 尚未配置。

dpkg：处理 mysql-server (--configure)时出错：

 依赖关系问题 - 仍未被配置

configured to not write apport reports

                                      在处理时有错误发生：
I guess need some packages,but can not get in the www.debian.org.
Anybody have ideal?thanks!
",2
4634620,01/08/2011 15:37:59,563653,01/05/2011 08:46:32,1,0,php / mysql optimization issue,"I'm using an existing script so far ok since number of mysql records increased it is causing slow queries taking time thus site becomes slow.

I'll appreciate if any professional can get in touch with me to help me, of course I'll pay for their service but I need trusted programmer whom I can trust and set a long term business relationship. Requirement? Not really much as long as I have honest professional to understand my requirement and upgrade my php script and mysql database.",mysql,optimization,,,,01/08/2011 15:42:37,not a real question,1,84,5,"php / mysql optimization issue I'm using an existing script so far ok since number of mysql records increased it is causing slow queries taking time thus site becomes slow.

I'll appreciate if any professional can get in touch with me to help me, of course I'll pay for their service but I need trusted programmer whom I can trust and set a long term business relationship. Requirement? Not really much as long as I have honest professional to understand my requirement and upgrade my php script and mysql database.",2
8413137,12/07/2011 09:37:59,1009894,10/23/2011 19:57:35,20,1,"mysql takes 50+ times longer to return 20% more records, why?","I am using a program that I downloaded and don't have all the details.  This is a web app (Python CGI) that takes user input and queries the mysql database.  What I do know is that when I limit the recordset to 100 results (in the app setting), the results are returned within 2 seconds.  But if I increase the limit just slightly to 120, then it will take over 1.5 minutes to process!  I've tried with several different queries and they all succumb to this problem. This is mind boggling.  Without knowing exactly how the querying is implemented, are there some general mysql settings that I should look into that might mitigate this problem?",mysql,,,,,,open,0,120,11,"mysql takes 50+ times longer to return 20% more records, why? I am using a program that I downloaded and don't have all the details.  This is a web app (Python CGI) that takes user input and queries the mysql database.  What I do know is that when I limit the recordset to 100 results (in the app setting), the results are returned within 2 seconds.  But if I increase the limit just slightly to 120, then it will take over 1.5 minutes to process!  I've tried with several different queries and they all succumb to this problem. This is mind boggling.  Without knowing exactly how the querying is implemented, are there some general mysql settings that I should look into that might mitigate this problem?",1
11404843,07/09/2012 23:49:54,1060679,11/22/2011 21:24:32,358,7,Joining multiple tables with independent WHERE clauses in MySQL,"I'm building a complex search application with a large number of potential inputs. Each input is optional. I'm trying to build a query in a modular fashion.

Let's say I have two distinct queries, each with independent `WHERE` conditions:

    SELECT * FROM t1 WHERE t1.c1 = x

    SELECT * FROM t2 WHERE t2.c1 = y

I've found the following code to be valid:

    SELECT * FROM t1 INNER JOIN t2 ON t1.c2 = t2.c2 WHERE t1.c1= x AND t2.c1= y

However, since the `WHERE` conditions are grouped together at the end, it would be very difficult to implement this in a modular fashion. So, I tried this:

    SELECT * FROM t1 WHERE t1.c1 = x INNER JOIN ON t1.c2 = t2.c2 WHERE t2.c1 = y

However, this code is invalid. What's the best way to achieve what I'm trying to accomplish?",mysql,join,where,,,,open,0,149,9,"Joining multiple tables with independent WHERE clauses in MySQL I'm building a complex search application with a large number of potential inputs. Each input is optional. I'm trying to build a query in a modular fashion.

Let's say I have two distinct queries, each with independent `WHERE` conditions:

    SELECT * FROM t1 WHERE t1.c1 = x

    SELECT * FROM t2 WHERE t2.c1 = y

I've found the following code to be valid:

    SELECT * FROM t1 INNER JOIN t2 ON t1.c2 = t2.c2 WHERE t1.c1= x AND t2.c1= y

However, since the `WHERE` conditions are grouped together at the end, it would be very difficult to implement this in a modular fashion. So, I tried this:

    SELECT * FROM t1 WHERE t1.c1 = x INNER JOIN ON t1.c2 = t2.c2 WHERE t2.c1 = y

However, this code is invalid. What's the best way to achieve what I'm trying to accomplish?",3
1324619,08/24/2009 20:38:40,162286,08/24/2009 20:25:47,1,0,MySQL Table primary keys,"Greetings,

I have some mysql tables that are currently using an md5 hash as a primary key. I normally generate the hash with the value of a column. For instante, let's imagine I have a table called ""Artists"" with the fields id, name, num_members, year. I tend to make a md5($name) and use it has an ID.

I would like to know what are the downsides of doing this. Is it just better to use integers with AUTO_INCREMENT ? I tend to run away from this because it's just not worth the trouble of finding out what the last id inserted was, and what will be the next etc.

Can you give me some lights on this?

Thank you.",mysql,primary-key,,,,,open,0,115,4,"MySQL Table primary keys Greetings,

I have some mysql tables that are currently using an md5 hash as a primary key. I normally generate the hash with the value of a column. For instante, let's imagine I have a table called ""Artists"" with the fields id, name, num_members, year. I tend to make a md5($name) and use it has an ID.

I would like to know what are the downsides of doing this. Is it just better to use integers with AUTO_INCREMENT ? I tend to run away from this because it's just not worth the trouble of finding out what the last id inserted was, and what will be the next etc.

Can you give me some lights on this?

Thank you.",2
10257688,04/21/2012 09:18:34,77153,03/12/2009 11:07:32,83,7,SQL Server vs MySQL -Query execution time difference,I have migrated a large MS SQL Server database to MySQL. I have noticed that query execution for complicated queries with multiple joins on MySQL takes considerably longer compared to SQL Server for the same query(125.063 sec vs 0.01 sec respectively). What could be causing this?,mysql,,,,,04/21/2012 10:00:36,not a real question,1,46,8,SQL Server vs MySQL -Query execution time difference I have migrated a large MS SQL Server database to MySQL. I have noticed that query execution for complicated queries with multiple joins on MySQL takes considerably longer compared to SQL Server for the same query(125.063 sec vs 0.01 sec respectively). What could be causing this?,1
8340791,12/01/2011 11:42:00,790993,06/09/2011 13:26:52,37,1,DB encryption for Django web app without storing key on server,"We are setting up a virtual private server (not hosted by us), on which we will be user testing our Django-based web application. The user-generated content produced in these tests will be very sensitive. We would like to keep this content encrypted, for example in case back-up media goes missing. The content will be stored in a MySQL or SQLite database.

As I understand it, we cannot encrypt the file system of the VPS. If we encrypt the database, using something like SQLcipher (http://sqlcipher.net/), is there a way of passing the key to Django without storing it on the server? We will be booting up the server for each test, so that part is not a concern.

Thank you!",mysql,django,sqlite,encryption,vps,,open,0,117,11,"DB encryption for Django web app without storing key on server We are setting up a virtual private server (not hosted by us), on which we will be user testing our Django-based web application. The user-generated content produced in these tests will be very sensitive. We would like to keep this content encrypted, for example in case back-up media goes missing. The content will be stored in a MySQL or SQLite database.

As I understand it, we cannot encrypt the file system of the VPS. If we encrypt the database, using something like SQLcipher (http://sqlcipher.net/), is there a way of passing the key to Django without storing it on the server? We will be booting up the server for each test, so that part is not a concern.

Thank you!",5
11657305,07/25/2012 19:38:25,1552695,07/25/2012 19:34:05,1,0,MySQL - update a value in a column,"I want to update a value in a column to 3 if it is currently 0.

table name is ""content""
column name is ""catid""",mysql,,,,,07/26/2012 01:15:44,not a real question,1,22,8,"MySQL - update a value in a column I want to update a value in a column to 3 if it is currently 0.

table name is ""content""
column name is ""catid""",1
9429524,02/24/2012 10:55:45,342999,05/17/2010 11:51:25,329,18,Mysql one to many relation data retrival,"I have tables like

**tbl_biodata:**

    id     : int           value=>1
    name   : varchar(50)		value => mike
    ...

**tbl_biodata_education**

first row---

    id         : int	value=>1
    biodata_id : foreignkey to tbl_biodata.id	value => 1
    level      : varchar(50)	value => bachelor
    year       : int(4)		value => 2006

second row---

    id         : int	value=>2
    biodata_id : foreignkey to tbl_biodata.id	value => 1
    level      : varchar(50)	value => masters
    year       : int(4)		value => 2010

I have to export data such that the biodata won't repeat more than one time and all the 
repeated education from tbl_biodata_education lists as bachelor 2006, masters 2010

The final table would be:

    id
    name	=> mike
    education   =>  bachelor 2006, masters 2010

",mysql,,,,,,open,0,195,7,"Mysql one to many relation data retrival I have tables like

**tbl_biodata:**

    id     : int           value=>1
    name   : varchar(50)		value => mike
    ...

**tbl_biodata_education**

first row---

    id         : int	value=>1
    biodata_id : foreignkey to tbl_biodata.id	value => 1
    level      : varchar(50)	value => bachelor
    year       : int(4)		value => 2006

second row---

    id         : int	value=>2
    biodata_id : foreignkey to tbl_biodata.id	value => 1
    level      : varchar(50)	value => masters
    year       : int(4)		value => 2010

I have to export data such that the biodata won't repeat more than one time and all the 
repeated education from tbl_biodata_education lists as bachelor 2006, masters 2010

The final table would be:

    id
    name	=> mike
    education   =>  bachelor 2006, masters 2010

",1
11613527,07/23/2012 13:30:35,630046,02/23/2011 11:05:36,78,2,OLAP Solution for MySQL,"I'm developing a project on .NET and I need to include an OLAP-based reporting module.
What is the better OLAP solution for the large MySQL DB(each month there will be about 10 millions new rows), that supports XML for Analysis (XMLA)?

I've already tried icCube, MicroStrategy, Tableau and Mondrian. Are there other alternatives?",mysql,olap,xmla,,,07/25/2012 14:03:37,not constructive,1,51,4,"OLAP Solution for MySQL I'm developing a project on .NET and I need to include an OLAP-based reporting module.
What is the better OLAP solution for the large MySQL DB(each month there will be about 10 millions new rows), that supports XML for Analysis (XMLA)?

I've already tried icCube, MicroStrategy, Tableau and Mondrian. Are there other alternatives?",3
8735134,01/04/2012 22:39:30,69654,02/22/2009 19:42:51,1129,44,Sort by rate from homes with multiple rates,"I am developing a holiday rentals site and each home has multiple rates. So I have a table homes and a table rates . When I fetch the using this sql `SELECT * FROM homes INNER JOIN rates ON rates.home_id = homes.id GROUP BY homes.id ORDER BY rates.price ASC` the results are not correct. I get mixed prices and from minimum to maximum. I think the problem is that there are mupltiple rates for each home. So how can I find the minimum rate and sort by it?

Thanks in advance",mysql,sorting,order-by,,,,open,0,90,8,"Sort by rate from homes with multiple rates I am developing a holiday rentals site and each home has multiple rates. So I have a table homes and a table rates . When I fetch the using this sql `SELECT * FROM homes INNER JOIN rates ON rates.home_id = homes.id GROUP BY homes.id ORDER BY rates.price ASC` the results are not correct. I get mixed prices and from minimum to maximum. I think the problem is that there are mupltiple rates for each home. So how can I find the minimum rate and sort by it?

Thanks in advance",3
10884727,06/04/2012 16:30:14,1296484,03/27/2012 19:55:39,3,0,How to use SUM IF() in MySQL without hard coding values in the query,"I have a query that uses SUM IF() to do a cross-tab result set.  In this query I have the value sin the SUM IF() hard coded.  The problem is that new values are added to the database.  Is there a way to write the query without hard coding the values in the SUM IF()?  Here is the query:

select storeid, sum(if(marketsegmentid = 6, 1, 0)) as `6`, sum(if(marketsegmentid = 7, 1, 0))
    as `7`, sum(if(marketsegmentid = 12, 1, 0)) as `12`, sum(if(marketsegmentid = 17, 1, 0)) as `17`,
    sum(if(marketsegmentid = 22, 1, 0)) as `22`, sum(if(marketsegmentid = 27, 1, 0)) as `27`,
    sum(if(marketsegmentid = 32, 1, 0)) as `32`, sum(if(marketsegmentid = 37, 1, 0)) as `37`,
    sum(if(marketsegmentid = 42, 1, 0)) as `42`, sum(if(marketsegmentid = 47, 1, 0)) as `47`,
    sum(if(marketsegmentid = 52, 1, 0)) as `52`, sum(if(marketsegmentid = 97, 1, 0)) as `97`,
    sum(if(marketsegmentid = 102, 1, 0)) as `102`, sum(if(marketsegmentid = 107, 1, 0)) as `107`,
    sum(if(marketsegmentid = 112, 1, 0)) as `112`, sum(if(marketsegmentid = 117, 1, 0)) as `117`,
    sum(if(marketsegmentid = 122, 1, 0)) as `122`, sum(if(marketsegmentid = 127, 1, 0)) as `127`,
    sum(if(marketsegmentid = 132, 1, 0)) as `132`, sum(if(marketsegmentid = 137, 1, 0)) as `137`,
    sum(if(marketsegmentid = 142, 1, 0)) as `142`
    from storemarketsegments
    group by storeid;

The query is used in a report and the results are exported to CSV.  The 1's are used as flags in the result set.

The table I am querying is set up like this:

CREATE TABLE storemarketsegments(id INT NOT NULL, marketsegmentid INT NOT NULL);

The marketsegments are kept in a separate table:

CREATE TABLE marketsegment(ID INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(id), name VARCHAR(45), description VARCHAR(45));

Any help would be greatly appreciated.  I am not sure if there is a way to write the query without hard coding the values and I don't mind updating the query in the report whenever new marketsegments are added but thought I would check.  Thank you in advance for your assistance.
",mysql,,,,,,open,0,365,14,"How to use SUM IF() in MySQL without hard coding values in the query I have a query that uses SUM IF() to do a cross-tab result set.  In this query I have the value sin the SUM IF() hard coded.  The problem is that new values are added to the database.  Is there a way to write the query without hard coding the values in the SUM IF()?  Here is the query:

select storeid, sum(if(marketsegmentid = 6, 1, 0)) as `6`, sum(if(marketsegmentid = 7, 1, 0))
    as `7`, sum(if(marketsegmentid = 12, 1, 0)) as `12`, sum(if(marketsegmentid = 17, 1, 0)) as `17`,
    sum(if(marketsegmentid = 22, 1, 0)) as `22`, sum(if(marketsegmentid = 27, 1, 0)) as `27`,
    sum(if(marketsegmentid = 32, 1, 0)) as `32`, sum(if(marketsegmentid = 37, 1, 0)) as `37`,
    sum(if(marketsegmentid = 42, 1, 0)) as `42`, sum(if(marketsegmentid = 47, 1, 0)) as `47`,
    sum(if(marketsegmentid = 52, 1, 0)) as `52`, sum(if(marketsegmentid = 97, 1, 0)) as `97`,
    sum(if(marketsegmentid = 102, 1, 0)) as `102`, sum(if(marketsegmentid = 107, 1, 0)) as `107`,
    sum(if(marketsegmentid = 112, 1, 0)) as `112`, sum(if(marketsegmentid = 117, 1, 0)) as `117`,
    sum(if(marketsegmentid = 122, 1, 0)) as `122`, sum(if(marketsegmentid = 127, 1, 0)) as `127`,
    sum(if(marketsegmentid = 132, 1, 0)) as `132`, sum(if(marketsegmentid = 137, 1, 0)) as `137`,
    sum(if(marketsegmentid = 142, 1, 0)) as `142`
    from storemarketsegments
    group by storeid;

The query is used in a report and the results are exported to CSV.  The 1's are used as flags in the result set.

The table I am querying is set up like this:

CREATE TABLE storemarketsegments(id INT NOT NULL, marketsegmentid INT NOT NULL);

The marketsegments are kept in a separate table:

CREATE TABLE marketsegment(ID INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(id), name VARCHAR(45), description VARCHAR(45));

Any help would be greatly appreciated.  I am not sure if there is a way to write the query without hard coding the values and I don't mind updating the query in the report whenever new marketsegments are added but thought I would check.  Thank you in advance for your assistance.
",1
9088024,01/31/2012 22:32:25,984621,10/07/2011 19:37:57,223,4,Twitter has ±500M registered users. How to search in them?,"In an article I read, that Twitter should have in March 2012 500 mio registered users. I tried in the settings of my Twitter account check my username (that what you see in the URL on your profile page).

I played with it and always when anyone wants to change its username, so the app have to check (via AJAX), if already some user exist with this username. And this checking takes only a second... it's so fast.

How they do it? How they'are able to go through whole users so fast???",mysql,database,mongodb,twitter,search-engine,01/31/2012 22:36:09,not a real question,1,90,10,"Twitter has ±500M registered users. How to search in them? In an article I read, that Twitter should have in March 2012 500 mio registered users. I tried in the settings of my Twitter account check my username (that what you see in the URL on your profile page).

I played with it and always when anyone wants to change its username, so the app have to check (via AJAX), if already some user exist with this username. And this checking takes only a second... it's so fast.

How they do it? How they'are able to go through whole users so fast???",5
10753547,05/25/2012 11:24:26,1014714,10/26/2011 14:04:51,43,0,Advantages of changing from MS Access to MySQL,"Hi I am trying to gather some information about why people should change from MS Access to MySQL. 

Here are the some of the advantages I have found

- MySQL can handle large amount of data
- MySQL is free 
- Can be used on different operating systems
- MySQL is a database server 
- MySQL can be accessed by multiple users via the internet

What are the other advantages of changing to MySQL?",mysql,database,ms-access,,,05/25/2012 13:43:17,not constructive,1,70,8,"Advantages of changing from MS Access to MySQL Hi I am trying to gather some information about why people should change from MS Access to MySQL. 

Here are the some of the advantages I have found

- MySQL can handle large amount of data
- MySQL is free 
- Can be used on different operating systems
- MySQL is a database server 
- MySQL can be accessed by multiple users via the internet

What are the other advantages of changing to MySQL?",3
11239012,06/28/2012 06:17:12,1487600,06/28/2012 05:58:27,1,0,Displaying data within a date range from a rails scaffold,"This is in my controller:
@somethings = Something.find(:all)

And my count variable would display a break up of this data based on 'rca' as such:
@something_to_count = Something.count( :conditions => { :rca => ""4X32W""})
@something_to_count2 = Something.count( :conditions => { :rca => ""6X36W""})
..... etc to other count variables...

Simple as this is, I was trying to get it to display these stats/counts for all entries made from the 'Something' table within the last thirty days in one view and within a date range in another view. I have the default timestamps added by the scaffold function (created_at and updated_at) in my model. 

My view would have to be split up into two pages. One page to accept a date range and display the count variables along with the data in a table and the other page to display just the same for the last thirty days. (i.e. def last_30_days and def within_dates would be the actions). I found a solution on line which has a date variable subtracted from 30 etc which did not seem to work. A full fledged working solution would be greatly appreciated. Please help. Also, how would I convert a simple date range entry into the same format as the datestamps?",mysql,ruby-on-rails,view,controller,scaffold,,open,0,200,10,"Displaying data within a date range from a rails scaffold This is in my controller:
@somethings = Something.find(:all)

And my count variable would display a break up of this data based on 'rca' as such:
@something_to_count = Something.count( :conditions => { :rca => ""4X32W""})
@something_to_count2 = Something.count( :conditions => { :rca => ""6X36W""})
..... etc to other count variables...

Simple as this is, I was trying to get it to display these stats/counts for all entries made from the 'Something' table within the last thirty days in one view and within a date range in another view. I have the default timestamps added by the scaffold function (created_at and updated_at) in my model. 

My view would have to be split up into two pages. One page to accept a date range and display the count variables along with the data in a table and the other page to display just the same for the last thirty days. (i.e. def last_30_days and def within_dates would be the actions). I found a solution on line which has a date variable subtracted from 30 etc which did not seem to work. A full fledged working solution would be greatly appreciated. Please help. Also, how would I convert a simple date range entry into the same format as the datestamps?",5
8501375,12/14/2011 08:26:51,170037,09/08/2009 08:04:20,69,1,Join one row from a table with multiple rows,"This is a question regrading queries in mysql. As an example let’s use a system that tracks the selling of cars. There is table with salespersons, a table of sales and a table that links the two. Most of the time each sale has only one person associated with it. But sometimes multiple persons are associated with a sale. 

    Table salesperson
    id | name | age
    1 | Barry | 25
    2 |Sara | 32
    
    Table link
    personId | saleId
    2 | 1 
    2 | 2 
    1 | 3
    2 | 3
    
    Table sales
    id | carId | date
    1 | 2 | 11-01-2011
    2| 8 | 11-02-2011
    3 | 5 | 11-05-2011

To retrieve the data I want to show the information of each sale in a webpage. Buth when multiple people are associated with a sale it becomes problematic. I have tried applying the query below in my code, after which the PHP handles the exception of when multiple persons are associated with one sale, but due to the length of the sales table the query below takes too much time to run:

    SELECT count(personId) as amount, carId, date, name, age  
    FROM link 
    JOIN salesperson ON link.personId = salesperson.id  
    JOIN sales ON sales.id = link.saleId
    GROUP BY link.saleId

Is there a more efficient query that can be used? By the way indexing of the table is already done.",mysql,optimization,count,query-optimization,,,open,0,304,9,"Join one row from a table with multiple rows This is a question regrading queries in mysql. As an example let’s use a system that tracks the selling of cars. There is table with salespersons, a table of sales and a table that links the two. Most of the time each sale has only one person associated with it. But sometimes multiple persons are associated with a sale. 

    Table salesperson
    id | name | age
    1 | Barry | 25
    2 |Sara | 32
    
    Table link
    personId | saleId
    2 | 1 
    2 | 2 
    1 | 3
    2 | 3
    
    Table sales
    id | carId | date
    1 | 2 | 11-01-2011
    2| 8 | 11-02-2011
    3 | 5 | 11-05-2011

To retrieve the data I want to show the information of each sale in a webpage. Buth when multiple people are associated with a sale it becomes problematic. I have tried applying the query below in my code, after which the PHP handles the exception of when multiple persons are associated with one sale, but due to the length of the sales table the query below takes too much time to run:

    SELECT count(personId) as amount, carId, date, name, age  
    FROM link 
    JOIN salesperson ON link.personId = salesperson.id  
    JOIN sales ON sales.id = link.saleId
    GROUP BY link.saleId

Is there a more efficient query that can be used? By the way indexing of the table is already done.",4
7056483,08/14/2011 11:18:00,808208,06/21/2011 10:15:13,6,0,can't connect to phpadmin/mysql using EasyPHP 5.3.5.,"#2002 - The server is not responding (or the local MySQL server's socket is not correctly configured)

started getting this message when i try to connect to phpadmin from the EasyPHP admin panel ? I have not changed any configs that i'm aware of so i'm confused dont want to touch anything just yet in case i make it worse, mysql server seems to be running ok  any ideas ?

thanks

Ledgemonkey





",mysql,phpmyadmin,easyphp,,,09/28/2011 05:30:01,not a real question,1,70,7,"can't connect to phpadmin/mysql using EasyPHP 5.3.5. #2002 - The server is not responding (or the local MySQL server's socket is not correctly configured)

started getting this message when i try to connect to phpadmin from the EasyPHP admin panel ? I have not changed any configs that i'm aware of so i'm confused dont want to touch anything just yet in case i make it worse, mysql server seems to be running ok  any ideas ?

thanks

Ledgemonkey





",3
8150977,11/16/2011 11:32:34,984314,10/07/2011 15:59:25,13,0,mysql query - select not finding a value,"Can someone please help me rework this query, so that I can obtain the outer_config.contractorsRef value. Currently it is not finding the value. I have highlighed it below in the code. I have purposley written the query with count(*) and the select in a sub query as it performs alot faster than count(distinct). 

    SELECT outer_config.contractorsRef AS cref, outer_config.contractorsRef AS contractorsRef, noworkers
    FROM bis.request_config AS outer_config
    LEFT JOIN (
    SELECT request_config.contractorsRef, (
    SELECT COUNT( * ) subcount
    FROM (
    SELECT DISTINCT subcontractorRef
    FROM bis.Request
    INNER JOIN bis.request_config ON request_config.RIDGROUP = request.RIDGROUP
    AND currenttaxyear =2011
    AND weekno =33
    AND contractorsRef=outer_config.contractorsRef ############ERROR HERE###########
    GROUP BY contractorsRef
    )x
    )noworkers
    FROM bis.Request
    INNER JOIN bis.request_config ON request_config.RIDGROUP = request.RIDGROUP
    AND currenttaxyear =2011
    AND weekno =33
    )T1 ON T1.contractorsRef = outer_config.contractorsRef
    WHERE currenttaxyear =2011
    AND weekno =33
    AND outer_config.contractorsRef <>132
    GROUP BY outer_config.contractorsRef

",mysql,query,select,count,distinct,11/17/2011 15:54:48,too localized,1,210,8,"mysql query - select not finding a value Can someone please help me rework this query, so that I can obtain the outer_config.contractorsRef value. Currently it is not finding the value. I have highlighed it below in the code. I have purposley written the query with count(*) and the select in a sub query as it performs alot faster than count(distinct). 

    SELECT outer_config.contractorsRef AS cref, outer_config.contractorsRef AS contractorsRef, noworkers
    FROM bis.request_config AS outer_config
    LEFT JOIN (
    SELECT request_config.contractorsRef, (
    SELECT COUNT( * ) subcount
    FROM (
    SELECT DISTINCT subcontractorRef
    FROM bis.Request
    INNER JOIN bis.request_config ON request_config.RIDGROUP = request.RIDGROUP
    AND currenttaxyear =2011
    AND weekno =33
    AND contractorsRef=outer_config.contractorsRef ############ERROR HERE###########
    GROUP BY contractorsRef
    )x
    )noworkers
    FROM bis.Request
    INNER JOIN bis.request_config ON request_config.RIDGROUP = request.RIDGROUP
    AND currenttaxyear =2011
    AND weekno =33
    )T1 ON T1.contractorsRef = outer_config.contractorsRef
    WHERE currenttaxyear =2011
    AND weekno =33
    AND outer_config.contractorsRef <>132
    GROUP BY outer_config.contractorsRef

",5
4959979,02/10/2011 16:41:41,198128,10/28/2009 14:05:36,1539,31,PHP OOP: Creating database class,"I am making my first steps in the OOP world - please bear with me.  
I know that having many ongoing mySQL connections open at the same time can be fatal for performance, so it should be a good idea to make a database class that takes this into account.

**Is `$this->session->write(...);` going to result in a new mySQL connection being opened each time?**
Or is that up to the ""persistent connection"" feature in mySQL?

Here's the code: 

    abstract class database {
        function __construct() {
           //mysql_connect()
        }
    }

    class session extends database {
        function write () {
           // mysql_query(--.)
        }
    }",mysql,oop,php5,php-oop,,,open,0,160,5,"PHP OOP: Creating database class I am making my first steps in the OOP world - please bear with me.  
I know that having many ongoing mySQL connections open at the same time can be fatal for performance, so it should be a good idea to make a database class that takes this into account.

**Is `$this->session->write(...);` going to result in a new mySQL connection being opened each time?**
Or is that up to the ""persistent connection"" feature in mySQL?

Here's the code: 

    abstract class database {
        function __construct() {
           //mysql_connect()
        }
    }

    class session extends database {
        function write () {
           // mysql_query(--.)
        }
    }",4
10633695,05/17/2012 10:11:53,738165,05/04/2011 14:07:28,355,15,Sorting a VARCHAR column as FLOAT using the CAST operator don't work in MySQL,"I can't find a way to sort a varchar column casted as float. Here is my SQL request:

    SELECT guid, number FROM table ORDER BY 'CAST(number AS FLOAT) DESC'

The ""number"" column is defined like this:

    number	varchar(20)	ascii_general_ci

And the values defined in this column for my test are :

    0.00
    200.00
    20.00
    100.00

MySQL totally ignore the CAST operator and sort the columns by guid...

Is there a bug in MySQL or did I do something wrong ?",mysql,casting,,,,05/17/2012 17:46:02,not a real question,1,92,14,"Sorting a VARCHAR column as FLOAT using the CAST operator don't work in MySQL I can't find a way to sort a varchar column casted as float. Here is my SQL request:

    SELECT guid, number FROM table ORDER BY 'CAST(number AS FLOAT) DESC'

The ""number"" column is defined like this:

    number	varchar(20)	ascii_general_ci

And the values defined in this column for my test are :

    0.00
    200.00
    20.00
    100.00

MySQL totally ignore the CAST operator and sort the columns by guid...

Is there a bug in MySQL or did I do something wrong ?",2
11202434,06/26/2012 07:18:46,1395171,05/15/2012 04:17:40,55,0,read only privilege for a user in mysql work bench,"I want to give permission to a user to access my database using work bench ""users and privilege"" option. Now i was create a account, I want to give read only permission to this account user. But i confused to give privilege to this user.Please help me...  ",mysql,mysql-workbench,,,,,open,0,49,10,"read only privilege for a user in mysql work bench I want to give permission to a user to access my database using work bench ""users and privilege"" option. Now i was create a account, I want to give read only permission to this account user. But i confused to give privilege to this user.Please help me...  ",2
10746782,05/24/2012 23:45:34,1412849,05/23/2012 14:16:44,8,0,Using an insert into select statement,I need to make an insert into select statement using 6 fields from 3 different tables.  The difficulty is that I am having is that the statement that I have created is causing duplicate records.  What are the tricks that I need to know?,mysql,homework,,,,05/25/2012 05:44:07,not a real question,1,46,6,Using an insert into select statement I need to make an insert into select statement using 6 fields from 3 different tables.  The difficulty is that I am having is that the statement that I have created is causing duplicate records.  What are the tricks that I need to know?,2
4778733,01/24/2011 04:45:00,570181,01/10/2011 17:35:44,30,0,How do we tie all the system objects together in a schema?,"I have a page. Page has forms. forms have fields. Field have values.
Page also has menus, text, labels. Which is shared with forms, fields, values.
Some of the text are links. Some of the menus are message windows.

What I am trying to do it tie it all together so i can implement user tracking (link tracking, field tracking, page tracking, etc). I assume the strategy is like this:
1) Create a lookup table per type (links, pages, fields, values, forms, texts, labels, menus, windows).
2) use FK to relate all tables together? (This is where i am lost on who FKs to whom and if it makes sense this way because if i have to join 5 tables eachtime on page load to pull info and write to activity tables reading from these it will effect performance with lot of users). so how is this implemented in the real world?",mysql,database,database-design,,,,open,0,147,12,"How do we tie all the system objects together in a schema? I have a page. Page has forms. forms have fields. Field have values.
Page also has menus, text, labels. Which is shared with forms, fields, values.
Some of the text are links. Some of the menus are message windows.

What I am trying to do it tie it all together so i can implement user tracking (link tracking, field tracking, page tracking, etc). I assume the strategy is like this:
1) Create a lookup table per type (links, pages, fields, values, forms, texts, labels, menus, windows).
2) use FK to relate all tables together? (This is where i am lost on who FKs to whom and if it makes sense this way because if i have to join 5 tables eachtime on page load to pull info and write to activity tables reading from these it will effect performance with lot of users). so how is this implemented in the real world?",3
8873352,01/15/2012 21:01:03,445126,09/11/2010 14:33:35,2189,85,Copy one column from one database to another,"I need to copy the content from a column in one database into the matching column in another, so that the same content goes in the record with the same ID. Something like the following pseudo stuff:

    SET database2.table1.columnA TO database1.table1.columnA WHERE database2.id = database1.id",mysql,sql,database,copy-paste,,,open,0,48,8,"Copy one column from one database to another I need to copy the content from a column in one database into the matching column in another, so that the same content goes in the record with the same ID. Something like the following pseudo stuff:

    SET database2.table1.columnA TO database1.table1.columnA WHERE database2.id = database1.id",4
10087854,04/10/2012 11:27:05,1300627,03/29/2012 11:23:03,61,1,Execute an insert query using C,"<br>
I want to insert into mysql database from C.<br>
Here is my code:<br>
 
...

    for (i=0;i<nb_of_subscribers*hits_subscriber;i++)
       
       { RandomSub= rand() % nb_of_subscribers + 1;
       RandomContent= rand() % (contents_tag*tags) + 1;
       
        mysql_query(conn, ""INSERT INTO CONTENT_HITS(CONTENT_ID,SUBSCRIBER_ID) VALUES(RandomContent,RandomSub)"");}

...
The problem is :The insert query is not executed and nothing appears in the database.<br>
Thank you.

   ",mysql,c,query,insert,,04/11/2012 20:30:49,too localized,1,87,6,"Execute an insert query using C <br>
I want to insert into mysql database from C.<br>
Here is my code:<br>
 
...

    for (i=0;i<nb_of_subscribers*hits_subscriber;i++)
       
       { RandomSub= rand() % nb_of_subscribers + 1;
       RandomContent= rand() % (contents_tag*tags) + 1;
       
        mysql_query(conn, ""INSERT INTO CONTENT_HITS(CONTENT_ID,SUBSCRIBER_ID) VALUES(RandomContent,RandomSub)"");}

...
The problem is :The insert query is not executed and nothing appears in the database.<br>
Thank you.

   ",4
8625788,12/24/2011 16:54:29,1114741,12/24/2011 16:51:25,1,0,Apache and/or Mysql long latency on Linux VPS,"I do not know where is the problem. It is so hard and confusing for me.
I have a problem that I do not think you are inchoate, but if you have any suggestions I'm listening.
I already have a server with 1.5 GB RAM and 2 GHz CPU.
Every time I restart Apache or MySql the page loading become very fast, but after one or two request it loads very slow again
Site is approximately 12 KB.",mysql,performance,apache,load,,12/25/2011 13:23:05,off topic,1,74,8,"Apache and/or Mysql long latency on Linux VPS I do not know where is the problem. It is so hard and confusing for me.
I have a problem that I do not think you are inchoate, but if you have any suggestions I'm listening.
I already have a server with 1.5 GB RAM and 2 GHz CPU.
Every time I restart Apache or MySql the page loading become very fast, but after one or two request it loads very slow again
Site is approximately 12 KB.",4
7549488,09/26/2011 00:07:37,964160,09/25/2011 23:26:40,1,0,Slow insertion speed on MYISAM table,"I need to create a table containing two attributes: **id** and **author**. These two attributes form the compound key. Moreover I need to perform an index search on the **author** field.
Therefore I create the table using the following statement:

CREATE TABLE IF NOT EXISTS authors (author VARCHAR(100) NOT NULL, id VARCHAR(200) NOT NULL, INDEX USING BTREE(author,id), PRIMARY KEY (author,id)) ENGINE=MYISAM;

Now, I when try to insert about 4.5 million records using JDBC, the insertion speed gets terribly slow at the end.
The **id** attribute refers to a publication which was created by the related author. One author is related to several ids and vice versa. The average number of identical id values is lower than the number of identical author values. 
Therefore I tested the same procedure with swapped attributes. In this case, the insertion speed remains nearly constant. 
Is there a way to optimize the table in order to gain performance?
I don't quite know how MYISAM manages indexing compound keys. May be the process of balancing is the reason...

Thanks in advance!",mysql,performance,index,myisam,compound-key,,open,0,169,6,"Slow insertion speed on MYISAM table I need to create a table containing two attributes: **id** and **author**. These two attributes form the compound key. Moreover I need to perform an index search on the **author** field.
Therefore I create the table using the following statement:

CREATE TABLE IF NOT EXISTS authors (author VARCHAR(100) NOT NULL, id VARCHAR(200) NOT NULL, INDEX USING BTREE(author,id), PRIMARY KEY (author,id)) ENGINE=MYISAM;

Now, I when try to insert about 4.5 million records using JDBC, the insertion speed gets terribly slow at the end.
The **id** attribute refers to a publication which was created by the related author. One author is related to several ids and vice versa. The average number of identical id values is lower than the number of identical author values. 
Therefore I tested the same procedure with swapped attributes. In this case, the insertion speed remains nearly constant. 
Is there a way to optimize the table in order to gain performance?
I don't quite know how MYISAM manages indexing compound keys. May be the process of balancing is the reason...

Thanks in advance!",5
4621003,01/06/2011 23:12:01,415349,08/09/2010 17:24:30,58,5,Strategy for relating two rows of the same table together in MySQL on INSERT,"Suppose I have a simple MySQL table that looks like this:

    CREATE TABLE  `my_table` (
    `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
    `name` VARCHAR( 8 ) NOT NULL
    ) ENGINE = MYISAM ;

I want to create two rows that are related to each other.   I've considered doing it two ways.

--------------------

First strategy: Adding a ""related_to"" field to the table.

I am using AUTO_INCREMENT to calculate the ID, I'll need 5 steps to do this.

 1. INSERT INTO `my_table` (`name`) VALUES ('abc');
 2. Retrieve insert ID (let's call it $first_id)
 3. INSERT INTO `my_table` (`name`, `related_to`) VALUES ('xyz', '$last_id');
 4. Retrieve insert ID (let's call it $second_id)
 5. UPDATE `my_table` SET `related_to` = '$second_id' WHERE `id` = '$first_id';

--------------------

Second strategy: A separate table linking with both IDs.  Can do this in 5 steps as well.

 1. INSERT INTO `my_table` (`name`) VALUES ('abc');
 2. Retrieve insert ID (let's call it $first_id)
 3. INSERT INTO `my_table` (`name`) VALUES ('xyz');
 4. Retrieve insert ID (let's call it $second_id)
 5. INSERT INTO `link_table` (`item1`,`item2`) VALUES ('$first_id', '$second_id');

--------------------

Which way would be best in terms of efficiency, or is there an even more efficient way of doing it that I am missing?

Thanks for your advice.

",mysql,mysql-query,efficiency,,,,open,0,212,14,"Strategy for relating two rows of the same table together in MySQL on INSERT Suppose I have a simple MySQL table that looks like this:

    CREATE TABLE  `my_table` (
    `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
    `name` VARCHAR( 8 ) NOT NULL
    ) ENGINE = MYISAM ;

I want to create two rows that are related to each other.   I've considered doing it two ways.

--------------------

First strategy: Adding a ""related_to"" field to the table.

I am using AUTO_INCREMENT to calculate the ID, I'll need 5 steps to do this.

 1. INSERT INTO `my_table` (`name`) VALUES ('abc');
 2. Retrieve insert ID (let's call it $first_id)
 3. INSERT INTO `my_table` (`name`, `related_to`) VALUES ('xyz', '$last_id');
 4. Retrieve insert ID (let's call it $second_id)
 5. UPDATE `my_table` SET `related_to` = '$second_id' WHERE `id` = '$first_id';

--------------------

Second strategy: A separate table linking with both IDs.  Can do this in 5 steps as well.

 1. INSERT INTO `my_table` (`name`) VALUES ('abc');
 2. Retrieve insert ID (let's call it $first_id)
 3. INSERT INTO `my_table` (`name`) VALUES ('xyz');
 4. Retrieve insert ID (let's call it $second_id)
 5. INSERT INTO `link_table` (`item1`,`item2`) VALUES ('$first_id', '$second_id');

--------------------

Which way would be best in terms of efficiency, or is there an even more efficient way of doing it that I am missing?

Thanks for your advice.

",3
556238,02/17/2009 10:32:35,26859,10/10/2008 15:18:20,427,41,Hibernate : Foreign key constraint violation problem,"I have a com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException in my code (using Hibernate and Spring) and I can't figure why.
My entities are Corpus and Semspace and there's a many-to-one relation from Semspace to Corpus as defined in my hibernate mapping configuration :

    <class name=""xxx.entities.Semspace"" table=""Semspace"" lazy=""false"" batch-size=""30"">
        <id name=""id"" column=""idSemspace"" type=""java.lang.Integer"" unsaved-value=""null"">
            <generator class=""identity""/>
        </id>
        <property name=""name"" column=""name"" type=""java.lang.String"" not-null=""true"" unique=""true"" />
        <many-to-one name=""corpus"" class=""xxx.entities.Corpus"" column=""idCorpus""
        			insert=""false"" update=""false"" />
        [...]
    </class>
    <class name=""xxx.entities.Corpus"" table=""Corpus"" lazy=""false"" batch-size=""30"">
        <id name=""id"" column=""idCorpus"" type=""java.lang.Integer"" unsaved-value=""null"">
            <generator class=""identity""/>
        </id>
        <property name=""name"" column=""name"" type=""java.lang.String"" not-null=""true"" unique=""true"" />
    </class>

And the Java code generating the exception is :

    Corpus corpus = Spring.getCorpusDAO().getCorpusById(corpusId);
    Semspace semspace = new Semspace();
    semspace.setCorpus(corpus);
    semspace.setName(name);
    Spring.getSemspaceDAO().save(semspace);
I checked and the corpus variable is not null (so it is in database as retrieved with the DAO)
The full exception is :

    com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`diaz/Semspace`, CONSTRAINT `FK4D6019AB6556109` FOREIGN KEY (`idCorpus`) REFERENCES `Corpus` (`idCorpus`))
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:931)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2941)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1715)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:3249)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1268)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1541)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1455)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1440)
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:102)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:73)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:33)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2158)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2638)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:48)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:181)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:107)
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:187)
	at org.hibernate.event.def.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:33)
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:172)
	at org.hibernate.event.def.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:27)
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:70)
	at org.hibernate.impl.SessionImpl.fireSave(SessionImpl.java:535)
	at org.hibernate.impl.SessionImpl.save(SessionImpl.java:523)
	at org.hibernate.impl.SessionImpl.save(SessionImpl.java:519)
	at org.springframework.orm.hibernate3.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:642)
	at org.springframework.orm.hibernate3.HibernateTemplate.execute(HibernateTemplate.java:373)
	at org.springframework.orm.hibernate3.HibernateTemplate.save(HibernateTemplate.java:639)
	at xxx.dao.impl.AbstractDAO.save(AbstractDAO.java:26)
	at org.apache.jsp.functions.semspaceManagement_jsp._jspService(semspaceManagement_jsp.java:218)
    [...]


The foreign key constraint has been created (and added to database) by hibernate and I don't see where the constraint can be violated. The table are innodb and I tried to drop all tables and recreate it the problem remains...",mysql,hibernate,spring,java,,,open,0,342,7,"Hibernate : Foreign key constraint violation problem I have a com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException in my code (using Hibernate and Spring) and I can't figure why.
My entities are Corpus and Semspace and there's a many-to-one relation from Semspace to Corpus as defined in my hibernate mapping configuration :

    <class name=""xxx.entities.Semspace"" table=""Semspace"" lazy=""false"" batch-size=""30"">
        <id name=""id"" column=""idSemspace"" type=""java.lang.Integer"" unsaved-value=""null"">
            <generator class=""identity""/>
        </id>
        <property name=""name"" column=""name"" type=""java.lang.String"" not-null=""true"" unique=""true"" />
        <many-to-one name=""corpus"" class=""xxx.entities.Corpus"" column=""idCorpus""
        			insert=""false"" update=""false"" />
        [...]
    </class>
    <class name=""xxx.entities.Corpus"" table=""Corpus"" lazy=""false"" batch-size=""30"">
        <id name=""id"" column=""idCorpus"" type=""java.lang.Integer"" unsaved-value=""null"">
            <generator class=""identity""/>
        </id>
        <property name=""name"" column=""name"" type=""java.lang.String"" not-null=""true"" unique=""true"" />
    </class>

And the Java code generating the exception is :

    Corpus corpus = Spring.getCorpusDAO().getCorpusById(corpusId);
    Semspace semspace = new Semspace();
    semspace.setCorpus(corpus);
    semspace.setName(name);
    Spring.getSemspaceDAO().save(semspace);
I checked and the corpus variable is not null (so it is in database as retrieved with the DAO)
The full exception is :

    com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`diaz/Semspace`, CONSTRAINT `FK4D6019AB6556109` FOREIGN KEY (`idCorpus`) REFERENCES `Corpus` (`idCorpus`))
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:931)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2941)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1715)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:3249)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1268)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1541)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1455)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1440)
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:102)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:73)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:33)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2158)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2638)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:48)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:181)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:107)
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:187)
	at org.hibernate.event.def.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:33)
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:172)
	at org.hibernate.event.def.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:27)
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:70)
	at org.hibernate.impl.SessionImpl.fireSave(SessionImpl.java:535)
	at org.hibernate.impl.SessionImpl.save(SessionImpl.java:523)
	at org.hibernate.impl.SessionImpl.save(SessionImpl.java:519)
	at org.springframework.orm.hibernate3.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:642)
	at org.springframework.orm.hibernate3.HibernateTemplate.execute(HibernateTemplate.java:373)
	at org.springframework.orm.hibernate3.HibernateTemplate.save(HibernateTemplate.java:639)
	at xxx.dao.impl.AbstractDAO.save(AbstractDAO.java:26)
	at org.apache.jsp.functions.semspaceManagement_jsp._jspService(semspaceManagement_jsp.java:218)
    [...]


The foreign key constraint has been created (and added to database) by hibernate and I don't see where the constraint can be violated. The table are innodb and I tried to drop all tables and recreate it the problem remains...",4
8420493,12/07/2011 18:26:05,981138,10/05/2011 20:14:17,3,0,MySql - DROP table 'whatever' if exist ELSE create table 'whatever'?,"I simply want to drop the table 'whatever' if it exist and then recreate table 'whatever' in a single query if possible.

    DROP TABLE IF EXISTS `whatever` ELSE
        CREATE TABLE `whatever`

Any idea ?",mysql,drop,exists,else,create-table,,open,0,43,11,"MySql - DROP table 'whatever' if exist ELSE create table 'whatever'? I simply want to drop the table 'whatever' if it exist and then recreate table 'whatever' in a single query if possible.

    DROP TABLE IF EXISTS `whatever` ELSE
        CREATE TABLE `whatever`

Any idea ?",5
11298021,07/02/2012 16:59:09,806440,06/20/2011 10:16:08,842,46,insert into table with multiple records from multiple tables,"I have to insert into a table some records based on multiple records from 2 different tables..

Tables:
**Target**: `player_list_items` 
**Source1**: `list_items`
**Source2**: `map_details`

A player is supposed to play a list which contains a list of items; A list needs to be played over a map.

The map contains placeholders with their certain X and Y positions and I need to place list_items behind those placeholders. for that I have created the target table that will contain the list_items positioned randomly behind the placeholders.

Below is the query in which I was able to dump the list_items for a user into the target table but, now the problem is that how to get X and Y positions randomly for each list_items from the source2 table.

    INSERT INTO player_list_items 
    (player_list_list_id, player_list_player_id, player_list_item_id, player_list_item_cellX, player_list_item_cellY)
    
    SELECT li.list_item_list_id, 584488596, li.list_item_item_id, 2, 5
    FROM list_items li
    WHERE li.list_item_list_id = 2

either an `insert with multiple selects` or `even another query {update}` after this would work for me because this would run only once for a user per list.

**Each list contains multiple items so the above query returns multiple items and its working fine, what needs to be considered is that the map_details table also contains multiple place holders and they would be more than the # of list_items for sure.** 

**The required query is supposed to get all positions X and Y from the map_details table and assign then randomly to each individual item, positions for every item must be unique.**

I have seen examples of multiple selects for insert but they are for single row insertion and my problem is multiple rows from multiple tables and random too.

`I have a Stored Procedure for this case` because it has lots of other stuff thats working fine so, if anyone here want to give answer using SP that would be useful and not a problem for me to use.

Hope the above stuff is making sense and clarify my point.


Regards
",mysql,sql,query,,,,open,0,337,9,"insert into table with multiple records from multiple tables I have to insert into a table some records based on multiple records from 2 different tables..

Tables:
**Target**: `player_list_items` 
**Source1**: `list_items`
**Source2**: `map_details`

A player is supposed to play a list which contains a list of items; A list needs to be played over a map.

The map contains placeholders with their certain X and Y positions and I need to place list_items behind those placeholders. for that I have created the target table that will contain the list_items positioned randomly behind the placeholders.

Below is the query in which I was able to dump the list_items for a user into the target table but, now the problem is that how to get X and Y positions randomly for each list_items from the source2 table.

    INSERT INTO player_list_items 
    (player_list_list_id, player_list_player_id, player_list_item_id, player_list_item_cellX, player_list_item_cellY)
    
    SELECT li.list_item_list_id, 584488596, li.list_item_item_id, 2, 5
    FROM list_items li
    WHERE li.list_item_list_id = 2

either an `insert with multiple selects` or `even another query {update}` after this would work for me because this would run only once for a user per list.

**Each list contains multiple items so the above query returns multiple items and its working fine, what needs to be considered is that the map_details table also contains multiple place holders and they would be more than the # of list_items for sure.** 

**The required query is supposed to get all positions X and Y from the map_details table and assign then randomly to each individual item, positions for every item must be unique.**

I have seen examples of multiple selects for insert but they are for single row insertion and my problem is multiple rows from multiple tables and random too.

`I have a Stored Procedure for this case` because it has lots of other stuff thats working fine so, if anyone here want to give answer using SP that would be useful and not a problem for me to use.

Hope the above stuff is making sense and clarify my point.


Regards
",3
10841758,05/31/2012 21:49:30,1429226,05/31/2012 18:55:03,1,0,How do I to add multiple directories to an SQL database while sharing the same schema?,"A buddy of mine needed help adding multiple directories to an SQL database while sharing the same schema yet have different listings. I've scoured my ""MySQL"" books and Google, I can't find any definitive information. I was just hoping someone here knew how to do this.

Can it be done via MyPHPadmin?",mysql,phpmyadmin,,,,,open,0,51,16,"How do I to add multiple directories to an SQL database while sharing the same schema? A buddy of mine needed help adding multiple directories to an SQL database while sharing the same schema yet have different listings. I've scoured my ""MySQL"" books and Google, I can't find any definitive information. I was just hoping someone here knew how to do this.

Can it be done via MyPHPadmin?",2
8404117,12/06/2011 17:27:27,66688,02/15/2009 19:03:38,1179,30,Self join count in MySQL,"I'm trying to do something like

    SELECT `v1`.`date`, COUNT(DISTINCT(`v2`.`id`)) AS `visits` 
    FROM `visitor_visits` AS `v1` JOIN `visitor_visits` AS `v2` 
    ON (`v1`.`date` = `v2`.`date`) GROUP BY `v1`.`date`, `v2`.`date` 
    ORDER BY `v1`.`date

To get distinct dates, and a count of all other dates that match.

I'm pretty sure this is the wrong query since the date column is non-unique.",mysql,sql,,,,,open,0,70,5,"Self join count in MySQL I'm trying to do something like

    SELECT `v1`.`date`, COUNT(DISTINCT(`v2`.`id`)) AS `visits` 
    FROM `visitor_visits` AS `v1` JOIN `visitor_visits` AS `v2` 
    ON (`v1`.`date` = `v2`.`date`) GROUP BY `v1`.`date`, `v2`.`date` 
    ORDER BY `v1`.`date

To get distinct dates, and a count of all other dates that match.

I'm pretty sure this is the wrong query since the date column is non-unique.",2
5088472,02/23/2011 08:21:29,463857,10/01/2010 12:51:27,629,47,Getting Error while executing SELECT statement in Toad for MySQL.,"     
I am getting this error while I am trying to execute a simple SELECT statement in **Toad**

     MySql.Data.Types.MySqlConversionException
     Unable to convert MySQL date/time value to System.DateTime

What could be wrong?

",mysql,datetime,query,toad,,,open,0,42,10,"Getting Error while executing SELECT statement in Toad for MySQL.      
I am getting this error while I am trying to execute a simple SELECT statement in **Toad**

     MySql.Data.Types.MySqlConversionException
     Unable to convert MySQL date/time value to System.DateTime

What could be wrong?

",4
5023529,02/04/2011 14:10:59,500559,11/08/2010 10:19:37,113,0,"Doing two SELECT query, with the second query dependant of the first, and the result of the second being concatenated in one.","So I have those two tables:

    +----------+ +---------------+
    |tGathering| |tGatheredPeople|
    +----------+ +---------------+
    |cId       | |cGatheringID   |
    |cPlace    | |cPeople        |
    |...       | +---------------+
    +----------+

I want in one select query to retrieve data about Gatherings in one Place (say ""Berlin, Germany""), and amongst the values, would be a comma-separated string of all the people present at one gathering.

Is it possible to do it in one query? And if yes, how does one call this kind of query (as you may have noticed, I had difficulties defining what I was searching for)?",mysql,sql,,,,,open,0,135,22,"Doing two SELECT query, with the second query dependant of the first, and the result of the second being concatenated in one. So I have those two tables:

    +----------+ +---------------+
    |tGathering| |tGatheredPeople|
    +----------+ +---------------+
    |cId       | |cGatheringID   |
    |cPlace    | |cPeople        |
    |...       | +---------------+
    +----------+

I want in one select query to retrieve data about Gatherings in one Place (say ""Berlin, Germany""), and amongst the values, would be a comma-separated string of all the people present at one gathering.

Is it possible to do it in one query? And if yes, how does one call this kind of query (as you may have noticed, I had difficulties defining what I was searching for)?",2
5764622,04/23/2011 14:06:39,711368,04/16/2011 17:22:31,14,0,Moving to next row in MySQL,I need to check each row of data for some purpose.How to move to next row in MySQL....I am using PHP ,mysql,moving,,,,04/23/2011 17:04:33,not a real question,1,22,6,Moving to next row in MySQL I need to check each row of data for some purpose.How to move to next row in MySQL....I am using PHP ,2
8271320,11/25/2011 15:41:25,964076,09/25/2011 21:38:47,207,18,compare fulltext search performance with oracle/mysql/postgresql,"I searched from google for many different search words, but I can not find an article about a test of Fulltext search compare with `oracle/mysql/postgresql`.

So this is a question for `stackoverflow members`, has anybody run a test about this?

The situation could be store with 100 / 100,000 / 10,000,000 data records.

1. the 3 sql tools needs how many hard disk space to store the `index data` for each?

2. the 3 sql tools needs how many milliseconds to match out the same `search words search results` for each?

Many Thanks.",mysql,sql,oracle,postgresql,,11/26/2011 00:29:51,not constructive,1,88,6,"compare fulltext search performance with oracle/mysql/postgresql I searched from google for many different search words, but I can not find an article about a test of Fulltext search compare with `oracle/mysql/postgresql`.

So this is a question for `stackoverflow members`, has anybody run a test about this?

The situation could be store with 100 / 100,000 / 10,000,000 data records.

1. the 3 sql tools needs how many hard disk space to store the `index data` for each?

2. the 3 sql tools needs how many milliseconds to match out the same `search words search results` for each?

Many Thanks.",4
6815255,07/25/2011 11:20:33,141579,07/20/2009 18:41:00,536,13,"How dbms like Oracle, MySql and Sql Server manage ""free space"" ?","thish is a general question about the ""big"" database player. 
I want to know how these DBMS manage deleted record. In particular: does they free space and re-utilize that free space ?
Hope not to be off topic.
Thank you!",mysql,sql-server,database,oracle,,07/25/2011 15:17:06,not a real question,1,38,12,"How dbms like Oracle, MySql and Sql Server manage ""free space"" ? thish is a general question about the ""big"" database player. 
I want to know how these DBMS manage deleted record. In particular: does they free space and re-utilize that free space ?
Hope not to be off topic.
Thank you!",4
6601677,07/06/2011 19:12:51,553823,12/25/2010 13:07:29,310,5,Tools for analyzing the slow query log of MySql,"I am looking for a tool that will help me analyze my slow queries log of MySql, any suggestions? ",mysql,mysql-management,,,,07/07/2011 16:00:26,off topic,1,20,9,"Tools for analyzing the slow query log of MySql I am looking for a tool that will help me analyze my slow queries log of MySql, any suggestions? ",2
2738737,04/29/2010 15:50:20,329071,04/29/2010 15:50:20,1,0,SQL GUI Programs,"Are there any programs with a gui which let you create a SQL database, create tables, define the primary and foreign keys and insert data? I am tired of having to use the mysql command line client, very tedious.",mysql,,,,,06/20/2012 12:40:24,not constructive,1,39,3,"SQL GUI Programs Are there any programs with a gui which let you create a SQL database, create tables, define the primary and foreign keys and insert data? I am tired of having to use the mysql command line client, very tedious.",1
10667692,05/19/2012 18:11:05,1281833,03/20/2012 19:49:15,11,1,Non standart sql query,"I need to select items with defined idBook from **""exemplar""** table which are currently not ordered(dateReturn field in **""orders""** table is not null).
**Table ""orders"" can contain previously fulfilled orders with the same idExemplar!**
If exemplar **has at least one record in ""orders"" table with dateReturned=null** then this exemplar should be excluded!
###I've tried to use this query:###
`select * from exemplar join orders on` <br/> `orders.idExemplar=exemplar.idExemplar`
<br/>`where dateReturned is not null`<br/>
but it gives wrong result if table orders contains previusly fulfilled orders with the same idExemplar <br/>
[tables][1]




  [1]: http://i.stack.imgur.com/sMq06.pngv",mysql,sql,,,,,open,0,86,4,"Non standart sql query I need to select items with defined idBook from **""exemplar""** table which are currently not ordered(dateReturn field in **""orders""** table is not null).
**Table ""orders"" can contain previously fulfilled orders with the same idExemplar!**
If exemplar **has at least one record in ""orders"" table with dateReturned=null** then this exemplar should be excluded!
###I've tried to use this query:###
`select * from exemplar join orders on` <br/> `orders.idExemplar=exemplar.idExemplar`
<br/>`where dateReturned is not null`<br/>
but it gives wrong result if table orders contains previusly fulfilled orders with the same idExemplar <br/>
[tables][1]




  [1]: http://i.stack.imgur.com/sMq06.pngv",2
7422037,09/14/2011 19:40:30,903455,08/20/2011 05:32:26,285,8,Database initialization failed,hMailServer installation in windows 2003 (x64) encountered an error as `Database initialization failed`. I created a database and new database user for that database in Plesk's MySQL database engine. Finally hMailServer asked to copy libmysql.dll file present in bin folder of MySQL to Bin folder of hMailServer installation path. I did it correctly then when I click on retry I am getting this error. I googled for this and found no relevant and no specific response from hMailServer's forums for previous posts. Can anybody tell me why this error occurred?,mysql,database-connection,,,,,open,0,90,3,Database initialization failed hMailServer installation in windows 2003 (x64) encountered an error as `Database initialization failed`. I created a database and new database user for that database in Plesk's MySQL database engine. Finally hMailServer asked to copy libmysql.dll file present in bin folder of MySQL to Bin folder of hMailServer installation path. I did it correctly then when I click on retry I am getting this error. I googled for this and found no relevant and no specific response from hMailServer's forums for previous posts. Can anybody tell me why this error occurred?,2
2391588,03/06/2010 06:25:52,154137,08/11/2009 04:37:40,95,6,How to add an field name in IF statement using MYSQL QUERY,"This is the query which prints all the records from artist table and corresponding rating to that specific artist. And this query displays the rated artist at top and others after that.

Now my prob is

I have included rating table in this query to get the ratings of the artist rated by the members in the site. 

**But how should i get the field name mem_id from rating table ?**

I cant able to get any exact solution while googling.

Any help will be thankful and greatful.


SELECT a.id, a.name, aa.artist_review, aa.artist_description, a.category, IF((IF((SELECT count(*) FROM ratings WHERE a.id=rating_num)>1,true,1))=true,(SELECT AVG(rating_id)*100 FROM ratings WHERE a.id=rating_num),'0') as PER FROM `artist` a LEFT JOIN `artist_album` aa ON a.id = aa.fk1_artist_id WHERE name LIKE 'Α%' ORDER BY CASE WHEN PER != '' THEN 1 ELSE 2 END , PER


SORRY FOR MY ENGLISH",mysql,,,,,,open,0,134,12,"How to add an field name in IF statement using MYSQL QUERY This is the query which prints all the records from artist table and corresponding rating to that specific artist. And this query displays the rated artist at top and others after that.

Now my prob is

I have included rating table in this query to get the ratings of the artist rated by the members in the site. 

**But how should i get the field name mem_id from rating table ?**

I cant able to get any exact solution while googling.

Any help will be thankful and greatful.


SELECT a.id, a.name, aa.artist_review, aa.artist_description, a.category, IF((IF((SELECT count(*) FROM ratings WHERE a.id=rating_num)>1,true,1))=true,(SELECT AVG(rating_id)*100 FROM ratings WHERE a.id=rating_num),'0') as PER FROM `artist` a LEFT JOIN `artist_album` aa ON a.id = aa.fk1_artist_id WHERE name LIKE 'Α%' ORDER BY CASE WHEN PER != '' THEN 1 ELSE 2 END , PER


SORRY FOR MY ENGLISH",1
8789404,01/09/2012 13:50:30,443380,03/31/2010 21:31:22,178,3,Is SQLite really faster than MySQL ?,"Earlier I was planning on using MySQL for doing some analysis on Netflix and Twitter data. Then I thought of giving SQLite a try. Till now my experience has been : 

1. Ratio of time to load data from a file with 100,480,057 rows & 4 columns into a DB : 
MySQL:sqLite :: 1:1.6 

2. Ratio of time to create an index on a given column : 
MySQL:sqLite :: 1:3 

3. Ratio of dropping a table  ( I made a mistake and wanted to drop and restart ) :

The difference is huge. It took a lot of time to drop a table in SQLite. 

I was under the impression that SQLite faster than MySQL while providing most of the functionalities needed for a normal set of tasks. What am I missing ?? ",mysql,performance,sqlite,,,01/09/2012 14:00:00,not constructive,1,134,7,"Is SQLite really faster than MySQL ? Earlier I was planning on using MySQL for doing some analysis on Netflix and Twitter data. Then I thought of giving SQLite a try. Till now my experience has been : 

1. Ratio of time to load data from a file with 100,480,057 rows & 4 columns into a DB : 
MySQL:sqLite :: 1:1.6 

2. Ratio of time to create an index on a given column : 
MySQL:sqLite :: 1:3 

3. Ratio of dropping a table  ( I made a mistake and wanted to drop and restart ) :

The difference is huge. It took a lot of time to drop a table in SQLite. 

I was under the impression that SQLite faster than MySQL while providing most of the functionalities needed for a normal set of tasks. What am I missing ?? ",3
6021330,05/16/2011 17:54:02,429040,08/24/2010 02:26:37,78,6,TSQL/MySQL Equivalents,"I've spent a lot of time in Microsoft's SQL product, but not so much in mySQL. I'm aware of the most basic differences in their SQL implementation, i.e. ""TOP 1"" == ""LIMIT 1"" and so forth, but once we enter the world of programmability, I am absolutely clueless as to what built-in functions mySQL does and does not have.

I can find documentation on the mySQL functions by themselves easily enough, but I'm wondering if there's a document of some kind that simply lists Microsoft SQL functions and their mySQL equivalents (or vice versa)?",mysql,sql,tsql,microsoft,,,open,0,93,2,"TSQL/MySQL Equivalents I've spent a lot of time in Microsoft's SQL product, but not so much in mySQL. I'm aware of the most basic differences in their SQL implementation, i.e. ""TOP 1"" == ""LIMIT 1"" and so forth, but once we enter the world of programmability, I am absolutely clueless as to what built-in functions mySQL does and does not have.

I can find documentation on the mySQL functions by themselves easily enough, but I'm wondering if there's a document of some kind that simply lists Microsoft SQL functions and their mySQL equivalents (or vice versa)?",4
2808985,05/11/2010 08:09:45,338025,05/11/2010 08:09:45,1,0,"Currently using View, Should I use a hard table instead? ","I am currently debating whether my table, mapping_uGroups_uProducts, which is a view formed by the following table:

    CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` 
        SQL SECURITY DEFINER VIEW `db`.`mapping_uGroups_uProducts` 
        AS select distinct `X`.`upID` AS `upID`,`Z`.`ugID` AS `ugID` from 
        ((`db`.`mapping_uProducts_Products` `X` join `db`.`productsInfo` `Y` 
                on((`X`.`pID` = `Y`.`pID`))) join `db`.`mapping_uGroups_Groups` `Z` 
                on((`Y`.`gID` = `Z`.`gID`)));

My current query is: 

        SELECT upID FROM uProductsInfo \
            JOIN fs_uProducts USING (upID) column \
            JOIN mapping_uGroups_uProducts USING (upID) -- could be faster if we use hard table and index \
            JOIN mapping_fs_key USING (fsKeyID)  \
        WHERE fsName=""OVERALL""  \
            AND ugID=1          \
        ORDER BY score DESC     \
        LIMIT 0,30;

    
which is pretty slow. (for 30 results, it requires about 10 secondes). I think the reason for my query being so slow is definitely due to the fact that that particular query relies on a VIEW which has no index to speed things up.        
        
    +----+-------------+----------------+--------+----------------+---------+---------+---------------------------------------+-------+---------------------------------+
            | id | select_type | table          | type   | possible_keys  | key     | key_len | ref                                   | rows  | Extra                           |
            +----+-------------+----------------+--------+----------------+---------+---------+---------------------------------------+-------+---------------------------------+
            |  1 | PRIMARY     | mapping_fs_key | const  | PRIMARY,fsName | fsName  | 386     | const                                 |     1 | Using temporary; Using filesort | 
            |  1 | PRIMARY     | <derived2>     | ALL    | NULL           | NULL    | NULL    | NULL                                  | 19706 | Using where                     | 
            |  1 | PRIMARY     | uProductsInfo  | eq_ref | PRIMARY        | PRIMARY | 4       | mapping_uGroups_uProducts.upID        |     1 | Using index                     | 
            |  1 | PRIMARY     | fs_uProducts   | ref    | upID           | upID    | 4       | db.uProductsInfo.upID                 |   221 | Using where                     | 
            |  2 | DERIVED     | X              | ALL    | PRIMARY        | NULL    | NULL    | NULL                                  | 40772 | Using temporary                 | 
            |  2 | DERIVED     | Y              | eq_ref | PRIMARY        | PRIMARY | 4       | db.X.pID                              |     1 | Distinct                        | 
            |  2 | DERIVED     | Z              | ref    | PRIMARY        | PRIMARY | 4       | db.Y.gID                              |     2 | Using index; Distinct           | 
            +----+-------------+----------------+--------+----------------+---------+---------+---------------------------------------+-------+---------------------------------+
            7 rows in set (0.48 sec)


The explain here looks pretty cryptic, and I don't know whether I should drop view and write a script to just insert everything in the view to a hard table. ( obviously, it will lose the flexibility of the view since the mapping changes quite frequently). 

Does anyone have any idea to how I can optimize my schema better? ",mysql,,,,,,open,0,1251,11,"Currently using View, Should I use a hard table instead?  I am currently debating whether my table, mapping_uGroups_uProducts, which is a view formed by the following table:

    CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` 
        SQL SECURITY DEFINER VIEW `db`.`mapping_uGroups_uProducts` 
        AS select distinct `X`.`upID` AS `upID`,`Z`.`ugID` AS `ugID` from 
        ((`db`.`mapping_uProducts_Products` `X` join `db`.`productsInfo` `Y` 
                on((`X`.`pID` = `Y`.`pID`))) join `db`.`mapping_uGroups_Groups` `Z` 
                on((`Y`.`gID` = `Z`.`gID`)));

My current query is: 

        SELECT upID FROM uProductsInfo \
            JOIN fs_uProducts USING (upID) column \
            JOIN mapping_uGroups_uProducts USING (upID) -- could be faster if we use hard table and index \
            JOIN mapping_fs_key USING (fsKeyID)  \
        WHERE fsName=""OVERALL""  \
            AND ugID=1          \
        ORDER BY score DESC     \
        LIMIT 0,30;

    
which is pretty slow. (for 30 results, it requires about 10 secondes). I think the reason for my query being so slow is definitely due to the fact that that particular query relies on a VIEW which has no index to speed things up.        
        
    +----+-------------+----------------+--------+----------------+---------+---------+---------------------------------------+-------+---------------------------------+
            | id | select_type | table          | type   | possible_keys  | key     | key_len | ref                                   | rows  | Extra                           |
            +----+-------------+----------------+--------+----------------+---------+---------+---------------------------------------+-------+---------------------------------+
            |  1 | PRIMARY     | mapping_fs_key | const  | PRIMARY,fsName | fsName  | 386     | const                                 |     1 | Using temporary; Using filesort | 
            |  1 | PRIMARY     | <derived2>     | ALL    | NULL           | NULL    | NULL    | NULL                                  | 19706 | Using where                     | 
            |  1 | PRIMARY     | uProductsInfo  | eq_ref | PRIMARY        | PRIMARY | 4       | mapping_uGroups_uProducts.upID        |     1 | Using index                     | 
            |  1 | PRIMARY     | fs_uProducts   | ref    | upID           | upID    | 4       | db.uProductsInfo.upID                 |   221 | Using where                     | 
            |  2 | DERIVED     | X              | ALL    | PRIMARY        | NULL    | NULL    | NULL                                  | 40772 | Using temporary                 | 
            |  2 | DERIVED     | Y              | eq_ref | PRIMARY        | PRIMARY | 4       | db.X.pID                              |     1 | Distinct                        | 
            |  2 | DERIVED     | Z              | ref    | PRIMARY        | PRIMARY | 4       | db.Y.gID                              |     2 | Using index; Distinct           | 
            +----+-------------+----------------+--------+----------------+---------+---------+---------------------------------------+-------+---------------------------------+
            7 rows in set (0.48 sec)


The explain here looks pretty cryptic, and I don't know whether I should drop view and write a script to just insert everything in the view to a hard table. ( obviously, it will lose the flexibility of the view since the mapping changes quite frequently). 

Does anyone have any idea to how I can optimize my schema better? ",1
2214141,02/06/2010 18:21:01,220294,11/28/2009 00:11:31,7,0,MySQL - Auto Increment after delete,"I have a MySQL table with a primary key field that has AUTO_INCREMENT on.
After reading other posts on here I've noticed people with the same problem and with varied answers. Some recommend not using this feature, others state it can't be 'fixed'.

I have:

*course table - with 2 fields - courseID, courseName*

Example:
Number of records in the table: 18<br>
If I delete records 16, 17 and 18 - I would expect the next record entered to have the courseID of 16, however it will be 19 because the last entered courseID was 18.

My SQL knowledge isn't amazing but is there anyway to refresh or update this count with a query (or a setting in the phpmyadmin interface)?

This table will relate to others in a database.

Any help is appreciated...",mysql,primary-key,auto-increment,sql,,,open,0,125,6,"MySQL - Auto Increment after delete I have a MySQL table with a primary key field that has AUTO_INCREMENT on.
After reading other posts on here I've noticed people with the same problem and with varied answers. Some recommend not using this feature, others state it can't be 'fixed'.

I have:

*course table - with 2 fields - courseID, courseName*

Example:
Number of records in the table: 18<br>
If I delete records 16, 17 and 18 - I would expect the next record entered to have the courseID of 16, however it will be 19 because the last entered courseID was 18.

My SQL knowledge isn't amazing but is there anyway to refresh or update this count with a query (or a setting in the phpmyadmin interface)?

This table will relate to others in a database.

Any help is appreciated...",4
6919384,08/02/2011 22:18:10,646728,03/06/2011 07:23:45,178,7,Logging mysql queries with MAMP wont work,"i am on a mac and using MAMP.
I copied 

    /Applications/MAMP/Library/share/mysql/my-medium.cnf to /Applications/MAMP/confg

and i put this under [mysql]

    log = /Volumes/www/logs/mysql.log

and when i run a local site that has queries running i dont see anything in the log file.
what am i doing wrong?

The file has chmod 777 applied to it as well.",mysql,,,,,08/04/2011 20:19:45,off topic,1,58,7,"Logging mysql queries with MAMP wont work i am on a mac and using MAMP.
I copied 

    /Applications/MAMP/Library/share/mysql/my-medium.cnf to /Applications/MAMP/confg

and i put this under [mysql]

    log = /Volumes/www/logs/mysql.log

and when i run a local site that has queries running i dont see anything in the log file.
what am i doing wrong?

The file has chmod 777 applied to it as well.",1
4298064,11/28/2010 17:38:56,407495,07/31/2010 14:40:59,3,0,WHERE clause IN group_concat,"I've got the following query: SELECT name, GROUP_CONCAT(job SEPARATOR ',') FROM users GROUP BY name ORDER BY name ASC

Is it possible to only concat the job fields that do not contain '', and if so how to? I can't do a WHERE clause, because I still need to ones that don't have a 'job'.

Thanks,

lordstyx.",mysql,group-concat,,,,,open,0,54,4,"WHERE clause IN group_concat I've got the following query: SELECT name, GROUP_CONCAT(job SEPARATOR ',') FROM users GROUP BY name ORDER BY name ASC

Is it possible to only concat the job fields that do not contain '', and if so how to? I can't do a WHERE clause, because I still need to ones that don't have a 'job'.

Thanks,

lordstyx.",2
8080895,11/10/2011 14:18:30,631619,02/24/2011 04:09:55,2533,239,Is there a way to try out sql commands like jsfiddle.net,"I'm really impress by jsfiddle.net where we get to try out html/css/js right in front of us.  
Does anyone know of a similar set of screens for sql where you could get to try out commands and build tables in a similar 'virtual' environment.  
Of course I would like it to support all the different flavors too - mySQL, SQLserver, DB2, Oracle, Postgres, etc.  And each of their various versions too please (yes I am smiling and really wishing here).",mysql,sql,oracle,postgresql,jsfiddle,11/10/2011 22:37:46,not constructive,1,83,11,"Is there a way to try out sql commands like jsfiddle.net I'm really impress by jsfiddle.net where we get to try out html/css/js right in front of us.  
Does anyone know of a similar set of screens for sql where you could get to try out commands and build tables in a similar 'virtual' environment.  
Of course I would like it to support all the different flavors too - mySQL, SQLserver, DB2, Oracle, Postgres, etc.  And each of their various versions too please (yes I am smiling and really wishing here).",5
10567522,05/12/2012 21:26:37,1368186,05/01/2012 16:45:28,1,0,QTY_SOLD displaying as #########,"I am trying to enter these commands into my database, the purpose of this is so that i can get practice using the Where clause to prompt for specific data. However when i enter the code below my select statement gets truncated and my QTY_SOLD displays as ######### 


Here is my code-
Select Distinct product.prod#, mfr, Prod_desc, Model
--	cust_fname, cust_lname 
from	product join sale_product 
	on product.prod# =Sale_product.prod#
	Join Sale
	on Sale.inv# =Sale_product.inv#
	join customer
	on customer.cust# =sale.cust#
where	product.prod# = &&product_number 
--Order by Cust_lname, Cust_fname, sale_date
;
--Detail section, all you have to do is comment out the product information 
Select  
	cust_fname, cust_lname,Cust_phone,sale_date, qty_sold
from	product join sale_product 
	on product.prod# =Sale_product.prod#
	Join Sale
	on Sale.inv# =Sale_product.inv#
	join customer
	on customer.cust# =sale.cust#
where	product.prod# = &&product_number 
Order by Cust_lname, Cust_fname, sale_date;
--Summary section 
Select count (sale.inv#)""#sold"",sum (qty_sold)
--	product.prod#, mfr, Prod_desc, Model
--	cust_fname, cust_lname, ...
from	
	product join sale_product 
	on product.prod# =Sale_product.prod#
	Join Sale
	on Sale.inv# =Sale_product.inv#
	join customer
	on customer.cust# =sale.cust#
where	product.prod# = &&product_number 
--Order by Cust_lname, Cust_fname, sale_date;




Here is the output i get.


               PROD# MFR             PROD_DESC            MODEL
-------------------- --------------- -------------------- ------------------
                 202 EVGA            MOTHERBOARD          MOTHERBOARD 999XR

old   9: where  product.prod# = &&product_number
new   9: where  product.prod# = 202

CUST_FNAME     CUST_LNAME     CUST_PHONE    SALE_DATE   QTY_SOLD
-------------- -------------- ------------- --------- ----------
MARY           LIU            (530)345-5678 21-APR-12 ##########
MARY           LIU            (530)345-5678 25-APR-12 ##########
MARY           LIU            (530)345-5678 01-MAY-12 ##########
HASAN          MACNEIL        (530)358-9874 26-APR-12 ##########
MICHAEL        PEARLMAN       (530)342-1114 22-APR-12 ##########
MICHAEL        PEARLMAN       (530)342-1114 23-APR-12 ##########

6 rows selected.

old  11: where  product.prod# = &&product_number
new  11: where  product.prod# = 202
truncating (as requested) before column SUM(QTY_SOLD)--PRODUCT.PROD#,MFR,PROD_DESC,MODEL--CUST_FNAME


               #sold
--------------------
                   6


Any help would be appreciated.",mysql,sql,,,,05/13/2012 12:33:48,too localized,1,455,4,"QTY_SOLD displaying as ######### I am trying to enter these commands into my database, the purpose of this is so that i can get practice using the Where clause to prompt for specific data. However when i enter the code below my select statement gets truncated and my QTY_SOLD displays as ######### 


Here is my code-
Select Distinct product.prod#, mfr, Prod_desc, Model
--	cust_fname, cust_lname 
from	product join sale_product 
	on product.prod# =Sale_product.prod#
	Join Sale
	on Sale.inv# =Sale_product.inv#
	join customer
	on customer.cust# =sale.cust#
where	product.prod# = &&product_number 
--Order by Cust_lname, Cust_fname, sale_date
;
--Detail section, all you have to do is comment out the product information 
Select  
	cust_fname, cust_lname,Cust_phone,sale_date, qty_sold
from	product join sale_product 
	on product.prod# =Sale_product.prod#
	Join Sale
	on Sale.inv# =Sale_product.inv#
	join customer
	on customer.cust# =sale.cust#
where	product.prod# = &&product_number 
Order by Cust_lname, Cust_fname, sale_date;
--Summary section 
Select count (sale.inv#)""#sold"",sum (qty_sold)
--	product.prod#, mfr, Prod_desc, Model
--	cust_fname, cust_lname, ...
from	
	product join sale_product 
	on product.prod# =Sale_product.prod#
	Join Sale
	on Sale.inv# =Sale_product.inv#
	join customer
	on customer.cust# =sale.cust#
where	product.prod# = &&product_number 
--Order by Cust_lname, Cust_fname, sale_date;




Here is the output i get.


               PROD# MFR             PROD_DESC            MODEL
-------------------- --------------- -------------------- ------------------
                 202 EVGA            MOTHERBOARD          MOTHERBOARD 999XR

old   9: where  product.prod# = &&product_number
new   9: where  product.prod# = 202

CUST_FNAME     CUST_LNAME     CUST_PHONE    SALE_DATE   QTY_SOLD
-------------- -------------- ------------- --------- ----------
MARY           LIU            (530)345-5678 21-APR-12 ##########
MARY           LIU            (530)345-5678 25-APR-12 ##########
MARY           LIU            (530)345-5678 01-MAY-12 ##########
HASAN          MACNEIL        (530)358-9874 26-APR-12 ##########
MICHAEL        PEARLMAN       (530)342-1114 22-APR-12 ##########
MICHAEL        PEARLMAN       (530)342-1114 23-APR-12 ##########

6 rows selected.

old  11: where  product.prod# = &&product_number
new  11: where  product.prod# = 202
truncating (as requested) before column SUM(QTY_SOLD)--PRODUCT.PROD#,MFR,PROD_DESC,MODEL--CUST_FNAME


               #sold
--------------------
                   6


Any help would be appreciated.",2
8861647,01/14/2012 10:33:58,587197,01/24/2011 07:58:57,58,1,Update field based on count in lookup table,"I have this **lookup table**:

    jd_ebay_lookup
    +----------------------+-----------------------+
    | Field                | Type                  |
    +----------------------+-----------------------+
    | product_id           | mediumint(8) unsigned |
    | component_product_id | mediumint(8) unsigned |
    | TotalStockAvailable  | mediumint(8) unsigned |
    | isactive             | tinyint(1) unsigned   |
    +----------------------+-----------------------+

and a **main table**:

    jd_ebay
    +---------------------+-----------------------+
    | Field               | Type                  |
    +---------------------+-----------------------+
    | id                  | int(10) unsigned      | 
    | product_id          | mediumint(8) unsigned | 
    | isactive            | tinyint(1) unsigned   |
    +---------------------+-----------------------+

My lookup table can have a multiple product_id for it is possible that the product_id has several product components.

Isactive on the lookup table depends on stocks available. If stock is greater than 0, then it should be isactive = 1.

Isactive on the Main Table on the other hand is based on the count of isactive values in lookup table which are grouped by product_id.

What I want is to update my master tables's Isactive value to 1 when all of the isactive value of that product are all set to 1. And 0 when even one isactive from lookup table is set as 0.

I tried to use the query:

    UPDATE jd_ebay mt SET isactive = IF ((SELECT COUNT(1) FROM jd_ebay_lookup lt WHERE lt.product_id=mt.product_id and lt.isactive=0) > 0, 0, 1);

But this won't work when there is no equivalent product_id to my lookup table.",mysql,,,,,,open,0,396,8,"Update field based on count in lookup table I have this **lookup table**:

    jd_ebay_lookup
    +----------------------+-----------------------+
    | Field                | Type                  |
    +----------------------+-----------------------+
    | product_id           | mediumint(8) unsigned |
    | component_product_id | mediumint(8) unsigned |
    | TotalStockAvailable  | mediumint(8) unsigned |
    | isactive             | tinyint(1) unsigned   |
    +----------------------+-----------------------+

and a **main table**:

    jd_ebay
    +---------------------+-----------------------+
    | Field               | Type                  |
    +---------------------+-----------------------+
    | id                  | int(10) unsigned      | 
    | product_id          | mediumint(8) unsigned | 
    | isactive            | tinyint(1) unsigned   |
    +---------------------+-----------------------+

My lookup table can have a multiple product_id for it is possible that the product_id has several product components.

Isactive on the lookup table depends on stocks available. If stock is greater than 0, then it should be isactive = 1.

Isactive on the Main Table on the other hand is based on the count of isactive values in lookup table which are grouped by product_id.

What I want is to update my master tables's Isactive value to 1 when all of the isactive value of that product are all set to 1. And 0 when even one isactive from lookup table is set as 0.

I tried to use the query:

    UPDATE jd_ebay mt SET isactive = IF ((SELECT COUNT(1) FROM jd_ebay_lookup lt WHERE lt.product_id=mt.product_id and lt.isactive=0) > 0, 0, 1);

But this won't work when there is no equivalent product_id to my lookup table.",1
7023969,08/11/2011 09:58:31,676755,03/25/2011 13:06:33,409,25,Some time I am Unable to connect to my database server,"I am running a PHP application with mySQL . Some times it gives the following error.

    Unable to connect to your database server using the provided settings.

I do not understand why this error occurred .

today I am using the application but it is not giving the error but error occurs yesterday .

please help me . ",mysql,sql-server,,,,08/11/2011 11:19:59,not a real question,1,59,11,"Some time I am Unable to connect to my database server I am running a PHP application with mySQL . Some times it gives the following error.

    Unable to connect to your database server using the provided settings.

I do not understand why this error occurred .

today I am using the application but it is not giving the error but error occurs yesterday .

please help me . ",2
3517449,08/18/2010 23:07:14,239292,12/27/2009 21:18:22,105,0,Best Table Engine for massively updated MySQL table.  MyISAM or HEAP?,"I am creating an application which will store a (semi) real-time feed of a few different scales around a certain location.  The weights of each scale will be put in a table with only as many rows as scales.  The scale app feeds the MySQL database a new weight every second, which a PHP web app reads every 3 seconds.  It doesn't seem like very much traffic that would page the hard drive very much, or if the difference would be negligible, but I'm wondering if it would be more efficient or make more sense to use a Memory/HEAP table vs a normal MyISAM table.",mysql,heap,myisam,,,,open,0,108,12,"Best Table Engine for massively updated MySQL table.  MyISAM or HEAP? I am creating an application which will store a (semi) real-time feed of a few different scales around a certain location.  The weights of each scale will be put in a table with only as many rows as scales.  The scale app feeds the MySQL database a new weight every second, which a PHP web app reads every 3 seconds.  It doesn't seem like very much traffic that would page the hard drive very much, or if the difference would be negligible, but I'm wondering if it would be more efficient or make more sense to use a Memory/HEAP table vs a normal MyISAM table.",3
6831278,07/26/2011 14:05:57,853751,07/20/2011 10:33:38,1,0,Mysql Grouping and Counting,"i have a 3 Tables:

    1 TableTraders
    trader_id|Domain|
    ---------------------
    1|google.com
    2|yahoo.com
    
    2 Table In Counter
    trader_id|IP|
    --------------
    1|IP
    1|IP2
    1|IP3
    2|IP
    
    3 Table Out Counter
    trader_id|IP|
    ---------------
    1|ip32
    2|ip21
    2|ip37

Ok what i want todo is join the tables 1 , 2 , 3 and group them together, and count them.


    trader_id|DOMAIN|IN|OUT
    --------------------------
    1|google.com|3|1
    2|yahoo.com|1|2

I tried many things, but i get always wrong results. How do i join right the queries that i get results i want

Thank you for help
",mysql,join,count,group-by,,,open,0,153,4,"Mysql Grouping and Counting i have a 3 Tables:

    1 TableTraders
    trader_id|Domain|
    ---------------------
    1|google.com
    2|yahoo.com
    
    2 Table In Counter
    trader_id|IP|
    --------------
    1|IP
    1|IP2
    1|IP3
    2|IP
    
    3 Table Out Counter
    trader_id|IP|
    ---------------
    1|ip32
    2|ip21
    2|ip37

Ok what i want todo is join the tables 1 , 2 , 3 and group them together, and count them.


    trader_id|DOMAIN|IN|OUT
    --------------------------
    1|google.com|3|1
    2|yahoo.com|1|2

I tried many things, but i get always wrong results. How do i join right the queries that i get results i want

Thank you for help
",4
11560580,07/19/2012 12:09:35,1537647,07/19/2012 10:52:42,1,0,Solar search on a replicated MySQL Database,"I want to create a database web publisher.
 
Solr search functionnalities suit perfectly to my needs (faceted search, full text search, etc...). 

My problem is that I need data to be synchronised on the net. 

I read that MySQL database have to be imported in Solr.

I plan to work with one source MSSQL database, replicated on a MySQL database on a web server. I need to use Solr on this database. 

Is there a solution so that the changes on the replicated SQL database can be automatically echoed on the Solr index? I don't want to import the whole database each time it is modified, it would make my product complicated to use. 

Thank you. ",mysql,database,solr,full-text-search,faceted-search,,open,0,116,7,"Solar search on a replicated MySQL Database I want to create a database web publisher.
 
Solr search functionnalities suit perfectly to my needs (faceted search, full text search, etc...). 

My problem is that I need data to be synchronised on the net. 

I read that MySQL database have to be imported in Solr.

I plan to work with one source MSSQL database, replicated on a MySQL database on a web server. I need to use Solr on this database. 

Is there a solution so that the changes on the replicated SQL database can be automatically echoed on the Solr index? I don't want to import the whole database each time it is modified, it would make my product complicated to use. 

Thank you. ",5
6671631,07/12/2011 21:51:29,841626,07/12/2011 21:48:45,1,0,mysql REPLACE query with multiple primary keys,"so MYSQL's REPLACE command (not to be confused with the string replace function) replaces a row if there exist a column with the same primary key with the inserted data...

but what if I have two primary keys and I want to use both to specify the row to replace not just one of them....how do I specify mysql to use both keys rather than just one ",mysql,query,replace,,,,open,0,67,7,"mysql REPLACE query with multiple primary keys so MYSQL's REPLACE command (not to be confused with the string replace function) replaces a row if there exist a column with the same primary key with the inserted data...

but what if I have two primary keys and I want to use both to specify the row to replace not just one of them....how do I specify mysql to use both keys rather than just one ",3
8170899,11/17/2011 16:41:15,955237,09/20/2011 16:33:30,62,1,Access denied for user 'root'@'localhost' (using password: YES) Works sometimes rails,I have a couple of versions of a project that run with mysql2. I have a version on my desktop which works fine. However i uploaded it on svn and that also works. After a colleague of mine added some css files now it stopped working. It gives the above error. Previously i had problems with passwords etc which gave the same error which i resolved. Now the version on my desktop alone works however the source controlled version is not working. Any idea where i should check for any problems? I also added a mysql dump file into the project folder. ,mysql,ruby-on-rails,ruby,ruby-on-rails-3,mysqldump,,open,0,103,11,Access denied for user 'root'@'localhost' (using password: YES) Works sometimes rails I have a couple of versions of a project that run with mysql2. I have a version on my desktop which works fine. However i uploaded it on svn and that also works. After a colleague of mine added some css files now it stopped working. It gives the above error. Previously i had problems with passwords etc which gave the same error which i resolved. Now the version on my desktop alone works however the source controlled version is not working. Any idea where i should check for any problems? I also added a mysql dump file into the project folder. ,5
3092130,06/22/2010 10:15:09,248092,01/11/2010 14:03:14,1,0,Maximum size of row in InnoDB table for text datatype in mysql 5.0.77.,"The maximum size of a row in a MyISAM table is 65,535 bytes fro text datatype. What is the maximum size for InnoDB table in mysql 5.0.77.",mysql,,,,,,open,0,27,13,"Maximum size of row in InnoDB table for text datatype in mysql 5.0.77. The maximum size of a row in a MyISAM table is 65,535 bytes fro text datatype. What is the maximum size for InnoDB table in mysql 5.0.77.",1
1234405,08/05/2009 16:43:25,146857,07/29/2009 06:11:50,1,0,MySqlHelper class + asp.net,"Hai Guys,
          Like DataAccessApplicationBlock for .net with sql server,Is there any thing for MySql with .net... If so please let me know.... 
         
         ",mysql,asp.net,,,,,open,0,50,4,"MySqlHelper class + asp.net Hai Guys,
          Like DataAccessApplicationBlock for .net with sql server,Is there any thing for MySql with .net... If so please let me know.... 
         
         ",2
1454599,09/21/2009 13:49:47,104015,05/09/2009 09:59:12,1373,0,Has anyone tried dumping MySQL data on windows directly to MySQL on linux?,"windows:

    mysqldump .... > windata.sql;

linux:

    mysql ... < windata.sql

Will the data be cross-platform?",mysql,dump,,,,,open,0,19,13,"Has anyone tried dumping MySQL data on windows directly to MySQL on linux? windows:

    mysqldump .... > windata.sql;

linux:

    mysql ... < windata.sql

Will the data be cross-platform?",2
3845301,10/02/2010 10:39:17,446929,09/14/2010 02:10:09,38,0,dose mysql consume memory & cpu very much?,"currently i have a project using solr,now i want to add some feature,so i'm thinking is need add mysql to my project solution,
as i use a vps,so i must consider memory & cpu consume?
so my question is dose mysql cost memory & cpu to much ?
also i was thinking is solr can provide the same function,then i can reduce so software used in my project",mysql,lucene,solr,,,10/02/2010 20:09:55,not a real question,1,65,8,"dose mysql consume memory & cpu very much? currently i have a project using solr,now i want to add some feature,so i'm thinking is need add mysql to my project solution,
as i use a vps,so i must consider memory & cpu consume?
so my question is dose mysql cost memory & cpu to much ?
also i was thinking is solr can provide the same function,then i can reduce so software used in my project",3
7937096,10/29/2011 04:55:28,1248202,04/06/2011 16:03:08,8,0,Mysql Query Help is needed,I have 2 tables one tblAssociate and tblData. The link between them is one to many. My search will be based on date time range where if I find even one data in tblData between the set range then I want to show the tblAssociate data. Any idea how to solve this?,mysql,,,,,10/29/2011 05:02:53,not a real question,1,52,5,Mysql Query Help is needed I have 2 tables one tblAssociate and tblData. The link between them is one to many. My search will be based on date time range where if I find even one data in tblData between the set range then I want to show the tblAssociate data. Any idea how to solve this?,1
11525464,07/17/2012 15:07:52,1445873,06/09/2012 06:49:49,1,0,Rails 2 with mysql on heroku,want to upload the application with mysql on heroku is it is possible i dont want to use pg because in my application lots of place mysql query are using and using rails 2.3.8,mysql,ruby-on-rails,heroku,,,07/17/2012 15:22:46,off topic,1,34,6,Rails 2 with mysql on heroku want to upload the application with mysql on heroku is it is possible i dont want to use pg because in my application lots of place mysql query are using and using rails 2.3.8,3
2183107,02/02/2010 09:54:22,139412,07/16/2009 11:49:45,50,1,How to combine foreign keys and spacial index inside MySQL table?,"Our project keeps world data base in tree-structure inside INNODB table of MySQL db.
Earth is the root, then countries, then country regions and the locations are the leaves.

A foreign-key is used to provide a fast access to children (for example cities in a region).

Now we want to implement a fast geo-search in the data-base for given coordinates.
An obvious solution is to use SPACIAL INDEX, which is a feature of MyISAM tables.
But MyISAM tables do not support foreign keys. And INNODB tables do not support SPACIAL INDEX.

So if we use MyISAM table we have to abandon foreign key and that would make children search way too long.

How can we combine fast children search in tree and also have a SPACIAL INDEX in a table?
",mysql,,,,,,open,0,123,11,"How to combine foreign keys and spacial index inside MySQL table? Our project keeps world data base in tree-structure inside INNODB table of MySQL db.
Earth is the root, then countries, then country regions and the locations are the leaves.

A foreign-key is used to provide a fast access to children (for example cities in a region).

Now we want to implement a fast geo-search in the data-base for given coordinates.
An obvious solution is to use SPACIAL INDEX, which is a feature of MyISAM tables.
But MyISAM tables do not support foreign keys. And INNODB tables do not support SPACIAL INDEX.

So if we use MyISAM table we have to abandon foreign key and that would make children search way too long.

How can we combine fast children search in tree and also have a SPACIAL INDEX in a table?
",1
11471096,07/13/2012 13:04:10,1523603,07/13/2012 12:57:06,1,0,IOS Development: Game application creating user accounts,"I am looking to create a game application and have done a lot of video tutorials and read a lot of books on IOS.

I would like to know more information on techniques and common practices for game applications. I do not want to setup a game using GK/Game Center. Ideally I would like the user to have the option to enter some basic fields like Username/Password or to login with Facebook to create a user account.

The game will be peer-to-peer and played by one user completing a move that sending to the other and vice versa. 

I have had a look at the Facebook SDK and the Hackbook sample application and that part is all fine. 

I would like to know if someone can provide more information, video tutorial, eBooks and/or sample code for applications that create user accounts. What methods do they use to create these for multi player games, how these are then managed in terms of multiple users being created and playing the game, how these are scalable etc.

Thanks",mysql,ios,sqlite,facebook-ios-sdk,ios-sdk,07/15/2012 06:14:02,not constructive,1,172,7,"IOS Development: Game application creating user accounts I am looking to create a game application and have done a lot of video tutorials and read a lot of books on IOS.

I would like to know more information on techniques and common practices for game applications. I do not want to setup a game using GK/Game Center. Ideally I would like the user to have the option to enter some basic fields like Username/Password or to login with Facebook to create a user account.

The game will be peer-to-peer and played by one user completing a move that sending to the other and vice versa. 

I have had a look at the Facebook SDK and the Hackbook sample application and that part is all fine. 

I would like to know if someone can provide more information, video tutorial, eBooks and/or sample code for applications that create user accounts. What methods do they use to create these for multi player games, how these are then managed in terms of multiple users being created and playing the game, how these are scalable etc.

Thanks",5
10047532,04/06/2012 18:21:24,651174,03/09/2011 08:26:41,1410,36,Suggested SQL formatting,"I am working on my SQL, and I have the following statement:

    1    SELECT c.credit_display, t.title, t.provider
    2	    FROM credits c
    3	        INNER JOIN title t 
    4		    ON c.vendor_id = t.vendor_id
    5	    WHERE c.position = 'Director' and t.provider = 'Premiere'
    6		    INTO OUTFILE '/var/tmp/file.csv'
    7		    FIELDS TERMINATED BY ','

I was wondering what the correct formatting would be with regards to tabs. What is the suggested practice for when to indent (for example, should the third line be two tabs or three?).
",mysql,sql,,,,04/06/2012 22:11:12,not constructive,1,128,3,"Suggested SQL formatting I am working on my SQL, and I have the following statement:

    1    SELECT c.credit_display, t.title, t.provider
    2	    FROM credits c
    3	        INNER JOIN title t 
    4		    ON c.vendor_id = t.vendor_id
    5	    WHERE c.position = 'Director' and t.provider = 'Premiere'
    6		    INTO OUTFILE '/var/tmp/file.csv'
    7		    FIELDS TERMINATED BY ','

I was wondering what the correct formatting would be with regards to tabs. What is the suggested practice for when to indent (for example, should the third line be two tabs or three?).
",2
8116368,11/14/2011 01:32:54,964260,09/26/2011 02:01:25,22,1,Database design: Using hundred of fields for little values,"I'm planning to develop a PHP Web App, it will mainly be used by registered users(sessions)

While thinking about the DB design, I was contemplating that in order to give the best user experience possible there would be lots of options for the user to activate, deactivate, specify, etc.

For example:  
- Options for each layout elements, dialog boxes, dashboard, grid, etc.  
- color, size, stay visible, invisible, don't ask again, show everytime, advanced mode, simple mode, etc.

This would get like 100s of fields ranging from simple Yes/No or 1 to N values..., for each user.

**So, is it having a field for each of these options the way to go?  
or how do those CRMs or CMS or other Web Apps do it to store lots of 1-2 char long values?** 


Do they group them on Text fields separated by a special char and then ""explode"" them as an array for runtime usage?

thank you
",mysql,database-design,,,,,open,0,155,9,"Database design: Using hundred of fields for little values I'm planning to develop a PHP Web App, it will mainly be used by registered users(sessions)

While thinking about the DB design, I was contemplating that in order to give the best user experience possible there would be lots of options for the user to activate, deactivate, specify, etc.

For example:  
- Options for each layout elements, dialog boxes, dashboard, grid, etc.  
- color, size, stay visible, invisible, don't ask again, show everytime, advanced mode, simple mode, etc.

This would get like 100s of fields ranging from simple Yes/No or 1 to N values..., for each user.

**So, is it having a field for each of these options the way to go?  
or how do those CRMs or CMS or other Web Apps do it to store lots of 1-2 char long values?** 


Do they group them on Text fields separated by a special char and then ""explode"" them as an array for runtime usage?

thank you
",2
6903320,08/01/2011 19:25:28,580523,01/18/2011 20:36:33,317,1,MySQL Select question,"I'm looking for a quick way of selecting from a database suing this criteria:

 - In only the past 2 days (Using UnixTimestamp).
 - Certain word appears in rows.


Basically, I'm just looking to point out trending topics from my site.

So I'm looking to select from a table where a certain word appear most in the past 2 days.


Any help would be great, Thanks!
",mysql,,,,,,open,0,63,3,"MySQL Select question I'm looking for a quick way of selecting from a database suing this criteria:

 - In only the past 2 days (Using UnixTimestamp).
 - Certain word appears in rows.


Basically, I'm just looking to point out trending topics from my site.

So I'm looking to select from a table where a certain word appear most in the past 2 days.


Any help would be great, Thanks!
",1
7382047,09/11/2011 23:38:39,287793,03/06/2010 15:53:59,749,9,"MySQL - Proper ""Collation"" for case-sensitive text? UTF8-bin?","In using MySQL (v5.0.77) there are a lot of choices for Collation. I was originally thinking of **UTF8-general_ci** however MySQL shows it as being case-insensitive which I think would cause problems for objects such as passwords. If I want to use UTF8 but want case-sensitive data should I use **UTF8-bin**? Thanks!
",mysql,utf-8,collation,,,,open,0,51,8,"MySQL - Proper ""Collation"" for case-sensitive text? UTF8-bin? In using MySQL (v5.0.77) there are a lot of choices for Collation. I was originally thinking of **UTF8-general_ci** however MySQL shows it as being case-insensitive which I think would cause problems for objects such as passwords. If I want to use UTF8 but want case-sensitive data should I use **UTF8-bin**? Thanks!
",3
6022932,05/16/2011 20:24:29,756314,05/16/2011 20:22:59,1,0,Facebook Registration linking to MySQL Database,"I'm relatively new to website programming and any tips or help is much appreciated.

I have designed a golf site for my region in the UK, and I would like to implement [tag:Facebook] Login/Registration [tag:facebook-connect] for easy access and sign-ups. I have gone over the facebook developers website a few times but goes over my head a little.

I have the login button fine, but for registration I would like to access the users information in a [tag:MySQL} database. Does anyone know how to do this? I have set parameters in the database which are:

- id
- fb_id
- name
- email
- gender
- birthday
- location

However, it says: -

    #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'near) NOT NULL, `birthday` DATE NOT NULL, `location` VARCHAR(255) NOT NULL, UNIQ' at line 1 

How can I rectify the problem and then successfully have my registration login redirect to MySQL?

Essentially I would like a separate profile for each user who can share golf stats, organise games with friends and post recent scores.

Let me know your thoughts and any tips are welcomed.

Thanks,
Darren",mysql,facebook,facebook-connect,,,,open,0,195,6,"Facebook Registration linking to MySQL Database I'm relatively new to website programming and any tips or help is much appreciated.

I have designed a golf site for my region in the UK, and I would like to implement [tag:Facebook] Login/Registration [tag:facebook-connect] for easy access and sign-ups. I have gone over the facebook developers website a few times but goes over my head a little.

I have the login button fine, but for registration I would like to access the users information in a [tag:MySQL} database. Does anyone know how to do this? I have set parameters in the database which are:

- id
- fb_id
- name
- email
- gender
- birthday
- location

However, it says: -

    #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'near) NOT NULL, `birthday` DATE NOT NULL, `location` VARCHAR(255) NOT NULL, UNIQ' at line 1 

How can I rectify the problem and then successfully have my registration login redirect to MySQL?

Essentially I would like a separate profile for each user who can share golf stats, organise games with friends and post recent scores.

Let me know your thoughts and any tips are welcomed.

Thanks,
Darren",3
2846973,05/17/2010 06:11:09,252163,01/16/2010 13:34:44,122,8,"How to store data in mysql, to get the fastest performance?","I'm thinking about it, witch of the following two query types would give me the fastest performance for a user messaging module inside my site:

The first one i thought about is a multi table setup, witch has a connection table, and a main table. The connection table holds the connection between accounts, and the messaging table.

In this case a query would look like following, to get some data of the author, and the messages he has sent:

`    SELECT m.*, a.username FROM messages AS m
    LEFT JOIN connection_table ON (message_id = m.id)
    LEFT JOIN accounts AS a ON (account_id = a.id)
    WHERE m.id = '32341'
`

Inserting into it is a little bit more ""complicated"".

My other idea, and in my thought the better solution of this problem is that i store the data i would use in a connection table in the same table where is store the data of the mail. Sounds like i would get lots of duplicated entries, but no, because i have a field witch has text type and holds user ids like this: *24*32*249*
If I want to query them, i use the mysql LIKE method. Deleting is an other problem, but for this i have one more field where i store who has deleted the post.
Sad about that i don't know how to join this.

So what would you recommend? Are there other ways?
",mysql,query,database,database-design,,,open,0,237,11,"How to store data in mysql, to get the fastest performance? I'm thinking about it, witch of the following two query types would give me the fastest performance for a user messaging module inside my site:

The first one i thought about is a multi table setup, witch has a connection table, and a main table. The connection table holds the connection between accounts, and the messaging table.

In this case a query would look like following, to get some data of the author, and the messages he has sent:

`    SELECT m.*, a.username FROM messages AS m
    LEFT JOIN connection_table ON (message_id = m.id)
    LEFT JOIN accounts AS a ON (account_id = a.id)
    WHERE m.id = '32341'
`

Inserting into it is a little bit more ""complicated"".

My other idea, and in my thought the better solution of this problem is that i store the data i would use in a connection table in the same table where is store the data of the mail. Sounds like i would get lots of duplicated entries, but no, because i have a field witch has text type and holds user ids like this: *24*32*249*
If I want to query them, i use the mysql LIKE method. Deleting is an other problem, but for this i have one more field where i store who has deleted the post.
Sad about that i don't know how to join this.

So what would you recommend? Are there other ways?
",4
7449293,09/16/2011 19:08:46,297791,03/19/2010 23:51:08,469,3,HTML Form to delete record from mySQL? IS there one?,"I'm trying to find a way to delete a record from mySQL using an HTML form or HTML table.  Is there one out there?  Is it possible?

Erik",mysql,,,,,09/16/2011 20:35:13,not a real question,1,29,10,"HTML Form to delete record from mySQL? IS there one? I'm trying to find a way to delete a record from mySQL using an HTML form or HTML table.  Is there one out there?  Is it possible?

Erik",1
2834869,05/14/2010 14:25:35,197241,10/27/2009 11:00:29,159,0,help with this query..,"    $test2=mysql_query(""SELECT min(substr(status,1) FROM railways"");
    while($test_array1=mysql_fetch_array($test2)){
    echo ""<pre>"";
    print_r($test_array1);
    echo ""</pre>""; 
    }

what is the correct form of this query...need to get the min value from the table itself.. ",mysql,,,,,,open,0,48,4,"help with this query..     $test2=mysql_query(""SELECT min(substr(status,1) FROM railways"");
    while($test_array1=mysql_fetch_array($test2)){
    echo ""<pre>"";
    print_r($test_array1);
    echo ""</pre>""; 
    }

what is the correct form of this query...need to get the min value from the table itself.. ",1
10721466,05/23/2012 13:55:52,618376,02/15/2011 18:39:27,104,15,"Cannot login to MSQL via localhost, CAN via 127.0.0.7 since Lion (OS X 10.7.4 ug)","I've recently upgraded to OS X 10.7.4 from Snow Leopard.

Since then, MySQL can't be accessed via 'localhost' when that is specified as the 'host' for Wordpress sites and PHPMyAdmin etc. If I use 127.0.0.1 it works ok.

A few notes / tests:
- Apache is running and accessible on ""http://localhost"" (and tons of other vhosts)
- I do know the mysql root pass and can login with that using ""/usr/local/mysql/bin/mysql -u 'root' -p""
- If I ping localhost it does resolve to 127.0.0.1.

What should I check or report back to troubleshoot this further? Is there a my.ini or my.cnf file that I need to add 'localhost' to? I've tried to find/locate both those and they don't seem to be present.

Thanks in advance,
Ben",mysql,phpmyadmin,osx-lion,,,05/24/2012 14:44:28,off topic,1,118,15,"Cannot login to MSQL via localhost, CAN via 127.0.0.7 since Lion (OS X 10.7.4 ug) I've recently upgraded to OS X 10.7.4 from Snow Leopard.

Since then, MySQL can't be accessed via 'localhost' when that is specified as the 'host' for Wordpress sites and PHPMyAdmin etc. If I use 127.0.0.1 it works ok.

A few notes / tests:
- Apache is running and accessible on ""http://localhost"" (and tons of other vhosts)
- I do know the mysql root pass and can login with that using ""/usr/local/mysql/bin/mysql -u 'root' -p""
- If I ping localhost it does resolve to 127.0.0.1.

What should I check or report back to troubleshoot this further? Is there a my.ini or my.cnf file that I need to add 'localhost' to? I've tried to find/locate both those and they don't seem to be present.

Thanks in advance,
Ben",3
7492187,09/20/2011 21:46:31,938819,09/11/2011 03:41:38,8,0,MYSQL - Group by Week Question,"I have been trying to display a table of results for weekly sales using mysql, where the results of the week should be like: 

    Sun - Mon - Tues - Wed - Thur - Fri - Sat

So i went ahead and used this mysql:

> ""SELECT DATE_FORMAT(cart_calendar.datefield, '%d-%b') AS DATE,
> IFNULL(SUM(cart_daily_sales.quantity),0) AS total_sales 		FROM
> cart_daily_sales RIGHT JOIN cart_calendar ON
> (DATE(cart_daily_sales.order_date) = cart_calendar.datefield) 		WHERE
> (cart_calendar.datefield) 		GROUP BY WEEK(cart_calendar.datefield)""

I know i'm almost there as this outputs all of the 52 weeks in the year, i only want the current week result unlike the above code that results to this...

    '02-Jan', '09-Jan', '16-Jan', '23-Jan', '30-Jan', '06-Feb', '13-Feb', '20-Feb', '27-Feb', '06-Mar' e.t.c....

I know i can use the BETWEEN operater for todays date and then -7 days but this doesn't  show the current week, if todays day is Wednesday it will show the last seven days to last weeks wednesday, not the correct week structure.

I hope ive made sense.

Help much appreciated.

Thanks",mysql,datetime,grouping,group,,,open,0,163,6,"MYSQL - Group by Week Question I have been trying to display a table of results for weekly sales using mysql, where the results of the week should be like: 

    Sun - Mon - Tues - Wed - Thur - Fri - Sat

So i went ahead and used this mysql:

> ""SELECT DATE_FORMAT(cart_calendar.datefield, '%d-%b') AS DATE,
> IFNULL(SUM(cart_daily_sales.quantity),0) AS total_sales 		FROM
> cart_daily_sales RIGHT JOIN cart_calendar ON
> (DATE(cart_daily_sales.order_date) = cart_calendar.datefield) 		WHERE
> (cart_calendar.datefield) 		GROUP BY WEEK(cart_calendar.datefield)""

I know i'm almost there as this outputs all of the 52 weeks in the year, i only want the current week result unlike the above code that results to this...

    '02-Jan', '09-Jan', '16-Jan', '23-Jan', '30-Jan', '06-Feb', '13-Feb', '20-Feb', '27-Feb', '06-Mar' e.t.c....

I know i can use the BETWEEN operater for todays date and then -7 days but this doesn't  show the current week, if todays day is Wednesday it will show the last seven days to last weeks wednesday, not the correct week structure.

I hope ive made sense.

Help much appreciated.

Thanks",4
5764121,04/23/2011 12:19:38,711206,04/16/2011 14:06:09,15,0,Alternative to block a table.,"I have a table called 'messages' (INNODB) where the user can insert their own posts.
I want to put a limitation. In my php script when the table gets to 10 records, you can not add more. The logic of the program is more or less as follows.

Step 1. I run a query to count the lines that are in the table.
Step 2. Recovered that value, I decide whether to insert a new post.

My difficulty is in properly managing the possibility of two user who do the same thing simultaneously. If the user A is in step 1 while user B has just finished entering the tenth post, user A will include the eleventh.

How to avoid it?",mysql,,,,,,open,0,116,5,"Alternative to block a table. I have a table called 'messages' (INNODB) where the user can insert their own posts.
I want to put a limitation. In my php script when the table gets to 10 records, you can not add more. The logic of the program is more or less as follows.

Step 1. I run a query to count the lines that are in the table.
Step 2. Recovered that value, I decide whether to insert a new post.

My difficulty is in properly managing the possibility of two user who do the same thing simultaneously. If the user A is in step 1 while user B has just finished entering the tenth post, user A will include the eleventh.

How to avoid it?",1
11687964,07/27/2012 12:41:07,1533609,07/18/2012 04:42:07,1504,71,Deleting Entries from Table not reducing my DB file,"Iam usind `INNODB` Engine with `innodb_table_per_file` , so every table has it's own `.ibd` file instead of ibdata1 file.

When i Entered 512 Record in my users table its size get increased to 200kb from 96 kb but when I deleted all rows using Command

    DELETE FROM USERS;

then my `.ibd` file didn't reduce not even by a single byte.

BUT When i delete rows using command

    TRUNCATE TABLE USERS
Then my `.ibd` file got reduced to it's initial size which was on creation that is 96 kb.

Now i Want to know that is here any way to reduce `.ibd` files when i use `DELETE FROM USERS WHERE ... `  command",mysql,sql,innodb,,,07/27/2012 12:51:31,off topic,1,114,9,"Deleting Entries from Table not reducing my DB file Iam usind `INNODB` Engine with `innodb_table_per_file` , so every table has it's own `.ibd` file instead of ibdata1 file.

When i Entered 512 Record in my users table its size get increased to 200kb from 96 kb but when I deleted all rows using Command

    DELETE FROM USERS;

then my `.ibd` file didn't reduce not even by a single byte.

BUT When i delete rows using command

    TRUNCATE TABLE USERS
Then my `.ibd` file got reduced to it's initial size which was on creation that is 96 kb.

Now i Want to know that is here any way to reduce `.ibd` files when i use `DELETE FROM USERS WHERE ... `  command",3
9180320,02/07/2012 16:50:39,313093,04/09/2010 19:01:24,374,7,MySQL order by field,"Hi im trying to order domain data using their status. As you might know, domain status DOM_EXP or DOM_DAKT applies before domain hits DOM_HELD therefore i dont care whitch one of this status has a domain before it became DOM_HELD

How can i order this data? Using select provided below i only achieve that DOM_DAKT is behing DOM_EXP but i want it to be somewhere in between, ordered by exp_date

    SELECT domain_id, status, exp_date 
    FROM domains 
    ORDER BY 
    field (status, 'DOM_DEL', 'DOM_HELD', 'DOM_EXP', 'DOM_DAKT'), 
    exp_date ASC;

    +-----------+----------+---------------------+
    | domain_id | status   | exp_date            |
    +-----------+----------+---------------------+
    |         2 | DOM_DEL  | 2012-02-02 10:47:33 |
    |         4 | DOM_HELD | 2012-02-02 10:47:38 |
    |         5 | DOM_HELD | 2012-02-02 10:47:40 |
    |         7 | DOM_HELD | 2012-02-02 10:47:44 |
    |         1 | DOM_EXP  | 2012-02-02 10:47:27 |
    |         3 | DOM_EXP  | 2012-02-02 10:47:35 |
    |         6 | DOM_EXP  | 2012-02-02 10:47:42 |
    |        54 | DOM_DAKT | 2012-02-02 10:47:39 |
    +-----------+----------+---------------------+

the result have to be like this

    +-----------+----------+---------------------+
    | domain_id | status   | exp_date            |
    +-----------+----------+---------------------+
    |         2 | DOM_DEL  | 2012-02-02 10:47:33 |
    |         4 | DOM_HELD | 2012-02-02 10:47:38 |
    |         5 | DOM_HELD | 2012-02-02 10:47:40 |
    |         7 | DOM_HELD | 2012-02-02 10:47:44 |
    |         1 | DOM_EXP  | 2012-02-02 10:47:27 |
    |         3 | DOM_EXP  | 2012-02-02 10:47:35 |
    |        54 | DOM_DAKT | 2012-02-02 10:47:39 |
    |         6 | DOM_EXP  | 2012-02-02 10:47:42 |
    +-----------+----------+---------------------+



",mysql,order-by,order,ordering,,,open,0,490,4,"MySQL order by field Hi im trying to order domain data using their status. As you might know, domain status DOM_EXP or DOM_DAKT applies before domain hits DOM_HELD therefore i dont care whitch one of this status has a domain before it became DOM_HELD

How can i order this data? Using select provided below i only achieve that DOM_DAKT is behing DOM_EXP but i want it to be somewhere in between, ordered by exp_date

    SELECT domain_id, status, exp_date 
    FROM domains 
    ORDER BY 
    field (status, 'DOM_DEL', 'DOM_HELD', 'DOM_EXP', 'DOM_DAKT'), 
    exp_date ASC;

    +-----------+----------+---------------------+
    | domain_id | status   | exp_date            |
    +-----------+----------+---------------------+
    |         2 | DOM_DEL  | 2012-02-02 10:47:33 |
    |         4 | DOM_HELD | 2012-02-02 10:47:38 |
    |         5 | DOM_HELD | 2012-02-02 10:47:40 |
    |         7 | DOM_HELD | 2012-02-02 10:47:44 |
    |         1 | DOM_EXP  | 2012-02-02 10:47:27 |
    |         3 | DOM_EXP  | 2012-02-02 10:47:35 |
    |         6 | DOM_EXP  | 2012-02-02 10:47:42 |
    |        54 | DOM_DAKT | 2012-02-02 10:47:39 |
    +-----------+----------+---------------------+

the result have to be like this

    +-----------+----------+---------------------+
    | domain_id | status   | exp_date            |
    +-----------+----------+---------------------+
    |         2 | DOM_DEL  | 2012-02-02 10:47:33 |
    |         4 | DOM_HELD | 2012-02-02 10:47:38 |
    |         5 | DOM_HELD | 2012-02-02 10:47:40 |
    |         7 | DOM_HELD | 2012-02-02 10:47:44 |
    |         1 | DOM_EXP  | 2012-02-02 10:47:27 |
    |         3 | DOM_EXP  | 2012-02-02 10:47:35 |
    |        54 | DOM_DAKT | 2012-02-02 10:47:39 |
    |         6 | DOM_EXP  | 2012-02-02 10:47:42 |
    +-----------+----------+---------------------+



",4
10652385,05/18/2012 12:09:49,579182,01/17/2011 22:53:17,73,2,Count occurrences of a field for each group?,"I'm doing a pretty complicated query, and I'm slipping at the very last step.

I have managed to get this far:


    id  refid           system_id   item_description_id	  system_component_id	current_status
    711	4fb62cece5313	49          NULL                  711	                RUNNING
    712	4fb62cece547d	49          NULL                  712	                STOPPED
    713	4fb62cece5616	50          NULL                  713	                RUNNING
    714	4fb62cece5803	50          NULL                  714	                STOPPED
    716	4fb62cece5ab8	51          NULL                  716	                RUNNING

These are the current statuses of every component of each system. What comes next is to group them by system and count the occurrences that are 'STOPPED'.

My problem is that some systems will not have any rows with 'STOPPED', or any rows at all if the system has never been updated. Yet, I still have to get them as part of the result. Just grouping them by system works for all but these two cases, in which the resulting value is '1' even though there are no stopped components at all.

How can I make a query that will return something like this:

    system_id    status_count
    49           1
    50           1
    51           0

And not:

    system_id    status_count
    49           1
    50           1
    51           1

With the above table?",mysql,sql,,,,,open,0,493,8,"Count occurrences of a field for each group? I'm doing a pretty complicated query, and I'm slipping at the very last step.

I have managed to get this far:


    id  refid           system_id   item_description_id	  system_component_id	current_status
    711	4fb62cece5313	49          NULL                  711	                RUNNING
    712	4fb62cece547d	49          NULL                  712	                STOPPED
    713	4fb62cece5616	50          NULL                  713	                RUNNING
    714	4fb62cece5803	50          NULL                  714	                STOPPED
    716	4fb62cece5ab8	51          NULL                  716	                RUNNING

These are the current statuses of every component of each system. What comes next is to group them by system and count the occurrences that are 'STOPPED'.

My problem is that some systems will not have any rows with 'STOPPED', or any rows at all if the system has never been updated. Yet, I still have to get them as part of the result. Just grouping them by system works for all but these two cases, in which the resulting value is '1' even though there are no stopped components at all.

How can I make a query that will return something like this:

    system_id    status_count
    49           1
    50           1
    51           0

And not:

    system_id    status_count
    49           1
    50           1
    51           1

With the above table?",2
9293042,02/15/2012 12:05:18,127511,06/23/2009 11:20:09,487,12,MYSQLDUMP without the password prompt,"I would like to know the command to perform a mysqldump of a database without the prompt for the password.

REASON:
I would like to run a cron job, which takes a mysqldump of the database once everyday. Therefore, I can be able to insert the password when prompted.

How could I solve this ?",mysql,ubuntu,mysqldump,,,,open,0,52,5,"MYSQLDUMP without the password prompt I would like to know the command to perform a mysqldump of a database without the prompt for the password.

REASON:
I would like to run a cron job, which takes a mysqldump of the database once everyday. Therefore, I can be able to insert the password when prompted.

How could I solve this ?",3
10480023,05/07/2012 09:53:31,831371,07/06/2011 10:37:55,664,54,MySQL Server performance,"I have a few questions regarding MySQL server running under Windows Server 2008 R2.

1) How do I check the number of allowed connections?
2) How do I turn on query logging to see performance of queries executed?
3) As I understand MySQL is multithreaded, will increasing the number of allowed connections increase performance on a Quad Core system?
4) Will having a cluster setup increase performance?
5) How can I setup load shedding with multiple MySQL servers in a cluster?

Thanks",mysql,windows-server-2008-r2,,,,05/29/2012 04:35:41,off topic,1,76,3,"MySQL Server performance I have a few questions regarding MySQL server running under Windows Server 2008 R2.

1) How do I check the number of allowed connections?
2) How do I turn on query logging to see performance of queries executed?
3) As I understand MySQL is multithreaded, will increasing the number of allowed connections increase performance on a Quad Core system?
4) Will having a cluster setup increase performance?
5) How can I setup load shedding with multiple MySQL servers in a cluster?

Thanks",2
8935512,01/20/2012 00:54:40,275414,02/17/2010 16:44:35,103,10,Should I be using mySQL or MongoDB,"There is alot of talk at the moment about NoSQL from my understanding Mongodb is one of them, to me the NoSQL seems that it is SQL just not in the same sense that we know mySQL.


Think of it this way, they both store data, one does it by a fixed database with so called limits while another stores data when it thinks it the best time to store data and supposable has not limits or very few.

However this is confusing to web developers who are making the switch or thinking about making the switch. In my case I work for a big teleco company and making a switch like this is something that needs to be really looked at, and we cant relay on something that has no physical being so to say.

Maybe I am not understanding the meaning of NoSQL, maybe I have the meaning correct.

I am in the process at the moment re-writing the whole CMS that we use, and would kinda be nice to know should I spend the time looking at noSQL or keep MySQL (which does not seem to have any issues that the moment)

We only have 5000 rows in the customer details and in the backup with have 14000, it gets backed up just incase the master table decides to screw up.",mysql,mongodb,nosql,,,01/20/2012 03:15:24,not constructive,1,219,7,"Should I be using mySQL or MongoDB There is alot of talk at the moment about NoSQL from my understanding Mongodb is one of them, to me the NoSQL seems that it is SQL just not in the same sense that we know mySQL.


Think of it this way, they both store data, one does it by a fixed database with so called limits while another stores data when it thinks it the best time to store data and supposable has not limits or very few.

However this is confusing to web developers who are making the switch or thinking about making the switch. In my case I work for a big teleco company and making a switch like this is something that needs to be really looked at, and we cant relay on something that has no physical being so to say.

Maybe I am not understanding the meaning of NoSQL, maybe I have the meaning correct.

I am in the process at the moment re-writing the whole CMS that we use, and would kinda be nice to know should I spend the time looking at noSQL or keep MySQL (which does not seem to have any issues that the moment)

We only have 5000 rows in the customer details and in the backup with have 14000, it gets backed up just incase the master table decides to screw up.",3
9618229,03/08/2012 13:15:09,850707,07/18/2011 19:28:52,68,0,Further Improve MySql Query Results Ordering,"I have a query that operates primarily on a full text indexed field.

The query is as follows:

    SELECT
        MATCH (g.GameTitle) AGAINST ('quake ii') as Score,
        g.*, p.id AS platformid,
        p.alias AS PlatformAlias,
        p. name,
        p.icon
    FROM
        games as g,
        platforms as p
    WHERE
        MATCH (g.GameTitle) AGAINST ('quake ii')
        AND g.Platform = p.id;

I would expect mysql to return all results closest to the search string ""quake ii"" towards the top, however this is not the case... in fact, there are two entries in the DB with a game title of ""quake ii"" and these are separated on either end of the score ordering even though they have the same score.

This can be seen in the results here:

    Score               id      GameTitle
    -----               --      ---------
    5.883631706237793	393	    Quake II
    5.883631706237793	777	    Quake
    5.883631706237793	778	    Quake 4
    5.883631706237793	2922	Quake
    5.883631706237793	2924	Quake II
    5.817491054534912	427	    Quake III Arena
    5.817491054534912	2925	Quake III Arena
    5.689572811126709	85	    Enemy Territory: Quake Wars

How could I get the desired results of both ""quake ii"" entries to appear at the top of the results??

Thanks,

Alex
",mysql,query,order,results,,,open,0,319,6,"Further Improve MySql Query Results Ordering I have a query that operates primarily on a full text indexed field.

The query is as follows:

    SELECT
        MATCH (g.GameTitle) AGAINST ('quake ii') as Score,
        g.*, p.id AS platformid,
        p.alias AS PlatformAlias,
        p. name,
        p.icon
    FROM
        games as g,
        platforms as p
    WHERE
        MATCH (g.GameTitle) AGAINST ('quake ii')
        AND g.Platform = p.id;

I would expect mysql to return all results closest to the search string ""quake ii"" towards the top, however this is not the case... in fact, there are two entries in the DB with a game title of ""quake ii"" and these are separated on either end of the score ordering even though they have the same score.

This can be seen in the results here:

    Score               id      GameTitle
    -----               --      ---------
    5.883631706237793	393	    Quake II
    5.883631706237793	777	    Quake
    5.883631706237793	778	    Quake 4
    5.883631706237793	2922	Quake
    5.883631706237793	2924	Quake II
    5.817491054534912	427	    Quake III Arena
    5.817491054534912	2925	Quake III Arena
    5.689572811126709	85	    Enemy Territory: Quake Wars

How could I get the desired results of both ""quake ii"" entries to appear at the top of the results??

Thanks,

Alex
",4
8011898,11/04/2011 15:41:29,795202,06/12/2011 23:51:43,36,1,How to use INNER/OUTER JOIN in MYSQL,"I have 3 tables which contain different types of data related to each other. the tables populate via an excel spreadsheet. I have:

    table1            table2          table3
    item_number       item_number     item_number
    desc              desc            qty_sold
    qty_instock       vdf_cost        upc
    cost              status


What I'm trying to do is use a join function to show all the data as they relate to each other, except the problem is that when I run

    SELECT *
    FROM table1 a
    INNER JOIN table2 b
    ON  a.someColumn = b.otherColumn
    INNER JOIN table3 c
    ON b.anotherColumn = c.nextColumn

It just puts the tables side by side, If I run

    SELECT *
    FROM table1 a
    INNER JOIN table2 b
    USING(item_number)
It works but only joins the item number (i have no idea how to use multiple fields such as description which repeats), and for some reason I can only use the two tables when I try to add a third table (most likely being done completely wrong)

    SELECT *
    FROM table1 a
    INNER JOIN table2 b
    INNER JOIN table3 c
    USING(item_number)
I just get a syntax error.

Thanks for all the help in advance",mysql,sql,,,,,open,0,318,7,"How to use INNER/OUTER JOIN in MYSQL I have 3 tables which contain different types of data related to each other. the tables populate via an excel spreadsheet. I have:

    table1            table2          table3
    item_number       item_number     item_number
    desc              desc            qty_sold
    qty_instock       vdf_cost        upc
    cost              status


What I'm trying to do is use a join function to show all the data as they relate to each other, except the problem is that when I run

    SELECT *
    FROM table1 a
    INNER JOIN table2 b
    ON  a.someColumn = b.otherColumn
    INNER JOIN table3 c
    ON b.anotherColumn = c.nextColumn

It just puts the tables side by side, If I run

    SELECT *
    FROM table1 a
    INNER JOIN table2 b
    USING(item_number)
It works but only joins the item number (i have no idea how to use multiple fields such as description which repeats), and for some reason I can only use the two tables when I try to add a third table (most likely being done completely wrong)

    SELECT *
    FROM table1 a
    INNER JOIN table2 b
    INNER JOIN table3 c
    USING(item_number)
I just get a syntax error.

Thanks for all the help in advance",2
4727907,01/18/2011 18:59:34,74497,03/06/2009 00:42:55,212,4,What are the problems with MySQL that cause it to get bad press?,"I'm primarily a PostgreSQL user and I frequently hear about MySQL getting bad press (much like PHP). However, I don't actually know or understand why this happens. So I'm curious, what are the large problems with MySQL that cause developers to prefer other database solutions, and how real are the problems in the current releases?",mysql,,,,,01/18/2011 19:06:10,not constructive,1,55,13,"What are the problems with MySQL that cause it to get bad press? I'm primarily a PostgreSQL user and I frequently hear about MySQL getting bad press (much like PHP). However, I don't actually know or understand why this happens. So I'm curious, what are the large problems with MySQL that cause developers to prefer other database solutions, and how real are the problems in the current releases?",1
10943549,06/08/2012 05:35:46,1398381,05/16/2012 10:36:33,8,1,Deadlock in MYSQL,"When performing transaction with large number of devices, deadlock error is occurring. I am using MySQL. Huge number of devices will access the database at the same time. This causes Error Code 1205.

Any suggestion...??",mysql,,,,,06/08/2012 08:03:29,not a real question,1,34,3,"Deadlock in MYSQL When performing transaction with large number of devices, deadlock error is occurring. I am using MySQL. Huge number of devices will access the database at the same time. This causes Error Code 1205.

Any suggestion...??",1
1746775,11/17/2009 05:23:49,212609,11/17/2009 05:23:49,1,0,MySQL 6 release date?,"Anyone know when the MySQL 6 release date is?

I've seen a ton of alpha/beta for it but have not seen an actual release date for 6.0

Looks like back in April, MySQL announced the release of [ALPHA version 6.0.11][1]. In that release back in April 2009 they stated that this would be the last ALPHA release and the next release in Sept 2009 would be a release candidate.

Sept 2009 has long since passed and I have not seen any release candidates for MySQL 6 :(

Any ideas as to when I can expect 6.0 to be released?


  [1]: http://forums.mysql.com/read.php?3,263815,263815#msg-263815",mysql,database,release,,,01/19/2012 03:59:33,too localized,1,98,4,"MySQL 6 release date? Anyone know when the MySQL 6 release date is?

I've seen a ton of alpha/beta for it but have not seen an actual release date for 6.0

Looks like back in April, MySQL announced the release of [ALPHA version 6.0.11][1]. In that release back in April 2009 they stated that this would be the last ALPHA release and the next release in Sept 2009 would be a release candidate.

Sept 2009 has long since passed and I have not seen any release candidates for MySQL 6 :(

Any ideas as to when I can expect 6.0 to be released?


  [1]: http://forums.mysql.com/read.php?3,263815,263815#msg-263815",3
11709419,07/29/2012 12:54:14,1436663,06/05/2012 06:30:46,115,0,How to echo an value from mysql by equating variable to row table,"My table name is 'new' and it has 3rows, id name and title ,and i also have an variable 'hi'.What is the mysql query for ,if variable $hi(introduce) == value(introduce) in the 'title' row from 'new' table . then echo introduce.

    
    $hi =""introduce"";

    --------------------- 
    id | name | title |
    ---------------------
     1 | hi   | introduce
     2 | hello| tell me 
 
   ",mysql,,,,,07/30/2012 03:18:56,not a real question,1,93,13,"How to echo an value from mysql by equating variable to row table My table name is 'new' and it has 3rows, id name and title ,and i also have an variable 'hi'.What is the mysql query for ,if variable $hi(introduce) == value(introduce) in the 'title' row from 'new' table . then echo introduce.

    
    $hi =""introduce"";

    --------------------- 
    id | name | title |
    ---------------------
     1 | hi   | introduce
     2 | hello| tell me 
 
   ",1
147992,09/29/2008 08:49:55,3831,08/31/2008 05:31:12,55,5,Is having different users for different types of queries a good practice?,"I am using MySQL and PHP for a project I am working.  I have created separate users for carrying out different functions (one for running select queries, one for running update queries, etc.) to provide an extra layer of security.  This way, I figure if someone does manage to carry out an injection attack (which is unlikely since I am using prepared statements), whatever they are able to do will be limited to the type of query that was originally meant to be run.  Is this a good practice or is it not worth the trouble?  ",mysql,bestpractices,,,,,open,0,101,12,"Is having different users for different types of queries a good practice? I am using MySQL and PHP for a project I am working.  I have created separate users for carrying out different functions (one for running select queries, one for running update queries, etc.) to provide an extra layer of security.  This way, I figure if someone does manage to carry out an injection attack (which is unlikely since I am using prepared statements), whatever they are able to do will be limited to the type of query that was originally meant to be run.  Is this a good practice or is it not worth the trouble?  ",2
7925394,10/28/2011 05:12:06,479987,10/19/2010 02:32:20,97,3,How could I improve my database schema?,"I'm a student and I've created this MySQL database schema for my Service Order Management academic project and I want to know if I need to improve it and, if so, how I could do that.
Thanks for your feedback! :)

    /*
     * Table 'brands'
     */
    CREATE TABLE `brands` (
        `brand_id` INTEGER NOT NULL,
        `equipment_id` INTEGER NOT NULL,
        `brand` VARCHAR(45) NOT NULL,
        CONSTRAINT `pk_brand_id` PRIMARY KEY (`brand_id`),
        CONSTRAINT `fk_equipment_id` FOREIGN KEY (`equipment_id`) REFERENCES `equipments`
    );
    
    /*
     * Table 'cities'
     */
    CREATE TABLE `cities` (
        `city_id` INTEGER NOT NULL,
        `state_id` INTEGER NOT NULL,
        `city` VARCHAR(50) NOT NULL,
        CONSTRAINT `pk_city_id` PRIMARY KEY (`city_id`),
        CONSTRAINT `fk_state_id` FOREIGN KEY (`state_id`) REFERENCES `states`
    );
    
    /*
     * Table 'customers'
     */
    CREATE TABLE `customers` (
        `customer_id` INTEGER NOT NULL,
        `user_id` INTEGER NOT NULL,
        CONSTRAINT `pk_customer_id` PRIMARY KEY (`customer_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`
    );
    
    /*
     * Table 'employees'
     */
    CREATE TABLE `employees` (
        `employee_id` INTEGER NOT NULL,
        `user_id` INTEGER NOT NULL,
        `is_admin` INTEGER NOT NULL,
        CONSTRAINT `pk_employee_id` PRIMARY KEY (`employee_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`,
        CONSTRAINT `ck_is_admin` CHECK (`is_admin` IN (0, 1)) -- unsupported by MySQL
    );
    
    /*
     * Table 'equipments'
     */
    CREATE TABLE `equipments` (
        `equipment_id` INTEGER NOT NULL,
        `equipment` VARCHAR(45) NOT NULL,
        CONSTRAINT `pk_equipment_id` PRIMARY KEY (`equipment_id`)
    );
    
    /*
     * Table 'legal_users'
     */
    CREATE TABLE `legal_users` (
        `user_id` INTEGER NOT NULL,
        `cnpj` CHAR(14) NOT NULL,
        `company_name` VARCHAR(150) NOT NULL,
        `trade_name` VARCHAR(100) NULL,
        `contact_name` VARCHAR(50) NOT NULL,
        `mobile_phone` CHAR(10) NULL,
        `work_phone` CHAR(10) NULL,
        CONSTRAINT `pk_user_id` PRIMARY KEY (`user_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`,
        CONSTRAINT `uc_cnpj` UNIQUE (cnpj)
    );
    
    /*
     * Table 'natural_users'
     */
    CREATE TABLE `natural_users` (
        `user_id` INTEGER NOT NULL,
        `cpf` CHAR(11) NOT NULL,
        `name` VARCHAR(50) NOT NULL,
        `nickname` VARCHAR(30) NULL,
        `sex` CHAR(1) NOT NULL,
        `birth_date` DATE NOT NULL,
        `home_phone` CHAR(10) NULL,
        `mobile_phone` CHAR(10) NULL,
        `work_phone` CHAR(10) NULL, -- ignored for employees
        CONSTRAINT `pk_user_id` PRIMARY KEY (`user_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`,
        CONSTRAINT `uc_cpf` UNIQUE (`cpf`),
        CONSTRAINT `ck_sex` CHECK (`sex` IN ('M', 'F')) -- unsupported by MySQL
    );
    
    /*
     * Table 'service_orders'
     */
    CREATE TABLE `service_orders` (
        `order_id` INTEGER NOT NULL,
        `employee_id` INTEGER NOT NULL,
        `customer_id` INTEGER NOT NULL,
        `opening_date` TIMESTAMP NOT NULL,
        `status` INTEGER NOT NULL,
        `equipment_id` INTEGER NOT NULL,
        `brand_id` INTEGER NOT NULL,
        `model` VARCHAR(20) NOT NULL,
        `serial_number` VARCHAR(20) NULL,
        `under_warranty` INTEGER NOT NULL,
        `defect` TEXT NOT NULL,
        `diagnosis` TEXT NULL,
        `solution` TEXT NULL,
        `maintenance_cost` DECIMAL(6,2) NULL,
        `closing_date` TIMESTAMP NULL,
        `remarks` TEXT NULL,
        CONSTRAINT `pk_order_id` PRIMARY KEY (`order_id`),
        CONSTRAINT `fk_employee_id` FOREIGN KEY (`employee_id`) REFERENCES `employees`,
        CONSTRAINT `fk_customer_id` FOREIGN KEY (`customer_id`) REFERENCES `customers`,
        CONSTRAINT `ck_status` CHECK (`status` IN (0, 5)), -- unsupported by MySQL
        CONSTRAINT `fk_equipment_id` FOREIGN KEY (`equipment_id`) REFERENCES `equipments`,
        CONSTRAINT `fk_brand_id` FOREIGN KEY (`brand_id`) REFERENCES `brands`,
        CONSTRAINT `ck_under_warranty` CHECK (`under_warranty` IN (0, 1)) -- unsupported by MySQL
    );
    
    /*
     * Table 'states'
     */
    CREATE TABLE `states` (
        `state_id` INTEGER NOT NULL,
        `state` VARCHAR(20) NOT NULL,
        `code` CHAR(2) NOT NULL,
        CONSTRAINT `pk_state_id` PRIMARY KEY (`state_id`),
        CONSTRAINT `uc_state` UNIQUE (`state`),
        CONSTRAINT `uc_code` UNIQUE (code)
    );
    
    /*
     * Table 'users'
     */
    CREATE TABLE `users` (
        `user_id` INTEGER NOT NULL,
        `person_type` CHAR(1) NOT NULL,
        `postal_code` CHAR(8) NOT NULL,
        `address` VARCHAR(60) NOT NULL,
        `number` INTEGER NULL,
        `complement` VARCHAR(50) NULL,
        `neighborhood` VARCHAR(30) NOT NULL,
        `city_id` INTEGER NOT NULL,
        `email` VARCHAR(150) NOT NULL,
        `password` CHAR(40) NOT NULL,
        `remarks` TEXT NULL,
        `is_active` INTEGER NOT NULL DEFAULT 1,
        CONSTRAINT `pk_user_id` PRIMARY KEY (`user_id`),
        CONSTRAINT `ck_person_type` CHECK (`person_type` IN ('F', 'J')), -- unsupported by MySQL
        CONSTRAINT `fk_city_id` FOREIGN KEY (`city_id`) REFERENCES `cities`,
        CONSTRAINT `uc_email` UNIQUE (`email`),
        CONSTRAINT `ck_is_active` CHECK (`is_active` IN (0, 1)) -- unsupported by MySQL
    );",mysql,sql,database-schema,,,10/28/2011 10:26:19,off topic,1,1433,7,"How could I improve my database schema? I'm a student and I've created this MySQL database schema for my Service Order Management academic project and I want to know if I need to improve it and, if so, how I could do that.
Thanks for your feedback! :)

    /*
     * Table 'brands'
     */
    CREATE TABLE `brands` (
        `brand_id` INTEGER NOT NULL,
        `equipment_id` INTEGER NOT NULL,
        `brand` VARCHAR(45) NOT NULL,
        CONSTRAINT `pk_brand_id` PRIMARY KEY (`brand_id`),
        CONSTRAINT `fk_equipment_id` FOREIGN KEY (`equipment_id`) REFERENCES `equipments`
    );
    
    /*
     * Table 'cities'
     */
    CREATE TABLE `cities` (
        `city_id` INTEGER NOT NULL,
        `state_id` INTEGER NOT NULL,
        `city` VARCHAR(50) NOT NULL,
        CONSTRAINT `pk_city_id` PRIMARY KEY (`city_id`),
        CONSTRAINT `fk_state_id` FOREIGN KEY (`state_id`) REFERENCES `states`
    );
    
    /*
     * Table 'customers'
     */
    CREATE TABLE `customers` (
        `customer_id` INTEGER NOT NULL,
        `user_id` INTEGER NOT NULL,
        CONSTRAINT `pk_customer_id` PRIMARY KEY (`customer_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`
    );
    
    /*
     * Table 'employees'
     */
    CREATE TABLE `employees` (
        `employee_id` INTEGER NOT NULL,
        `user_id` INTEGER NOT NULL,
        `is_admin` INTEGER NOT NULL,
        CONSTRAINT `pk_employee_id` PRIMARY KEY (`employee_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`,
        CONSTRAINT `ck_is_admin` CHECK (`is_admin` IN (0, 1)) -- unsupported by MySQL
    );
    
    /*
     * Table 'equipments'
     */
    CREATE TABLE `equipments` (
        `equipment_id` INTEGER NOT NULL,
        `equipment` VARCHAR(45) NOT NULL,
        CONSTRAINT `pk_equipment_id` PRIMARY KEY (`equipment_id`)
    );
    
    /*
     * Table 'legal_users'
     */
    CREATE TABLE `legal_users` (
        `user_id` INTEGER NOT NULL,
        `cnpj` CHAR(14) NOT NULL,
        `company_name` VARCHAR(150) NOT NULL,
        `trade_name` VARCHAR(100) NULL,
        `contact_name` VARCHAR(50) NOT NULL,
        `mobile_phone` CHAR(10) NULL,
        `work_phone` CHAR(10) NULL,
        CONSTRAINT `pk_user_id` PRIMARY KEY (`user_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`,
        CONSTRAINT `uc_cnpj` UNIQUE (cnpj)
    );
    
    /*
     * Table 'natural_users'
     */
    CREATE TABLE `natural_users` (
        `user_id` INTEGER NOT NULL,
        `cpf` CHAR(11) NOT NULL,
        `name` VARCHAR(50) NOT NULL,
        `nickname` VARCHAR(30) NULL,
        `sex` CHAR(1) NOT NULL,
        `birth_date` DATE NOT NULL,
        `home_phone` CHAR(10) NULL,
        `mobile_phone` CHAR(10) NULL,
        `work_phone` CHAR(10) NULL, -- ignored for employees
        CONSTRAINT `pk_user_id` PRIMARY KEY (`user_id`),
        CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users`,
        CONSTRAINT `uc_cpf` UNIQUE (`cpf`),
        CONSTRAINT `ck_sex` CHECK (`sex` IN ('M', 'F')) -- unsupported by MySQL
    );
    
    /*
     * Table 'service_orders'
     */
    CREATE TABLE `service_orders` (
        `order_id` INTEGER NOT NULL,
        `employee_id` INTEGER NOT NULL,
        `customer_id` INTEGER NOT NULL,
        `opening_date` TIMESTAMP NOT NULL,
        `status` INTEGER NOT NULL,
        `equipment_id` INTEGER NOT NULL,
        `brand_id` INTEGER NOT NULL,
        `model` VARCHAR(20) NOT NULL,
        `serial_number` VARCHAR(20) NULL,
        `under_warranty` INTEGER NOT NULL,
        `defect` TEXT NOT NULL,
        `diagnosis` TEXT NULL,
        `solution` TEXT NULL,
        `maintenance_cost` DECIMAL(6,2) NULL,
        `closing_date` TIMESTAMP NULL,
        `remarks` TEXT NULL,
        CONSTRAINT `pk_order_id` PRIMARY KEY (`order_id`),
        CONSTRAINT `fk_employee_id` FOREIGN KEY (`employee_id`) REFERENCES `employees`,
        CONSTRAINT `fk_customer_id` FOREIGN KEY (`customer_id`) REFERENCES `customers`,
        CONSTRAINT `ck_status` CHECK (`status` IN (0, 5)), -- unsupported by MySQL
        CONSTRAINT `fk_equipment_id` FOREIGN KEY (`equipment_id`) REFERENCES `equipments`,
        CONSTRAINT `fk_brand_id` FOREIGN KEY (`brand_id`) REFERENCES `brands`,
        CONSTRAINT `ck_under_warranty` CHECK (`under_warranty` IN (0, 1)) -- unsupported by MySQL
    );
    
    /*
     * Table 'states'
     */
    CREATE TABLE `states` (
        `state_id` INTEGER NOT NULL,
        `state` VARCHAR(20) NOT NULL,
        `code` CHAR(2) NOT NULL,
        CONSTRAINT `pk_state_id` PRIMARY KEY (`state_id`),
        CONSTRAINT `uc_state` UNIQUE (`state`),
        CONSTRAINT `uc_code` UNIQUE (code)
    );
    
    /*
     * Table 'users'
     */
    CREATE TABLE `users` (
        `user_id` INTEGER NOT NULL,
        `person_type` CHAR(1) NOT NULL,
        `postal_code` CHAR(8) NOT NULL,
        `address` VARCHAR(60) NOT NULL,
        `number` INTEGER NULL,
        `complement` VARCHAR(50) NULL,
        `neighborhood` VARCHAR(30) NOT NULL,
        `city_id` INTEGER NOT NULL,
        `email` VARCHAR(150) NOT NULL,
        `password` CHAR(40) NOT NULL,
        `remarks` TEXT NULL,
        `is_active` INTEGER NOT NULL DEFAULT 1,
        CONSTRAINT `pk_user_id` PRIMARY KEY (`user_id`),
        CONSTRAINT `ck_person_type` CHECK (`person_type` IN ('F', 'J')), -- unsupported by MySQL
        CONSTRAINT `fk_city_id` FOREIGN KEY (`city_id`) REFERENCES `cities`,
        CONSTRAINT `uc_email` UNIQUE (`email`),
        CONSTRAINT `ck_is_active` CHECK (`is_active` IN (0, 1)) -- unsupported by MySQL
    );",3
11195271,06/25/2012 18:38:08,849018,07/17/2011 20:04:15,1,0,What is the best character set for email field?," - binary
 - utf8_bin
 - utf8_unicode_ci
 - utf8_general_ci

Which one is the best for storing unique emails in a MySql database?

*Note: That email field will be used for user login.*",mysql,,,,,,open,0,30,9,"What is the best character set for email field?  - binary
 - utf8_bin
 - utf8_unicode_ci
 - utf8_general_ci

Which one is the best for storing unique emails in a MySql database?

*Note: That email field will be used for user login.*",1
7467252,09/19/2011 06:35:57,841847,07/13/2011 02:03:06,41,3,I need advice on choosing the right database for Large many-to-many dataset,"i need an advice choosing between mysql and mongodb.

basically i need 7 tables Artists, Tracks, Albums, Clips, Tags, Ratings, Users

the databases i looked at are myqsl and mongodb, and i need help choosing the right one for this project.

the problem i see with mysql is the ugly unmaintanable code the complex joins i will have to do to bring the content the way i want it, plus i will have to create more than 7 tables for the relationships. on the other hand with mongo i can just reference artist tracks from within its document.

wich one should i choose?

 ",mysql,mongodb,many-to-many,,,09/19/2011 06:47:29,off topic,1,100,12,"I need advice on choosing the right database for Large many-to-many dataset i need an advice choosing between mysql and mongodb.

basically i need 7 tables Artists, Tracks, Albums, Clips, Tags, Ratings, Users

the databases i looked at are myqsl and mongodb, and i need help choosing the right one for this project.

the problem i see with mysql is the ugly unmaintanable code the complex joins i will have to do to bring the content the way i want it, plus i will have to create more than 7 tables for the relationships. on the other hand with mongo i can just reference artist tracks from within its document.

wich one should i choose?

 ",3
11298851,07/02/2012 18:05:50,1191155,02/05/2012 21:10:18,28,0,Table cache hit rate is 0% - is that a huge concern?,"Hi all of a sudden my server has slowed to a crawl, queries that were 0.10 of a second consistently now taking 20 seconds.  somewhat randomly, sometimes it snaps right back.  so I have a really sudden and harsh performance problem.

I ran mysqltuner.pl and it reported one thing that might be a problem :

    [!!] Table cache hit rate: 0% (400 open / 1M opened)

I am just starting to delve into this performance problem, but does anyone know if this a big immediate red flag?

I can do some DD but am pressed right now.  any help much appreciated.

Don",mysql,,,,,07/03/2012 02:50:12,off topic,1,104,12,"Table cache hit rate is 0% - is that a huge concern? Hi all of a sudden my server has slowed to a crawl, queries that were 0.10 of a second consistently now taking 20 seconds.  somewhat randomly, sometimes it snaps right back.  so I have a really sudden and harsh performance problem.

I ran mysqltuner.pl and it reported one thing that might be a problem :

    [!!] Table cache hit rate: 0% (400 open / 1M opened)

I am just starting to delve into this performance problem, but does anyone know if this a big immediate red flag?

I can do some DD but am pressed right now.  any help much appreciated.

Don",1
10627397,05/16/2012 22:03:18,586131,01/23/2011 04:20:09,528,20,Oracle's MySQL vs. MariaDB vs. Drizzle,"I've used MySQL in the past but I have not touched it since around when Oracle bought Sun. Now that Oracle has began pushing out their own MySQL updates on the 5.x branch I've pondered the following:

There is the Oracle branch as well as two popular forks: Maria and Drizzle. I've been trying to find an objective comparison as to why I would consider one of the two forks instead of using the Oracle branch. I've also been trying to figure out what are the main proponents for each fork that make them differ from the Oracle branch.

These are some specifics that I thought of while searching:  

 - Drizzle's website says that they have re-organized the code to make it more plugin-based - what is the benefit of that?

 - Maria's website says that they have made some enhancements but I don't really understand what is so great about them.

 - Are any of Oracle's updates relevant to the common developer?",mysql,mariadb,drizzle,,,05/17/2012 13:52:18,not constructive,1,163,6,"Oracle's MySQL vs. MariaDB vs. Drizzle I've used MySQL in the past but I have not touched it since around when Oracle bought Sun. Now that Oracle has began pushing out their own MySQL updates on the 5.x branch I've pondered the following:

There is the Oracle branch as well as two popular forks: Maria and Drizzle. I've been trying to find an objective comparison as to why I would consider one of the two forks instead of using the Oracle branch. I've also been trying to figure out what are the main proponents for each fork that make them differ from the Oracle branch.

These are some specifics that I thought of while searching:  

 - Drizzle's website says that they have re-organized the code to make it more plugin-based - what is the benefit of that?

 - Maria's website says that they have made some enhancements but I don't really understand what is so great about them.

 - Are any of Oracle's updates relevant to the common developer?",3
5488600,03/30/2011 15:38:11,681991,03/29/2011 11:57:14,1,0,Iphone itunes delete my backups i must create a new manifast file please help me,"i have a special aks to iphone programms esoecially itunes. I must make a new manifest.mbdb with my old backups because itunes delete all files from my harddisk and i undelete it again but i cant read the file without a new manifest.mbdb file. Who can help me what i can do to get my files in a new manifest file that i tunes can read my backup and i can use it again.

Please write me no one can help me apple cant help me too :-(

Or perhabs you know a website how is god to help me.

Greetings Jochen",mysql,iphone-sdk-4.0,manifest,,,03/30/2011 18:23:15,off topic,1,99,15,"Iphone itunes delete my backups i must create a new manifast file please help me i have a special aks to iphone programms esoecially itunes. I must make a new manifest.mbdb with my old backups because itunes delete all files from my harddisk and i undelete it again but i cant read the file without a new manifest.mbdb file. Who can help me what i can do to get my files in a new manifest file that i tunes can read my backup and i can use it again.

Please write me no one can help me apple cant help me too :-(

Or perhabs you know a website how is god to help me.

Greetings Jochen",3
4842031,01/30/2011 08:58:01,443694,09/09/2010 17:46:08,85,6,Optimizing Drupal via PHP Apatche and Mysql optimization,"I installed Drupal common from acquia and using it for my college Intranet Website. I configured it on Ubuntu lucid lynx Desktop edition running latest XAMPP. I want to increase the performance of the website. My databse server and webserver is on same machine.

Can any one suggest methos to increase the performance on following point

 1. What should be the ideal hardware configuration
 2. What parameters should i change in PHP to run it for best performance?
 3. How can I optimize apache and My SQL to get best performance out of both??
 4. are there tweaks in drupal which can make it more faster?
 5. Are there any additional packages for caching etc which can improve the speed??


",mysql,drupal,php5,optimization,apache2,,open,0,119,8,"Optimizing Drupal via PHP Apatche and Mysql optimization I installed Drupal common from acquia and using it for my college Intranet Website. I configured it on Ubuntu lucid lynx Desktop edition running latest XAMPP. I want to increase the performance of the website. My databse server and webserver is on same machine.

Can any one suggest methos to increase the performance on following point

 1. What should be the ideal hardware configuration
 2. What parameters should i change in PHP to run it for best performance?
 3. How can I optimize apache and My SQL to get best performance out of both??
 4. are there tweaks in drupal which can make it more faster?
 5. Are there any additional packages for caching etc which can improve the speed??


",5
7253077,08/31/2011 05:52:56,921009,08/31/2011 05:47:57,1,0,Perl Script To input MySql Querries and output in CSV,"Hi I would like to write a PERL script where I can input some select queries in MYSQL and output should come in .csv format in between some date range.I am newbie to perl and this task is very important any help would be appreciated.

I have 4 select queries and I should be able to use flag to take output of each query in separate csv file.

Thanks in Advance!!",mysql,perl,,,,09/04/2011 00:13:58,not a real question,1,69,10,"Perl Script To input MySql Querries and output in CSV Hi I would like to write a PERL script where I can input some select queries in MYSQL and output should come in .csv format in between some date range.I am newbie to perl and this task is very important any help would be appreciated.

I have 4 select queries and I should be able to use flag to take output of each query in separate csv file.

Thanks in Advance!!",2
11440078,07/11/2012 19:33:57,825421,07/01/2011 19:22:39,103,3,Web app for learning (My)SQL with Gamification,"I manage a department where MySQL skills will soon be a requirement and we need to train our existing staff. Providing books and even paying for MySQL classes at the local college are an option; but even better, I would like to create some healthy competition within the department and inspire employees to pursue the needed skill set on their own.

Ideally, we would offer a gamified online app that teaches (My)SQL. Leaderboards would be a big selling point.

I spent some time Googling, but came back empty-handed. Does anyone know of an existing site (paid is fine) that would fit the bill? In lieu of that, can anyone recommend gamification platforms that we could build upon?",mysql,sql,competitions,,,07/13/2012 15:39:30,not constructive,1,115,7,"Web app for learning (My)SQL with Gamification I manage a department where MySQL skills will soon be a requirement and we need to train our existing staff. Providing books and even paying for MySQL classes at the local college are an option; but even better, I would like to create some healthy competition within the department and inspire employees to pursue the needed skill set on their own.

Ideally, we would offer a gamified online app that teaches (My)SQL. Leaderboards would be a big selling point.

I spent some time Googling, but came back empty-handed. Does anyone know of an existing site (paid is fine) that would fit the bill? In lieu of that, can anyone recommend gamification platforms that we could build upon?",3
10509580,05/09/2012 03:50:34,1277956,03/19/2012 06:19:52,26,3,Mysql weird data in column 4294967294,"This is the second time I've got 4294967294 value in this table. I have no clue where it's coming from. I checked my mysql.log and it doesn't show up anywhere there. 

data type is int(3)

What's the deal?

Any help would be appreciated!",mysql,,,,,05/10/2012 13:47:35,not a real question,1,41,6,"Mysql weird data in column 4294967294 This is the second time I've got 4294967294 value in this table. I have no clue where it's coming from. I checked my mysql.log and it doesn't show up anywhere there. 

data type is int(3)

What's the deal?

Any help would be appreciated!",1
11539293,07/18/2012 10:28:22,984178,10/07/2011 14:33:31,1,1,Unsecured MySQL 'root'@'localhost' account accessed remotely?,"A little background: We've just had our PBX system hacked. The server itself seems secure (no logged unauthorised access), but somehow the hackers have managed to inject a new admin user into the PBX software (FreePBX, backed by MySQL). Apache logs imply that the hackers managed to add the user without using the web interface (or any exploit in the web interface).

Now, I have since discovered that MySQL was running without a root password (!!) and openly bound to the external IP address (Obviously, I have locked this down now). However, the only root level user in MySQL was `'root'@'localhost'` and `'root'@'127.0.0.1'`, both of which should only have been accessible locally. 

So, my question is this:

**Is there a way of spoofing a connection to MySQL so that it will allow connection to the 'root'@'localhost' user from a remote IP address, WITHOUT running any other exploit locally?** 

For reference, the box is Centos 5 (Linux 2.6.10) running Mysql 5.0.95.",mysql,security,hacking,,,07/19/2012 03:02:19,off topic,1,158,6,"Unsecured MySQL 'root'@'localhost' account accessed remotely? A little background: We've just had our PBX system hacked. The server itself seems secure (no logged unauthorised access), but somehow the hackers have managed to inject a new admin user into the PBX software (FreePBX, backed by MySQL). Apache logs imply that the hackers managed to add the user without using the web interface (or any exploit in the web interface).

Now, I have since discovered that MySQL was running without a root password (!!) and openly bound to the external IP address (Obviously, I have locked this down now). However, the only root level user in MySQL was `'root'@'localhost'` and `'root'@'127.0.0.1'`, both of which should only have been accessible locally. 

So, my question is this:

**Is there a way of spoofing a connection to MySQL so that it will allow connection to the 'root'@'localhost' user from a remote IP address, WITHOUT running any other exploit locally?** 

For reference, the box is Centos 5 (Linux 2.6.10) running Mysql 5.0.95.",3
6560756,07/03/2011 02:31:28,581669,01/19/2011 15:29:10,1,0,Master/Slave Mysql Architecture vs Server/Read DB and Separate DB for writes only,What are the advantages and disadvantages for Master/Slave type mysql architectures vs load balancing web servers with read only db's in each using a separate server holding a mysql database just for the writes?,mysql,architecture,,,,07/03/2011 08:37:39,not a real question,1,34,12,Master/Slave Mysql Architecture vs Server/Read DB and Separate DB for writes only What are the advantages and disadvantages for Master/Slave type mysql architectures vs load balancing web servers with read only db's in each using a separate server holding a mysql database just for the writes?,2
2904448,05/25/2010 12:19:02,251257,01/15/2010 03:25:09,122,3,How to Resolve MySQL Error? Chaining Named Scopes,"I'm trying to chain two named_scopes in my User model.

The first:

      named_scope :commentors, lambda { |*args|
          { :select => 'users.*, count(*) as total_comments',
            :joins => :comments,
            :conditions => { :comments => { :public_comment => 1, :aasm_state => 'posted', :talkboard_user_id => nil} },
            :group => 'users.id',
            :having => ['total_comments > ?', args.first || 0],
            :order => 'total_comments desc' }
          } 

The second:

      named_scope :not_awarded_badge, lambda { |badge_id|
        { :include => :awards,
          :conditions => [ ""? not in (select awards.badge_id from awards where awards.user_id = users.id)"", badge_id ]
        }
      }

I am trying to chain the two like this:

    User.commentors(25).not_awarded_badge(1)

However, I get the following error:

    Mysql::Error: Unknown column 'total_comments' in 'order clause': SELECT `users`.`id`...

How can I resolve this issue?",mysql,ruby-on-rails,named-scope,,,,open,0,233,8,"How to Resolve MySQL Error? Chaining Named Scopes I'm trying to chain two named_scopes in my User model.

The first:

      named_scope :commentors, lambda { |*args|
          { :select => 'users.*, count(*) as total_comments',
            :joins => :comments,
            :conditions => { :comments => { :public_comment => 1, :aasm_state => 'posted', :talkboard_user_id => nil} },
            :group => 'users.id',
            :having => ['total_comments > ?', args.first || 0],
            :order => 'total_comments desc' }
          } 

The second:

      named_scope :not_awarded_badge, lambda { |badge_id|
        { :include => :awards,
          :conditions => [ ""? not in (select awards.badge_id from awards where awards.user_id = users.id)"", badge_id ]
        }
      }

I am trying to chain the two like this:

    User.commentors(25).not_awarded_badge(1)

However, I get the following error:

    Mysql::Error: Unknown column 'total_comments' in 'order clause': SELECT `users`.`id`...

How can I resolve this issue?",3
3881751,10/07/2010 12:47:15,182399,10/01/2009 10:04:32,13,0,mySQL show database for user,"Anyone knows the mySQL syntax to show the database names that a specific user has the privilege to see in a mySQL database? Say the user is 'dimitris' accessing a database at 'localhost', what would be the syntax to see all databases he has the privilege to select, update, insert etc?

Dimitris ",mysql,,,,,,open,0,52,5,"mySQL show database for user Anyone knows the mySQL syntax to show the database names that a specific user has the privilege to see in a mySQL database? Say the user is 'dimitris' accessing a database at 'localhost', what would be the syntax to see all databases he has the privilege to select, update, insert etc?

Dimitris ",1
5804726,04/27/2011 13:17:06,367401,06/15/2010 14:55:02,492,31,Importing to InDesign from XML,"I have asked a similar question before, but didn't get very good results. I've looked into it a little more and I think this is the best way to tackle it. However, I'm stuck on the final part of the question, so any assistance would be gratefully received:

I am currently working on a new book which comprises a large amount of data. The data already exists in a MySQL database, and I'm fairly certain that I can import the information relatively easily into Adobe InDesign using the XML file format. 

However, my problem is that each item in the database has a unique number (five digits in length). The last two digits of this number are used to colour a simple bar code as follows:

Top Row > Penultimate Digit
Second Row > Last Digit
Third Row > Penultimate Digit

The digits 0 to 9 are assigned with a specific colour and the bars are coloured accordingly. For example, the number 43256 would result in the barcode looking lik RED GREEN RED.

Does anyone know how I might be able to auotmate this process using InDesign? The database contains more than 2,500 items, and I do not want to manually go through each one and assign the colours to the barcode.

Any thoughts and comments would be most welcome.

Thanks and kind regards,
Ben.",mysql,xml,import,adobe,indesign,,open,0,216,5,"Importing to InDesign from XML I have asked a similar question before, but didn't get very good results. I've looked into it a little more and I think this is the best way to tackle it. However, I'm stuck on the final part of the question, so any assistance would be gratefully received:

I am currently working on a new book which comprises a large amount of data. The data already exists in a MySQL database, and I'm fairly certain that I can import the information relatively easily into Adobe InDesign using the XML file format. 

However, my problem is that each item in the database has a unique number (five digits in length). The last two digits of this number are used to colour a simple bar code as follows:

Top Row > Penultimate Digit
Second Row > Last Digit
Third Row > Penultimate Digit

The digits 0 to 9 are assigned with a specific colour and the bars are coloured accordingly. For example, the number 43256 would result in the barcode looking lik RED GREEN RED.

Does anyone know how I might be able to auotmate this process using InDesign? The database contains more than 2,500 items, and I do not want to manually go through each one and assign the colours to the barcode.

Any thoughts and comments would be most welcome.

Thanks and kind regards,
Ben.",5
5943544,05/09/2011 23:15:21,363247,06/10/2010 08:47:00,55,10,Automated Website (Files + Mysql database) backup on Linux ?,"Is there a free and simple to use program to do automatic website backup ?

The program should be able to upload website files and mysql database to a remote ftp location where the backup are to be stored so that, in case the machine is broken, one can restore things.

The target system is Linux (I am using Ubunto server)

Thank you in advance.",mysql,linux,website,backup,automatic,05/10/2011 12:33:41,off topic,1,62,10,"Automated Website (Files + Mysql database) backup on Linux ? Is there a free and simple to use program to do automatic website backup ?

The program should be able to upload website files and mysql database to a remote ftp location where the backup are to be stored so that, in case the machine is broken, one can restore things.

The target system is Linux (I am using Ubunto server)

Thank you in advance.",5
1826980,12/01/2009 15:37:06,195192,10/23/2009 09:43:35,1,3,"HOw do I draw a mysql polygon circle, and not a squar?","The function below creates a polygon square out of 4 points and I assume the last 5th point closed the squar, I need it to have at least 24 points and to make up a circle. Any ideas?

    function getRadius($point=""POINT(-29.8368 30.9096)"", $radius=2)
    {
        $km = 0.009;
        $center = ""GeomFromText('$point')"";
            $radius = $radius*$km;
            $bbox = ""CONCAT('POLYGON((',
                    X($center) - $radius, ' ', Y($center) - $radius, ',',
                    X($center) + $radius, ' ', Y($center) - $radius, ',',
                    X($center) + $radius, ' ', Y($center) + $radius, ',',
                    X($center) - $radius, ' ', Y($center) + $radius, ',',
                    X($center) - $radius, ' ', Y($center) - $radius, '
            ))')"";
    
        $query = $this->db->query(""
            SELECT id, AsText(latLng) AS latLng, (SQRT(POW( ABS( X(latLng) - X({$center})), 2) + POW( ABS(Y(latLng) - Y({$center})), 2 )))/0.009 AS distance
            FROM crime_listing
            WHERE Intersects( latLng, GeomFromText($bbox) )
            AND SQRT(POW( ABS( X(latLng) - X({$center})), 2) + POW( ABS(Y(latLng) - Y({$center})), 2 )) < $radius
            ORDER BY distance
                    "");
    
        if($query->num_rows()>0){
                    return($query->result());
            }else{
                    return false;
            }
    }

",mysql,circle,polygon,geometry,geospatial,,open,0,465,12,"HOw do I draw a mysql polygon circle, and not a squar? The function below creates a polygon square out of 4 points and I assume the last 5th point closed the squar, I need it to have at least 24 points and to make up a circle. Any ideas?

    function getRadius($point=""POINT(-29.8368 30.9096)"", $radius=2)
    {
        $km = 0.009;
        $center = ""GeomFromText('$point')"";
            $radius = $radius*$km;
            $bbox = ""CONCAT('POLYGON((',
                    X($center) - $radius, ' ', Y($center) - $radius, ',',
                    X($center) + $radius, ' ', Y($center) - $radius, ',',
                    X($center) + $radius, ' ', Y($center) + $radius, ',',
                    X($center) - $radius, ' ', Y($center) + $radius, ',',
                    X($center) - $radius, ' ', Y($center) - $radius, '
            ))')"";
    
        $query = $this->db->query(""
            SELECT id, AsText(latLng) AS latLng, (SQRT(POW( ABS( X(latLng) - X({$center})), 2) + POW( ABS(Y(latLng) - Y({$center})), 2 )))/0.009 AS distance
            FROM crime_listing
            WHERE Intersects( latLng, GeomFromText($bbox) )
            AND SQRT(POW( ABS( X(latLng) - X({$center})), 2) + POW( ABS(Y(latLng) - Y({$center})), 2 )) < $radius
            ORDER BY distance
                    "");
    
        if($query->num_rows()>0){
                    return($query->result());
            }else{
                    return false;
            }
    }

",5
6607312,07/07/2011 07:34:41,673664,03/23/2011 18:33:48,1365,85,Retrieving a Movie's Showtimes grouped by Theater: Movie->Showtimes<-Theater in CakePHP,"When you view a movie, I want to show the showtimes (movie_times table) organized by Theater.  I can get all the data just fine, but it's returning the Theater data with EVERY MovieTime like this:

    [0] =>
        [Movie] =>
            [name] => Herp de Derp
        [MovieTime] =>
            [0] =>
                [datetime] => 2011-07-06 18:30:00
                [Theater] =>
                    [name] => Awesome Cinemas
                    [address] => 1234 Street Ln
            [1] =>
                [datetime] => 2011-07-06 20:30:00
                [Theater] =>
                    [name] => Awesome Cinemas
                    [address] => 1234 Street Ln
            [2] =>
                [datetime] => 2011-07-06 20:30:00
                [Theater] =>
                    [name] => Crappy Movies 10
                    [address] => 678 Avenue St

As you can imagine, there is a TON of duplication with the theater data.

Is there a way I can get this same data, but instead, get the Theater data grouped with the movie_times within it like this?:

    [0] =>
        [Movie] =>
            [name] => Herp de Derp
        [Theater] =>
            [0] =>
                [name] => Awesome Cinemas
                [address] => 1234 Street Ln
                [MovieTime] =>
                    [0] =>
                        [datetime] => 2011-07-06 18:30:00
                    [1] =>
                        [datetime] => 2011-07-06 20:30:00
                    [2] =>
                        [datetime] => 2011-07-06 22:30:00

            [1] =>
                [name] => Awesome Cinemas
                [address] => 1234 Street Ln

            

My associations are the following:

    Movie hasMany MovieTime
    MovieTime belongsTo Movie

    Theater hasMany MovieTime
    MovieTime belongsTo Theater

As you can see, there's no direct link between Movie and Theater - it's using the `MovieTime` as a go-between.  The associations make logical sense (to me at least) - but if I have to change them to a different (but also logical) setup, I'm certainly willing to hear it.

I'm using this to get my data currently:

    		$data = $this->find(""first"", array(
				'conditions' => array(
					array('Movie.slug' => $slug)
				),
				'fields' => array('id', 'name', 'slug', 'url', 'runtime'),
				'contain' => array(
					'MovieTime' => array(
						'fields' => array('datetime', 'screen_number'),
						'Theater' => array(
							'fields' => array('id', 'slug', 'name', 'address', 'phone'),
							'City' => array(
								'fields' => array('id', 'name', 'st')
							),
						),
					),
				),
			)
		);

",mysql,cakephp,associations,cakephp-1.3,,,open,0,839,10,"Retrieving a Movie's Showtimes grouped by Theater: Movie->Showtimes<-Theater in CakePHP When you view a movie, I want to show the showtimes (movie_times table) organized by Theater.  I can get all the data just fine, but it's returning the Theater data with EVERY MovieTime like this:

    [0] =>
        [Movie] =>
            [name] => Herp de Derp
        [MovieTime] =>
            [0] =>
                [datetime] => 2011-07-06 18:30:00
                [Theater] =>
                    [name] => Awesome Cinemas
                    [address] => 1234 Street Ln
            [1] =>
                [datetime] => 2011-07-06 20:30:00
                [Theater] =>
                    [name] => Awesome Cinemas
                    [address] => 1234 Street Ln
            [2] =>
                [datetime] => 2011-07-06 20:30:00
                [Theater] =>
                    [name] => Crappy Movies 10
                    [address] => 678 Avenue St

As you can imagine, there is a TON of duplication with the theater data.

Is there a way I can get this same data, but instead, get the Theater data grouped with the movie_times within it like this?:

    [0] =>
        [Movie] =>
            [name] => Herp de Derp
        [Theater] =>
            [0] =>
                [name] => Awesome Cinemas
                [address] => 1234 Street Ln
                [MovieTime] =>
                    [0] =>
                        [datetime] => 2011-07-06 18:30:00
                    [1] =>
                        [datetime] => 2011-07-06 20:30:00
                    [2] =>
                        [datetime] => 2011-07-06 22:30:00

            [1] =>
                [name] => Awesome Cinemas
                [address] => 1234 Street Ln

            

My associations are the following:

    Movie hasMany MovieTime
    MovieTime belongsTo Movie

    Theater hasMany MovieTime
    MovieTime belongsTo Theater

As you can see, there's no direct link between Movie and Theater - it's using the `MovieTime` as a go-between.  The associations make logical sense (to me at least) - but if I have to change them to a different (but also logical) setup, I'm certainly willing to hear it.

I'm using this to get my data currently:

    		$data = $this->find(""first"", array(
				'conditions' => array(
					array('Movie.slug' => $slug)
				),
				'fields' => array('id', 'name', 'slug', 'url', 'runtime'),
				'contain' => array(
					'MovieTime' => array(
						'fields' => array('datetime', 'screen_number'),
						'Theater' => array(
							'fields' => array('id', 'slug', 'name', 'address', 'phone'),
							'City' => array(
								'fields' => array('id', 'name', 'st')
							),
						),
					),
				),
			)
		);

",4
11300051,07/02/2012 19:36:13,111910,05/25/2009 02:33:50,1146,23,Can MySQL reasonably perform queries on billions of rows?,"I am planning on storing scans from a mass spectrometer in a MySQL database and
would like to know whether storing and analyzing this amount of data is remotely
feasible. I know performance varies wildly depending on the environment, but I'm
looking for the rough order of magnitude: will queries take 5 days or 5
milliseconds?

# Input format

Each input file contains a single run of the spectrometer; each run is comprised
of a set of scans, and each scan has an ordered array of datapoints. There is a
bit of metadata, but the majority of the file is comprised of arrays 32- or
64-bit ints or floats.

# Host system

<pre>
|----------------+-------------------------------|
| OS             | Windows 2008 64-bit           |
| MySQL version  | 5.5.24 (x86_64)               |
| CPU            | 2x Xeon E5420 (8 cores total) |
| RAM            | 8GB                           |
| SSD filesystem | 500 GiB                       |
| HDD RAID       | 12 TiB                        |
|----------------+-------------------------------|
</pre>

There are some other services running on the server using negligible processor
time.

# File statistics

<pre>
|------------------+--------------|
| number of files  | ~16,000      |
| total size       | 1.3 TiB      |
| min size         | 0 bytes      |
| max size         | 12 GiB       |
| mean             | 800 MiB      |
| median           | 500 MiB      |
| total datapoints | ~200 billion |
|------------------+--------------|
</pre>

The total number of datapoints is a _very_ rough estimate.

# Proposed schema

I'm planning on doing things ""right"" (i.e. normalizing the data like crazy) and
so would have a `runs` table, a `spectra` table with a foreign key to `runs`,
and a `datapoints` table with a foreign key to `spectra`.

# The 200 Billion datapoint question

I am going to be analyzing across multiple spectra and possibly even multiple
runs, resulting in queries which could touch millions of rows. Assuming I index
everything properly (which is a topic for another question) and am not trying to
shuffle hundreds of MiB across the network, is it remotely plausible for MySQL
to handle this?
",mysql,sql,performance,,,07/03/2012 18:14:59,off topic,1,506,9,"Can MySQL reasonably perform queries on billions of rows? I am planning on storing scans from a mass spectrometer in a MySQL database and
would like to know whether storing and analyzing this amount of data is remotely
feasible. I know performance varies wildly depending on the environment, but I'm
looking for the rough order of magnitude: will queries take 5 days or 5
milliseconds?

# Input format

Each input file contains a single run of the spectrometer; each run is comprised
of a set of scans, and each scan has an ordered array of datapoints. There is a
bit of metadata, but the majority of the file is comprised of arrays 32- or
64-bit ints or floats.

# Host system

<pre>
|----------------+-------------------------------|
| OS             | Windows 2008 64-bit           |
| MySQL version  | 5.5.24 (x86_64)               |
| CPU            | 2x Xeon E5420 (8 cores total) |
| RAM            | 8GB                           |
| SSD filesystem | 500 GiB                       |
| HDD RAID       | 12 TiB                        |
|----------------+-------------------------------|
</pre>

There are some other services running on the server using negligible processor
time.

# File statistics

<pre>
|------------------+--------------|
| number of files  | ~16,000      |
| total size       | 1.3 TiB      |
| min size         | 0 bytes      |
| max size         | 12 GiB       |
| mean             | 800 MiB      |
| median           | 500 MiB      |
| total datapoints | ~200 billion |
|------------------+--------------|
</pre>

The total number of datapoints is a _very_ rough estimate.

# Proposed schema

I'm planning on doing things ""right"" (i.e. normalizing the data like crazy) and
so would have a `runs` table, a `spectra` table with a foreign key to `runs`,
and a `datapoints` table with a foreign key to `spectra`.

# The 200 Billion datapoint question

I am going to be analyzing across multiple spectra and possibly even multiple
runs, resulting in queries which could touch millions of rows. Assuming I index
everything properly (which is a topic for another question) and am not trying to
shuffle hundreds of MiB across the network, is it remotely plausible for MySQL
to handle this?
",3
947933,06/04/2009 00:01:50,44919,12/10/2008 09:53:44,29,3,How To Design Table For Calculated Field Based On Time and Another Field,"I am trying to program a plugin to bbPress (the open source forum software) that will work similar to Hacker News (http://news.ycombinator.com/).

Specifically, I want to sort the order of forum-threads (bbPress calls them ""topics"") using the following algorithm:

    sort_value = (p - 1) / (t + 2)^1.5
    where p = total votes for each topic from users
    t = time since submission of each topic in hours
 
I would like to be able to sort topics by this calculated sort_value using MySQL.

The relevant fields in the `topics` table looks something like this:

    topic_id            bigint(20)
    topic_start_time    datetime

This is up in the air, but I was thinking there will be another table that stores individual votes by users so we'll be able to know whether a user has voted already. And another table will store the current vote-totals for each topic. Maybe there will be another field in that table storing the latest calculated sort_Value?

To be 100% accurate, the sort_value should be updated after *each* new vote. This would add too much load to the database server, though, especially if we tried to update ALL the topics. If we have to, we could limit the dataset by only calculating the sort_value for the last X # of topics. We could also limit the load by only updating the sort_value periodically (e.g. every 5 minutes via a cron job).

These shortcuts might make the load acceptable, but I would prefer a more elegant solution that could scale better.

How would you structure this? :-)",mysql,database-design,database,,,,open,0,278,13,"How To Design Table For Calculated Field Based On Time and Another Field I am trying to program a plugin to bbPress (the open source forum software) that will work similar to Hacker News (http://news.ycombinator.com/).

Specifically, I want to sort the order of forum-threads (bbPress calls them ""topics"") using the following algorithm:

    sort_value = (p - 1) / (t + 2)^1.5
    where p = total votes for each topic from users
    t = time since submission of each topic in hours
 
I would like to be able to sort topics by this calculated sort_value using MySQL.

The relevant fields in the `topics` table looks something like this:

    topic_id            bigint(20)
    topic_start_time    datetime

This is up in the air, but I was thinking there will be another table that stores individual votes by users so we'll be able to know whether a user has voted already. And another table will store the current vote-totals for each topic. Maybe there will be another field in that table storing the latest calculated sort_Value?

To be 100% accurate, the sort_value should be updated after *each* new vote. This would add too much load to the database server, though, especially if we tried to update ALL the topics. If we have to, we could limit the dataset by only calculating the sort_value for the last X # of topics. We could also limit the load by only updating the sort_value periodically (e.g. every 5 minutes via a cron job).

These shortcuts might make the load acceptable, but I would prefer a more elegant solution that could scale better.

How would you structure this? :-)",3
3970439,10/19/2010 16:21:21,244681,01/06/2010 12:07:18,95,4,MySQL - MySQLi and the story of a mysterious error.,"I have a system that runs on hundreds of websites and I am getting an error for the first time. I was hoping that someone could tell me what may cause this error so I can try to remove it.

The issue comes when trying to add a page.

    INSERT INTO pages (parent, name, type, sort) VALUES ('0', 'test', 'text', '37.5');

This spits out the following error.

    [nativecode=1364 ** Field 'text' doesn't have a default value]

I thought this may be code based so I uploaded phpMyAdmin and the error still persisted.

There is a TEXT field called `text`. This doesn't have a default value, however it has never needed one. It has worked fine without one up to now.

When I try to set the default field on this server I get the following error.

    #1101 - BLOB/TEXT column 'text' can't have a default value 

Basically, the question is - what is going on?

Is MySQLi different from MySQL? Could this be the cause.

My server runs mysql 5.0.5, this server runs mysql 5.0.51a. Can I safely assume this isn't the cause?

Does anyone have any ideas or even guesses as to where the cause of this may lie?",mysql,mysqli,,,,,open,0,201,10,"MySQL - MySQLi and the story of a mysterious error. I have a system that runs on hundreds of websites and I am getting an error for the first time. I was hoping that someone could tell me what may cause this error so I can try to remove it.

The issue comes when trying to add a page.

    INSERT INTO pages (parent, name, type, sort) VALUES ('0', 'test', 'text', '37.5');

This spits out the following error.

    [nativecode=1364 ** Field 'text' doesn't have a default value]

I thought this may be code based so I uploaded phpMyAdmin and the error still persisted.

There is a TEXT field called `text`. This doesn't have a default value, however it has never needed one. It has worked fine without one up to now.

When I try to set the default field on this server I get the following error.

    #1101 - BLOB/TEXT column 'text' can't have a default value 

Basically, the question is - what is going on?

Is MySQLi different from MySQL? Could this be the cause.

My server runs mysql 5.0.5, this server runs mysql 5.0.51a. Can I safely assume this isn't the cause?

Does anyone have any ideas or even guesses as to where the cause of this may lie?",2
1754411,11/18/2009 08:21:59,213568,11/18/2009 08:21:59,1,0,How to select date from datetime column?,"I have a column, which is datetime type, the value is like this:

2009-10-20 10:00:00

I want to do a select, my query:

    SELECT * FROM 
    data 
    WHERE datetime = '2009-10-20' 
    ORDER BY datetime DESC

Should I do this:

    SELECT * FROM 
    data 
    WHERE datetime BETWEEN('2009-10-20 00:00:00' AND '2009-10-20 23:59:59'
    ORDER BY datetime DESC

But it returns 0 result. Please help

",mysql,query,date,,,,open,0,86,7,"How to select date from datetime column? I have a column, which is datetime type, the value is like this:

2009-10-20 10:00:00

I want to do a select, my query:

    SELECT * FROM 
    data 
    WHERE datetime = '2009-10-20' 
    ORDER BY datetime DESC

Should I do this:

    SELECT * FROM 
    data 
    WHERE datetime BETWEEN('2009-10-20 00:00:00' AND '2009-10-20 23:59:59'
    ORDER BY datetime DESC

But it returns 0 result. Please help

",3
5264563,03/10/2011 19:10:24,278851,02/22/2010 16:44:33,441,3,Cannot join two tables using indexes (Explain output given),"I am just not able to get the table indexes to use themselves in this table join :

    explain select n.* from npi n,npi_taxonomy nt where n.NPI=nt.NPI_CODE;


Here is the output of explain that i am getting :
![enter image description here][1]


  [1]: http://i.stack.imgur.com/oqmIi.png

As you can see, it finds the key in possible_keys column but the key column is empty. Please help.",mysql,indexing,query-optimization,,,,open,0,64,9,"Cannot join two tables using indexes (Explain output given) I am just not able to get the table indexes to use themselves in this table join :

    explain select n.* from npi n,npi_taxonomy nt where n.NPI=nt.NPI_CODE;


Here is the output of explain that i am getting :
![enter image description here][1]


  [1]: http://i.stack.imgur.com/oqmIi.png

As you can see, it finds the key in possible_keys column but the key column is empty. Please help.",3
7704593,10/09/2011 15:37:33,965975,09/26/2011 23:08:03,1,1,Please me for Mysql,"I am in a terrible situation, my php works with mysql database when i use mysqli connection code but when i try to connect the database using 

    <?php
    mysql_connect(""localhost"", ""admin"", ""1admin"") or die(mysql_error());
    echo ""Connected to MySQL<br />"";
    ?>

I dont get any error message rather just browser goes offline or error message, i have been trying to figure this our for two weeks, 

in my php both mysql and mysqli lines are uncommented 
i am using win 7 64 bit,
any helps will be much appreciated

Kind Regards  
",mysql,mysqli-multi-query,,,,,open,0,101,4,"Please me for Mysql I am in a terrible situation, my php works with mysql database when i use mysqli connection code but when i try to connect the database using 

    <?php
    mysql_connect(""localhost"", ""admin"", ""1admin"") or die(mysql_error());
    echo ""Connected to MySQL<br />"";
    ?>

I dont get any error message rather just browser goes offline or error message, i have been trying to figure this our for two weeks, 

in my php both mysql and mysqli lines are uncommented 
i am using win 7 64 bit,
any helps will be much appreciated

Kind Regards  
",2
17717,08/20/2008 10:40:38,1693,08/18/2008 02:25:37,196,6,Migrating from MySQL to PostgreSQL,"We are currently using MySQL for a product we are building, and are keen to move to PostgreSQL as soon as possible, primarily for licensing reasons.

Has anyone else done such a move? Our database is the lifeblood of the application and will eventually be storing TBs of data, so I'm keen to hear about experiences of performance improvements/losses, major hurdles in converting SQL and stored procedures, etc.",mysql,postgresql,migrating,database,,01/31/2012 16:13:40,not constructive,1,67,5,"Migrating from MySQL to PostgreSQL We are currently using MySQL for a product we are building, and are keen to move to PostgreSQL as soon as possible, primarily for licensing reasons.

Has anyone else done such a move? Our database is the lifeblood of the application and will eventually be storing TBs of data, so I'm keen to hear about experiences of performance improvements/losses, major hurdles in converting SQL and stored procedures, etc.",4
730792,04/08/2009 16:28:39,57655,01/21/2009 20:00:06,290,17,Incrementing in MySQL,"I try to increment a field in mysql but it seems that it is not really working for some reasons ...

That is the query I run in mysql query:

    UPDATE profil_perso
    SET profile_views = profile_views +1
    WHERE id = 30537

In the status bar it says : 1 row affected by the last command. No resultset returned. But it didn't seemed to work. At first I thougth that it was simply because there were no rows at all. So then I ran this query:

    SELECT *
    FROM profil_perso
    WHERE id = 30537

And found 1 row and the profile_views field is still at 0...

Any ideas of why this would be that way ?",mysql,,,,,,open,0,129,3,"Incrementing in MySQL I try to increment a field in mysql but it seems that it is not really working for some reasons ...

That is the query I run in mysql query:

    UPDATE profil_perso
    SET profile_views = profile_views +1
    WHERE id = 30537

In the status bar it says : 1 row affected by the last command. No resultset returned. But it didn't seemed to work. At first I thougth that it was simply because there were no rows at all. So then I ran this query:

    SELECT *
    FROM profil_perso
    WHERE id = 30537

And found 1 row and the profile_views field is still at 0...

Any ideas of why this would be that way ?",1
3133658,06/28/2010 15:17:04,363529,06/10/2010 14:10:27,16,0,Implementing database search through query using like,"I am planning to implement database search through a website - I know there is full-text search offered by mysql, but turns out that it is not supported for innodb engine (which I need for transaction support). 
Other options are using sphinx or similar indexing applications. However they require some re factoring of the database structure and may take more time to implement than I have. 

So what I decided on was to take each table and concatenate all its relevant columns into a newly added QUERY column. This query column should also recruit from column of other relevant tables. 

This accomplished, I will  use the 'like' clause on query column of the table to be searched to search to return results of specific domains (group of related tables).

Since my database is not expected to be too huge (< 1mn rows in the biggest table), I am expecting reasonable query times. 

Does any one agree with this method or have a better idea?",mysql,database,search,full-text-search,,,open,0,164,7,"Implementing database search through query using like I am planning to implement database search through a website - I know there is full-text search offered by mysql, but turns out that it is not supported for innodb engine (which I need for transaction support). 
Other options are using sphinx or similar indexing applications. However they require some re factoring of the database structure and may take more time to implement than I have. 

So what I decided on was to take each table and concatenate all its relevant columns into a newly added QUERY column. This query column should also recruit from column of other relevant tables. 

This accomplished, I will  use the 'like' clause on query column of the table to be searched to search to return results of specific domains (group of related tables).

Since my database is not expected to be too huge (< 1mn rows in the biggest table), I am expecting reasonable query times. 

Does any one agree with this method or have a better idea?",4
5471732,03/29/2011 11:25:09,396182,07/19/2010 20:07:30,63,10,Custom Order By + Group By,"So I have a manual in this table:



    id	lang	header_name	       text			
    1	uk	     Youth Development	It's very important
    2	dk	     tst	        	hejsa	
    3	uk	     tst	        	hello sir

	

And I want to make a query that fetches all manual entries for a given language (danish in this case). If for some reason not all 100% of the original manual entries (the UK ones), has been translated I want to get the english entry instead. Is that even possible in table formats such as this?

I guess it would be something with a ""group by header_name"" of some sorts, but not sure.",mysql,,,,,,open,0,137,6,"Custom Order By + Group By So I have a manual in this table:



    id	lang	header_name	       text			
    1	uk	     Youth Development	It's very important
    2	dk	     tst	        	hejsa	
    3	uk	     tst	        	hello sir

	

And I want to make a query that fetches all manual entries for a given language (danish in this case). If for some reason not all 100% of the original manual entries (the UK ones), has been translated I want to get the english entry instead. Is that even possible in table formats such as this?

I guess it would be something with a ""group by header_name"" of some sorts, but not sure.",1
5991168,05/13/2011 11:25:02,725210,04/26/2011 10:49:12,3,0,My SQL: rewriting comma delimited data to a structured table.,"I have a table which consists of the headings <b>Category</b> and <b>Subcategories</b><br /> Within the subcategories heading for each category I have a comma separated list of subcategories.<br />

I would like to rewrite the data to a new table so that the comma separated subcategories are in separate rows with the corresponding category in the previous column.

If anyone has any ideas on how to go about this I would be very grateful.
",mysql,table,values,comma,,,open,0,72,10,"My SQL: rewriting comma delimited data to a structured table. I have a table which consists of the headings <b>Category</b> and <b>Subcategories</b><br /> Within the subcategories heading for each category I have a comma separated list of subcategories.<br />

I would like to rewrite the data to a new table so that the comma separated subcategories are in separate rows with the corresponding category in the previous column.

If anyone has any ideas on how to go about this I would be very grateful.
",4
5112571,02/25/2011 01:20:03,114855,05/30/2009 17:50:20,153,4,Union 1 column and select additional,"I have two tables, one called ""pinned"" and one called ""unread""

""pinned"" looks like this:

    +---------+-------+
    |pinned_by|post_id|
    +---------+-------+
    |2        |3      |
    +---------+-------+
    |2        |5      |
    +---------+-------+

""unread"" looks like this:

    +---------+-------+
    |unread_by|post_id|
    +---------+-------+
    |2        |5      |
    +---------+-------+
    |2        |10     |
    +---------+-------+

I want to select this from the two tables:

    +-------+------+------+
    |post_id|unread|pinned|
    +-------+------+------+
    |3      |0     |1     |
    +-------+------+------+
    |5      |1     |1     |
    +-------+------+------+
    |10     |1     |0     |
    +-------+------+------+

How can I do this?  The values that come through for pinned and unread could be 1/0, 1/null, true/false, etc.  I don't really care as long as I could differentiate which post_id's came from unread, which came pinned, and which came from both.  I'm using MySQL.  The _by columns all have 2 in this example, but will vary in the actual implementation.  The thought is that a where unread_by=2 and where pinned_by=2 will be included somehow.

Thanks",mysql,select,union,,,,open,0,299,6,"Union 1 column and select additional I have two tables, one called ""pinned"" and one called ""unread""

""pinned"" looks like this:

    +---------+-------+
    |pinned_by|post_id|
    +---------+-------+
    |2        |3      |
    +---------+-------+
    |2        |5      |
    +---------+-------+

""unread"" looks like this:

    +---------+-------+
    |unread_by|post_id|
    +---------+-------+
    |2        |5      |
    +---------+-------+
    |2        |10     |
    +---------+-------+

I want to select this from the two tables:

    +-------+------+------+
    |post_id|unread|pinned|
    +-------+------+------+
    |3      |0     |1     |
    +-------+------+------+
    |5      |1     |1     |
    +-------+------+------+
    |10     |1     |0     |
    +-------+------+------+

How can I do this?  The values that come through for pinned and unread could be 1/0, 1/null, true/false, etc.  I don't really care as long as I could differentiate which post_id's came from unread, which came pinned, and which came from both.  I'm using MySQL.  The _by columns all have 2 in this example, but will vary in the actual implementation.  The thought is that a where unread_by=2 and where pinned_by=2 will be included somehow.

Thanks",3
10305437,04/24/2012 20:21:17,329637,04/30/2010 09:27:00,16590,552,What happens exactly if I set two columns as primary key in MySQL?,In my SQL I want to create a compound primary key. Can I achieve that by just selecting two columns as primary key? Or do I need to do something else?,mysql,,,,,04/24/2012 20:25:09,not a real question,1,31,13,What happens exactly if I set two columns as primary key in MySQL? In my SQL I want to create a compound primary key. Can I achieve that by just selecting two columns as primary key? Or do I need to do something else?,1
3137245,06/29/2010 01:25:55,378571,06/29/2010 01:25:55,1,0,Database Design: Separate Live and Test databases for PHP Website,"My organization is rewriting our database-driven website from scratch including a brand new database schema.

In the current setup both live and test websites use the exact same database.

We would like the next version to have a separate database for both live and test versions of the website.

Updating the live version of the database with new schema changes from test isn't a problem.

The problem is data on the live database is constantly being changed. For example, users uploading images, modifying meta data, creating new objects, etc.

What is the proper way of keeping the data on the test server in sync with user-entered data on the live server?

",mysql,design,,,,,open,0,106,10,"Database Design: Separate Live and Test databases for PHP Website My organization is rewriting our database-driven website from scratch including a brand new database schema.

In the current setup both live and test websites use the exact same database.

We would like the next version to have a separate database for both live and test versions of the website.

Updating the live version of the database with new schema changes from test isn't a problem.

The problem is data on the live database is constantly being changed. For example, users uploading images, modifying meta data, creating new objects, etc.

What is the proper way of keeping the data on the test server in sync with user-entered data on the live server?

",2
5443740,03/26/2011 16:47:06,356895,06/02/2010 21:22:08,109,17,How to handle too long index names in a Rails migration with MySQL?,"I am trying to add an unique index that gets created from the foreign keys of 4 associated tables (*users*, *universities*, *subject\_names*, *subject\_types*). 

    add_index :studies, [""user_id"", ""university_id"", ""subject_name_id"", ""subject_type_id""], :unique => true

MySQL's limitation for the index name causes the migration to stop. Here is the error message.

    Index name 'index_studies_on_user_id_and_university_id_and_subject_name_id_and_subject_type_id' on table 'studies' is too long; the limit is 64 characters

How can I handle this? Can I use an alias?
",mysql,ruby-on-rails,indexing,migration,rake,,open,0,77,13,"How to handle too long index names in a Rails migration with MySQL? I am trying to add an unique index that gets created from the foreign keys of 4 associated tables (*users*, *universities*, *subject\_names*, *subject\_types*). 

    add_index :studies, [""user_id"", ""university_id"", ""subject_name_id"", ""subject_type_id""], :unique => true

MySQL's limitation for the index name causes the migration to stop. Here is the error message.

    Index name 'index_studies_on_user_id_and_university_id_and_subject_name_id_and_subject_type_id' on table 'studies' is too long; the limit is 64 characters

How can I handle this? Can I use an alias?
",5
11198253,06/25/2012 22:25:14,402941,07/27/2010 04:07:03,681,46,"how to write install script for my website that configures virtual hosts, sets up a database etc on apache2, mysql, debian","How to write install script for my website that configures virtual hosts, sets up a database etc  on apache2, mysql, & debian?

I see a lot of tutorials about how to set these environments up but nothing about automating the process. I basically want to write an install script that:

 - Goes checks all the products the solution needs are there, if not downloads and installs them with a basic configuration.

 - Gets the appropriate version of the software from a git repo builds it then installs it on the website

 - Makes final adjustments to the site like permissions links to make sites-enabled etc.

Is there a tool that will help me do this? or a tutorial somewhere that will help me tick all the boxes?

Is there a best practice or book of knowledge I can read on the subject of *nix website deployment?",mysql,bash,apache2,install,debian,06/26/2012 17:54:20,off topic,1,144,21,"how to write install script for my website that configures virtual hosts, sets up a database etc on apache2, mysql, debian How to write install script for my website that configures virtual hosts, sets up a database etc  on apache2, mysql, & debian?

I see a lot of tutorials about how to set these environments up but nothing about automating the process. I basically want to write an install script that:

 - Goes checks all the products the solution needs are there, if not downloads and installs them with a basic configuration.

 - Gets the appropriate version of the software from a git repo builds it then installs it on the website

 - Makes final adjustments to the site like permissions links to make sites-enabled etc.

Is there a tool that will help me do this? or a tutorial somewhere that will help me tick all the boxes?

Is there a best practice or book of knowledge I can read on the subject of *nix website deployment?",5
11610664,07/23/2012 10:22:42,1417148,05/25/2012 10:19:02,16,0,Error in SQL syntax when setting up a password,"i don't know what is the problem here? 

http://shrani.si/f/1y/rX/1GAMFf7B/untitled.jpg",mysql,,,,,07/25/2012 02:28:32,not a real question,1,9,9,"Error in SQL syntax when setting up a password i don't know what is the problem here? 

http://shrani.si/f/1y/rX/1GAMFf7B/untitled.jpg",1
9099469,02/01/2012 16:31:10,953788,09/20/2011 01:24:28,8,0,MySQL SELECT LIKE or REGEXP to match multiple words in one record,"The field `table`.`name` contains 'Stylus Photo 2100' and with the following query

    SELECT `name` FROM `table` WHERE `name` LIKE '%Stylus 2100%'

I get no results. Of course i would if i searched

    SELECT `name` FROM `table` WHERE `name` LIKE '%Photo 2100%'

How can I select the record by searching 'Stylus 2100' ?

Thanks ",mysql,regex,select,like,,,open,0,57,12,"MySQL SELECT LIKE or REGEXP to match multiple words in one record The field `table`.`name` contains 'Stylus Photo 2100' and with the following query

    SELECT `name` FROM `table` WHERE `name` LIKE '%Stylus 2100%'

I get no results. Of course i would if i searched

    SELECT `name` FROM `table` WHERE `name` LIKE '%Photo 2100%'

How can I select the record by searching 'Stylus 2100' ?

Thanks ",4
9903621,03/28/2012 08:20:21,995926,10/14/2011 17:54:32,1980,114,Update row with self reference in a sub query,"I have a table with about 7000 rows where about 4000 have an error caused of a bug. (The location is `'null'` **not** `NULL` and should be somthing else.) Now I'm trying to fix the data which is for almost all rows possible.

    UPDATE `timelog` t
    SET `location`=(SELECT location
                    FROM timelog tl
                    WHERE tl.end_ts=t.end_ts AND location != 'null'
                    ORDER BY tl.log_id DESC
                    LIMIT 0,1) -- Just to make sure that I get 1 or 0 results
    WHERE end_ts > '2012-01-01 00:00:00' AND location = 'null';

But I get the error:

> \#1093 - You can't specify target table 't' for update in FROM clause 

Well it seems that I cannot access the row itself while updating how can I slove that problem?

Maybe with a temp table, but that seems to be a little overhead also I have to manage to copy all unrelated rows too.

I also tried to use instat a join like explained in [this answer][1], but I need to restrict the selected row.


  [1]: http://stackoverflow.com/a/7148180/995926",mysql,sql,sql-update,subselect,,,open,0,251,9,"Update row with self reference in a sub query I have a table with about 7000 rows where about 4000 have an error caused of a bug. (The location is `'null'` **not** `NULL` and should be somthing else.) Now I'm trying to fix the data which is for almost all rows possible.

    UPDATE `timelog` t
    SET `location`=(SELECT location
                    FROM timelog tl
                    WHERE tl.end_ts=t.end_ts AND location != 'null'
                    ORDER BY tl.log_id DESC
                    LIMIT 0,1) -- Just to make sure that I get 1 or 0 results
    WHERE end_ts > '2012-01-01 00:00:00' AND location = 'null';

But I get the error:

> \#1093 - You can't specify target table 't' for update in FROM clause 

Well it seems that I cannot access the row itself while updating how can I slove that problem?

Maybe with a temp table, but that seems to be a little overhead also I have to manage to copy all unrelated rows too.

I also tried to use instat a join like explained in [this answer][1], but I need to restrict the selected row.


  [1]: http://stackoverflow.com/a/7148180/995926",4
9902549,03/28/2012 06:56:12,1049633,11/16/2011 12:21:33,380,30,explicitly lock row while updating record in mysql,"I want to add explicit lock on row which is currently updating and also want to remove the same explicitly, after updating that row **in mysql.**

I know there is inbuilt locking system of mysql but I want add it explicitly as well.",mysql,database,mysqli,,,,open,0,42,8,"explicitly lock row while updating record in mysql I want to add explicit lock on row which is currently updating and also want to remove the same explicitly, after updating that row **in mysql.**

I know there is inbuilt locking system of mysql but I want add it explicitly as well.",3
11591380,07/21/2012 10:27:29,632333,02/24/2011 12:44:57,133,2,How to get the most out of MySQL on a QuadCore machine with 16 GB of RAM?,"I'm running a MySQL 5.5 server on my workstation for scientific data analysis and wonder how to configure MySQL in order to get the most out of it performance-wise. The types of query that I typically run involve joins of 10-20 tables and can run for quite long, one to several minutes being no exception at all. Only very few users access the database at the same time (5 being the maximum).
I moved the server from a Lenovo Thinkpad T61 with a 2.2 GHz Dual Core and 4 GB of RAM to the following brand-new machine with hand-selected components:

- Intel i7 3770, 4x 3.4 GHz (running @ 4x3.7 GHz)
- Z77 chipset
- 16 GB of DDR3 1600 RAM
- Windows 7 Prof 64-bit
- Windows and MySQL server run on a Intel 520 series SSD drive.

First tests (running the same query on both machines) showed a definitive improvement in speed for the new one, but the queries still take a lot of time and I had expected more of a boost. The queries in question are fairly well optimized, i.e. all tables have proper key that are also being used as of ""explain extended"".

Now to my current MySQL settings:
First I should mention that I moved from MyISAM to Innodb long time ago.

Some of my my.ini tweaks (i.e. departures from default settings):

    # Maximum size for internal (in-memory) temporary tables. If a table
    # grows larger than this value, it is automatically converted to disk
    # based table This limitation is for a single table. There can be many
    # of them.
    #tmp_table_size=35M
    tmp_table_size=4000M
    max_heap_table_size=4000M
    
    # InnoDB, unlike MyISAM, uses a buffer pool to cache both indexes and
    # row data. The bigger you set this the less disk I/O is needed to
    # access data in tables. On a dedicated database server you may set this
    # parameter up to 80% of the machine physical memory size. Do not set it
    # too large, though, because competition of the physical memory may
    # cause paging in the operating system.  Note that on 32bit systems you
    # might be limited to 2-3.5G of user level memory per process, so do not
    # set it too high.
    #innodb_buffer_pool_size=96M
    innodb_buffer_pool_size=800M
    
    general-log
    expire_logs_days = 60
    general_log_file = ""F:/my_query_mysql.log""
    log-output = TABLE
    optimizer_search_depth = 0 #meant to cure the ""statistics state"" bug in some queries

I'd like to know whether somebody would suggest changes to the above numbers or even further settings that I do not know of.

I'd appreciate any helpful remark.

Steve",mysql,performance,,,,07/22/2012 06:12:05,off topic,1,488,17,"How to get the most out of MySQL on a QuadCore machine with 16 GB of RAM? I'm running a MySQL 5.5 server on my workstation for scientific data analysis and wonder how to configure MySQL in order to get the most out of it performance-wise. The types of query that I typically run involve joins of 10-20 tables and can run for quite long, one to several minutes being no exception at all. Only very few users access the database at the same time (5 being the maximum).
I moved the server from a Lenovo Thinkpad T61 with a 2.2 GHz Dual Core and 4 GB of RAM to the following brand-new machine with hand-selected components:

- Intel i7 3770, 4x 3.4 GHz (running @ 4x3.7 GHz)
- Z77 chipset
- 16 GB of DDR3 1600 RAM
- Windows 7 Prof 64-bit
- Windows and MySQL server run on a Intel 520 series SSD drive.

First tests (running the same query on both machines) showed a definitive improvement in speed for the new one, but the queries still take a lot of time and I had expected more of a boost. The queries in question are fairly well optimized, i.e. all tables have proper key that are also being used as of ""explain extended"".

Now to my current MySQL settings:
First I should mention that I moved from MyISAM to Innodb long time ago.

Some of my my.ini tweaks (i.e. departures from default settings):

    # Maximum size for internal (in-memory) temporary tables. If a table
    # grows larger than this value, it is automatically converted to disk
    # based table This limitation is for a single table. There can be many
    # of them.
    #tmp_table_size=35M
    tmp_table_size=4000M
    max_heap_table_size=4000M
    
    # InnoDB, unlike MyISAM, uses a buffer pool to cache both indexes and
    # row data. The bigger you set this the less disk I/O is needed to
    # access data in tables. On a dedicated database server you may set this
    # parameter up to 80% of the machine physical memory size. Do not set it
    # too large, though, because competition of the physical memory may
    # cause paging in the operating system.  Note that on 32bit systems you
    # might be limited to 2-3.5G of user level memory per process, so do not
    # set it too high.
    #innodb_buffer_pool_size=96M
    innodb_buffer_pool_size=800M
    
    general-log
    expire_logs_days = 60
    general_log_file = ""F:/my_query_mysql.log""
    log-output = TABLE
    optimizer_search_depth = 0 #meant to cure the ""statistics state"" bug in some queries

I'd like to know whether somebody would suggest changes to the above numbers or even further settings that I do not know of.

I'd appreciate any helpful remark.

Steve",2
11603136,07/22/2012 18:59:06,388916,07/11/2010 15:17:29,5043,175,What security measures can I take to secure passwords that can't be hashed in a database?,"I'm making a company back-end that should include a password-safe type feature. Obviously the passwords needs to be plain text so the users can read them, or at least ""reversible"" to plain text somehow, so I can't use hashes.

Is there anything more *secure* I can do than just placing the passwords in plain-text into the database?

---

*Note: These are (mostly) auto-generated passwords that is never re-used for anything except the purpose they are saved for, which is mostly FTP server credentials.*",mysql,hash,passwords,,,,open,0,80,16,"What security measures can I take to secure passwords that can't be hashed in a database? I'm making a company back-end that should include a password-safe type feature. Obviously the passwords needs to be plain text so the users can read them, or at least ""reversible"" to plain text somehow, so I can't use hashes.

Is there anything more *secure* I can do than just placing the passwords in plain-text into the database?

---

*Note: These are (mostly) auto-generated passwords that is never re-used for anything except the purpose they are saved for, which is mostly FTP server credentials.*",3
9980635,04/02/2012 17:04:24,1308237,04/02/2012 14:14:00,1,0,MySQL: SELECT statement that compares values across multiple tables isn't returning the correct rows,"I've searched a number of resources on SO and the web to try and figure out why my MySQL select statement isn't returning the correct rows/results.  I apologize in advance if there's an answer here I missed and appreciate someone pointing it out to me.

A little background.  Assume an email campaign application that has the tables: users, groups, campaigns, queue, managers_groups and settings.  Each group has their own settings that has a flag called 'delivery_enabled' - 1 or 0.  An important note is when a group is managed by another group, the 'managee' group automatically will use the managing group's settings.  Thus , even if the 'managee' group's settings have delivery_enabled set to 1 and their managing group's is set to 0, theirs will also be treated as 0.  I hope I explained that clearly :/

The following statement is used to return rows from the table 'queue' - the queue holds the messages/emails pending delivery by the application.  The statement checks to see if the user's group settings.delivery_enabled = 1 - taking into consideration (via CASE) whether or not we should be using the user's own group settings or their managing group's settings.

    SELECT 
    t1.*
    FROM 
    queue t1, 
    campaigns t2, 
    users t3,
    managers_groups t4, 
    settings t5  
    WHERE
    ( t1.campaign_status = 3 && t1.campaign_id = t2.id && t2.user_id = t3.id && t5.delivery_enabled = 1 ) && 
    CASE ( SELECT 'has_manager' FROM managers_groups WHERE managee_group_id = t3.group_id )
     WHEN 'has_manager' THEN t4.manager_group_id = t5.group_id 
     ELSE t3.group_id = t5.group_id
    END
    GROUP BY t1.id 
    ORDER BY t1.send_at ASC, t1.id ASC

The results I'm getting show that a group that has a managing group still uses their own settings and not the managing group's.  I feel like something is wrong with my CASE statement in the WHERE CLAUSE, causing the query to fall-back on the ELSE.

If someone wants to try it out, here's the data I'm using for this.


    CREATE TABLE IF NOT EXISTS `campaigns` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `user_id` int(12) NOT NULL,
      `name` varchar(150) NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=17 ;
    
    --
    -- Dumping data for table `campaigns`
    --
    
    INSERT INTO `campaigns` (`id`, `user_id`, `name`) VALUES
    (16, 72, 'Steve''s Campaign'),
    (13, 83, 'Kelly''s Campaign'),
    (14, 77, 'Narek''s Campaign'),
    (15, 75, 'Cynthia''s Campaign');
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `groups`
    --
    
    CREATE TABLE IF NOT EXISTS `groups` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(150) NOT NULL DEFAULT '',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=110 ;
    
    --
    -- Dumping data for table `groups`
    --
    
    INSERT INTO `groups` (`id`, `name`) VALUES
    (108, 'Managers 002'),
    (107, 'Managers 001'),
    (106, 'Members 001 - Group B'),
    (104, 'Members 002 - Group A'),
    (103, 'Members 001 - Group A');
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `managers_groups`
    --
    
    CREATE TABLE IF NOT EXISTS `managers_groups` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `manager_group_id` int(12) NOT NULL,
      `managee_group_id` int(12) NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=280 ;
    
    --
    -- Dumping data for table `managers_groups`
    --
    
    INSERT INTO `managers_groups` (`id`, `manager_group_id`, `managee_group_id`) VALUES
    (274, 108, 104),
    (279, 107, 103);
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `queue`
    --
    
    CREATE TABLE IF NOT EXISTS `queue` (
      `id` int(12) NOT NULL AUTO_INCREMENT,
      `campaign_id` int(12) NOT NULL,
      `campaign_status` int(2) NOT NULL DEFAULT '0',
      `send_at` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=20 ;
    
    --
    -- Dumping data for table `queue`
    --
    
    INSERT INTO `queue` (`id`, `campaign_id`, `campaign_status`, `send_at`) VALUES
    (1, 16, 3, '2012-04-01 20:05:45'),
    (2, 16, 3, '2012-04-01 20:05:45'),
    (3, 16, 3, '2012-04-01 20:05:45'),
    (4, 16, 3, '2012-04-01 20:05:45'),
    (5, 15, 3, '2012-04-01 20:00:18'),
    (6, 15, 3, '2012-04-01 20:00:18'),
    (7, 15, 3, '2012-04-01 20:00:18'),
    (8, 15, 3, '2012-04-01 20:00:18'),
    (9, 15, 3, '2012-04-01 20:00:18'),
    (10, 15, 3, '2012-04-01 20:00:18'),
    (11, 15, 3, '2012-04-01 20:00:18'),
    (12, 14, 3, '2012-04-01 20:00:06'),
    (13, 14, 3, '2012-04-01 20:00:06'),
    (14, 14, 3, '2012-04-01 20:00:06'),
    (15, 14, 3, '2012-04-01 20:00:06'),
    (16, 14, 3, '2012-04-01 20:00:06'),
    (17, 14, 3, '2012-04-01 20:00:06'),
    (18, 13, 3, '2012-04-01 19:59:53'),
    (19, 13, 3, '2012-04-01 19:59:53');
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `settings`
    --
    
    CREATE TABLE IF NOT EXISTS `settings` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `group_id` int(12) unsigned NOT NULL,
      `delivery_enabled` int(1) NOT NULL DEFAULT '0',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=22 ;
    
    --
    -- Dumping data for table `settings`
    --
    
    INSERT INTO `settings` (`id`, `group_id`, `delivery_enabled`) VALUES
    (19, 107, 1),
    (20, 108, 0),
    (18, 106, 0),
    (16, 104, 1),
    (15, 103, 1);
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `users`
    --
    
    CREATE TABLE IF NOT EXISTS `users` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `group_id` int(12) NOT NULL,
      `username` varchar(50) NOT NULL DEFAULT '',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=86 ;
    
    --
    -- Dumping data for table `users`
    --
    
    INSERT INTO `users` (`id`, `group_id`, `username`) VALUES
    (83, 106, 'kelly'),
    (77, 104, 'narek'),
    (75, 104, 'cynthia'),
    (72, 103, 'steve');

One more note is that I did try a scaled back version with only three tables and far less data which seemed to work fine, but once I used the same methodology in the larger scenario  (which has more tables to reference against) it didn't work.

If more info is needed, let me know.  Thanks in advance for those who can lend a hand.  Much appreciated!",mysql,table,select,compare,case,,open,0,1466,14,"MySQL: SELECT statement that compares values across multiple tables isn't returning the correct rows I've searched a number of resources on SO and the web to try and figure out why my MySQL select statement isn't returning the correct rows/results.  I apologize in advance if there's an answer here I missed and appreciate someone pointing it out to me.

A little background.  Assume an email campaign application that has the tables: users, groups, campaigns, queue, managers_groups and settings.  Each group has their own settings that has a flag called 'delivery_enabled' - 1 or 0.  An important note is when a group is managed by another group, the 'managee' group automatically will use the managing group's settings.  Thus , even if the 'managee' group's settings have delivery_enabled set to 1 and their managing group's is set to 0, theirs will also be treated as 0.  I hope I explained that clearly :/

The following statement is used to return rows from the table 'queue' - the queue holds the messages/emails pending delivery by the application.  The statement checks to see if the user's group settings.delivery_enabled = 1 - taking into consideration (via CASE) whether or not we should be using the user's own group settings or their managing group's settings.

    SELECT 
    t1.*
    FROM 
    queue t1, 
    campaigns t2, 
    users t3,
    managers_groups t4, 
    settings t5  
    WHERE
    ( t1.campaign_status = 3 && t1.campaign_id = t2.id && t2.user_id = t3.id && t5.delivery_enabled = 1 ) && 
    CASE ( SELECT 'has_manager' FROM managers_groups WHERE managee_group_id = t3.group_id )
     WHEN 'has_manager' THEN t4.manager_group_id = t5.group_id 
     ELSE t3.group_id = t5.group_id
    END
    GROUP BY t1.id 
    ORDER BY t1.send_at ASC, t1.id ASC

The results I'm getting show that a group that has a managing group still uses their own settings and not the managing group's.  I feel like something is wrong with my CASE statement in the WHERE CLAUSE, causing the query to fall-back on the ELSE.

If someone wants to try it out, here's the data I'm using for this.


    CREATE TABLE IF NOT EXISTS `campaigns` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `user_id` int(12) NOT NULL,
      `name` varchar(150) NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=17 ;
    
    --
    -- Dumping data for table `campaigns`
    --
    
    INSERT INTO `campaigns` (`id`, `user_id`, `name`) VALUES
    (16, 72, 'Steve''s Campaign'),
    (13, 83, 'Kelly''s Campaign'),
    (14, 77, 'Narek''s Campaign'),
    (15, 75, 'Cynthia''s Campaign');
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `groups`
    --
    
    CREATE TABLE IF NOT EXISTS `groups` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(150) NOT NULL DEFAULT '',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=110 ;
    
    --
    -- Dumping data for table `groups`
    --
    
    INSERT INTO `groups` (`id`, `name`) VALUES
    (108, 'Managers 002'),
    (107, 'Managers 001'),
    (106, 'Members 001 - Group B'),
    (104, 'Members 002 - Group A'),
    (103, 'Members 001 - Group A');
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `managers_groups`
    --
    
    CREATE TABLE IF NOT EXISTS `managers_groups` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `manager_group_id` int(12) NOT NULL,
      `managee_group_id` int(12) NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=280 ;
    
    --
    -- Dumping data for table `managers_groups`
    --
    
    INSERT INTO `managers_groups` (`id`, `manager_group_id`, `managee_group_id`) VALUES
    (274, 108, 104),
    (279, 107, 103);
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `queue`
    --
    
    CREATE TABLE IF NOT EXISTS `queue` (
      `id` int(12) NOT NULL AUTO_INCREMENT,
      `campaign_id` int(12) NOT NULL,
      `campaign_status` int(2) NOT NULL DEFAULT '0',
      `send_at` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=20 ;
    
    --
    -- Dumping data for table `queue`
    --
    
    INSERT INTO `queue` (`id`, `campaign_id`, `campaign_status`, `send_at`) VALUES
    (1, 16, 3, '2012-04-01 20:05:45'),
    (2, 16, 3, '2012-04-01 20:05:45'),
    (3, 16, 3, '2012-04-01 20:05:45'),
    (4, 16, 3, '2012-04-01 20:05:45'),
    (5, 15, 3, '2012-04-01 20:00:18'),
    (6, 15, 3, '2012-04-01 20:00:18'),
    (7, 15, 3, '2012-04-01 20:00:18'),
    (8, 15, 3, '2012-04-01 20:00:18'),
    (9, 15, 3, '2012-04-01 20:00:18'),
    (10, 15, 3, '2012-04-01 20:00:18'),
    (11, 15, 3, '2012-04-01 20:00:18'),
    (12, 14, 3, '2012-04-01 20:00:06'),
    (13, 14, 3, '2012-04-01 20:00:06'),
    (14, 14, 3, '2012-04-01 20:00:06'),
    (15, 14, 3, '2012-04-01 20:00:06'),
    (16, 14, 3, '2012-04-01 20:00:06'),
    (17, 14, 3, '2012-04-01 20:00:06'),
    (18, 13, 3, '2012-04-01 19:59:53'),
    (19, 13, 3, '2012-04-01 19:59:53');
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `settings`
    --
    
    CREATE TABLE IF NOT EXISTS `settings` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `group_id` int(12) unsigned NOT NULL,
      `delivery_enabled` int(1) NOT NULL DEFAULT '0',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=22 ;
    
    --
    -- Dumping data for table `settings`
    --
    
    INSERT INTO `settings` (`id`, `group_id`, `delivery_enabled`) VALUES
    (19, 107, 1),
    (20, 108, 0),
    (18, 106, 0),
    (16, 104, 1),
    (15, 103, 1);
    
    -- --------------------------------------------------------
    
    --
    -- Table structure for table `users`
    --
    
    CREATE TABLE IF NOT EXISTS `users` (
      `id` int(12) unsigned NOT NULL AUTO_INCREMENT,
      `group_id` int(12) NOT NULL,
      `username` varchar(50) NOT NULL DEFAULT '',
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=86 ;
    
    --
    -- Dumping data for table `users`
    --
    
    INSERT INTO `users` (`id`, `group_id`, `username`) VALUES
    (83, 106, 'kelly'),
    (77, 104, 'narek'),
    (75, 104, 'cynthia'),
    (72, 103, 'steve');

One more note is that I did try a scaled back version with only three tables and far less data which seemed to work fine, but once I used the same methodology in the larger scenario  (which has more tables to reference against) it didn't work.

If more info is needed, let me know.  Thanks in advance for those who can lend a hand.  Much appreciated!",5
6348129,06/14/2011 18:18:40,46011,12/13/2008 19:05:05,5230,127,CakePHP delete not cascading. Causes foreign key error.,"
I have a table called `custom_carts` and I have a table called `custom_cart_items`.

`custom_cart_items` has a foreign key called `custom_cart_id` that is set to `custom_cart.id`

According to the [Cake Manual][1], when you call Model->delete() the first param is the id of the entry you want to delete and the second param is whether or not to cascade delete the dependent entries.

So when I call `$this->CustomCart->delete(7,true)` I get this error:

 

> SQL Error: 1451: Cannot delete or
> update a parent row: a foreign key
> constraint fails
> (`krake`.`custom_cart_items`,
> CONSTRAINT `custom_cart_items_ibfk_1`
> FOREIGN KEY (`custom_cart_id`)
> REFERENCES `custom_carts` (`id`))

Shouldn't it *cascade* and dlete the other entry too?

So why am I getting an error?



  [1]: http://book.cakephp.org/view/1036/delete",mysql,cakephp,foreign-keys,,,,open,0,109,8,"CakePHP delete not cascading. Causes foreign key error. 
I have a table called `custom_carts` and I have a table called `custom_cart_items`.

`custom_cart_items` has a foreign key called `custom_cart_id` that is set to `custom_cart.id`

According to the [Cake Manual][1], when you call Model->delete() the first param is the id of the entry you want to delete and the second param is whether or not to cascade delete the dependent entries.

So when I call `$this->CustomCart->delete(7,true)` I get this error:

 

> SQL Error: 1451: Cannot delete or
> update a parent row: a foreign key
> constraint fails
> (`krake`.`custom_cart_items`,
> CONSTRAINT `custom_cart_items_ibfk_1`
> FOREIGN KEY (`custom_cart_id`)
> REFERENCES `custom_carts` (`id`))

Shouldn't it *cascade* and dlete the other entry too?

So why am I getting an error?



  [1]: http://book.cakephp.org/view/1036/delete",3
7364088,09/09/2011 15:37:18,547025,12/18/2010 14:09:25,323,4,MySQL: renaming a result,"Is it possible to rename a result in MySQL? For example if I have the following table

Pizza  ---------------|| Topping 
====================
Cheese--------------||    Olives
====================
Ham-----------------     || Tuna
====================
Four cheese-- -----|| Olives
====================
Cheese-------------- || Tuna
====================

How can I do a select pizza so that **cheese** and **four cheese** are returned as the same? For example if i wanted to obtain a count of the different pizzas, I would get 
Ham = 1
Cheese = 3

Thanks!",mysql,,,,,,open,0,74,4,"MySQL: renaming a result Is it possible to rename a result in MySQL? For example if I have the following table

Pizza  ---------------|| Topping 
====================
Cheese--------------||    Olives
====================
Ham-----------------     || Tuna
====================
Four cheese-- -----|| Olives
====================
Cheese-------------- || Tuna
====================

How can I do a select pizza so that **cheese** and **four cheese** are returned as the same? For example if i wanted to obtain a count of the different pizzas, I would get 
Ham = 1
Cheese = 3

Thanks!",1
5713339,04/19/2011 08:02:59,204609,11/06/2009 08:38:25,4076,168,MySQL Index is bigger than the data stored,"I have a database with the following stats

    Tables     Data   Index   Total
    11     579,6 MB  0,9 GB  1,5 GB

So as you can see the Index is close to 2x bigger. And there is one table with ~7 million rows that takes up at least 99% of this.

I also have two indexes that are very similar

    a) indexA (int colA, varchar(10) colB)
    b) indexB (int colA, varchar(10) colB, varchar(20) colC)

Database Engine is InnoDB

My questions are:

1. Is there a way to find unused indexes in MySQL?
2. Are there any common mistakes that impact the size of the index?
3. Can indexA safely be removed?
4. How can you measure the size of each index? All I get is the total of all indexes.

",mysql,database,optimization,indexing,innodb,,open,0,145,8,"MySQL Index is bigger than the data stored I have a database with the following stats

    Tables     Data   Index   Total
    11     579,6 MB  0,9 GB  1,5 GB

So as you can see the Index is close to 2x bigger. And there is one table with ~7 million rows that takes up at least 99% of this.

I also have two indexes that are very similar

    a) indexA (int colA, varchar(10) colB)
    b) indexB (int colA, varchar(10) colB, varchar(20) colC)

Database Engine is InnoDB

My questions are:

1. Is there a way to find unused indexes in MySQL?
2. Are there any common mistakes that impact the size of the index?
3. Can indexA safely be removed?
4. How can you measure the size of each index? All I get is the total of all indexes.

",5
10956190,06/08/2012 21:22:23,1410127,05/22/2012 11:51:05,25,0,can this sql query be simplified?,"I have 2 tables. MySql

users  : A_ID,name
event :  B_ID, A_ID,cat_id,date

Now I want to get all users , who participated more at events on a given period of time, and need to add based on category too. I am doing something like this :

    select name from users ,
     (select A_id, count(*) 
      from   event 
      where date<=givendate
     group by A_id
     order by count(*) desc ) e
     where users.A_id=e.a_id
     limit 0,5

Is there any easy and prof way to write that script ?

 Thanks
",mysql,,,,,,open,0,119,6,"can this sql query be simplified? I have 2 tables. MySql

users  : A_ID,name
event :  B_ID, A_ID,cat_id,date

Now I want to get all users , who participated more at events on a given period of time, and need to add based on category too. I am doing something like this :

    select name from users ,
     (select A_id, count(*) 
      from   event 
      where date<=givendate
     group by A_id
     order by count(*) desc ) e
     where users.A_id=e.a_id
     limit 0,5

Is there any easy and prof way to write that script ?

 Thanks
",1
9301591,02/15/2012 21:20:33,343302,05/17/2010 17:43:03,435,28,MySQL: My is UTF-8 called a character set?,"UTF-8 is an [encoding](http://en.wikipedia.org/wiki/Character_encoding) used to represent the Unicode [Character set](http://en.wikipedia.org/wiki/Universal_Character_Set). Other encodings can also be used to represent this same character set. So why does MySQL erroneously call UTF-8 a character set, instead of rightfully calling it an encoding? I am aware that some people confuse the two terms, but from a large, respected software project I would not expect such confusion.

Example MySQL usage:

    CREATE TABLE names (name VARCHAR(100) CHARACTER SET utf8);",mysql,unicode,utf-8,,,02/15/2012 21:38:35,not a real question,1,76,8,"MySQL: My is UTF-8 called a character set? UTF-8 is an [encoding](http://en.wikipedia.org/wiki/Character_encoding) used to represent the Unicode [Character set](http://en.wikipedia.org/wiki/Universal_Character_Set). Other encodings can also be used to represent this same character set. So why does MySQL erroneously call UTF-8 a character set, instead of rightfully calling it an encoding? I am aware that some people confuse the two terms, but from a large, respected software project I would not expect such confusion.

Example MySQL usage:

    CREATE TABLE names (name VARCHAR(100) CHARACTER SET utf8);",3
8571542,12/20/2011 06:22:51,1104984,12/18/2011 22:24:58,1,0,Fetch user id and profile picture - mysql,"I'm a beginner when it comes to php/scripting - or ""websiting"" in general. 
What I really would like to do, is to fetch a users profile picture and user id, when the person clicks on the ""Login with facebook"" button. I then want to be able to div this out on my page. Is it a way to do this via mysql? When the person clicks login/allow, their picture and user name will be stored in my database and then displayed? 
To my understanding, I have to go via the FB.api?

Thank you who answers :).",mysql,database,facebook-connect,picture,userid,,open,0,95,8,"Fetch user id and profile picture - mysql I'm a beginner when it comes to php/scripting - or ""websiting"" in general. 
What I really would like to do, is to fetch a users profile picture and user id, when the person clicks on the ""Login with facebook"" button. I then want to be able to div this out on my page. Is it a way to do this via mysql? When the person clicks login/allow, their picture and user name will be stored in my database and then displayed? 
To my understanding, I have to go via the FB.api?

Thank you who answers :).",5
7776917,10/15/2011 09:16:52,995946,10/14/2011 18:10:55,1,0,views levenshtein function not exist in mysql what to do,"please help us about this in mysql i am getting error. So, now after more than two days working on this, I give up. Seems that I'm unable to do this by myself, to get a levenshtein() working on mysql.",mysql,,,,,10/15/2011 16:13:02,not a real question,1,40,10,"views levenshtein function not exist in mysql what to do please help us about this in mysql i am getting error. So, now after more than two days working on this, I give up. Seems that I'm unable to do this by myself, to get a levenshtein() working on mysql.",1
2602444,04/08/2010 18:27:31,309374,04/05/2010 17:07:55,28,1,Problem with mysql gem,"

When I try rake db:migrate, I get the following error: !!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the mysql gem and try again: gem install mysql. rake aborted! no such file to load -- mysql

And when I try to ""gem install mysql""

Building native extensions. This could take a while... ERROR: Error installing mysql: ERROR: Failed to build gem native extension. /usr/bin/ruby extconf.rb Can't find header files for ruby. Gem files will remain installed in /usr/lib/ruby/gems/1.8/gems/mysql-2.8.1 for inspection.

$ sudo gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config

has also been tried but same error. I'm on a Fedora 10. Help will be much appreciated.Cheers!
",mysql,gem,ruby,,,05/24/2012 12:32:02,off topic,1,105,4,"Problem with mysql gem 

When I try rake db:migrate, I get the following error: !!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the mysql gem and try again: gem install mysql. rake aborted! no such file to load -- mysql

And when I try to ""gem install mysql""

Building native extensions. This could take a while... ERROR: Error installing mysql: ERROR: Failed to build gem native extension. /usr/bin/ruby extconf.rb Can't find header files for ruby. Gem files will remain installed in /usr/lib/ruby/gems/1.8/gems/mysql-2.8.1 for inspection.

$ sudo gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config

has also been tried but same error. I'm on a Fedora 10. Help will be much appreciated.Cheers!
",3
7149454,08/22/2011 15:03:42,354721,05/31/2010 15:47:08,417,17,Adding the numbers of characters in a record (mysql),"I need to add the number of characters that there are in each of records.

    SELECT 
     CHAR_LENGTH(fiedl1) +
     CHAR_LENGTH(fiedl2) +
     CHAR_LENGTH(fiedl3) +
     CHAR_LENGTH(fiedl4) +
     CHAR_LENGTH(fiedl5) +
     CHAR_LENGTH(fiedl6)
    FROM mytable;

The above code is not valid because if a field contains NULL values then it returns NULL.",mysql,,,,,,open,0,76,9,"Adding the numbers of characters in a record (mysql) I need to add the number of characters that there are in each of records.

    SELECT 
     CHAR_LENGTH(fiedl1) +
     CHAR_LENGTH(fiedl2) +
     CHAR_LENGTH(fiedl3) +
     CHAR_LENGTH(fiedl4) +
     CHAR_LENGTH(fiedl5) +
     CHAR_LENGTH(fiedl6)
    FROM mytable;

The above code is not valid because if a field contains NULL values then it returns NULL.",1
11551050,07/18/2012 22:03:50,1527429,07/15/2012 20:29:05,27,0,magento on ipage: magento database exists in control panel but not visible,"I am trying to create a database called magento on my provider (iPage).
I would like to know how come it is not letting me create the table
called ""magento"" when I cannot see any such table in my work panel
(in fact there is only one other table named worknet and that's it).

Can anyone explain what is happening? Why is the magento table not
showing if it does not already exist? Is magento supported on ipage?
(I read an old article that said it was not but was just wondering
if things have changed since then).


![magento database already exists][1]


  [1]: http://i.stack.imgur.com/kxiqB.png",mysql,magento,,,,07/20/2012 13:51:11,too localized,1,97,12,"magento on ipage: magento database exists in control panel but not visible I am trying to create a database called magento on my provider (iPage).
I would like to know how come it is not letting me create the table
called ""magento"" when I cannot see any such table in my work panel
(in fact there is only one other table named worknet and that's it).

Can anyone explain what is happening? Why is the magento table not
showing if it does not already exist? Is magento supported on ipage?
(I read an old article that said it was not but was just wondering
if things have changed since then).


![magento database already exists][1]


  [1]: http://i.stack.imgur.com/kxiqB.png",2
9205562,02/09/2012 04:47:50,1197238,02/08/2012 13:08:27,6,0,Filter data using textbox and view it in the listview in vb.net,I want to display  the result in listview that i written in the texbox can you pls help me?,mysql,vb.net,odbc,,,02/10/2012 16:20:02,not a real question,1,20,12,Filter data using textbox and view it in the listview in vb.net I want to display  the result in listview that i written in the texbox can you pls help me?,3
7260500,08/31/2011 16:47:06,198212,10/28/2009 15:37:51,969,50,Most frequently used SQL Injection attacks,"I'm developing a new application and i want to test if it's vulnerable. I know some common attacks, but maybe you can provide some more to make my app safer.

Thanks!",mysql,sql,database,sql-injection,,08/31/2011 16:57:58,not constructive,1,30,6,"Most frequently used SQL Injection attacks I'm developing a new application and i want to test if it's vulnerable. I know some common attacks, but maybe you can provide some more to make my app safer.

Thanks!",4
8433167,12/08/2011 15:14:29,838926,07/11/2011 12:58:54,73,2,MySQL conditional field in join query,"I'm having problems adding a conditional field to my query.
The query returns the jobs that are published on my website (many joines, nothing very speical). The thing is I need to add another field in order to know if the current user already applied for this job (in order to remove the APPLY button)...

I have a jobApplication table, which has the user_id and job_id tables. I thought about using another join but that can't work. I tried to create it with an IF and SELECT but didn't quite managed to make it work :/...

this is my query:

    ""SELECT *,j.job_id as jid, c.name as city_name FROM jobs j JOIN areas a ON a.area_id = j.job_area"" .
    "" JOIN positions p ON p.position_id = j.job_position JOIN fields f ON f.id = j.job_field ""
     ."" JOIN cities c ON j.job_city = c.id JOIN jobTypes jt ON j.job_type = jt.job_id "" .
     ""JOIN companies comp ON j.job_company = comp.company_id LEFT JOIN jobApplications ja ON WHERE j.job_field = '$field' AND j.job_position = '$position' AND j.job_area = '$area' ORDER BY j.creationDate DESC""


any attempt I made to add a condition select broke the query, any chance someone can give me a better direction?

Thanks!!",mysql,join,conditional,,,,open,0,210,6,"MySQL conditional field in join query I'm having problems adding a conditional field to my query.
The query returns the jobs that are published on my website (many joines, nothing very speical). The thing is I need to add another field in order to know if the current user already applied for this job (in order to remove the APPLY button)...

I have a jobApplication table, which has the user_id and job_id tables. I thought about using another join but that can't work. I tried to create it with an IF and SELECT but didn't quite managed to make it work :/...

this is my query:

    ""SELECT *,j.job_id as jid, c.name as city_name FROM jobs j JOIN areas a ON a.area_id = j.job_area"" .
    "" JOIN positions p ON p.position_id = j.job_position JOIN fields f ON f.id = j.job_field ""
     ."" JOIN cities c ON j.job_city = c.id JOIN jobTypes jt ON j.job_type = jt.job_id "" .
     ""JOIN companies comp ON j.job_company = comp.company_id LEFT JOIN jobApplications ja ON WHERE j.job_field = '$field' AND j.job_position = '$position' AND j.job_area = '$area' ORDER BY j.creationDate DESC""


any attempt I made to add a condition select broke the query, any chance someone can give me a better direction?

Thanks!!",3
7623639,10/01/2011 23:34:20,458413,09/25/2010 22:43:15,90,2,How to build FourSquare like leaderboard (users above and below you),"I'm looking for a way to implement Foursquare's style of leaderboard where instead of showing you the top 10 for example it shows the you 2 people above you and 2 people below you between your friends.

I'm hoping to avoid having to pull down everyones scores and do some array manipulation. Is there anyway I can do this with a smart SQL statement?",mysql,arrays,list,leaderboard,,,open,0,63,11,"How to build FourSquare like leaderboard (users above and below you) I'm looking for a way to implement Foursquare's style of leaderboard where instead of showing you the top 10 for example it shows the you 2 people above you and 2 people below you between your friends.

I'm hoping to avoid having to pull down everyones scores and do some array manipulation. Is there anyway I can do this with a smart SQL statement?",4
10414959,05/02/2012 13:39:44,570339,01/10/2011 19:55:34,381,10,Can't run mysql from terminal,"I have installed mysql and it works well with RazorSQL.  
But for some reason I need to run it from terminal, I type:
  
    mysql -u root

From terminal, but it says: command not found.  
It's started and working with RazorSQL, why doesn't it work from terminal?",mysql,osx-snow-leopard,,,,05/03/2012 13:54:35,not a real question,1,52,5,"Can't run mysql from terminal I have installed mysql and it works well with RazorSQL.  
But for some reason I need to run it from terminal, I type:
  
    mysql -u root

From terminal, but it says: command not found.  
It's started and working with RazorSQL, why doesn't it work from terminal?",2
11127943,06/20/2012 20:47:10,1470185,06/20/2012 18:44:19,1,0,"Is there a way in SQL to contact a website, or API?","I'm creating a sql based procedure which can 
1.Accept a table
2. load the values one at a time 
3. send the variables to an API
4. Record the response of the API
5. Write the response to a table for viewing later

I have successfully implemented 1,2, and 5. I am hoping there may be some way of choosing an address to contact and for SQL to listen too for a response. Please let me know if you have any suggestions!

Thanks!",mysql,sql,api,,,,open,0,78,12,"Is there a way in SQL to contact a website, or API? I'm creating a sql based procedure which can 
1.Accept a table
2. load the values one at a time 
3. send the variables to an API
4. Record the response of the API
5. Write the response to a table for viewing later

I have successfully implemented 1,2, and 5. I am hoping there may be some way of choosing an address to contact and for SQL to listen too for a response. Please let me know if you have any suggestions!

Thanks!",3
2384528,03/05/2010 04:16:29,17675,09/18/2008 13:28:35,1279,37,MySQL: Can I Share enums?,"I have 3 similar tables, that would all have the same enum type field. Is there a way I can just reuse a single enum instead of creating each (duplicate) enum? Aware of BNF/don't want to use it/small project.",mysql,enums,,,,,open,0,39,5,"MySQL: Can I Share enums? I have 3 similar tables, that would all have the same enum type field. Is there a way I can just reuse a single enum instead of creating each (duplicate) enum? Aware of BNF/don't want to use it/small project.",2
9545683,03/03/2012 11:17:39,1034801,11/08/2011 01:51:54,51,0,How to delete record more than 48 hours,"I have a field name date_start using the datetime data type. My question is on how to delete record based on this field that is more than 48 hours.

BTW, just give me the sql statement.

Thank you",mysql,,,,,03/04/2012 15:16:56,not a real question,1,36,8,"How to delete record more than 48 hours I have a field name date_start using the datetime data type. My question is on how to delete record based on this field that is more than 48 hours.

BTW, just give me the sql statement.

Thank you",1
7244138,08/30/2011 13:42:19,421726,08/16/2010 12:31:13,1,0,Implications of using SVN to backup DB dump files,"So I want to provide nightly database backups to my clients and I was considering an option that I wanted to get others feedback on.  My plan is simple.  Since I am using Drupal I will use the backup_migrate module to schedule a backup for once a day.  Let's say 2:00am.  I will always write to the same file.  Then I will write a cron job for, let's say an hour later, to commit the updated file.

The obvious benefit of this approach for me is that using SVN's rollback capabiities I could restore the database to any date in the past, while only having one file on the server at any given time. My concern is how SVN would store this.  Would SVN create an entirely new version of this file each time, or would it only store the differences?  Obviously if it is creating a new file each time then there's not much point in going this route.

Thoughts?  Other ideas on how to accomplish the same thing?",mysql,svn,drupal,database-backups,backup-strategies,06/27/2012 13:11:54,off topic,1,176,9,"Implications of using SVN to backup DB dump files So I want to provide nightly database backups to my clients and I was considering an option that I wanted to get others feedback on.  My plan is simple.  Since I am using Drupal I will use the backup_migrate module to schedule a backup for once a day.  Let's say 2:00am.  I will always write to the same file.  Then I will write a cron job for, let's say an hour later, to commit the updated file.

The obvious benefit of this approach for me is that using SVN's rollback capabiities I could restore the database to any date in the past, while only having one file on the server at any given time. My concern is how SVN would store this.  Would SVN create an entirely new version of this file each time, or would it only store the differences?  Obviously if it is creating a new file each time then there's not much point in going this route.

Thoughts?  Other ideas on how to accomplish the same thing?",5
11430223,07/11/2012 10:05:23,1501212,07/04/2012 09:56:23,8,0,Import large csv file using phpMyAdmin,"I have a little question.


I have a csv file, a big one, 30 000 rows. I've tried to import it using LOAD file etc.. from the terminal, as I found on google, but it didn't work. It was making the import but my table got to 30 000 rows of NULL cells.
After that I tried phpMyAdmin and there I found out that my csv was too big. I've split it in 5 using CSV Splitter. I've made the import for the first file. Everything went great. Than I tried to import the second one, but I got thos error:

Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 35 bytes) in C:\xampp\phpMyAdmin\libraries\import\csv.php on line 370

or 1064 error sometimes.

Do you know why and how can I solve it? Thank you.
",mysql,csv,import,phpmyadmin,mysql-error-1064,,open,0,131,6,"Import large csv file using phpMyAdmin I have a little question.


I have a csv file, a big one, 30 000 rows. I've tried to import it using LOAD file etc.. from the terminal, as I found on google, but it didn't work. It was making the import but my table got to 30 000 rows of NULL cells.
After that I tried phpMyAdmin and there I found out that my csv was too big. I've split it in 5 using CSV Splitter. I've made the import for the first file. Everything went great. Than I tried to import the second one, but I got thos error:

Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 35 bytes) in C:\xampp\phpMyAdmin\libraries\import\csv.php on line 370

or 1064 error sometimes.

Do you know why and how can I solve it? Thank you.
",5
3375330,07/30/2010 21:01:23,175094,09/17/2009 17:15:39,1022,71,Storing byte array in MySQL Blob with VBA,Anybody have some VBA code that will store a byte array into a MySQL blob column?,mysql,vba,bytearray,blob,,,open,0,16,8,Storing byte array in MySQL Blob with VBA Anybody have some VBA code that will store a byte array into a MySQL blob column?,4
8002936,11/03/2011 22:54:32,926969,09/03/2011 19:56:07,28,0,MySQL REGEXP is not matching more than one word,"MySQL is not matching more than one word in REGEXP query. Will someone please assist?
For example, given a table with a field 'name' and a value listed

NAME:
""alpha bravo tango"",
""Juliet bravo"",
""delta tango"",
""charlie oscar""

The following query returns nothing

     select * from t1 where name regexp '(alpha|bravo|delta){2,}';

The following query works

    select * from t1 where name regexp '(alpha|bravo|delta){1,}';",mysql,regex,,,,,open,0,62,9,"MySQL REGEXP is not matching more than one word MySQL is not matching more than one word in REGEXP query. Will someone please assist?
For example, given a table with a field 'name' and a value listed

NAME:
""alpha bravo tango"",
""Juliet bravo"",
""delta tango"",
""charlie oscar""

The following query returns nothing

     select * from t1 where name regexp '(alpha|bravo|delta){2,}';

The following query works

    select * from t1 where name regexp '(alpha|bravo|delta){1,}';",2
10799427,05/29/2012 12:45:01,38940,11/19/2008 14:04:14,3018,34,How to match string with escaped qouote character in MySQL?,"In PhpMyAdmin i use query:

    SELECT * FROM myrecords where TITLE LIKE ""%\\\""%""

To filter out badly saved records that have "" sign escaped with \ sing. It should be just "". So i need to find only these records with \"" and replace it with "" only. But when i use the query above to filter the \"" i get records with \"" as well like the records with "". How to make this query get only records with \"" and not "" alone?",mysql,sql,phpmyadmin,,,,open,0,87,10,"How to match string with escaped qouote character in MySQL? In PhpMyAdmin i use query:

    SELECT * FROM myrecords where TITLE LIKE ""%\\\""%""

To filter out badly saved records that have "" sign escaped with \ sing. It should be just "". So i need to find only these records with \"" and replace it with "" only. But when i use the query above to filter the \"" i get records with \"" as well like the records with "". How to make this query get only records with \"" and not "" alone?",3
8775054,01/08/2012 03:02:46,1104878,12/18/2011 20:04:57,28,1,"session data, display profile URLs in CodeIgniter (w/Tank Auth)","I'm developing an app in CodeIgniter and MySQL. The app include user profiles; am using Tank Auth to register and authenticate users.

I've setup a couple of users and now want to view each user's profile. I need to know:

1 - **How to add custom session data into Tank Auth**. I have an idea of how the code should look (http://codeigniter.com/user_guide/libraries/sessions.html), but am not sure where the code should go in the auth controller, which is rather extensive -  https://github.com/ilkon/Tank-Auth/blob/master/application/controllers/auth.php.

2 - **How to pass user data through to a view**. I've setup a function to retrieve user data (see below) and want to pass it through to my profile view--I'm thinking that userdata (in the code) will represent the custom session data, which will include the user's id and username, one of which I'll need for the URL.

3 - **URLs** I want the URLs to look like this: http://example.com/users/3394 or http://example.com/users/fooy_foo. I know I need to do something with CI URI routing, but am not certain how to tie it in with the results I get from the query.

Here's the code from the User controller {

    function index()
    	{    
    	$id = $this->tank_auth->is_logged_in('id');
    
        $this->db->where('id', $id);
        $q = $this->db->get('user');
        $data['userdata']=$q;
        
        $this->load->view('user_view', $data);
    	}
    }


",mysql,codeigniter,tankauth,,,,open,0,261,9,"session data, display profile URLs in CodeIgniter (w/Tank Auth) I'm developing an app in CodeIgniter and MySQL. The app include user profiles; am using Tank Auth to register and authenticate users.

I've setup a couple of users and now want to view each user's profile. I need to know:

1 - **How to add custom session data into Tank Auth**. I have an idea of how the code should look (http://codeigniter.com/user_guide/libraries/sessions.html), but am not sure where the code should go in the auth controller, which is rather extensive -  https://github.com/ilkon/Tank-Auth/blob/master/application/controllers/auth.php.

2 - **How to pass user data through to a view**. I've setup a function to retrieve user data (see below) and want to pass it through to my profile view--I'm thinking that userdata (in the code) will represent the custom session data, which will include the user's id and username, one of which I'll need for the URL.

3 - **URLs** I want the URLs to look like this: http://example.com/users/3394 or http://example.com/users/fooy_foo. I know I need to do something with CI URI routing, but am not certain how to tie it in with the results I get from the query.

Here's the code from the User controller {

    function index()
    	{    
    	$id = $this->tank_auth->is_logged_in('id');
    
        $this->db->where('id', $id);
        $q = $this->db->get('user');
        $data['userdata']=$q;
        
        $this->load->view('user_view', $data);
    	}
    }


",3
8093477,11/11/2011 11:41:09,786333,06/06/2011 17:47:03,166,9,MySQL check if a person is available,"I have 2 tables:

`accounts`

    +------+------------------------+
    |  id  |  name                  |
    +------+------------------------+
    |   1  |  John                  |
    |   2  |  Lee                   |
    |   3  |  Sarah                 |
    |   4  |  Michael               |
    +------+------------------------+

`holidays`

    +------+---------+----------------+--------------+
    |  id  | account |   start_date   |    end_date  |
    +------+---------+----------------+--------------+
    |  1   |  2      |   11/11/11     |    15/11/11  |
    +------+---------+----------------+--------------+

This means that Lee is not available from 11/11/11 until 15/11/11 (inclusive)

I need a query that will check who are available on a given day. For example if I specify a date of 13/11/11 Lee would be unavailable so only retrieve the other 3 accounts, but if I specify a date of 16/11/11 all accounts will be available

Any help appreciated

",mysql,sql,query,,,,open,0,281,7,"MySQL check if a person is available I have 2 tables:

`accounts`

    +------+------------------------+
    |  id  |  name                  |
    +------+------------------------+
    |   1  |  John                  |
    |   2  |  Lee                   |
    |   3  |  Sarah                 |
    |   4  |  Michael               |
    +------+------------------------+

`holidays`

    +------+---------+----------------+--------------+
    |  id  | account |   start_date   |    end_date  |
    +------+---------+----------------+--------------+
    |  1   |  2      |   11/11/11     |    15/11/11  |
    +------+---------+----------------+--------------+

This means that Lee is not available from 11/11/11 until 15/11/11 (inclusive)

I need a query that will check who are available on a given day. For example if I specify a date of 13/11/11 Lee would be unavailable so only retrieve the other 3 accounts, but if I specify a date of 16/11/11 all accounts will be available

Any help appreciated

",3
5382713,03/21/2011 19:41:14,605039,02/06/2011 05:25:50,130,5,active record query conflict between :joins and :includes,"Can anyone suggest an easy fix for the query below?

    Workout.all(:joins => [:person, :schedule], 
    		:conditions => [""schedule.id = ? AND people.gym_id = ?"", schedule.id, gym.id ], 
    		:order => ""time DESC"",
    		:include => [:person]),

Error message says **Mysql::Error:  Not unique table/alias: 'people'**: and then a very long sql query

When I remove :person from the :include options, the code works fine.  However, then I get the ""n+1 queries"" problem: when I display the workouts, it generates a separate query for each person.

I am assuming that the 'people' tables from the join and include options conflict in the generated SQL.  Is there a way to alias tables with active record using the find options?  Or do I need to use a sql fragment for the :joins option so that I can alias the tables with AS?

I have not upgraded this app to 3.0 yet, so I can't use the ""Class.joins().where()"" syntax.",mysql,ruby-on-rails,,,,,open,0,165,8,"active record query conflict between :joins and :includes Can anyone suggest an easy fix for the query below?

    Workout.all(:joins => [:person, :schedule], 
    		:conditions => [""schedule.id = ? AND people.gym_id = ?"", schedule.id, gym.id ], 
    		:order => ""time DESC"",
    		:include => [:person]),

Error message says **Mysql::Error:  Not unique table/alias: 'people'**: and then a very long sql query

When I remove :person from the :include options, the code works fine.  However, then I get the ""n+1 queries"" problem: when I display the workouts, it generates a separate query for each person.

I am assuming that the 'people' tables from the join and include options conflict in the generated SQL.  Is there a way to alias tables with active record using the find options?  Or do I need to use a sql fragment for the :joins option so that I can alias the tables with AS?

I have not upgraded this app to 3.0 yet, so I can't use the ""Class.joins().where()"" syntax.",2
742205,04/12/2009 18:53:10,49560,12/28/2008 15:59:55,155,5,MySql alter table Collation,"    create table check2(f1 varchar(20),f2 varchar(20));

creates a table with the default collation latin1_general_ci;

    alter table check2 collate latin1_general_cs;
    show full columns from check2;

shows the individual collation of the columns as 'latin1_general_ci'.
Then what is the effect of the alter table command?",mysql,collation,,,,,open,0,49,4,"MySql alter table Collation     create table check2(f1 varchar(20),f2 varchar(20));

creates a table with the default collation latin1_general_ci;

    alter table check2 collate latin1_general_cs;
    show full columns from check2;

shows the individual collation of the columns as 'latin1_general_ci'.
Then what is the effect of the alter table command?",2
10990032,06/12/2012 02:59:14,945170,09/14/2011 17:15:49,406,5,Setting up a MySql Server,"First off I have very very little networking experience. I'm more of a programmer. I want to learn though. My goal is I want to set up a server (ubuntu ?) on a desktop and then be able to access that server on my laptop and create a mysql database and form a connection in a visual studio project. On that note I'm looking to be able to access my server (just me) any where I go. I've googled for hours but can't really find a good example on setting up a mysql server or any type at that and then make it public so that I can access it on my laptop to develop with. Any tips, advice is much appreciated. :)",mysql,visual-studio-2010,ubuntu,,,,open,0,123,5,"Setting up a MySql Server First off I have very very little networking experience. I'm more of a programmer. I want to learn though. My goal is I want to set up a server (ubuntu ?) on a desktop and then be able to access that server on my laptop and create a mysql database and form a connection in a visual studio project. On that note I'm looking to be able to access my server (just me) any where I go. I've googled for hours but can't really find a good example on setting up a mysql server or any type at that and then make it public so that I can access it on my laptop to develop with. Any tips, advice is much appreciated. :)",3
5021174,02/16/2011 19:30:04,620237,02/16/2011 19:14:05,1,0,Tomcat7 MySQL Connection Error,"I'm facing a perplexing problem. I've completed a jsf web app that utlizes hibernate and infinispan with Tomcat7 and tomcat-jdbc-pool as the connection pool provider. 

It is being deployed to a Linode cluster w/ 2 nodes -- one database server and one production server. 

I can run the app on my local environment using the exact same copy of Tomcat7 (I literally tarred the tomcat directory and promoted it to the server to debug this error) -- even when connected to the live database instance. Everything runs fine.

When I attempt to run the application from the production server I get a MySQLIO error:

> Caused by: java.net.ConnectException:
> Connection refused

Looking further up in the logs i see:

> The last packet sent successfully to
> the server was 1 milliseconds ago. The
> driver has not received any packets
> from the server.
> com.mysql.jdbc.exceptions.jdbc4.CommunicationsException:
> Communications link failure

I can connect from the command line on the prodapp server just fine -- even using tcp:

    mysql -h db01 -u user -p --protocol=tcp

But it just won't work running inside the Tomcat container. I've tried all kinds of things but I'm really stumped. It just seems strange that I can connect to the database server using the same copy of Tomcat7 locally but when deployed to production the same copy of tomcat7 can't connect -- even though I can connect from the command line on that production server ... I'm stumped.

Any help is greatly appreciated.

",mysql,tomcat,connection,,,,open,0,238,4,"Tomcat7 MySQL Connection Error I'm facing a perplexing problem. I've completed a jsf web app that utlizes hibernate and infinispan with Tomcat7 and tomcat-jdbc-pool as the connection pool provider. 

It is being deployed to a Linode cluster w/ 2 nodes -- one database server and one production server. 

I can run the app on my local environment using the exact same copy of Tomcat7 (I literally tarred the tomcat directory and promoted it to the server to debug this error) -- even when connected to the live database instance. Everything runs fine.

When I attempt to run the application from the production server I get a MySQLIO error:

> Caused by: java.net.ConnectException:
> Connection refused

Looking further up in the logs i see:

> The last packet sent successfully to
> the server was 1 milliseconds ago. The
> driver has not received any packets
> from the server.
> com.mysql.jdbc.exceptions.jdbc4.CommunicationsException:
> Communications link failure

I can connect from the command line on the prodapp server just fine -- even using tcp:

    mysql -h db01 -u user -p --protocol=tcp

But it just won't work running inside the Tomcat container. I've tried all kinds of things but I'm really stumped. It just seems strange that I can connect to the database server using the same copy of Tomcat7 locally but when deployed to production the same copy of tomcat7 can't connect -- even though I can connect from the command line on that production server ... I'm stumped.

Any help is greatly appreciated.

",3
5320923,03/16/2011 04:06:15,341405,05/14/2010 16:06:09,46,2,mysql query grouping,"i am making a shopping cart. selected items are stored inside a database based on a search query.

rows: sku,type,color,quantity

how i can add the quantity for rows incase sku, type and color are the same values

example:

    1,type1,blue,5
    1,type1,blue,2
    2,type1,blue,5
    1,type1,green,5

my new rows should be:

    1,type1,blue,7
    2,type1,blue,5
    1,type1,green,5

notice the first row quantity is now 7.

how can this be done, i tried groupby but didn't know how to make it dynamic to match all..",mysql,query,group,,,,open,0,92,3,"mysql query grouping i am making a shopping cart. selected items are stored inside a database based on a search query.

rows: sku,type,color,quantity

how i can add the quantity for rows incase sku, type and color are the same values

example:

    1,type1,blue,5
    1,type1,blue,2
    2,type1,blue,5
    1,type1,green,5

my new rows should be:

    1,type1,blue,7
    2,type1,blue,5
    1,type1,green,5

notice the first row quantity is now 7.

how can this be done, i tried groupby but didn't know how to make it dynamic to match all..",3
7496636,09/21/2011 08:20:05,956458,09/21/2011 08:18:19,1,0,Increase Fields in Mysql,I have a data with 4886 columns. Is there anyway any script anything at all that will help me create this into a single table rather than splitting it into tables.,mysql,,,,,09/21/2011 10:20:13,not a real question,1,31,4,Increase Fields in Mysql I have a data with 4886 columns. Is there anyway any script anything at all that will help me create this into a single table rather than splitting it into tables.,1
10681720,05/21/2012 08:22:08,883984,08/08/2011 11:41:14,64,3,Stored Procedure Updates all records,"I am writing MYSQL stored procedures, but in update query the sql updates all my records from database despite where clause.

Can anyone help with solution?

",mysql,query,stored-procedures,update,where-clause,05/21/2012 16:41:31,not a real question,1,25,5,"Stored Procedure Updates all records I am writing MYSQL stored procedures, but in update query the sql updates all my records from database despite where clause.

Can anyone help with solution?

",5
6900393,08/01/2011 15:03:43,279849,02/23/2010 21:09:47,1,0,"SQL, multiple email adresses problem","I've a user table (MySQL) with the following data

    id	email		creation_date
    1	bob@mail.com	2011-08-01 09:00:00
    2	bob@mail.com	2011-06-24 02:00:00
    3	john@mail.com	2011-02-01 04:00:00
    4	john@mail.com	2011-08-05 20:30:00
    5	john@mail.com	2011-08-05 23:00:00
    6	jill@mail.com	2011-08-01 00:00:00

As you can see we allow email duplicates so its possible to register several accounts with the same email address. 
Now I need to select all adresses ordered by the creation_date but **no duplicates**. This is easy (i think)

    SELECT * FROM (SELECT * FROM users ORDER BY creation_date) AS X GROUP BY email

Expected result:

    id	email		creation_date
    2	bob@mail.com	2011-06-24 02:00:00
    6	jill@mail.com	2011-08-01 00:00:00
    3	john@mail.com	2011-02-01 04:00:00


But then I also need to select all other adresses, ie. all that are not present in the result from the first query. *Duplicate are allowed* here.

Expected result:

    id	email		creation_date
    1	bob@mail.com	2011-08-01 09:00:00
    4	john@mail.com	2011-08-05 20:30:00
    5	john@mail.com	2011-08-05 23:00:00

Any ideas? Perfomance is important because the real database is very huge
",mysql,sql,,,,,open,0,176,5,"SQL, multiple email adresses problem I've a user table (MySQL) with the following data

    id	email		creation_date
    1	bob@mail.com	2011-08-01 09:00:00
    2	bob@mail.com	2011-06-24 02:00:00
    3	john@mail.com	2011-02-01 04:00:00
    4	john@mail.com	2011-08-05 20:30:00
    5	john@mail.com	2011-08-05 23:00:00
    6	jill@mail.com	2011-08-01 00:00:00

As you can see we allow email duplicates so its possible to register several accounts with the same email address. 
Now I need to select all adresses ordered by the creation_date but **no duplicates**. This is easy (i think)

    SELECT * FROM (SELECT * FROM users ORDER BY creation_date) AS X GROUP BY email

Expected result:

    id	email		creation_date
    2	bob@mail.com	2011-06-24 02:00:00
    6	jill@mail.com	2011-08-01 00:00:00
    3	john@mail.com	2011-02-01 04:00:00


But then I also need to select all other adresses, ie. all that are not present in the result from the first query. *Duplicate are allowed* here.

Expected result:

    id	email		creation_date
    1	bob@mail.com	2011-08-01 09:00:00
    4	john@mail.com	2011-08-05 20:30:00
    5	john@mail.com	2011-08-05 23:00:00

Any ideas? Perfomance is important because the real database is very huge
",2
11191983,06/25/2012 15:10:08,794000,06/11/2011 14:02:11,282,18,Submit Form With Ajax to MySQL,"I wonder whether someone may be able to help me please.

For sometime I've been searching for a tutorial/article that shows me how to set up a form and submit the user input to a mySQL database using AJAX.

Although this doesn't show me how to send the data to the database, [this][1] article provided me with a good starting pointing and it also gave me the 'look and feel' in respect of online messages which I would like to incorporate into my form.

I've now started to adapt the example script but I'm having difficulty in submitting the data to my database.

In the form I've changed this section:

 

       $.ajax( {
              url: contactForm.attr( 'action' ) + ""?ajax=true"",
              type: contactForm.attr( 'method' ),
              data: contactForm.serialize(),
              success: submitFinished
            } );
    
      }

to

     $.ajax( {
          url: contactForm.attr( 'savecontact.php' ) + ""?ajax=true"",
          type: contactForm.attr( 'post' ),
          data: contactForm.serialize(),
          success: submitFinished
        } );
      }

and in the PHP script, I've changed this:

    
    // If all values exist, send the email
    if ( $senderName && $senderEmail && $message ) {
      $recipient = RECIPIENT_NAME . "" <"" . RECIPIENT_EMAIL . "">"";
      $headers = ""From: "" . $senderName . "" <"" . $senderEmail . "">"";
      $success = mail( $recipient, EMAIL_SUBJECT, $message, $headers );

to


    // If all values exist, send the email
    if ( $senderName && $senderEmail && $message ) {
    
    	$query = ""INSERT INTO `contact` (senderName, senderEmail, message) VALUES ('$senderName', '$senderEmail', '$message')"";  
    			$result = mysql_query($query);  //query executes  
    }

The problem I'm having, is that upon sending the form, the `sending` message appears on screen and continues to be stuck on this message and non of the data is sent to my database and I must admit I'm really not sure why.

I appreciate that because of my lack of experience there may be an easier way to achieve the results I would like and I may be looking at this too simplistically, but I just wondered whether someone could perhaps have a look at this please and let me know where I'm going wrong.

Many thanks and kind regards
			

  [1]: http://www.elated.com/articles/slick-ajax-contact-form-jquery-php/",mysql,forms,jquery-ajax,,,,open,0,515,6,"Submit Form With Ajax to MySQL I wonder whether someone may be able to help me please.

For sometime I've been searching for a tutorial/article that shows me how to set up a form and submit the user input to a mySQL database using AJAX.

Although this doesn't show me how to send the data to the database, [this][1] article provided me with a good starting pointing and it also gave me the 'look and feel' in respect of online messages which I would like to incorporate into my form.

I've now started to adapt the example script but I'm having difficulty in submitting the data to my database.

In the form I've changed this section:

 

       $.ajax( {
              url: contactForm.attr( 'action' ) + ""?ajax=true"",
              type: contactForm.attr( 'method' ),
              data: contactForm.serialize(),
              success: submitFinished
            } );
    
      }

to

     $.ajax( {
          url: contactForm.attr( 'savecontact.php' ) + ""?ajax=true"",
          type: contactForm.attr( 'post' ),
          data: contactForm.serialize(),
          success: submitFinished
        } );
      }

and in the PHP script, I've changed this:

    
    // If all values exist, send the email
    if ( $senderName && $senderEmail && $message ) {
      $recipient = RECIPIENT_NAME . "" <"" . RECIPIENT_EMAIL . "">"";
      $headers = ""From: "" . $senderName . "" <"" . $senderEmail . "">"";
      $success = mail( $recipient, EMAIL_SUBJECT, $message, $headers );

to


    // If all values exist, send the email
    if ( $senderName && $senderEmail && $message ) {
    
    	$query = ""INSERT INTO `contact` (senderName, senderEmail, message) VALUES ('$senderName', '$senderEmail', '$message')"";  
    			$result = mysql_query($query);  //query executes  
    }

The problem I'm having, is that upon sending the form, the `sending` message appears on screen and continues to be stuck on this message and non of the data is sent to my database and I must admit I'm really not sure why.

I appreciate that because of my lack of experience there may be an easier way to achieve the results I would like and I may be looking at this too simplistically, but I just wondered whether someone could perhaps have a look at this please and let me know where I'm going wrong.

Many thanks and kind regards
			

  [1]: http://www.elated.com/articles/slick-ajax-contact-form-jquery-php/",3
7115616,08/19/2011 00:08:07,486805,10/25/2010 19:01:21,118,2,MYSQL DB Design Question - Move inactive rows to another table?,"I have a table where when a row is created, it will be active for 24 hours with some writes and lots of reads.  Then it becomes inactive after 24 hours and will have no more writes and only some reads, if any.  Is it better to keep these rows in the table or move them when they become inactive (or via batch jobs) to a separate table?  Thinking in terms of performance.",mysql,database,design,table,,,open,0,76,11,"MYSQL DB Design Question - Move inactive rows to another table? I have a table where when a row is created, it will be active for 24 hours with some writes and lots of reads.  Then it becomes inactive after 24 hours and will have no more writes and only some reads, if any.  Is it better to keep these rows in the table or move them when they become inactive (or via batch jobs) to a separate table?  Thinking in terms of performance.",4
7125766,08/19/2011 18:25:15,900547,08/18/2011 11:58:46,1,0,Wordpress custom query failing,"I'm creating a theme, with an admin page. In the admin page function, I have this line:
`$result1 = $wpdb->get_results(""SELECT * FROM "".$table_name) or die(mysql_error().""wrong"");`
In the admin page, ""wrong"" is printed. If I comment this line, everything works fine, except that I can't get those values. Before that, I also have this line:
`$wpdb->query(""CREATE TABLE IF NOT EXISTS "".$table_name."" (
	id int NOT NULL AUTO_INCREMENT,
	url varchar (1023) NOT NULL,
	title varchar(511) NOT NULL,
	postpage varchar(511),
	link varchar(1023),
	PRIMARY KEY (id)
)"") or die(mysql_error());`
It works fine. I've tried everything, I can't get it to work.",mysql,wordpress,admin,,,,open,0,86,4,"Wordpress custom query failing I'm creating a theme, with an admin page. In the admin page function, I have this line:
`$result1 = $wpdb->get_results(""SELECT * FROM "".$table_name) or die(mysql_error().""wrong"");`
In the admin page, ""wrong"" is printed. If I comment this line, everything works fine, except that I can't get those values. Before that, I also have this line:
`$wpdb->query(""CREATE TABLE IF NOT EXISTS "".$table_name."" (
	id int NOT NULL AUTO_INCREMENT,
	url varchar (1023) NOT NULL,
	title varchar(511) NOT NULL,
	postpage varchar(511),
	link varchar(1023),
	PRIMARY KEY (id)
)"") or die(mysql_error());`
It works fine. I've tried everything, I can't get it to work.",3
225772,10/22/2008 13:41:07,27439,10/13/2008 14:32:21,508,33,Compare two MySQL databases,"I have a database in MySQL that I am currently developing. I have a copy of this database on my development machine which I modify as fast as I develop and a copy on a test server. My question is:

Is there a way to compare the two instances of the database to see if there was any changes?

Its not a real problem to simply re-deploy the database on the test server but as the end user's start entering test data it could be a bit tricky. A related question is also relevant a little later on in production...

Is there an easy way to incrementally make changes to the production database? That is, suppose I add one new table and modified one existing table, are there tools that will detect the changes and generate scripts that will safely perform the updates on the production copy of the database? ",mysql,diff,database,,,07/03/2012 14:30:47,not constructive,1,148,4,"Compare two MySQL databases I have a database in MySQL that I am currently developing. I have a copy of this database on my development machine which I modify as fast as I develop and a copy on a test server. My question is:

Is there a way to compare the two instances of the database to see if there was any changes?

Its not a real problem to simply re-deploy the database on the test server but as the end user's start entering test data it could be a bit tricky. A related question is also relevant a little later on in production...

Is there an easy way to incrementally make changes to the production database? That is, suppose I add one new table and modified one existing table, are there tools that will detect the changes and generate scripts that will safely perform the updates on the production copy of the database? ",3
7871571,10/24/2011 05:24:30,1010279,10/24/2011 05:21:07,1,0,Mysql local installation on windows 64 machine,"I'm trying to install Mysql on my windows 64bit using Xampp,Easy php,but it doesnt seem to work.I cannot access phpmyadmin.Can someone please help me with the problem?
",mysql,xampp,windows64,,,11/23/2011 16:21:43,off topic,1,27,7,"Mysql local installation on windows 64 machine I'm trying to install Mysql on my windows 64bit using Xampp,Easy php,but it doesnt seem to work.I cannot access phpmyadmin.Can someone please help me with the problem?
",3
5647857,04/13/2011 10:43:10,690630,04/04/2011 06:30:42,1,0,Mysql Optimize Query: Trying to Get Average of Subquery,"I have the following query:

    SELECT AVG(time) FROM 
	(SELECT UNIX_TIMESTAMP(max(datelast)) - UNIX_TIMESTAMP(min(datestart)) AS time
		FROM table
		WHERE id IN 
			(SELECT DISTINCT id
				FROM table
				WHERE product_id = 12394 AND datelast > '2011-04-13 00:26:59'
			)
	GROUP BY id
	)
as T

The query gets the greatest datelast value and subtracts it from the greatest datestart value for every ID (which is the length of a user session), and then averages it.

The outer most query is there only to average the resulting times. Is there any way to optimize this query?",mysql,optimization,subquery,aggregate-functions,average,,open,0,83,9,"Mysql Optimize Query: Trying to Get Average of Subquery I have the following query:

    SELECT AVG(time) FROM 
	(SELECT UNIX_TIMESTAMP(max(datelast)) - UNIX_TIMESTAMP(min(datestart)) AS time
		FROM table
		WHERE id IN 
			(SELECT DISTINCT id
				FROM table
				WHERE product_id = 12394 AND datelast > '2011-04-13 00:26:59'
			)
	GROUP BY id
	)
as T

The query gets the greatest datelast value and subtracts it from the greatest datestart value for every ID (which is the length of a user session), and then averages it.

The outer most query is there only to average the resulting times. Is there any way to optimize this query?",5
6165869,05/29/2011 03:57:06,402610,07/26/2010 18:23:17,373,9,Grouping mysql records fortnightly,"I want to group the records on its timestamp field Fortnightly. I am doing it weekly now but i want it to be fortnightly also. How do i do that ? Is there a specific way to do this like how we group by weeks using WEEK('timestamp','%d-%m-%Y') function ?

",mysql,,,,,,open,0,49,4,"Grouping mysql records fortnightly I want to group the records on its timestamp field Fortnightly. I am doing it weekly now but i want it to be fortnightly also. How do i do that ? Is there a specific way to do this like how we group by weeks using WEEK('timestamp','%d-%m-%Y') function ?

",1
8044326,11/07/2011 23:51:50,130399,06/29/2009 11:38:01,372,14,Whats an appropriate language for a busy API?,"I have a API setup that receives JSON, authenticates it then writes the values to MySQL. The API is written in fairly optimized PHP.

When things get busy, PHP starts to lag and slows down a lot (chews up all the CPU). MySQL is chugging along fine - its quite happy with the writes it needs to perform.

I dont have a lot of resources (in terms of hardware) to chuck at the servers so is there a better language choice for what the API is doing? Something that will run leaner and faster yet still have json / mysql libs that are usable?

Thanks",mysql,api,programming-languages,,,11/09/2011 00:47:56,not constructive,1,102,8,"Whats an appropriate language for a busy API? I have a API setup that receives JSON, authenticates it then writes the values to MySQL. The API is written in fairly optimized PHP.

When things get busy, PHP starts to lag and slows down a lot (chews up all the CPU). MySQL is chugging along fine - its quite happy with the writes it needs to perform.

I dont have a lot of resources (in terms of hardware) to chuck at the servers so is there a better language choice for what the API is doing? Something that will run leaner and faster yet still have json / mysql libs that are usable?

Thanks",3
3992107,10/21/2010 21:27:29,471766,10/10/2010 22:02:50,8,0,Blank page on mysql connect,"I have a php function ( ""mconnect"") for connecting to mysql . Sometimes in full load i get a blank page with ""[]mconnect: mysql_connect""  
In this function i have custom messages for mysql error 1040 and 2002 -- connection errors  
In logs nothing appears when this error occur  
I use lighttpd 1.4.28 with php-cgi 5.2.0 and mysql 5.0.32 debian etch  

Those blank pages with error appears only in full load : when mysql has Avg. questions per second 
= 586.39 and lighty ~300 conn/s  
Both, lighty and mysql share the same machine: dual  quad xeon with 8G ram  

If anyone has a clue, please share 

Thanks   
Cris



",mysql,,,,,,open,0,116,5,"Blank page on mysql connect I have a php function ( ""mconnect"") for connecting to mysql . Sometimes in full load i get a blank page with ""[]mconnect: mysql_connect""  
In this function i have custom messages for mysql error 1040 and 2002 -- connection errors  
In logs nothing appears when this error occur  
I use lighttpd 1.4.28 with php-cgi 5.2.0 and mysql 5.0.32 debian etch  

Those blank pages with error appears only in full load : when mysql has Avg. questions per second 
= 586.39 and lighty ~300 conn/s  
Both, lighty and mysql share the same machine: dual  quad xeon with 8G ram  

If anyone has a clue, please share 

Thanks   
Cris



",1
11489967,07/15/2012 06:36:00,1526326,07/15/2012 01:20:36,3,0,SQL - Modify or delete a trigger,"I created triggers , and I can see them when I do SHOW TRIGGERS, but how is it possible to either modify or delete them?

I use MySQL",mysql,sql,triggers,,,,open,0,27,7,"SQL - Modify or delete a trigger I created triggers , and I can see them when I do SHOW TRIGGERS, but how is it possible to either modify or delete them?

I use MySQL",3
3604845,08/30/2010 22:57:37,164419,08/27/2009 18:15:51,29,1,How do I do 2 unique LEFT JOINs on the same table cell?,"In mysql I'd like to do 2 unique LEFT JOINs on the same table cell.

I have two tables.

One table lists individual clients and has a clientNoteID and staffNoteID entry for each client.  clientNoteID and staffNoteID are both integer references of a unique noteID for the note store in the notesTable.


**clientsTable:**

    clientID | clientName | clientNoteID | staffNoteID


**notesTable:**

    noteID | note

I'd like to be able to select out of the notesTable both the note referenced by the clientNoteID and the note referenced by the staffNoteID.

I don't see any way to alias a left join like:

    SELECT FROM clientsTable clientsTable.clientID, clientsTable.clientName, clientsTable.clientNoteID, clientsTable.stylistNoteID
    LEFT JOIN notes on clientTable.clientNotesID = notes.noteID
    LEFT JOIN notes on clientTable.staffNoteID = notes.noteID as staffNote

(not that i think that really makes too much sense)

So, how could I query so that I can print out at the end:

    clientName | clientNote | staffNote

",mysql,select,table,unique,left-join,,open,0,163,13,"How do I do 2 unique LEFT JOINs on the same table cell? In mysql I'd like to do 2 unique LEFT JOINs on the same table cell.

I have two tables.

One table lists individual clients and has a clientNoteID and staffNoteID entry for each client.  clientNoteID and staffNoteID are both integer references of a unique noteID for the note store in the notesTable.


**clientsTable:**

    clientID | clientName | clientNoteID | staffNoteID


**notesTable:**

    noteID | note

I'd like to be able to select out of the notesTable both the note referenced by the clientNoteID and the note referenced by the staffNoteID.

I don't see any way to alias a left join like:

    SELECT FROM clientsTable clientsTable.clientID, clientsTable.clientName, clientsTable.clientNoteID, clientsTable.stylistNoteID
    LEFT JOIN notes on clientTable.clientNotesID = notes.noteID
    LEFT JOIN notes on clientTable.staffNoteID = notes.noteID as staffNote

(not that i think that really makes too much sense)

So, how could I query so that I can print out at the end:

    clientName | clientNote | staffNote

",5
4119044,11/07/2010 18:27:10,331462,05/03/2010 13:58:32,72,3,"Post doesn't show up in dashboard - wordpress, MySQL","I recently redesigned my site, complete with a new database, but I wanted to grab all of the posts from my old wp site to have in the new one.  There were only three.  I imported all of the rows in the database that pertained to said posts to my new database.  Only two of the posts showed up.

When I tried to manually import the third post, I get this:

    SQL query:
    
    -- -- Database: `erisdesi_wp` -- -- -- Dumping data for table `wp_posts` -- INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES (188, 1, '2010-08-26 04:42:37', '2010-08-26 04:42:37', 'Hold yr horses! We’re building it!\r\n
    \r\n\r\n
    ', 'Design Blog', '', 'inherit', 'open', 'open', '', '110-revision-6', '', '', '2010-08-26 04:42:37', '2010-08-26 04:42:37', '', 110, 'http://www.erisdesigns.net/http:/www.erisdesigns.net/wordpress/', 0, 'revision', '', 0), (2, 1, '2010-07-17 18:28:39', '2010-07-17 18:28:39', 'Documentation #1062 - Duplicate entry

I'm pretty new to MySQL...any help is appreciated.  Thanks in advance for furthering my knowledge.",mysql,database,wordpress,,,,open,0,192,9,"Post doesn't show up in dashboard - wordpress, MySQL I recently redesigned my site, complete with a new database, but I wanted to grab all of the posts from my old wp site to have in the new one.  There were only three.  I imported all of the rows in the database that pertained to said posts to my new database.  Only two of the posts showed up.

When I tried to manually import the third post, I get this:

    SQL query:
    
    -- -- Database: `erisdesi_wp` -- -- -- Dumping data for table `wp_posts` -- INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES (188, 1, '2010-08-26 04:42:37', '2010-08-26 04:42:37', 'Hold yr horses! We’re building it!\r\n
    \r\n\r\n
    ', 'Design Blog', '', 'inherit', 'open', 'open', '', '110-revision-6', '', '', '2010-08-26 04:42:37', '2010-08-26 04:42:37', '', 110, 'http://www.erisdesigns.net/http:/www.erisdesigns.net/wordpress/', 0, 'revision', '', 0), (2, 1, '2010-07-17 18:28:39', '2010-07-17 18:28:39', 'Documentation #1062 - Duplicate entry

I'm pretty new to MySQL...any help is appreciated.  Thanks in advance for furthering my knowledge.",3
5446356,03/27/2011 00:25:38,348081,03/08/2010 17:00:09,365,4,mysql query : registers from last particular month,"in mysql, how get the registers from the last april ? ",mysql,query,,,,03/27/2011 03:13:52,not a real question,1,12,8,"mysql query : registers from last particular month in mysql, how get the registers from the last april ? ",2
11331573,07/04/2012 15:03:35,136391,07/10/2009 16:36:44,902,9,Mysql: Copy row but with new id,"I have a table ""test"" with an autoincremented id and an arbitrary number of columns.

I want to make a copy of a row in this table with all columns the same except for the id of course. 

Is there a way to do this without naming all columns? 


I thought INSERT... SELECT... ON DUPLICATE KEY would help me until i realised that it never makes an insert on duplicate, it just updates the existing row.",mysql,,,,,,open,0,75,7,"Mysql: Copy row but with new id I have a table ""test"" with an autoincremented id and an arbitrary number of columns.

I want to make a copy of a row in this table with all columns the same except for the id of course. 

Is there a way to do this without naming all columns? 


I thought INSERT... SELECT... ON DUPLICATE KEY would help me until i realised that it never makes an insert on duplicate, it just updates the existing row.",1
4940036,02/09/2011 00:10:26,29770,10/20/2008 21:05:26,795,34,Mysql function returning a value from a query,"i want to create a function which calculate a value using a query and i have problem returing the value: 

Shortened, my query is:



        CREATE FUNCTION func01(value1 INT , monto DECIMAL (10,2)) RETURNS DECIMAL(10,2)
        BEGIN
        SET @var_name = 0;
        select @var_name=if(value1 == 1,monto *divisa_dolar,monto *divisa_euro) from table where data_init = 1;
        return @var_nam;
        END



I get a SQL syntax error. 

Thanks. 
",mysql,function,,,,,open,0,103,8,"Mysql function returning a value from a query i want to create a function which calculate a value using a query and i have problem returing the value: 

Shortened, my query is:



        CREATE FUNCTION func01(value1 INT , monto DECIMAL (10,2)) RETURNS DECIMAL(10,2)
        BEGIN
        SET @var_name = 0;
        select @var_name=if(value1 == 1,monto *divisa_dolar,monto *divisa_euro) from table where data_init = 1;
        return @var_nam;
        END



I get a SQL syntax error. 

Thanks. 
",2
3591863,08/28/2010 18:09:55,180663,09/28/2009 19:11:43,473,1,Gem that allows for data access using sharded mysql databases while maintaining the usage of Activerecord,"*This is a relatively complex problem that I am thinking of, so please suggest edits or comment on parts where you are not clear about. I will update and iterate based on your comments*

I am thinking of a developing a rails gem that simplifies the usage of sharded tables, even when most of your data is stored in relational databases. I believe this is similar to the concept being used in Quora or Friendfeed when they hit a wall scaling w traditional mysql, with most of the potential solutions requiring massive migration (nosql), or just being really painful (sticking w relational completely)

 - http://bret.appspot.com/entry/how-friendfeed-uses-mysql
 - http://www.quora.com/When-Adam-DAngelo-says-partition-your-data-at-the-application-level-what-exactly-does-he-mean?q=application+layer+quora+adam+

Essentially, how can we continue using MySQL for a lot of things it is really good at, yet allowing parts of the system to scale? This will allow someone got started using mysql/activerecord, but hit a roadblock scaling to easily scale the parts of the database that makes sense. 

For us, we are using Ruby on Rails on a sharded database, and storing JSON blobs in them. Since we cannot do joins, we are creating tables for relationships between entities.

For example, we have 10 different type of entities. Each entity can be linked to each other using a big (sharded) relationship tables.

The tables are extremely simple. The indexes is (Id1, Id2..., type), and data is stored in the JSON blob. 

- Id, type, {json data}
- Id1, Id2, type {json data}
- Id1, Id2, Id3, type {json data}


We have put a lot of work into creating higher level interfaces for storing a range of data sets for relational data

For any given type, you can define a type of storage -  (value, unweighted list, weighted lists, weighted lists with guids)

We have higher level interfaces for each of them - querying, sorting, timestamp comparison, intersections etc.

That way, if someone realizes that they need to scale a specific part of the database, they can keep most of their infrastructure, and move only the tables they need into this sharded database 

What are your thoughts? As mentioned above, I would love to know what you folks think",mysql,ruby-on-rails,scalability,,,,open,0,347,16,"Gem that allows for data access using sharded mysql databases while maintaining the usage of Activerecord *This is a relatively complex problem that I am thinking of, so please suggest edits or comment on parts where you are not clear about. I will update and iterate based on your comments*

I am thinking of a developing a rails gem that simplifies the usage of sharded tables, even when most of your data is stored in relational databases. I believe this is similar to the concept being used in Quora or Friendfeed when they hit a wall scaling w traditional mysql, with most of the potential solutions requiring massive migration (nosql), or just being really painful (sticking w relational completely)

 - http://bret.appspot.com/entry/how-friendfeed-uses-mysql
 - http://www.quora.com/When-Adam-DAngelo-says-partition-your-data-at-the-application-level-what-exactly-does-he-mean?q=application+layer+quora+adam+

Essentially, how can we continue using MySQL for a lot of things it is really good at, yet allowing parts of the system to scale? This will allow someone got started using mysql/activerecord, but hit a roadblock scaling to easily scale the parts of the database that makes sense. 

For us, we are using Ruby on Rails on a sharded database, and storing JSON blobs in them. Since we cannot do joins, we are creating tables for relationships between entities.

For example, we have 10 different type of entities. Each entity can be linked to each other using a big (sharded) relationship tables.

The tables are extremely simple. The indexes is (Id1, Id2..., type), and data is stored in the JSON blob. 

- Id, type, {json data}
- Id1, Id2, type {json data}
- Id1, Id2, Id3, type {json data}


We have put a lot of work into creating higher level interfaces for storing a range of data sets for relational data

For any given type, you can define a type of storage -  (value, unweighted list, weighted lists, weighted lists with guids)

We have higher level interfaces for each of them - querying, sorting, timestamp comparison, intersections etc.

That way, if someone realizes that they need to scale a specific part of the database, they can keep most of their infrastructure, and move only the tables they need into this sharded database 

What are your thoughts? As mentioned above, I would love to know what you folks think",3
8109736,11/13/2011 05:07:40,910678,08/24/2011 21:24:30,105,1,"MySQL: Guarentee Results, Decimal Issue","I have a table with the following attributes:

    MyTable:
    - double longitude 
    - double latitude
    - varchar place_id
    - varcar geoJSON_string

Given some point having a longitude `x` and latitude `y` I need to select the `k` closest points.

I know I tack a `LIMIT k` on the end of the query, but is there a way I can guarantee at least `k` points from a database of `~250,000` records?

Also, how would I even query the decimal values? I need to select something similar to the following:

    SELECT * FROM MyTable WHERE latitude=140.3**** and longitude=132.2**** LIMIT k;",mysql,query,decimal,,,,open,0,114,5,"MySQL: Guarentee Results, Decimal Issue I have a table with the following attributes:

    MyTable:
    - double longitude 
    - double latitude
    - varchar place_id
    - varcar geoJSON_string

Given some point having a longitude `x` and latitude `y` I need to select the `k` closest points.

I know I tack a `LIMIT k` on the end of the query, but is there a way I can guarantee at least `k` points from a database of `~250,000` records?

Also, how would I even query the decimal values? I need to select something similar to the following:

    SELECT * FROM MyTable WHERE latitude=140.3**** and longitude=132.2**** LIMIT k;",3
5656309,04/13/2011 22:13:23,627349,02/21/2011 21:48:36,98,9,Rails: Combining and querying multiple tables efficiently (STI vs MTI),"In my Rails project, I have several kinds of content types, let's say ""Article,"" ""Interview,"" and ""Review.""

In planning my project, I decided to go with separate tables for all of this (multiple tables vs single table), namely because while these content types do share some fields in common (title, teaser, etc), they also have fields unique to each content type.

I managed to get all of this working fine in my project, but hit some roadblocks doing so. Namely let's say I want to show all of these content types TOGETHER in order of their publish date (like on a categories page) and I just need to display the fields (title, teaser, etc) that they all have in common...this is problematic.

I went with the has_many_polymorphs plugin for a little while, but it was never officially updated for Rails 3 and I was using a forked branch 'hacked' together for R3. Anyway, it cause problems and spat out weird error messages now and then, and after one of my updates broke the plugin, I decided it was a good idea to abandon it.

Then I looked for a plugin that could perform SQL like UNION joins, but that plugin hasn't been updated since 2009 so I passed that by.

What I ended up doing was making three different queries for each table, then using Ruby to combine the results. (@articles + @reviews +, etc) Not efficient, but I need it to work (and these areas will likely be cached eventually).

However, it 'would' be easier if I could just make queries on a single table, and there is still time to restructure my schema to roll out with the most efficient way to do this. So I'm now wondering if STI is indeed the way to go, and if so, how would I get away with this with different columns on both sides?",mysql,ruby-on-rails,query,table,,,open,0,308,10,"Rails: Combining and querying multiple tables efficiently (STI vs MTI) In my Rails project, I have several kinds of content types, let's say ""Article,"" ""Interview,"" and ""Review.""

In planning my project, I decided to go with separate tables for all of this (multiple tables vs single table), namely because while these content types do share some fields in common (title, teaser, etc), they also have fields unique to each content type.

I managed to get all of this working fine in my project, but hit some roadblocks doing so. Namely let's say I want to show all of these content types TOGETHER in order of their publish date (like on a categories page) and I just need to display the fields (title, teaser, etc) that they all have in common...this is problematic.

I went with the has_many_polymorphs plugin for a little while, but it was never officially updated for Rails 3 and I was using a forked branch 'hacked' together for R3. Anyway, it cause problems and spat out weird error messages now and then, and after one of my updates broke the plugin, I decided it was a good idea to abandon it.

Then I looked for a plugin that could perform SQL like UNION joins, but that plugin hasn't been updated since 2009 so I passed that by.

What I ended up doing was making three different queries for each table, then using Ruby to combine the results. (@articles + @reviews +, etc) Not efficient, but I need it to work (and these areas will likely be cached eventually).

However, it 'would' be easier if I could just make queries on a single table, and there is still time to restructure my schema to roll out with the most efficient way to do this. So I'm now wondering if STI is indeed the way to go, and if so, how would I get away with this with different columns on both sides?",4
6051590,05/18/2011 22:05:40,760042,05/18/2011 22:05:40,1,0,"MYSQL- match against boolean mode does not return anything for exact words like ""first"", ""last""","Here is an example -

SELECT `title`, `desc` FROM `stories` WHERE MATCH (`title`,`desc`) AGAINST ('""last""' IN BOOLEAN MODE);  

There are records in the stories table that contain exact word 'last' but this query does not retun those records. 

It matches any other words but not these -'first', 'second', 'last' etc
 
Any help on this issue will be appreciated.

Thank you.

",mysql,,,,,,open,0,59,15,"MYSQL- match against boolean mode does not return anything for exact words like ""first"", ""last"" Here is an example -

SELECT `title`, `desc` FROM `stories` WHERE MATCH (`title`,`desc`) AGAINST ('""last""' IN BOOLEAN MODE);  

There are records in the stories table that contain exact word 'last' but this query does not retun those records. 

It matches any other words but not these -'first', 'second', 'last' etc
 
Any help on this issue will be appreciated.

Thank you.

",1
6849314,07/27/2011 18:27:28,436493,12/15/2009 16:58:55,434,10,embedding youtube channels on a website and extracting channel data,"hey everyone i have two questions pertaining to youtube:

1) how do you go about embedding youtube channels on your website? so far i've been using this method:

    <script src=""http://www.gmodules.com/ig/ifr?url=http://www.google.com/ig/modules/youtube.xml&amp;up_channel=illbehonest&amp;synd=open&amp;w=320&amp;h=390&amp;title=&amp;border=%23ffffff%7C3px%2C1px+solid+%23999999&amp;output=js""></script>

and http://plugins.jquery.com/project/ChannelPlaylist

but none have proven to be really feasible!

2) how do you go about extracting youtube channel data for entry into a mysql database? (for example video title, time/date uploaded, url) is there any jquery plugin that does this? 

many thanks
",mysql,youtube,,,,,open,0,72,10,"embedding youtube channels on a website and extracting channel data hey everyone i have two questions pertaining to youtube:

1) how do you go about embedding youtube channels on your website? so far i've been using this method:

    <script src=""http://www.gmodules.com/ig/ifr?url=http://www.google.com/ig/modules/youtube.xml&amp;up_channel=illbehonest&amp;synd=open&amp;w=320&amp;h=390&amp;title=&amp;border=%23ffffff%7C3px%2C1px+solid+%23999999&amp;output=js""></script>

and http://plugins.jquery.com/project/ChannelPlaylist

but none have proven to be really feasible!

2) how do you go about extracting youtube channel data for entry into a mysql database? (for example video title, time/date uploaded, url) is there any jquery plugin that does this? 

many thanks
",2
5533560,04/04/2011 00:38:32,689400,04/03/2011 00:59:56,1,0,how do I store stories in MySQL table?,I want to store articles in MySQL data base. how do I create a table for the same??,mysql,database,php5,database-design,table,04/04/2011 05:41:45,not a real question,1,18,8,how do I store stories in MySQL table? I want to store articles in MySQL data base. how do I create a table for the same??,5
8248497,11/23/2011 20:15:15,114518,05/29/2009 19:36:15,275,0,MySQL hates me - Won't allow VARCHAR as a Primary Key?,"I'm attempting to create a table called Students, with only one field, student_name.

student_name should be a VARCHAR and a primary key, because I want to uniquely identify students by their name.

Here's the error message:

""Error while executing query.

CREATE TABLE 'swinters'.'Students' (

 'student_name' VARCHAR NOT NULL,

PRIMARY KEY ('student_name')

)

ENGINE = InnoDB;

MYSQL Error Number 1064

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL, PRIMARY KEY ('student_name') ) ENGINE = InnoDB' at line 2.


EDIT:

Ahhhhhhh! Just figured it out! Sorry for being super noob! Need to change VARCHAR to VARCHAR(45) or the like. Wow, sorry for that!",mysql,sql,,,,11/24/2011 09:35:40,not a real question,1,109,11,"MySQL hates me - Won't allow VARCHAR as a Primary Key? I'm attempting to create a table called Students, with only one field, student_name.

student_name should be a VARCHAR and a primary key, because I want to uniquely identify students by their name.

Here's the error message:

""Error while executing query.

CREATE TABLE 'swinters'.'Students' (

 'student_name' VARCHAR NOT NULL,

PRIMARY KEY ('student_name')

)

ENGINE = InnoDB;

MYSQL Error Number 1064

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL, PRIMARY KEY ('student_name') ) ENGINE = InnoDB' at line 2.


EDIT:

Ahhhhhhh! Just figured it out! Sorry for being super noob! Need to change VARCHAR to VARCHAR(45) or the like. Wow, sorry for that!",2
5282382,03/12/2011 12:07:46,648290,03/07/2011 14:25:02,42,0,can anyone give me a link to download my sql rdbms onto my system,can anyone give me a link to download my sql rdbms onto my system ,mysql,,,,,03/12/2011 13:04:34,not a real question,1,15,14,can anyone give me a link to download my sql rdbms onto my system can anyone give me a link to download my sql rdbms onto my system ,1
5783995,04/25/2011 22:31:39,700070,01/30/2011 23:53:21,205,6,Import into Mysql Via .CSV File,"Currently have : `LOAD DATA LOCAL INFILE '/Users/RkG/Desktop/Microblogs.csv' INTO TABLE blogs`

![import][1]


This is an example of the data im trying to import.
![img2][2]


![img3][3]


  [1]: http://i.stack.imgur.com/A0EUx.png
  [2]: http://i.stack.imgur.com/yrB86.png
  [3]: http://i.stack.imgur.com/LF1UO.png

The last image is a result of the query I ran and the second image is a screenshot of the table structure, why isn't it importing the 'created on', 'location', and 'Text' ???",mysql,,,,,,open,0,62,6,"Import into Mysql Via .CSV File Currently have : `LOAD DATA LOCAL INFILE '/Users/RkG/Desktop/Microblogs.csv' INTO TABLE blogs`

![import][1]


This is an example of the data im trying to import.
![img2][2]


![img3][3]


  [1]: http://i.stack.imgur.com/A0EUx.png
  [2]: http://i.stack.imgur.com/yrB86.png
  [3]: http://i.stack.imgur.com/LF1UO.png

The last image is a result of the query I ran and the second image is a screenshot of the table structure, why isn't it importing the 'created on', 'location', and 'Text' ???",1
4706361,01/16/2011 15:57:44,15371,09/17/2008 08:45:13,2582,52,How do I execute a SQL statement after fixtures are loaded but before the savepoint is created?,"We have a model which gets a sequence number from the ID of another model, using auto_increment on the other model's table.  That value gets set to zero whenever the db server is restarted, so the sequence numbers reset.  To work around this, in an after_initialize block, we set the auto_increment value to the maximum sequence value plus one, and all is well.

However, in the tests, the block runs before fixtures are loaded, so the maximum comes back as nil.  Then when the tests run, the value is too low and so the tests fail.

One possible solution is to update the value in a setup block, but altering the table commits the current transaction and so the rollback at the end of the test fails.

How do I alter the AUTO_INCREMENT value after fixtures are loaded, but *before* the savepoint is created?",mysql,ruby-on-rails,auto-increment,,,,open,0,144,17,"How do I execute a SQL statement after fixtures are loaded but before the savepoint is created? We have a model which gets a sequence number from the ID of another model, using auto_increment on the other model's table.  That value gets set to zero whenever the db server is restarted, so the sequence numbers reset.  To work around this, in an after_initialize block, we set the auto_increment value to the maximum sequence value plus one, and all is well.

However, in the tests, the block runs before fixtures are loaded, so the maximum comes back as nil.  Then when the tests run, the value is too low and so the tests fail.

One possible solution is to update the value in a setup block, but altering the table commits the current transaction and so the rollback at the end of the test fails.

How do I alter the AUTO_INCREMENT value after fixtures are loaded, but *before* the savepoint is created?",3
6163120,05/28/2011 17:08:27,697809,04/08/2011 00:40:10,58,1,Odd ip2nation database record with Seychelles and Syria?,"The [ip2nation][1] database is confusing me:

    code 	iso_code_2 	iso_code_3 	iso_country 	country 
    sy 	 	SY 	 	 	SYC 	 	Seychelles 	 	Seychelles
    sc 	 	SY 	 	 	SYC 	 	Seychelles 	 	Syria

What's up with this?


  [1]: http://www.ip2nation.com/",mysql,database,,,,05/28/2011 21:57:39,too localized,1,47,8,"Odd ip2nation database record with Seychelles and Syria? The [ip2nation][1] database is confusing me:

    code 	iso_code_2 	iso_code_3 	iso_country 	country 
    sy 	 	SY 	 	 	SYC 	 	Seychelles 	 	Seychelles
    sc 	 	SY 	 	 	SYC 	 	Seychelles 	 	Syria

What's up with this?


  [1]: http://www.ip2nation.com/",2
2812482,05/11/2010 16:26:59,95267,04/24/2009 01:48:47,3596,144,How do I use a MySQL subquery to count the number of rows in a foreign table?,"I have two tables, `users` and `reports`. Each user has no, one, or multiple reports associated with it, and the `reports` table has a `user_id` field.

I have the following query, and I need to add to each row a count of how many reports the user has:

    SELECT *
    FROM users
    LIMIT 1, 10

Do I need to use a subquery, and if so, how can I use it efficently? The `reports` table has thousands and thousands of rows.",mysql,php,subquery,,,,open,0,87,17,"How do I use a MySQL subquery to count the number of rows in a foreign table? I have two tables, `users` and `reports`. Each user has no, one, or multiple reports associated with it, and the `reports` table has a `user_id` field.

I have the following query, and I need to add to each row a count of how many reports the user has:

    SELECT *
    FROM users
    LIMIT 1, 10

Do I need to use a subquery, and if so, how can I use it efficently? The `reports` table has thousands and thousands of rows.",3
11321078,07/04/2012 00:43:05,1500251,07/04/2012 00:38:39,1,0,Insert data from datetimepicker into mysql datetime,"I have am Windows Forms Application MS VS 2008.
I have a datetimepicker in the windows form. I have to insert the data in MySQL DB where datatype is datetime.

What should be exact code syntax?

Any assistance is appreciated. Thanks in advance.",mysql,datetime,datetimepicker,,,07/05/2012 10:43:32,not a real question,1,40,7,"Insert data from datetimepicker into mysql datetime I have am Windows Forms Application MS VS 2008.
I have a datetimepicker in the windows form. I have to insert the data in MySQL DB where datatype is datetime.

What should be exact code syntax?

Any assistance is appreciated. Thanks in advance.",3
11732327,07/31/2012 02:35:43,1503328,07/05/2012 08:11:25,8,0,sql query to find the different values for same record,"i want to extract the records having all the possible values combination. 

    name | value1| value2| 
-------------------------------------
    test1 |    1 |   2
    test1 |    3 |   4
    test2 |    3 |   1 
    test2 |    2 |   1 

 i want the records that have the values 1|2|3 or 1|2|4 and for this example its TEST1.
 Thanks",mysql,sql,,,,07/31/2012 20:58:59,not a real question,1,93,10,"sql query to find the different values for same record i want to extract the records having all the possible values combination. 

    name | value1| value2| 
-------------------------------------
    test1 |    1 |   2
    test1 |    3 |   4
    test2 |    3 |   1 
    test2 |    2 |   1 

 i want the records that have the values 1|2|3 or 1|2|4 and for this example its TEST1.
 Thanks",2
7761480,10/13/2011 23:12:43,355318,06/01/2010 11:01:08,71,5,Mysql start fails,"I just got the error ""fail"" while trying to start the mysql server in ubuntu

i tried a lot with innoDB tables the last time...

is there any way to repair the data?

thousands of gamers are waiting now..",mysql,ubuntu,,,,10/15/2011 00:59:45,off topic,1,36,3,"Mysql start fails I just got the error ""fail"" while trying to start the mysql server in ubuntu

i tried a lot with innoDB tables the last time...

is there any way to repair the data?

thousands of gamers are waiting now..",2
3952883,10/17/2010 10:50:10,93641,04/21/2009 08:02:54,207,16,Ruby on Rails Incorrect Primary Key Names,"I'm using RadRails to create my MYSQL databsase tables.  This is migration task:

    class CreateEvents < ActiveRecord::Migration
      def self.up
        create_table :events do |t|
          t.string :eventname
          t.string :evententryurl
          t.string :eventurl

          t.timestamps
        end
      end

      def self.down
        drop_table :events
      end
    end

I then run a db:migrate Rake task.  This creates the following fields within the database table: 

id
eventname
evententryurl
eventurl

OK, so far.  The problem I have is when I run the application and go to http://localhost/events/new  the application is looking for eventid as it's primary key, not id.  How can I change my migration task so that it automatically puts eventid into the database?

Thanks for your tiem

",mysql,ruby,aptana,radrails,,,open,0,189,7,"Ruby on Rails Incorrect Primary Key Names I'm using RadRails to create my MYSQL databsase tables.  This is migration task:

    class CreateEvents < ActiveRecord::Migration
      def self.up
        create_table :events do |t|
          t.string :eventname
          t.string :evententryurl
          t.string :eventurl

          t.timestamps
        end
      end

      def self.down
        drop_table :events
      end
    end

I then run a db:migrate Rake task.  This creates the following fields within the database table: 

id
eventname
evententryurl
eventurl

OK, so far.  The problem I have is when I run the application and go to http://localhost/events/new  the application is looking for eventid as it's primary key, not id.  How can I change my migration task so that it automatically puts eventid into the database?

Thanks for your tiem

",4
4940463,02/09/2011 01:23:41,609040,02/09/2011 00:55:27,1,0,"Hibernate's session.connection Error: ""Too many users""","I am developing a Java web application using Hibernate, but there is a part of it where I want to use JDBC because I am creating look-up tables dynamically.

After a few minutes of using my web app I get this error: 

> com.mysql.jdbc.exceptions.MySQLNonTransientConnectionException:
> Data source rejected establishment of
> connection,  message from server: ""Too
> many connections""

I know that using session.connection() is deprecated but I just want to get the underlying JDBC connection. I experimented using the session.doWork() but the error still occurred as it had before.


Here is what the code looks like:



Domain Layer:

    /**
	 * Goes through the list of lookupTableAbstractions and persists each one
	 * @param lookupData
	 */
	public void updateLookupValues( List<LookupTableAbstraction> lookupData )
	{
		lookupTablesData.dropAllLookupTables(lookupData);
		
		lookupTablesData.createLookupTables(lookupData);
		
		for (LookupTableAbstraction lookupTable : lookupData)
			lookupTablesData.persistLookupTableValues(lookupTable);
	}

   

Data Layer:


	public LookupTableAbstraction getLookupTable( String tableName )
	{
		LookupTableAbstraction lookupTable = new LookupTableAbstraction();
		
		Session session = getSessionFactory().openSession();
		
		String sqlQuery = ""select value from "" + tableName;
			
		List<String> lookupTableValues = session.createSQLQuery(sqlQuery).list();

		session.close(); 

		lookupTable.setTableName(tableName);
		for (String value : lookupTableValues)
			lookupTable.addValue(value);
		
		return lookupTable;
	}
	
	/**
	 * Persists the passed in lookup table.
	 * The lookup table that is used is determine by
	 * the tableName field of the passed in lookupTable
	 * @param lookupTable
	 */
	public void persistLookupTableValues( LookupTableAbstraction lookupTable )
	{
		Session session = getSessionFactory().openSession();
		Transaction tx = session.beginTransaction();
		Connection connection = null;
		try
		{
			connection = getJDBCConnectionFromHibernate(session);
		
			Statement stmt = connection.createStatement();
			
			String tableName = lookupTable.getTableName();
			for (String value : lookupTable.getValues() ) 
			{
				String sql = "" insert into "" + tableName + 
				             "" (value) "" +
				             "" values "" +
				             ""('"" + value + ""')"";
				
				System.out.println(sql);
				
				stmt.executeUpdate(sql);
			}
			stmt.close();
		}
		catch( Exception e )
		{
			System.out.println(""Exception(persistLookupTableValues): "" + e.getMessage());
			e.printStackTrace();
		}
		finally
		{
			
			try {
				tx.commit();
				connection.close();
				session.close();
			} catch (SQLException e) {
				System.out.println(""Exception(persistLookupTableValues): "" + e.getMessage());
				e.printStackTrace();
			}
		}
	}
	
	/**
	 * Drop's all lookup tables.
	 * It drops each table based off the lookupTableAbstractions in the passed in list
	 * @param lookupData
	 */
	public void dropAllLookupTables( List<LookupTableAbstraction> lookupData )
	{
		Session session = getSessionFactory().openSession();
		Transaction tx = session.beginTransaction();
		
		Connection connection = null;
		try
		{
			connection = getJDBCConnectionFromHibernate(session);
		
			Statement stmt = null;
			for (LookupTableAbstraction lookupTableAbstraction : lookupData) {
				stmt = connection.createStatement();
				stmt.executeUpdate(""drop table "" + lookupTableAbstraction.getTableName());
			}
	
			stmt.close();
		}
		catch( Exception e )
		{
			System.out.println(""Exception(dropAllLookupTables): "" + e.getMessage());
			e.printStackTrace();
		}
		finally
		{
			try {
				tx.commit();
				connection.close();
				session.close();
			} catch (SQLException e) {
				System.out.println(""Exception(dropAllLookupTables): "" + e.getMessage());
				e.printStackTrace();
			}
		}
	}
	
	/**
	 * Creates all lookup tables, one for each lookupTableAbstraction
	 * in the passed in list
	 * @param lookupData
	 */
	public void createLookupTables( List<LookupTableAbstraction> lookupData )
	{
		Session session = getSessionFactory().openSession();
		Transaction tx = session.beginTransaction();
		
		Connection connection = null;
		try
		{
			connection = getJDBCConnectionFromHibernate(session);
		
			Statement stmt = null;
			for (LookupTableAbstraction lookupTableAbstraction : lookupData) {
				stmt = connection.createStatement();
				stmt.executeUpdate(""create table "" + lookupTableAbstraction.getTableName() + 
						           "" ( ID  int(11) auto_increment, "" +
						           ""  value text, "" +
						           ""  primary key (ID) )"");
			}
	
			stmt.close();
		}
		catch( Exception e )
		{
			System.out.println(""Exception(createLookupTables): "" + e.getMessage());
			e.printStackTrace();
		}
		finally
		{
			try {
				tx.commit();
				connection.close();
				session.close();
			} catch (SQLException e) {
				System.out.println(""Exception(createLookupTables): "" + e.getMessage());
				e.printStackTrace();
			}
		}
	}

    protected Connection getJDBCConnectionFromHibernate( Session session )
	{
		return session.connection();
	}

   

Thanks for any suggestions

",mysql,hibernate,jdbc,,,,open,0,483,6,"Hibernate's session.connection Error: ""Too many users"" I am developing a Java web application using Hibernate, but there is a part of it where I want to use JDBC because I am creating look-up tables dynamically.

After a few minutes of using my web app I get this error: 

> com.mysql.jdbc.exceptions.MySQLNonTransientConnectionException:
> Data source rejected establishment of
> connection,  message from server: ""Too
> many connections""

I know that using session.connection() is deprecated but I just want to get the underlying JDBC connection. I experimented using the session.doWork() but the error still occurred as it had before.


Here is what the code looks like:



Domain Layer:

    /**
	 * Goes through the list of lookupTableAbstractions and persists each one
	 * @param lookupData
	 */
	public void updateLookupValues( List<LookupTableAbstraction> lookupData )
	{
		lookupTablesData.dropAllLookupTables(lookupData);
		
		lookupTablesData.createLookupTables(lookupData);
		
		for (LookupTableAbstraction lookupTable : lookupData)
			lookupTablesData.persistLookupTableValues(lookupTable);
	}

   

Data Layer:


	public LookupTableAbstraction getLookupTable( String tableName )
	{
		LookupTableAbstraction lookupTable = new LookupTableAbstraction();
		
		Session session = getSessionFactory().openSession();
		
		String sqlQuery = ""select value from "" + tableName;
			
		List<String> lookupTableValues = session.createSQLQuery(sqlQuery).list();

		session.close(); 

		lookupTable.setTableName(tableName);
		for (String value : lookupTableValues)
			lookupTable.addValue(value);
		
		return lookupTable;
	}
	
	/**
	 * Persists the passed in lookup table.
	 * The lookup table that is used is determine by
	 * the tableName field of the passed in lookupTable
	 * @param lookupTable
	 */
	public void persistLookupTableValues( LookupTableAbstraction lookupTable )
	{
		Session session = getSessionFactory().openSession();
		Transaction tx = session.beginTransaction();
		Connection connection = null;
		try
		{
			connection = getJDBCConnectionFromHibernate(session);
		
			Statement stmt = connection.createStatement();
			
			String tableName = lookupTable.getTableName();
			for (String value : lookupTable.getValues() ) 
			{
				String sql = "" insert into "" + tableName + 
				             "" (value) "" +
				             "" values "" +
				             ""('"" + value + ""')"";
				
				System.out.println(sql);
				
				stmt.executeUpdate(sql);
			}
			stmt.close();
		}
		catch( Exception e )
		{
			System.out.println(""Exception(persistLookupTableValues): "" + e.getMessage());
			e.printStackTrace();
		}
		finally
		{
			
			try {
				tx.commit();
				connection.close();
				session.close();
			} catch (SQLException e) {
				System.out.println(""Exception(persistLookupTableValues): "" + e.getMessage());
				e.printStackTrace();
			}
		}
	}
	
	/**
	 * Drop's all lookup tables.
	 * It drops each table based off the lookupTableAbstractions in the passed in list
	 * @param lookupData
	 */
	public void dropAllLookupTables( List<LookupTableAbstraction> lookupData )
	{
		Session session = getSessionFactory().openSession();
		Transaction tx = session.beginTransaction();
		
		Connection connection = null;
		try
		{
			connection = getJDBCConnectionFromHibernate(session);
		
			Statement stmt = null;
			for (LookupTableAbstraction lookupTableAbstraction : lookupData) {
				stmt = connection.createStatement();
				stmt.executeUpdate(""drop table "" + lookupTableAbstraction.getTableName());
			}
	
			stmt.close();
		}
		catch( Exception e )
		{
			System.out.println(""Exception(dropAllLookupTables): "" + e.getMessage());
			e.printStackTrace();
		}
		finally
		{
			try {
				tx.commit();
				connection.close();
				session.close();
			} catch (SQLException e) {
				System.out.println(""Exception(dropAllLookupTables): "" + e.getMessage());
				e.printStackTrace();
			}
		}
	}
	
	/**
	 * Creates all lookup tables, one for each lookupTableAbstraction
	 * in the passed in list
	 * @param lookupData
	 */
	public void createLookupTables( List<LookupTableAbstraction> lookupData )
	{
		Session session = getSessionFactory().openSession();
		Transaction tx = session.beginTransaction();
		
		Connection connection = null;
		try
		{
			connection = getJDBCConnectionFromHibernate(session);
		
			Statement stmt = null;
			for (LookupTableAbstraction lookupTableAbstraction : lookupData) {
				stmt = connection.createStatement();
				stmt.executeUpdate(""create table "" + lookupTableAbstraction.getTableName() + 
						           "" ( ID  int(11) auto_increment, "" +
						           ""  value text, "" +
						           ""  primary key (ID) )"");
			}
	
			stmt.close();
		}
		catch( Exception e )
		{
			System.out.println(""Exception(createLookupTables): "" + e.getMessage());
			e.printStackTrace();
		}
		finally
		{
			try {
				tx.commit();
				connection.close();
				session.close();
			} catch (SQLException e) {
				System.out.println(""Exception(createLookupTables): "" + e.getMessage());
				e.printStackTrace();
			}
		}
	}

    protected Connection getJDBCConnectionFromHibernate( Session session )
	{
		return session.connection();
	}

   

Thanks for any suggestions

",3
9240464,02/11/2012 13:08:58,877476,08/03/2011 21:10:51,16,0,Sql joins from only one table,"I need some help with the design of a query.
I've got one table with alot of rows(it needs to be in one table).

    Table name: 201201
    columns = code, batch, value, volume
    rows =    301,  2920,  100,   2000
              301,  3192,  40,    800
              302,  6479,  230,   3100
              303,  4930,  20,    50
              303,  3920,  60,    95

How could I pull the results so it's presented in this way:

    code, batches, value, volume
    301,  2,       140,   2800
    302,  1,       230,   3100
    303,  2,       80,    145


I have done this when I use multiplie tables but can't get it to work when all rows are in the same table.

I manage to get the batch count and mrdr with this query

    SELECT DISTINCT(`201201`.code), count(DISTINCT(z.batch)) as batches
    FROM `201201` 
    LEFT JOIN `201201` AS z ON `201201`.code = z.code
    GROUP BY `201201`.code

But then I'm stuck. 
Thanks in advance.",mysql,sql,query,,,,open,0,279,6,"Sql joins from only one table I need some help with the design of a query.
I've got one table with alot of rows(it needs to be in one table).

    Table name: 201201
    columns = code, batch, value, volume
    rows =    301,  2920,  100,   2000
              301,  3192,  40,    800
              302,  6479,  230,   3100
              303,  4930,  20,    50
              303,  3920,  60,    95

How could I pull the results so it's presented in this way:

    code, batches, value, volume
    301,  2,       140,   2800
    302,  1,       230,   3100
    303,  2,       80,    145


I have done this when I use multiplie tables but can't get it to work when all rows are in the same table.

I manage to get the batch count and mrdr with this query

    SELECT DISTINCT(`201201`.code), count(DISTINCT(z.batch)) as batches
    FROM `201201` 
    LEFT JOIN `201201` AS z ON `201201`.code = z.code
    GROUP BY `201201`.code

But then I'm stuck. 
Thanks in advance.",3
8958207,01/22/2012 01:23:17,1162821,01/21/2012 21:17:12,1,0,what is the best way,"i want to write 6 sql querys in **php code**, the structer of the querys is the same
in the FORM line "" $query1"" and"" $query2"" represent the 2 querys writen below .i want to take the tabels for query3 from the first 2 querys.

My quation is: DO i need to duplicate the code for each of the 6 querys,that  the first 2 querys are written in full or there is another better way

{
$query3      = ""SELECT DISTINCT u.user_id  
		    FROM  ($query1)u, ($query2) curr""                                                     
		    WHERE   (u.cb_XXX  = curr.cb_YYY)""; 
		                 
			     	$_CB_database->setQuery($query3);
$list1			=	$_CB_database->loadObjectList();

}
{

$query2     = ""SELECT * FROM  #__comprofiler AS allus, (SELECT * 
                            FROM  #__comprofiler AS f
                                WHERE   f.user_id     IN  (
                                           SELECT DISTINCT a.userid 
                                           FROM #__session AS a, #__users AS u
                                           WHERE  a.session_id = '"".session_id().""' 
                                           AND a.guest=0 AND a.username=u.username
                                         )) C                                                     
                            WHERE   (allus.user_id<> C.user_id)
                            AND (allus.cb_sex  = C.cb_partsex)
                            AND (allus.cb_partsex = C.cb_sex)
                            AND (allus.cb_area  = C.cb_livearea)
                            AND (allus.cb_livearea = C.cb_area)
                            AND (allus.cb_age  >= C.cb_minage)
                            AND (allus.cb_age = C.cb_maxage)
                            AND (allus.cb_relationtype = C.cb_relationtype) "" ;
                            $_CB_database->setQuery($query1);
$rows2 = $_CB_database->loadObjectList();


$query1      = ""SELECT *  
		    FROM  #__comprofiler AS allus, (SELECT *  
												 FROM  #__comprofiler AS f                                                      
												  WHERE   f.user_id     IN  (
																			SELECT DISTINCT a.userid 
																			FROM #__session AS a, #__users AS u
																			WHERE  a.session_id = '"".session_id().""' 
																			AND a.guest=0 AND a.username=u.username
																			)}",mysql,php5,,,,01/22/2012 18:22:31,not a real question,1,946,5,"what is the best way i want to write 6 sql querys in **php code**, the structer of the querys is the same
in the FORM line "" $query1"" and"" $query2"" represent the 2 querys writen below .i want to take the tabels for query3 from the first 2 querys.

My quation is: DO i need to duplicate the code for each of the 6 querys,that  the first 2 querys are written in full or there is another better way

{
$query3      = ""SELECT DISTINCT u.user_id  
		    FROM  ($query1)u, ($query2) curr""                                                     
		    WHERE   (u.cb_XXX  = curr.cb_YYY)""; 
		                 
			     	$_CB_database->setQuery($query3);
$list1			=	$_CB_database->loadObjectList();

}
{

$query2     = ""SELECT * FROM  #__comprofiler AS allus, (SELECT * 
                            FROM  #__comprofiler AS f
                                WHERE   f.user_id     IN  (
                                           SELECT DISTINCT a.userid 
                                           FROM #__session AS a, #__users AS u
                                           WHERE  a.session_id = '"".session_id().""' 
                                           AND a.guest=0 AND a.username=u.username
                                         )) C                                                     
                            WHERE   (allus.user_id<> C.user_id)
                            AND (allus.cb_sex  = C.cb_partsex)
                            AND (allus.cb_partsex = C.cb_sex)
                            AND (allus.cb_area  = C.cb_livearea)
                            AND (allus.cb_livearea = C.cb_area)
                            AND (allus.cb_age  >= C.cb_minage)
                            AND (allus.cb_age = C.cb_maxage)
                            AND (allus.cb_relationtype = C.cb_relationtype) "" ;
                            $_CB_database->setQuery($query1);
$rows2 = $_CB_database->loadObjectList();


$query1      = ""SELECT *  
		    FROM  #__comprofiler AS allus, (SELECT *  
												 FROM  #__comprofiler AS f                                                      
												  WHERE   f.user_id     IN  (
																			SELECT DISTINCT a.userid 
																			FROM #__session AS a, #__users AS u
																			WHERE  a.session_id = '"".session_id().""' 
																			AND a.guest=0 AND a.username=u.username
																			)}",2
7295800,09/03/2011 20:50:01,922385,08/31/2011 20:10:44,25,0,"online SQL editor (or not) that capitalizes automaticaly the sql commands (example SELECT, AND, THEN, DISTINCT, DROP....)","Hello I have a big query which is all written in small letters. 

 1. Is there any way to automatic switch only the commands in capital without editing them manually?
 2. Also If can auto alignment the text would be helpfull too.

Thanks
",mysql,sql,editor,text-editor,,09/04/2011 12:31:52,not constructive,1,43,17,"online SQL editor (or not) that capitalizes automaticaly the sql commands (example SELECT, AND, THEN, DISTINCT, DROP....) Hello I have a big query which is all written in small letters. 

 1. Is there any way to automatic switch only the commands in capital without editing them manually?
 2. Also If can auto alignment the text would be helpfull too.

Thanks
",4
1126961,07/14/2009 17:52:34,91610,04/16/2009 12:49:46,236,19,Order by day_of_week in MySQL,"How can I order the mysql result by varchar column that contains day of week name?

Note that MONDAY should goes first, not SUNDAY.",mysql,dayofweek,order,sql,,,open,0,23,5,"Order by day_of_week in MySQL How can I order the mysql result by varchar column that contains day of week name?

Note that MONDAY should goes first, not SUNDAY.",4
7292438,09/03/2011 10:00:59,922385,08/31/2011 20:10:44,9,0,Edit an SQL query,"table1 has the columns:

    id name  value event
    1  name1  0.5   f
    2  name2  1.9	f
    3  name3  2.6	f
    4  name4  0.2	f
    5  name5  0		r
    6  name6  text	r
    7  name7  text2	t
    8  name8  5		t
    ....
    999  name999 4.7  f

table2 has the columns

    id risk   	value
	1  very low 0
    1  low    	0.5
    2  medium 	1.5
    3  high   	2.5
	4 very high 3


result:

    1  name5    very high
	2  name6 	very high
    3  name999  high
    4  name3    high
    5  name2    medium
    6  name1    low
    7  name7    very low
	8  name8    very low

the query so far is (without the event of r and t to give very high and very low is):

        SELECT table1.id
         , table1.event
         , table2.risk 
    	FROM table1
         JOIN table2
          ON table2.value = ( SELECT MAX(table2.value)
                       FROM table2
                       WHERE table2.value <= table1.value
                     )
    	ORDER BY table1.value DESC

",mysql,sql,phpmyadmin,,,09/03/2011 15:37:06,not a real question,1,364,4,"Edit an SQL query table1 has the columns:

    id name  value event
    1  name1  0.5   f
    2  name2  1.9	f
    3  name3  2.6	f
    4  name4  0.2	f
    5  name5  0		r
    6  name6  text	r
    7  name7  text2	t
    8  name8  5		t
    ....
    999  name999 4.7  f

table2 has the columns

    id risk   	value
	1  very low 0
    1  low    	0.5
    2  medium 	1.5
    3  high   	2.5
	4 very high 3


result:

    1  name5    very high
	2  name6 	very high
    3  name999  high
    4  name3    high
    5  name2    medium
    6  name1    low
    7  name7    very low
	8  name8    very low

the query so far is (without the event of r and t to give very high and very low is):

        SELECT table1.id
         , table1.event
         , table2.risk 
    	FROM table1
         JOIN table2
          ON table2.value = ( SELECT MAX(table2.value)
                       FROM table2
                       WHERE table2.value <= table1.value
                     )
    	ORDER BY table1.value DESC

",3
9123211,02/03/2012 03:14:48,1186612,02/03/2012 03:02:44,1,0,C# Error : Data is Null. This method or property cannot be called on Null values,"Im having an error when Im trying to click the button that shows the form which contains a listview
any idea or other way to get rid of this error will be appreciated. :)


 private void ManageOfficeSupplies_Load(object sender, EventArgs e)
        {
                     
            listviewOfficeSupplies.Items.Clear();
            StreamReader sr = new StreamReader(""Connect.txt"");
            //Read the first line of text
            connectionString = sr.ReadLine();
            //close the file
            sr.Close();


            SqlConnection conn = null;
            SqlCommand cmd = null;
            conn = new SqlConnection(connectionString);
            cmd = conn.CreateCommand();
            cmd.CommandText = ""Select name,quantity From ComputerNodes"";
            conn.Open();

            SqlDataReader rdr = cmd.ExecuteReader();

            while (rdr.Read())
            {
                ListViewItem lvi = new ListViewItem(rdr.GetString(0));     <---Data is Null. This method or property cannot be called on Null values.
                lvi.SubItems.Add(rdr[1].ToString());
                listviewOfficeSupplies.Items.Add(lvi);
            }

            rdr.Dispose();
            rdr.Close();
           

            conn.Close();

        }",mysql,,,,,02/03/2012 08:07:06,not a real question,1,417,16,"C# Error : Data is Null. This method or property cannot be called on Null values Im having an error when Im trying to click the button that shows the form which contains a listview
any idea or other way to get rid of this error will be appreciated. :)


 private void ManageOfficeSupplies_Load(object sender, EventArgs e)
        {
                     
            listviewOfficeSupplies.Items.Clear();
            StreamReader sr = new StreamReader(""Connect.txt"");
            //Read the first line of text
            connectionString = sr.ReadLine();
            //close the file
            sr.Close();


            SqlConnection conn = null;
            SqlCommand cmd = null;
            conn = new SqlConnection(connectionString);
            cmd = conn.CreateCommand();
            cmd.CommandText = ""Select name,quantity From ComputerNodes"";
            conn.Open();

            SqlDataReader rdr = cmd.ExecuteReader();

            while (rdr.Read())
            {
                ListViewItem lvi = new ListViewItem(rdr.GetString(0));     <---Data is Null. This method or property cannot be called on Null values.
                lvi.SubItems.Add(rdr[1].ToString());
                listviewOfficeSupplies.Items.Add(lvi);
            }

            rdr.Dispose();
            rdr.Close();
           

            conn.Close();

        }",1
9266069,02/13/2012 18:44:50,1164218,01/23/2012 02:23:14,1,1,Advanced Search mysql perl,"I'm a novice. I've searched Stackoverflow for weeks trying to find code for an advanced search.
Finally created my own. It's working pretty good .. I'm listing it here for others who might want to use it.
The questions are: 1- when no item_category is chosen I default to ' * ' but it's not working.
item_category is the only variable required for a search.??
2- Do I need to be concerned about sanitization or hack injections?
3- The exact match doesn't seem to be working. It may be searching 100 words for 'FREE' and won't find a match. Any ideas?
4- Any suggestions on reliability and speed issues?

    $ANDOR = param('andor');#creates an AND OR search
    if($ANDOR eq """"){ $ANDOR=""AND"";}

    if($item_category){
    $item_category = ""$item_category"";
    } else{  $item_category="" * "";  }
    $statement .= ""item_category LIKE '$item_category' "";


    if($item_state){
    $statement .= "" $ANDOR item_state LIKE '$item_state' "";
    }
    if($item_city){
    $statement .= "" $ANDOR item_city LIKE '$item_city' "";
    }
    if($db_id){
    $statement .= "" $ANDOR db_id = '$db_id' "";
    }

    $keywords=param('keywords');

    if($keywords)
    {
	if(param('searchmatch') eq ""exact"")
	{
	$statement .= "" $ANDOR item_name = \""$keywords\"" OR item_desc = \""$keywords\"" 
    OR    item_desc2 = \""$keywords\"" "";#
		
	}
	else
	{	$statement .= "" $ANDOR "";
	my @keywords = split(/ /,$keywords);

		foreach my $keyword(@keywords)
		{
		$statement .= "" item_name LIKE '%$keyword%' 
		OR item_desc LIKE '%$keyword%' 
		OR item_desc2 LIKE '%$keyword%' "";
		}
	}
    }

    $date_begin=param('date_begin');
    if($date_begin){
    $statement .= "" $ANDOR modification_time > '$date_begin' ""; 
    }

    if($user){
    $statement .= "" $ANDOR user LIKE '$user' "";
    }


    $price_low=param('price_low');
    $price_high=param('price_high');
    if (($price_low) && ($price_high)){
    $statement .= "" $ANDOR item_price BETWEEN '$price_low' AND '$price_high' "";
    }
    elsif (($price_low) && ($price_high eq """")){
    $statement .= "" $ANDOR item_price BETWEEN '$price_low' AND * "";
    }
    elsif (($price_high) && ($price_low eq """")){
    $statement .= "" $ANDOR item_price BETWEEN '0' AND '$price_high' "";
    }
    else
    { 
    $statement .= """";

    }


	my $sth = $dbh->prepare(qq(SELECT * FROM table WHERE $statement )) 
    or  die         $DBI::errstr;
	$sth->execute();
		while ((my (@rows)) = $sth->fetchrow_array)
		{
		$total_row_count= $sth->rows;
		$database_rows = join (""\|"", @rows);
		push (@database_rows,$database_rows);
		}
",mysql,perl,search-engine,,,02/14/2012 23:51:14,not a real question,1,452,4,"Advanced Search mysql perl I'm a novice. I've searched Stackoverflow for weeks trying to find code for an advanced search.
Finally created my own. It's working pretty good .. I'm listing it here for others who might want to use it.
The questions are: 1- when no item_category is chosen I default to ' * ' but it's not working.
item_category is the only variable required for a search.??
2- Do I need to be concerned about sanitization or hack injections?
3- The exact match doesn't seem to be working. It may be searching 100 words for 'FREE' and won't find a match. Any ideas?
4- Any suggestions on reliability and speed issues?

    $ANDOR = param('andor');#creates an AND OR search
    if($ANDOR eq """"){ $ANDOR=""AND"";}

    if($item_category){
    $item_category = ""$item_category"";
    } else{  $item_category="" * "";  }
    $statement .= ""item_category LIKE '$item_category' "";


    if($item_state){
    $statement .= "" $ANDOR item_state LIKE '$item_state' "";
    }
    if($item_city){
    $statement .= "" $ANDOR item_city LIKE '$item_city' "";
    }
    if($db_id){
    $statement .= "" $ANDOR db_id = '$db_id' "";
    }

    $keywords=param('keywords');

    if($keywords)
    {
	if(param('searchmatch') eq ""exact"")
	{
	$statement .= "" $ANDOR item_name = \""$keywords\"" OR item_desc = \""$keywords\"" 
    OR    item_desc2 = \""$keywords\"" "";#
		
	}
	else
	{	$statement .= "" $ANDOR "";
	my @keywords = split(/ /,$keywords);

		foreach my $keyword(@keywords)
		{
		$statement .= "" item_name LIKE '%$keyword%' 
		OR item_desc LIKE '%$keyword%' 
		OR item_desc2 LIKE '%$keyword%' "";
		}
	}
    }

    $date_begin=param('date_begin');
    if($date_begin){
    $statement .= "" $ANDOR modification_time > '$date_begin' ""; 
    }

    if($user){
    $statement .= "" $ANDOR user LIKE '$user' "";
    }


    $price_low=param('price_low');
    $price_high=param('price_high');
    if (($price_low) && ($price_high)){
    $statement .= "" $ANDOR item_price BETWEEN '$price_low' AND '$price_high' "";
    }
    elsif (($price_low) && ($price_high eq """")){
    $statement .= "" $ANDOR item_price BETWEEN '$price_low' AND * "";
    }
    elsif (($price_high) && ($price_low eq """")){
    $statement .= "" $ANDOR item_price BETWEEN '0' AND '$price_high' "";
    }
    else
    { 
    $statement .= """";

    }


	my $sth = $dbh->prepare(qq(SELECT * FROM table WHERE $statement )) 
    or  die         $DBI::errstr;
	$sth->execute();
		while ((my (@rows)) = $sth->fetchrow_array)
		{
		$total_row_count= $sth->rows;
		$database_rows = join (""\|"", @rows);
		push (@database_rows,$database_rows);
		}
",3
4377740,12/07/2010 14:33:07,488666,10/27/2010 10:14:04,112,11,Database design : preferred field length for file paths,"I have to store file paths in a DB field (`/tmp/aaa/bbb`, `C:\temp\xxx\yyy`, etc.). I can't really tell how long they could be.

Given this http://en.wikipedia.org/wiki/Comparison_of_file_systems and that http://msdn.microsoft.com/en-us/library/aa365247.aspx, depending on the file system there could be theoretically no length limit for a path.

I guess that defining this field as a `LONGBLOB` or `VARCHAR(very high value)` wouldn't be wise. I've thought about something like `VARCHAR(1024)` which should be suitable for most frequent (even if not all) cases, and not too big as a DB field. What would you recommend ?

Thanks.",mysql,database,database-design,,,,open,0,88,9,"Database design : preferred field length for file paths I have to store file paths in a DB field (`/tmp/aaa/bbb`, `C:\temp\xxx\yyy`, etc.). I can't really tell how long they could be.

Given this http://en.wikipedia.org/wiki/Comparison_of_file_systems and that http://msdn.microsoft.com/en-us/library/aa365247.aspx, depending on the file system there could be theoretically no length limit for a path.

I guess that defining this field as a `LONGBLOB` or `VARCHAR(very high value)` wouldn't be wise. I've thought about something like `VARCHAR(1024)` which should be suitable for most frequent (even if not all) cases, and not too big as a DB field. What would you recommend ?

Thanks.",3
1622208,10/25/2009 21:52:09,196328,10/25/2009 21:52:09,1,0,MySQL - Select Concat an entire row,"How can I select and concat every field in a row?

I want to do something similar to this:


SELECT concat(SELECT GROUP_CONCAT(COLUMN_NAME)
FROM INFORMATION_SCHEMA.COLUMNS
WHERE table_name = 'tbl_name')
as single FROM tbl_name

..but obviously the above doesn't work. Any suggestions?",mysql,concat,group-concat,,,,open,0,34,7,"MySQL - Select Concat an entire row How can I select and concat every field in a row?

I want to do something similar to this:


SELECT concat(SELECT GROUP_CONCAT(COLUMN_NAME)
FROM INFORMATION_SCHEMA.COLUMNS
WHERE table_name = 'tbl_name')
as single FROM tbl_name

..but obviously the above doesn't work. Any suggestions?",3
6180178,05/30/2011 19:41:33,710693,04/15/2011 23:59:26,10,2,Users group table schema,"I am creating a system where users can join and create groups. Within these groups, members can create topics and respond to topics already created, so I'd like to know your opinion on which of the following methods is best:
Create two tables, groups_posts and group_topics:

    --group_topics
    id PK
    group_id int FK
    user_id int FK
    title varchar(50)
    content varchar(500)
    status int
    
    --group_posts
    id PK
    topic_id int FK
    user_id int FK
    content varchar(500)
    status int

or create a unique table, group_tposts:

    --group_tposts
    id PK
    group_id int FK
    user_id int FK
    is_topic boolean
    title varchar(50)
    content varchar(500)
    status int",mysql,database-design,schema,database-schema,db-schema,,open,0,162,4,"Users group table schema I am creating a system where users can join and create groups. Within these groups, members can create topics and respond to topics already created, so I'd like to know your opinion on which of the following methods is best:
Create two tables, groups_posts and group_topics:

    --group_topics
    id PK
    group_id int FK
    user_id int FK
    title varchar(50)
    content varchar(500)
    status int
    
    --group_posts
    id PK
    topic_id int FK
    user_id int FK
    content varchar(500)
    status int

or create a unique table, group_tposts:

    --group_tposts
    id PK
    group_id int FK
    user_id int FK
    is_topic boolean
    title varchar(50)
    content varchar(500)
    status int",5
11066042,06/16/2012 18:33:48,1460968,06/16/2012 18:19:30,1,0,Optimize mysql server,"I recently ran mysqltuner.pl and noticed alot of errors. Should i be worried and if so is there anything i could possibly change.

    **DATA FROM MYSQL TUNER (MYSQLTUNER.PL)**

    -------- General Statistics --------------------------------------------------
    [--] Skipped version check for MySQLTuner script
    [OK] Currently running supported MySQL version 5.1.54-1ubuntu4
    [OK] Operating on 64-bit architecture
    
    -------- Storage Engine Statistics -------------------------------------------
    [--] Status: +Archive -BDB +Federated +InnoDB -ISAM -NDBCluster
    [--] Data in MyISAM tables: 2G (Tables: 272)
    [--] Data in InnoDB tables: 33M (Tables: 59)
    [!!] Total fragmented tables: 85
    
    -------- Security Recommendations  -------------------------------------------
    [OK] All database users have passwords assigned
    
    -------- Performance Metrics -------------------------------------------------
    [--] Up for: 75d 22h 36m 31s (6B q [946.595 qps], 485M conn, TX: 3343B, RX: 475B)
    [--] Reads / Writes: 63% / 37%
    [--] Total buffers: 2.3G global + 135.1M per thread (20000 max threads)
    [!!] Maximum possible memory usage: 2641.5G (7457% of installed RAM)
    [OK] Slow queries: 0% (810/6B)
    [OK] Highest usage of available connections: 7% (1451/20000)
    [OK] Key buffer size / total MyISAM indexes: 2.2G/1.5G
    [OK] Key buffer hit rate: 100.0% (105B cached / 2M reads)
    [OK] Query cache efficiency: 74.2% (2B cached / 3B selects)
    [!!] Query cache prunes per day: 178596
    [OK] Sorts requiring temporary tables: 0% (13K temp sorts / 71M sorts)
    [!!] Temporary tables created on disk: 49% (36M on disk / 74M total)
    [OK] Thread cache hit rate: 99% (34K created / 485M connections)
    [!!] Table cache hit rate: 5% (1K open / 17K opened)
    [OK] Open file limit used: 0% (935/100K)
    [OK] Table locks acquired immediately: 98% (1B immediate / 1B locks)
    [!!] InnoDB data size / buffer pool: 33.5M/8.0M
    
 
    ****MYSQL CONFIGURATION (MY.CNF)****

    [client]
    socket  = /var/run/mysqld/mysqld.sock
    port  = 3306
    
    [mysqld_safe]
    socket  = /var/run/mysqld/mysqld.sock
    nice  = 0
    
    [mysqld]
    user  = mysql
    socket  = /var/run/mysqld/mysqld.sock
    port  = 3306
    basedir = /usr
    datadir = /var/lib/mysql
    tmpdir  = /tmp
    skip-external-locking
    skip-name-resolve
    federated
    
    query_cache_limit = 1M
    query_cache_size  = 32M
    query_cache_type  = 1
    max_connections   = 20000
    max_user_connections  = 2000
    #interactive_timeout  = 100
    wait_timeout    = 86400
    connect_timeout   = 10
    thread_stack    = 128K
    thread_cache_size = 128
    myisam-recover    = BACKUP
    #key_buffer - 64M for 1GB, 128M for 2GB, 256 for 4GB
    key_buffer    = 2304M
    #join_buffer_size - 1M for 1GB, 2M for 2GB, 4M for 4GB
    join_buffer   = 36M
    max_allowed_packet  = 32M
    table_cache   = 1024
    #sort_buffer_size - 1M for 1GB, 2M for 2GB, 4M for 4GB
    sort_buffer_size  = 36M
    #read_buffer_size - 1M for 1GB, 2M for 2GB, 4M for 4GB
    read_buffer_size  = 36M
    #read_rnd_buffer_size - 768K for 1GB, 1536K for 2GB, 3072K for 4GB
    read_rnd_buffer_size  = 27648K
    max_connect_errors  = 500
    thread_concurrency  = 40
    #myisam_sort_buffer_size - 32M for 1GB, 64M for 2GB, 128 for 4GB
    myisam_sort_buffer_size = 1152M
    skip-locking
    #skip-bdb
    
    log_error   = /var/log/mysql/error.log
    expire_logs_days  = 10
    max_binlog_size   = 100M
    
    server-id   = 1
    
    #[mysqldump]
    #quick
    #quote-names
    #max_allowed_packet=16M
    
    [mysql]
    #no-auto-rehash # faster start of mysql but no tab completition
    
    [isamchk]
    #key_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    key_buffer  = 2304M
    #sort_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    sort_buffer = 2304M
    #read_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    read_buffer = 576M
    #write_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    write_buffer  = 576M
    
    [myisamchk]
    #key_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    key_buffer  = 2304M
    #sort_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    sort_buffer = 2304M
    #read_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    read_buffer = 576M
    #write_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    write_buffer  = 576M
    
    [mysqlhotcopy]
    interactive-timeout
    
    !includedir /etc/mysql/conf.d/


I would really appriciate if someone could atleast give me some hints at what i should be focusing on or if there is any kind of mysql configuration generator out there?

Best regards",mysql,,,,,06/16/2012 19:19:14,off topic,1,1047,3,"Optimize mysql server I recently ran mysqltuner.pl and noticed alot of errors. Should i be worried and if so is there anything i could possibly change.

    **DATA FROM MYSQL TUNER (MYSQLTUNER.PL)**

    -------- General Statistics --------------------------------------------------
    [--] Skipped version check for MySQLTuner script
    [OK] Currently running supported MySQL version 5.1.54-1ubuntu4
    [OK] Operating on 64-bit architecture
    
    -------- Storage Engine Statistics -------------------------------------------
    [--] Status: +Archive -BDB +Federated +InnoDB -ISAM -NDBCluster
    [--] Data in MyISAM tables: 2G (Tables: 272)
    [--] Data in InnoDB tables: 33M (Tables: 59)
    [!!] Total fragmented tables: 85
    
    -------- Security Recommendations  -------------------------------------------
    [OK] All database users have passwords assigned
    
    -------- Performance Metrics -------------------------------------------------
    [--] Up for: 75d 22h 36m 31s (6B q [946.595 qps], 485M conn, TX: 3343B, RX: 475B)
    [--] Reads / Writes: 63% / 37%
    [--] Total buffers: 2.3G global + 135.1M per thread (20000 max threads)
    [!!] Maximum possible memory usage: 2641.5G (7457% of installed RAM)
    [OK] Slow queries: 0% (810/6B)
    [OK] Highest usage of available connections: 7% (1451/20000)
    [OK] Key buffer size / total MyISAM indexes: 2.2G/1.5G
    [OK] Key buffer hit rate: 100.0% (105B cached / 2M reads)
    [OK] Query cache efficiency: 74.2% (2B cached / 3B selects)
    [!!] Query cache prunes per day: 178596
    [OK] Sorts requiring temporary tables: 0% (13K temp sorts / 71M sorts)
    [!!] Temporary tables created on disk: 49% (36M on disk / 74M total)
    [OK] Thread cache hit rate: 99% (34K created / 485M connections)
    [!!] Table cache hit rate: 5% (1K open / 17K opened)
    [OK] Open file limit used: 0% (935/100K)
    [OK] Table locks acquired immediately: 98% (1B immediate / 1B locks)
    [!!] InnoDB data size / buffer pool: 33.5M/8.0M
    
 
    ****MYSQL CONFIGURATION (MY.CNF)****

    [client]
    socket  = /var/run/mysqld/mysqld.sock
    port  = 3306
    
    [mysqld_safe]
    socket  = /var/run/mysqld/mysqld.sock
    nice  = 0
    
    [mysqld]
    user  = mysql
    socket  = /var/run/mysqld/mysqld.sock
    port  = 3306
    basedir = /usr
    datadir = /var/lib/mysql
    tmpdir  = /tmp
    skip-external-locking
    skip-name-resolve
    federated
    
    query_cache_limit = 1M
    query_cache_size  = 32M
    query_cache_type  = 1
    max_connections   = 20000
    max_user_connections  = 2000
    #interactive_timeout  = 100
    wait_timeout    = 86400
    connect_timeout   = 10
    thread_stack    = 128K
    thread_cache_size = 128
    myisam-recover    = BACKUP
    #key_buffer - 64M for 1GB, 128M for 2GB, 256 for 4GB
    key_buffer    = 2304M
    #join_buffer_size - 1M for 1GB, 2M for 2GB, 4M for 4GB
    join_buffer   = 36M
    max_allowed_packet  = 32M
    table_cache   = 1024
    #sort_buffer_size - 1M for 1GB, 2M for 2GB, 4M for 4GB
    sort_buffer_size  = 36M
    #read_buffer_size - 1M for 1GB, 2M for 2GB, 4M for 4GB
    read_buffer_size  = 36M
    #read_rnd_buffer_size - 768K for 1GB, 1536K for 2GB, 3072K for 4GB
    read_rnd_buffer_size  = 27648K
    max_connect_errors  = 500
    thread_concurrency  = 40
    #myisam_sort_buffer_size - 32M for 1GB, 64M for 2GB, 128 for 4GB
    myisam_sort_buffer_size = 1152M
    skip-locking
    #skip-bdb
    
    log_error   = /var/log/mysql/error.log
    expire_logs_days  = 10
    max_binlog_size   = 100M
    
    server-id   = 1
    
    #[mysqldump]
    #quick
    #quote-names
    #max_allowed_packet=16M
    
    [mysql]
    #no-auto-rehash # faster start of mysql but no tab completition
    
    [isamchk]
    #key_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    key_buffer  = 2304M
    #sort_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    sort_buffer = 2304M
    #read_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    read_buffer = 576M
    #write_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    write_buffer  = 576M
    
    [myisamchk]
    #key_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    key_buffer  = 2304M
    #sort_buffer - 64M for 1GB, 128M for 2GB, 256M for 4GB
    sort_buffer = 2304M
    #read_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    read_buffer = 576M
    #write_buffer - 16M for 1GB, 32M for 2GB, 64M for 4GB
    write_buffer  = 576M
    
    [mysqlhotcopy]
    interactive-timeout
    
    !includedir /etc/mysql/conf.d/


I would really appriciate if someone could atleast give me some hints at what i should be focusing on or if there is any kind of mysql configuration generator out there?

Best regards",1
9363325,02/20/2012 15:09:11,679449,03/27/2011 23:34:05,10,0,mysqldump batch script to output individual tables for selective restore,"We currently have a DOS batch script that performs a MySQL dump on the entire database in a single file. What I would like to do is breakup the database by tables, so that within each 'date' folder, there would be a 'db' folder containing individual table dumps. This allows us to restore selected tables rather than restoring an entire db.

    @echo off
    md C:\backups\%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%
    cd C:\Program Files\MySQL\MySQL Workbench 5.2 CE\
    mysqldump -h10.237.22.241 -u -p --databases db0 > c:\backups\%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%\db0.sql
    mysqldump -h10.237.22.241 -u -p --databases db1 > c:\backups\%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%\db1.sql

I found a possible solution using shell: http://stackoverflow.com/a/134296/679449

This appears that it would allow me to export into individual tables, however I'm not sure how to/if it's possible to write in batch. Any help with that is appreciated.",mysql,batch,mysqldump,,,,open,0,138,10,"mysqldump batch script to output individual tables for selective restore We currently have a DOS batch script that performs a MySQL dump on the entire database in a single file. What I would like to do is breakup the database by tables, so that within each 'date' folder, there would be a 'db' folder containing individual table dumps. This allows us to restore selected tables rather than restoring an entire db.

    @echo off
    md C:\backups\%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%
    cd C:\Program Files\MySQL\MySQL Workbench 5.2 CE\
    mysqldump -h10.237.22.241 -u -p --databases db0 > c:\backups\%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%\db0.sql
    mysqldump -h10.237.22.241 -u -p --databases db1 > c:\backups\%DATE:~-4%-%DATE:~4,2%-%DATE:~7,2%\db1.sql

I found a possible solution using shell: http://stackoverflow.com/a/134296/679449

This appears that it would allow me to export into individual tables, however I'm not sure how to/if it's possible to write in batch. Any help with that is appreciated.",3
6010585,05/15/2011 19:12:23,754763,05/15/2011 19:12:23,1,0,Single or Multiple IDs for same value but in different states/questions,"I have a lookup value ""Unread"". It is used here:
Mail can be read or unread. (So i have ID 10 = read and ID 11 = unread). Now in the UI I have display filters where i can sort message by predefined filters, one of these is 'Unread' So the question is: Are the IDs in both cases going to be 11 or do i create two separate values for Unread - one for the message state and one for the display sort?  

The use of this data is 2 folds:  
1) Reference its main action based on the FK lookup ID  
2) Reporting: If i want to see how many users sorted using Unread filter for Unread mail, in which case can i get that number easily - by using two IDs (one for each question (message state and display sort) or one ID only?",mysql,database-design,,,,,open,0,149,11,"Single or Multiple IDs for same value but in different states/questions I have a lookup value ""Unread"". It is used here:
Mail can be read or unread. (So i have ID 10 = read and ID 11 = unread). Now in the UI I have display filters where i can sort message by predefined filters, one of these is 'Unread' So the question is: Are the IDs in both cases going to be 11 or do i create two separate values for Unread - one for the message state and one for the display sort?  

The use of this data is 2 folds:  
1) Reference its main action based on the FK lookup ID  
2) Reporting: If i want to see how many users sorted using Unread filter for Unread mail, in which case can i get that number easily - by using two IDs (one for each question (message state and display sort) or one ID only?",2
4987813,02/14/2011 00:10:09,600529,02/02/2011 19:27:26,11,1,Can't run mysql from an Emacs shell buffer,"When I try to run the 'mysql' command inside an Emacs shell buffer, it just sits there and never prints the ""mysql> "" prompt.  Any idea how I can get the 'mysql' executable to work inside an Emacs shell buffer?",mysql,emacs,,,,,open,0,41,8,"Can't run mysql from an Emacs shell buffer When I try to run the 'mysql' command inside an Emacs shell buffer, it just sits there and never prints the ""mysql> "" prompt.  Any idea how I can get the 'mysql' executable to work inside an Emacs shell buffer?",2
4189980,11/15/2010 23:47:46,410273,08/04/2010 00:51:12,45,2,how do I use cygwin to rsync files?,How do I do that? Instructions :),mysql,linux,cygwin,rsync,file-transfer,11/16/2010 01:06:16,off topic,1,7,8,how do I use cygwin to rsync files? How do I do that? Instructions :),5
9071203,01/30/2012 21:42:23,965713,09/26/2011 19:17:07,11,0,I am getting an error while installing Mysql 5.5. on Fedora 9 machine.,"I am trying to install the latest version of Mysql server on a Fedora 9 machine. whnever i run a `yum` command `yum --enablerepo=remi list mysql mysql-server` , I get an error as `Loaded plugins: refresh-packagekit
Error getting repository data for development, repository not found`

Please suggest and answer. Thanks in advance. 
",mysql,linux,fedora,yum,,01/30/2012 21:58:52,off topic,1,51,13,"I am getting an error while installing Mysql 5.5. on Fedora 9 machine. I am trying to install the latest version of Mysql server on a Fedora 9 machine. whnever i run a `yum` command `yum --enablerepo=remi list mysql mysql-server` , I get an error as `Loaded plugins: refresh-packagekit
Error getting repository data for development, repository not found`

Please suggest and answer. Thanks in advance. 
",4
9690816,03/13/2012 19:36:13,424466,08/18/2010 19:45:27,56,2,Selecting ANY from multiple columns in MySQL,"I would like to query the database to return **any** row which matches a value from a list of possible values in 3 columns. Is this possible?

My table has the following columns: id, ans1, ans2, ans3

And this is my attempt at a query:

    SELECT * FROM table WHERE ans1 IN (""Yes"", ""No"", ""Maybe"") OR ans2 IN (""Yes"", ""No"", ""Maybe"") 
 OR ans3 IN (""Yes"", ""No"", ""Maybe"");",mysql,,,,,06/07/2012 00:15:41,too localized,1,69,7,"Selecting ANY from multiple columns in MySQL I would like to query the database to return **any** row which matches a value from a list of possible values in 3 columns. Is this possible?

My table has the following columns: id, ans1, ans2, ans3

And this is my attempt at a query:

    SELECT * FROM table WHERE ans1 IN (""Yes"", ""No"", ""Maybe"") OR ans2 IN (""Yes"", ""No"", ""Maybe"") 
 OR ans3 IN (""Yes"", ""No"", ""Maybe"");",1
3150156,06/30/2010 14:22:24,366797,01/23/2010 04:19:59,187,28,Distributed db's or not?,"INFORMIX-SQL 7.32 (SE) Linux Pawnshop App.

I have some users who own several pawnshops within a 100-mile radius. Each pawnshop app runs with SE. The only functionality these owners need are: ability to remotely login to any store in order to view transactions, running totals and consolidate daily totals at end of business day. This can be accomplished with dialup modems, as the app doesnt have any need for displaying BLOB's. At end-of-day, each stores totals are unloaded to a flat file and transferred to the owner's system. 

What would my owners gain by converting to distributed db's?.. ability to find out if a stores customer has conducted business in another store or if another store has a desired inventory item for sale? (not important, seldomly happens). Most customers will usually do business with the same store and if they dont have a desired item for sale, they will visit the closest competitors pawnshop. What gains would distributed db's offer to accomplish the same functionality as described in the first paragraph?.. Pawnshop owners absolutely refuse to connect their production systems via the internet! They dont trust its security, even using VPN, Cisco, etc, or its reliability! In this part of the world, ISP's have a bad track record for uptime. I know of several apps which have converted from web to dialup because of comm problems! ",mysql,oracle,database-design,database-connection,informix,,open,0,226,4,"Distributed db's or not? INFORMIX-SQL 7.32 (SE) Linux Pawnshop App.

I have some users who own several pawnshops within a 100-mile radius. Each pawnshop app runs with SE. The only functionality these owners need are: ability to remotely login to any store in order to view transactions, running totals and consolidate daily totals at end of business day. This can be accomplished with dialup modems, as the app doesnt have any need for displaying BLOB's. At end-of-day, each stores totals are unloaded to a flat file and transferred to the owner's system. 

What would my owners gain by converting to distributed db's?.. ability to find out if a stores customer has conducted business in another store or if another store has a desired inventory item for sale? (not important, seldomly happens). Most customers will usually do business with the same store and if they dont have a desired item for sale, they will visit the closest competitors pawnshop. What gains would distributed db's offer to accomplish the same functionality as described in the first paragraph?.. Pawnshop owners absolutely refuse to connect their production systems via the internet! They dont trust its security, even using VPN, Cisco, etc, or its reliability! In this part of the world, ISP's have a bad track record for uptime. I know of several apps which have converted from web to dialup because of comm problems! ",5
4819884,01/27/2011 17:46:22,350603,05/26/2010 06:57:14,22,0,What's the optimal DB choice for a high traffic site? (MySQL MyISAM vs. InnoDB vs. PostgreSQL),"I have a community site, which some days serves up to 35K visits. Each pageview leads to several DB queries (all within one DB connection) as I didn't implement any caching function yet. About every 3rd pageview cases a DB write (mostly for logging purposes).

I currently use MySQL with the MyISAM engine. The DB server software was on the same hardware as the Web server. When the traffic started to grow and was hitting about 12K visits per day the SQL server begun to eat 100% of the CPU and was killing the server. Then I separated the MySQL server to a separate Amazon AWS RDS ""small"" instance. It was killing it too. Then I moved the database to a ""large"" RDS instance where the DB was eating only about 70-80% of the CPU time. So, now it kinda works but the ""large"" RDS instance from Amazon AWS is very powerful and very expensive. Something is going terribly wrong here and my first guess is that the DB configuration or storage engine is not optimal.

The web server is running on nginx & php-fpm. The MySQL now on the separate Amazon AWS RDS instance (large) and has MyISAM as storage engine. The amount of concurrent users visiting the site varies from 200 to 500 depending on the time of the day.

If you need any more info let me know and I'll add it to the post. ",mysql,database,postgresql,innodb,myisam,01/27/2011 20:58:36,not constructive,1,236,16,"What's the optimal DB choice for a high traffic site? (MySQL MyISAM vs. InnoDB vs. PostgreSQL) I have a community site, which some days serves up to 35K visits. Each pageview leads to several DB queries (all within one DB connection) as I didn't implement any caching function yet. About every 3rd pageview cases a DB write (mostly for logging purposes).

I currently use MySQL with the MyISAM engine. The DB server software was on the same hardware as the Web server. When the traffic started to grow and was hitting about 12K visits per day the SQL server begun to eat 100% of the CPU and was killing the server. Then I separated the MySQL server to a separate Amazon AWS RDS ""small"" instance. It was killing it too. Then I moved the database to a ""large"" RDS instance where the DB was eating only about 70-80% of the CPU time. So, now it kinda works but the ""large"" RDS instance from Amazon AWS is very powerful and very expensive. Something is going terribly wrong here and my first guess is that the DB configuration or storage engine is not optimal.

The web server is running on nginx & php-fpm. The MySQL now on the separate Amazon AWS RDS instance (large) and has MyISAM as storage engine. The amount of concurrent users visiting the site varies from 200 to 500 depending on the time of the day.

If you need any more info let me know and I'll add it to the post. ",5
8192854,11/19/2011 08:33:48,1055075,11/19/2011 07:56:08,1,0,Finding common values within two sets of delimited numbers in MySQL,"The basic problem is that I'm wanting to find the number of values in common between two sets of numbers in MySQL.

Given two fields, each containing a different set of comma-delimited numbers (which could contain up to 100 elements each), using MySQL how can you calculate how many numbers are common to both sets?:

Field 1: 
1,3,75,4502 

Field 2: 
1,10,20,4502,4965,10022

Answer: 2. (1 and 4502 are common to both sets)

The only related function that I can find in MySQL is FIND_IN_SET which lets you know if a single value exists within a set, but it won't work with multiple values. I just wondered if there might be a semi-efficient way to tackle the above problem?",mysql,sql,,,,,open,0,113,11,"Finding common values within two sets of delimited numbers in MySQL The basic problem is that I'm wanting to find the number of values in common between two sets of numbers in MySQL.

Given two fields, each containing a different set of comma-delimited numbers (which could contain up to 100 elements each), using MySQL how can you calculate how many numbers are common to both sets?:

Field 1: 
1,3,75,4502 

Field 2: 
1,10,20,4502,4965,10022

Answer: 2. (1 and 4502 are common to both sets)

The only related function that I can find in MySQL is FIND_IN_SET which lets you know if a single value exists within a set, but it won't work with multiple values. I just wondered if there might be a semi-efficient way to tackle the above problem?",2
10863928,06/02/2012 16:11:47,1350111,04/22/2012 21:29:43,33,2,zend voting system,"I'm using Zend framework and I want to add a voting system for my web site ( the one with 5 star ), and i did the hover part with jquery but i have errors in saving the vote in database.

the function i'm using to save the note in database:

`public function vote($nb, $id) {

        $promo = new Db_Promo();

        $result = $promo->fetchAll(
                        $promo->select()
                                ->from($promo)
                                ->where(""idpromo = ? "", $id)
                )->current();

        $all_attributs = array();
        if (!empty($result)) {
            foreach ((array) $result as $key => $value) {
                $all_attributs = $value;
                break;
            }
            
            $note = array();

            $note['grade'] = ( $nb + ( $all_attributs[0]['grade'] * $all_attributs[0]['usernbr'] ) ) / $all_attributs[0]['usernbr']+1;

            if (!empty($note)) {
                $promo->update($note, array(
                    'idpromo = ?' => $id));
            }
        }
    }`

",mysql,zend-framework,,,,06/02/2012 21:49:55,not a real question,1,397,3,"zend voting system I'm using Zend framework and I want to add a voting system for my web site ( the one with 5 star ), and i did the hover part with jquery but i have errors in saving the vote in database.

the function i'm using to save the note in database:

`public function vote($nb, $id) {

        $promo = new Db_Promo();

        $result = $promo->fetchAll(
                        $promo->select()
                                ->from($promo)
                                ->where(""idpromo = ? "", $id)
                )->current();

        $all_attributs = array();
        if (!empty($result)) {
            foreach ((array) $result as $key => $value) {
                $all_attributs = $value;
                break;
            }
            
            $note = array();

            $note['grade'] = ( $nb + ( $all_attributs[0]['grade'] * $all_attributs[0]['usernbr'] ) ) / $all_attributs[0]['usernbr']+1;

            if (!empty($note)) {
                $promo->update($note, array(
                    'idpromo = ?' => $id));
            }
        }
    }`

",2
11420648,07/10/2012 19:39:02,1022585,10/31/2011 19:30:26,486,2,mysql data from several tables,"I have an awkward mySQL query to make and I'm struggling due to a poor database structure (I made it years ago) :/

I have 3 tables, `forum_list`, `forum_topics` and `forum_replies`. I'm cycling through the forum_list table, showing the name, and I want to grab the date and author_id of the last post in each.

Problem is, the last post could be a reply in `forum_replies`, or it could be a topic `forum_topics`

Will I need a sub query or something?",mysql,multiple,,,,,open,0,78,5,"mysql data from several tables I have an awkward mySQL query to make and I'm struggling due to a poor database structure (I made it years ago) :/

I have 3 tables, `forum_list`, `forum_topics` and `forum_replies`. I'm cycling through the forum_list table, showing the name, and I want to grab the date and author_id of the last post in each.

Problem is, the last post could be a reply in `forum_replies`, or it could be a topic `forum_topics`

Will I need a sub query or something?",2
10774581,05/27/2012 14:10:46,116906,06/03/2009 20:59:59,487,18,How can I best use a couple of days' intensive study to go the next level with MySQL?,"I am at an intermediate level of skill in using SQL and have been able to get along at a basic level with SQLite, SQL Server, Postgres, and MySQL (the only exception is Oracle: ""*Q: How many Oracle servers does it take to execute a query?--A: Four. Three to hold it down, and one to rip its head off!*""). I would like to put in a few days' intensive self-training on SQL and MySQL specifics to see how far I can get.

In terms of resources on O'Reilly's Safari and the web in general, what are the resources I should be looking at? I imagine a title like O'Reilly's *Learning MySQL*, and maybe a more advanced title like *High Performance MySQL*. But I wanted to ask SO to see what is recommended.",mysql,sql,database,,,05/27/2012 14:24:14,off topic,1,131,18,"How can I best use a couple of days' intensive study to go the next level with MySQL? I am at an intermediate level of skill in using SQL and have been able to get along at a basic level with SQLite, SQL Server, Postgres, and MySQL (the only exception is Oracle: ""*Q: How many Oracle servers does it take to execute a query?--A: Four. Three to hold it down, and one to rip its head off!*""). I would like to put in a few days' intensive self-training on SQL and MySQL specifics to see how far I can get.

In terms of resources on O'Reilly's Safari and the web in general, what are the resources I should be looking at? I imagine a title like O'Reilly's *Learning MySQL*, and maybe a more advanced title like *High Performance MySQL*. But I wanted to ask SO to see what is recommended.",3
7838513,10/20/2011 15:38:48,1005424,10/20/2011 14:35:40,1,0,MySQL - Update and Select in one query,"I'm updating a table like so...

Update table Set count = count + 1 Where id = xx Limit 1

How to get the value of count without querying the table again? Can it be done in one query?

Thank you!
",mysql,sql,,,,,open,0,38,8,"MySQL - Update and Select in one query I'm updating a table like so...

Update table Set count = count + 1 Where id = xx Limit 1

How to get the value of count without querying the table again? Can it be done in one query?

Thank you!
",2
8522312,12/15/2011 15:16:46,1100091,12/15/2011 14:44:57,1,0,How to take online mysql backup,"I have some Myisam and Innodb databases.

How do I take online backups I mean database should not be bought down. 

I read we can do online backup using mysql enterprise backup (mysqldump for innodb and mysqlhotcopy for myisam)

Then what is the use of mysqldump ? 

And how do I take offline backup for my myisam and innodb databases ?",mysql,,,,,06/27/2012 13:09:19,off topic,1,59,6,"How to take online mysql backup I have some Myisam and Innodb databases.

How do I take online backups I mean database should not be bought down. 

I read we can do online backup using mysql enterprise backup (mysqldump for innodb and mysqlhotcopy for myisam)

Then what is the use of mysqldump ? 

And how do I take offline backup for my myisam and innodb databases ?",1
9212947,02/09/2012 14:46:28,514746,11/20/2010 22:29:20,1,0,What is you opinion about trackingdb.com?,"One of the ""must have"" thing for a programmer is to use a version control system (for file sources). As a web developer myself, I started with using CVS; after that I used SVN and now I'm using Git.

After a while, a natural question came to my mind: can I use something similar for MySQL
(the database that I used most often)?. I tried different solutions like sql files in VCS and 
other different tools like Liquibase or phpMyVersion but none of them has satisfied me fully.

A few days ago I found a service named [trackingdb.com][1], which seems to meet all my needs
(the service is under development):
- merging, refreshing and rolling back database changes
- conflict detection and resolution
- GUI viewer for diferences between versions
- include both GUI and command-line versions
(extracted from project description)

I am interested in what is your opinion about a service like this and about that [trackingdb.com][2] site, in particulary


  [1]: http://www.trackingdb.com
  [2]: http://www.trackingdb.com",mysql,versioning,,,,02/10/2012 11:55:44,not constructive,1,157,6,"What is you opinion about trackingdb.com? One of the ""must have"" thing for a programmer is to use a version control system (for file sources). As a web developer myself, I started with using CVS; after that I used SVN and now I'm using Git.

After a while, a natural question came to my mind: can I use something similar for MySQL
(the database that I used most often)?. I tried different solutions like sql files in VCS and 
other different tools like Liquibase or phpMyVersion but none of them has satisfied me fully.

A few days ago I found a service named [trackingdb.com][1], which seems to meet all my needs
(the service is under development):
- merging, refreshing and rolling back database changes
- conflict detection and resolution
- GUI viewer for diferences between versions
- include both GUI and command-line versions
(extracted from project description)

I am interested in what is your opinion about a service like this and about that [trackingdb.com][2] site, in particulary


  [1]: http://www.trackingdb.com
  [2]: http://www.trackingdb.com",2
5284009,03/12/2011 17:04:48,388876,07/11/2010 13:37:59,6,0,MySQL DATE and BIGINT with LOAD DATA LOCAL INFILE ...,"I am working on a Java script capable of loading historical market data from files to MySQL tables, where each data record contains 'date' and 'timestamp' field. A usual record is represented as:

01/11/2010,10:00:00.007,P,210.8,210.86,6,2,R,,2486662,P,P,,0,,N
01/11/2010,10:00:00.577,W,210.51,211.61,1,1,R,,2487172,W,W,,0,,N

where the first column represents 'date' and the second represents 'timestamp' (with a millisecond granularity). Since MySQL do not support millisecond granularity, I am using BIGINT (long) representation of the 'timestamp' field.

Currently the load query is as follows:

LOAD DATA LOCAL INFILE 'path to file' 
INTO TABLE table
FIELDS TERMINATED BY ','
(@date, @time, remaining columns ...)
SET date=STR_TO_DATE(@date, '%m/%d/%Y'),
SET time=UNIX_TIMESTAMP( STR_TO_DATE(@time, '%H:%i:%S.%f') )

The query works fine, apart from the last line (which throws SQLExceptions). I've tried different format patterns but am having problems working out the conversion from string to timestamp, before converting to unix timestamp. Google isn't helping either. I would really appreciate if anyone could suggest reasonable solution. Unfortunately, changing MySQL to other database is not an option.

Regards,",mysql,mysql-error,,,,,open,0,149,10,"MySQL DATE and BIGINT with LOAD DATA LOCAL INFILE ... I am working on a Java script capable of loading historical market data from files to MySQL tables, where each data record contains 'date' and 'timestamp' field. A usual record is represented as:

01/11/2010,10:00:00.007,P,210.8,210.86,6,2,R,,2486662,P,P,,0,,N
01/11/2010,10:00:00.577,W,210.51,211.61,1,1,R,,2487172,W,W,,0,,N

where the first column represents 'date' and the second represents 'timestamp' (with a millisecond granularity). Since MySQL do not support millisecond granularity, I am using BIGINT (long) representation of the 'timestamp' field.

Currently the load query is as follows:

LOAD DATA LOCAL INFILE 'path to file' 
INTO TABLE table
FIELDS TERMINATED BY ','
(@date, @time, remaining columns ...)
SET date=STR_TO_DATE(@date, '%m/%d/%Y'),
SET time=UNIX_TIMESTAMP( STR_TO_DATE(@time, '%H:%i:%S.%f') )

The query works fine, apart from the last line (which throws SQLExceptions). I've tried different format patterns but am having problems working out the conversion from string to timestamp, before converting to unix timestamp. Google isn't helping either. I would really appreciate if anyone could suggest reasonable solution. Unfortunately, changing MySQL to other database is not an option.

Regards,",2
7334851,09/07/2011 13:41:26,930955,09/06/2011 15:01:33,6,0,C# to MY SQL delay query execution,I have a c# windows application which uses a MYSql database when I work i LAN (accessing database server in LAN) works fine but when I access to database server through the internet the delay on query execution is to much.,mysql,winforms,visual-studio-2010,c#-4.0,c#-3.0,,open,0,41,7,C# to MY SQL delay query execution I have a c# windows application which uses a MYSql database when I work i LAN (accessing database server in LAN) works fine but when I access to database server through the internet the delay on query execution is to much.,5
10581895,05/14/2012 10:49:16,1390981,05/12/2012 11:24:43,6,0,IIS 7.5 + Mysql ODBC 3.51 Slows up the website,"I was using IIS 5.1 on Windows XP PC the page used to load in a fraction of second.

Now I have moved to windows server 2008 R2 with IIS 7.5 and same DB. I checked MySQL, it working in the same way as previous machine. I have checked IIS 7.5 for basic .Net pages not involving DB, even that is working normal.

I think the problem is somewhere else in connection which is making the application dead slow, please suggest how can I increase the speed?",mysql,odbc,windows-server-2008,iis-7.5,,,open,0,85,10,"IIS 7.5 + Mysql ODBC 3.51 Slows up the website I was using IIS 5.1 on Windows XP PC the page used to load in a fraction of second.

Now I have moved to windows server 2008 R2 with IIS 7.5 and same DB. I checked MySQL, it working in the same way as previous machine. I have checked IIS 7.5 for basic .Net pages not involving DB, even that is working normal.

I think the problem is somewhere else in connection which is making the application dead slow, please suggest how can I increase the speed?",4
7217872,08/27/2011 22:45:38,380714,07/01/2010 04:11:29,1114,2,mysql server suddenly crash,"so my Mysql server has been working just fine, but suddenly out of the blue now whenever I try to load it up it returns this error:

    110827 18:42:06 [Note] Plugin 'FEDERATED' is disabled.
    110827 18:42:06  InnoDB: Started; log sequence number 0 42897533
    110827 18:42:06 [Note] Recovering after a crash using mysql-bin
    110827 18:42:06 [Note] Starting crash recovery...
    110827 18:42:06 [Note] Crash recovery finished.
    110827 18:42:06 [Note] Event Scheduler: Loaded 0 events
    110827 18:42:06 [Note] wampmysqld: ready for connections.
    Version: '5.1.36-community-log'  socket: ''  port: 3306  MySQL Community Server (GPL)
    110827 18:42:15  InnoDB: Operating system error number 995 in a file operation.
    InnoDB: Some operating system error numbers are described at
    InnoDB: http://dev.mysql.com/doc/refman/5.1/en/operating-system-error-codes.html
    InnoDB: File name .\ibdata1
    InnoDB: File operation call: 'Windows aio'.
    InnoDB: Cannot continue operation.

anyone knows why this is happening? I'm using wampserver 2.0",mysql,windows,apache,,,08/27/2011 23:04:54,off topic,1,182,4,"mysql server suddenly crash so my Mysql server has been working just fine, but suddenly out of the blue now whenever I try to load it up it returns this error:

    110827 18:42:06 [Note] Plugin 'FEDERATED' is disabled.
    110827 18:42:06  InnoDB: Started; log sequence number 0 42897533
    110827 18:42:06 [Note] Recovering after a crash using mysql-bin
    110827 18:42:06 [Note] Starting crash recovery...
    110827 18:42:06 [Note] Crash recovery finished.
    110827 18:42:06 [Note] Event Scheduler: Loaded 0 events
    110827 18:42:06 [Note] wampmysqld: ready for connections.
    Version: '5.1.36-community-log'  socket: ''  port: 3306  MySQL Community Server (GPL)
    110827 18:42:15  InnoDB: Operating system error number 995 in a file operation.
    InnoDB: Some operating system error numbers are described at
    InnoDB: http://dev.mysql.com/doc/refman/5.1/en/operating-system-error-codes.html
    InnoDB: File name .\ibdata1
    InnoDB: File operation call: 'Windows aio'.
    InnoDB: Cannot continue operation.

anyone knows why this is happening? I'm using wampserver 2.0",3
10147565,04/13/2012 20:02:58,1267305,03/13/2012 19:15:36,33,0,CREATE TABLE LIKE A1 as A2,"I want to create new table with proprieties of old table and without duplicates, I want to do something like this:

CREATE TABLE New_Users  LIKE Old_Users, 
AS
(SELECT * FROM Old_Users GROUP BY ID) ;

but above not working, please anybody modify it to work.",mysql,,,,,,open,0,43,6,"CREATE TABLE LIKE A1 as A2 I want to create new table with proprieties of old table and without duplicates, I want to do something like this:

CREATE TABLE New_Users  LIKE Old_Users, 
AS
(SELECT * FROM Old_Users GROUP BY ID) ;

but above not working, please anybody modify it to work.",1
9016269,01/26/2012 09:48:12,659060,03/14/2011 15:35:08,43,3,Can I use where clause twice in a sql query?,"Is it possible to write a query just like this?

    SELECT a FROM Action a WHERE a.name = ""name"" WHERE a.namesafe = ""namesafe""

",mysql,sql,,,,01/27/2012 16:03:22,not a real question,1,26,10,"Can I use where clause twice in a sql query? Is it possible to write a query just like this?

    SELECT a FROM Action a WHERE a.name = ""name"" WHERE a.namesafe = ""namesafe""

",2
7351569,09/08/2011 16:42:01,870100,07/29/2011 21:43:33,5,0,Remove or Replace with blank partial string in MySQL Query,"I'm trying to replace only certain parts of a string via an SQL query.

The column holds data formatted as so:

    United States Postal Service&nbsp;<br> (Express Mail<sup>&reg;</sup><br>---Approx. delivery time 07-Sep-2011):

I'm trying to make it export like so:

    United States Postal Service (Express Mail---Approx. delivery time 07-Sep-2011):

To do this, I used CASE, like so:

    SELECT 
    	CASE ot.title
    		WHEN 'Free' THEN ''
    		WHEN '&nbsp;<br>' THEN ' '
    		WHEN '<sup>&reg;</sup> ' THEN ' '
    		WHEN '<br>---' THEN '---'
    		ELSE ot.title
    	END
    FROM orders_total AS ot;

However, it won't work.  I assume CASE only supports handling the entire string, not just a part of it.

Any ideas?

Peace,
Chris",mysql,query,case,,,,open,0,135,10,"Remove or Replace with blank partial string in MySQL Query I'm trying to replace only certain parts of a string via an SQL query.

The column holds data formatted as so:

    United States Postal Service&nbsp;<br> (Express Mail<sup>&reg;</sup><br>---Approx. delivery time 07-Sep-2011):

I'm trying to make it export like so:

    United States Postal Service (Express Mail---Approx. delivery time 07-Sep-2011):

To do this, I used CASE, like so:

    SELECT 
    	CASE ot.title
    		WHEN 'Free' THEN ''
    		WHEN '&nbsp;<br>' THEN ' '
    		WHEN '<sup>&reg;</sup> ' THEN ' '
    		WHEN '<br>---' THEN '---'
    		ELSE ot.title
    	END
    FROM orders_total AS ot;

However, it won't work.  I assume CASE only supports handling the entire string, not just a part of it.

Any ideas?

Peace,
Chris",3
1081588,07/04/2009 05:37:48,104004,05/09/2009 09:10:02,47,3,Run Mysql server on same machine with two different ports,"I want to use mysql server on two different ports on same machine. I made two separate cnf files for the same. when I am trying to connect to mysql server with second port which i have added I am unable to do so. I am working on Windows Vista. 
I tried to start mysqld from command line after specifying port.

Thanks in advance.",mysql,,,,,,open,0,63,10,"Run Mysql server on same machine with two different ports I want to use mysql server on two different ports on same machine. I made two separate cnf files for the same. when I am trying to connect to mysql server with second port which i have added I am unable to do so. I am working on Windows Vista. 
I tried to start mysqld from command line after specifying port.

Thanks in advance.",1
9233803,02/10/2012 19:41:33,1200602,02/09/2012 20:34:17,1,0,this query take too long time is another way to do this?,"SELECT * FROM Events, (SELECT distinct Events.id FROM Events LEFT JOIN EventDisciplines ON Events.id = EventDisciplines.event_id WHERE discipline_id = (SELECT discipline_id FROM EventCategoryDisciplines WHERE eventCategory_id = '15') ) as t1, ( SELECT event_id, min(time) StartDate,max(time) EndDate from EventTimes group by event_id ) as t2 WHERE Events.id=t1.id AND t1.id=t2.event_id AND (SELECT count(*) FROM EventTimes WHERE event_id = Events.id AND time > now())>0 ORDER BY StartDate ",mysql,select,,,,02/10/2012 19:47:23,too localized,1,65,12,"this query take too long time is another way to do this? SELECT * FROM Events, (SELECT distinct Events.id FROM Events LEFT JOIN EventDisciplines ON Events.id = EventDisciplines.event_id WHERE discipline_id = (SELECT discipline_id FROM EventCategoryDisciplines WHERE eventCategory_id = '15') ) as t1, ( SELECT event_id, min(time) StartDate,max(time) EndDate from EventTimes group by event_id ) as t2 WHERE Events.id=t1.id AND t1.id=t2.event_id AND (SELECT count(*) FROM EventTimes WHERE event_id = Events.id AND time > now())>0 ORDER BY StartDate ",2
11121819,06/20/2012 14:29:18,1468124,06/20/2012 04:45:56,1,0,connection of mysql for python,"I have installed the MySQLdb for python and I am able to import MySQLdb.I need to connect to the mysql database of my webpage. I have installed mysql community server in my local machine.... now i used

    db=MySQLdb.connect(
	host=""localhost"",
	user=""br_admin"",
	passwd=""blabla"",
	db=""br_brain""
	)


 
   ` but i get the error as 

    **Traceback (most recent call last):
      File ""<pyshell#22>"", line 5, in <module>
     db=""brainse_brain""
    File ""C:\Python27\lib\site-packages\MySQLdb\__init__.py"", line 81, in Connect
    return Connection(*args, **kwargs)
    File ""C:\Python27\lib\site-packages\MySQLdb\connections.py"", line 187, in __init__
    super(Connection, self).__init__(*args, **kwargs2)
    OperationalError: (2003, ""Can't connect to MySQL server on 'localhost' (10061)"")**

can some one tell me what is the problem with my connection.?",mysql,python-2.7,,,,,open,0,130,5,"connection of mysql for python I have installed the MySQLdb for python and I am able to import MySQLdb.I need to connect to the mysql database of my webpage. I have installed mysql community server in my local machine.... now i used

    db=MySQLdb.connect(
	host=""localhost"",
	user=""br_admin"",
	passwd=""blabla"",
	db=""br_brain""
	)


 
   ` but i get the error as 

    **Traceback (most recent call last):
      File ""<pyshell#22>"", line 5, in <module>
     db=""brainse_brain""
    File ""C:\Python27\lib\site-packages\MySQLdb\__init__.py"", line 81, in Connect
    return Connection(*args, **kwargs)
    File ""C:\Python27\lib\site-packages\MySQLdb\connections.py"", line 187, in __init__
    super(Connection, self).__init__(*args, **kwargs2)
    OperationalError: (2003, ""Can't connect to MySQL server on 'localhost' (10061)"")**

can some one tell me what is the problem with my connection.?",2
5008928,02/15/2011 20:07:58,282772,02/27/2010 17:30:20,443,7,MySql performance doctor: someone can translate this values for me?,"    Slow_queries 11
    Select_full_join 13 k
    Handler_read_next 203 k
    Handler_read_rnd_next 5,174 M
    Created_tmp_disk_tables 53 k
    Opened_tables 59 k

this are the RED flagged values i found on my mysql status...I'm a self-taught developer so i'm not sure how to fix it or i those values are really high or what...the description given in phpmyadmin is not always clear to me...

NOTE: my website is still on staging os there is no web traffic besides my tests

thanks",mysql,query-optimization,,,,,open,0,92,10,"MySql performance doctor: someone can translate this values for me?     Slow_queries 11
    Select_full_join 13 k
    Handler_read_next 203 k
    Handler_read_rnd_next 5,174 M
    Created_tmp_disk_tables 53 k
    Opened_tables 59 k

this are the RED flagged values i found on my mysql status...I'm a self-taught developer so i'm not sure how to fix it or i those values are really high or what...the description given in phpmyadmin is not always clear to me...

NOTE: my website is still on staging os there is no web traffic besides my tests

thanks",2
9177177,02/07/2012 13:34:27,1194740,02/07/2012 13:27:30,1,0,How to insert a row in a table between two existing rows in Sql,I have a table with 9 records in it but i want to insert a row in between of 5th and 6th record.,mysql,,,,,06/14/2012 13:12:07,not a real question,1,23,14,How to insert a row in a table between two existing rows in Sql I have a table with 9 records in it but i want to insert a row in between of 5th and 6th record.,1
10132015,04/12/2012 21:19:19,1316350,04/05/2012 21:41:02,8,0,Is it good database schema for survey system?,"So far I have created something like below, is it good enough for school project?
Also should I add extra tabel for responses? because I will need answers to be saved back into database after user will answer the survey so I can create stats

    .poll_users
    (id int(11) NOT NULL AUTO_INCREMENT
    name VARCHAR(255) NOT NULL
    PRIMARY KEY (id))

    .poll_referendum
    		    (id int(11) NOT NULL AUTO_INCREMENT
    		    name varchar(255) DEFAULT NULL
    		    PRIMARY KEY (id))

    .poll_questions 
	    	 id int(11) NOT NULL AUTO_INCREMENT
	    	referendum_id int(11) DEFAULT NULL
	    	body varchar(255) DEFAULT NULL
	    	created_at datetime DEFAULT NULL
	    	updated_at datetime DEFAULT NULL
	    	PRIMARY KEY (`id`)
	    	KEY `referendum_id` (`referendum_id`))

    .poll_answers 
		 `id` int(11) NOT NULL AUTO_INCREMENT
		 `vote_id` int(11) DEFAULT '0'
		 `question_id` int(11) NOT NULL
		 `created_at` datetime DEFAULT NULL
		 `updated_at` datetime DEFAULT NULL
		 PRIMARY KEY (`id`)
		 KEY `vote_id` (`vote_id`)
		 KEY `question_id` (`question_id`))
	    
    .poll_voting 
	    	`id` int(11) NOT NULL AUTO_INCREMENT
	    	`question_id` int(11) NOT NULL DEFAULT '0'
	    	`answer_id` int(11) NOT NULL DEFAULT '0'
	    	`user_id` int(11) NOT NULL DEFAULT '0'
	    	`created_at` datetime DEFAULT NULL
	    	`updated_at` datetime DEFAULT NULL
	    	PRIMARY KEY (`id`)
	    	KEY `question_id` (`question_id`)
	    	KEY `answer_id` (`answer_id`)
	    	KEY `user_id` (`user_id`))

    .vote_types 
	    	`id` int(11) NOT NULL AUTO_INCREMENT
	    	`type` varchar(255) DEFAULT NULL
	    	PRIMARY KEY (`id`))

thanks",mysql,sql,database-design,,,04/12/2012 22:48:29,too localized,1,303,8,"Is it good database schema for survey system? So far I have created something like below, is it good enough for school project?
Also should I add extra tabel for responses? because I will need answers to be saved back into database after user will answer the survey so I can create stats

    .poll_users
    (id int(11) NOT NULL AUTO_INCREMENT
    name VARCHAR(255) NOT NULL
    PRIMARY KEY (id))

    .poll_referendum
    		    (id int(11) NOT NULL AUTO_INCREMENT
    		    name varchar(255) DEFAULT NULL
    		    PRIMARY KEY (id))

    .poll_questions 
	    	 id int(11) NOT NULL AUTO_INCREMENT
	    	referendum_id int(11) DEFAULT NULL
	    	body varchar(255) DEFAULT NULL
	    	created_at datetime DEFAULT NULL
	    	updated_at datetime DEFAULT NULL
	    	PRIMARY KEY (`id`)
	    	KEY `referendum_id` (`referendum_id`))

    .poll_answers 
		 `id` int(11) NOT NULL AUTO_INCREMENT
		 `vote_id` int(11) DEFAULT '0'
		 `question_id` int(11) NOT NULL
		 `created_at` datetime DEFAULT NULL
		 `updated_at` datetime DEFAULT NULL
		 PRIMARY KEY (`id`)
		 KEY `vote_id` (`vote_id`)
		 KEY `question_id` (`question_id`))
	    
    .poll_voting 
	    	`id` int(11) NOT NULL AUTO_INCREMENT
	    	`question_id` int(11) NOT NULL DEFAULT '0'
	    	`answer_id` int(11) NOT NULL DEFAULT '0'
	    	`user_id` int(11) NOT NULL DEFAULT '0'
	    	`created_at` datetime DEFAULT NULL
	    	`updated_at` datetime DEFAULT NULL
	    	PRIMARY KEY (`id`)
	    	KEY `question_id` (`question_id`)
	    	KEY `answer_id` (`answer_id`)
	    	KEY `user_id` (`user_id`))

    .vote_types 
	    	`id` int(11) NOT NULL AUTO_INCREMENT
	    	`type` varchar(255) DEFAULT NULL
	    	PRIMARY KEY (`id`))

thanks",3
5824083,04/28/2011 19:44:11,199712,10/30/2009 15:06:00,1382,47,Books on query optimization?,"Are there any books on query optimization, preferably for MySQL? I have High Performance MySQL but it doesn't seem to do a great job of giving you the knowledge necessary to optimize any query you might come across.",mysql,query-optimization,,,,09/27/2011 14:56:24,not constructive,1,38,4,"Books on query optimization? Are there any books on query optimization, preferably for MySQL? I have High Performance MySQL but it doesn't seem to do a great job of giving you the knowledge necessary to optimize any query you might come across.",2
2336081,02/25/2010 17:23:02,55818,01/16/2009 12:12:30,182,13,[MySql] How to change root password to an empty one?,"How can I change the root password to an empty one in MySql?

The following gives `""Access denied for user 'root'@'localhost' (using password: YES)""` error. I'm sure I've typed my password correct (it's only `123456`)

    mysqladmin -u root -p'123456' password ''

I've run this sql successfully but it can still access with my password `123456`:

    use mysql; update user set password=PASSWORD("""") where User='root';",mysql,,,,,,open,0,67,10,"[MySql] How to change root password to an empty one? How can I change the root password to an empty one in MySql?

The following gives `""Access denied for user 'root'@'localhost' (using password: YES)""` error. I'm sure I've typed my password correct (it's only `123456`)

    mysqladmin -u root -p'123456' password ''

I've run this sql successfully but it can still access with my password `123456`:

    use mysql; update user set password=PASSWORD("""") where User='root';",1
11138596,06/21/2012 12:52:37,367985,06/16/2010 07:25:01,1466,43,individual SQL select queries vs single big SQLselect query: what is better & why?,"I have these three separate queries,

    SELECT packageid from tblhosting where userid=1234 AND id=4351
    SELECT id FROM tblcustomfields WHERE relid =tblhosting.packageid AND fieldname ='foo'
    SELECT value FROM  `tblcustomfieldsvalues` WHERE  `fieldid` =tblcustomfields.id AND relid=tblhosting.id

currently, these are separate queries. does it make sense to combine them into single query? if yes, then why & how should one combine this? ",mysql,sql,query-optimization,whmcs,,06/21/2012 17:46:53,not a real question,1,69,14,"individual SQL select queries vs single big SQLselect query: what is better & why? I have these three separate queries,

    SELECT packageid from tblhosting where userid=1234 AND id=4351
    SELECT id FROM tblcustomfields WHERE relid =tblhosting.packageid AND fieldname ='foo'
    SELECT value FROM  `tblcustomfieldsvalues` WHERE  `fieldid` =tblcustomfields.id AND relid=tblhosting.id

currently, these are separate queries. does it make sense to combine them into single query? if yes, then why & how should one combine this? ",4
11343163,07/05/2012 11:14:18,1503757,07/05/2012 10:57:53,1,0,Coldfusion 9 losing connection to MySQL 5 database server a couple of weeks after the server is started,"We get the following Coldfusion error message after our server have been running for a couple of weeks:

> Error Executing Database Query.Could not create connection to database
> server. Attempted reconnect 3 times

We run Coldfusion Enterprise 9 on a one year old XServer with Snow Leopard and MySQL 5
The server has about ten DSN set up in the Coldfusion Administrator
All local, with default advanced settings, and host set to ""localhost""
The server is not under heavy load.

The strange thing is that after a restart of the server, everything works fine. Then after a week or so, some databases will stop working, in the sense that Coldfusion cannot create a connection to them. If I then go to the Coldfusion Administrator and click ""Verify all datasources"", I will get that only 2 or 3 got verified, the other ones failed, and it is always the same datasources that can't be verified when the server starts to behave like this if I try to verify again, BUT NOT neccessary the same datasources that couldn't be verified the last time the server behaved like this.

I know about the setting ""max_connections"" and we have included a line for that setting in the MySQL config file and set it to 2000, and when we read it by a query it says ""2000"", so that can't be the problem.

Anyone?

",mysql,coldfusion,xserver,,,07/07/2012 00:45:17,off topic,1,221,18,"Coldfusion 9 losing connection to MySQL 5 database server a couple of weeks after the server is started We get the following Coldfusion error message after our server have been running for a couple of weeks:

> Error Executing Database Query.Could not create connection to database
> server. Attempted reconnect 3 times

We run Coldfusion Enterprise 9 on a one year old XServer with Snow Leopard and MySQL 5
The server has about ten DSN set up in the Coldfusion Administrator
All local, with default advanced settings, and host set to ""localhost""
The server is not under heavy load.

The strange thing is that after a restart of the server, everything works fine. Then after a week or so, some databases will stop working, in the sense that Coldfusion cannot create a connection to them. If I then go to the Coldfusion Administrator and click ""Verify all datasources"", I will get that only 2 or 3 got verified, the other ones failed, and it is always the same datasources that can't be verified when the server starts to behave like this if I try to verify again, BUT NOT neccessary the same datasources that couldn't be verified the last time the server behaved like this.

I know about the setting ""max_connections"" and we have included a line for that setting in the MySQL config file and set it to 2000, and when we read it by a query it says ""2000"", so that can't be the problem.

Anyone?

",3
3328390,07/25/2010 07:21:59,401410,07/25/2010 07:21:59,1,0,Check whether this condition is write or wrong ,"if (7/2/10 & 3/2/10) < 4/2/10 
begin
print ' ok'
end
else
begin
print 'not ok'
end

is like this can we use if condition 
is it possible 
But here in if condition i have changed whatever the dates but it only shows answer as "" not ok ""
whether the condition is write or wrong it shows only ""not ok"" can some one help me ",mysql,,,,,07/25/2010 16:22:04,not a real question,1,59,9,"Check whether this condition is write or wrong  if (7/2/10 & 3/2/10) < 4/2/10 
begin
print ' ok'
end
else
begin
print 'not ok'
end

is like this can we use if condition 
is it possible 
But here in if condition i have changed whatever the dates but it only shows answer as "" not ok ""
whether the condition is write or wrong it shows only ""not ok"" can some one help me ",1
7904959,10/26/2011 15:25:04,1014882,10/26/2011 15:20:30,1,0,Generate general schema of a huge unknown database,"I am required to make a general schema of a huge database that I have never used.
The problem is that I do not know how/where could I start doing this because, not considering the size, I have no idea of what is each table for. I can guess some but there are the mayority of them in which generic name fields do not say anything to me.

Do you have some advice?what could I do?
There is no documentation about the database and the creators are not able to help me because they are in another company now.

Thank you very much in advanced.",mysql,phpmyadmin,,,,,open,0,101,8,"Generate general schema of a huge unknown database I am required to make a general schema of a huge database that I have never used.
The problem is that I do not know how/where could I start doing this because, not considering the size, I have no idea of what is each table for. I can guess some but there are the mayority of them in which generic name fields do not say anything to me.

Do you have some advice?what could I do?
There is no documentation about the database and the creators are not able to help me because they are in another company now.

Thank you very much in advanced.",2
7249592,08/30/2011 20:45:50,916535,08/28/2011 15:11:43,43,1,Performance... MySQL 5.5.15 vs SQL Server 2008,"Based on Heavy loads of traffic.. Some different scenario's are:
1. When 'reading' and doing simple inserts

2. When using PHP
3. When using ASP.NET MVC 3
4. When doing alot data processing (logic functionality/writing/joins)
5. On a Windows Machine

I read that MySql has a higher read ratio, but not so much at logic and writing.. I'm really confused on which is more scalable and can handle more rows without bogging down.

Thanks for any suggestions..",mysql,sql-server,,,,08/30/2011 21:16:26,not constructive,1,70,7,"Performance... MySQL 5.5.15 vs SQL Server 2008 Based on Heavy loads of traffic.. Some different scenario's are:
1. When 'reading' and doing simple inserts

2. When using PHP
3. When using ASP.NET MVC 3
4. When doing alot data processing (logic functionality/writing/joins)
5. On a Windows Machine

I read that MySql has a higher read ratio, but not so much at logic and writing.. I'm really confused on which is more scalable and can handle more rows without bogging down.

Thanks for any suggestions..",2
10140425,04/13/2012 12:01:57,1054798,11/19/2011 00:13:57,59,2,return randomised mysql function from an array?,"So I want to create a script where out of about ten mysql functions that give a user a different item, whenever the user clicks on the page, one of those functions is executed at random.
It's kind of an rpg function I need, where depending on the user's level with hunting, they are more successful, but won't always get food. So they click on the page and from an array of items, one is at random returned and that item given to them via a mysql_query.

I hope that makes sense, if not, let me know...

so far I've got these starting points

    $input = array(""value 1"", ""value 2"", ""value 3"", ""value 4"", ""value 5"");
     $rand_keys = array_rand($input, 1);
     echo $input[$rand_keys[0]] . ""\n"";

I don't know if this would allow mysql queries in the array though.
I've also thought about using a redirect thing, but the one I tried kept redirecting, which was not what i wanted, and urls can be tampered to get the good result with that...

Anyway, I hope that made sense and any help would be greatly appreciated :)",mysql,arrays,random,,,,open,0,189,7,"return randomised mysql function from an array? So I want to create a script where out of about ten mysql functions that give a user a different item, whenever the user clicks on the page, one of those functions is executed at random.
It's kind of an rpg function I need, where depending on the user's level with hunting, they are more successful, but won't always get food. So they click on the page and from an array of items, one is at random returned and that item given to them via a mysql_query.

I hope that makes sense, if not, let me know...

so far I've got these starting points

    $input = array(""value 1"", ""value 2"", ""value 3"", ""value 4"", ""value 5"");
     $rand_keys = array_rand($input, 1);
     echo $input[$rand_keys[0]] . ""\n"";

I don't know if this would allow mysql queries in the array though.
I've also thought about using a redirect thing, but the one I tried kept redirecting, which was not what i wanted, and urls can be tampered to get the good result with that...

Anyway, I hope that made sense and any help would be greatly appreciated :)",3
1248670,08/08/2009 11:51:49,143030,07/22/2009 17:14:12,535,9,Help with mysql joins,"What I am trying to do here is to show a list of status post that are posted from a users friends, then for every status post it will show all comments people have posted on that status post entry.  I am also joining in the user table so I can show a name/photo of the user who posted the status post and next to who posted the comments.

My query partially works, it gets all status post, it shows all comments under each status post.

My problem is that it is not showing all the user name/photos, any ideas?

    SELECT s.statusid, s.userid, s.statustype, s.subject, s.datetime, c.commentid, c.statusid, c.userid, c.comment, c.datetime, fru.disp_name, fru.pic_url
    FROM teststatus AS s
    LEFT JOIN teststatuscomments AS c ON s.statusid = c.statusid
    LEFT JOIN friend_reg_user AS fru ON ( fru.auto_id = s.userid
    AND fru.auto_id = c.userid ) 
    WHERE s.userid =1
    OR s.userid
    IN ( 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20 ) 
    ORDER BY s.statusid",mysql,php,,,,,open,0,199,4,"Help with mysql joins What I am trying to do here is to show a list of status post that are posted from a users friends, then for every status post it will show all comments people have posted on that status post entry.  I am also joining in the user table so I can show a name/photo of the user who posted the status post and next to who posted the comments.

My query partially works, it gets all status post, it shows all comments under each status post.

My problem is that it is not showing all the user name/photos, any ideas?

    SELECT s.statusid, s.userid, s.statustype, s.subject, s.datetime, c.commentid, c.statusid, c.userid, c.comment, c.datetime, fru.disp_name, fru.pic_url
    FROM teststatus AS s
    LEFT JOIN teststatuscomments AS c ON s.statusid = c.statusid
    LEFT JOIN friend_reg_user AS fru ON ( fru.auto_id = s.userid
    AND fru.auto_id = c.userid ) 
    WHERE s.userid =1
    OR s.userid
    IN ( 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20 ) 
    ORDER BY s.statusid",2
9748191,03/17/2012 07:31:44,114518,05/29/2009 19:36:15,439,1,Is there a better way to determine the most trusted users in a bookstore database?,"I'm building a web portal for a bookstore.

I want to allow users to mark other users as ""trusted"" or ""not-trusted"".

I want to figure out who are our stores most trusted users by ordering on their overall trust level. 

Here's an example to illustrate how this trust level is calculated:

We are going to calculate Bob's trust level...

Bob has been marked as ""trusted"" by 100 other users, and marked as ""not trusted"" by 20 users. Bob's trust level = 100 - 20 = 80.

I have the following table:

Judges(judgerLoginName: VARCHAR(45), judgedLoginName VARCHAR(45), trustLevel SMALLINT)

Now, currently I have a trustLevel of 0 representing ""not-trusted"" and 1 representing ""trusted"". 

So, I'm thinking about changing all the 0's to -1's, so I could do a simple:

    SELECT judgedLoginName, SUM(trustLevel)
    FROM Judges
    GROUP BY judgedLoginName,
    ORDER BY SUM(trustLevel) DESC

However, I would like to know if there was an equally simple means to subtract countOfNotTrusted from countOfTrusted. What do you suggest? I'm quite new to database development and would appreciate any guidance.
",mysql,sql,database,query,,,open,0,176,15,"Is there a better way to determine the most trusted users in a bookstore database? I'm building a web portal for a bookstore.

I want to allow users to mark other users as ""trusted"" or ""not-trusted"".

I want to figure out who are our stores most trusted users by ordering on their overall trust level. 

Here's an example to illustrate how this trust level is calculated:

We are going to calculate Bob's trust level...

Bob has been marked as ""trusted"" by 100 other users, and marked as ""not trusted"" by 20 users. Bob's trust level = 100 - 20 = 80.

I have the following table:

Judges(judgerLoginName: VARCHAR(45), judgedLoginName VARCHAR(45), trustLevel SMALLINT)

Now, currently I have a trustLevel of 0 representing ""not-trusted"" and 1 representing ""trusted"". 

So, I'm thinking about changing all the 0's to -1's, so I could do a simple:

    SELECT judgedLoginName, SUM(trustLevel)
    FROM Judges
    GROUP BY judgedLoginName,
    ORDER BY SUM(trustLevel) DESC

However, I would like to know if there was an equally simple means to subtract countOfNotTrusted from countOfTrusted. What do you suggest? I'm quite new to database development and would appreciate any guidance.
",4
8005586,11/04/2011 06:23:08,973286,09/30/2011 14:33:30,8,0,"One of my mysql table's icon is changed and not showing data and when click to browse , download the page","MySql Table showing Browse: VIEW (0) on mouse over and download the page when i click for browse.


",mysql,,,,,,open,0,18,21,"One of my mysql table's icon is changed and not showing data and when click to browse , download the page MySql Table showing Browse: VIEW (0) on mouse over and download the page when i click for browse.


",1
9919398,03/29/2012 05:10:23,877819,08/04/2011 03:58:29,197,24,Start querying on a certain row criteria,"I have a mysql table which columns are post_id and post_msg. Now I want to query starting from a row that has a value of 3 in its post_id column. As a result of this query all the rows starting from post_id 3 (ASC) will be the result set.
How can i do this?

     post_id | post_msg   
       1     |   heheh   
       2     |   hi   
       3     |   hello 
       4     |   hoho  
       5     |   hayhay   
       6     |   harhar

from that table i want to query starting to a row that has a post_id that its value is 3
I know to use LIMIT but my requirement is really to use the post_id for some reasons.
Is this possible?",mysql,sql,query,,,,open,0,202,7,"Start querying on a certain row criteria I have a mysql table which columns are post_id and post_msg. Now I want to query starting from a row that has a value of 3 in its post_id column. As a result of this query all the rows starting from post_id 3 (ASC) will be the result set.
How can i do this?

     post_id | post_msg   
       1     |   heheh   
       2     |   hi   
       3     |   hello 
       4     |   hoho  
       5     |   hayhay   
       6     |   harhar

from that table i want to query starting to a row that has a post_id that its value is 3
I know to use LIMIT but my requirement is really to use the post_id for some reasons.
Is this possible?",3
6120033,05/25/2011 05:48:02,333382,05/05/2010 11:42:53,395,15,Connection pooling issues in MySQL,"We are now in the testing phase of our website build on asp.net 3.5 and MySQL 5.2 as back end we are only three people testing but most of the time we are unable to test the application and get this exception

> error connecting: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.

i checked in  the work bench for number of connections running or in sleep state by ""show processlist;"" it generally shows 12-15 connections and the connection pool max limit is set to 100,  i am not getting why i am getting this exception, are the connection shown by ""SHOW PROCESSLIST;"" are different from connections in the connection pool or what can any one please help me

Thanks & regards
Mac",mysql,connection-pooling,,,,,open,0,146,5,"Connection pooling issues in MySQL We are now in the testing phase of our website build on asp.net 3.5 and MySQL 5.2 as back end we are only three people testing but most of the time we are unable to test the application and get this exception

> error connecting: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.

i checked in  the work bench for number of connections running or in sleep state by ""show processlist;"" it generally shows 12-15 connections and the connection pool max limit is set to 100,  i am not getting why i am getting this exception, are the connection shown by ""SHOW PROCESSLIST;"" are different from connections in the connection pool or what can any one please help me

Thanks & regards
Mac",2
10713402,05/23/2012 04:23:12,1365799,04/30/2012 12:18:22,27,0,Webservice with Hibernate+MySql performance,"I have Java (Axis2) webservice with Hibernate as DAL.
Using InnoDB as the MySql engine.

I have few questions ergarding the performance:
 1. usually the fetching is fast, but the time takes may vary, sometimes it takes too much time to query? 
What usually takes time to query is the following query:
 1 Webservice request to get user info - we do it on users table, doing search - ""where name like <name>. 
 1 Webservice request to get user recipes (query recipe, where r.user.userId == userId, userId is given in the webservice)
2. How to configure c3p0 connection pool to get best performance?


This taken from hibernate.cfg
  

    <property name=""connection.autoReconnect"">true</property>
      <property name=""connection.autoReconnectForPools"">true</property>
      <property name=""connection.is-connection-validation-required"">true</property>
      <property name=""hibernate.connection.zeroDateTimeBehavior"">convertToNull</property>
      <property name=""hibernate.dialect"">org.hibernate.dialect.MySQLInnoDBDialect</property>
      <property name=""hibernate.show_sql"">false</property>
      <property name=""hibernate.current_session_context_class"">thread</property>
      <property name=""hibernate.format_sql"">true</property>
      <property name=""hibernate.use_sql_comments"">true</property>
      <property name=""hibernate.query.factory_class"">org.hibernate.hql.classic.ClassicQueryTranslatorFactory</property>
      
      <property name=""hibernate.connection.provider_class"">org.hibernate.connection.C3P0ConnectionProvider</property>
      <property name=""hibernate.c3p0.min_size"">3</property>
      <property name=""hibernate.c3p0.max_size"">50</property>
      <property name=""hibernate.c3p0.timeout"">280</property>
      <property name=""hibernate.c3p0.max_statements"">50</property>
      <!-- this property forces the revalidation of a connection after the given amount of time (in secs) -->
      <!-- it must be set to LESS than the wait_timout setting for the mysql server (this setting defaults to 28800 secs (8 hours)) -->
      <property name=""hibernate.c3p0.idle_test_period"">300</property>


Following are the hbm.xml files used when calling the 2 methods...
This is user.hbm.xml:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.User"" table=""user"" catalog=""yoavDB"">
            <id name=""userid"" type=""java.lang.Integer"">
                <column name=""userid"" />
                <generator class=""identity"" />
            </id>
            <property name=""birthdate"" type=""string"">
                <column name=""birthdate"" length=""50"" not-null=""true"" />
            </property>
            <property name=""password"" type=""string"">
                <column name=""password"" length=""100"" not-null=""true"" />
            </property>
            <property name=""firstname"" type=""string"">
                <column name=""firstname"" length=""50"" not-null=""true"" />
            </property>
            <property name=""lastname"" type=""string"">
                <column name=""lastname"" length=""50"" not-null=""true"" />
            </property>
            <property name=""country"" type=""string"">
                <column name=""country"" length=""100"" not-null=""true"" />
            </property>
            <property name=""email"" type=""string"">
                <column name=""email"" length=""100"" not-null=""true"" />
            </property>
            <property name=""numOfRecipes"" type=""int"">
                <column name=""numOfRecipes"" not-null=""true"" />
            </property>
            <property name=""picUrl"" type=""string"">
                <column name=""picUrl"" length=""200"" />
            </property>
            <property name=""rate"" type=""float"">
                <column name=""rate"" precision=""12"" scale=""0"" not-null=""true"" />
            </property>
            <property name=""fewWords"" type=""string"">
                <column name=""fewWords"" length=""200"" not-null=""true"" />
            </property>
            <property name=""whatscooking"" type=""string"">
                <column name=""whatscooking"" length=""45"" not-null=""true"" />
            </property>
            <set name=""usermessagesesForSenderUserId"" table=""usermessages"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""senderUserId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Usermessages"" />
            </set>
            <set name=""usermessagesesForUserId"" table=""usermessages"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Usermessages"" />
            </set>
            <set name=""timelines"" table=""timeline"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Timeline"" />
            </set>
            <set name=""generaltipses"" table=""generaltips"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""authorid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Generaltips"" />
            </set>
            <set name=""userlastvisitsForVisitedUserId"" table=""userlastvisit"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""visitedUserId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlastvisit"" />
            </set>
            <set name=""recipes"" table=""recipe"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""ownerid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipe"" />
            </set>
            <set name=""userlikeses"" table=""userlikes"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlikes"" />
            </set>
            <set name=""friendshiptablesForUserBId"" table=""friendshiptable"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userB_Id"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Friendshiptable"" />
            </set>
            <set name=""usersForFavUserId"" table=""userfavchefsync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <many-to-many entity-name=""com.icdb.data.User"">
                    <column name=""favUserId"" not-null=""true"" />
                </many-to-many>
            </set>
            <set name=""friendshiptablesForUserAId"" table=""friendshiptable"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userA_Id"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Friendshiptable"" />
            </set>
            <set name=""usersForUserId"" table=""userfavchefsync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""favUserId"" not-null=""true"" />
                </key>
                <many-to-many entity-name=""com.icdb.data.User"">
                    <column name=""userId"" not-null=""true"" />
                </many-to-many>
            </set>
            <set name=""activitylogsForObjectUserId"" table=""activitylog"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""objectUserId"" />
                </key>
                <one-to-many class=""com.icdb.data.Activitylog"" />
            </set>
            <set name=""userlastvisitsForGuestUserId"" table=""userlastvisit"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""guestUserId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlastvisit"" />
            </set>
            <set name=""userrecipessyncs"" table=""userrecipessync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userrecipessync"" />
            </set>
            <set name=""activitylogsForUserId"" table=""activitylog"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Activitylog"" />
            </set>
            <set name=""recipereviews"" table=""recipereview"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""reviewerid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipereview"" />
            </set>
        </class>
    </hibernate-mapping>


This is recipe.hbm.xml:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.Recipe"" table=""recipe"" catalog=""yoavDB"">
            <id name=""recipeid"" type=""java.lang.Integer"">
                <column name=""recipeid"" />
                <generator class=""identity"" />
            </id>
            <many-to-one name=""user"" class=""com.icdb.data.User"" fetch=""select"">
                <column name=""ownerid"" not-null=""true"" />
            </many-to-one>
            <property name=""releasedate"" type=""timestamp"">
                <column name=""releasedate"" length=""19"" not-null=""true"" />
            </property>
            <property name=""preparationtime"" type=""int"">
                <column name=""preparationtime"" not-null=""true"" />
            </property>
            <property name=""recipedifficulty"" type=""int"">
                <column name=""recipedifficulty"" not-null=""true"" />
            </property>
            <property name=""name"" type=""string"">
                <column name=""name"" length=""50"" not-null=""true"" unique=""true"" />
            </property>
            <property name=""description"" type=""string"">
                <column name=""description"" length=""200"" />
            </property>
            <property name=""lastupdated"" type=""timestamp"">
                <column name=""lastupdated"" length=""19"" not-null=""true"" />
            </property>
            <property name=""servecount"" type=""java.lang.Integer"">
                <column name=""servecount"" />
            </property>
            <property name=""complete"" type=""boolean"">
                <column name=""complete"" not-null=""true"" />
            </property>
            <property name=""category"" type=""int"">
                <column name=""category"" not-null=""true"" />
            </property>
            <property name=""numOfViews"" type=""int"">
                <column name=""numOfViews"" not-null=""true"" />
            </property>
            <property name=""indexOfRecipeOfUser"" type=""int"">
                <column name=""indexOfRecipeOfUser"" not-null=""true"" />
            </property>
            <property name=""picUrl"" type=""string"">
                <column name=""picUrl"" length=""200"" />
            </property>
            <property name=""numOfLikes"" type=""int"">
                <column name=""numOfLikes"" not-null=""true"" />
            </property>
            <property name=""calculatedRate"" type=""float"">
                <column name=""calculatedRate"" precision=""12"" scale=""0"" not-null=""true"" />
            </property>
            <set name=""userlastvisits"" table=""userlastvisit"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""lastViewedRecipeId"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlastvisit"" />
            </set>
            <set name=""recipeingredients"" table=""recipeingredient"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipeingredient"" />
            </set>
            <set name=""recipereviews"" table=""recipereview"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipereview"" />
            </set>
            <set name=""userlikeses"" table=""userlikes"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlikes"" />
            </set>
            <set name=""activitylogs"" table=""activitylog"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""objectRecipeId"" />
                </key>
                <one-to-many class=""com.icdb.data.Activitylog"" />
            </set>
            <set name=""userrecipessyncs"" table=""userrecipessync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userrecipessync"" />
            </set>
            <set name=""recipeinstructions"" table=""recipeinstruction"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipeinstruction"" />
            </set>
        </class>
    </hibernate-mapping>

friendship table:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.Friendshiptable"" table=""friendshiptable"" catalog=""yoavDB"">
            <composite-id name=""id"" class=""com.icdb.data.FriendshiptableId"">
                <key-property name=""userAId"" type=""int"">
                    <column name=""userA_Id"" />
                </key-property>
                <key-property name=""userBId"" type=""int"">
                    <column name=""userB_Id"" />
                </key-property>
            </composite-id>
            <many-to-one name=""userByUserAId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""userA_Id"" not-null=""true"" />
            </many-to-one>
            <many-to-one name=""userByUserBId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""userB_Id"" not-null=""true"" />
            </many-to-one>
            <property name=""status"" type=""short"">
                <column name=""status"" not-null=""true"" />
            </property>
            <property name=""statusLastChangedDate"" type=""date"">
                <column name=""statusLastChangedDate"" length=""10"" not-null=""true"" />
            </property>
        </class>
    </hibernate-mapping>

LastVisit:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.Userlastvisit"" table=""userlastvisit"" catalog=""yoavDB"">
            <composite-id name=""id"" class=""com.icdb.data.UserlastvisitId"">
                <key-property name=""guestUserId"" type=""int"">
                    <column name=""guestUserId"" />
                </key-property>
                <key-property name=""visitedUserId"" type=""int"">
                    <column name=""visitedUserId"" />
                </key-property>
            </composite-id>
            <many-to-one name=""userByVisitedUserId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""visitedUserId"" not-null=""true"" />
            </many-to-one>
            <many-to-one name=""userByGuestUserId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""guestUserId"" not-null=""true"" />
            </many-to-one>
            <many-to-one name=""recipe"" class=""com.icdb.data.Recipe"" fetch=""select"">
                <column name=""lastViewedRecipeId"" />
            </many-to-one>
            <property name=""lastVisitTimeStamp"" type=""timestamp"">
                <column name=""lastVisitTimeStamp"" length=""19"" not-null=""true"" />
            </property>
        </class>
    </hibernate-mapping>

Java code to fetch userInfo:

	public String[] getUserInfo( 	int visitingUserId,
									int visitedUserId )
	{
		Session session = ICDBHibernateUtil.getSessionFactory().getCurrentSession();
		try
		{
			session.beginTransaction();
		
			User 				user 	= (User) session.get(User.class, visitedUserId);
			ArrayList<String> 	ret 	= new ArrayList<String>();
	
			// Username
			ret.add( user.getFirstname() + "" "" + user.getLastname() );

			// Few words
			ret.add( user.getFewWords() );
			
			// Num of recipes
			ret.add( Integer.toString( user.getNumOfRecipes() ) );
			
			// Calculated Rank
			ret.add( Float.toString( user.getRate() ) );
			
			// Pic url
			ret.add( user.getPicUrl() );
			
			FriendshiptableId 	id = new FriendshiptableId( visitingUserId, visitedUserId );
			Friendshiptable 	ft = (Friendshiptable)session.get( Friendshiptable.class, id );
			if( ft == null )
			{
				id = new FriendshiptableId( visitedUserId, visitingUserId );
				ft = (Friendshiptable)session.get( Friendshiptable.class, id );
				if( ft == null )
				{
					ret.add( ""none"" );
				}
				else
				{
					FriendshipRequestStatusEnum status = FriendshipRequestStatusEnum.values()[ ft.getStatus() ];
					switch( status )
					{
						case PENDING:
							ret.add( ""pending"" );
							break;
							
						case ACCEPTED:
							ret.add( ""accepted"" );
							break;
							
						case DECLINED:
							ret.add( ""declined"" );
							break;
					}
				}
			}
			else
			{
				FriendshipRequestStatusEnum status = FriendshipRequestStatusEnum.values()[ ft.getStatus() ];
				switch( status )
				{
					case PENDING:
						ret.add( ""pending"" );
						break;
						
					case ACCEPTED:
						ret.add( ""accepted"" );
						break;
						
					case DECLINED:
						ret.add( ""declined"" );
						break;
				}
			}
			
			if( visitingUserId != -1 )
			{
				// Has new stuff....
				UserlastvisitId ulvId 	= new UserlastvisitId( visitingUserId, visitedUserId );
				Userlastvisit	ulv		= (Userlastvisit) session.get( Userlastvisit.class, ulvId );
				if( ulv == null )
				{
					// Lets add a new entry
					User visitingUser 	= (User) session.load( User.class, visitingUserId );
					User visitedUser 	= (User) session.load( User.class, visitedUserId );
					
					ulv = new Userlastvisit(	ulvId, 
												visitingUser, 
												visitedUser, 
												new Date() );
					session.save( ulv );
					
					ret.add( ""true"" );
				}
				else
				{
					List<?> loginResult= session.createQuery(""from Recipe r where r.lastupdated >= :lastVisited"" )
							.setDate( ""lastVisited"", ulv.getLastVisitTimeStamp() )
							.list();
					if( loginResult.size() > 0 )
					{
						ret.add( ""true"" );
					}
					else
					{
						ret.add( ""false"" );
					}
		
					// We need to update the last visit time...
					ulv.setLastVisitTimeStamp( new Date() );
					session.save( ulv );
				}
			}
			
			session.getTransaction().commit();
			
			String[] retStr = new String[ret.size()];
			ret.toArray( retStr );
			
			return retStr;
		}
		catch( RuntimeException e )
		{
			ICDBHibernateUtil.getSessionFactory().getCurrentSession().getTransaction().rollback();
			throw e;
		}
	}

getuserRecipes method:
	

    public String[] getUserRecipesNew( 	int		visitingUserId,
    										int 	userId, 	
    										int   	pageNumber )
    	{
    		final int 		PAGE_SIZE 	= 20;
    
    		Session session = ICDBHibernateUtil.getSessionFactory().getCurrentSession();
    		try
    		{
    			session.beginTransaction();
    
    			String hql = ""from Recipe r where r.user.userid= :userid"";
    	
    			Query query = session.createQuery( hql )
    								.setInteger(	""userid"", 		userId );
    	 
    			query = query.setFirstResult( PAGE_SIZE * (pageNumber - 1) );
    		    query.setMaxResults( PAGE_SIZE );
    			
    		    List<?> recipes = query.list();
    
    		    ArrayList<String> ret = new ArrayList<String>();
    		    if( recipes.size() == PAGE_SIZE )
    		    {
    		    	// Indicates that might be more results
    		    	ret.add( ""true"" );
    		    }
    		    else
    		    {
    		    	// No more results
    		    	ret.add( ""false"" );
    		    }
    	
    		    DateFormat df = new SimpleDateFormat(""MM/dd/yyyy"");
    		    
    		    // Format the Recipes into string
    			for( int i = 0; i < recipes.size(); i++ )
    			{
    				UserlikesId		userLikeId	= new UserlikesId( userId, ((Recipe)recipes.get(i)).getRecipeid() );
    				Userlikes		userLike	= (Userlikes) session.get( Userlikes.class, userLikeId );
    
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getRecipeid() ) );
    				ret.add( ((Recipe)recipes.get(i)).getName() );
    				ret.add( ((Recipe)recipes.get(i)).getDescription() );
    				ret.add( ((Recipe)recipes.get(i)).getUser().getFirstname() + ((Recipe)recipes.get(i)).getUser().getLastname() );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getRecipedifficulty() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getServecount() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getPreparationtime() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getUser().getUserid() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getNumOfViews() ) );
    				ret.add( df.format( ((Recipe)recipes.get(i)).getReleasedate() ) );
    				ret.add( (((Recipe)recipes.get(i)).getPicUrl() == null) ? """" : ((Recipe)recipes.get(i)).getPicUrl() );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getCategory() ) );
    				ret.add( (userLike==null)?""0"":(userLike.isIsLike()?""1"":""0"") );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getNumOfLikes() ) );
    			}
    			 
    			session.getTransaction().commit();
    			
    			String[] retStr = new String[ret.size()];
    			ret.toArray( retStr );
    			
    			return retStr;
    		}
    		catch( RuntimeException e )
    		{
    			ICDBHibernateUtil.getSessionFactory().getCurrentSession().getTransaction().rollback();
    			throw e;
    		}
    	}


Is everything written OK? 
How should tune it to better performance?",mysql,performance,web-services,hibernate,,05/23/2012 08:29:29,not a real question,1,5630,4,"Webservice with Hibernate+MySql performance I have Java (Axis2) webservice with Hibernate as DAL.
Using InnoDB as the MySql engine.

I have few questions ergarding the performance:
 1. usually the fetching is fast, but the time takes may vary, sometimes it takes too much time to query? 
What usually takes time to query is the following query:
 1 Webservice request to get user info - we do it on users table, doing search - ""where name like <name>. 
 1 Webservice request to get user recipes (query recipe, where r.user.userId == userId, userId is given in the webservice)
2. How to configure c3p0 connection pool to get best performance?


This taken from hibernate.cfg
  

    <property name=""connection.autoReconnect"">true</property>
      <property name=""connection.autoReconnectForPools"">true</property>
      <property name=""connection.is-connection-validation-required"">true</property>
      <property name=""hibernate.connection.zeroDateTimeBehavior"">convertToNull</property>
      <property name=""hibernate.dialect"">org.hibernate.dialect.MySQLInnoDBDialect</property>
      <property name=""hibernate.show_sql"">false</property>
      <property name=""hibernate.current_session_context_class"">thread</property>
      <property name=""hibernate.format_sql"">true</property>
      <property name=""hibernate.use_sql_comments"">true</property>
      <property name=""hibernate.query.factory_class"">org.hibernate.hql.classic.ClassicQueryTranslatorFactory</property>
      
      <property name=""hibernate.connection.provider_class"">org.hibernate.connection.C3P0ConnectionProvider</property>
      <property name=""hibernate.c3p0.min_size"">3</property>
      <property name=""hibernate.c3p0.max_size"">50</property>
      <property name=""hibernate.c3p0.timeout"">280</property>
      <property name=""hibernate.c3p0.max_statements"">50</property>
      <!-- this property forces the revalidation of a connection after the given amount of time (in secs) -->
      <!-- it must be set to LESS than the wait_timout setting for the mysql server (this setting defaults to 28800 secs (8 hours)) -->
      <property name=""hibernate.c3p0.idle_test_period"">300</property>


Following are the hbm.xml files used when calling the 2 methods...
This is user.hbm.xml:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.User"" table=""user"" catalog=""yoavDB"">
            <id name=""userid"" type=""java.lang.Integer"">
                <column name=""userid"" />
                <generator class=""identity"" />
            </id>
            <property name=""birthdate"" type=""string"">
                <column name=""birthdate"" length=""50"" not-null=""true"" />
            </property>
            <property name=""password"" type=""string"">
                <column name=""password"" length=""100"" not-null=""true"" />
            </property>
            <property name=""firstname"" type=""string"">
                <column name=""firstname"" length=""50"" not-null=""true"" />
            </property>
            <property name=""lastname"" type=""string"">
                <column name=""lastname"" length=""50"" not-null=""true"" />
            </property>
            <property name=""country"" type=""string"">
                <column name=""country"" length=""100"" not-null=""true"" />
            </property>
            <property name=""email"" type=""string"">
                <column name=""email"" length=""100"" not-null=""true"" />
            </property>
            <property name=""numOfRecipes"" type=""int"">
                <column name=""numOfRecipes"" not-null=""true"" />
            </property>
            <property name=""picUrl"" type=""string"">
                <column name=""picUrl"" length=""200"" />
            </property>
            <property name=""rate"" type=""float"">
                <column name=""rate"" precision=""12"" scale=""0"" not-null=""true"" />
            </property>
            <property name=""fewWords"" type=""string"">
                <column name=""fewWords"" length=""200"" not-null=""true"" />
            </property>
            <property name=""whatscooking"" type=""string"">
                <column name=""whatscooking"" length=""45"" not-null=""true"" />
            </property>
            <set name=""usermessagesesForSenderUserId"" table=""usermessages"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""senderUserId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Usermessages"" />
            </set>
            <set name=""usermessagesesForUserId"" table=""usermessages"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Usermessages"" />
            </set>
            <set name=""timelines"" table=""timeline"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Timeline"" />
            </set>
            <set name=""generaltipses"" table=""generaltips"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""authorid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Generaltips"" />
            </set>
            <set name=""userlastvisitsForVisitedUserId"" table=""userlastvisit"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""visitedUserId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlastvisit"" />
            </set>
            <set name=""recipes"" table=""recipe"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""ownerid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipe"" />
            </set>
            <set name=""userlikeses"" table=""userlikes"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlikes"" />
            </set>
            <set name=""friendshiptablesForUserBId"" table=""friendshiptable"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userB_Id"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Friendshiptable"" />
            </set>
            <set name=""usersForFavUserId"" table=""userfavchefsync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <many-to-many entity-name=""com.icdb.data.User"">
                    <column name=""favUserId"" not-null=""true"" />
                </many-to-many>
            </set>
            <set name=""friendshiptablesForUserAId"" table=""friendshiptable"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userA_Id"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Friendshiptable"" />
            </set>
            <set name=""usersForUserId"" table=""userfavchefsync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""favUserId"" not-null=""true"" />
                </key>
                <many-to-many entity-name=""com.icdb.data.User"">
                    <column name=""userId"" not-null=""true"" />
                </many-to-many>
            </set>
            <set name=""activitylogsForObjectUserId"" table=""activitylog"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""objectUserId"" />
                </key>
                <one-to-many class=""com.icdb.data.Activitylog"" />
            </set>
            <set name=""userlastvisitsForGuestUserId"" table=""userlastvisit"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""guestUserId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlastvisit"" />
            </set>
            <set name=""userrecipessyncs"" table=""userrecipessync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userrecipessync"" />
            </set>
            <set name=""activitylogsForUserId"" table=""activitylog"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""userId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Activitylog"" />
            </set>
            <set name=""recipereviews"" table=""recipereview"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""reviewerid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipereview"" />
            </set>
        </class>
    </hibernate-mapping>


This is recipe.hbm.xml:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.Recipe"" table=""recipe"" catalog=""yoavDB"">
            <id name=""recipeid"" type=""java.lang.Integer"">
                <column name=""recipeid"" />
                <generator class=""identity"" />
            </id>
            <many-to-one name=""user"" class=""com.icdb.data.User"" fetch=""select"">
                <column name=""ownerid"" not-null=""true"" />
            </many-to-one>
            <property name=""releasedate"" type=""timestamp"">
                <column name=""releasedate"" length=""19"" not-null=""true"" />
            </property>
            <property name=""preparationtime"" type=""int"">
                <column name=""preparationtime"" not-null=""true"" />
            </property>
            <property name=""recipedifficulty"" type=""int"">
                <column name=""recipedifficulty"" not-null=""true"" />
            </property>
            <property name=""name"" type=""string"">
                <column name=""name"" length=""50"" not-null=""true"" unique=""true"" />
            </property>
            <property name=""description"" type=""string"">
                <column name=""description"" length=""200"" />
            </property>
            <property name=""lastupdated"" type=""timestamp"">
                <column name=""lastupdated"" length=""19"" not-null=""true"" />
            </property>
            <property name=""servecount"" type=""java.lang.Integer"">
                <column name=""servecount"" />
            </property>
            <property name=""complete"" type=""boolean"">
                <column name=""complete"" not-null=""true"" />
            </property>
            <property name=""category"" type=""int"">
                <column name=""category"" not-null=""true"" />
            </property>
            <property name=""numOfViews"" type=""int"">
                <column name=""numOfViews"" not-null=""true"" />
            </property>
            <property name=""indexOfRecipeOfUser"" type=""int"">
                <column name=""indexOfRecipeOfUser"" not-null=""true"" />
            </property>
            <property name=""picUrl"" type=""string"">
                <column name=""picUrl"" length=""200"" />
            </property>
            <property name=""numOfLikes"" type=""int"">
                <column name=""numOfLikes"" not-null=""true"" />
            </property>
            <property name=""calculatedRate"" type=""float"">
                <column name=""calculatedRate"" precision=""12"" scale=""0"" not-null=""true"" />
            </property>
            <set name=""userlastvisits"" table=""userlastvisit"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""lastViewedRecipeId"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlastvisit"" />
            </set>
            <set name=""recipeingredients"" table=""recipeingredient"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipeingredient"" />
            </set>
            <set name=""recipereviews"" table=""recipereview"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipereview"" />
            </set>
            <set name=""userlikeses"" table=""userlikes"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userlikes"" />
            </set>
            <set name=""activitylogs"" table=""activitylog"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""objectRecipeId"" />
                </key>
                <one-to-many class=""com.icdb.data.Activitylog"" />
            </set>
            <set name=""userrecipessyncs"" table=""userrecipessync"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeId"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Userrecipessync"" />
            </set>
            <set name=""recipeinstructions"" table=""recipeinstruction"" inverse=""true"" lazy=""true"" fetch=""select"">
                <key>
                    <column name=""recipeid"" not-null=""true"" />
                </key>
                <one-to-many class=""com.icdb.data.Recipeinstruction"" />
            </set>
        </class>
    </hibernate-mapping>

friendship table:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.Friendshiptable"" table=""friendshiptable"" catalog=""yoavDB"">
            <composite-id name=""id"" class=""com.icdb.data.FriendshiptableId"">
                <key-property name=""userAId"" type=""int"">
                    <column name=""userA_Id"" />
                </key-property>
                <key-property name=""userBId"" type=""int"">
                    <column name=""userB_Id"" />
                </key-property>
            </composite-id>
            <many-to-one name=""userByUserAId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""userA_Id"" not-null=""true"" />
            </many-to-one>
            <many-to-one name=""userByUserBId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""userB_Id"" not-null=""true"" />
            </many-to-one>
            <property name=""status"" type=""short"">
                <column name=""status"" not-null=""true"" />
            </property>
            <property name=""statusLastChangedDate"" type=""date"">
                <column name=""statusLastChangedDate"" length=""10"" not-null=""true"" />
            </property>
        </class>
    </hibernate-mapping>

LastVisit:

    <?xml version=""1.0""?>
    <!DOCTYPE hibernate-mapping PUBLIC ""-//Hibernate/Hibernate Mapping DTD 3.0//EN""
    ""http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"">
    <!-- Generated 21:48:14 27/03/2012 by Hibernate Tools 3.4.0.CR1 -->
    <hibernate-mapping>
        <class name=""com.icdb.data.Userlastvisit"" table=""userlastvisit"" catalog=""yoavDB"">
            <composite-id name=""id"" class=""com.icdb.data.UserlastvisitId"">
                <key-property name=""guestUserId"" type=""int"">
                    <column name=""guestUserId"" />
                </key-property>
                <key-property name=""visitedUserId"" type=""int"">
                    <column name=""visitedUserId"" />
                </key-property>
            </composite-id>
            <many-to-one name=""userByVisitedUserId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""visitedUserId"" not-null=""true"" />
            </many-to-one>
            <many-to-one name=""userByGuestUserId"" class=""com.icdb.data.User"" update=""false"" insert=""false"" fetch=""select"">
                <column name=""guestUserId"" not-null=""true"" />
            </many-to-one>
            <many-to-one name=""recipe"" class=""com.icdb.data.Recipe"" fetch=""select"">
                <column name=""lastViewedRecipeId"" />
            </many-to-one>
            <property name=""lastVisitTimeStamp"" type=""timestamp"">
                <column name=""lastVisitTimeStamp"" length=""19"" not-null=""true"" />
            </property>
        </class>
    </hibernate-mapping>

Java code to fetch userInfo:

	public String[] getUserInfo( 	int visitingUserId,
									int visitedUserId )
	{
		Session session = ICDBHibernateUtil.getSessionFactory().getCurrentSession();
		try
		{
			session.beginTransaction();
		
			User 				user 	= (User) session.get(User.class, visitedUserId);
			ArrayList<String> 	ret 	= new ArrayList<String>();
	
			// Username
			ret.add( user.getFirstname() + "" "" + user.getLastname() );

			// Few words
			ret.add( user.getFewWords() );
			
			// Num of recipes
			ret.add( Integer.toString( user.getNumOfRecipes() ) );
			
			// Calculated Rank
			ret.add( Float.toString( user.getRate() ) );
			
			// Pic url
			ret.add( user.getPicUrl() );
			
			FriendshiptableId 	id = new FriendshiptableId( visitingUserId, visitedUserId );
			Friendshiptable 	ft = (Friendshiptable)session.get( Friendshiptable.class, id );
			if( ft == null )
			{
				id = new FriendshiptableId( visitedUserId, visitingUserId );
				ft = (Friendshiptable)session.get( Friendshiptable.class, id );
				if( ft == null )
				{
					ret.add( ""none"" );
				}
				else
				{
					FriendshipRequestStatusEnum status = FriendshipRequestStatusEnum.values()[ ft.getStatus() ];
					switch( status )
					{
						case PENDING:
							ret.add( ""pending"" );
							break;
							
						case ACCEPTED:
							ret.add( ""accepted"" );
							break;
							
						case DECLINED:
							ret.add( ""declined"" );
							break;
					}
				}
			}
			else
			{
				FriendshipRequestStatusEnum status = FriendshipRequestStatusEnum.values()[ ft.getStatus() ];
				switch( status )
				{
					case PENDING:
						ret.add( ""pending"" );
						break;
						
					case ACCEPTED:
						ret.add( ""accepted"" );
						break;
						
					case DECLINED:
						ret.add( ""declined"" );
						break;
				}
			}
			
			if( visitingUserId != -1 )
			{
				// Has new stuff....
				UserlastvisitId ulvId 	= new UserlastvisitId( visitingUserId, visitedUserId );
				Userlastvisit	ulv		= (Userlastvisit) session.get( Userlastvisit.class, ulvId );
				if( ulv == null )
				{
					// Lets add a new entry
					User visitingUser 	= (User) session.load( User.class, visitingUserId );
					User visitedUser 	= (User) session.load( User.class, visitedUserId );
					
					ulv = new Userlastvisit(	ulvId, 
												visitingUser, 
												visitedUser, 
												new Date() );
					session.save( ulv );
					
					ret.add( ""true"" );
				}
				else
				{
					List<?> loginResult= session.createQuery(""from Recipe r where r.lastupdated >= :lastVisited"" )
							.setDate( ""lastVisited"", ulv.getLastVisitTimeStamp() )
							.list();
					if( loginResult.size() > 0 )
					{
						ret.add( ""true"" );
					}
					else
					{
						ret.add( ""false"" );
					}
		
					// We need to update the last visit time...
					ulv.setLastVisitTimeStamp( new Date() );
					session.save( ulv );
				}
			}
			
			session.getTransaction().commit();
			
			String[] retStr = new String[ret.size()];
			ret.toArray( retStr );
			
			return retStr;
		}
		catch( RuntimeException e )
		{
			ICDBHibernateUtil.getSessionFactory().getCurrentSession().getTransaction().rollback();
			throw e;
		}
	}

getuserRecipes method:
	

    public String[] getUserRecipesNew( 	int		visitingUserId,
    										int 	userId, 	
    										int   	pageNumber )
    	{
    		final int 		PAGE_SIZE 	= 20;
    
    		Session session = ICDBHibernateUtil.getSessionFactory().getCurrentSession();
    		try
    		{
    			session.beginTransaction();
    
    			String hql = ""from Recipe r where r.user.userid= :userid"";
    	
    			Query query = session.createQuery( hql )
    								.setInteger(	""userid"", 		userId );
    	 
    			query = query.setFirstResult( PAGE_SIZE * (pageNumber - 1) );
    		    query.setMaxResults( PAGE_SIZE );
    			
    		    List<?> recipes = query.list();
    
    		    ArrayList<String> ret = new ArrayList<String>();
    		    if( recipes.size() == PAGE_SIZE )
    		    {
    		    	// Indicates that might be more results
    		    	ret.add( ""true"" );
    		    }
    		    else
    		    {
    		    	// No more results
    		    	ret.add( ""false"" );
    		    }
    	
    		    DateFormat df = new SimpleDateFormat(""MM/dd/yyyy"");
    		    
    		    // Format the Recipes into string
    			for( int i = 0; i < recipes.size(); i++ )
    			{
    				UserlikesId		userLikeId	= new UserlikesId( userId, ((Recipe)recipes.get(i)).getRecipeid() );
    				Userlikes		userLike	= (Userlikes) session.get( Userlikes.class, userLikeId );
    
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getRecipeid() ) );
    				ret.add( ((Recipe)recipes.get(i)).getName() );
    				ret.add( ((Recipe)recipes.get(i)).getDescription() );
    				ret.add( ((Recipe)recipes.get(i)).getUser().getFirstname() + ((Recipe)recipes.get(i)).getUser().getLastname() );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getRecipedifficulty() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getServecount() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getPreparationtime() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getUser().getUserid() ) );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getNumOfViews() ) );
    				ret.add( df.format( ((Recipe)recipes.get(i)).getReleasedate() ) );
    				ret.add( (((Recipe)recipes.get(i)).getPicUrl() == null) ? """" : ((Recipe)recipes.get(i)).getPicUrl() );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getCategory() ) );
    				ret.add( (userLike==null)?""0"":(userLike.isIsLike()?""1"":""0"") );
    				ret.add( Integer.toString( ((Recipe)recipes.get(i)).getNumOfLikes() ) );
    			}
    			 
    			session.getTransaction().commit();
    			
    			String[] retStr = new String[ret.size()];
    			ret.toArray( retStr );
    			
    			return retStr;
    		}
    		catch( RuntimeException e )
    		{
    			ICDBHibernateUtil.getSessionFactory().getCurrentSession().getTransaction().rollback();
    			throw e;
    		}
    	}


Is everything written OK? 
How should tune it to better performance?",4
6156904,05/27/2011 19:35:58,565877,01/06/2011 18:19:05,39,5,simple mySQL query!,"Is there anything wrong with this query?

    SELECT hc.hmu_post, fl.name, hc.timesent, hc.uid
    FROM friends_list fl, hmu_comment hc, uid_$uid u
    WHERE (u.uid = fl.uid AND fl.uid = hc.uid AND u.vis= '1')
    ORDER BY hc.timesent DESC

I checked the database via phpMyAdmin and all the values look right and don't have misspelled anything. I checked $uid, it's valid and the table exists. As of now I have that hard-coded.",mysql,sql,mysql-logic,,,05/27/2011 20:03:51,not a real question,1,78,3,"simple mySQL query! Is there anything wrong with this query?

    SELECT hc.hmu_post, fl.name, hc.timesent, hc.uid
    FROM friends_list fl, hmu_comment hc, uid_$uid u
    WHERE (u.uid = fl.uid AND fl.uid = hc.uid AND u.vis= '1')
    ORDER BY hc.timesent DESC

I checked the database via phpMyAdmin and all the values look right and don't have misspelled anything. I checked $uid, it's valid and the table exists. As of now I have that hard-coded.",3
10864889,06/02/2012 18:32:18,1064748,11/24/2011 22:54:45,99,0,Best database and hardware to choose for this use case,"I will have a one table database of users with uuids, age, gender, family income and 12 such fields. About 40 - 50 million of them. I would need to query based on age range, income range etc. and get the list of uuid's out. Each row should be around 400 characters if concatenated. Multiplying 400 bytes by 50Mil gets arond 17 - 18 GB Approx. It will grow but slowly.

Which will be the best database system to hold this data and execute fast queries. Mongo or MySQL ? Also what kind of hardware should be best to keep.

Also, can someone tell query time mySQL or Mongo will take based on experience. I need to design architecture of some other components of the entire system based on this.",mysql,database,mongodb,nosql,bigdata,06/02/2012 19:22:51,off topic,1,128,10,"Best database and hardware to choose for this use case I will have a one table database of users with uuids, age, gender, family income and 12 such fields. About 40 - 50 million of them. I would need to query based on age range, income range etc. and get the list of uuid's out. Each row should be around 400 characters if concatenated. Multiplying 400 bytes by 50Mil gets arond 17 - 18 GB Approx. It will grow but slowly.

Which will be the best database system to hold this data and execute fast queries. Mongo or MySQL ? Also what kind of hardware should be best to keep.

Also, can someone tell query time mySQL or Mongo will take based on experience. I need to design architecture of some other components of the entire system based on this.",5
2678044,04/20/2010 19:33:26,48465,12/22/2008 20:24:42,4554,146,How to refactor this MySQL code?,"    SELECT *
    (
        SELECT *
        FROM `table1`
        WHERE `id` NOT IN (
            SELECT `id` FROM `table2`
            WHERE `col4` = 5
        )
        group by `col2` having sum(`col3`) > 0
    UNION
        SELECT *
        FROM `table1`
        WHERE `id` NOT IN (
            SELECT `id` FROM `table2`
            WHERE `col4` = 5
        )
        group by `col2` having sum(`col3`) = 0
    ) t1;

For readability and performance reasons, I think this code could be refactored. But how?",mysql,refactoring,,,,,open,0,196,6,"How to refactor this MySQL code?     SELECT *
    (
        SELECT *
        FROM `table1`
        WHERE `id` NOT IN (
            SELECT `id` FROM `table2`
            WHERE `col4` = 5
        )
        group by `col2` having sum(`col3`) > 0
    UNION
        SELECT *
        FROM `table1`
        WHERE `id` NOT IN (
            SELECT `id` FROM `table2`
            WHERE `col4` = 5
        )
        group by `col2` having sum(`col3`) = 0
    ) t1;

For readability and performance reasons, I think this code could be refactored. But how?",2
9284991,02/14/2012 22:13:51,865475,07/27/2011 13:24:05,432,9,How to execute sum(a)/sum(b) query in MSSQL?,"How to execute `sum(a)/sum(b)` query in MSSQL?

I have subquery with `a = sum(...)` and `b = count(...)`. I need to calculate `avg(all)` for all records from subquery in the main query. It's `avg(all) = sum(a)/sum(b)`. But MSSQL doesn't permit this expression. How to calculate it? The count of records in the main query can't be changed.

Thanks a lot for the help!",mysql,sql,sql-server,oracle,query,02/15/2012 02:59:05,too localized,1,61,7,"How to execute sum(a)/sum(b) query in MSSQL? How to execute `sum(a)/sum(b)` query in MSSQL?

I have subquery with `a = sum(...)` and `b = count(...)`. I need to calculate `avg(all)` for all records from subquery in the main query. It's `avg(all) = sum(a)/sum(b)`. But MSSQL doesn't permit this expression. How to calculate it? The count of records in the main query can't be changed.

Thanks a lot for the help!",5
8294511,11/28/2011 10:31:56,1069144,11/28/2011 10:26:37,1,0,Mysql update triggger,"CREATE TRIGGER serieTrigger
AFTER UPDATE ON a
FOR EACH ROW
BEGIN
IF(NEW.homegoal>NEW.awaygoal) THEN
INSERT INTO b SET action = 'update',hometeam=OLD.paramB,games=(games+1),won=(won+1),points=(points+2);
END IF;
END;

What's the problem? ",mysql,triggers,,,,11/28/2011 11:49:42,not a real question,1,19,3,"Mysql update triggger CREATE TRIGGER serieTrigger
AFTER UPDATE ON a
FOR EACH ROW
BEGIN
IF(NEW.homegoal>NEW.awaygoal) THEN
INSERT INTO b SET action = 'update',hometeam=OLD.paramB,games=(games+1),won=(won+1),points=(points+2);
END IF;
END;

What's the problem? ",2
4498877,12/21/2010 11:44:02,418810,08/12/2010 19:15:40,164,14,Default MySQL user privileges after executing CREATE USER,"I'm wondering what privileges a newly created user has by default after running:

    CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'mypass';

What can jeffrey do?

Thanks",mysql,database,privileges,,,,open,0,25,8,"Default MySQL user privileges after executing CREATE USER I'm wondering what privileges a newly created user has by default after running:

    CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'mypass';

What can jeffrey do?

Thanks",3
3732565,09/17/2010 03:52:59,206613,11/09/2009 04:59:02,1051,56,What to prefer in query optimization: Using filesort or more rows examined,"I'm trying to optimize this mysql query using EXPLAIN. Can somebody please help me out over here?

    EXPLAIN SELECT * FROM keyword
    WHERE keyword LIKE ""panasonic%""
    AND keyword != ""panasonic""
    AND price < 3230 AND price > 3370
    ORDER BY price DESC
    LIMIT 99

Basically I want to find out the keywords which start with ""some keyword"" but don't exactly match it, and whose price is **not** in some particular range. And oh, I have to get them in descending order of price (which is causing the problem here).

Explain Output:

    id: 1
    select_type: SIMPLE
    table: keyword
    type: range
    possible_keys: PRIMARY, keyword_price, price_keyword
    key: keyword_price
    key_len: 765
    ref: NULL
    rows: 24
    Extra: Using where; Using filesort

Indexes
Key_name : column_names

    PRIMARY: keyword
    keyword_price: keyword, price
    price_keyword: price, keyword

Now if I give the hint to use index, and change the query to

    EXPLAIN SELECT * FROM keyword USE INDEX (price_keyword)
    WHERE keyword LIKE ""panasonic%""
    AND keyword != ""panasonic""
    AND price < 3230 AND price > 3370
    ORDER BY price DESC
    LIMIT 99

Explain Output changes to

    id: 1
    select_type: SIMPLE
    table: keyword
    type: index
    possible_keys: price_keyword
    key: price_keyword
    key_len: 790
    ref: NULL
    rows: 1043044 (WHAT THE ????)
    Extra: Using where

The explain output shows the number of rows has increased exponentially but the ""Using filesort"" has gone.

Which query is better in this case? Can that ""rows examined"" column be deceptive?

Regards",mysql,query-optimization,order-by,explain,,,open,0,328,12,"What to prefer in query optimization: Using filesort or more rows examined I'm trying to optimize this mysql query using EXPLAIN. Can somebody please help me out over here?

    EXPLAIN SELECT * FROM keyword
    WHERE keyword LIKE ""panasonic%""
    AND keyword != ""panasonic""
    AND price < 3230 AND price > 3370
    ORDER BY price DESC
    LIMIT 99

Basically I want to find out the keywords which start with ""some keyword"" but don't exactly match it, and whose price is **not** in some particular range. And oh, I have to get them in descending order of price (which is causing the problem here).

Explain Output:

    id: 1
    select_type: SIMPLE
    table: keyword
    type: range
    possible_keys: PRIMARY, keyword_price, price_keyword
    key: keyword_price
    key_len: 765
    ref: NULL
    rows: 24
    Extra: Using where; Using filesort

Indexes
Key_name : column_names

    PRIMARY: keyword
    keyword_price: keyword, price
    price_keyword: price, keyword

Now if I give the hint to use index, and change the query to

    EXPLAIN SELECT * FROM keyword USE INDEX (price_keyword)
    WHERE keyword LIKE ""panasonic%""
    AND keyword != ""panasonic""
    AND price < 3230 AND price > 3370
    ORDER BY price DESC
    LIMIT 99

Explain Output changes to

    id: 1
    select_type: SIMPLE
    table: keyword
    type: index
    possible_keys: price_keyword
    key: price_keyword
    key_len: 790
    ref: NULL
    rows: 1043044 (WHAT THE ????)
    Extra: Using where

The explain output shows the number of rows has increased exponentially but the ""Using filesort"" has gone.

Which query is better in this case? Can that ""rows examined"" column be deceptive?

Regards",4
7934807,10/28/2011 20:53:25,692347,04/05/2011 06:55:28,37,3,Ruby on rails 3: Search with multiple params?,"I have a search box, and need to search through 2 parameters, ""title"" or ""tags"" using the query. I can get one parameter to work, but not two, tried 'OR', '||', ',' nothing works. 

Whats the answer ?  

Original code: `Book.where(""title LIKE ?"" , ""%#{query}%"")` 
     
What I need: `Book.where(""title LIKE ?"" , ""%#{query}%"" OR ""tags LIKE ?"" , ""%#{query}%"")` ",mysql,ruby-on-rails,search,where,,,open,0,66,8,"Ruby on rails 3: Search with multiple params? I have a search box, and need to search through 2 parameters, ""title"" or ""tags"" using the query. I can get one parameter to work, but not two, tried 'OR', '||', ',' nothing works. 

Whats the answer ?  

Original code: `Book.where(""title LIKE ?"" , ""%#{query}%"")` 
     
What I need: `Book.where(""title LIKE ?"" , ""%#{query}%"" OR ""tags LIKE ?"" , ""%#{query}%"")` ",4
11680603,07/27/2012 02:18:17,1433227,06/03/2012 06:23:14,31,1,mysql fails to start,"My Django web app was working fine, writing data to a mysql database. However, sometime in the past 36 hours or so, it stopped working.

I typed ""mysql"" into the command line (i'm using ubuntu on amazon ec2) and the error was: 
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)

I checked in /var/run/mysqld and mysqld.sock DOES NOT exist.

I tried to start and stopmysql server, but I get ""job failed to start"" when I typed ""start mysql"" and ""unknown instance"" when I typed ""stop mysql""

I also tried to look for the mysql error log, but there's no files at all in /var/log/mysql and /var/log/mysql.log is a completely empty file.

Could anyone give me some pointers on where to look to troubleshoot this problem? Also, do you think all my data in the database is gone now?!?!?! I really hope it isn't...

I'm really an amateur at mysql, so I would appreciate any advice. Thanks in advance",mysql,database,ubuntu,,,07/30/2012 06:05:46,off topic,1,157,4,"mysql fails to start My Django web app was working fine, writing data to a mysql database. However, sometime in the past 36 hours or so, it stopped working.

I typed ""mysql"" into the command line (i'm using ubuntu on amazon ec2) and the error was: 
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)

I checked in /var/run/mysqld and mysqld.sock DOES NOT exist.

I tried to start and stopmysql server, but I get ""job failed to start"" when I typed ""start mysql"" and ""unknown instance"" when I typed ""stop mysql""

I also tried to look for the mysql error log, but there's no files at all in /var/log/mysql and /var/log/mysql.log is a completely empty file.

Could anyone give me some pointers on where to look to troubleshoot this problem? Also, do you think all my data in the database is gone now?!?!?! I really hope it isn't...

I'm really an amateur at mysql, so I would appreciate any advice. Thanks in advance",3
9788844,03/20/2012 14:35:27,1056320,11/20/2011 12:00:05,20,0,the future of mysql community edition,"folks, since oracle bought Mysql from Sun. what do you think about the future of mysql community? will Mysql Community edition not be free anymore? ",mysql,community,,,,03/20/2012 14:38:41,not constructive,1,26,6,"the future of mysql community edition folks, since oracle bought Mysql from Sun. what do you think about the future of mysql community? will Mysql Community edition not be free anymore? ",2
635937,03/11/2009 19:12:31,184,08/03/2008 05:34:19,4690,86,How do I specify unique constraint for multiple columns in MySQL?,"I have a table:

    table votes (
        id,
    	user,
    	email,
    	address,
    	primary key(id),
    );

Now I want to make the columns **user, email, address** unique (together).

How do I do this in MySql?

Thanks in advance.

* Of course the example is just... an example. So please don't worry about the semantics.",mysql,constraints,table,database,query,,open,0,73,11,"How do I specify unique constraint for multiple columns in MySQL? I have a table:

    table votes (
        id,
    	user,
    	email,
    	address,
    	primary key(id),
    );

Now I want to make the columns **user, email, address** unique (together).

How do I do this in MySql?

Thanks in advance.

* Of course the example is just... an example. So please don't worry about the semantics.",5
3639750,09/03/2010 21:44:26,441664,05/24/2010 20:05:22,93,1,Latest version for mysql,"What is the latest mysql version? is it v5.2 or v5.1?

Thanks.",mysql,,,,,09/03/2010 21:49:42,too localized,1,11,4,"Latest version for mysql What is the latest mysql version? is it v5.2 or v5.1?

Thanks.",1
7167144,08/23/2011 20:28:23,379235,06/29/2010 16:45:28,656,9,converting MySQL sql script to Postgres sql script?,"I found this site where you can convert the `MySQL` sql script to `Postgres` compatible sql script. but it doesn't seem to execute the `CREATE TABLE` statement.   

I am not sure if that is even working correctly. The reference I followed is [here][1] 

Please help


  [1]: http://en.wikibooks.org/wiki/Converting_MySQL_to_PostgreSQL",mysql,postgresql,,,,08/24/2011 05:54:08,not a real question,1,50,8,"converting MySQL sql script to Postgres sql script? I found this site where you can convert the `MySQL` sql script to `Postgres` compatible sql script. but it doesn't seem to execute the `CREATE TABLE` statement.   

I am not sure if that is even working correctly. The reference I followed is [here][1] 

Please help


  [1]: http://en.wikibooks.org/wiki/Converting_MySQL_to_PostgreSQL",2
8430808,12/08/2011 12:09:03,348311,05/23/2010 14:58:10,769,27,linking MySQL tables via foreign keys,"I have created multiple tables in MySQL, yet data in some fields in one or more table should exist in other tables. I know that this can be created by adding foreign key to the table.

I would like to know how this can be done.

Please note that on deletion of any record all linked should NOT be deleted ... the value can be changed to null. I'll manage it in other way.

PS: I just need the code to do this.",mysql,database,,,,12/08/2011 12:57:30,not a real question,1,80,6,"linking MySQL tables via foreign keys I have created multiple tables in MySQL, yet data in some fields in one or more table should exist in other tables. I know that this can be created by adding foreign key to the table.

I would like to know how this can be done.

Please note that on deletion of any record all linked should NOT be deleted ... the value can be changed to null. I'll manage it in other way.

PS: I just need the code to do this.",2
6969628,08/06/2011 23:16:59,583781,01/21/2011 00:17:01,127,2,MySQL trigger needs tweaking,"I have a trigger that sets a datetime field in a table row when a new row is inserted. (Don't bother lecturing me that I could do this in the table definition, I have second datetime field that is using that functionality already and you can only do it with one column per table.)

This trigger works great for my purposes:

    CREATE TRIGGER foobar_insert
    	BEFORE INSERT ON foobar
    		FOR EACH ROW SET NEW.created=NOW();

So whenever a new row is inserted, `foobar.created` gets set to the current time. This is great when I do something like:

> INSERT INTO foobar (foo) VALUES ('bar');

The only problem with this is that if I want to explicitly set `foobar.created` in the insert statement, it gets overridden by the trigger.

So,

> INSERT INTO foobar (foo,created) VALUES ('foo','2006-01-01 12:12:12');

results in `foobar.created` equaling the time of the insert, not the time specified in the insert statement.

So my question is: How can I change my trigger to only set `foobar.created` if it doesn't already have a value?",mysql,triggers,,,,,open,0,174,4,"MySQL trigger needs tweaking I have a trigger that sets a datetime field in a table row when a new row is inserted. (Don't bother lecturing me that I could do this in the table definition, I have second datetime field that is using that functionality already and you can only do it with one column per table.)

This trigger works great for my purposes:

    CREATE TRIGGER foobar_insert
    	BEFORE INSERT ON foobar
    		FOR EACH ROW SET NEW.created=NOW();

So whenever a new row is inserted, `foobar.created` gets set to the current time. This is great when I do something like:

> INSERT INTO foobar (foo) VALUES ('bar');

The only problem with this is that if I want to explicitly set `foobar.created` in the insert statement, it gets overridden by the trigger.

So,

> INSERT INTO foobar (foo,created) VALUES ('foo','2006-01-01 12:12:12');

results in `foobar.created` equaling the time of the insert, not the time specified in the insert statement.

So my question is: How can I change my trigger to only set `foobar.created` if it doesn't already have a value?",2
7594404,09/29/2011 08:21:31,938643,09/10/2011 22:18:02,6,1,create a mysql database user with insert privilege only using qt,"I'm new in qt, I've given a task to create a mysql database user with insert privilege using qt on windows.
Any suggestion will be great.

Debasish",mysql,qt4,,,,10/07/2011 17:01:39,not a real question,1,25,11,"create a mysql database user with insert privilege only using qt I'm new in qt, I've given a task to create a mysql database user with insert privilege using qt on windows.
Any suggestion will be great.

Debasish",2
2825296,05/13/2010 08:21:11,338436,05/11/2010 15:32:15,1,0,select similar values from mysql database,"I have several data s in MySQL database. In my table there is a column called rank. what I want is when some one enter a rank say 25 then the result should display names on similar(+ or -) ranks LIMIT to 10 from table.

example 

mathew - 25<br>
john - 26<br>
joe - 25<br>
stewart - 27<br>
kelly - 24<br>
brandon -23<br>
magy - 22 .......etc.<br>

Thanks
Mathew


  ",mysql,php,,,,,open,0,62,6,"select similar values from mysql database I have several data s in MySQL database. In my table there is a column called rank. what I want is when some one enter a rank say 25 then the result should display names on similar(+ or -) ranks LIMIT to 10 from table.

example 

mathew - 25<br>
john - 26<br>
joe - 25<br>
stewart - 27<br>
kelly - 24<br>
brandon -23<br>
magy - 22 .......etc.<br>

Thanks
Mathew


  ",2
11480279,07/14/2012 01:31:16,451621,09/18/2010 21:29:40,55,5,Why are parallel writes in MySQL as slow as sequential writes?,"I have many MySQL write-only processes. They all go to the same MySQL master. I run them sequentially to get a baseline time. I basically chain together several mysql command-line clients, one-after-another. Later, I parallel fire up several mysql clients at the same time to get an experimental time. **Why are the times the same?**

More facts:

 1. Each client hits a separate schema. This eliminates the possibility of table or row locking contention between clients.
 2. I have tried this on Win32 XP with a couple of cores and 4GB RAM vs. RedHat 5.6 64-bit with 24 virtual cores and 32GB RAM. The baseline vs. experimental is the same on both.
 3. On the RedHat I've tried all TCP clients vs. all SOCKET clients. No difference probably because the server isn't under load.",mysql,performance,,,,07/16/2012 02:42:58,off topic,1,133,11,"Why are parallel writes in MySQL as slow as sequential writes? I have many MySQL write-only processes. They all go to the same MySQL master. I run them sequentially to get a baseline time. I basically chain together several mysql command-line clients, one-after-another. Later, I parallel fire up several mysql clients at the same time to get an experimental time. **Why are the times the same?**

More facts:

 1. Each client hits a separate schema. This eliminates the possibility of table or row locking contention between clients.
 2. I have tried this on Win32 XP with a couple of cores and 4GB RAM vs. RedHat 5.6 64-bit with 24 virtual cores and 32GB RAM. The baseline vs. experimental is the same on both.
 3. On the RedHat I've tried all TCP clients vs. all SOCKET clients. No difference probably because the server isn't under load.",2
7860844,10/22/2011 16:17:17,854086,07/20/2011 13:56:08,46,0,SELECT that involves a column from the latest previous record,"**Suppose I have the following MySQL table:**
<br />
<pre><code>user_id    date_of_application   date_ended    grade    status    
---------------------------------------------------------------

 1            2011-01-01         2011-02-28     1.0     Ended
 1            2011-02-02         2011-03-28     1.0     Ended
 1            2011-03-03         2011-04-28     (1.5)   Ended

 2            2011-01-01         2011-02-20     2.0     Ended
 2            2011-02-02         2011-03-11     2.5     Ended
 2            2011-03-03         2011-04-28     (1.0)   Ended

 1            2011-05-10              -          -      Pending
 2            2011-05-15              -          -      Pending

</code></pre> 


* note that the table can contain multiple records of the same user as long as all its previous applications have ended (status = ended)
* **user_id** is not unique
* date is in **yy-mm-dd** format
* **date_of_application** and **grade** are only updated the instant the application has ended


What I want to accomplish here is to retrieve all rows (together will all columns) **WHERE status is 'Pending'** and such that the value for the **grade** column for each of these retrieved rows is the value of the latest **grade** (in parenthesis above) where status is 'Ended' for this particular user (or row).

The result:

<pre><code>user_id    date_of_application   date_ended    grade    status    
---------------------------------------------------------------

 1            2011-05-10              -         1.5      Pending
 2            2011-05-15              -         1.0      Pending
</code></pre>
",mysql,sql,query,,,,open,0,504,10,"SELECT that involves a column from the latest previous record **Suppose I have the following MySQL table:**
<br />
<pre><code>user_id    date_of_application   date_ended    grade    status    
---------------------------------------------------------------

 1            2011-01-01         2011-02-28     1.0     Ended
 1            2011-02-02         2011-03-28     1.0     Ended
 1            2011-03-03         2011-04-28     (1.5)   Ended

 2            2011-01-01         2011-02-20     2.0     Ended
 2            2011-02-02         2011-03-11     2.5     Ended
 2            2011-03-03         2011-04-28     (1.0)   Ended

 1            2011-05-10              -          -      Pending
 2            2011-05-15              -          -      Pending

</code></pre> 


* note that the table can contain multiple records of the same user as long as all its previous applications have ended (status = ended)
* **user_id** is not unique
* date is in **yy-mm-dd** format
* **date_of_application** and **grade** are only updated the instant the application has ended


What I want to accomplish here is to retrieve all rows (together will all columns) **WHERE status is 'Pending'** and such that the value for the **grade** column for each of these retrieved rows is the value of the latest **grade** (in parenthesis above) where status is 'Ended' for this particular user (or row).

The result:

<pre><code>user_id    date_of_application   date_ended    grade    status    
---------------------------------------------------------------

 1            2011-05-10              -         1.5      Pending
 2            2011-05-15              -         1.0      Pending
</code></pre>
",3
447427,01/15/2009 16:21:05,3834,08/31/2008 06:25:52,1056,54,Multiple MySQL instances on a single machine,"How to configure multiple MySQL instances on a single machine? There are a lot of information on the web, but they are not very useful.",mysql,installation,,,,10/05/2011 13:55:18,off topic,1,25,7,"Multiple MySQL instances on a single machine How to configure multiple MySQL instances on a single machine? There are a lot of information on the web, but they are not very useful.",2
7509151,09/22/2011 03:13:05,251257,01/15/2010 03:25:09,384,8,Changing table info with Rails migration,"In my original migration, I had this:

    create_table :credit_purchases do |t|
      t.column :amount, :decimal, :precision => 8, :scale => 2, :null => false
      t.column :time, :datetime, :null => false
    end

Which produced the following MySQL table definition:

    CREATE TABLE `credit_purchases` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `amount` decimal(8,2) NOT NULL,
      `time` datetime NOT NULL,
      PRIMARY KEY (`id`),
    )

When I run this, it doesn't change the definition at all:

    change_column :credit_purchases, :amount, :decimal, :precision => 8, :scale => 2
    change_column :credit_purchases, :time, :datetime

I'd expect the definition result to be:

    CREATE TABLE `credit_purchases` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `amount` decimal(8,2) DEFAULT NULL,
      `time` datetime DEFAULT NULL,
      PRIMARY KEY (`id`),
    )

What do I have to do to produce the desired result?",mysql,ruby-on-rails,database,table,migration,,open,0,192,6,"Changing table info with Rails migration In my original migration, I had this:

    create_table :credit_purchases do |t|
      t.column :amount, :decimal, :precision => 8, :scale => 2, :null => false
      t.column :time, :datetime, :null => false
    end

Which produced the following MySQL table definition:

    CREATE TABLE `credit_purchases` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `amount` decimal(8,2) NOT NULL,
      `time` datetime NOT NULL,
      PRIMARY KEY (`id`),
    )

When I run this, it doesn't change the definition at all:

    change_column :credit_purchases, :amount, :decimal, :precision => 8, :scale => 2
    change_column :credit_purchases, :time, :datetime

I'd expect the definition result to be:

    CREATE TABLE `credit_purchases` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `amount` decimal(8,2) DEFAULT NULL,
      `time` datetime DEFAULT NULL,
      PRIMARY KEY (`id`),
    )

What do I have to do to produce the desired result?",5
5788765,04/26/2011 10:05:40,512002,11/18/2010 10:56:50,118,6,MYSQL: Want to make a date column NULL,"I have some changes to a Django app using a mysql database backend. I have been receiving this error.

`(1048, ""Column 'current_item_status_date' cannot be null"")`

I have tried to make it NULL by using the ALTER TABLE command, but this is not working. Saying there is an invalid syntax. 

`ALTER TABLE tiptop_items MODIFY current_item_status_date null;`
",mysql,django,,alter-table,,,open,0,53,8,"MYSQL: Want to make a date column NULL I have some changes to a Django app using a mysql database backend. I have been receiving this error.

`(1048, ""Column 'current_item_status_date' cannot be null"")`

I have tried to make it NULL by using the ALTER TABLE command, but this is not working. Saying there is an invalid syntax. 

`ALTER TABLE tiptop_items MODIFY current_item_status_date null;`
",3
8676164,12/30/2011 04:27:48,952170,09/19/2011 07:37:11,1,0,Storing large catalog per user in MYSQL? Best method?,"I have a user site that has a basic user reg table - email, name etc with a unique ID number.

I now want to add a way for each user to store a catalog of their book collection, and then using php search and sort by title or author.

As each user may have hundreds, maybe thousands of books, I was wondering what is the best way to set something like this up in MYSQL without having to create a new table for each user in which to store their library? Or is this the only way?

I currently have their catalog in XML format, and was doing simpleXML searches.  It worked well, but not when creating or searching larger lists of 5000 plus.  So I've set up a Flash desktop program to create a .txt file in AUTHOR - TITLE|AUTHOR - TITLE|AUTHOR - TITLE|  format, and now need to know the best set up in MYSQL before I start writing the php parser and MYSQL queries.

Thanks for your time and help.

Shaun",mysql,,,,,12/30/2011 23:14:03,not a real question,1,173,9,"Storing large catalog per user in MYSQL? Best method? I have a user site that has a basic user reg table - email, name etc with a unique ID number.

I now want to add a way for each user to store a catalog of their book collection, and then using php search and sort by title or author.

As each user may have hundreds, maybe thousands of books, I was wondering what is the best way to set something like this up in MYSQL without having to create a new table for each user in which to store their library? Or is this the only way?

I currently have their catalog in XML format, and was doing simpleXML searches.  It worked well, but not when creating or searching larger lists of 5000 plus.  So I've set up a Flash desktop program to create a .txt file in AUTHOR - TITLE|AUTHOR - TITLE|AUTHOR - TITLE|  format, and now need to know the best set up in MYSQL before I start writing the php parser and MYSQL queries.

Thanks for your time and help.

Shaun",1
8034706,11/07/2011 09:31:33,843943,07/14/2011 06:06:32,96,19,Access MYSQL-Server on Linux throu VirtualBox Windows7 laggs,"on my machine (linux 2.6.38-8) i'v installed virtualbox and mysql-server 5.1.54.

i installed win7 in virtualbox and try to access the database via NAT.

Its very slow, im not sure why.
Any suggestions?",mysql,linux,windows-7,virtualbox,,11/14/2011 11:54:57,off topic,1,30,8,"Access MYSQL-Server on Linux throu VirtualBox Windows7 laggs on my machine (linux 2.6.38-8) i'v installed virtualbox and mysql-server 5.1.54.

i installed win7 in virtualbox and try to access the database via NAT.

Its very slow, im not sure why.
Any suggestions?",4
6007353,05/15/2011 08:34:15,579103,01/17/2011 21:32:10,11,1,Which ORM should I use for Node.js and MySQL?,"I'm rewriting a project to use Node.js. I'd like to keep using MySQL as the DB (even though I don't mind the schema).
I'm looking for a simple-to-use, reasonable-performance ORM, which supports caching, many-to-one and many-to-many relations.
From the MySQL ORMs I could find, persistencejs and sequelize seem the most mature. 
Do you have experience with either? What are the relevant pros and cons I should be aware of in my decision?",mysql,orm,node.js,,,05/06/2012 12:43:37,not constructive,1,70,9,"Which ORM should I use for Node.js and MySQL? I'm rewriting a project to use Node.js. I'd like to keep using MySQL as the DB (even though I don't mind the schema).
I'm looking for a simple-to-use, reasonable-performance ORM, which supports caching, many-to-one and many-to-many relations.
From the MySQL ORMs I could find, persistencejs and sequelize seem the most mature. 
Do you have experience with either? What are the relevant pros and cons I should be aware of in my decision?",3
9497261,02/29/2012 10:18:48,700663,04/10/2011 07:56:33,1050,9,Creating ID for businesses,"I have a problem with my database.

Basically I am turning the title of a business into ID.

One way to do it is to get rid alphanumeric

My primaryid must not contain nonalphanumeric. But, japan, chinese, korean language contain nonalphanumeric.

what should i do with that?

I think a good approach is to allow any string except ""special characters"" as id in dataabase

can I know what kind of strings I should get rid and how do I get rid those strings with vb.net


",mysql,vb.net,,,,,open,0,79,4,"Creating ID for businesses I have a problem with my database.

Basically I am turning the title of a business into ID.

One way to do it is to get rid alphanumeric

My primaryid must not contain nonalphanumeric. But, japan, chinese, korean language contain nonalphanumeric.

what should i do with that?

I think a good approach is to allow any string except ""special characters"" as id in dataabase

can I know what kind of strings I should get rid and how do I get rid those strings with vb.net


",2
5481846,03/30/2011 04:27:58,683150,01/30/2010 14:48:36,5,0,No Duplication values,"My problem is I want insert values without duplicating values.
here's my stored procedure code.

set ANSI_NULLS ON
set QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[SD_Sproc_Result]
	-- Add the parameters for the stored procedure here
		@employeeid varchar(100),
		@providercode varchar(100)

AS
BEGIN

		Insert into TR_employeesprovidercode (employeeid, providercode) values
		(@employeeid, @providercode)

END
",mysql,sql,,,,,open,0,36,3,"No Duplication values My problem is I want insert values without duplicating values.
here's my stored procedure code.

set ANSI_NULLS ON
set QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[SD_Sproc_Result]
	-- Add the parameters for the stored procedure here
		@employeeid varchar(100),
		@providercode varchar(100)

AS
BEGIN

		Insert into TR_employeesprovidercode (employeeid, providercode) values
		(@employeeid, @providercode)

END
",2
7302612,09/04/2011 22:50:06,841090,07/12/2011 15:55:13,72,3,Mysql duplicate entry error,i am getting duplicate entry error when inserting a row on a field that is not unique. But this is primary key. What do u think the reason is?,mysql,,,,,09/05/2011 01:32:44,not a real question,1,29,4,Mysql duplicate entry error i am getting duplicate entry error when inserting a row on a field that is not unique. But this is primary key. What do u think the reason is?,1
10576743,05/14/2012 01:56:06,1022672,10/31/2011 20:33:29,69,0,mysql wont start,"When I try to start mysql I get

ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)

When I use sudo I get

Starting MySQL
. ERROR! The server quit without updating PID file (/usr/local/var/mysql/Victorias-MacBook-Pro.local.pid).",mysql,,,,,05/15/2012 15:33:11,off topic,1,35,3,"mysql wont start When I try to start mysql I get

ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)

When I use sudo I get

Starting MySQL
. ERROR! The server quit without updating PID file (/usr/local/var/mysql/Victorias-MacBook-Pro.local.pid).",1
8477201,12/12/2011 16:08:43,379676,06/30/2010 04:32:49,273,7,Migrating a MySQL database failing,"We have a production server running 5.0.77.  The server that was set up as a development server is newer, and running 5.1.41.  Filesystems on both machines is ext3.  Both are running 64 bit Linux.  

I've done this exact thing before, and I've had it work multiple times, and I know the most ""reliable"" way to get a backup working is with mysqldump, but this is a 100g database and we don't have that kind of time on either side, especially for a dev server.

So I essentially shut down the prod server, take a quick copy of all the data files, and throw them on the new dev server.  Change my.cnf to point to new directory, AFTER changing file perms, and I get this in the log, and MySQL will never get off the ground:

<pre>
111212  9:28:38 [Note] Plugin 'FEDERATED' is disabled.
/usr/sbin/mysqld: Table 'mysql.plugin' doesn't exist
111212  9:28:38 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.
111212  9:28:38  InnoDB: Operating system error number 13 in a file operation.
InnoDB: The error means mysqld does not have the access rights to
InnoDB: the directory.
InnoDB: File name ./ibdata1
InnoDB: File operation call: 'open'.
InnoDB: Cannot continue operation.
111212  9:29:08 [Note] Plugin 'FEDERATED' is disabled.
/usr/sbin/mysqld: Table 'mysql.plugin' doesn't exist
111212  9:29:08 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.
111212  9:29:08  InnoDB: Operating system error number 13 in a file operation.
InnoDB: The error means mysqld does not have the access rights to
InnoDB: the directory.
InnoDB: File name ./ibdata1
InnoDB: File operation call: 'open'.
InnoDB: Cannot continue operation.
</pre>

Now I realize that most likely, the problem is being unable to open ibdata1.  I've done everything I can to be sure that the mysql user has access to this file, including throwing a 777 on that file and everything leading to it (temporarily obviously!)

I've turned on that ""federated"" flag, just for giggles knowing it would probably do nothing.

So I've jumped a minor version, which I'm reading causes some things to need to be done to the database.  Can this be the problem?  Doesn't seem likely to me with that error.  But this leads to the other conundrum...  To get the database to 5.1, the server has to be running.  I can't run the server.  I can't find a script to update the database.  Chicken and the egg, bah!  

Another thing I tried, was removing 5.1 and putting 5.0 on the server.  It behaved exactly the same way.  I tried re-updating to 5.1, hoping it would update the database for whatever it needed, no go.  

Does anyone have any idea what's happening here?  Why would this thing continually tell me that it can't access this file when I KNOW that it can?  Oh, and SELinux is not running so that's not the issue.

Help me Obi-Wan Kenobi, you're my only hope...

Thanks Stackers!
  
",mysql,database,linux,,,01/10/2012 19:59:19,off topic,1,487,5,"Migrating a MySQL database failing We have a production server running 5.0.77.  The server that was set up as a development server is newer, and running 5.1.41.  Filesystems on both machines is ext3.  Both are running 64 bit Linux.  

I've done this exact thing before, and I've had it work multiple times, and I know the most ""reliable"" way to get a backup working is with mysqldump, but this is a 100g database and we don't have that kind of time on either side, especially for a dev server.

So I essentially shut down the prod server, take a quick copy of all the data files, and throw them on the new dev server.  Change my.cnf to point to new directory, AFTER changing file perms, and I get this in the log, and MySQL will never get off the ground:

<pre>
111212  9:28:38 [Note] Plugin 'FEDERATED' is disabled.
/usr/sbin/mysqld: Table 'mysql.plugin' doesn't exist
111212  9:28:38 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.
111212  9:28:38  InnoDB: Operating system error number 13 in a file operation.
InnoDB: The error means mysqld does not have the access rights to
InnoDB: the directory.
InnoDB: File name ./ibdata1
InnoDB: File operation call: 'open'.
InnoDB: Cannot continue operation.
111212  9:29:08 [Note] Plugin 'FEDERATED' is disabled.
/usr/sbin/mysqld: Table 'mysql.plugin' doesn't exist
111212  9:29:08 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.
111212  9:29:08  InnoDB: Operating system error number 13 in a file operation.
InnoDB: The error means mysqld does not have the access rights to
InnoDB: the directory.
InnoDB: File name ./ibdata1
InnoDB: File operation call: 'open'.
InnoDB: Cannot continue operation.
</pre>

Now I realize that most likely, the problem is being unable to open ibdata1.  I've done everything I can to be sure that the mysql user has access to this file, including throwing a 777 on that file and everything leading to it (temporarily obviously!)

I've turned on that ""federated"" flag, just for giggles knowing it would probably do nothing.

So I've jumped a minor version, which I'm reading causes some things to need to be done to the database.  Can this be the problem?  Doesn't seem likely to me with that error.  But this leads to the other conundrum...  To get the database to 5.1, the server has to be running.  I can't run the server.  I can't find a script to update the database.  Chicken and the egg, bah!  

Another thing I tried, was removing 5.1 and putting 5.0 on the server.  It behaved exactly the same way.  I tried re-updating to 5.1, hoping it would update the database for whatever it needed, no go.  

Does anyone have any idea what's happening here?  Why would this thing continually tell me that it can't access this file when I KNOW that it can?  Oh, and SELinux is not running so that's not the issue.

Help me Obi-Wan Kenobi, you're my only hope...

Thanks Stackers!
  
",3
3421419,08/06/2010 06:16:45,412699,08/06/2010 06:16:45,1,0,Grouping data with repaeting values in diffrent interval.,"I have a table with followin values in fields

serial -             date -              flag
<hr>
1 -              1 aug -        1
<hr>
2  -             2 aug  -       1
<hr>
3  -              3 aug  -       0   
<hr>          
4 -               4 aug -        0
<hr>
5-                5 aug -        1
<hr>
6 -               6 aug -        1
<hr>
7  -              7 aug  -       1
<hr>

what i need is 
<hr>
from    to    flag
<hr>
1-aug   2-aug  1
<hr>
3-Aug   4-Aug  0
<hr>
5-Aug   7-Aug  1

<hr>

When i group on flag all  1 values are combined , please give the solution.",mysql,grouping,,,,,open,0,273,8,"Grouping data with repaeting values in diffrent interval. I have a table with followin values in fields

serial -             date -              flag
<hr>
1 -              1 aug -        1
<hr>
2  -             2 aug  -       1
<hr>
3  -              3 aug  -       0   
<hr>          
4 -               4 aug -        0
<hr>
5-                5 aug -        1
<hr>
6 -               6 aug -        1
<hr>
7  -              7 aug  -       1
<hr>

what i need is 
<hr>
from    to    flag
<hr>
1-aug   2-aug  1
<hr>
3-Aug   4-Aug  0
<hr>
5-Aug   7-Aug  1

<hr>

When i group on flag all  1 values are combined , please give the solution.",2
11506678,07/16/2012 14:42:13,1469875,06/20/2012 16:17:07,26,1,Book focused on SQL Server stored procedures,"Can you recommend a book that is the Microsoft SQL Server equivalent of <a href=""http://shop.oreilly.com/product/9780596100896.do"">MySQL Stored Procedure Programming</a>, I'm looking for something with a focus on Stored Procedures, Stored Functions, and Triggers.",mysql,sql-server,stored-procedures,,,07/16/2012 21:17:40,not constructive,1,32,7,"Book focused on SQL Server stored procedures Can you recommend a book that is the Microsoft SQL Server equivalent of <a href=""http://shop.oreilly.com/product/9780596100896.do"">MySQL Stored Procedure Programming</a>, I'm looking for something with a focus on Stored Procedures, Stored Functions, and Triggers.",3
4591507,01/04/2011 07:43:17,481554,10/20/2010 10:21:50,29,2,Connect to MySQL database on other domain,"I have a PHP website and MySQL database running at webhost X.
Now I have created another website in Ruby on Rails at webhost Y and I want it to get information from the MySQL database at webhost X. Is this possible and if so, how can it be done?

Cheers,
John",mysql,ruby-on-rails,,,,,open,0,49,7,"Connect to MySQL database on other domain I have a PHP website and MySQL database running at webhost X.
Now I have created another website in Ruby on Rails at webhost Y and I want it to get information from the MySQL database at webhost X. Is this possible and if so, how can it be done?

Cheers,
John",2
8438266,12/08/2011 21:57:25,1088490,12/08/2011 20:11:17,1,0,MySQL no root/super user,"There is no superuser configured for my MySQL setup on Lion OS X. I've tried purging MySQL from my macbook, to no avail.

The only way I can initialize mysql is by executing it through the terminal without any username or password. I'm trying to create a **root** user as a workaround, but I don't have privileges.

    mysql> SHOW GRANTS;

    +--------------------------------------+
    | Grants for @localhost                |
    +--------------------------------------+
    | GRANT USAGE ON *.* TO ''@'localhost' |
    +--------------------------------------+
    1 row in set (0.00 sec)


    mysql> select current_user();
    +----------------+
    | current_user() |
    +----------------+
    | @localhost     |
    +----------------+
    1 row in set (0.05 sec)


How do I go about reinstating a default **root** user, seeing as I do not have any privileges?",mysql,terminal,root,privileges,,12/09/2011 04:38:22,off topic,1,177,4,"MySQL no root/super user There is no superuser configured for my MySQL setup on Lion OS X. I've tried purging MySQL from my macbook, to no avail.

The only way I can initialize mysql is by executing it through the terminal without any username or password. I'm trying to create a **root** user as a workaround, but I don't have privileges.

    mysql> SHOW GRANTS;

    +--------------------------------------+
    | Grants for @localhost                |
    +--------------------------------------+
    | GRANT USAGE ON *.* TO ''@'localhost' |
    +--------------------------------------+
    1 row in set (0.00 sec)


    mysql> select current_user();
    +----------------+
    | current_user() |
    +----------------+
    | @localhost     |
    +----------------+
    1 row in set (0.05 sec)


How do I go about reinstating a default **root** user, seeing as I do not have any privileges?",4
10073909,04/09/2012 13:27:02,678793,03/07/2011 13:27:34,239,0,"Is it possible to store pictures,sounds,videos in SQL Database?","Is it possible to store pictures,sounds,videos in SQL Database (or any other database) ? If yes what format should it be and please specifiy about the special settings that has to be configured if any. Thanks in advance.",mysql,sql,database,insert,,04/09/2012 19:47:26,not a real question,1,38,9,"Is it possible to store pictures,sounds,videos in SQL Database? Is it possible to store pictures,sounds,videos in SQL Database (or any other database) ? If yes what format should it be and please specifiy about the special settings that has to be configured if any. Thanks in advance.",4
11291899,07/02/2012 10:30:09,1495778,07/02/2012 10:25:15,1,0,MySQL - Stored Proc creation in code giving syntax error,"I'm baffled by the syntax error I keep getting in MYSQL (ver 5.2) when executing CREATE PROC in code.

The MySQL Proc code:

    DELIMITER //
    
    CREATE PROCEDURE Delete_BillOfMaterialsDetail
    (IN InOrderDate DATE,     
    IN InProductCode varchar(40),     
    IN InRawMaterialProductCode varchar(40) 
    ) 
    BEGIN     
    IF EXISTS
    (SELECT * FROM basf_rawmaterialplanning.BillOfMaterialsDetail          
    WHERE OrderDate = InOrderDate  
    and ProductCode = InProductCode          
    and RawMaterialProductCode = InRawMaterialProductCode)  
    THEN  
    DELETE FROM basf_rawmaterialplanning.BillOfMaterialsDetail
    WHERE OrderDate = InOrderDate    
    AND ProductCode = InProductCode
    AND RawMaterialProductCode = InRawMaterialProductCode;
    END IF; 
    END //
    
    DELIMITER ;

I build it using a string datatype then execute it against the DB which gives a syntax error.

I'm not to sure what I'm doing wrong?",mysql,,,,,,open,0,218,10,"MySQL - Stored Proc creation in code giving syntax error I'm baffled by the syntax error I keep getting in MYSQL (ver 5.2) when executing CREATE PROC in code.

The MySQL Proc code:

    DELIMITER //
    
    CREATE PROCEDURE Delete_BillOfMaterialsDetail
    (IN InOrderDate DATE,     
    IN InProductCode varchar(40),     
    IN InRawMaterialProductCode varchar(40) 
    ) 
    BEGIN     
    IF EXISTS
    (SELECT * FROM basf_rawmaterialplanning.BillOfMaterialsDetail          
    WHERE OrderDate = InOrderDate  
    and ProductCode = InProductCode          
    and RawMaterialProductCode = InRawMaterialProductCode)  
    THEN  
    DELETE FROM basf_rawmaterialplanning.BillOfMaterialsDetail
    WHERE OrderDate = InOrderDate    
    AND ProductCode = InProductCode
    AND RawMaterialProductCode = InRawMaterialProductCode;
    END IF; 
    END //
    
    DELIMITER ;

I build it using a string datatype then execute it against the DB which gives a syntax error.

I'm not to sure what I'm doing wrong?",1
11069422,06/17/2012 06:41:08,1215330,02/17/2012 03:30:09,93,1,What to do when MySQL has no space left?,"Out of curiosity, say you have a huge MySQL database full of user information and it is now full. How would you run the same MySQL database off of the same server and another server with more storage space?",mysql,,,,,,open,0,39,9,"What to do when MySQL has no space left? Out of curiosity, say you have a huge MySQL database full of user information and it is now full. How would you run the same MySQL database off of the same server and another server with more storage space?",1
11642873,07/25/2012 04:44:00,1533628,07/18/2012 04:54:55,18,0,"mysql php login script xampp, localhost phpmyadmin where do i start","I'm trying to make a login script.
I downloaded mysql, xampp, wamp.
Already had filezilla.
I started off messing around in xampp control panel
trying to figure out how to make a database so i can make a table for username, password.
I installed phpmyadmin finally got it to accept my host, user, pass
then i realize i see this error in localhost/phpmyadmin

Error

SQL query: DocumentationEdit Edit

SELECT `tables`
FROM `phpmyadmin`.`pma_recent`
WHERE `username` = 'root'

MySQL said: Documentation
#1142 - SELECT command denied to user ''@'localhost' for table 'pma_recent' 

I'm really frustrated.
I want to uninstall everything and restart but i don't know exactly what to download.
After i uninstall everything should i just download xampp as i hear it comes with mysql, phpmyadmin or what?

I think im having trouble because i can only find outdated tutorials on how to make login scripts, and also everybody uses different webservers or w/e.


I also need help understanding this code...
should i leave localhost as it is?
                             ??        user   pass
$conect = mysql_connect(""localhost"", ""root"", ""123"") 
                     
mysql_select_db""whatsmydb?""

Would i replace whatsmydb? with users?


This is what i see under databases
information_schema	Check Privileges Check Privileges
	mysql	Check Privileges Check Privileges
	performance_schema	Check Privileges Check Privileges
	sakila	Check Privileges Check Privileges
	test	Check Privileges Check Privileges
	users	Check Privileges Check Privileges
	world	Check Privileges Check Privileges
	Total: 7 	

The more and more i try the more and more i get confused LOL
Can someone please help me create a login script and
what should i use to create it?
Does anyone have a new tutorial for mysql5.5?
Why am i getting this error?
How do i setup a table containing usernames passwords?
I am toooo confused where shall i start?!?!?!!?!?!?






",mysql,login,script,phpmyadmin,,,open,0,304,11,"mysql php login script xampp, localhost phpmyadmin where do i start I'm trying to make a login script.
I downloaded mysql, xampp, wamp.
Already had filezilla.
I started off messing around in xampp control panel
trying to figure out how to make a database so i can make a table for username, password.
I installed phpmyadmin finally got it to accept my host, user, pass
then i realize i see this error in localhost/phpmyadmin

Error

SQL query: DocumentationEdit Edit

SELECT `tables`
FROM `phpmyadmin`.`pma_recent`
WHERE `username` = 'root'

MySQL said: Documentation
#1142 - SELECT command denied to user ''@'localhost' for table 'pma_recent' 

I'm really frustrated.
I want to uninstall everything and restart but i don't know exactly what to download.
After i uninstall everything should i just download xampp as i hear it comes with mysql, phpmyadmin or what?

I think im having trouble because i can only find outdated tutorials on how to make login scripts, and also everybody uses different webservers or w/e.


I also need help understanding this code...
should i leave localhost as it is?
                             ??        user   pass
$conect = mysql_connect(""localhost"", ""root"", ""123"") 
                     
mysql_select_db""whatsmydb?""

Would i replace whatsmydb? with users?


This is what i see under databases
information_schema	Check Privileges Check Privileges
	mysql	Check Privileges Check Privileges
	performance_schema	Check Privileges Check Privileges
	sakila	Check Privileges Check Privileges
	test	Check Privileges Check Privileges
	users	Check Privileges Check Privileges
	world	Check Privileges Check Privileges
	Total: 7 	

The more and more i try the more and more i get confused LOL
Can someone please help me create a login script and
what should i use to create it?
Does anyone have a new tutorial for mysql5.5?
Why am i getting this error?
How do i setup a table containing usernames passwords?
I am toooo confused where shall i start?!?!?!!?!?!?






",4
9480770,02/28/2012 11:07:57,910262,08/24/2011 18:18:29,115,5,how the validation is undertaken when inserting data to two tables using one form?,There is a web page containing set of input fields. The data taken from the user go to 2 tables in the database. I use the view php file to get data from the user and call a function to gather data using jquery and then push those data to database using ajax function. How can I implement the validations?,mysql,mvc,php5,,,,open,0,60,14,how the validation is undertaken when inserting data to two tables using one form? There is a web page containing set of input fields. The data taken from the user go to 2 tables in the database. I use the view php file to get data from the user and call a function to gather data using jquery and then push those data to database using ajax function. How can I implement the validations?,3
7897790,10/26/2011 01:32:31,553566,12/24/2010 21:29:14,671,19,"I need a SQL database that has just zip code, state, and city",Does anyone know where I can find a pregenerated database that just has as update as possible zip codes and their corresponding city and state? Any suggestions are appreciated :],mysql,sql,,,,10/26/2011 14:05:06,off topic,1,30,13,"I need a SQL database that has just zip code, state, and city Does anyone know where I can find a pregenerated database that just has as update as possible zip codes and their corresponding city and state? Any suggestions are appreciated :]",2
4714797,01/17/2011 15:23:58,578693,01/17/2011 15:23:58,1,0,Classic ASP (VBScript) & MySQL - Really lost.,"The idea behind what I'm trying to achieve is similar to a forum / commenting system I guess. There will be a main topic, then people can reply to that topic and to each other.

As replies are going to be in a completely different order in the database to how they will be displayed the way I thought best to achieve this is to have a parent_id col in the table, parent_id = 0 for a topic message, then replies have the relevant id's for the reply they correspond to.

Then I could use a recursive function to get the data in the right order and display like so e.g.:

Parent Topic

reply

reply

&nbsp;&nbsp;&nbsp; reply to reply

reply

&nbsp;&nbsp;&nbsp;reply to reply

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reply to reply to reply 

reply

However this is where I am stuck. I'm quite new to VBScript, so it could be something really simple to do, but I just can't see it.

Anyone help it's driving me nuts.",mysql,vbscript,asp-classic,,,,open,0,151,8,"Classic ASP (VBScript) & MySQL - Really lost. The idea behind what I'm trying to achieve is similar to a forum / commenting system I guess. There will be a main topic, then people can reply to that topic and to each other.

As replies are going to be in a completely different order in the database to how they will be displayed the way I thought best to achieve this is to have a parent_id col in the table, parent_id = 0 for a topic message, then replies have the relevant id's for the reply they correspond to.

Then I could use a recursive function to get the data in the right order and display like so e.g.:

Parent Topic

reply

reply

&nbsp;&nbsp;&nbsp; reply to reply

reply

&nbsp;&nbsp;&nbsp;reply to reply

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reply to reply to reply 

reply

However this is where I am stuck. I'm quite new to VBScript, so it could be something really simple to do, but I just can't see it.

Anyone help it's driving me nuts.",3
4649417,01/10/2011 17:12:28,168502,09/04/2009 12:42:49,175,5,Mysql innodb: Choosing index type for 'greater than >=' select,"I'm optimizing an update query:

    UPDATE projects SET rgt = rgt + 2 WHERE rgt >= @superRgt;

The table has a lot of rows (~63000), and the query runs slow. When I

    explain SELECT * FROM projects WHERE rgt >= @superRgt;

I get this result:

    +----+-------------+----------+------+---------------+------+---------+------+-------+-------------+
    | id | select_type | table    | type | possible_keys | key  | key_len | ref  | rows  | Extra       |
    +----+-------------+----------+------+---------------+------+---------+------+-------+-------------+
    |  1 | SIMPLE      | projects | ALL  | rgt           | NULL | NULL    | NULL | 69971 | Using where |
    +----+-------------+----------+------+---------------+------+---------+------+-------+-------------+

The rgt key is defined as:

    +----------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | Table    | Non_unique | Key_name   | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment |
    +----------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | projects |          1 | rgt        |            1 | rgt         | A         |       72770 |     NULL | NULL   |      | BTREE      |         |
    +----------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+

I'm wondering if I could optimize the UPDATE query by choosing an index type that can be used with `WHERE rgt >= @superRgt` ?",mysql,optimization,index,innodb,,,open,0,314,10,"Mysql innodb: Choosing index type for 'greater than >=' select I'm optimizing an update query:

    UPDATE projects SET rgt = rgt + 2 WHERE rgt >= @superRgt;

The table has a lot of rows (~63000), and the query runs slow. When I

    explain SELECT * FROM projects WHERE rgt >= @superRgt;

I get this result:

    +----+-------------+----------+------+---------------+------+---------+------+-------+-------------+
    | id | select_type | table    | type | possible_keys | key  | key_len | ref  | rows  | Extra       |
    +----+-------------+----------+------+---------------+------+---------+------+-------+-------------+
    |  1 | SIMPLE      | projects | ALL  | rgt           | NULL | NULL    | NULL | 69971 | Using where |
    +----+-------------+----------+------+---------------+------+---------+------+-------+-------------+

The rgt key is defined as:

    +----------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | Table    | Non_unique | Key_name   | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment |
    +----------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | projects |          1 | rgt        |            1 | rgt         | A         |       72770 |     NULL | NULL   |      | BTREE      |         |
    +----------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+

I'm wondering if I could optimize the UPDATE query by choosing an index type that can be used with `WHERE rgt >= @superRgt` ?",4
11204751,06/26/2012 09:51:25,465752,10/04/2010 10:17:48,35,1,How to get last 3 records from table,"I have a table with next fields:
uid, message, created
and some records like

uid     message         created
1         text1           1305244929
2         text2           1305244930
3         text3           1305244931
1         text4           1305244932 
1         text5           1305244933
3         text6           1305244934 
2         text7           1305244945    
1         text8           1305244956
3         text9           1305244947
1         text10          1305244948
2         text11          1305244967 
1         text12          1305244968
3         text13          1305244969 
1         text14          1305244970
2         text15          1305244971
3         text16          1305244972
3         text17          1305244973

How to get last 3 records for each uid ordered DESC by created
  ",mysql,,,,,,open,0,380,8,"How to get last 3 records from table I have a table with next fields:
uid, message, created
and some records like

uid     message         created
1         text1           1305244929
2         text2           1305244930
3         text3           1305244931
1         text4           1305244932 
1         text5           1305244933
3         text6           1305244934 
2         text7           1305244945    
1         text8           1305244956
3         text9           1305244947
1         text10          1305244948
2         text11          1305244967 
1         text12          1305244968
3         text13          1305244969 
1         text14          1305244970
2         text15          1305244971
3         text16          1305244972
3         text17          1305244973

How to get last 3 records for each uid ordered DESC by created
  ",1
10256268,04/21/2012 04:41:25,1043121,11/12/2011 12:48:34,11,0,How to edit MYSQL queries the way MSSQL is edited?,"I am studying PHP right now and our professor thought us how to write MySql queries. I already have background in writing queries in MsSql though.

I am quite annoyed with the way we create each table because every time we need to create a table, it seems we need to create another query file after we press the button GO. We are using XAMP and PHPMYADMIN.

Not like in MsSql where you can type all the queries in one form then you can just highlight a selected part of the code then press execute (as far as i can remember), then there you have it, the table you wanted. I just want the copy paste version and of course, i can look back at all the queries I've made.

I hope you can all imagine what I am saying right now!

Thanks!",mysql,sql-server,query,,,04/23/2012 02:50:08,off topic,1,139,10,"How to edit MYSQL queries the way MSSQL is edited? I am studying PHP right now and our professor thought us how to write MySql queries. I already have background in writing queries in MsSql though.

I am quite annoyed with the way we create each table because every time we need to create a table, it seems we need to create another query file after we press the button GO. We are using XAMP and PHPMYADMIN.

Not like in MsSql where you can type all the queries in one form then you can just highlight a selected part of the code then press execute (as far as i can remember), then there you have it, the table you wanted. I just want the copy paste version and of course, i can look back at all the queries I've made.

I hope you can all imagine what I am saying right now!

Thanks!",3
6234343,06/04/2011 02:36:17,783574,06/04/2011 02:36:17,1,0,can Sphinx be configured ---> to get same results as mysql fulltext search,"I have a mysql database table that contains multiple records of:
 		""word-A"" -- ""words related to word-A""

	For example: 
  		chair -- furniture;table;office-chair;dining-chair
<br>
I am currently using mysql fulltext match-against query (plain match-against , not boolean mode) to match a sentence against those words. 

I am limiting results to 5.
I am using fulltext indexes, and I am also loading these indexes in cache.

This query gives me good quality results, but it is slow (around 100+ ms). 
<br><br><br>
I tried using Sphinx search for this. It is very fast, but results are not similar to those of mysql fulltext query. 
Some results are same but usually in different order, others are totally different results.

For sentence matching purpose, is mysql fulltext better than Sphinx ?
Can I configure Sphinx to get similar results as that of mysql fulltext search ?
<br><br>
Currently I am using following config:

          SPH_MATCH_EXTENDED2

          SPH_SORT_RELEVANCE

          SPH_RANK_PROXIMITY_BM25 (also tried SPH_RANK_BM25)

          stopwords enabled

          The min_word_len is set to 2 - same as that in my mysql config.

Any help is appreciated. 
Thanks.
",mysql,sphinx,fulltext,,,,open,0,211,13,"can Sphinx be configured ---> to get same results as mysql fulltext search I have a mysql database table that contains multiple records of:
 		""word-A"" -- ""words related to word-A""

	For example: 
  		chair -- furniture;table;office-chair;dining-chair
<br>
I am currently using mysql fulltext match-against query (plain match-against , not boolean mode) to match a sentence against those words. 

I am limiting results to 5.
I am using fulltext indexes, and I am also loading these indexes in cache.

This query gives me good quality results, but it is slow (around 100+ ms). 
<br><br><br>
I tried using Sphinx search for this. It is very fast, but results are not similar to those of mysql fulltext query. 
Some results are same but usually in different order, others are totally different results.

For sentence matching purpose, is mysql fulltext better than Sphinx ?
Can I configure Sphinx to get similar results as that of mysql fulltext search ?
<br><br>
Currently I am using following config:

          SPH_MATCH_EXTENDED2

          SPH_SORT_RELEVANCE

          SPH_RANK_PROXIMITY_BM25 (also tried SPH_RANK_BM25)

          stopwords enabled

          The min_word_len is set to 2 - same as that in my mysql config.

Any help is appreciated. 
Thanks.
",3
3459485,08/11/2010 14:37:51,216953,11/23/2009 11:35:08,18,1,"How to add condition ""LIKE ? %something%"" to the product title to this join","> Product.find(:all,
        :conditions => { :companies => { :malls => { :id => 1},:products => {:title => ""nexus one""} }},
        :joins => [:company => :mall])",mysql,ruby-on-rails,,,,,open,0,39,14,"How to add condition ""LIKE ? %something%"" to the product title to this join > Product.find(:all,
        :conditions => { :companies => { :malls => { :id => 1},:products => {:title => ""nexus one""} }},
        :joins => [:company => :mall])",2
462962,01/20/2009 20:27:03,2648,08/23/2008 22:40:47,2927,115,Inexplicable inner query,"I have a nested SQL query that is exhibiting results which I can't understand. The query joins the PARTNER and USER tables via the PARTNER_USER table. A partner is basically a collection of users, and the objective of this query is to figure out when the 20th user registered with the partner that has ID 34:

    select p.partner_id id,
           u.created_on launch_date
    from   user u join partner_user pu
    using (user_id) join partner p
    using (partner_id)
    where  p.partner_id = 34
    and    u.user_id     =
           (select  nu.user_id
           from     user nu
           join     partner_user npu using (user_id)
           join     partner np using (partner_id)
           where    np.partner_id = 34
           order by nu.created_on limit 19, 1)

However, if I make the 2nd last line to

           where    np.partner_id = p.partner_id

   

The query fails with the error message ""Subquery returns more than 1 row"". 
Why does the first query work, but not the second? They look equivalent to me.

Thanks,
Don",mysql,select,inner-join,,,,open,0,275,3,"Inexplicable inner query I have a nested SQL query that is exhibiting results which I can't understand. The query joins the PARTNER and USER tables via the PARTNER_USER table. A partner is basically a collection of users, and the objective of this query is to figure out when the 20th user registered with the partner that has ID 34:

    select p.partner_id id,
           u.created_on launch_date
    from   user u join partner_user pu
    using (user_id) join partner p
    using (partner_id)
    where  p.partner_id = 34
    and    u.user_id     =
           (select  nu.user_id
           from     user nu
           join     partner_user npu using (user_id)
           join     partner np using (partner_id)
           where    np.partner_id = 34
           order by nu.created_on limit 19, 1)

However, if I make the 2nd last line to

           where    np.partner_id = p.partner_id

   

The query fails with the error message ""Subquery returns more than 1 row"". 
Why does the first query work, but not the second? They look equivalent to me.

Thanks,
Don",3
1509945,10/02/2009 14:41:59,1094956,10/02/2009 14:41:59,1,0,"Mysql Mulitple Concat Inner Join, only give one Name","I have three Tables.

table1 = anlass 
table2 = stammdaten_beziehungen
table3 = parameter_zuweisungen_anl


Works fine, CONCAT(`BeziehKuBez`) it give me one Column.
eg. Beziehname
-------
But what i need, is all 'BeziehKuBez' Commaseperated.
eg. Beziehname1, Beziehname2, ...
-------
if have test it with, CONCAT_WS(\',\', `BeziehKuBez`). But give me the same one.
Could i do this with a while loop? But i dont know how?!


This is my query:
""
SELECT  CONCAT(`BeziehKuBez`) AS Bezname
	FROM `stammdaten_beziehungen` AS Beziehung, `anlass` AS anlass
		INNER JOIN `parameter_zuweisungen_anl` 
                     ON  Beziehung.BeziehID = parameter_zuweisungen_anl.ZuwAnlBeziehID
		    WHERE ZuwAnlID = Anlass.AnlID
""",mysql,concat,inner-join,,,,open,0,101,9,"Mysql Mulitple Concat Inner Join, only give one Name I have three Tables.

table1 = anlass 
table2 = stammdaten_beziehungen
table3 = parameter_zuweisungen_anl


Works fine, CONCAT(`BeziehKuBez`) it give me one Column.
eg. Beziehname
-------
But what i need, is all 'BeziehKuBez' Commaseperated.
eg. Beziehname1, Beziehname2, ...
-------
if have test it with, CONCAT_WS(\',\', `BeziehKuBez`). But give me the same one.
Could i do this with a while loop? But i dont know how?!


This is my query:
""
SELECT  CONCAT(`BeziehKuBez`) AS Bezname
	FROM `stammdaten_beziehungen` AS Beziehung, `anlass` AS anlass
		INNER JOIN `parameter_zuweisungen_anl` 
                     ON  Beziehung.BeziehID = parameter_zuweisungen_anl.ZuwAnlBeziehID
		    WHERE ZuwAnlID = Anlass.AnlID
""",3
4197203,11/16/2010 17:44:32,190113,10/14/2009 19:35:33,3,10,mySql WHERE `xml<date>` = '11/21/2010',"i have a mySql database, and it has an field for each entry called xml, which contains XML.
i would like to know if there is syntax to select xml values like normal fields.

for example if i wanted to select all entries with the date of 11/21/2010
i try something like this, but the syntax is wrong, since i don't know how to work with xml well in mySql.

**SELECT * FROM `table` WHERE `xml<date>` = '11/21/2010'**

ideally i would like to compair it to another field.

**SELECT * FROM `table` WHERE `xml<date>` != `date`**",mysql,mysql-query,mysql-select,,,,open,0,90,5,"mySql WHERE `xml<date>` = '11/21/2010' i have a mySql database, and it has an field for each entry called xml, which contains XML.
i would like to know if there is syntax to select xml values like normal fields.

for example if i wanted to select all entries with the date of 11/21/2010
i try something like this, but the syntax is wrong, since i don't know how to work with xml well in mySql.

**SELECT * FROM `table` WHERE `xml<date>` = '11/21/2010'**

ideally i would like to compair it to another field.

**SELECT * FROM `table` WHERE `xml<date>` != `date`**",3
3910585,10/11/2010 23:14:08,155406,08/12/2009 20:54:53,367,9,RODBC Insert Query,"This is my first attempt to throw data back and forth between a local MySQL database and R.  That said, I have a table created in the database and want to insert data into it.  Currently, it is a blank table (created with MySQL Query Browser) and has a PK set.  

I am using the RODBC package (RMySQL gives me errors) and prefer to stick with this library.  

How should I go about inserting the data from a data frame into this table?  Is there a quick solution or do I need to:

 1. Create a new temp table from my dataframe
 2. Insert the data
 3. Drop the temp table

With separate commands?  Any help much appreciated!",mysql,r,,,,,open,0,123,3,"RODBC Insert Query This is my first attempt to throw data back and forth between a local MySQL database and R.  That said, I have a table created in the database and want to insert data into it.  Currently, it is a blank table (created with MySQL Query Browser) and has a PK set.  

I am using the RODBC package (RMySQL gives me errors) and prefer to stick with this library.  

How should I go about inserting the data from a data frame into this table?  Is there a quick solution or do I need to:

 1. Create a new temp table from my dataframe
 2. Insert the data
 3. Drop the temp table

With separate commands?  Any help much appreciated!",2
10479716,05/07/2012 09:31:32,1379388,05/07/2012 09:25:39,1,0,adding values to fields of a table repeatedly,"I am trying to insert text values to the field 'img' of a table called counterimg in my database. Now, the table looks like this:

id	img
1	0.jpg
2	1.jpg
3	3.jpg
4	4.jpg
5	5.jpg
6	6.jpg
7	7.jpg
8	8.jpg
9	9.jpg
10	0.jpg
11	1.jpg
12	2.jpg
13	3.jpg

.............

What I would like to do is to keep adding such that for every 10 values for example between id = 30 to 40, the img values should be 0.jpg to 9.jpg. This should continue till, id = 999.

How do I do that in mysql or using mysql query (in some sort of loop)??

Kindly help.",mysql,text,add,fields,values,,open,0,79,8,"adding values to fields of a table repeatedly I am trying to insert text values to the field 'img' of a table called counterimg in my database. Now, the table looks like this:

id	img
1	0.jpg
2	1.jpg
3	3.jpg
4	4.jpg
5	5.jpg
6	6.jpg
7	7.jpg
8	8.jpg
9	9.jpg
10	0.jpg
11	1.jpg
12	2.jpg
13	3.jpg

.............

What I would like to do is to keep adding such that for every 10 values for example between id = 30 to 40, the img values should be 0.jpg to 9.jpg. This should continue till, id = 999.

How do I do that in mysql or using mysql query (in some sort of loop)??

Kindly help.",5
2440429,03/13/2010 23:13:07,39539,11/21/2008 02:37:15,499,5,MySQL Query to Count Unique Domains from Email Address field,"I'd like to get a better idea of what domains my customers are using. I could easily do this in PHP by `explode`ing each address and counting the domain that way. But I'm wondering if there's a way to get this information with just a plain MySQL query?

This is what sample output would look like:

`gmail.com | 3942`

`yahoo.com | 3852`

`hotmail.com | 209`

... and so on, where the first column is the email addresses domain, and the 2nd column is the number of addresses at that domain.",mysql,email,domain,count,,,open,0,85,10,"MySQL Query to Count Unique Domains from Email Address field I'd like to get a better idea of what domains my customers are using. I could easily do this in PHP by `explode`ing each address and counting the domain that way. But I'm wondering if there's a way to get this information with just a plain MySQL query?

This is what sample output would look like:

`gmail.com | 3942`

`yahoo.com | 3852`

`hotmail.com | 209`

... and so on, where the first column is the email addresses domain, and the 2nd column is the number of addresses at that domain.",4
6693621,07/14/2011 13:06:23,825200,07/01/2011 16:14:33,1,0,Php + mysql drop down db list and mysqldump,"as i m new to php 
i want to make a web page which should give the drop down list of all the databases which are present there and after chosing one it should fire a mysqldump command and store the backup at /tmp of the server.

how i can do that using html and php ?


any help would be good help :-)

Thanks
",mysql,database,php5,mysqldump,,07/14/2011 13:14:24,not a real question,1,62,9,"Php + mysql drop down db list and mysqldump as i m new to php 
i want to make a web page which should give the drop down list of all the databases which are present there and after chosing one it should fire a mysqldump command and store the backup at /tmp of the server.

how i can do that using html and php ?


any help would be good help :-)

Thanks
",4
10562383,05/12/2012 09:08:24,733287,05/01/2011 13:00:26,2301,186,"how to enter user name , password , db name , in mysql connection by user input in batch file","hi i am using a code to add a `sql` file to my `database` in a `batch` file . it works . 

my code 

    C:
    cd\xampp\mysql\bin
    mysql -u root -e ""source C:\xampp\htdocs\internet_wk_1.7\db\master_db.sql"" kani


the case is i want to get user input values to `user name` , `password` and `database` name , instead of hard code those values . 


currently my username hard coded as `root`


i want to do like this


user should get a message


    please enter your user name :

when i did it 

     please enter your password :


after that 


     please enter your database name :


then the script shout proceed . how to do this , please help . thanks in advance 



",mysql,sql,windows,batch,batch-file,,open,0,135,20,"how to enter user name , password , db name , in mysql connection by user input in batch file hi i am using a code to add a `sql` file to my `database` in a `batch` file . it works . 

my code 

    C:
    cd\xampp\mysql\bin
    mysql -u root -e ""source C:\xampp\htdocs\internet_wk_1.7\db\master_db.sql"" kani


the case is i want to get user input values to `user name` , `password` and `database` name , instead of hard code those values . 


currently my username hard coded as `root`


i want to do like this


user should get a message


    please enter your user name :

when i did it 

     please enter your password :


after that 


     please enter your database name :


then the script shout proceed . how to do this , please help . thanks in advance 



",5
8149545,11/16/2011 09:45:02,1035411,11/08/2011 10:36:25,13,0,Pass array to MySQL stored routine,"I need to pass an array of strings as parameter to a **MySQL** stored routine. The array could be long and its number of elements is not fixed. I then want to put the string values into an in-memory table with one column, so I can work with the data. I don't know if this can be done in MySQL. Maybe dirty workarounds are needed.

For example, I have the strings *Banana*, *Apple*, and *Orange*. Now I want to get data on these fruits from my MySQL `Fruits` table. Pseudo code:

    create function GetFruits(Array fruitArray) 
       declare @temp table as
          fruitName varchar(100)
       end
    
       @temp = convert fruitArray to table
       select * from Fruits where Name in (select fruitName from @temp)
    end

Microsoft SQL Server allows you to use the `TEXT` datatype and submit the array as an XML string, swiftly creating the in-memory table. However, I don't think that technique is possible in MySQL.

Any help on how to do this would be appreciated!",mysql,arrays,parameter-passing,,,,open,0,204,6,"Pass array to MySQL stored routine I need to pass an array of strings as parameter to a **MySQL** stored routine. The array could be long and its number of elements is not fixed. I then want to put the string values into an in-memory table with one column, so I can work with the data. I don't know if this can be done in MySQL. Maybe dirty workarounds are needed.

For example, I have the strings *Banana*, *Apple*, and *Orange*. Now I want to get data on these fruits from my MySQL `Fruits` table. Pseudo code:

    create function GetFruits(Array fruitArray) 
       declare @temp table as
          fruitName varchar(100)
       end
    
       @temp = convert fruitArray to table
       select * from Fruits where Name in (select fruitName from @temp)
    end

Microsoft SQL Server allows you to use the `TEXT` datatype and submit the array as an XML string, swiftly creating the in-memory table. However, I don't think that technique is possible in MySQL.

Any help on how to do this would be appreciated!",3
5353595,03/18/2011 14:42:56,504277,11/11/2010 09:09:57,533,55,related to Mysql query,"I have 2 tables.Below given is structure

Table1
=======
No Name

1 Test1

2 Test2

2 Test3

Table 2
===========

t_no, t_name, no

1     tname1  1

2     tname2  2

How can i write Query ...So that i can get below given record set

**t_no, t_name, Name**

1,     tname1  Test1

2     tname2   **Test3**


",mysql,,,,,,open,0,58,4,"related to Mysql query I have 2 tables.Below given is structure

Table1
=======
No Name

1 Test1

2 Test2

2 Test3

Table 2
===========

t_no, t_name, no

1     tname1  1

2     tname2  2

How can i write Query ...So that i can get below given record set

**t_no, t_name, Name**

1,     tname1  Test1

2     tname2   **Test3**


",1
4771721,01/23/2011 01:19:33,389867,07/12/2010 20:58:17,1,0,Best memory use in MySql server,"I have a MySql server with 2Gb of memory.
What's the best configuration to use then with best results?
How can I ""distribute"" this memory fine to MySql server?",mysql,linux,,,,01/23/2011 18:44:05,off topic,1,27,6,"Best memory use in MySql server I have a MySql server with 2Gb of memory.
What's the best configuration to use then with best results?
How can I ""distribute"" this memory fine to MySql server?",2
7641877,10/03/2011 23:40:34,960208,09/23/2011 00:18:54,1,0,Ruby mysql mysql2 AND datamapper how to reconnect,"I have something running constantly doing periodic queries. I have used both DataMapper (though I'm doing raw SQL through it) and mysql2.

Using either, occasionally they stop working. I believe it's because the server hiccuped or something.

Nonetheless, everything grinds to a halt, then. Execution on each thread just stops at the query line and that's the end of that.

Is there a way to tell them to reconnect? Or, failing that, can I do it myself. I've been trying using `timeout`, but timeout seems to sort of freeze as well (it enters the block and never leaves, neither via raising an error nor through natural completion).

I simply want the queries, if they fail, to pass on by and on the next time around, try again, reconnecting to the server if necessary. How can I do this?",mysql,ruby,timeout,ruby-datamapper,,,open,0,134,8,"Ruby mysql mysql2 AND datamapper how to reconnect I have something running constantly doing periodic queries. I have used both DataMapper (though I'm doing raw SQL through it) and mysql2.

Using either, occasionally they stop working. I believe it's because the server hiccuped or something.

Nonetheless, everything grinds to a halt, then. Execution on each thread just stops at the query line and that's the end of that.

Is there a way to tell them to reconnect? Or, failing that, can I do it myself. I've been trying using `timeout`, but timeout seems to sort of freeze as well (it enters the block and never leaves, neither via raising an error nor through natural completion).

I simply want the queries, if they fail, to pass on by and on the next time around, try again, reconnecting to the server if necessary. How can I do this?",4
5973095,05/12/2011 03:48:06,749844,05/12/2011 03:48:06,1,0,No SQL links and no sql samples,"I need some examples of no sql codes and some basic idea about it?
And since am beginner in this, i need some suggestion if i can start learning with specific to some databse?",mysql,,,,,05/12/2011 19:11:28,not a real question,1,33,7,"No SQL links and no sql samples I need some examples of no sql codes and some basic idea about it?
And since am beginner in this, i need some suggestion if i can start learning with specific to some databse?",1
6702356,07/15/2011 03:17:48,845747,07/15/2011 03:17:48,1,0,How to get physicians where they have more than one reporting specialty in a system,"I have 2 tables

One Reportingspeciality

ID  Speciality    HospitalName
1    Neurology     Sun
2    Emergency     Jefferson
5    Pulmonary     Mary

Second PhysicianName

FirstName  LastName      ID
Sam         ABC           5
Joseph      DEF           2
Sam         ABC           5
Jackson     DEF           1

Output wanted

PhysicianName
FirstName   LastName    ID   Hospital
Sam           ABC       5     Mary
Sam           ABC       5     Mary
  
also group by ID and Hospital

Please, send me the query for this 
thank you",mysql,,,,,07/15/2011 04:03:40,not a real question,1,192,15,"How to get physicians where they have more than one reporting specialty in a system I have 2 tables

One Reportingspeciality

ID  Speciality    HospitalName
1    Neurology     Sun
2    Emergency     Jefferson
5    Pulmonary     Mary

Second PhysicianName

FirstName  LastName      ID
Sam         ABC           5
Joseph      DEF           2
Sam         ABC           5
Jackson     DEF           1

Output wanted

PhysicianName
FirstName   LastName    ID   Hospital
Sam           ABC       5     Mary
Sam           ABC       5     Mary
  
also group by ID and Hospital

Please, send me the query for this 
thank you",1
7881231,10/24/2011 19:59:07,897369,08/16/2011 19:26:17,29,0,mysqldump hangs server,"I have a problem. I run an open source game software on one of my servers (eAthena) and they use MySQL as their preferred database. However, every time I run mysqldump

 `mysqldump -u backup -p*** eathena > test-backup.sql`

it ends up hanging the server. The eAthena software hangs, and ends up shutting down once it's complete. Is this a size problem? Seeing as how the database is 4.7gb, I'm not sure what to blame. Is there some type of alternative my mysqldump?

I'm running CentOS 6 64bit, MySQL version 5.1.52.
",mysql,centos,mysqldump,,,11/16/2011 08:17:42,off topic,1,88,3,"mysqldump hangs server I have a problem. I run an open source game software on one of my servers (eAthena) and they use MySQL as their preferred database. However, every time I run mysqldump

 `mysqldump -u backup -p*** eathena > test-backup.sql`

it ends up hanging the server. The eAthena software hangs, and ends up shutting down once it's complete. Is this a size problem? Seeing as how the database is 4.7gb, I'm not sure what to blame. Is there some type of alternative my mysqldump?

I'm running CentOS 6 64bit, MySQL version 5.1.52.
",3
3419468,08/04/2010 11:09:35,211097,11/14/2009 17:57:36,381,29,Perl modules: Mysql vs DBI,"A lot of our automated processes use perl and need to access our mysql dbs.  I hate to admit it, but up until recently we haven't really done much benchmarking w/the majority of our processes.  One of our devs setup a test to compare the performance of ""use Mysql"" vs ""use DBI"" w/the following pseudocode:

    for ($i = 1; $i <= 1000; $i++) {
      pull and store all records in a 4,000 record table
    }

Results:
Mysql - 57s, 56s, 57s
DBI - 43s, 42s, 43s

For some reason I was surprised to see DBI performing so much better; considering how little I know about either of the modules.  I realize that there are likely several things wrong w/the benchmark that was run and that everyone's setups/results are going to very but I was curious whether others have experienced any sort of performance gain by using DBI vs the Mysql module.",mysql,performance,perl,module,dbi,,open,0,161,5,"Perl modules: Mysql vs DBI A lot of our automated processes use perl and need to access our mysql dbs.  I hate to admit it, but up until recently we haven't really done much benchmarking w/the majority of our processes.  One of our devs setup a test to compare the performance of ""use Mysql"" vs ""use DBI"" w/the following pseudocode:

    for ($i = 1; $i <= 1000; $i++) {
      pull and store all records in a 4,000 record table
    }

Results:
Mysql - 57s, 56s, 57s
DBI - 43s, 42s, 43s

For some reason I was surprised to see DBI performing so much better; considering how little I know about either of the modules.  I realize that there are likely several things wrong w/the benchmark that was run and that everyone's setups/results are going to very but I was curious whether others have experienced any sort of performance gain by using DBI vs the Mysql module.",5
5685552,04/16/2011 09:28:20,465359,10/03/2010 20:09:12,17,0,I have a PleskMainDbException error when I try to use Plesk,"I have a PleskMainDbException error when I try to use Plesk! How can I can fix this error?
I have a Centos server!",mysql,apache,plesk,,,04/16/2011 22:21:07,off topic,1,22,11,"I have a PleskMainDbException error when I try to use Plesk I have a PleskMainDbException error when I try to use Plesk! How can I can fix this error?
I have a Centos server!",3
8612243,12/23/2011 04:27:40,565033,01/06/2011 06:16:37,18,0,Ruby on Rails server won't start: dyld: lazy symbol binding failed: Symbol not found: _mysql_get_client_info,"Environment (Mac OS X 10.7.2 - Lion):

    $ ruby -v
    ruby 1.9.3p0 (2011-10-30 revision 33570) [x86_64-darwin10]
    $ rails -v
    Rails 3.1.3
    $ mysql -v
    Server version: 5.1.44 


I try running the following but I'm greeted with the same error every time even after applying fixes from all over the web:

    $ rails server

    dyld: lazy symbol binding failed: Symbol not found: _mysql_get_client_info
    Referenced from: /Users/pressplay/.rvm/gems/ruby-1.9.3-p0/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle
    Expected in: flat namespace

    dyld: Symbol not found: _mysql_get_client_info
    Referenced from: /Users/pressplay/.rvm/gems/ruby-1.9.3-p0/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle
    Expected in: flat namespace

    Trace/BPT trap: 5


Failed attempts at fixing include:
     
    sudo install_name_tool -change libmysqlclient.16.dylib /Applications/MAMP/Library/lib/mysql/libmysqlclient.16.dylib ~/.rvm/gems/ruby-1.9.3-p0/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle

    sudo ln -s /Applications/MAMP/Library/lib/mysql/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib",mysql,ruby-on-rails,ruby,osx-lion,,,open,0,152,15,"Ruby on Rails server won't start: dyld: lazy symbol binding failed: Symbol not found: _mysql_get_client_info Environment (Mac OS X 10.7.2 - Lion):

    $ ruby -v
    ruby 1.9.3p0 (2011-10-30 revision 33570) [x86_64-darwin10]
    $ rails -v
    Rails 3.1.3
    $ mysql -v
    Server version: 5.1.44 


I try running the following but I'm greeted with the same error every time even after applying fixes from all over the web:

    $ rails server

    dyld: lazy symbol binding failed: Symbol not found: _mysql_get_client_info
    Referenced from: /Users/pressplay/.rvm/gems/ruby-1.9.3-p0/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle
    Expected in: flat namespace

    dyld: Symbol not found: _mysql_get_client_info
    Referenced from: /Users/pressplay/.rvm/gems/ruby-1.9.3-p0/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle
    Expected in: flat namespace

    Trace/BPT trap: 5


Failed attempts at fixing include:
     
    sudo install_name_tool -change libmysqlclient.16.dylib /Applications/MAMP/Library/lib/mysql/libmysqlclient.16.dylib ~/.rvm/gems/ruby-1.9.3-p0/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle

    sudo ln -s /Applications/MAMP/Library/lib/mysql/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib",4
3249789,07/14/2010 19:35:59,391989,07/14/2010 19:35:54,1,0,Does anyone know of a tool for setting up a database for QA?  And then resetting it?,"Here is what I am looking for.  I would love to have a tool that can be used to populate a database, allow us to do some interactive testing, and then reset the database to where it was before we started using it.  Kind of like a DB fixture for unit testing, but for a user to use instead of an automated test suite.  Does something like this exist?

This would be for MySQL.  We use php/mysql as our main platform.

Thanks!",mysql,qa,sqa,,,,open,0,84,18,"Does anyone know of a tool for setting up a database for QA?  And then resetting it? Here is what I am looking for.  I would love to have a tool that can be used to populate a database, allow us to do some interactive testing, and then reset the database to where it was before we started using it.  Kind of like a DB fixture for unit testing, but for a user to use instead of an automated test suite.  Does something like this exist?

This would be for MySQL.  We use php/mysql as our main platform.

Thanks!",3
7827150,10/19/2011 19:42:06,43923,12/06/2008 12:30:41,331,8,Trigger to generate unique md5 hash before insert,"I'm trying to create a trigger that will associate an unique random string to every record inserted in a table.

So far I created a trigger, on before insert, that will generate and add the hash to the table. However, I'm wondering how should I go about ensuring this new hash is **unique for my table**.

So far I have the trigger below, but as you can see the uniques part is missing...

    BEGIN
    DECLARE newhash VARCHAR(255);
    SELECT MD5(CONCAT(NOW(),RAND())) INTO newhash;
    SET NEW.`hash` = newhash;
    END",mysql,triggers,unique-key,,,,open,0,99,8,"Trigger to generate unique md5 hash before insert I'm trying to create a trigger that will associate an unique random string to every record inserted in a table.

So far I created a trigger, on before insert, that will generate and add the hash to the table. However, I'm wondering how should I go about ensuring this new hash is **unique for my table**.

So far I have the trigger below, but as you can see the uniques part is missing...

    BEGIN
    DECLARE newhash VARCHAR(255);
    SELECT MD5(CONCAT(NOW(),RAND())) INTO newhash;
    SET NEW.`hash` = newhash;
    END",3
9320129,02/16/2012 22:31:59,1543017,04/14/2011 16:02:12,54,1,Batch update column in phpMyAdmin,"I want to update a specific column for all rows in a table in phpMyAdmin.

I use this:

    UPDATE tablename SET column1 = '2' WHERE column1 = '1'

However I get this error message:

    
    #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'column1 = 2 WHERE column1 = 1' at line 2",mysql,phpmyadmin,,,,,open,0,79,5,"Batch update column in phpMyAdmin I want to update a specific column for all rows in a table in phpMyAdmin.

I use this:

    UPDATE tablename SET column1 = '2' WHERE column1 = '1'

However I get this error message:

    
    #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'column1 = 2 WHERE column1 = 1' at line 2",2
4887372,02/03/2011 14:30:09,552422,12/23/2010 13:47:10,116,9,Setting up .NET MVC3 with MySQL,"Hy Guys,

How can I configure the webconfig to access a mysql db using MVC 3?

To use SQLExpress I included this code to configure in an example...

    <add name=""MovieDBContext""
         connectionString=""Server=.\SQLEXPRESS;
         Database=Movies;Trusted_Connection=true""
         providerName=""System.Data.SqlClient"" />

I'm using Entity Framework.

PS.: I don't want to automatically create tables with the MVC. I want to create them manually.

Thks!",mysql,entity-framework-4,asp.net-mvc-3,,,,open,0,78,6,"Setting up .NET MVC3 with MySQL Hy Guys,

How can I configure the webconfig to access a mysql db using MVC 3?

To use SQLExpress I included this code to configure in an example...

    <add name=""MovieDBContext""
         connectionString=""Server=.\SQLEXPRESS;
         Database=Movies;Trusted_Connection=true""
         providerName=""System.Data.SqlClient"" />

I'm using Entity Framework.

PS.: I don't want to automatically create tables with the MVC. I want to create them manually.

Thks!",3
6705356,07/15/2011 09:56:51,846205,07/15/2011 09:56:51,1,0,what's the benefits of using a single global namespace for all data?,"http://highscalability.com/google-architecture

> > Future Directions For Google:
> 
> 1. Support geo-distributed clusters. 
> 
> 2. Create
> a single global namespace for all data. Currently data is segregated
> by cluster. 
> 
> 3. More and better automated migration of data and
> computation. 
> 
> 4. Solve consistency issues that happen when you couple wide
> area replication with network partitioning (e.g. keeping services up
> even if a cluster goes offline for maintenance or due to some sort of
> outage).

Can someone explain point 2. What's the point of having a single globla namespace for all data? I'm having trouble understanding the benefits of that concept.",mysql,sql-server,database,google,scalability,07/15/2011 16:46:47,not a real question,1,101,12,"what's the benefits of using a single global namespace for all data? http://highscalability.com/google-architecture

> > Future Directions For Google:
> 
> 1. Support geo-distributed clusters. 
> 
> 2. Create
> a single global namespace for all data. Currently data is segregated
> by cluster. 
> 
> 3. More and better automated migration of data and
> computation. 
> 
> 4. Solve consistency issues that happen when you couple wide
> area replication with network partitioning (e.g. keeping services up
> even if a cluster goes offline for maintenance or due to some sort of
> outage).

Can someone explain point 2. What's the point of having a single globla namespace for all data? I'm having trouble understanding the benefits of that concept.",5
9880454,03/26/2012 21:55:57,1289409,03/24/2012 01:24:48,1,0,Requiring a query to get the expected result,"It will be great if you help me to get a query for my expected result as follows: 

**Use the sql create table:** 

    CREATE TABLE `tblbusiman` (
      `WMC` varchar(15) NOT NULL DEFAULT '',
      `Wnm` varchar(250) NOT NULL DEFAULT '',
      `Intro` varchar(20) NOT NULL DEFAULT '',
      PRIMARY KEY (`WMC`)
    ) ENGINE=InnoDB DEFAULT CHARSET=latin1$$


**Insert data are:** 

    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1','RAJU','CMP');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1A','RAJU WIFE 1','A1');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1AA','R-WIFE 1 SON','A1A');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1B','RAJU WIFE 2','A1');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A2','BABU','CMP');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A2A','BABU WIFE 1','A2');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('CMP','Company','C');


**My expected/required Result (WMC):**
--------------------------------------

**IF user select WMC = A1 THEN**

    A1A
    A1AA
    A1B


**IF user select WMC=CMP THEN** 

    A1
    A1A
    A1AA
    A1B
    A2
    A2A


Note: i am using mysql db. but no matter about query. 

Expecting your valuable reply ",mysql,sql,query,,,03/26/2012 23:40:05,too localized,1,218,8,"Requiring a query to get the expected result It will be great if you help me to get a query for my expected result as follows: 

**Use the sql create table:** 

    CREATE TABLE `tblbusiman` (
      `WMC` varchar(15) NOT NULL DEFAULT '',
      `Wnm` varchar(250) NOT NULL DEFAULT '',
      `Intro` varchar(20) NOT NULL DEFAULT '',
      PRIMARY KEY (`WMC`)
    ) ENGINE=InnoDB DEFAULT CHARSET=latin1$$


**Insert data are:** 

    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1','RAJU','CMP');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1A','RAJU WIFE 1','A1');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1AA','R-WIFE 1 SON','A1A');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A1B','RAJU WIFE 2','A1');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A2','BABU','CMP');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('A2A','BABU WIFE 1','A2');
    INSERT INTO `tblbusiman` (`WMC`,`Wnm`,`Intro`) VALUES ('CMP','Company','C');


**My expected/required Result (WMC):**
--------------------------------------

**IF user select WMC = A1 THEN**

    A1A
    A1AA
    A1B


**IF user select WMC=CMP THEN** 

    A1
    A1A
    A1AA
    A1B
    A2
    A2A


Note: i am using mysql db. but no matter about query. 

Expecting your valuable reply ",3
11506385,07/16/2012 14:24:30,1064310,11/24/2011 16:11:07,1,0,"xcode login page, access mysql database",I have looked at other questions but they don't help.  I am only just starting.  I am creating an app.  I need to create a login page with username and password (and a login button).  I am not sure any of what to do.  Help Please.,mysql,xcode,,,,07/16/2012 20:42:49,not a real question,1,51,6,"xcode login page, access mysql database I have looked at other questions but they don't help.  I am only just starting.  I am creating an app.  I need to create a login page with username and password (and a login button).  I am not sure any of what to do.  Help Please.",2
6674274,07/13/2011 04:56:39,157837,08/17/2009 15:30:24,1211,35,Select case when query not working,"I am not sure how cases work with mysql, can anyone explain what's wrong with this query?

    CASE WHEN SELECT COUNT(*) from websites where website_id = 171 and master = 2 > 0
    SELECT timestamp from websites where website_id = 171 and master = 2 
    ELSE SELECT NOW() as timestamp",mysql,query,,,,,open,0,60,6,"Select case when query not working I am not sure how cases work with mysql, can anyone explain what's wrong with this query?

    CASE WHEN SELECT COUNT(*) from websites where website_id = 171 and master = 2 > 0
    SELECT timestamp from websites where website_id = 171 and master = 2 
    ELSE SELECT NOW() as timestamp",2
10320278,04/25/2012 16:54:23,1076389,12/01/2011 22:12:25,678,71,Time-constraint query,"I have the following table:

id | roomid | courseid | day(NUM) | start(TIME) | end(TIME)


This is one part of larget query that I am stuck with. How can I show all id's that have NO time break in between on specific day? Kind of stuck here. 
I guess I have to use 'ADDTIME()' function to to find out the course that have 0. I think that I have been looking at it for quite some time now and I am stuck!
",mysql,sql,,,,,open,0,81,2,"Time-constraint query I have the following table:

id | roomid | courseid | day(NUM) | start(TIME) | end(TIME)


This is one part of larget query that I am stuck with. How can I show all id's that have NO time break in between on specific day? Kind of stuck here. 
I guess I have to use 'ADDTIME()' function to to find out the course that have 0. I think that I have been looking at it for quite some time now and I am stuck!
",2
10489844,05/07/2012 22:10:04,310429,04/06/2010 21:47:34,888,8,MySQL LEFTJOIN queries,"I need some assistance building this query correctly. I pretty much typed out what I'm trying to do. Its not the best example but it a start at explaining. if anyone can point me in the right direction that would be great.


    SELECT 
        entry_id,
        author_id,
        title,
        status
    FROM exp_channel_titles
    WHERE title LIKE %Member Package% 
    AND status = 'complete'
    
    LEFTJOIN
    SELECT
        entry_id, 
        field_id_14,
        field_id_15,
        field_id_25,
        field_id_27, 
        field_id_28, 
        field_id_29, 
        field_id_30,
        field_id_31,
        field_id_32,
        field_id_33,
        field_id_34,
        field_id_35
    FROM exp_channel_data
    WHERE entry_id = exp_channel_titles.entry_id
    
    LEFTJOIN
    SELECT   
        member_id,
        email
    FROM exp_members
    WHERE member_id = exp_channel_titles.author_id",mysql,,,,,05/08/2012 04:16:13,not a real question,1,275,3,"MySQL LEFTJOIN queries I need some assistance building this query correctly. I pretty much typed out what I'm trying to do. Its not the best example but it a start at explaining. if anyone can point me in the right direction that would be great.


    SELECT 
        entry_id,
        author_id,
        title,
        status
    FROM exp_channel_titles
    WHERE title LIKE %Member Package% 
    AND status = 'complete'
    
    LEFTJOIN
    SELECT
        entry_id, 
        field_id_14,
        field_id_15,
        field_id_25,
        field_id_27, 
        field_id_28, 
        field_id_29, 
        field_id_30,
        field_id_31,
        field_id_32,
        field_id_33,
        field_id_34,
        field_id_35
    FROM exp_channel_data
    WHERE entry_id = exp_channel_titles.entry_id
    
    LEFTJOIN
    SELECT   
        member_id,
        email
    FROM exp_members
    WHERE member_id = exp_channel_titles.author_id",1
2970353,06/03/2010 22:51:38,276575,02/18/2010 23:57:06,33,13,Why this doesn't work: [MySQL][ODBC 5.1 Driver]Access denied for user,"So I know that there is a very similar question to this all over the web as well as stack overflow:

http://stackoverflow.com/questions/2539961/error-access-denied-for-user-mysql-server

but my question I think is different. So I have set up a linked server and it works...I have the correct permissions set up for my IP's that I am using.  However the problem arises when our user ""webuser@correctIP"" tries to access it.  Therefore, any user using window authentication is allowed to access it and works great...but any that are not using windows authentication are blocked.  

However, I have tried all the common solutions such as setting up a strict password, changing security settings in Microsoft SQL Server etc.  Nothing is working.  Any help is appreciated.  Thanks.

FYI: I am using this from Microsoft SQL Server 2008 -> mysql (through myphpadmin)",mysql,sql-server-2008,phpmyadmin,,,,open,0,136,10,"Why this doesn't work: [MySQL][ODBC 5.1 Driver]Access denied for user So I know that there is a very similar question to this all over the web as well as stack overflow:

http://stackoverflow.com/questions/2539961/error-access-denied-for-user-mysql-server

but my question I think is different. So I have set up a linked server and it works...I have the correct permissions set up for my IP's that I am using.  However the problem arises when our user ""webuser@correctIP"" tries to access it.  Therefore, any user using window authentication is allowed to access it and works great...but any that are not using windows authentication are blocked.  

However, I have tried all the common solutions such as setting up a strict password, changing security settings in Microsoft SQL Server etc.  Nothing is working.  Any help is appreciated.  Thanks.

FYI: I am using this from Microsoft SQL Server 2008 -> mysql (through myphpadmin)",3
10111294,04/11/2012 17:52:52,1212133,02/15/2012 18:34:37,3,1,how to read data from excel sheet and store into mysql database,"i've a requirement in java(spring) to read data from an excel sheet and store in mysql database,here i've to read data from excel sheet for every 5mins only one row for each read and store in mysql database.can anyone help me how to do this.
thanks in advance.",mysql,apache,,,,04/30/2012 13:56:38,not a real question,1,47,12,"how to read data from excel sheet and store into mysql database i've a requirement in java(spring) to read data from an excel sheet and store in mysql database,here i've to read data from excel sheet for every 5mins only one row for each read and store in mysql database.can anyone help me how to do this.
thanks in advance.",2
8223082,11/22/2011 06:56:06,382906,07/04/2010 01:40:57,2158,65,mysql workbench visualization for schema,i have an existing database and have recently downloaded mysql workbench. I was wondering if anyone could walk me through how to navigate the workbench and how to get a visualization of the RDB. I'd like to know how all the tables are related to each other.,mysql,mysql-workbench,,,,11/22/2011 11:31:46,not a real question,1,47,5,mysql workbench visualization for schema i have an existing database and have recently downloaded mysql workbench. I was wondering if anyone could walk me through how to navigate the workbench and how to get a visualization of the RDB. I'd like to know how all the tables are related to each other.,2
7317815,09/06/2011 09:36:29,665679,03/18/2011 07:48:45,11,1,Mysql on Windows XP on VirtualBox very slow,"For flyway (http://code.google.com/p/flyway) CI integration tests on Jenkins (Ubuntu) we use a Windows XP image on VirtualBox 4.1 on which the  the supported DBs (DB2, MySQL, PostgreSQL, Oracle, SQLServer) are installed. Everything works fine and we connect via virtualbox port forwarding feature to the DBs on the virtual machine.

But only for MySQL the simple test's run extremely slow (minutes instead of several seconds) and we had to raise the timeout to get them green.

The tests are running fast if a local MySQL instance is used.

Does anybody have an idea what may be the reason for this, or how we can track/analyze the problem?

Greets Chris",mysql,virtualbox,flyway,,,09/06/2011 13:59:48,off topic,1,105,8,"Mysql on Windows XP on VirtualBox very slow For flyway (http://code.google.com/p/flyway) CI integration tests on Jenkins (Ubuntu) we use a Windows XP image on VirtualBox 4.1 on which the  the supported DBs (DB2, MySQL, PostgreSQL, Oracle, SQLServer) are installed. Everything works fine and we connect via virtualbox port forwarding feature to the DBs on the virtual machine.

But only for MySQL the simple test's run extremely slow (minutes instead of several seconds) and we had to raise the timeout to get them green.

The tests are running fast if a local MySQL instance is used.

Does anybody have an idea what may be the reason for this, or how we can track/analyze the problem?

Greets Chris",3
11298048,07/02/2012 17:00:56,789090,03/22/2011 12:03:04,1038,100,"MySQL datatime data type seems to work incorrectly on time, it is 00:00:00 always","I have a table in my MySQL database with `datetime` data type. It seems there is a problem on it. When I insert new rows, time section fills with zero (00:00:00) always.  

> Example: 2012-07-02 00:00:00

Please help me.",mysql,datetime,,,,07/02/2012 17:12:27,not a real question,1,39,14,"MySQL datatime data type seems to work incorrectly on time, it is 00:00:00 always I have a table in my MySQL database with `datetime` data type. It seems there is a problem on it. When I insert new rows, time section fills with zero (00:00:00) always.  

> Example: 2012-07-02 00:00:00

Please help me.",2
8783684,01/09/2012 03:42:17,426935,08/21/2010 04:46:46,30,1,How can I enable the General Log for MySQL for use with MAMP?,"How can I enable the General Log for MySQL for use with MAMP?

I've tried setting values in the **my.cnf** file, which seem to have taken affect as shown by the output when I run the **SHOW VARIABLES;** command from within Terminal.

However, when I execute an SQL query or reload a PHP page on the MAMP server that reads data from the MySQL database, the general log file isn't created or populated.

Here's the part of content of **my.cnf** that I have set:

    # The MySQL server
    [mysqld]
    #port		= 9999
    socket		= /Applications/MAMP/tmp/mysql/mysql.sock
    key_buffer = 16M
    max_allowed_packet = 1M
    table_cache = 64
    sort_buffer_size = 512K
    net_buffer_length = 8K
    read_buffer_size = 256K
    read_rnd_buffer_size = 512K
    myisam_sort_buffer_size = 8M
    bind-address = 127.0.0.1
    general_log = 1
    general_log_file = /Applications/MAMP/logs/mysql_general_sql.log

Here's part of the output from running **SHOW VARIABLES** statement:

    mysql> show variables;
    +---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
    | Variable_name                                     | Value                                                                                                                  |
    +---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
    | ...                                               | ...                                                                                                                    |
    | general_log                                       | ON                                                                                                                     |
    | general_log_file                                  | /Applications/MAMP/logs/mysql_general_sql.log                                                                          |
    | log                                               | ON                                                                                                                     |
    | log_bin                                           | OFF                                                                                                                    |
    | log_bin_trust_function_creators                   | OFF                                                                                                                    |
    | log_error                                         | /Applications/MAMP/logs/mysql_error_log.err                                                                            |
    | log_output                                        | FILE                                                                                                                   |
    | log_queries_not_using_indexes                     | OFF                                                                                                                    |
    | log_slave_updates                                 | OFF                                                                                                                    |
    | log_slow_queries                                  | OFF                                                                                                                    |
    | log_warnings                                      | 1                                                                                                                      |
    | long_query_time                                   | 10.000000                                                                                                              |
    | relay_log                                         |                                                                                                                        |
    | relay_log_index                                   |                                                                                                                        |
    | relay_log_info_file                               | relay-log.info                                                                                                         |
    | relay_log_purge                                   | ON                                                                                                                     |
    | relay_log_recovery                                | OFF                                                                                                                    |
    | relay_log_space_limit                             | 0                                                                                                                      |
    | report_host                                       |                                                                                                                        |
    | report_password                                   |                                                                                                                        |
    | report_port                                       | 3306                                                                                                                   |
    | report_user                                       |                                                                                                                        |
    | server_id                                         | 1                                                                                                                      |
    | slow_launch_time                                  | 2                                                                                                                      |
    | slow_query_log                                    | OFF                                                                                                                    |
    | slow_query_log_file                               | /Library/Application Support/appsolute/MAMP PRO/db/mysql/tim-slow.log                                                  |
    | socket                                            | /Applications/MAMP/tmp/mysql/mysql.sock                                                                                |
    | sql_log_bin                                       | ON                                                                                                                     |
    | sql_log_off                                       | OFF                                                                                                                    |
    | ...                                               | ...                                                                                                                    |
    +---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
    318 rows in set (0.01 sec)

Is there something I'm missing?

Thanks   
Turgs",mysql,osx,logging,mamp,,,open,0,5113,13,"How can I enable the General Log for MySQL for use with MAMP? How can I enable the General Log for MySQL for use with MAMP?

I've tried setting values in the **my.cnf** file, which seem to have taken affect as shown by the output when I run the **SHOW VARIABLES;** command from within Terminal.

However, when I execute an SQL query or reload a PHP page on the MAMP server that reads data from the MySQL database, the general log file isn't created or populated.

Here's the part of content of **my.cnf** that I have set:

    # The MySQL server
    [mysqld]
    #port		= 9999
    socket		= /Applications/MAMP/tmp/mysql/mysql.sock
    key_buffer = 16M
    max_allowed_packet = 1M
    table_cache = 64
    sort_buffer_size = 512K
    net_buffer_length = 8K
    read_buffer_size = 256K
    read_rnd_buffer_size = 512K
    myisam_sort_buffer_size = 8M
    bind-address = 127.0.0.1
    general_log = 1
    general_log_file = /Applications/MAMP/logs/mysql_general_sql.log

Here's part of the output from running **SHOW VARIABLES** statement:

    mysql> show variables;
    +---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
    | Variable_name                                     | Value                                                                                                                  |
    +---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
    | ...                                               | ...                                                                                                                    |
    | general_log                                       | ON                                                                                                                     |
    | general_log_file                                  | /Applications/MAMP/logs/mysql_general_sql.log                                                                          |
    | log                                               | ON                                                                                                                     |
    | log_bin                                           | OFF                                                                                                                    |
    | log_bin_trust_function_creators                   | OFF                                                                                                                    |
    | log_error                                         | /Applications/MAMP/logs/mysql_error_log.err                                                                            |
    | log_output                                        | FILE                                                                                                                   |
    | log_queries_not_using_indexes                     | OFF                                                                                                                    |
    | log_slave_updates                                 | OFF                                                                                                                    |
    | log_slow_queries                                  | OFF                                                                                                                    |
    | log_warnings                                      | 1                                                                                                                      |
    | long_query_time                                   | 10.000000                                                                                                              |
    | relay_log                                         |                                                                                                                        |
    | relay_log_index                                   |                                                                                                                        |
    | relay_log_info_file                               | relay-log.info                                                                                                         |
    | relay_log_purge                                   | ON                                                                                                                     |
    | relay_log_recovery                                | OFF                                                                                                                    |
    | relay_log_space_limit                             | 0                                                                                                                      |
    | report_host                                       |                                                                                                                        |
    | report_password                                   |                                                                                                                        |
    | report_port                                       | 3306                                                                                                                   |
    | report_user                                       |                                                                                                                        |
    | server_id                                         | 1                                                                                                                      |
    | slow_launch_time                                  | 2                                                                                                                      |
    | slow_query_log                                    | OFF                                                                                                                    |
    | slow_query_log_file                               | /Library/Application Support/appsolute/MAMP PRO/db/mysql/tim-slow.log                                                  |
    | socket                                            | /Applications/MAMP/tmp/mysql/mysql.sock                                                                                |
    | sql_log_bin                                       | ON                                                                                                                     |
    | sql_log_off                                       | OFF                                                                                                                    |
    | ...                                               | ...                                                                                                                    |
    +---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
    318 rows in set (0.01 sec)

Is there something I'm missing?

Thanks   
Turgs",4
5152810,03/01/2011 09:47:39,604536,02/05/2011 16:51:18,1,0,the count time is too long,"    SELECT  
    sql_no_cache   
    COUNT(p.id)   
    FROM shop_products p    
    LEFT OUTER JOIN shop_currency currency ON (p.currencyId=currency.id)   
    INNER JOIN shop_l2p l2p2 FORCE INDEX(show2) ON (p.id=l2p2.pid and l2p2.status>0)   
    INNER JOIN shop_labels l2 ON (l2p2.lid=l2.id and l2.type=2 and l2.status=1)   
    LEFT JOIN shop_l2p l2p3 ON (p.id=l2p3.pid and l2p3.status=1)   
    LEFT JOIN shop_labels l3 ON (l2p3.lid=l3.id and l3.type=3 and l3.status=1)   
    WHERE 
    CONCAT(p.label,l3.label,l2.label,p.stockCode) LIKE '%moda%'  
    AND p.status='1'  A
    ND p.stockAmount<>0  
    AND p.isOption=0 
    limit 1;

    +-------------+
    | COUNT(p.id) |
    +-------------+
    |        6669 |
    +-------------+
    1 row in set (3.91 sec)

with a different idea?

",mysql,,,,,03/25/2012 16:25:40,not a real question,1,187,6,"the count time is too long     SELECT  
    sql_no_cache   
    COUNT(p.id)   
    FROM shop_products p    
    LEFT OUTER JOIN shop_currency currency ON (p.currencyId=currency.id)   
    INNER JOIN shop_l2p l2p2 FORCE INDEX(show2) ON (p.id=l2p2.pid and l2p2.status>0)   
    INNER JOIN shop_labels l2 ON (l2p2.lid=l2.id and l2.type=2 and l2.status=1)   
    LEFT JOIN shop_l2p l2p3 ON (p.id=l2p3.pid and l2p3.status=1)   
    LEFT JOIN shop_labels l3 ON (l2p3.lid=l3.id and l3.type=3 and l3.status=1)   
    WHERE 
    CONCAT(p.label,l3.label,l2.label,p.stockCode) LIKE '%moda%'  
    AND p.status='1'  A
    ND p.stockAmount<>0  
    AND p.isOption=0 
    limit 1;

    +-------------+
    | COUNT(p.id) |
    +-------------+
    |        6669 |
    +-------------+
    1 row in set (3.91 sec)

with a different idea?

",1
11699482,07/28/2012 08:32:08,1414520,05/24/2012 08:39:57,50,3,Vb.NET Client Server Push Notification,"I am a an amateur in Vb.NET programming, or in this case any programming language that needs push server notification.

I am currently making an application which requires the server to send a notification if Client A is making a task assigned to Client B.

I can only imagine to create another application on the server which up all the time and listens to any changes happening on the database, and then if there any changes send a notification to assigned user.

Is there any better approach?

Can someone point me to a good resource?

Any help will be greatly appreciated.

Thank you. ",mysql,vb.net,push-notification,vb.net-2010,,07/30/2012 02:21:58,not constructive,1,98,5,"Vb.NET Client Server Push Notification I am a an amateur in Vb.NET programming, or in this case any programming language that needs push server notification.

I am currently making an application which requires the server to send a notification if Client A is making a task assigned to Client B.

I can only imagine to create another application on the server which up all the time and listens to any changes happening on the database, and then if there any changes send a notification to assigned user.

Is there any better approach?

Can someone point me to a good resource?

Any help will be greatly appreciated.

Thank you. ",4
6776840,07/21/2011 13:29:59,855001,07/21/2011 00:36:59,28,0,we can implement NoSQL with SQL ?,"Since NoSQL is just a concept, how true is this statement: **we can implement NoSQL with SQL**",mysql,sql-server,database,data,nosql,07/21/2011 14:51:25,not a real question,1,17,7,"we can implement NoSQL with SQL ? Since NoSQL is just a concept, how true is this statement: **we can implement NoSQL with SQL**",5
6084207,05/21/2011 20:15:42,222427,12/01/2009 21:04:28,671,4,mysql update query help,"What I want to do do is compare two tables, and update in tableb where column doesn't match the same column.

I know in SQL this is

update tableb
set myInt = 1
where tableA.Column <> tableb.column

How is this done is MySQl?

Basically all I want to do is where tableA doesn't have the same value in tableB update tableB.",mysql,,,,,,open,0,55,4,"mysql update query help What I want to do do is compare two tables, and update in tableb where column doesn't match the same column.

I know in SQL this is

update tableb
set myInt = 1
where tableA.Column <> tableb.column

How is this done is MySQl?

Basically all I want to do is where tableA doesn't have the same value in tableB update tableB.",1
6789612,07/22/2011 11:54:32,857852,07/22/2011 11:54:32,1,0,What about writing a large data volume at 80.000 records/second?,"Perhaps someone can share an opinion on this? I'm currently looking into a solution to storing between 500 million and 4 billion records per day into a single (or 2) table(s) in a database with a minimum writing rate of 70.000 records/second. A record contains roughly 30 variables. We want to load data hourly and in parallel (data is partitioned) up to the machines maximum capacity in terms of CPU, memory and IO. During writing, queries must be possible and they should remain acceptably performant during write operations.

I've been browsing the web to see if others have attempted parallel writing these quantities to a MySQL db but have not found anything specific. Most look at transactions per second, but that is not what we're dealing with here. We're loading raw data and we need to do it fast, in parallel and with zero downtime (ie users must be able to query what's available). Is it worth looking into MySQL to do this job or should we not even consider it if we're not spending a HUGE amount (what do you reckon?) on hardware? 

Note: Diskspace is no issue with SAN storage via GBit FC available in a multicore 64bit 128GB server. I'm not looking for detailed technical solutions, rather feasibility from an expert's point of view with perhaps a few hints/tips to point me in the right direction.

Appreciate your insights. ",mysql,data,parallel-processing,volume,large,07/22/2011 15:03:16,off topic,1,231,10,"What about writing a large data volume at 80.000 records/second? Perhaps someone can share an opinion on this? I'm currently looking into a solution to storing between 500 million and 4 billion records per day into a single (or 2) table(s) in a database with a minimum writing rate of 70.000 records/second. A record contains roughly 30 variables. We want to load data hourly and in parallel (data is partitioned) up to the machines maximum capacity in terms of CPU, memory and IO. During writing, queries must be possible and they should remain acceptably performant during write operations.

I've been browsing the web to see if others have attempted parallel writing these quantities to a MySQL db but have not found anything specific. Most look at transactions per second, but that is not what we're dealing with here. We're loading raw data and we need to do it fast, in parallel and with zero downtime (ie users must be able to query what's available). Is it worth looking into MySQL to do this job or should we not even consider it if we're not spending a HUGE amount (what do you reckon?) on hardware? 

Note: Diskspace is no issue with SAN storage via GBit FC available in a multicore 64bit 128GB server. I'm not looking for detailed technical solutions, rather feasibility from an expert's point of view with perhaps a few hints/tips to point me in the right direction.

Appreciate your insights. ",5
11634198,07/24/2012 15:27:40,1515057,07/10/2012 14:19:14,9,1,Draw Markers on Map getting them values of a database,"I need help, tried in some forums but nobody can solve my problem, I will try here.

I used [this tutorial][1] to put the markers lat. and long. in MySql.

Its working, on DB I can see the created markers.

But I have another page that I want to load this markers.
I dont have any idea how to do this, used links to help me, another users sent me some google links, but I really don't have any idea.

This is my try

[Index][2]

Load: `http://www.inventoresdegaragem.com/dbteste/loady.htm`

I also used another tutorial to save the drawned routes


  [1]: https://developers.google.com/maps/articles/phpsqlinfo_v3
  [2]: http://www.inventoresdegaragem.com/dbteste/index.htm",mysql,google-maps-api-3,,,,07/26/2012 04:26:22,not a real question,1,95,10,"Draw Markers on Map getting them values of a database I need help, tried in some forums but nobody can solve my problem, I will try here.

I used [this tutorial][1] to put the markers lat. and long. in MySql.

Its working, on DB I can see the created markers.

But I have another page that I want to load this markers.
I dont have any idea how to do this, used links to help me, another users sent me some google links, but I really don't have any idea.

This is my try

[Index][2]

Load: `http://www.inventoresdegaragem.com/dbteste/loady.htm`

I also used another tutorial to save the drawned routes


  [1]: https://developers.google.com/maps/articles/phpsqlinfo_v3
  [2]: http://www.inventoresdegaragem.com/dbteste/index.htm",2
390512,12/24/2008 00:44:15,24218,10/01/2008 16:53:04,53,6,Add a time-field formated as MM:SS (MySQL),"I want to add a new time-field to a an existing MySQL-table that is formated like this ""MM:SS"". The field is supposed to hold duration-data. What is the correct MySQL syntax to do this? Couldn't find anything that covers this on the MySQL-site.",mysql,,,,,,open,0,43,7,"Add a time-field formated as MM:SS (MySQL) I want to add a new time-field to a an existing MySQL-table that is formated like this ""MM:SS"". The field is supposed to hold duration-data. What is the correct MySQL syntax to do this? Couldn't find anything that covers this on the MySQL-site.",1
8854411,01/13/2012 17:07:35,1148129,01/13/2012 16:51:00,1,0,MySQL JOIN problems with two child tables,"I'm learning MySQL JOINs now and one thing I want to know is how to JOIN two child tables with one father table.

In this case, the query is this:

    SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
    SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
    SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL';
    
    DROP SCHEMA IF EXISTS `test` ;
    
    CREATE SCHEMA IF NOT EXISTS `test` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
    
    USE `test`;
    
    CREATE  TABLE IF NOT EXISTS `test`.`objetos` (
      `idobjetos` INT(11) NOT NULL AUTO_INCREMENT ,
      `modelo` VARCHAR(45) NULL DEFAULT NULL ,
      `descricao` VARCHAR(45) NULL DEFAULT NULL ,
      `token_dono` VARCHAR(41) NOT NULL ,
      PRIMARY KEY (`idobjetos`, `token_dono`) ,
      INDEX `token_dono` (`token_dono` ASC) )
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    CREATE  TABLE IF NOT EXISTS `test`.`empresas` (
      `idempresa` INT(11) NULL DEFAULT NULL AUTO_INCREMENT ,
      `nome` VARCHAR(45) NULL DEFAULT NULL ,
      `cnpj` VARCHAR(45) NULL DEFAULT NULL ,
      `email` VARCHAR(45) NULL DEFAULT NULL ,
      `telefone` VARCHAR(45) NULL DEFAULT NULL ,
      `token` VARCHAR(41) NOT NULL ,
      PRIMARY KEY (`idempresa`, `token`) ,
      INDEX `token_empresa` (`token` ASC) ,
      UNIQUE INDEX `cnpj_UNIQUE` (`cnpj` ASC) ,
      UNIQUE INDEX `email_UNIQUE` (`email` ASC) ,
      UNIQUE INDEX `telefone_UNIQUE` (`telefone` ASC) ,
      CONSTRAINT `token_empresa`
        FOREIGN KEY (`token` )
        REFERENCES `test`.`objetos` (`token_dono` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    CREATE  TABLE IF NOT EXISTS `test`.`civis` (
      `idcivil` INT(11) NOT NULL AUTO_INCREMENT ,
      `nome` VARCHAR(45) NULL DEFAULT NULL ,
      `cpf` VARCHAR(45) NULL DEFAULT NULL ,
      `email` VARCHAR(45) NULL DEFAULT NULL ,
      `token` VARCHAR(41) NOT NULL ,
      PRIMARY KEY (`idcivil`, `token`) ,
      INDEX `token_civil` (`token` ASC) ,
      UNIQUE INDEX `cpf_UNIQUE` (`cpf` ASC) ,
      UNIQUE INDEX `email_UNIQUE` (`email` ASC) ,
      CONSTRAINT `token_civil`
        FOREIGN KEY (`token` )
        REFERENCES `test`.`objetos` (`token_dono` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    CREATE  TABLE IF NOT EXISTS `test`.`an_users` (
      `id` INT(11) NULL DEFAULT NULL AUTO_INCREMENT ,
      `usuario` VARCHAR(45) NULL DEFAULT NULL ,
      `senha` VARCHAR(45) NULL DEFAULT NULL ,
      `cod_usuario` INT(11) NOT NULL ,
      PRIMARY KEY (`id`, `cod_usuario`) ,
      INDEX `cod_usuario_fk` (`cod_usuario` ASC) ,
      CONSTRAINT `cod_usuario_fk`
        FOREIGN KEY (`cod_usuario` )
        REFERENCES `test`.`empresas` (`idempresa` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    
    SET SQL_MODE=@OLD_SQL_MODE;
    SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
    SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

And I've inserted these values:

    INSERT INTO `mydb`.`objetos` VALUES (NULL, 'Cadeira XTT', 'Quê?', SHA1(CONCAT(3913123612,'one@gmail.com')));
    INSERT INTO `mydb`.`objetos` VALUES (NULL, 'Mesa TTX', 'Hein?', SHA1(CONCAT(4313123612,'two@gmail.com')));
    INSERT INTO `mydb`.`objetos` VALUES (NULL, 'Prédio TT', 'Hein?', SHA1(CONCAT(73358847000116,'buzz@gmail.com')));
    
    INSERT INTO `mydb`.`civis` VALUES (NULL, 'One', 3913123612, 'one@gmail.com', SHA1(CONCAT(3913123612,'one@gmail.com')));
    INSERT INTO `mydb`.`civis` VALUES (NULL, 'Two', 4313123612, 'two@gmail.com', SHA1(CONCAT(4313123612,'two@gmail.com')));
    
    INSERT INTO `mydb`.`empresas` VALUES(NULL, 'Buzz', 73358847000116, 'buzz@gmail.com', 33270743, SHA1(CONCAT(73358847000116,'buzz@gmail.com')));

But there are some problems when I want to retrieve the recorded data. The NATURAL JOIN doesn't work as the expected, taking only the rows with the same token and I can't to this:

    SELECT * 
    FROM objetos 
    
    JOIN civis 
    ON(objetos.token_dono = civis.token) 
    
    JOIN empresas 
    ON(objetos.token_dono = empresas.token)

To list all ""objetos"" from database with correct informations. But as I've tested it not work.

If someone can give me a light with these problems I'll be grateful.",mysql,database,join,,,,open,0,936,7,"MySQL JOIN problems with two child tables I'm learning MySQL JOINs now and one thing I want to know is how to JOIN two child tables with one father table.

In this case, the query is this:

    SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
    SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
    SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL';
    
    DROP SCHEMA IF EXISTS `test` ;
    
    CREATE SCHEMA IF NOT EXISTS `test` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
    
    USE `test`;
    
    CREATE  TABLE IF NOT EXISTS `test`.`objetos` (
      `idobjetos` INT(11) NOT NULL AUTO_INCREMENT ,
      `modelo` VARCHAR(45) NULL DEFAULT NULL ,
      `descricao` VARCHAR(45) NULL DEFAULT NULL ,
      `token_dono` VARCHAR(41) NOT NULL ,
      PRIMARY KEY (`idobjetos`, `token_dono`) ,
      INDEX `token_dono` (`token_dono` ASC) )
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    CREATE  TABLE IF NOT EXISTS `test`.`empresas` (
      `idempresa` INT(11) NULL DEFAULT NULL AUTO_INCREMENT ,
      `nome` VARCHAR(45) NULL DEFAULT NULL ,
      `cnpj` VARCHAR(45) NULL DEFAULT NULL ,
      `email` VARCHAR(45) NULL DEFAULT NULL ,
      `telefone` VARCHAR(45) NULL DEFAULT NULL ,
      `token` VARCHAR(41) NOT NULL ,
      PRIMARY KEY (`idempresa`, `token`) ,
      INDEX `token_empresa` (`token` ASC) ,
      UNIQUE INDEX `cnpj_UNIQUE` (`cnpj` ASC) ,
      UNIQUE INDEX `email_UNIQUE` (`email` ASC) ,
      UNIQUE INDEX `telefone_UNIQUE` (`telefone` ASC) ,
      CONSTRAINT `token_empresa`
        FOREIGN KEY (`token` )
        REFERENCES `test`.`objetos` (`token_dono` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    CREATE  TABLE IF NOT EXISTS `test`.`civis` (
      `idcivil` INT(11) NOT NULL AUTO_INCREMENT ,
      `nome` VARCHAR(45) NULL DEFAULT NULL ,
      `cpf` VARCHAR(45) NULL DEFAULT NULL ,
      `email` VARCHAR(45) NULL DEFAULT NULL ,
      `token` VARCHAR(41) NOT NULL ,
      PRIMARY KEY (`idcivil`, `token`) ,
      INDEX `token_civil` (`token` ASC) ,
      UNIQUE INDEX `cpf_UNIQUE` (`cpf` ASC) ,
      UNIQUE INDEX `email_UNIQUE` (`email` ASC) ,
      CONSTRAINT `token_civil`
        FOREIGN KEY (`token` )
        REFERENCES `test`.`objetos` (`token_dono` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    CREATE  TABLE IF NOT EXISTS `test`.`an_users` (
      `id` INT(11) NULL DEFAULT NULL AUTO_INCREMENT ,
      `usuario` VARCHAR(45) NULL DEFAULT NULL ,
      `senha` VARCHAR(45) NULL DEFAULT NULL ,
      `cod_usuario` INT(11) NOT NULL ,
      PRIMARY KEY (`id`, `cod_usuario`) ,
      INDEX `cod_usuario_fk` (`cod_usuario` ASC) ,
      CONSTRAINT `cod_usuario_fk`
        FOREIGN KEY (`cod_usuario` )
        REFERENCES `test`.`empresas` (`idempresa` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8
    COLLATE = utf8_general_ci;
    
    
    SET SQL_MODE=@OLD_SQL_MODE;
    SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
    SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

And I've inserted these values:

    INSERT INTO `mydb`.`objetos` VALUES (NULL, 'Cadeira XTT', 'Quê?', SHA1(CONCAT(3913123612,'one@gmail.com')));
    INSERT INTO `mydb`.`objetos` VALUES (NULL, 'Mesa TTX', 'Hein?', SHA1(CONCAT(4313123612,'two@gmail.com')));
    INSERT INTO `mydb`.`objetos` VALUES (NULL, 'Prédio TT', 'Hein?', SHA1(CONCAT(73358847000116,'buzz@gmail.com')));
    
    INSERT INTO `mydb`.`civis` VALUES (NULL, 'One', 3913123612, 'one@gmail.com', SHA1(CONCAT(3913123612,'one@gmail.com')));
    INSERT INTO `mydb`.`civis` VALUES (NULL, 'Two', 4313123612, 'two@gmail.com', SHA1(CONCAT(4313123612,'two@gmail.com')));
    
    INSERT INTO `mydb`.`empresas` VALUES(NULL, 'Buzz', 73358847000116, 'buzz@gmail.com', 33270743, SHA1(CONCAT(73358847000116,'buzz@gmail.com')));

But there are some problems when I want to retrieve the recorded data. The NATURAL JOIN doesn't work as the expected, taking only the rows with the same token and I can't to this:

    SELECT * 
    FROM objetos 
    
    JOIN civis 
    ON(objetos.token_dono = civis.token) 
    
    JOIN empresas 
    ON(objetos.token_dono = empresas.token)

To list all ""objetos"" from database with correct informations. But as I've tested it not work.

If someone can give me a light with these problems I'll be grateful.",3
9350511,02/19/2012 15:32:41,1014779,10/26/2011 14:33:56,20,0,Connect to Wampserver Database,"I'm using JSP and I want to connect to a local mySQL database thorough my Java files.

I have this :

Connection connection = DriverManager.getConnection(<database_path>,""admin"",""admin"");

What should the path be?",mysql,database,wampserver,,,,open,0,27,4,"Connect to Wampserver Database I'm using JSP and I want to connect to a local mySQL database thorough my Java files.

I have this :

Connection connection = DriverManager.getConnection(<database_path>,""admin"",""admin"");

What should the path be?",3
5428677,03/25/2011 04:52:38,162115,08/24/2009 14:44:06,16,0,Rename all models in rails application without losing data. Database used is mySQL,"In my rails application, all models to be renamed with out losing data. The database in use is mySQl. Please help me in this regard",mysql,ruby-on-rails,,,,,open,0,25,13,"Rename all models in rails application without losing data. Database used is mySQL In my rails application, all models to be renamed with out losing data. The database in use is mySQl. Please help me in this regard",2
3816880,09/28/2010 20:40:33,383609,07/05/2010 11:20:27,38,3,MySQL 'OR' not working,"I want to do this query: `SELECT * FROM mail WHERE tag_draft=0 AND (target_id=2 OR source_id=2) GROUP BY created DESC`, but it returns no rows. Now, if I do this query: `SELECT * FROM mail WHERE tag_draft=0 AND target_id=2 GROUP BY created DESC` then it works fine - every row with a `target_id` of 2 is selected. If I substitute `target_id` with `source_id`, it works fine too. The thing is, I want to select rows where the target **OR** source ID is 2 (2 used as an example here), however running the query first stated (`SELECT * FROM mail WHERE tag_draft=0 AND (target_id=2 OR source_id=2) GROUP BY created DESC`), with or without inner brackets, returns no rows. I cannot figure out why this will not work, other than I'm doing something wrong with the OR bit. 

Thanks,

James",mysql,logic,,,,,open,0,137,4,"MySQL 'OR' not working I want to do this query: `SELECT * FROM mail WHERE tag_draft=0 AND (target_id=2 OR source_id=2) GROUP BY created DESC`, but it returns no rows. Now, if I do this query: `SELECT * FROM mail WHERE tag_draft=0 AND target_id=2 GROUP BY created DESC` then it works fine - every row with a `target_id` of 2 is selected. If I substitute `target_id` with `source_id`, it works fine too. The thing is, I want to select rows where the target **OR** source ID is 2 (2 used as an example here), however running the query first stated (`SELECT * FROM mail WHERE tag_draft=0 AND (target_id=2 OR source_id=2) GROUP BY created DESC`), with or without inner brackets, returns no rows. I cannot figure out why this will not work, other than I'm doing something wrong with the OR bit. 

Thanks,

James",2
10626009,05/16/2012 20:13:42,641718,03/02/2011 18:06:20,58,8,Unique key vs Candidate key / Superkey (MySQL),"The following SQL code creates a table with 3 unique keys, named <code>a1</code>, <code>a2</code> and <code>a_b</code>.

    SHOW VARIABLES WHERE Variable_name = 'version';    # 5.0.51b

    CREATE TABLE __TABLE__ (
    `a` INT,
    `b` INT,
    UNIQUE KEY `a1`(`a`),
    UNIQUE KEY `a2`(`a`),
    UNIQUE KEY `a_b`(`a`,`b`)
    );                                       # INDEX_NAME    COLUMN_NAME
                                             # -------------------------
    SELECT INDEX_NAME, COLUMN_NAME           # a1            a
    FROM information_schema.STATISTICS       # a2            a
    WHERE TABLE_NAME = '__TABLE__';          # a_b           a
                                             # a_b           b

    DROP TABLE __TABLE__;     # cleanup

According to the result of the <code>SELECT</code> query (on the right), the attribute sets of <code>a1</code>, <code>a2</code> and <code>a_b</code> are <code>{a}</code>, <code>{a}</code> and <code>{a,b}</code>, respectively. In particular, <code>a1</code> and <code>a2</code> are different keys with identical sets of attributes and <code>a1</code> and <code>a_b</code> are keys with strict inclusion between their sets of attributes.

Does it mean that, in MySQL, the concept of <i>unique key</i> does NOT correspond to either of the concepts of <i>candidate key</i> / <i>superkey</i>?
",mysql,sql,,,,,open,0,386,8,"Unique key vs Candidate key / Superkey (MySQL) The following SQL code creates a table with 3 unique keys, named <code>a1</code>, <code>a2</code> and <code>a_b</code>.

    SHOW VARIABLES WHERE Variable_name = 'version';    # 5.0.51b

    CREATE TABLE __TABLE__ (
    `a` INT,
    `b` INT,
    UNIQUE KEY `a1`(`a`),
    UNIQUE KEY `a2`(`a`),
    UNIQUE KEY `a_b`(`a`,`b`)
    );                                       # INDEX_NAME    COLUMN_NAME
                                             # -------------------------
    SELECT INDEX_NAME, COLUMN_NAME           # a1            a
    FROM information_schema.STATISTICS       # a2            a
    WHERE TABLE_NAME = '__TABLE__';          # a_b           a
                                             # a_b           b

    DROP TABLE __TABLE__;     # cleanup

According to the result of the <code>SELECT</code> query (on the right), the attribute sets of <code>a1</code>, <code>a2</code> and <code>a_b</code> are <code>{a}</code>, <code>{a}</code> and <code>{a,b}</code>, respectively. In particular, <code>a1</code> and <code>a2</code> are different keys with identical sets of attributes and <code>a1</code> and <code>a_b</code> are keys with strict inclusion between their sets of attributes.

Does it mean that, in MySQL, the concept of <i>unique key</i> does NOT correspond to either of the concepts of <i>candidate key</i> / <i>superkey</i>?
",2
3171099,07/03/2010 09:54:38,87154,04/04/2009 19:51:53,90,2,SQL how to count all rows up to a max value,"I am having trouble counting the number of rows until it reaches a certain PK.

My PK is called id and I want to count all rows until i reach a specified id

I have tried using this query but it doesn't work probably becuase I am using a MySQL table

    select max(count(*)) from news where id=18 group by id

I get this error

>Invalid use of group function
",mysql,count,max,,,,open,0,68,11,"SQL how to count all rows up to a max value I am having trouble counting the number of rows until it reaches a certain PK.

My PK is called id and I want to count all rows until i reach a specified id

I have tried using this query but it doesn't work probably becuase I am using a MySQL table

    select max(count(*)) from news where id=18 group by id

I get this error

>Invalid use of group function
",3
11405916,07/10/2012 02:44:26,1306052,04/01/2012 08:15:17,22,0,SQL statement (Order by),"I need to order my data by the latest date. 

This SQL statment is **working** <br/>
final String selectSql = ""select * from questionnaire where userprofileid="" + userProfileID ;

This SQL statment is ** **NOT working**** <br/>
final String selectSql = ""select * from questionnaire where userprofileid="" + userProfileID +""ORDER by datecreated desc"";

Error Message: <br/>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'by datecreated desc' at line 1",mysql,,,,,07/10/2012 02:51:38,too localized,1,83,4,"SQL statement (Order by) I need to order my data by the latest date. 

This SQL statment is **working** <br/>
final String selectSql = ""select * from questionnaire where userprofileid="" + userProfileID ;

This SQL statment is ** **NOT working**** <br/>
final String selectSql = ""select * from questionnaire where userprofileid="" + userProfileID +""ORDER by datecreated desc"";

Error Message: <br/>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'by datecreated desc' at line 1",1
2759270,05/03/2010 15:48:36,181707,09/30/2009 10:00:38,123,7,Complex Join - involving date ranges and sum...,"I have two tables that I need to join... I want to join table1 and table2 on 'id' - however in table two id is not unique. I only want one value returned for table two, and this value represents the sum of a column called 'total_sold' - within a specified date range (say one month)..

    SELECT ta.id, tb.total_sold as total_sold_this_week
    FROM table_a as ta
    LEFT JOIN table_b as tb ON ta.id=tb.id AND tb.date_sold BETWEEN ADDDATE(NOW(),INTERVAL -3 WEEK) AND NOW()

this works but does not SUM the rows - only returning one row for each id... how do I get the sum from table b instead of only one row???
Please criticise if format of question could use more work - I can rewrite and provide sample data if required - this is a trivialised version of a much larger problem.

-Thanks

",mysql,join,sum,between,,,open,0,148,8,"Complex Join - involving date ranges and sum... I have two tables that I need to join... I want to join table1 and table2 on 'id' - however in table two id is not unique. I only want one value returned for table two, and this value represents the sum of a column called 'total_sold' - within a specified date range (say one month)..

    SELECT ta.id, tb.total_sold as total_sold_this_week
    FROM table_a as ta
    LEFT JOIN table_b as tb ON ta.id=tb.id AND tb.date_sold BETWEEN ADDDATE(NOW(),INTERVAL -3 WEEK) AND NOW()

this works but does not SUM the rows - only returning one row for each id... how do I get the sum from table b instead of only one row???
Please criticise if format of question could use more work - I can rewrite and provide sample data if required - this is a trivialised version of a much larger problem.

-Thanks

",4
10397168,05/01/2012 11:41:46,1367615,05/01/2012 11:01:32,1,0,Optimizing the mysql join when a lot of repetitive data in the column to join on,"I have two tables, which I need to join by one column and is indexed in both the tables. But both the columns of those two tables, consist of same values repeating many a times. So the columns used for joining look something like this:  

TableA.column2     Table B.column3  

        1             2  
        1             2  
        1             1  
        4             1  
        4             4  
        5             3  
Now as far as I understand from BNL and BKA algorithms, they would take on the rows from table A one by one and look for the matching records in table B. But it would not make any sense to look for the matching records for the second row of this A table because the value is again ""1"" for which, it already has matching records from the operations performed for row1 that has the same column value.  
It is just the wastage of time and resources. It would have been better if it could pick the distinct values in Table A.column2 and then look for the matching records in table B.column3 and then just club them all together.  
Can you please tell me some another algorithm for joining operations in mysql that does the kind of thing that I am talking about.??",mysql,,,,,,open,0,337,16,"Optimizing the mysql join when a lot of repetitive data in the column to join on I have two tables, which I need to join by one column and is indexed in both the tables. But both the columns of those two tables, consist of same values repeating many a times. So the columns used for joining look something like this:  

TableA.column2     Table B.column3  

        1             2  
        1             2  
        1             1  
        4             1  
        4             4  
        5             3  
Now as far as I understand from BNL and BKA algorithms, they would take on the rows from table A one by one and look for the matching records in table B. But it would not make any sense to look for the matching records for the second row of this A table because the value is again ""1"" for which, it already has matching records from the operations performed for row1 that has the same column value.  
It is just the wastage of time and resources. It would have been better if it could pick the distinct values in Table A.column2 and then look for the matching records in table B.column3 and then just club them all together.  
Can you please tell me some another algorithm for joining operations in mysql that does the kind of thing that I am talking about.??",1
8242565,11/23/2011 12:57:33,1039275,11/10/2011 08:00:41,23,0,Error installing mysql2 with windows,"It's strange the I can install mysql2 with this command:
`$ gem install mysql2 --platform=ruby -- '--with-mysql-lib=""c:\Program Files\MySQL\MySQL Server 5.5\lib"" --with-mysql-include=""c:\Program Files\MySQL\MySQL Server 5.5\include""'` Following is the results:

    Temporarily enhancing PATH to include DevKit...
    Building native extensions.  This could take a while...
    Successfully installed mysql2-0.3.10
    1 gem installed
    Installing ri documentation for mysql2-0.3.10...
    Installing RDoc documentation for mysql2-0.3.10...

But when I'm running `bundle install` (apperently I have a lot of gems needs to install), it is failed to install mysql2, so `bundle install` stopped there, that really drives me crazy... anyone could help? a tons of thanks!
Below is the result from `bundle install`:

    Installing mysql2 (0.3.8) with native extensions
    Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension
    .
    
            c:/Ruby192/bin/ruby.exe extconf.rb
    checking for rb_thread_blocking_region()... yes
    checking for rb_wait_for_single_fd()... no
    checking for main() in -llibmysql... no
    *** extconf.rb failed ***
    Could not create Makefile due to some reason, probably lack of
    necessary libraries and/or headers.  Check the mkmf.log file for more
    details.  You may need configuration options.
    
    Provided configuration options:
            --with-opt-dir
            --without-opt-dir
            --with-opt-include
            --without-opt-include=${opt-dir}/include
            --with-opt-lib
            --without-opt-lib=${opt-dir}/lib
            --with-make-prog
            --without-make-prog
            --srcdir=.
            --curdir
            --ruby=c:/Ruby192/bin/ruby
            --with-mysql-dir
            --without-mysql-dir
            --with-mysql-include
            --without-mysql-include=${mysql-dir}/include
            --with-mysql-lib
            --without-mysql-lib=${mysql-dir}/lib
            --with-libmysqllib
            --without-libmysqllib
    
    
    Gem files will remain installed in G:/Desktop/20090319-/Rails Examples/ClockingI
    T/vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.8 for inspection.
    Results logged to G:/Desktop/20090319-/Rails Examples/ClockingIT/vendor/bundle/r
    uby/1.9.1/gems/mysql2-0.3.8/ext/mysql2/gem_make.out
    An error occured while installing mysql2 (0.3.8), and Bundler cannot continue.
    Make sure that `gem install mysql2 -v '0.3.8'` succeeds before bundling.",mysql,ruby,devkit,,,,open,0,532,5,"Error installing mysql2 with windows It's strange the I can install mysql2 with this command:
`$ gem install mysql2 --platform=ruby -- '--with-mysql-lib=""c:\Program Files\MySQL\MySQL Server 5.5\lib"" --with-mysql-include=""c:\Program Files\MySQL\MySQL Server 5.5\include""'` Following is the results:

    Temporarily enhancing PATH to include DevKit...
    Building native extensions.  This could take a while...
    Successfully installed mysql2-0.3.10
    1 gem installed
    Installing ri documentation for mysql2-0.3.10...
    Installing RDoc documentation for mysql2-0.3.10...

But when I'm running `bundle install` (apperently I have a lot of gems needs to install), it is failed to install mysql2, so `bundle install` stopped there, that really drives me crazy... anyone could help? a tons of thanks!
Below is the result from `bundle install`:

    Installing mysql2 (0.3.8) with native extensions
    Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension
    .
    
            c:/Ruby192/bin/ruby.exe extconf.rb
    checking for rb_thread_blocking_region()... yes
    checking for rb_wait_for_single_fd()... no
    checking for main() in -llibmysql... no
    *** extconf.rb failed ***
    Could not create Makefile due to some reason, probably lack of
    necessary libraries and/or headers.  Check the mkmf.log file for more
    details.  You may need configuration options.
    
    Provided configuration options:
            --with-opt-dir
            --without-opt-dir
            --with-opt-include
            --without-opt-include=${opt-dir}/include
            --with-opt-lib
            --without-opt-lib=${opt-dir}/lib
            --with-make-prog
            --without-make-prog
            --srcdir=.
            --curdir
            --ruby=c:/Ruby192/bin/ruby
            --with-mysql-dir
            --without-mysql-dir
            --with-mysql-include
            --without-mysql-include=${mysql-dir}/include
            --with-mysql-lib
            --without-mysql-lib=${mysql-dir}/lib
            --with-libmysqllib
            --without-libmysqllib
    
    
    Gem files will remain installed in G:/Desktop/20090319-/Rails Examples/ClockingI
    T/vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.8 for inspection.
    Results logged to G:/Desktop/20090319-/Rails Examples/ClockingIT/vendor/bundle/r
    uby/1.9.1/gems/mysql2-0.3.8/ext/mysql2/gem_make.out
    An error occured while installing mysql2 (0.3.8), and Bundler cannot continue.
    Make sure that `gem install mysql2 -v '0.3.8'` succeeds before bundling.",3
9371117,02/21/2012 02:01:40,158126,08/18/2009 01:57:25,348,1,What to do to keep MySQL databases running in peak performance?,"I have a MySQL database that is continually growing. 

Every once in a while I OPTIMIZE all the tables. Would this be the sort of thing I should put a on a cron job daily or weekly? 

Are there any specific tasks I could set to run automatically that keeps the database in top performance?

Thanks

Ben",mysql,,,,,02/21/2012 06:59:46,off topic,1,55,11,"What to do to keep MySQL databases running in peak performance? I have a MySQL database that is continually growing. 

Every once in a while I OPTIMIZE all the tables. Would this be the sort of thing I should put a on a cron job daily or weekly? 

Are there any specific tasks I could set to run automatically that keeps the database in top performance?

Thanks

Ben",1
11413219,07/10/2012 12:22:35,1514707,07/10/2012 12:03:23,1,0,How to restore mysql from only myi files?,"our server hdds has crashed and we didnt have a current backup so we sent our hdds to a data recovery company, they have been working on hdd's for over a week and they have finally managed to save some files from hdds... My problem is saved files are only myi files and they are named numerically so i dont know which one blongs to which mysql table, is it possible to recreate myd and frm files from a myi file? or is there anything else i can do to get current data from myi?",mysql,myisam,,,,07/11/2012 13:29:30,off topic,1,95,8,"How to restore mysql from only myi files? our server hdds has crashed and we didnt have a current backup so we sent our hdds to a data recovery company, they have been working on hdd's for over a week and they have finally managed to save some files from hdds... My problem is saved files are only myi files and they are named numerically so i dont know which one blongs to which mysql table, is it possible to recreate myd and frm files from a myi file? or is there anything else i can do to get current data from myi?",2
3281852,07/19/2010 14:15:37,46011,12/13/2008 19:05:05,2873,87,Pass index to temporary table from regular table?,"
I am creating a temp table with a query like this:

    CREATE TEMPORARY TABLE temp_table
    SELECT * FROM regular_table
    WHERE 1

But regular_table has FULLTEXT index on some of the fields. I try to do a FULLTEXT search on the new temporary table and I get an error telling me *""Can't find FULLTEXT index matching the column list*"". So obviusly the index is not copying over to the new table. Is there a way to force this?

Thanks.",mysql,indexing,temporary-tables,,,,open,0,85,8,"Pass index to temporary table from regular table? 
I am creating a temp table with a query like this:

    CREATE TEMPORARY TABLE temp_table
    SELECT * FROM regular_table
    WHERE 1

But regular_table has FULLTEXT index on some of the fields. I try to do a FULLTEXT search on the new temporary table and I get an error telling me *""Can't find FULLTEXT index matching the column list*"". So obviusly the index is not copying over to the new table. Is there a way to force this?

Thanks.",3
9661345,03/12/2012 03:14:55,1063137,11/24/2011 03:16:25,28,0,differences between mysql on linux vs windows,"Recently, My Company's considering to purchase an application using MySQL. the consultant offers two options :

1. running the apps and mysql server on windows 2008 server, or
2. run the mysql server on linux an the apps on xp virtual machine

I was wondering if anyone could help me get the picture right. My Questions are :

1. are there really differences on performance between MySQL running on linux and Windows server? I've browsed for some views, but have found different opinions. If there are some differences, what causing them? 

2. what key aspect that affect the performance for a mysql  server running on windows xp or windows 2008 server? I mean I don't need the server configuration stuff anyway, right?

( My team has been working with both windows and linux servers, so no problem with the capabilities issue ).

Thank you for helping. :)",mysql,windows,linux,,,03/12/2012 23:45:37,off topic,1,142,7,"differences between mysql on linux vs windows Recently, My Company's considering to purchase an application using MySQL. the consultant offers two options :

1. running the apps and mysql server on windows 2008 server, or
2. run the mysql server on linux an the apps on xp virtual machine

I was wondering if anyone could help me get the picture right. My Questions are :

1. are there really differences on performance between MySQL running on linux and Windows server? I've browsed for some views, but have found different opinions. If there are some differences, what causing them? 

2. what key aspect that affect the performance for a mysql  server running on windows xp or windows 2008 server? I mean I don't need the server configuration stuff anyway, right?

( My team has been working with both windows and linux servers, so no problem with the capabilities issue ).

Thank you for helping. :)",3
10964328,06/09/2012 20:22:46,1446643,06/09/2012 20:19:28,1,0,Is posible to do a select statment in mysql that will always return lenght with it?,"Is posible to do a select statment in mysql that will always return lenght with it?

Somthing like:

SELECT i.*, count(*) as lenght FROM table WHERE somtnigh = '1' AND ...;

And will return all posbile matches and additional column with lenght.",mysql,sql,,,,06/10/2012 11:22:47,not a real question,1,39,16,"Is posible to do a select statment in mysql that will always return lenght with it? Is posible to do a select statment in mysql that will always return lenght with it?

Somthing like:

SELECT i.*, count(*) as lenght FROM table WHERE somtnigh = '1' AND ...;

And will return all posbile matches and additional column with lenght.",2
3579208,08/26/2010 20:27:11,375650,06/24/2010 19:46:51,22,0,how to query related three related tables using one query,"I have three following tables.  The relationship is that each **report_param** and **report_frequency** is tied together using the intermediate table **report_freq_map**.  Is it possible to construct an SQL so that user can select all the report_param rows using the constraint like frequency='daily', instead of using frequency='1'.  

Thanks,
-peter

    mysql> describe report_params;
    +---------------+------------------+------+-----+---------+----------------+
    | Field         | Type             | Null | Key | Default | Extra          |
    +---------------+------------------+------+-----+---------+----------------+
    | id            | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
    | test_level    | varchar(45)      | NO   |     | NULL    |                |
    | sequence_name | varchar(45)      | NO   |     | NULL    |                |
    | step_name     | varchar(45)      | NO   |     | NULL    |                |
    | descriptions  | text             | NO   |     | NULL    |                |
    +---------------+------------------+------+-----+---------+----------------+
    mysql> describe report_frequency;
    +-----------+------------------+------+-----+---------+----------------+
    | Field     | Type             | Null | Key | Default | Extra          |
    +-----------+------------------+------+-----+---------+----------------+
    | id        | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
    | frequency | varchar(25)      | YES  |     | NULL    |                |
    +-----------+------------------+------+-----+---------+----------------+
    
    mysql> describe report_freq_map;
    +-----------+---------+------+-----+---------+-------+
    | Field     | Type    | Null | Key | Default | Extra |
    +-----------+---------+------+-----+---------+-------+
    | report_id | int(11) | NO   | PRI | 0       |       |
    | freq_id   | int(11) | NO   | PRI | 0       |       |
    +-----------+---------+------+-----+---------+-------+

",mysql,join,,,,,open,0,568,10,"how to query related three related tables using one query I have three following tables.  The relationship is that each **report_param** and **report_frequency** is tied together using the intermediate table **report_freq_map**.  Is it possible to construct an SQL so that user can select all the report_param rows using the constraint like frequency='daily', instead of using frequency='1'.  

Thanks,
-peter

    mysql> describe report_params;
    +---------------+------------------+------+-----+---------+----------------+
    | Field         | Type             | Null | Key | Default | Extra          |
    +---------------+------------------+------+-----+---------+----------------+
    | id            | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
    | test_level    | varchar(45)      | NO   |     | NULL    |                |
    | sequence_name | varchar(45)      | NO   |     | NULL    |                |
    | step_name     | varchar(45)      | NO   |     | NULL    |                |
    | descriptions  | text             | NO   |     | NULL    |                |
    +---------------+------------------+------+-----+---------+----------------+
    mysql> describe report_frequency;
    +-----------+------------------+------+-----+---------+----------------+
    | Field     | Type             | Null | Key | Default | Extra          |
    +-----------+------------------+------+-----+---------+----------------+
    | id        | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
    | frequency | varchar(25)      | YES  |     | NULL    |                |
    +-----------+------------------+------+-----+---------+----------------+
    
    mysql> describe report_freq_map;
    +-----------+---------+------+-----+---------+-------+
    | Field     | Type    | Null | Key | Default | Extra |
    +-----------+---------+------+-----+---------+-------+
    | report_id | int(11) | NO   | PRI | 0       |       |
    | freq_id   | int(11) | NO   | PRI | 0       |       |
    +-----------+---------+------+-----+---------+-------+

",2
7351015,09/08/2011 15:57:26,511659,11/18/2010 04:33:39,348,6,Date_format not working when inserting data into a table? (SQL),"Is it valid to do this to change the date format while inserting data?

    $sqlCommand = ""INSERT INTO articles (id, title, content, publicationDate) VALUES ('NULL', '"".$title.""', '"".$content.""', DATE_FORMAT(NOW(), '%b, %e, %Y'))"";

If not, how do I change the default date format (which is currently year-month-day)?",mysql,sql,database,query,,,open,0,47,10,"Date_format not working when inserting data into a table? (SQL) Is it valid to do this to change the date format while inserting data?

    $sqlCommand = ""INSERT INTO articles (id, title, content, publicationDate) VALUES ('NULL', '"".$title.""', '"".$content.""', DATE_FORMAT(NOW(), '%b, %e, %Y'))"";

If not, how do I change the default date format (which is currently year-month-day)?",4
7264918,09/01/2011 00:16:36,920721,08/31/2011 00:32:43,1,0,MySql Query - INSERT INTO command but only without duplicates,"I have this workable query which is inserting proper data into 'selections' table according to some conditions:

    INSERT INTO selections (auctionid, selections.order)
    VALUES 
    ((SELECT id FROM auctions, game WHERE auctions.BetfairMark = game.BetfairMarketID), 1,
    ((SELECT id FROM auctions, game WHERE auctions.BetfairMark = game.BetfairMarketID), 2,
    ((SELECT id FROM auctions, game WHERE auctions.BetfairMark = game.BetfairMarketID), 3

but my problem is how to improve this query to prevent getting same duplicates in table when running this query?

Selections table have 3 columns: id, auctionid, order  where id is autoincrement number generated for each new record. 

So auctionid and order shouldn't be the same values in record. ",mysql,query,select,insert,values,,open,0,118,10,"MySql Query - INSERT INTO command but only without duplicates I have this workable query which is inserting proper data into 'selections' table according to some conditions:

    INSERT INTO selections (auctionid, selections.order)
    VALUES 
    ((SELECT id FROM auctions, game WHERE auctions.BetfairMark = game.BetfairMarketID), 1,
    ((SELECT id FROM auctions, game WHERE auctions.BetfairMark = game.BetfairMarketID), 2,
    ((SELECT id FROM auctions, game WHERE auctions.BetfairMark = game.BetfairMarketID), 3

but my problem is how to improve this query to prevent getting same duplicates in table when running this query?

Selections table have 3 columns: id, auctionid, order  where id is autoincrement number generated for each new record. 

So auctionid and order shouldn't be the same values in record. ",5
9307968,02/16/2012 08:40:57,72530,03/01/2009 20:14:53,496,25,mysql: deadlock logging,"simple log with timestamp and information from `show engine innodb status` will suffice

ideally I want mail notification to receive information about deadlock immediately",mysql,deadlock,,,,02/18/2012 03:49:18,too localized,1,23,3,"mysql: deadlock logging simple log with timestamp and information from `show engine innodb status` will suffice

ideally I want mail notification to receive information about deadlock immediately",2
2364029,03/02/2010 15:00:45,139090,07/15/2009 23:55:19,54,3,MySQL DB design help.,"Pardon the remedial question but my newness to the realm of database design leaves me in a bind quite often.

I have a site that keeps growing with regard to families of information.  In the beginning I had one sort of item I was describing and all was well.  That item occupied one record and had 34 columns (a lot now that I look back) attributed to it of descriptive data.  As I get more and more into this stuff, I see that many developers break out data (when practical) into distinct tables.

I've now got additional tables that relate to the original item but are not always needed when describing the original item so I broke them out so they're not queried unnecessarily.

Anyhow, I have a new item I've been trying to organize which is a USER.  The user table has typical columns like username, email, last_login, path to associated image,  etc.  These users have been making comments, which I keep in yet another table that contains columns with IDs that relate to the user and the item on which they are commenting.

Now... I am in the process of adding the obligatory user profile page to the site.  Should I create yet another table containing only essential profile data or append the existing user record with profile data in the original user table?  I am thinking housekeeping might be a pain if I am to add a ""Remove me from site"" function as I would have to run something that kills the user record, the user profile record, and any other data associated with that user ID in other tables.


Basically what I am asking is should I keep going with this ""granular"" design method - breaking everything out into essential parts or does it ever serve me to consolidate into larger tables?  I see a few instances where if a user deletes their account, I'll be left with a bunch of non-relevant data.  For instance, the original item are restaurants... if I make a table to record ""Visits"" to restaurants, containing the Restaurant ID and the User ID, if the user or restaurant get removed from the site, this ""Visits"" table will have a bunch of useless records saying either ""non existent restaurant was visited by user 45"" or ""Restaurant 21 was visited by non-existent user""

I hope I make sense here... I'm just wondering if it's normal to end up with this ""junk"" data over time.

Thanks much,
Rob",mysql,database-design,,,,,open,0,416,4,"MySQL DB design help. Pardon the remedial question but my newness to the realm of database design leaves me in a bind quite often.

I have a site that keeps growing with regard to families of information.  In the beginning I had one sort of item I was describing and all was well.  That item occupied one record and had 34 columns (a lot now that I look back) attributed to it of descriptive data.  As I get more and more into this stuff, I see that many developers break out data (when practical) into distinct tables.

I've now got additional tables that relate to the original item but are not always needed when describing the original item so I broke them out so they're not queried unnecessarily.

Anyhow, I have a new item I've been trying to organize which is a USER.  The user table has typical columns like username, email, last_login, path to associated image,  etc.  These users have been making comments, which I keep in yet another table that contains columns with IDs that relate to the user and the item on which they are commenting.

Now... I am in the process of adding the obligatory user profile page to the site.  Should I create yet another table containing only essential profile data or append the existing user record with profile data in the original user table?  I am thinking housekeeping might be a pain if I am to add a ""Remove me from site"" function as I would have to run something that kills the user record, the user profile record, and any other data associated with that user ID in other tables.


Basically what I am asking is should I keep going with this ""granular"" design method - breaking everything out into essential parts or does it ever serve me to consolidate into larger tables?  I see a few instances where if a user deletes their account, I'll be left with a bunch of non-relevant data.  For instance, the original item are restaurants... if I make a table to record ""Visits"" to restaurants, containing the Restaurant ID and the User ID, if the user or restaurant get removed from the site, this ""Visits"" table will have a bunch of useless records saying either ""non existent restaurant was visited by user 45"" or ""Restaurant 21 was visited by non-existent user""

I hope I make sense here... I'm just wondering if it's normal to end up with this ""junk"" data over time.

Thanks much,
Rob",2
7948659,10/30/2011 23:25:22,359866,06/06/2010 20:05:55,556,8,Rails: how to find all users older then n minutes ago where n is stored in joined group,"I have `User` model and `Group` model. `User` belongs_to `Group`. `Group` has an attribute `check_minutes`. 

I want to create two scopes in User model: `old` and `fresh`. Old users is users with `created_at` older than `user.group.check_minutes.ago`. And fresh users is users with `created_at` newer than `user.group.check_minutes.ago`.

I wrote the scopes:

      scope :old,   joins(:group).where(""`users`.`created_at` <=
            DATE_SUB(NOW(), INTERVAL `groups`.`check_minutes` MINUTE)"")
      scope :fresh, joins(:group).where(""`users`.`created_at` >
            DATE_SUB(NOW(), INTERVAL `groups`.`check_minutes` MINUTE)"")

And specs:

      describe ""scopes"" do
        let(:group) {Group.make :check_minutes => 20}
        let(:old_user) {User.make :group => group, :created_at => 30.minutes.ago}
        let(:new_user) {User.make :group => group, :created_at => 10.minutes.ago}
    
        context ""#fresh"" do
          it ""should scope all new users"" do
            User.fresh.should eq([ new_user ])
          end
        end
        context ""#old"" do
          it ""should scope all old users"" do
            User.old.should eq([ old_user ])
          end
        end
      end

Specs fails on `fresh` (for `old` it is ok):

      expected  [#<User id: 7967, ... >]
            got []

What's wrong?! How to force my scopes\specs to work well? 

It would be great If you know the better way to organize scopes!

",mysql,ruby-on-rails,datetime,rspec,scope,,open,0,333,18,"Rails: how to find all users older then n minutes ago where n is stored in joined group I have `User` model and `Group` model. `User` belongs_to `Group`. `Group` has an attribute `check_minutes`. 

I want to create two scopes in User model: `old` and `fresh`. Old users is users with `created_at` older than `user.group.check_minutes.ago`. And fresh users is users with `created_at` newer than `user.group.check_minutes.ago`.

I wrote the scopes:

      scope :old,   joins(:group).where(""`users`.`created_at` <=
            DATE_SUB(NOW(), INTERVAL `groups`.`check_minutes` MINUTE)"")
      scope :fresh, joins(:group).where(""`users`.`created_at` >
            DATE_SUB(NOW(), INTERVAL `groups`.`check_minutes` MINUTE)"")

And specs:

      describe ""scopes"" do
        let(:group) {Group.make :check_minutes => 20}
        let(:old_user) {User.make :group => group, :created_at => 30.minutes.ago}
        let(:new_user) {User.make :group => group, :created_at => 10.minutes.ago}
    
        context ""#fresh"" do
          it ""should scope all new users"" do
            User.fresh.should eq([ new_user ])
          end
        end
        context ""#old"" do
          it ""should scope all old users"" do
            User.old.should eq([ old_user ])
          end
        end
      end

Specs fails on `fresh` (for `old` it is ok):

      expected  [#<User id: 7967, ... >]
            got []

What's wrong?! How to force my scopes\specs to work well? 

It would be great If you know the better way to organize scopes!

",5
11332884,07/04/2012 16:44:49,1398631,05/16/2012 12:41:15,22,1,How to recover deleted/updated record in sql server or mysql?,"I want to know that is there any way that I can can recover the deleted or updated record in the sqlserver and mysql as well.


Thanks

Nitesh Kumar",mysql,sql,sql-server,,,07/05/2012 15:10:35,off topic,1,27,10,"How to recover deleted/updated record in sql server or mysql? I want to know that is there any way that I can can recover the deleted or updated record in the sqlserver and mysql as well.


Thanks

Nitesh Kumar",3
7564002,09/27/2011 03:46:31,516748,11/22/2010 22:48:38,21,14,What MySQL my.ini parameters should I change for a large table join and update?,"I'm new to large databases and I have the following:

 - TableA - 20M rows
 - TableB - 500K rows

And many queries, in particular the following, take forever.

    UPDATE
        TableA AS A
    INNER JOIN
        TableB AS B
        ON   B.Value IS NOT NULL AND A.Key=B.Key    
    SET
        A.Value = B.Value
    WHERE
        A.Value IS NULL;

I know my MySQL (MyISAM) is not configured for large tables and I'm sure it could use more of the available memory (4GB total) or CPUs (i7). What parameters in my.ini should I be looking at?

I've started with key_buffer_size = 1536M because tableA has a 1gb index. Any help is appreciated.





",mysql,performance,large-data,mysql-parameter,,,open,0,155,14,"What MySQL my.ini parameters should I change for a large table join and update? I'm new to large databases and I have the following:

 - TableA - 20M rows
 - TableB - 500K rows

And many queries, in particular the following, take forever.

    UPDATE
        TableA AS A
    INNER JOIN
        TableB AS B
        ON   B.Value IS NOT NULL AND A.Key=B.Key    
    SET
        A.Value = B.Value
    WHERE
        A.Value IS NULL;

I know my MySQL (MyISAM) is not configured for large tables and I'm sure it could use more of the available memory (4GB total) or CPUs (i7). What parameters in my.ini should I be looking at?

I've started with key_buffer_size = 1536M because tableA has a 1gb index. Any help is appreciated.





",4
10422061,05/02/2012 21:34:09,318752,04/16/2010 17:42:06,868,14,Adding user issue in MySQL 5.5,"I have an install script that sets up a MySQL user + database + some tables. It worked fine in mysql 5.0, but we recently upgraded to Ubuntu 12.04, which ships with mysql 5.5. However in mysql 5.5 I am getting errors. 

The problem seems to be related to adding users. I use a line like this to create a root user, which is later used to login with and set up the rest of the stuff:

    INSERT INTO mysql.user VALUES('%','myrootuser','','Y','Y','Y','Y','Y','Y','Y',
    'Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y',
    'Y','Y','','','','',0,0,0,0,'','');
    flush privileges;

The command succeeds. However, when logging in with this new 'myrootuser', the user doesn't seem to have sufficient privileges:

    mysql> select * from mysql.user;
    ERROR 1142 (42000): SELECT command denied to user ''@'localhost' for table 'user';

Also I noticed that I can login with non existing usernames, which might be obfuscating the real problem:

    ubuntu@myserver:~$ mysql -u thisuserdoesnotexist
    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 40
    Server version: 5.5.22-0ubuntu1 (Ubuntu)
    
    mysql>

Has there been some change in the MySQL authentication in 5.5 that I am not aware of?",mysql,linux,ubuntu,,,,open,0,217,6,"Adding user issue in MySQL 5.5 I have an install script that sets up a MySQL user + database + some tables. It worked fine in mysql 5.0, but we recently upgraded to Ubuntu 12.04, which ships with mysql 5.5. However in mysql 5.5 I am getting errors. 

The problem seems to be related to adding users. I use a line like this to create a root user, which is later used to login with and set up the rest of the stuff:

    INSERT INTO mysql.user VALUES('%','myrootuser','','Y','Y','Y','Y','Y','Y','Y',
    'Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y',
    'Y','Y','','','','',0,0,0,0,'','');
    flush privileges;

The command succeeds. However, when logging in with this new 'myrootuser', the user doesn't seem to have sufficient privileges:

    mysql> select * from mysql.user;
    ERROR 1142 (42000): SELECT command denied to user ''@'localhost' for table 'user';

Also I noticed that I can login with non existing usernames, which might be obfuscating the real problem:

    ubuntu@myserver:~$ mysql -u thisuserdoesnotexist
    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 40
    Server version: 5.5.22-0ubuntu1 (Ubuntu)
    
    mysql>

Has there been some change in the MySQL authentication in 5.5 that I am not aware of?",3
5459287,03/28/2011 12:55:56,674658,03/24/2011 09:50:40,1,0,Find the next month for given date in mysql,"Find the next month  for the created date in table(including Year wise Dec ,Jan like)

How to do this using mysql query
Query need for both datatype date and datetime
",mysql,,,,,,open,0,29,9,"Find the next month for given date in mysql Find the next month  for the created date in table(including Year wise Dec ,Jan like)

How to do this using mysql query
Query need for both datatype date and datetime
",1
10664953,05/19/2012 11:54:32,89818,04/11/2009 18:29:54,590,13,Sort grouped rows in MySQL statement,"I have a MySQL database with the following structure:

**Table `customers`:**

 - id (int)
 - name (string)
 - ...

**Table `orders`:**

 - id (int)
 - customerID (int)
 - timestamp_unix (int)
 - title

Now I want to select all customers as well as their latest order. I tried the following statement:

    SELECT a.id, a.name, b.timestamp_unix, b.title FROM customers AS a JOIN orders AS b ON a.id = b.customerID GROUP BY a.id

This works fine except that I don't get the *latest* order (and its title) but the first one that has been inserted to the database as the first one.

So how can I get the latest order (highest `id` and highest `timestamp_unix`)? For the timestamp only, I could just use `MAX(b.timestamp_unix)` but how do I get the matching `b.title`?

Thank you!",mysql,join,group-by,order-by,,,open,0,128,6,"Sort grouped rows in MySQL statement I have a MySQL database with the following structure:

**Table `customers`:**

 - id (int)
 - name (string)
 - ...

**Table `orders`:**

 - id (int)
 - customerID (int)
 - timestamp_unix (int)
 - title

Now I want to select all customers as well as their latest order. I tried the following statement:

    SELECT a.id, a.name, b.timestamp_unix, b.title FROM customers AS a JOIN orders AS b ON a.id = b.customerID GROUP BY a.id

This works fine except that I don't get the *latest* order (and its title) but the first one that has been inserted to the database as the first one.

So how can I get the latest order (highest `id` and highest `timestamp_unix`)? For the timestamp only, I could just use `MAX(b.timestamp_unix)` but how do I get the matching `b.title`?

Thank you!",4
9641444,03/09/2012 21:47:56,1006249,10/21/2011 00:12:59,343,8,Update in MySQL,"My table is like this: `id, date, url, no`. For example, I have these data:

    1,2012-01-01,google.com,5
    1,2012-01-01,google.ca,3
    1,2012-01-02,google.com,8
    1,2012-01-02,google.ca,5
    2,2012-01-01,google.com,10
    2,2012-01-01,google.ca,8
    2,2012-01-02,google.com,15
    2,2012-01-02,google.ca,12

I want to update the `url`, summate `no`, group by `id,date`, so that the date will be:

    1,2012-01-01,google.com,8
    1,2012-01-02,google.com,12
    2,2012-01-01,google.com,18
    2,2012-01-02,google.com,27

I tried this command but it has error:

    `UPDATE tb SET no = no + (SELECT no FROM (SELECT id, date, SUM(no) AS no FROM tb WHERE detail = ""google.ca"" GROUP BY id, date) tb1) WHERE detail = ""google.com"" AND id = tb1.id AND date = tb1.date",mysql,,,,,,open,0,128,3,"Update in MySQL My table is like this: `id, date, url, no`. For example, I have these data:

    1,2012-01-01,google.com,5
    1,2012-01-01,google.ca,3
    1,2012-01-02,google.com,8
    1,2012-01-02,google.ca,5
    2,2012-01-01,google.com,10
    2,2012-01-01,google.ca,8
    2,2012-01-02,google.com,15
    2,2012-01-02,google.ca,12

I want to update the `url`, summate `no`, group by `id,date`, so that the date will be:

    1,2012-01-01,google.com,8
    1,2012-01-02,google.com,12
    2,2012-01-01,google.com,18
    2,2012-01-02,google.com,27

I tried this command but it has error:

    `UPDATE tb SET no = no + (SELECT no FROM (SELECT id, date, SUM(no) AS no FROM tb WHERE detail = ""google.ca"" GROUP BY id, date) tb1) WHERE detail = ""google.com"" AND id = tb1.id AND date = tb1.date",1
9269418,02/13/2012 23:09:31,1189717,02/04/2012 18:21:15,12,0,"How to maintain high performance from a database, and optimisation of code?","I am using MYSQL, How can i manage High performance from a database. which is the best way to handle the very-big amount of data.",mysql,,,,,02/13/2012 23:40:48,not a real question,1,25,12,"How to maintain high performance from a database, and optimisation of code? I am using MYSQL, How can i manage High performance from a database. which is the best way to handle the very-big amount of data.",1
7051533,08/13/2011 15:52:38,893200,08/13/2011 15:52:38,1,0,What is best online dictionary to download and save,I want to download dictionary to mysql database what is the best one out there? Is there any restrictions to download these online dictionaries and use it for the website? I want a dictionary with word meanings.,mysql,,,,,08/13/2011 16:24:40,not constructive,1,37,9,What is best online dictionary to download and save I want to download dictionary to mysql database what is the best one out there? Is there any restrictions to download these online dictionaries and use it for the website? I want a dictionary with word meanings.,1
6085989,05/22/2011 04:17:46,478573,10/17/2010 14:54:01,996,27,No foreign key constraints and need to do a complicated delete,"I have a website which I have been working on creating very rapidly, and now am paying back some technical debt.  I have a complicated issue:

My site deals with scheduling hikes.  Once you create a hike, it has many things associated with it:
a message board, list of attendees, the group it belongs to, the carpool, route, trailhead, etc.

Here is an example so you can see what I am talking about:
http://www.comehike.com/hikes/scheduled_hike.php?hike_id=172

The technical debt I am talking about is that I never made foreign keys in the DB, and now need to do a cascade delete, and I am not sure how to go about it so that I don't introduce a million bugs :)

Should I make foreign keys for all the tables now?  How should I do this?

Thanks,
Alex",mysql,database,database-design,foreign-keys,,,open,0,130,11,"No foreign key constraints and need to do a complicated delete I have a website which I have been working on creating very rapidly, and now am paying back some technical debt.  I have a complicated issue:

My site deals with scheduling hikes.  Once you create a hike, it has many things associated with it:
a message board, list of attendees, the group it belongs to, the carpool, route, trailhead, etc.

Here is an example so you can see what I am talking about:
http://www.comehike.com/hikes/scheduled_hike.php?hike_id=172

The technical debt I am talking about is that I never made foreign keys in the DB, and now need to do a cascade delete, and I am not sure how to go about it so that I don't introduce a million bugs :)

Should I make foreign keys for all the tables now?  How should I do this?

Thanks,
Alex",4
10024066,04/05/2012 07:07:17,1192471,02/06/2012 14:13:44,20,4,How to improve this query. Sending data is too slow,"    SELECT COUNT(`t`.id) 
    FROM `product` `t` 
    INNER JOIN `category` `c1` ON ( `c1`.id ='15' )
    LEFT JOIN `category` `c2` ON ( `c2`.`parent_category_id` = '15' ) 
    LEFT JOIN `category` `c3` ON ( `c3`.`parent_category_id` = `c2`.`id` ) 
    LEFT JOIN `category` `c4` ON ( `c4`.`parent_category_id` = `c3`.`id` ) 
    LEFT JOIN `category` `c5` ON ( `c5`.`parent_category_id` = `c4`.`id` ) 
    LEFT JOIN `category` `c6` ON ( `c6`.`parent_category_id` = `c5`.`id` ) 
    LEFT JOIN `category` `c7` ON ( `c7`.`parent_category_id` = `c6`.`id` ) 
    WHERE 
    t.category_id IN ('15',c2.id,c3.id,c4.id,c5.id,c6.id,c7.id) 
    AND (t.mod='Accepted')
I have a category and product table, category table has parent_category_id which refers to the  same category table but indicates that record is sub category. 

        SHOW PROFILE Result (ordered by duration)
    
    state	duration (summed) in sec	percentage
    Sending data	1.69029	99.96392
    freeing items	0.00015	0.00887
    statistics	0.00015	0.00887
    checking query cache for query	0.00009	0.00532
    init	0.00006	0.00355
    preparing	0.00003	0.00177
    checking permissions	0.00002	0.00118
    optimizing	0.00002	0.00118
    Opening tables	0.00002	0.00118
    System lock	0.00001	0.00059
    starting	0.00001	0.00059
    cleaning up	0.00001	0.00059
    Table lock	0.00001	0.00059
    end	0.00001	0.00059
    executing	0.00001	0.00059
    logging slow query	0.00001	0.00059
    Total	1.69090	100.00000
    
    Change Of STATUS VARIABLES Due To Execution Of Query
    
    variable	value	description
    Bytes_received	291	Bytes sent from the client to the server
    Bytes_sent	72	Bytes sent from the server to the client
    Com_select	1	Number of SELECT statements that have been executed
    Handler_read_key	133514	Number of requests to read a row based on a key
    Handler_read_next	133549	Number of index columns read with a range constraint or an index scan
    Key_read_requests	444695	Number of MyISAM key blocks read from cache
    Key_reads	234	Number of MyISAM key blocks that were read from disk. Indicates insufficient key cache size
    Key_write_requests	200	Number of MyISAM key blocks that were written to cache
    Key_writes	105	Number of MyISAM key blocks written to disk. Indicates insufficient key cache size
    Last_query_cost*	19845567	The total cost of this query as computed by the query optimizer
    Open_files*	1475	Number of files opened
    Qcache_free_memory*	149209104	Amount of Query cache free memory
    Qcache_hits	1520	Number of queries served directly by the Query Cache
    Qcache_inserts	190	Number of queries inserted into the Query Cache
    Qcache_not_cached*	2062788	Number of queries that were not cached by the Query Cache. They are not cacheable or was not cached due to the query_cache_type setting
    Questions	1	Number of statements executed by the server
    Table_locks_immediate	574	The number of requests for table locks that could be granted immediately
    Threads_cached	6	The number of threads in the thread cache
    Threads_running*	3	The number of threads that are not sleeping
    * Actual values after query execution (not changes due to query)
    
    EXPLAIN Result
    
    id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
    1	SIMPLE	c1	const	PRIMARY	PRIMARY	4	const	1	Using index
    1	SIMPLE	t	ref	category_id, mod	mod	2	const	48	Using where
    1	SIMPLE	c2	ref	parent_category_id	parent_category_id	5	const	18	
    1	SIMPLE	c3	ref	parent_category_id	parent_category_id	5	ucuzolur.c2.id	7	
    1	SIMPLE	c4	ref	parent_category_id	parent_category_id	5	ucuzolur.c3.id	7	
    1	SIMPLE	c5	ref	parent_category_id	parent_category_id	5	ucuzolur.c4.id	7	
    1	SIMPLE	c6	ref	parent_category_id	parent_category_id	5	ucuzolur.c5.id	7	
    1	SIMPLE	c7	ref	parent_category_id	parent_category_id	5	ucuzolur.c6.id	7	Using where

You can find the profile above. As you see everything is fine except sending data is too slow. This query is just a count query, why sending consume too much time and how can I improve this query. I have 20000 rows in category table.",mysql,sql,,,,,open,0,642,10,"How to improve this query. Sending data is too slow     SELECT COUNT(`t`.id) 
    FROM `product` `t` 
    INNER JOIN `category` `c1` ON ( `c1`.id ='15' )
    LEFT JOIN `category` `c2` ON ( `c2`.`parent_category_id` = '15' ) 
    LEFT JOIN `category` `c3` ON ( `c3`.`parent_category_id` = `c2`.`id` ) 
    LEFT JOIN `category` `c4` ON ( `c4`.`parent_category_id` = `c3`.`id` ) 
    LEFT JOIN `category` `c5` ON ( `c5`.`parent_category_id` = `c4`.`id` ) 
    LEFT JOIN `category` `c6` ON ( `c6`.`parent_category_id` = `c5`.`id` ) 
    LEFT JOIN `category` `c7` ON ( `c7`.`parent_category_id` = `c6`.`id` ) 
    WHERE 
    t.category_id IN ('15',c2.id,c3.id,c4.id,c5.id,c6.id,c7.id) 
    AND (t.mod='Accepted')
I have a category and product table, category table has parent_category_id which refers to the  same category table but indicates that record is sub category. 

        SHOW PROFILE Result (ordered by duration)
    
    state	duration (summed) in sec	percentage
    Sending data	1.69029	99.96392
    freeing items	0.00015	0.00887
    statistics	0.00015	0.00887
    checking query cache for query	0.00009	0.00532
    init	0.00006	0.00355
    preparing	0.00003	0.00177
    checking permissions	0.00002	0.00118
    optimizing	0.00002	0.00118
    Opening tables	0.00002	0.00118
    System lock	0.00001	0.00059
    starting	0.00001	0.00059
    cleaning up	0.00001	0.00059
    Table lock	0.00001	0.00059
    end	0.00001	0.00059
    executing	0.00001	0.00059
    logging slow query	0.00001	0.00059
    Total	1.69090	100.00000
    
    Change Of STATUS VARIABLES Due To Execution Of Query
    
    variable	value	description
    Bytes_received	291	Bytes sent from the client to the server
    Bytes_sent	72	Bytes sent from the server to the client
    Com_select	1	Number of SELECT statements that have been executed
    Handler_read_key	133514	Number of requests to read a row based on a key
    Handler_read_next	133549	Number of index columns read with a range constraint or an index scan
    Key_read_requests	444695	Number of MyISAM key blocks read from cache
    Key_reads	234	Number of MyISAM key blocks that were read from disk. Indicates insufficient key cache size
    Key_write_requests	200	Number of MyISAM key blocks that were written to cache
    Key_writes	105	Number of MyISAM key blocks written to disk. Indicates insufficient key cache size
    Last_query_cost*	19845567	The total cost of this query as computed by the query optimizer
    Open_files*	1475	Number of files opened
    Qcache_free_memory*	149209104	Amount of Query cache free memory
    Qcache_hits	1520	Number of queries served directly by the Query Cache
    Qcache_inserts	190	Number of queries inserted into the Query Cache
    Qcache_not_cached*	2062788	Number of queries that were not cached by the Query Cache. They are not cacheable or was not cached due to the query_cache_type setting
    Questions	1	Number of statements executed by the server
    Table_locks_immediate	574	The number of requests for table locks that could be granted immediately
    Threads_cached	6	The number of threads in the thread cache
    Threads_running*	3	The number of threads that are not sleeping
    * Actual values after query execution (not changes due to query)
    
    EXPLAIN Result
    
    id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
    1	SIMPLE	c1	const	PRIMARY	PRIMARY	4	const	1	Using index
    1	SIMPLE	t	ref	category_id, mod	mod	2	const	48	Using where
    1	SIMPLE	c2	ref	parent_category_id	parent_category_id	5	const	18	
    1	SIMPLE	c3	ref	parent_category_id	parent_category_id	5	ucuzolur.c2.id	7	
    1	SIMPLE	c4	ref	parent_category_id	parent_category_id	5	ucuzolur.c3.id	7	
    1	SIMPLE	c5	ref	parent_category_id	parent_category_id	5	ucuzolur.c4.id	7	
    1	SIMPLE	c6	ref	parent_category_id	parent_category_id	5	ucuzolur.c5.id	7	
    1	SIMPLE	c7	ref	parent_category_id	parent_category_id	5	ucuzolur.c6.id	7	Using where

You can find the profile above. As you see everything is fine except sending data is too slow. This query is just a count query, why sending consume too much time and how can I improve this query. I have 20000 rows in category table.",2
5542115,04/04/2011 17:30:23,691539,04/04/2011 17:30:23,1,0,"MySql query question , urgent","i have a following question:
there are 3 tables in the database:
meadow(b_id int, b_name char(30))  which contains id and name of the sowing field
seed(s_id int, s_brand char(20), s_crop char(20)) has the id of the seed box, and the producer's name and name of the crop
and 
planting(p_b_id int, p_s_id int, p_vol int) which contains info about the seeds that were used/planted in the field

Also:
seeds can be of 3 types:
1. s_crop=buckwheat, s_crop=wheat, s_crop=rye
2. the number of seeds in the box is exactly 500
3. the field is fully planted if we have used 500 seeds of each crop
4. a record in table ""planting"" decreases the number of seeds by p_vol and increases the number of seeds planted on field by p_vol
5. 0 < p_vol <= 500
6. the number of seeds of each crop planted on the field cannot be bigger than 500, and the number of seeds cannot be negative

The question is:
1. how many seeds of each crop we need to fully sow all the fields, i.e. the number of seeds in order(buckwheat, wheat, rye)
2. how many max number of fields can we sow with the leftover seeds.

Thank you in advance.
Tal
",mysql,,,,,,open,0,188,5,"MySql query question , urgent i have a following question:
there are 3 tables in the database:
meadow(b_id int, b_name char(30))  which contains id and name of the sowing field
seed(s_id int, s_brand char(20), s_crop char(20)) has the id of the seed box, and the producer's name and name of the crop
and 
planting(p_b_id int, p_s_id int, p_vol int) which contains info about the seeds that were used/planted in the field

Also:
seeds can be of 3 types:
1. s_crop=buckwheat, s_crop=wheat, s_crop=rye
2. the number of seeds in the box is exactly 500
3. the field is fully planted if we have used 500 seeds of each crop
4. a record in table ""planting"" decreases the number of seeds by p_vol and increases the number of seeds planted on field by p_vol
5. 0 < p_vol <= 500
6. the number of seeds of each crop planted on the field cannot be bigger than 500, and the number of seeds cannot be negative

The question is:
1. how many seeds of each crop we need to fully sow all the fields, i.e. the number of seeds in order(buckwheat, wheat, rye)
2. how many max number of fields can we sow with the leftover seeds.

Thank you in advance.
Tal
",1
2080969,01/17/2010 12:40:20,80932,03/21/2009 19:08:42,300,33,mysql: query to return scores ranks according to a specific user,"Lets say i have the following scores table (total rows of 10):

    rank userid score
    ---- ------ -----
     1   |455   |10
     2   |435   |9
     3   |354   |8
     4   |342   |7
     5   |343   |6
     6   |123   |5
     7   |125   |4
     8   |128   |3
     9   |5     |2
    10   |6     |1

the user can fetch his score status, and he can get 5 score positions around his position.
which means:

1. if the user is at 1st place, he will get the results of ranks 1-5
2. if the user is at 6th place, he will get the results of ranks 4-9 
3. if the user is at 9th place, he will get the results of rank 6-10

I'm trying to find the most optimized method to perform these operations to get the score status for the user only in SQL, no other language integration.


thanks alot!!!

",mysql,query-optimization,,,,,open,0,227,11,"mysql: query to return scores ranks according to a specific user Lets say i have the following scores table (total rows of 10):

    rank userid score
    ---- ------ -----
     1   |455   |10
     2   |435   |9
     3   |354   |8
     4   |342   |7
     5   |343   |6
     6   |123   |5
     7   |125   |4
     8   |128   |3
     9   |5     |2
    10   |6     |1

the user can fetch his score status, and he can get 5 score positions around his position.
which means:

1. if the user is at 1st place, he will get the results of ranks 1-5
2. if the user is at 6th place, he will get the results of ranks 4-9 
3. if the user is at 9th place, he will get the results of rank 6-10

I'm trying to find the most optimized method to perform these operations to get the score status for the user only in SQL, no other language integration.


thanks alot!!!

",2
7715740,10/10/2011 16:19:04,290790,03/10/2010 18:10:09,119,2,MySQL: Syntaxerror when using Join?,"Can you find anything wrong with this query?

			SELECT * FROM requests 
			WHERE id = '"".$id.""' 
			LEFT JOIN request_data ON (requests.id = request_data.request_id) 
			GROUP BY requests.id 

Been workingon it for a while but can't seem to get it right!

The database looks like this:

     -requests
       -id
       -another column
       -and a third one

     -request_data
       -request_id
       -key
       -value


EDIT: Oh right, and the error:

    You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LEFT JOIN request_data ON (requests.id = request_data.request_id) GROUP BY ' at line 3



Any ideas?",mysql,join,syntax-error,,,,open,0,145,5,"MySQL: Syntaxerror when using Join? Can you find anything wrong with this query?

			SELECT * FROM requests 
			WHERE id = '"".$id.""' 
			LEFT JOIN request_data ON (requests.id = request_data.request_id) 
			GROUP BY requests.id 

Been workingon it for a while but can't seem to get it right!

The database looks like this:

     -requests
       -id
       -another column
       -and a third one

     -request_data
       -request_id
       -key
       -value


EDIT: Oh right, and the error:

    You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LEFT JOIN request_data ON (requests.id = request_data.request_id) GROUP BY ' at line 3



Any ideas?",3
9790551,03/20/2012 16:10:05,716082,04/19/2011 22:06:10,522,23,Duplicate entry for key 'PRIMARY',"I'm trying to import a csv (that is a data extract from a SQL Server db) into MySQL.

I'm using this command to load the file:

    LOAD DATA INFILE '/Users/Tyler/Desktop/playersToTeams.txt' INTO TABLE players_to_teams FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n';

And I get this error:
   
    Error Code: 1062. Duplicate entry '124547' for key 'PRIMARY'

When I run: `grep 124547 playersToTeams.txt`:

    119683,True,True,124547,1493,2011-08-31 02:22:56.630000000,,,,,http://bucknellbison.cstv.com///sports/m-wrestl/mtt/stolfi_joe00.html,,,,,,
    124547,True,True,129411,14726,2011-08-31 02:22:56.630000000,Free/Breast,,,,http://usctrojans.collegesports.com/sports/m-swim/mtt/walling_emmett00.html,,,,,,

I can see that the 4th column of the first entry has the same number as the first column (pk, id), but the 4th column doesn't have any sort of index on it.

Here's the create schema created by sql workbench:

    CREATE TABLE `players_to_teams` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `IsActive` tinyint(1) DEFAULT NULL,
      `IsVisible` tinyint(1) DEFAULT NULL,
      `PlayerId` int(11) DEFAULT NULL,
      `TeamId` int(11) DEFAULT NULL,
      `CreationDate` datetime DEFAULT NULL,
      `Position` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `Number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `Club` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `BT` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `BioLink` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `OtherBioLink` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `StartYear` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `EndYear` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `NeulionPlayerID` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `SeasonYear` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `GamesPlayed` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `created_at` datetime NOT NULL,
      `updated_at` datetime NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=124549 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci$$

 
If I rerun the `LOAD DATA` command, without changing anything, I get a different error, this time the number is 2 more than the previous time (124549 vs. 124547).  Running it again skips to 124552.

Any ideas what is causing this duplicate error?

Thanks",mysql,sql-server,import,,,,open,0,377,5,"Duplicate entry for key 'PRIMARY' I'm trying to import a csv (that is a data extract from a SQL Server db) into MySQL.

I'm using this command to load the file:

    LOAD DATA INFILE '/Users/Tyler/Desktop/playersToTeams.txt' INTO TABLE players_to_teams FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n';

And I get this error:
   
    Error Code: 1062. Duplicate entry '124547' for key 'PRIMARY'

When I run: `grep 124547 playersToTeams.txt`:

    119683,True,True,124547,1493,2011-08-31 02:22:56.630000000,,,,,http://bucknellbison.cstv.com///sports/m-wrestl/mtt/stolfi_joe00.html,,,,,,
    124547,True,True,129411,14726,2011-08-31 02:22:56.630000000,Free/Breast,,,,http://usctrojans.collegesports.com/sports/m-swim/mtt/walling_emmett00.html,,,,,,

I can see that the 4th column of the first entry has the same number as the first column (pk, id), but the 4th column doesn't have any sort of index on it.

Here's the create schema created by sql workbench:

    CREATE TABLE `players_to_teams` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `IsActive` tinyint(1) DEFAULT NULL,
      `IsVisible` tinyint(1) DEFAULT NULL,
      `PlayerId` int(11) DEFAULT NULL,
      `TeamId` int(11) DEFAULT NULL,
      `CreationDate` datetime DEFAULT NULL,
      `Position` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `Number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `Club` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `BT` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `BioLink` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `OtherBioLink` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `StartYear` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `EndYear` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `NeulionPlayerID` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `SeasonYear` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `GamesPlayed` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
      `created_at` datetime NOT NULL,
      `updated_at` datetime NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=124549 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci$$

 
If I rerun the `LOAD DATA` command, without changing anything, I get a different error, this time the number is 2 more than the previous time (124549 vs. 124547).  Running it again skips to 124552.

Any ideas what is causing this duplicate error?

Thanks",3
8027095,11/06/2011 12:51:23,1004788,10/20/2011 08:45:50,12,0,First time to query 3 mysql tables,"I would like to ask for help. I have 3 tables.

1. students_name
2. students_has_subjects
3. subject

What is the sql statement to query 3 tables to display student_id, student_name, stud_subject where student is taken and the subject description.

I would like 2 type of display of records.

First display

    1, Paul Mark, Math, Mathematics, Mathematics
    1, Paul Mark, English, English Language
    1, Paul Mark, Science, About Science
    2, John Mark, Math, Mathematics, Mathematics
    2, John Mark, English, English Language
    2, John Mark, Science, About Science

Second display

    1, Paul Mark, Math, English, Science
    2, John Mark, Math, English, Science

Below is the 3 table sample and its records. thanks a lot.

    students_name table
    student_id, student_name
    1, Paul Mark
    2, John Mark

    students_has_subjects
    id, stud_name, stud_subject
    
    1, Paul Mark, 1
    2, Paul Mark, 2
    3, Paul Mark, 3
    4, John Mark, 1
    5, John Mark, 2
    6, John Mark, 3

    Subjects
    subject_id, subject_name, description
    
    1, Math, Mathematics
    2, English, English Language
    3, Science, About Science




",mysql,,,,,12/06/2011 04:27:06,not a real question,1,240,7,"First time to query 3 mysql tables I would like to ask for help. I have 3 tables.

1. students_name
2. students_has_subjects
3. subject

What is the sql statement to query 3 tables to display student_id, student_name, stud_subject where student is taken and the subject description.

I would like 2 type of display of records.

First display

    1, Paul Mark, Math, Mathematics, Mathematics
    1, Paul Mark, English, English Language
    1, Paul Mark, Science, About Science
    2, John Mark, Math, Mathematics, Mathematics
    2, John Mark, English, English Language
    2, John Mark, Science, About Science

Second display

    1, Paul Mark, Math, English, Science
    2, John Mark, Math, English, Science

Below is the 3 table sample and its records. thanks a lot.

    students_name table
    student_id, student_name
    1, Paul Mark
    2, John Mark

    students_has_subjects
    id, stud_name, stud_subject
    
    1, Paul Mark, 1
    2, Paul Mark, 2
    3, Paul Mark, 3
    4, John Mark, 1
    5, John Mark, 2
    6, John Mark, 3

    Subjects
    subject_id, subject_name, description
    
    1, Math, Mathematics
    2, English, English Language
    3, Science, About Science




",1
7301912,09/04/2011 20:27:21,381285,07/01/2010 16:14:55,551,27,Attribute mysteriously getting set to id of 1,"I have an object that is apparently randomly getting set to an id of 1 and the source of where this is happening is unknown in the codebase. Could be on an update attributes for a user for which school is associated.

How can I raise an error or otherwise log when this happens so I can track it down and resolve it?

Below is a first attempt but doesn't seem to take into account `update_attributes`
    
    belongs_to :foo_school, :foreign_key => 'school_id'

    def foo_school=(foo_school)
      begin
        raise ""Found"" if foo_school == FooSchool.find(1)
      rescue Exception => e
        # Track it down through the stack trace
        Rails.logger.error e
      ensure
        write_attribute(:foo_school, foo_school)
      end
    end",mysql,ruby-on-rails,ruby,ruby-on-rails-3,error-handling,,open,0,168,8,"Attribute mysteriously getting set to id of 1 I have an object that is apparently randomly getting set to an id of 1 and the source of where this is happening is unknown in the codebase. Could be on an update attributes for a user for which school is associated.

How can I raise an error or otherwise log when this happens so I can track it down and resolve it?

Below is a first attempt but doesn't seem to take into account `update_attributes`
    
    belongs_to :foo_school, :foreign_key => 'school_id'

    def foo_school=(foo_school)
      begin
        raise ""Found"" if foo_school == FooSchool.find(1)
      rescue Exception => e
        # Track it down through the stack trace
        Rails.logger.error e
      ensure
        write_attribute(:foo_school, foo_school)
      end
    end",5
10840059,05/31/2012 19:29:35,1299334,03/28/2012 21:45:41,10,0,How do you permit root mysql login from machine root user without password?,"I need to replicate a mysql setup and I can't figure out how it was done:

mysql user root@localhost has a password. However, when logged in via SSH as root (and only root, this doesn't work from normal user accounts), you can enter ""mysql -u root"" and access mysql as root without a password. 

This is broken on one machine, and I need to fix it. How is this done?

",mysql,root,privileges,,,06/08/2012 08:22:22,off topic,1,69,13,"How do you permit root mysql login from machine root user without password? I need to replicate a mysql setup and I can't figure out how it was done:

mysql user root@localhost has a password. However, when logged in via SSH as root (and only root, this doesn't work from normal user accounts), you can enter ""mysql -u root"" and access mysql as root without a password. 

This is broken on one machine, and I need to fix it. How is this done?

",3
6758949,07/20/2011 08:18:00,853450,07/20/2011 07:39:23,1,0,how to combine different columns of respective tables having different datatypes n column names into new table,"i have 5 existing tables in db with different num of columns,n no table contains column names in common.

tables in my db are...
 
 table1 contains column names-userid,bloodgroup,age,dateofbirth,,gender
  table2 column names-housenumber,streetname,cityname,pincode,phoneno
table3 column names-designationname,desgcode
 table4 column names-empname,empno
table5 column names-divisionname,divcode

n i want only some column names from these tables,those are...
table1-userid,bloodgroup,gender

table2-housenumber,streetname,cityname,phoneno
table3-designationname
table4-empname
table5-divisionname

n now i want to insert all these column names into a new table.....
for ex:new table should contain column names as:-
new table-userid,bloodgroup,gender,
housenumber,streetname,cityname,phoneno,designationname,empname,divisionname.

so that i can use that new table in my project....plz rpy asap,its urgent.....giv me the exact query plz.....",mysql,,,,,07/20/2011 14:55:50,not a real question,1,88,17,"how to combine different columns of respective tables having different datatypes n column names into new table i have 5 existing tables in db with different num of columns,n no table contains column names in common.

tables in my db are...
 
 table1 contains column names-userid,bloodgroup,age,dateofbirth,,gender
  table2 column names-housenumber,streetname,cityname,pincode,phoneno
table3 column names-designationname,desgcode
 table4 column names-empname,empno
table5 column names-divisionname,divcode

n i want only some column names from these tables,those are...
table1-userid,bloodgroup,gender

table2-housenumber,streetname,cityname,phoneno
table3-designationname
table4-empname
table5-divisionname

n now i want to insert all these column names into a new table.....
for ex:new table should contain column names as:-
new table-userid,bloodgroup,gender,
housenumber,streetname,cityname,phoneno,designationname,empname,divisionname.

so that i can use that new table in my project....plz rpy asap,its urgent.....giv me the exact query plz.....",1
10118077,04/12/2012 05:50:14,1188892,02/04/2012 04:47:12,1,0,SQL Auto Random Details Filling," A table in my mysql database contains 9 fields, i want 2 fields to be blank

I want a sql command or something to fill the fields. The first field is id, it's serial number given. The command should get the last id and fill this field with new id.

username field:- it should contain random name, can use random name generator api
password:- random string
email:- random with correct format
points- random (10-800 limit )
star:- random (0-100)

That's it what can i use for it please help",mysql,sql,database,,,04/16/2012 19:58:19,not a real question,1,83,5,"SQL Auto Random Details Filling  A table in my mysql database contains 9 fields, i want 2 fields to be blank

I want a sql command or something to fill the fields. The first field is id, it's serial number given. The command should get the last id and fill this field with new id.

username field:- it should contain random name, can use random name generator api
password:- random string
email:- random with correct format
points- random (10-800 limit )
star:- random (0-100)

That's it what can i use for it please help",3
7019713,08/11/2011 01:03:36,55124,01/14/2009 19:08:30,1420,32,MySQL Multiple Insert and Join,"I have a table called **media_files** with columns:

    id
    listing_id
    file_id

I have another **accounts** table with columns:

    id
    group_id

My media_files table currently has 1 listing per group_id (taken from the associated **accounts** table).

I want to create one row in the media_files table for each row in the accounts table.  The listing_id must be taken from the accounts table, and the file_id must be the same for all rows with matching group_id.


I know I have to use a temp table and/or a join, but I am not sure how to accomplish this.

Any help is very much appreciated.  Thanks for reading.
  ",mysql,select,join,insert,,,open,0,118,5,"MySQL Multiple Insert and Join I have a table called **media_files** with columns:

    id
    listing_id
    file_id

I have another **accounts** table with columns:

    id
    group_id

My media_files table currently has 1 listing per group_id (taken from the associated **accounts** table).

I want to create one row in the media_files table for each row in the accounts table.  The listing_id must be taken from the accounts table, and the file_id must be the same for all rows with matching group_id.


I know I have to use a temp table and/or a join, but I am not sure how to accomplish this.

Any help is very much appreciated.  Thanks for reading.
  ",4
2542934,03/30/2010 04:54:47,303455,03/28/2010 05:28:00,1,0,Unable to get multiple connection to MySql on Windows 7,"I have installed MySql on windows 7 ... issue is i'm unable to get multiple connection to MySql .

If I connect to MySql through command line and at the same time open an other MySql command line client it goes into wait state, as soon as I disconnect the first one later one gets connected.

Because of above issues I'm unable to run tomcat in debug mode as it tries to get more than one connection to MySql in debug mode.

Previously I was using same version of MySql i.e. 5.1 on vista and it was working fine.",mysql,windows7,tomcat,,,,open,0,96,10,"Unable to get multiple connection to MySql on Windows 7 I have installed MySql on windows 7 ... issue is i'm unable to get multiple connection to MySql .

If I connect to MySql through command line and at the same time open an other MySql command line client it goes into wait state, as soon as I disconnect the first one later one gets connected.

Because of above issues I'm unable to run tomcat in debug mode as it tries to get more than one connection to MySql in debug mode.

Previously I was using same version of MySql i.e. 5.1 on vista and it was working fine.",3
292230,11/15/2008 06:32:09,5441,09/09/2008 15:34:34,1490,136,How wrong is it to have a unique and normal index on the same column?,"I have the following table structure

    CREATE TABLE `table` (
      `id` int(11) NOT NULL auto_increment,
      `date_expired` datetime NOT NULL,
      `user_id` int(11) NOT NULL,
      `foreign_id` int(11) NOT NULL,
      PRIMARY KEY  (`id`),
      UNIQUE KEY `date_expired` (`date_expired`,`user_id`,`foreign_id`),
      KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

As you'll notice, I have duplicate indexes on user_id: `date_expired` & `user_id`. I of course want the unique index because I want to ensure the data is unique.

The reason for the duplicate indexes is because without the `user_id` index, my main search query takes 4 seconds. With the extra index it takes 1 second. The query is joining the table on `user_id` and checking `date_expired`.

The table only has 275 records.

- How bad is it to have a unique and normal index on the same field?
- How bad is it to have larger indexes than data when the table is purely ids?",mysql,unique-index,indexing,,,,open,0,184,15,"How wrong is it to have a unique and normal index on the same column? I have the following table structure

    CREATE TABLE `table` (
      `id` int(11) NOT NULL auto_increment,
      `date_expired` datetime NOT NULL,
      `user_id` int(11) NOT NULL,
      `foreign_id` int(11) NOT NULL,
      PRIMARY KEY  (`id`),
      UNIQUE KEY `date_expired` (`date_expired`,`user_id`,`foreign_id`),
      KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

As you'll notice, I have duplicate indexes on user_id: `date_expired` & `user_id`. I of course want the unique index because I want to ensure the data is unique.

The reason for the duplicate indexes is because without the `user_id` index, my main search query takes 4 seconds. With the extra index it takes 1 second. The query is joining the table on `user_id` and checking `date_expired`.

The table only has 275 records.

- How bad is it to have a unique and normal index on the same field?
- How bad is it to have larger indexes than data when the table is purely ids?",3
6000336,05/14/2011 07:07:45,47278,12/18/2008 03:02:39,851,37,How to debug Lock wait timeout exceeded?,"In my production error logs I occasionally see:

> SQLSTATE[HY000]: General error: 1205
> Lock wait timeout exceeded; try
> restarting transaction

I know which query is trying to access the database at that moment but is there a way to find out which query had the lock at that precise moment?",mysql,debugging,transactions,innodb,,,open,0,48,7,"How to debug Lock wait timeout exceeded? In my production error logs I occasionally see:

> SQLSTATE[HY000]: General error: 1205
> Lock wait timeout exceeded; try
> restarting transaction

I know which query is trying to access the database at that moment but is there a way to find out which query had the lock at that precise moment?",4
9054509,01/29/2012 15:58:01,815370,06/25/2011 13:55:32,307,9,Creating a new slave using existing master - What does the initial db creation procedure look like?,"We are creating a few slave servers using an existing single mysql server. We know all about the my.cnf settings, user creation, etc etc. Both on the master and slave side. We are more interested about the initial database creation on the slaves.

The existing server will be the master, the new ones will all be slaves.

We were wondering the procedure when creating new slaves using an existing database.

Here is what we have done, please let us know if this is correct.

a) Existing single mysqld taken offline (what will in the end be the master).

b) Via my.cnf, we changed the port from the 3306 to something random. We did this to make sure that when we bring the server up to do the mysqldump, no writes are made. This will ensure, 100% that the dump will be 100% recent.

c) mysqldump of existing database made.

d) mysqld taken offline again.

e) binlogs purged. We did this by simply deleting them. Which appears to be ok, since having a peak at the binlog after starting mysqld back up, there were re-initialized back at 000001.

f) Existing mysqld server brought up using old port, so our webservice could go back up while we set everything up.

---

So... If my thinking is correct, at this point we should have:

mysqldump + binlogs = 100% current database.

---

The reason I am asking all of this is because doing a:

    mysql DATABASE < dumpfile.sql

Is taking about 2 hours, with probably another 2 hours to go.

Will we have any major issues with the slave 'catching up' with 3-4 hours worth of binlogs?

Thank you kindly.",mysql,synchronization,replication,mysqldump,,01/31/2012 15:54:44,off topic,1,263,17,"Creating a new slave using existing master - What does the initial db creation procedure look like? We are creating a few slave servers using an existing single mysql server. We know all about the my.cnf settings, user creation, etc etc. Both on the master and slave side. We are more interested about the initial database creation on the slaves.

The existing server will be the master, the new ones will all be slaves.

We were wondering the procedure when creating new slaves using an existing database.

Here is what we have done, please let us know if this is correct.

a) Existing single mysqld taken offline (what will in the end be the master).

b) Via my.cnf, we changed the port from the 3306 to something random. We did this to make sure that when we bring the server up to do the mysqldump, no writes are made. This will ensure, 100% that the dump will be 100% recent.

c) mysqldump of existing database made.

d) mysqld taken offline again.

e) binlogs purged. We did this by simply deleting them. Which appears to be ok, since having a peak at the binlog after starting mysqld back up, there were re-initialized back at 000001.

f) Existing mysqld server brought up using old port, so our webservice could go back up while we set everything up.

---

So... If my thinking is correct, at this point we should have:

mysqldump + binlogs = 100% current database.

---

The reason I am asking all of this is because doing a:

    mysql DATABASE < dumpfile.sql

Is taking about 2 hours, with probably another 2 hours to go.

Will we have any major issues with the slave 'catching up' with 3-4 hours worth of binlogs?

Thank you kindly.",4
6349792,06/14/2011 20:36:48,107152,05/14/2009 15:27:20,1412,61,Nulls in InnoDBs clustered index?,"Using InnoDB in MySQL, I want to speed up selects by utilizing the clustered index better, thus including more frequently used columns in the primary key.

But some frequent columns used are allowed to be null (and some times are). Is there any way to include these in the clustered index (and allow them to be null)?

If not, are there some workarounds or is there some other way to do something similar? ",mysql,optimization,innodb,clustered-index,,,open,0,72,5,"Nulls in InnoDBs clustered index? Using InnoDB in MySQL, I want to speed up selects by utilizing the clustered index better, thus including more frequently used columns in the primary key.

But some frequent columns used are allowed to be null (and some times are). Is there any way to include these in the clustered index (and allow them to be null)?

If not, are there some workarounds or is there some other way to do something similar? ",4
9951489,03/30/2012 23:13:14,1304268,03/30/2012 22:39:25,1,0,"Database advantages? Access, MySQL, msSQL, or any others?","Dear all Stackoverflowers,
I just started to learn programming and now I'm putting this question online based on a quote: *no question is silly*

My work needs to develop a order system based on web, which wants a database system. Since using Excel for years as a general office user, I naturally turn this to Access. However, most people say Access is very limited comparing to MySQL or MSSQL, or any other more professional database system.

But after developing some functions for my company's order system, I really find Access can fulfill my request. And I also tried MSSQL to develop, which I found it not quite convenient to use.

I have searched in stackoverflow and find no general answer about my doubt. Now I am sincerely hoping some experienced and professional developers could clear my doubts.

Now I'm listing some Access advantages, which I don't think other database system have. I hope you could help me also find these advantages in others.
1. Access is portable, I can just copy a xxx.accdb file to my company and continue with development.
2. Access is easy to generate helpful table, for example, it will automatically generate a field that can automatically count, could be used as primary key value.
3. it is more compatable with Excel, to display and filter data.
4. importantly, it nerely needs no environment to setup, just needs MS Office to be installed. 
............others

However, I also find some points that MSSQL is advantaged:
1. security reasons
2. easy to backup, ( just use BACKUP..... sql statement to do it)
3. can edit stored procedure to save some functions to database
...............others


specifically, I wish some friends could tell me how to make other database portable? since I usually work both at home and in office. It's a headache to move MSSQL work to my office, since the version of MSSQL is not the same.

Thank you all and best regards, :) 




",mysql,sql-server,database,access,advantage,03/31/2012 00:39:55,not constructive,1,310,8,"Database advantages? Access, MySQL, msSQL, or any others? Dear all Stackoverflowers,
I just started to learn programming and now I'm putting this question online based on a quote: *no question is silly*

My work needs to develop a order system based on web, which wants a database system. Since using Excel for years as a general office user, I naturally turn this to Access. However, most people say Access is very limited comparing to MySQL or MSSQL, or any other more professional database system.

But after developing some functions for my company's order system, I really find Access can fulfill my request. And I also tried MSSQL to develop, which I found it not quite convenient to use.

I have searched in stackoverflow and find no general answer about my doubt. Now I am sincerely hoping some experienced and professional developers could clear my doubts.

Now I'm listing some Access advantages, which I don't think other database system have. I hope you could help me also find these advantages in others.
1. Access is portable, I can just copy a xxx.accdb file to my company and continue with development.
2. Access is easy to generate helpful table, for example, it will automatically generate a field that can automatically count, could be used as primary key value.
3. it is more compatable with Excel, to display and filter data.
4. importantly, it nerely needs no environment to setup, just needs MS Office to be installed. 
............others

However, I also find some points that MSSQL is advantaged:
1. security reasons
2. easy to backup, ( just use BACKUP..... sql statement to do it)
3. can edit stored procedure to save some functions to database
...............others


specifically, I wish some friends could tell me how to make other database portable? since I usually work both at home and in office. It's a headache to move MSSQL work to my office, since the version of MSSQL is not the same.

Thank you all and best regards, :) 




",5
11609254,07/23/2012 08:53:33,118342,06/05/2009 22:43:26,109,5,MySQL - LEFT JOIN and select rows from table not in another,"Ok, so here is an existing query I have that does what I need.

    SELECT C1.id AS id, C1.title AS title, C1.instructor_id AS instructor_id, C1.description AS description, C1.date AS date, C1.starttime AS starttime, C1.endtime AS endtime, C1.training_id AS training_id, C2.name AS name, C2.id AS instructors_id FROM trainings C1 LEFT JOIN instructors C2 ON C1.instructor_id = C2.id

However, I need to add something to it. I have two tables I need to compare in addition to what I have.

Table 'trainings' has a list of training sessions, indexed by 'id'. I also have another table, 'registrations', that holds info about what users registered for what training sessions with 3 columns: 'id' - index, 'user_id' - the ID of the user that registered for a training, and 'course_id' - the ID of the training session.

What I need to do in addition to my existing query, is select ONLY the training sessions that do not have a row in 'registrations' for that user already.

I hope this makes sense. Thank you for who can help. I have tried for hours. The query is just too large for me to keep organized and to think properly about how to do it.

",mysql,select,join,compare,,,open,0,197,12,"MySQL - LEFT JOIN and select rows from table not in another Ok, so here is an existing query I have that does what I need.

    SELECT C1.id AS id, C1.title AS title, C1.instructor_id AS instructor_id, C1.description AS description, C1.date AS date, C1.starttime AS starttime, C1.endtime AS endtime, C1.training_id AS training_id, C2.name AS name, C2.id AS instructors_id FROM trainings C1 LEFT JOIN instructors C2 ON C1.instructor_id = C2.id

However, I need to add something to it. I have two tables I need to compare in addition to what I have.

Table 'trainings' has a list of training sessions, indexed by 'id'. I also have another table, 'registrations', that holds info about what users registered for what training sessions with 3 columns: 'id' - index, 'user_id' - the ID of the user that registered for a training, and 'course_id' - the ID of the training session.

What I need to do in addition to my existing query, is select ONLY the training sessions that do not have a row in 'registrations' for that user already.

I hope this makes sense. Thank you for who can help. I have tried for hours. The query is just too large for me to keep organized and to think properly about how to do it.

",4
11320297,07/03/2012 22:51:54,776667,05/30/2011 18:52:17,253,31,InnoDB vs MyISAM with many indexes,"I am not sure if there is a right or wrong answer to this question, as I suppose it severely depends on the situation, but for the sake of a mental exercise, I'll go ahead and ask it anyway:

I have a MyISAM table in my database that stands central to my site. There are many reference tables created around it and many other tables that link directly to row ids from this table. The table is about 260k rows in size, with 28 fields which for the most part is varchars and ints. I have about 15 indexes on it (the data is about 70 MiB, indexes are about 80 MiB). There are maybe several hundred writes a day, versus the tens of thousands of reads. My databases are located on an SSD drive.

Now my question is; would be be beneficial to alter this table to a InnoDB table? I am working on extending my systems to include API traffic as well, meaning that the table will even the queried even more and I want to make sure that everything runs as smooth as possible. Because of this, I'm slightly leaning towards converting it to InnoDB. However, since the table requires many indexes, I'm thinking MyISAM might work more effectively. Can anyone help me make up my mind? Thanks in advance1",mysql,api,innodb,myisam,indexes,07/05/2012 15:08:22,off topic,1,221,6,"InnoDB vs MyISAM with many indexes I am not sure if there is a right or wrong answer to this question, as I suppose it severely depends on the situation, but for the sake of a mental exercise, I'll go ahead and ask it anyway:

I have a MyISAM table in my database that stands central to my site. There are many reference tables created around it and many other tables that link directly to row ids from this table. The table is about 260k rows in size, with 28 fields which for the most part is varchars and ints. I have about 15 indexes on it (the data is about 70 MiB, indexes are about 80 MiB). There are maybe several hundred writes a day, versus the tens of thousands of reads. My databases are located on an SSD drive.

Now my question is; would be be beneficial to alter this table to a InnoDB table? I am working on extending my systems to include API traffic as well, meaning that the table will even the queried even more and I want to make sure that everything runs as smooth as possible. Because of this, I'm slightly leaning towards converting it to InnoDB. However, since the table requires many indexes, I'm thinking MyISAM might work more effectively. Can anyone help me make up my mind? Thanks in advance1",5
9842122,03/23/2012 15:38:32,1162039,01/21/2012 08:00:53,1,0,MySQL install in Ubuntu,"I am trying to install MySQL in Ubuntu using the command

sudo apt-get install mysql-server

when I do so, I am getting the following error, it is something to do with Unmet dependencies. I don't know how to rectify this, could some one help me please? Thank you!!


Reading package lists... Done

Building dependency tree       
Reading state information... Done

You might want to run `apt-get -f install' to correct these:

The following packages have unmet dependencies:

  mysql-server: Depends: mysql-server-5.1 but it is not going to be installed

  phpmyadmin: Depends: php5-mysql but it is not going to be installed or

                       php5-mysqli but it is not installable

              Depends: php5-mcrypt but it is not going to be installed

              Depends: dbconfig-common but it is not going to be installed

             Depends: libjs-mootools (>= 1.2.4.0~debian1-1) but it is not going to be 
installed

              Recommends: php5-gd but it is not going to be installed

              Recommends: mysql-client

E: Unmet dependencies. Try 'apt-get -f install' with no packages (or specify a solution).

",mysql,,,,,03/23/2012 15:44:52,off topic,1,250,4,"MySQL install in Ubuntu I am trying to install MySQL in Ubuntu using the command

sudo apt-get install mysql-server

when I do so, I am getting the following error, it is something to do with Unmet dependencies. I don't know how to rectify this, could some one help me please? Thank you!!


Reading package lists... Done

Building dependency tree       
Reading state information... Done

You might want to run `apt-get -f install' to correct these:

The following packages have unmet dependencies:

  mysql-server: Depends: mysql-server-5.1 but it is not going to be installed

  phpmyadmin: Depends: php5-mysql but it is not going to be installed or

                       php5-mysqli but it is not installable

              Depends: php5-mcrypt but it is not going to be installed

              Depends: dbconfig-common but it is not going to be installed

             Depends: libjs-mootools (>= 1.2.4.0~debian1-1) but it is not going to be 
installed

              Recommends: php5-gd but it is not going to be installed

              Recommends: mysql-client

E: Unmet dependencies. Try 'apt-get -f install' with no packages (or specify a solution).

",1
11207574,06/26/2012 12:42:01,601841,02/03/2011 16:08:31,152,3,how to swap values of two rows in mysql without violating unique constraint?,"I have a ""tasks"" table with a priority column, which has a unique constraint.

I'm trying to swap the priority value of two rows, but I keep violating the constraint. I saw this statement somewhere in a similar situation, but it wasn't with MySQL.

    UPDATE tasks 
    SET priority = 
    CASE
        WHEN priority=2 THEN 3 
        WHEN priority=3 THEN 2 
    END 

    WHERE priority IN (2,3);

This will lead to the error:

    Error Code: 1062. Duplicate entry '3' for key 'priority_UNIQUE'


Is it possible to accomplish this in MySQL without using bogus values and multiple queries?
",mysql,,,,,,open,0,127,13,"how to swap values of two rows in mysql without violating unique constraint? I have a ""tasks"" table with a priority column, which has a unique constraint.

I'm trying to swap the priority value of two rows, but I keep violating the constraint. I saw this statement somewhere in a similar situation, but it wasn't with MySQL.

    UPDATE tasks 
    SET priority = 
    CASE
        WHEN priority=2 THEN 3 
        WHEN priority=3 THEN 2 
    END 

    WHERE priority IN (2,3);

This will lead to the error:

    Error Code: 1062. Duplicate entry '3' for key 'priority_UNIQUE'


Is it possible to accomplish this in MySQL without using bogus values and multiple queries?
",1
11467622,07/13/2012 09:21:21,950092,09/17/2011 09:15:47,3,3,mysql rank stuf,"I was struggle in the below question please any one help me for this? 
<http://stackoverflow.com/questions/11466452/how-to-add-rank-based-on-points-in-mysql>",mysql,,,,,07/13/2012 10:47:27,not a real question,1,15,3,"mysql rank stuf I was struggle in the below question please any one help me for this? 
<http://stackoverflow.com/questions/11466452/how-to-add-rank-based-on-points-in-mysql>",1
7270609,09/01/2011 12:55:38,923460,09/01/2011 12:41:00,1,0,I can't create new bug information in bugzilla,"I'm a new user of bugzilla. I config my bugzilla in REHL 5 with MySQL database.
Now, I can visit http://localhost/ to visit my bugzilla homepage. Also I can create new user, visit search page. But when I want to create a new bug, I chose ""New"", the explorer show that
I can't access to enter_bug.cgi.
What can I do? Where can I find bugzilla's log ?
Is there somebody can help me, thanks very much.      ",mysql,perl,apache,cgi,bugzilla,09/01/2011 13:27:06,off topic,1,78,8,"I can't create new bug information in bugzilla I'm a new user of bugzilla. I config my bugzilla in REHL 5 with MySQL database.
Now, I can visit http://localhost/ to visit my bugzilla homepage. Also I can create new user, visit search page. But when I want to create a new bug, I chose ""New"", the explorer show that
I can't access to enter_bug.cgi.
What can I do? Where can I find bugzilla's log ?
Is there somebody can help me, thanks very much.      ",5
9153176,02/05/2012 21:27:24,1191155,02/05/2012 21:10:18,1,0,Mysql DECIMAL storage,"Hi I am creating a very big table using DECIMAL data types.  its gonna be 50 million rows to start and grow from there, so I am concerned with storage.  I need DECIMAL as I need exact representation, and the documentation is clear that if you want exact representation you must use DECIMAL.

The mysql manual is quite clear on DECIMAL storage reqs, stating :

As of MySQL 5.0.3, values for DECIMAL columns are represented using a binary format that packs nine decimal (base 10) digits into four bytes. Storage for the integer and fractional parts of each value are determined separately. Each multiple of nine digits requires four bytes, and the “leftover” digits require some fraction of four bytes. The storage required for excess digits is given by the following table. 

Leftover Digits 	Number of Bytes<br>
0 	0<br>
1 	1<br>
2 	1<br>
3 	2<br>
4 	2<br>

http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html

So that implies that a DECIMAL(12,4) would require:

8 bytes for integer portion and 2 types for the 'leftover' portion for total 10 bytes.

So 1st question is, wouldn't DECIMAL(18,4) use the same 10 bytes of storage?  If I want to save storage, I would need to bump down to DECIMAL(9,4) and that's not an option for me.

IF so, 2nd question any idea if mysql processes DECIMAL(12,4) more efficiently (internally) than DECIMAL(18,4)?  I dont think that question is necessarily answerable, but thought I would give it a shot!  maybe someone has done some sort of benchmark...

thx.

Don",mysql,,,,,,open,0,238,3,"Mysql DECIMAL storage Hi I am creating a very big table using DECIMAL data types.  its gonna be 50 million rows to start and grow from there, so I am concerned with storage.  I need DECIMAL as I need exact representation, and the documentation is clear that if you want exact representation you must use DECIMAL.

The mysql manual is quite clear on DECIMAL storage reqs, stating :

As of MySQL 5.0.3, values for DECIMAL columns are represented using a binary format that packs nine decimal (base 10) digits into four bytes. Storage for the integer and fractional parts of each value are determined separately. Each multiple of nine digits requires four bytes, and the “leftover” digits require some fraction of four bytes. The storage required for excess digits is given by the following table. 

Leftover Digits 	Number of Bytes<br>
0 	0<br>
1 	1<br>
2 	1<br>
3 	2<br>
4 	2<br>

http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html

So that implies that a DECIMAL(12,4) would require:

8 bytes for integer portion and 2 types for the 'leftover' portion for total 10 bytes.

So 1st question is, wouldn't DECIMAL(18,4) use the same 10 bytes of storage?  If I want to save storage, I would need to bump down to DECIMAL(9,4) and that's not an option for me.

IF so, 2nd question any idea if mysql processes DECIMAL(12,4) more efficiently (internally) than DECIMAL(18,4)?  I dont think that question is necessarily answerable, but thought I would give it a shot!  maybe someone has done some sort of benchmark...

thx.

Don",1
9226018,02/10/2012 10:06:10,1058586,11/21/2011 20:51:49,12,0,Database table join displays multiple entries of same rows when I only want one,"I am doing a table join on a mysql databse.

I want the results to display just once but it displays each time there is an entry matching the query. 

Here is what I have so far:

    $descquery = ""SELECT streams.name, streams.desc, users.streamnumber FROM streams, users WHERE users.streamnumber = '$_POST[streamnumber]' AND users.streamnumber = streams.name"";
						
					$result = mysql_query($descquery) or die(mysql_error());


					// Print out the contents of each row into a table 
					while($row = mysql_fetch_array($result)){
						echo $row['name']. "" - "". $row['desc'];
						echo ""<br />"";
					}	


This prints out multiple entries of what I want. Just wondered if theres something im doing wrong? 

Thanks :)",mysql,query,join,,,,open,0,98,14,"Database table join displays multiple entries of same rows when I only want one I am doing a table join on a mysql databse.

I want the results to display just once but it displays each time there is an entry matching the query. 

Here is what I have so far:

    $descquery = ""SELECT streams.name, streams.desc, users.streamnumber FROM streams, users WHERE users.streamnumber = '$_POST[streamnumber]' AND users.streamnumber = streams.name"";
						
					$result = mysql_query($descquery) or die(mysql_error());


					// Print out the contents of each row into a table 
					while($row = mysql_fetch_array($result)){
						echo $row['name']. "" - "". $row['desc'];
						echo ""<br />"";
					}	


This prints out multiple entries of what I want. Just wondered if theres something im doing wrong? 

Thanks :)",3
4152266,11/11/2010 07:40:59,504194,11/11/2010 07:40:59,1,0,Joining on a CASE in MySQL,"Trying to implement polymorphic associations in MySQL. I thought the code could look something like this:

    SELECT
    ...
    FROM
    resource
    LEFT JOIN (
         CASE resource.owner_type
           WHEN 'meeting' THEN
             ( SELECT * FROM meeting ) as owner
           WHEN 'todo' THEN
             ( SELECT * FROM todo ) as owner
          END)

But the CASE is causing a syntax error. How can this be rewritten correctly?",mysql,associations,polymorphic,,,,open,0,137,6,"Joining on a CASE in MySQL Trying to implement polymorphic associations in MySQL. I thought the code could look something like this:

    SELECT
    ...
    FROM
    resource
    LEFT JOIN (
         CASE resource.owner_type
           WHEN 'meeting' THEN
             ( SELECT * FROM meeting ) as owner
           WHEN 'todo' THEN
             ( SELECT * FROM todo ) as owner
          END)

But the CASE is causing a syntax error. How can this be rewritten correctly?",3
5813213,04/28/2011 03:17:12,722337,04/24/2011 04:07:04,1,0,use one trigger with muptiple table in mysql,"I have a 3 tables, when action delete of 3 tables i want to capture records to table 4.

Trigger in mysql.",mysql,triggers,,,,04/28/2011 17:26:22,not a real question,1,21,8,"use one trigger with muptiple table in mysql I have a 3 tables, when action delete of 3 tables i want to capture records to table 4.

Trigger in mysql.",2
9335177,02/17/2012 20:47:47,1213833,02/16/2012 12:44:45,1,0,How to Manage very Large MySql Database,"I have a copy of the PAF (UK Postcode) database it is currently stored in a MySql Database, and i use it on my site to pre-fill address details, however the Database huge 28,000,000+ records and it is very slow to search.

Any ideas how I could slit the DB to improve performance?

Thanks for the help guys!  ",mysql,,,,,02/18/2012 13:59:47,off topic,1,58,7,"How to Manage very Large MySql Database I have a copy of the PAF (UK Postcode) database it is currently stored in a MySql Database, and i use it on my site to pre-fill address details, however the Database huge 28,000,000+ records and it is very slow to search.

Any ideas how I could slit the DB to improve performance?

Thanks for the help guys!  ",1
8973911,01/23/2012 15:18:53,1020130,10/29/2011 20:35:03,3,0,Too many mysql queries,"I'm having gigantic amount of Mysql queries on my wordpress site. How to speed up the site? I don't have much experience with database tables etc.

Here is a screenshot of my debugging (at bottom).


[Screenshot][1]


  [1]: http://www.stalkinghorse.be/queries.png",mysql,wordpress,query,,,01/29/2012 14:20:33,not a real question,1,37,4,"Too many mysql queries I'm having gigantic amount of Mysql queries on my wordpress site. How to speed up the site? I don't have much experience with database tables etc.

Here is a screenshot of my debugging (at bottom).


[Screenshot][1]


  [1]: http://www.stalkinghorse.be/queries.png",3
2481528,03/20/2010 01:26:58,121196,06/11/2009 09:33:59,362,6,mysql like performance boost,is there anyway to speed up mysql like operator performance if wild card is involved? eg. like '%test%',mysql,like,,,,,open,0,18,4,mysql like performance boost is there anyway to speed up mysql like operator performance if wild card is involved? eg. like '%test%',2
11061204,06/16/2012 05:53:54,705926,04/13/2011 11:27:10,393,14,can't drop index because its name is an integer,"I have some indexes in a table which name **is a number(1,2,3,4...)**

But when i use the drop command to remove the index i get a **1064 error**

    DROP INDEX 1 ON table_name;

So my guess is that i cant drop an index when its name is a number? or there is something else i dont know here?

How can it work locally and not on the server?

Error output:

    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1 on table_name' at line 1",mysql,indexing,index,indexes,,,open,0,106,9,"can't drop index because its name is an integer I have some indexes in a table which name **is a number(1,2,3,4...)**

But when i use the drop command to remove the index i get a **1064 error**

    DROP INDEX 1 ON table_name;

So my guess is that i cant drop an index when its name is a number? or there is something else i dont know here?

How can it work locally and not on the server?

Error output:

    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1 on table_name' at line 1",4
1965243,12/27/2009 05:17:03,183642,10/03/2009 15:57:37,30,0,How to print the actual SQL query to a file? ,"When I print the $stmt it says, 

""mysqli_stmt could not be converted to string""",mysql,php,,,,12/28/2009 08:58:21,not a real question,1,14,11,"How to print the actual SQL query to a file?  When I print the $stmt it says, 

""mysqli_stmt could not be converted to string""",2
10872186,06/03/2012 16:54:40,1401379,05/17/2012 15:37:21,3,0,MySQL vs File-Based CMS,"I'm looking for a new CMS to host my new blog and I was deciding what the best route would be, either using MySQL or a file-based CMS.

I'll probably be writing on the blog every other day so I'm looking for speed.

Does anybody know which one would be better for speed / security?

Thanks!",mysql,performance,content-management-system,blogs,,06/04/2012 16:02:44,off topic,1,53,4,"MySQL vs File-Based CMS I'm looking for a new CMS to host my new blog and I was deciding what the best route would be, either using MySQL or a file-based CMS.

I'll probably be writing on the blog every other day so I'm looking for speed.

Does anybody know which one would be better for speed / security?

Thanks!",4
11062928,06/16/2012 11:17:15,1328935,04/12/2012 11:16:34,1,0,How to call action method of active record from active resource?,"I have a web service and for that I made two applications called backend and frontend, frontend is active resource client, I want to call custom action method of backend's controller from custom action method of frontend's controller, I am new in ROR.

 frontend controller:

class ProductsController < ApplicationController
 
 def my_method

    # call custion action of backend's controller 

 end
.....

end

 backend controller:

class ProductsController < ApplicationController

 def my_method

 # my code go here

 end

end

Any help would be greatly appreciated.",mysql,ruby,ruby-on-rails-3,mvc,,,open,0,81,11,"How to call action method of active record from active resource? I have a web service and for that I made two applications called backend and frontend, frontend is active resource client, I want to call custom action method of backend's controller from custom action method of frontend's controller, I am new in ROR.

 frontend controller:

class ProductsController < ApplicationController
 
 def my_method

    # call custion action of backend's controller 

 end
.....

end

 backend controller:

class ProductsController < ApplicationController

 def my_method

 # my code go here

 end

end

Any help would be greatly appreciated.",4
11094509,06/19/2012 04:43:50,1465358,06/19/2012 04:28:47,1,0,multiple joins and calculations with mysql,"this is my tables
products - productid, productname
             001         x
             002         y
             003         z
invoiceqty-productid, qty
             001       10
             001       20
             002       10
             002       05
grnqty-productid, qty
             001        50
             002        50
             003        50 
returninqty-productid, qty
             002        02
             002        03
returnoutqty-productid, qty
             001         01
             001         01
i need a query to view stock balance
like this!!!!!
productid qty
001        40
002        33
003        50
please help me!!!!!",mysql,,,,,06/19/2012 11:54:30,not a real question,1,342,6,"multiple joins and calculations with mysql this is my tables
products - productid, productname
             001         x
             002         y
             003         z
invoiceqty-productid, qty
             001       10
             001       20
             002       10
             002       05
grnqty-productid, qty
             001        50
             002        50
             003        50 
returninqty-productid, qty
             002        02
             002        03
returnoutqty-productid, qty
             001         01
             001         01
i need a query to view stock balance
like this!!!!!
productid qty
001        40
002        33
003        50
please help me!!!!!",1
10398691,05/01/2012 13:54:31,1283055,03/21/2012 10:01:46,5,0,REGEXP in SQL-Server-2008,"I try to do a migration from MYSQL to SQL Server 2008 but i have a small problem.

I have this line : 

    $sql = ""SELECT SUM(duree) AS 'TotDuree' FROM `mp3s` WHERE `dirname` REGEXP CONVERT(_utf8 '$container_dir' USING latin1)"";

When i try to change it, i always have a problem with REGEXP. I made some search about it and someone said that we can't use REGEXP in SQL Server 2008.

I tried to find another way to do it but i didn't success.

Thanks for your help.",mysql,regex,sql-server-2008,migration,,,open,0,86,3,"REGEXP in SQL-Server-2008 I try to do a migration from MYSQL to SQL Server 2008 but i have a small problem.

I have this line : 

    $sql = ""SELECT SUM(duree) AS 'TotDuree' FROM `mp3s` WHERE `dirname` REGEXP CONVERT(_utf8 '$container_dir' USING latin1)"";

When i try to change it, i always have a problem with REGEXP. I made some search about it and someone said that we can't use REGEXP in SQL Server 2008.

I tried to find another way to do it but i didn't success.

Thanks for your help.",4
9907469,03/28/2012 12:26:48,1083680,12/06/2011 14:22:59,28,3,HOW TO DISPLAY THE TABLE IN THE PICTURE BELOW USING A SINGLE SQL QUERY,"I WANT TO USE ONE QUERY TO HAVE THE RESULT SHOWN IN THE PICTURE BELOW
THANK YOU

![TABLES DESCRIPTION][1]


  [1]: http://i.stack.imgur.com/eXgM3.png",mysql,sql,query,,,03/30/2012 12:34:58,not a real question,1,20,14,"HOW TO DISPLAY THE TABLE IN THE PICTURE BELOW USING A SINGLE SQL QUERY I WANT TO USE ONE QUERY TO HAVE THE RESULT SHOWN IN THE PICTURE BELOW
THANK YOU

![TABLES DESCRIPTION][1]


  [1]: http://i.stack.imgur.com/eXgM3.png",3
3860525,10/05/2010 02:44:34,282772,02/27/2010 17:30:20,171,4,"Mysql - ""Best Match"" search algorithm","Let's assume I have a table full of **teachers**.

every teacher has these **parameters**:

    Experience
    Hourly Cost
    Distance
    Last Login
    Total Rating (like an eBay score given by student)

the fact is, that I would avoid to give my users those dropdown menus to choose the sorting option, but i would build a search engine smart enough to compute the **best match**

for best match i mean a good balance of each parameter, so the first results are the teachers who have a recent login, who are closer to you etc...but not necesserely alwasy with the same sorting sequence (login DESC, THEN distance ASc etc...)

short question is basically how to avoid that a teacher that is loggin in everyday is oign to be always first in my results even if is 50miles from me, and maybe a teacher that is only 1mile form me but he login only once a week is oign to be panlized for that...

i hope i was clear.. ;)


",mysql,algorithm,search-engine,,,,open,0,175,6,"Mysql - ""Best Match"" search algorithm Let's assume I have a table full of **teachers**.

every teacher has these **parameters**:

    Experience
    Hourly Cost
    Distance
    Last Login
    Total Rating (like an eBay score given by student)

the fact is, that I would avoid to give my users those dropdown menus to choose the sorting option, but i would build a search engine smart enough to compute the **best match**

for best match i mean a good balance of each parameter, so the first results are the teachers who have a recent login, who are closer to you etc...but not necesserely alwasy with the same sorting sequence (login DESC, THEN distance ASc etc...)

short question is basically how to avoid that a teacher that is loggin in everyday is oign to be always first in my results even if is 50miles from me, and maybe a teacher that is only 1mile form me but he login only once a week is oign to be panlized for that...

i hope i was clear.. ;)


",3
7959535,10/31/2011 20:47:22,544094,12/15/2010 23:54:48,284,5,Find and replace end of line with Dreamweaver,"I have a list of web address I'm trying to put into an SQL database. 
The beginning of each line was easy, all I had to do was find/replace ""http"" with the beginning of the SQL command followed by http.

My question is, how do I do a find and replace at the end of every line, even though they all end with something different? ",mysql,text,dreamweaver,,,,open,0,65,8,"Find and replace end of line with Dreamweaver I have a list of web address I'm trying to put into an SQL database. 
The beginning of each line was easy, all I had to do was find/replace ""http"" with the beginning of the SQL command followed by http.

My question is, how do I do a find and replace at the end of every line, even though they all end with something different? ",3
7129560,08/20/2011 04:00:20,177524,09/23/2009 01:38:37,524,26,How can you install the mysql2 gem when MySQL was installed with homebrew on OS X Lion?,"I've been unable to install the mysql2 gem with MySQL installed via homebrew on OS X Lion.  I've tried a multitude of flags with the install, and I've still had no luck. Here are all the details. 

_Software  Mac OS X Lion 10.7 (11A2063)_

`$ uname -a`

`Darwin Greenwood.local 11.0.1 Darwin Kernel Version 11.0.1: Wed Jun 29 19:53:22 PDT 2011; root:xnu-1699.23.2~1/RELEASE_X86_64 x86_64`

`$ which gcc | xargs ls -l`

`lrwxr-xr-x  1 root  wheel  12 Aug 18 14:09 /usr/bin/gcc -> llvm-gcc-4.2`

`$ brew info mysql`

`mysql 5.5.14`

`$ which mysql`

`/usr/local/bin/mysql`

`$ which mysql_config`

`/usr/local/bin/mysql_config`

`$ ls -l /usr/local/bin/mysql*`

`$ ls -l /usr/local/lib/libmysql*`

See output in this gist: https://gist.github.com/1158628

`$ sudo gem install mysql2`

See output in this gist: https://gist.github.com/1158612

`$ sudo find / -name mysql.h`

`/usr/local/Cellar/mysql/5.5.14/include/mysql.h`

`/usr/local/include/mysql.h`

`$ /usr/local/bin/mysql_config`

See output in this gist: https://gist.github.com/1158625

`$ sudo env ARCHFLAGS=""-arch x86_64"" gem install mysql2 -- --with-mysql-config=/usr/local/bin/mysql_config`

See output in this gist: https://gist.github.com/1158618

`$ sudo env ARCHFLAGS=""-arch x86_64"" gem install mysql2 -- --with-mysql-dir=/usr/local`

I also tried this answer:
http://stackoverflow.com/questions/6340174/mysql-gem-on-osx-10-7-lion/6591223#6591223

Thanks for the help!",mysql,ruby,gem,homebrew,,08/21/2011 12:11:23,too localized,1,150,17,"How can you install the mysql2 gem when MySQL was installed with homebrew on OS X Lion? I've been unable to install the mysql2 gem with MySQL installed via homebrew on OS X Lion.  I've tried a multitude of flags with the install, and I've still had no luck. Here are all the details. 

_Software  Mac OS X Lion 10.7 (11A2063)_

`$ uname -a`

`Darwin Greenwood.local 11.0.1 Darwin Kernel Version 11.0.1: Wed Jun 29 19:53:22 PDT 2011; root:xnu-1699.23.2~1/RELEASE_X86_64 x86_64`

`$ which gcc | xargs ls -l`

`lrwxr-xr-x  1 root  wheel  12 Aug 18 14:09 /usr/bin/gcc -> llvm-gcc-4.2`

`$ brew info mysql`

`mysql 5.5.14`

`$ which mysql`

`/usr/local/bin/mysql`

`$ which mysql_config`

`/usr/local/bin/mysql_config`

`$ ls -l /usr/local/bin/mysql*`

`$ ls -l /usr/local/lib/libmysql*`

See output in this gist: https://gist.github.com/1158628

`$ sudo gem install mysql2`

See output in this gist: https://gist.github.com/1158612

`$ sudo find / -name mysql.h`

`/usr/local/Cellar/mysql/5.5.14/include/mysql.h`

`/usr/local/include/mysql.h`

`$ /usr/local/bin/mysql_config`

See output in this gist: https://gist.github.com/1158625

`$ sudo env ARCHFLAGS=""-arch x86_64"" gem install mysql2 -- --with-mysql-config=/usr/local/bin/mysql_config`

See output in this gist: https://gist.github.com/1158618

`$ sudo env ARCHFLAGS=""-arch x86_64"" gem install mysql2 -- --with-mysql-dir=/usr/local`

I also tried this answer:
http://stackoverflow.com/questions/6340174/mysql-gem-on-osx-10-7-lion/6591223#6591223

Thanks for the help!",4
6818364,07/25/2011 15:21:51,861853,07/25/2011 15:21:51,1,0,Translate mysql content to different language,"how can I translate database (mysql) to another language? Is it possible? I have 1200 fields of text (1 column) and I would like to translate these fields to spanish language? Can someone write a short php script here? I have a little knowledge of php and mysql myself :/

It should be translated like this:
from:
table 1 - column1 - row1
to:
table 1 - column1 - row1200

Translate 1 field by another and overwrite that field with new translated content.
Can this be done using google translate tool? I just need a translation, not an accurate translation. It's experimental.

Big thank you in advance!!",mysql,translate,google-translate,,,07/26/2011 03:21:32,not a real question,1,99,6,"Translate mysql content to different language how can I translate database (mysql) to another language? Is it possible? I have 1200 fields of text (1 column) and I would like to translate these fields to spanish language? Can someone write a short php script here? I have a little knowledge of php and mysql myself :/

It should be translated like this:
from:
table 1 - column1 - row1
to:
table 1 - column1 - row1200

Translate 1 field by another and overwrite that field with new translated content.
Can this be done using google translate tool? I just need a translation, not an accurate translation. It's experimental.

Big thank you in advance!!",3
4784279,01/24/2011 16:18:33,552233,12/23/2010 09:55:52,6,1,Looking for a good php exam script,"I've googled and also searched stack overflow, but didn't find anything. I'm looking for a php exam script which can check answers with session control, that means ,the examinee will have limited time to answer the questions. I needs to save the answers in database too, along with total score. I know, developing this myself would have been best, but, I'm a total newbie at PHP and can't handle doing it myself. Please help!",mysql,php5,session,,,01/24/2011 16:36:50,off topic,1,74,7,"Looking for a good php exam script I've googled and also searched stack overflow, but didn't find anything. I'm looking for a php exam script which can check answers with session control, that means ,the examinee will have limited time to answer the questions. I needs to save the answers in database too, along with total score. I know, developing this myself would have been best, but, I'm a total newbie at PHP and can't handle doing it myself. Please help!",3
1838713,12/03/2009 09:22:03,140901,07/19/2009 07:47:51,245,14,"Database Tables, more the better?","Lately I've been rethinking a database design I made a couple of months ago. The main reason is that last night I read the databse schema of vBulletin and saw that they use many, MANY, tables.

The current ""idea"" I'm using for my schema, for instance my log table, is to keep everything in one table by differencing the type of Log with an integer:

    id, type, type_id, action, message
    1 ,    1,     305,      2, 'Explanation for user Ban'
    2,     2,    1045,      1, 'Reason for deletion of Article'

Where `type 1 = user, type 2 = article`, `type_id = the ID of the user, article or w/e` and `action 2 = ban, action 1 = deletion`.

Should I change the design to two tables `logBans`, `logSomething` and so on? or is it better to keep the method I'm currently using?",mysql,database-design,,,,,open,0,170,5,"Database Tables, more the better? Lately I've been rethinking a database design I made a couple of months ago. The main reason is that last night I read the databse schema of vBulletin and saw that they use many, MANY, tables.

The current ""idea"" I'm using for my schema, for instance my log table, is to keep everything in one table by differencing the type of Log with an integer:

    id, type, type_id, action, message
    1 ,    1,     305,      2, 'Explanation for user Ban'
    2,     2,    1045,      1, 'Reason for deletion of Article'

Where `type 1 = user, type 2 = article`, `type_id = the ID of the user, article or w/e` and `action 2 = ban, action 1 = deletion`.

Should I change the design to two tables `logBans`, `logSomething` and so on? or is it better to keep the method I'm currently using?",2
3354899,07/28/2010 16:08:12,330777,05/02/2010 11:28:39,1284,78,MySQL regexp for matching list of numbers in a string,"I have several rows with strings similar to this: `1,19|11|14,2`<br>
The info I want to look at is: `19|11|14`<br>
This info should be matched for a few numbers like all numbers between 8-13<br>

What's the most effective way to accomplish this? I tried using a regexp like:<br> `[^0-9]*(8|9|10|11|12|13)[^0-9]*`<br>
But this would also match the number 9 which is actually 19.

Other methods for parsing the string is also welcomed, only functions available in MySQL 5.0 can be used.",mysql,regex,,,,,open,0,73,10,"MySQL regexp for matching list of numbers in a string I have several rows with strings similar to this: `1,19|11|14,2`<br>
The info I want to look at is: `19|11|14`<br>
This info should be matched for a few numbers like all numbers between 8-13<br>

What's the most effective way to accomplish this? I tried using a regexp like:<br> `[^0-9]*(8|9|10|11|12|13)[^0-9]*`<br>
But this would also match the number 9 which is actually 19.

Other methods for parsing the string is also welcomed, only functions available in MySQL 5.0 can be used.",2
1515749,10/04/2009 06:31:10,169497,09/07/2009 04:53:48,10,18,MySQL Query Related Problem,"setup: 

    mysql> create table bank(bank_id integer, bank_name varchar(255));
    Query OK, 0 rows affected (0.27 sec)

    mysql> create table accounts_bank(method tinyint, bank_id integer, amount float);
    Query OK, 0 rows affected (0.09 sec)

    mysql> insert into bank(bank_id, bank_name) values(1, 'A Bank');
    Query OK, 1 row affected (0.05 sec)

    mysql> insert into bank(bank_id, bank_name) values(1, 'B Bank');
    Query OK, 1 row affected (0.03 sec)
    
    mysql> insert into bank(bank_id, bank_name) values(1, 'C Bank');
    Query OK, 1 row affected (0.03 sec)

    mysql> insert into bank(bank_id, bank_name) values(1, 'D Bank');
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 1, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 2, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 3, 5000);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 4, 500);
    Query OK, 1 row affected (0.05 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 4, 5800);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 3, 25000);
    Query OK, 1 row affected (0.02 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 2, 27500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 1, 2000);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 1, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 2, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 4, 2500);
    Query OK, 1 row affected (0.03 sec)
 
 
 

my first query: 
 
    mysql> select bank_name, sum(amount) as amount from accounts_bank ab left join bank b on b.bank_id=ab.bank_id where method=0 group by bank_name order by bank_name; 
 
 
returns: 
 
 
    +-----------+--------+ 
    | bank_name | amount | 
    +-----------+--------+ 
    | A Bank    |   7000 | 
    | B Bank    |  27500 | 
    | D Bank    |   8800 |
    +-----------+--------+ 
    3 rows in set (0.00 sec) 
 
my second query: 
 
    mysql> select bank_name, sum(amount) as amount from accounts_bank ab left join bank b on b.bank_id=ab.bank_id where method=1 group by bank_name order by bank_name; 
 
 
returns: 
 
 
    +-----------+--------+ 
    | bank_name | amount | 
    +-----------+--------+ 
    | B Bank    |   5000 | 
    | C Bank    |  30000 |
    +-----------+--------+ 
    2 rows in set (0.00 sec) 
 
 
 
Now I want a result like this by simply deducting 2nd result from the 1st one: 
 
 
    +-----------+--------+ 
    | bank_name | amount | 
    +-----------+--------+ 
    | A Bank    |   7000 | 
    | B Bank    |  22500 |
    | C Bank    | -30000 | 
    | D Bank    |   8800 |
    +-----------+--------+ 
 
 
To get this result what mysql query should I run?
",mysql,sql,query,sql-query,,,open,0,711,4,"MySQL Query Related Problem setup: 

    mysql> create table bank(bank_id integer, bank_name varchar(255));
    Query OK, 0 rows affected (0.27 sec)

    mysql> create table accounts_bank(method tinyint, bank_id integer, amount float);
    Query OK, 0 rows affected (0.09 sec)

    mysql> insert into bank(bank_id, bank_name) values(1, 'A Bank');
    Query OK, 1 row affected (0.05 sec)

    mysql> insert into bank(bank_id, bank_name) values(1, 'B Bank');
    Query OK, 1 row affected (0.03 sec)
    
    mysql> insert into bank(bank_id, bank_name) values(1, 'C Bank');
    Query OK, 1 row affected (0.03 sec)

    mysql> insert into bank(bank_id, bank_name) values(1, 'D Bank');
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 1, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 2, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 3, 5000);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 4, 500);
    Query OK, 1 row affected (0.05 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 4, 5800);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 3, 25000);
    Query OK, 1 row affected (0.02 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 2, 27500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 1, 2000);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 1, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (1, 2, 2500);
    Query OK, 1 row affected (0.03 sec)

    mysql> inseert into accounts_bank(method, bank_id, amount) values (0, 4, 2500);
    Query OK, 1 row affected (0.03 sec)
 
 
 

my first query: 
 
    mysql> select bank_name, sum(amount) as amount from accounts_bank ab left join bank b on b.bank_id=ab.bank_id where method=0 group by bank_name order by bank_name; 
 
 
returns: 
 
 
    +-----------+--------+ 
    | bank_name | amount | 
    +-----------+--------+ 
    | A Bank    |   7000 | 
    | B Bank    |  27500 | 
    | D Bank    |   8800 |
    +-----------+--------+ 
    3 rows in set (0.00 sec) 
 
my second query: 
 
    mysql> select bank_name, sum(amount) as amount from accounts_bank ab left join bank b on b.bank_id=ab.bank_id where method=1 group by bank_name order by bank_name; 
 
 
returns: 
 
 
    +-----------+--------+ 
    | bank_name | amount | 
    +-----------+--------+ 
    | B Bank    |   5000 | 
    | C Bank    |  30000 |
    +-----------+--------+ 
    2 rows in set (0.00 sec) 
 
 
 
Now I want a result like this by simply deducting 2nd result from the 1st one: 
 
 
    +-----------+--------+ 
    | bank_name | amount | 
    +-----------+--------+ 
    | A Bank    |   7000 | 
    | B Bank    |  22500 |
    | C Bank    | -30000 | 
    | D Bank    |   8800 |
    +-----------+--------+ 
 
 
To get this result what mysql query should I run?
",4
11222326,06/27/2012 08:35:58,1015974,10/27/2011 06:53:13,164,7,mysql qyery while loop not taking all values from other loop,"i am making a query to get messages and in such way that it fetches all the messages of non friends (excluding user id and user id's friend id ) but is not working as even after getting all the friend id at first place under a loop and then in second query telling not to include those friend ids only one friend id is being not taken as if the first loop is not running.

here is my query 


       public function total_Updates($uid,$lastid) 
	        {   
	// More Button
    $morequery="""";
    if($lastid)
    $morequery="" and M.msg_id<'"".$lastid.""' "";
	   // More Button End
	$sql1 = mysql_query(""select friend_id from friend_list where uid='$uid' and status='1' "");
	while($row1=mysql_fetch_array($sql1))	
	 	   {
		   $frndz=$row1['friend_id'];
		   
	    $query = mysql_query(""SELECT M.msg_id, M.uid_fk,M.f_id, M.message, M.created,f.friend_id,f.uid,f.status,U.fname,M.uploads,M.uploads_grab FROM messages M, users_profile U,friend_list f  WHERE M.uid_fk=U.uid and f.uid ='$uid' and f.status='1' $morequery and U.uid not in ('$uid' , '$frndz') order by created desc limit "" .$this->perpage) or die(mysql_error());
		 while($row=mysql_fetch_array($query))
		 
		$data[]=$row;
		
	    return $data;
    }
	}


in the above query i use this to get friends and the other query not to include those friends can any one help ?


      $sql1 = mysql_query(""select friend_id from friend_list where uid='$uid' and status='1' "");
       while($row1=mysql_fetch_array($sql1)) 
       {
       $frndz=$row1['friend_id'];
",mysql,while-loops,,,,,open,0,257,11,"mysql qyery while loop not taking all values from other loop i am making a query to get messages and in such way that it fetches all the messages of non friends (excluding user id and user id's friend id ) but is not working as even after getting all the friend id at first place under a loop and then in second query telling not to include those friend ids only one friend id is being not taken as if the first loop is not running.

here is my query 


       public function total_Updates($uid,$lastid) 
	        {   
	// More Button
    $morequery="""";
    if($lastid)
    $morequery="" and M.msg_id<'"".$lastid.""' "";
	   // More Button End
	$sql1 = mysql_query(""select friend_id from friend_list where uid='$uid' and status='1' "");
	while($row1=mysql_fetch_array($sql1))	
	 	   {
		   $frndz=$row1['friend_id'];
		   
	    $query = mysql_query(""SELECT M.msg_id, M.uid_fk,M.f_id, M.message, M.created,f.friend_id,f.uid,f.status,U.fname,M.uploads,M.uploads_grab FROM messages M, users_profile U,friend_list f  WHERE M.uid_fk=U.uid and f.uid ='$uid' and f.status='1' $morequery and U.uid not in ('$uid' , '$frndz') order by created desc limit "" .$this->perpage) or die(mysql_error());
		 while($row=mysql_fetch_array($query))
		 
		$data[]=$row;
		
	    return $data;
    }
	}


in the above query i use this to get friends and the other query not to include those friends can any one help ?


      $sql1 = mysql_query(""select friend_id from friend_list where uid='$uid' and status='1' "");
       while($row1=mysql_fetch_array($sql1)) 
       {
       $frndz=$row1['friend_id'];
",2
2337859,02/25/2010 21:40:19,168199,09/03/2009 22:38:00,89,1,MySQL data change management,"I have content stored in a table with the following schema:

**id** unsigned int primary_key<br/>**name** varchar(20)

I have two levels of users: <br/>
1.Content editor: Who can change content and submit for approval(involves deleting rows as well as editing fields)<br/>
2.Content admin: Who can see changes and approve them.

The content editor works on a copy of the master table, and submits changes. These changes are later approved by admin and is committed to the master table. 

The challenge here is that the master table can change in structure. So if I were to write this change management infrastructure as a separate code, it will be difficult to maintain the code with changing structure of the master table. 

I am wondering if there is any off-the-shelf infrastructure to do this?


Thanks in advance",mysql,database,php,,,06/10/2012 16:16:02,off topic,1,127,4,"MySQL data change management I have content stored in a table with the following schema:

**id** unsigned int primary_key<br/>**name** varchar(20)

I have two levels of users: <br/>
1.Content editor: Who can change content and submit for approval(involves deleting rows as well as editing fields)<br/>
2.Content admin: Who can see changes and approve them.

The content editor works on a copy of the master table, and submits changes. These changes are later approved by admin and is committed to the master table. 

The challenge here is that the master table can change in structure. So if I were to write this change management infrastructure as a separate code, it will be difficult to maintain the code with changing structure of the master table. 

I am wondering if there is any off-the-shelf infrastructure to do this?


Thanks in advance",3
9621407,03/08/2012 16:46:11,991703,10/12/2011 15:00:30,215,0,how to populate a database?,"I have a mysql database with a single table, that includes an autoincrement ID, a string and two numbers. I want to populate this database with many strings, coming from a text file, with all numbers initially reset to 0.

Is there a way to do it quickly? I thought of creating a script that generates many INSERT statements, but that seems somewhat primitive and slow. Especially since mysql is on remote site.

Thanks.
",mysql,,,,,,open,0,72,5,"how to populate a database? I have a mysql database with a single table, that includes an autoincrement ID, a string and two numbers. I want to populate this database with many strings, coming from a text file, with all numbers initially reset to 0.

Is there a way to do it quickly? I thought of creating a script that generates many INSERT statements, but that seems somewhat primitive and slow. Especially since mysql is on remote site.

Thanks.
",1
8147627,11/16/2011 06:30:32,994165,10/13/2011 18:58:13,39,0,JDBC / MYSQL: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO),"With this code
			String url = ""jdbc:mysql://localhost/mysql"";
			
			Connection con = DriverManager.getConnection( 
					url, 
					""root"",
					"""");

I get this exception.  I logged into the database using the command tool with root and no password. I was able to telnet to the database and I get this message

    N
     5.5.17-log
               7{*Zj%u☻Ç§|tR}=Vz'L,6imysql_native_password""

java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1073)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3609)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3541)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:943)
	at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:4113)
	at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1308)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2336)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2369)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2153)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:792)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:381)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:305)
	at java.sql.DriverManager.getConnection(Unknown Source)
	at java.sql.DriverManager.getConnection(Unknown Source)
	at MyTest1.main(MyTest1.java:29)
",mysql,jdbc,,,,,open,0,101,12,"JDBC / MYSQL: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO) With this code
			String url = ""jdbc:mysql://localhost/mysql"";
			
			Connection con = DriverManager.getConnection( 
					url, 
					""root"",
					"""");

I get this exception.  I logged into the database using the command tool with root and no password. I was able to telnet to the database and I get this message

    N
     5.5.17-log
               7{*Zj%u☻Ç§|tR}=Vz'L,6imysql_native_password""

java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1073)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3609)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3541)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:943)
	at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:4113)
	at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1308)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2336)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2369)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2153)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:792)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:381)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:305)
	at java.sql.DriverManager.getConnection(Unknown Source)
	at java.sql.DriverManager.getConnection(Unknown Source)
	at MyTest1.main(MyTest1.java:29)
",2
8200026,11/20/2011 07:10:46,737956,05/04/2011 12:22:27,113,12,Would using Redis with Rails provide any performance benefit for this specific kind of queries,"I don't know if this is the right place to ask question like this, but here it goes:

I have an intranet-like Rails 3 application managing about 20k users which are in nested-set (preordered tree - http://en.wikipedia.org/wiki/Nested_set_model).
Those users enter stats (data, just plain numeric values). Entered stats are assigned to category (we call it Pointer) and a week number.

Those data are further processed and computed to Results.
Some are computed from users activity + result from some other category... etc.
What user enters isn't always the same what he sees in reports.

Those computations can be very tricky, some categories have very specific formulae.

But the rest is just ""give me sum of all entered values for this category for this user for this week/month/year"".

Problem is that those stats needs also to be summed for a subset of users under selected user (so it will basically return sum of all values for all users under the user, including self).

This app is in production for 2 years and it is doing its job pretty well... but with more and more users but it's also pretty slow when it comes to server-expensive reports, like ""give me list of all users under myself and their statistics. One line for summed by their sub-group and one line for their personal stats""). Of course, users wants (and needs) their reports to be as actual as possible, 5 mins to reflect newly entered data is too much for them.
To stay realtime, we cannot do the high-intensive sqls directly...
Those sqls are hard to optimize and I'm glad I've moved from this approach... (caching is not an option. See below.)

Current app goes like this:

* frontend: when user enters new data, it is saved to simple mysql table, like `[user_id, pointer_id, date, value]` and there is also insert to the queue.

* backend: then there is calc_daemon process, which every 5 seconds checks the queue for new ""recompute requests"". We pop the requests, determine what else needs to be recomputed along with it (pointers have dependencies... simples case is: when you change week stats, we must recompute month and year stats...). It does this recomputation the easy way.. we select the data by customized per-pointer-different sqls generated by their classes.
* those computed results are then written back to mysql, but to partitioned tables (one table per year). One line in this table is like `[user_id, pointer_id, month_value, w1_value, w2_value, w3_value, w4 value]`. This way, the tables have ~500k records (I've basically reduced 5x # of records).
* when frontend needs those results it does simple sums on those partitioned data, with 2 joins (because of the nested set conds).

The problem is that those simple sqls with sums, group by and join-on-the-subtree take like 200ms each... just for a few records.. and we run a lot of these sqls... I think they are optimized the best they can, according to `explain`... but they are just hard for it.

So... The QUESTION:

Can I rewrite this to use Redis (or other fast key-value store) and see any benefit from it when I'm using Ruby and Rails? As I see it, if I'll rewrite it to use redis, I'll have to run much more queries against it than I have to with mysql, and then perform the sum in ruby manually... so the performance can be hurt considerably... I'm not really sure if I could write all the possible queries I have now with redis... Loading the users in rails and then doing something like ""redis, give me sum for users 1,2,3,4,5..."" doesn't seem like right idea... But maybe there is some feature in redis that could make this simpler?)...

Or would you suggest me to rewrite this app to different language (java?) and to compute the results in memory instead? :) (I've tried to do it SOA-way but it failed on that I end up one way or another with XXX megabytes of data in ruby... especially when generating the reports... and gc just kills it...) (and a side effect is that one generating report blocks the whole rails app :/ )

Suggestions are welcome.",mysql,database,ruby-on-rails-3,redis,,,open,0,673,15,"Would using Redis with Rails provide any performance benefit for this specific kind of queries I don't know if this is the right place to ask question like this, but here it goes:

I have an intranet-like Rails 3 application managing about 20k users which are in nested-set (preordered tree - http://en.wikipedia.org/wiki/Nested_set_model).
Those users enter stats (data, just plain numeric values). Entered stats are assigned to category (we call it Pointer) and a week number.

Those data are further processed and computed to Results.
Some are computed from users activity + result from some other category... etc.
What user enters isn't always the same what he sees in reports.

Those computations can be very tricky, some categories have very specific formulae.

But the rest is just ""give me sum of all entered values for this category for this user for this week/month/year"".

Problem is that those stats needs also to be summed for a subset of users under selected user (so it will basically return sum of all values for all users under the user, including self).

This app is in production for 2 years and it is doing its job pretty well... but with more and more users but it's also pretty slow when it comes to server-expensive reports, like ""give me list of all users under myself and their statistics. One line for summed by their sub-group and one line for their personal stats""). Of course, users wants (and needs) their reports to be as actual as possible, 5 mins to reflect newly entered data is too much for them.
To stay realtime, we cannot do the high-intensive sqls directly...
Those sqls are hard to optimize and I'm glad I've moved from this approach... (caching is not an option. See below.)

Current app goes like this:

* frontend: when user enters new data, it is saved to simple mysql table, like `[user_id, pointer_id, date, value]` and there is also insert to the queue.

* backend: then there is calc_daemon process, which every 5 seconds checks the queue for new ""recompute requests"". We pop the requests, determine what else needs to be recomputed along with it (pointers have dependencies... simples case is: when you change week stats, we must recompute month and year stats...). It does this recomputation the easy way.. we select the data by customized per-pointer-different sqls generated by their classes.
* those computed results are then written back to mysql, but to partitioned tables (one table per year). One line in this table is like `[user_id, pointer_id, month_value, w1_value, w2_value, w3_value, w4 value]`. This way, the tables have ~500k records (I've basically reduced 5x # of records).
* when frontend needs those results it does simple sums on those partitioned data, with 2 joins (because of the nested set conds).

The problem is that those simple sqls with sums, group by and join-on-the-subtree take like 200ms each... just for a few records.. and we run a lot of these sqls... I think they are optimized the best they can, according to `explain`... but they are just hard for it.

So... The QUESTION:

Can I rewrite this to use Redis (or other fast key-value store) and see any benefit from it when I'm using Ruby and Rails? As I see it, if I'll rewrite it to use redis, I'll have to run much more queries against it than I have to with mysql, and then perform the sum in ruby manually... so the performance can be hurt considerably... I'm not really sure if I could write all the possible queries I have now with redis... Loading the users in rails and then doing something like ""redis, give me sum for users 1,2,3,4,5..."" doesn't seem like right idea... But maybe there is some feature in redis that could make this simpler?)...

Or would you suggest me to rewrite this app to different language (java?) and to compute the results in memory instead? :) (I've tried to do it SOA-way but it failed on that I end up one way or another with XXX megabytes of data in ruby... especially when generating the reports... and gc just kills it...) (and a side effect is that one generating report blocks the whole rails app :/ )

Suggestions are welcome.",4
5462979,03/28/2011 17:51:14,678970,03/27/2011 13:57:37,11,0,howto copy some rows to other ones in mysql,"can someone say me how can i copy some rows like this:

copy field name from id 1-10 to the id with 31-40

example:
1 foo
...
31 bla

after that it should be:
1 foo
...
31 foo",mysql,,,,,,open,0,30,9,"howto copy some rows to other ones in mysql can someone say me how can i copy some rows like this:

copy field name from id 1-10 to the id with 31-40

example:
1 foo
...
31 bla

after that it should be:
1 foo
...
31 foo",1
2992062,06/07/2010 18:23:23,338360,11/05/2008 07:54:07,152,3,MYSQL - multiple count statments,"I'm trying to do a lookup on our demographioc table to display some stats. However, since out demographic table is quit big I want to do it in one query.

There are 2 fields that are important: sex, last_login

I want to be able to get the total number of logins for various date ranges (<1day ago, 1-7 days ago, 7-30 days ago, etc) GROUPED BY sex

I right now know how to do it for one date range. For example less than 1 day ago:

    SELECT sex, count(*) peeps FROM player_account_demo WHERE last_demo_update>1275868800 GROUP BY sex

Which returns:

    sex       peeps
    UNKNOWN   22
    MALE	  43
    FEMALE	86

However I'd have to do this once for each range. Is there a way to get all 3 ranges in there?

I'd want my end result to look something like this:

    sex       peeps<1day      peeps1-7days       peeps7-30days

Thanks!
",mysql,mysql-query,,,,,open,0,179,5,"MYSQL - multiple count statments I'm trying to do a lookup on our demographioc table to display some stats. However, since out demographic table is quit big I want to do it in one query.

There are 2 fields that are important: sex, last_login

I want to be able to get the total number of logins for various date ranges (<1day ago, 1-7 days ago, 7-30 days ago, etc) GROUPED BY sex

I right now know how to do it for one date range. For example less than 1 day ago:

    SELECT sex, count(*) peeps FROM player_account_demo WHERE last_demo_update>1275868800 GROUP BY sex

Which returns:

    sex       peeps
    UNKNOWN   22
    MALE	  43
    FEMALE	86

However I'd have to do this once for each range. Is there a way to get all 3 ranges in there?

I'd want my end result to look something like this:

    sex       peeps<1day      peeps1-7days       peeps7-30days

Thanks!
",2
5126116,02/26/2011 09:29:39,604943,02/06/2011 02:29:33,32,0,Select rows after a row with a certain value,"Hey again, im still getting a hang of Queries and stuff so please excuse all the frequent sql questions 8)

Anyways im trying to select rows after a certain value. 
Dont understand? Ok this is how it actually looks.

Table: messages

    +------------+-----------+---------+-------+---------------------------------------+----------------+------------------+
    | message_id | thread_id | user_id | to_id | body                                  | message_status | uid_sent_deleted |
    +------------+-----------+---------+-------+---------------------------------------+----------------+------------------+
    |          1 |         1 |       1 |     7 | How are you bro?                      | read           |                1 |
    |          2 |         1 |       7 |     1 | IM good what about you kenny?         | read           |                0 |
    |          3 |         1 |       1 |     7 | Same just chilling how is your sister | read           |                1 |
    |          4 |         1 |       7 |     1 | Shes coool u know just doin great     | read           |                0 |
    |          7 |         1 |       1 |     7 | Thats nice                            | read           |                1 |
    |          8 |         1 |       7 |     1 | Yupp                                  | read           |                0 |
    |          9 |         1 |       1 |     7 | hhahaha                               | read           |                1 |
    |         10 |         1 |       7 |     1 | anyways....                           | unread         |                0 |
    +------------+-----------+---------+-------+---------------------------------------+----------------+------------------+

Where the message id is 9, is has the value of '1' in the column uid_sent_deleted.
Im trying to select rows after the last row that has a value of '1' in the column uid_sent_deleted.

here is the sql that im currently working with. Thanks for the help!!

    SELECT message_id, thread_id, messages.user_id, to_id, body, message_status, uid_sent_deleted
    FROM messages
    INNER JOIN messages_thread ON messages_thread.id = messages.thread_id
    WHERE thread_id =1
    GROUP BY messages.message_id
    ORDER BY message_id ASC 


",mysql,sql,phpmyadmin,logic,,,open,0,920,9,"Select rows after a row with a certain value Hey again, im still getting a hang of Queries and stuff so please excuse all the frequent sql questions 8)

Anyways im trying to select rows after a certain value. 
Dont understand? Ok this is how it actually looks.

Table: messages

    +------------+-----------+---------+-------+---------------------------------------+----------------+------------------+
    | message_id | thread_id | user_id | to_id | body                                  | message_status | uid_sent_deleted |
    +------------+-----------+---------+-------+---------------------------------------+----------------+------------------+
    |          1 |         1 |       1 |     7 | How are you bro?                      | read           |                1 |
    |          2 |         1 |       7 |     1 | IM good what about you kenny?         | read           |                0 |
    |          3 |         1 |       1 |     7 | Same just chilling how is your sister | read           |                1 |
    |          4 |         1 |       7 |     1 | Shes coool u know just doin great     | read           |                0 |
    |          7 |         1 |       1 |     7 | Thats nice                            | read           |                1 |
    |          8 |         1 |       7 |     1 | Yupp                                  | read           |                0 |
    |          9 |         1 |       1 |     7 | hhahaha                               | read           |                1 |
    |         10 |         1 |       7 |     1 | anyways....                           | unread         |                0 |
    +------------+-----------+---------+-------+---------------------------------------+----------------+------------------+

Where the message id is 9, is has the value of '1' in the column uid_sent_deleted.
Im trying to select rows after the last row that has a value of '1' in the column uid_sent_deleted.

here is the sql that im currently working with. Thanks for the help!!

    SELECT message_id, thread_id, messages.user_id, to_id, body, message_status, uid_sent_deleted
    FROM messages
    INNER JOIN messages_thread ON messages_thread.id = messages.thread_id
    WHERE thread_id =1
    GROUP BY messages.message_id
    ORDER BY message_id ASC 


",4
4754365,01/21/2011 00:54:25,488168,10/26/2010 22:08:12,22,1,Install Stored Procedure on Multiple Databases,Is there any way to easily create a stored procedure on multiple MySQL databases at once? All the databases are on the same MySQL install.,mysql,mysql-query,,,,,open,0,25,6,Install Stored Procedure on Multiple Databases Is there any way to easily create a stored procedure on multiple MySQL databases at once? All the databases are on the same MySQL install.,2
7071037,08/15/2011 21:28:29,90764,04/14/2009 17:39:00,523,35,Selecting distinct records without using a temporary table,"I have a third party table that is being populated with some cluttered data that I'm needing to get the most recent distinct records out of. The table will be fed a new row every year, or every time the ""Person"" changes. The table works based on that the most recent ActiveDate is the correct person. I've created a mock table and data to show this.

    CREATE TABLE `Persons` (
      `PersonId` varchar(200) NOT NULL,
      `Name` varchar(200) NOT NULL DEFAULT '',
      `ActiveDate` varchar(25) NOT NULL,
      `ExpireDate` varchar(25) DEFAULT NULL,
      `Job` varchar(200) NOT NULL DEFAULT '',
      `Position` varchar(200) NOT NULL DEFAULT ''
    )

And some mock data:

    Id 		 |`Name`		|ActiveDate				 |ExpireDate			 |Job		|`Position`
    ---------------------------------------------------------------------------------------------------
    J1234	 |Doe, John	 	|2010-08-15 00:00:00	 |2011-08-15 00:00:00	 |Worker	|Janitor
    J1234	 |Doe, John	 	|2011-08-15 00:00:00	 |0000-00-00 00:00:00	 |Worker	|Janitor
    777	 	 |Doe, Jane	 	|2010-06-04 00:00:00	 |0000-00-00 00:00:00	 |Boss	 	|Janitor
    777	 	 |Doe, Jane	 	|2011-04-30 00:00:00	 |0000-00-00 00:00:00	 |Boss	 	|Janitor
    654G	 |Smith, Jane	|2011-01-20 00:00:00	 |0000-00-00 00:00:00	 |Worker	|Janitor

The table also has and ExpireDate column which is actually set by the end user, and is not always set much to my dismay. Currently I'm using a dummy table to pull the distinct records out into and store for the day. I would use a temporary table but I'm not 100% sure how to in MySQL, plus I dislike them. The way I'm doing it is just temporary in hope for better SQL.

The data then has to be joined with a multitude of other tables to get the finished product. But I'm still needing to deal with the initial set of distinct data. And joining in the other table right from the start just wont work. 

So here is how I'm pulling my data, storing it, and then pulling it again later and joing it to other tables:

    INSERT INTO tmp_Person (Id, `Name`, Job, `Position`) 
    	SELECT DISTINCT Id, `Name`, Job, `Position`
    	FROM Person 
    	
    SELECT 	tmp_Person.Id, 
    	tmp_Person.`Name`, 
    	tmp_Person.Job, 
    	tmp_Person.`Position`,
    	Pricing.Cost, 
    	Pricing.Benefit
    
    	FROM tmp_Person
    	LEFT OUTER JOIN Pricing AS CL ON CL.PersonId = tmp_Person.Id 
    		AND CL.PriceScredule = 'Major-Client' 
    		AND CL.ExpireDate = '0000-00-00 00:00:00'
    	LEFT OUTER JOIN Pricing AS Inter ON Inter.PersonId = tmp_Person.Id 
    		AND Inter.PriceScredule = 'Internal-Client' 
    		AND Inter.ExpireDate = '0000-00-00 00:00:00'

How can I write this to avoid the cost of processing out the duplicate rows using a temporary table (in any form)? HOpefully I've made this clear enough, if not I can gladly add, or clarify. ",mysql,sql,data-processing,,,,open,0,512,8,"Selecting distinct records without using a temporary table I have a third party table that is being populated with some cluttered data that I'm needing to get the most recent distinct records out of. The table will be fed a new row every year, or every time the ""Person"" changes. The table works based on that the most recent ActiveDate is the correct person. I've created a mock table and data to show this.

    CREATE TABLE `Persons` (
      `PersonId` varchar(200) NOT NULL,
      `Name` varchar(200) NOT NULL DEFAULT '',
      `ActiveDate` varchar(25) NOT NULL,
      `ExpireDate` varchar(25) DEFAULT NULL,
      `Job` varchar(200) NOT NULL DEFAULT '',
      `Position` varchar(200) NOT NULL DEFAULT ''
    )

And some mock data:

    Id 		 |`Name`		|ActiveDate				 |ExpireDate			 |Job		|`Position`
    ---------------------------------------------------------------------------------------------------
    J1234	 |Doe, John	 	|2010-08-15 00:00:00	 |2011-08-15 00:00:00	 |Worker	|Janitor
    J1234	 |Doe, John	 	|2011-08-15 00:00:00	 |0000-00-00 00:00:00	 |Worker	|Janitor
    777	 	 |Doe, Jane	 	|2010-06-04 00:00:00	 |0000-00-00 00:00:00	 |Boss	 	|Janitor
    777	 	 |Doe, Jane	 	|2011-04-30 00:00:00	 |0000-00-00 00:00:00	 |Boss	 	|Janitor
    654G	 |Smith, Jane	|2011-01-20 00:00:00	 |0000-00-00 00:00:00	 |Worker	|Janitor

The table also has and ExpireDate column which is actually set by the end user, and is not always set much to my dismay. Currently I'm using a dummy table to pull the distinct records out into and store for the day. I would use a temporary table but I'm not 100% sure how to in MySQL, plus I dislike them. The way I'm doing it is just temporary in hope for better SQL.

The data then has to be joined with a multitude of other tables to get the finished product. But I'm still needing to deal with the initial set of distinct data. And joining in the other table right from the start just wont work. 

So here is how I'm pulling my data, storing it, and then pulling it again later and joing it to other tables:

    INSERT INTO tmp_Person (Id, `Name`, Job, `Position`) 
    	SELECT DISTINCT Id, `Name`, Job, `Position`
    	FROM Person 
    	
    SELECT 	tmp_Person.Id, 
    	tmp_Person.`Name`, 
    	tmp_Person.Job, 
    	tmp_Person.`Position`,
    	Pricing.Cost, 
    	Pricing.Benefit
    
    	FROM tmp_Person
    	LEFT OUTER JOIN Pricing AS CL ON CL.PersonId = tmp_Person.Id 
    		AND CL.PriceScredule = 'Major-Client' 
    		AND CL.ExpireDate = '0000-00-00 00:00:00'
    	LEFT OUTER JOIN Pricing AS Inter ON Inter.PersonId = tmp_Person.Id 
    		AND Inter.PriceScredule = 'Internal-Client' 
    		AND Inter.ExpireDate = '0000-00-00 00:00:00'

How can I write this to avoid the cost of processing out the duplicate rows using a temporary table (in any form)? HOpefully I've made this clear enough, if not I can gladly add, or clarify. ",3
8324090,11/30/2011 09:59:59,154293,08/11/2009 11:28:40,347,13,which ASP.NET to MYSQL database access should i use?,"i'm writing an ASP.NET ot MYSQL e-commerce site where the clients can choose products from a product list by categories.
in each category the user can choose a sub category , for example, in TV category, the user will choose : LCD or plasma sub categories, screen size sub category, manufacturer sub category and so on....

The basic things i'll be doing with the data is Query it using C# and databind it to datagrids.
what is the way you recommend for extracting the data from the database using c# and ASP.NET?

i thought about Extracting all tables as datasets using dataadapters, keep the tables in the cache and query them using linq to datasets. but i think this is an old fashion way.

what about SQL Entity framework ? 
should i use the ASP.NET sqldatasource tags too? 
How would you do it ? ",mysql,database,data-access-layer,,,,open,0,140,9,"which ASP.NET to MYSQL database access should i use? i'm writing an ASP.NET ot MYSQL e-commerce site where the clients can choose products from a product list by categories.
in each category the user can choose a sub category , for example, in TV category, the user will choose : LCD or plasma sub categories, screen size sub category, manufacturer sub category and so on....

The basic things i'll be doing with the data is Query it using C# and databind it to datagrids.
what is the way you recommend for extracting the data from the database using c# and ASP.NET?

i thought about Extracting all tables as datasets using dataadapters, keep the tables in the cache and query them using linq to datasets. but i think this is an old fashion way.

what about SQL Entity framework ? 
should i use the ASP.NET sqldatasource tags too? 
How would you do it ? ",3
7536187,09/24/2011 00:39:21,933633,09/07/2011 21:07:27,93,0,MySQL Query - Join troubles... again?,"I'm hoping somebody will be able to help me with a query I'm stuck on.

I have  multiple input search form for a photos database. One text box 'searchWords' is to search my 'photoSearch' table and the other text box 'specificPeople' searches the 'people' table, to search for specific people.

For example, a user might search for ""Dorchester Hotel London"" in box 1 and ""Brad Pitt"" in box 2.

This is what I am trying but it is only bring back results for ""Dorchester Hotel London"", it is ignoring my people search:

    SELECT photoSearch.photoID, Left(photoSearch.caption,25), photoSearch.allPeople, photoSearch.allKeywords
    FROM photoSearch
    LEFT JOIN ( photoPeople INNER JOIN people ON photoPeople.peopleID = people.peopleID)
    ON photoSearch.photoID = photoPeople.photoID AND people.people IN ('kate moss','jamie hince')
    WHERE MATCH (caption, allPeople, allKeywords) AGAINST ('+dorchester +hotel' IN BOOLEAN MODE)
    AND
    photoSearch.dateCreated BETWEEN '2011-07-21' AND '2011-10-23'
    ORDER BY photoSearch.dateCreated

If I take the JOIN away, the fulltext search is perfect. My table schema is a little like this:

    **photoSearch**
    photoID		INT / AUTO / INDEX
    caption		VARCHAR(2500) /  FULLTEXT
    allPeople	VARCHAR(300) / FULLTEXT
    allKeywords	VARCHAR(300) / FULLTEXT
    dateCreated	DATETIME / INDEX
    
    **photoPeople**
    photoID		INT / INDEX
    peopleID	INT / INDEX
    
    **people**
    peopleID	INT / INDEX
    people		VARCHAR(100) / INDEX

Is this fixable or am I totally doing the wrong thing? If so, could somebody show me what I'm meant to be doing :)",mysql,sql,database,query,join,,open,0,280,6,"MySQL Query - Join troubles... again? I'm hoping somebody will be able to help me with a query I'm stuck on.

I have  multiple input search form for a photos database. One text box 'searchWords' is to search my 'photoSearch' table and the other text box 'specificPeople' searches the 'people' table, to search for specific people.

For example, a user might search for ""Dorchester Hotel London"" in box 1 and ""Brad Pitt"" in box 2.

This is what I am trying but it is only bring back results for ""Dorchester Hotel London"", it is ignoring my people search:

    SELECT photoSearch.photoID, Left(photoSearch.caption,25), photoSearch.allPeople, photoSearch.allKeywords
    FROM photoSearch
    LEFT JOIN ( photoPeople INNER JOIN people ON photoPeople.peopleID = people.peopleID)
    ON photoSearch.photoID = photoPeople.photoID AND people.people IN ('kate moss','jamie hince')
    WHERE MATCH (caption, allPeople, allKeywords) AGAINST ('+dorchester +hotel' IN BOOLEAN MODE)
    AND
    photoSearch.dateCreated BETWEEN '2011-07-21' AND '2011-10-23'
    ORDER BY photoSearch.dateCreated

If I take the JOIN away, the fulltext search is perfect. My table schema is a little like this:

    **photoSearch**
    photoID		INT / AUTO / INDEX
    caption		VARCHAR(2500) /  FULLTEXT
    allPeople	VARCHAR(300) / FULLTEXT
    allKeywords	VARCHAR(300) / FULLTEXT
    dateCreated	DATETIME / INDEX
    
    **photoPeople**
    photoID		INT / INDEX
    peopleID	INT / INDEX
    
    **people**
    peopleID	INT / INDEX
    people		VARCHAR(100) / INDEX

Is this fixable or am I totally doing the wrong thing? If so, could somebody show me what I'm meant to be doing :)",5
2314249,02/22/2010 21:14:50,133737,07/06/2009 15:15:59,38,0,How to recover a MySQL database: Incorrect information in file: './xxx.frm',"A very important database has gone corrupt that was sitting on server at a shared web host, and I didn't back up. The table contains a large list of very important email addresses. I can get a table listing, but if I open any of the tables with Navicat or phpMyAdmin, I get the following error:

Incorrect information in file: './the-table-name.frm'

I was able to get a hold of the .frm files associated with the database from the web host. 

There is other data in there, but if I could at least get the email addresses, I would be alright.

How do I recover this database?
I would be willing to pay somebody to fix this.",mysql,database,corrupt,recovery,frm,09/08/2011 00:10:31,off topic,1,112,11,"How to recover a MySQL database: Incorrect information in file: './xxx.frm' A very important database has gone corrupt that was sitting on server at a shared web host, and I didn't back up. The table contains a large list of very important email addresses. I can get a table listing, but if I open any of the tables with Navicat or phpMyAdmin, I get the following error:

Incorrect information in file: './the-table-name.frm'

I was able to get a hold of the .frm files associated with the database from the web host. 

There is other data in there, but if I could at least get the email addresses, I would be alright.

How do I recover this database?
I would be willing to pay somebody to fix this.",5
8721981,01/04/2012 04:22:56,833685,07/07/2011 14:02:42,21,0,Research project ideas on databases,"I'm currently working on a database course. For this course we have to do a research project on databases.What is expected is to research on a existing database related projects/databases and come with a solution to improve performance or implement a missing feature for these.Any suggestions ??

This idea does not need to be a ground braking improvement.Implementing something missing also accepted.

Thanks in advance.",mysql,xml,database,apache,,01/04/2012 13:30:59,not a real question,1,63,5,"Research project ideas on databases I'm currently working on a database course. For this course we have to do a research project on databases.What is expected is to research on a existing database related projects/databases and come with a solution to improve performance or implement a missing feature for these.Any suggestions ??

This idea does not need to be a ground braking improvement.Implementing something missing also accepted.

Thanks in advance.",4
10455652,05/04/2012 20:23:29,491634,10/29/2010 18:37:46,144,1,Which MySQL type to store Tweets from Twitter,"I need to store a great amount of twitter tweets

- Which could be the best database type for tweets  → best guess is just as `TEXT`
- I need to prevent duplicates, too. → best guess `varchar(255)` with a `UNIQUE key`
  - May be `varchar(160)` character should work but we also have chinese ones? (would save a lot of Space)

Another idea is, to store all tweets as `TEXT` and add another column with the Tweets hashed to MD5 and add a `UNIQUE key` over the column.

Question:
What's the best MySQL type to store tweets?",mysql,database,database-design,,,05/22/2012 12:58:18,not constructive,1,94,8,"Which MySQL type to store Tweets from Twitter I need to store a great amount of twitter tweets

- Which could be the best database type for tweets  → best guess is just as `TEXT`
- I need to prevent duplicates, too. → best guess `varchar(255)` with a `UNIQUE key`
  - May be `varchar(160)` character should work but we also have chinese ones? (would save a lot of Space)

Another idea is, to store all tweets as `TEXT` and add another column with the Tweets hashed to MD5 and add a `UNIQUE key` over the column.

Question:
What's the best MySQL type to store tweets?",3
1537675,10/08/2009 13:05:35,150500,08/04/2009 17:12:29,1,0,"Performance of MYSQL ""IN""","I'm running a MYSQL query in two steps. First, I get a list of ids with one query, and then I retrieve the data for those ids using a second query along the lines of `SELECT * FROM data WHERE id in (id1, id2 ...)`. I know it sounds hacky, but I've done it this way as the queries are very complicated; the first involves lots of geometry and triggernometry, the second one lots of different joins. I'm sure they could be written in a single query, but my MYSQL isn't good enough to pull it off.

This approach works, but it doesn't *feel* right; plus I'm concerned it won't scale. At the moment I am testing on a database of 10,000 records, with 400 ids in the ""IN"" clause ( i.e. `IN (id1, id2 ... id400)` ) and performance is fine. But what if there are say 1,000,000 records?

Where are the performance bottlenecks (speed, memory, etc) for this kind of query? Any ideas for how to refactor this kind of query for be awesome too. (for example, if it is worth swotting up on stored procedures).",mysql,performance,,,,,open,0,186,4,"Performance of MYSQL ""IN"" I'm running a MYSQL query in two steps. First, I get a list of ids with one query, and then I retrieve the data for those ids using a second query along the lines of `SELECT * FROM data WHERE id in (id1, id2 ...)`. I know it sounds hacky, but I've done it this way as the queries are very complicated; the first involves lots of geometry and triggernometry, the second one lots of different joins. I'm sure they could be written in a single query, but my MYSQL isn't good enough to pull it off.

This approach works, but it doesn't *feel* right; plus I'm concerned it won't scale. At the moment I am testing on a database of 10,000 records, with 400 ids in the ""IN"" clause ( i.e. `IN (id1, id2 ... id400)` ) and performance is fine. But what if there are say 1,000,000 records?

Where are the performance bottlenecks (speed, memory, etc) for this kind of query? Any ideas for how to refactor this kind of query for be awesome too. (for example, if it is worth swotting up on stored procedures).",2
1447098,09/18/2009 22:31:02,108859,05/18/2009 15:16:54,83,7,Snow Leopard: connect from local wordpress to remote db,"I have a Wordpress-based log, hosted on Dreamhost. I'm on Snow Leopard and I wanted to install local site, that will connect to my remote database. However, this does not work and I get this error:

`mysqlnd cannot connect to MySQL 4.1+ using old authentication`

I did not try to do this in Leopard, so I don't is it new thing in SL or was an error in Leopard as well.

How to solve/workaround this?",mysql,osx-snow-leopard,wordpress,php,,,open,0,72,9,"Snow Leopard: connect from local wordpress to remote db I have a Wordpress-based log, hosted on Dreamhost. I'm on Snow Leopard and I wanted to install local site, that will connect to my remote database. However, this does not work and I get this error:

`mysqlnd cannot connect to MySQL 4.1+ using old authentication`

I did not try to do this in Leopard, so I don't is it new thing in SL or was an error in Leopard as well.

How to solve/workaround this?",4
11542493,07/18/2012 13:25:28,1504293,07/05/2012 14:19:22,6,0,Delete entire row when a column reaches 0?,"So I have this database table ""userDeck"", with three columns: idUser, idCard, amount. Amount is a counter that keeps track of how many cards the user has added of a specific card. Right now I'm using this query:

    $query1 = ""UPDATE userDeck SET amount=amount-$amount WHERE idCard=$idCard"";	
    $result2 = mysql_query($query1) or die(mysql_error());

when the user wants to delete cards he/she added. 

This works just fine except it continues below 0 if you delete more cards than you have listed. I want it to remove the row when amount reaches 0. ",mysql,sql,,,,,open,0,95,8,"Delete entire row when a column reaches 0? So I have this database table ""userDeck"", with three columns: idUser, idCard, amount. Amount is a counter that keeps track of how many cards the user has added of a specific card. Right now I'm using this query:

    $query1 = ""UPDATE userDeck SET amount=amount-$amount WHERE idCard=$idCard"";	
    $result2 = mysql_query($query1) or die(mysql_error());

when the user wants to delete cards he/she added. 

This works just fine except it continues below 0 if you delete more cards than you have listed. I want it to remove the row when amount reaches 0. ",2
11654587,07/25/2012 16:41:27,330271,05/01/2010 08:24:42,980,5,How to count number of retweets and update database accordingly?,"Consider the following tables:

    tweets                                retweets
    ----------------------------------    --------------------
    id  id_str             retweet_cnt    id id_str
    ----------------------------------    --------------------
    1   46604457684901888                 1  46604457684901888
    2   46556513103388672                 2  46604457684901888
    3   46294368197427200                 3  46604457684901888
                                          4  46556513103388672
                                          5  46556513103388672

I would like to `UPDATE` `tweets.retweet_cnt` by counting for each (varchar) `id_str` how many times it occurs in `retweets`. Can anybody help me with the query for this? Important: it is possible for in `id_str` **not** to appear in `retweets` (as as the case with `46294368197427200` in the example). In that case, zero (`0`) should be returned.

Any help is appreciated.",mysql,,,,,,open,0,305,10,"How to count number of retweets and update database accordingly? Consider the following tables:

    tweets                                retweets
    ----------------------------------    --------------------
    id  id_str             retweet_cnt    id id_str
    ----------------------------------    --------------------
    1   46604457684901888                 1  46604457684901888
    2   46556513103388672                 2  46604457684901888
    3   46294368197427200                 3  46604457684901888
                                          4  46556513103388672
                                          5  46556513103388672

I would like to `UPDATE` `tweets.retweet_cnt` by counting for each (varchar) `id_str` how many times it occurs in `retweets`. Can anybody help me with the query for this? Important: it is possible for in `id_str` **not** to appear in `retweets` (as as the case with `46294368197427200` in the example). In that case, zero (`0`) should be returned.

Any help is appreciated.",1
8894712,01/17/2012 12:36:48,858002,07/22/2011 13:26:34,351,23,Count parent rows that have children,"Table A has a number of rows, only some of which have (multiple) children in Table B. I need to count the rows in table A that have children.

At the moment I have

    SELECT count(tableA.id) as count
    FROM (tableA)
    JOIN tableB ON tableB.tableA_id = tableA.id

Unfortunately this also counts multiple children from tableB in the count. Is there any way to prevent this?",mysql,,,,,,open,0,71,6,"Count parent rows that have children Table A has a number of rows, only some of which have (multiple) children in Table B. I need to count the rows in table A that have children.

At the moment I have

    SELECT count(tableA.id) as count
    FROM (tableA)
    JOIN tableB ON tableB.tableA_id = tableA.id

Unfortunately this also counts multiple children from tableB in the count. Is there any way to prevent this?",1
4526190,12/24/2010 12:00:48,245549,01/07/2010 13:20:49,1995,3,How to extract a row with the maximal value?,"I have two tables and want to do the following. From the first table I extract all rows that fulfill a given condition. For all extracted rows I take a value from the first column. For every value I extract all raws from the second table that contain the given value in the first column. All raws extracted from the second table have to be ordered in a specific way and I want to take only one row that is the first (according to the ordering criteria). This is my problem, I do not how to take one row with the highest value of the ordering criteria.

",mysql,query,order-by,maximize,,,open,0,107,9,"How to extract a row with the maximal value? I have two tables and want to do the following. From the first table I extract all rows that fulfill a given condition. For all extracted rows I take a value from the first column. For every value I extract all raws from the second table that contain the given value in the first column. All raws extracted from the second table have to be ordered in a specific way and I want to take only one row that is the first (according to the ordering criteria). This is my problem, I do not how to take one row with the highest value of the ordering criteria.

",4
4994200,02/14/2011 15:53:33,282772,02/27/2010 17:30:20,441,7,MySql SELECT items of a list and their name item stored in another table?,"I have  to manage lists of items , so i built a table for the lists `list_tb`,one `item_tb` for the items (same item can be in more lists) and one table `item_to_list_tb` for the relation between item and lists

`item_tb` and `item_to_list_tb` they have in common `item_id`

`list_id` and `item_to_list_tb` they have in common `list_id`

each row of item_tb contains the name of the product so here i'm trying to get all the items that belong to a list $ID, and their name...i tried this but doesn't work well...
   

    SELECT  item_to_list_tb.*, item_tb.*
    FROM item_to_list_tb
    LEFT JOIN item_tb ON item_tb.item_id = item_tb.item_id
    WHERE   item_to_list_tb.list_id= $ID
    GROUP BY item_tb.item_id 
    ORDER BY item_to_list_tb.item_ord 

			
	
bottom line i need to retrieve a bunch of items aong with their name, stored in a different table...

whats the best practice? thanks!

",mysql,,,,,,open,0,156,14,"MySql SELECT items of a list and their name item stored in another table? I have  to manage lists of items , so i built a table for the lists `list_tb`,one `item_tb` for the items (same item can be in more lists) and one table `item_to_list_tb` for the relation between item and lists

`item_tb` and `item_to_list_tb` they have in common `item_id`

`list_id` and `item_to_list_tb` they have in common `list_id`

each row of item_tb contains the name of the product so here i'm trying to get all the items that belong to a list $ID, and their name...i tried this but doesn't work well...
   

    SELECT  item_to_list_tb.*, item_tb.*
    FROM item_to_list_tb
    LEFT JOIN item_tb ON item_tb.item_id = item_tb.item_id
    WHERE   item_to_list_tb.list_id= $ID
    GROUP BY item_tb.item_id 
    ORDER BY item_to_list_tb.item_ord 

			
	
bottom line i need to retrieve a bunch of items aong with their name, stored in a different table...

whats the best practice? thanks!

",1
11218279,06/27/2012 01:41:02,1120354,12/29/2011 02:53:42,464,0,"In MySQL, how to set col1's value to col2's value when col2 and col3 values are not NULL?","In MySQL, how to set col1's value to col2's value when col2 and col3 values are not NULL?

    UPDATE t SET col1=col2 WHERE col2 IS NOT NULL AND col3 IS NOT NULL;


Is this going to work?",mysql,sql,update,copy,,,open,0,39,18,"In MySQL, how to set col1's value to col2's value when col2 and col3 values are not NULL? In MySQL, how to set col1's value to col2's value when col2 and col3 values are not NULL?

    UPDATE t SET col1=col2 WHERE col2 IS NOT NULL AND col3 IS NOT NULL;


Is this going to work?",4
11293782,07/02/2012 12:33:23,1481590,06/26/2012 03:42:04,1,0,a program for RemoveAllRelatedObjects," i got these code maybe can solve this problem, but the last line is wrong spell or incorrect,would someone please explain it or collected it for me? 


public static void RemoveAllRelatedObjects(EntityObject entity)        {

            if (entity == null)            {                return;            }

            var relationshipManager = ((IEntityWithRelationships)entity).RelationshipManager;

            if (relationshipManager == null)            {                return;

            }

            foreach (var re in relationshipManager.GetAllRelatedEnds())

            {                var enumerator = re.GetEnumerator();

                if (enumerator == null)                {

                    continue;                }

                var allObject = new List();

                while (enumerator.MoveNext())                {

                    allObject.Add((IEntityWithRelationships)enumerator.Current);

                }                foreach(var v in allObject)                {

                    re.Remove(v);                }

                MiRelatedEndSetIsLoad.Invoke(re, new object[] {false});

            }}",mysql,asp.net-mvc-3,entity-framework,,,07/03/2012 12:37:38,too localized,1,475,4,"a program for RemoveAllRelatedObjects  i got these code maybe can solve this problem, but the last line is wrong spell or incorrect,would someone please explain it or collected it for me? 


public static void RemoveAllRelatedObjects(EntityObject entity)        {

            if (entity == null)            {                return;            }

            var relationshipManager = ((IEntityWithRelationships)entity).RelationshipManager;

            if (relationshipManager == null)            {                return;

            }

            foreach (var re in relationshipManager.GetAllRelatedEnds())

            {                var enumerator = re.GetEnumerator();

                if (enumerator == null)                {

                    continue;                }

                var allObject = new List();

                while (enumerator.MoveNext())                {

                    allObject.Add((IEntityWithRelationships)enumerator.Current);

                }                foreach(var v in allObject)                {

                    re.Remove(v);                }

                MiRelatedEndSetIsLoad.Invoke(re, new object[] {false});

            }}",3
8736412,01/05/2012 01:16:25,962449,09/24/2011 09:04:44,302,2,adding an if statement to a mysql query,"`p1.username` always has a value that's foreign to `VB_user` table. The problem is that `p2.username` has a default value of `0` and it's not a value in the `VB_user` table. So if I run the query it will only show the results if `p2.username` doesn't have a value of zero. How can I make it so if `p2.username` has the value of `0` it will show in my results, since `VB_user.userid` doesn't have a `0` can it, can I still show something? 

In other words, I want to be able to show the results of `p2.username` even if its value is `0`.

Here's my query:

    SELECT p.r1, p.r2, p.rounds, p.whenmatch, p.created, p.status, p.lid, p1.userid AS userid1, p1.username AS challenger, p2.userid AS userid2, p2.username AS challenged, p3.lname 
    		FROM AB_league_match p 
    		JOIN VB_user p1 on p.challenger = p1.userid 
    		JOIN VB_user p2 on p.challenged = p2.userid 
    		JOIN AB_league p3 on p.lid = p3.id",mysql,query,join,,,,open,0,168,8,"adding an if statement to a mysql query `p1.username` always has a value that's foreign to `VB_user` table. The problem is that `p2.username` has a default value of `0` and it's not a value in the `VB_user` table. So if I run the query it will only show the results if `p2.username` doesn't have a value of zero. How can I make it so if `p2.username` has the value of `0` it will show in my results, since `VB_user.userid` doesn't have a `0` can it, can I still show something? 

In other words, I want to be able to show the results of `p2.username` even if its value is `0`.

Here's my query:

    SELECT p.r1, p.r2, p.rounds, p.whenmatch, p.created, p.status, p.lid, p1.userid AS userid1, p1.username AS challenger, p2.userid AS userid2, p2.username AS challenged, p3.lname 
    		FROM AB_league_match p 
    		JOIN VB_user p1 on p.challenger = p1.userid 
    		JOIN VB_user p2 on p.challenged = p2.userid 
    		JOIN AB_league p3 on p.lid = p3.id",3
6372578,06/16/2011 13:22:53,165673,08/30/2009 18:28:44,1420,25,Error importing MySQL data across platforms (MAMP to WIMP),"I've dumped a MySQL database I have on my local MAMP server into a .sql file.  Usually, it's easy enough for me to import that file to my production Linux servers without a hitch.  However, my current client runs MySQL on WIMP, and when I run an import from phpMyAdmin and select the .sql file on my Mac, I get a ""File could not be read"" error?

Any ideas of what I'm bumping up against, or what to check?  Thanks-",mysql,mysqldump,mamp,wimp,,,open,0,82,9,"Error importing MySQL data across platforms (MAMP to WIMP) I've dumped a MySQL database I have on my local MAMP server into a .sql file.  Usually, it's easy enough for me to import that file to my production Linux servers without a hitch.  However, my current client runs MySQL on WIMP, and when I run an import from phpMyAdmin and select the .sql file on my Mac, I get a ""File could not be read"" error?

Any ideas of what I'm bumping up against, or what to check?  Thanks-",4
4282936,11/26/2010 06:17:09,520983,11/26/2010 06:17:09,1,0,normalization of tables,"How to write the query for normalizing a table into it's 1NF,2NF,3NF,BCNF,4th & 5th......?",mysql,,,,,11/27/2010 09:41:34,not a real question,1,14,3,"normalization of tables How to write the query for normalizing a table into it's 1NF,2NF,3NF,BCNF,4th & 5th......?",1
7225633,08/29/2011 02:54:25,698574,04/08/2011 11:45:47,769,3,the table field design in mysql database?,"i made a research to a cms's database:

`uid(Unique user ID):`  it set  to `int(11)`

`name(nique user name` it set  to  `varchar(60)`

`created(tiemstamp for when user was created)` it set  to  `int(11)`

`title`  the title of article  it set  to  `varchar(255)`


1, when i should use Int or char or varchar or other types

2, how to set the number in the parenthesis。eg: `varchar(60)`   thank you!",mysql,,,,,,open,0,72,7,"the table field design in mysql database? i made a research to a cms's database:

`uid(Unique user ID):`  it set  to `int(11)`

`name(nique user name` it set  to  `varchar(60)`

`created(tiemstamp for when user was created)` it set  to  `int(11)`

`title`  the title of article  it set  to  `varchar(255)`


1, when i should use Int or char or varchar or other types

2, how to set the number in the parenthesis。eg: `varchar(60)`   thank you!",1
6499080,06/27/2011 21:19:36,456578,09/23/2010 19:37:30,154,7,Can one create a table based on other tables that updates as they do with MySQL?,I want to create a table that populates off of other tables and automatically updates as they are updated.  How do I do that?,mysql,table,,,,06/30/2011 01:12:14,not a real question,1,25,16,Can one create a table based on other tables that updates as they do with MySQL? I want to create a table that populates off of other tables and automatically updates as they are updated.  How do I do that?,2
5267888,03/11/2011 01:03:58,121196,06/11/2009 09:33:59,955,6,hibernate change database dynamically for maintenance,"I have a java webapp using hibernate over MYSQL db.  I need at least an hour of data maintenance daily, hence I need to bring down the db and switch to the backup db.  <br/>
I don't see an elegant way to switch to another db from my app using hibernate.  Is there?
<br/>
Other totally different ways for database maintenance is welcome.",mysql,database,hibernate,,,,open,0,63,6,"hibernate change database dynamically for maintenance I have a java webapp using hibernate over MYSQL db.  I need at least an hour of data maintenance daily, hence I need to bring down the db and switch to the backup db.  <br/>
I don't see an elegant way to switch to another db from my app using hibernate.  Is there?
<br/>
Other totally different ways for database maintenance is welcome.",3
10256758,04/21/2012 06:14:54,651174,03/09/2011 08:26:41,1595,41,Strategies for large amount of db queries for single page request,"For sites like IMDB ( http://www.imdb.com/name/nm0000138/), LinkedIn, or Facebook, it seems like there could be a thousand queries for the loading of a single page. 

Is there an upper limit on the number of queries that can be (sensibly) generated on a page request? Or is this problem solved by caching, like `memcached`? Are there other strategies that can also be employed? (I imagine on IMDB the content is for the most part static for a user's page.)",mysql,sql,caching,memcached,,04/23/2012 02:45:46,not constructive,1,78,11,"Strategies for large amount of db queries for single page request For sites like IMDB ( http://www.imdb.com/name/nm0000138/), LinkedIn, or Facebook, it seems like there could be a thousand queries for the loading of a single page. 

Is there an upper limit on the number of queries that can be (sensibly) generated on a page request? Or is this problem solved by caching, like `memcached`? Are there other strategies that can also be employed? (I imagine on IMDB the content is for the most part static for a user's page.)",4
11319449,07/03/2012 21:27:27,1209690,04/12/2011 20:35:17,607,8,My database structure for financial accounting system,"I have developed a database structure for a double entry accounting system. [Here's][1] the link for it.

Could you please take a look at it and see if I have made any mistake?

I don't have any option to store the opening balances of each account in my database and that is why I am confused how to display the previous year's records. And also I am finding it difficult to create ledgers from this database structure, so I thought I may have some problems in my database designing.

Please suggest me how can I make the database error free and more solid.

Thanks in Advance :)  


  [1]: http://i45.tinypic.com/205sfp1.jpg",mysql,sql,database,database-design,,07/03/2012 21:34:31,off topic,1,108,7,"My database structure for financial accounting system I have developed a database structure for a double entry accounting system. [Here's][1] the link for it.

Could you please take a look at it and see if I have made any mistake?

I don't have any option to store the opening balances of each account in my database and that is why I am confused how to display the previous year's records. And also I am finding it difficult to create ledgers from this database structure, so I thought I may have some problems in my database designing.

Please suggest me how can I make the database error free and more solid.

Thanks in Advance :)  


  [1]: http://i45.tinypic.com/205sfp1.jpg",4
11640342,07/24/2012 22:40:56,72583,03/02/2009 00:04:44,8657,107,Random MySQL exceptions in my Rails application,"I'm having issues with my MySQL backend for my Rails app.

Basically every time I deploy, I start getting weird exceptions like

    ActiveRecord::StatementInvalid: Mysql2::Error: 
    NoMethodError: undefined method `fields' for nil:NilClass
    ActiveModel::MissingAttributeError: missing attribute: created_at
    ActiveRecord::StatementInvalid: Mysql2::Error: Lost connection to MySQL server during query
    ActiveRecord::UnknownPrimaryKey: Unknown primary key for table users in model User.
    RuntimeError: Session collision on '""017fab6b21d2ef20d30e6119f7bf....""'

I'm not sure if this is happening because of sudden load, which my MySQL instance isn't able to take, but it happens 99% when I restart the app after a deploy.

What could be causing this? I have Rails 3.2.6, Ubuntu 12.04, MySQL 5.1.63",mysql,ruby-on-rails,exception,,,,open,0,118,7,"Random MySQL exceptions in my Rails application I'm having issues with my MySQL backend for my Rails app.

Basically every time I deploy, I start getting weird exceptions like

    ActiveRecord::StatementInvalid: Mysql2::Error: 
    NoMethodError: undefined method `fields' for nil:NilClass
    ActiveModel::MissingAttributeError: missing attribute: created_at
    ActiveRecord::StatementInvalid: Mysql2::Error: Lost connection to MySQL server during query
    ActiveRecord::UnknownPrimaryKey: Unknown primary key for table users in model User.
    RuntimeError: Session collision on '""017fab6b21d2ef20d30e6119f7bf....""'

I'm not sure if this is happening because of sudden load, which my MySQL instance isn't able to take, but it happens 99% when I restart the app after a deploy.

What could be causing this? I have Rails 3.2.6, Ubuntu 12.04, MySQL 5.1.63",3
11410486,07/10/2012 09:36:58,1259132,03/09/2012 10:56:37,1,0,I need to set autorepair to a mysql table,I have a table which have thousands of data. I want to set auto repair to the table . Will mysql support auto repair ? What is the syntax ,mysql,,,,,,open,0,30,9,I need to set autorepair to a mysql table I have a table which have thousands of data. I want to set auto repair to the table . Will mysql support auto repair ? What is the syntax ,1
8516088,12/15/2011 06:41:56,1069457,11/28/2011 13:57:39,71,2,When to use a stored procedure mysql,"I have a lot of common queries that I have to execute in my web application.

Is it better to write stored procedures?

Or is it better to make a class and define functions with normal SQL that return the same data set?

I'm asking this because stored procedures are new to me.
",mysql,sql,stored-procedures,,,12/15/2011 21:11:37,not constructive,1,50,7,"When to use a stored procedure mysql I have a lot of common queries that I have to execute in my web application.

Is it better to write stored procedures?

Or is it better to make a class and define functions with normal SQL that return the same data set?

I'm asking this because stored procedures are new to me.
",3
5014868,02/16/2011 09:48:21,619379,02/16/2011 09:40:24,1,0,MySQLi error on phpMyAdmin / Ubuntu 10.04,"I'm new to Linux and running a terminal version of Ubuntu 10.04. I stopped Apache and installed Lighttpd instead as Apache was incredibly memory hungry. Everything seems fine and the webserver is working away (PHP works fine) and as far as I can see MySql is working fine also.

I installed phpMyAdmin and when I try and connect I get the error ""Cannot load mysqli extension"" - I've managed to solve all probs to date with good old Google but I can't find anything specific about this.",mysql,linux,ubuntu,lighttpd,,10/29/2011 02:27:03,off topic,1,86,7,"MySQLi error on phpMyAdmin / Ubuntu 10.04 I'm new to Linux and running a terminal version of Ubuntu 10.04. I stopped Apache and installed Lighttpd instead as Apache was incredibly memory hungry. Everything seems fine and the webserver is working away (PHP works fine) and as far as I can see MySql is working fine also.

I installed phpMyAdmin and when I try and connect I get the error ""Cannot load mysqli extension"" - I've managed to solve all probs to date with good old Google but I can't find anything specific about this.",4
5499116,03/31/2011 11:31:04,685590,03/31/2011 11:12:14,1,0,Mysql phpMyadmin Timeout Question,"I have a very large database in Mysql. I need it to be maintained this way. for example its about 300,000 records in Innodb. 

I parsed the records into the database but now I need to refine it by converting some of the field types for example a long int to tinyint or something. When I run this through phpMyadmin the connection after 6mins halts and I get a connection timeout error?.

Since php sent the request to mysql shouldn't mysql just be doing its thing no matter what until its done? so even if the php page times out it will it still get done?. Or when the connection times out does Mysql just give up on the request?. 

I need to run a filter on the database through php and I want to be able to update the page every 30 seconds with new results it finds as its continuing its search , but if the user navigates away I would still like to finish the search as it creates a table for that user. So if they run a query and close their browser when they come back to it will it have continued with the search ?. 

Never worked with a big db like this before , if users run a textual search I know it will take a long time. Any insights /tips or guidance would be appreciated .

Thanks",mysql,timeout,phpmyadmin,innodb,,,open,0,233,4,"Mysql phpMyadmin Timeout Question I have a very large database in Mysql. I need it to be maintained this way. for example its about 300,000 records in Innodb. 

I parsed the records into the database but now I need to refine it by converting some of the field types for example a long int to tinyint or something. When I run this through phpMyadmin the connection after 6mins halts and I get a connection timeout error?.

Since php sent the request to mysql shouldn't mysql just be doing its thing no matter what until its done? so even if the php page times out it will it still get done?. Or when the connection times out does Mysql just give up on the request?. 

I need to run a filter on the database through php and I want to be able to update the page every 30 seconds with new results it finds as its continuing its search , but if the user navigates away I would still like to finish the search as it creates a table for that user. So if they run a query and close their browser when they come back to it will it have continued with the search ?. 

Never worked with a big db like this before , if users run a textual search I know it will take a long time. Any insights /tips or guidance would be appreciated .

Thanks",4
8010058,11/04/2011 13:41:04,202313,11/04/2009 04:15:10,382,5,digitizing a image,"I need to digitize a image then save it on a MYSQL data base. Then need to access the digitized data via a java program. Can any one suggest me a open source tool which i can achieve this task? any recommendations, help and guide lines are welcome, i'm totally new to this scenario.
",mysql,gis,,,,11/04/2011 15:46:24,off topic,1,54,3,"digitizing a image I need to digitize a image then save it on a MYSQL data base. Then need to access the digitized data via a java program. Can any one suggest me a open source tool which i can achieve this task? any recommendations, help and guide lines are welcome, i'm totally new to this scenario.
",2
8336527,12/01/2011 04:27:42,639705,03/01/2011 16:28:17,16,0,Mysql Replication: Replicating a replicator,"I have been fooling with setting up sql replication, but is it possible to replicate a replication server IE: setup a replication server to replicate 5 leafs and have that as a single ""MySQL Entity"" that is replicated by another server? (if you are uncertain what i mean, check this out: https://docs.google.com/drawings/d/1wGds61sUq4J35n9ZMBhjgIOpwNKn1RLTVdU8toWmfqU/edit )",mysql,replication,database-replication,,,,open,0,53,5,"Mysql Replication: Replicating a replicator I have been fooling with setting up sql replication, but is it possible to replicate a replication server IE: setup a replication server to replicate 5 leafs and have that as a single ""MySQL Entity"" that is replicated by another server? (if you are uncertain what i mean, check this out: https://docs.google.com/drawings/d/1wGds61sUq4J35n9ZMBhjgIOpwNKn1RLTVdU8toWmfqU/edit )",3
8265774,11/25/2011 07:07:54,661967,03/16/2011 06:29:59,11,0,Can we optimized the following query to increase its performance?,"Select trippoints_2011.TRIPKEY, pntlat, pntlong, pntcourse, pntheading, pntspeed, pntdatetime, pnthdop 

from trips_2011 

Inner join trippoints_2011 

On (trips_2011.TRIPKEY=trippoints_2011.TRIPKEY and carid='ded32fd3bbc04d62a3417a27270fce42')

where (pntlat >= 52.2099928257087 and pntlat <=52.2209928257087 and pntlong >=4.42016818364013 and pntlong <= 4.43516818364013)
or (pntlat >= 52.2098399162372 and pntlat <=52.2208399162372 and pntlong >= 4.41995612934792 and pntlong <= 4.43495612934792) 
or (pntlat >= 52.18757 and pntlat <=52.19857 and pntlong >= 4.4626 and pntlong <= 4.4776) ",mysql,,,,,11/26/2011 00:57:49,not a real question,1,61,10,"Can we optimized the following query to increase its performance? Select trippoints_2011.TRIPKEY, pntlat, pntlong, pntcourse, pntheading, pntspeed, pntdatetime, pnthdop 

from trips_2011 

Inner join trippoints_2011 

On (trips_2011.TRIPKEY=trippoints_2011.TRIPKEY and carid='ded32fd3bbc04d62a3417a27270fce42')

where (pntlat >= 52.2099928257087 and pntlat <=52.2209928257087 and pntlong >=4.42016818364013 and pntlong <= 4.43516818364013)
or (pntlat >= 52.2098399162372 and pntlat <=52.2208399162372 and pntlong >= 4.41995612934792 and pntlong <= 4.43495612934792) 
or (pntlat >= 52.18757 and pntlat <=52.19857 and pntlong >= 4.4626 and pntlong <= 4.4776) ",1
2735395,04/29/2010 07:13:09,290535,03/10/2010 13:22:51,55,0,how to find first and last record from mysql table,I have one table I want to find first and last record that satisfy criteria of particular month.,mysql,,,,,,open,0,18,10,how to find first and last record from mysql table I have one table I want to find first and last record that satisfy criteria of particular month.,1
9023099,01/26/2012 18:13:37,1098554,12/14/2011 19:28:06,28,0,MySQL: IF in WHERE?,"My query selects tasks from a MySQL DB. Each task has a group id and if the group is equal 0 it is a private task I want only return, if the task is from the user who runs this query. Hope that makes sense :-)

	SELECT t.id, t.title, t.created_by, u.username
	FROM (p_tasks AS t)
	LEFT JOIN p_groups AS g ON t.group_id = g.id
	JOIN p_users AS u ON t.assigned_to_user_id = u.id
	WHERE 
	 (
	   t.assigned_to_user_id = $user_id OR
	   t.owner_user_id = $user_id
	 )
	 AND
	 (
	   g.priority >= '10' OR
	   t.group_id = 0
	 )
	 AND
	 (
	   t.status != ""approved"" AND
	   t.status != ""closed""
	 )
	ORDER BY c.name

How can I return the tasks with group_id = 0 only for those who had created the tasks?",mysql,sql,query,if-statement,where,,open,0,129,4,"MySQL: IF in WHERE? My query selects tasks from a MySQL DB. Each task has a group id and if the group is equal 0 it is a private task I want only return, if the task is from the user who runs this query. Hope that makes sense :-)

	SELECT t.id, t.title, t.created_by, u.username
	FROM (p_tasks AS t)
	LEFT JOIN p_groups AS g ON t.group_id = g.id
	JOIN p_users AS u ON t.assigned_to_user_id = u.id
	WHERE 
	 (
	   t.assigned_to_user_id = $user_id OR
	   t.owner_user_id = $user_id
	 )
	 AND
	 (
	   g.priority >= '10' OR
	   t.group_id = 0
	 )
	 AND
	 (
	   t.status != ""approved"" AND
	   t.status != ""closed""
	 )
	ORDER BY c.name

How can I return the tasks with group_id = 0 only for those who had created the tasks?",5
11297825,07/02/2012 16:44:46,1421836,05/28/2012 13:41:59,55,2,Keywords database searching 5+ tables,"I have tried regular expressions such as `SELECT * FROM addresses WHERE LOWER(`address`) REGEXP '\b(keyword_a|keywords_b|keyword_c)\b'` and other queries like using `WHERE `addresses` LIKE '%$keyword%'` but none seem to work correctly.

I have been advised to create a keyword database but the idea is: you have tenants, tenancy agreements, properties and landlords and the bank statements are imported as a CSV file and uploaded into another table.

I need the code to read each line of the statement and try to match that description/amount of the statement to someone, so a tenant for example.  Bank statements can differ from having part of the address to having the persons name on, as well as maybe even having a partial amount for the rent.

If I were to create a keywords database, how would I go about doing this? As there would be lots of matches to a name of a road for example.  Relevance might work but some part of the statements may have random numbers in that might be treated as a key word that would add up more than the real result.

I am starting again with this:

    //$a = date, $b = type (BACS, Transfer, etc), $c = description, $d = amount (£)

    function reconcile($a,$b,$c,$d) {
	
	    //break down the inputs into an array
	    //create SQL query that matches all of these key words
	
	    //create keywords database
	
	    $keywords = explode("" "", trim($a . "" "" . $b . "" "" . $c . "" "" . $d));

        //mysql_query() add up results that match and MAX() relevance
        //according to how many results are found.
    }

Any suggestions how to tackle this correctly?",mysql,query,onlinebanking,,,07/03/2012 14:29:53,off topic,1,303,5,"Keywords database searching 5+ tables I have tried regular expressions such as `SELECT * FROM addresses WHERE LOWER(`address`) REGEXP '\b(keyword_a|keywords_b|keyword_c)\b'` and other queries like using `WHERE `addresses` LIKE '%$keyword%'` but none seem to work correctly.

I have been advised to create a keyword database but the idea is: you have tenants, tenancy agreements, properties and landlords and the bank statements are imported as a CSV file and uploaded into another table.

I need the code to read each line of the statement and try to match that description/amount of the statement to someone, so a tenant for example.  Bank statements can differ from having part of the address to having the persons name on, as well as maybe even having a partial amount for the rent.

If I were to create a keywords database, how would I go about doing this? As there would be lots of matches to a name of a road for example.  Relevance might work but some part of the statements may have random numbers in that might be treated as a key word that would add up more than the real result.

I am starting again with this:

    //$a = date, $b = type (BACS, Transfer, etc), $c = description, $d = amount (£)

    function reconcile($a,$b,$c,$d) {
	
	    //break down the inputs into an array
	    //create SQL query that matches all of these key words
	
	    //create keywords database
	
	    $keywords = explode("" "", trim($a . "" "" . $b . "" "" . $c . "" "" . $d));

        //mysql_query() add up results that match and MAX() relevance
        //according to how many results are found.
    }

Any suggestions how to tackle this correctly?",3
10912923,06/06/2012 11:02:56,885515,08/09/2011 08:24:00,530,18,creating weekly scheduled event in mysql,"error #1064 in the event what wrong i m doing please suggest me some good tutorials, current following mysql docs

    DELIMITER $$
    CREATE EVENT week_stats
    ON SCHEDULE EVERY  WEEK 
    DO
    BEGIN
    INSERT INTO week_stats (id,likes,dislikes,points) 
    SELECT id,likes,dislikes,points FROM profile;
    END $$
    DELIMITER ;",mysql,scheduled-tasks,,,,06/07/2012 12:40:56,too localized,1,73,6,"creating weekly scheduled event in mysql error #1064 in the event what wrong i m doing please suggest me some good tutorials, current following mysql docs

    DELIMITER $$
    CREATE EVENT week_stats
    ON SCHEDULE EVERY  WEEK 
    DO
    BEGIN
    INSERT INTO week_stats (id,likes,dislikes,points) 
    SELECT id,likes,dislikes,points FROM profile;
    END $$
    DELIMITER ;",2
8956500,01/21/2012 20:39:23,217223,11/23/2009 18:13:52,92,2,SQL Query for the most orders regarding type of orders (buy/return)?,"I have the following table for the orders:

> Orders: order_no(key), ISBN, quantity, type

*ISBN*: code of the book, 
*quantity*: how many books the customer ordered, 
*type*: either buy or return

My goal is to find the book(ISBN) with the most sellings. 
That means I have to find the sellings of the books but 
counting also the returns of them.

*For example*:
buy 3 books with ISBN 1010,
buy 5 books with ISBN 2020,
return 3 books with ISBN 2020

best-selling book: ISBN:1010

I tried using this query:

    ""SELECT 
    	ISBN, SUM( quantity ) as sum
    FROM 
    	orders
    GROUP BY 
    	ISBN
    ORDER BY
    	sum DESC""

but apparently it is false.

Any good ideas?

",mysql,sql,query,order-by,sum,,open,0,128,11,"SQL Query for the most orders regarding type of orders (buy/return)? I have the following table for the orders:

> Orders: order_no(key), ISBN, quantity, type

*ISBN*: code of the book, 
*quantity*: how many books the customer ordered, 
*type*: either buy or return

My goal is to find the book(ISBN) with the most sellings. 
That means I have to find the sellings of the books but 
counting also the returns of them.

*For example*:
buy 3 books with ISBN 1010,
buy 5 books with ISBN 2020,
return 3 books with ISBN 2020

best-selling book: ISBN:1010

I tried using this query:

    ""SELECT 
    	ISBN, SUM( quantity ) as sum
    FROM 
    	orders
    GROUP BY 
    	ISBN
    ORDER BY
    	sum DESC""

but apparently it is false.

Any good ideas?

",5
9845617,03/23/2012 19:48:16,616450,02/14/2011 15:43:16,81,8,MySQL count from one table while joining another,"I don't know if it's just been a long day or what, but I cannot figure out the query that I need to run here.  We have two tables - One for leads generated and one for reports.  The leads table has basic lead info, along with the Source (Campaign) of the lead.  However, we need to know the number of leads that an ACCOUNT has received within a date range.  Here is the relevant table structure:

    client_leads:
    id
    source
    date

    client_reports:
    account
    campaign
    date

The 'source' column contains the same values as the 'campaign' column.  So, how would I achieve the following:  

Say there are 10 leads in the leads table, each with the campaign that generated the lead.  There are 10 accounts in the reports table, each with hundreds of campaigns.  I need to list each account and how many leads it has in the leads table.  

I just can't get the logic straight in my head.  I've tried everything that I can think of and it's just not working out for me.  If you need further explanation, let me know.  I'm trying to describe the problem to the best of my ability.
",mysql,,,,,,open,0,230,8,"MySQL count from one table while joining another I don't know if it's just been a long day or what, but I cannot figure out the query that I need to run here.  We have two tables - One for leads generated and one for reports.  The leads table has basic lead info, along with the Source (Campaign) of the lead.  However, we need to know the number of leads that an ACCOUNT has received within a date range.  Here is the relevant table structure:

    client_leads:
    id
    source
    date

    client_reports:
    account
    campaign
    date

The 'source' column contains the same values as the 'campaign' column.  So, how would I achieve the following:  

Say there are 10 leads in the leads table, each with the campaign that generated the lead.  There are 10 accounts in the reports table, each with hundreds of campaigns.  I need to list each account and how many leads it has in the leads table.  

I just can't get the logic straight in my head.  I've tried everything that I can think of and it's just not working out for me.  If you need further explanation, let me know.  I'm trying to describe the problem to the best of my ability.
",1
8329080,11/30/2011 16:10:03,475850,10/14/2010 13:59:00,1458,9,"""chown mysql:mysql /data/tmp"" command","I am on a Linux **ubuntu** machine with **MySQL** installed.

If there is a **MySQL** installation on a **Ubuntu** machine, I saw some people doing the following thing: 

    sudo chown mysql:mysql /data/tmp

I get confused, I know the meaning of the above command, which is to change the owner of `/data/tmp` to user '`mysql`' and change the group of it to '`mysql`' group.

**But (my questions):**

**1.** Why would one run the above command?  If I create a table in `my_db` database, by default, there will be `.frm`, `.MYD`, and `.MYI` files (data files) be created **automatically** by **MySQL** under `/var/lib/mysql/my_db/` . So, does the above command changes the default MySQL data directory to `/data/tmp/` instead of `/var/lib/mysql/my_db/`?

**Basically, I would like to know the purpose and effect of the above command.** (better with examples)


**2.** Where does the 'mysql' owner and group come from? Does the installation of MySQL on a Linux machine automatically create the 'mysql' user and group? or People need to manually create a `mysql` account for the linux machine?
",mysql,database,linux,ubuntu,command-line,11/30/2011 16:58:09,off topic,1,173,4,"""chown mysql:mysql /data/tmp"" command I am on a Linux **ubuntu** machine with **MySQL** installed.

If there is a **MySQL** installation on a **Ubuntu** machine, I saw some people doing the following thing: 

    sudo chown mysql:mysql /data/tmp

I get confused, I know the meaning of the above command, which is to change the owner of `/data/tmp` to user '`mysql`' and change the group of it to '`mysql`' group.

**But (my questions):**

**1.** Why would one run the above command?  If I create a table in `my_db` database, by default, there will be `.frm`, `.MYD`, and `.MYI` files (data files) be created **automatically** by **MySQL** under `/var/lib/mysql/my_db/` . So, does the above command changes the default MySQL data directory to `/data/tmp/` instead of `/var/lib/mysql/my_db/`?

**Basically, I would like to know the purpose and effect of the above command.** (better with examples)


**2.** Where does the 'mysql' owner and group come from? Does the installation of MySQL on a Linux machine automatically create the 'mysql' user and group? or People need to manually create a `mysql` account for the linux machine?
",5
5680722,04/15/2011 18:14:09,484338,10/22/2010 14:47:40,45,1,mysqlserver just freaked out after running OpenEMM.sh start... any mysql gods out there smiling on me today?,"   So nothings changed in the mysql config... and plugin.frm is there and i checked all the permissions on ibdata1....

Anyone have any magic ideas?

     110416 00:00:25 mysqld_safe Starting mysqld.bin daemon with databases from /opt/bitnami/mysql/data
        ^G/opt/bitnami/mysql/bin/mysqld.bin: Can't find file: './mysql/plugin.frm' (errno: 13)
        110416  0:00:25 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.
        110416  0:00:25  InnoDB: Operating system error number 13 in a file operation.
        InnoDB: The error means mysqld does not have the access rights to
        InnoDB: the directory.
        InnoDB: File name ./ibdata1
        InnoDB: File operation call: 'create'.
        InnoDB: Cannot continue operation.                                                                          
        110416 00:00:25 mysqld_safe mysqld from pid file /opt/bitnami/mysql/data/domU-12-31-38-04-61-21.pid ended",mysql,ubuntu,,,,04/16/2011 07:40:56,off topic,1,250,17,"mysqlserver just freaked out after running OpenEMM.sh start... any mysql gods out there smiling on me today?    So nothings changed in the mysql config... and plugin.frm is there and i checked all the permissions on ibdata1....

Anyone have any magic ideas?

     110416 00:00:25 mysqld_safe Starting mysqld.bin daemon with databases from /opt/bitnami/mysql/data
        ^G/opt/bitnami/mysql/bin/mysqld.bin: Can't find file: './mysql/plugin.frm' (errno: 13)
        110416  0:00:25 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.
        110416  0:00:25  InnoDB: Operating system error number 13 in a file operation.
        InnoDB: The error means mysqld does not have the access rights to
        InnoDB: the directory.
        InnoDB: File name ./ibdata1
        InnoDB: File operation call: 'create'.
        InnoDB: Cannot continue operation.                                                                          
        110416 00:00:25 mysqld_safe mysqld from pid file /opt/bitnami/mysql/data/domU-12-31-38-04-61-21.pid ended",2
10407863,05/02/2012 04:46:50,1367034,05/01/2012 02:55:01,10,0,Calculating and rounding up,"I have a table which shows prize money for an event. I need to have it increased by (50*50)/2 shown as increased_prize and then rounded off to the nearest whole number.

an example of my table is as follows:

    event_id   ranking     prize
    1          1           120
    1          2           60
    2          1           10
    2          2           5

Thank you for any help provided.",mysql,,,,,05/02/2012 04:56:03,not a real question,1,155,4,"Calculating and rounding up I have a table which shows prize money for an event. I need to have it increased by (50*50)/2 shown as increased_prize and then rounded off to the nearest whole number.

an example of my table is as follows:

    event_id   ranking     prize
    1          1           120
    1          2           60
    2          1           10
    2          2           5

Thank you for any help provided.",1
10173079,04/16/2012 11:15:43,1336140,04/16/2012 11:06:10,1,0,form mysql queries,"1. How would you write a query to select all teams that won either 2, 4, 6 or 8 games
2. How would you select all the users, whose phone number is null
3. What does this query mean: SELECT user_name, user_isp FROM users LEFT JOIN isps USING (user_id) ?",mysql,,,,,04/16/2012 11:37:16,not a real question,1,48,3,"form mysql queries 1. How would you write a query to select all teams that won either 2, 4, 6 or 8 games
2. How would you select all the users, whose phone number is null
3. What does this query mean: SELECT user_name, user_isp FROM users LEFT JOIN isps USING (user_id) ?",1
3459306,08/11/2010 14:21:24,144983,07/25/2009 12:44:18,512,22,SQL Statement to access data across relationships,"I have the following tables in my SQL Database: 

    authors:
        name varchar
        id int Primary Key
    publications:
        id int Primary Key
        title mediumtext
        year int 
    authorsJoinTable: 
        authorId -> Foreign Key to the authors table
        publicationID -> Foreign Key to the publications Table
        sequenceId int
I am wondering if it is possible to get all the `publicationIds` from the `authorsJoinTable` 
ordered by `year` descending?   
Thanks in Advance,  
Dean 
",mysql,,,,,,open,0,138,7,"SQL Statement to access data across relationships I have the following tables in my SQL Database: 

    authors:
        name varchar
        id int Primary Key
    publications:
        id int Primary Key
        title mediumtext
        year int 
    authorsJoinTable: 
        authorId -> Foreign Key to the authors table
        publicationID -> Foreign Key to the publications Table
        sequenceId int
I am wondering if it is possible to get all the `publicationIds` from the `authorsJoinTable` 
ordered by `year` descending?   
Thanks in Advance,  
Dean 
",1
3217822,07/10/2010 04:25:40,380562,06/30/2010 21:59:27,100,3,MySQL or Oracle ?,"As I know these two databases are the most popular and the best, but which one is the best? And what are the benefits to use one or other? Currently I use `MySQL` and I don't really have any experiences with `Oracle`, but I want to know what's the best choice and why?
",mysql,database,oracle,experience,,07/10/2010 04:58:01,not constructive,1,53,4,"MySQL or Oracle ? As I know these two databases are the most popular and the best, but which one is the best? And what are the benefits to use one or other? Currently I use `MySQL` and I don't really have any experiences with `Oracle`, but I want to know what's the best choice and why?
",4
9486434,02/28/2012 17:08:18,1222066,02/20/2012 21:25:16,11,1,Can I download the Phpmyadmin Database?,"I accidentally deleted the `phpmyadmin` database that came with it. Now I'm getting errors like: 

    SQL query: DocumentationEdit Edit

    SELECT `db_name` , `comment`
    FROM `phpmyadmin`.`pma_column_info`
    WHERE `column_name` = '(db_comment)'

    MySQL said: Documentation
    #1146 - Table 'phpmyadmin.pma_column_info' doesn't exist
So can I download the database again somewhere? Thanks!",mysql,phpmyadmin,,,,,open,0,65,6,"Can I download the Phpmyadmin Database? I accidentally deleted the `phpmyadmin` database that came with it. Now I'm getting errors like: 

    SQL query: DocumentationEdit Edit

    SELECT `db_name` , `comment`
    FROM `phpmyadmin`.`pma_column_info`
    WHERE `column_name` = '(db_comment)'

    MySQL said: Documentation
    #1146 - Table 'phpmyadmin.pma_column_info' doesn't exist
So can I download the database again somewhere? Thanks!",2
7766677,10/14/2011 11:01:56,939645,09/11/2011 22:44:48,1,0,need advice on learning SQL,"I hope this post finds you well. I new in Database, and i Would like to learn database SQL,specifically MySQL. What should I start with? should I start reading about database fundamentals, and start with a book like ""Database Design for Mere Mortals"", or should I take the shortest path and read about MySQL?,and read books like ""MySQL Cookbook"".

Best Regard,
Ahmed",mysql,sql,database,,,10/14/2011 12:44:40,not constructive,1,60,5,"need advice on learning SQL I hope this post finds you well. I new in Database, and i Would like to learn database SQL,specifically MySQL. What should I start with? should I start reading about database fundamentals, and start with a book like ""Database Design for Mere Mortals"", or should I take the shortest path and read about MySQL?,and read books like ""MySQL Cookbook"".

Best Regard,
Ahmed",3
6695145,07/14/2011 14:47:25,844796,12/27/2010 11:03:42,1,0,Filtter database,"**

I have a large list of email addresses ""on other server"" that I have found are undeliverable to users""unsubscriber email"", I want to mark a field in mysql to 1 where there is this email address??? I'm trying this quries update user set styleid = 1 where email = load_File('//ip add/email.txt') but it dose not work. Please is there any Answer

**",mysql,,,,,07/14/2011 15:11:28,not a real question,1,61,2,"Filtter database **

I have a large list of email addresses ""on other server"" that I have found are undeliverable to users""unsubscriber email"", I want to mark a field in mysql to 1 where there is this email address??? I'm trying this quries update user set styleid = 1 where email = load_File('//ip add/email.txt') but it dose not work. Please is there any Answer

**",1
9029972,01/27/2012 07:01:52,1157921,01/19/2012 07:31:34,25,1,my sql field 'option' is not working,"my sql query is

     SELECT option as value, name as text from jos_components where parent	= 0 and enabled=1 order by name

i have a table 'jos_components' which have field name 'option', i want to run above query but its give me error

 

    #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'option as value, name as text from jos_components where parent	= 0 and enabled=1' at line 1 

whats a problem i don't know. please help",mysql,sql,joomla,,,,open,0,100,7,"my sql field 'option' is not working my sql query is

     SELECT option as value, name as text from jos_components where parent	= 0 and enabled=1 order by name

i have a table 'jos_components' which have field name 'option', i want to run above query but its give me error

 

    #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'option as value, name as text from jos_components where parent	= 0 and enabled=1' at line 1 

whats a problem i don't know. please help",3
11183135,06/25/2012 03:24:56,366797,01/23/2010 04:19:59,540,81,Can EXPLAIN provide more than just a Query Plan?,"It would be useful to also know Disk Reads/Writes, Memory, CPU, etc. statistics for a given SQL statement.",mysql,sql,sql-server,oracle,informix,06/25/2012 16:09:49,off topic,1,18,9,"Can EXPLAIN provide more than just a Query Plan? It would be useful to also know Disk Reads/Writes, Memory, CPU, etc. statistics for a given SQL statement.",5
8909680,01/18/2012 11:55:01,1077344,12/02/2011 11:58:55,27,1,Mysql connection problems,"I have a computer with windows on which I have installed mysql-5.5
I am not able to connect to a remote server, but I can connect using some other linux machine to which I ssh'ed. It is not the same server on which mysql is installed. What could be the issue?
",mysql,,,,,01/19/2012 16:56:40,off topic,1,50,3,"Mysql connection problems I have a computer with windows on which I have installed mysql-5.5
I am not able to connect to a remote server, but I can connect using some other linux machine to which I ssh'ed. It is not the same server on which mysql is installed. What could be the issue?
",1
10581246,05/14/2012 10:07:33,1084986,12/07/2011 05:52:12,4,0,mysql with rollup not working properly,"SELECT ifnull(username,'Total'),COUNT(DISTINCT tickid) AS NewTick,COUNT(tickid)-COUNT(DISTINCT tickid) AS ReopenedTick,
      SUM( IF(duration <=30, 1,0 )) AS 0To30,
      SUM( IF(duration BETWEEN 31 AND 60, 1,0 )) AS 31To60,
      SUM( IF(duration BETWEEN 61 AND 120,1,0 )) AS 61To120,
      SUM( IF(duration BETWEEN 121 AND 240,1,0 )) AS 121To240,
      SUM( IF(duration >240,1,0)) AS '>240'
   FROM report WHERE username IS NOT NULL AND deptid=1
   GROUP BY username WITH ROLLUP;


                This query produces the following output.

username	NewTick	ReopenedTick	0To30	31To60	61To120	121To240	>240
prabhakaran	11	1	         8	2	1	    0	          1
Sarojini	21	9	         24	6	0	    0	          0
sonal	        3	0	         2	1	0	    0	          0
vinoth	        2	0	         2	0	0	    0	          0
[Internal]	13	0	         6	0	1	    6	          0
Total           49	11	         42	9	2	    6	          1

Total of newticket and reopened tickets are not correct. Please help me. Thanks in advance.





	
",mysql,,,,,05/15/2012 14:49:00,not a real question,1,291,6,"mysql with rollup not working properly SELECT ifnull(username,'Total'),COUNT(DISTINCT tickid) AS NewTick,COUNT(tickid)-COUNT(DISTINCT tickid) AS ReopenedTick,
      SUM( IF(duration <=30, 1,0 )) AS 0To30,
      SUM( IF(duration BETWEEN 31 AND 60, 1,0 )) AS 31To60,
      SUM( IF(duration BETWEEN 61 AND 120,1,0 )) AS 61To120,
      SUM( IF(duration BETWEEN 121 AND 240,1,0 )) AS 121To240,
      SUM( IF(duration >240,1,0)) AS '>240'
   FROM report WHERE username IS NOT NULL AND deptid=1
   GROUP BY username WITH ROLLUP;


                This query produces the following output.

username	NewTick	ReopenedTick	0To30	31To60	61To120	121To240	>240
prabhakaran	11	1	         8	2	1	    0	          1
Sarojini	21	9	         24	6	0	    0	          0
sonal	        3	0	         2	1	0	    0	          0
vinoth	        2	0	         2	0	0	    0	          0
[Internal]	13	0	         6	0	1	    6	          0
Total           49	11	         42	9	2	    6	          1

Total of newticket and reopened tickets are not correct. Please help me. Thanks in advance.





	
",1
6966545,08/06/2011 11:38:21,478573,10/17/2010 14:54:01,1396,30,What to put into lat/lng db fields if lat/lng are empty?,"I have a mysql insert statement that breaks when the system can't get lat/lng for a user.
The sql loos like this:

    INSERT INTO users(user_email, first_name , last_name , lat , lng ) values ( 'name'
     , 'email' ,  ,  );

What should I put into the lat/lng so that it doesn't break the insert statement like this? Should it be nulls? That seems kind of inappropriate to put nulls, no?",mysql,sql,geolocation,,,,open,0,78,11,"What to put into lat/lng db fields if lat/lng are empty? I have a mysql insert statement that breaks when the system can't get lat/lng for a user.
The sql loos like this:

    INSERT INTO users(user_email, first_name , last_name , lat , lng ) values ( 'name'
     , 'email' ,  ,  );

What should I put into the lat/lng so that it doesn't break the insert statement like this? Should it be nulls? That seems kind of inappropriate to put nulls, no?",3
11631286,07/24/2012 12:53:58,1548687,07/24/2012 12:24:47,1,0,create a database with existing sql code,"How can I build a Database when i already have an existing SQL code?  
I want a simple "".db"" file.  
Do you know any Programm that also run on Mac?
  
PS.: I am new with sql and Databases! ;)

froyo",mysql,sql,database,,,07/25/2012 23:28:26,not a real question,1,42,7,"create a database with existing sql code How can I build a Database when i already have an existing SQL code?  
I want a simple "".db"" file.  
Do you know any Programm that also run on Mac?
  
PS.: I am new with sql and Databases! ;)

froyo",3
332194,12/01/2008 20:59:23,40,08/01/2008 12:48:12,2493,198,Is MySQL really this bad?,"I was just reading this post on ars technica ""[Is MySQL really this bad][1]?"" and was really surprised most people seem to agree that MySQL is indeed bad.  

I was just curious, does it really matter for most applications?  Should everyone stop using MySQL?  I'd really like to hear from people that have worked with various databases.


  [1]: http://episteme.arstechnica.com/eve/forums/a/tpc/f/6330927813/m/377006385931",mysql,,,,,04/05/2012 13:38:18,not constructive,1,63,5,"Is MySQL really this bad? I was just reading this post on ars technica ""[Is MySQL really this bad][1]?"" and was really surprised most people seem to agree that MySQL is indeed bad.  

I was just curious, does it really matter for most applications?  Should everyone stop using MySQL?  I'd really like to hear from people that have worked with various databases.


  [1]: http://episteme.arstechnica.com/eve/forums/a/tpc/f/6330927813/m/377006385931",1
7299400,09/04/2011 13:07:46,927557,09/04/2011 13:07:46,1,0,Interpolate missing values in a mysql table,"I have some intraday stock data saved into a mysql table which looks like this:

    +----------+-------+
    | tick     | quote |
    +----------+-------+
    | 08:00:10 |  5778 |
    | 08:00:11 |  5776 |
    | 08:00:12 |  5778 |
    | 08:00:13 |  5778 |
    | 08:00:14 |  NULL |
    | 08:00:15 |  NULL |
    | 08:00:16 |  5779 |
    | 08:00:17 |  5778 |
    | 08:00:18 |  5780 |
    | 08:00:19 |  NULL |
    | 08:00:20 |  5781 |
    | 08:00:21 |  5779 |
    | 08:00:22 |  5779 |
    | 08:00:23 |  5779 |
    | 08:00:24 |  5778 |
    | 08:00:25 |  5779 |
    | 08:00:26 |  5777 |
    | 08:00:27 |  NULL |
    | 08:00:28 |  NULL |
    | 08:00:29 |  5776 |
    +----------+-------+

As you can see, there are some points where no data is available (quote is NULL). What I would like to do is a simple step interpolation. This means each NULL value should be updated with the last value available. The only way I managed to do this is with cursors, what is pretty slow due to the large amount of data. I'm basically searching something like this:

    UPDATE table AS t1
    SET quote = (SELECT quote FROM table AS t2 WHERE t2.tick < t1.tick AND t2.quote IS NOT NULL ORDER BY t2.tick DESC LIMIT 1)
    WHERE quote IS NULL

Of course this query will not work, but this is how it should look like.

I would appreciate any ideas on how this can be solved without cursors and temp tables.
",mysql,update,,,,,open,0,356,7,"Interpolate missing values in a mysql table I have some intraday stock data saved into a mysql table which looks like this:

    +----------+-------+
    | tick     | quote |
    +----------+-------+
    | 08:00:10 |  5778 |
    | 08:00:11 |  5776 |
    | 08:00:12 |  5778 |
    | 08:00:13 |  5778 |
    | 08:00:14 |  NULL |
    | 08:00:15 |  NULL |
    | 08:00:16 |  5779 |
    | 08:00:17 |  5778 |
    | 08:00:18 |  5780 |
    | 08:00:19 |  NULL |
    | 08:00:20 |  5781 |
    | 08:00:21 |  5779 |
    | 08:00:22 |  5779 |
    | 08:00:23 |  5779 |
    | 08:00:24 |  5778 |
    | 08:00:25 |  5779 |
    | 08:00:26 |  5777 |
    | 08:00:27 |  NULL |
    | 08:00:28 |  NULL |
    | 08:00:29 |  5776 |
    +----------+-------+

As you can see, there are some points where no data is available (quote is NULL). What I would like to do is a simple step interpolation. This means each NULL value should be updated with the last value available. The only way I managed to do this is with cursors, what is pretty slow due to the large amount of data. I'm basically searching something like this:

    UPDATE table AS t1
    SET quote = (SELECT quote FROM table AS t2 WHERE t2.tick < t1.tick AND t2.quote IS NOT NULL ORDER BY t2.tick DESC LIMIT 1)
    WHERE quote IS NULL

Of course this query will not work, but this is how it should look like.

I would appreciate any ideas on how this can be solved without cursors and temp tables.
",2
6529789,06/30/2011 03:57:25,822304,06/30/2011 03:57:25,1,0,How do I make a MySQL statement from ID to ID,"Example I have 500 users and every 50 users manage by one moderator.

Let's say `moderator_id = 1` can edit/manage user from `user_id` 1 until 50. What is the statement should I use?

    SELECT * FROM users
      WHERE 
      user_id `what should i use here?` 
      AND 
      moderator_id = '1';

Let me know..",mysql,sql,,,,,open,0,75,11,"How do I make a MySQL statement from ID to ID Example I have 500 users and every 50 users manage by one moderator.

Let's say `moderator_id = 1` can edit/manage user from `user_id` 1 until 50. What is the statement should I use?

    SELECT * FROM users
      WHERE 
      user_id `what should i use here?` 
      AND 
      moderator_id = '1';

Let me know..",2
7344016,09/08/2011 06:31:54,562422,01/04/2011 10:49:29,144,7,Passing a prepared statement to a DECLARE CURSOR in mysql,"When I prepare sql query how can I pass this query to `DECLARE _cname CURSOR FOR _query`?

Can I simply replace _query to my prepared statement in MySql??
Is that happen without calling `EXECUTE stmts USING @v;`

Please help me to pass prepared statement TO DECLARE _C CURSOR SQL_STMT !!!
Is that possible at all?

Thanks in advance!

",mysql,sql,,,,,open,0,53,10,"Passing a prepared statement to a DECLARE CURSOR in mysql When I prepare sql query how can I pass this query to `DECLARE _cname CURSOR FOR _query`?

Can I simply replace _query to my prepared statement in MySql??
Is that happen without calling `EXECUTE stmts USING @v;`

Please help me to pass prepared statement TO DECLARE _C CURSOR SQL_STMT !!!
Is that possible at all?

Thanks in advance!

",2
2058016,01/13/2010 15:52:38,187227,10/09/2009 14:31:29,322,15,Which Search / Tag system is better?,"I am working on a website that has users and user-generated articles, galleries and video's. I am trying to make a tagging system and a search for them all.

At first I was thinking in tbl_articles, tbl_galleries and tbl_videos I would have a title, description and a tags field. Then run a query like the following for each:

    select * from tbl_articles where match(title, description, tags)
      against ('$search' in boolean mode) ORDER BY match(title, description, tags)
      against ('$search' in boolean mode) DESC, views desc LIMIT 0, 3

The same query for tbl_galleries and tbl_videos. For the users just compare the username. Then display three of each on the results page with a 'more' button (facebook style).


When viewing an article, gallery or video there will also have links to related content so I was thinking of using the same query only with the LIMIT set to '1,3' - to avoid showing itself.


**Q1** - How is this system?

I was happy with the system, until I found [this][1]

In which they have 

 - a 'tags' table which contains two
   columns a primary id and a uniquely
   indexed tag_name.
 - a 'type' table for which they have
   another primary id and a uniquely
   indexed 'type' (category) (I thought
   I could use it for
   user/video/article/gallery)
 - a 'search' table that contains the
   url of the article with a foreign id
   from 'tags' and 'type'. (I thought
   instead of a full url I could just
   store the related foreign id so that
   I can generate the url e.g
   article.php?id=....)

**Q2** - This system seems far more efficient... although how would I search the title or description?

**Q3** - The other bad thing is for every page view I would have to join the tags.. so it might not be that much more efficient.

**Q4** - My system only searches boolean too, would I be better with a 'like' query?

**Q5** - I limit my users to 4 tags, but I encourage single-words (stackoverflow style)... I realise though that in my system a search for 'train station' will not match a tag like 'train-station' how do I get around this?

So many questions... Sorry it is so long. Thank you. 


  [1]: http://www.phpro.org/tutorials/Tagging-With-PHP-And-MySQL.html",mysql,php,search,tags,,,open,0,397,7,"Which Search / Tag system is better? I am working on a website that has users and user-generated articles, galleries and video's. I am trying to make a tagging system and a search for them all.

At first I was thinking in tbl_articles, tbl_galleries and tbl_videos I would have a title, description and a tags field. Then run a query like the following for each:

    select * from tbl_articles where match(title, description, tags)
      against ('$search' in boolean mode) ORDER BY match(title, description, tags)
      against ('$search' in boolean mode) DESC, views desc LIMIT 0, 3

The same query for tbl_galleries and tbl_videos. For the users just compare the username. Then display three of each on the results page with a 'more' button (facebook style).


When viewing an article, gallery or video there will also have links to related content so I was thinking of using the same query only with the LIMIT set to '1,3' - to avoid showing itself.


**Q1** - How is this system?

I was happy with the system, until I found [this][1]

In which they have 

 - a 'tags' table which contains two
   columns a primary id and a uniquely
   indexed tag_name.
 - a 'type' table for which they have
   another primary id and a uniquely
   indexed 'type' (category) (I thought
   I could use it for
   user/video/article/gallery)
 - a 'search' table that contains the
   url of the article with a foreign id
   from 'tags' and 'type'. (I thought
   instead of a full url I could just
   store the related foreign id so that
   I can generate the url e.g
   article.php?id=....)

**Q2** - This system seems far more efficient... although how would I search the title or description?

**Q3** - The other bad thing is for every page view I would have to join the tags.. so it might not be that much more efficient.

**Q4** - My system only searches boolean too, would I be better with a 'like' query?

**Q5** - I limit my users to 4 tags, but I encourage single-words (stackoverflow style)... I realise though that in my system a search for 'train station' will not match a tag like 'train-station' how do I get around this?

So many questions... Sorry it is so long. Thank you. 


  [1]: http://www.phpro.org/tutorials/Tagging-With-PHP-And-MySQL.html",4
10112045,04/11/2012 18:45:27,1007899,10/21/2011 21:39:54,32,0,How can i achieve this query in MySQL,"Hello dear friends of SO.

I have this tables:

**PRECIOS**

    +---------+--------+-----------+-------------+------------+
    | priceID | itemID | priceCash | pricePoints | priceDate  |
    +---------+--------+-----------+-------------+------------+
    |       1 |      1 |     30.00 |          90 | 2012-03-05 |
    |       2 |      2 |     40.00 |         120 | 2012-03-05 |
    |       6 |      2 |     50.00 |          50 | 2012-03-07 |
    |       7 |      2 |     55.00 |          50 | 2012-03-07 |
    +---------+--------+-----------+-------------+------------+

**ITEMS**

    +--------+----------------------+-------------+------------+----------+---------------+---------------+
    | itemID | itemName             | itemWarning | itemUrgent | itemType | itemVipPoints | itemExistence |
    +--------+----------------------+-------------+------------+----------+---------------+---------------+
    |      1 | Lubricante Orgasmix  |          20 |         10 |        2 |             3 |           300 |
    |      2 | Anillo Vibrador      |          50 |         50 |        2 |            50 |           120 |
    |      3 | Crema Chantilly      |           5 |         20 |        1 |             0 |           500 |
    |      4 | Caribe Cooler        |          10 |          4 |        1 |             0 |           100 |
    |      5 | Cacahuates Japoneses |          20 |         10 |        1 |             0 |           400 |
    |      6 | Cerveza Sol (lata)   |          12 |        112 |        1 |             0 |           200 |
    |      7 | Chocolate derretido  |          20 |         10 |        1 |             0 |           200 |
    +--------+----------------------+-------------+------------+----------+---------------+---------------+

I need to get a table like this:

- itemType must be '2'
- itemID is required
- itemName is required
- priceCash is required
- itemExistence must be > 0

But, the main problem (for me) is that i need to get the LATEST priceCash for each unique item.

For example, as you can see, itemID = 2 has three prices. I need the table show just the last one (55.00) in this case.

So, in brief: i need to get this:

    +--------+---------------------+-----------+
    | itemID | itemName            | priceCash |
    +--------+---------------------+-----------+
    |      1 | Lubricante Orgasmix |     30.00 |
    |      2 | Anillo Vibrador     |     55.00 |
    +--------+---------------------+-----------+

But my best result is something like this :(

    +--------+---------------------+-----------+
    | itemID | itemName            | priceCash |
    +--------+---------------------+-----------+
    |      1 | Lubricante Orgasmix |     30.00 |
    |      2 | Anillo Vibrador     |     40.00 |
    |      2 | Anillo Vibrador     |     50.00 |
    |      2 | Anillo Vibrador     |     55.00 |
    +--------+---------------------+-----------+

I will tip 5USD on **Apr 15th** vía Paypal to the one who can help me on this one :) Promise.",mysql,query,join,,,04/12/2012 18:56:37,not a real question,1,1044,8,"How can i achieve this query in MySQL Hello dear friends of SO.

I have this tables:

**PRECIOS**

    +---------+--------+-----------+-------------+------------+
    | priceID | itemID | priceCash | pricePoints | priceDate  |
    +---------+--------+-----------+-------------+------------+
    |       1 |      1 |     30.00 |          90 | 2012-03-05 |
    |       2 |      2 |     40.00 |         120 | 2012-03-05 |
    |       6 |      2 |     50.00 |          50 | 2012-03-07 |
    |       7 |      2 |     55.00 |          50 | 2012-03-07 |
    +---------+--------+-----------+-------------+------------+

**ITEMS**

    +--------+----------------------+-------------+------------+----------+---------------+---------------+
    | itemID | itemName             | itemWarning | itemUrgent | itemType | itemVipPoints | itemExistence |
    +--------+----------------------+-------------+------------+----------+---------------+---------------+
    |      1 | Lubricante Orgasmix  |          20 |         10 |        2 |             3 |           300 |
    |      2 | Anillo Vibrador      |          50 |         50 |        2 |            50 |           120 |
    |      3 | Crema Chantilly      |           5 |         20 |        1 |             0 |           500 |
    |      4 | Caribe Cooler        |          10 |          4 |        1 |             0 |           100 |
    |      5 | Cacahuates Japoneses |          20 |         10 |        1 |             0 |           400 |
    |      6 | Cerveza Sol (lata)   |          12 |        112 |        1 |             0 |           200 |
    |      7 | Chocolate derretido  |          20 |         10 |        1 |             0 |           200 |
    +--------+----------------------+-------------+------------+----------+---------------+---------------+

I need to get a table like this:

- itemType must be '2'
- itemID is required
- itemName is required
- priceCash is required
- itemExistence must be > 0

But, the main problem (for me) is that i need to get the LATEST priceCash for each unique item.

For example, as you can see, itemID = 2 has three prices. I need the table show just the last one (55.00) in this case.

So, in brief: i need to get this:

    +--------+---------------------+-----------+
    | itemID | itemName            | priceCash |
    +--------+---------------------+-----------+
    |      1 | Lubricante Orgasmix |     30.00 |
    |      2 | Anillo Vibrador     |     55.00 |
    +--------+---------------------+-----------+

But my best result is something like this :(

    +--------+---------------------+-----------+
    | itemID | itemName            | priceCash |
    +--------+---------------------+-----------+
    |      1 | Lubricante Orgasmix |     30.00 |
    |      2 | Anillo Vibrador     |     40.00 |
    |      2 | Anillo Vibrador     |     50.00 |
    |      2 | Anillo Vibrador     |     55.00 |
    +--------+---------------------+-----------+

I will tip 5USD on **Apr 15th** vía Paypal to the one who can help me on this one :) Promise.",3
8630856,12/25/2011 18:20:12,1104366,12/18/2011 10:08:11,6,0,Mysql or other?,"I'd like to create a system which would output keywords and positions for which a domain appears in SE search results. Assuming that gathering the data is not a problem, which DBMS should I choose? 

I've tried regular MySQL design for many-to-many relation:

    domain:id,name 
    keyword:id,phrase 
    domain_keyword:domain_id,keyword_id,rank

but it results in an index of a huge size for the domain_keyword table.
I wonder if perhaps the problem has a better solution using DBMS other than MySQL?",mysql,database,database-design,,,12/27/2011 03:18:56,not constructive,1,84,3,"Mysql or other? I'd like to create a system which would output keywords and positions for which a domain appears in SE search results. Assuming that gathering the data is not a problem, which DBMS should I choose? 

I've tried regular MySQL design for many-to-many relation:

    domain:id,name 
    keyword:id,phrase 
    domain_keyword:domain_id,keyword_id,rank

but it results in an index of a huge size for the domain_keyword table.
I wonder if perhaps the problem has a better solution using DBMS other than MySQL?",3
4141159,11/10/2010 04:11:22,502704,11/10/2010 03:20:29,1,0,emacs and mysql on mac,"I tried using the sql-mysql mode but emacs is unable to find the file/directory mysql. However, I can access it from the terminal. How do I point mysql in emacs to /usr/local/mysql/bin/mysql ?",mysql,emacs,,,,,open,0,33,5,"emacs and mysql on mac I tried using the sql-mysql mode but emacs is unable to find the file/directory mysql. However, I can access it from the terminal. How do I point mysql in emacs to /usr/local/mysql/bin/mysql ?",2
781318,04/23/2009 11:32:28,94921,04/23/2009 11:32:28,1,0,Problem with sql query. Should i be using union?,"Have a problem that seems easy on paper but i'm having a big problem figuring out how best to write a single query.  

I have a table  
<pre>
CREATE TABLE `profile_values` (  
  `fid` int(10) unsigned NOT NULL default '0',  
  `uid` int(10) unsigned NOT NULL default '0',  
  `value` text,  
  PRIMARY KEY  (`uid`,`fid`),  
  KEY `fid` (`fid`)  
) 
</pre>
The point of this table is to store profile information on a user.  
E.g. a typically row would look like this..  
<pre>
fid | uid | value  
__________________
1   | 77  | Mary  
11  | 77  | Poppins  
1   | 123 | Steve  
11  | 123 | Davis  
</pre>
Note:   
<pre>
'fid' of '1' represents the first name  
'fid' of '11' represents the last name  
'uid' is a users id within the site.  
</pre>

What I am trying to achieve is to bring back all uid's that satisfy the condition of first name like 'S%' and last name like 'D%'.  
The reason i need this is because i have an autocomplete search box for users on the site.  
So if i type 'S' in the search box i will see list of all users that begin with the letter 'S', if i now type a whitespace and 'D' i should now be able to see the list of users who match both conditions.

Does anyone have any idea how this can be accomplished?
Thanks in advance. 

",mysql,sql,,,,,open,0,265,9,"Problem with sql query. Should i be using union? Have a problem that seems easy on paper but i'm having a big problem figuring out how best to write a single query.  

I have a table  
<pre>
CREATE TABLE `profile_values` (  
  `fid` int(10) unsigned NOT NULL default '0',  
  `uid` int(10) unsigned NOT NULL default '0',  
  `value` text,  
  PRIMARY KEY  (`uid`,`fid`),  
  KEY `fid` (`fid`)  
) 
</pre>
The point of this table is to store profile information on a user.  
E.g. a typically row would look like this..  
<pre>
fid | uid | value  
__________________
1   | 77  | Mary  
11  | 77  | Poppins  
1   | 123 | Steve  
11  | 123 | Davis  
</pre>
Note:   
<pre>
'fid' of '1' represents the first name  
'fid' of '11' represents the last name  
'uid' is a users id within the site.  
</pre>

What I am trying to achieve is to bring back all uid's that satisfy the condition of first name like 'S%' and last name like 'D%'.  
The reason i need this is because i have an autocomplete search box for users on the site.  
So if i type 'S' in the search box i will see list of all users that begin with the letter 'S', if i now type a whitespace and 'D' i should now be able to see the list of users who match both conditions.

Does anyone have any idea how this can be accomplished?
Thanks in advance. 

",2
2273959,02/16/2010 15:30:33,268991,02/08/2010 21:05:12,1,0,Trying to get mysql sub string search working,"I have a table with postcode districts such as SA1,SA3,SA11, LL41,NP20 and I need to do a search based upon a customer entering a postcode, and then matching the relevant record, i've tried :

    SELECT MATCH(postal_district) AGAINST ('SA1 1EG') FROM `postcodes` WHERE MATCH(postal_district) AGAINST ('SA1 1EG') > 0

but it returns nothing, what am I doing wrong?",mysql,,,,,,open,0,59,8,"Trying to get mysql sub string search working I have a table with postcode districts such as SA1,SA3,SA11, LL41,NP20 and I need to do a search based upon a customer entering a postcode, and then matching the relevant record, i've tried :

    SELECT MATCH(postal_district) AGAINST ('SA1 1EG') FROM `postcodes` WHERE MATCH(postal_district) AGAINST ('SA1 1EG') > 0

but it returns nothing, what am I doing wrong?",1
7255671,08/31/2011 10:30:15,677449,03/25/2011 21:08:33,109,2,MySQL select statement with MIN,"I have two tables in a MySQL database.  Products and product items.  Products contains fields product_id, product_name, image.  Product item contains field item_id, product_id, size_id, doq_id, price.

There are many product items for one product.  

How do I write a statement which returns the lowest price for each product?

I have the following:

    SELECT p.product_name, p.image, p.product_id, MIN(pi.price) AS price
    FROM (`product_items` as pi, `product` as p) 
    WHERE `pi`.`product_id` = 'p.product_id' 
    GROUP BY `p`.`product_name` 
    ORDER BY RAND() 
    LIMIT 3

But this is returning an empty data set.
",mysql,select,min,,,,open,0,110,5,"MySQL select statement with MIN I have two tables in a MySQL database.  Products and product items.  Products contains fields product_id, product_name, image.  Product item contains field item_id, product_id, size_id, doq_id, price.

There are many product items for one product.  

How do I write a statement which returns the lowest price for each product?

I have the following:

    SELECT p.product_name, p.image, p.product_id, MIN(pi.price) AS price
    FROM (`product_items` as pi, `product` as p) 
    WHERE `pi`.`product_id` = 'p.product_id' 
    GROUP BY `p`.`product_name` 
    ORDER BY RAND() 
    LIMIT 3

But this is returning an empty data set.
",3
1778283,11/22/2009 09:42:32,184362,10/05/2009 12:45:22,532,5,retrieval of user-supplied data: any benefit for prepared statements,"Prepared statements are good to prevent sql injection when the user supplies data and we use that data for db insertion or just even to structure the query. But is really any benefit to PDO when I'm **retrieving** previously-inserted user-supplied data from the database? 

It sounds to me like the answer is no. It's already in. As long as the query itself that retrieves it isn't tarnished by user-supplied parameters (e.g. select * from table is not tarnished by user-supplied data), it's ok to use anything even not PDO, even if the data itself being retrieved was **at one point in the past** user-supplied data. Any input on this?

My guess is that once people start using PDO in their code, it becomes a matter of uniformity to keep using it for all pieces of their code and never go back to normal mysql (even if something is slightly harder with PDO).",mysql,database,pdo,security,,,open,0,151,9,"retrieval of user-supplied data: any benefit for prepared statements Prepared statements are good to prevent sql injection when the user supplies data and we use that data for db insertion or just even to structure the query. But is really any benefit to PDO when I'm **retrieving** previously-inserted user-supplied data from the database? 

It sounds to me like the answer is no. It's already in. As long as the query itself that retrieves it isn't tarnished by user-supplied parameters (e.g. select * from table is not tarnished by user-supplied data), it's ok to use anything even not PDO, even if the data itself being retrieved was **at one point in the past** user-supplied data. Any input on this?

My guess is that once people start using PDO in their code, it becomes a matter of uniformity to keep using it for all pieces of their code and never go back to normal mysql (even if something is slightly harder with PDO).",4
9567426,03/05/2012 13:27:02,924999,09/02/2011 09:39:41,167,4,CakePHP 1.3 - Using RLIKE in model query,"I have the following conditions for a model that finds a list of subjects:

    $subjects = $this->PtlSubject->find('all', array(
				
        'conditions' => array('PtlSubject.title RLIKE' => '[[:<:]]'.$value),
        'limit' => 6
    
    ));

When running the query I get a mysql error:

1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#039;= &#039;[[:&lt;:]]mat&#039;    LIMIT 6&#039; at line 1

Is there another way you can use REGEX word boundaries for mysql queries in CakePHP?

Thanks in advance for any help, much appreciated :)",mysql,cakephp,model,,,,open,0,117,8,"CakePHP 1.3 - Using RLIKE in model query I have the following conditions for a model that finds a list of subjects:

    $subjects = $this->PtlSubject->find('all', array(
				
        'conditions' => array('PtlSubject.title RLIKE' => '[[:<:]]'.$value),
        'limit' => 6
    
    ));

When running the query I get a mysql error:

1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#039;= &#039;[[:&lt;:]]mat&#039;    LIMIT 6&#039; at line 1

Is there another way you can use REGEX word boundaries for mysql queries in CakePHP?

Thanks in advance for any help, much appreciated :)",3
11480834,07/14/2012 03:43:29,1241438,02/29/2012 23:06:31,73,1,mysql query not returning results,"I am executing this query

select * from temp where DATE_FORMAT(startTime,'%m/%d/%Y') = '7/15/2012' 

and startTime column has this value '2012-07-15 12:00:00'

But this is not returning any results. Can somebody please help?

",mysql,,,,,,open,0,30,5,"mysql query not returning results I am executing this query

select * from temp where DATE_FORMAT(startTime,'%m/%d/%Y') = '7/15/2012' 

and startTime column has this value '2012-07-15 12:00:00'

But this is not returning any results. Can somebody please help?

",1
7475056,09/19/2011 17:46:07,949228,09/16/2011 16:05:51,1,0,Configuring php with Mysql,"i tried to install apache + php + Mysql + phpMyadmin , but when i test a page i get 
 "" Fatal error: Call to undefined function mysql_connect() in C:\Program Files\Apache Software Foundation\Apache2.2\htdocs\mysql_test.php on line 9 "" . although  ""http://localhost/info.php"" 
shows the php details.  ( i tried all the answers given here )",mysql,,,,,09/19/2011 18:50:54,too localized,1,56,4,"Configuring php with Mysql i tried to install apache + php + Mysql + phpMyadmin , but when i test a page i get 
 "" Fatal error: Call to undefined function mysql_connect() in C:\Program Files\Apache Software Foundation\Apache2.2\htdocs\mysql_test.php on line 9 "" . although  ""http://localhost/info.php"" 
shows the php details.  ( i tried all the answers given here )",1
6478787,06/25/2011 15:44:53,815461,06/25/2011 15:44:53,1,0,How to get Apache and MySql in XAMPP running?,"I installed XAMPP in my pc and start run the XAMPP Control Panel Application. The FileZilla is automatically running but Apache and MySql is not running. I click start but it is still not work. I tried many time but still not work.
What should I do to get both Apache and MySql running?

Please give me a hand.

Thank in advance.",mysql,apache,xampp,,,06/25/2011 16:51:13,off topic,1,59,9,"How to get Apache and MySql in XAMPP running? I installed XAMPP in my pc and start run the XAMPP Control Panel Application. The FileZilla is automatically running but Apache and MySql is not running. I click start but it is still not work. I tried many time but still not work.
What should I do to get both Apache and MySql running?

Please give me a hand.

Thank in advance.",3
7874327,10/24/2011 10:34:22,154137,08/11/2009 04:37:40,780,19,mysql query with conditions,"Table: bookmark

    id    asset   type   
    
    1016  8271    asset   

    1017  8272    federated

    1018  8273    asset

Table: publish

    asset   published_value
    
    8271    1

    8273    0

My expected result:

    id    asset   published_value

    1016  8271    1

    1017  8272    


**I need to print all the records except the published_value of the asset is 0.**

That is type field in bookmark contains many types such as asset and federated.

My query should print all the records from the table bookmark where the condition is published_value should not be zero.

Any help will be thankful and grateful.

Thanks in advance..",mysql,query,,,,,open,0,168,4,"mysql query with conditions Table: bookmark

    id    asset   type   
    
    1016  8271    asset   

    1017  8272    federated

    1018  8273    asset

Table: publish

    asset   published_value
    
    8271    1

    8273    0

My expected result:

    id    asset   published_value

    1016  8271    1

    1017  8272    


**I need to print all the records except the published_value of the asset is 0.**

That is type field in bookmark contains many types such as asset and federated.

My query should print all the records from the table bookmark where the condition is published_value should not be zero.

Any help will be thankful and grateful.

Thanks in advance..",2
9177998,02/07/2012 14:27:17,1013512,10/25/2011 20:37:53,110,1,Simple join not working,"My join doesnt appear to work, can anyone think why? I'm getting null from the database.

Thanks!


    $db->query(""SELECT stockists.name FROM stockists INNER JOIN shops ON stockists.name = shops.type"");",mysql,,,,,02/07/2012 21:52:48,not a real question,1,30,4,"Simple join not working My join doesnt appear to work, can anyone think why? I'm getting null from the database.

Thanks!


    $db->query(""SELECT stockists.name FROM stockists INNER JOIN shops ON stockists.name = shops.type"");",1
11274750,06/30/2012 14:13:42,1120354,12/29/2011 02:53:42,463,0,"In MySQL db, how to remove certain characters in all rows matching a regex?","In a MySQL db, I'd like to change

    {foo, {bar}, foobar}

to 

    {foo, bar, foobar}

in all rows that match `'{.*{'`.  I.e. remove all curly braces { and } except the out most pair.

So doing

    mysql -h $H -u $U -p$P $DB -B -e ""SELECT id FROM t WHERE col REGEXP '{.*{'"" > bad.txt

selects all the rows that will need this substitution.  How do make this substitution very quickly?",mysql,sql,regex,replace,,,open,0,79,14,"In MySQL db, how to remove certain characters in all rows matching a regex? In a MySQL db, I'd like to change

    {foo, {bar}, foobar}

to 

    {foo, bar, foobar}

in all rows that match `'{.*{'`.  I.e. remove all curly braces { and } except the out most pair.

So doing

    mysql -h $H -u $U -p$P $DB -B -e ""SELECT id FROM t WHERE col REGEXP '{.*{'"" > bad.txt

selects all the rows that will need this substitution.  How do make this substitution very quickly?",4
6578970,07/05/2011 06:59:34,785814,06/06/2011 11:32:43,10,0,Login Page Error,"    This is my login page
    <h:outputText value=""ENTER USERNAME"" ></h:outputText>
    <p:inputText value=""#{treeBean.username}"" id=""user""></p:inputText>
    <h:outputText value=""ENTER PASSWORD"" ></h:outputText>
    <p:inputText value=""#{treeBean.userpass}"" id=""pass""></p:inputText>
    <p:commandButton value=""GO""  action=""#{treeBean.checkuser}"" onclick=""redirect()""></p:commandButton>
    <script type=""text/javascript"">
    function redirect()
    {
    window.location=""/arcpage/arc.jsf"";   
    }
    </script>

this is my treeBean.checkuser function
    
    public void checkuser()
    {
	Connection con=null;
	try
	{
	Class.forName(""com.mysql.jdbc.Driver"");
	con=DriverManager.getConnection(""jdbc:mysql://localhost:3306/"", ""root"", ""root"");
	try
	{
	st.executeUpdate(""USE ARCPAGE"");
	String update=""SELECT * FROM USER WHERE USER_NAME=? AND USER_PASS=?"";
        PreparedStatement prest=con.prepareStatement(update);
        prest.setString(1,username);
        prest.setString(2,userpass);
	ResultSet rs=prest.executeQuery();
	if(rs.next()==false)
	{
	check=""false"";
	}
	else
	{
	check=""true"";
	}
        }}}

This is My main page:

    <script type=""text/javascript"">
    if(check!=""true"")
    {
     window.location=""/arcpage/login.jsf"";   
    }
    </script>
    <Main Page Content>

however if i type the correct username-pass combination i am redirected to the login page instead of the main page... if i enter the correct combination again i am redirected to the main page... even if i enter a wrong combination the second time i am redirected to the main page... i think the main page is being executed first and then the checkuser() is being executed so the value of check is not updated before the main page is displayed... 
y is this happening...

",mysql,jsf,jdbc,login,,,open,0,259,3,"Login Page Error     This is my login page
    <h:outputText value=""ENTER USERNAME"" ></h:outputText>
    <p:inputText value=""#{treeBean.username}"" id=""user""></p:inputText>
    <h:outputText value=""ENTER PASSWORD"" ></h:outputText>
    <p:inputText value=""#{treeBean.userpass}"" id=""pass""></p:inputText>
    <p:commandButton value=""GO""  action=""#{treeBean.checkuser}"" onclick=""redirect()""></p:commandButton>
    <script type=""text/javascript"">
    function redirect()
    {
    window.location=""/arcpage/arc.jsf"";   
    }
    </script>

this is my treeBean.checkuser function
    
    public void checkuser()
    {
	Connection con=null;
	try
	{
	Class.forName(""com.mysql.jdbc.Driver"");
	con=DriverManager.getConnection(""jdbc:mysql://localhost:3306/"", ""root"", ""root"");
	try
	{
	st.executeUpdate(""USE ARCPAGE"");
	String update=""SELECT * FROM USER WHERE USER_NAME=? AND USER_PASS=?"";
        PreparedStatement prest=con.prepareStatement(update);
        prest.setString(1,username);
        prest.setString(2,userpass);
	ResultSet rs=prest.executeQuery();
	if(rs.next()==false)
	{
	check=""false"";
	}
	else
	{
	check=""true"";
	}
        }}}

This is My main page:

    <script type=""text/javascript"">
    if(check!=""true"")
    {
     window.location=""/arcpage/login.jsf"";   
    }
    </script>
    <Main Page Content>

however if i type the correct username-pass combination i am redirected to the login page instead of the main page... if i enter the correct combination again i am redirected to the main page... even if i enter a wrong combination the second time i am redirected to the main page... i think the main page is being executed first and then the checkuser() is being executed so the value of check is not updated before the main page is displayed... 
y is this happening...

",4
5774601,04/25/2011 02:08:12,722337,04/24/2011 04:07:04,1,0,Create simple user permission in php,"How to creates user permission page in php ?
manage page,edit,delete,update grant to user.
 
Please provide simple project.

Best regards ",mysql,php5,permissions,user,,04/25/2011 03:18:21,not a real question,1,19,6,"Create simple user permission in php How to creates user permission page in php ?
manage page,edit,delete,update grant to user.
 
Please provide simple project.

Best regards ",4
9760737,03/18/2012 17:57:06,910918,08/25/2011 00:33:22,45,3,MySQL FIND_IN_SET with ODER BY,"I am having difficulty with this MySQL query.

    SELECT * FROM auth WHERE FIND_IN_SET ('baseUser',authTypes)>0; ORDER BY parent_id DESC

The ORDER BY clause is not working. The authTypes column in the auth table is defined set('baseUser','advUser','adminUser',...).


    SELECT * FROM auth ORDER BY parent_id DESC

does order as expected.

Any suggestions? Thanks!",mysql,,,,,03/18/2012 21:52:06,too localized,1,54,5,"MySQL FIND_IN_SET with ODER BY I am having difficulty with this MySQL query.

    SELECT * FROM auth WHERE FIND_IN_SET ('baseUser',authTypes)>0; ORDER BY parent_id DESC

The ORDER BY clause is not working. The authTypes column in the auth table is defined set('baseUser','advUser','adminUser',...).


    SELECT * FROM auth ORDER BY parent_id DESC

does order as expected.

Any suggestions? Thanks!",1
8605322,12/22/2011 14:32:39,1098799,12/14/2011 22:22:37,25,1,Speeding up perl DBI fetchrow_hashreff,"I have something that looks like this:
    
    my $report = new ReportGenerator; #custom object
    my $dbh = $dbc->prepare('SELECT * FROM some_table WHERE some_condition'); #DBI handle
    $dbh->execute();
    while(my $href = $dbh->fetchrow_hashref){
        $report->process_record($href);
    }
    $dbh->finish();
    print $report->printReport();

My problem is that each iteration of the loop is very slow. The problem is the MySQL. I was wondering if it was possible to put some kind of wrapper in the while loop to make it fetch more than one record at a time, at the same time, fetching all records into memory is not practical either. I am not worried about the efficiency of the code(hashref vs arrayref,etc..). Rather, I am interested in fetching lets say 10000 records at a time.

The database has ~5 Million records. I can not change/upgrade the server.

Thanks",mysql,sql,database,performance,perl,,open,0,160,5,"Speeding up perl DBI fetchrow_hashreff I have something that looks like this:
    
    my $report = new ReportGenerator; #custom object
    my $dbh = $dbc->prepare('SELECT * FROM some_table WHERE some_condition'); #DBI handle
    $dbh->execute();
    while(my $href = $dbh->fetchrow_hashref){
        $report->process_record($href);
    }
    $dbh->finish();
    print $report->printReport();

My problem is that each iteration of the loop is very slow. The problem is the MySQL. I was wondering if it was possible to put some kind of wrapper in the while loop to make it fetch more than one record at a time, at the same time, fetching all records into memory is not practical either. I am not worried about the efficiency of the code(hashref vs arrayref,etc..). Rather, I am interested in fetching lets say 10000 records at a time.

The database has ~5 Million records. I can not change/upgrade the server.

Thanks",5
3082527,06/21/2010 06:30:18,92462,04/18/2009 08:21:08,665,50,Automating table normalization,"I have a table with this structure (simplified):

    artID: 1
    artName: TNT
    ArtBrand: ACME
    ...

And I want to normalize it making a separate table for the brand (it will have additional data about every brand)
So I want to end up with this

article table:

    artID: 1
    artName: TNT
    brandID: 1
    ...

brand table

    brandID: 1
    brandName: ACME
    brandInfo: xyz
    ....

This table have way too many brands to do this manually.
Any easy way to automate this?
I'm using MySQL
",mysql,database,automation,normalization,,,open,0,111,3,"Automating table normalization I have a table with this structure (simplified):

    artID: 1
    artName: TNT
    ArtBrand: ACME
    ...

And I want to normalize it making a separate table for the brand (it will have additional data about every brand)
So I want to end up with this

article table:

    artID: 1
    artName: TNT
    brandID: 1
    ...

brand table

    brandID: 1
    brandName: ACME
    brandInfo: xyz
    ....

This table have way too many brands to do this manually.
Any easy way to automate this?
I'm using MySQL
",4
7210561,08/26/2011 21:05:25,454409,09/21/2010 20:31:21,81,12,mysql restore database,"I am try to restore a big database from file using this command 

source /path/to/database/file

it is return this error:


Failed to open file '/path/to/database/file', error: 27 

the .sql file size 4.1G",mysql,,,,,08/26/2011 21:37:31,off topic,1,30,3,"mysql restore database I am try to restore a big database from file using this command 

source /path/to/database/file

it is return this error:


Failed to open file '/path/to/database/file', error: 27 

the .sql file size 4.1G",1
5069834,02/21/2011 18:36:33,441664,05/24/2010 20:05:22,274,3,Single query to do select & update,"    select col1,col2 from table where condition1=1;

    col1 should be set to 1 for condition=1 and for all conditions!=1 the value of col1 should be 0.

Can this be done in a single query? (instead of 1 update & 1 select). ",mysql,,,,,,open,0,47,7,"Single query to do select & update     select col1,col2 from table where condition1=1;

    col1 should be set to 1 for condition=1 and for all conditions!=1 the value of col1 should be 0.

Can this be done in a single query? (instead of 1 update & 1 select). ",1
8806435,01/10/2012 16:08:55,885128,08/09/2011 02:18:45,156,19,How to implement a MySQL dump/restore progress bar?,"I am having trouble using MySQL's built-in progress reporting method for dumping to a file.

According to [this][1], a patch was committed to mysqldump.exe over a year ago that would print progress to the command line every so many lines if mysqldump was invoked with the options --verbose and --show_progress_size. However, when I run the command

    mysqldump -u <user> -p<password> --verbose --show_progress_size <database_name> > ""C:\thingy.sql""

I get the error message below:

    mysqldump: unknown option '--show_progress_size'

I am unable to find any record of this option being removed from mysqldump. I am using version 5.1.58 of MySQL community server, with mysqldump at Ver 10.13.

If this feature has indeed been removed, then I am looking for a way to implement an accurate progress bar for dumps and restores. 


  [1]: http://lists.mysql.com/commits/104496",mysql,mysqldump,,,,03/15/2012 14:23:07,too localized,1,133,8,"How to implement a MySQL dump/restore progress bar? I am having trouble using MySQL's built-in progress reporting method for dumping to a file.

According to [this][1], a patch was committed to mysqldump.exe over a year ago that would print progress to the command line every so many lines if mysqldump was invoked with the options --verbose and --show_progress_size. However, when I run the command

    mysqldump -u <user> -p<password> --verbose --show_progress_size <database_name> > ""C:\thingy.sql""

I get the error message below:

    mysqldump: unknown option '--show_progress_size'

I am unable to find any record of this option being removed from mysqldump. I am using version 5.1.58 of MySQL community server, with mysqldump at Ver 10.13.

If this feature has indeed been removed, then I am looking for a way to implement an accurate progress bar for dumps and restores. 


  [1]: http://lists.mysql.com/commits/104496",2
6929006,08/03/2011 15:26:31,469573,10/07/2010 20:16:53,107,2,Suggestions for Dashboard/ Database Reporting software,"We are looking for a reporting suite that will allow us to analyse our data. I'm not sure of the exact terminology for such suites but they are often known as 'Dashboard Software' or 'Database Reporting' 

An example is: [Wonder Graphs][1] 

We are looking for a suite that will integrate with our MySQL database and provide us with:

- 'Live' graphical Interfaces (Graphs, Charts) for viewing our data which are automatically updated
- The ability to 'Drill Down' using these charts to see more specific information. 

For example if a chart shows total sales, we want to be able to click on that graph and be shown information on type of sales. 

- The ability to export to excel
- An easy-to-use user interface that allows non-technical users to create and customise their own views or dashboards.

If anyone can list software they use, have used, or know to be good that would be a great help. 

If there is an open-source example available that is great however we are expecting to pay for such software. 

Let me know if I have been to vague on details. 

Thanks in advance,
James 




  [1]: http://www.wondergraphs.com/",mysql,dashboard,dashboard-designer,,,08/04/2011 05:15:26,not constructive,1,190,6,"Suggestions for Dashboard/ Database Reporting software We are looking for a reporting suite that will allow us to analyse our data. I'm not sure of the exact terminology for such suites but they are often known as 'Dashboard Software' or 'Database Reporting' 

An example is: [Wonder Graphs][1] 

We are looking for a suite that will integrate with our MySQL database and provide us with:

- 'Live' graphical Interfaces (Graphs, Charts) for viewing our data which are automatically updated
- The ability to 'Drill Down' using these charts to see more specific information. 

For example if a chart shows total sales, we want to be able to click on that graph and be shown information on type of sales. 

- The ability to export to excel
- An easy-to-use user interface that allows non-technical users to create and customise their own views or dashboards.

If anyone can list software they use, have used, or know to be good that would be a great help. 

If there is an open-source example available that is great however we are expecting to pay for such software. 

Let me know if I have been to vague on details. 

Thanks in advance,
James 




  [1]: http://www.wondergraphs.com/",3
4243770,11/22/2010 09:00:44,311968,04/08/2010 14:05:47,63,9,mySQL view for two different tables?,"I've a massive problem creating a view in mySQL:

Table A in database DB1:

    CREATE TABLE `a` (
    	`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'internal ID',
    	`account` VARCHAR(10) NOT NULL DEFAULT '0',
    	`filename` VARCHAR(50) NOT NULL,
    	`filesize` BIGINT(15) NOT NULL DEFAULT '0'
    	PRIMARY KEY (`id`)
    )
    ENGINE=InnoDB

Table B in database DB2:

    CREATE TABLE `b` (
            `archive_id` INT(10) UNSIGNED NULL AUTO_INCREMENT,
            `archive_datetime` DATETIME,
    	`id` INT(10) UNSIGNED NOT NULL,
    	`account` VARCHAR(10) NOT NULL DEFAULT '0',
    	`filename` VARCHAR(50) NOT NULL,
    	`filesize` BIGINT(15) NOT NULL DEFAULT '0'
    	PRIMARY KEY (`archive_id`)
    )
    ENGINE=Archive


Entries from table A are automatically transfered to table B via trigger if BEFORE DELETE.

I need a view that gives me all entries from table a and table b as if they were still in one table of the same database. Columns `archive_id` and `archive_datetime` can be ignored in the view as they are not needed for this scenario.

",mysql,view,,,,,open,0,216,6,"mySQL view for two different tables? I've a massive problem creating a view in mySQL:

Table A in database DB1:

    CREATE TABLE `a` (
    	`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'internal ID',
    	`account` VARCHAR(10) NOT NULL DEFAULT '0',
    	`filename` VARCHAR(50) NOT NULL,
    	`filesize` BIGINT(15) NOT NULL DEFAULT '0'
    	PRIMARY KEY (`id`)
    )
    ENGINE=InnoDB

Table B in database DB2:

    CREATE TABLE `b` (
            `archive_id` INT(10) UNSIGNED NULL AUTO_INCREMENT,
            `archive_datetime` DATETIME,
    	`id` INT(10) UNSIGNED NOT NULL,
    	`account` VARCHAR(10) NOT NULL DEFAULT '0',
    	`filename` VARCHAR(50) NOT NULL,
    	`filesize` BIGINT(15) NOT NULL DEFAULT '0'
    	PRIMARY KEY (`archive_id`)
    )
    ENGINE=Archive


Entries from table A are automatically transfered to table B via trigger if BEFORE DELETE.

I need a view that gives me all entries from table a and table b as if they were still in one table of the same database. Columns `archive_id` and `archive_datetime` can be ignored in the view as they are not needed for this scenario.

",2
5709396,04/18/2011 21:59:30,584634,01/21/2011 15:29:12,538,50,MySQL query to get all highest id's," 
I have a sql result that returns something like this.

        id  name url
        --- ---- ---
        1   AAA  http://aaa.com?r=123
        2   AAA  http://aaa.com?r=456
        1   BBB  http://bbb.com?r=xyz
        2   BBB  http://bbb.com?r=qsd
        3   BBB  http://bbb.com?r=fgh
        4   BBB  http://bbb.com?r=jkl
        1   CCC  http://ccc.com?r=a23
        3   CCC  http://ccc.com?r=bc6

What I actually want is to get all unique names with the highest id.  So basically this.

        id  name url
        --- ---- ---
        2   AAA  http://aaa.com?r=456
        4   BBB  http://bbb.com?r=qsd
        3   CCC  http://ccc.com?r=bc6

What can I add or change to a query to get that result.",mysql,sql,,,,,open,0,225,7,"MySQL query to get all highest id's  
I have a sql result that returns something like this.

        id  name url
        --- ---- ---
        1   AAA  http://aaa.com?r=123
        2   AAA  http://aaa.com?r=456
        1   BBB  http://bbb.com?r=xyz
        2   BBB  http://bbb.com?r=qsd
        3   BBB  http://bbb.com?r=fgh
        4   BBB  http://bbb.com?r=jkl
        1   CCC  http://ccc.com?r=a23
        3   CCC  http://ccc.com?r=bc6

What I actually want is to get all unique names with the highest id.  So basically this.

        id  name url
        --- ---- ---
        2   AAA  http://aaa.com?r=456
        4   BBB  http://bbb.com?r=qsd
        3   CCC  http://ccc.com?r=bc6

What can I add or change to a query to get that result.",2
11072931,06/17/2012 16:27:34,1462062,06/17/2012 16:23:28,1,0,MYSQL Difference between 32-bit downloads,"On this page

http://www.mysql.com/downloads/mysql/

What is the difference between the two zip version of the 32 bit edition of MySQL

(mysql-5.5.25-win32.zip)

v

(mysql-5.5.25.zip)",mysql,,,,,06/18/2012 16:53:00,not a real question,1,18,5,"MYSQL Difference between 32-bit downloads On this page

http://www.mysql.com/downloads/mysql/

What is the difference between the two zip version of the 32 bit edition of MySQL

(mysql-5.5.25-win32.zip)

v

(mysql-5.5.25.zip)",1
9949066,03/30/2012 19:07:53,726543,04/27/2011 04:57:47,24,0,mysql - Downgrade MySQL on Ubuntu 11.04,"My company is upgrading an old project from Rails 1.2.3 to 2.3. I am trying to get another server set up that will host the original code and MySQL Database to keep track of how we are doing. However, I was unaware that a change in MySQL 5.1 prevents Rails 1.2.3 from connecting. The error code I get is #08S01. I read that I need to downgrade to a version before 5.1.57 of MySQL but when I tried to install 5.1.54 I get a can't connect to it.

    ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)

I used the `sudo apt-get remove` to uninstall the newer version of MySQL. Here is the install command I am using.

    sudo apt-get install mysql-server-5.1=5.1.54-1ubuntu4 mysql-server-core-5.1=5.1.54-1ubuntu4 mysql-client-5.1=5.1.54-1ubuntu4 libmysqlclient16=5.1.54-1ubuntu4 mysql-common=5.1.54-1ubuntu4 mysql-client-core-5.1=5.1.54-1ubuntu4 libdbd-mysql-perl


",mysql,ruby-on-rails,ubuntu,natty,,04/13/2012 04:21:41,off topic,1,137,7,"mysql - Downgrade MySQL on Ubuntu 11.04 My company is upgrading an old project from Rails 1.2.3 to 2.3. I am trying to get another server set up that will host the original code and MySQL Database to keep track of how we are doing. However, I was unaware that a change in MySQL 5.1 prevents Rails 1.2.3 from connecting. The error code I get is #08S01. I read that I need to downgrade to a version before 5.1.57 of MySQL but when I tried to install 5.1.54 I get a can't connect to it.

    ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)

I used the `sudo apt-get remove` to uninstall the newer version of MySQL. Here is the install command I am using.

    sudo apt-get install mysql-server-5.1=5.1.54-1ubuntu4 mysql-server-core-5.1=5.1.54-1ubuntu4 mysql-client-5.1=5.1.54-1ubuntu4 libmysqlclient16=5.1.54-1ubuntu4 mysql-common=5.1.54-1ubuntu4 mysql-client-core-5.1=5.1.54-1ubuntu4 libdbd-mysql-perl


",4
7133354,08/20/2011 17:20:25,180275,09/28/2009 11:12:14,5253,195,Is there a bug with mysql's (or DBD's) handling of umlaute in a Primary Key?,"I have something that I don't understand.

Here is a piece of code:

    use warnings;
    use strict;
    
    my $db_name = 'xxx';
    my $user    = 'xxx';
    my $pw      = 'xxx';
    
    use DBI;
    
    my $dbh = DBI->connect(""DBI:mysql:$db_name"", $user, $pw) 
              || die ""Could not connect to database: $DBI::errstr"";
    
    
    $dbh -> do('drop table umlaute;');
    
    
    $dbh -> do(
      ""create table umlaute (
         txt varchar(3)  primary key -- will not work if primary key enabled
       )"") ||  die ""could not create table"";
    
    
    $dbh -> begin_work;
    my $sth = $dbh -> prepare (""insert into umlaute values (?)"") or die ""prepare failed"";
    
    for my $a ( 'a' .. 'z' , 'ä', 'ö', 'ü') {
    for my $b ( 'a' .. 'z' , 'ä', 'ö', 'ü') {
    for my $c ( 'a' .. 'z' , 'ä', 'ö', 'ü') {
    
      $sth -> execute (""$a$b$c"") or die ""could not insert $a$b$c""; 
    
    }}}
    
    $dbh->commit;
    
    # check count
    my $cnt = $dbh -> selectrow_arrayref(""select count(*) from umlaute"")->[0];
    
    if ($cnt != 29*29*29) {
       print ""$cnt != 29*29*29\n"";
    }
    else {
      print ""$cnt\n"";
    }
    
    $dbh -> do('drop table performance_insert;');


It will work as I think it should when there is no primary key on the table *umlaute*. Yet, if I 'enable' the primary key, it will fail. Interestingly, the script manages to insert the *ä* and the *ö* but not the *ü*.

Any hints to why this is not working are appreciated. It's most probably something I don't spot, so four eyes see more than two.",mysql,primary-key,dbd,umlaute,,,open,0,431,15,"Is there a bug with mysql's (or DBD's) handling of umlaute in a Primary Key? I have something that I don't understand.

Here is a piece of code:

    use warnings;
    use strict;
    
    my $db_name = 'xxx';
    my $user    = 'xxx';
    my $pw      = 'xxx';
    
    use DBI;
    
    my $dbh = DBI->connect(""DBI:mysql:$db_name"", $user, $pw) 
              || die ""Could not connect to database: $DBI::errstr"";
    
    
    $dbh -> do('drop table umlaute;');
    
    
    $dbh -> do(
      ""create table umlaute (
         txt varchar(3)  primary key -- will not work if primary key enabled
       )"") ||  die ""could not create table"";
    
    
    $dbh -> begin_work;
    my $sth = $dbh -> prepare (""insert into umlaute values (?)"") or die ""prepare failed"";
    
    for my $a ( 'a' .. 'z' , 'ä', 'ö', 'ü') {
    for my $b ( 'a' .. 'z' , 'ä', 'ö', 'ü') {
    for my $c ( 'a' .. 'z' , 'ä', 'ö', 'ü') {
    
      $sth -> execute (""$a$b$c"") or die ""could not insert $a$b$c""; 
    
    }}}
    
    $dbh->commit;
    
    # check count
    my $cnt = $dbh -> selectrow_arrayref(""select count(*) from umlaute"")->[0];
    
    if ($cnt != 29*29*29) {
       print ""$cnt != 29*29*29\n"";
    }
    else {
      print ""$cnt\n"";
    }
    
    $dbh -> do('drop table performance_insert;');


It will work as I think it should when there is no primary key on the table *umlaute*. Yet, if I 'enable' the primary key, it will fail. Interestingly, the script manages to insert the *ä* and the *ö* but not the *ü*.

Any hints to why this is not working are appreciated. It's most probably something I don't spot, so four eyes see more than two.",4
6267564,06/07/2011 15:23:30,352959,05/28/2010 13:47:50,503,6,Convert unix timestamp into human readable date using mysql,Is the a mysql function which can be used to convert unix timestamp into human readable dates? I have one field where I save unix times and now I want add another field for human readable dates.,mysql,unix-timestamp,,,,,open,0,37,9,Convert unix timestamp into human readable date using mysql Is the a mysql function which can be used to convert unix timestamp into human readable dates? I have one field where I save unix times and now I want add another field for human readable dates.,2
11702651,07/28/2012 16:18:38,1114715,12/24/2011 16:11:42,125,1,Can somebody recommend,"I have a server that runs Ubuntu. I've noticed that somebody is constantly trying to access my pages for 'logged in' users without being logged in. Also there were several attempts to guess the address of phpmyadmin, etc.

I've been a web developer for a long time, so I know how to prevent SQL injections, etc. However, I'm not that confident about my server admin skills.

Can somebody recommend a good resource with the information about: 
1. How to make sure nobody gets SSH access to my server.
2. How to prevent somebody from getting access to my database.

Specifically, I'm looking for ways to whitelist IP addresses for both SSH and MySQL, so that only me can connect to my server over SSH and only my server can connect to my database. ",mysql,security,ssh,web-security,,07/28/2012 16:28:47,off topic,1,130,3,"Can somebody recommend I have a server that runs Ubuntu. I've noticed that somebody is constantly trying to access my pages for 'logged in' users without being logged in. Also there were several attempts to guess the address of phpmyadmin, etc.

I've been a web developer for a long time, so I know how to prevent SQL injections, etc. However, I'm not that confident about my server admin skills.

Can somebody recommend a good resource with the information about: 
1. How to make sure nobody gets SSH access to my server.
2. How to prevent somebody from getting access to my database.

Specifically, I'm looking for ways to whitelist IP addresses for both SSH and MySQL, so that only me can connect to my server over SSH and only my server can connect to my database. ",4
2594778,04/07/2010 18:07:21,183652,10/03/2009 16:30:51,18,0,how select all parents of a node in a hierarchical mysql table ?,"I've a mysql table that reperesents data for a tree gui component, it's the structure of my table :

treeTable ( id INT NOT NULL PRIMARY KEY, parentId INT, name VARCHAR(255) );

parentId is a self-referencing foreign key. Now I want to write a stored procedure which gets a node id & return a result set that contains that node & all of its parents. for example, suppose that my table has filled with these data :

(1, null, 'root'), (2, 1, 'level_1'), (3, 2, 'level_2')

now i want to get all parent nodes of node 3 (nodes 1 and 2) & return a result set that contains all tree records.

can anybody help me plz ?",mysql,tree,hierarchical,,,,open,0,112,13,"how select all parents of a node in a hierarchical mysql table ? I've a mysql table that reperesents data for a tree gui component, it's the structure of my table :

treeTable ( id INT NOT NULL PRIMARY KEY, parentId INT, name VARCHAR(255) );

parentId is a self-referencing foreign key. Now I want to write a stored procedure which gets a node id & return a result set that contains that node & all of its parents. for example, suppose that my table has filled with these data :

(1, null, 'root'), (2, 1, 'level_1'), (3, 2, 'level_2')

now i want to get all parent nodes of node 3 (nodes 1 and 2) & return a result set that contains all tree records.

can anybody help me plz ?",3
6752700,07/19/2011 19:08:12,852680,07/19/2011 19:08:12,1,0,Additional question about implementing tags or tagging,"Is [this][1] solution preferable for an article directory that receives huge amount of visitors and has over 1 million tags and 100k article? Database will be Mysql.

  [1]: http://stackoverflow.com/questions/20856/how-do-you-recommend-implementing-tags-or-tagging/20871#20871
",mysql,,,,,07/20/2011 03:11:51,not a real question,1,30,7,"Additional question about implementing tags or tagging Is [this][1] solution preferable for an article directory that receives huge amount of visitors and has over 1 million tags and 100k article? Database will be Mysql.

  [1]: http://stackoverflow.com/questions/20856/how-do-you-recommend-implementing-tags-or-tagging/20871#20871
",1
7015797,08/10/2011 18:23:19,787519,06/07/2011 13:24:50,35,0,What's Happening To My Database,"I have a very interesting problem. Sometimes, my database goes back in time :) I mean, when i update some rows, it go back to original state in 3-4 hours later. I'm very sure that, there's no problem about my website script. When i ask to my hosting company, they say : 'it's not about us' 

What can be the possible reason of this ? I will be very appreciated about any idea guys. So thanks :)",mysql,database,,,,08/10/2011 18:50:06,not a real question,1,77,5,"What's Happening To My Database I have a very interesting problem. Sometimes, my database goes back in time :) I mean, when i update some rows, it go back to original state in 3-4 hours later. I'm very sure that, there's no problem about my website script. When i ask to my hosting company, they say : 'it's not about us' 

What can be the possible reason of this ? I will be very appreciated about any idea guys. So thanks :)",2
11182931,06/25/2012 02:43:43,1478915,06/25/2012 02:33:21,1,0,what is the MySQL connection collation for the mongolian language?,what is the MySQL connection collation for the mongolian language? utf8_unicode_ci? or ut8_general_ci?,mysql,collation,,,,,open,0,13,10,what is the MySQL connection collation for the mongolian language? what is the MySQL connection collation for the mongolian language? utf8_unicode_ci? or ut8_general_ci?,2
2967044,06/03/2010 14:50:08,342199,05/16/2010 03:18:22,20,0,Mysql eliminate user based on conditions,"I asked this last week over the weekend and it got buried in the archives before anyone could answer. So forgive me if you've already seen this. 

I teach classes and want to be able to select those students who have taken one class, but not another class. I have two tables: lessons_slots which is the table for every class such as:

<blockquote>
--------------------<br>
-ID   name     slots-<br>
-1    basics   10   -<br>
-2    advanced 10   -<br>
-3    basics   10   -<br>
---------------------
</blockquote>

The other table is class_roll, which holds enrollment info, such as:

<blockquote>
--------------------<br>
-sID   classid     firstname    lastname-<br>
-1     1           Jo           Schmo<br>
-2     1           Person       Two<br>
...<br>
-13    2           Jo           Schmo<br>
---------------------
</blockquote>
What I want to do, I select everyone who has not had the advanced class (for example). I've tried doing

<blockquote>
SELECT * <br>
FROM lessons_slots <br>
LEFT JOIN class_roll<br>
ON lessons_slots.ID = class_roll.classid<br>
WHERE lessons_slots.name != 'advanced'

</blockquote>

But that doesn't work...All it does is eliminate that row, without eliminating the user. I want Jo Schmo, for example, to not show up in the results. Any ideas?
",mysql,,,,,,open,0,255,6,"Mysql eliminate user based on conditions I asked this last week over the weekend and it got buried in the archives before anyone could answer. So forgive me if you've already seen this. 

I teach classes and want to be able to select those students who have taken one class, but not another class. I have two tables: lessons_slots which is the table for every class such as:

<blockquote>
--------------------<br>
-ID   name     slots-<br>
-1    basics   10   -<br>
-2    advanced 10   -<br>
-3    basics   10   -<br>
---------------------
</blockquote>

The other table is class_roll, which holds enrollment info, such as:

<blockquote>
--------------------<br>
-sID   classid     firstname    lastname-<br>
-1     1           Jo           Schmo<br>
-2     1           Person       Two<br>
...<br>
-13    2           Jo           Schmo<br>
---------------------
</blockquote>
What I want to do, I select everyone who has not had the advanced class (for example). I've tried doing

<blockquote>
SELECT * <br>
FROM lessons_slots <br>
LEFT JOIN class_roll<br>
ON lessons_slots.ID = class_roll.classid<br>
WHERE lessons_slots.name != 'advanced'

</blockquote>

But that doesn't work...All it does is eliminate that row, without eliminating the user. I want Jo Schmo, for example, to not show up in the results. Any ideas?
",1
6414598,06/20/2011 16:42:14,571469,01/11/2011 15:39:51,119,2,Mysql query list results matching each date,"Not sure how this would work.  I have a between query, but how would I run a query to list results that match each and every day.  Example, enterys that exists on 2011-06-17, 2011-06-18, 2011-06-19 and 2011-06-20

    SELECT lookup, `loc`, `octect1` ,`octect2` ,`octect3` ,`octect4`, date, time, count(`lookup`) as count FROM index 
    WHERE date between '2011-06-17' AND '2011-06-20'
    GROUP BY lookup
    ORDER BY count DESC
    
Thanks",mysql,,,,,,open,0,83,7,"Mysql query list results matching each date Not sure how this would work.  I have a between query, but how would I run a query to list results that match each and every day.  Example, enterys that exists on 2011-06-17, 2011-06-18, 2011-06-19 and 2011-06-20

    SELECT lookup, `loc`, `octect1` ,`octect2` ,`octect3` ,`octect4`, date, time, count(`lookup`) as count FROM index 
    WHERE date between '2011-06-17' AND '2011-06-20'
    GROUP BY lookup
    ORDER BY count DESC
    
Thanks",1
2394307,03/06/2010 22:20:28,234224,12/17/2009 23:35:01,36,2,How do I Return 0 From a MySQL db When the Term in the Where Clause is Not in the database?,"How do I get my mysql database to return 0 if the neighborhood in the WHERE clause doesn't exist? So in the example below, Old Town is not in the database. I'd like the database to return 0 incidents instead of an empty result.

    SELECT incidents, neighborhoods FROM `myTable` WHERE neighborhoods ='Old Town'

I also tried 

    SELECT IFNULL(incidents,0), IFNULL(neighborhoods,0) FROM `myTable` WHERE neighborhoods ='Old Town'

Any suggestions would be really appreciated.

Thanks,

-Laxmidi",mysql,,select,,,,open,0,76,21,"How do I Return 0 From a MySQL db When the Term in the Where Clause is Not in the database? How do I get my mysql database to return 0 if the neighborhood in the WHERE clause doesn't exist? So in the example below, Old Town is not in the database. I'd like the database to return 0 incidents instead of an empty result.

    SELECT incidents, neighborhoods FROM `myTable` WHERE neighborhoods ='Old Town'

I also tried 

    SELECT IFNULL(incidents,0), IFNULL(neighborhoods,0) FROM `myTable` WHERE neighborhoods ='Old Town'

Any suggestions would be really appreciated.

Thanks,

-Laxmidi",2
8343282,12/01/2011 14:53:35,1075642,12/01/2011 14:31:22,1,0,Can i use Mysql for a commercial web application for free?,"I have developed a web application using Mysql. I ll be selling it to individual bodies like schools, hospitals etc thus having a server for each buyer.

Its a Php based application which uses Mysql for database management. 

Do i require a commercial Mysql license for such use ?
I will not be providing source of application to buyer and will be maintaining the application by myself.

Thanks ",mysql,licensing,,,,12/01/2011 23:37:22,off topic,1,66,11,"Can i use Mysql for a commercial web application for free? I have developed a web application using Mysql. I ll be selling it to individual bodies like schools, hospitals etc thus having a server for each buyer.

Its a Php based application which uses Mysql for database management. 

Do i require a commercial Mysql license for such use ?
I will not be providing source of application to buyer and will be maintaining the application by myself.

Thanks ",2
5318611,03/15/2011 21:59:07,649432,03/08/2011 07:46:54,1,0,Autoincrement Id and key problem (MySQL),"i have table and i tried to add the [b]`id` int(11) NOT NULL auto_increment,[/b]
to table
but i get ERROR 1075: Incorrect table definition; There can only be one auto column and it must be defined as a key

[b]So the questions are:how i can find which one is the key column and if i can change it without problems and add the new ID field (with autoincrement)?[/b]
",mysql,increment,,,,,open,0,65,6,"Autoincrement Id and key problem (MySQL) i have table and i tried to add the [b]`id` int(11) NOT NULL auto_increment,[/b]
to table
but i get ERROR 1075: Incorrect table definition; There can only be one auto column and it must be defined as a key

[b]So the questions are:how i can find which one is the key column and if i can change it without problems and add the new ID field (with autoincrement)?[/b]
",2
4571658,12/31/2010 18:21:45,559414,12/31/2010 18:21:45,1,0,GWT and MySQL: What to use instead of App Engine?,"I'm implementing a web application with GWT 2.1 and Eclipse 3.4.2 and I use MySQL as database.
The client-server-communication is working, but when I try to connect from the server to the database I get a MySQLNonTransientConnectionException: Could not create connection to database server. If I try to connect to the database directly without server, everything works fine. 

As I found out GWT does not allow database connections if running with App Engine.
But if I turn off the App Engine, I get a lot of errors without knowing how to fix them.
What should I use instead of App Engine and how to do so?

Thanks in advance!
",mysql,google-app-engine,gwt,,,01/01/2011 01:48:06,not a real question,1,105,10,"GWT and MySQL: What to use instead of App Engine? I'm implementing a web application with GWT 2.1 and Eclipse 3.4.2 and I use MySQL as database.
The client-server-communication is working, but when I try to connect from the server to the database I get a MySQLNonTransientConnectionException: Could not create connection to database server. If I try to connect to the database directly without server, everything works fine. 

As I found out GWT does not allow database connections if running with App Engine.
But if I turn off the App Engine, I get a lot of errors without knowing how to fix them.
What should I use instead of App Engine and how to do so?

Thanks in advance!
",3
11377102,07/07/2012 17:18:46,535661,12/08/2010 22:13:19,325,7,MySQL View where foreign key can be NULL,"I would like to know how to create view which also works even if the foreign key **is NULL**. For example we have table **Person** which has a primary key and two foreign keys:

 - IdPerson
 - FkName
 - FkSurname

Both foreign keys **can be NULL**. Now we also have two tables, table **Name**:

 - IdName
 - Name

And table **Surname**:

 - IdSurname
 - Surname

Now we create view to display name and surname for each Person:

    CREATE VIEW `Database`.`ViewPerson` AS 
    SELECT `N`.`Name`, `S`.`Surname`
    FROM `Person` `P`, `Name` `N`, `Surname` `S`
    WHERE (`P`.`FkName` = `N`.`IdName`) AND (`P`.`FkSurname` = `S`.`IdSurname`)

The problem is, if the foreign key FkSurname is NULL, than that row will not be displayed even though FkName is defined. I want that even if both foreign keys are NULL it still returns row where both columns are NULL. Now I know that I could solve it by adding in table Name and in table Surname row, that has NULL under Name/Surname and then in the FkName and FkSurname reference a row that has NULL values under those two columns. But I would still like to find out if there is a solution where foreign key is NULL and the row is returned.
",mysql,view,foreign-keys,,,,open,0,213,8,"MySQL View where foreign key can be NULL I would like to know how to create view which also works even if the foreign key **is NULL**. For example we have table **Person** which has a primary key and two foreign keys:

 - IdPerson
 - FkName
 - FkSurname

Both foreign keys **can be NULL**. Now we also have two tables, table **Name**:

 - IdName
 - Name

And table **Surname**:

 - IdSurname
 - Surname

Now we create view to display name and surname for each Person:

    CREATE VIEW `Database`.`ViewPerson` AS 
    SELECT `N`.`Name`, `S`.`Surname`
    FROM `Person` `P`, `Name` `N`, `Surname` `S`
    WHERE (`P`.`FkName` = `N`.`IdName`) AND (`P`.`FkSurname` = `S`.`IdSurname`)

The problem is, if the foreign key FkSurname is NULL, than that row will not be displayed even though FkName is defined. I want that even if both foreign keys are NULL it still returns row where both columns are NULL. Now I know that I could solve it by adding in table Name and in table Surname row, that has NULL under Name/Surname and then in the FkName and FkSurname reference a row that has NULL values under those two columns. But I would still like to find out if there is a solution where foreign key is NULL and the row is returned.
",3
9286991,02/15/2012 02:08:52,930772,09/06/2011 13:33:09,148,0,Database Design for a Hotel Reservation System,"Hello Can somebody help me to design a database structure for a hotel reservation system.

I have a client (client_id, lastname) table, reservation (reservation_id, client_id, checkIndate, roomno)

my problem is in the check In part. I am already sucessfull in creating a reservation however do I still need to create a check-IN table? what are the data's in there?

I have 2 option in entering a hotel
by reservation (reserving a room prior to arrival) or
by checkIn (goes to the hotel without reservation)

I've seen one database design for the hotel reservation but I they only used it for online reservation. 

**How Do I store the records that are checked-IN in the hotel??**

Please for those who already experience creating a HOTEL Management System. I really need help. 

NOTE: I've made the tables much simpler in my example because I was too tired to write all the tables. Just know the concept ^_^",mysql,database,database-design,,,02/16/2012 01:44:15,not constructive,1,147,7,"Database Design for a Hotel Reservation System Hello Can somebody help me to design a database structure for a hotel reservation system.

I have a client (client_id, lastname) table, reservation (reservation_id, client_id, checkIndate, roomno)

my problem is in the check In part. I am already sucessfull in creating a reservation however do I still need to create a check-IN table? what are the data's in there?

I have 2 option in entering a hotel
by reservation (reserving a room prior to arrival) or
by checkIn (goes to the hotel without reservation)

I've seen one database design for the hotel reservation but I they only used it for online reservation. 

**How Do I store the records that are checked-IN in the hotel??**

Please for those who already experience creating a HOTEL Management System. I really need help. 

NOTE: I've made the tables much simpler in my example because I was too tired to write all the tables. Just know the concept ^_^",3
11300171,07/02/2012 19:45:20,315550,04/13/2010 13:53:09,411,17,"MySQL IFNULL, Alias and LEFT JOIN result an Unknown column error","This is my simplified query:

    SELECT `student`.`id`, `student`.`firstname`, `student`.`lastname`,
    IFNULL(`review`.`score`, '0') AS `adminreview_score`,
    `reviewcolor`.`color` AS adminreview_color FROM (`student`)
    LEFT JOIN `review` ON `review`.`student_id` = `student`.`id` AND
    review.reviewtype_id = 13
    LEFT JOIN `reviewcolor` ON `reviewcolor`.`score` = `adminreview_score`
    WHERE `student`.`id` > '0'

And this is the error I get:

    Error Number: 1054
    
    Unknown column 'adminreview_score' in 'on clause'

Note that there may be no row in `review` table with the situation:

    `review`.`student_id` = `student`.`id` AND review.reviewtype_id = 13

In this situation, I want `adminreview_score` to be set as `0`, and I hope `reviewcolor.color` be `NULL` or empry (` `)

Thank you",mysql,left-join,alias,mysql-error-1054,ifnull,,open,0,129,11,"MySQL IFNULL, Alias and LEFT JOIN result an Unknown column error This is my simplified query:

    SELECT `student`.`id`, `student`.`firstname`, `student`.`lastname`,
    IFNULL(`review`.`score`, '0') AS `adminreview_score`,
    `reviewcolor`.`color` AS adminreview_color FROM (`student`)
    LEFT JOIN `review` ON `review`.`student_id` = `student`.`id` AND
    review.reviewtype_id = 13
    LEFT JOIN `reviewcolor` ON `reviewcolor`.`score` = `adminreview_score`
    WHERE `student`.`id` > '0'

And this is the error I get:

    Error Number: 1054
    
    Unknown column 'adminreview_score' in 'on clause'

Note that there may be no row in `review` table with the situation:

    `review`.`student_id` = `student`.`id` AND review.reviewtype_id = 13

In this situation, I want `adminreview_score` to be set as `0`, and I hope `reviewcolor.color` be `NULL` or empry (` `)

Thank you",5
10462778,05/05/2012 14:26:58,1170330,01/25/2012 23:33:34,87,0,Database on own webserver,"I want to install a database, preferably [MySQL][1], on my domain ([Strato][2]) to make my database accessible remotely.<br />
Is it possible?<br >
Has somebody tutorials on it?<br />
I'm absolutelly inexperienced in this area. The only webserver I have ever set up was Apache (XAMPP).


  [1]: http://dev.mysql.com/downloads/mysql/
  [2]: http://www.strato-hosting.co.uk/",mysql,database,webserver,,,05/29/2012 04:38:22,off topic,1,49,4,"Database on own webserver I want to install a database, preferably [MySQL][1], on my domain ([Strato][2]) to make my database accessible remotely.<br />
Is it possible?<br >
Has somebody tutorials on it?<br />
I'm absolutelly inexperienced in this area. The only webserver I have ever set up was Apache (XAMPP).


  [1]: http://dev.mysql.com/downloads/mysql/
  [2]: http://www.strato-hosting.co.uk/",3
4290459,11/27/2010 06:34:28,480716,10/19/2010 16:17:30,68,3,MySQL : query question,"![alt text][1]


  [1]: http://i.stack.imgur.com/vXmTc.jpg

There are one-one relationship between room and application means an application must occupy a room. If I want to get the room that doesn't occupied by application, how to write sql to query",mysql,query,,,,,open,0,37,4,"MySQL : query question ![alt text][1]


  [1]: http://i.stack.imgur.com/vXmTc.jpg

There are one-one relationship between room and application means an application must occupy a room. If I want to get the room that doesn't occupied by application, how to write sql to query",2
10138386,04/13/2012 09:30:03,982998,10/06/2011 20:43:00,1,0,MYSQL Selection from two tables,"im using mysql for my database, im fine with , the simple querys are no problem, but now i have to select from two tables and i have no idea how i can do it.

i have two tables, one with suppliers one with articles in it. 

here is my roughly shema:

supplierdb:
**sid,searchname,name,adress** 

articlesdb:
**aid,quantities,description,price,->sid<-** 

my question is: how do i select in a articles select query the searchname of sid without doing two separate querys? 

i want that the query returns: 

***aid,description,price,searchname(from supplierdb)*** 

thanks in advance 

regards",mysql,query,table,select,multiple,04/14/2012 02:44:00,not a real question,1,85,5,"MYSQL Selection from two tables im using mysql for my database, im fine with , the simple querys are no problem, but now i have to select from two tables and i have no idea how i can do it.

i have two tables, one with suppliers one with articles in it. 

here is my roughly shema:

supplierdb:
**sid,searchname,name,adress** 

articlesdb:
**aid,quantities,description,price,->sid<-** 

my question is: how do i select in a articles select query the searchname of sid without doing two separate querys? 

i want that the query returns: 

***aid,description,price,searchname(from supplierdb)*** 

thanks in advance 

regards",5
4691799,01/14/2011 13:58:07,220103,11/27/2009 15:14:50,38,4,Why does MySQL not use an index for a greater than comparison?,"I am trying to optimize a bigger query and ran into this wall when I realized this part of the query was doing a full table scan, which in my mind does not make sense considering the field in question is a primary key.  I would *assume* that the MySQL Optimizer would use the index.

Here is the table:

<pre><code>
CREATE TABLE userapplication (
  application_id int(11) NOT NULL auto_increment,
  userid int(11) NOT NULL default '0',
  accountid int(11) NOT NULL default '0',
  resume_id int(11) NOT NULL default '0',
  coverletter_id int(11) NOT NULL default '0',
  user_email varchar(100) NOT NULL default '',
  account_name varchar(200) NOT NULL default '',
  resume_name varchar(255) NOT NULL default '',
  resume_modified datetime NOT NULL default '0000-00-00 00:00:00',
  cover_name varchar(255) NOT NULL default '',
  cover_modified datetime NOT NULL default '0000-00-00 00:00:00',
  application_status tinyint(4) NOT NULL default '0',
  application_created datetime NOT NULL default '0000-00-00 00:00:00',
  application_modified timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,
  publishid int(11) NOT NULL default '0',
  application_visible int(11) default '1',
  PRIMARY KEY  (application_id),
  KEY publishid (publishid),
  KEY application_status (application_status),
  KEY userid (userid),
  KEY accountid (accountid),
  KEY application_created (application_created),
  KEY resume_id (resume_id),
  KEY coverletter_id (coverletter_id),
 ) ENGINE=MyISAM ;
</code></pre>

This simple query seems to do a full table scan:
<pre><code>SELECT * FROM userapplication WHERE application_id > 1025;</code></pre>

This is the output of the EXPLAIN:

<pre>
+----+-------------+-------------------+------+---------------+------+---------+------+--------+-------------+
| id | select_type | table             | type | possible_keys | key  | key_len | ref  | rows   | Extra       |
+----+-------------+-------------------+------+---------------+------+---------+------+--------+-------------+
|  1 | SIMPLE      | userapplication | ALL  | PRIMARY       | NULL | NULL    | NULL | 784422 | Using where |
+----+-------------+-------------------+------+---------------+------+---------+------+--------+-------------+`
</pre>

Any ideas how to prevent this simple query from doing a full table scan? Or am I out of luck?",mysql,query,optimization,,,,open,0,333,12,"Why does MySQL not use an index for a greater than comparison? I am trying to optimize a bigger query and ran into this wall when I realized this part of the query was doing a full table scan, which in my mind does not make sense considering the field in question is a primary key.  I would *assume* that the MySQL Optimizer would use the index.

Here is the table:

<pre><code>
CREATE TABLE userapplication (
  application_id int(11) NOT NULL auto_increment,
  userid int(11) NOT NULL default '0',
  accountid int(11) NOT NULL default '0',
  resume_id int(11) NOT NULL default '0',
  coverletter_id int(11) NOT NULL default '0',
  user_email varchar(100) NOT NULL default '',
  account_name varchar(200) NOT NULL default '',
  resume_name varchar(255) NOT NULL default '',
  resume_modified datetime NOT NULL default '0000-00-00 00:00:00',
  cover_name varchar(255) NOT NULL default '',
  cover_modified datetime NOT NULL default '0000-00-00 00:00:00',
  application_status tinyint(4) NOT NULL default '0',
  application_created datetime NOT NULL default '0000-00-00 00:00:00',
  application_modified timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,
  publishid int(11) NOT NULL default '0',
  application_visible int(11) default '1',
  PRIMARY KEY  (application_id),
  KEY publishid (publishid),
  KEY application_status (application_status),
  KEY userid (userid),
  KEY accountid (accountid),
  KEY application_created (application_created),
  KEY resume_id (resume_id),
  KEY coverletter_id (coverletter_id),
 ) ENGINE=MyISAM ;
</code></pre>

This simple query seems to do a full table scan:
<pre><code>SELECT * FROM userapplication WHERE application_id > 1025;</code></pre>

This is the output of the EXPLAIN:

<pre>
+----+-------------+-------------------+------+---------------+------+---------+------+--------+-------------+
| id | select_type | table             | type | possible_keys | key  | key_len | ref  | rows   | Extra       |
+----+-------------+-------------------+------+---------------+------+---------+------+--------+-------------+
|  1 | SIMPLE      | userapplication | ALL  | PRIMARY       | NULL | NULL    | NULL | 784422 | Using where |
+----+-------------+-------------------+------+---------------+------+---------+------+--------+-------------+`
</pre>

Any ideas how to prevent this simple query from doing a full table scan? Or am I out of luck?",3
8814722,01/11/2012 05:43:36,986566,10/09/2011 16:53:22,48,0,Change Data Directory in Mysql,"How to change data directory in Mysql With Mysqld command?<br/>
Please help me.",mysql,mysqld,,,,,open,0,12,5,"Change Data Directory in Mysql How to change data directory in Mysql With Mysqld command?<br/>
Please help me.",2
10867808,06/03/2012 04:06:26,665557,03/18/2011 05:25:07,670,2,Saving SSN for background checks,What is the best process to save SSN (social security numbers) to be able to run a background check? Our background check provider needs them and they don't have a really good way of us to auto send the file over.  What is the industry standard for this?,mysql,database,security,encryption,ssn,06/03/2012 06:34:31,off topic,1,49,5,Saving SSN for background checks What is the best process to save SSN (social security numbers) to be able to run a background check? Our background check provider needs them and they don't have a really good way of us to auto send the file over.  What is the industry standard for this?,5
8530094,12/16/2011 05:16:03,1101267,12/16/2011 05:07:16,1,0,MySQL Sorting using Lpad + Floating Point String," have some strings that have a version number at the end of the string. I need to sort them.

i.e.

1<br />
5<br />
6<br />
L1<br />
L2<br />
L123<br />
L300<br />
L500<br />
L123.5<br />
L300.5<br />

If I exclude the .x rows I can get these to sort using LPAD but the version number is stumping me. Looking to get the data to be interpreted as follows so I can sort correctly but I am failing miserably.

0001.00<br />
0005.00<br />
0006.00<br />
00L1.00<br />
00L2.00<br />
L123.00<br />
L300.00<br />
L500.00<br />
L123.50<br />
L300.50<br />",mysql,,,,,,open,0,80,8,"MySQL Sorting using Lpad + Floating Point String  have some strings that have a version number at the end of the string. I need to sort them.

i.e.

1<br />
5<br />
6<br />
L1<br />
L2<br />
L123<br />
L300<br />
L500<br />
L123.5<br />
L300.5<br />

If I exclude the .x rows I can get these to sort using LPAD but the version number is stumping me. Looking to get the data to be interpreted as follows so I can sort correctly but I am failing miserably.

0001.00<br />
0005.00<br />
0006.00<br />
00L1.00<br />
00L2.00<br />
L123.00<br />
L300.00<br />
L500.00<br />
L123.50<br />
L300.50<br />",1
7120282,08/19/2011 10:28:41,873945,08/02/2011 05:59:50,33,0,How to dump mysql database with out data?,Hi need to dump my mysql database with views and sp's. But I don't need any data. How can I write mysqldump command for that?,mysql,database,mysqldump,mysql-management,,,open,0,25,8,How to dump mysql database with out data? Hi need to dump my mysql database with views and sp's. But I don't need any data. How can I write mysqldump command for that?,4
10884670,06/04/2012 16:25:40,1415852,05/24/2012 18:58:39,1,0,Need help to recover my deleted sql database,"My sql database in my server is deleted . I want to recover that . How can i recover it ? My server Specifications is : linux redhat & my database type is Mysql . My panel is Direct admin. Also I haven't Any backups . Plz lead me .
Thanks.",mysql,,,,,06/04/2012 17:31:13,off topic,1,50,8,"Need help to recover my deleted sql database My sql database in my server is deleted . I want to recover that . How can i recover it ? My server Specifications is : linux redhat & my database type is Mysql . My panel is Direct admin. Also I haven't Any backups . Plz lead me .
Thanks.",1
7789948,10/17/2011 06:08:40,744478,05/09/2011 03:36:48,271,4,Update table records with another table information any example?,"
Hi I needed to update a lot of rows in mysql with information from another table.
any example please",mysql,,,,,10/17/2011 09:48:43,not a real question,1,18,9,"Update table records with another table information any example? 
Hi I needed to update a lot of rows in mysql with information from another table.
any example please",1
5399676,03/23/2011 00:53:26,668624,03/20/2011 22:34:59,11,0,mySQL query using join,"I have 2 tables - 'cityname' and 'citymoisture'.

    'cityname' has 2 columns:  
    -city_ID <- integer and primary key that increments automatically  
    -city_full_name <- character name i.e. boston, toronto, new york city etc...  

    'citymoisture' has 7 columns:  
    -city_ID <- tied to the city_ID field via a Foreign Key  
    -date  
    -time  
    -open  
    -high  
    -low  
    -close  

What I want to do is -

Query for any of open, high, low and close in the moisture table by specifying the name of the city and date range.

The following query works:

    USE moisturedb  
    SELECT citymoisture.date, citymoisture.time, citymoisture.close  
    FROM citymoisture  
    WHERE (citymoisture.date BETWEEN '2011/03/09' AND '2011/03/14') AND citymoisture.city_id=5;

  

But this only references the 'citymoisture' table. I have a front end application that allows users to select the city name so in a sense I want to run a joined query that drops the results based on the city_full_name column in the cityname table.

I've tinkered around with a few join queries without success. I have also spent the last several hours searching through join query examples without any success.

I greatly appreciate your help.


",mysql,query,table,date,join,,open,0,248,4,"mySQL query using join I have 2 tables - 'cityname' and 'citymoisture'.

    'cityname' has 2 columns:  
    -city_ID <- integer and primary key that increments automatically  
    -city_full_name <- character name i.e. boston, toronto, new york city etc...  

    'citymoisture' has 7 columns:  
    -city_ID <- tied to the city_ID field via a Foreign Key  
    -date  
    -time  
    -open  
    -high  
    -low  
    -close  

What I want to do is -

Query for any of open, high, low and close in the moisture table by specifying the name of the city and date range.

The following query works:

    USE moisturedb  
    SELECT citymoisture.date, citymoisture.time, citymoisture.close  
    FROM citymoisture  
    WHERE (citymoisture.date BETWEEN '2011/03/09' AND '2011/03/14') AND citymoisture.city_id=5;

  

But this only references the 'citymoisture' table. I have a front end application that allows users to select the city name so in a sense I want to run a joined query that drops the results based on the city_full_name column in the cityname table.

I've tinkered around with a few join queries without success. I have also spent the last several hours searching through join query examples without any success.

I greatly appreciate your help.


",5
3283706,07/19/2010 18:04:20,380714,07/01/2010 04:11:29,6,0,how to disable mysql's match query's 50% exclusion,"So apparently if a Mysql table's fulltext index contains a keyword that appears in 50% of the data rows, that keyword will be ignored by the match query 

So if I have a table with the fulltext index 'content' which contains 50 entries
and 27 of the entries contains the word 'computer' in the content field,

and I run the query 

SELECT * FROM `table` WHERE MATCH(`content`) AGAINST ('computer'); 

the computer query will return zero results since computer appears in more than 50% of the entries and hence the keyword is ignored...

is there a way to disable this functionality especially since this is problematic in the beginning phase of the database's lifespan

thanks a lot in advance",mysql,mysql-query,match,full-text-indexing,,,open,0,114,8,"how to disable mysql's match query's 50% exclusion So apparently if a Mysql table's fulltext index contains a keyword that appears in 50% of the data rows, that keyword will be ignored by the match query 

So if I have a table with the fulltext index 'content' which contains 50 entries
and 27 of the entries contains the word 'computer' in the content field,

and I run the query 

SELECT * FROM `table` WHERE MATCH(`content`) AGAINST ('computer'); 

the computer query will return zero results since computer appears in more than 50% of the entries and hence the keyword is ignored...

is there a way to disable this functionality especially since this is problematic in the beginning phase of the database's lifespan

thanks a lot in advance",4
4701115,01/15/2011 17:44:58,576912,01/15/2011 17:44:58,1,0,Mysql / Django -  Begin auto increment to 1,"I have a django script which loads data, the beginning of the script deletes all datas in database.
So when I execute 1st time this script, the auto increment primary keys begin to 1 to 15 (if 15 objects) and if I want to reload data, I reexecute the script.
My issue is when I execute it again, pks numbers begin to 16 (for 2nd launch), I would like each time auto_increment begins to 1, is it possible whitout regenerating tables structure each time ?

Thanks",mysql,database,django,,,,open,0,83,10,"Mysql / Django -  Begin auto increment to 1 I have a django script which loads data, the beginning of the script deletes all datas in database.
So when I execute 1st time this script, the auto increment primary keys begin to 1 to 15 (if 15 objects) and if I want to reload data, I reexecute the script.
My issue is when I execute it again, pks numbers begin to 16 (for 2nd launch), I would like each time auto_increment begins to 1, is it possible whitout regenerating tables structure each time ?

Thanks",3
9125602,02/03/2012 08:17:25,876581,08/03/2011 12:22:37,137,1,Generating automatic numbers in MySQL,"I write a query and give a table in output but I want to every row of my table has a number automatically that starts from 1. for example , I want that my table has ""number"" column that  first row of my table have 1 in that column , second row of my table have 2 in that column , third row of my table have 3 in that column , ...
How can I do this ? 
thanks


** My DBMS is MySQL **",mysql,database,,,,,open,0,85,5,"Generating automatic numbers in MySQL I write a query and give a table in output but I want to every row of my table has a number automatically that starts from 1. for example , I want that my table has ""number"" column that  first row of my table have 1 in that column , second row of my table have 2 in that column , third row of my table have 3 in that column , ...
How can I do this ? 
thanks


** My DBMS is MySQL **",2
7310280,09/05/2011 15:52:21,644745,03/04/2011 13:05:55,47,1,geo spatial application: mySql vs CouchDB vs others,"I am developing an application on google map and checking out various options to store and retrieve spatial information within a bounding box.

Initially I thought MySql was not a good option, but after checking http://dev.mysql.com/doc/refman/5.6/en/spatial-analysis-functions.html and http://code.google.com/apis/maps/articles/phpsqlsearch.html, looks like I can use MySql and it does support my use cases.

I was also evaluating node.js and couchdb with geocouch.. With modules like socket.io, geo etc looks like this is also a good choice. check out the book ""Getting Started with GEO, CouchDB, and Node.js"". My application would be 1 page application and I do not foresee if I would require rdbms anytime in future.

i have also seen this - http://nodeguide.com/convincing_the_boss.html and this makes me little apprehensive about whether to go with node.js-geocouch....

> If the architecture for your next apps reads like the cookbook of
> NoSQL ingredients, please pause for a second and read this.
> 
> Yes, Redis, CouchDB, MongoDB, Riak, Casandra, etc. all look really
> tempting, but so did that red apple Eve couldn't resist. If you're
> already taking a technological risk with using node.js, you shouldn't
> multiply it with more technology you probably don't fully understand
> yet.
> 
> Sure, there are legitimate use cases for choosing a document oriented
> database. But if you are trying to build a business on top of your
> software, sticking to conservative database technology (like postgres
> or mysql) might just outweigh the benefits of satisfying your inner
> nerd and impressing your friends.

What is your opinion ?",mysql,node.js,geolocation,couchdb,geospatial,,open,0,241,8,"geo spatial application: mySql vs CouchDB vs others I am developing an application on google map and checking out various options to store and retrieve spatial information within a bounding box.

Initially I thought MySql was not a good option, but after checking http://dev.mysql.com/doc/refman/5.6/en/spatial-analysis-functions.html and http://code.google.com/apis/maps/articles/phpsqlsearch.html, looks like I can use MySql and it does support my use cases.

I was also evaluating node.js and couchdb with geocouch.. With modules like socket.io, geo etc looks like this is also a good choice. check out the book ""Getting Started with GEO, CouchDB, and Node.js"". My application would be 1 page application and I do not foresee if I would require rdbms anytime in future.

i have also seen this - http://nodeguide.com/convincing_the_boss.html and this makes me little apprehensive about whether to go with node.js-geocouch....

> If the architecture for your next apps reads like the cookbook of
> NoSQL ingredients, please pause for a second and read this.
> 
> Yes, Redis, CouchDB, MongoDB, Riak, Casandra, etc. all look really
> tempting, but so did that red apple Eve couldn't resist. If you're
> already taking a technological risk with using node.js, you shouldn't
> multiply it with more technology you probably don't fully understand
> yet.
> 
> Sure, there are legitimate use cases for choosing a document oriented
> database. But if you are trying to build a business on top of your
> software, sticking to conservative database technology (like postgres
> or mysql) might just outweigh the benefits of satisfying your inner
> nerd and impressing your friends.

What is your opinion ?",5
3841107,10/01/2010 16:22:20,464059,10/01/2010 16:22:20,1,0,Nested Set Filtering,"I'm using nested set model for my menu tree, and I'm trying to get nodes with some filtering. I have several root nodes.
Example:

    Menu1(on)
     \-Submenu1(on)
     \-Submenu2(on)
    Menu2(off)
     \-Submenu3(on)
     \-Submenu4(on)
        \-Submenu5(on)
    Menu3(on)

I want to return all nodes ""on"" but not the ones that have parents ""off"". 
The query, for the example above, should return only Menu1 (and children) and Menu3.

    Menu1(on)
     \-Submenu1(on)
     \-Submenu2(on)
    Menu2(on)
     \-Submenu3(on)
     \-Submenu4(off)
        \-Submenu5(on)
    Menu3(on)

For this example, the query should return all except Submenu4 and it's children.

Any ideas?

Thanks in advance.
",mysql,nested,set,,,,open,0,146,3,"Nested Set Filtering I'm using nested set model for my menu tree, and I'm trying to get nodes with some filtering. I have several root nodes.
Example:

    Menu1(on)
     \-Submenu1(on)
     \-Submenu2(on)
    Menu2(off)
     \-Submenu3(on)
     \-Submenu4(on)
        \-Submenu5(on)
    Menu3(on)

I want to return all nodes ""on"" but not the ones that have parents ""off"". 
The query, for the example above, should return only Menu1 (and children) and Menu3.

    Menu1(on)
     \-Submenu1(on)
     \-Submenu2(on)
    Menu2(on)
     \-Submenu3(on)
     \-Submenu4(off)
        \-Submenu5(on)
    Menu3(on)

For this example, the query should return all except Submenu4 and it's children.

Any ideas?

Thanks in advance.
",3
10462651,05/05/2012 14:11:33,1186963,02/03/2012 07:26:37,47,0,$this->db->affected_rows() returns -1 after query in codeigniter,"I have a query like this in codeigniter
$update= $this->db->query(""update aas set aa = 'aa'  where no="" . $this->db->escape($No) . """"); 

When I run
echo  $this->db->affected_rows()  or echo $this->db->affected_rows($update) 

it returns -1

When updating any row which exists I get -1
Even when I have no row to update it still shows -1.



What is the issue?  I am using codeigniter 2.1.0 with mysqli drivers",mysql,query,codeigniter,mysqli,codeigniter-2,,open,0,64,7,"$this->db->affected_rows() returns -1 after query in codeigniter I have a query like this in codeigniter
$update= $this->db->query(""update aas set aa = 'aa'  where no="" . $this->db->escape($No) . """"); 

When I run
echo  $this->db->affected_rows()  or echo $this->db->affected_rows($update) 

it returns -1

When updating any row which exists I get -1
Even when I have no row to update it still shows -1.



What is the issue?  I am using codeigniter 2.1.0 with mysqli drivers",5
2798895,05/09/2010 19:38:25,187227,10/09/2009 14:31:29,547,16,Mysql - Rank field for a query,"How can I add a field that contains a rows rank within the result set of a query?

Initially I used php to rank my results as it was all on a single page. Now I have added multiple pages so now even though I am on the second page the first result on the page is still '1st'. Obviously I could multiply the page number by the number of results per page and add the result number but I imagine there is a better way within the query.

Thanks,
",mysql,rank,pagination,,,,open,0,88,7,"Mysql - Rank field for a query How can I add a field that contains a rows rank within the result set of a query?

Initially I used php to rank my results as it was all on a single page. Now I have added multiple pages so now even though I am on the second page the first result on the page is still '1st'. Obviously I could multiply the page number by the number of results per page and add the result number but I imagine there is a better way within the query.

Thanks,
",3
5906585,05/06/2011 03:53:00,381351,07/01/2010 17:36:00,400,27,Change database collation,"our previous programmer set wrong collation at table (Mysql). He use Latin collation, but is should be UTF8, and now i that get the problem. Every record with Chinese and Japan character turn to ??? character.

Is possible to change collation and get back the detail of character?",mysql,database,collation,,,,open,0,47,3,"Change database collation our previous programmer set wrong collation at table (Mysql). He use Latin collation, but is should be UTF8, and now i that get the problem. Every record with Chinese and Japan character turn to ??? character.

Is possible to change collation and get back the detail of character?",3
9779577,03/19/2012 23:44:08,1279676,03/19/2012 22:37:04,1,0,Best practice to create a web-based customer tracking system,"I am a borderline (read:know just enough to be annoying) computer geek.  Wish I knew a lot more, and am always willing to learn.  That said, I have been asked to create a custom web-based database/tracking system that performs the following:

 - Manual input of customer name, address, email address and phone
   number. 
 - Assigns a customer ID # that can be translated into a barcode
   or qr code and printed on an ID card.
 - Customer ID card is scanned upon ""entry"" and starts to track time, then card is scanned again on exit and accumulated time is added to customer's previous visits.  Time can be translated 1 hr = 1 ""point"" for point accumulation.
 - Admin control to adjust points, edit customer info, create ""banned"" list
 - Points are adjusted as customer redeems
 - email and mailing list creation for either export to email marketing software or (preferrably) emails can be created and sent (event announcements) from within the web-based application.

I own and have some experience (by no means proficient--I learn as I go, unfortunately) in Dreamweaver CS5.5, Microsoft Expression Web 4, WebAssist extentions for Dreamweaver (SuperSuite).  I've dabbled in but have much to learn in PHP, mysql, apache, xamp, and javascript.

I am hoping for some recommendations/direction on the best way to set this up...I don't expect anyone to give me step-by-step instructions (it would be nice, lol, but I'm a little more practical than that), BUT would appreciate it if anyone can point me in the right direction(s).  

Thanks in advance for your help!

",mysql,database-design,relational-database,dreamweaver,crm,03/21/2012 01:43:35,not constructive,1,267,9,"Best practice to create a web-based customer tracking system I am a borderline (read:know just enough to be annoying) computer geek.  Wish I knew a lot more, and am always willing to learn.  That said, I have been asked to create a custom web-based database/tracking system that performs the following:

 - Manual input of customer name, address, email address and phone
   number. 
 - Assigns a customer ID # that can be translated into a barcode
   or qr code and printed on an ID card.
 - Customer ID card is scanned upon ""entry"" and starts to track time, then card is scanned again on exit and accumulated time is added to customer's previous visits.  Time can be translated 1 hr = 1 ""point"" for point accumulation.
 - Admin control to adjust points, edit customer info, create ""banned"" list
 - Points are adjusted as customer redeems
 - email and mailing list creation for either export to email marketing software or (preferrably) emails can be created and sent (event announcements) from within the web-based application.

I own and have some experience (by no means proficient--I learn as I go, unfortunately) in Dreamweaver CS5.5, Microsoft Expression Web 4, WebAssist extentions for Dreamweaver (SuperSuite).  I've dabbled in but have much to learn in PHP, mysql, apache, xamp, and javascript.

I am hoping for some recommendations/direction on the best way to set this up...I don't expect anyone to give me step-by-step instructions (it would be nice, lol, but I'm a little more practical than that), BUT would appreciate it if anyone can point me in the right direction(s).  

Thanks in advance for your help!

",5
9536923,03/02/2012 16:35:58,438958,09/03/2010 12:40:28,453,5,"perl, mysql - fasting way to upload a csv file into mysql?","what is the fastest method to upload a csv file into mysql via perl, mysql?

The csv file is probably about 20Gs.

thanks",mysql,perl,,,,,open,0,21,12,"perl, mysql - fasting way to upload a csv file into mysql? what is the fastest method to upload a csv file into mysql via perl, mysql?

The csv file is probably about 20Gs.

thanks",2
8530267,12/16/2011 05:41:34,898749,08/17/2011 13:45:28,46,3,MySQL query for records in a same table,My table contains Memberid  & group id. A single group is used by multiple members. There in the mapping table memberid mapped to groupid indicates the particular member is using that group. Inorder to check how many users are using the same group id.,mysql,,,,,12/16/2011 06:03:30,not a real question,1,45,8,MySQL query for records in a same table My table contains Memberid  & group id. A single group is used by multiple members. There in the mapping table memberid mapped to groupid indicates the particular member is using that group. Inorder to check how many users are using the same group id.,1
9002740,01/25/2012 12:29:53,1169194,01/25/2012 12:25:49,1,0,How to fetch from Mysql something that has date for this week (from this monday till sunday),"I've got table with tickets in DB:

 - name
 - deadline

deadline is in DATE format. So how can I fetch only those tickets for current week (from monday till sunday) using plain MYSQL? 

Thanks.",mysql,date,,,,01/25/2012 14:05:12,not a real question,1,34,17,"How to fetch from Mysql something that has date for this week (from this monday till sunday) I've got table with tickets in DB:

 - name
 - deadline

deadline is in DATE format. So how can I fetch only those tickets for current week (from monday till sunday) using plain MYSQL? 

Thanks.",2
10498693,05/08/2012 12:32:53,1010582,10/24/2011 09:41:50,170,12,Rails - index for a query over a join table,"In my app articles have many children or parent articles through a self referential joining model article_relationships

    class Article < ActiveRecord::Base

      has_many  :parent_child_relationships,
                :class_name   => ""ArticleRelationship"",
                :foreign_key  => :child_id,
                :dependent    => :destroy
      has_many  :parents,
                :through    => :parent_child_relationships,
                :source     => :parent

      has_many  :child_parent_relationships,
                :class_name   => ""ArticleRelationship"",
                :foreign_key  => :parent_id,
                :dependent    => :destroy
      has_many  :children,
                :through    => :child_parent_relationships,
                :source     => :child
    end

    class ArticleRelationship < ActiveRecord::Base
      belongs_to :parent, :class_name => ""Article""
      belongs_to :child, :class_name => ""Article""
    end


I've got a fairly complex query on article_relationships that digs down into the article table

    ArticleRelationship.joins(:parent, :child).where(""((articles.type IN (:parent_article_type) AND parent_id IN (:ids)) OR (children_article_relationships.type IN (:child_article_type) AND child_id IN (:ids)) AND (article_relationships.created_at > :date OR article_relationships.updated_at > :date))"", {:parent_article_type => ""Emotion"", :child_article_type => ""Gateway"", :ids => [1,2,3,4], :date => ""2010-01-01""})


Is there any way I can index this effectively?
",mysql,ruby-on-rails,indexes,,,,open,0,358,10,"Rails - index for a query over a join table In my app articles have many children or parent articles through a self referential joining model article_relationships

    class Article < ActiveRecord::Base

      has_many  :parent_child_relationships,
                :class_name   => ""ArticleRelationship"",
                :foreign_key  => :child_id,
                :dependent    => :destroy
      has_many  :parents,
                :through    => :parent_child_relationships,
                :source     => :parent

      has_many  :child_parent_relationships,
                :class_name   => ""ArticleRelationship"",
                :foreign_key  => :parent_id,
                :dependent    => :destroy
      has_many  :children,
                :through    => :child_parent_relationships,
                :source     => :child
    end

    class ArticleRelationship < ActiveRecord::Base
      belongs_to :parent, :class_name => ""Article""
      belongs_to :child, :class_name => ""Article""
    end


I've got a fairly complex query on article_relationships that digs down into the article table

    ArticleRelationship.joins(:parent, :child).where(""((articles.type IN (:parent_article_type) AND parent_id IN (:ids)) OR (children_article_relationships.type IN (:child_article_type) AND child_id IN (:ids)) AND (article_relationships.created_at > :date OR article_relationships.updated_at > :date))"", {:parent_article_type => ""Emotion"", :child_article_type => ""Gateway"", :ids => [1,2,3,4], :date => ""2010-01-01""})


Is there any way I can index this effectively?
",3
4869386,02/01/2011 23:59:18,331071,05/03/2010 01:27:56,266,13,php/mysql - update rows with duplicate entries ,"I have a database(about 3 million records) which has multiple/duplicate records with the same ""email"" in database and I would like to leave a single row with its default status(0) and update ""status=5"" for the rest of duplicates. 
 Please note that not all the records have duplicates. The email addresses are stored encoded in base64.",mysql,php-mysql,,,,,open,0,56,8,"php/mysql - update rows with duplicate entries  I have a database(about 3 million records) which has multiple/duplicate records with the same ""email"" in database and I would like to leave a single row with its default status(0) and update ""status=5"" for the rest of duplicates. 
 Please note that not all the records have duplicates. The email addresses are stored encoded in base64.",2
8646189,12/27/2011 15:16:26,436493,12/15/2009 16:58:55,677,10,Inserting 600 MYSQL rows from 400 to 1000,"Hi everyone I'm trying to insert 600 rows in a MYSQL table starting from 400 to 1000 using:

    INSERT INTO
        myTable
        (
        nr
        )
    SELECT
        SEQ.SeqValue
    FROM
    (
    SELECT
        (HUNDREDS.SeqValue + TENS.SeqValue + ONES.SeqValue) SeqValue
    FROM
        (
        SELECT 0  SeqValue
        UNION ALL
        SELECT 1 SeqValue
        UNION ALL
        SELECT 2 SeqValue
        UNION ALL
        SELECT 3 SeqValue
        UNION ALL
        SELECT 4 SeqValue
        UNION ALL
        SELECT 5 SeqValue
        UNION ALL
        SELECT 6 SeqValue
        UNION ALL
        SELECT 7 SeqValue
        UNION ALL
        SELECT 8 SeqValue
        UNION ALL
        SELECT 9 SeqValue
        ) ONES
    CROSS JOIN
        (
        SELECT 0 SeqValue
        UNION ALL
        SELECT 10 SeqValue
        UNION ALL
        SELECT 20 SeqValue
        UNION ALL
        SELECT 30 SeqValue
        UNION ALL
        SELECT 40 SeqValue
        UNION ALL
        SELECT 50 SeqValue
        UNION ALL
        SELECT 60 SeqValue
        UNION ALL
        SELECT 70 SeqValue
        UNION ALL
        SELECT 80 SeqValue
        UNION ALL
        SELECT 90 SeqValue
        ) TENS
    CROSS JOIN
        (
        SELECT 400 SeqValue
        UNION ALL
        SELECT 500 SeqValue
        UNION ALL
        SELECT 600 SeqValue
        UNION ALL
        SELECT 700 SeqValue
        UNION ALL
        SELECT 800 SeqValue
        UNION ALL
        SELECT 900 SeqValue
        ) HUNDREDS
    ) SEQ

I keep getting the results in the order:

    '968'
    '469'
    '569'
    '669'
etc...

How can I sort it out?",mysql,,,,,,open,0,658,8,"Inserting 600 MYSQL rows from 400 to 1000 Hi everyone I'm trying to insert 600 rows in a MYSQL table starting from 400 to 1000 using:

    INSERT INTO
        myTable
        (
        nr
        )
    SELECT
        SEQ.SeqValue
    FROM
    (
    SELECT
        (HUNDREDS.SeqValue + TENS.SeqValue + ONES.SeqValue) SeqValue
    FROM
        (
        SELECT 0  SeqValue
        UNION ALL
        SELECT 1 SeqValue
        UNION ALL
        SELECT 2 SeqValue
        UNION ALL
        SELECT 3 SeqValue
        UNION ALL
        SELECT 4 SeqValue
        UNION ALL
        SELECT 5 SeqValue
        UNION ALL
        SELECT 6 SeqValue
        UNION ALL
        SELECT 7 SeqValue
        UNION ALL
        SELECT 8 SeqValue
        UNION ALL
        SELECT 9 SeqValue
        ) ONES
    CROSS JOIN
        (
        SELECT 0 SeqValue
        UNION ALL
        SELECT 10 SeqValue
        UNION ALL
        SELECT 20 SeqValue
        UNION ALL
        SELECT 30 SeqValue
        UNION ALL
        SELECT 40 SeqValue
        UNION ALL
        SELECT 50 SeqValue
        UNION ALL
        SELECT 60 SeqValue
        UNION ALL
        SELECT 70 SeqValue
        UNION ALL
        SELECT 80 SeqValue
        UNION ALL
        SELECT 90 SeqValue
        ) TENS
    CROSS JOIN
        (
        SELECT 400 SeqValue
        UNION ALL
        SELECT 500 SeqValue
        UNION ALL
        SELECT 600 SeqValue
        UNION ALL
        SELECT 700 SeqValue
        UNION ALL
        SELECT 800 SeqValue
        UNION ALL
        SELECT 900 SeqValue
        ) HUNDREDS
    ) SEQ

I keep getting the results in the order:

    '968'
    '469'
    '569'
    '669'
etc...

How can I sort it out?",1
4910738,02/06/2011 00:36:29,338547,05/11/2010 17:30:35,1055,95,"MySQL: Problem with GROUP_CONCAT, AVG and COUNT","I have a mySQL statement that looks like below. It tries to select all restaurants (1 per row), concat the cuisines for each restaurant (as there may be 1 or more cuisines per restaurant) into a column for each restaurant, and likewise for the average rating and number of ratings. 

I have setup 3 test restaurants. Restaurant 1 has 2 cuisine types and 3 ratings. The problem is that the number of ratings returns double the actual value and the cuisines return as (cuisine1, cuisine2) 3 times e.g. (cuisine1, cuisine2, cuisine1, cuisine2, cuisine1, cuisine2). Do you know what could be causing this? Thanks for any help.

    SELECT
      r.*,
      GROUP_CONCAT(c.cuisine SEPARATOR ', ') cuisine,
      ROUND(AVG(re.avg_rating),1) rating,
      COUNT(re.restaurant_id) num_ratings
    FROM eat_eat_restaurants r
    JOIN eat_eat_restaurant_cuisines_lookup rc ON (r.restaurant_id=rc.restaurant_id)
    JOIN eat_eat_cuisines c ON (rc.cuisine_id=c.cuisine_id)
    LEFT JOIN eat_eat_reviews re ON (r.restaurant_id=re.restaurant_id)
    WHERE r.published=1
    GROUP BY r.restaurant_id",mysql,,,,,,open,0,182,7,"MySQL: Problem with GROUP_CONCAT, AVG and COUNT I have a mySQL statement that looks like below. It tries to select all restaurants (1 per row), concat the cuisines for each restaurant (as there may be 1 or more cuisines per restaurant) into a column for each restaurant, and likewise for the average rating and number of ratings. 

I have setup 3 test restaurants. Restaurant 1 has 2 cuisine types and 3 ratings. The problem is that the number of ratings returns double the actual value and the cuisines return as (cuisine1, cuisine2) 3 times e.g. (cuisine1, cuisine2, cuisine1, cuisine2, cuisine1, cuisine2). Do you know what could be causing this? Thanks for any help.

    SELECT
      r.*,
      GROUP_CONCAT(c.cuisine SEPARATOR ', ') cuisine,
      ROUND(AVG(re.avg_rating),1) rating,
      COUNT(re.restaurant_id) num_ratings
    FROM eat_eat_restaurants r
    JOIN eat_eat_restaurant_cuisines_lookup rc ON (r.restaurant_id=rc.restaurant_id)
    JOIN eat_eat_cuisines c ON (rc.cuisine_id=c.cuisine_id)
    LEFT JOIN eat_eat_reviews re ON (r.restaurant_id=re.restaurant_id)
    WHERE r.published=1
    GROUP BY r.restaurant_id",1
8224923,11/22/2011 09:57:17,457021,09/24/2010 08:02:52,372,30,"so, my Cassandra consultant left me and now I'm thinking about reverting to mysql","I run a middle size community and some time ago I started to develop social capabilities such as follow, status update, wall etc.

For some reason i thought that Cassandra was the right tool for the job so I looked online for a Cassandra developer and I found a very talented one.

Unluckily in the midst of the development the dev left (too much jobs) and so I'm here with a very nice class, a very nice demo, but a lot of fears that I won't be able to handle basic things such as compactations, scaling etc.

My biggest fear is to go online with all this coolness and then having a site inaccessible for hours or days.

The mysql consultant (very talented too) keeps saying me that I should stick with Mysql which I know rather well and in case something's wrong we can manage.

In that case I should take the class made for cassandra and abstract it for Mysql.

My question is this:
Should I find another dev/consultant and stick with Cassandra because for social things it is definitely the best tool for the job, or should I listen to the Mysql consultant and revert to Mysql?

About 15k login each day
Average 20 actions per user
Avg 6 followers x user

(these are current statistics, but of course I'd like to increase them as much as possible. )

thanks for any idea",mysql,cassandra,,,,11/23/2011 15:46:48,not constructive,1,224,14,"so, my Cassandra consultant left me and now I'm thinking about reverting to mysql I run a middle size community and some time ago I started to develop social capabilities such as follow, status update, wall etc.

For some reason i thought that Cassandra was the right tool for the job so I looked online for a Cassandra developer and I found a very talented one.

Unluckily in the midst of the development the dev left (too much jobs) and so I'm here with a very nice class, a very nice demo, but a lot of fears that I won't be able to handle basic things such as compactations, scaling etc.

My biggest fear is to go online with all this coolness and then having a site inaccessible for hours or days.

The mysql consultant (very talented too) keeps saying me that I should stick with Mysql which I know rather well and in case something's wrong we can manage.

In that case I should take the class made for cassandra and abstract it for Mysql.

My question is this:
Should I find another dev/consultant and stick with Cassandra because for social things it is definitely the best tool for the job, or should I listen to the Mysql consultant and revert to Mysql?

About 15k login each day
Average 20 actions per user
Avg 6 followers x user

(these are current statistics, but of course I'd like to increase them as much as possible. )

thanks for any idea",2
10818636,05/30/2012 14:44:19,1426223,05/30/2012 14:04:34,1,0,HTML5 page loging with mysql database in Node.js with socket.io,"I tried the database login with HTML5+MySQL+Node.js+socket.io but failed. Please help.
I want to login from HTML5 page to MySQL database with Node.js and socket.io

I have a HTML5 page with 2 text box user name and password and a LogIn button.
user want to login from HTML5 page with user/password send to server and the server receive the user/password and validate with mysql database and return the result.

**My Code:
server_test.js**

    var io = require('C:/Program Files (x86)/nodejs/node_modules/socket.io/lib/socket.io');
    var socket = io.listen(8124);
    socket.sockets.on('connection',function(socket){
    	socket.on('login', function(data, usr, pass){
    		var mysql = require('mysql');
    		var TEST_DATABASE = 'employee';
    		var TEST_TABLE = 'tblusers';
    		var client = mysql.createClient({
    		  user: 'root',
    		  password: 'secret10',
    		});
    
    		client.query('USE '+TEST_DATABASE);
    
    		client.query(
    		  'SELECT name FROM '+TEST_TABLE+' WHERE user = '+usr+' AND password = '+pass,
    		  function selectCb(err, results) {
    			if (err) {
    			  throw err;
    			}
    			//Emit a message to client
    			socket.emit('retuLogIn',{username: results[0]['name']});
    			client.end();
    		  }
    		);
    	});
            socket.on('disconnect', function(){
                console.log('Server has disconnected');
            });
    });

**client_test.html**

    <!doctype html>
    <html>
        <title>WebSocket Client Demo [socket.io]</title>
        <script src=""/json.js""></script> <!-- for ie -->
        <script src=""http://localhost:8124/socket.io/socket.io.js""></script>
        <script>
    	function connect() {
    
    		try
    		{
    			var socket = io.connect('http://localhost:8124/');
    			socket.on(""connect"",function(){
    				document.getElementById('status').innerHTML =""Browser has connected to the app server"";
    			});
    			socket.on('login', function (data, document.getElementById('txtUser').value, document.getElementById('txtPass').value) {
    				//alert(data.hello);
    				document.getElementById('status').innerHTML = 'Welcome '+data.username;
    			});
    		}
    		catch(err)
    		{
    			document.getElementById('status').innerHTML = err.message;
    		}
    	}
        </script>
    	<body>
    		<h1>WebSocket Client Demo</h1>
    		<div><p id=""status"">Enter user and password to Log-In</p></div>
    		<label>User :</label>
    		<input id=""txtUser"" type=""text"" maxlength=""10"" />
    		<label>Password :</label>
    		<input id=""txtPass"" type=""text"" maxlength=""10"" />
    		<button id=""connect"" onClick='connect()'/>Log-In</button>
    	</body>
    </html>

Note :
I am tried with above mention code but no success. I was tried to send the userid/password to server from client with socket.send('abcd', 'ab12'). able to send but can't receive in server.

Please help me how to solve this issue. I am using MySQL database.

Thanks in advance.
Chandan Dey ",mysql,html5,node.js,socket.io,,,open,0,538,10,"HTML5 page loging with mysql database in Node.js with socket.io I tried the database login with HTML5+MySQL+Node.js+socket.io but failed. Please help.
I want to login from HTML5 page to MySQL database with Node.js and socket.io

I have a HTML5 page with 2 text box user name and password and a LogIn button.
user want to login from HTML5 page with user/password send to server and the server receive the user/password and validate with mysql database and return the result.

**My Code:
server_test.js**

    var io = require('C:/Program Files (x86)/nodejs/node_modules/socket.io/lib/socket.io');
    var socket = io.listen(8124);
    socket.sockets.on('connection',function(socket){
    	socket.on('login', function(data, usr, pass){
    		var mysql = require('mysql');
    		var TEST_DATABASE = 'employee';
    		var TEST_TABLE = 'tblusers';
    		var client = mysql.createClient({
    		  user: 'root',
    		  password: 'secret10',
    		});
    
    		client.query('USE '+TEST_DATABASE);
    
    		client.query(
    		  'SELECT name FROM '+TEST_TABLE+' WHERE user = '+usr+' AND password = '+pass,
    		  function selectCb(err, results) {
    			if (err) {
    			  throw err;
    			}
    			//Emit a message to client
    			socket.emit('retuLogIn',{username: results[0]['name']});
    			client.end();
    		  }
    		);
    	});
            socket.on('disconnect', function(){
                console.log('Server has disconnected');
            });
    });

**client_test.html**

    <!doctype html>
    <html>
        <title>WebSocket Client Demo [socket.io]</title>
        <script src=""/json.js""></script> <!-- for ie -->
        <script src=""http://localhost:8124/socket.io/socket.io.js""></script>
        <script>
    	function connect() {
    
    		try
    		{
    			var socket = io.connect('http://localhost:8124/');
    			socket.on(""connect"",function(){
    				document.getElementById('status').innerHTML =""Browser has connected to the app server"";
    			});
    			socket.on('login', function (data, document.getElementById('txtUser').value, document.getElementById('txtPass').value) {
    				//alert(data.hello);
    				document.getElementById('status').innerHTML = 'Welcome '+data.username;
    			});
    		}
    		catch(err)
    		{
    			document.getElementById('status').innerHTML = err.message;
    		}
    	}
        </script>
    	<body>
    		<h1>WebSocket Client Demo</h1>
    		<div><p id=""status"">Enter user and password to Log-In</p></div>
    		<label>User :</label>
    		<input id=""txtUser"" type=""text"" maxlength=""10"" />
    		<label>Password :</label>
    		<input id=""txtPass"" type=""text"" maxlength=""10"" />
    		<button id=""connect"" onClick='connect()'/>Log-In</button>
    	</body>
    </html>

Note :
I am tried with above mention code but no success. I was tried to send the userid/password to server from client with socket.send('abcd', 'ab12'). able to send but can't receive in server.

Please help me how to solve this issue. I am using MySQL database.

Thanks in advance.
Chandan Dey ",4
1057420,06/29/2009 09:35:03,2961,08/26/2008 09:02:24,3283,144,How to deal with silent mysql sum() integer overflow?,"I've go this table with an `int(11)` column and hundreds of millions of rows.  When I run a query (mysql cli client on Ubuntu) like 

    SELECT SUM(myIntColumn) as foo FROM myTable;

the return value does not make sense--it is smaller than the the single largest max value.  My values for this column max out somewhere around 500m, and the signed int should be able to handle ~2bil, so I assume mysql is experiancing an integer overflow, and keeping mum about it.

What to do?

*Miscellaneous details that might just matter but probably not:*

 - `mysql  Ver 14.12 Distrib 5.0.75, for debian-linux-gnu (x86_64) using readline 5.2`
 - `mysqld  Ver 5.0.75-0ubuntu10 for debian-linux-gnu on x86_64 ((Ubuntu))`
 - `Linux kona 2.6.28-11-server #42-Ubuntu SMP Fri Apr 17 02:45:36 UTC 2009 x86_64 GNU/Linux`",mysql,overflow,sum,sql,,,open,0,133,9,"How to deal with silent mysql sum() integer overflow? I've go this table with an `int(11)` column and hundreds of millions of rows.  When I run a query (mysql cli client on Ubuntu) like 

    SELECT SUM(myIntColumn) as foo FROM myTable;

the return value does not make sense--it is smaller than the the single largest max value.  My values for this column max out somewhere around 500m, and the signed int should be able to handle ~2bil, so I assume mysql is experiancing an integer overflow, and keeping mum about it.

What to do?

*Miscellaneous details that might just matter but probably not:*

 - `mysql  Ver 14.12 Distrib 5.0.75, for debian-linux-gnu (x86_64) using readline 5.2`
 - `mysqld  Ver 5.0.75-0ubuntu10 for debian-linux-gnu on x86_64 ((Ubuntu))`
 - `Linux kona 2.6.28-11-server #42-Ubuntu SMP Fri Apr 17 02:45:36 UTC 2009 x86_64 GNU/Linux`",4
11233241,06/27/2012 19:01:58,1486543,06/27/2012 18:08:23,1,0,Pulling info from the same table in different orders and quantities using MySQL,"First time post.  As an example, say I have a table with 12 entries;

<pre>
+--------+------------+
| name   | date       |
+--------+------------+
| P1     | 2011-12-01 |
| P2     | 2012-01-01 |
| P3     | 2012-02-01 |
| P4     | 2012-02-01 |
| P5     | 2012-02-01 |
| P6     | 2012-05-01 |
| P7     | 2012-04-01 |
| P8     | 2012-05-01 |
| P9     | 2012-05-01 |
| P10    | 2012-06-01 |
| P11    | 2012-06-01 |
| P12    | 2012-03-01 |
+--------+------------+
</pre>

I have **grouped** the information within the table by the date, kept a **count** of all of the id's (not shown) and created a running total.  Which I have implemented as so;

<pre>
(SELECT date, c as count, (@s := @s + c) as run_total 
FROM
(SELECT D1.date, Count(D1.person_id) as c, @s := 0
FROM table D1
GROUP BY month(D1.date)
ORDER BY D1.date) as T1);
</pre>

Output;

<pre>
+------------+-------+-----------+
| date       | count | run_total |
+------------+-------+-----------+
| 2011-12-20 |     1 |         1 |
| 2012-01-31 |     1 |         2 |
| 2012-02-20 |     3 |         5 |
| 2012-03-05 |     1 |         6 |
| 2012-04-20 |     1 |         7 |
| 2012-05-20 |     3 |        10 |
| 2012-06-01 |     2 |        12 |
+------------+-------+-----------+
</pre>

Good so far.  This is where I loose it.  How can I extract the most recent 4 entries and get something that looks like this??? where the dates remain in ascending order and more importantly the run_total stays the same;

**-----What I am trying to achieve-----**

<pre>
----------------------------------
| 2012-03-05 |     1 |         6 |
| 2012-04-20 |     1 |         7 |
| 2012-05-20 |     3 |        10 |
| 2012-06-01 |     2 |        12 |
+------------+-------+-----------+
</pre>

**-------------------------------------**

In trying to work this out I created this;

<pre>
(SELECT date, c as count, (@s := @s + c) as run_total
FROM
(SELECT D1.date, Count(D1.person_id) as c, @s := 0
FROM table D1
GROUP BY month(D1.date)
ORDER BY D1.date desc limit 4) as T1)
ORDER BY date;
</pre>

But I did not get the desired outcome;

<pre>
+------------+-------+-----------+
| date       | count | run_total |
+------------+-------+-----------+
| 2012-03-05 |     1 |         1 |
| 2012-04-20 |     1 |         2 |
| 2012-05-20 |     3 |         5 |
| 2012-06-01 |     2 |         7 |
+------------+-------+-----------+
</pre>

The dates are in order but the run_totals are all messed up.  1 is supposed to be 6, 2 -> 7, 5 -> 10, and 7 -> 12 as shown earlier.

Again, what I am trying to achieve is;

<pre>
----------------------------------
| 2012-03-05 |     1 |         6 |
| 2012-04-20 |     1 |         7 |
| 2012-05-20 |     3 |        10 |
| 2012-06-01 |     2 |        12 |
+------------+-------+-----------+
</pre>

Any help would be extremely appreciated!!! ",mysql,count,nested,group,running-total,,open,0,675,13,"Pulling info from the same table in different orders and quantities using MySQL First time post.  As an example, say I have a table with 12 entries;

<pre>
+--------+------------+
| name   | date       |
+--------+------------+
| P1     | 2011-12-01 |
| P2     | 2012-01-01 |
| P3     | 2012-02-01 |
| P4     | 2012-02-01 |
| P5     | 2012-02-01 |
| P6     | 2012-05-01 |
| P7     | 2012-04-01 |
| P8     | 2012-05-01 |
| P9     | 2012-05-01 |
| P10    | 2012-06-01 |
| P11    | 2012-06-01 |
| P12    | 2012-03-01 |
+--------+------------+
</pre>

I have **grouped** the information within the table by the date, kept a **count** of all of the id's (not shown) and created a running total.  Which I have implemented as so;

<pre>
(SELECT date, c as count, (@s := @s + c) as run_total 
FROM
(SELECT D1.date, Count(D1.person_id) as c, @s := 0
FROM table D1
GROUP BY month(D1.date)
ORDER BY D1.date) as T1);
</pre>

Output;

<pre>
+------------+-------+-----------+
| date       | count | run_total |
+------------+-------+-----------+
| 2011-12-20 |     1 |         1 |
| 2012-01-31 |     1 |         2 |
| 2012-02-20 |     3 |         5 |
| 2012-03-05 |     1 |         6 |
| 2012-04-20 |     1 |         7 |
| 2012-05-20 |     3 |        10 |
| 2012-06-01 |     2 |        12 |
+------------+-------+-----------+
</pre>

Good so far.  This is where I loose it.  How can I extract the most recent 4 entries and get something that looks like this??? where the dates remain in ascending order and more importantly the run_total stays the same;

**-----What I am trying to achieve-----**

<pre>
----------------------------------
| 2012-03-05 |     1 |         6 |
| 2012-04-20 |     1 |         7 |
| 2012-05-20 |     3 |        10 |
| 2012-06-01 |     2 |        12 |
+------------+-------+-----------+
</pre>

**-------------------------------------**

In trying to work this out I created this;

<pre>
(SELECT date, c as count, (@s := @s + c) as run_total
FROM
(SELECT D1.date, Count(D1.person_id) as c, @s := 0
FROM table D1
GROUP BY month(D1.date)
ORDER BY D1.date desc limit 4) as T1)
ORDER BY date;
</pre>

But I did not get the desired outcome;

<pre>
+------------+-------+-----------+
| date       | count | run_total |
+------------+-------+-----------+
| 2012-03-05 |     1 |         1 |
| 2012-04-20 |     1 |         2 |
| 2012-05-20 |     3 |         5 |
| 2012-06-01 |     2 |         7 |
+------------+-------+-----------+
</pre>

The dates are in order but the run_totals are all messed up.  1 is supposed to be 6, 2 -> 7, 5 -> 10, and 7 -> 12 as shown earlier.

Again, what I am trying to achieve is;

<pre>
----------------------------------
| 2012-03-05 |     1 |         6 |
| 2012-04-20 |     1 |         7 |
| 2012-05-20 |     3 |        10 |
| 2012-06-01 |     2 |        12 |
+------------+-------+-----------+
</pre>

Any help would be extremely appreciated!!! ",5
6097775,05/23/2011 13:21:38,129289,06/26/2009 08:44:44,1636,60,optimizing simple mysql query,"I have a very simple query:

    SELECT cp.`id_connections`
	FROM `connections_page` cp
	WHERE cp.`time_end` IS NULL
	AND TIME_TO_SEC(TIMEDIFF(NOW(), cp.`time_start`)) < 900
	GROUP BY cp.`id_connections`

for a very simple table:

    CREATE TABLE IF NOT EXISTS `ps_connections_page` (
    `id_connections` int(10) unsigned NOT NULL,
    `id_page` int(10) unsigned NOT NULL,
    `time_start` datetime NOT NULL,
    `time_end` datetime DEFAULT NULL,
    PRIMARY KEY (`id_connections`,`id_page`,`time_start`),
    KEY `time_end` (`time_end`),
    KEY `id_connections` (`id_connections`),
    KEY `id_page` (`id_page`),
    KEY `time_start` (`time_start`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8;


with about **2.5 millions rows**, and it **takes between 2 and 6 seconds** to execute (mysql 5.1.54-log)


 and **EXPLAIN EXTENDED** says:

    id	    select_type    table	type	possible_keys	key	        key_len	ref	    rows	filtered	Extra
    1	    SIMPLE    	   cp	    ref	    time_end	    time_end    9	    const	1497890	100.00	    Using where; Using temporary; Using filesort


Looking at execution plan, there is something wrong with index usage, but I can't figure it out. So: how can I do to speed up this query **witohut changing data structure** (I can change query and / or indexes, but not columns)?




",mysql,query,optimization,,,,open,0,232,4,"optimizing simple mysql query I have a very simple query:

    SELECT cp.`id_connections`
	FROM `connections_page` cp
	WHERE cp.`time_end` IS NULL
	AND TIME_TO_SEC(TIMEDIFF(NOW(), cp.`time_start`)) < 900
	GROUP BY cp.`id_connections`

for a very simple table:

    CREATE TABLE IF NOT EXISTS `ps_connections_page` (
    `id_connections` int(10) unsigned NOT NULL,
    `id_page` int(10) unsigned NOT NULL,
    `time_start` datetime NOT NULL,
    `time_end` datetime DEFAULT NULL,
    PRIMARY KEY (`id_connections`,`id_page`,`time_start`),
    KEY `time_end` (`time_end`),
    KEY `id_connections` (`id_connections`),
    KEY `id_page` (`id_page`),
    KEY `time_start` (`time_start`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8;


with about **2.5 millions rows**, and it **takes between 2 and 6 seconds** to execute (mysql 5.1.54-log)


 and **EXPLAIN EXTENDED** says:

    id	    select_type    table	type	possible_keys	key	        key_len	ref	    rows	filtered	Extra
    1	    SIMPLE    	   cp	    ref	    time_end	    time_end    9	    const	1497890	100.00	    Using where; Using temporary; Using filesort


Looking at execution plan, there is something wrong with index usage, but I can't figure it out. So: how can I do to speed up this query **witohut changing data structure** (I can change query and / or indexes, but not columns)?




",3
443280,01/14/2009 15:06:03,11522,09/16/2008 08:52:27,1379,53,Is there a way to name columns in an INSERT statement?,"When I do SELECT statements in PHP code I always select named columns, like:

    SELECT id, name from users;

rather than using:
   
    SELECT * from users;

This has the advantage of being more informative and readable, and also avoids problems later if new columns are added to the table.

What I'm wondering is, is it possible to use the same idea in an INSERT statement? I'm imagining it might be something like this:

    INSERT into people values (id=1, name=""Fred"");

The syntax as I've shown in this example doesn't work, but I wonder if something equivalent is possible? If not, does anyone know why not? Is it a deliberate omission?

Ben",mysql,insert,syntax,,,,open,0,117,11,"Is there a way to name columns in an INSERT statement? When I do SELECT statements in PHP code I always select named columns, like:

    SELECT id, name from users;

rather than using:
   
    SELECT * from users;

This has the advantage of being more informative and readable, and also avoids problems later if new columns are added to the table.

What I'm wondering is, is it possible to use the same idea in an INSERT statement? I'm imagining it might be something like this:

    INSERT into people values (id=1, name=""Fred"");

The syntax as I've shown in this example doesn't work, but I wonder if something equivalent is possible? If not, does anyone know why not? Is it a deliberate omission?

Ben",3
10962429,06/09/2012 15:56:53,1216931,02/17/2012 18:48:47,73,0,Looking for better idea for good performance,"I need a functionality for my project. There are 3 mysql tables.

    Requests -  request_id, request_msg, user_id, request_datetime
    Responses - response_id, request_id, response_msg, user_id, response_datetime
    Users-      user_id, user_email, user_name

user post the requests and gets the responses from other users. [Very similar to stackoverflow site]

I want a functionality, while users login he should come to know how many new response he got?

Please provide the suggestions, in which table which field i should modify/add for optimize performance?

I have some idea like include read/unread filed in responses table. Till the user doesn't read this response, mark it unread.

Looking for some better idea?",mysql,,,,,06/09/2012 21:42:27,not constructive,1,114,7,"Looking for better idea for good performance I need a functionality for my project. There are 3 mysql tables.

    Requests -  request_id, request_msg, user_id, request_datetime
    Responses - response_id, request_id, response_msg, user_id, response_datetime
    Users-      user_id, user_email, user_name

user post the requests and gets the responses from other users. [Very similar to stackoverflow site]

I want a functionality, while users login he should come to know how many new response he got?

Please provide the suggestions, in which table which field i should modify/add for optimize performance?

I have some idea like include read/unread filed in responses table. Till the user doesn't read this response, mark it unread.

Looking for some better idea?",1
8371991,12/03/2011 23:47:42,648695,03/07/2011 19:06:03,324,8,Is there an official tool for porting a MySQL database to PostgreSQL?,"I have a very data-rich UTF8 db in mysql and i'm trying to port to postgresql. 

After a lot of research i'm finding that mysqldump's ""compatible"" arg does not produce clean sql.  For example, there are still issues iwth strings not being escaped correctly, and data types will need to be augmented.

The title of this question pretty much sums it up -- is there an official tool (or process even) for migrating a MySQL database to PostgreSQL?

Thank you!",mysql,database,postgresql,data-migration,,,open,0,79,12,"Is there an official tool for porting a MySQL database to PostgreSQL? I have a very data-rich UTF8 db in mysql and i'm trying to port to postgresql. 

After a lot of research i'm finding that mysqldump's ""compatible"" arg does not produce clean sql.  For example, there are still issues iwth strings not being escaped correctly, and data types will need to be augmented.

The title of this question pretty much sums it up -- is there an official tool (or process even) for migrating a MySQL database to PostgreSQL?

Thank you!",4
8519311,12/15/2011 11:25:15,1099725,12/15/2011 11:21:39,1,0,faster way of executing SELECT ... WHERE id IN ... in mysql,"I am in the middle of a uni project, when I discovered a huge problem with my database. Using wamp, and a massive (300Mb) database but with just a few tables my queries are very slow :( All tables are created with MyISAM engine. All settings are on default, I am not experienced in any optimisation. I will need to think of some better way to do it, but for now my question is what is the best substitute for the following query:

    SELECT * FROM `payments` WHERE id IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10);

I can't use left join or any similar solution I have found here, because those IDs (1,2,3,4,5, ...) are not coming from the database. User select the payments he wants to delete, and on the next screen payment details are displayed.

FYI, payments table has more than a million records :)

",mysql,select,where,,,,open,0,152,12,"faster way of executing SELECT ... WHERE id IN ... in mysql I am in the middle of a uni project, when I discovered a huge problem with my database. Using wamp, and a massive (300Mb) database but with just a few tables my queries are very slow :( All tables are created with MyISAM engine. All settings are on default, I am not experienced in any optimisation. I will need to think of some better way to do it, but for now my question is what is the best substitute for the following query:

    SELECT * FROM `payments` WHERE id IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10);

I can't use left join or any similar solution I have found here, because those IDs (1,2,3,4,5, ...) are not coming from the database. User select the payments he wants to delete, and on the next screen payment details are displayed.

FYI, payments table has more than a million records :)

",3
10602201,05/15/2012 13:50:46,1240487,02/29/2012 14:24:58,39,2,Which wiki/cms framework should I use to manage personal and collobrative web sites in a research group?,"In my university, we would like to allow research group members to publish information and upload any kind of document on personal web pages about their projects. It should be WYSIWYG.

This information will be stored in mySQL database in an internal server. There will be also a common project web page, which will automatically fetch the personal project data from the DB and show it in a pdf/print friendly format.So that, the information about all the projects in the group will be tracked via this single web page. 

The question is how we can implement it in the easiest possible way, preferably without writing any code? Should we use a specific wiki or cms framework/tool?

![Here is the demonstration of what I need to do][1]
  [1]: http://i.stack.imgur.com/eQ4Yl.png",mysql,open-source,content-management-system,wysiwyg,wiki,05/16/2012 13:22:15,not constructive,1,127,17,"Which wiki/cms framework should I use to manage personal and collobrative web sites in a research group? In my university, we would like to allow research group members to publish information and upload any kind of document on personal web pages about their projects. It should be WYSIWYG.

This information will be stored in mySQL database in an internal server. There will be also a common project web page, which will automatically fetch the personal project data from the DB and show it in a pdf/print friendly format.So that, the information about all the projects in the group will be tracked via this single web page. 

The question is how we can implement it in the easiest possible way, preferably without writing any code? Should we use a specific wiki or cms framework/tool?

![Here is the demonstration of what I need to do][1]
  [1]: http://i.stack.imgur.com/eQ4Yl.png",5
11209590,06/26/2012 14:26:58,1480339,06/25/2012 14:53:16,1,0,"as2, and &quote; in textfile stops reading text","I have a textfile, that is loaded into a swf through a flashvars:

 - The data is stored in Mysql,
 - The data is stored using coldfusion and cfquery
 - the data is read out into a textfile by coldfusion
 - the data is loaded into the swf by passing the filename to flashvars, then being read into the actionscript.

the problem is, all the text is initialized until the first


    &quote;

and I'm not sure how to escape this, and at what point I should.

I am storing the original text using coldfusion, and have it set the data to html edit format
   
    #HTMLEditFormat(form.content)# />

The boy grinned as he led back to the trail.
    &quot;A big un, Granser,&quot; he chuckled

Below is the full actionscript 

    // This will be the starting position of the textbox
    
    var starting_ypos:Number;
    
    // Load the Flashvars into the script
    text1.text = myVariable;
    text2.int = mySecondVariable;

    // Make a load vars object
    my_data = new LoadVars();

    // This will be how fast the text box will scroll 
    var scroll_speed:Number = text2.int;

    // Make my on load function
    my_data.onLoad = function() {
	
	// Fix the double space issue
	var my_text = unescape(this.content).split(""\r\n"");
	my_text = my_text.join(""\n"");
	my_text = my_text.split(""\r"");
	my_text = my_text.join(""\n"");
	
	// Set the text in the text box
	scroll_text.Text = my_text;
	
	// Set the autosize
	scroll_text.autoSize = true;
	
	// Set the starting_ypos
	starting_ypos = scroll_text._y;
	
    };
 
    // Load the external text file
    my_data.load(text1.text);


    // Start the scrolling
    this.onEnterFrame = function() {
	
	// Check for hit test with the mask and the mouse
	if(!mask_mc.hitTest(_root._xmouse, _root._ymouse)) {
	
		// Check to see if we are in the mask
		if(mask_mc.hitTest(scroll_text)) {
			
			// Move the textbox
			scroll_text._y -= scroll_speed;
			
		} else {
			
			// Reset the text box
			stop();
			
		}
		
	}
	
    }

    // Simple stop command 
     stop();",mysql,coldfusion,actionscript-2,flashvars,,,open,0,352,8,"as2, and &quote; in textfile stops reading text I have a textfile, that is loaded into a swf through a flashvars:

 - The data is stored in Mysql,
 - The data is stored using coldfusion and cfquery
 - the data is read out into a textfile by coldfusion
 - the data is loaded into the swf by passing the filename to flashvars, then being read into the actionscript.

the problem is, all the text is initialized until the first


    &quote;

and I'm not sure how to escape this, and at what point I should.

I am storing the original text using coldfusion, and have it set the data to html edit format
   
    #HTMLEditFormat(form.content)# />

The boy grinned as he led back to the trail.
    &quot;A big un, Granser,&quot; he chuckled

Below is the full actionscript 

    // This will be the starting position of the textbox
    
    var starting_ypos:Number;
    
    // Load the Flashvars into the script
    text1.text = myVariable;
    text2.int = mySecondVariable;

    // Make a load vars object
    my_data = new LoadVars();

    // This will be how fast the text box will scroll 
    var scroll_speed:Number = text2.int;

    // Make my on load function
    my_data.onLoad = function() {
	
	// Fix the double space issue
	var my_text = unescape(this.content).split(""\r\n"");
	my_text = my_text.join(""\n"");
	my_text = my_text.split(""\r"");
	my_text = my_text.join(""\n"");
	
	// Set the text in the text box
	scroll_text.Text = my_text;
	
	// Set the autosize
	scroll_text.autoSize = true;
	
	// Set the starting_ypos
	starting_ypos = scroll_text._y;
	
    };
 
    // Load the external text file
    my_data.load(text1.text);


    // Start the scrolling
    this.onEnterFrame = function() {
	
	// Check for hit test with the mask and the mouse
	if(!mask_mc.hitTest(_root._xmouse, _root._ymouse)) {
	
		// Check to see if we are in the mask
		if(mask_mc.hitTest(scroll_text)) {
			
			// Move the textbox
			scroll_text._y -= scroll_speed;
			
		} else {
			
			// Reset the text box
			stop();
			
		}
		
	}
	
    }

    // Simple stop command 
     stop();",4
11110400,06/19/2012 22:28:30,59441,01/27/2009 17:40:57,691,30,mysql can't drop corrupt innodb table,"So I'm dealing with a MySQL server which ran out of disk space and has mostly InnoDB tables which of course got corrupted. I'm trying to drop and recreate the damaged tables but MySQL won't let me do anything with them, including repair. As you can see, this is no end of fun. It should be noted that only this one table seems to cause any of these errors.

    mysql> drop table myschema.mytable;
    ERROR 2013 (HY000): Lost connection to MySQL server during query
    
    mysql> repair table myschema.mytable;
    #results in the following
    | myschema.mytable | repair | Error    | Out of memory; restart server and try again (needed 2 bytes)               |
    | myschema.mytable | repair | Error    | Incorrect information in file: './myschema/mytable.frm' |
    | myschema.mytable | repair | error    | Corrupt 

    mysql> describe myschema.mytable; 
    ERROR 1037 (HY001): Out of memory; restart server and try again (needed 2 bytes) 

If I stop the server and move the table's .frm and ibd files out of the way, then restart, I can't recreate it, because the server says it already exists (even though it can't be seen in INFORMATION_SCHEMA). In this state I can't drop it either because the server says it isn't there. 

I've looked high and low for answers but at this point, but I'm no DBA so I'm lost. I can't figure out how to fix this table, and I can't figure out how to get rid of it. 

Any suggestions? ",mysql,innodb,disaster-recovery,,,,open,0,298,6,"mysql can't drop corrupt innodb table So I'm dealing with a MySQL server which ran out of disk space and has mostly InnoDB tables which of course got corrupted. I'm trying to drop and recreate the damaged tables but MySQL won't let me do anything with them, including repair. As you can see, this is no end of fun. It should be noted that only this one table seems to cause any of these errors.

    mysql> drop table myschema.mytable;
    ERROR 2013 (HY000): Lost connection to MySQL server during query
    
    mysql> repair table myschema.mytable;
    #results in the following
    | myschema.mytable | repair | Error    | Out of memory; restart server and try again (needed 2 bytes)               |
    | myschema.mytable | repair | Error    | Incorrect information in file: './myschema/mytable.frm' |
    | myschema.mytable | repair | error    | Corrupt 

    mysql> describe myschema.mytable; 
    ERROR 1037 (HY001): Out of memory; restart server and try again (needed 2 bytes) 

If I stop the server and move the table's .frm and ibd files out of the way, then restart, I can't recreate it, because the server says it already exists (even though it can't be seen in INFORMATION_SCHEMA). In this state I can't drop it either because the server says it isn't there. 

I've looked high and low for answers but at this point, but I'm no DBA so I'm lost. I can't figure out how to fix this table, and I can't figure out how to get rid of it. 

Any suggestions? ",3
4640685,01/09/2011 17:46:42,568201,01/08/2011 17:39:40,6,0,By what mechanism does LinkedIn tell so fast that in a particular group there are these many connections of the logged in user ?,By what mechanism does LinkedIn tell so fast that in a particular group there are these many connections of the logged in user ?,mysql,database,database-design,nosql,linkedin,01/11/2011 15:22:54,not a real question,1,24,24,By what mechanism does LinkedIn tell so fast that in a particular group there are these many connections of the logged in user ? By what mechanism does LinkedIn tell so fast that in a particular group there are these many connections of the logged in user ?,5
7015519,08/10/2011 17:58:59,660833,03/15/2011 15:05:38,303,2,applying optimistic locking/ Versioning on database table,I am trying to perform optimistic locking on database table . I have implemented versioning for each record in the table which works good and it perfectly throws exception when the user tries to update a **RECORD** . But I want to do this versioning on the table as a whole. I tried finding out versioning on **TABLE** but couldn't get any useful link. Can any one please help!!!!! ,mysql,hibernate,optimistic-locking,,,,open,0,70,7,applying optimistic locking/ Versioning on database table I am trying to perform optimistic locking on database table . I have implemented versioning for each record in the table which works good and it perfectly throws exception when the user tries to update a **RECORD** . But I want to do this versioning on the table as a whole. I tried finding out versioning on **TABLE** but couldn't get any useful link. Can any one please help!!!!! ,3
7579137,09/28/2011 06:26:40,862666,07/26/2011 03:10:36,16,0,MySQL Error Number 1103,"I'm having MySQL server installed in my PC, it was running perfectly ... now i'm having an error coming when i'm trying to access to the server page ""GUI"". 

is there any idea about how to solve this error ...",mysql,sql,mysql-error-1064,mysql-server,,09/28/2011 10:47:29,off topic,1,40,4,"MySQL Error Number 1103 I'm having MySQL server installed in my PC, it was running perfectly ... now i'm having an error coming when i'm trying to access to the server page ""GUI"". 

is there any idea about how to solve this error ...",4
10442449,05/04/2012 03:50:14,1360437,04/27/2012 06:43:49,47,1,"Can't use ""which mysql"" in zsh, but in bash work","After Upgrade to Ubuntu 12.04 LTS, and install mysql server 5.5, I Can't use ""which mysql"" in zsh, but in bash work!!
Here is my echos:

        ZSH:
        $ whereis mysql
        mysql: /usr/bin/mysql /etc/mysql /usr/lib/mysql /usr/bin/X11/mysql /usr/share/mysql /usr/share/man/man1/mysql.1.g
        
        $ which mysql
        mysql: aliased to nocorrect mysql

---

        BASH:
        $ whereis mysql
        mysql: /usr/bin/mysql /etc/mysql /usr/lib/mysql /usr/bin/X11/mysql /usr/share/mysql /usr/share/man/man1/mysql.1.g
        
        $ which mysql
        /usr/bin/mysql

",mysql,bash,ubuntu,zsh,,05/04/2012 08:41:43,off topic,1,145,10,"Can't use ""which mysql"" in zsh, but in bash work After Upgrade to Ubuntu 12.04 LTS, and install mysql server 5.5, I Can't use ""which mysql"" in zsh, but in bash work!!
Here is my echos:

        ZSH:
        $ whereis mysql
        mysql: /usr/bin/mysql /etc/mysql /usr/lib/mysql /usr/bin/X11/mysql /usr/share/mysql /usr/share/man/man1/mysql.1.g
        
        $ which mysql
        mysql: aliased to nocorrect mysql

---

        BASH:
        $ whereis mysql
        mysql: /usr/bin/mysql /etc/mysql /usr/lib/mysql /usr/bin/X11/mysql /usr/share/mysql /usr/share/man/man1/mysql.1.g
        
        $ which mysql
        /usr/bin/mysql

",4
8496726,12/13/2011 21:54:27,1036365,11/08/2011 19:57:33,3,0,Failed to install mysql gem into Red Hat Linux,"Here's the error I keep having:

-bash-3.2$ sudo gem install mysql -- --with-mysql-config=/usr/bin/mysql_config

Building native extensions.  This could take a while...

ERROR:  Error installing mysql:
	ERROR: Failed to build gem native extension.

        /usr/local/bin/ruby extconf.rb --with-mysql-config=/usr/bin/mysql_config
checking for mysql_ssl_set()... no

checking for rb_str_set_len()... no

checking for rb_thread_start_timer()... no

checking for mysql.h... no

checking for mysql/mysql.h... no

*** extconf.rb failed ***

Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
	
--with-opt-dir
	
--without-opt-dir
	
--with-opt-include
	
--without-opt-include=${opt-dir}/include
	
--with-opt-lib
	
--without-opt-lib=${opt-dir}/lib

--with-make-prog

--without-make-prog

--srcdir=.

--curdir

--ruby=/usr/local/bin/ruby

--with-mysql-config


Gem files will remain installed in /usr/local/lib/ruby/gems/1.8/gems/mysql-2.8.1 for inspection.

Results logged to /usr/local/lib/ruby/gems/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out
-bash-3.2$ 

Any thoughts guys?

------------------------------------------------------------------------------------------
Sorry guys, I tried the following command and it worked!

       yum install mysql-devel
       gem install mysql -- --with-mysql-config=/usr/bin/mysql_config

",mysql,linux,gem,,,12/15/2011 17:55:28,off topic,1,129,9,"Failed to install mysql gem into Red Hat Linux Here's the error I keep having:

-bash-3.2$ sudo gem install mysql -- --with-mysql-config=/usr/bin/mysql_config

Building native extensions.  This could take a while...

ERROR:  Error installing mysql:
	ERROR: Failed to build gem native extension.

        /usr/local/bin/ruby extconf.rb --with-mysql-config=/usr/bin/mysql_config
checking for mysql_ssl_set()... no

checking for rb_str_set_len()... no

checking for rb_thread_start_timer()... no

checking for mysql.h... no

checking for mysql/mysql.h... no

*** extconf.rb failed ***

Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
	
--with-opt-dir
	
--without-opt-dir
	
--with-opt-include
	
--without-opt-include=${opt-dir}/include
	
--with-opt-lib
	
--without-opt-lib=${opt-dir}/lib

--with-make-prog

--without-make-prog

--srcdir=.

--curdir

--ruby=/usr/local/bin/ruby

--with-mysql-config


Gem files will remain installed in /usr/local/lib/ruby/gems/1.8/gems/mysql-2.8.1 for inspection.

Results logged to /usr/local/lib/ruby/gems/1.8/gems/mysql-2.8.1/ext/mysql_api/gem_make.out
-bash-3.2$ 

Any thoughts guys?

------------------------------------------------------------------------------------------
Sorry guys, I tried the following command and it worked!

       yum install mysql-devel
       gem install mysql -- --with-mysql-config=/usr/bin/mysql_config

",3
9163004,02/06/2012 16:00:25,984621,10/07/2011 19:37:57,259,5,MySQL - query with INNER JOIN + WHERE clause,"    SELECT `views`.* FROM `views` INNER JOIN memberships ON memberships.second_id = views.user_id WHERE (memberships.user_id = 1 OR views.user_id = 1)

I have this MySQL query - my problem is, that the second part of `WHERE` clause doesn't work, are fetched only rows, which equals **memberships.user_id = 1**, but already not **OR views.user_id = 1**.

Why not? What's wrong?",mysql,database,inner-join,where-clause,where,,open,0,59,9,"MySQL - query with INNER JOIN + WHERE clause     SELECT `views`.* FROM `views` INNER JOIN memberships ON memberships.second_id = views.user_id WHERE (memberships.user_id = 1 OR views.user_id = 1)

I have this MySQL query - my problem is, that the second part of `WHERE` clause doesn't work, are fetched only rows, which equals **memberships.user_id = 1**, but already not **OR views.user_id = 1**.

Why not? What's wrong?",5
218499,10/20/2008 13:51:34,28952,10/17/2008 14:42:07,91,5,MySQL Diff Tool,"Does anyone know any visual MySQL diff tools?

I have about 10 machines all with their own instance of MySQL.  No replication is taking place, since each machine acts independently of the others.  However, their table structures must be identical, and I would like a quick way to verify their table structures.

I'm not so concerned about the data in the tables.  However, if the tool supports table data comparisons, I'd definitely like to check that out, too.

If you've worked with a good command-line tool, I'm open to that as well.",mysql,diff,,,,07/03/2012 14:29:06,off topic,1,92,3,"MySQL Diff Tool Does anyone know any visual MySQL diff tools?

I have about 10 machines all with their own instance of MySQL.  No replication is taking place, since each machine acts independently of the others.  However, their table structures must be identical, and I would like a quick way to verify their table structures.

I'm not so concerned about the data in the tables.  However, if the tool supports table data comparisons, I'd definitely like to check that out, too.

If you've worked with a good command-line tool, I'm open to that as well.",2
3421079,08/06/2010 04:53:57,357117,06/03/2010 04:50:58,21,0,INSERT..SELECT in MySQL,"    INSERT INTO tblprofile (fldDate,fldemployeeno,fldLName,fldFName,fldMI,fldEmployeeName,
                            fldShiftCode,fldProjectGroup,fldTask,fldSuperior,fldPosition)
    SELECT now(),tblprofile.fldemployeeno,tblprofile.fldlname,tblprofile.fldfname,tblprofile.fldmi,tblprofile.fldemployeename,
           tblprofile.fldshiftcode,tblprofile.fldprojectgroup,tblprofile.fldtask,tblprofile.fldsuperior,tblprofile.fldposition
      FROM tblprofile
     WHERE tblprofile.flddate = (SELECT MAX(flddate) FROM tblprofile p
                                  WHERE p.fldemployeeno IN ('EMP0001','EMP0002','EMP0003','EMP0004','EMP0005'))
       AND tblprofile.fldemployeeno IN
           ('EMP0001','EMP0002','EMP0003','EMP0004','EMP0005');



I want to copy all current profile of all employees in a list ('EMP0001','EMP0002','EMP0003','EMP0004','EMP0005') and it seems that in my query it only insert one (1) rows..

In short, I want to try to copy all current profile of the employee from tblprofile in just one execution? Can anyone help me to do that so.. ",mysql,insert,,,,,open,0,182,3,"INSERT..SELECT in MySQL     INSERT INTO tblprofile (fldDate,fldemployeeno,fldLName,fldFName,fldMI,fldEmployeeName,
                            fldShiftCode,fldProjectGroup,fldTask,fldSuperior,fldPosition)
    SELECT now(),tblprofile.fldemployeeno,tblprofile.fldlname,tblprofile.fldfname,tblprofile.fldmi,tblprofile.fldemployeename,
           tblprofile.fldshiftcode,tblprofile.fldprojectgroup,tblprofile.fldtask,tblprofile.fldsuperior,tblprofile.fldposition
      FROM tblprofile
     WHERE tblprofile.flddate = (SELECT MAX(flddate) FROM tblprofile p
                                  WHERE p.fldemployeeno IN ('EMP0001','EMP0002','EMP0003','EMP0004','EMP0005'))
       AND tblprofile.fldemployeeno IN
           ('EMP0001','EMP0002','EMP0003','EMP0004','EMP0005');



I want to copy all current profile of all employees in a list ('EMP0001','EMP0002','EMP0003','EMP0004','EMP0005') and it seems that in my query it only insert one (1) rows..

In short, I want to try to copy all current profile of the employee from tblprofile in just one execution? Can anyone help me to do that so.. ",2
7143337,08/22/2011 05:00:02,720355,04/22/2011 09:47:58,127,1,help with query,"I have table having staffid and studentid in which staffid repeating number of times.

    staffid | studentid
    ___________________
    5       |     4
    1       |     6
    5       |     3
    5       |     4
    1       |     1

IN this way I want to select those staffid with their count in order.

staffid 5 (3)
staffid 1 (2)",mysql,,,,,08/22/2011 06:47:19,not a real question,1,121,3,"help with query I have table having staffid and studentid in which staffid repeating number of times.

    staffid | studentid
    ___________________
    5       |     4
    1       |     6
    5       |     3
    5       |     4
    1       |     1

IN this way I want to select those staffid with their count in order.

staffid 5 (3)
staffid 1 (2)",1
1995189,01/03/2010 14:55:50,231582,12/14/2009 20:02:39,13,0,"MySQL stored procedure, handling multiple cursors and query results","How can I use two cursors in the same rutine? If I remove the second cursor declaration and fetch loop everthing works fine. The rutine is used for adding a friend in my webapp. It takes the id of the current user and the email of the friend we want to add as a friend, then it checks if the email has a corresponding user id and if no friend relation exists it will create one. Any other rutine solution than this one would be great as well.

    DROP PROCEDURE IF EXISTS addNewFriend;
    DELIMITER //
    CREATE PROCEDURE addNewFriend(IN inUserId INT UNSIGNED, IN inFriendEmail VARCHAR(80))
    BEGIN
    	DECLARE tempFriendId INT UNSIGNED DEFAULT 0;
    	DECLARE tempId INT UNSIGNED DEFAULT 0;
    	DECLARE done INT DEFAULT 0;
    
    	DECLARE cur CURSOR FOR
    		SELECT id FROM users WHERE email = inFriendEmail;
    	DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
    
    	OPEN cur;
    	REPEAT
    		FETCH cur INTO tempFriendId;
    	UNTIL done  = 1 END REPEAT;
    	CLOSE cur;
    
    	DECLARE cur CURSOR FOR 
    		SELECT user_id FROM users_friends WHERE user_id = tempFriendId OR friend_id = tempFriendId;
    	DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
    
    	OPEN cur;
    	REPEAT
    		FETCH cur INTO tempId;
    	UNTIL done  = 1 END REPEAT;
    	CLOSE cur;
    
    	IF tempFriendId != 0 AND tempId != 0 THEN
    		INSERT INTO users_friends (user_id, friend_id) VALUES(inUserId, tempFriendId);
    	END IF;
    	SELECT tempFriendId as friendId;
    END //
    DELIMITER ;

",mysql,stored-procedures,sql,cursor,,,open,0,336,9,"MySQL stored procedure, handling multiple cursors and query results How can I use two cursors in the same rutine? If I remove the second cursor declaration and fetch loop everthing works fine. The rutine is used for adding a friend in my webapp. It takes the id of the current user and the email of the friend we want to add as a friend, then it checks if the email has a corresponding user id and if no friend relation exists it will create one. Any other rutine solution than this one would be great as well.

    DROP PROCEDURE IF EXISTS addNewFriend;
    DELIMITER //
    CREATE PROCEDURE addNewFriend(IN inUserId INT UNSIGNED, IN inFriendEmail VARCHAR(80))
    BEGIN
    	DECLARE tempFriendId INT UNSIGNED DEFAULT 0;
    	DECLARE tempId INT UNSIGNED DEFAULT 0;
    	DECLARE done INT DEFAULT 0;
    
    	DECLARE cur CURSOR FOR
    		SELECT id FROM users WHERE email = inFriendEmail;
    	DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
    
    	OPEN cur;
    	REPEAT
    		FETCH cur INTO tempFriendId;
    	UNTIL done  = 1 END REPEAT;
    	CLOSE cur;
    
    	DECLARE cur CURSOR FOR 
    		SELECT user_id FROM users_friends WHERE user_id = tempFriendId OR friend_id = tempFriendId;
    	DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
    
    	OPEN cur;
    	REPEAT
    		FETCH cur INTO tempId;
    	UNTIL done  = 1 END REPEAT;
    	CLOSE cur;
    
    	IF tempFriendId != 0 AND tempId != 0 THEN
    		INSERT INTO users_friends (user_id, friend_id) VALUES(inUserId, tempFriendId);
    	END IF;
    	SELECT tempFriendId as friendId;
    END //
    DELIMITER ;

",4
7862105,10/22/2011 19:39:38,927838,09/04/2011 18:31:08,29,0,Accent MySQL-Flex/ZendFramework,"In my table the Collation is:latin1_swedish_ci (but i tried UTF8_unicode too).
In my flex application when it shows the table,it displays it correct,with all accent and pointing correct,but in the table is like :"" Ã© Ã§ Ã£o Ã©a "".
",mysql,actionscript-3,flex,zend-framework,diacritics,,open,0,38,2,"Accent MySQL-Flex/ZendFramework In my table the Collation is:latin1_swedish_ci (but i tried UTF8_unicode too).
In my flex application when it shows the table,it displays it correct,with all accent and pointing correct,but in the table is like :"" Ã© Ã§ Ã£o Ã©a "".
",5
10322721,04/25/2012 19:49:21,1216697,02/17/2012 16:21:16,6,0,How to obtain all of the data from a big database?,I have a MySQL database with more than 8 years in use. The count or records is more than 50000. I think that the design and structure of this DB is not the best and i want to pass all of the data to a new DB designed and created by me. I have a couple of options but no one of them convince me. Please give me options to achieve that.,mysql,database,,,,04/26/2012 13:27:22,not a real question,1,72,11,How to obtain all of the data from a big database? I have a MySQL database with more than 8 years in use. The count or records is more than 50000. I think that the design and structure of this DB is not the best and i want to pass all of the data to a new DB designed and created by me. I have a couple of options but no one of them convince me. Please give me options to achieve that.,2
3174623,07/04/2010 12:22:18,244005,01/05/2010 15:00:18,134,3,MySQL vs SQL Server ?,"I am interested in people's opinions on MySQL vs SQL Server. Our database is fairly simple;
no stored procedures, and we use NHibernate as our ORM layer. I would like to make a case for switching from SQL Server to MySQL cluster on Linux. We need an enterprise level, clustered
DB with failover and load balancing. Any opinions pro or con would be very much appreciated!",mysql,sql-server,cluster-computing,,,07/05/2010 12:10:01,off topic,1,64,5,"MySQL vs SQL Server ? I am interested in people's opinions on MySQL vs SQL Server. Our database is fairly simple;
no stored procedures, and we use NHibernate as our ORM layer. I would like to make a case for switching from SQL Server to MySQL cluster on Linux. We need an enterprise level, clustered
DB with failover and load balancing. Any opinions pro or con would be very much appreciated!",3
4194991,11/16/2010 14:10:16,488500,10/27/2010 08:00:52,1,0,mysql db connection,"i have been searching the web for a connection between my android simulator and a mysql db. <br>I've fount that you can't connect directly but via a webserver. The webserver wil handle my request from my android. I fount the following code on www.helloandroid.com<br>
But i don't understand. If i run this code on the simulator nothing happens. The screen stays black.
Where does Log.i land. In the android screen or in the error log or somewhere else?<br>
Can somebody help me with this code?
 

    package app.android.ticket;

    import java.io.BufferedReader;
    import java.io.InputStream;
    import java.io.InputStreamReader;
    import java.util.ArrayList;

    import org.apache.http.HttpEntity;
    import org.apache.http.HttpResponse;
    import org.apache.http.NameValuePair;
    import org.apache.http.client.HttpClient;
    import org.apache.http.client.entity.UrlEncodedFormEntity;
    import org.apache.http.client.methods.HttpPost;
    import org.apache.http.impl.client.DefaultHttpClient;
    import org.apache.http.message.BasicNameValuePair;
    import org.json.JSONArray;
    import org.json.JSONException;
    import org.json.JSONObject;

    import android.app.Activity;
    import android.os.Bundle;
    import android.util.Log;


    public class fetchData extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
      //call the method to run the data retreival
        getServerData();
       

    }
    public static final String KEY_121 = ""http://www.jorisdek.nl/android/getAllPeopleBornAfter.php"";
   
    public fetchData() {
    	Log.e(""fetchData"", ""Initialized ServerLink "");
    }

    private void getServerData() {
    	InputStream is = null;
    	String result = """";

        //the year data to send
        ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
        nameValuePairs.add(new BasicNameValuePair(""year"",""1980""));
        
        //http post
        try{
                HttpClient httpclient = new DefaultHttpClient();
                HttpPost httppost = new HttpPost(KEY_121);
                httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                HttpResponse response = httpclient.execute(httppost);
                HttpEntity entity = response.getEntity();
                is = entity.getContent();

        }catch(Exception e){
                Log.e(""log_tag"", ""Error in http connection ""+e.toString());
        }

        //convert response to string
        try{
    			BufferedReader reader = new BufferedReader(new InputStreamReader(is,""iso-8859-1""),8);
                StringBuilder sb = new StringBuilder();
                String line = null;
                while ((line = reader.readLine()) != null) {
                        sb.append(line + ""\n"");
                }
                is.close();
                result=sb.toString();
        }catch(Exception e){
                Log.e(""log_tag"", ""Error converting result ""+e.toString());
        }
        //parse json data
        try{
                JSONArray jArray = new JSONArray(result);
                for(int i=0;i<jArray.length();i++){
                        JSONObject json_data = jArray.getJSONObject(i);
                        Log.i(""log_tag"",""id: ""+json_data.getInt(""id"")+
                                "", name: ""+json_data.getString(""name"")+
                                "", sex: ""+json_data.getInt(""sex"")+
                                "", birthyear: ""+json_data.getInt(""birthyear"")
                        );
                }
        }catch(JSONException e){
                Log.e(""log_tag"", ""Error parsing data ""+e.toString());
        }
		
	}
}    

",mysql,android,database,connect,,,open,0,1009,3,"mysql db connection i have been searching the web for a connection between my android simulator and a mysql db. <br>I've fount that you can't connect directly but via a webserver. The webserver wil handle my request from my android. I fount the following code on www.helloandroid.com<br>
But i don't understand. If i run this code on the simulator nothing happens. The screen stays black.
Where does Log.i land. In the android screen or in the error log or somewhere else?<br>
Can somebody help me with this code?
 

    package app.android.ticket;

    import java.io.BufferedReader;
    import java.io.InputStream;
    import java.io.InputStreamReader;
    import java.util.ArrayList;

    import org.apache.http.HttpEntity;
    import org.apache.http.HttpResponse;
    import org.apache.http.NameValuePair;
    import org.apache.http.client.HttpClient;
    import org.apache.http.client.entity.UrlEncodedFormEntity;
    import org.apache.http.client.methods.HttpPost;
    import org.apache.http.impl.client.DefaultHttpClient;
    import org.apache.http.message.BasicNameValuePair;
    import org.json.JSONArray;
    import org.json.JSONException;
    import org.json.JSONObject;

    import android.app.Activity;
    import android.os.Bundle;
    import android.util.Log;


    public class fetchData extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
      //call the method to run the data retreival
        getServerData();
       

    }
    public static final String KEY_121 = ""http://www.jorisdek.nl/android/getAllPeopleBornAfter.php"";
   
    public fetchData() {
    	Log.e(""fetchData"", ""Initialized ServerLink "");
    }

    private void getServerData() {
    	InputStream is = null;
    	String result = """";

        //the year data to send
        ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
        nameValuePairs.add(new BasicNameValuePair(""year"",""1980""));
        
        //http post
        try{
                HttpClient httpclient = new DefaultHttpClient();
                HttpPost httppost = new HttpPost(KEY_121);
                httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                HttpResponse response = httpclient.execute(httppost);
                HttpEntity entity = response.getEntity();
                is = entity.getContent();

        }catch(Exception e){
                Log.e(""log_tag"", ""Error in http connection ""+e.toString());
        }

        //convert response to string
        try{
    			BufferedReader reader = new BufferedReader(new InputStreamReader(is,""iso-8859-1""),8);
                StringBuilder sb = new StringBuilder();
                String line = null;
                while ((line = reader.readLine()) != null) {
                        sb.append(line + ""\n"");
                }
                is.close();
                result=sb.toString();
        }catch(Exception e){
                Log.e(""log_tag"", ""Error converting result ""+e.toString());
        }
        //parse json data
        try{
                JSONArray jArray = new JSONArray(result);
                for(int i=0;i<jArray.length();i++){
                        JSONObject json_data = jArray.getJSONObject(i);
                        Log.i(""log_tag"",""id: ""+json_data.getInt(""id"")+
                                "", name: ""+json_data.getString(""name"")+
                                "", sex: ""+json_data.getInt(""sex"")+
                                "", birthyear: ""+json_data.getInt(""birthyear"")
                        );
                }
        }catch(JSONException e){
                Log.e(""log_tag"", ""Error parsing data ""+e.toString());
        }
		
	}
}    

",4
8147655,11/16/2011 06:33:54,714805,04/19/2011 08:30:40,3,1,MySQL Stored Routine Nested Cursor Issue,"I need to loop through every record in first cursor ""age_cur"" and check the v_age value is in between of the from_value and to_value of second cursor ""def_cur"" and update the table with the matching display_value. When I run this it only update only one record. Which is the first record. Could any one tell me the issue.

Following is my code

        CREATE PROCEDURE  `dw`.`age_bucket_loader` ()
    BEGIN
        DECLARE v_person_key int;
        DECLARE v_age int;
        DECLARE v_age_bucket varchar(20);
        DECLARE v_from_value int;
        DECLARE v_to_value int;
        DECLARE v_notfound BOOL default FALSE; 
        DECLARE age_cur CURSOR FOR SELECT a.person_key,age 
                                    FROM `person_dim` a where a.person_id in (1,3,39,40,44,46,52,55);
        DECLARE def_cur CURSOR FOR SELECT b.display_value,b.from_value,b.to_value 
                                    FROM `bucket_def` b where b.derivation_column='age';
        DECLARE continue handler for not found set v_notfound := TRUE;      
        OPEN age_cur;
        OPEN def_cur;
            age_cur_loop:LOOP
                FETCH age_cur into v_person_key,v_age;
    
                def_cur_loop:Loop
                    FETCH def_cur into v_age_bucket,v_from_value,v_to_value;
                    if v_age >= v_from_value and v_age <= v_to_value then 
                        Update `person_dim` set age_bucket=v_age_bucket where person_key=v_person_key and person_id in (1,3,39,40,44,46,52,55); 
                    end if;
                   -- if v_notfound then           
                   --     leave age_cur_loop;
                   -- end if;
                END LOOP def_cur_loop;
            END LOOP age_cur_loop;
        CLOSE def_cur;
        CLOSE age_cur;
    END;

Thanks in  Advance
Pathum",mysql,stored-procedures,nested,cursors,,,open,0,585,6,"MySQL Stored Routine Nested Cursor Issue I need to loop through every record in first cursor ""age_cur"" and check the v_age value is in between of the from_value and to_value of second cursor ""def_cur"" and update the table with the matching display_value. When I run this it only update only one record. Which is the first record. Could any one tell me the issue.

Following is my code

        CREATE PROCEDURE  `dw`.`age_bucket_loader` ()
    BEGIN
        DECLARE v_person_key int;
        DECLARE v_age int;
        DECLARE v_age_bucket varchar(20);
        DECLARE v_from_value int;
        DECLARE v_to_value int;
        DECLARE v_notfound BOOL default FALSE; 
        DECLARE age_cur CURSOR FOR SELECT a.person_key,age 
                                    FROM `person_dim` a where a.person_id in (1,3,39,40,44,46,52,55);
        DECLARE def_cur CURSOR FOR SELECT b.display_value,b.from_value,b.to_value 
                                    FROM `bucket_def` b where b.derivation_column='age';
        DECLARE continue handler for not found set v_notfound := TRUE;      
        OPEN age_cur;
        OPEN def_cur;
            age_cur_loop:LOOP
                FETCH age_cur into v_person_key,v_age;
    
                def_cur_loop:Loop
                    FETCH def_cur into v_age_bucket,v_from_value,v_to_value;
                    if v_age >= v_from_value and v_age <= v_to_value then 
                        Update `person_dim` set age_bucket=v_age_bucket where person_key=v_person_key and person_id in (1,3,39,40,44,46,52,55); 
                    end if;
                   -- if v_notfound then           
                   --     leave age_cur_loop;
                   -- end if;
                END LOOP def_cur_loop;
            END LOOP age_cur_loop;
        CLOSE def_cur;
        CLOSE age_cur;
    END;

Thanks in  Advance
Pathum",4
3079119,06/20/2010 11:53:40,338436,05/11/2010 15:32:15,78,0,need MySQL optimization help,"I have done some testing to Mysql server and I got some results

1) it says maximum table cahce size is 64 and you have 84 open table. so Increase table cache size.

My question is why this much table is opened?? is it a failure in closing tables?? or it is like that??",mysql,apache,,,,,open,0,52,4,"need MySQL optimization help I have done some testing to Mysql server and I got some results

1) it says maximum table cahce size is 64 and you have 84 open table. so Increase table cache size.

My question is why this much table is opened?? is it a failure in closing tables?? or it is like that??",2
3972565,10/19/2010 20:39:00,370029,06/18/2010 06:35:35,1,0,Performance: UUID vs auto-increment in cakephp-mysql,"I was searching if UUID generated by cakePHP (32 char long) is faster in performance compared to auto-increment. Comparison in both inserts and Select operation.
Which one should I use UUID generated by cakePHP or by using simple auto-increment of MySQL

Here's is a case-study I found but its not specific to cakePHP

[http://krow.livejournal.com/497839.html][1]


  [1]: http://krow.livejournal.com/497839.html",mysql,performance,cakephp,primary-key,,,open,0,54,6,"Performance: UUID vs auto-increment in cakephp-mysql I was searching if UUID generated by cakePHP (32 char long) is faster in performance compared to auto-increment. Comparison in both inserts and Select operation.
Which one should I use UUID generated by cakePHP or by using simple auto-increment of MySQL

Here's is a case-study I found but its not specific to cakePHP

[http://krow.livejournal.com/497839.html][1]


  [1]: http://krow.livejournal.com/497839.html",4
10901402,06/05/2012 16:47:10,1197802,02/08/2012 17:16:08,75,6,SqlServers Engine,"I just want to know if `SQLSERVER` has engines, like `MySql` has Innodb and MyIsam, or something like those?

Any advice will be usefull to me.",mysql,sql-server,,,,06/06/2012 03:31:54,off topic,1,25,2,"SqlServers Engine I just want to know if `SQLSERVER` has engines, like `MySql` has Innodb and MyIsam, or something like those?

Any advice will be usefull to me.",2
9467804,02/27/2012 15:43:03,1235898,02/27/2012 15:21:14,1,0,SQL Syntax error - can't find the error," CREATE TABLE 'categories' <br/> 
('id' SMALLINT NOT NULL AUTO_INCREMENT, <br />
'category' VARCHAR(30) NOT NULL, <br/>
PRIMARY KEY ('id'),<br/>
UNIQUE KEY 'category' ('category') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'orders' ( <br />
'id' INT UNSIGNED NOT NULL AUTO_INCREMENT, <br/>
'user_id' INT UNSIGNED NOT NULL, <br />
'transaction_id' VARCHAR(19) NOT NULL, <br />
'payment_status' VARCHAR(15) NOT NULL, <br />
'payment_amount' DECIMAL(6,2) UNSIGNED NOT NULL, <br />
'payment_date_time' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
PRIMARY KEY ('id'), <br />
KEY 'user_id' ('user_id') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'pages' ( <br />
'id' MEDIUMINT UNSIGNED NOT NULL AUTO_INCREMENT, <br />
'category_id' SMALLINT UNSIGNED NOT NULL, <br />
'title' VARCHAR(100) NOT NULL, <br />
'description' TINYTEXT NOT NULL, <br />
'content' LONGTEXT NOT NULL, <br />
'date_created' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
PRIMARY KEY ('id'), <br />
KEY 'category_id' ('category_id'), <br />
KEY 'creation_date' ('date_created') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'pdfs' ( <br />
'id' SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT, <br />
'tmp_name' CHAR(40) NOT NULL, <br />
'title' VARCHAR(100) NOT NULL, <br />
'description' TINYTEXT NOT NULL, <br />
'file_name' VARCHAR(40) NOT NULL, <br />
'size' MEDIUMINT UNSIGNED NOT NULL, <br />
'date_created' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
PRIMARY KEY ('id'), <br />
UNIQUE KEY 'tmp_name' ('tmp_name'), <br />
KEY 'date_created' ('date_created') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'users' ( <br />
'id' INT UNSIGNED NOT NULL AUTO_INCREMENT, <br />
'type' ENUM ('member','admin') NOT NULL, <br />
'username' VARCHAR(30) NOT NULL, <br />
'email' VARCHAR(80) NOT NULL, <br />
'pass' VARBINARY(32) NOT NULL, <br />
'first_name' VARCHAR(20) NOT NULL, <br />
'last_name' VARCHAR (40) NOT NULL, <br />
'date_expires' DATE NOT NULL, <br />
'date_created' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
'date_modified' TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00', <br />
PRIMARY KEY ('id'), <br />
UNIQUE KEY 'username' ('username'), <br />
UNIQUE KEY 'email' ('email') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />

.............................................................................

I cannot find the SQL error here.

MySQL said: 

#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''categories' 
('id' SMALLINT NOT NULL AUTO_INCREMENT,
'category' VARCHAR(30) NOT' at line 1 

Please help. I am using MySQL 4.4.x on a shared server.",mysql,sql,,,,02/28/2012 16:05:02,too localized,1,340,8,"SQL Syntax error - can't find the error  CREATE TABLE 'categories' <br/> 
('id' SMALLINT NOT NULL AUTO_INCREMENT, <br />
'category' VARCHAR(30) NOT NULL, <br/>
PRIMARY KEY ('id'),<br/>
UNIQUE KEY 'category' ('category') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'orders' ( <br />
'id' INT UNSIGNED NOT NULL AUTO_INCREMENT, <br/>
'user_id' INT UNSIGNED NOT NULL, <br />
'transaction_id' VARCHAR(19) NOT NULL, <br />
'payment_status' VARCHAR(15) NOT NULL, <br />
'payment_amount' DECIMAL(6,2) UNSIGNED NOT NULL, <br />
'payment_date_time' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
PRIMARY KEY ('id'), <br />
KEY 'user_id' ('user_id') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'pages' ( <br />
'id' MEDIUMINT UNSIGNED NOT NULL AUTO_INCREMENT, <br />
'category_id' SMALLINT UNSIGNED NOT NULL, <br />
'title' VARCHAR(100) NOT NULL, <br />
'description' TINYTEXT NOT NULL, <br />
'content' LONGTEXT NOT NULL, <br />
'date_created' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
PRIMARY KEY ('id'), <br />
KEY 'category_id' ('category_id'), <br />
KEY 'creation_date' ('date_created') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'pdfs' ( <br />
'id' SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT, <br />
'tmp_name' CHAR(40) NOT NULL, <br />
'title' VARCHAR(100) NOT NULL, <br />
'description' TINYTEXT NOT NULL, <br />
'file_name' VARCHAR(40) NOT NULL, <br />
'size' MEDIUMINT UNSIGNED NOT NULL, <br />
'date_created' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
PRIMARY KEY ('id'), <br />
UNIQUE KEY 'tmp_name' ('tmp_name'), <br />
KEY 'date_created' ('date_created') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />
CREATE TABLE 'users' ( <br />
'id' INT UNSIGNED NOT NULL AUTO_INCREMENT, <br />
'type' ENUM ('member','admin') NOT NULL, <br />
'username' VARCHAR(30) NOT NULL, <br />
'email' VARCHAR(80) NOT NULL, <br />
'pass' VARBINARY(32) NOT NULL, <br />
'first_name' VARCHAR(20) NOT NULL, <br />
'last_name' VARCHAR (40) NOT NULL, <br />
'date_expires' DATE NOT NULL, <br />
'date_created' TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, <br />
'date_modified' TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00', <br />
PRIMARY KEY ('id'), <br />
UNIQUE KEY 'username' ('username'), <br />
UNIQUE KEY 'email' ('email') <br />
) ENGINE=MyISAM DEFAULT CHARSET=utf8; <br />

.............................................................................

I cannot find the SQL error here.

MySQL said: 

#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''categories' 
('id' SMALLINT NOT NULL AUTO_INCREMENT,
'category' VARCHAR(30) NOT' at line 1 

Please help. I am using MySQL 4.4.x on a shared server.",2
3201157,07/08/2010 06:30:42,338436,05/11/2010 15:32:15,129,0,What willl be the fast method for a domain store in MySQL??,"I want to store domain names(example:google.com - without ""http://"" and ""www"")in MySQL as primary key+Index.

so when I call a domain through PHP I should get the result according to that domain faster.
Right now I am inserting domain in plain text.

is it right way to do it?? or do I need to hash it??

your Ideas please
",mysql,database,database-design,,,,open,0,55,12,"What willl be the fast method for a domain store in MySQL?? I want to store domain names(example:google.com - without ""http://"" and ""www"")in MySQL as primary key+Index.

so when I call a domain through PHP I should get the result according to that domain faster.
Right now I am inserting domain in plain text.

is it right way to do it?? or do I need to hash it??

your Ideas please
",3
8245733,11/23/2011 16:31:31,1054005,11/18/2011 14:38:05,1,0,"In mysql what does the regex statement ""...REGEXP '\w'"" do or return?",In mysql what does the regex statement REGEXP '\w' do/return? Is it at all like the perl \w?,mysql,regex,,,,,open,0,18,12,"In mysql what does the regex statement ""...REGEXP '\w'"" do or return? In mysql what does the regex statement REGEXP '\w' do/return? Is it at all like the perl \w?",2
6610240,07/07/2011 12:00:27,591043,01/26/2011 17:44:36,63,4,formula for mysql performance wid number of queries,"Is there a formula that relates to the number of queries and the impact on response time from a MySQL database?

or any other simple understanding that we can know how much our website can hold up depends on the number of hits.",mysql,database,,,,07/07/2011 12:27:46,not a real question,1,42,8,"formula for mysql performance wid number of queries Is there a formula that relates to the number of queries and the impact on response time from a MySQL database?

or any other simple understanding that we can know how much our website can hold up depends on the number of hits.",2
105645,09/19/2008 21:09:32,16522,09/17/2008 17:55:56,1,2,Injecting a user account into mySQL,"Tackling a strange scenario here. 

We use a proprietary workstation management application which uses mySQL to store its data. Within the application they provide number of reports, such as which user logged into which machine at what time, all the software products installed on the monitored machines, so on and so forth. We are looking to do a different set of reports, however, they do not support custom reports.

Since their data is being stored in mySQL, I gather I can do the reporting manually. I don't have valid credentials to connect to the mySQL server though. <b>Is there anyway for me to create a user account in the mySQL server?</b> I do not want to reset the root password or anything account that might be in there, as it might break the application.

Thanks for your help.


",mysql,account,management,,,,open,0,136,6,"Injecting a user account into mySQL Tackling a strange scenario here. 

We use a proprietary workstation management application which uses mySQL to store its data. Within the application they provide number of reports, such as which user logged into which machine at what time, all the software products installed on the monitored machines, so on and so forth. We are looking to do a different set of reports, however, they do not support custom reports.

Since their data is being stored in mySQL, I gather I can do the reporting manually. I don't have valid credentials to connect to the mySQL server though. <b>Is there anyway for me to create a user account in the mySQL server?</b> I do not want to reset the root password or anything account that might be in there, as it might break the application.

Thanks for your help.


",3
3114767,06/25/2010 00:08:17,185921,10/07/2009 20:13:54,438,9,SQL INSERT: skip values allready present,"I'm trying to add sequence of tags to a list subjects.
I wouldn't make unique `tag` column field because I may have the same duplicate depending by the user language like in the example

    table_houses
    id          name                    location
    1           Victoria's Home         New York
    2           Black Mesa Lab          New Mexico
    3           Tube                    London

    table_tags
    id          tag          id_subjects       language
    1           garage       1                 it
    2           garage       2                 fr
    3           research     3                 en
    4           lab          3                 en
    5           laboratorio  3                 it
    6           garage       1                 it <== how to avoid this duplicated INSERT like first row?



I've saw some example where people uses `INSERT IGNORE INTO` statement but I've got It works only with unique columns and it is used to skip duplicate errors.

Does exist some way to skip duplicate tags for the same language only?",mysql,insert,skip,duplicate,,,open,0,474,6,"SQL INSERT: skip values allready present I'm trying to add sequence of tags to a list subjects.
I wouldn't make unique `tag` column field because I may have the same duplicate depending by the user language like in the example

    table_houses
    id          name                    location
    1           Victoria's Home         New York
    2           Black Mesa Lab          New Mexico
    3           Tube                    London

    table_tags
    id          tag          id_subjects       language
    1           garage       1                 it
    2           garage       2                 fr
    3           research     3                 en
    4           lab          3                 en
    5           laboratorio  3                 it
    6           garage       1                 it <== how to avoid this duplicated INSERT like first row?



I've saw some example where people uses `INSERT IGNORE INTO` statement but I've got It works only with unique columns and it is used to skip duplicate errors.

Does exist some way to skip duplicate tags for the same language only?",4
4708425,01/16/2011 22:11:50,411954,08/05/2010 12:47:46,96,1,"Apache, MySQL, and clean URLs as queries","I'm interested in configuring Apache similarly to Drupal in the way it uses clean URLs as MySQL queries and can create path aliases. I have no idea how to do any of this, so please help get me started :)",mysql,apache,drupal,query,,,open,0,40,7,"Apache, MySQL, and clean URLs as queries I'm interested in configuring Apache similarly to Drupal in the way it uses clean URLs as MySQL queries and can create path aliases. I have no idea how to do any of this, so please help get me started :)",4
8919213,01/18/2012 23:43:35,427992,08/23/2010 03:01:01,486,27,MySQL best practice: Updating relational databases,"I have a main MySQL table which holds products.  Any multiple fields for each product are housed in relational databases (such as products_colour, products_photos, etc.)  Every time I update a product, I'm unsure as to what's the best practice to do:

 1. `DELETE` all rows in relational databases which correspond to the product being updated, and `INSERT` all the new fields into a relatively fresh table;
 2. Only `DELETE` those rows in relational databases which are no longer required, and `INSERT` the brand new rows which are not already there.


The first option blanket deletes everything and inserts fresh data every time the product is updated; the second option searches for extant values, calculates whether they clash, deletes them if so, and inserts the remaining data. Or something along those lines...

In terms of best practice, what's the best thing to do?  Does it really matter if I go with the first one?  Would it make *that* much difference to MySQL performance?  ",mysql,database-design,relational-database,,,,open,0,166,6,"MySQL best practice: Updating relational databases I have a main MySQL table which holds products.  Any multiple fields for each product are housed in relational databases (such as products_colour, products_photos, etc.)  Every time I update a product, I'm unsure as to what's the best practice to do:

 1. `DELETE` all rows in relational databases which correspond to the product being updated, and `INSERT` all the new fields into a relatively fresh table;
 2. Only `DELETE` those rows in relational databases which are no longer required, and `INSERT` the brand new rows which are not already there.


The first option blanket deletes everything and inserts fresh data every time the product is updated; the second option searches for extant values, calculates whether they clash, deletes them if so, and inserts the remaining data. Or something along those lines...

In terms of best practice, what's the best thing to do?  Does it really matter if I go with the first one?  Would it make *that* much difference to MySQL performance?  ",3
6325990,06/13/2011 01:52:50,788263,06/07/2011 21:19:55,28,0,"Best cloud hosted database solution for 900,000 row database that has to be updated daily?","A company we deal with sends us a ~900,000 row CSV daily of their product listings.

I want to store this in the cloud with someone else handling patching, administration, etc.  The underlying engine does not matter (mysql, sql server, mongo couchdb, etc.).

The major requirement though is that there is some way to automatically flush and load the database from CSV without doing 900,000 INSERT statements or the equivalent every day.  Like with SQL Server, we could use bcp, or with mySQL, we could do mysqlimport.  The listings change so much from day to day, that doing a diff of today's vs. yesterday's doesn't make sense.

It will only be queried 400-500 times per day and not concurrently.  Just a one off query about 400-500 times per day. But the data all has to be there and updated daily.

Any suggestions?  We're looking into mongohq, windows azure, xeround, and stuff like that.",mysql,database,mongodb,couchdb,cloud,06/13/2011 03:05:17,off topic,1,154,15,"Best cloud hosted database solution for 900,000 row database that has to be updated daily? A company we deal with sends us a ~900,000 row CSV daily of their product listings.

I want to store this in the cloud with someone else handling patching, administration, etc.  The underlying engine does not matter (mysql, sql server, mongo couchdb, etc.).

The major requirement though is that there is some way to automatically flush and load the database from CSV without doing 900,000 INSERT statements or the equivalent every day.  Like with SQL Server, we could use bcp, or with mySQL, we could do mysqlimport.  The listings change so much from day to day, that doing a diff of today's vs. yesterday's doesn't make sense.

It will only be queried 400-500 times per day and not concurrently.  Just a one off query about 400-500 times per day. But the data all has to be there and updated daily.

Any suggestions?  We're looking into mongohq, windows azure, xeround, and stuff like that.",5
3228094,07/12/2010 11:34:28,237363,12/23/2009 04:53:33,943,82,how returns the boolean value from function in mysql?,"i have column a ,column b in emp table. i like to retrieve values from that column find the difference between them. if i get 0 as difference i will return true else i will return false using functions.i am new to database so only i don't know how to do this. ",mysql,,,,,,open,0,53,9,"how returns the boolean value from function in mysql? i have column a ,column b in emp table. i like to retrieve values from that column find the difference between them. if i get 0 as difference i will return true else i will return false using functions.i am new to database so only i don't know how to do this. ",1
4562456,12/30/2010 12:08:28,429443,08/24/2010 11:24:54,106,1,MySQL: setting time_zone in my.cnf options file,"In MySQL you can set a session variable called **time_zone** to change the timezone. This is useful e.g. when looking at timestamps from another country. Here is an example:

    mysql> select now();
    +---------------------+
    | now()               |
    +---------------------+
    | 2010-12-30 18:59:18 |
    +---------------------+
    1 row in set (0.00 sec)
    
    mysql> set time_zone='Brazil/East';
    Query OK, 0 rows affected (0.00 sec)
    
    mysql> select now();
    +---------------------+
    | now()               |
    +---------------------+
    | 2010-12-30 09:59:29 |
    +---------------------+
    1 row in set (0.00 sec)

Is it possible to put that in an option file e.g. .my.cnf ?

When I try, it doesn't work. All I get is:

>     mysql: unknown variable 'time_zone=Brazil/East'

",mysql,timezone,my.cnf,,,,open,0,190,7,"MySQL: setting time_zone in my.cnf options file In MySQL you can set a session variable called **time_zone** to change the timezone. This is useful e.g. when looking at timestamps from another country. Here is an example:

    mysql> select now();
    +---------------------+
    | now()               |
    +---------------------+
    | 2010-12-30 18:59:18 |
    +---------------------+
    1 row in set (0.00 sec)
    
    mysql> set time_zone='Brazil/East';
    Query OK, 0 rows affected (0.00 sec)
    
    mysql> select now();
    +---------------------+
    | now()               |
    +---------------------+
    | 2010-12-30 09:59:29 |
    +---------------------+
    1 row in set (0.00 sec)

Is it possible to put that in an option file e.g. .my.cnf ?

When I try, it doesn't work. All I get is:

>     mysql: unknown variable 'time_zone=Brazil/East'

",3
5281635,03/12/2011 09:10:50,504715,11/11/2010 15:53:11,360,0,Getting page blocks,"I have three tables: pages, blocks and pages_blocks.

My database schema looks as follow:

    CREATE TABLE `blocks` (
      `id` smallint(6) NOT NULL AUTO_INCREMENT,
      `name` char(40) NOT NULL,
      `content` text NOT NULL
      PRIMARY KEY (`id`)
    );
     
    CREATE TABLE `pages` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `title` char(100) NOT NULL,
      `content` mediumtext NOT NULL
      PRIMARY KEY (`id`)
    );
     
    CREATE TABLE `pages_blocks` (
      `page_id` int(11) DEFAULT NULL,
      `block_id` smallint(6) DEFAULT NULL,
      `location` enum('left','right') DEFAULT NULL,
      `display_order` smallint(6) DEFAULT NULL
    );

What would be the perfect SQL code to grab the ""left"" and ""right"" blocks for a specific page?

Your help is much appreciated.",mysql,sql,many-to-many,,,,open,0,185,3,"Getting page blocks I have three tables: pages, blocks and pages_blocks.

My database schema looks as follow:

    CREATE TABLE `blocks` (
      `id` smallint(6) NOT NULL AUTO_INCREMENT,
      `name` char(40) NOT NULL,
      `content` text NOT NULL
      PRIMARY KEY (`id`)
    );
     
    CREATE TABLE `pages` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `title` char(100) NOT NULL,
      `content` mediumtext NOT NULL
      PRIMARY KEY (`id`)
    );
     
    CREATE TABLE `pages_blocks` (
      `page_id` int(11) DEFAULT NULL,
      `block_id` smallint(6) DEFAULT NULL,
      `location` enum('left','right') DEFAULT NULL,
      `display_order` smallint(6) DEFAULT NULL
    );

What would be the perfect SQL code to grab the ""left"" and ""right"" blocks for a specific page?

Your help is much appreciated.",3
10307906,04/25/2012 00:39:02,1174510,01/27/2012 22:32:37,52,3,Is Data Mapper Code Igniter Slow?,"I have been working on a relational data base with code igniter and found out that DataMapper is useless for serious project. Code igniter's Active record is useless as it is not providing  a many to many or one to many methodology as well. DataMapper is slow and non configurable!

> 1. It loads the whole table to an object when you query.
> 2. When you put ""A"" in the first time the second time you put an ""A"" you will have 2 As in the data base. It does not have the Ignore
> option like SQL.And you have to query for an item to see if it exist ,
> if not ,then Insert it.
> 3. They did a lot coding for it but it does not seem to be any good for making a huge data base
> 4. It is not fast for querying.

Is that seem to be the consensus among the community. Do you recommend using pure mysql in the php to do operations on many to many and one to many? Or do you think I am wrong! Please feel free to advise me on that.
My question is what do you use to do your data base with as a professional web designer?
",mysql,codeigniter,phpmyadmin,codeigniter-datamapper,,04/26/2012 12:31:06,not constructive,1,206,6,"Is Data Mapper Code Igniter Slow? I have been working on a relational data base with code igniter and found out that DataMapper is useless for serious project. Code igniter's Active record is useless as it is not providing  a many to many or one to many methodology as well. DataMapper is slow and non configurable!

> 1. It loads the whole table to an object when you query.
> 2. When you put ""A"" in the first time the second time you put an ""A"" you will have 2 As in the data base. It does not have the Ignore
> option like SQL.And you have to query for an item to see if it exist ,
> if not ,then Insert it.
> 3. They did a lot coding for it but it does not seem to be any good for making a huge data base
> 4. It is not fast for querying.

Is that seem to be the consensus among the community. Do you recommend using pure mysql in the php to do operations on many to many and one to many? Or do you think I am wrong! Please feel free to advise me on that.
My question is what do you use to do your data base with as a professional web designer?
",4
1036454,06/24/2009 04:49:31,339,08/04/2008 18:45:47,182,8,What are the diffrences between utf8_general_ci and utf8_unicode_ci?,"I've got two options for unicode that look promising for a mysql database.

    utf8_general_ci unicode (multilingual), case-insensitive
    utf8_unicode_ci unicode (multilingual), case-insensitive

Can you please explain what is the difference between utf8_general_ci and utf8_unicode_ci? What are the effects of choosing one over the other when designing a database?",mysql,unicode,character-encoding,,,,open,0,52,8,"What are the diffrences between utf8_general_ci and utf8_unicode_ci? I've got two options for unicode that look promising for a mysql database.

    utf8_general_ci unicode (multilingual), case-insensitive
    utf8_unicode_ci unicode (multilingual), case-insensitive

Can you please explain what is the difference between utf8_general_ci and utf8_unicode_ci? What are the effects of choosing one over the other when designing a database?",3
8581369,12/20/2011 20:15:35,1108596,12/20/2011 20:02:49,1,0,Need help transforming a dataset from multiple rows to a single row,"I have a database (MySQL) that holds cost records for some of our customers (each customer has a different cost for items). Any given cost record has an effective date range (ie, the cost is valid for a given time frame). Here's some sample data:

    Customer    ItemNumber    EffectDate    Counter    Cost
    ABC123      ITEM101       2011-12-01          0    $1.00
    ABC123      ITEM101       2011-12-10          0    $1.20
    ABC123      ITEM101       2011-12-10          1    $1.25
    DEF456      ITEM101       2011-11-15          0    $1.10
    DEF456      ITEM101       2011-12-01          0    $1.12

To make some sense of that data, the ""Counter"" variable is the number of times it's been changed (this is from an antiquated accounting platform), and the date is the ""Beginning Date"" of the cost. So, ITEM101 for customer ABC123 will have a cost of $1.00 on 12/1/2011 and 12/8/2011, but starting 12/10/2011, will be $1.25 (would be $1.20, but the Counter has gone up - ie the cost is $1.25 now). I hope that makes sense.

What I'm trying to do is to get the data to come out as follows:

    Customer    ItemNumber    EffectiveBegin    EffectiveEnd    Cost
    ABC123      ITEM101       2011-12-01        2011-12-09      $1.00
    ABC123      ITEM101       2011-12-10        2099-12-31      $1.25
    DEF456      ITEM101       2011-11-15        2011-11-30      $1.10
    DEF456      ITEM101       2011-12-01        2099-12-31      $1.12

Where 12/31/2099 is just a placeholder date for ""Current"".

Any help would be HUGELY appreciated!!",mysql,sql,database,tsql,,,open,0,467,12,"Need help transforming a dataset from multiple rows to a single row I have a database (MySQL) that holds cost records for some of our customers (each customer has a different cost for items). Any given cost record has an effective date range (ie, the cost is valid for a given time frame). Here's some sample data:

    Customer    ItemNumber    EffectDate    Counter    Cost
    ABC123      ITEM101       2011-12-01          0    $1.00
    ABC123      ITEM101       2011-12-10          0    $1.20
    ABC123      ITEM101       2011-12-10          1    $1.25
    DEF456      ITEM101       2011-11-15          0    $1.10
    DEF456      ITEM101       2011-12-01          0    $1.12

To make some sense of that data, the ""Counter"" variable is the number of times it's been changed (this is from an antiquated accounting platform), and the date is the ""Beginning Date"" of the cost. So, ITEM101 for customer ABC123 will have a cost of $1.00 on 12/1/2011 and 12/8/2011, but starting 12/10/2011, will be $1.25 (would be $1.20, but the Counter has gone up - ie the cost is $1.25 now). I hope that makes sense.

What I'm trying to do is to get the data to come out as follows:

    Customer    ItemNumber    EffectiveBegin    EffectiveEnd    Cost
    ABC123      ITEM101       2011-12-01        2011-12-09      $1.00
    ABC123      ITEM101       2011-12-10        2099-12-31      $1.25
    DEF456      ITEM101       2011-11-15        2011-11-30      $1.10
    DEF456      ITEM101       2011-12-01        2099-12-31      $1.12

Where 12/31/2099 is just a placeholder date for ""Current"".

Any help would be HUGELY appreciated!!",4
4631807,01/08/2011 01:29:53,455934,09/23/2010 08:11:27,51,2,mysql unique key,"I have a table `items` that holds items that have been select by a user but without a unique or primary key as there no unique records on the table because on every row `userID` and `listID` are not unique (user will surely have more than one item) and `itemID` can be unique/primary as more users might select the same item. What is the correct way to add unique and/or primary key on that table that will make sense?

items table:

    CREATE TABLE IF NOT EXISTS `items` (
      `userID` int(20) NOT NULL,
      `listID` int(20) NOT NULL,
      `itemID` int(20) NOT NULL,
      `qty` int(10) NOT NULL
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

items data:

    INSERT INTO `items` (`userID`, `listID`, `itemID`, `qty`) VALUES
    (12, 277, 44, 2160),
    (12, 277, 3683, 13500),
    (12, 277, 3689, 2700),
    (12 277, 9832, 4320),
    (12 277, 9848, 540),
    (12, 277, 16272, 81000),
    (12, 277, 16273, 81000),
    (12, 277, 16274, 243000),
    (71, 278, 12066, 4),
    (82, 279, 44, 2880),
    (82, 279, 3683, 18000),
    (82, 279, 3689, 3600),
    (82, 279, 9832, 5760);

",mysql,database-design,,,,,open,0,237,3,"mysql unique key I have a table `items` that holds items that have been select by a user but without a unique or primary key as there no unique records on the table because on every row `userID` and `listID` are not unique (user will surely have more than one item) and `itemID` can be unique/primary as more users might select the same item. What is the correct way to add unique and/or primary key on that table that will make sense?

items table:

    CREATE TABLE IF NOT EXISTS `items` (
      `userID` int(20) NOT NULL,
      `listID` int(20) NOT NULL,
      `itemID` int(20) NOT NULL,
      `qty` int(10) NOT NULL
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

items data:

    INSERT INTO `items` (`userID`, `listID`, `itemID`, `qty`) VALUES
    (12, 277, 44, 2160),
    (12, 277, 3683, 13500),
    (12, 277, 3689, 2700),
    (12 277, 9832, 4320),
    (12 277, 9848, 540),
    (12, 277, 16272, 81000),
    (12, 277, 16273, 81000),
    (12, 277, 16274, 243000),
    (71, 278, 12066, 4),
    (82, 279, 44, 2880),
    (82, 279, 3683, 18000),
    (82, 279, 3689, 3600),
    (82, 279, 9832, 5760);

",2
9506349,02/29/2012 20:45:49,1080354,12/04/2011 18:14:41,95,4,T-SQL vs mySQL - raw comparison,"I am using T-SQL and have used really little MySQL. I have argued with my friends about the better language a lot and I need finally comparison between them. But forget the price, and forget the all specific stuff. I just want to make I list with things that a  man can do on T-SQL and do not on MySQL and the reverse. 

So, please help me, and correct me if I am wrong.

>T-SQL supports file-stream enable database and MySQL does not.

>T-SQL supports indexed view and MySQL does not.

Is there an alternative?Is this mean it is not easy to create views with many joins in MySQL?

>T-SQL has table valued functions and MySQL does not.(I have been told about this)

>In MySQL when a function is depreciated it is not working  and you may have problems if you have used it in many places and many projects. (I have been told about this)

>Programers who use MySQL are not use to write store procedures or functions and do all sql statements in the php code (I have been told about this)

Is this really bad?

Please, if I am wrong, correct me. And if there are any big different in what the both languages offers, share them.

",mysql,tsql,difference,,,02/29/2012 20:51:35,off topic,1,204,6,"T-SQL vs mySQL - raw comparison I am using T-SQL and have used really little MySQL. I have argued with my friends about the better language a lot and I need finally comparison between them. But forget the price, and forget the all specific stuff. I just want to make I list with things that a  man can do on T-SQL and do not on MySQL and the reverse. 

So, please help me, and correct me if I am wrong.

>T-SQL supports file-stream enable database and MySQL does not.

>T-SQL supports indexed view and MySQL does not.

Is there an alternative?Is this mean it is not easy to create views with many joins in MySQL?

>T-SQL has table valued functions and MySQL does not.(I have been told about this)

>In MySQL when a function is depreciated it is not working  and you may have problems if you have used it in many places and many projects. (I have been told about this)

>Programers who use MySQL are not use to write store procedures or functions and do all sql statements in the php code (I have been told about this)

Is this really bad?

Please, if I am wrong, correct me. And if there are any big different in what the both languages offers, share them.

",3
10771704,05/27/2012 04:41:21,1419766,05/27/2012 04:28:32,1,0,mySQL Query to Extract/Replace src parameter from <img> tag in field data,"I have a situation where I'm upgraded a CMS based website that has had some major changes over the years on how to handle certain field types. On in particular is images. Originally an <img> tag in a text field was used to store and image. Now we've moved to a more dynamic method where we use a preset file directory and just the image file name.

Currently in my 'exp_weblog_table' I have a field 'field_id_8' which is a text field holding something like the following:

    <img src=""{filedir_2}V55-Kaos-Chrome.jpg"" width=""400"" height=""400"" />

Now my SQL query skills are pretty much non-existent, so need a hand in stripping out everything in the field except the contents of the img tag's src parameter. SO based on the above example of existing data, I ideally need the following left in the field data: 

    {filedir_2}V55-Kaos-Chrome.jpg

There's a number of other fields that use the same method, but I should be able to figure it out once I have something to work from.

I'll be using phpMyAdmin to make these updates to the DB table fields.

Thanks in advance

Brendan",mysql,query,replace,img,src,,open,0,185,12,"mySQL Query to Extract/Replace src parameter from <img> tag in field data I have a situation where I'm upgraded a CMS based website that has had some major changes over the years on how to handle certain field types. On in particular is images. Originally an <img> tag in a text field was used to store and image. Now we've moved to a more dynamic method where we use a preset file directory and just the image file name.

Currently in my 'exp_weblog_table' I have a field 'field_id_8' which is a text field holding something like the following:

    <img src=""{filedir_2}V55-Kaos-Chrome.jpg"" width=""400"" height=""400"" />

Now my SQL query skills are pretty much non-existent, so need a hand in stripping out everything in the field except the contents of the img tag's src parameter. SO based on the above example of existing data, I ideally need the following left in the field data: 

    {filedir_2}V55-Kaos-Chrome.jpg

There's a number of other fields that use the same method, but I should be able to figure it out once I have something to work from.

I'll be using phpMyAdmin to make these updates to the DB table fields.

Thanks in advance

Brendan",5
4541261,12/27/2010 19:33:54,533617,12/07/2010 12:02:31,172,1,MYSQL manual problem varchar with frequent updates,"MYSQL documentation says this:

""For MyISAM tables that change frequently, you should try to avoid all variable-length columns (VARCHAR, BLOB, and TEXT). The table uses dynamic row format if it includes even a single variable-length column. See Chapter 13, Storage Engines. ""

The table I am building will have:
1st column: auto incrementing INT, set as primary key
Then 20 columns of Varchar(255)
3 million rows

The varchar columns will have text entered, usually around 100 characters, but in rare cases up to 255 characters could be entered.  Every read of the table also does an update (data is read, processed and then table updated with new info), hence there is a lot of ""change"" on the table.  But is this the same change the article quote above refers to?

I have been told this is a non ""textbook"" setup, but it is built for speed alone, and is ok. so, the question is does the manual quote above mean I should use Char(255) instead of varchar for my needs?",mysql,,,,,,open,0,165,7,"MYSQL manual problem varchar with frequent updates MYSQL documentation says this:

""For MyISAM tables that change frequently, you should try to avoid all variable-length columns (VARCHAR, BLOB, and TEXT). The table uses dynamic row format if it includes even a single variable-length column. See Chapter 13, Storage Engines. ""

The table I am building will have:
1st column: auto incrementing INT, set as primary key
Then 20 columns of Varchar(255)
3 million rows

The varchar columns will have text entered, usually around 100 characters, but in rare cases up to 255 characters could be entered.  Every read of the table also does an update (data is read, processed and then table updated with new info), hence there is a lot of ""change"" on the table.  But is this the same change the article quote above refers to?

I have been told this is a non ""textbook"" setup, but it is built for speed alone, and is ok. so, the question is does the manual quote above mean I should use Char(255) instead of varchar for my needs?",1
7458524,09/17/2011 23:29:57,446836,09/13/2010 22:22:40,43,0,Using Count and Max in SQL Query,"I have two tables that I am trying to query from, Enrollment and Course. In the course Table, there is just one entry for each course, but in the Enrollment table, there is an entry for each student that is enrolled in any course, so there may be 30 entries for one course. My task is to find The course that has the most enrollments, and print out that course name, as well as the number of enrollments for that course. Here is my query so far

    select c.CourseCode ,(SELECT count( * ) FROM Enrollment WHERE CourseCode = c.CourseCode) as test from Course c ;

this gives me the results:

CS227 - 29

CS228 - 34

CS309 - 31

CS311 - 25
, ect, which is good, but NOW, how do I print out only the class that has the most enrollments(in this case, CS228). I have tried using the max(), but I can't get anything to work.  ",mysql,sql,query,count,max,,open,0,157,7,"Using Count and Max in SQL Query I have two tables that I am trying to query from, Enrollment and Course. In the course Table, there is just one entry for each course, but in the Enrollment table, there is an entry for each student that is enrolled in any course, so there may be 30 entries for one course. My task is to find The course that has the most enrollments, and print out that course name, as well as the number of enrollments for that course. Here is my query so far

    select c.CourseCode ,(SELECT count( * ) FROM Enrollment WHERE CourseCode = c.CourseCode) as test from Course c ;

this gives me the results:

CS227 - 29

CS228 - 34

CS309 - 31

CS311 - 25
, ect, which is good, but NOW, how do I print out only the class that has the most enrollments(in this case, CS228). I have tried using the max(), but I can't get anything to work.  ",5
7771017,10/14/2011 17:00:47,994193,10/13/2011 19:24:00,6,0,Suggestions on online resources available to learn mysql?,"Your suggestions will be much appreciated. 
I'm looking for dependable online resources to learn MYSQL.
Look forward to hear from all. Thanks.
 ",mysql,,,,,10/15/2011 00:49:29,off topic,1,22,8,"Suggestions on online resources available to learn mysql? Your suggestions will be much appreciated. 
I'm looking for dependable online resources to learn MYSQL.
Look forward to hear from all. Thanks.
 ",1
6937080,08/04/2011 06:30:40,694863,04/06/2011 12:58:22,106,8,how to add primary key to table having duplicate values?,"I have a table with structure <br>
<b>Table-a</b> Id was primary key
<br>
ID | Name | 
<br>
1  | Gourav<br>
2  | Amit<br>
3  |  Rahul<br>
<br>
But After that primary key automatically removed by restoring database to other database..
Now Records in Table are '
<br>
ID | Name | <br>

1  | Gourav<br>
2  | Amit<br>
3  | Rahul<br>
0  | AAA<br>
0  | BBB<br>
0  | CCC<br>


How can i add primary key to id column again and can handle the existing data as well in MYSQL.


Thanks in advance..

 ",mysql,sql,,,,,open,0,86,10,"how to add primary key to table having duplicate values? I have a table with structure <br>
<b>Table-a</b> Id was primary key
<br>
ID | Name | 
<br>
1  | Gourav<br>
2  | Amit<br>
3  |  Rahul<br>
<br>
But After that primary key automatically removed by restoring database to other database..
Now Records in Table are '
<br>
ID | Name | <br>

1  | Gourav<br>
2  | Amit<br>
3  | Rahul<br>
0  | AAA<br>
0  | BBB<br>
0  | CCC<br>


How can i add primary key to id column again and can handle the existing data as well in MYSQL.


Thanks in advance..

 ",2
11279001,07/01/2012 01:42:52,1493730,07/01/2012 01:25:55,1,0,High CPU usage from MySQL with no queries at all running,"I noticed that MySQL is using way more CPU than usual on my workstation (usual is 1% or less, because this is my workstation, not a server).


      PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                   
    14004 mysql     20   0  536m  44m 7136 S  141  1.2  65:24.72 mysqld           

I looked in my slow log and there are no queries at all. I ran tail -f on the general log to see what was running and there was nothing at all there either. The MySQL processlist is empty as well.

    
    +-----+------+-----------+----+---------+------+-------+------------------+
    | Id  | User | Host      | db | Command | Time | State | Info             |
    +-----+------+-----------+----+---------+------+-------+------------------+
    | 165 | root | localhost |    | Query   | 0    |       | show processlist |
    +-----+------+-----------+----+---------+------+-------+------------------+

Every other post I've seen is related to high CPU usage due to a specific query, but I've got no queries running at all. Does anyone know how to determine why MySQL is using all that CPU? 

In case it matters, here's more info about my system:

    Linux kubuntu 3.2.0-26-generic
    
    Server version          5.5.24-0ubuntu0.12.04.1-log
    Protocol version        10
    Connection              Localhost via UNIX socket
    UNIX socket             /var/run/mysqld/mysqld.sock
    Uptime:                 57 min 8 sec

    Threads: 1  Questions: 406  Slow queries: 0  Opens: 567  Flush tables: 1  
    Open tables: 140  Queries per second avg: 0.118

    

",mysql,,,,,07/01/2012 15:39:02,off topic,1,424,11,"High CPU usage from MySQL with no queries at all running I noticed that MySQL is using way more CPU than usual on my workstation (usual is 1% or less, because this is my workstation, not a server).


      PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                   
    14004 mysql     20   0  536m  44m 7136 S  141  1.2  65:24.72 mysqld           

I looked in my slow log and there are no queries at all. I ran tail -f on the general log to see what was running and there was nothing at all there either. The MySQL processlist is empty as well.

    
    +-----+------+-----------+----+---------+------+-------+------------------+
    | Id  | User | Host      | db | Command | Time | State | Info             |
    +-----+------+-----------+----+---------+------+-------+------------------+
    | 165 | root | localhost |    | Query   | 0    |       | show processlist |
    +-----+------+-----------+----+---------+------+-------+------------------+

Every other post I've seen is related to high CPU usage due to a specific query, but I've got no queries running at all. Does anyone know how to determine why MySQL is using all that CPU? 

In case it matters, here's more info about my system:

    Linux kubuntu 3.2.0-26-generic
    
    Server version          5.5.24-0ubuntu0.12.04.1-log
    Protocol version        10
    Connection              Localhost via UNIX socket
    UNIX socket             /var/run/mysqld/mysqld.sock
    Uptime:                 57 min 8 sec

    Threads: 1  Questions: 406  Slow queries: 0  Opens: 567  Flush tables: 1  
    Open tables: 140  Queries per second avg: 0.118

    

",1
10769386,05/26/2012 20:07:43,1204895,02/12/2012 09:11:52,8,3,MySQL - return when row doesn't exists in other table or exists and the field is greater than x,"I have two tables:

links

     | id | ...
       1
       2
      ...

clicks

     | linkid | userid | click_date |
        1     |   2    | ...
        4     |   2    | ...
        5     |   3    | ...

When users clicks a link from links it is added to clicks.

I want to use MySQL query to return only links that user hasn't clicked - the pair linkid:userid isn't contained in the table or click_date (secs from Unix epoch) was yesterday in GMT.",mysql,,,,,,open,0,149,19,"MySQL - return when row doesn't exists in other table or exists and the field is greater than x I have two tables:

links

     | id | ...
       1
       2
      ...

clicks

     | linkid | userid | click_date |
        1     |   2    | ...
        4     |   2    | ...
        5     |   3    | ...

When users clicks a link from links it is added to clicks.

I want to use MySQL query to return only links that user hasn't clicked - the pair linkid:userid isn't contained in the table or click_date (secs from Unix epoch) was yesterday in GMT.",1
10943100,06/08/2012 04:34:02,964507,09/26/2011 06:37:21,23,0,Hibernate and mysql timeout issue,"I have been having trouble with Hibernate and Mysql timeout error.I am also using properties of c3p0(connection provider). After my Hibernate/MySQL have been running after 8 hours(which is default timeout value in Mysql), I have the exception. But it doesn't help.

property for auto reconnect also not working.

Here is my Hibernate Configuration:

    <property name=""connection_provider_class"">org.hibernate.connection.C3P0ConnectionProvider</property>
        **<property name=""connection.autoReconnect""> true</property>
        <property name=""connection.autoReconnectForPools"">true</property>**
        <property name=""connection.is-connection-validation-required"">true</property>
        <property name=""c3p0.validate"">true</property>
        <property name=""current_session_context_class"">thread</property>
        <property name=""cache.use_query_cache"">false</property>
        <property name=""cache.use_second_level_cache"">false</property>
        <property name=""c3p0.idle_test_period"">20</property>
        <property name=""c3p0.timeout"">40</property>
        <property name=""c3p0.max_size"">100</property>
        <property name=""c3p0.min_size"">1</property>
        <property name=""c3p0.acquireRetryAttempts"">10</property>
        <property name=""c3p0.maxPoolSize"">100</property>
        <property name=""c3p0.maxIdleTime"">300</property>
        <property name=""c3p0.maxStatements"">50</property>
        <property name=""c3p0.minPoolSize"">10</property>
        <property name=""c3p0.preferredTestQuery"">select 1;</property>
        <property name=""connection.driver_class"">com.mysql.jdbc.Driver</property>
        <property name=""connection.url"">jdbc:mysql://localhost:3306/doqeap</property>
        <property name=""connection.user"">root</property>
        <property name=""connection.password"">arosys123</property>
        <property name=""dialect"">org.hibernate.dialect.MySQLDialect</property>
        <property name=""hibernate.jdbc.batch_size"">0</property>
        <mapping></mapping>

please help me to sort out this problem.
Thanks 

",mysql,hibernate,,,,,open,0,281,5,"Hibernate and mysql timeout issue I have been having trouble with Hibernate and Mysql timeout error.I am also using properties of c3p0(connection provider). After my Hibernate/MySQL have been running after 8 hours(which is default timeout value in Mysql), I have the exception. But it doesn't help.

property for auto reconnect also not working.

Here is my Hibernate Configuration:

    <property name=""connection_provider_class"">org.hibernate.connection.C3P0ConnectionProvider</property>
        **<property name=""connection.autoReconnect""> true</property>
        <property name=""connection.autoReconnectForPools"">true</property>**
        <property name=""connection.is-connection-validation-required"">true</property>
        <property name=""c3p0.validate"">true</property>
        <property name=""current_session_context_class"">thread</property>
        <property name=""cache.use_query_cache"">false</property>
        <property name=""cache.use_second_level_cache"">false</property>
        <property name=""c3p0.idle_test_period"">20</property>
        <property name=""c3p0.timeout"">40</property>
        <property name=""c3p0.max_size"">100</property>
        <property name=""c3p0.min_size"">1</property>
        <property name=""c3p0.acquireRetryAttempts"">10</property>
        <property name=""c3p0.maxPoolSize"">100</property>
        <property name=""c3p0.maxIdleTime"">300</property>
        <property name=""c3p0.maxStatements"">50</property>
        <property name=""c3p0.minPoolSize"">10</property>
        <property name=""c3p0.preferredTestQuery"">select 1;</property>
        <property name=""connection.driver_class"">com.mysql.jdbc.Driver</property>
        <property name=""connection.url"">jdbc:mysql://localhost:3306/doqeap</property>
        <property name=""connection.user"">root</property>
        <property name=""connection.password"">arosys123</property>
        <property name=""dialect"">org.hibernate.dialect.MySQLDialect</property>
        <property name=""hibernate.jdbc.batch_size"">0</property>
        <mapping></mapping>

please help me to sort out this problem.
Thanks 

",2
968122,06/09/2009 04:22:59,49478,12/28/2008 08:22:32,115,18,MySQL table modified timestamp,"I have a test server that uses data from a test database. When I'm done testing, it gets moved to the live database.

The problem is, I have other projects that rely on the data now in production, so I have to run a script that grabs the data from the tables I need, deletes the data in the test DB and inserts the data from the live DB.

I have been trying to figure out a way to improve this model. The problem isn't so much in the migration, since the data only gets updated once or twice a week (without any action on my part). The problem is having the migration take place only when it needs to. I would like to have my migration script include a quick check against the live tables and the test tables and, if need be, make the move. If there haven't been updates, the script quits.

This way, I can include the update script in my other scripts and not have to worry if the data is in sync.

I can't use time stamps. For one, I have no control over the tables on the live side once it goes live, and also because it seems a bit silly to bulk up the tables more for conviencience.

I tried doing a ""SHOW TABLE STATUS FROM livedb"" but because the tables are all InnoDB, there is no ""Update Time"", plus, it appears that the ""Create Time"" was this morning, leading me to believe that the database is backed up and re-created daily.

Is there any other property in the table that would show which of the two is newer? A ""Newest Row Date"" perhaps?

",mysql,sync,datestamp,table,last-modified,,open,0,276,4,"MySQL table modified timestamp I have a test server that uses data from a test database. When I'm done testing, it gets moved to the live database.

The problem is, I have other projects that rely on the data now in production, so I have to run a script that grabs the data from the tables I need, deletes the data in the test DB and inserts the data from the live DB.

I have been trying to figure out a way to improve this model. The problem isn't so much in the migration, since the data only gets updated once or twice a week (without any action on my part). The problem is having the migration take place only when it needs to. I would like to have my migration script include a quick check against the live tables and the test tables and, if need be, make the move. If there haven't been updates, the script quits.

This way, I can include the update script in my other scripts and not have to worry if the data is in sync.

I can't use time stamps. For one, I have no control over the tables on the live side once it goes live, and also because it seems a bit silly to bulk up the tables more for conviencience.

I tried doing a ""SHOW TABLE STATUS FROM livedb"" but because the tables are all InnoDB, there is no ""Update Time"", plus, it appears that the ""Create Time"" was this morning, leading me to believe that the database is backed up and re-created daily.

Is there any other property in the table that would show which of the two is newer? A ""Newest Row Date"" perhaps?

",5
10491886,05/08/2012 02:42:15,1373848,05/04/2012 00:09:14,10,0,Unable to connect to mySql database useing just code,"I searched here but did not see an answer .

I am using Delphi2010.
I using Devart Mydac to connect to mySql data base .
When i set the Server, Database, Name , Pass in the component it connects no problem.

BUt when I try to connect just with code it give an error.

     `    
     begin
     MyConnection1.Server:='MyServer';
     MyConnection1.Database:='MyDatabase';
     MyConnection1.Username:='MyUserName';
     MyConnection1.Password:='MyPassword';
     MyConnection1.Connected:= True;
     MyQuery1.Active:= True;
     end;   
     `


exception class EMySalExcption with message""#28000 Access denied for user'username@00.00.00.00'(useing passworkd: YES)'.

Why will the code method cause an error ?

Thanks for your help and patience. ",mysql,delphi,devart,mydac,,,open,0,133,9,"Unable to connect to mySql database useing just code I searched here but did not see an answer .

I am using Delphi2010.
I using Devart Mydac to connect to mySql data base .
When i set the Server, Database, Name , Pass in the component it connects no problem.

BUt when I try to connect just with code it give an error.

     `    
     begin
     MyConnection1.Server:='MyServer';
     MyConnection1.Database:='MyDatabase';
     MyConnection1.Username:='MyUserName';
     MyConnection1.Password:='MyPassword';
     MyConnection1.Connected:= True;
     MyQuery1.Active:= True;
     end;   
     `


exception class EMySalExcption with message""#28000 Access denied for user'username@00.00.00.00'(useing passworkd: YES)'.

Why will the code method cause an error ?

Thanks for your help and patience. ",4
7285886,09/02/2011 15:39:57,415037,08/09/2010 11:55:28,470,6,How to create SQL server database,"Could anybody advise me how to create SQL server database?  I tried it in SQL Sever Management Studio Express but it failed to create it.

I also tried it Visual Studio 2008 by right clicking Sever Explorer >> Data Connections >> Create New SQL Database but it gave the error (shown in the pic. attached)



Please help.

Thanks![enter image description here][1]


  [1]: http://i.stack.imgur.com/9Yuoz.jpg",mysql,sql,,,,09/02/2011 15:45:53,off topic,1,62,6,"How to create SQL server database Could anybody advise me how to create SQL server database?  I tried it in SQL Sever Management Studio Express but it failed to create it.

I also tried it Visual Studio 2008 by right clicking Sever Explorer >> Data Connections >> Create New SQL Database but it gave the error (shown in the pic. attached)



Please help.

Thanks![enter image description here][1]


  [1]: http://i.stack.imgur.com/9Yuoz.jpg",2
5758038,04/22/2011 17:15:40,251257,01/15/2010 03:25:09,237,4,Returning record results involving STI and Subclass Parent-Child Relationship,"Bear with me for a sec...

I have two models: HorseRaceEvent and Wagerable.

Wagerable uses STI with two subclasses: Trifecta and Wager.

There's a parent-child relationship between Trifecta and Wager.  For a Trifecta, there are 3 wagers associated with it.  To make the association between Wager and its parent Trifecta, I use a parent_id column for the Wager record that refers to the Trifecta record.  If the Wager isn't part of a Trifecta, then the parent_id is null. (parent_id for Trifecta is always null.)

So:

- Trifecta has many wagers 
- Wager belongs to Trifecta

Now enter HorseRaceEvent.

- HorseRaceEvent has many wagers.
- Wager belongs to HorseRaceEvent.

NOTE: notice that the relationship with HorseRaceEvent is Wager, not Wagerable or Trifecta.  (The horse_race_event_id is always null for a Trifecta record.)

HorseRaceEvent has an attribute called 'status' that can have three states: Not Started, Started, Final.

Wagerable has an attribute called 'result' that has one of three values: null, W, L.

Here's the challenge:

For the Trifecta model, I wanted to implement a named_scope or static method that returns all Trifectas in which (1) the result is null and (2) every one of its child Wager's associated HorseRaceEvent is 'Final'.",mysql,ruby-on-rails,parent-child,sti,,,open,0,190,9,"Returning record results involving STI and Subclass Parent-Child Relationship Bear with me for a sec...

I have two models: HorseRaceEvent and Wagerable.

Wagerable uses STI with two subclasses: Trifecta and Wager.

There's a parent-child relationship between Trifecta and Wager.  For a Trifecta, there are 3 wagers associated with it.  To make the association between Wager and its parent Trifecta, I use a parent_id column for the Wager record that refers to the Trifecta record.  If the Wager isn't part of a Trifecta, then the parent_id is null. (parent_id for Trifecta is always null.)

So:

- Trifecta has many wagers 
- Wager belongs to Trifecta

Now enter HorseRaceEvent.

- HorseRaceEvent has many wagers.
- Wager belongs to HorseRaceEvent.

NOTE: notice that the relationship with HorseRaceEvent is Wager, not Wagerable or Trifecta.  (The horse_race_event_id is always null for a Trifecta record.)

HorseRaceEvent has an attribute called 'status' that can have three states: Not Started, Started, Final.

Wagerable has an attribute called 'result' that has one of three values: null, W, L.

Here's the challenge:

For the Trifecta model, I wanted to implement a named_scope or static method that returns all Trifectas in which (1) the result is null and (2) every one of its child Wager's associated HorseRaceEvent is 'Final'.",4
10892580,06/05/2012 06:22:27,1390716,05/12/2012 06:44:48,3,0,using case conidtion in select statement,i want to use case condition for getting values between dates.,mysql,sql,,,,06/05/2012 12:48:46,not a real question,1,11,6,using case conidtion in select statement i want to use case condition for getting values between dates.,2
8488445,12/13/2011 11:30:52,1087362,12/08/2011 09:05:43,23,0,"Illegal mix of collations (utf8_general_ci,COERCIBLE) and (latin1_swedish_ci,IMPLICIT)","Can anyone help me on how could i fix this error

    Illegal mix of collations (utf8_general_ci,COERCIBLE) and (latin1_swedish_ci,IMPLICIT) for operation 'locate'

I have executed my stored procedure on the server1 and it's work fine, but it will throw an error on the server2. I've checked all the tables and stored procedure on both servers and it's all the same.

Can anyone help me on what is this problem and the resolution for it.",mysql,,,,,,open,0,74,7,"Illegal mix of collations (utf8_general_ci,COERCIBLE) and (latin1_swedish_ci,IMPLICIT) Can anyone help me on how could i fix this error

    Illegal mix of collations (utf8_general_ci,COERCIBLE) and (latin1_swedish_ci,IMPLICIT) for operation 'locate'

I have executed my stored procedure on the server1 and it's work fine, but it will throw an error on the server2. I've checked all the tables and stored procedure on both servers and it's all the same.

Can anyone help me on what is this problem and the resolution for it.",1
8027823,11/06/2011 14:50:27,838223,07/11/2011 04:29:47,3,0,How do I recover lost mysql databases?,"I'm in a really bad situation right now.
I'm using xampp to host a website, plus mail services and other kind of stuff.
I also have mysql server installed, to be exact I had a lot of databases created.
Mysql started working wrong so I decided to reinstall it.
Now when I reinstalled it, everything I had was lost.
I had a lot of information there, and I'm wondering if there is a way to recover all of this..
When reinstalling mysql, mysql didn't even warn me about anything, I didn't even know I was going to lose the databases.
Any help is appreciated, thank you in advance.",mysql,database,recover,,,11/06/2011 14:54:37,off topic,1,101,7,"How do I recover lost mysql databases? I'm in a really bad situation right now.
I'm using xampp to host a website, plus mail services and other kind of stuff.
I also have mysql server installed, to be exact I had a lot of databases created.
Mysql started working wrong so I decided to reinstall it.
Now when I reinstalled it, everything I had was lost.
I had a lot of information there, and I'm wondering if there is a way to recover all of this..
When reinstalling mysql, mysql didn't even warn me about anything, I didn't even know I was going to lose the databases.
Any help is appreciated, thank you in advance.",3
11057576,06/15/2012 20:11:45,1390723,05/12/2012 07:00:02,34,1,MySQL Inconsistencies in index usage on the same query,"I have a table of over 9 million rows. I have a SELECT query that I'm using an index for. Here is the query:

    SELECT `username`,`id`
    FROM `04c1Tg0M`
    WHERE `id` > 9259466
    AND `tried` = 0
    LIMIT 1;

That query executes very fast (0.00 sec). Here is the explain for that query:

    +----+-------------+----------+-------+-----------------+---------+---------+------+-------+-------------+
    | id | select_type | table    | type  | possible_keys   | key     | key_len | ref  | rows  | Extra       |
    +----+-------------+----------+-------+-----------------+---------+---------+------+-------+-------------+
    |  1 | SIMPLE      | 04c1Tg0M | range | PRIMARY,triedex | PRIMARY | 4       | NULL | 10822 | Using where |
    +----+-------------+----------+-------+-----------------+---------+---------+------+-------+-------------+

Now here is the same query except that I'm going to change the id to 6259466:

    SELECT `username`,`id`
    FROM `04c1Tg0M`
    WHERE `id` > 6259466
    AND `tried` = 0
    LIMIT 1;

That query took 4.78 seconds to complete. This is the problem. Here is the explain for that query:

    +----+-------------+----------+------+-----------------+---------+---------+-------+---------+-------------+
    | id | select_type | table    | type | possible_keys   | key     | key_len | ref   | rows    | Extra       |
    +----+-------------+----------+------+-----------------+---------+---------+-------+---------+-------------+
    |  1 | SIMPLE      | 04c1Tg0M | ref  | PRIMARY,triedex | triedex | 2       | const | 9275107 | Using where |
    +----+-------------+----------+------+-----------------+---------+---------+-------+---------+-------------+

What is happening here and how can I fix it? Here are my indexes:

    +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | Table    | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment |
    +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | 04c1Tg0M |          0 | PRIMARY  |            1 | id          | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    | 04c1Tg0M |          1 | pdex     |            1 | username    | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    | 04c1Tg0M |          1 | pdex     |            2 | id          | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    | 04c1Tg0M |          1 | pdex     |            3 | tried       | A         |     9275093 |     NULL | NULL   | YES  | BTREE      |         |
    | 04c1Tg0M |          1 | triedex  |            1 | tried       | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |
    | 04c1Tg0M |          1 | triedex  |            2 | id          | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+

And here is my table structure:

    | 04c1Tg0M | CREATE TABLE `04c1Tg0M` (
    `id` int(20) NOT NULL AUTO_INCREMENT,
    `username` varchar(50) NOT NULL,
    `tried` tinyint(1) DEFAULT '0',
    PRIMARY KEY (`id`),
    KEY `pdex` (`username`,`id`,`tried`),
    KEY `triedex` (`tried`,`id`)
    ) ENGINE=MyISAM AUTO_INCREMENT=9275108 DEFAULT CHARSET=utf8 |",mysql,query,index,inconsistency,,,open,0,981,9,"MySQL Inconsistencies in index usage on the same query I have a table of over 9 million rows. I have a SELECT query that I'm using an index for. Here is the query:

    SELECT `username`,`id`
    FROM `04c1Tg0M`
    WHERE `id` > 9259466
    AND `tried` = 0
    LIMIT 1;

That query executes very fast (0.00 sec). Here is the explain for that query:

    +----+-------------+----------+-------+-----------------+---------+---------+------+-------+-------------+
    | id | select_type | table    | type  | possible_keys   | key     | key_len | ref  | rows  | Extra       |
    +----+-------------+----------+-------+-----------------+---------+---------+------+-------+-------------+
    |  1 | SIMPLE      | 04c1Tg0M | range | PRIMARY,triedex | PRIMARY | 4       | NULL | 10822 | Using where |
    +----+-------------+----------+-------+-----------------+---------+---------+------+-------+-------------+

Now here is the same query except that I'm going to change the id to 6259466:

    SELECT `username`,`id`
    FROM `04c1Tg0M`
    WHERE `id` > 6259466
    AND `tried` = 0
    LIMIT 1;

That query took 4.78 seconds to complete. This is the problem. Here is the explain for that query:

    +----+-------------+----------+------+-----------------+---------+---------+-------+---------+-------------+
    | id | select_type | table    | type | possible_keys   | key     | key_len | ref   | rows    | Extra       |
    +----+-------------+----------+------+-----------------+---------+---------+-------+---------+-------------+
    |  1 | SIMPLE      | 04c1Tg0M | ref  | PRIMARY,triedex | triedex | 2       | const | 9275107 | Using where |
    +----+-------------+----------+------+-----------------+---------+---------+-------+---------+-------------+

What is happening here and how can I fix it? Here are my indexes:

    +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | Table    | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment |
    +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
    | 04c1Tg0M |          0 | PRIMARY  |            1 | id          | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    | 04c1Tg0M |          1 | pdex     |            1 | username    | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    | 04c1Tg0M |          1 | pdex     |            2 | id          | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    | 04c1Tg0M |          1 | pdex     |            3 | tried       | A         |     9275093 |     NULL | NULL   | YES  | BTREE      |         |
    | 04c1Tg0M |          1 | triedex  |            1 | tried       | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |
    | 04c1Tg0M |          1 | triedex  |            2 | id          | A         |     9275093 |     NULL | NULL   |      | BTREE      |         |
    +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+

And here is my table structure:

    | 04c1Tg0M | CREATE TABLE `04c1Tg0M` (
    `id` int(20) NOT NULL AUTO_INCREMENT,
    `username` varchar(50) NOT NULL,
    `tried` tinyint(1) DEFAULT '0',
    PRIMARY KEY (`id`),
    KEY `pdex` (`username`,`id`,`tried`),
    KEY `triedex` (`tried`,`id`)
    ) ENGINE=MyISAM AUTO_INCREMENT=9275108 DEFAULT CHARSET=utf8 |",4
11631262,07/24/2012 12:52:28,1540399,07/20/2012 09:53:25,1,0,sql join from two different table values,"There is two table name as ""Department"" and ""Employee"".The Department table has two column named as 'dept_id' and 'dept_name' and 'location' And the Employee table has two column named as 'emp_name' and 'emp_id' and 'age'.
My requirement is to show a result in a table bye below column from those table 
""dapt_name,location,emp_id""


(I have the image but I couldn't able to insert as because I am a new user)
",mysql,,,,,08/01/2012 14:11:49,not a real question,1,67,7,"sql join from two different table values There is two table name as ""Department"" and ""Employee"".The Department table has two column named as 'dept_id' and 'dept_name' and 'location' And the Employee table has two column named as 'emp_name' and 'emp_id' and 'age'.
My requirement is to show a result in a table bye below column from those table 
""dapt_name,location,emp_id""


(I have the image but I couldn't able to insert as because I am a new user)
",1
7489433,09/20/2011 17:46:01,575261,01/14/2011 05:17:17,49,3,REWRITTING SQL QUERY,"Q.list the names of employees who's salary is greater than the average salary of the department in which the given employee works.

I have came out with the following solution:
column names are: emp_id, name, dept, salary in the table named employee.

 
    select name from employee
    where salary >
    (
    select avg(salary) from employee
    where dept= (select dept from employee where emp_id = 'a10')
    ) 
    and
    dept = (select dept from employee where emp_id = 'a10')
    ;

Can i make this a little shorter query, expecting the same result?",mysql,database,oracle,query,dbms,,open,0,115,3,"REWRITTING SQL QUERY Q.list the names of employees who's salary is greater than the average salary of the department in which the given employee works.

I have came out with the following solution:
column names are: emp_id, name, dept, salary in the table named employee.

 
    select name from employee
    where salary >
    (
    select avg(salary) from employee
    where dept= (select dept from employee where emp_id = 'a10')
    ) 
    and
    dept = (select dept from employee where emp_id = 'a10')
    ;

Can i make this a little shorter query, expecting the same result?",5
1498777,09/30/2009 15:15:32,459,08/05/2008 21:54:42,3588,227,How do I show the schema of a table in a MySQL database?,"[This][1] is a question I did not find answered in Stack Overflow:

*How do I show the schema of a table in a MySQL database?*

**The answer** is to [read][2] about the `describe` command.

  [1]: http://www.devdaily.com/blog/post/mysql/show-schema-of-table-in-mysql-database
  [2]: http://dev.mysql.com/doc/refman/5.0/en/describe.html",mysql,schema,database,,,09/30/2009 17:12:01,not a real question,1,38,13,"How do I show the schema of a table in a MySQL database? [This][1] is a question I did not find answered in Stack Overflow:

*How do I show the schema of a table in a MySQL database?*

**The answer** is to [read][2] about the `describe` command.

  [1]: http://www.devdaily.com/blog/post/mysql/show-schema-of-table-in-mysql-database
  [2]: http://dev.mysql.com/doc/refman/5.0/en/describe.html",3
10716214,05/23/2012 08:29:50,1412054,05/23/2012 08:05:10,1,0,Mysql Explain return different information,"this is my first post.

I want to ask about explain query on MYSQL.

I have a table with myisam engine, about 150 million rows, 

then something is happening, i know myisam will lock entire database if something is happening, then i tried to find what query that locked my db.

i found that it was general query that supposed to be fast. 

    CREATE TABLE `post` (
    `postid` int(10) unsigned NOT NULL AUTO_INCREMENT,
    `threadid` int(10) unsigned NOT NULL DEFAULT '0',
    `username` varchar(100) NOT NULL DEFAULT '',
    `userid` int(10) unsigned NOT NULL DEFAULT '0',
    `title` varchar(250) NOT NULL DEFAULT '',
    `dateline` int(10) unsigned NOT NULL DEFAULT '0',
    `pagetext` mediumtext NOT NULL,
    `visible` smallint(6) NOT NULL DEFAULT '0',
    PRIMARY KEY (`postid`),
    KEY `userid` (`userid`),
    KEY `threadid` (`threadid`,`userid`),
    KEY `threadid_2` (`threadid`,`visible`)
    ) ENGINE=MyISAM AUTO_INCREMENT=697557786 DEFAULT CHARSET=latin1 MAX_ROWS=2431504384     AVG_ROW_LENGTH=50 


then i found the query that takes too long to be returned ( about 300 s ).

i compare the query (explain) with another query.

    mysql> explain SELECT postid, title, pagetext, userid, username, dateline FROM post WHERE threadid = '3947352'  AND visible = 1 ORDER BY postid ASC LIMIT 0,1;
    +----+-------------+-------+------+---------------------+----------+---------+-------+------+-----------------------------+
    | id | select_type | table | type | possible_keys       | key      | key_len | ref   | rows | Extra                       |
    +----+-------------+-------+------+---------------------+----------+---------+-------+------+-----------------------------+
    |  1 | SIMPLE      | post  | ref  | threadid,threadid_2 | threadid | 4       | const |    1 | Using where; Using filesort | 
    +----+-------------+-------+------+---------------------+----------+---------+-------+------+-----------------------------+
    1 row in set (0.00 sec)

    mysql> explain SELECT postid, title, pagetext, userid, username, dateline FROM post WHERE threadid = '13476989'  AND visible = 1 ORDER BY postid ASC LIMIT 0,1;
    +----+-------------+-------+-------+---------------------+---------+---------+------+------+-------------+
    | id | select_type | table | type  | possible_keys       | key     | key_len | ref  | rows | Extra       |
    +----+-------------+-------+-------+---------------------+---------+---------+------+------+-------------+
    |  1 | SIMPLE      | post  | index | threadid,threadid_2 | PRIMARY | 4       | NULL | 7687 | Using where | 
    +----+-------------+-------+-------+---------------------+---------+---------+------+------+-------------+

the 2nd query is the query that took 300 s to be returned.

same query, different on parameter in where clause. 

anyone can help me? :D",mysql,query,myisam,locked,,,open,0,503,5,"Mysql Explain return different information this is my first post.

I want to ask about explain query on MYSQL.

I have a table with myisam engine, about 150 million rows, 

then something is happening, i know myisam will lock entire database if something is happening, then i tried to find what query that locked my db.

i found that it was general query that supposed to be fast. 

    CREATE TABLE `post` (
    `postid` int(10) unsigned NOT NULL AUTO_INCREMENT,
    `threadid` int(10) unsigned NOT NULL DEFAULT '0',
    `username` varchar(100) NOT NULL DEFAULT '',
    `userid` int(10) unsigned NOT NULL DEFAULT '0',
    `title` varchar(250) NOT NULL DEFAULT '',
    `dateline` int(10) unsigned NOT NULL DEFAULT '0',
    `pagetext` mediumtext NOT NULL,
    `visible` smallint(6) NOT NULL DEFAULT '0',
    PRIMARY KEY (`postid`),
    KEY `userid` (`userid`),
    KEY `threadid` (`threadid`,`userid`),
    KEY `threadid_2` (`threadid`,`visible`)
    ) ENGINE=MyISAM AUTO_INCREMENT=697557786 DEFAULT CHARSET=latin1 MAX_ROWS=2431504384     AVG_ROW_LENGTH=50 


then i found the query that takes too long to be returned ( about 300 s ).

i compare the query (explain) with another query.

    mysql> explain SELECT postid, title, pagetext, userid, username, dateline FROM post WHERE threadid = '3947352'  AND visible = 1 ORDER BY postid ASC LIMIT 0,1;
    +----+-------------+-------+------+---------------------+----------+---------+-------+------+-----------------------------+
    | id | select_type | table | type | possible_keys       | key      | key_len | ref   | rows | Extra                       |
    +----+-------------+-------+------+---------------------+----------+---------+-------+------+-----------------------------+
    |  1 | SIMPLE      | post  | ref  | threadid,threadid_2 | threadid | 4       | const |    1 | Using where; Using filesort | 
    +----+-------------+-------+------+---------------------+----------+---------+-------+------+-----------------------------+
    1 row in set (0.00 sec)

    mysql> explain SELECT postid, title, pagetext, userid, username, dateline FROM post WHERE threadid = '13476989'  AND visible = 1 ORDER BY postid ASC LIMIT 0,1;
    +----+-------------+-------+-------+---------------------+---------+---------+------+------+-------------+
    | id | select_type | table | type  | possible_keys       | key     | key_len | ref  | rows | Extra       |
    +----+-------------+-------+-------+---------------------+---------+---------+------+------+-------------+
    |  1 | SIMPLE      | post  | index | threadid,threadid_2 | PRIMARY | 4       | NULL | 7687 | Using where | 
    +----+-------------+-------+-------+---------------------+---------+---------+------+------+-------------+

the 2nd query is the query that took 300 s to be returned.

same query, different on parameter in where clause. 

anyone can help me? :D",4
5671117,04/15/2011 00:12:51,408178,08/01/2010 23:12:41,530,26,Storing an array (doubles) in phpMyAdmin,"I'm very new to MySQL, although I've used SQL databases in other contexts before. I have a test site set up which has an online cPanel with access to phpMyAdmin. I'm attempting to setup a MySQL database, and so far it's working fine (I can connect to the Database _and_ the table).

The only problem I'm having is with inserting data. I'd like to insert an entire array (specifically, the array will be a `double[]`) into one column. After looking at the column types available in phpMyAdmin, it doesn't seem to support inserting arrays other than Binary arrays.

I've found many solutions for inserting arrays programatically including [this][1] thread, but for this site we will be inserting data via the online cPanel. Is there a way to do that?


  [1]: http://www.webmasterworld.com/forum88/1500.htm",mysql,insert,phpmyadmin,,,,open,0,130,6,"Storing an array (doubles) in phpMyAdmin I'm very new to MySQL, although I've used SQL databases in other contexts before. I have a test site set up which has an online cPanel with access to phpMyAdmin. I'm attempting to setup a MySQL database, and so far it's working fine (I can connect to the Database _and_ the table).

The only problem I'm having is with inserting data. I'd like to insert an entire array (specifically, the array will be a `double[]`) into one column. After looking at the column types available in phpMyAdmin, it doesn't seem to support inserting arrays other than Binary arrays.

I've found many solutions for inserting arrays programatically including [this][1] thread, but for this site we will be inserting data via the online cPanel. Is there a way to do that?


  [1]: http://www.webmasterworld.com/forum88/1500.htm",3
10857972,06/01/2012 22:13:39,1431305,06/01/2012 17:50:54,13,0,Using MySql CAST function in a SELECT query (or ORDER BY) with multiple SELECT or ORDER BY variables,"I have a database that has several VARCHAR columns that are actually integers, yet for certain reasons the columns need to be VARCHAR and not INT.  Obviously I'm having sorting issues as the numbers

    7
    8
    9
    10

Sort as

    10
    7
    8
    9

My SELECT statement uses multiple joins and SELECT variables:

    SELECT master.column1, table2.column1, table2.column2, table3.column1 FROM master
    LEFT JOIN table2
    ON master.column1 = table2.column1
    WHERE master.column1 LIKE 'whatever'
    OR WHERE master.column2 LIKE 'whatever'
    ORDER BY master.column1, master.column2, master.column3....

Is there a way to insert the CAST function on just one of the variables?

i.e `SELECT master.column1, CAST(table2.column1 AS UNSIGNED), table2.column2....`

I haven't had success trying it as above, and the MySql manual does not give an example that has multiple SELECT or ORDER BY variables.

Thank You",mysql,,,,,06/04/2012 14:32:08,too localized,1,167,18,"Using MySql CAST function in a SELECT query (or ORDER BY) with multiple SELECT or ORDER BY variables I have a database that has several VARCHAR columns that are actually integers, yet for certain reasons the columns need to be VARCHAR and not INT.  Obviously I'm having sorting issues as the numbers

    7
    8
    9
    10

Sort as

    10
    7
    8
    9

My SELECT statement uses multiple joins and SELECT variables:

    SELECT master.column1, table2.column1, table2.column2, table3.column1 FROM master
    LEFT JOIN table2
    ON master.column1 = table2.column1
    WHERE master.column1 LIKE 'whatever'
    OR WHERE master.column2 LIKE 'whatever'
    ORDER BY master.column1, master.column2, master.column3....

Is there a way to insert the CAST function on just one of the variables?

i.e `SELECT master.column1, CAST(table2.column1 AS UNSIGNED), table2.column2....`

I haven't had success trying it as above, and the MySql manual does not give an example that has multiple SELECT or ORDER BY variables.

Thank You",1
8797927,01/10/2012 02:41:07,975882,10/02/2011 23:02:17,13,0,Webform PDOException Drupal,"I am using the drupal webform form a simple feedback.
I can receive the email with all the data ( textfield,email,textarea) into my inbox.
But the problem is that I am unable to get the confirmation message as I specify it in the form settings.At the moment I am redirecting(after submission) to another page.
In case I mark (display confirmation message) I get the ""PDOException: SQLSTATE[08S01]: Communication link failure: 1153 Got a packet bigger than &#039;max_allowed_packet&#039"" error
When I try to change the max_allowed_packet in mysql,it stays for that session and once I restart it it goes back to 1MB.
I have no clue what is going on here.How I get the form to work as well as the PDOException error.",mysql,drupal,drupal-7,drupal-modules,,01/10/2012 21:29:35,off topic,1,116,3,"Webform PDOException Drupal I am using the drupal webform form a simple feedback.
I can receive the email with all the data ( textfield,email,textarea) into my inbox.
But the problem is that I am unable to get the confirmation message as I specify it in the form settings.At the moment I am redirecting(after submission) to another page.
In case I mark (display confirmation message) I get the ""PDOException: SQLSTATE[08S01]: Communication link failure: 1153 Got a packet bigger than &#039;max_allowed_packet&#039"" error
When I try to change the max_allowed_packet in mysql,it stays for that session and once I restart it it goes back to 1MB.
I have no clue what is going on here.How I get the form to work as well as the PDOException error.",4
9143270,02/04/2012 18:25:04,199700,10/30/2009 14:43:43,1541,30,How's my data structure?,"I've put together a simple database for storing information on awards and nominations. I've tried to remove as much data redundancy as possible. Here's how it's presently looking:

![enter image description here][1]

The reason for the Nominated table is that I realised that one nomination would have many nominees. For example, the award `Best Screenplay` could go to `Ken Levine and David Isaacs` or `Woody Allen` or `Joss Whedon, Andrew Stanton, Joel Cohen and Alec Sokolow`.

Thanks for pointing out any possible improvements.


  [1]: http://i.stack.imgur.com/QV0XF.png",mysql,sql,database,database-design,data-structures,02/08/2012 06:45:09,off topic,1,83,4,"How's my data structure? I've put together a simple database for storing information on awards and nominations. I've tried to remove as much data redundancy as possible. Here's how it's presently looking:

![enter image description here][1]

The reason for the Nominated table is that I realised that one nomination would have many nominees. For example, the award `Best Screenplay` could go to `Ken Levine and David Isaacs` or `Woody Allen` or `Joss Whedon, Andrew Stanton, Joel Cohen and Alec Sokolow`.

Thanks for pointing out any possible improvements.


  [1]: http://i.stack.imgur.com/QV0XF.png",5
6353644,06/15/2011 05:58:10,741989,05/06/2011 14:57:51,13,0,How to skip primary key in sqlSave() command?,"I am trying to insert a data.frame in the MySQL database using RODBC. The command I am using is the following:

sqlSave(channel,dbData,tablename='table_name', append=TRUE,safer=TRUE,fast=FALSE,verbose=TRUE)

Now the table in which I am trying to insert the data has a primary key which is auto-increment. My table has total of 7 columns including the primary key. In my data frame, I have 6 columns because I don't want to insert the PK myself. However when I run the command, I get the following error:

23000 1062 [MySQL][ODBC 5.1 Driver][mysqld-5.5.13]Duplicate entry '1' for key 'PRIMARY'

From the above error, I understand that it is trying to insert '1' as the primary key when there is already a record with 1 as its PK. Any idea how I can avoid this using sqlSave()?

Thanks in advance.",mysql,r,rodbc,,,,open,0,126,8,"How to skip primary key in sqlSave() command? I am trying to insert a data.frame in the MySQL database using RODBC. The command I am using is the following:

sqlSave(channel,dbData,tablename='table_name', append=TRUE,safer=TRUE,fast=FALSE,verbose=TRUE)

Now the table in which I am trying to insert the data has a primary key which is auto-increment. My table has total of 7 columns including the primary key. In my data frame, I have 6 columns because I don't want to insert the PK myself. However when I run the command, I get the following error:

23000 1062 [MySQL][ODBC 5.1 Driver][mysqld-5.5.13]Duplicate entry '1' for key 'PRIMARY'

From the above error, I understand that it is trying to insert '1' as the primary key when there is already a record with 1 as its PK. Any idea how I can avoid this using sqlSave()?

Thanks in advance.",3
9540130,03/02/2012 20:47:38,809356,06/21/2011 22:23:52,104,5,How to select all this data without repeating subqueries?,"Say I have a table called 'users', a table called 'posts' and a table called 'ratings', that stores the rating of each user to each post. If I wanted to select the posts, together with their thumbs up, thumbs down and 'average' ratings (rounded to the second decimal), I would do:

    SELECT *,
        (SELECT COUNT(*) FROM ratings WHERE thumb='up' AND post_id = posts.id) AS thumbs_up,
        (SELECT COUNT(*) FROM ratings WHERE thumb='down' AND post_id = posts.id) AS thumbs_down,
        ROUND((SELECT COUNT(*) FROM ratings WHERE thumb='up' AND post_id = posts.id) / (SELECT COUNT(*) FROM ratings WHERE post_id = posts.id), 2) AS average_rating
    FROM posts;

But is there a way to obtain this same data without repeating the subqueries? I mean, ideally I would like to do:

    SELECT *,
        (SELECT COUNT(*) FROM ratings WHERE thumb='up' AND post_id = posts.id) AS thumbs_up,
        (SELECT COUNT(*) FROM ratings WHERE thumb='down' AND post_id = posts.id) AS thumbs_down,
        ROUND(thumbs_up / (thumbs_up + thumbs_down), 2) AS average_rating
    FROM posts;

But MySQL does not allow this. What is next best thing? Or is there an even better way, by using JOINs or UNIONs?",mysql,,,,,,open,0,234,9,"How to select all this data without repeating subqueries? Say I have a table called 'users', a table called 'posts' and a table called 'ratings', that stores the rating of each user to each post. If I wanted to select the posts, together with their thumbs up, thumbs down and 'average' ratings (rounded to the second decimal), I would do:

    SELECT *,
        (SELECT COUNT(*) FROM ratings WHERE thumb='up' AND post_id = posts.id) AS thumbs_up,
        (SELECT COUNT(*) FROM ratings WHERE thumb='down' AND post_id = posts.id) AS thumbs_down,
        ROUND((SELECT COUNT(*) FROM ratings WHERE thumb='up' AND post_id = posts.id) / (SELECT COUNT(*) FROM ratings WHERE post_id = posts.id), 2) AS average_rating
    FROM posts;

But is there a way to obtain this same data without repeating the subqueries? I mean, ideally I would like to do:

    SELECT *,
        (SELECT COUNT(*) FROM ratings WHERE thumb='up' AND post_id = posts.id) AS thumbs_up,
        (SELECT COUNT(*) FROM ratings WHERE thumb='down' AND post_id = posts.id) AS thumbs_down,
        ROUND(thumbs_up / (thumbs_up + thumbs_down), 2) AS average_rating
    FROM posts;

But MySQL does not allow this. What is next best thing? Or is there an even better way, by using JOINs or UNIONs?",1
912078,05/26/2009 18:39:28,80969,03/21/2009 22:55:21,18,2,"MySQL: how to write a query for a relationship that is based on a range, not a foreign key?","I have three tables in MySQL that are related, yet not technically linked to each other by a foreign key. They are: **users**, **levels**, and **classes**. 

The users table has a karma column, a numeric type. Based on this **karma** number, I want to know the user's **level**, which I retrieve from the levels table. This is not a hard relationship, since a level is associated with a **range** of karma values, like so:

 - level 1 (minimum karma: 0)
 - level 2 (minimum karma: 100)
 - level 3 (minimum karma: 500)
 - ...

So if a user has a karma of 400, the return value should be 2. To make things slightly more complex, the level number indicates the user's **class**, of which the definitions are stored in the classes table. Once again this is a **range** relationship:

- class ant (minimum level 1)
- class owl (minimum level 5)
- class lion (minimum level 100)
- ...

In summary, we're talking about three tables that have an implicit relationship with each other, based on range values. My question relates to how to effectively query these tables. A very common need for me is to get information for one or more users based on a condition, the result set should contain the user details, but also the user's level and class.

For a single user, I managed to write this query which works fine:

    SELECT u.*,  lv.num as level, lvc.title as class, lvc.id as classid
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = ? AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1;

However, if I would broaden the result set by leaving WHERE u.id = ? and removing LIMIT 1, thus querying for a **list** of users, I get the combination of all three tables. Typically you would bring the rows down by doing an inner join on keys, but since this is a range check, 
that does not work. I tried using the range check in an inner join condition, but that brings the same result. Even using grouping I cannot get the result I want.

In a desperate attempt, I came up with this query, which works:

    SELECT usr.*, 
    (SELECT lv.num as level
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as level,
    (SELECT lvc.title as class
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as class,
    (SELECT lvc.image as class_image
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as class_image,
    (SELECT lvc.id as classid
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as classid
    FROM user as usr
    ORDER BY usr.$sortby $direction LIMIT ?,?

However, it seems highly inefficient to me. Basically what I do here is writing a sub query for each **column(!)** that I need from the level and class tables. If I'd query for multiple columns of the level or class tables in one subquery, it once again returns the combinations of all values. I feel there is a gap in my DB skills, something obvious I am missing, a function I do not know about...

**Can you help me? How to write an efficient query for a set of rows that combines columns from three tables, yet is not linked by keys (ranges instead)?**

**PS:** I know that I could greatly simplify the scenario if I would denormalize this schema to combine levels and classes into the users table, but there is a specific reason why I need this, trust me.",mysql,,,,,,open,0,719,19,"MySQL: how to write a query for a relationship that is based on a range, not a foreign key? I have three tables in MySQL that are related, yet not technically linked to each other by a foreign key. They are: **users**, **levels**, and **classes**. 

The users table has a karma column, a numeric type. Based on this **karma** number, I want to know the user's **level**, which I retrieve from the levels table. This is not a hard relationship, since a level is associated with a **range** of karma values, like so:

 - level 1 (minimum karma: 0)
 - level 2 (minimum karma: 100)
 - level 3 (minimum karma: 500)
 - ...

So if a user has a karma of 400, the return value should be 2. To make things slightly more complex, the level number indicates the user's **class**, of which the definitions are stored in the classes table. Once again this is a **range** relationship:

- class ant (minimum level 1)
- class owl (minimum level 5)
- class lion (minimum level 100)
- ...

In summary, we're talking about three tables that have an implicit relationship with each other, based on range values. My question relates to how to effectively query these tables. A very common need for me is to get information for one or more users based on a condition, the result set should contain the user details, but also the user's level and class.

For a single user, I managed to write this query which works fine:

    SELECT u.*,  lv.num as level, lvc.title as class, lvc.id as classid
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = ? AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1;

However, if I would broaden the result set by leaving WHERE u.id = ? and removing LIMIT 1, thus querying for a **list** of users, I get the combination of all three tables. Typically you would bring the rows down by doing an inner join on keys, but since this is a range check, 
that does not work. I tried using the range check in an inner join condition, but that brings the same result. Even using grouping I cannot get the result I want.

In a desperate attempt, I came up with this query, which works:

    SELECT usr.*, 
    (SELECT lv.num as level
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as level,
    (SELECT lvc.title as class
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as class,
    (SELECT lvc.image as class_image
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as class_image,
    (SELECT lvc.id as classid
    FROM user as u, level as lv, levelclass as lvc
    WHERE u.id = usr.id AND lv.min_karma <= u.karma AND lv.num <= lvc.minlevel_num
    ORDER BY lv.num DESC LIMIT 1) as classid
    FROM user as usr
    ORDER BY usr.$sortby $direction LIMIT ?,?

However, it seems highly inefficient to me. Basically what I do here is writing a sub query for each **column(!)** that I need from the level and class tables. If I'd query for multiple columns of the level or class tables in one subquery, it once again returns the combinations of all values. I feel there is a gap in my DB skills, something obvious I am missing, a function I do not know about...

**Can you help me? How to write an efficient query for a set of rows that combines columns from three tables, yet is not linked by keys (ranges instead)?**

**PS:** I know that I could greatly simplify the scenario if I would denormalize this schema to combine levels and classes into the users table, but there is a specific reason why I need this, trust me.",1
8384783,12/05/2011 11:44:45,1060671,10/26/2010 20:29:38,13,1,Database structure Facebook status post,"What is the database design Facebook uses for it's wall posts ?

At facebook we can place a status update that could be any of the following objects:

  - a message
  - a video
  - a url (renders preview of the url)
  - a photo
  - etc

Most of these objects share a lot of similarity.

If we want to create a similiar site like facebook, would it be smart to have 1 table with all the objects and a lot of NULL fields or would it be smarter to have a table for each object type.

How did facebook manage this in the early days?

 

",mysql,facebook,database-design,,,12/05/2011 11:54:23,not a real question,1,108,5,"Database structure Facebook status post What is the database design Facebook uses for it's wall posts ?

At facebook we can place a status update that could be any of the following objects:

  - a message
  - a video
  - a url (renders preview of the url)
  - a photo
  - etc

Most of these objects share a lot of similarity.

If we want to create a similiar site like facebook, would it be smart to have 1 table with all the objects and a lot of NULL fields or would it be smarter to have a table for each object type.

How did facebook manage this in the early days?

 

",3
8312551,11/29/2011 14:36:32,951626,09/18/2011 20:22:23,45,0,How to change max_allowed_packet parameter in MySQL database working on Amazon RDS?,"First I changed this value in parameter group, which is used for my database instance

`rds-modify-db-parameter-group  <name_of_parameter_group> --parameters ""name=max_allowed_packet, value=33554432, method=immediate""`

Then I checked that I successfully changed it:

`rds-describe-db-parameters <name_of_parameter_group>`

I received:

`DBPARAMETER  max_allowed_packet                   33554432                                 user            integer  dynamic  true`

Looks good, so finally I restarted this database instance, and after that I checked if it changed in mysql.
So I connected to database via mysql and checked variables:

`> show variables`

`| max_allowed_packet                                | 1048576`

Nothing changed... 

I also tried to change it from mysql, but root doesn't have SUPER privileges to do it.

Any ideas? Thanks
",mysql,configuration,parameters,amazon-web-services,amazon-rds,,open,0,183,12,"How to change max_allowed_packet parameter in MySQL database working on Amazon RDS? First I changed this value in parameter group, which is used for my database instance

`rds-modify-db-parameter-group  <name_of_parameter_group> --parameters ""name=max_allowed_packet, value=33554432, method=immediate""`

Then I checked that I successfully changed it:

`rds-describe-db-parameters <name_of_parameter_group>`

I received:

`DBPARAMETER  max_allowed_packet                   33554432                                 user            integer  dynamic  true`

Looks good, so finally I restarted this database instance, and after that I checked if it changed in mysql.
So I connected to database via mysql and checked variables:

`> show variables`

`| max_allowed_packet                                | 1048576`

Nothing changed... 

I also tried to change it from mysql, but root doesn't have SUPER privileges to do it.

Any ideas? Thanks
",5
10631689,05/17/2012 07:41:12,146366,07/28/2009 12:14:46,448,26,Joining several terms into one table?,"I have the following table:
   
    GENRES
    gID | gNAME
    1   | Fiction 
    2   | Non-Fiction
    3   | Comedy
    4   | Horror

And this table

   PRODUCTS
   pID | pNAME 
   1   | 4 hour work week
   2   | screw it let's do it

And then the assign table:

   ASSIGNTABLE
   aID | pID | gID
   1   | 1   | 1
   2   | 1   | 2
   3   | 2   | 2
   4   | 2   | 3
   5   | 2   | 4

I need a query that will return the following:

   pID | pNAME                 | pGENRE
   1   | 4 hour work week      | Fiction
   2   | screw it let's do it  | Non-Fiction


In other words, I need to ONLY get ONE genre per product. How do i do this?",mysql,,,,,,open,0,230,6,"Joining several terms into one table? I have the following table:
   
    GENRES
    gID | gNAME
    1   | Fiction 
    2   | Non-Fiction
    3   | Comedy
    4   | Horror

And this table

   PRODUCTS
   pID | pNAME 
   1   | 4 hour work week
   2   | screw it let's do it

And then the assign table:

   ASSIGNTABLE
   aID | pID | gID
   1   | 1   | 1
   2   | 1   | 2
   3   | 2   | 2
   4   | 2   | 3
   5   | 2   | 4

I need a query that will return the following:

   pID | pNAME                 | pGENRE
   1   | 4 hour work week      | Fiction
   2   | screw it let's do it  | Non-Fiction


In other words, I need to ONLY get ONE genre per product. How do i do this?",1
10808943,05/30/2012 01:34:42,1394112,05/14/2012 15:32:13,15,0,Which properties are editable through Design View for linked tables?,"When looking at linked tables in Design View, Access prompts with: 

> Table 'tblName' is a linked table whose design can't be modified. If
> you want to add or remove fields or change their properties or data
> types, you must do so in the source database

I have noticed that things like Caption can be edited though. Is there an official list of properties that can or cannot be edited?",mysql,ms-access,ms-access-2007,,,05/30/2012 11:08:43,too localized,1,69,10,"Which properties are editable through Design View for linked tables? When looking at linked tables in Design View, Access prompts with: 

> Table 'tblName' is a linked table whose design can't be modified. If
> you want to add or remove fields or change their properties or data
> types, you must do so in the source database

I have noticed that things like Caption can be edited though. Is there an official list of properties that can or cannot be edited?",3
1752579,11/17/2009 23:21:22,198212,10/28/2009 15:37:51,8,1,Mysql weird connection problem,"I've a weird problem. I've mysql 5.1 installed on my ubuntu 9.04.

I've used it a long time (say 3 month) and everything was going right. Until i faced this really weird problem.

When i want to connect to a random database i get this message:

ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
Connection id:    1
Current database: test_cake

ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (111)
ERROR: 
Can't connect to the server

It only happens with some databases, while others are totally usefull and healthy. After that, if i try to restart the server i get this.




shell> /etc/init.d/mysql restart
 * Stopping MySQL database server mysqld                                        cat: /var/run/mysqld/mysqld.pid: Permiso denegado
                                                                         [fail]
 * Starting MySQL database server mysqld                                        cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
                                                                         [fail]
(""permiso denegado"" is ""permission denied"").

I don't know what to do. I change the /var/run/mysqld/mysqld.pid attributes  but still not working.

Can anybody help me ?
 ",mysql,,,,,,open,0,429,4,"Mysql weird connection problem I've a weird problem. I've mysql 5.1 installed on my ubuntu 9.04.

I've used it a long time (say 3 month) and everything was going right. Until i faced this really weird problem.

When i want to connect to a random database i get this message:

ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
Connection id:    1
Current database: test_cake

ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (111)
ERROR: 
Can't connect to the server

It only happens with some databases, while others are totally usefull and healthy. After that, if i try to restart the server i get this.




shell> /etc/init.d/mysql restart
 * Stopping MySQL database server mysqld                                        cat: /var/run/mysqld/mysqld.pid: Permiso denegado
                                                                         [fail]
 * Starting MySQL database server mysqld                                        cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
cat: /var/run/mysqld/mysqld.pid: Permiso denegado
                                                                         [fail]
(""permiso denegado"" is ""permission denied"").

I don't know what to do. I change the /var/run/mysqld/mysqld.pid attributes  but still not working.

Can anybody help me ?
 ",1
8200112,11/20/2011 07:36:35,560161,01/02/2011 05:33:07,497,38,sfr400 scan results in mysql,"Has anyone worked with the Suprema SFR-400 scanner? If so, please state if this is possible:

The UFDatabase module, by default is for storing the scan result in an Access database.

I tried changing the connection details to a MySQL database and the Access OLE field for the template is defined as a BLOB in MySQL.

However, the record does not get added - a blunt error that data could not be added is produced.

Is this the correct way to go about this or is there an alternative to implement the code.

BTW, I'm using VB6 on Windows XP.",mysql,sdk,blob,ole,fingerprinting,,open,0,95,5,"sfr400 scan results in mysql Has anyone worked with the Suprema SFR-400 scanner? If so, please state if this is possible:

The UFDatabase module, by default is for storing the scan result in an Access database.

I tried changing the connection details to a MySQL database and the Access OLE field for the template is defined as a BLOB in MySQL.

However, the record does not get added - a blunt error that data could not be added is produced.

Is this the correct way to go about this or is there an alternative to implement the code.

BTW, I'm using VB6 on Windows XP.",5
11536711,07/18/2012 07:55:13,665557,03/18/2011 05:25:07,712,2,"SQL Group by, Having, and Ordering (MySQL)","I have the following SQL:

    select code, distance from places;    

The output is below:

    CODE      DISTANCE
    106	    386.895834130068
    80	    2116.6747774121 
    80	    2117.61925131453
    106	    2563.46708627407


I want to be able to just get a single code and the closest distance. So I want it to return this:

    CODE      DISTANCE
    106	    386.895834130068
    80	    2116.6747774121

Still playing with Distinct and Group By.
",mysql,sql,query,group-by,distinct,,open,0,116,7,"SQL Group by, Having, and Ordering (MySQL) I have the following SQL:

    select code, distance from places;    

The output is below:

    CODE      DISTANCE
    106	    386.895834130068
    80	    2116.6747774121 
    80	    2117.61925131453
    106	    2563.46708627407


I want to be able to just get a single code and the closest distance. So I want it to return this:

    CODE      DISTANCE
    106	    386.895834130068
    80	    2116.6747774121

Still playing with Distinct and Group By.
",5
4954076,02/10/2011 06:32:21,399268,02/20/2010 16:23:30,1745,74,Differences between MySQL and Oracle DB,What are the differences - features and performance - between MySQL and Oracle DB? I would like to be able to make and educated choice between the two given a situation.,mysql,oracle,comparison,features,performance,02/10/2011 08:41:29,not constructive,1,31,6,Differences between MySQL and Oracle DB What are the differences - features and performance - between MySQL and Oracle DB? I would like to be able to make and educated choice between the two given a situation.,5
8583344,12/20/2011 23:33:28,640095,03/01/2011 20:48:29,1316,68,Elastic Search limit results,"In MySQL I can do something like:

      SELECT id FROM table WHERE field = 'foo' LIMIT 5

If the table has 10,000 rows, then this query is way way faster than if I left out the LIMIT part.

In ElasticSearch, I've got the following:

     {
        ""query"":{
           ""fuzzy_like_this_field"":{
              ""body"":{
                 ""like_text"":""REALLY LONG (snip) TEXT HERE"",
                 ""max_query_terms"":1,
                 ""min_similarity"":0.95,
                 ""ignore_tf"":true
              }
           }
        }
     }

When I run this search, it takes a few seconds, whereas mysql can return results for the same query in far, far less time.

If I pass in the size parameter (set to 1), it successfully only returns 1 result, but the query itself isn't any faster than if I had set the size to unlimited and returned all the results. I suspect the query is being run in its entirety and only 1 result is being returned after the query is done processing. This means the ""size"" attribute is useless for my purposes.

Is there any way to have my search stop searching as soon as it finds a single record that matches the fuzzy search, rather than processing every record in the index before returning a response? Am I misunderstanding something more fundmental about this?

Thanks in advance.",mysql,elasticsearch,,,,,open,0,331,4,"Elastic Search limit results In MySQL I can do something like:

      SELECT id FROM table WHERE field = 'foo' LIMIT 5

If the table has 10,000 rows, then this query is way way faster than if I left out the LIMIT part.

In ElasticSearch, I've got the following:

     {
        ""query"":{
           ""fuzzy_like_this_field"":{
              ""body"":{
                 ""like_text"":""REALLY LONG (snip) TEXT HERE"",
                 ""max_query_terms"":1,
                 ""min_similarity"":0.95,
                 ""ignore_tf"":true
              }
           }
        }
     }

When I run this search, it takes a few seconds, whereas mysql can return results for the same query in far, far less time.

If I pass in the size parameter (set to 1), it successfully only returns 1 result, but the query itself isn't any faster than if I had set the size to unlimited and returned all the results. I suspect the query is being run in its entirety and only 1 result is being returned after the query is done processing. This means the ""size"" attribute is useless for my purposes.

Is there any way to have my search stop searching as soon as it finds a single record that matches the fuzzy search, rather than processing every record in the index before returning a response? Am I misunderstanding something more fundmental about this?

Thanks in advance.",2
4441711,12/14/2010 16:44:30,261312,01/28/2010 19:48:41,9,3,mysql load data local infile,"I'm trying to load data into a mysql table using LOAD DATA LOCAL INFILE using the code below.

Mysql:


    LOAD DATA LOCAL INFILE '/var/www/vhosts/domain.com/httpdocs/test1.csv' INTO TABLE temp_table FIELDS TERMINATED BY ',' ENCLOSED BY '\""' LINES TERMINATED BY '\r\n' (recloc,client_acc) SET id=null


I'm getting no errors and no imported records.  I believe the issue is related to the column names but i'm having a hard time fully understanding what those names should be. Should they be the actual column names within the CSV? or the field names in the DB Table? I would also like the have an auto_incremented primary key (id).

CSV:

    recloc,client_acc
    ""NLGSX3"",""CORPORATE""
    ""7SC3BA"",""QUALITY ASSURANCE""
    ""3B9OHF"",""90717-6710""


Any suggestions to what I may be doing wrong? thanks!",mysql,import,load-data-infile,,,,open,0,129,5,"mysql load data local infile I'm trying to load data into a mysql table using LOAD DATA LOCAL INFILE using the code below.

Mysql:


    LOAD DATA LOCAL INFILE '/var/www/vhosts/domain.com/httpdocs/test1.csv' INTO TABLE temp_table FIELDS TERMINATED BY ',' ENCLOSED BY '\""' LINES TERMINATED BY '\r\n' (recloc,client_acc) SET id=null


I'm getting no errors and no imported records.  I believe the issue is related to the column names but i'm having a hard time fully understanding what those names should be. Should they be the actual column names within the CSV? or the field names in the DB Table? I would also like the have an auto_incremented primary key (id).

CSV:

    recloc,client_acc
    ""NLGSX3"",""CORPORATE""
    ""7SC3BA"",""QUALITY ASSURANCE""
    ""3B9OHF"",""90717-6710""


Any suggestions to what I may be doing wrong? thanks!",3
5712673,04/19/2011 06:53:16,663769,03/17/2011 05:57:15,11,0,query in mysql with range,". Write a single SQL query to determine the count of people in the following salary ranges 
less than 1,00,000
(equal to or greater than 1,00,000) and less than 5,00,000
greater than or equal to 5,00,000
",mysql,query,,,,04/19/2011 07:39:25,not a real question,1,34,5,"query in mysql with range . Write a single SQL query to determine the count of people in the following salary ranges 
less than 1,00,000
(equal to or greater than 1,00,000) and less than 5,00,000
greater than or equal to 5,00,000
",2
7098421,08/17/2011 19:36:49,844438,07/14/2011 11:24:05,45,0,"Get all members who haven't logged in, in past 30 days",Ho can I achieve this with a MYSQL query? the date column is in this format: 1276356747,mysql,,,,,08/17/2011 21:47:12,not a real question,1,17,11,"Get all members who haven't logged in, in past 30 days Ho can I achieve this with a MYSQL query? the date column is in this format: 1276356747",1
9560905,03/05/2012 02:24:05,680578,03/28/2011 16:24:25,851,83,MySQL select all users who have not logged in in 30 days,"I have a table that has a user id & timestamp, like the following.

    [member id] [timestamp]
    1            1142461087
    1            1339461211
    2            1321280124
    1            1249042100
    3            1308325002
    3            1308259235

I want to return a list of unique member ids who have not logged in in 30 days.

This is my current query:

    SELECT member_id, login_timestamp
      FROM logins 
      WHERE login_timestamp <= 1329461087
      GROUP BY member_id
      ORDER BY login_timestamp DESC

I thought this was correct, but for some reason, in production, the admin user's ID shows up on the list, which is not possible since admin logs every day.",mysql,query,unix-timestamp,,,,open,0,205,12,"MySQL select all users who have not logged in in 30 days I have a table that has a user id & timestamp, like the following.

    [member id] [timestamp]
    1            1142461087
    1            1339461211
    2            1321280124
    1            1249042100
    3            1308325002
    3            1308259235

I want to return a list of unique member ids who have not logged in in 30 days.

This is my current query:

    SELECT member_id, login_timestamp
      FROM logins 
      WHERE login_timestamp <= 1329461087
      GROUP BY member_id
      ORDER BY login_timestamp DESC

I thought this was correct, but for some reason, in production, the admin user's ID shows up on the list, which is not possible since admin logs every day.",3
3017584,06/10/2010 19:04:22,209591,11/12/2009 13:17:52,43,0,is mysql index useful  on column 'state' when only doing bit-operations on the column?,"I have a lot of domain entities (stored in mysql) which undergo lots of different operations. Each operation is executed from a different program. I need to keep (flow)-state for these entities which I implemented in as a long field 'flowstate' used as a bitset.

to query mysql for entities which have undergone a certain operation I do something like: 

    select * from entities where state >> 7 & 1 = 1

Indicating bit 7  (cooresponding to operation 7) has run. (<-- simplified) 

Anyway, I really didn't pay attention to the performance implications of this setup in the beginning, and I think I'm in a bit of trouble since queries as the above run pretty slow. 

What I'd like to know:
Does an mysql index on 'flowstate' help at all? After all it's not a single value Mysql can quickly find using a binary sort or whatever. 

If it doesn't, are there any other things I could do to speed things up? . Are there special 'mask-indices' for fields with use-cases as the above? 

TIA,
Geert-jan",mysql,bit-manipulation,bitwise-operators,,,,open,0,177,15,"is mysql index useful  on column 'state' when only doing bit-operations on the column? I have a lot of domain entities (stored in mysql) which undergo lots of different operations. Each operation is executed from a different program. I need to keep (flow)-state for these entities which I implemented in as a long field 'flowstate' used as a bitset.

to query mysql for entities which have undergone a certain operation I do something like: 

    select * from entities where state >> 7 & 1 = 1

Indicating bit 7  (cooresponding to operation 7) has run. (<-- simplified) 

Anyway, I really didn't pay attention to the performance implications of this setup in the beginning, and I think I'm in a bit of trouble since queries as the above run pretty slow. 

What I'd like to know:
Does an mysql index on 'flowstate' help at all? After all it's not a single value Mysql can quickly find using a binary sort or whatever. 

If it doesn't, are there any other things I could do to speed things up? . Are there special 'mask-indices' for fields with use-cases as the above? 

TIA,
Geert-jan",3
8830743,01/12/2012 05:55:21,1142667,01/11/2012 07:44:10,1,0,Database and DB Engines,Which are the best available choices for Databases and DB engines and what all factors should be considered while selecting a database and DB engine ?,mysql,database,oracle,db2,selection,01/12/2012 07:50:47,not a real question,1,26,4,Database and DB Engines Which are the best available choices for Databases and DB engines and what all factors should be considered while selecting a database and DB engine ?,5
9521385,03/01/2012 17:55:50,946972,09/15/2011 13:57:51,22,0,database data syn error help please,"    
CREATE TABLE IF NOT EXISTS userdata( UID BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, Username CHAR (50) NOT NULL, DisplayName CHAR (50), Signature CHAR (255), PRIMARY KEY(UID), UNIQUE(UID,Username), INDEX(UID))
CREATE TABLE IF NOT EXISTS addressbook( EID BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, UID BIGINT UNSIGNED NOT NULL, Display CHAR (50), E_Mail CHAR (100) NOT NULL, Info CHAR (255), PRIMARY KEY(EID), UNIQUE(EID), INDEX(EID,UID,Display,E_Mail))

where's the error here because i cant insert in mysql",mysql,,,,,03/02/2012 03:33:42,too localized,1,71,6,"database data syn error help please     
CREATE TABLE IF NOT EXISTS userdata( UID BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, Username CHAR (50) NOT NULL, DisplayName CHAR (50), Signature CHAR (255), PRIMARY KEY(UID), UNIQUE(UID,Username), INDEX(UID))
CREATE TABLE IF NOT EXISTS addressbook( EID BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, UID BIGINT UNSIGNED NOT NULL, Display CHAR (50), E_Mail CHAR (100) NOT NULL, Info CHAR (255), PRIMARY KEY(EID), UNIQUE(EID), INDEX(EID,UID,Display,E_Mail))

where's the error here because i cant insert in mysql",1
11260965,06/29/2012 11:27:28,754522,05/15/2011 14:07:31,13,1,mysql: increment maximum field value on insert,"I have a table with a field called 'sort' which contains sorting number. When I add a new row, I would like the sort field to be filled with the maximum existing value + 1. I tried this:

    insert into highlights set sort=max(sort)+1

but I get a 1111 error ""Invalid use of group function""

If I try with a subquery,

    insert into highlights set sort=(select max(sort) from highlights)+1

I get a 1093 error since apparently I cannot subquery the same table I am inserting into.

Any ideas? Thanks!",mysql,,,,,,open,0,90,7,"mysql: increment maximum field value on insert I have a table with a field called 'sort' which contains sorting number. When I add a new row, I would like the sort field to be filled with the maximum existing value + 1. I tried this:

    insert into highlights set sort=max(sort)+1

but I get a 1111 error ""Invalid use of group function""

If I try with a subquery,

    insert into highlights set sort=(select max(sort) from highlights)+1

I get a 1093 error since apparently I cannot subquery the same table I am inserting into.

Any ideas? Thanks!",1
9817799,03/22/2012 07:05:27,1285183,03/22/2012 06:42:44,1,0,mysql not working on windows 7 x 64 installed with wamp,"my name is soba thank you in advance

I have recently installed wamp (version wampserver2.2c-x64) on a windows 7 64 bit OS. I am also using the 32 bit version of the above mentioned wamp at home which works fine.

I have worked with wamp for a few years without a problem. But this is the first time I am using it on a 64 bit windows 7 OS. I can access to the localhost and view the phpinfo so I figured php and apache is working fine. when I try to open phpmyadmin it displays the following message 

**#2002 - The server is not responding (or the local MySQL server's socket is not correctly configured)** 

I tried to get access to the mysql server using the mysql console and it just closes when I hit enter. I have been trying to fix this for almost 2 days and googling about it. some suggested using XAMPP. so I uninstalled wamp and installed XAMPP which has the same issue. so I have uninstalled it and re-installed wamp again. 

I have also checked netstat if the services are running and port 80 and 3306 are running

as this is my office pc I am stuck with no work done. any help would be appreciate

Thank you

soba",mysql,phpmyadmin,wamp,,,,open,0,210,11,"mysql not working on windows 7 x 64 installed with wamp my name is soba thank you in advance

I have recently installed wamp (version wampserver2.2c-x64) on a windows 7 64 bit OS. I am also using the 32 bit version of the above mentioned wamp at home which works fine.

I have worked with wamp for a few years without a problem. But this is the first time I am using it on a 64 bit windows 7 OS. I can access to the localhost and view the phpinfo so I figured php and apache is working fine. when I try to open phpmyadmin it displays the following message 

**#2002 - The server is not responding (or the local MySQL server's socket is not correctly configured)** 

I tried to get access to the mysql server using the mysql console and it just closes when I hit enter. I have been trying to fix this for almost 2 days and googling about it. some suggested using XAMPP. so I uninstalled wamp and installed XAMPP which has the same issue. so I have uninstalled it and re-installed wamp again. 

I have also checked netstat if the services are running and port 80 and 3306 are running

as this is my office pc I am stuck with no work done. any help would be appreciate

Thank you

soba",3
6724797,07/17/2011 15:24:40,747706,05/10/2011 22:18:05,390,21,How would I go about designing this query?,"Basically; I am on the Announcements page of a Client Control Panel, and I need to show the First Name of whoever made that announcement.  I have their contact ID.

    $res = mysql_query(""SELECT * FROM announcements ORDER BY id DESC LIMIT 3;"") or log_e();
    /* Returns:
       Array {
         ['id'] = 1
         ['poster_id'] = 1
         ['when'] = CURRENT_TIMESTAMP
         ['title'] = ""Example Announcement""
         ['message'] = ""...""
       }
    */

An excerpt from the UML design document is as follows:
![UML Design Document][1]

I have the ""poster"", which relates to the ""id"" in ""users""...  The ""main_contact"" from ""users"" relates to the ""id"" in contacts.  Therefore I know I need to `join users on users.id = poster` , and ... `join contacts on contacts.id = users.main_contact` ?  But what would the whole query look like?

  [1]: http://i.stack.imgur.com/EoY1h.png",mysql,sql,join,foreign-keys,,07/17/2011 21:05:00,not a real question,1,195,8,"How would I go about designing this query? Basically; I am on the Announcements page of a Client Control Panel, and I need to show the First Name of whoever made that announcement.  I have their contact ID.

    $res = mysql_query(""SELECT * FROM announcements ORDER BY id DESC LIMIT 3;"") or log_e();
    /* Returns:
       Array {
         ['id'] = 1
         ['poster_id'] = 1
         ['when'] = CURRENT_TIMESTAMP
         ['title'] = ""Example Announcement""
         ['message'] = ""...""
       }
    */

An excerpt from the UML design document is as follows:
![UML Design Document][1]

I have the ""poster"", which relates to the ""id"" in ""users""...  The ""main_contact"" from ""users"" relates to the ""id"" in contacts.  Therefore I know I need to `join users on users.id = poster` , and ... `join contacts on contacts.id = users.main_contact` ?  But what would the whole query look like?

  [1]: http://i.stack.imgur.com/EoY1h.png",4
8770506,01/07/2012 14:46:15,1037677,11/09/2011 12:42:58,1,0,How to access MySql database from Linux to Window XP?,"I have an error when i connect Mysql from linux to windows Xp, While i am using EMS for MYSQL database when i was connect it will show the error message that ""can't obtain database list from the server cant connect to mysql server on <IP> (use Pasword: YES)"". 
  Server Name: IP address
  Username:root
  Password:xxxxxx
  Driver: 5.2",mysql,wpf,,,,01/13/2012 05:33:22,not a real question,1,62,10,"How to access MySql database from Linux to Window XP? I have an error when i connect Mysql from linux to windows Xp, While i am using EMS for MYSQL database when i was connect it will show the error message that ""can't obtain database list from the server cant connect to mysql server on <IP> (use Pasword: YES)"". 
  Server Name: IP address
  Username:root
  Password:xxxxxx
  Driver: 5.2",2
4359116,12/05/2010 13:54:36,1377781,12/08/2009 15:46:42,514,31,how the wiki site work i mean the sql structure,"any one know
that in wiki sites
any one can edit the page
i want know
how i can make this is mysql
i want to know the mysql table structure fot that job
and how approve edits",mysql,,,,,12/05/2010 17:24:48,not a real question,1,32,10,"how the wiki site work i mean the sql structure any one know
that in wiki sites
any one can edit the page
i want know
how i can make this is mysql
i want to know the mysql table structure fot that job
and how approve edits",1
8245993,11/23/2011 16:51:10,773595,05/27/2011 18:39:21,479,21,"constraining a table field -> not duplicate value, not a primary key","> How to constrain a column in my table so it can't have two or more
> similar values at a time and it isn't a primary key ?

Should I use `CHECK` or `CONSTRAINT` or ... ? what's the right way to achieve that ?

**note :** I'm using MySQL",mysql,sql,constraints,,,,open,0,48,12,"constraining a table field -> not duplicate value, not a primary key > How to constrain a column in my table so it can't have two or more
> similar values at a time and it isn't a primary key ?

Should I use `CHECK` or `CONSTRAINT` or ... ? what's the right way to achieve that ?

**note :** I'm using MySQL",3
1887438,12/11/2009 11:26:02,143191,07/22/2009 20:30:41,6,0,How to 'switch' from MySQL to Amazon RDS with minimal application impact?,"Amazon officially states: ""Amazon RDS gives you access to the full capabilities of a familiar MySQL database. This means the code, applications, and tools you already use today with your existing MySQL databases work seamlessly with Amazon RDS.""

I don't get this. Amazon RDS is accessible via web services and there a client libraries (like the one for .Net).

So if I have an existing .Net application that uses a DAL which in turn queries MySQL, how can I make the same DAL talk to the Amazon RDS (via the web services). Or am I missing something here?",mysql,amazon,rds,migrate,,,open,0,96,12,"How to 'switch' from MySQL to Amazon RDS with minimal application impact? Amazon officially states: ""Amazon RDS gives you access to the full capabilities of a familiar MySQL database. This means the code, applications, and tools you already use today with your existing MySQL databases work seamlessly with Amazon RDS.""

I don't get this. Amazon RDS is accessible via web services and there a client libraries (like the one for .Net).

So if I have an existing .Net application that uses a DAL which in turn queries MySQL, how can I make the same DAL talk to the Amazon RDS (via the web services). Or am I missing something here?",4
11556202,07/19/2012 07:51:04,1537144,07/19/2012 07:45:30,1,0,what is wrong,"SELECT m_name, m_status, p_num, p_date, g_code GROUP_CONCAT(g_code)
       FROM (SELECT D.m_name, D.m_status, A.p_num, A.p_date, C.g_code FROM post A LEFT OUTER JOIN postgoods B ON A.p_num = B.p_num LEFT OUTER JOIN goodscode C ON B.g_num = C.g_num JOIN member D ON A.m_num = D.m_num ORDER BY A.p_date desc)
       GROUP BY p_num

I do not know whether this code where the error

",mysql,,,,,07/20/2012 00:33:58,too localized,1,70,3,"what is wrong SELECT m_name, m_status, p_num, p_date, g_code GROUP_CONCAT(g_code)
       FROM (SELECT D.m_name, D.m_status, A.p_num, A.p_date, C.g_code FROM post A LEFT OUTER JOIN postgoods B ON A.p_num = B.p_num LEFT OUTER JOIN goodscode C ON B.g_num = C.g_num JOIN member D ON A.m_num = D.m_num ORDER BY A.p_date desc)
       GROUP BY p_num

I do not know whether this code where the error

",1
8224567,11/22/2011 09:32:18,917158,08/29/2011 04:55:10,11,3,How to use mysql gui on mac os lion,I have mysql (latest) installed on my mac lion. I can see in the settings that its installed. but i am unable to view the content ilke i can view using the Sqlite DataBase Browser. Please suggest some good software to view using gui tool. Also suggest tool which i can use to view mysql Database on ec2 ubuntu server. ,mysql,ruby-on-rails,amazon-ec2,,,12/21/2011 02:13:24,off topic,1,61,9,How to use mysql gui on mac os lion I have mysql (latest) installed on my mac lion. I can see in the settings that its installed. but i am unable to view the content ilke i can view using the Sqlite DataBase Browser. Please suggest some good software to view using gui tool. Also suggest tool which i can use to view mysql Database on ec2 ubuntu server. ,3
642474,03/13/2009 12:35:21,5838,09/11/2008 13:46:29,46,1,Mysql query with wildcard on number strings,"I am trying to query a mysql table which contains strings of numbers
(i.e. '1,2,3,4,5').

How do I search to see if it has '1' but not '11' bearing in mind if it is '9,10' '9%' doesnt work??",mysql,wildcard,,,,,open,0,36,7,"Mysql query with wildcard on number strings I am trying to query a mysql table which contains strings of numbers
(i.e. '1,2,3,4,5').

How do I search to see if it has '1' but not '11' bearing in mind if it is '9,10' '9%' doesnt work??",2
1318666,08/23/2009 14:10:15,131050,06/30/2009 12:52:53,65,1,Group by MySQL mess,"I am really having a trouble figuring this one out.

I have a table 'Comments':

    cmt_id (primary key, auto incr), thread_id, cmt_text

And I have these records in it:


    cmt_id   thread_id       cmt_txt
    5002     1251035762511   Alright, I second this. 
    5003     1251036148894   Yet another comment.
    5001     1251035762511   I am starting a thread on this.
    
I want to now, get the maximum `cmt_id` record in EACH thread. So, I did an aggregation query this way:

    SELECT cmt_id, thread_id, cmt_text, MIN(cmt_id) FROM comments 
    GROUP BY thread_id;

However, I end up with this:

    cmt_id   thread_id 	  cmt_text 	                  MIN(cmt_id)
    5002 	1251035762511 	Alright, I second this. 	5001
    5003 	1251036148894 	Yet another comment. 	    5003

For the thread with `thread_id` ""1251035762511"",  I am always getting the comment with `cmt_id` 5002 as the record with minimum comment id.. I even tried inserting new records, `cmt_id` 5002 always comes as MIN and not the record with `cmt_id` 5001.",mysql,group-by,database,sql,,,open,0,230,4,"Group by MySQL mess I am really having a trouble figuring this one out.

I have a table 'Comments':

    cmt_id (primary key, auto incr), thread_id, cmt_text

And I have these records in it:


    cmt_id   thread_id       cmt_txt
    5002     1251035762511   Alright, I second this. 
    5003     1251036148894   Yet another comment.
    5001     1251035762511   I am starting a thread on this.
    
I want to now, get the maximum `cmt_id` record in EACH thread. So, I did an aggregation query this way:

    SELECT cmt_id, thread_id, cmt_text, MIN(cmt_id) FROM comments 
    GROUP BY thread_id;

However, I end up with this:

    cmt_id   thread_id 	  cmt_text 	                  MIN(cmt_id)
    5002 	1251035762511 	Alright, I second this. 	5001
    5003 	1251036148894 	Yet another comment. 	    5003

For the thread with `thread_id` ""1251035762511"",  I am always getting the comment with `cmt_id` 5002 as the record with minimum comment id.. I even tried inserting new records, `cmt_id` 5002 always comes as MIN and not the record with `cmt_id` 5001.",4
7048716,08/13/2011 05:12:13,474171,10/13/2010 07:14:44,131,5,What's the most used MySQL 5.1.x version for product environment,"What's the most used MySQL 5.1.x version for product environment?

The newest version of MySQL 5.1.x is 5.1.58, and I doubt about its performance compared to the previous version.

Any advice appreciated.",mysql,,,,,08/13/2011 12:53:43,not constructive,1,30,10,"What's the most used MySQL 5.1.x version for product environment What's the most used MySQL 5.1.x version for product environment?

The newest version of MySQL 5.1.x is 5.1.58, and I doubt about its performance compared to the previous version.

Any advice appreciated.",1
7149297,08/22/2011 14:51:40,891181,08/12/2011 05:49:31,12,0,Advice on coding a website. Images and a Database,"I would be grateful for some advice on a website, I wish to create.

I want to set up a site of items, which have information and images associated with each item.

The items will have several description fields and some sysadmin fields.

Each item would have two gallery fields one containing the directory path and the other the order of image files to be displayed, by filename.

**One of my major requirements is to be able to re-arrange the order of the images by drag and dropping thumbnails
( as in svManager by Simple Viewer), which would update the corresponding item gallery filenames field.**

I have very basic php, javascript and mysql skills.

Would I be better using Mysql(supported by phpMyAdmin) or Amazon's SimpleDB (supported by something similar to phpMyAdmin) ?
and can anyone advise on a drag and drop file manager.

My overall aim, is to keep it as simple as possible, so that 

a) I understand how it works and can easily learn it.

b) If it needs modifying, I will be able to remember how it worked (Grey matter is getting well past its sell by date)

If all my images are stored in directories under public_html, how can I stop programs such as Teleport Pro just downloading all my images, 
because I am under the impression, IMG SRC tags can only see files in their immediate domain.

The basic modules would be

1) Manage Items (Add, Change, Delete) (ADMIN)
2) Manage Images of Items (Add, Change, Delete and MOVE) (ADMIN)
3) Select and Display Items (PUBLIC)

I have tried using Wordpress, SmugMug, Gallery and Blogger, but they never do what I want, the learning curve is so high and they are updated and new ideas and features have to be learned.

So if anyone has any ideas as to my best plan of attack, I would be extremely grateful.

Thanks for reading.",mysql,database,image,amazon-simpledb,file-security,08/22/2011 17:33:18,not a real question,1,299,9,"Advice on coding a website. Images and a Database I would be grateful for some advice on a website, I wish to create.

I want to set up a site of items, which have information and images associated with each item.

The items will have several description fields and some sysadmin fields.

Each item would have two gallery fields one containing the directory path and the other the order of image files to be displayed, by filename.

**One of my major requirements is to be able to re-arrange the order of the images by drag and dropping thumbnails
( as in svManager by Simple Viewer), which would update the corresponding item gallery filenames field.**

I have very basic php, javascript and mysql skills.

Would I be better using Mysql(supported by phpMyAdmin) or Amazon's SimpleDB (supported by something similar to phpMyAdmin) ?
and can anyone advise on a drag and drop file manager.

My overall aim, is to keep it as simple as possible, so that 

a) I understand how it works and can easily learn it.

b) If it needs modifying, I will be able to remember how it worked (Grey matter is getting well past its sell by date)

If all my images are stored in directories under public_html, how can I stop programs such as Teleport Pro just downloading all my images, 
because I am under the impression, IMG SRC tags can only see files in their immediate domain.

The basic modules would be

1) Manage Items (Add, Change, Delete) (ADMIN)
2) Manage Images of Items (Add, Change, Delete and MOVE) (ADMIN)
3) Select and Display Items (PUBLIC)

I have tried using Wordpress, SmugMug, Gallery and Blogger, but they never do what I want, the learning curve is so high and they are updated and new ideas and features have to be learned.

So if anyone has any ideas as to my best plan of attack, I would be extremely grateful.

Thanks for reading.",5
7446012,09/16/2011 14:12:22,899271,07/14/2011 12:20:28,461,0,errorcode:1064 when filtering members based on age,"I want to get the people whose age is between these two values (suppose for example I want to filter out the people aged between 18 and 24).

This is the Member table structure:

     member_id 
     member_firstname 
     member_dob(datatype is string) (values like 1987-09-08,1976-09-08,.....)
i am using mysql as my database.....

    SELECT members.member_Id,
                   members.member_Lastname as 'Last Name',
                   members.member_Firstname as 'First Name',
                   members.member_Postcode as 'Post Code',
                   members.member_Reference as Reference,
                   members.member_CardNum as 'Card Number',
                   members.member_IsBiometric as Biometric,
                   members.member_DOB as DoB,
                   mshiptypes.mshipType_Name as Membership,
                   mshipstatustypes.mshipStatusType_Name as Status,
                   membertomships.memberToMship_EndDate as Expiry
                     FROM members
    INNER JOIN membertomships ON membertomships.member_Id = members.member_Id
     INNER JOIN mshipoptions ON mshipoptions.mshipOption_Id = membertomships.mshipOption_Id
    INNER JOIN mshiptypes ON mshiptypes.mshipType_Id = mshipoptions.mshipType_Id
    INNER JOIN mshipstatustypes ON mshipStatusTypes.mshipStatusType_Id = membertomships.mshipStatusType_Id
    WHERE memberToMship_EndDate BETWEEN '2011-09-24' AND '2011-09-30'
    AND members.member_active LIKE 'y%'
    AND (YEAR(CURDATE(members.member_Dob))-YEAR()) - (RIGHT(CURDATE(),5)< RIGHT(member_Dob,5)) BETWEEN '21' AND '102'
    ORDER BY members.member_Lastname



 got an error like this.....
  

         Error Code: 1064
    You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'member_Dob))-YEAR()) - (RIGHT(CURDATE(),5)< RIGHT(member_Dob,5)) BETWEEN '21' AN' at line 19
",mysql,sql,,,,,open,0,433,7,"errorcode:1064 when filtering members based on age I want to get the people whose age is between these two values (suppose for example I want to filter out the people aged between 18 and 24).

This is the Member table structure:

     member_id 
     member_firstname 
     member_dob(datatype is string) (values like 1987-09-08,1976-09-08,.....)
i am using mysql as my database.....

    SELECT members.member_Id,
                   members.member_Lastname as 'Last Name',
                   members.member_Firstname as 'First Name',
                   members.member_Postcode as 'Post Code',
                   members.member_Reference as Reference,
                   members.member_CardNum as 'Card Number',
                   members.member_IsBiometric as Biometric,
                   members.member_DOB as DoB,
                   mshiptypes.mshipType_Name as Membership,
                   mshipstatustypes.mshipStatusType_Name as Status,
                   membertomships.memberToMship_EndDate as Expiry
                     FROM members
    INNER JOIN membertomships ON membertomships.member_Id = members.member_Id
     INNER JOIN mshipoptions ON mshipoptions.mshipOption_Id = membertomships.mshipOption_Id
    INNER JOIN mshiptypes ON mshiptypes.mshipType_Id = mshipoptions.mshipType_Id
    INNER JOIN mshipstatustypes ON mshipStatusTypes.mshipStatusType_Id = membertomships.mshipStatusType_Id
    WHERE memberToMship_EndDate BETWEEN '2011-09-24' AND '2011-09-30'
    AND members.member_active LIKE 'y%'
    AND (YEAR(CURDATE(members.member_Dob))-YEAR()) - (RIGHT(CURDATE(),5)< RIGHT(member_Dob,5)) BETWEEN '21' AND '102'
    ORDER BY members.member_Lastname



 got an error like this.....
  

         Error Code: 1064
    You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'member_Dob))-YEAR()) - (RIGHT(CURDATE(),5)< RIGHT(member_Dob,5)) BETWEEN '21' AN' at line 19
",2
3662812,09/07/2010 21:11:30,215863,11/20/2009 23:06:05,162,2,Having trouble with MySQL division query (probably simple fix),"I'm trying to figure out the overall ratio for users.  There is basically two columns I need to look at to figure out the ratio, total_emails and total_hours.

    SELECT sum(total_emails/total_hours) as ratio FROM table WHERE id= 1 LIMIT 0, 1;

This appears to adding the ratio up multiple times and I get a number like 8.45 when I should be getting something like .45 

Any idea what I'm doing wrong?",mysql,query,division,,,,open,0,73,9,"Having trouble with MySQL division query (probably simple fix) I'm trying to figure out the overall ratio for users.  There is basically two columns I need to look at to figure out the ratio, total_emails and total_hours.

    SELECT sum(total_emails/total_hours) as ratio FROM table WHERE id= 1 LIMIT 0, 1;

This appears to adding the ratio up multiple times and I get a number like 8.45 when I should be getting something like .45 

Any idea what I'm doing wrong?",3
11649660,07/25/2012 12:25:25,956406,09/21/2011 07:43:51,3,0,how to know which host are trying to connect to mysql server,"I need some utility which monitors which host are trying to connect my mysql server. Bascially i want all details of the users/host which are connected to mysql server OR even attempted to connect.

Thanks",mysql,mysqlconnection,mysqladministrator,,,07/26/2012 01:11:09,off topic,1,34,12,"how to know which host are trying to connect to mysql server I need some utility which monitors which host are trying to connect my mysql server. Bascially i want all details of the users/host which are connected to mysql server OR even attempted to connect.

Thanks",3
7856424,10/21/2011 23:42:10,966742,09/27/2011 09:58:51,3,0,Error 1146 with stored procedure,"hope everything is going great with you, I'm facing a problem with stored procedure, get to the chase, here's the code : 

   

    DELIMITER $$

    CREATE DEFINER=`root`@`localhost` PROCEDURE `register`(in un varchar(45),in pw varchar(45),     

     in user_email varchar(45),
     in permissionid int,in targeted_table varchar(15))
     begin
     declare id int;
     declare target_table varchar(15);
     set target_table = targeted_table;

     insert into user_authentication(user_name,user_password,email,permission_id)
     values(un,pw,user_email,permissionid);

     select user_id into id
     from user_authentication
     where user_name = un;

     insert into target_table(user_id)values(id) ;
     end

whenever I call the SP through this statement :

  

      call register('abeer','somePassword','someEmail',1,'job_seeker')

        
workbench shouts at me coming out with this exception :

         Error Code: 1146
         Table 'recruitment.target_table' doesn't exist

In fact It commits the first insertion statement in the SP, but when It reaches the select statement, I got the exception above, though I'm dead sure the table,job_seeker, is there, can't you just tell me what goes wrong with my SP, for this is the first time using multiple statements inside SP, variables too, thank you .

",mysql,,,,,,open,0,251,5,"Error 1146 with stored procedure hope everything is going great with you, I'm facing a problem with stored procedure, get to the chase, here's the code : 

   

    DELIMITER $$

    CREATE DEFINER=`root`@`localhost` PROCEDURE `register`(in un varchar(45),in pw varchar(45),     

     in user_email varchar(45),
     in permissionid int,in targeted_table varchar(15))
     begin
     declare id int;
     declare target_table varchar(15);
     set target_table = targeted_table;

     insert into user_authentication(user_name,user_password,email,permission_id)
     values(un,pw,user_email,permissionid);

     select user_id into id
     from user_authentication
     where user_name = un;

     insert into target_table(user_id)values(id) ;
     end

whenever I call the SP through this statement :

  

      call register('abeer','somePassword','someEmail',1,'job_seeker')

        
workbench shouts at me coming out with this exception :

         Error Code: 1146
         Table 'recruitment.target_table' doesn't exist

In fact It commits the first insertion statement in the SP, but when It reaches the select statement, I got the exception above, though I'm dead sure the table,job_seeker, is there, can't you just tell me what goes wrong with my SP, for this is the first time using multiple statements inside SP, variables too, thank you .

",1
9508592,02/29/2012 23:52:49,1203264,02/11/2012 02:02:58,1,0,MYSQL and Paypal,"I am trying to figure out a way to configure paypal and mysql. For example: After a user has purchased something, I want paypal to verify that the payment has gone through and it will update my database in phpmyadmin and it will output the necessary information (transaction id, how much etc.). 

How would I be able to do the above? Can anyone provide links to tutorials and helpful steps. Thanks!

Also: I've tried looking through the paypal dev section, no luck. I've searched through multiple topics and I have had no luck into what I am looking for. 
",mysql,paypal,integration,,,03/02/2012 03:33:15,not a real question,1,99,3,"MYSQL and Paypal I am trying to figure out a way to configure paypal and mysql. For example: After a user has purchased something, I want paypal to verify that the payment has gone through and it will update my database in phpmyadmin and it will output the necessary information (transaction id, how much etc.). 

How would I be able to do the above? Can anyone provide links to tutorials and helpful steps. Thanks!

Also: I've tried looking through the paypal dev section, no luck. I've searched through multiple topics and I have had no luck into what I am looking for. 
",3
10562080,05/12/2012 08:12:21,1193020,02/06/2012 18:42:15,50,0,Connecting to MySQL over https,"I have Mysql on a separate server. Do SSL certificates need to be installed on this server as well?  I am currently gettings errors over https.

Please advise..

Thanks",mysql,ssl,https,,,,open,0,28,5,"Connecting to MySQL over https I have Mysql on a separate server. Do SSL certificates need to be installed on this server as well?  I am currently gettings errors over https.

Please advise..

Thanks",3
2650718,04/16/2010 04:58:08,207556,11/10/2009 06:10:31,246,16,How to get this done in mysql?,"Consider i have a registartion table and there is field `prefLocationId` and it contains value like this `1,2,3`,`2`,`1,4` and so many.... And i have a table `prefLocation` which looks like this

    Id LocationName
    1  Chennai
    2  Mumbai
    3  Kolkatta
    4  Delhi

and i want to select record of users and show values like

`Chennai,Mumbai,Kolkatta`,`Mumbai`,`Chennai,Delhi` and so on...
",mysql,select,statement,,,,open,0,74,7,"How to get this done in mysql? Consider i have a registartion table and there is field `prefLocationId` and it contains value like this `1,2,3`,`2`,`1,4` and so many.... And i have a table `prefLocation` which looks like this

    Id LocationName
    1  Chennai
    2  Mumbai
    3  Kolkatta
    4  Delhi

and i want to select record of users and show values like

`Chennai,Mumbai,Kolkatta`,`Mumbai`,`Chennai,Delhi` and so on...
",3
6832927,07/26/2011 15:55:34,1088570,07/05/2011 21:41:11,107,0,Mysql syntax help -- Update,"I have 1500 rows and i want to update all the rows with a constant value(Varchar)

This can done using UPDATE command in Mysql but i am not sure about the syntax for that..

Thanks in advance.",mysql,,,,,07/27/2011 10:40:03,not a real question,1,35,5,"Mysql syntax help -- Update I have 1500 rows and i want to update all the rows with a constant value(Varchar)

This can done using UPDATE command in Mysql but i am not sure about the syntax for that..

Thanks in advance.",1
11482616,07/14/2012 09:32:46,42782,12/03/2008 11:02:42,286,3,Database tables design,"if i have in my javacode:

 - Class **Patient** :contains instance of anther classes (mentioned bellow) 
 - Class **PatientBasicInformation**: contains PatientId, phoneNumber, Name, Gender, Age.
 - Class **PatientImageFinidgns**: contains Date, comments, lesionSize, site, procedure.
 - Class **PatientLabFindings**: contains Date, t1,t2,t3,t4.
 - Class **PatientTreatment**: contains visitNumber, Date, some other data.

**Id** is a primary key for the Patient.. and **Date** is very important key in both PatientImageFindings, and PatientLabFindings.. **visitNumber** is my primaryKey in PatientTreatment 

how could i design this Classes in DB.. should i create Table Patient which holds only foreign keys of the other classes (like ID, Date, VisitNumber) or should i put PatientId in the Table Patient as a primary Key and as a foreign key in PatientBasicInformation Table.. and if so what would be the primary Key in PatientBasicInformation Table.

i want a simple and clear answer as i'm a beginner in DB and i read lots or articles about DB but i still didn't get the whole picture..


",mysql,database,,,,07/14/2012 21:40:49,off topic,1,161,3,"Database tables design if i have in my javacode:

 - Class **Patient** :contains instance of anther classes (mentioned bellow) 
 - Class **PatientBasicInformation**: contains PatientId, phoneNumber, Name, Gender, Age.
 - Class **PatientImageFinidgns**: contains Date, comments, lesionSize, site, procedure.
 - Class **PatientLabFindings**: contains Date, t1,t2,t3,t4.
 - Class **PatientTreatment**: contains visitNumber, Date, some other data.

**Id** is a primary key for the Patient.. and **Date** is very important key in both PatientImageFindings, and PatientLabFindings.. **visitNumber** is my primaryKey in PatientTreatment 

how could i design this Classes in DB.. should i create Table Patient which holds only foreign keys of the other classes (like ID, Date, VisitNumber) or should i put PatientId in the Table Patient as a primary Key and as a foreign key in PatientBasicInformation Table.. and if so what would be the primary Key in PatientBasicInformation Table.

i want a simple and clear answer as i'm a beginner in DB and i read lots or articles about DB but i still didn't get the whole picture..


",2
11238198,06/28/2012 04:46:03,1397922,05/16/2012 07:14:47,1,0,"How to use ""OnColumnMoved' event handler with a TDBGrid?","I have a Database project mix with RAD Studio C++ Builder XE using dbExpress component.
I handling a Grid 'Drag Title' event with TDBGrid Component. I've found the most match event handler, it's named 'OnColumnMoved' but i don't know how to use it correctly. It's come with two additional integer parameter called FromIndex and ToIndex which i didn't understand.
Anyone can help me here? Please help me resolve this complex problem :(",mysql,c++builder,dbexpress,tdbgrid,,06/29/2012 11:45:04,not a real question,1,70,9,"How to use ""OnColumnMoved' event handler with a TDBGrid? I have a Database project mix with RAD Studio C++ Builder XE using dbExpress component.
I handling a Grid 'Drag Title' event with TDBGrid Component. I've found the most match event handler, it's named 'OnColumnMoved' but i don't know how to use it correctly. It's come with two additional integer parameter called FromIndex and ToIndex which i didn't understand.
Anyone can help me here? Please help me resolve this complex problem :(",4
10146043,04/13/2012 18:08:10,1069473,11/28/2011 14:11:32,46,0,SQL queries that are optimized for high scaled sites,"I am quite new to scalability in mysql.

Say I have 3 tables.

table 1 users - it has 3 million records
table 2 addresses - it has 10 million records
table 3 login - it has 4 million records

in mySQL. Now lets say we wanted to join all 3 tables together and get x data from a 100,000 users without using JOIN, how could I get x data quickly.",mysql,sql,,,,04/17/2012 04:38:40,not a real question,1,66,9,"SQL queries that are optimized for high scaled sites I am quite new to scalability in mysql.

Say I have 3 tables.

table 1 users - it has 3 million records
table 2 addresses - it has 10 million records
table 3 login - it has 4 million records

in mySQL. Now lets say we wanted to join all 3 tables together and get x data from a 100,000 users without using JOIN, how could I get x data quickly.",2
6527599,06/29/2011 21:40:55,435859,08/31/2010 11:17:29,56,1,mysql forgets who is logged in: command denied to user ''@'%',"Running `show grants;` indicates that I am logged in as a user with all privileges on a database.

Running `show table status;` results in an error.  And the error does not show the username I am logged in as!

It's as if, for this command, mysql forgets who I am.  Other select statements work fine.  Can anyone explain this?  How to fix?  Thanks.


    
    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 2
    Server version: 5.5.13-log Source distribution
    
    Copyright (c) 2000, 2010, Oracle and/or its affiliates. All rights reserved.
    
    Oracle is a registered trademark of Oracle Corporation and/or its
    affiliates. Other names may be trademarks of their respective
    owners.
    
    Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
    
    mysql> show grants;
    +---------------------------------------------------------------------------------------------------------------------+
    | Grants for php@localhost                                                                                            |
    +---------------------------------------------------------------------------------------------------------------------+
    | GRANT ALL PRIVILEGES ON *.* TO 'php'@'localhost' IDENTIFIED BY PASSWORD '*8F5FF90079BC601F8EA7C148475658E65A0C029D' |
    | GRANT ALL PRIVILEGES ON `sunflower_work`.* TO 'php'@'localhost'                                                     |
    | GRANT ALL PRIVILEGES ON `news_demo`.* TO 'php'@'localhost'                                                          |
    | GRANT ALL PRIVILEGES ON `news_base`.* TO 'php'@'localhost'                                                          |
    +---------------------------------------------------------------------------------------------------------------------+
    4 rows in set (0.00 sec)
    
    mysql> show table status from sunflower_work;
    ERROR 1143 (42000): SELECT command denied to user ''@'%' for column 'uid' in table 'users'
    mysql>

 
",mysql,,,,,,open,0,558,11,"mysql forgets who is logged in: command denied to user ''@'%' Running `show grants;` indicates that I am logged in as a user with all privileges on a database.

Running `show table status;` results in an error.  And the error does not show the username I am logged in as!

It's as if, for this command, mysql forgets who I am.  Other select statements work fine.  Can anyone explain this?  How to fix?  Thanks.


    
    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 2
    Server version: 5.5.13-log Source distribution
    
    Copyright (c) 2000, 2010, Oracle and/or its affiliates. All rights reserved.
    
    Oracle is a registered trademark of Oracle Corporation and/or its
    affiliates. Other names may be trademarks of their respective
    owners.
    
    Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
    
    mysql> show grants;
    +---------------------------------------------------------------------------------------------------------------------+
    | Grants for php@localhost                                                                                            |
    +---------------------------------------------------------------------------------------------------------------------+
    | GRANT ALL PRIVILEGES ON *.* TO 'php'@'localhost' IDENTIFIED BY PASSWORD '*8F5FF90079BC601F8EA7C148475658E65A0C029D' |
    | GRANT ALL PRIVILEGES ON `sunflower_work`.* TO 'php'@'localhost'                                                     |
    | GRANT ALL PRIVILEGES ON `news_demo`.* TO 'php'@'localhost'                                                          |
    | GRANT ALL PRIVILEGES ON `news_base`.* TO 'php'@'localhost'                                                          |
    +---------------------------------------------------------------------------------------------------------------------+
    4 rows in set (0.00 sec)
    
    mysql> show table status from sunflower_work;
    ERROR 1143 (42000): SELECT command denied to user ''@'%' for column 'uid' in table 'users'
    mysql>

 
",1
8438821,12/08/2011 22:49:21,1017480,10/27/2011 23:25:51,231,12,Can I make MySQL SELECT LIKE syntax smarter?,"I've noticed that LIKE 'a%' would return results with 'árbol' but LIKE 'AE%' will not return results like ""Æther"". What is the extent to which LIKE is smart? Lets say I have these database entries:

    Black Blue
    Black Blew

Is there any way to have MySQL match both smartly with LIKE 'Black Bleu' (Since they are quite close)? Or is LIKE '_%' only capable of matching exact characters, with the aforementioned exception?",mysql,,,,,,open,0,77,8,"Can I make MySQL SELECT LIKE syntax smarter? I've noticed that LIKE 'a%' would return results with 'árbol' but LIKE 'AE%' will not return results like ""Æther"". What is the extent to which LIKE is smart? Lets say I have these database entries:

    Black Blue
    Black Blew

Is there any way to have MySQL match both smartly with LIKE 'Black Bleu' (Since they are quite close)? Or is LIKE '_%' only capable of matching exact characters, with the aforementioned exception?",1
8990036,01/24/2012 16:07:13,995089,10/14/2011 08:57:47,151,19,Exception with Glassfish - MySQL,"I am developing a JSF and EJB based application.  The application runs fine, the first few times when I try to run the application from the IDE.  After making some changes, say, I can run the application from the IDE(Netbeans 7.1) for some 4 times.  The 5th time I run the appliaction I generally get the following exception,

    WARNING: RAR5035:Unexpected exception while destroying resource from pool mysql_mysql_rootPool. Exception message: WEB9031: WebappClassLoader unable to load resource [com.mysql.jdbc.profiler.ProfilerEventHandlerFactory], because it has not yet been started, or was already stopped
    WARNING: RAR5058: Error while Resizing pool mysql_mysql_rootPool. Exception : null

After this, I am no longer able to use the application and I have to restart the AS.  I believe this has something to do with a wrong configuration of the JDBC Connection Pool in Glassfish.  Could you please give me some solutions to avoid this?  If there are any pointers to sample configurations of the connection pool, please share it with me.

-Thanks ",mysql,hibernate,jpa-2.0,glassfish-3,,,open,0,172,5,"Exception with Glassfish - MySQL I am developing a JSF and EJB based application.  The application runs fine, the first few times when I try to run the application from the IDE.  After making some changes, say, I can run the application from the IDE(Netbeans 7.1) for some 4 times.  The 5th time I run the appliaction I generally get the following exception,

    WARNING: RAR5035:Unexpected exception while destroying resource from pool mysql_mysql_rootPool. Exception message: WEB9031: WebappClassLoader unable to load resource [com.mysql.jdbc.profiler.ProfilerEventHandlerFactory], because it has not yet been started, or was already stopped
    WARNING: RAR5058: Error while Resizing pool mysql_mysql_rootPool. Exception : null

After this, I am no longer able to use the application and I have to restart the AS.  I believe this has something to do with a wrong configuration of the JDBC Connection Pool in Glassfish.  Could you please give me some solutions to avoid this?  If there are any pointers to sample configurations of the connection pool, please share it with me.

-Thanks ",4
4780529,01/24/2011 09:43:22,267348,11/20/2009 13:37:08,76,17,What is the story behind MySQL's SHOW CONTRIBUTORS?,"[SHOW CONTRIBUTORS][1] is a little sparse on information.

> The SHOW CONTRIBUTORS statement displays information about the people who contribute to MySQL source or to causes that we support. For each contributor, it displays Name, Location, and Comment values.

Can you tell us more about the story behind it? Anecdotes welcome!

  [1]: http://dev.mysql.com/doc/refman/5.1/en/show-contributors.html",mysql,culture,,,,01/24/2011 09:50:41,not a real question,1,52,8,"What is the story behind MySQL's SHOW CONTRIBUTORS? [SHOW CONTRIBUTORS][1] is a little sparse on information.

> The SHOW CONTRIBUTORS statement displays information about the people who contribute to MySQL source or to causes that we support. For each contributor, it displays Name, Location, and Comment values.

Can you tell us more about the story behind it? Anecdotes welcome!

  [1]: http://dev.mysql.com/doc/refman/5.1/en/show-contributors.html",2
4228517,11/19/2010 19:12:43,107415,02/13/2009 01:34:05,12820,470,"MySQL claims that I can use columns in SELECT that aren't in GROUP BY, but I can't with equal performance","The MySQL documents state in [section 11.5.3][1] that, despite what the SQL standard may say, it's just fine to use columns in the SELECT clause that aren't in the GROUP BY clause, so long as they are functionally dependent on the grouped key.

> MySQL extends the use of GROUP BY so
> that you can use nonaggregated columns
> or calculations in the select list
> that do not appear in the GROUP BY
> clause. You can use this feature to
> get better performance by avoiding
> unnecessary column sorting and
> grouping. For example, you need not
> group on customer.name in the
> following query:
> 
>     SELECT order.custid, customer.name,
>     MAX(payments)   FROM order,customer  
>     WHERE order.custid = customer.custid  
>     GROUP BY order.custid;
>
> In standard
> SQL, you would have to add
> customer.name to the GROUP BY clause.
> In MySQL, the name is redundant.

Sounds reasonable. However, though I *can* select those columns, it seems to have an adverse effect on performance.

    EXPLAIN SELECT o.id FROM objects o GROUP BY o.id;
    +----+-------------+-------+-------+---------------+---------+---------+------+------+--------------------------+
    | id | select_type | table | type  | possible_keys | key     | key_len | ref  | rows | Extra                    |
    +----+-------------+-------+-------+---------------+---------+---------+------+------+--------------------------+
    |  1 | SIMPLE      | o     | range | NULL          | PRIMARY | 3       | NULL | 5262 | Using index for group-by |
    +----+-------------+-------+-------+---------------+---------+---------+------+------+--------------------------+

(I realize that this query is pretty silly; it's just the simplest version of a more complex query that has the same issue.) When selecting just the primary key ID I group by, then MySQL uses the primary key index. However, when I include other columns, MySQL does not.

    EXPLAIN SELECT o.id, o.name FROM objects o GROUP BY o.id;
    +----+-------------+-------+------+---------------+------+---------+------+------+----------------+
    | id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra          |
    +----+-------------+-------+------+---------------+------+---------+------+------+----------------+
    |  1 | SIMPLE      | o     | ALL  | NULL          | NULL | NULL    | NULL | 5261 | Using filesort |
    +----+-------------+-------+------+---------------+------+---------+------+------+----------------+

That use of filesort instead of the index really sets me back. I'm currently looking to select `*` from this table, so would like to avoid having to repeat all columns in the group and index them. Is there any way to get MySQL to use the primary key index, as I expect it to?

  [1]: http://dev.mysql.com/doc/refman/4.1/en/group-by-hidden-columns.html",mysql,optimization,indexing,group-by,,,open,0,511,20,"MySQL claims that I can use columns in SELECT that aren't in GROUP BY, but I can't with equal performance The MySQL documents state in [section 11.5.3][1] that, despite what the SQL standard may say, it's just fine to use columns in the SELECT clause that aren't in the GROUP BY clause, so long as they are functionally dependent on the grouped key.

> MySQL extends the use of GROUP BY so
> that you can use nonaggregated columns
> or calculations in the select list
> that do not appear in the GROUP BY
> clause. You can use this feature to
> get better performance by avoiding
> unnecessary column sorting and
> grouping. For example, you need not
> group on customer.name in the
> following query:
> 
>     SELECT order.custid, customer.name,
>     MAX(payments)   FROM order,customer  
>     WHERE order.custid = customer.custid  
>     GROUP BY order.custid;
>
> In standard
> SQL, you would have to add
> customer.name to the GROUP BY clause.
> In MySQL, the name is redundant.

Sounds reasonable. However, though I *can* select those columns, it seems to have an adverse effect on performance.

    EXPLAIN SELECT o.id FROM objects o GROUP BY o.id;
    +----+-------------+-------+-------+---------------+---------+---------+------+------+--------------------------+
    | id | select_type | table | type  | possible_keys | key     | key_len | ref  | rows | Extra                    |
    +----+-------------+-------+-------+---------------+---------+---------+------+------+--------------------------+
    |  1 | SIMPLE      | o     | range | NULL          | PRIMARY | 3       | NULL | 5262 | Using index for group-by |
    +----+-------------+-------+-------+---------------+---------+---------+------+------+--------------------------+

(I realize that this query is pretty silly; it's just the simplest version of a more complex query that has the same issue.) When selecting just the primary key ID I group by, then MySQL uses the primary key index. However, when I include other columns, MySQL does not.

    EXPLAIN SELECT o.id, o.name FROM objects o GROUP BY o.id;
    +----+-------------+-------+------+---------------+------+---------+------+------+----------------+
    | id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra          |
    +----+-------------+-------+------+---------------+------+---------+------+------+----------------+
    |  1 | SIMPLE      | o     | ALL  | NULL          | NULL | NULL    | NULL | 5261 | Using filesort |
    +----+-------------+-------+------+---------------+------+---------+------+------+----------------+

That use of filesort instead of the index really sets me back. I'm currently looking to select `*` from this table, so would like to avoid having to repeat all columns in the group and index them. Is there any way to get MySQL to use the primary key index, as I expect it to?

  [1]: http://dev.mysql.com/doc/refman/4.1/en/group-by-hidden-columns.html",4
1321537,08/24/2009 10:14:49,119032,06/08/2009 05:16:26,245,16,MySQL Comparison Binary Collation vs Binary Strings,"according to mysql certification guide, comparisons between binary collation vs binary strings are different because comparisons in binary collation is done per character vs per byte in binary strings. but what difference does that give?",mysql,types,,,,,open,0,35,7,"MySQL Comparison Binary Collation vs Binary Strings according to mysql certification guide, comparisons between binary collation vs binary strings are different because comparisons in binary collation is done per character vs per byte in binary strings. but what difference does that give?",2
1082053,07/04/2009 11:45:32,54964,01/14/2009 11:38:17,1296,55,How to monitor Network tarffic with MySQL?,"ifconfig -output is somewhat messy thing to look at. When I saw the nice output below with the command <a href=""http://www.yolinux.com/TUTORIALS/LinuxTutorialMySQL.html"">(source)</a>, the question emerged:

> Is there some more structured, let say
> MySQL, way to look at ifconfig or similar data? 

It would be cool, if I could monitor the network traffic in databases.

    [prompt]$ mysqladmin -h localhost -u root -p processlist
    
    +----+------+-----------+----+---------+------+-------+------------------+
    | Id | User | Host      | db | Command | Time | State | Info             |
    +----+------+-----------+----+---------+------+-------+------------------+
    | 15 | root | localhost |    | Query   | 0    |       | show processlist |
    +----+------+-----------+----+---------+------+-------+------------------+",mysql,ifconfig,networking,,,,open,0,150,7,"How to monitor Network tarffic with MySQL? ifconfig -output is somewhat messy thing to look at. When I saw the nice output below with the command <a href=""http://www.yolinux.com/TUTORIALS/LinuxTutorialMySQL.html"">(source)</a>, the question emerged:

> Is there some more structured, let say
> MySQL, way to look at ifconfig or similar data? 

It would be cool, if I could monitor the network traffic in databases.

    [prompt]$ mysqladmin -h localhost -u root -p processlist
    
    +----+------+-----------+----+---------+------+-------+------------------+
    | Id | User | Host      | db | Command | Time | State | Info             |
    +----+------+-----------+----+---------+------+-------+------------------+
    | 15 | root | localhost |    | Query   | 0    |       | show processlist |
    +----+------+-----------+----+---------+------+-------+------------------+",3
5697427,04/18/2011 00:25:24,666159,03/18/2011 14:16:07,1,0,What database model would be appropicate?,"[IMG]http://img190.imageshack.us/img190/6023/relationalfinaldatabase.jpg[/img]

how  can I start an scenario like this in the sql database?",mysql,,,,,04/18/2011 19:20:16,not a real question,1,13,6,"What database model would be appropicate? [IMG]http://img190.imageshack.us/img190/6023/relationalfinaldatabase.jpg[/img]

how  can I start an scenario like this in the sql database?",1
11397354,07/09/2012 14:40:39,1386293,05/10/2012 06:13:32,1,0,MySql execution plan changes with larger data set,"given sql query:

    SELECT DISTINCT h.hid,h.name, hg.gid FROM h, hg
    WHERE (hg.gid IN ('12','13','14','11','10','7','8','9','6'))
    AND hg.hid=h.hid AND h.hostid BETWEEN 0 AND 99999999999999

stupid stack-overflow doesn't allow pictures, wouldn't it be nice to not allow upload them at all in the first place. Will try to use stack-overflow again in about 6 month, by now had only bad experience. :(

Why MySql do change execution plan with larger data set resulting in very long query?

Is there any strait forward way to force first execution plan in second case also?",mysql,performance,query-execution-plans,,,07/10/2012 01:51:23,not a real question,1,95,8,"MySql execution plan changes with larger data set given sql query:

    SELECT DISTINCT h.hid,h.name, hg.gid FROM h, hg
    WHERE (hg.gid IN ('12','13','14','11','10','7','8','9','6'))
    AND hg.hid=h.hid AND h.hostid BETWEEN 0 AND 99999999999999

stupid stack-overflow doesn't allow pictures, wouldn't it be nice to not allow upload them at all in the first place. Will try to use stack-overflow again in about 6 month, by now had only bad experience. :(

Why MySql do change execution plan with larger data set resulting in very long query?

Is there any strait forward way to force first execution plan in second case also?",3
9583630,03/06/2012 12:22:16,592298,01/27/2011 14:02:21,58,1,use of signal for insert statement in mysql stored procedure,"I want to create a procedure in which all type of possible errors should be handled using SIGNAL. Below is my stored procedure.

    DROP PROCEDURE IF EXISTS `spItem`$$
    CREATE PROCEDURE `spItem`(
           IN p_itemname VARCHAR(50),
           IN p_itemvalue smallint(6),      
           )
    BEGIN
          INSERT INTO item VALUES('',p_itemname,p_itemvalue);
    END$$
How we can use SIGNALstatement for each kind of error in the above stored procedure that checks:-

    1. Syntax Error in the insert statement
    2. check duplicate item name
    3. check valid item value as it should just accept numeric value.
what changes will be required in the above stored procedure to handle above errors.",mysql,signals,statement,procedure,,,open,0,163,10,"use of signal for insert statement in mysql stored procedure I want to create a procedure in which all type of possible errors should be handled using SIGNAL. Below is my stored procedure.

    DROP PROCEDURE IF EXISTS `spItem`$$
    CREATE PROCEDURE `spItem`(
           IN p_itemname VARCHAR(50),
           IN p_itemvalue smallint(6),      
           )
    BEGIN
          INSERT INTO item VALUES('',p_itemname,p_itemvalue);
    END$$
How we can use SIGNALstatement for each kind of error in the above stored procedure that checks:-

    1. Syntax Error in the insert statement
    2. check duplicate item name
    3. check valid item value as it should just accept numeric value.
what changes will be required in the above stored procedure to handle above errors.",4
7301668,09/04/2011 19:38:42,739851,05/05/2011 11:44:49,137,1,Selecting some results of SQL query,"From a simple SQL query in MySQL how can I get only the 5 first results?  
And then, how can I get the next 5 results?

For example (pseudo code):  
    
    select * from (select * from some_table) where <first 5 results>
    select * from (select * from some_table) where <second 5 results (6-10)>",mysql,sql,,,,,open,0,65,6,"Selecting some results of SQL query From a simple SQL query in MySQL how can I get only the 5 first results?  
And then, how can I get the next 5 results?

For example (pseudo code):  
    
    select * from (select * from some_table) where <first 5 results>
    select * from (select * from some_table) where <second 5 results (6-10)>",2
10510768,05/09/2012 06:22:08,1077190,12/02/2011 10:30:05,29,0,Printing number series using mysql select statement,"I want to print number series like 1,2,3,4,5 etc using only select statement


Output:
     
       Select ...........
        1
        2
        3
        4
I want this to done using one single statement",mysql,sql,,,,05/09/2012 12:37:44,not a real question,1,66,7,"Printing number series using mysql select statement I want to print number series like 1,2,3,4,5 etc using only select statement


Output:
     
       Select ...........
        1
        2
        3
        4
I want this to done using one single statement",2
9270968,02/14/2012 02:37:58,357189,06/03/2010 07:13:00,1434,24,MySQL sort order by both timestamp and enum,"I'm trying to sort order by both timestamp and enum (main order timestamp, ""sub-order"" enum), but it seems only one or the other works. 



It's a very simple table called `table`: 

`id | task | date_estimated [timestamp] | status [enum]`

I've tried:

`select * from table order by date_estimated DESC, status DESC` 

which, should, in theory, give me something that is sub-sorted by enum status per date, right? 

<pre>
3/5/2012
added - gas up
done - buy milk
done - buy pencils
</pre>

But, it's giving me a jumble like

<pre>
3/5/2012
done - buy milk
added - gas up
done - buy pencils
</pre>

How do I write a query to sort like the first case?",mysql,enums,timestamp,order-by,,,open,0,102,8,"MySQL sort order by both timestamp and enum I'm trying to sort order by both timestamp and enum (main order timestamp, ""sub-order"" enum), but it seems only one or the other works. 



It's a very simple table called `table`: 

`id | task | date_estimated [timestamp] | status [enum]`

I've tried:

`select * from table order by date_estimated DESC, status DESC` 

which, should, in theory, give me something that is sub-sorted by enum status per date, right? 

<pre>
3/5/2012
added - gas up
done - buy milk
done - buy pencils
</pre>

But, it's giving me a jumble like

<pre>
3/5/2012
done - buy milk
added - gas up
done - buy pencils
</pre>

How do I write a query to sort like the first case?",4
10062530,04/08/2012 11:40:28,1044564,11/13/2011 20:27:48,1,0,Trouble with MySQL Server 5.5 installation,"I have installed Mysql server 5.5 on my system for a php-mysql related database project. The thing is that somehow the server installation is not being done properly. The server is working fine as long is the system is on , but when exit the mysql server and then shut down my system , and switch it on again - the server does not work. I go to the  MySql command line 5.5 and double click on it i get an error screen which vanishes even before i can read what the error is and i have to uninstall and re-install the server again. 

I have to have this project ready in the net 15 days - can somebody please tell me what the problem is and how it can be solved

Thanks
Soumya",mysql,installation,,,,04/09/2012 14:06:07,off topic,1,133,6,"Trouble with MySQL Server 5.5 installation I have installed Mysql server 5.5 on my system for a php-mysql related database project. The thing is that somehow the server installation is not being done properly. The server is working fine as long is the system is on , but when exit the mysql server and then shut down my system , and switch it on again - the server does not work. I go to the  MySql command line 5.5 and double click on it i get an error screen which vanishes even before i can read what the error is and i have to uninstall and re-install the server again. 

I have to have this project ready in the net 15 days - can somebody please tell me what the problem is and how it can be solved

Thanks
Soumya",2
8866110,01/14/2012 23:05:11,783500,06/03/2011 23:44:55,77,2,MySQL Query doesn't show all the results that I need,"I have the following db table (People):

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Jill   | House  |   31   |  10:20 |
    | Tim    | Flat   |   31   |  10:30 |
    | NULL   | Tower  |  NULL  |  NULL  |
    | Jack   | Hut    |   32   |  10:50 |
    | Jane   | Cabin  |   35   |  10:60 |
    | Susan  | Cabin  |   35   |  11:70 |
    +--------+--------+--------+--------+ 

Now I want to show all Buildings (and the data that comes with it) that Tim owns. I did that like this:

    SELECT * FROM `People` WHERE Name=""Tim""

Result:

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Tim    | Flat   |   31   |  10:30 |

So far so good. The thing is, there are more buildings (Tower, Hut and Cabin). I want to show these too but leave the data (accept the building type) blank.

**This result is that I need:**

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Tim    | Flat   |   31   |  10:30 |
    | NULL   | Tower  |  NULL  |  NULL  |
    | NULL   | Hut    |  NULL  |  NULL  |
    | NULL   | Cabin  |  NULL  |  NULL  |
    +--------+--------+--------+--------+

Since Tower was already NULL I can easily extract that one using:

    SELECT * FROM `People` WHERE Name=""Tim"" OR Name is NULL

Result:

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Tim    | Flat   |   31   |  10:30 |
    | NULL   | Tower  |  NULL  |  NULL  |
    +--------+--------+--------+--------+

Problem is, I still miss the Hut and Cabin. Can this even be done with a query? Also tried some options like GROUP BY etc but this gave mixed data in return. Also searched using Google but had no luck.

Hope anyone can help me out!

ps. as a workaround I can add in the db:

     | NULL   | Hut    |  NULL  |  NULL  |
     | NULL   | Cabin  |  NULL  |  NULL  |

But that will be a immense job to contain this table when you add more buildings",mysql,query,,,,,open,0,672,10,"MySQL Query doesn't show all the results that I need I have the following db table (People):

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Jill   | House  |   31   |  10:20 |
    | Tim    | Flat   |   31   |  10:30 |
    | NULL   | Tower  |  NULL  |  NULL  |
    | Jack   | Hut    |   32   |  10:50 |
    | Jane   | Cabin  |   35   |  10:60 |
    | Susan  | Cabin  |   35   |  11:70 |
    +--------+--------+--------+--------+ 

Now I want to show all Buildings (and the data that comes with it) that Tim owns. I did that like this:

    SELECT * FROM `People` WHERE Name=""Tim""

Result:

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Tim    | Flat   |   31   |  10:30 |

So far so good. The thing is, there are more buildings (Tower, Hut and Cabin). I want to show these too but leave the data (accept the building type) blank.

**This result is that I need:**

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Tim    | Flat   |   31   |  10:30 |
    | NULL   | Tower  |  NULL  |  NULL  |
    | NULL   | Hut    |  NULL  |  NULL  |
    | NULL   | Cabin  |  NULL  |  NULL  |
    +--------+--------+--------+--------+

Since Tower was already NULL I can easily extract that one using:

    SELECT * FROM `People` WHERE Name=""Tim"" OR Name is NULL

Result:

    +--------+--------+--------+--------+
    |  Name  |Building|   Nr   |  Time  |
    +--------+--------+--------+--------+
    | Tim    | House  |   30   |  10:10 |
    | Tim    | Flat   |   31   |  10:30 |
    | NULL   | Tower  |  NULL  |  NULL  |
    +--------+--------+--------+--------+

Problem is, I still miss the Hut and Cabin. Can this even be done with a query? Also tried some options like GROUP BY etc but this gave mixed data in return. Also searched using Google but had no luck.

Hope anyone can help me out!

ps. as a workaround I can add in the db:

     | NULL   | Hut    |  NULL  |  NULL  |
     | NULL   | Cabin  |  NULL  |  NULL  |

But that will be a immense job to contain this table when you add more buildings",2
3683436,09/10/2010 09:15:24,444183,09/10/2010 09:11:54,1,0,Can redis fully replace mysql?,"Simple question, could I conceivably use redis instead of mysql for all sorts of web applications: social networks, geo-location services etc?",mysql,redis,,,,,open,0,21,5,"Can redis fully replace mysql? Simple question, could I conceivably use redis instead of mysql for all sorts of web applications: social networks, geo-location services etc?",2
9217333,02/09/2012 19:22:15,411141,08/04/2010 18:33:19,346,11,Creating a database and tables all at once?,"Hey guys I'm creating a quick mysql file to create a DB with some tables in it. I seem to remember that I can create the DB and tables all at once without using the USE my_db though?

Here's what I'm using right now.

	 CREATE DATABASE IF NOT EXISTS `preferred_inspections`;
	 USE `preferred_inspections`;

		DROP TABLE IF EXISTS `my_table1`;
		CREATE TABLE `my_table1` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		) ENGINE=MyISAM DEFAULT CHARSET=UTF8;

		DROP TABLE IF EXISTS `my_table2`;
		CREATE TABLE `my_table2` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		) ENGINE=MyISAM DEFAULT CHARSET=UTF8;

Can't I do something like this though?? I can't seem to remember or find an example....


	 DROP DATABASE IF EXISTS `preferred_inspections`;
	 CREATE DATABASE `preferred_inspections` (

		CREATE TABLE `my_table1` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		),

		CREATE TABLE `my_table2` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		)

	)	ENGINE=MyISAM DEFAULT CHARSET=UTF8;

Thanks Guys n' Gals",mysql,database-design,create-table,,,,open,0,162,8,"Creating a database and tables all at once? Hey guys I'm creating a quick mysql file to create a DB with some tables in it. I seem to remember that I can create the DB and tables all at once without using the USE my_db though?

Here's what I'm using right now.

	 CREATE DATABASE IF NOT EXISTS `preferred_inspections`;
	 USE `preferred_inspections`;

		DROP TABLE IF EXISTS `my_table1`;
		CREATE TABLE `my_table1` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		) ENGINE=MyISAM DEFAULT CHARSET=UTF8;

		DROP TABLE IF EXISTS `my_table2`;
		CREATE TABLE `my_table2` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		) ENGINE=MyISAM DEFAULT CHARSET=UTF8;

Can't I do something like this though?? I can't seem to remember or find an example....


	 DROP DATABASE IF EXISTS `preferred_inspections`;
	 CREATE DATABASE `preferred_inspections` (

		CREATE TABLE `my_table1` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		),

		CREATE TABLE `my_table2` (

			`key` 					INT UNSIGNED AUTO_INCREMENT, 

			`role` 					VARCHAR(70), 
			`region` 				VARCHAR(70),
			`inspection_type` 		VARCHAR(70),

			`inspection_number` 	SMALLINT,

			`customer_number` 		VARCHAR(70),

			`report_date` 			DATE DEFAULT NULL,

			PRIMARY KEY(key)
			
		)

	)	ENGINE=MyISAM DEFAULT CHARSET=UTF8;

Thanks Guys n' Gals",3
4270508,11/24/2010 19:03:04,150803,08/05/2009 05:37:51,377,17,How do I get data from an old (non-ruby) app to a new (ruby) app?,"I have an old CMS I built using Coldfusion. I would like to get the data from the old CMS to the new Ruby on Rails app. It's not a huge set, only about 1300 records. I need some advice/ideas.

The databases are on separate servers now but that can be fixed, and since I've followed the ""Sensible Defaults"" of RoR, the database structure is different.

Example of old data structure:

**Old CMS Table Example:**

	CONTENT_ID	int
	CONTENT_NAME	varchar	150
	CONTENT_DESC	varchar	500
	CONTENT_ACTIVE	tinyint
	CONTENT_URL	varchar	200

**New RoR CMS Table Example:**

	id	int
	name	varchar	255
	visible	tinyint	1
	content	text
	created_at	datetime
	updated_at	datetime

I'm a RoR newbie so I don't even know where to begin. I was going to use a program like [Navicat][1] and just migrate the data from one server to another. Would that be okay? It has a [utility that will allow you to map columns][2].

  [1]: http://navicat.com/
  [2]: http://navicat.com/manual/online_manual/en/win_manual/index.html",mysql,ruby-on-rails,ruby,,,,open,0,127,15,"How do I get data from an old (non-ruby) app to a new (ruby) app? I have an old CMS I built using Coldfusion. I would like to get the data from the old CMS to the new Ruby on Rails app. It's not a huge set, only about 1300 records. I need some advice/ideas.

The databases are on separate servers now but that can be fixed, and since I've followed the ""Sensible Defaults"" of RoR, the database structure is different.

Example of old data structure:

**Old CMS Table Example:**

	CONTENT_ID	int
	CONTENT_NAME	varchar	150
	CONTENT_DESC	varchar	500
	CONTENT_ACTIVE	tinyint
	CONTENT_URL	varchar	200

**New RoR CMS Table Example:**

	id	int
	name	varchar	255
	visible	tinyint	1
	content	text
	created_at	datetime
	updated_at	datetime

I'm a RoR newbie so I don't even know where to begin. I was going to use a program like [Navicat][1] and just migrate the data from one server to another. Would that be okay? It has a [utility that will allow you to map columns][2].

  [1]: http://navicat.com/
  [2]: http://navicat.com/manual/online_manual/en/win_manual/index.html",3
8110691,11/13/2011 09:19:46,826521,07/03/2011 01:46:48,6,0,Retrieving table entries in MySql,"How do i pull the latest 4 entries (just to fields called ""titleofreview"" and ""yourreview"") from a mysql table and then display it in an html table.

I'm using it for an element called ""Latest Reviews"" So it will need to be constantly updated.

Amar",mysql,database,table,,,11/13/2011 13:43:12,not a real question,1,43,5,"Retrieving table entries in MySql How do i pull the latest 4 entries (just to fields called ""titleofreview"" and ""yourreview"") from a mysql table and then display it in an html table.

I'm using it for an element called ""Latest Reviews"" So it will need to be constantly updated.

Amar",3
10139422,04/13/2012 10:48:56,909822,08/24/2011 14:24:41,19,8,MySQL and PhpMyAdmin config.inc.php Password issue on MAMP,"This is a very strange issue that is similar to a few other people issue that has been going on for a while with MAMP.
I recently upgraded to MAMP2 and followed the instruction for the new phpMyAdmin and it work for a while but recently whenever I try to connect to MySQL I always get this error:

     Error: Could not connect to MySQL server!
     /Applications/MAMP/Library/bin/mysqlcheck: Got error: 1045: Access denied for user 'root'@'localhost' (using password: YES) when trying to connect


So I changed the password to the correct one and changed all the files as per advised on this forum topic: http://forum.mamp.info/viewtopic.php?f=2&t=11974.

But it did not work at all. I realized that there was two phpMyAdmin folder on my Mac one which is in 

     /Applications/MAMP/Library/bin/phpMyAdmin

and the other one in 

     Library/Application Support/appsolute/MAMP PRO/phpMyAdmin

In the first folder the config.inc.php as the correct credential for the user, however the second  as root for both username and password. Obviously I tried to changed that but to no avail, the file is somehow always reverted to the default credential.

Did someone ever had this issue? is there a way to solve this?",mysql,passwords,phpmyadmin,config,mamp,,open,0,203,8,"MySQL and PhpMyAdmin config.inc.php Password issue on MAMP This is a very strange issue that is similar to a few other people issue that has been going on for a while with MAMP.
I recently upgraded to MAMP2 and followed the instruction for the new phpMyAdmin and it work for a while but recently whenever I try to connect to MySQL I always get this error:

     Error: Could not connect to MySQL server!
     /Applications/MAMP/Library/bin/mysqlcheck: Got error: 1045: Access denied for user 'root'@'localhost' (using password: YES) when trying to connect


So I changed the password to the correct one and changed all the files as per advised on this forum topic: http://forum.mamp.info/viewtopic.php?f=2&t=11974.

But it did not work at all. I realized that there was two phpMyAdmin folder on my Mac one which is in 

     /Applications/MAMP/Library/bin/phpMyAdmin

and the other one in 

     Library/Application Support/appsolute/MAMP PRO/phpMyAdmin

In the first folder the config.inc.php as the correct credential for the user, however the second  as root for both username and password. Obviously I tried to changed that but to no avail, the file is somehow always reverted to the default credential.

Did someone ever had this issue? is there a way to solve this?",5
7626758,10/02/2011 13:54:26,927151,09/04/2011 00:37:00,1,0,QUERY OPTIMIZATION IN MASSIVE TABLES,"I have a table containing brick and mortar shops. The table is about 15 million rows with 30 columns.

For now the query time to retrieve a shop when the user type the name of the shop is about 15 to 20 seconds (we display an autocomplete list so the user can directly select from the list).

I would like to reach a query time of 2-3 seconds so users don't feel frustrated.

What are the actions i should take to reach this goal ? (i am currently on Linode with a MySql database... maybe being on Simple DB will be one of your advice)",mysql,performance,query,table,,,open,0,102,5,"QUERY OPTIMIZATION IN MASSIVE TABLES I have a table containing brick and mortar shops. The table is about 15 million rows with 30 columns.

For now the query time to retrieve a shop when the user type the name of the shop is about 15 to 20 seconds (we display an autocomplete list so the user can directly select from the list).

I would like to reach a query time of 2-3 seconds so users don't feel frustrated.

What are the actions i should take to reach this goal ? (i am currently on Linode with a MySql database... maybe being on Simple DB will be one of your advice)",4
4219294,11/18/2010 20:33:35,176689,09/21/2009 17:14:07,1,1,"SQL reference current record (""this"") in query","I have a table like:

    id | NODE_ID | last_updated
    1  |  4      | 11-29-2010 ... 

where the last_updated column is set to update after any change to the row using ""on update CURRENT_TIMESTAMP""

I need to update all of the records with a NODE_ID of 4 to 5, but I want to leave the timestamp unchanged.

I'm thinking to do an update and reference the currently selected row in the query to manually set the timestamp...confusing...like this

update jobs set NODE_ID=4, last_updated = this.timestamp where NODE_ID = 5;

What can I use to replace the ""this"" in the query?  If I can't, then whats the best way to do this sort of thing?

~Sean

PS.  mysql  Ver 14.12 Distrib 5.0.86, for redhat-linux-gnu (i686) using readline 5.1",mysql,,,,,,open,0,137,7,"SQL reference current record (""this"") in query I have a table like:

    id | NODE_ID | last_updated
    1  |  4      | 11-29-2010 ... 

where the last_updated column is set to update after any change to the row using ""on update CURRENT_TIMESTAMP""

I need to update all of the records with a NODE_ID of 4 to 5, but I want to leave the timestamp unchanged.

I'm thinking to do an update and reference the currently selected row in the query to manually set the timestamp...confusing...like this

update jobs set NODE_ID=4, last_updated = this.timestamp where NODE_ID = 5;

What can I use to replace the ""this"" in the query?  If I can't, then whats the best way to do this sort of thing?

~Sean

PS.  mysql  Ver 14.12 Distrib 5.0.86, for redhat-linux-gnu (i686) using readline 5.1",1
11113319,06/20/2012 05:28:57,1468166,06/20/2012 05:21:16,1,0,using two database with different attributes in one query,"I have two databases on the same server.

I want to show single result from two different databases when user search any term!
how can we do this? I am using JSP",mysql,sql,,,,06/20/2012 12:03:24,not a real question,1,30,9,"using two database with different attributes in one query I have two databases on the same server.

I want to show single result from two different databases when user search any term!
how can we do this? I am using JSP",2
7869159,10/23/2011 21:00:07,1009000,10/22/2011 22:04:32,13,0,MySQL vs Postgres:Which is better for date/time information?,"i am testing MySQL and Postgres about their date/time information (types, functions etc). If i should suggest one, that would be MySQL. It was much easier to install it, its manual was really helpful even for the worst user and there are many examples for every case.Concerning the functionality there are much more functions supported in MySQL than Postgres although the ""dummy"" datetime sometimes makes the calculations a little complex. The only thing that i would prefer to exist in MySQL is the ""interval"" type and the easiness with operations (+-/*).

Is there any different opinion?Which one you would suggest? 
",mysql,postgresql,,,,10/23/2011 21:47:30,not constructive,1,100,8,"MySQL vs Postgres:Which is better for date/time information? i am testing MySQL and Postgres about their date/time information (types, functions etc). If i should suggest one, that would be MySQL. It was much easier to install it, its manual was really helpful even for the worst user and there are many examples for every case.Concerning the functionality there are much more functions supported in MySQL than Postgres although the ""dummy"" datetime sometimes makes the calculations a little complex. The only thing that i would prefer to exist in MySQL is the ""interval"" type and the easiness with operations (+-/*).

Is there any different opinion?Which one you would suggest? 
",2
11748264,07/31/2012 20:14:55,1012885,10/25/2011 14:26:23,195,4,How do I use a select Subquery in MYSQL,"I have two databases that I'm trying to transfer data between.

I'm working on getting orders from one to the other right now but I've run into something that I can't figure out the correct way to do it.

Here's the query thus far...


    INSERT INTO `NEWTEST`.`Order_LineDetails`
    
    ( OrderLineItem_ID, Customer_ID, Order_ID )
    
    SELECT
    
    OrderDetailID,
    
    (    
    SELECT o.CustomerID
    FROM `OLDTEST`.`Order_Details` od
    JOIN `OLDTEST`.`Orders` o ON  o.OrderID = od.OrderID
    ),
    
    OrderID
    
    FROM `OLDTEST`.`Order_Details`

This is returning an error of '#1242 - Subquery returns more than 1 row'.

The result I'm going for would be to get...

    OLDTEST.Order_Details		    -> NEWTEST.Order_LineDetails
    OLDTEST.Order.CustomerID		-> NEWTEST.Customer_ID
    OLDTEST.Order_Details.OrderID	-> NEWTEST.Order_ID

What am I missing?
",mysql,subquery,,,,,open,0,174,9,"How do I use a select Subquery in MYSQL I have two databases that I'm trying to transfer data between.

I'm working on getting orders from one to the other right now but I've run into something that I can't figure out the correct way to do it.

Here's the query thus far...


    INSERT INTO `NEWTEST`.`Order_LineDetails`
    
    ( OrderLineItem_ID, Customer_ID, Order_ID )
    
    SELECT
    
    OrderDetailID,
    
    (    
    SELECT o.CustomerID
    FROM `OLDTEST`.`Order_Details` od
    JOIN `OLDTEST`.`Orders` o ON  o.OrderID = od.OrderID
    ),
    
    OrderID
    
    FROM `OLDTEST`.`Order_Details`

This is returning an error of '#1242 - Subquery returns more than 1 row'.

The result I'm going for would be to get...

    OLDTEST.Order_Details		    -> NEWTEST.Order_LineDetails
    OLDTEST.Order.CustomerID		-> NEWTEST.Customer_ID
    OLDTEST.Order_Details.OrderID	-> NEWTEST.Order_ID

What am I missing?
",2
2016258,01/06/2010 21:10:10,157949,08/17/2009 18:57:17,46,1,Can anyone reproduce this problem? (requires a server with mysql and php),"Can anyone of you help me understand the behavior I get when visiting this page?

    <html>
    
    	<body>
    
    	<?php
    		$liendb = mysql_connect(""localhost"","""","""");
    
    		mysql_select_db (""test"");
    		for($i = 0; $i < 418; ++$i)
    		{
    			echo(""Any old text<br />"");
    		}
    
    	
    		$resultatSQL = mysql_query(""SELECT uid FROM nombres ORDER BY uid"");
    
    		while($tab = mysql_fetch_array($resultatSQL, MYSQL_ASSOC))
    
    		{
    			echo(""<p>"".$tab['uid'].""</p>"");
    			echo(""<br />\n"");
    
    		}
    
    		mysql_close();
    
    	?>
    
    	</body>
    </html>

I exported the mysql table this example is based on so that we can work on the same table.. Here it is:

    -- phpMyAdmin SQL Dump
    -- version 3.2.0.1
    -- http://www.phpmyadmin.net
    --
    -- Servidor: localhost
    -- Tiempo de generación: 06-01-2010 a las 21:49:50
    -- Versión del servidor: 5.1.37
    -- Versión de PHP: 5.3.0
    
    SET SQL_MODE=""NO_AUTO_VALUE_ON_ZERO"";
    
    --
    -- Base de datos: `test`
    --
    
    -- --------------------------------------------------------
    
    --
    -- Estructura de tabla para la tabla `nombres`
    --
    
    CREATE TABLE IF NOT EXISTS `nombres` (
      `uid` int(10) unsigned NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`uid`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=43 ;
    
    --
    -- Volcar la base de datos para la tabla `nombres`
    --
    
    INSERT INTO `nombres` (`uid`) VALUES
    (1),
    (2),
    (3),
    (4),
    (5),
    (6),
    (7),
    (8),
    (9),
    (10),
    (11),
    (12),
    (13),
    (14),
    (15),
    (16),
    (17),
    (18),
    (19),
    (20),
    (21),
    (22),
    (23),
    (24),
    (25),
    (26),
    (27),
    (28),
    (29),
    (30),
    (31),
    (32),
    (33),
    (34),
    (35),
    (36),
    (37),
    (38),
    (39),
    (40),
    (41),
    (42);

In theory, I believe this page should print 418 lines of ""Any old text"", and then print all entries of table ""nombres"", so numbers 1 to 42. In practice, it does. But if I change that magic number, 418, problems happen. 

If I use a number smaller than 418, firefox offers to download the page instead of just showing it to me.. If I do download it, I get a blank file..

If I use a number larger than 418, I don't get all the entries to table ""nombres"". For example, when I use 419, I get only numbers 1 to 41. When I use 420, I get only numbers 1 to 40. And so on until 454, where I only get number 1.

If I use 455 or more, I don't get any numbers at all!


My questions:

Is anyone else able to reproduce this behavior?
How could you explain this behavior?",mysql,php,sql,,,,open,0,691,12,"Can anyone reproduce this problem? (requires a server with mysql and php) Can anyone of you help me understand the behavior I get when visiting this page?

    <html>
    
    	<body>
    
    	<?php
    		$liendb = mysql_connect(""localhost"","""","""");
    
    		mysql_select_db (""test"");
    		for($i = 0; $i < 418; ++$i)
    		{
    			echo(""Any old text<br />"");
    		}
    
    	
    		$resultatSQL = mysql_query(""SELECT uid FROM nombres ORDER BY uid"");
    
    		while($tab = mysql_fetch_array($resultatSQL, MYSQL_ASSOC))
    
    		{
    			echo(""<p>"".$tab['uid'].""</p>"");
    			echo(""<br />\n"");
    
    		}
    
    		mysql_close();
    
    	?>
    
    	</body>
    </html>

I exported the mysql table this example is based on so that we can work on the same table.. Here it is:

    -- phpMyAdmin SQL Dump
    -- version 3.2.0.1
    -- http://www.phpmyadmin.net
    --
    -- Servidor: localhost
    -- Tiempo de generación: 06-01-2010 a las 21:49:50
    -- Versión del servidor: 5.1.37
    -- Versión de PHP: 5.3.0
    
    SET SQL_MODE=""NO_AUTO_VALUE_ON_ZERO"";
    
    --
    -- Base de datos: `test`
    --
    
    -- --------------------------------------------------------
    
    --
    -- Estructura de tabla para la tabla `nombres`
    --
    
    CREATE TABLE IF NOT EXISTS `nombres` (
      `uid` int(10) unsigned NOT NULL AUTO_INCREMENT,
      PRIMARY KEY (`uid`)
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=43 ;
    
    --
    -- Volcar la base de datos para la tabla `nombres`
    --
    
    INSERT INTO `nombres` (`uid`) VALUES
    (1),
    (2),
    (3),
    (4),
    (5),
    (6),
    (7),
    (8),
    (9),
    (10),
    (11),
    (12),
    (13),
    (14),
    (15),
    (16),
    (17),
    (18),
    (19),
    (20),
    (21),
    (22),
    (23),
    (24),
    (25),
    (26),
    (27),
    (28),
    (29),
    (30),
    (31),
    (32),
    (33),
    (34),
    (35),
    (36),
    (37),
    (38),
    (39),
    (40),
    (41),
    (42);

In theory, I believe this page should print 418 lines of ""Any old text"", and then print all entries of table ""nombres"", so numbers 1 to 42. In practice, it does. But if I change that magic number, 418, problems happen. 

If I use a number smaller than 418, firefox offers to download the page instead of just showing it to me.. If I do download it, I get a blank file..

If I use a number larger than 418, I don't get all the entries to table ""nombres"". For example, when I use 419, I get only numbers 1 to 41. When I use 420, I get only numbers 1 to 40. And so on until 454, where I only get number 1.

If I use 455 or more, I don't get any numbers at all!


My questions:

Is anyone else able to reproduce this behavior?
How could you explain this behavior?",3
2688,08/05/2008 18:45:46,432,08/05/2008 17:18:46,21,4,What all do I need to escape when sending a (My)SQL query?,"When you execute a SQL query, you have to clean your 'strings' or users can execute malicious SQL on your website.

I usually just have a function escape_string(blah), which:
  
- Replaces escapes (\) with double escapes (\\).
- Replaces single quotes (') with an escaped single quote (\'). 

Is this adequate? Is there a hole in my code? Speedy library to reliably do this for me?",mysql,security,,,,,open,0,65,12,"What all do I need to escape when sending a (My)SQL query? When you execute a SQL query, you have to clean your 'strings' or users can execute malicious SQL on your website.

I usually just have a function escape_string(blah), which:
  
- Replaces escapes (\) with double escapes (\\).
- Replaces single quotes (') with an escaped single quote (\'). 

Is this adequate? Is there a hole in my code? Speedy library to reliably do this for me?",2
10073111,04/09/2012 12:23:32,1297329,03/28/2012 06:23:33,1,0,what's wrong with this sql query? need some help please its below?,"i get this error while trying to execute a query what could be the problem

""You tried to execute a query that does not include the specified expression 'NUMBER' as part of an aggregate function.""",mysql,sql,vb.net,ms-access,,05/23/2012 12:42:36,not a real question,1,34,12,"what's wrong with this sql query? need some help please its below? i get this error while trying to execute a query what could be the problem

""You tried to execute a query that does not include the specified expression 'NUMBER' as part of an aggregate function.""",4
5477963,03/29/2011 19:40:25,682760,03/29/2011 19:40:25,1,0,Complicated MySQL Query,"Here is the table I am getting the data from ""actually it's a view of two different tables""
The first table is the users table the holds everything about the user.
The second is a log table that logs who viewed the video and when they viewed it.

log_views.id,
log_views.user_id,
log_views.video_id,
log_views.date,
users.user_key,
users.name_display,
users.img_key

What I am trying to is display the last 18 users to view a video but I don't want any duplicate users. So if a user shows up twice in the last 18 I only want his latest view and then skip all the others.
I tried using the DISTINCT keyword but I am getting more than one column so it didn't work. ",mysql,database,query,,,,open,0,108,3,"Complicated MySQL Query Here is the table I am getting the data from ""actually it's a view of two different tables""
The first table is the users table the holds everything about the user.
The second is a log table that logs who viewed the video and when they viewed it.

log_views.id,
log_views.user_id,
log_views.video_id,
log_views.date,
users.user_key,
users.name_display,
users.img_key

What I am trying to is display the last 18 users to view a video but I don't want any duplicate users. So if a user shows up twice in the last 18 I only want his latest view and then skip all the others.
I tried using the DISTINCT keyword but I am getting more than one column so it didn't work. ",3
1431730,09/16/2009 08:40:33,139150,07/16/2009 03:00:08,92,19,Binary file size,"I have added the following option in order to avoid having smaller multiple binary files.

    max_binlog_size=1024M

But MySQL still does not create a huge binary file as expected. How do I make it create a single file instead of multiple small files?
",mysql,,,,,,open,0,44,3,"Binary file size I have added the following option in order to avoid having smaller multiple binary files.

    max_binlog_size=1024M

But MySQL still does not create a huge binary file as expected. How do I make it create a single file instead of multiple small files?
",1
7754635,10/13/2011 13:10:39,993516,10/13/2011 13:07:17,1,0,"The left joins making query slow,is there any method to increase the speed of this query","$sql = ""select b.entry_id,b.assign_id,a.profile_type,a.profile_id,a.profile_name,a.profile_status, b.entry_type,b.assign_id,c.chapter_name,d.section_name,h.group_name,i.programme_name,k.subjectprogramme_name,j.masterprogramme_name,l.developmentprogramme_name from
		        profile_master a
				left join profile_assign b on  a.profile_id = b.profile_id  
				left join chapter_master c on b.entry_id =  c.chapter_id and b.entry_type='chapter' 
				left join section_master d on b.entry_id =  d.section_id and b.entry_type='section'
				left join group_master h on b.entry_id =  h.group_id and b.entry_type='Group' and h.year_id='"".$this->year.""'
				left join programme_master i on b.entry_id =  i.programme_id and b.entry_type='Programme' and i.year_id='"".$this->year.""'
				left join subjectprogramme_master k on b.entry_id =  k.subjectprogramme_id and b.entry_type='subjectProgramme' and k.year_id='"".$this->year.""'
				left join masterprogramme_master j on b.entry_id =  j.masterprogramme_id and b.entry_type='masterProgramme' and j.year_id='"".$this->year.""'
				left join developmentprogramme_master l on b.entry_id =  l.developmentprogramme_id and b.entry_type='developmentProgramme'""; ",mysql,,,,,,open,0,105,16,"The left joins making query slow,is there any method to increase the speed of this query $sql = ""select b.entry_id,b.assign_id,a.profile_type,a.profile_id,a.profile_name,a.profile_status, b.entry_type,b.assign_id,c.chapter_name,d.section_name,h.group_name,i.programme_name,k.subjectprogramme_name,j.masterprogramme_name,l.developmentprogramme_name from
		        profile_master a
				left join profile_assign b on  a.profile_id = b.profile_id  
				left join chapter_master c on b.entry_id =  c.chapter_id and b.entry_type='chapter' 
				left join section_master d on b.entry_id =  d.section_id and b.entry_type='section'
				left join group_master h on b.entry_id =  h.group_id and b.entry_type='Group' and h.year_id='"".$this->year.""'
				left join programme_master i on b.entry_id =  i.programme_id and b.entry_type='Programme' and i.year_id='"".$this->year.""'
				left join subjectprogramme_master k on b.entry_id =  k.subjectprogramme_id and b.entry_type='subjectProgramme' and k.year_id='"".$this->year.""'
				left join masterprogramme_master j on b.entry_id =  j.masterprogramme_id and b.entry_type='masterProgramme' and j.year_id='"".$this->year.""'
				left join developmentprogramme_master l on b.entry_id =  l.developmentprogramme_id and b.entry_type='developmentProgramme'""; ",1
5530748,04/03/2011 16:10:27,651148,03/09/2011 08:07:47,1,0,mysql group concat,"how can I group concat? here is my query

    select t.date, group_concat(count(*)) from table1 t
    group by t.date

but it returns error ""Invalid use of group function""

If I use query like this

    select t.date, count(*) from table1 t
    group by t.date

then it returns following output but I want to group_concat this output

    2011-01-01  100
    2011-01-02  97
    2011-01-03  105

",mysql,,,,,,open,0,81,3,"mysql group concat how can I group concat? here is my query

    select t.date, group_concat(count(*)) from table1 t
    group by t.date

but it returns error ""Invalid use of group function""

If I use query like this

    select t.date, count(*) from table1 t
    group by t.date

then it returns following output but I want to group_concat this output

    2011-01-01  100
    2011-01-02  97
    2011-01-03  105

",1
8228109,11/22/2011 14:07:42,1052210,11/17/2011 16:13:04,1,0,Maxmind world cities database issue (MySql),"I went through the forum, posted a question under the ""world cities database mysql script problem"" thread (and my post was deleted) and did not find anything.

So here is it, I'm trying to use Maxmind World Cities (http://www.maxmind.com/app/worldcities) database but the fact is when I uncompress the file (tar.gz), the resulted .txt content is unusable. It seems to be byte code (database compressed data, double tar.gz).

I asked Maxmind but they answered that they do not provide any support for free features (so why providing free features if they are not working).

At the end, I would import this database in MySql to avoid Geocoding operation in Google Maps (knowing that it's now limited in numbers).

Thanks for your help,

Regards,",mysql,database,bytecode,city,,11/23/2011 07:17:06,too localized,1,117,6,"Maxmind world cities database issue (MySql) I went through the forum, posted a question under the ""world cities database mysql script problem"" thread (and my post was deleted) and did not find anything.

So here is it, I'm trying to use Maxmind World Cities (http://www.maxmind.com/app/worldcities) database but the fact is when I uncompress the file (tar.gz), the resulted .txt content is unusable. It seems to be byte code (database compressed data, double tar.gz).

I asked Maxmind but they answered that they do not provide any support for free features (so why providing free features if they are not working).

At the end, I would import this database in MySql to avoid Geocoding operation in Google Maps (knowing that it's now limited in numbers).

Thanks for your help,

Regards,",4
11578372,07/20/2012 11:26:01,1540399,07/20/2012 09:53:25,1,0,mysql query for calculating total time in column wise,"There is a table where job_name,start_date_time,end_date_time,total_time these number of column available,In job_name column different job names are there but some of them are repeated no of times,and also for each job_name different start_date_time,end_date_time and total_time is there,My required Output is I Have inserted the demo picture please any body give the solution![enter image description here][1]   

Please help me how to find the output like this..?
 ",mysql,,,,,08/01/2012 14:14:24,not constructive,1,68,9,"mysql query for calculating total time in column wise There is a table where job_name,start_date_time,end_date_time,total_time these number of column available,In job_name column different job names are there but some of them are repeated no of times,and also for each job_name different start_date_time,end_date_time and total_time is there,My required Output is I Have inserted the demo picture please any body give the solution![enter image description here][1]   

Please help me how to find the output like this..?
 ",1
11586096,07/20/2012 19:51:18,999544,10/17/2011 16:10:50,303,12,Creating a database function within Magento for a module,"I have a working module in Magento that is modeled after some custom code we use outside of our install. This module currently add 5 tables to the database to store info and I have extended the Admin to CRUD the info. The ultimate goal here is to move the majority of this custom programming into Magento. 

Currently our custom code sits outside Magento and hits a separate database. This database has those same 5 tables, a stored procedure, and 4 functions. What I would like to do now is move the stored procedures and the functions into Magento's database and change the custom code to call all of it's data from Magento's db. However, I can't seem to figure out how the ""CREATE FUNCTION"" call should be set up for Magento to execute it properly. 

The SQL I am using is: 

    DROP FUNCTION IF EXISTS {$this->getTable('fn_Get_HardinessZone')};
    CREATE FUNCTION {$this->getTable('fn_Get_HardinessZone')}(IN ZipCode varchar()) RETURNS integer AS
      DECLARE Result integer;       
    BEGIN
      SELECT  MAX(Zone) into Result
      FROM    AMI_zones
      WHERE      (Hfzip <= LEFT(ZipCode, 5)) AND (Htzip >= LEFT(ZipCode, 5));
      if Result is null or Result < 1 or (Result > 11 and Result <> 99) Then
        /*if the left most character is alpha, then set the zone to 98 for Canada*/
       if Left(zipCode, 1) >= 'A' and LEFT(zipcode,1) <= 'Z' THEN
         set result = 98;
       else          
        set Result = 99;
       End if;
      END if;
      RETURN Result;
    END;

But this always generates the following error: 

    SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IN ZipCode varchar()) RETURNS'

So what is the proper way to format a SQL call to be run in a module's install/update script to insert a function or stored procedure into Maganeto's database?
",mysql,sql,magento,,,,open,0,421,9,"Creating a database function within Magento for a module I have a working module in Magento that is modeled after some custom code we use outside of our install. This module currently add 5 tables to the database to store info and I have extended the Admin to CRUD the info. The ultimate goal here is to move the majority of this custom programming into Magento. 

Currently our custom code sits outside Magento and hits a separate database. This database has those same 5 tables, a stored procedure, and 4 functions. What I would like to do now is move the stored procedures and the functions into Magento's database and change the custom code to call all of it's data from Magento's db. However, I can't seem to figure out how the ""CREATE FUNCTION"" call should be set up for Magento to execute it properly. 

The SQL I am using is: 

    DROP FUNCTION IF EXISTS {$this->getTable('fn_Get_HardinessZone')};
    CREATE FUNCTION {$this->getTable('fn_Get_HardinessZone')}(IN ZipCode varchar()) RETURNS integer AS
      DECLARE Result integer;       
    BEGIN
      SELECT  MAX(Zone) into Result
      FROM    AMI_zones
      WHERE      (Hfzip <= LEFT(ZipCode, 5)) AND (Htzip >= LEFT(ZipCode, 5));
      if Result is null or Result < 1 or (Result > 11 and Result <> 99) Then
        /*if the left most character is alpha, then set the zone to 98 for Canada*/
       if Left(zipCode, 1) >= 'A' and LEFT(zipcode,1) <= 'Z' THEN
         set result = 98;
       else          
        set Result = 99;
       End if;
      END if;
      RETURN Result;
    END;

But this always generates the following error: 

    SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IN ZipCode varchar()) RETURNS'

So what is the proper way to format a SQL call to be run in a module's install/update script to insert a function or stored procedure into Maganeto's database?
",3
10902380,06/05/2012 17:57:33,773263,05/27/2011 14:27:52,652,37,Find out MySQL database URL from phpMyAdmin,"I have an online MySQL database. I want to figure out the sever URL so I can remotely connect to it. 

Is there a way I can check my databases URL from phpMyAdmin?",mysql,database,remote-server,,,06/16/2012 04:38:55,off topic,1,33,7,"Find out MySQL database URL from phpMyAdmin I have an online MySQL database. I want to figure out the sever URL so I can remotely connect to it. 

Is there a way I can check my databases URL from phpMyAdmin?",3
5198191,03/04/2011 19:13:38,372149,06/21/2010 12:22:42,309,21,"A query executing in PhpMySQL, but not in Zend_Framework.","I have a pretty big query, that is generated in in a script, to create something like a view. For an application.

Here is the query that is being generated:

        SELECT * , if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='boss'
     AND `templateIsConfirmation`='0' AND `formId`=`id`) IS NULL,0,1) as bossTemplate , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='user' AND 
    `templateIsConfirmation`='0' AND `formId`=`id`) IS NULL,0,1) as userTemplate , if((SELECT 
    `formId` from `ssp_mail_templates` WHERE `templateType`='superuser' AND 
    `templateIsConfirmation`='0' AND `formId`=`id`) IS NULL,0,1) as superuserTemplate , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='boss' AND 
    `templateIsConfirmation`='1' AND `formId`=`id`) IS NULL,0,1) as bossConfirmation , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='user' AND 
    `templateIsConfirmation`='1' AND `formId`=`id`) IS NULL,0,1) as userConfirmation , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='superuser' AND 
    `templateIsConfirmation`='1' AND `formId`=`id`) IS NULL,0,1) as superuserConfirmation FROM
     `ssp_form`

 And here is the code, that is generating it:

    $valueArray = array('boss', 'user', 'superuser');
            $selectString = """";
            for ($i = 0; $i < 2; $i ++) {
                $type=""Template"";
                if($i==1){
                    $type=""Confirmation"";
                }
                foreach ($valueArray as $value) {
    
                    $selectString.="" , if((SELECT `formId` from `"".$this->_templateName.""` WHERE `templateType`='"".$value.""' AND `templateIsConfirmation`='"".$i.""' AND `formId`=`id`) IS NULL,0,1) as "".$value.$type;
                }
            }
            $sql=""SELECT *"".$selectString.""  FROM `ssp_form` "";
    
            $forms = $this->fetchAll($sql)->toArray();

So, after doing this, PhpMySQL returns:

`Showing rows 0 - 0 (1 total, Query took 0.0009 sec)`

While ZF returns

`Mysqli prepare error: Operand should contain 1 column(s) `

I believe that the answer should be fairly trivial, but I just can't figure it out.

",mysql,zend-framework,,,,,open,0,460,9,"A query executing in PhpMySQL, but not in Zend_Framework. I have a pretty big query, that is generated in in a script, to create something like a view. For an application.

Here is the query that is being generated:

        SELECT * , if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='boss'
     AND `templateIsConfirmation`='0' AND `formId`=`id`) IS NULL,0,1) as bossTemplate , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='user' AND 
    `templateIsConfirmation`='0' AND `formId`=`id`) IS NULL,0,1) as userTemplate , if((SELECT 
    `formId` from `ssp_mail_templates` WHERE `templateType`='superuser' AND 
    `templateIsConfirmation`='0' AND `formId`=`id`) IS NULL,0,1) as superuserTemplate , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='boss' AND 
    `templateIsConfirmation`='1' AND `formId`=`id`) IS NULL,0,1) as bossConfirmation , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='user' AND 
    `templateIsConfirmation`='1' AND `formId`=`id`) IS NULL,0,1) as userConfirmation , 
    if((SELECT `formId` from `ssp_mail_templates` WHERE `templateType`='superuser' AND 
    `templateIsConfirmation`='1' AND `formId`=`id`) IS NULL,0,1) as superuserConfirmation FROM
     `ssp_form`

 And here is the code, that is generating it:

    $valueArray = array('boss', 'user', 'superuser');
            $selectString = """";
            for ($i = 0; $i < 2; $i ++) {
                $type=""Template"";
                if($i==1){
                    $type=""Confirmation"";
                }
                foreach ($valueArray as $value) {
    
                    $selectString.="" , if((SELECT `formId` from `"".$this->_templateName.""` WHERE `templateType`='"".$value.""' AND `templateIsConfirmation`='"".$i.""' AND `formId`=`id`) IS NULL,0,1) as "".$value.$type;
                }
            }
            $sql=""SELECT *"".$selectString.""  FROM `ssp_form` "";
    
            $forms = $this->fetchAll($sql)->toArray();

So, after doing this, PhpMySQL returns:

`Showing rows 0 - 0 (1 total, Query took 0.0009 sec)`

While ZF returns

`Mysqli prepare error: Operand should contain 1 column(s) `

I believe that the answer should be fairly trivial, but I just can't figure it out.

",2
11122990,06/20/2012 15:31:38,399232,07/22/2010 14:52:44,588,7,"Two parts mysql query, order the results displaying the ones from the first part, first","I have this mysql query.
Any ideas hot to order the results in order to get the ones from the first part of the query first, followed by the ones from the second part of the query.

Here is how I do it, but it's not working properly, mixing results together.

    SELECT name,pic0,bio,site FROM "".$table."" WHERE 
    
    ( (name LIKE '%john%' OR name LIKE '%smith%') AND site LIKE ('%site1%') )
    
    OR 
    
    ( name IS NOT NULL AND category IN ('drivers', 'construction') AND site LIKE ('%site1%') )
    
    ORDER BY ( (name LIKE '%john%' OR name LIKE '%smith%') AND site LIKE ('%site1%') ) 
    
    DESC LIMIT "".$offset."", "".$rowsperpage."""");

Thank you",mysql,sql,,,,,open,0,144,15,"Two parts mysql query, order the results displaying the ones from the first part, first I have this mysql query.
Any ideas hot to order the results in order to get the ones from the first part of the query first, followed by the ones from the second part of the query.

Here is how I do it, but it's not working properly, mixing results together.

    SELECT name,pic0,bio,site FROM "".$table."" WHERE 
    
    ( (name LIKE '%john%' OR name LIKE '%smith%') AND site LIKE ('%site1%') )
    
    OR 
    
    ( name IS NOT NULL AND category IN ('drivers', 'construction') AND site LIKE ('%site1%') )
    
    ORDER BY ( (name LIKE '%john%' OR name LIKE '%smith%') AND site LIKE ('%site1%') ) 
    
    DESC LIMIT "".$offset."", "".$rowsperpage."""");

Thank you",2
6473877,06/24/2011 21:19:25,342740,05/17/2010 04:15:11,1855,66,CONCAT only returns rows that are not null,"I have searched in a few topics for how to resolve this issue I am having with a query that uses CONCAT but yet must return the groups even if the concat is null and I have found 2 solutions that doesnt work.

First solution was to use ISNULL:

    #1582 - Incorrect parameter count in the call to native function 'ISNULL'

Second was to use IFNULL which works partially, it does find which are not null but yet doesnt print the null ones.

Here is the query:

    SELECT g.name, IFNULL(GROUP_CONCAT(c.name),'') AS commands
    FROM site_access b
        JOIN groups g 
            ON b.group_id = g.id
        JOIN group_commands gc
            ON g.id = gc.group_id
        JOIN commands c ON gc.command_id = c.id
    WHERE b.site_id = 1
    GROUP BY g.name
    ORDER BY g.status ASC

Would appreciate some help to resolve this ;)

I have 8 site_access, 8 groups and currently registered and only 2 commands that are assigned to group 1 and group 2, what currently happens is that it does print these 2 groups but ignore all the rest because they dont have commands.

Here is an example of the output:

    Admin - add, del, announce
    Member - find

Desired output:

    Admin - add, del, announce
    Member - find
    Banned
    OhterGroup1
    OhterGroup2
    OhterGroup3
    OhterGroup4
    OhterGroup5

if you need more information about the tables there is a sample of it in here:
http://stackoverflow.com/questions/6472970/mysql-query-for-multiple-tables-being-secondary-tables-multiple-items/6473118#6473118",mysql,query,,concat,,,open,0,309,8,"CONCAT only returns rows that are not null I have searched in a few topics for how to resolve this issue I am having with a query that uses CONCAT but yet must return the groups even if the concat is null and I have found 2 solutions that doesnt work.

First solution was to use ISNULL:

    #1582 - Incorrect parameter count in the call to native function 'ISNULL'

Second was to use IFNULL which works partially, it does find which are not null but yet doesnt print the null ones.

Here is the query:

    SELECT g.name, IFNULL(GROUP_CONCAT(c.name),'') AS commands
    FROM site_access b
        JOIN groups g 
            ON b.group_id = g.id
        JOIN group_commands gc
            ON g.id = gc.group_id
        JOIN commands c ON gc.command_id = c.id
    WHERE b.site_id = 1
    GROUP BY g.name
    ORDER BY g.status ASC

Would appreciate some help to resolve this ;)

I have 8 site_access, 8 groups and currently registered and only 2 commands that are assigned to group 1 and group 2, what currently happens is that it does print these 2 groups but ignore all the rest because they dont have commands.

Here is an example of the output:

    Admin - add, del, announce
    Member - find

Desired output:

    Admin - add, del, announce
    Member - find
    Banned
    OhterGroup1
    OhterGroup2
    OhterGroup3
    OhterGroup4
    OhterGroup5

if you need more information about the tables there is a sample of it in here:
http://stackoverflow.com/questions/6472970/mysql-query-for-multiple-tables-being-secondary-tables-multiple-items/6473118#6473118",3
7199245,08/26/2011 01:50:25,670410,03/22/2011 01:10:23,43,0,How do I select rows where a column contains,"here is the field in my table

![service_field][1]



  [1]: http://i.stack.imgur.com/AUmUm.png


how do I select rows where a column contains only 5, not 15
if `SELECT *  FROM `vendor` WHERE `services` LIKE '%5%'` it will select that have 15 too.
any idea?",mysql,sql,,,,,open,0,39,9,"How do I select rows where a column contains here is the field in my table

![service_field][1]



  [1]: http://i.stack.imgur.com/AUmUm.png


how do I select rows where a column contains only 5, not 15
if `SELECT *  FROM `vendor` WHERE `services` LIKE '%5%'` it will select that have 15 too.
any idea?",2
3661676,09/07/2010 18:49:45,425226,08/19/2010 12:42:18,54,3,Sorting MYSQL Tag table,"just wondering if it is possible to get the top 10 COUNT results and ordering by COUNT and alphabetically?

I have the following tables,

    tags
    -------
    id | title

.

    tagged
    ------
    tag_id | post_id


And the following SQL query

    SELECT tag.*, COUNT(td.tag_ID) AS tagcount
    FROM Tagged td
    LEFT JOIN gen_Tags tag ON td.tag_ID = tag.tag_ID
    GROUP BY td.tag_ID
    ORDER BY tagcount DESC, tag.tag_Title ASC

Any ideas?

Thanks in advance",mysql,tags,count,,,,open,0,98,4,"Sorting MYSQL Tag table just wondering if it is possible to get the top 10 COUNT results and ordering by COUNT and alphabetically?

I have the following tables,

    tags
    -------
    id | title

.

    tagged
    ------
    tag_id | post_id


And the following SQL query

    SELECT tag.*, COUNT(td.tag_ID) AS tagcount
    FROM Tagged td
    LEFT JOIN gen_Tags tag ON td.tag_ID = tag.tag_ID
    GROUP BY td.tag_ID
    ORDER BY tagcount DESC, tag.tag_Title ASC

Any ideas?

Thanks in advance",3
11375102,07/07/2012 12:43:14,1508714,07/07/2012 12:27:26,1,0,Which databases is better to store blob data?,"I want to use one open source database to store my blob data(images or files). I have know a lots of open source database like LevelDB,MongoDB,PostgreSQL,Ingres,MYSQL and so on, but I don't know which one is the best to store the blob data.

I hope that the database can support the 1000 fast concurrent read and write.
",mysql,database,blob,leveldb,,07/08/2012 01:57:25,not constructive,1,56,8,"Which databases is better to store blob data? I want to use one open source database to store my blob data(images or files). I have know a lots of open source database like LevelDB,MongoDB,PostgreSQL,Ingres,MYSQL and so on, but I don't know which one is the best to store the blob data.

I hope that the database can support the 1000 fast concurrent read and write.
",4
1391712,09/08/2009 02:40:16,129202,06/26/2009 04:38:45,3,2,Mysql - Find unused tables and columns,"Let's say we have ""system A"" comprising a MySQL database, with several tables.
After a while you want to optimize system A by removing any unused tables and/or columns, system A being quite large and difficult to overlook. Is there a tool or method that lets you run the system for a while, and then do an analysis which prints out general use of tables, columns etc - which would make it possible to find unused tables and columns.

I'm thinking of maybe hooking into the system, logging all SQL commands going to the server, but would in that case rather be doing that on the database side, rather than the application side.",mysql,analysis,,,,,open,0,111,7,"Mysql - Find unused tables and columns Let's say we have ""system A"" comprising a MySQL database, with several tables.
After a while you want to optimize system A by removing any unused tables and/or columns, system A being quite large and difficult to overlook. Is there a tool or method that lets you run the system for a while, and then do an analysis which prints out general use of tables, columns etc - which would make it possible to find unused tables and columns.

I'm thinking of maybe hooking into the system, logging all SQL commands going to the server, but would in that case rather be doing that on the database side, rather than the application side.",2
11554838,07/19/2012 06:06:52,631612,02/24/2011 04:02:00,296,9,Load balancing MySQL slaves: Got an error reading communication packets?,"I've set up [load balancing MySQL slaves using HAProxy via a xinetd](http://sysbible.org/2008/12/04/having-haproxy-check-mysql-status-through-a-xinetd-script/). 2 load balancers shared a virtual IP that is managed by keepalived.

My problem is `/var/log/mysqld.log` keep flooding with:

    120719 12:59:46 [Warning] Aborted connection 17237 to db: 'db' user: 'user' host: '192.168.3.87' (Got an error 
    reading communication packets) 
    120719 12:59:49 [Warning] Aborted connection 17242 to db: 'db' user: 'user' host: '192.168.3.87' (Got an error 
    reading communication packets) 
    120719 12:59:52 [Warning] Aborted connection 17248 to db: 'db' user: 'user' host: '192.168.3.87' (Got an error 
    reading communication packets) 

I don't think 128M is not enough for `max_allowed_packet`:

    max_connections = 300
    max_allowed_packet = 128M

Is there anything that can cause this? Does it relate to HAProxy? 

Any thoughts?",mysql,load-balancing,haproxy,aborted,,07/21/2012 23:26:55,off topic,1,144,10,"Load balancing MySQL slaves: Got an error reading communication packets? I've set up [load balancing MySQL slaves using HAProxy via a xinetd](http://sysbible.org/2008/12/04/having-haproxy-check-mysql-status-through-a-xinetd-script/). 2 load balancers shared a virtual IP that is managed by keepalived.

My problem is `/var/log/mysqld.log` keep flooding with:

    120719 12:59:46 [Warning] Aborted connection 17237 to db: 'db' user: 'user' host: '192.168.3.87' (Got an error 
    reading communication packets) 
    120719 12:59:49 [Warning] Aborted connection 17242 to db: 'db' user: 'user' host: '192.168.3.87' (Got an error 
    reading communication packets) 
    120719 12:59:52 [Warning] Aborted connection 17248 to db: 'db' user: 'user' host: '192.168.3.87' (Got an error 
    reading communication packets) 

I don't think 128M is not enough for `max_allowed_packet`:

    max_connections = 300
    max_allowed_packet = 128M

Is there anything that can cause this? Does it relate to HAProxy? 

Any thoughts?",4
4269791,11/24/2010 17:40:12,322899,04/22/2010 03:59:57,159,3,Whats up with mysql?,"I've seen in a few places on the internet that the future for MySQL is bleak. Mainly people talking poorly about it. Is MySQL really ""dying""? If this is the case.. what are good alternatives to database solutions? I work for a small company and we use a lot of MySQL. Is postgre a good solution? Whats something that would be useful to learn how to use in the event I go to a larger company? What is the standard corporate database(please dont say oracle)? ",mysql,database,programming-languages,relational-database,,07/15/2012 09:54:41,not constructive,1,86,4,"Whats up with mysql? I've seen in a few places on the internet that the future for MySQL is bleak. Mainly people talking poorly about it. Is MySQL really ""dying""? If this is the case.. what are good alternatives to database solutions? I work for a small company and we use a lot of MySQL. Is postgre a good solution? Whats something that would be useful to learn how to use in the event I go to a larger company? What is the standard corporate database(please dont say oracle)? ",4
4709832,01/17/2011 03:36:38,516669,11/22/2010 21:18:23,88,5,MySQL duplicate foreign key data or joins?,"I'm pondering the best method to handle Users and Accounts for a website.

Every User belongs to a single Account, Accounts can have multiple Users. The tables will be MyISAM so there is no DB-enforced referential integrity. Each User will have permission to view/add/edit their own content and/or the content of all Users for the Account they are under.

    CREATE TABLE account (
    id INT,
    name VARCHAR,
    ... etc
    );
    
    CREATE TABLE user (
    id INT,
    accountId INT, // references account.id
    userName,
    etc.
    );

Pretty much every other table in the DB will reference the User table. Eg.

    CREATE TABLE product (
    id INT,
    userId, // references user.id
    name VARCHAR,
    details TEXT
    .. more stuff
    );
    
    CREATE TABLE event (
    id INT,
    userId INT,
    name VARCHAR,
    date DATETIME,
    ..etc
    );


So to get products a User can access assuming the have permission to access just their own it's:

    SELECT * FROM product WHERE userId = 17;

To get products a User can access when they have access to the entire account is:

    SELECT p.* FROM product p, user u WHERE u.accountId = 3;

Now, the question is: Would it be better to have an accountId field in product, event etc. as well?

    CREATE TABLE product (
    id INT,
    userId, // references user.id
    accountId, // references account.id
    name VARCHAR,
    details TEXT
    .. more stuff
    );

This would remove the need for the extra join on just about every query used:

    SELECT p.* FROM product p.accountId = 3;

The Users will never move from one Account to another so the accountId will always be correct. Is it worth the additonal data storage requirments and losing a bit of normalisation to remove these joins from the 100s of other queries that the site will use? One other thing to consider is that the user table will not be written to all that often so it's unlikely there will be issues around table locking while doing the joins.",mysql,mysql-query,normalization,denormalization,,,open,0,433,7,"MySQL duplicate foreign key data or joins? I'm pondering the best method to handle Users and Accounts for a website.

Every User belongs to a single Account, Accounts can have multiple Users. The tables will be MyISAM so there is no DB-enforced referential integrity. Each User will have permission to view/add/edit their own content and/or the content of all Users for the Account they are under.

    CREATE TABLE account (
    id INT,
    name VARCHAR,
    ... etc
    );
    
    CREATE TABLE user (
    id INT,
    accountId INT, // references account.id
    userName,
    etc.
    );

Pretty much every other table in the DB will reference the User table. Eg.

    CREATE TABLE product (
    id INT,
    userId, // references user.id
    name VARCHAR,
    details TEXT
    .. more stuff
    );
    
    CREATE TABLE event (
    id INT,
    userId INT,
    name VARCHAR,
    date DATETIME,
    ..etc
    );


So to get products a User can access assuming the have permission to access just their own it's:

    SELECT * FROM product WHERE userId = 17;

To get products a User can access when they have access to the entire account is:

    SELECT p.* FROM product p, user u WHERE u.accountId = 3;

Now, the question is: Would it be better to have an accountId field in product, event etc. as well?

    CREATE TABLE product (
    id INT,
    userId, // references user.id
    accountId, // references account.id
    name VARCHAR,
    details TEXT
    .. more stuff
    );

This would remove the need for the extra join on just about every query used:

    SELECT p.* FROM product p.accountId = 3;

The Users will never move from one Account to another so the accountId will always be correct. Is it worth the additonal data storage requirments and losing a bit of normalisation to remove these joins from the 100s of other queries that the site will use? One other thing to consider is that the user table will not be written to all that often so it's unlikely there will be issues around table locking while doing the joins.",4
5446558,03/27/2011 01:18:51,113419,05/27/2009 21:47:45,1327,32,Massive MySQL database,"I'm making a website which requires an absolutely massive mysql database, with potentially millions or even billions of rows in a single table.

The table structure is two ""text"" fields.

How can this be optimized for querying? I want to be able to fetch a single row at a time only, but as quickly as possible.

One field might have slightly longer text chunks, but the other one will have a relatively short one at all times, and any row selection will be done based on the other one.

Alternatively, is there a better way to store this many values?

Thank you for your help!",mysql,database-design,query-optimization,,,03/27/2011 09:53:10,not a real question,1,100,3,"Massive MySQL database I'm making a website which requires an absolutely massive mysql database, with potentially millions or even billions of rows in a single table.

The table structure is two ""text"" fields.

How can this be optimized for querying? I want to be able to fetch a single row at a time only, but as quickly as possible.

One field might have slightly longer text chunks, but the other one will have a relatively short one at all times, and any row selection will be done based on the other one.

Alternatively, is there a better way to store this many values?

Thank you for your help!",3
7812789,10/18/2011 19:48:45,962203,09/24/2011 02:46:16,15,0,Viewing blob data-type in mysql,"I have downloaded a mysql table in text format from one our collaborator's. I have dumped the table into a table on mysql database on my machine successfully. The table was created using their sql file. SO they have some of the fields with `blob` data-type, and I am unable to view them in mysql. when I opened the same downloaded text file with csv I could see the fields with blob data-type with letters like `BC,ABD,BDS`. I do not understand why I am unable to view the fields in mysql. Anyone have ideas?",mysql,blob,,,,,open,0,94,5,"Viewing blob data-type in mysql I have downloaded a mysql table in text format from one our collaborator's. I have dumped the table into a table on mysql database on my machine successfully. The table was created using their sql file. SO they have some of the fields with `blob` data-type, and I am unable to view them in mysql. when I opened the same downloaded text file with csv I could see the fields with blob data-type with letters like `BC,ABD,BDS`. I do not understand why I am unable to view the fields in mysql. Anyone have ideas?",2
6869475,07/29/2011 06:34:54,866940,07/28/2011 07:34:24,6,0,How can i improve the database performance?,"I have large amount of data in my mysql database. When I retrieve the records using select queries, it takes more time to execute that select query. Is the any ways to simplify the select queries?",mysql,,,,,07/29/2011 06:54:29,not a real question,1,36,7,"How can i improve the database performance? I have large amount of data in my mysql database. When I retrieve the records using select queries, it takes more time to execute that select query. Is the any ways to simplify the select queries?",1
11373713,07/07/2012 09:10:11,1448108,06/11/2012 03:43:55,32,0,How to remove the spaces besides hiphen in mysql?,"I am getting the image names from mysql database. I have my images containing two to three words with png extension. Also the names contains hiphen symbol. First I want to remove the 
space to the left and right of the hiphen symbol. Secondly, I want to replace the space between two words with underscore symbol. How can I write the query for this?


Thanks in advance",mysql,,,,,07/10/2012 11:44:42,not a real question,1,66,9,"How to remove the spaces besides hiphen in mysql? I am getting the image names from mysql database. I have my images containing two to three words with png extension. Also the names contains hiphen symbol. First I want to remove the 
space to the left and right of the hiphen symbol. Secondly, I want to replace the space between two words with underscore symbol. How can I write the query for this?


Thanks in advance",1
1208938,07/30/2009 19:51:03,125449,06/18/2009 22:56:28,114,9,Update Multiple Rows Mysql from php -- Slight Twist,"I asked a similar question yesterday, but now I have a slight twist.  Since I already gave credit to an answer, I've decided to create a new question.

Here's what I'm trying to do: Select an arbitrary number of rows, but *placing a limit on the number of selected rows of one field.*

   
    $query = ""SELECT test_id, field1, field2 FROM tablename  WHERE field1 = 'string' LIMIT 5""

So here's the problem: I want a max of one result from each 'test_id', so if a row is selected with test_id 1, then it will skip over any other possible results with test_id 1.

Any ideas?

Thanks,  
Michael
",mysql,query,,,,,open,0,111,9,"Update Multiple Rows Mysql from php -- Slight Twist I asked a similar question yesterday, but now I have a slight twist.  Since I already gave credit to an answer, I've decided to create a new question.

Here's what I'm trying to do: Select an arbitrary number of rows, but *placing a limit on the number of selected rows of one field.*

   
    $query = ""SELECT test_id, field1, field2 FROM tablename  WHERE field1 = 'string' LIMIT 5""

So here's the problem: I want a max of one result from each 'test_id', so if a row is selected with test_id 1, then it will skip over any other possible results with test_id 1.

Any ideas?

Thanks,  
Michael
",2
2101718,01/20/2010 13:43:30,198729,10/29/2009 08:13:14,702,0,Time complexity analysis,"Set up(MySQL):

    create table inRelation(
    	party1 integer unsigned NOT NULL,
    	party2 integer unsigned NOT NULL,
    	unique (party1,party2)
    );
    
    insert into inRelation(party1,party2) values(1,2),(1,3),(2,3),(1,4),(2,5),(3,5),(1,6),(1,7),(2,7),(5,7);

    mysql> select * from inRelation a
        -> join inRelation b on a.party2=b.party1
        -> join inRelation c on b.party2=c.party1
        -> where a.party1 and c.party2=7;
    +--------+--------+--------+--------+--------+--------+
    | party1 | party2 | party1 | party2 | party1 | party2 |
    +--------+--------+--------+--------+--------+--------+
    |      1 |      2 |      2 |      5 |      5 |      7 |
    |      1 |      3 |      3 |      5 |      5 |      7 |
    |      2 |      3 |      3 |      5 |      5 |      7 |
    +--------+--------+--------+--------+--------+--------+
    3 rows in set (0.00 sec)
    
    mysql> explain select * from inRelation a
        -> join inRelation b on a.party2=b.party1
        -> join inRelation c on b.party2=c.party1
        -> where a.party1 and c.party2=7;
    +----+-------------+-------+--------+---------------+--------+---------+---------------------+------+---------------------------------------------+
    | id | select_type | table | type   | possible_keys | key    | key_len | ref                 | rows | Extra                                       |
    +----+-------------+-------+--------+---------------+--------+---------+---------------------+------+---------------------------------------------+
    |  1 | SIMPLE      | b     | index  | party1        | party1 | 8       | NULL                |   10 | Using index                                 |
    |  1 | SIMPLE      | a     | index  | NULL          | party1 | 8       | NULL                |   10 | Using where; Using index; Using join buffer |
    |  1 | SIMPLE      | c     | eq_ref | party1        | party1 | 8       | news.b.party2,const |    1 | Using index                                 |
    +----+-------------+-------+--------+---------------+--------+---------+---------------------+------+---------------------------------------------+
    3 rows in set (0.00 sec)


This is a BFS solution for my previous post:

http://stackoverflow.com/questions/2076715/challenge-how-to-implement-an-algorithm-for-six-degree-of-separation

But what's the complexity of it?Suppose there are totally `n` records .",mysql,algorithm,bfs,,,,open,0,695,3,"Time complexity analysis Set up(MySQL):

    create table inRelation(
    	party1 integer unsigned NOT NULL,
    	party2 integer unsigned NOT NULL,
    	unique (party1,party2)
    );
    
    insert into inRelation(party1,party2) values(1,2),(1,3),(2,3),(1,4),(2,5),(3,5),(1,6),(1,7),(2,7),(5,7);

    mysql> select * from inRelation a
        -> join inRelation b on a.party2=b.party1
        -> join inRelation c on b.party2=c.party1
        -> where a.party1 and c.party2=7;
    +--------+--------+--------+--------+--------+--------+
    | party1 | party2 | party1 | party2 | party1 | party2 |
    +--------+--------+--------+--------+--------+--------+
    |      1 |      2 |      2 |      5 |      5 |      7 |
    |      1 |      3 |      3 |      5 |      5 |      7 |
    |      2 |      3 |      3 |      5 |      5 |      7 |
    +--------+--------+--------+--------+--------+--------+
    3 rows in set (0.00 sec)
    
    mysql> explain select * from inRelation a
        -> join inRelation b on a.party2=b.party1
        -> join inRelation c on b.party2=c.party1
        -> where a.party1 and c.party2=7;
    +----+-------------+-------+--------+---------------+--------+---------+---------------------+------+---------------------------------------------+
    | id | select_type | table | type   | possible_keys | key    | key_len | ref                 | rows | Extra                                       |
    +----+-------------+-------+--------+---------------+--------+---------+---------------------+------+---------------------------------------------+
    |  1 | SIMPLE      | b     | index  | party1        | party1 | 8       | NULL                |   10 | Using index                                 |
    |  1 | SIMPLE      | a     | index  | NULL          | party1 | 8       | NULL                |   10 | Using where; Using index; Using join buffer |
    |  1 | SIMPLE      | c     | eq_ref | party1        | party1 | 8       | news.b.party2,const |    1 | Using index                                 |
    +----+-------------+-------+--------+---------------+--------+---------+---------------------+------+---------------------------------------------+
    3 rows in set (0.00 sec)


This is a BFS solution for my previous post:

http://stackoverflow.com/questions/2076715/challenge-how-to-implement-an-algorithm-for-six-degree-of-separation

But what's the complexity of it?Suppose there are totally `n` records .",3
7368659,09/10/2011 00:01:23,766120,05/23/2011 13:51:37,692,35,my_udf_init not called,"This is my first time trying to create an udf for mysql. The docs state that `my_func_init` gets called prior to executing the main function, yet in my environment this does not seem to happen.
    
    long long charmatch(UDF_INIT *initid, UDF_ARGS *args, char *is_null, char *error)
    {
        return 42;
    }

    my_bool charmatch_init(UDF_INIT *initid, UDF_ARGS *args, char *message)
    {
        if (args->arg_count != 2)
        {
            strncpy(message, ""charmatch() requires two arguments"", 34);
            return EXIT_SUCCESS;
        }

        if(args->arg_type[0] != STRING_RESULT)
        {
            strncpy(message, ""argument 1 must be a string"", 27);
            return EXIT_SUCCESS;
        }

        if(args->arg_type[0] != STRING_RESULT)
        {
            strncpy(message, ""argument 2 must be a string"", 27);
            return EXIT_SUCCESS;
        }

        return EXIT_SUCCESS;
    }

As you can see, I'm checking whether there are two arguments. In theory `SELECT CHARMATCH()` should return a message saying I must set two arguments, but it's not: it return 42.

Why doesn't it return the message?",mysql,c,udf,,,,open,0,304,3,"my_udf_init not called This is my first time trying to create an udf for mysql. The docs state that `my_func_init` gets called prior to executing the main function, yet in my environment this does not seem to happen.
    
    long long charmatch(UDF_INIT *initid, UDF_ARGS *args, char *is_null, char *error)
    {
        return 42;
    }

    my_bool charmatch_init(UDF_INIT *initid, UDF_ARGS *args, char *message)
    {
        if (args->arg_count != 2)
        {
            strncpy(message, ""charmatch() requires two arguments"", 34);
            return EXIT_SUCCESS;
        }

        if(args->arg_type[0] != STRING_RESULT)
        {
            strncpy(message, ""argument 1 must be a string"", 27);
            return EXIT_SUCCESS;
        }

        if(args->arg_type[0] != STRING_RESULT)
        {
            strncpy(message, ""argument 2 must be a string"", 27);
            return EXIT_SUCCESS;
        }

        return EXIT_SUCCESS;
    }

As you can see, I'm checking whether there are two arguments. In theory `SELECT CHARMATCH()` should return a message saying I must set two arguments, but it's not: it return 42.

Why doesn't it return the message?",3
10585456,05/14/2012 14:35:53,372108,06/21/2010 11:27:53,9,3,What is the best method for load balancing?,"(i think, this is the best place to find experts in Internet. :-)

We are developing a search engine, similar to Google. 
It means, the functionality will be similar to Google. But the concept is totally different. 
We plan to serve the query within 0.5 seconds and we are able to do it very well with mysql and one server. However when we tried with mysql cluster the loading time increased.

I.e in standalone mysql, the loading time is 0.17 seconds for a query to execute and for mysql cluster the query execution time is: .97 seconds. We want the system to be able to serve millions of users per second.  

Extra Info: mysql DB size might not increase above 5 GB.

The question is, Do we need to go ahead with mysql cluster or can we go ahead with apache load balancing. Please guide us.",mysql,apache,load,cluster,,05/14/2012 16:51:37,off topic,1,144,8,"What is the best method for load balancing? (i think, this is the best place to find experts in Internet. :-)

We are developing a search engine, similar to Google. 
It means, the functionality will be similar to Google. But the concept is totally different. 
We plan to serve the query within 0.5 seconds and we are able to do it very well with mysql and one server. However when we tried with mysql cluster the loading time increased.

I.e in standalone mysql, the loading time is 0.17 seconds for a query to execute and for mysql cluster the query execution time is: .97 seconds. We want the system to be able to serve millions of users per second.  

Extra Info: mysql DB size might not increase above 5 GB.

The question is, Do we need to go ahead with mysql cluster or can we go ahead with apache load balancing. Please guide us.",4
7668250,10/05/2011 21:57:11,981280,10/31/2010 04:43:40,1,0,More Efficient Way To Write MySQL Query?,"My site has suddenly started spitting out the following error:

> ""Incorrect key file for table '/tmp/#sql_645a_1.MYI'; try to repair it""

I remove it, the site works fine. 

My server tech support guys suggest I clean up the query and make it more efficient. 

Here's the query:

    SELECT *, FROM_UNIXTIME(post_time, '%Y-%c-%d %H:%i') as posttime 
    FROM communityposts, communitytopics, communityusers 
    WHERE communityposts.poster_id=communityusers.user_id 
    AND communityposts.topic_id=communitytopics.topic_id 
    ORDER BY post_time DESC LIMIT 5

Any help is greatly appreciated. Perhaps can be done with a JOIN?

Many thanks,

Scott",mysql,optimization,,,,,open,0,97,7,"More Efficient Way To Write MySQL Query? My site has suddenly started spitting out the following error:

> ""Incorrect key file for table '/tmp/#sql_645a_1.MYI'; try to repair it""

I remove it, the site works fine. 

My server tech support guys suggest I clean up the query and make it more efficient. 

Here's the query:

    SELECT *, FROM_UNIXTIME(post_time, '%Y-%c-%d %H:%i') as posttime 
    FROM communityposts, communitytopics, communityusers 
    WHERE communityposts.poster_id=communityusers.user_id 
    AND communityposts.topic_id=communitytopics.topic_id 
    ORDER BY post_time DESC LIMIT 5

Any help is greatly appreciated. Perhaps can be done with a JOIN?

Many thanks,

Scott",2
3595963,08/29/2010 18:12:11,417533,08/11/2010 17:12:07,1,0,PHP5 and mysql examples,"is there any website which has given very good examples of php5 and mysql. 

how to use OOP for website development from small website to large. or is it good to start development in zend framework. ",mysql,php5,,,,08/29/2010 18:46:38,not a real question,1,37,4,"PHP5 and mysql examples is there any website which has given very good examples of php5 and mysql. 

how to use OOP for website development from small website to large. or is it good to start development in zend framework. ",2
10462222,05/05/2012 13:14:58,1111794,12/22/2011 13:19:28,127,0,Create mysql rows or columns,"I wrote a little ruby script, which connects itself to a mysql database and creates a table (if this table doesn't exist yet). After this the script should store content in this table I try to store this data using: `Table.create(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")`. I also tried `Table.new(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")` but it seems to do the same because I always get the error: `Mysql::Error: Table 'my-username.my-dbname' doesn't exist: SHOW FULL FIELDS FROM table-name`
SO this is what I got so far:

     ActiveRecord::Base.establish_connection(
                    :adapter => ""mysql"",
                    :host => ""localhost"",
                    :username => ""my-username"",
                    :password => ""my-password"",
                    :database => ""my-db-name"",
                    :encoding => ""UTF8""
            )
    
            table_name = ""my_table""
            unless ActiveRecord::Base.connection.tables.include? table_name
                    ActiveRecord::Schema.define do
                            create_table :""#{table_name}"" do |table|
                                    table.column :foo, :string
                                    table.column :bar, :string
                                    table.column :blallala, :string
                            end
                    end
            end
    
            class Table < ActiveRecord::Base
                    self.table_name = ""#{table_name}""
            end
    
             Table.create(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")
             #Table.new(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")",mysql,ruby,activerecord,,,,open,0,597,5,"Create mysql rows or columns I wrote a little ruby script, which connects itself to a mysql database and creates a table (if this table doesn't exist yet). After this the script should store content in this table I try to store this data using: `Table.create(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")`. I also tried `Table.new(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")` but it seems to do the same because I always get the error: `Mysql::Error: Table 'my-username.my-dbname' doesn't exist: SHOW FULL FIELDS FROM table-name`
SO this is what I got so far:

     ActiveRecord::Base.establish_connection(
                    :adapter => ""mysql"",
                    :host => ""localhost"",
                    :username => ""my-username"",
                    :password => ""my-password"",
                    :database => ""my-db-name"",
                    :encoding => ""UTF8""
            )
    
            table_name = ""my_table""
            unless ActiveRecord::Base.connection.tables.include? table_name
                    ActiveRecord::Schema.define do
                            create_table :""#{table_name}"" do |table|
                                    table.column :foo, :string
                                    table.column :bar, :string
                                    table.column :blallala, :string
                            end
                    end
            end
    
            class Table < ActiveRecord::Base
                    self.table_name = ""#{table_name}""
            end
    
             Table.create(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")
             #Table.new(:foo => ""bar"", :foobar => ""something"", :blallala => ""blololl"")",3
10593424,05/15/2012 02:23:00,547646,12/19/2010 11:21:28,189,0,How does Google's Go language go about MySQL?,"While there is so much excitement about the Google's Go programming language, I find it hard to be useful, especially for the Web development, if it doesn't provide good solutions on databases, especially MySQL.

I just couldn't find any docs on it. Does anybody know hoe to connect and query MySQL server with Go?",mysql,go,,,,06/06/2012 14:42:09,not constructive,1,53,8,"How does Google's Go language go about MySQL? While there is so much excitement about the Google's Go programming language, I find it hard to be useful, especially for the Web development, if it doesn't provide good solutions on databases, especially MySQL.

I just couldn't find any docs on it. Does anybody know hoe to connect and query MySQL server with Go?",2
7621125,10/01/2011 15:26:09,388885,07/11/2010 14:00:07,390,1,Weekly Actives Query,"My current sql query gets my 7-day actives, but I'd like to see weekly actives. User posts at least once per week:

    $Sday_users = mysql_query(""SELECT intPosterID FROM tblQA WHERE DATEDIFF(NOW(),dPostDateTime) < 7 GROUP BY intPosterID HAVING COUNT(DISTINCT DATE(dPostDateTime)) = 7"");
",mysql,sql,,,,10/02/2011 10:58:24,not a real question,1,43,3,"Weekly Actives Query My current sql query gets my 7-day actives, but I'd like to see weekly actives. User posts at least once per week:

    $Sday_users = mysql_query(""SELECT intPosterID FROM tblQA WHERE DATEDIFF(NOW(),dPostDateTime) < 7 GROUP BY intPosterID HAVING COUNT(DISTINCT DATE(dPostDateTime)) = 7"");
",2
9377960,02/21/2012 12:53:58,357189,06/03/2010 07:13:00,1480,24,MySQL - selecting near a spatial point,"I've based my query below to select points near a spatial point called `point` on the other <a href=""http://stackoverflow.com/questions/1006654/fastest-distance-lookup-given-latitude-longitude"">SO solution</a>, but I've not been able to get it to work, for the past few hours, and I'm a bit edgy now... 

My table `lastcrawl` has a simple schema: 

<pre>
 id (primary int, autoinc)
 point (spatial POINT)
</pre>

(Added the spatial key via `ALTER TABLE lastcrawl ADD SPATIAL INDEX(point);`) 

<pre>
$query = sprintf(""SELECT * FROM lastcrawl WHERE  
	 MBRContains(LineFromText(CONCAT(
        '('
        , %F + 0.0005 * ( 111.1 / cos(%F))
        , ' '
        , %F + 0.0005 / 111.1
        , ','
        , %F - 0.0005 / ( 111.1 / cos(%F))
        , ' '
        , %F - 0.0005 / 111.1 
        , ')' )
        ,point)"",date('Y-m-d H:i:s',$lastdate),$crawl,
        $lng,$lng,$lat,$lng,$lat,$lat);
$result = mysql_query($query) or die (mysql_error()); 

</pre>

I've successfully inserted a few rows via:

`$query = sprintf(""INSERT INTO lastcrawl (point) VALUES( GeomFromText( 'POINT(%F %F)' ))"",$lat,$lng);`

But, I'm just not able to query the nearest points for a non-null result set.. 

----

After inserting `$lat=40, $lng=-100`, trying to query this returns nothing as well (so, not even exact coordinates match): 

`SELECT * FROM lastcrawl WHERE MBRContains(LineFromText(CONCAT( '(' , -100.000000 + 0.0005 * ( 111.1 / cos(-100.000000)) , ' ' , 40.000000 + 0.0005 / 111.1 , ',' , -100.000000 - 0.0005 / ( 111.1 / cos(40.000000)) , ' ' , 40.000000 - 0.0005 / 111.1 , ')' )) ,point)`",mysql,geolocation,geospatial,spatial,,,open,0,302,7,"MySQL - selecting near a spatial point I've based my query below to select points near a spatial point called `point` on the other <a href=""http://stackoverflow.com/questions/1006654/fastest-distance-lookup-given-latitude-longitude"">SO solution</a>, but I've not been able to get it to work, for the past few hours, and I'm a bit edgy now... 

My table `lastcrawl` has a simple schema: 

<pre>
 id (primary int, autoinc)
 point (spatial POINT)
</pre>

(Added the spatial key via `ALTER TABLE lastcrawl ADD SPATIAL INDEX(point);`) 

<pre>
$query = sprintf(""SELECT * FROM lastcrawl WHERE  
	 MBRContains(LineFromText(CONCAT(
        '('
        , %F + 0.0005 * ( 111.1 / cos(%F))
        , ' '
        , %F + 0.0005 / 111.1
        , ','
        , %F - 0.0005 / ( 111.1 / cos(%F))
        , ' '
        , %F - 0.0005 / 111.1 
        , ')' )
        ,point)"",date('Y-m-d H:i:s',$lastdate),$crawl,
        $lng,$lng,$lat,$lng,$lat,$lat);
$result = mysql_query($query) or die (mysql_error()); 

</pre>

I've successfully inserted a few rows via:

`$query = sprintf(""INSERT INTO lastcrawl (point) VALUES( GeomFromText( 'POINT(%F %F)' ))"",$lat,$lng);`

But, I'm just not able to query the nearest points for a non-null result set.. 

----

After inserting `$lat=40, $lng=-100`, trying to query this returns nothing as well (so, not even exact coordinates match): 

`SELECT * FROM lastcrawl WHERE MBRContains(LineFromText(CONCAT( '(' , -100.000000 + 0.0005 * ( 111.1 / cos(-100.000000)) , ' ' , 40.000000 + 0.0005 / 111.1 , ',' , -100.000000 - 0.0005 / ( 111.1 / cos(40.000000)) , ' ' , 40.000000 - 0.0005 / 111.1 , ')' )) ,point)`",4
1154536,07/20/2009 16:26:37,141507,07/20/2009 16:26:37,1,0,"MySQL joins to display categories, subcategories and subsubcategories","I have three tables: categories, subcategories and subsubcategories.

I want to display a list that's formatted like:

<pre>dvds
cds
cds > pop
cds > blues
cds > new age
cds > new age > whale noises
books
books > cowboys
books > zombies</pre>

I've managed to display everything except for the names of categories on their own when they have children, eg what I'm getting is:

<pre>dvds
cds > pop
cds > blues
cds > new age > whale noises
books > cowboys
books > zombies</pre>

The above list is missing the cds and books categories, plus the cds > new age subcategory.

The query I'm using is:

    SELECT
      c.name AS c_name,
      sc.name AS sc_name,
      ssc.name AS ssc_name
    FROM
      categories c
    LEFT JOIN
      subcategories sc
      ON c.id = sc.category_id
    LEFT JOIN
      subsubcategories ssc
      ON sc.id = ssc.subcategory_id

Any help with this would be much appreciated!",mysql,,,,,,open,0,177,8,"MySQL joins to display categories, subcategories and subsubcategories I have three tables: categories, subcategories and subsubcategories.

I want to display a list that's formatted like:

<pre>dvds
cds
cds > pop
cds > blues
cds > new age
cds > new age > whale noises
books
books > cowboys
books > zombies</pre>

I've managed to display everything except for the names of categories on their own when they have children, eg what I'm getting is:

<pre>dvds
cds > pop
cds > blues
cds > new age > whale noises
books > cowboys
books > zombies</pre>

The above list is missing the cds and books categories, plus the cds > new age subcategory.

The query I'm using is:

    SELECT
      c.name AS c_name,
      sc.name AS sc_name,
      ssc.name AS ssc_name
    FROM
      categories c
    LEFT JOIN
      subcategories sc
      ON c.id = sc.category_id
    LEFT JOIN
      subsubcategories ssc
      ON sc.id = ssc.subcategory_id

Any help with this would be much appreciated!",1
10702504,05/22/2012 12:57:48,1119139,12/28/2011 10:50:17,53,0,Sharding and indexes,"I want to shard my database but I'm not professional in this topic. So here are my considerations. Though sharding key is excellent index for directing requests to the right nodes, what about the rest of indexes that will be defined upon my tables? I want requests referencing those indexes to be delivered to the right nodes as well so that only one node process the request. As far as I understand for this purpose some centralized index nodes must exist. So my question is whether this functionality is already present in RDBMS like MYSQL or should I use other special products.",mysql,index,sharding,,,,open,0,102,3,"Sharding and indexes I want to shard my database but I'm not professional in this topic. So here are my considerations. Though sharding key is excellent index for directing requests to the right nodes, what about the rest of indexes that will be defined upon my tables? I want requests referencing those indexes to be delivered to the right nodes as well so that only one node process the request. As far as I understand for this purpose some centralized index nodes must exist. So my question is whether this functionality is already present in RDBMS like MYSQL or should I use other special products.",3
9345543,02/19/2012 00:29:45,1200107,02/09/2012 16:15:22,1,0,Legal issue: (encrypted) copyrighted ebooks on server,"I was wondering whether it's legal to have copyrighted ebooks (which I bought) in my MySQL database - behind a login system - to access them everywhere in the world. If not, is it legal to have encrypted versions in my database?

",mysql,legal,copyright,ebook,,02/19/2012 00:42:39,off topic,1,42,7,"Legal issue: (encrypted) copyrighted ebooks on server I was wondering whether it's legal to have copyrighted ebooks (which I bought) in my MySQL database - behind a login system - to access them everywhere in the world. If not, is it legal to have encrypted versions in my database?

",4
8280697,11/26/2011 18:42:52,748527,05/11/2011 11:19:02,66,2,AutoMySQLBackup For WIndow?,>Hi how to automatically backup mysql after regular interval in windows?,mysql,database,database-backups,,,11/27/2011 14:13:32,off topic,1,11,3,AutoMySQLBackup For WIndow? >Hi how to automatically backup mysql after regular interval in windows?,3
8344391,12/01/2011 16:04:25,47012,11/06/2008 19:21:05,3565,102,'Access denied' message when trying to move a Bugzilla database,"I have a working Bugzilla database on Windows Home Server (the old one) that I am trying to move to a fresh working Bugzilla setup on another machine running Windows Home Server 2011. To export my old data I see from the documentation that this should work when run on my old machine to dump its database:

    C:\Program Files\Bugzilla\mysql\bin>mysqldump -uAdministrator -pxxxx  bugs > c:\backup.sql

When running this I get:

    mysqldump: Got error: 1045: Access denied for user 'Administrator'@'localhost' (using password:
    YES) when trying to connect

I've tried various user names and passwords, also I've tried shutting Bugzilla down with 'shutdownhtml' but to no effect. What might I be doing wrong please? Am I using the correct notation? My installation is the integrated 3.4.8 for Windows.
",mysql,windows,bugzilla,,,12/01/2011 22:59:23,off topic,1,133,10,"'Access denied' message when trying to move a Bugzilla database I have a working Bugzilla database on Windows Home Server (the old one) that I am trying to move to a fresh working Bugzilla setup on another machine running Windows Home Server 2011. To export my old data I see from the documentation that this should work when run on my old machine to dump its database:

    C:\Program Files\Bugzilla\mysql\bin>mysqldump -uAdministrator -pxxxx  bugs > c:\backup.sql

When running this I get:

    mysqldump: Got error: 1045: Access denied for user 'Administrator'@'localhost' (using password:
    YES) when trying to connect

I've tried various user names and passwords, also I've tried shutting Bugzilla down with 'shutdownhtml' but to no effect. What might I be doing wrong please? Am I using the correct notation? My installation is the integrated 3.4.8 for Windows.
",3
733349,04/09/2009 08:43:36,50676,01/01/2009 10:27:18,213,18,List of Stored Procedures/Functions Mysql Command Line,Dear all how can I see the list of the stored procedures or stored functions in mysql command line like `show tables;` or `show databases;` commands.       ,mysql,command-line,stored-procedures,,,,open,0,33,7,List of Stored Procedures/Functions Mysql Command Line Dear all how can I see the list of the stored procedures or stored functions in mysql command line like `show tables;` or `show databases;` commands.       ,3
5322502,03/16/2011 08:08:48,660523,03/15/2011 12:13:40,1,0,store image in database,how to store image in database and retrive from database  ,mysql,gwt,ext-gwt,,,03/16/2011 14:22:16,not a real question,1,12,4,store image in database how to store image in database and retrive from database  ,3
2411528,03/09/2010 18:30:45,289872,03/09/2010 17:37:40,1,0,Query points within a given radius in MySQL,"I have created the following MySQL table to store latitude/longitude coordinates along with a name for each point:

    CREATE TABLE `points` (
      `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(128) NOT NULL,
      `location` point NOT NULL,
      PRIMARY KEY (`id`),
      SPATIAL KEY `location` (`location`)
    ) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1;

I am trying to query:

 - all points within an <i>n</i> mile radius of a given point;
 - the distance of each returned point from the given point

All of the examples I have found refer to using a minimum bounding rectangle (MBR) rather than a radius. The table contains approximately 1 million points, so this need needs to be as efficient as possible.

I look forward to your suggestions.

Many thanks.",mysql,database,spatial,,,,open,0,147,8,"Query points within a given radius in MySQL I have created the following MySQL table to store latitude/longitude coordinates along with a name for each point:

    CREATE TABLE `points` (
      `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(128) NOT NULL,
      `location` point NOT NULL,
      PRIMARY KEY (`id`),
      SPATIAL KEY `location` (`location`)
    ) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1;

I am trying to query:

 - all points within an <i>n</i> mile radius of a given point;
 - the distance of each returned point from the given point

All of the examples I have found refer to using a minimum bounding rectangle (MBR) rather than a radius. The table contains approximately 1 million points, so this need needs to be as efficient as possible.

I look forward to your suggestions.

Many thanks.",3
11290433,07/02/2012 08:47:37,1142045,01/11/2012 00:10:52,2867,219,Slow query on information_schema.tables,"I run a set of self-developed applications on a typical shared hosting service offering.  I moved from a static configured table list of allowed tables to one based on a list of tables bases on a prefix from the D/B metadata.  When I did promote this version to the public service, my per-request latency increased by an average **2.3–2.4 secs**. Some instrumentation revealed that this was entirely down to one SQL query:

    SELECT TABLE_NAME AS name
    FROM information_schema.tables
    WHERE TABLE_SCHEMA = '<DBname>'
    AND TABLE_NAME LIKE '<TablePrefix>%';

I used this because I wanted to explicitly name the column in the result set.  However, coding around this with an alternate query adds an extra line of code which ran in **<2 mSec**:

    SHOW TABLES LIKE '<TablePrefix>%';

My service provider uses Enterprise MySql 5.0.92-50 so I can't do any profiling.  This is a scaling issue as it doesn't occur on my dev environment and test VM where I can profile. They support thousands of users so the live schema will be extremely large, but even so connection and most queries only take milliseconds.  

Does anyone know why querying the memory-based information_schema on a large multi-user system would take so long?",mysql,performance,,,,,open,0,215,4,"Slow query on information_schema.tables I run a set of self-developed applications on a typical shared hosting service offering.  I moved from a static configured table list of allowed tables to one based on a list of tables bases on a prefix from the D/B metadata.  When I did promote this version to the public service, my per-request latency increased by an average **2.3–2.4 secs**. Some instrumentation revealed that this was entirely down to one SQL query:

    SELECT TABLE_NAME AS name
    FROM information_schema.tables
    WHERE TABLE_SCHEMA = '<DBname>'
    AND TABLE_NAME LIKE '<TablePrefix>%';

I used this because I wanted to explicitly name the column in the result set.  However, coding around this with an alternate query adds an extra line of code which ran in **<2 mSec**:

    SHOW TABLES LIKE '<TablePrefix>%';

My service provider uses Enterprise MySql 5.0.92-50 so I can't do any profiling.  This is a scaling issue as it doesn't occur on my dev environment and test VM where I can profile. They support thousands of users so the live schema will be extremely large, but even so connection and most queries only take milliseconds.  

Does anyone know why querying the memory-based information_schema on a large multi-user system would take so long?",2
1947105,12/22/2009 15:31:20,236956,12/22/2009 15:29:00,1,0,What ports should I be opening thru my firewall to access MySQL behind it,"I currently have a web server in front of a firewall and my MySQL DB behind the firewall.

I have already opened port 3306 for tcp, but still cannot connect thru the firewall.

Any ideas?

Thanking all in advance
:)
",mysql,,,,,06/06/2012 08:04:22,off topic,1,36,14,"What ports should I be opening thru my firewall to access MySQL behind it I currently have a web server in front of a firewall and my MySQL DB behind the firewall.

I have already opened port 3306 for tcp, but still cannot connect thru the firewall.

Any ideas?

Thanking all in advance
:)
",1
6560983,07/03/2011 03:42:49,651174,03/09/2011 08:26:41,354,8,Figuring out SQL table creation from django models,"I have the the following django model:

    class UserProfile(models.Model):
    	user = models.ForeignKey(User, unique=True)
    	full_name = models.CharField(max_length=100)
    	network = models.ForeignKey(Network)
    	positions = models.ManyToManyField(Position, through ='Timestamp', blank=True)
	    featured_video = models.ForeignKey(VideoInfo, blank=True, null=True)

And in from `SHOW CREATE TABLE userprofile_userprofile`, I get the following MySQL output: 


    | userprofile_userprofile | CREATE TABLE `userprofile_userprofile` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `user_id` int(11) NOT NULL,
      `full_name` varchar(100) NOT NULL,
      `network_id` int(11) NOT NULL,
      `featured_video_id` int(11) DEFAULT NULL,
      `bio` longtext NOT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `user_id` (`user_id`),
      KEY `userprofile_userprofile_fb2a452b` (`network_id`),
      KEY `userprofile_userprofile_58bbe944` (`featured_video_id`),
      CONSTRAINT `featured_video_id_refs_id_b7c2ab56` FOREIGN KEY (`featured_video_id`) REFERENCES `userprofile_videoinfo` (`id`),
      CONSTRAINT `network_id_refs_id_f5c27879` FOREIGN KEY (`network_id`) REFERENCES `network_network` (`id`),
      CONSTRAINT `user_id_refs_id_da7416c6` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=31034 DEFAULT CHARSET=latin1 |

Could someone please explain to me what the last seven lines are doing here (`unique key`, `key`, `constraint`, `engine=InnoDB`, and `auto-increment=31034`)? Thank you.
",mysql,sql,django,django-models,,07/03/2011 04:03:42,not a real question,1,229,8,"Figuring out SQL table creation from django models I have the the following django model:

    class UserProfile(models.Model):
    	user = models.ForeignKey(User, unique=True)
    	full_name = models.CharField(max_length=100)
    	network = models.ForeignKey(Network)
    	positions = models.ManyToManyField(Position, through ='Timestamp', blank=True)
	    featured_video = models.ForeignKey(VideoInfo, blank=True, null=True)

And in from `SHOW CREATE TABLE userprofile_userprofile`, I get the following MySQL output: 


    | userprofile_userprofile | CREATE TABLE `userprofile_userprofile` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `user_id` int(11) NOT NULL,
      `full_name` varchar(100) NOT NULL,
      `network_id` int(11) NOT NULL,
      `featured_video_id` int(11) DEFAULT NULL,
      `bio` longtext NOT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `user_id` (`user_id`),
      KEY `userprofile_userprofile_fb2a452b` (`network_id`),
      KEY `userprofile_userprofile_58bbe944` (`featured_video_id`),
      CONSTRAINT `featured_video_id_refs_id_b7c2ab56` FOREIGN KEY (`featured_video_id`) REFERENCES `userprofile_videoinfo` (`id`),
      CONSTRAINT `network_id_refs_id_f5c27879` FOREIGN KEY (`network_id`) REFERENCES `network_network` (`id`),
      CONSTRAINT `user_id_refs_id_da7416c6` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=31034 DEFAULT CHARSET=latin1 |

Could someone please explain to me what the last seven lines are doing here (`unique key`, `key`, `constraint`, `engine=InnoDB`, and `auto-increment=31034`)? Thank you.
",4
9631610,03/09/2012 09:22:47,1258924,03/09/2012 09:13:24,1,0,MySQL Inner Join 'Unkown column',"I did my reading on this and still can't make sense why my query doesn't work. It's a rather simple INNER JOIN and we're working on MySQL5. I know, there was a change with join with the precedence of explicitly called joins over comas. But I'm not doing any of that.

My assembled query looks like this:

    SELECT SQL_CALC_FOUND_ROWS k_services.id, service_status, service_tourno, service_date, service_cxlDate, service_difficultPeriod, service_priority, service_currency, service_key_so, service_price_so, service_key_ok, service_price_cfm, service_supplement 
		FROM  k_services
		JOIN k_remarks ON k_remarks.remark_service = k_services.id
		WHERE  k_services.service_market = 2 AND k_remarks.remark_type = 9
		LIMIT 0, 25

Which returns me an error: Unknown column 'k_remarks.remark_type' in 'where clause. 

However, when I pop this exact same query into SQLyog it executes just fine with the desired/expected results.

Any ideas?

Thank you.
a.

",mysql,syntax-error,inner-join,iunknown,,,open,0,122,5,"MySQL Inner Join 'Unkown column' I did my reading on this and still can't make sense why my query doesn't work. It's a rather simple INNER JOIN and we're working on MySQL5. I know, there was a change with join with the precedence of explicitly called joins over comas. But I'm not doing any of that.

My assembled query looks like this:

    SELECT SQL_CALC_FOUND_ROWS k_services.id, service_status, service_tourno, service_date, service_cxlDate, service_difficultPeriod, service_priority, service_currency, service_key_so, service_price_so, service_key_ok, service_price_cfm, service_supplement 
		FROM  k_services
		JOIN k_remarks ON k_remarks.remark_service = k_services.id
		WHERE  k_services.service_market = 2 AND k_remarks.remark_type = 9
		LIMIT 0, 25

Which returns me an error: Unknown column 'k_remarks.remark_type' in 'where clause. 

However, when I pop this exact same query into SQLyog it executes just fine with the desired/expected results.

Any ideas?

Thank you.
a.

",4
8559353,12/19/2011 09:33:00,1105569,12/19/2011 09:27:02,1,0,How do I create a database with long hash in plesk,"We want to update our PHP to 5.3.* But 5.3.* doesn't support the old passwords of MySQL anymore. 
In the config of MySQL the command ""old_password 0"" is defined, but PLESK keeps making dbusers with an old password.

How can we let plesk make db users with new passwords / long hashes?

Thank for advices

This thread allready on paralles' forums.

http://forum.parallels.com/showthread.php?t=100633",mysql,php-5.3,plesk,,,12/19/2011 18:14:54,not a real question,1,58,11,"How do I create a database with long hash in plesk We want to update our PHP to 5.3.* But 5.3.* doesn't support the old passwords of MySQL anymore. 
In the config of MySQL the command ""old_password 0"" is defined, but PLESK keeps making dbusers with an old password.

How can we let plesk make db users with new passwords / long hashes?

Thank for advices

This thread allready on paralles' forums.

http://forum.parallels.com/showthread.php?t=100633",3
3626862,09/02/2010 12:01:32,406433,07/30/2010 05:25:04,1,1,Consolidate multiple MySQL databases into one preserving referential integrity,"I'm wanting to consolidate numerous MySQL databases, all with the same schema definition, into a single database. If I have a dump file from each database, how will I import them all into the same database without their primary keys and foreign keys clashing?

Is there a fairly simple way to do this, or will I need to write some custom code that understands the data and creates a consolidated set of records 'manually'?",mysql,import,referential-integrity,,,,open,0,73,9,"Consolidate multiple MySQL databases into one preserving referential integrity I'm wanting to consolidate numerous MySQL databases, all with the same schema definition, into a single database. If I have a dump file from each database, how will I import them all into the same database without their primary keys and foreign keys clashing?

Is there a fairly simple way to do this, or will I need to write some custom code that understands the data and creates a consolidated set of records 'manually'?",3
8803285,01/10/2012 12:29:42,278470,02/22/2010 05:31:46,845,38,What makes facebook pages load so fast,"I am also a php programmer. I always wondered how do Facebook pages load so fast with so many users connecting to them at any instance. My site never reached such speed even when the traffic was less. What do they do so very well for their sites? 

What should i take care of even if i want to make a website even half the speed of Facebook. I am referring to php and mysql and jquery websites.",mysql,php5,,,,01/11/2012 14:28:59,not a real question,1,78,7,"What makes facebook pages load so fast I am also a php programmer. I always wondered how do Facebook pages load so fast with so many users connecting to them at any instance. My site never reached such speed even when the traffic was less. What do they do so very well for their sites? 

What should i take care of even if i want to make a website even half the speed of Facebook. I am referring to php and mysql and jquery websites.",2
8896526,01/17/2012 14:42:54,519820,11/25/2010 08:01:46,8,0,mysql linked table + join + count,"I've got a query that i'd like to optimize. I'm certain that this query can be improved. 

The result of the query should return the number of products that have the filter_id 22 and 2 and have display 'yes'.

    SELECT COUNT(product_id) AS Total
				FROM kkx_filters_products
				LEFT JOIN kkx_products ON `product_id` = kkx_products.id
				WHERE filter_id
				IN (
					2,22
				)
				AND kkx_products.display = 'yes' GROUP BY product_id HAVING count( product_id ) = 1

The above query returns the count as rows. I'd like one result with the result.


I've included the structure of the tables being used in the query.

EXPLAIN kkx_filters;

    Field            Type                 Null  Key     Default        Extra
    id               int(11) unsigned     NO    PRI     NULL           auto_increment
    name             varchar(50)          NO             

EXPLAIN kkx_filters_products;

    Field            Type                 Null  Key   Default          Extra
    filter_id        int(11)              NO    PRI   0    
    product_id       int(11)              NO    PRI   0   

EXPLAIN kkx_products;

    Field            Type                 Null  Key   Default          Extra
    id               int(11)              NO    PRI   NULL             auto_increment
    title            varchar(255)         NO            
    display          enum('yes','no')     NO          yes    ",mysql,count,,,,,open,0,519,7,"mysql linked table + join + count I've got a query that i'd like to optimize. I'm certain that this query can be improved. 

The result of the query should return the number of products that have the filter_id 22 and 2 and have display 'yes'.

    SELECT COUNT(product_id) AS Total
				FROM kkx_filters_products
				LEFT JOIN kkx_products ON `product_id` = kkx_products.id
				WHERE filter_id
				IN (
					2,22
				)
				AND kkx_products.display = 'yes' GROUP BY product_id HAVING count( product_id ) = 1

The above query returns the count as rows. I'd like one result with the result.


I've included the structure of the tables being used in the query.

EXPLAIN kkx_filters;

    Field            Type                 Null  Key     Default        Extra
    id               int(11) unsigned     NO    PRI     NULL           auto_increment
    name             varchar(50)          NO             

EXPLAIN kkx_filters_products;

    Field            Type                 Null  Key   Default          Extra
    filter_id        int(11)              NO    PRI   0    
    product_id       int(11)              NO    PRI   0   

EXPLAIN kkx_products;

    Field            Type                 Null  Key   Default          Extra
    id               int(11)              NO    PRI   NULL             auto_increment
    title            varchar(255)         NO            
    display          enum('yes','no')     NO          yes    ",2
8091053,11/11/2011 07:46:40,776216,05/30/2011 12:06:47,89,6,delete all record from table in mysql,"I am new in mysql and i am trying to delete all records from table. my query is:

    delete from tableName.

it gives me error ""Error Code: 1175. You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column
To disable safe mode, toggle the option in Preferences -> SQL Editor -> Query Editor and reconnect.""

Please tell me how to resolve this.

Thanks.",mysql,,,,,11/11/2011 11:05:48,not a real question,1,73,7,"delete all record from table in mysql I am new in mysql and i am trying to delete all records from table. my query is:

    delete from tableName.

it gives me error ""Error Code: 1175. You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column
To disable safe mode, toggle the option in Preferences -> SQL Editor -> Query Editor and reconnect.""

Please tell me how to resolve this.

Thanks.",1
10732668,05/24/2012 07:02:42,847172,07/15/2011 20:52:52,147,0,Need help optimize SQL query,"I want to see all users which following me or another user.

I have got used 3 tables 

**users**

 - id
 - username

**user_follow**

 - id
 - user_id
 - follow_id
 - date

**images**

 - id
 - user_id
 - image

I tried to get username with last image uploaded and also I need **my** and followers status to see if I already follow them or no.

My query is written on Mysql : 

    SELECT u.id as user_id, u.username, i.image, t.id as status
                    FROM users AS u
                    INNER JOIN (user_follow AS f) on (u.id = f.user_id) 
                    LEFT OUTER JOIN images i on i.id = (SELECT b.id FROM images AS b where f.user_id = b.user_id ORDER BY b.id DESC LIMIT 1)
                    LEFT OUTER JOIN user_follow t on t.id = (SELECT m.id FROM user_follow m WHERE user_id = 3 AND follow_id = u.id)
                    WHERE f.follow_id = 7 AND f.user_id NOT IN(7,3)
                    GROUP BY f.user_id
                    ORDER BY f.date DESC"";

My user id - 3; I watch users who are following user with id - 7

And output is : 

    Array
    (
        [0] => Array
            (
                [user_id] => 6
                [username] => 6666
                [image] => flw3utn9igiqh7dtt2o61ydf8_174.jpeg
                [status] => 226
            )
    
    )

I think that my query is too heigh and I do not know how to simple check status and output 1 or 0 . Now I get a follow line id if ""follow"" and empty if no. Also I will be happy if you show me how to optimaize my query.",mysql,sql,query,,,,open,0,478,5,"Need help optimize SQL query I want to see all users which following me or another user.

I have got used 3 tables 

**users**

 - id
 - username

**user_follow**

 - id
 - user_id
 - follow_id
 - date

**images**

 - id
 - user_id
 - image

I tried to get username with last image uploaded and also I need **my** and followers status to see if I already follow them or no.

My query is written on Mysql : 

    SELECT u.id as user_id, u.username, i.image, t.id as status
                    FROM users AS u
                    INNER JOIN (user_follow AS f) on (u.id = f.user_id) 
                    LEFT OUTER JOIN images i on i.id = (SELECT b.id FROM images AS b where f.user_id = b.user_id ORDER BY b.id DESC LIMIT 1)
                    LEFT OUTER JOIN user_follow t on t.id = (SELECT m.id FROM user_follow m WHERE user_id = 3 AND follow_id = u.id)
                    WHERE f.follow_id = 7 AND f.user_id NOT IN(7,3)
                    GROUP BY f.user_id
                    ORDER BY f.date DESC"";

My user id - 3; I watch users who are following user with id - 7

And output is : 

    Array
    (
        [0] => Array
            (
                [user_id] => 6
                [username] => 6666
                [image] => flw3utn9igiqh7dtt2o61ydf8_174.jpeg
                [status] => 226
            )
    
    )

I think that my query is too heigh and I do not know how to simple check status and output 1 or 0 . Now I get a follow line id if ""follow"" and empty if no. Also I will be happy if you show me how to optimaize my query.",3
9119411,02/02/2012 20:23:17,945470,09/14/2011 20:22:48,75,2,Calling MySQL stored procedure with Twisted adbapi,"I'm trying to call a MySQL stored procedure from Twisted adbapi using the MySQLdb interface but cannot get it to work. I saw that there is a special way to call stored procedure in MySQLdb (callproc), so I was wondering if there was a special way to call it from the adbapi.

My stored procedure takes two fields `A_PROCEDURE(field1 VARCHAR(20), field2 VARCHAR(25))` and I'm attempting to call it in my program in the way most obvious to me: `dbpool.runOperation(""CALL A_PROCEDURE(%s,%s)"", arg1, arg2)`. This attempt called the errback. The procedure works fine if I just test it from my terminal connection to the database;",mysql,twisted,mysql-python,,,,open,0,102,7,"Calling MySQL stored procedure with Twisted adbapi I'm trying to call a MySQL stored procedure from Twisted adbapi using the MySQLdb interface but cannot get it to work. I saw that there is a special way to call stored procedure in MySQLdb (callproc), so I was wondering if there was a special way to call it from the adbapi.

My stored procedure takes two fields `A_PROCEDURE(field1 VARCHAR(20), field2 VARCHAR(25))` and I'm attempting to call it in my program in the way most obvious to me: `dbpool.runOperation(""CALL A_PROCEDURE(%s,%s)"", arg1, arg2)`. This attempt called the errback. The procedure works fine if I just test it from my terminal connection to the database;",3
4764105,01/21/2011 21:42:40,242241,09/19/2008 21:40:11,2406,139,How to post UTF-8 text from MySQL to Twitter successfully,"I have some text in UTF-8. I put it into a MySQL database, collation `utf8_general_ci` and then I've been auto-posting it to Twitter via Net::Twitter.

But when I post it, even though Twitter itself seems to be expecting UTF-8, going by the content-type in their input pages, I'm getting those artefacts you get when UTF-8 text is misinterpreted: é comes out as Ã© for instance.

So ... at what point is this going wrong? How can I ensure it makes the trip undamaged? 

* Set my script to treat all text as UTF-8 somehow? 
* Make sure I extract it from the database in UTF-8? 
* Tell Net::Twitter that it's posting in UTF-8?",mysql,perl,twitter,character-encoding,,,open,0,111,10,"How to post UTF-8 text from MySQL to Twitter successfully I have some text in UTF-8. I put it into a MySQL database, collation `utf8_general_ci` and then I've been auto-posting it to Twitter via Net::Twitter.

But when I post it, even though Twitter itself seems to be expecting UTF-8, going by the content-type in their input pages, I'm getting those artefacts you get when UTF-8 text is misinterpreted: é comes out as Ã© for instance.

So ... at what point is this going wrong? How can I ensure it makes the trip undamaged? 

* Set my script to treat all text as UTF-8 somehow? 
* Make sure I extract it from the database in UTF-8? 
* Tell Net::Twitter that it's posting in UTF-8?",4
8874629,01/16/2012 00:28:04,1151031,01/16/2012 00:11:37,1,0,Creating a relational database of sports league,"I am trying to model a relational database for a sports league in mySQL.

Players play for teams. 
Teams play against one another in games.
There are three games played every week. (Every team plays all three days against other teams)

I want to keep track of each player's goals+assists every game, every week, and for the whole season all together. Same with each team's wins+losses.

What would be the entities? And how would the relationship look like?",mysql,database,database-design,relational-database,entity-relationship,01/16/2012 03:02:46,off topic,1,74,7,"Creating a relational database of sports league I am trying to model a relational database for a sports league in mySQL.

Players play for teams. 
Teams play against one another in games.
There are three games played every week. (Every team plays all three days against other teams)

I want to keep track of each player's goals+assists every game, every week, and for the whole season all together. Same with each team's wins+losses.

What would be the entities? And how would the relationship look like?",5
10247818,04/20/2012 14:03:42,1169557,01/25/2012 15:45:23,8,0,blob diff in mysql,"I'm building an application that needs to keep an audit trail of changes. I am using PHP where a string diff function exists, but I would like to perform a diff on a longtext at the database level on updates/inserts, and then write the string difference to an audit table, since performance in this part of the application is not important. What would be the best way to do this?",mysql,,,,,04/22/2012 18:22:50,not constructive,1,70,4,"blob diff in mysql I'm building an application that needs to keep an audit trail of changes. I am using PHP where a string diff function exists, but I would like to perform a diff on a longtext at the database level on updates/inserts, and then write the string difference to an audit table, since performance in this part of the application is not important. What would be the best way to do this?",1
6596124,07/06/2011 12:10:01,438958,09/03/2010 12:40:28,332,4,"mysql, how to join this key id?","Forgive me, I am new to mysql

I have this mysql table:

    |ID|KeyID1|KeyID2|Param|Value|...
    |asdf|1|2| ...

The KeyID1 and KeyID2 values exist another Table like this:

    |KeyID|Real Name|
    | 1   | Gordon 
    | 2   | Jason 

I want to be able to join the two tables together such that I would have ID|Real Name1|Real Name2|Param|Value

what would i need to do in mysql? Would I need to duplicate another table?

edit: i can change the database design 


",mysql,,,,,,open,0,93,7,"mysql, how to join this key id? Forgive me, I am new to mysql

I have this mysql table:

    |ID|KeyID1|KeyID2|Param|Value|...
    |asdf|1|2| ...

The KeyID1 and KeyID2 values exist another Table like this:

    |KeyID|Real Name|
    | 1   | Gordon 
    | 2   | Jason 

I want to be able to join the two tables together such that I would have ID|Real Name1|Real Name2|Param|Value

what would i need to do in mysql? Would I need to duplicate another table?

edit: i can change the database design 


",1
4455542,12/15/2010 22:19:42,210780,11/13/2009 22:30:25,178,7,What To Do About MySQL Aborted Connection Errors (Error Reading Communication Packets),"I'm using a Delphi application to connect to MySQL. Although my application works correctly, in the MySQL logs, I see a lot of aborted connections with the bracketed error message being either ""got an error reading communication packets"" or ""got timeout reading communication packets.""

I'm seeing dozens of these, although the application seems to be functioning correctly. What do these mean, and more importantly, what do I do about them?",mysql,delphi,error-message,,,,open,0,69,12,"What To Do About MySQL Aborted Connection Errors (Error Reading Communication Packets) I'm using a Delphi application to connect to MySQL. Although my application works correctly, in the MySQL logs, I see a lot of aborted connections with the bracketed error message being either ""got an error reading communication packets"" or ""got timeout reading communication packets.""

I'm seeing dozens of these, although the application seems to be functioning correctly. What do these mean, and more importantly, what do I do about them?",3
11263294,06/29/2012 14:05:57,1351546,04/23/2012 14:15:31,35,1,integer division in mySql,"I have a mySql table which has a product_id field (big integer)  
  

> 1102330008  
1102330025  
1102330070  
1103010009  
1103010010  
1103020006  
...


  
I want to select rows which have product_id like 

> 110301 * * * *


  
I used this query:  
  
    SELECT * FROM `product` WHERE (product_id/10000)=110301  
  
but it does not return any values with this message:  
  
    MySQL returned an empty result set (i.e. zero rows). ( Query took 0.0005 sec )  
  
Please Help!",mysql,select,,,,,open,0,103,4,"integer division in mySql I have a mySql table which has a product_id field (big integer)  
  

> 1102330008  
1102330025  
1102330070  
1103010009  
1103010010  
1103020006  
...


  
I want to select rows which have product_id like 

> 110301 * * * *


  
I used this query:  
  
    SELECT * FROM `product` WHERE (product_id/10000)=110301  
  
but it does not return any values with this message:  
  
    MySQL returned an empty result set (i.e. zero rows). ( Query took 0.0005 sec )  
  
Please Help!",2
6687933,07/14/2011 02:46:09,781794,06/02/2011 20:14:07,68,4,cant access remote mysql server need help,"I have a unix server with mysql which I am trying to access from my machine. To clarify, access the mysql server. When I do I get this error.

    Connecting to MySQL server 192.168.1.25...
    Can't connect to MySQL server on '192.168.1.25' (10061)

Here are my credentials:

    username: root
    port: 3306

The server is running because I am able to remotely login onto the machine (with ip: 192.168.1.25"" and then run mysql from root. What do you think is going on:

1) Is it a firewall issue?
2) Accessing as 'root' is being denied? 

I am new to mysql. any help or suggestion will be appreciated.


",mysql,,,,,,open,0,113,7,"cant access remote mysql server need help I have a unix server with mysql which I am trying to access from my machine. To clarify, access the mysql server. When I do I get this error.

    Connecting to MySQL server 192.168.1.25...
    Can't connect to MySQL server on '192.168.1.25' (10061)

Here are my credentials:

    username: root
    port: 3306

The server is running because I am able to remotely login onto the machine (with ip: 192.168.1.25"" and then run mysql from root. What do you think is going on:

1) Is it a firewall issue?
2) Accessing as 'root' is being denied? 

I am new to mysql. any help or suggestion will be appreciated.


",1
7844240,10/21/2011 02:01:25,921954,08/31/2011 15:41:06,13,1,How do I restore MySQL .frm .MYD .MYI files in OS X Lion,"I received a bunch of these types of files and haven't a clue as how to restore the database on my Mac. I've found instructions on how to do this on Windows, that you simply need to put these into a specific directory and the database should be restored, but I don't know which directory, or even where it would be located in OS X.

Any help would be greatly appreciated!",mysql,database,osx,restore,osx-lion,,open,0,70,13,"How do I restore MySQL .frm .MYD .MYI files in OS X Lion I received a bunch of these types of files and haven't a clue as how to restore the database on my Mac. I've found instructions on how to do this on Windows, that you simply need to put these into a specific directory and the database should be restored, but I don't know which directory, or even where it would be located in OS X.

Any help would be greatly appreciated!",5
10906191,06/05/2012 23:00:51,257942,01/24/2010 19:47:15,3725,2,"If I've ""books"" table and ""authors"" table, then should I name the relationship table between them ""books_to_authors"" or ""authors_to_books""?","I can't figure out which is the right way for relationships in SQL (MySQL in my case).

If I've ""books"" table and ""authors"" table, then should I name the relationship table between them ""books_to_authors"" or ""authors_to_books""?

In both cases my table looks like this:

    id
    book_id
    author_id

I currently named it ""books_to_authors"", but I'd've also named it ""authors_to_books"".",mysql,sql,relational-database,,,06/05/2012 23:13:14,not constructive,1,64,19,"If I've ""books"" table and ""authors"" table, then should I name the relationship table between them ""books_to_authors"" or ""authors_to_books""? I can't figure out which is the right way for relationships in SQL (MySQL in my case).

If I've ""books"" table and ""authors"" table, then should I name the relationship table between them ""books_to_authors"" or ""authors_to_books""?

In both cases my table looks like this:

    id
    book_id
    author_id

I currently named it ""books_to_authors"", but I'd've also named it ""authors_to_books"".",3
3956515,10/18/2010 03:55:56,402610,07/26/2010 18:23:17,32,1,Is it possible to get database contents from any website without having DB access ?,"I want to retrieve the database contents from a website and use it in another website. Is it possible to access the database contents using any scripts ? There are totally 500 + products in the website and they are going to remove those contents now. So before they remove them i want to download all the data and host it in my website. It is not possible to visit each and every page and write down the products information. It will be helpful if I get any kind of script to access the database and download all of them in a specified format. 

For eg: We have leech software for forums to get content from another forums. ",mysql,query,,,,10/18/2010 04:23:26,not a real question,1,119,15,"Is it possible to get database contents from any website without having DB access ? I want to retrieve the database contents from a website and use it in another website. Is it possible to access the database contents using any scripts ? There are totally 500 + products in the website and they are going to remove those contents now. So before they remove them i want to download all the data and host it in my website. It is not possible to visit each and every page and write down the products information. It will be helpful if I get any kind of script to access the database and download all of them in a specified format. 

For eg: We have leech software for forums to get content from another forums. ",2
8832885,01/12/2012 09:43:04,285470,03/03/2010 15:59:20,108,9,How to represent “Recurring Events” in MySQL database?,"I'm developing an application that will need to allow the site admin to schedule ""events"" and allow visitors to reserve or book a place at the events.

To minimise admin work I need to allow the admin to create an event and mark it as recurring on a schedule.  In most cases this will be ""weekly"" but ""every 2 weeks"", ""monthly"" etc may also be needed at some point.

I've been driving myself crazy trying to figure out (with many Google & SO searches already) how to model this in MySQL.

I understand that I need to keep the ""event entry"" items separate and then only add ""event instances"" to the schedule when needed (i.e. the first person books a place, the date arrives,  the instance is edited independently of the series, etc.)

I just can't seem to get my head around how this should be actually recorded in the database without it feeling nasty.  Can anyone point me in the right direction?",mysql,database-design,,,,,open,0,162,8,"How to represent “Recurring Events” in MySQL database? I'm developing an application that will need to allow the site admin to schedule ""events"" and allow visitors to reserve or book a place at the events.

To minimise admin work I need to allow the admin to create an event and mark it as recurring on a schedule.  In most cases this will be ""weekly"" but ""every 2 weeks"", ""monthly"" etc may also be needed at some point.

I've been driving myself crazy trying to figure out (with many Google & SO searches already) how to model this in MySQL.

I understand that I need to keep the ""event entry"" items separate and then only add ""event instances"" to the schedule when needed (i.e. the first person books a place, the date arrives,  the instance is edited independently of the series, etc.)

I just can't seem to get my head around how this should be actually recorded in the database without it feeling nasty.  Can anyone point me in the right direction?",2
2730442,04/28/2010 14:39:46,210271,11/13/2009 08:00:00,61,5,com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Unknown command,"I'm trying to create datasource for connection pooling mysql database in Websphere Application Server.

I've set the JDBC Provider, I set the  

    Implementation class name   : com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource

my mysql driver 5.1.6. 

but I got this error while I try to connect the datasource: 

    The test connection operation failed for data source btn_itb_ds on server server1 at node qnode with the following exception: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Unknown command. View JVM logs for further details.

I have read this http://bugs.mysql.com/bug.php?id=38388 trouble shooting. But they just suggest to upgrade mysql driver version 5.1.X and I have do that. but I've got the same error.
",mysql,websphere,,,,,open,0,107,3,"com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Unknown command I'm trying to create datasource for connection pooling mysql database in Websphere Application Server.

I've set the JDBC Provider, I set the  

    Implementation class name   : com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource

my mysql driver 5.1.6. 

but I got this error while I try to connect the datasource: 

    The test connection operation failed for data source btn_itb_ds on server server1 at node qnode with the following exception: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Unknown command. View JVM logs for further details.

I have read this http://bugs.mysql.com/bug.php?id=38388 trouble shooting. But they just suggest to upgrade mysql driver version 5.1.X and I have do that. but I've got the same error.
",2
6466541,06/24/2011 10:29:00,485098,10/23/2010 14:44:50,1118,47,What is wrong with this SQL????,"I've spend good hours trying to fix this one.  

    SELECT * 
    FROM  `users`
    WHERE  `IP` = `123.231.213.132`

What is wrong with this?  

    #1054 - Unknown column '123.231.213.132' in 'where clause' ",mysql,sql,mysql-error-1054,,,03/02/2012 14:05:53,too localized,1,49,6,"What is wrong with this SQL???? I've spend good hours trying to fix this one.  

    SELECT * 
    FROM  `users`
    WHERE  `IP` = `123.231.213.132`

What is wrong with this?  

    #1054 - Unknown column '123.231.213.132' in 'where clause' ",3
11001333,06/12/2012 17:02:04,1331451,04/13/2012 11:30:00,494,23,NULL value in multi-column primary key,"I've got a table with several columns making up the primary key. The nature of the data stored allows some of these fields to have ``NULL`` values. I have designed my table as such:

    CREATE TABLE `test` (
    	`Field1` SMALLINT(5) UNSIGNED NOT NULL,
    	`Field2` DECIMAL(5,2) UNSIGNED NULL DEFAULT NULL,
    	PRIMARY KEY (`Field1`, `Field2`)
    )
    COLLATE='latin1_swedish_ci'
    ENGINE=InnoDB;

However, when I run ``describe test`` it shows like this:

    || *Field* || *Type*                || *Null* || *Key* || *Default* || *Extra* 
    || Field1  || smallint(5) unsigned  || NO     || PRI   ||           ||         
    || Field2  || decimal(5,2) unsigned || NO     || PRI   || 0.00      ||         

And I keep getting an error when inserting a ``NULL`` value.

> Column 'Field2' cannot be null

Is this because a field that is part of a primary key cannot be null? What are my alternatives besides using, say, '0' for ``NULL``?
",mysql,,composite-primary-key,,,,open,0,233,6,"NULL value in multi-column primary key I've got a table with several columns making up the primary key. The nature of the data stored allows some of these fields to have ``NULL`` values. I have designed my table as such:

    CREATE TABLE `test` (
    	`Field1` SMALLINT(5) UNSIGNED NOT NULL,
    	`Field2` DECIMAL(5,2) UNSIGNED NULL DEFAULT NULL,
    	PRIMARY KEY (`Field1`, `Field2`)
    )
    COLLATE='latin1_swedish_ci'
    ENGINE=InnoDB;

However, when I run ``describe test`` it shows like this:

    || *Field* || *Type*                || *Null* || *Key* || *Default* || *Extra* 
    || Field1  || smallint(5) unsigned  || NO     || PRI   ||           ||         
    || Field2  || decimal(5,2) unsigned || NO     || PRI   || 0.00      ||         

And I keep getting an error when inserting a ``NULL`` value.

> Column 'Field2' cannot be null

Is this because a field that is part of a primary key cannot be null? What are my alternatives besides using, say, '0' for ``NULL``?
",2
8769680,01/07/2012 12:26:33,1135882,01/07/2012 11:28:01,1,0,Mysql retrieve only specific values from n:n relation,"Say we have following Mysql tables: 

*user table: userID | user_name*

*classification table: classificationID | classification_name | classification_ponder*

*user_classification table: userId(PK) | classificationId(PK)*

This is n:n relationship between user and classifiaction.

I am interested how to query for every user, ALL classifications with biggest ponder in one column, separated with `,`?

E.g. let say we have user1 with ID=1 and following classifications: 

*classification1: 1, class1, 5 | classification2: 2, class2, 5 | classification3: 3, class3, 4 | classification4: 4, class4, 2.*

user_classification table is: (1, 1), (1, 2), (1, 3), (1, 4) (user have all classifications).

What i want to get is:
*userId | user_name | class1, class2*

So only classification names with biggest ponder (in this case class1 and class2) displayed in one column, separated with "","".

I succeed to get all classifications for user with following mysql query:

<b>select user.user_name, GROUP_CONCAT(DISTINCT Classification.classification_name) as Classification from user left join user_classification on (user_classification.userId=user.userID) left join Classification on (Classification.classificationID=user_classification.classificationId) GROUP BY user.userID</b>

<b>What i want is do display only classifications with biggest ponder.</b>

Best regards.",mysql,,,,,,open,0,161,8,"Mysql retrieve only specific values from n:n relation Say we have following Mysql tables: 

*user table: userID | user_name*

*classification table: classificationID | classification_name | classification_ponder*

*user_classification table: userId(PK) | classificationId(PK)*

This is n:n relationship between user and classifiaction.

I am interested how to query for every user, ALL classifications with biggest ponder in one column, separated with `,`?

E.g. let say we have user1 with ID=1 and following classifications: 

*classification1: 1, class1, 5 | classification2: 2, class2, 5 | classification3: 3, class3, 4 | classification4: 4, class4, 2.*

user_classification table is: (1, 1), (1, 2), (1, 3), (1, 4) (user have all classifications).

What i want to get is:
*userId | user_name | class1, class2*

So only classification names with biggest ponder (in this case class1 and class2) displayed in one column, separated with "","".

I succeed to get all classifications for user with following mysql query:

<b>select user.user_name, GROUP_CONCAT(DISTINCT Classification.classification_name) as Classification from user left join user_classification on (user_classification.userId=user.userID) left join Classification on (Classification.classificationID=user_classification.classificationId) GROUP BY user.userID</b>

<b>What i want is do display only classifications with biggest ponder.</b>

Best regards.",1
5477897,03/29/2011 19:34:34,543544,12/15/2010 15:29:44,132,7,JPA -MySQL Database Mapping,"***Database tables:***

 1. Tutor( {PK}tutorId, name )
 2. Module( {PK}moduleId, name, {FK}tutorId )

*Relationship Tutor -> Module (OneToMany)*

***Questions:*** 

 3. If you create the domain model
    classes with JPA annotations, the
    corresponding database tables are
    auto-created with the same columns as the annotated fields of the class?

 4. Do you create the database first
    and then the JPA classes with the
    same fields as the database table
    columns?

 5. How do you model *foreign key constraints* with JPA",mysql,database,jpa,,,,open,0,95,4,"JPA -MySQL Database Mapping ***Database tables:***

 1. Tutor( {PK}tutorId, name )
 2. Module( {PK}moduleId, name, {FK}tutorId )

*Relationship Tutor -> Module (OneToMany)*

***Questions:*** 

 3. If you create the domain model
    classes with JPA annotations, the
    corresponding database tables are
    auto-created with the same columns as the annotated fields of the class?

 4. Do you create the database first
    and then the JPA classes with the
    same fields as the database table
    columns?

 5. How do you model *foreign key constraints* with JPA",3
8254895,11/24/2011 09:40:43,734463,05/02/2011 13:03:23,386,8,MySQL updating a field to result of a function,"    mysql> CREATE FUNCTION test ()
        -> RETURNS CHAR(16)
        -> NOT DETERMINISTIC
        -> BEGIN
        -> RETURN 'IWantThisText';
        -> END$$
    Query OK, 0 rows affected (0.00 sec)

    mysql> SELECT test();
    +------------------+
    |    test()        |
    +------------------+
    | IWantThisText    | 
    +------------------+
    1 row in set (0.00 sec)

    mysql> UPDATE `table`
        -> SET field = test()
        -> WHERE id = 1
    Query OK, 1 row affected, 1 warning (0.01 sec)
    Rows matched: 1  Changed: 1  Warnings: 1

    mysql> SHOW WARNINGS;
    +---------+------+----------------------------------------------------------------+
    | Level   | Code | Message                                                        |
    +---------+------+----------------------------------------------------------------+
    | Warning | 1265 | Data truncated for column 'test' at row 1                      | 
    +---------+------+----------------------------------------------------------------+
    1 row in set (0.00 sec)


    mysql> SELECT field FROM table WHERE id = 1;
    +------------------+
    | field            |
    +------------------+
    | NULL             | 
    +------------------+
    1 row in set (0.00 sec)

What I am doing wrong?  I just want `field` to be set to the returned value of `test()`
Forgot to mention `field` is VARCHR(255)",mysql,,,,,,open,0,399,9,"MySQL updating a field to result of a function     mysql> CREATE FUNCTION test ()
        -> RETURNS CHAR(16)
        -> NOT DETERMINISTIC
        -> BEGIN
        -> RETURN 'IWantThisText';
        -> END$$
    Query OK, 0 rows affected (0.00 sec)

    mysql> SELECT test();
    +------------------+
    |    test()        |
    +------------------+
    | IWantThisText    | 
    +------------------+
    1 row in set (0.00 sec)

    mysql> UPDATE `table`
        -> SET field = test()
        -> WHERE id = 1
    Query OK, 1 row affected, 1 warning (0.01 sec)
    Rows matched: 1  Changed: 1  Warnings: 1

    mysql> SHOW WARNINGS;
    +---------+------+----------------------------------------------------------------+
    | Level   | Code | Message                                                        |
    +---------+------+----------------------------------------------------------------+
    | Warning | 1265 | Data truncated for column 'test' at row 1                      | 
    +---------+------+----------------------------------------------------------------+
    1 row in set (0.00 sec)


    mysql> SELECT field FROM table WHERE id = 1;
    +------------------+
    | field            |
    +------------------+
    | NULL             | 
    +------------------+
    1 row in set (0.00 sec)

What I am doing wrong?  I just want `field` to be set to the returned value of `test()`
Forgot to mention `field` is VARCHR(255)",1
6917097,08/02/2011 18:54:56,875284,08/02/2011 18:54:56,1,0,Creating MySQL Triggers,"I have some experience with mysql but have never created a trigger.  I have two tables in my database, books and series.  The series has a primary key series_id that is also a foriegn key constraint on books.  I want to create a trigger so that when a row in the series table is updated, all books related to that series are also deleted.  I understand the basic mysql syntax to do this, but I'm not sure how to make a trigger out of this.

I've tried reading through some tutorials, but I'm still not clear.  The tutorials all create test tables...do I need to do this?  Also, how do I pass a parameter, or can I?  

Help is greatly appreciated.",mysql,triggers,,,,,open,0,127,3,"Creating MySQL Triggers I have some experience with mysql but have never created a trigger.  I have two tables in my database, books and series.  The series has a primary key series_id that is also a foriegn key constraint on books.  I want to create a trigger so that when a row in the series table is updated, all books related to that series are also deleted.  I understand the basic mysql syntax to do this, but I'm not sure how to make a trigger out of this.

I've tried reading through some tutorials, but I'm still not clear.  The tutorials all create test tables...do I need to do this?  Also, how do I pass a parameter, or can I?  

Help is greatly appreciated.",2
8477270,12/12/2011 16:14:30,513225,11/19/2010 08:23:09,11,1,Percona MYSQL / Ruby mysql2 gem - Data loss on insert,"I'm not sure which is causing the problem: whether it is mysql itself or the ruby mysql2 gem, but I am experiencing some data loss in my queries.

I am using mysql2's multi_statement support, so I have a series of INSERT statements separated by a semi-colon like so:

    INSERT INTO some_table (col) VALUES (val); INSERT INTO some_table (col) VALUES (val2)

The problem with this is that if I have more than three statements, the **3rd** statement gets lost. It doesn't return errors or anything, it just skips the insertion process, so, for example, I have 10 INSERT statements, only 9 are inserted.

Does anyone know how this is? Or have you experienced a similar situation?
",mysql,ruby-on-rails,ruby,mysql2,,,open,0,115,11,"Percona MYSQL / Ruby mysql2 gem - Data loss on insert I'm not sure which is causing the problem: whether it is mysql itself or the ruby mysql2 gem, but I am experiencing some data loss in my queries.

I am using mysql2's multi_statement support, so I have a series of INSERT statements separated by a semi-colon like so:

    INSERT INTO some_table (col) VALUES (val); INSERT INTO some_table (col) VALUES (val2)

The problem with this is that if I have more than three statements, the **3rd** statement gets lost. It doesn't return errors or anything, it just skips the insertion process, so, for example, I have 10 INSERT statements, only 9 are inserted.

Does anyone know how this is? Or have you experienced a similar situation?
",4
9842250,03/23/2012 15:47:21,91768,04/16/2009 18:18:44,3027,73,Does the mysql CLI tool provide a way to display binary data in a console-friendly manner?,"I have a MySQL database containing a table with a binary-typed column. I'd like to be able to project that column without having to run it through, e.g., `HEX()`. Does the `mysql` CLI tool have a configuration option or other means to display a representation of binary data in a manner that won't output arbitrary bytes for my console to interpret in hilarious/annoying ways?",mysql,console,binary-data,,,,open,0,64,16,"Does the mysql CLI tool provide a way to display binary data in a console-friendly manner? I have a MySQL database containing a table with a binary-typed column. I'd like to be able to project that column without having to run it through, e.g., `HEX()`. Does the `mysql` CLI tool have a configuration option or other means to display a representation of binary data in a manner that won't output arbitrary bytes for my console to interpret in hilarious/annoying ways?",3
8209403,11/21/2011 09:02:50,860453,07/24/2011 17:45:39,44,2,Completely remove and reinstall mysql,"I managed to bork my installation of it while trying to uninstall it. I installed via Muon (Kubuntu), and attempted uninstallation the same way.

I tried apt-get install/remove (on both mysqlserver and mysql), then tried manually removing files, but it just doesn't work. Somewhere it's determining not to regenerate its configs and not reinstall like a fresh install would.

How do i just get rid of everything mysql-related? I'd like to start fresh.",mysql,,,,,11/22/2011 14:23:41,off topic,1,71,5,"Completely remove and reinstall mysql I managed to bork my installation of it while trying to uninstall it. I installed via Muon (Kubuntu), and attempted uninstallation the same way.

I tried apt-get install/remove (on both mysqlserver and mysql), then tried manually removing files, but it just doesn't work. Somewhere it's determining not to regenerate its configs and not reinstall like a fresh install would.

How do i just get rid of everything mysql-related? I'd like to start fresh.",1
9259477,02/13/2012 11:12:12,1159293,01/19/2012 19:23:10,26,0,The best way to use Foreign Keys(FK),I am just a newbie to the beautiful Yii framework. I was just going through the documents and one doubt came to my mind.I want to know is it good to define Foreign Keys(FK) in the database when we are creating a database or is it good to declare a foreign key inside an application's code.Any suggestions and comments are welcome.,mysql,database,yii,relational-database,,02/14/2012 15:00:43,not constructive,1,61,7,The best way to use Foreign Keys(FK) I am just a newbie to the beautiful Yii framework. I was just going through the documents and one doubt came to my mind.I want to know is it good to define Foreign Keys(FK) in the database when we are creating a database or is it good to declare a foreign key inside an application's code.Any suggestions and comments are welcome.,4
8017785,11/05/2011 02:34:01,779957,06/01/2011 18:10:54,294,22,trigger update another table's counter,"Can't seem to get this trigger to work... Some help would be appreciated.

    DROP TRIGGER IF EXISTS trigger_votes;

    CREATE TRIGGER trigger_votes AFTER INSERT ON votes
    UPDATE collections
    SET IF(vote = 1, loves, hates) = IF(vote = 1, loves, hates) + 1
    WHERE collections.id = NEW.collection_id;

When a new 'vote' is recorded in table votes, I want to increment the column 'loves' OR 'hates' in the table collections which holds a count. The votes table has a column called collection_id which corresponds to a record in the collections table.",mysql,,,,,,open,0,102,5,"trigger update another table's counter Can't seem to get this trigger to work... Some help would be appreciated.

    DROP TRIGGER IF EXISTS trigger_votes;

    CREATE TRIGGER trigger_votes AFTER INSERT ON votes
    UPDATE collections
    SET IF(vote = 1, loves, hates) = IF(vote = 1, loves, hates) + 1
    WHERE collections.id = NEW.collection_id;

When a new 'vote' is recorded in table votes, I want to increment the column 'loves' OR 'hates' in the table collections which holds a count. The votes table has a column called collection_id which corresponds to a record in the collections table.",1
9033760,01/27/2012 13:14:10,241590,12/31/2009 15:22:26,19917,978,How can I count records only once within a time range?,"I have table with statistical data.

I'm trying to count the records grouped by a version, the problem is that the records have another criteria (ref) and should counted only once (per ref).

stats sample data to illustrate the issue:

    id stat_date  ref version
    -------------------------
    1  2012-01-25   1  A
    2  2012-01-25   2  B
    3  2012-01-25   3  B
    4  2012-01-26   8  B
    5  2012-01-26   2  B
    6  2012-01-26   3  B

Simple counting would return

    SELECT COUNT(*),version FROM stat GROUP BY version

    1,A
    5,B

The problem here is that only the last record with ref=3 (id=6) should be counted and (id=3) has to be ignored.
So the question is, how can I filter row (id=3) from the query?

I can't figure out what I should insert as condition in the subquery

    SELECT COUNT(*),version FROM stats
    WHERE  stat_date BETWEEN ""2012-01-25""  AND ""2012-01-26"" 
    AND id = (SELECT MAX(id) FROM stats WHERE <condition>)
    GROUP BY 2



",mysql,sql,database,,,,open,0,218,11,"How can I count records only once within a time range? I have table with statistical data.

I'm trying to count the records grouped by a version, the problem is that the records have another criteria (ref) and should counted only once (per ref).

stats sample data to illustrate the issue:

    id stat_date  ref version
    -------------------------
    1  2012-01-25   1  A
    2  2012-01-25   2  B
    3  2012-01-25   3  B
    4  2012-01-26   8  B
    5  2012-01-26   2  B
    6  2012-01-26   3  B

Simple counting would return

    SELECT COUNT(*),version FROM stat GROUP BY version

    1,A
    5,B

The problem here is that only the last record with ref=3 (id=6) should be counted and (id=3) has to be ignored.
So the question is, how can I filter row (id=3) from the query?

I can't figure out what I should insert as condition in the subquery

    SELECT COUNT(*),version FROM stats
    WHERE  stat_date BETWEEN ""2012-01-25""  AND ""2012-01-26"" 
    AND id = (SELECT MAX(id) FROM stats WHERE <condition>)
    GROUP BY 2



",3
5446678,03/27/2011 01:48:12,471891,05/04/2010 01:02:41,576,10,Stored procedures or stored functions in any open source software?,"I've been reading about Mysql stored procedures lately.
and... after awhile I see very little use for them personally.
...well...Maybe for security reasons if you only want to give access to part of your data.

Also - I've never seen them being used in the wild.
AFAIK - I checked magento, wordpress, joomla, drupal - non of them used stored procs, functions or views.

Can someone suggest any open source piece of software that actually uses stored procedures.
I'm eager to see what problems are solved by the authors that can't be solved using standard dynamic sql.

Thanks.


",mysql,,,,,07/13/2011 21:44:23,too localized,1,91,10,"Stored procedures or stored functions in any open source software? I've been reading about Mysql stored procedures lately.
and... after awhile I see very little use for them personally.
...well...Maybe for security reasons if you only want to give access to part of your data.

Also - I've never seen them being used in the wild.
AFAIK - I checked magento, wordpress, joomla, drupal - non of them used stored procs, functions or views.

Can someone suggest any open source piece of software that actually uses stored procedures.
I'm eager to see what problems are solved by the authors that can't be solved using standard dynamic sql.

Thanks.


",1
7113113,08/18/2011 19:37:05,781473,06/02/2011 16:13:34,1,0,mysql dump without replication / SET sql_log_bin = 0;,"At the top of my dump I've put:

SET sql_log_bin = 0;

but it seems like the changes, or some of them still get replicated.  This is on a 26.8 GB table if that makes a difference.  Is there some thing more I need to do?",mysql,replication,,,,08/20/2011 01:37:25,off topic,1,46,9,"mysql dump without replication / SET sql_log_bin = 0; At the top of my dump I've put:

SET sql_log_bin = 0;

but it seems like the changes, or some of them still get replicated.  This is on a 26.8 GB table if that makes a difference.  Is there some thing more I need to do?",2
8213235,11/21/2011 14:19:03,636342,02/27/2011 10:13:11,75,2,Mysql covering vs composite vs column index,"In the following query

    SELECT  col1,col2
    FROM    table1
    WHERE   col3='value1'
      AND   col4='value2'
If I have 2 separate indexes one on **col3** and the other on **col4**, Which one of them will be used in this query ?

I read somewhere that for each table in the query only one index is used. Does that mean that there is no way for the query to used both indexes ?


Secondly, If I created a composite index using both **col3** and **col4** together but used only **col3** in the **WHERE** clause will that be worse for the performance?
 example:

    SELECT  col1,col2
    FROM    table1
    WHERE   col3='value1'

Lastly, Is it better to just use Covering indexes in all cases ? and does it differ between MYISAM and innodb storage engines ?",mysql,sql,index,covering-index,composite-index,,open,0,160,7,"Mysql covering vs composite vs column index In the following query

    SELECT  col1,col2
    FROM    table1
    WHERE   col3='value1'
      AND   col4='value2'
If I have 2 separate indexes one on **col3** and the other on **col4**, Which one of them will be used in this query ?

I read somewhere that for each table in the query only one index is used. Does that mean that there is no way for the query to used both indexes ?


Secondly, If I created a composite index using both **col3** and **col4** together but used only **col3** in the **WHERE** clause will that be worse for the performance?
 example:

    SELECT  col1,col2
    FROM    table1
    WHERE   col3='value1'

Lastly, Is it better to just use Covering indexes in all cases ? and does it differ between MYISAM and innodb storage engines ?",5
8526695,12/15/2011 21:14:31,1067018,11/26/2011 15:11:13,35,0,MySQL Count rows,"I have a database

Quiz   Attempts

Quiz1     1

Quiz1     2

Quiz1     3

Quiz1     4

Quiz2     1

Quiz2     2


I want the output like

Quiz      count(Attempts)

Quiz1       4

Quiz2       2 

",mysql,,,,,12/15/2011 22:27:00,not a real question,1,62,3,"MySQL Count rows I have a database

Quiz   Attempts

Quiz1     1

Quiz1     2

Quiz1     3

Quiz1     4

Quiz2     1

Quiz2     2


I want the output like

Quiz      count(Attempts)

Quiz1       4

Quiz2       2 

",1
407124,01/02/2009 15:33:27,42404,12/02/2008 10:36:59,2373,159,Best practice for backing up a production MySQL database?,"What is best practice for backing up a production MySQL database (i.e. on a live website and potentially being updated)?

Some goals I have in mind are:

   - the DB backup should be an internally consistent snapshot
   - not lock out the website while the backup is in progress
   - (nice to have) incremental backups of changes only
   - automated
   - able to be done remotely
   - secure",mysql,backup-strategies,,,,06/27/2012 13:09:41,off topic,1,79,9,"Best practice for backing up a production MySQL database? What is best practice for backing up a production MySQL database (i.e. on a live website and potentially being updated)?

Some goals I have in mind are:

   - the DB backup should be an internally consistent snapshot
   - not lock out the website while the backup is in progress
   - (nice to have) incremental backups of changes only
   - automated
   - able to be done remotely
   - secure",2
7361437,09/09/2011 12:11:04,936728,09/09/2011 12:11:04,1,0,Where can I find the file my.cnf or my.ini file?,"I've read about MySQL replication and i need to change some configuration but I can't find the file my.cnf or my.ini. I don't know which MySQL version I have but I've downloaded it a long time ago, as a .zip. My box runs Windows 7 64.
Where can i find this file? Should I create it? Where?
Thank you.",mysql,configuration,configuration-files,mysql-management,database-replication,09/09/2011 12:55:26,off topic,1,57,10,"Where can I find the file my.cnf or my.ini file? I've read about MySQL replication and i need to change some configuration but I can't find the file my.cnf or my.ini. I don't know which MySQL version I have but I've downloaded it a long time ago, as a .zip. My box runs Windows 7 64.
Where can i find this file? Should I create it? Where?
Thank you.",5
6793168,07/22/2011 16:35:50,547025,12/18/2010 14:09:25,171,3,summation of results in mysql and then dividing the result by 2,"Again, to continue with my mysql noob questions :) I want the following to be just one result:

    select sum(sales_today) from table1
union
select sum(sales_yesterday) from table1

So right now that gives me two results, how do I make it give me only one, the summation of the two results? And how can I do to apply further equations to the result, such as dividing it by 2?

Thank you!",mysql,sum,,,,,open,0,69,12,"summation of results in mysql and then dividing the result by 2 Again, to continue with my mysql noob questions :) I want the following to be just one result:

    select sum(sales_today) from table1
union
select sum(sales_yesterday) from table1

So right now that gives me two results, how do I make it give me only one, the summation of the two results? And how can I do to apply further equations to the result, such as dividing it by 2?

Thank you!",2
10395644,05/01/2012 09:07:03,283538,03/01/2010 10:53:04,918,20,mysql fluent nhibernate issue nvarchar,"I have switched from sql server 2005 to mysql which was not really a problem.

I have a slight issue with (n)varchar which exist in sql server. Usually I have used:

    mapping.Map(x => x.bla).Length(10000);

to set bla to nvarchar(max). does this work in mysql? I believe there is no nvarchar in mysql and you have to use something like this:

    alter table sometable modify bla VARCHAR(21844) CHARACTER SET utf8

to update an existing column to 'nvarchar(max)'. Is this correct because I am getting:

""Row size too large. The maximum row size for the used table type""

If I am using:

    alter table sometable modify bla VARCHAR(1000) CHARACTER SET utf8

things work but I am not sure whether this achieves 'nvarchar(max)' in mysql.

",mysql,nhibernate,fluent-nhibernate,,,,open,0,125,5,"mysql fluent nhibernate issue nvarchar I have switched from sql server 2005 to mysql which was not really a problem.

I have a slight issue with (n)varchar which exist in sql server. Usually I have used:

    mapping.Map(x => x.bla).Length(10000);

to set bla to nvarchar(max). does this work in mysql? I believe there is no nvarchar in mysql and you have to use something like this:

    alter table sometable modify bla VARCHAR(21844) CHARACTER SET utf8

to update an existing column to 'nvarchar(max)'. Is this correct because I am getting:

""Row size too large. The maximum row size for the used table type""

If I am using:

    alter table sometable modify bla VARCHAR(1000) CHARACTER SET utf8

things work but I am not sure whether this achieves 'nvarchar(max)' in mysql.

",3
11029592,06/14/2012 08:43:52,1417530,05/25/2012 13:46:38,6,0,Is it possible to delete all databases that were created by a specific user?,"Is it possible to delete all databases that were created by a specific user?

Thanks in advanced.",mysql,sql,,,,,open,0,16,14,"Is it possible to delete all databases that were created by a specific user? Is it possible to delete all databases that were created by a specific user?

Thanks in advanced.",2
10236932,04/19/2012 21:18:46,239879,12/29/2009 00:03:06,1086,27,Insert INTO MySQL FROM another table,"    INSERT INTO campaign_ledger (`campaign_id`, `description`, amount, balance, timestamp)
    VALUES (SELECT id as campaign_id, 'Ported from campaigns' as description, budget_remaining as amount, budget_remaining as balance, NOW() as timestamp FROM campaigns)

That's my syntax, but I get an error saying:

> You have an error in your SQL syntax; check the manual that
> corresponds to your MySQL server version for the right syntax to use
> near 'SELECT id as campaign_id, 'Ported from campaigns' as
> description, budget_remaini' at line 2

What am I doing wrong?",mysql,,,,,,open,0,86,6,"Insert INTO MySQL FROM another table     INSERT INTO campaign_ledger (`campaign_id`, `description`, amount, balance, timestamp)
    VALUES (SELECT id as campaign_id, 'Ported from campaigns' as description, budget_remaining as amount, budget_remaining as balance, NOW() as timestamp FROM campaigns)

That's my syntax, but I get an error saying:

> You have an error in your SQL syntax; check the manual that
> corresponds to your MySQL server version for the right syntax to use
> near 'SELECT id as campaign_id, 'Ported from campaigns' as
> description, budget_remaini' at line 2

What am I doing wrong?",1
8126058,11/14/2011 18:09:18,273657,02/15/2010 16:39:46,1003,14,Query insisting on columns in the 'Order By' clause match columns in the 'Group by' clause,"A bit of an odd one this one. I am trying to run the following query joining 3 tables. 

    Select t3.id, t3.name, t3.phone_no, t1.reg_dtm, count(t1.reg_dtm)
    from tableA t1, tableB t2, tableC t3
    Where t1.id = t2.id
    And t2.id = t3.id
    Group by t3.id, t3.name, t3.phone_no, t1.reg_dtm
    Order by t2.id, t1.reg_dtm

The above query returns the following error

    ORA-00979: not a GROUP BY expression

But if i change it so that everything in the group by clause is in the order by clause then it works. 

    Select t3.id, t3.name, t3.phone_no, t1.reg_dtm, count(t1.reg_dtm)
    from tableA t1, tableB t2, tableC t3
    Where t1.id = t2.id
    And t2.id = t3.id
    Group by t3.id, t3.name, t3.phone_no, t1.reg_dtm
    Order by t3.id, t3.name, t3.phone_no, t1.reg_dtm

What exactly is the reason for this? 

I think the problem is possibly because t2.id shown in the `order by` statement on the first query is not part of the `group by` statement. If this is the cause then why does it matter? I have never experienced this before and didn't think that there was any relationship between the group by and the order by statements. 

I tested the above on Oracle 10G as well as MySQL. 

Thanks in advance",mysql,sql,oracle,oracle10g,,,open,0,236,16,"Query insisting on columns in the 'Order By' clause match columns in the 'Group by' clause A bit of an odd one this one. I am trying to run the following query joining 3 tables. 

    Select t3.id, t3.name, t3.phone_no, t1.reg_dtm, count(t1.reg_dtm)
    from tableA t1, tableB t2, tableC t3
    Where t1.id = t2.id
    And t2.id = t3.id
    Group by t3.id, t3.name, t3.phone_no, t1.reg_dtm
    Order by t2.id, t1.reg_dtm

The above query returns the following error

    ORA-00979: not a GROUP BY expression

But if i change it so that everything in the group by clause is in the order by clause then it works. 

    Select t3.id, t3.name, t3.phone_no, t1.reg_dtm, count(t1.reg_dtm)
    from tableA t1, tableB t2, tableC t3
    Where t1.id = t2.id
    And t2.id = t3.id
    Group by t3.id, t3.name, t3.phone_no, t1.reg_dtm
    Order by t3.id, t3.name, t3.phone_no, t1.reg_dtm

What exactly is the reason for this? 

I think the problem is possibly because t2.id shown in the `order by` statement on the first query is not part of the `group by` statement. If this is the cause then why does it matter? I have never experienced this before and didn't think that there was any relationship between the group by and the order by statements. 

I tested the above on Oracle 10G as well as MySQL. 

Thanks in advance",4
11727682,07/30/2012 18:47:19,216909,11/23/2009 10:37:10,475,28,MySQL Join Table with String of other Records,"Can you help me cause all the records in the ""`preference`"" table to become a `string` inside the `p.data` returned result? 

I could only think of `CONCAT`, but my inner join only selects 1 record.

**Example Query**


    SELECT 
        u.userid, 
        p.data

    FROM user u
    
    INNER JOIN preference p ON (
      p.userid = u.userid
    )
    
    WHERE u.userid = 1



**Desired Output**

    userid  |  data
    --------------
    1       | 1,2,3,4,5
    2       | 1,2,3,4
    3       | 1,2,3",mysql,,,,,,open,0,149,8,"MySQL Join Table with String of other Records Can you help me cause all the records in the ""`preference`"" table to become a `string` inside the `p.data` returned result? 

I could only think of `CONCAT`, but my inner join only selects 1 record.

**Example Query**


    SELECT 
        u.userid, 
        p.data

    FROM user u
    
    INNER JOIN preference p ON (
      p.userid = u.userid
    )
    
    WHERE u.userid = 1



**Desired Output**

    userid  |  data
    --------------
    1       | 1,2,3,4,5
    2       | 1,2,3,4
    3       | 1,2,3",1
7163622,08/23/2011 15:32:10,813003,06/23/2011 20:04:31,13,0,5 Tables -> Displaying Certain Distinct Rows,"I'm pulling information that will eventually be from 5 tables at once based off of a filtering system. Right now I have three different databases running, its looking great. My issue is I have certain fields that I only want to display distinct information on and others i want to display all. To better explain I'm going to give my example.


My select code:

SELECT w.event, w.city, w.date, a.time, w.tmc, a.weather, a.surface_temperature, p.top, p.left FROM weather w LEFT OUTER JOIN application a ON a.date = w.date AND a.tmc = w.tmc  LEFT OUTER JOIN pinLocations p ON w.city = p.cityName WHERE w.date= '"" & datepicker_value.Text & ""' AND  w.time like '"" & eventTime.SelectedItem.Value & ""'


I have a map which I'm placing pins on based of the p.top and p.left. When I click on this I want to display the city name, the tmc, and then under that all the other information based off the filtered search. In the example above it creates pins on top of pins, making a new one for each field, I want it to be distinct.

I know the distinct command exists, just not sure how to use it in this situation.

Thanks!",mysql,distinct,outer-join,,,,open,0,194,7,"5 Tables -> Displaying Certain Distinct Rows I'm pulling information that will eventually be from 5 tables at once based off of a filtering system. Right now I have three different databases running, its looking great. My issue is I have certain fields that I only want to display distinct information on and others i want to display all. To better explain I'm going to give my example.


My select code:

SELECT w.event, w.city, w.date, a.time, w.tmc, a.weather, a.surface_temperature, p.top, p.left FROM weather w LEFT OUTER JOIN application a ON a.date = w.date AND a.tmc = w.tmc  LEFT OUTER JOIN pinLocations p ON w.city = p.cityName WHERE w.date= '"" & datepicker_value.Text & ""' AND  w.time like '"" & eventTime.SelectedItem.Value & ""'


I have a map which I'm placing pins on based of the p.top and p.left. When I click on this I want to display the city name, the tmc, and then under that all the other information based off the filtered search. In the example above it creates pins on top of pins, making a new one for each field, I want it to be distinct.

I know the distinct command exists, just not sure how to use it in this situation.

Thanks!",3
6518451,06/29/2011 09:29:15,769023,05/25/2011 06:34:52,52,3,What is the speed of find a record in table of mysql after index?,"Is any one know the speed for a mysql table has 1000,000 records, how fast for it to find the record i need.",mysql,database,index,,,06/29/2011 09:46:50,not constructive,1,23,14,"What is the speed of find a record in table of mysql after index? Is any one know the speed for a mysql table has 1000,000 records, how fast for it to find the record i need.",3
10085395,04/10/2012 08:24:38,1071184,11/29/2011 11:34:18,33,3,MAMP (mysql) over lan,"I have found some posts which explain how to setup mysql in MAMP for lan use. Each explanation describe that my.cf needs to be changed so the bind-adress is set to lan ip or 0.0.0.0 which is preferred.

The strange thing is that when i do so, after starting MAMP again, it changes bind-adress back to 127.0.0.1.

I really need to set up a mysql for lan usage, so all team members will be working towards same DB.
Anyone know a good way och a working way in MAMP ?",mysql,mamp,,,,04/11/2012 01:13:46,off topic,1,87,4,"MAMP (mysql) over lan I have found some posts which explain how to setup mysql in MAMP for lan use. Each explanation describe that my.cf needs to be changed so the bind-adress is set to lan ip or 0.0.0.0 which is preferred.

The strange thing is that when i do so, after starting MAMP again, it changes bind-adress back to 127.0.0.1.

I really need to set up a mysql for lan usage, so all team members will be working towards same DB.
Anyone know a good way och a working way in MAMP ?",2
5980474,05/12/2011 15:29:08,559142,12/31/2010 09:33:03,421,3,SQL ANY & ALL Question,"I have started using sql and have heard much about the ANY and ALL operators. Can somebody explain to me the kind of queries they are used in and how they work?


Cheers!",mysql,sql,,,,05/12/2011 21:45:08,not a real question,1,32,5,"SQL ANY & ALL Question I have started using sql and have heard much about the ANY and ALL operators. Can somebody explain to me the kind of queries they are used in and how they work?


Cheers!",2
332300,12/01/2008 21:26:49,302,08/04/2008 13:39:41,998,25,Is there a REAL performance difference between INT and VARCHAR primary keys?,"Is there a measurable performance difference between using INT vs. VARCHAR as a primary key in MySQL? I'd like to use VARCHAR as the primary key for reference lists (think US States, Country Codes) and a coworker won't budge on the INT AUTO_INCREMENT as a primary key for all tables. 

My argument, as detailed [here][1], is that the performance difference between INT and VARCHAR is negligible, since every INT foreign key reference will require a JOIN to make sense of the reference, a VARCHAR key will directly present the information.

So, does anyone have experience with this particular use-case and the performance concerns associated with it?

  [1]: http://database-programmer.blogspot.com/2008/01/database-skills-sane-approach-to.html#rule1",mysql,primary-key,performance,myisam,,,open,0,108,12,"Is there a REAL performance difference between INT and VARCHAR primary keys? Is there a measurable performance difference between using INT vs. VARCHAR as a primary key in MySQL? I'd like to use VARCHAR as the primary key for reference lists (think US States, Country Codes) and a coworker won't budge on the INT AUTO_INCREMENT as a primary key for all tables. 

My argument, as detailed [here][1], is that the performance difference between INT and VARCHAR is negligible, since every INT foreign key reference will require a JOIN to make sense of the reference, a VARCHAR key will directly present the information.

So, does anyone have experience with this particular use-case and the performance concerns associated with it?

  [1]: http://database-programmer.blogspot.com/2008/01/database-skills-sane-approach-to.html#rule1",4
1092378,07/07/2009 13:35:33,52113,01/06/2009 17:04:25,18,2,How can i install mysql workbench in fedora 11.,"I download and try to install the rpm package for fedora 10, i also try compiled from source and finally ry to rebuild de rpm pakage from src.rpm package .. and nothing work.. does anyone know how can i install mysql workbench in fedora 11 ?

Thanks.",mysql,linux,fedora,,,,open,0,46,9,"How can i install mysql workbench in fedora 11. I download and try to install the rpm package for fedora 10, i also try compiled from source and finally ry to rebuild de rpm pakage from src.rpm package .. and nothing work.. does anyone know how can i install mysql workbench in fedora 11 ?

Thanks.",3
7058901,08/14/2011 18:45:26,279538,02/23/2010 14:23:22,56,0,Strange problems with this query (with mysql datetime tipe),"Please, help me understand this.

What are the sense of these results? I don't understand it.

Shouldn't for example the last query return an empty set since that there are not threads with date > 2010? Why do it return a result from 2003?

Thanks.

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' < '2010-09-10 21:43:05' LIMIT 1;
Empty set (0.00 sec)

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' < '2000-09-10 21:43:05' LIMIT 1;
Empty set (0.00 sec)

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' > '2000-09-10 21:43:05' LIMIT 1;
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    | newsgroup_id | thread_id | postcount | hash     | thread_date         | thread_date_last        | thread_title                    | title_has_valid_charset |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    |        64654 |         1 |         0 | O2gvcPRl | 2003-06-06 22:51:24 | 0000-00-00 00:00:00 | Vendo fotodigit  2.1  megapixel |                       0 |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
1 row in set (0.00 sec)

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' > '2010-09-10 21:43:05' LIMIT 1;
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    | newsgroup_id | thread_id | postcount | hash     | thread_date         | thread_date_last    | thread_title                    | title_has_valid_charset |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    |        64654 |         1 |         0 | O2gvcPRl | 2003-06-06 22:51:24 | 0000-00-00 00:00:00 | Vendo fotodigit  2.1  megapixel |                       0 |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
   1 row in set (0.00 sec)
",mysql,,,,,,open,0,417,9,"Strange problems with this query (with mysql datetime tipe) Please, help me understand this.

What are the sense of these results? I don't understand it.

Shouldn't for example the last query return an empty set since that there are not threads with date > 2010? Why do it return a result from 2003?

Thanks.

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' < '2010-09-10 21:43:05' LIMIT 1;
Empty set (0.00 sec)

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' < '2000-09-10 21:43:05' LIMIT 1;
Empty set (0.00 sec)

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' > '2000-09-10 21:43:05' LIMIT 1;
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    | newsgroup_id | thread_id | postcount | hash     | thread_date         | thread_date_last        | thread_title                    | title_has_valid_charset |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    |        64654 |         1 |         0 | O2gvcPRl | 2003-06-06 22:51:24 | 0000-00-00 00:00:00 | Vendo fotodigit  2.1  megapixel |                       0 |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
1 row in set (0.00 sec)

    mysql> SELECT * FROM thread WHERE newsgroup_id = '64654' AND 'thread_date' > '2010-09-10 21:43:05' LIMIT 1;
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    | newsgroup_id | thread_id | postcount | hash     | thread_date         | thread_date_last    | thread_title                    | title_has_valid_charset |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
    |        64654 |         1 |         0 | O2gvcPRl | 2003-06-06 22:51:24 | 0000-00-00 00:00:00 | Vendo fotodigit  2.1  megapixel |                       0 |
    +--------------+-----------+-----------+----------+---------------------+---------------------+---------------------------------+-------------------------+
   1 row in set (0.00 sec)
",1
2805638,05/10/2010 19:06:50,232374,12/15/2009 19:12:07,40,0,MySQL charset issue.,"I'm not sure exactly why this happened, but I'm assuming it was an dump and import.  The db is full of characters like â€” for commas and such.  I've tried various solutions on the web, but nothing seems to work.  I've verified that the html header specifies utf8.

Any ideas on how I can get the entire db back to normal characters?",mysql,,,,,,open,0,64,3,"MySQL charset issue. I'm not sure exactly why this happened, but I'm assuming it was an dump and import.  The db is full of characters like â€” for commas and such.  I've tried various solutions on the web, but nothing seems to work.  I've verified that the html header specifies utf8.

Any ideas on how I can get the entire db back to normal characters?",1
6172649,05/30/2011 05:41:53,775774,05/30/2011 05:41:53,1,0,more than one auto increment,"hey guys/girls can you have more than one auto incrementing value in one table in a database? And also i already have one auto incrementing value in my database?




i need to have a userid and a likes field which both need a auto increment value or can you do like a code which puts the number up every time were someone clicks the like button?

so to verify my question it is  can you have more than one auto incrementing value in one table in a database?


> when in doubt google it out :-P



























",mysql,,,,,11/05/2011 16:24:34,not a real question,1,94,5,"more than one auto increment hey guys/girls can you have more than one auto incrementing value in one table in a database? And also i already have one auto incrementing value in my database?




i need to have a userid and a likes field which both need a auto increment value or can you do like a code which puts the number up every time were someone clicks the like button?

so to verify my question it is  can you have more than one auto incrementing value in one table in a database?


> when in doubt google it out :-P



























",1
5226664,03/07/2011 23:38:14,226574,12/07/2009 18:10:31,310,4,Naming conventions and field naming question for CakePHP,"Okay so two questions very related:

1) Does following the naming convention for classes, controllers, database fields, etc. affect the framework's ability to work the way it was intended? (I'm a little new to working with a framework from the beginning of app development)

2) This question is more important if 1 is a yes. Say I have a table, A, that has 2 foreign keys pointing at the same table, B, but different entries (they're like edges of a graph that point at two vertices) how would I follow the naming convention of their database fields? All I can think to do is something like vertex_1_id and vertex_2_id but I don't know how the framework would handle that if the naming conventions are necessary for its functioning correctly.  ",mysql,cakephp,,,,,open,0,129,8,"Naming conventions and field naming question for CakePHP Okay so two questions very related:

1) Does following the naming convention for classes, controllers, database fields, etc. affect the framework's ability to work the way it was intended? (I'm a little new to working with a framework from the beginning of app development)

2) This question is more important if 1 is a yes. Say I have a table, A, that has 2 foreign keys pointing at the same table, B, but different entries (they're like edges of a graph that point at two vertices) how would I follow the naming convention of their database fields? All I can think to do is something like vertex_1_id and vertex_2_id but I don't know how the framework would handle that if the naming conventions are necessary for its functioning correctly.  ",2
6766772,07/20/2011 18:36:56,235633,12/20/2009 20:52:30,108,1,Using John the Ripper to guess md5 hashed passwords,"I was brought in to start securing some code for a company and right now they md5 hash passwords (and that's it). No blowflish, no salting, no password length minimums or rules of alphanumeracy, etc., just md5.

So I took some md5s out of the database and wanted to to how brain-dead simple these passwords were by using 'john'. I have a list that is literally
     
    md5hashhere
    md5hashagain

and so on.

How do I go about this?",mysql,security,php5,md5,cracking,07/22/2011 03:51:03,off topic,1,85,9,"Using John the Ripper to guess md5 hashed passwords I was brought in to start securing some code for a company and right now they md5 hash passwords (and that's it). No blowflish, no salting, no password length minimums or rules of alphanumeracy, etc., just md5.

So I took some md5s out of the database and wanted to to how brain-dead simple these passwords were by using 'john'. I have a list that is literally
     
    md5hashhere
    md5hashagain

and so on.

How do I go about this?",5
6054723,05/19/2011 06:35:05,382906,07/04/2010 01:40:57,1309,56,Grant users access to mysql database,I'm new to mysql db admin and I'm wondering what the point of having users are if you can access it through a root dir?,mysql,user,grant,,,05/19/2011 07:50:51,off topic,1,25,6,Grant users access to mysql database I'm new to mysql db admin and I'm wondering what the point of having users are if you can access it through a root dir?,3
8448916,12/09/2011 16:55:08,228160,12/09/2009 17:42:08,153,7,Drupal 7 - Is db_query closing connections?,"I recently build a web site with a small-medium profile of user access (around 150.000 pageviews/month) and sometimes, in the middle of the day I get the following error:

    PDOException: SQLSTATE[08004] [1040] Too many connections in lock_may_be_available()

The Drupal application is hosted with the MySQL on the same server, with an 2 CPUs Intel Xeon Quad Core and 8 GB of RAM.

I'm new on the Drupal world, and someone recomended me to use the `db_query` command to throw my queries to the Database. I don't know if this is the best pratice or even if this is the root of the problem. Can anyone help me?",mysql,drupal,drupal-7,database-connection,,12/09/2011 19:36:52,off topic,1,108,7,"Drupal 7 - Is db_query closing connections? I recently build a web site with a small-medium profile of user access (around 150.000 pageviews/month) and sometimes, in the middle of the day I get the following error:

    PDOException: SQLSTATE[08004] [1040] Too many connections in lock_may_be_available()

The Drupal application is hosted with the MySQL on the same server, with an 2 CPUs Intel Xeon Quad Core and 8 GB of RAM.

I'm new on the Drupal world, and someone recomended me to use the `db_query` command to throw my queries to the Database. I don't know if this is the best pratice or even if this is the root of the problem. Can anyone help me?",4
10546381,05/11/2012 06:20:41,1346217,04/20/2012 09:56:13,0,0,MYsQL Grouping Count Query,"Anybody please help me.

I have a query that needs to extract data that must show details of a certain model on a process. 

Here is my query.

        select
    x.Sequence as 'Sequence',
    x.Process as 'Process',
    x.pdt as 'Production Date',
    x.mdl as 'Model',
    count(x.bigbook) as 'Bigbook Count',
    x.sb as 'Smallbook'
    from
    (
    select distinct
    '1' as 'Sequence',
    'Cutting' as 'Process',
    cut_pdt as 'PDT',
    cut_shf as 'Shift',
    cut_mdl as 'Mdl',
    cut_bbn as 'Bigbook',
     count(cut_sbn) as 'SB'
    from sum_cut_001 group by cut_bbn) x
    group by x.mdl

That Result that it shows is like this.

    ---------|---------|-----------------|-------|----------------|------------------|
    Sequence | Process | Production Date | Model | Big book Count | Small Book Count |
    ---------|---------|-----------------|-------|----------------|------------------|
    1        | Cutting |    2012-01-30   |  GSX1 |     3          |        12        |

Each Model has 1 Bigbook and each Bigbook has 18 smallbook

So if i have 3 bigbooks for model GSX1 the output should be.


    ---------|---------|-----------------|-------|----------------|------------------|
    Sequence | Process | Production Date | Model | Big book Count | Small Book Count |
    ---------|---------|-----------------|-------|----------------|------------------|
    1        | Cutting |    2012-01-30   |  GSX1 |     3          |        54        |



Please Help me on how to query it correctly.

Thank in advance.





",mysql,,,,,,open,0,349,4,"MYsQL Grouping Count Query Anybody please help me.

I have a query that needs to extract data that must show details of a certain model on a process. 

Here is my query.

        select
    x.Sequence as 'Sequence',
    x.Process as 'Process',
    x.pdt as 'Production Date',
    x.mdl as 'Model',
    count(x.bigbook) as 'Bigbook Count',
    x.sb as 'Smallbook'
    from
    (
    select distinct
    '1' as 'Sequence',
    'Cutting' as 'Process',
    cut_pdt as 'PDT',
    cut_shf as 'Shift',
    cut_mdl as 'Mdl',
    cut_bbn as 'Bigbook',
     count(cut_sbn) as 'SB'
    from sum_cut_001 group by cut_bbn) x
    group by x.mdl

That Result that it shows is like this.

    ---------|---------|-----------------|-------|----------------|------------------|
    Sequence | Process | Production Date | Model | Big book Count | Small Book Count |
    ---------|---------|-----------------|-------|----------------|------------------|
    1        | Cutting |    2012-01-30   |  GSX1 |     3          |        12        |

Each Model has 1 Bigbook and each Bigbook has 18 smallbook

So if i have 3 bigbooks for model GSX1 the output should be.


    ---------|---------|-----------------|-------|----------------|------------------|
    Sequence | Process | Production Date | Model | Big book Count | Small Book Count |
    ---------|---------|-----------------|-------|----------------|------------------|
    1        | Cutting |    2012-01-30   |  GSX1 |     3          |        54        |



Please Help me on how to query it correctly.

Thank in advance.





",1
7807560,10/18/2011 12:58:19,584332,01/21/2011 10:48:09,40,2,Comparing multiple tables in mysql,"I have 4 tables with the same structure.
This 4 tables are generated from another one, the main table.

 - Main table  -> A (10 000 rows) 
  - table 1 -> a1 (2 000 rows) 
  - table 2 -> a2 (3 000 rows) 
  - table 3 -> a3 (4 000 rows) 
  - table 4 -> a4 (1 000 rows)

It's supposed that 4 generated tables are disjoint, and their sum is equal to table A.

But i need to confirm this.

**My question:** How i compare this 4 tables, to see if they have any id in common? 

I know that i can build a lot of querys to inner join a1 with a2, a1 with a3 and so on.

But i think that should be another better way.",mysql,sql,comparison,,,,open,0,133,5,"Comparing multiple tables in mysql I have 4 tables with the same structure.
This 4 tables are generated from another one, the main table.

 - Main table  -> A (10 000 rows) 
  - table 1 -> a1 (2 000 rows) 
  - table 2 -> a2 (3 000 rows) 
  - table 3 -> a3 (4 000 rows) 
  - table 4 -> a4 (1 000 rows)

It's supposed that 4 generated tables are disjoint, and their sum is equal to table A.

But i need to confirm this.

**My question:** How i compare this 4 tables, to see if they have any id in common? 

I know that i can build a lot of querys to inner join a1 with a2, a1 with a3 and so on.

But i think that should be another better way.",3
5766875,04/23/2011 20:53:20,722114,04/23/2011 20:53:20,1,0,MySQL views and authorization.,"I'm a little confused on how exactly views and authorizations work.  Let's say a view, view1, is created based only off table1, and a user is granted access to the original table1.  Would that user be able to have the same privileges to view1 as they would have on table1?  Also if a user is granted permission to update/insert/delete on view1, would that privilege be possible as they would also change the underlying table1?

Thanks! ",mysql,views,authorization,,,,open,0,78,4,"MySQL views and authorization. I'm a little confused on how exactly views and authorizations work.  Let's say a view, view1, is created based only off table1, and a user is granted access to the original table1.  Would that user be able to have the same privileges to view1 as they would have on table1?  Also if a user is granted permission to update/insert/delete on view1, would that privilege be possible as they would also change the underlying table1?

Thanks! ",3
10501505,05/08/2012 15:17:58,598478,09/20/2010 22:46:13,828,66,Is there any downside to choosing MYSQL instead of SQL server on visual studio 2010?,"I am new to visual studio, I want to develop a database application with it, I will prefer to use `MYSQL` database which I am very familiar with. I will like to know if there is any downside to it, and if I can successfully deploy the application and the `MYSQL` database together.",mysql,sql-server,visual-studio,,,05/08/2012 15:26:16,not constructive,1,53,15,"Is there any downside to choosing MYSQL instead of SQL server on visual studio 2010? I am new to visual studio, I want to develop a database application with it, I will prefer to use `MYSQL` database which I am very familiar with. I will like to know if there is any downside to it, and if I can successfully deploy the application and the `MYSQL` database together.",3
11641096,07/25/2012 00:20:37,844872,07/14/2011 15:13:52,1110,6,Error while inserting date - Incorrect date value:,"I have a column called `today` and the type is `DATE`.

when i try to add the date in the format `'07-25-2012'` i get the following error.

    Unable1 to run query:Incorrect date value: '07-25-2012' for column ",mysql,sql,,,,,open,0,39,8,"Error while inserting date - Incorrect date value: I have a column called `today` and the type is `DATE`.

when i try to add the date in the format `'07-25-2012'` i get the following error.

    Unable1 to run query:Incorrect date value: '07-25-2012' for column ",2
6668544,07/12/2011 17:38:36,841229,07/12/2011 17:23:50,11,0,is sharding based on char-length of user's name an example of consistent hashing?,"I simply cannot understand when or in what situation will we ever choose vertical partitioning instead of horizontal partitioning.

What are the benefits of vertical partitioning VS horizontal partitioning?

Are there any examples of websites / companies / anyone that uses vertical partitioning and what is/will be the main reason for that decision?",mysql,sql-server,database,partitioning,sharding,,open,0,51,13,"is sharding based on char-length of user's name an example of consistent hashing? I simply cannot understand when or in what situation will we ever choose vertical partitioning instead of horizontal partitioning.

What are the benefits of vertical partitioning VS horizontal partitioning?

Are there any examples of websites / companies / anyone that uses vertical partitioning and what is/will be the main reason for that decision?",5
9312684,02/16/2012 14:06:31,1210460,02/15/2012 04:06:07,1,0,save table after use mysql JOIN,"SELECT prod_name,prod_desc,product_url,prod_price,img_name

FROM accu_product A, accu_product_imgs B

WHERE A.prod_id = B.prod_id

IS IT POSSIBLE TO SAVE THE RESULTED TABLE AFTER USE OF JOIN AND IF YES THEN WHAT WILL BE THE NAME OF IT MY QUREY IS AS above
",mysql,,,,,,open,0,36,6,"save table after use mysql JOIN SELECT prod_name,prod_desc,product_url,prod_price,img_name

FROM accu_product A, accu_product_imgs B

WHERE A.prod_id = B.prod_id

IS IT POSSIBLE TO SAVE THE RESULTED TABLE AFTER USE OF JOIN AND IF YES THEN WHAT WILL BE THE NAME OF IT MY QUREY IS AS above
",1
7248695,08/30/2011 19:28:23,418046,08/12/2010 06:17:37,67,2,WordPress Job Interview Questions,"I'm interviewing for a job as a WordPress Developer.  I've only been working with WP for a year now and feel I have a good overview, as in how to set it up, what functions.php does, where to modify themes, etc..  But the interview I have next week is going to be asking me all about WordPress and Linux with some MySql thrown in.  All I know is that they will be giving me a laptop and a test.  

How do I prepare for such a thing?  Should I practice writing a plugin today?  I know how to set up a Linux server, but I'm not great with advanced file manipulation or shell scripting.  I'm good at setting up, troubleshooting and configuration.  And I read the WP Codex a LOT.  What would be a good homework assignment to give myself to prepare properly?  I've noticed there aren't many resources for studying for a WP-centric interview out there.",mysql,wordpress,php5,lamp,,08/30/2011 19:48:10,off topic,1,167,4,"WordPress Job Interview Questions I'm interviewing for a job as a WordPress Developer.  I've only been working with WP for a year now and feel I have a good overview, as in how to set it up, what functions.php does, where to modify themes, etc..  But the interview I have next week is going to be asking me all about WordPress and Linux with some MySql thrown in.  All I know is that they will be giving me a laptop and a test.  

How do I prepare for such a thing?  Should I practice writing a plugin today?  I know how to set up a Linux server, but I'm not great with advanced file manipulation or shell scripting.  I'm good at setting up, troubleshooting and configuration.  And I read the WP Codex a LOT.  What would be a good homework assignment to give myself to prepare properly?  I've noticed there aren't many resources for studying for a WP-centric interview out there.",4
11297683,07/02/2012 16:34:12,1496615,07/02/2012 16:26:29,1,0,Mysql select date between,"I've stored date in format like 01-jun-2012,02-jul-2012 in my mysql database.Now i want to take record between these dates.I'm using php/Mysql.I'm not able to get the records.Please help me.

Selva",mysql,,,,,07/02/2012 17:14:42,not a real question,1,29,4,"Mysql select date between I've stored date in format like 01-jun-2012,02-jul-2012 in my mysql database.Now i want to take record between these dates.I'm using php/Mysql.I'm not able to get the records.Please help me.

Selva",1
3129816,06/28/2010 02:53:48,355325,06/01/2010 11:11:15,35,0,Starting MySQL Routines and Scripting,"I have been using MySQL for a while, but only with basic queries and some joins. I want to start using Stored Procedures but I am having trouble finding a good resource to help me with what I want to know.

The main thing I want to know is how to check the value of any field in the entire database before returning anything. For example: a table that defines users, and a table that defines what permissions users have. I want to check if there is a certain permission -> user relationship before doing anything.

Here is a simplified table diagram:

    Users:
    ID     |   Username
    1      |   User1
    2      |   User2
    3      |   User3
    N      |   UserN

    Permissions:
    User ID      |     Permission ID
    1            |     1
    2            |     1
    1            |     2
    etc etc


    
So basically, I want to turn the following pseudo code into a MySQL Routine:

    if (SELECT * FROM Permissions WHERE 'User ID' = ? and 'Permission ID' = ? returns at least one row) {
          execute privileged sql
          return true
     }
     return false

I know I may be asking a lot here, but any help would be greatly appreciated!",mysql,,,,,,open,0,347,5,"Starting MySQL Routines and Scripting I have been using MySQL for a while, but only with basic queries and some joins. I want to start using Stored Procedures but I am having trouble finding a good resource to help me with what I want to know.

The main thing I want to know is how to check the value of any field in the entire database before returning anything. For example: a table that defines users, and a table that defines what permissions users have. I want to check if there is a certain permission -> user relationship before doing anything.

Here is a simplified table diagram:

    Users:
    ID     |   Username
    1      |   User1
    2      |   User2
    3      |   User3
    N      |   UserN

    Permissions:
    User ID      |     Permission ID
    1            |     1
    2            |     1
    1            |     2
    etc etc


    
So basically, I want to turn the following pseudo code into a MySQL Routine:

    if (SELECT * FROM Permissions WHERE 'User ID' = ? and 'Permission ID' = ? returns at least one row) {
          execute privileged sql
          return true
     }
     return false

I know I may be asking a lot here, but any help would be greatly appreciated!",1
7541732,09/24/2011 20:31:08,309749,04/06/2010 05:56:37,64,16,mysql query for between operator with ranage,"i have sample records 

       SNO      NAME            TYPE    RANK1-RANK2      DATE    
	2	sd sdf ds	Weekly	4    - 8	20-Sep-2011 19:23:02		  
	3	asd asd 	Weekly	1    - 6	21-Sep-2011 19:23:02		  
	4	sdsdsfsd	Weekly	1    - 1000	22-Sep-2011 19:23:02

in the above records i have 20 sept 2011 , have rank 1- 8 , if i want insert the records with same date i have to check the rank1 & rank2 should not be in the range of  4-8 and same time,  rank can be insert any other ranks expect in this range ",mysql,query,,,,09/25/2011 11:22:21,not a real question,1,126,7,"mysql query for between operator with ranage i have sample records 

       SNO      NAME            TYPE    RANK1-RANK2      DATE    
	2	sd sdf ds	Weekly	4    - 8	20-Sep-2011 19:23:02		  
	3	asd asd 	Weekly	1    - 6	21-Sep-2011 19:23:02		  
	4	sdsdsfsd	Weekly	1    - 1000	22-Sep-2011 19:23:02

in the above records i have 20 sept 2011 , have rank 1- 8 , if i want insert the records with same date i have to check the rank1 & rank2 should not be in the range of  4-8 and same time,  rank can be insert any other ranks expect in this range ",2
8337378,12/01/2011 06:30:18,1061008,11/23/2011 02:30:55,6,0,database normalization and optimization for postOffice DB,"I am designing a web application for a post office. Database performance in database is critical for them. I have designed the below structure for the post database, is there any flaw in my db structure which I didn't pay attention to that? Please give your suggestion if you really know about normalization, optimization etc.


http://www.freeimageuploader.com/i/i5ce5b7

I appreciate in advance.",mysql,,,,,12/01/2011 13:28:29,off topic,1,58,7,"database normalization and optimization for postOffice DB I am designing a web application for a post office. Database performance in database is critical for them. I have designed the below structure for the post database, is there any flaw in my db structure which I didn't pay attention to that? Please give your suggestion if you really know about normalization, optimization etc.


http://www.freeimageuploader.com/i/i5ce5b7

I appreciate in advance.",1
3620940,09/01/2010 18:16:49,429902,08/24/2010 18:24:44,12,0,Deleting a row based on the max value.,"How can I structure a mySQL query to delete a row based on the max value.

I tried  
   
    WHERE jobPositonId = max(jobPostionId)
but got an error?",mysql,delete,max,,,,open,0,32,8,"Deleting a row based on the max value. How can I structure a mySQL query to delete a row based on the max value.

I tried  
   
    WHERE jobPositonId = max(jobPostionId)
but got an error?",3
1618792,10/24/2009 19:10:27,173274,09/14/2009 17:03:23,3,0,"MYSQL, using unique table names VS using ids","I currently have 26 tables in a MYSQL database. My boss wants me to recreate those 26 tables whenever we have a new client, and append a client abbreviation of some sort to those new tables. So for example there's company1~system~users and company2~system~users and so on and so forth. 

I'd rather just add a table to the database that keeps track of our clients, with an auto incrementing 11 digit INT primary key and reference it in the other 26 tables instead, so we're not cluttering up the database with 4000 tables if have 200 clients.

I think his fear is that if we go the method I'd rather do, it will take MYSQL noticeably longer to perform queries because clients with anywhere between 2000 and 5000 records each will be sharing tables. So for example, searching for users that belong to company1 from a table called system~users with 1,500,000 records would be slower than searching for users from a table called company1~system~users with 2,000 records. I think it would actually be slower for MYSQL to search if each client we have has 26 sets of tables ( that's 26 per client ). 

Which method is actually slower?",mysql,query,primary,search,searching,,open,0,197,8,"MYSQL, using unique table names VS using ids I currently have 26 tables in a MYSQL database. My boss wants me to recreate those 26 tables whenever we have a new client, and append a client abbreviation of some sort to those new tables. So for example there's company1~system~users and company2~system~users and so on and so forth. 

I'd rather just add a table to the database that keeps track of our clients, with an auto incrementing 11 digit INT primary key and reference it in the other 26 tables instead, so we're not cluttering up the database with 4000 tables if have 200 clients.

I think his fear is that if we go the method I'd rather do, it will take MYSQL noticeably longer to perform queries because clients with anywhere between 2000 and 5000 records each will be sharing tables. So for example, searching for users that belong to company1 from a table called system~users with 1,500,000 records would be slower than searching for users from a table called company1~system~users with 2,000 records. I think it would actually be slower for MYSQL to search if each client we have has 26 sets of tables ( that's 26 per client ). 

Which method is actually slower?",5
5158211,03/01/2011 17:41:39,177170,09/22/2009 13:43:12,118,6,Multithreaded Delphi database application failing with large amounts of data,"**Overview of the application:**  
I have a Delphi application that allows a user to define a number of queries, and run them concurrently over multiple MySQL databases. There is a limit on the number of threads that can be run at once (which the user can set). The user selects the queries to run, and the systems to run the queries on. Each thread runs the specified query on the specified system using a TADOQuery component.

**Description of the problem:**  
When the queries retrieve a low number of records, the application works fine, even when lots of threads (up to about 100) are submitted. The application can also handle larger numbers of records(150,000+) as long as only a few threads (up to about 8) are running at once. However, when the user is running more than around 10 queries at once (i.e. 10+ threads), and each thread is retrieving around 150,000+ records, we start getting errors. Here are the specific error messages that we have encountered so far:

a: `Not enough storage is available to complete this operation`  
b: `OLE error 80040E05`  
c: `Unspecified error`  
d: Thread creation error: `Not enough storage is available to process this command`  
e: `Object was open`  
f: `ODBC Driver does not support the requested properties`

Evidently, the errors are due to a combination of factors: number of threads, amount of data retrieved per thread, and possibly the MySQL server configuration.

The main question really is why are the errors occurring? I appreciate that it appears to be in some way related to resources, but given the different errors that are being returned, I'd like to get my head around exactly why the errors are cropping up. Is it down to resources on the PC, or something to do with the configuration of the server, for example.

The follow up question is what can we do to avoid getting the problems? We're currently throttling down the application by lowering the number of threads that can be run concurrently. We can't force the user to retrieve less records as the queries are totally user defined and if they want to retrieve 200,000 records, then that's up to them, so there's not much that we can do about that side of things. Realistically, we don't want to throttle down the speed of the application because most users will be retrieving small amounts of data, and we don't want to make the application to slow for them to use, and although the number of threads can be changed by the user, we'd rather get to the root of the problem and try to fix it without having to rely on tweaking the configuration all the time.
",mysql,sql,multithreading,delphi,,,open,0,450,10,"Multithreaded Delphi database application failing with large amounts of data **Overview of the application:**  
I have a Delphi application that allows a user to define a number of queries, and run them concurrently over multiple MySQL databases. There is a limit on the number of threads that can be run at once (which the user can set). The user selects the queries to run, and the systems to run the queries on. Each thread runs the specified query on the specified system using a TADOQuery component.

**Description of the problem:**  
When the queries retrieve a low number of records, the application works fine, even when lots of threads (up to about 100) are submitted. The application can also handle larger numbers of records(150,000+) as long as only a few threads (up to about 8) are running at once. However, when the user is running more than around 10 queries at once (i.e. 10+ threads), and each thread is retrieving around 150,000+ records, we start getting errors. Here are the specific error messages that we have encountered so far:

a: `Not enough storage is available to complete this operation`  
b: `OLE error 80040E05`  
c: `Unspecified error`  
d: Thread creation error: `Not enough storage is available to process this command`  
e: `Object was open`  
f: `ODBC Driver does not support the requested properties`

Evidently, the errors are due to a combination of factors: number of threads, amount of data retrieved per thread, and possibly the MySQL server configuration.

The main question really is why are the errors occurring? I appreciate that it appears to be in some way related to resources, but given the different errors that are being returned, I'd like to get my head around exactly why the errors are cropping up. Is it down to resources on the PC, or something to do with the configuration of the server, for example.

The follow up question is what can we do to avoid getting the problems? We're currently throttling down the application by lowering the number of threads that can be run concurrently. We can't force the user to retrieve less records as the queries are totally user defined and if they want to retrieve 200,000 records, then that's up to them, so there's not much that we can do about that side of things. Realistically, we don't want to throttle down the speed of the application because most users will be retrieving small amounts of data, and we don't want to make the application to slow for them to use, and although the number of threads can be changed by the user, we'd rather get to the root of the problem and try to fix it without having to rely on tweaking the configuration all the time.
",4
8844210,01/13/2012 00:05:30,510068,11/16/2010 21:22:54,18,0,mysql cursor lock in share mode,"i have a question about the next cursor. hope you guys can help me out with this doubt.

    declare var_done boolean default false;
    
    declare var_cursor cursor for
    
    select
    tc.columnA,
    tc.columnB,
    tcp.columnA,
    tcp.columnB
    
    from tableA tc
    
    inner join tableB tcp
    on (tc.columnH=tcp.columnH)
    
    where tc.columnH=paramH
    and tc.columnFLG='S'
    lock in share mode;
    
    declare continue handler for not found set var_done=true;
    declare exit handler for sqlexception
    begin
    rollback;
    select 'ERROR' as 'Mensaje'
    from dual;
    end;
    
    start transaction;
    
    -- code
    
    commit;

this is how my sp looks like. as you can see i'm using ""lock in share mode"" in the select i use for the cursor, wich i open the the ""-- code"" section.

my doubt is, i'm not sure if ""lock in share mode"" works from the cursor. will it lock tableA and tableB while the cursor is working?

thanks very much for your help.",mysql,locking,cursor,share,mode,,open,0,243,6,"mysql cursor lock in share mode i have a question about the next cursor. hope you guys can help me out with this doubt.

    declare var_done boolean default false;
    
    declare var_cursor cursor for
    
    select
    tc.columnA,
    tc.columnB,
    tcp.columnA,
    tcp.columnB
    
    from tableA tc
    
    inner join tableB tcp
    on (tc.columnH=tcp.columnH)
    
    where tc.columnH=paramH
    and tc.columnFLG='S'
    lock in share mode;
    
    declare continue handler for not found set var_done=true;
    declare exit handler for sqlexception
    begin
    rollback;
    select 'ERROR' as 'Mensaje'
    from dual;
    end;
    
    start transaction;
    
    -- code
    
    commit;

this is how my sp looks like. as you can see i'm using ""lock in share mode"" in the select i use for the cursor, wich i open the the ""-- code"" section.

my doubt is, i'm not sure if ""lock in share mode"" works from the cursor. will it lock tableA and tableB while the cursor is working?

thanks very much for your help.",5
11595636,07/21/2012 20:33:08,1364872,04/30/2012 01:01:49,20,0,Another Complex SQL Query,"I am trying to figure out what already has been invoiced and exclude it from a list. These are my tables, some sample data, and the query results. 
![enter image description here][1]





So, This is the generic structure. For reference, MCGID is the SAME as StudyID, and Type of Exam is the SAME as Imaging. Another thing to note is MCGID is unique, and PatientID is only unique to the MCGID. This means that the PatientID can be reused for another MCGID.  For the Query to run, I will provide it with PatientID, and MCGID. So my goal is to create a list of potential Imaging and Indications that are not listed in the invoicefields under TypeofExam and Indication. Also, it should also ignore the invoice number if void=1. I realize this is not simple, and would be willing to offer a compensation over paypal for the person who gets it successfully. 

 
         


  [1]: http://i.stack.imgur.com/DppY0.png",mysql,sql,query,,,07/22/2012 21:51:50,not a real question,1,166,4,"Another Complex SQL Query I am trying to figure out what already has been invoiced and exclude it from a list. These are my tables, some sample data, and the query results. 
![enter image description here][1]





So, This is the generic structure. For reference, MCGID is the SAME as StudyID, and Type of Exam is the SAME as Imaging. Another thing to note is MCGID is unique, and PatientID is only unique to the MCGID. This means that the PatientID can be reused for another MCGID.  For the Query to run, I will provide it with PatientID, and MCGID. So my goal is to create a list of potential Imaging and Indications that are not listed in the invoicefields under TypeofExam and Indication. Also, it should also ignore the invoice number if void=1. I realize this is not simple, and would be willing to offer a compensation over paypal for the person who gets it successfully. 

 
         


  [1]: http://i.stack.imgur.com/DppY0.png",3
7735306,10/12/2011 04:35:32,977830,10/04/2011 05:14:14,1,0,need query for following table,"I have a table called loc has attributes locid,sid,role,link,href.
          I need to extract all these for superlink id 1,2,3,4,5,6,7,8,9 
           But 3 has two locid 3 & 4. I need to extract contents from 3 and 4. But my sid shouldn’t        repeat
      
                 Locid         Sid
                1                	1
                2	          2
                3	          3
                4	          3
                5	          4
                6	          7
                7	          7
                8	          7
                9	          8
               10	          8
               11	          4
               12	          4
               13	          9
               14	          4
my out put should be in this form

                Sid 	locid
                1	     1
                2        2
                3        3
		                 4

                4	     5
	                     11
	                     12	
		                 14
 
                7	      6
	                      7
		                  8

                8	      9
		                  10

                9	      13
",mysql,sql,,,,10/14/2011 02:18:43,not a real question,1,780,5,"need query for following table I have a table called loc has attributes locid,sid,role,link,href.
          I need to extract all these for superlink id 1,2,3,4,5,6,7,8,9 
           But 3 has two locid 3 & 4. I need to extract contents from 3 and 4. But my sid shouldn’t        repeat
      
                 Locid         Sid
                1                	1
                2	          2
                3	          3
                4	          3
                5	          4
                6	          7
                7	          7
                8	          7
                9	          8
               10	          8
               11	          4
               12	          4
               13	          9
               14	          4
my out put should be in this form

                Sid 	locid
                1	     1
                2        2
                3        3
		                 4

                4	     5
	                     11
	                     12	
		                 14
 
                7	      6
	                      7
		                  8

                8	      9
		                  10

                9	      13
",2
9554347,03/04/2012 11:01:11,841852,07/13/2011 02:09:51,19,0,Highest/lowest value without using aggregate functions in SQL,"I have a table named department, which has following data

    DNO	DNAME	SALARY
    20	EE	30000
    10	DoC	50000
    30	ITS	20000

I want to select employee with maximum and minimum salary WITHOUT using group functions or top-n analysis or NOT EXISTS command. Any help will be appreciated. Thanks",mysql,sql,database,query,postgresql,03/04/2012 13:25:58,too localized,1,52,8,"Highest/lowest value without using aggregate functions in SQL I have a table named department, which has following data

    DNO	DNAME	SALARY
    20	EE	30000
    10	DoC	50000
    30	ITS	20000

I want to select employee with maximum and minimum salary WITHOUT using group functions or top-n analysis or NOT EXISTS command. Any help will be appreciated. Thanks",5
9785852,03/20/2012 11:25:50,216230,11/21/2009 21:04:57,193,4,How to achieve select for update when using IQToolKit with MySQL,"Using IQToolkit with MySQL, I would like to perform a LOCKING READ within a transaction and according to the mysql docs, the way to do that is by using ""SELECT... FOR UPDATE"". 
However it seems that LINQ does not support this by default and I found [this thread][1] talking about achieving similar goal by handling the **ChangeConflictException**. what is the best way to do the same using IQToolkit LINQ provider with MySQL?


  [1]: http://stackoverflow.com/questions/1848576/linq-version-of-select-for-update",mysql,linq,locking,,,,open,0,75,11,"How to achieve select for update when using IQToolKit with MySQL Using IQToolkit with MySQL, I would like to perform a LOCKING READ within a transaction and according to the mysql docs, the way to do that is by using ""SELECT... FOR UPDATE"". 
However it seems that LINQ does not support this by default and I found [this thread][1] talking about achieving similar goal by handling the **ChangeConflictException**. what is the best way to do the same using IQToolkit LINQ provider with MySQL?


  [1]: http://stackoverflow.com/questions/1848576/linq-version-of-select-for-update",3
6006460,05/15/2011 04:19:34,590177,01/26/2011 06:08:56,5,0,Rails 3 and saving decimal values from a form,"I have an odd bug in one of my applications. When I am using the sqlite3 database the bug is not present. However when I use mysql2 as the database adapter I run into an error saving integer values from a form. If I submit the value 19.99 my input after the decimal is removed and it is stored in the database as 19.00 

What would cause this? The database has the correct settings for the column and I can create a correct record using the rails console.",mysql,ruby-on-rails,forms,,,,open,0,88,9,"Rails 3 and saving decimal values from a form I have an odd bug in one of my applications. When I am using the sqlite3 database the bug is not present. However when I use mysql2 as the database adapter I run into an error saving integer values from a form. If I submit the value 19.99 my input after the decimal is removed and it is stored in the database as 19.00 

What would cause this? The database has the correct settings for the column and I can create a correct record using the rails console.",3
9190433,02/08/2012 09:15:45,1196734,02/08/2012 09:12:18,1,0,MySQL - scheduled task,"my requirement is. On every insert of a record (which contains a timestamp & status fields in it), I should schedule a task based on the timestamp and update the status value. Please help me with this. Is there any way to use procedure,events,trigger and gt this done?",mysql,,,,,,open,0,48,4,"MySQL - scheduled task my requirement is. On every insert of a record (which contains a timestamp & status fields in it), I should schedule a task based on the timestamp and update the status value. Please help me with this. Is there any way to use procedure,events,trigger and gt this done?",1
9915819,03/28/2012 21:19:49,659932,03/15/2011 04:14:38,136,4,"I installed mysql 5.1 from the official site, but am having issues","Two issues in particular:

1) The server won't start when I try to start it from the pref pane

2) I get this error when I type ""mysql"" in the command line. ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock'",mysql,setup,environment,,,,open,0,42,12,"I installed mysql 5.1 from the official site, but am having issues Two issues in particular:

1) The server won't start when I try to start it from the pref pane

2) I get this error when I type ""mysql"" in the command line. ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock'",3
9098655,02/01/2012 15:39:22,876581,08/03/2011 12:22:37,149,1,How can I add comments in SQL?,"I want to add comment in a sql code. How can I do it ?

----- I use MySQL ------ ",mysql,database,,,,02/02/2012 08:24:00,too localized,1,20,7,"How can I add comments in SQL? I want to add comment in a sql code. How can I do it ?

----- I use MySQL ------ ",2
7176772,08/24/2011 14:04:48,98155,04/30/2009 01:15:49,149,2,Should I stick with MySQL or go for some other technology when confronted with loads and loads of data,"The problem is that I need to store 1 integer every day (adding new data with time stamp) for lots of entities every day (lets say 10s of million entities, but they could easily be 100 of million or even half a billion as the entities are growing in population)

The entities are grouped in an hierarchy and I can filter using those.

Now I would like a quick way to calculate average of these millions of values over a time period (and perhaps also only calculate average using filtered data). My gut instinct is that as this data grows (potentially 20 millions row every day it will be very hard to guarantee performance. 

Can you suggest an easy solution. Should I stick with MySQL or some other fancy NoSQL solution would be better. As it stands it is already painfully slow to just count all the entities (perhaps MySQL needs tuning)",mysql,nosql,,,,08/25/2011 01:11:45,not constructive,1,150,19,"Should I stick with MySQL or go for some other technology when confronted with loads and loads of data The problem is that I need to store 1 integer every day (adding new data with time stamp) for lots of entities every day (lets say 10s of million entities, but they could easily be 100 of million or even half a billion as the entities are growing in population)

The entities are grouped in an hierarchy and I can filter using those.

Now I would like a quick way to calculate average of these millions of values over a time period (and perhaps also only calculate average using filtered data). My gut instinct is that as this data grows (potentially 20 millions row every day it will be very hard to guarantee performance. 

Can you suggest an easy solution. Should I stick with MySQL or some other fancy NoSQL solution would be better. As it stands it is already painfully slow to just count all the entities (perhaps MySQL needs tuning)",2
1935813,12/20/2009 13:15:08,63235,02/06/2009 08:35:13,1945,1,recommend MySQL book for developer?,"I am a developer previously working on SQL Server and Windows platform. I am learning MySQL on Windows platform to feel the power of free and open software, and also spirit of it. :-)

My requirements to learn,

1. I am working on .Net (C#) and native (C++) programming language on Windows platform, I want gurus here recommend me a good book for a beginner of MySQL in such environment for a developer on MySQL, better with the most recent version of MySQL;
2. I also want gurus here recommend me a MySQL administrator book for a beginner on Windows platform, like backup/restore, performance tuning, import/export, security, etc.

thanks in advance,
George",mysql,sql-server,,,,06/11/2012 08:28:23,not constructive,1,107,5,"recommend MySQL book for developer? I am a developer previously working on SQL Server and Windows platform. I am learning MySQL on Windows platform to feel the power of free and open software, and also spirit of it. :-)

My requirements to learn,

1. I am working on .Net (C#) and native (C++) programming language on Windows platform, I want gurus here recommend me a good book for a beginner of MySQL in such environment for a developer on MySQL, better with the most recent version of MySQL;
2. I also want gurus here recommend me a MySQL administrator book for a beginner on Windows platform, like backup/restore, performance tuning, import/export, security, etc.

thanks in advance,
George",2
7527587,09/23/2011 10:27:04,37472,11/13/2008 21:13:38,4435,164,Is there such a thing as a reverse foreign key?,"In MySQL, is there a way to specify that `a.column` cannot exist in `b.column` - a reverse foreign key?

In other words:

    # Would not return any rows ever
    SELECT * FROM a
    INNER JOIN b ON a.column = b.column;
    
    # Would fail
    INSERT INTO a
    SELECT * FROM b;
    
    # Would not insert any rows
    INSERT IGNORE INTO a
    SELECT * FROM b;",mysql,foreign-keys,theoretical,,,,open,0,98,10,"Is there such a thing as a reverse foreign key? In MySQL, is there a way to specify that `a.column` cannot exist in `b.column` - a reverse foreign key?

In other words:

    # Would not return any rows ever
    SELECT * FROM a
    INNER JOIN b ON a.column = b.column;
    
    # Would fail
    INSERT INTO a
    SELECT * FROM b;
    
    # Would not insert any rows
    INSERT IGNORE INTO a
    SELECT * FROM b;",3
5821886,04/28/2011 16:26:07,233421,12/17/2009 00:41:31,1295,0,what is the best way to uninstall MySQL on MAC Snow leopard?,"what is the best way to uninstall MySQL on MAC Snow leopard? I installed it using the installer format from mysql.com


Thanks in advance ;-)",mysql,uninstall,mysql-management,,,05/31/2011 03:58:22,not a real question,1,24,12,"what is the best way to uninstall MySQL on MAC Snow leopard? what is the best way to uninstall MySQL on MAC Snow leopard? I installed it using the installer format from mysql.com


Thanks in advance ;-)",3
9207085,02/09/2012 07:42:24,908926,08/24/2011 05:06:47,1,0,"Codeigniter,php,ajax,mysql",I want learn how to take data from database using ajax json method .i want to pass value to ajax from i want call a controller then model then i need data(data from database) back in view. thanx in advace,mysql,ajax,codeigniter,,,02/09/2012 20:06:43,not a real question,1,40,1,"Codeigniter,php,ajax,mysql I want learn how to take data from database using ajax json method .i want to pass value to ajax from i want call a controller then model then i need data(data from database) back in view. thanx in advace",3
7631618,10/03/2011 06:18:52,544287,12/16/2010 04:56:35,30,7,FullText INDEXING on MyISAM is really slow,"I have a table 


    CREATE TABLE `dataFullText` (
    `id` int(11) NOT NULL,
    `title` char(255) NOT NULL,
    `description` text NOT NULL,
    `name` char(100) NOT NULL,
    `ref` char(50) NOT NULL,
    PRIMARY KEY (`id`),
    FULLTEXT KEY `fulltext` (`ref`,`name`,`title`,`description`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8

Which has around 100k records.

    mysql> select * from information_schema.TABLES WHERE TABLE_NAME='jobsFullText'\G
    *************************** 1. row ***************************
    TABLE_CATALOG: NULL
    TABLE_SCHEMA: ****
    TABLE_NAME: dataFullText
    TABLE_TYPE: BASE TABLE
    ENGINE: MyISAM
    VERSION: 10
    ROW_FORMAT: Dynamic
    TABLE_ROWS: 79495
    AVG_ROW_LENGTH: 791
    DATA_LENGTH: 62938804
    MAX_DATA_LENGTH: 281474976710655
    INDEX_LENGTH: 53625856
    DATA_FREE: 51328
    AUTO_INCREMENT: NULL
    CREATE_TIME: 2011-10-03 13:38:25
    UPDATE_TIME: 2011-10-03 13:55:56
    CHECK_TIME: 2011-10-03 13:38:48
    TABLE_COLLATION: utf8_general_ci
    CHECKSUM: NULL
    CREATE_OPTIONS: 
    TABLE_COMMENT: 


This table is updated every hour with a LOAD DATA INFILE, which has around 8k records.

The time the table is locked is around 30 seconds. Which correspond to the time I make a 

    mysql> alter table dataFullText drop index title;
    Query OK, 79495 rows affected (1.33 sec)
    Records: 79495  Duplicates: 0  Warnings: 0

    mysql> alter table dataFullText add fulltext index (ref,name,title,description);
    Query OK, 79495 rows affected (22.96 sec)
    Records: 79495  Duplicates: 0  Warnings: 0


My problem is that 30seconds is really a long time. This table is queried 5 times/seconds, which make the queue reach 30 x 5 = 150 . Because our max connection limit is set to 100, the mysql server begin to reject some incoming connections. 

We plan to have at least 1 Million row in this table in the future, and I guess  this won't get faster.

Is there anything I can do to reduce the time mysql uses for updating the index ? 



",mysql,performance,full-text-search,index,full-text-indexing,,open,0,377,7,"FullText INDEXING on MyISAM is really slow I have a table 


    CREATE TABLE `dataFullText` (
    `id` int(11) NOT NULL,
    `title` char(255) NOT NULL,
    `description` text NOT NULL,
    `name` char(100) NOT NULL,
    `ref` char(50) NOT NULL,
    PRIMARY KEY (`id`),
    FULLTEXT KEY `fulltext` (`ref`,`name`,`title`,`description`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8

Which has around 100k records.

    mysql> select * from information_schema.TABLES WHERE TABLE_NAME='jobsFullText'\G
    *************************** 1. row ***************************
    TABLE_CATALOG: NULL
    TABLE_SCHEMA: ****
    TABLE_NAME: dataFullText
    TABLE_TYPE: BASE TABLE
    ENGINE: MyISAM
    VERSION: 10
    ROW_FORMAT: Dynamic
    TABLE_ROWS: 79495
    AVG_ROW_LENGTH: 791
    DATA_LENGTH: 62938804
    MAX_DATA_LENGTH: 281474976710655
    INDEX_LENGTH: 53625856
    DATA_FREE: 51328
    AUTO_INCREMENT: NULL
    CREATE_TIME: 2011-10-03 13:38:25
    UPDATE_TIME: 2011-10-03 13:55:56
    CHECK_TIME: 2011-10-03 13:38:48
    TABLE_COLLATION: utf8_general_ci
    CHECKSUM: NULL
    CREATE_OPTIONS: 
    TABLE_COMMENT: 


This table is updated every hour with a LOAD DATA INFILE, which has around 8k records.

The time the table is locked is around 30 seconds. Which correspond to the time I make a 

    mysql> alter table dataFullText drop index title;
    Query OK, 79495 rows affected (1.33 sec)
    Records: 79495  Duplicates: 0  Warnings: 0

    mysql> alter table dataFullText add fulltext index (ref,name,title,description);
    Query OK, 79495 rows affected (22.96 sec)
    Records: 79495  Duplicates: 0  Warnings: 0


My problem is that 30seconds is really a long time. This table is queried 5 times/seconds, which make the queue reach 30 x 5 = 150 . Because our max connection limit is set to 100, the mysql server begin to reject some incoming connections. 

We plan to have at least 1 Million row in this table in the future, and I guess  this won't get faster.

Is there anything I can do to reduce the time mysql uses for updating the index ? 



",5
5012865,02/16/2011 05:34:30,618993,02/16/2011 03:48:07,1,0,what if my html pages cannot connect to database?,i'm just asking! don't angry me! i'm just a new beginner in this...,mysql,html,,,,02/16/2011 05:57:53,not a real question,1,13,9,what if my html pages cannot connect to database? i'm just asking! don't angry me! i'm just a new beginner in this...,2
6117271,05/24/2011 21:42:33,401019,07/24/2010 11:28:30,968,63,Statement Based Replication and SQL_CALC_FOUND_ROWS,"We started using statement-based replication, and found that it breaks SQL_CALC_FOUND_ROWS and FOUND_ROWS(), and I'm looking for a work around. A comment from a bug report in 2007 suggests using `SELECT SQL_CALC_FOUND_ROWS INTO @found_rows FROM foo`, but that doesn't seem to work. MySQL says the syntax is invalid.",mysql,,,,,,open,0,48,5,"Statement Based Replication and SQL_CALC_FOUND_ROWS We started using statement-based replication, and found that it breaks SQL_CALC_FOUND_ROWS and FOUND_ROWS(), and I'm looking for a work around. A comment from a bug report in 2007 suggests using `SELECT SQL_CALC_FOUND_ROWS INTO @found_rows FROM foo`, but that doesn't seem to work. MySQL says the syntax is invalid.",1
10497523,05/08/2012 11:15:20,1381863,05/08/2012 11:04:39,1,0,Setting up Link to facebook fro my website,"I am in charge of a school website and have been asked to add a link to facebook with an icon. I have no idea how to add a link. I have noticed that other sites have an ""account"" with facebook so that when you click the link, it goes to a place like ""www.facebook.com/yahoo"".i want to set up the same thing for my website. Would you place me to a section that would help me do this?
thanks in advance ",mysql,,,,,05/30/2012 01:59:30,off topic,1,81,8,"Setting up Link to facebook fro my website I am in charge of a school website and have been asked to add a link to facebook with an icon. I have no idea how to add a link. I have noticed that other sites have an ""account"" with facebook so that when you click the link, it goes to a place like ""www.facebook.com/yahoo"".i want to set up the same thing for my website. Would you place me to a section that would help me do this?
thanks in advance ",1
6690458,07/14/2011 08:31:10,590569,01/26/2011 12:22:44,63,5,InnoDB SELECT ... FOR UPDATE statement locking all rows in a table,"MySQL Server version 5.1.41 with InnoDB plugin enabled. I have the following three tables for invoices: invoices, invoice_components and invoice_expenses. Table invoices has invoice_id primary key. Both invoice_components and invoice_expenses are linked to table invoices with invoice_id as a non-unique foreign_key (each invoice can have more than one component and more than one expense). Both tables have a BTREE index for this foreign key. 

I have the following transactions: 

transaction 1: 
START TRANSACTION; 
SELECT * FROM invoices WHERE invoice_id = 18 FOR UPDATE; 
SELECT * FROM invoice_components WHERE invoice = 18 FOR UPDATE; 
SELECT * FROM invoice_expenses WHERE invoice = 18 FOR UPDATE; 

Everything works ok for the first transaction and the rows are selected and locked. 

transaction 2: 
START TRANSACTION; 
SELECT * FROM invoices WHERE invoice_id = 19 FOR UPDATE; 
SELECT * FROM invoices WHERE invoice = 19 FOR UPDATE; 
SELECT * FROM invoice_expenses WHERE invoice = 19 FOR UPDATE; 

The second transaction returns ""ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction"" for the third query. 

The same happens when I try to SELECT ... FOR UPDATE other invoices and their components and expenses. It seems the first transaction has locked all the rows in invoice_expenses table. Any ideas why this is happening?",mysql,transactions,innodb,locks,,,open,0,206,12,"InnoDB SELECT ... FOR UPDATE statement locking all rows in a table MySQL Server version 5.1.41 with InnoDB plugin enabled. I have the following three tables for invoices: invoices, invoice_components and invoice_expenses. Table invoices has invoice_id primary key. Both invoice_components and invoice_expenses are linked to table invoices with invoice_id as a non-unique foreign_key (each invoice can have more than one component and more than one expense). Both tables have a BTREE index for this foreign key. 

I have the following transactions: 

transaction 1: 
START TRANSACTION; 
SELECT * FROM invoices WHERE invoice_id = 18 FOR UPDATE; 
SELECT * FROM invoice_components WHERE invoice = 18 FOR UPDATE; 
SELECT * FROM invoice_expenses WHERE invoice = 18 FOR UPDATE; 

Everything works ok for the first transaction and the rows are selected and locked. 

transaction 2: 
START TRANSACTION; 
SELECT * FROM invoices WHERE invoice_id = 19 FOR UPDATE; 
SELECT * FROM invoices WHERE invoice = 19 FOR UPDATE; 
SELECT * FROM invoice_expenses WHERE invoice = 19 FOR UPDATE; 

The second transaction returns ""ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction"" for the third query. 

The same happens when I try to SELECT ... FOR UPDATE other invoices and their components and expenses. It seems the first transaction has locked all the rows in invoice_expenses table. Any ideas why this is happening?",4
8924153,01/19/2012 10:04:55,1158147,01/19/2012 09:44:43,1,0,i want to create mysql trigger for followin table... How to do?,"table_name : test_record


Field                  Type           Null     key
student_id,            int(11),       NO,      PRI 
test_number,           int(11),       NO,     PRI 
test_date,              varchar(30),  NO,     PRI 
test_subject,           varchar(45),  YES,  
test_max_mark,          int(11),      YES,  
test_mark_obtained,      int(11),     YES, 

table_name :test_result


Field                       Type           Null     key
id,                        int(11),         YES,  
student_id,                int(11),         NO,    PRI 
test_total_mark_math,        int(11),         YES 
test_total_mark_math_obt,    int(11),         YES 
test_total_mark_phy,         int(11),         YES 
test_total_mark_phy_obt,     int(11),         YES 
test_standard_deviation,       decimal(5,2),    YES 
test_percentage,           decimal(5,2),     YES 


Now here i want if any record is inserted in test_record then trigger will automatically update the test_result.

in test_record , suppose entries are
1   ,   1  , 11/09/2012 , maths , 60 , 40

then in test_result entries should be....

1 , 1 , 60 , 40 , 0 , 0 , 0 , 66.67
",mysql,sql,database,query,triggers,01/19/2012 19:34:47,too localized,1,410,12,"i want to create mysql trigger for followin table... How to do? table_name : test_record


Field                  Type           Null     key
student_id,            int(11),       NO,      PRI 
test_number,           int(11),       NO,     PRI 
test_date,              varchar(30),  NO,     PRI 
test_subject,           varchar(45),  YES,  
test_max_mark,          int(11),      YES,  
test_mark_obtained,      int(11),     YES, 

table_name :test_result


Field                       Type           Null     key
id,                        int(11),         YES,  
student_id,                int(11),         NO,    PRI 
test_total_mark_math,        int(11),         YES 
test_total_mark_math_obt,    int(11),         YES 
test_total_mark_phy,         int(11),         YES 
test_total_mark_phy_obt,     int(11),         YES 
test_standard_deviation,       decimal(5,2),    YES 
test_percentage,           decimal(5,2),     YES 


Now here i want if any record is inserted in test_record then trigger will automatically update the test_result.

in test_record , suppose entries are
1   ,   1  , 11/09/2012 , maths , 60 , 40

then in test_result entries should be....

1 , 1 , 60 , 40 , 0 , 0 , 0 , 66.67
",5
11332096,07/04/2012 15:39:38,776667,05/30/2011 18:52:17,253,32,"Move ibdata1, set innodb_data_file_path","I am in a bit of an awkward situation right now. I have a database with a few large InnoDB tables, one of which is about 145 GiB. I have been running a lot of maintenance on this table in particular, not realizing that a lot of that compounded in the ibdata1 file. Now I am in a situation where the ibdata1 file has grown so much that it has used up all of my disk space on my dedicated SQL SSD drive. I have read up on the matter and I know that I have to reload the database into the sql server for it to shrink the ibdata1 file. However, the mysqldump I took of my database is suspiciously small (it is about 2/3rds of my database size and is uncompressed), so what I want to do is load the dump file in a test database to check if there are any issues with it. The issue is, as I do not have any disk space left on my drive (this is a vicious cycle). So, what I would like to do is to move the ibdata1 file to my main HDD, which has plenty of space, and then add a line in the mysql configuration file telling the new location of the ibdata1 file, so I can free up enough space to load up a dummy databa. Can I do this? And if so, how do I do this?

Mysql's location; /mysql, <br />
ibdata1 location; /tmpsql/ibdata1 (I can move this to let's say /var/lib/mysql or so if that would be better).

I already set innodb_file_per_table in the configuration file before it used up all my disk space. I have moved the ib_logfile* files as well to the same directory as ibdata1. The ibdata1 file was still used and extended regardless of this setting.

Please let me know if you need any additional information. Thanks in advance!",mysql,innodb,tablespace,,,07/05/2012 15:55:45,off topic,1,316,4,"Move ibdata1, set innodb_data_file_path I am in a bit of an awkward situation right now. I have a database with a few large InnoDB tables, one of which is about 145 GiB. I have been running a lot of maintenance on this table in particular, not realizing that a lot of that compounded in the ibdata1 file. Now I am in a situation where the ibdata1 file has grown so much that it has used up all of my disk space on my dedicated SQL SSD drive. I have read up on the matter and I know that I have to reload the database into the sql server for it to shrink the ibdata1 file. However, the mysqldump I took of my database is suspiciously small (it is about 2/3rds of my database size and is uncompressed), so what I want to do is load the dump file in a test database to check if there are any issues with it. The issue is, as I do not have any disk space left on my drive (this is a vicious cycle). So, what I would like to do is to move the ibdata1 file to my main HDD, which has plenty of space, and then add a line in the mysql configuration file telling the new location of the ibdata1 file, so I can free up enough space to load up a dummy databa. Can I do this? And if so, how do I do this?

Mysql's location; /mysql, <br />
ibdata1 location; /tmpsql/ibdata1 (I can move this to let's say /var/lib/mysql or so if that would be better).

I already set innodb_file_per_table in the configuration file before it used up all my disk space. I have moved the ib_logfile* files as well to the same directory as ibdata1. The ibdata1 file was still used and extended regardless of this setting.

Please let me know if you need any additional information. Thanks in advance!",3
1958290,12/24/2009 13:19:04,202926,11/04/2009 20:34:32,64,4,while loop question,Is it ok to a mysql query inside a while loop using the ID of each row passed to fetch results from another table?  OR is there a better way to do it?,mysql,php,,,,,open,0,34,3,while loop question Is it ok to a mysql query inside a while loop using the ID of each row passed to fetch results from another table?  OR is there a better way to do it?,2
11705358,07/28/2012 23:04:02,262852,01/31/2010 10:01:23,457,17,populate hash for unique text with trigger?,"Ok, so I [see][1] that this the wrong approach:

    mysql> 
    mysql> show tables;
    +---------------------+
    | Tables_in_nntp      |
    +---------------------+
    | articles            |
    | newsgroups          |
    | newsgroups_articles |
    +---------------------+
    3 rows in set (0.00 sec)
    
    mysql> describe newsgroups;
    +-----------+----------+------+-----+---------+----------------+
    | Field     | Type     | Null | Key | Default | Extra          |
    +-----------+----------+------+-----+---------+----------------+
    | id        | int(11)  | NO   | PRI | NULL    | auto_increment |
    | newsgroup | longtext | NO   |     | NULL    |                |
    +-----------+----------+------+-----+---------+----------------+
    2 rows in set (0.00 sec)
    
    mysql> show create table newsgroups;
    +------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Table      | Create Table                                                                                                                                                                      |
    +------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | newsgroups | CREATE TABLE `newsgroups` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `newsgroup` longtext NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=latin1 |
    +------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    1 row in set (0.00 sec)
    
    mysql> ALTER TABLE newsgroups ADD UNIQUE (newsgroup);
    ERROR 1170 (42000): BLOB/TEXT column 'newsgroup' used in key specification without a key length
    mysql> 


now, if I make this a hash, **how do I populate it**?  With a [trigger][2]?  and then make the hash unique?


now, should the **hash** perhaps be the primary key, or just leave the PK alone?


  [1]: http://stackoverflow.com/a/4744926/262852
  [2]: http://stackoverflow.com/a/11024249/262852",mysql,schema,constraints,unique-constraint,mysql-error-1170,07/30/2012 02:38:52,not a real question,1,557,7,"populate hash for unique text with trigger? Ok, so I [see][1] that this the wrong approach:

    mysql> 
    mysql> show tables;
    +---------------------+
    | Tables_in_nntp      |
    +---------------------+
    | articles            |
    | newsgroups          |
    | newsgroups_articles |
    +---------------------+
    3 rows in set (0.00 sec)
    
    mysql> describe newsgroups;
    +-----------+----------+------+-----+---------+----------------+
    | Field     | Type     | Null | Key | Default | Extra          |
    +-----------+----------+------+-----+---------+----------------+
    | id        | int(11)  | NO   | PRI | NULL    | auto_increment |
    | newsgroup | longtext | NO   |     | NULL    |                |
    +-----------+----------+------+-----+---------+----------------+
    2 rows in set (0.00 sec)
    
    mysql> show create table newsgroups;
    +------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Table      | Create Table                                                                                                                                                                      |
    +------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | newsgroups | CREATE TABLE `newsgroups` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `newsgroup` longtext NOT NULL,
      PRIMARY KEY (`id`)
    ) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=latin1 |
    +------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    1 row in set (0.00 sec)
    
    mysql> ALTER TABLE newsgroups ADD UNIQUE (newsgroup);
    ERROR 1170 (42000): BLOB/TEXT column 'newsgroup' used in key specification without a key length
    mysql> 


now, if I make this a hash, **how do I populate it**?  With a [trigger][2]?  and then make the hash unique?


now, should the **hash** perhaps be the primary key, or just leave the PK alone?


  [1]: http://stackoverflow.com/a/4744926/262852
  [2]: http://stackoverflow.com/a/11024249/262852",5
1859670,12/07/2009 12:21:24,119198,06/08/2009 12:32:48,443,10,How to pull grandchildren from database,"I want to pull out menu items from MySQL.

    Main menu           id=1, parentid=0
    -Contact us         id=2, parentid=1
    -Music              id=3, parentid=1
     --Rock             id=8, parentid=3
     --Classic          id=9, parentid=3
    -Car                id=4, parentid=1
      --Toyota          id=5, parentid=4,
      --Ford            id=6, parentid=4,
      --Honda           id=7, parentid=4
    
    Other menu          id=10, parentid=0
    -Othermain          id=11, parentid=10
      --submenu         id=12, parentid=11

    etc.

I can pullout data from id=1 to 4 and display by ""...where parentid=1"" etc.
However this pulls out only the top level.

But I want to pullout all the data including submenu as well.

Could anyone tell me how to write a query in MySQL for this please?

Thanks in advance.",mysql,menu,,,,,open,0,271,6,"How to pull grandchildren from database I want to pull out menu items from MySQL.

    Main menu           id=1, parentid=0
    -Contact us         id=2, parentid=1
    -Music              id=3, parentid=1
     --Rock             id=8, parentid=3
     --Classic          id=9, parentid=3
    -Car                id=4, parentid=1
      --Toyota          id=5, parentid=4,
      --Ford            id=6, parentid=4,
      --Honda           id=7, parentid=4
    
    Other menu          id=10, parentid=0
    -Othermain          id=11, parentid=10
      --submenu         id=12, parentid=11

    etc.

I can pullout data from id=1 to 4 and display by ""...where parentid=1"" etc.
However this pulls out only the top level.

But I want to pullout all the data including submenu as well.

Could anyone tell me how to write a query in MySQL for this please?

Thanks in advance.",2
11593822,07/21/2012 16:17:49,1469887,06/20/2012 16:23:39,14,0,Refresh Connection to MySQL DB then go to first record after saving data,"I am using Visual Basic 2010 and MySQL database

I have textboxes on my form and I was able to display the records from my database by MANUALLY adding my MySQL database on the Datasources, dragged the control on my form and the data were displayed on the textboxes. In other words, data on my MySQL DB are BOUND to my textboxes without using any code.

In adding / saving data here is the code that I used (the one that worked for me)

    Private Sub cmd_add_Click(sender As System.Object, e As System.EventArgs) Handles cmd_add.Click

        Dim SQLCommand As New MySqlCommand
        Dim connection As New MySqlConnection(""Server = localhost; User Id = root; Password = password; Database = maindb"")
        If cmd_add.Text = ""ADD"" Then
            cmd_add.Text = ""SAVE""
            EnableControls()
            ClearTextboxes()
            lb_age.Visible = False
        Else
            cmd_add.Text = ""ADD""
            lb_age.Visible = True
            connection.Open()
            SQLCommand.CommandText = ""INSERT INTO maindb.mytable (ACCT_NAME,EMP_NUM) VALUES ('"" & tb_acctname.Text & ""','"" & tb_empnum.Text & ""')""
            SQLCommand.Connection = connection
            SQLCommand.ExecuteNonQuery()
            MsgBox(""Record Succesfully added"")
            connection.Close()
        End If
    End Sub

My issue is after the application is done with saving the data, I would need to reload my form so that I would be able to navigate and see the records from my database. If I won't reload, I will just get stuck on the option to click  ""ADD"" command button to add another record. I cannot navigate or do any other stuff. When I press the navigation buttons like ""FIRST, PREV, NEXT,LAST"" it's not showing any record from my database.

How would I resolve this? If my database is bound to the textboxes on my form, why is it that they are not visible after I save the new record eventhough I am connected and using the same database? I am confused. Please help me.












",mysql,vb.net,,,,,open,0,461,13,"Refresh Connection to MySQL DB then go to first record after saving data I am using Visual Basic 2010 and MySQL database

I have textboxes on my form and I was able to display the records from my database by MANUALLY adding my MySQL database on the Datasources, dragged the control on my form and the data were displayed on the textboxes. In other words, data on my MySQL DB are BOUND to my textboxes without using any code.

In adding / saving data here is the code that I used (the one that worked for me)

    Private Sub cmd_add_Click(sender As System.Object, e As System.EventArgs) Handles cmd_add.Click

        Dim SQLCommand As New MySqlCommand
        Dim connection As New MySqlConnection(""Server = localhost; User Id = root; Password = password; Database = maindb"")
        If cmd_add.Text = ""ADD"" Then
            cmd_add.Text = ""SAVE""
            EnableControls()
            ClearTextboxes()
            lb_age.Visible = False
        Else
            cmd_add.Text = ""ADD""
            lb_age.Visible = True
            connection.Open()
            SQLCommand.CommandText = ""INSERT INTO maindb.mytable (ACCT_NAME,EMP_NUM) VALUES ('"" & tb_acctname.Text & ""','"" & tb_empnum.Text & ""')""
            SQLCommand.Connection = connection
            SQLCommand.ExecuteNonQuery()
            MsgBox(""Record Succesfully added"")
            connection.Close()
        End If
    End Sub

My issue is after the application is done with saving the data, I would need to reload my form so that I would be able to navigate and see the records from my database. If I won't reload, I will just get stuck on the option to click  ""ADD"" command button to add another record. I cannot navigate or do any other stuff. When I press the navigation buttons like ""FIRST, PREV, NEXT,LAST"" it's not showing any record from my database.

How would I resolve this? If my database is bound to the textboxes on my form, why is it that they are not visible after I save the new record eventhough I am connected and using the same database? I am confused. Please help me.












",2
9680955,03/13/2012 09:01:20,1151377,01/16/2012 07:21:59,1,0,Nested MySQL Queries,"I have been trying to write a query for a public transportation system which will output a list of routes when I input the origin and destination stop numbers.

Here is my MySQL Table :

    mysql> desc route_timings;
    +----------------+---------+------+-----+---------+----------------+
    | Field          | Type    | Null | Key | Default | Extra          |
    +----------------+---------+------+-----+---------+----------------+
    | ID             | int(11) | NO   | PRI | NULL    | auto_increment |
    | route_number   | int(11) | NO   |     | NULL    |                |
    | stop_number    | int(11) | NO   |     | NULL    |                |
    | arrival_time   | time    | YES  |     | NULL    |                |
    | departure_time | time    | YES  |     | NULL    |                |
    +----------------+---------+------+-----+---------+----------------+
    5 rows in set (0.00 sec)

Here are sample values :

    mysql> select * from route_timings;
    +----+--------------+-------------+--------------+----------------+
    | ID | route_number | stop_number | arrival_time | departure_time |
    +----+--------------+-------------+--------------+----------------+
    |  1 |           54 |           1 | 10:00:00     | 10:05:00       |
    |  2 |           54 |           2 | 11:00:00     | 11:05:00       |
    |  3 |           54 |           3 | 12:00:00     | 12:05:00       |
    |  4 |           55 |           3 | 13:00:00     | 13:05:00       |
    |  5 |           55 |           4 | 14:00:00     | 14:05:00       |
    |  6 |           55 |           5 | 15:00:00     | 15:05:00       |
    |  7 |           60 |           3 | 10:00:00     | 10:05:00       |
    |  8 |           60 |           2 | 11:00:00     | 11:05:00       |
    |  9 |           60 |           1 | 12:00:00     | 12:05:00       |
    +----+--------------+-------------+--------------+----------------+
    9 rows in set (0.01 sec)

My question is: if I want to list the route_number's that would contain stop_number 1 and stop_number 3, I would write a query similar to this :

    SELECT DISTINCT `route_number` FROM `route_timings` WHERE `route_number` IN (
        SELECT `route_number` FROM `route_timings` WHERE `stop_number`=1
    ) AND `route_number` IN (
        SELECT `route_number` FROM `route_timings` WHERE `stop_number`=3
    );

However, the above query would only return the route_numbers containing the two stops and not the routes where the source stop (1) would arrive before the destination stop(3).

The query would return the following:

    +--------------+
    | route_number |
    +--------------+
    |           54 |
    |           60 |
    +--------------+

The route_number 60 does not start from 1 and go to 3 but instead starts from 3 and goes to 1. Can someone please help me add that bit to the query so that the query outputs only the route_numbers where the arrival_time for the stop_number 1 is less than the arrival_time for the stop_number 3.

Thanks in advance.
-Shain

",mysql,sql,nested-queries,,,,open,0,961,3,"Nested MySQL Queries I have been trying to write a query for a public transportation system which will output a list of routes when I input the origin and destination stop numbers.

Here is my MySQL Table :

    mysql> desc route_timings;
    +----------------+---------+------+-----+---------+----------------+
    | Field          | Type    | Null | Key | Default | Extra          |
    +----------------+---------+------+-----+---------+----------------+
    | ID             | int(11) | NO   | PRI | NULL    | auto_increment |
    | route_number   | int(11) | NO   |     | NULL    |                |
    | stop_number    | int(11) | NO   |     | NULL    |                |
    | arrival_time   | time    | YES  |     | NULL    |                |
    | departure_time | time    | YES  |     | NULL    |                |
    +----------------+---------+------+-----+---------+----------------+
    5 rows in set (0.00 sec)

Here are sample values :

    mysql> select * from route_timings;
    +----+--------------+-------------+--------------+----------------+
    | ID | route_number | stop_number | arrival_time | departure_time |
    +----+--------------+-------------+--------------+----------------+
    |  1 |           54 |           1 | 10:00:00     | 10:05:00       |
    |  2 |           54 |           2 | 11:00:00     | 11:05:00       |
    |  3 |           54 |           3 | 12:00:00     | 12:05:00       |
    |  4 |           55 |           3 | 13:00:00     | 13:05:00       |
    |  5 |           55 |           4 | 14:00:00     | 14:05:00       |
    |  6 |           55 |           5 | 15:00:00     | 15:05:00       |
    |  7 |           60 |           3 | 10:00:00     | 10:05:00       |
    |  8 |           60 |           2 | 11:00:00     | 11:05:00       |
    |  9 |           60 |           1 | 12:00:00     | 12:05:00       |
    +----+--------------+-------------+--------------+----------------+
    9 rows in set (0.01 sec)

My question is: if I want to list the route_number's that would contain stop_number 1 and stop_number 3, I would write a query similar to this :

    SELECT DISTINCT `route_number` FROM `route_timings` WHERE `route_number` IN (
        SELECT `route_number` FROM `route_timings` WHERE `stop_number`=1
    ) AND `route_number` IN (
        SELECT `route_number` FROM `route_timings` WHERE `stop_number`=3
    );

However, the above query would only return the route_numbers containing the two stops and not the routes where the source stop (1) would arrive before the destination stop(3).

The query would return the following:

    +--------------+
    | route_number |
    +--------------+
    |           54 |
    |           60 |
    +--------------+

The route_number 60 does not start from 1 and go to 3 but instead starts from 3 and goes to 1. Can someone please help me add that bit to the query so that the query outputs only the route_numbers where the arrival_time for the stop_number 1 is less than the arrival_time for the stop_number 3.

Thanks in advance.
-Shain

",3
6675822,07/13/2011 08:00:53,782552,06/03/2011 10:46:46,49,0,Select fields from different tables in SQL without a need of matching fields.,"This is just a random question my friend asked me which I also do not know, yet I wanna know :/

Say I want to get this kind of result:

    mytable_id      bar
        1        content2
        3        content1
     

from the tables below:

    mytable
    
    mytable_id            foo
        1              something1
        2              something2
        3              something3


    yourtable
    
    yourtable_id          bar
        2001           content1
        2002           content2
        2005           content3

Many thanks for the help :)
",mysql,sql,,,,11/29/2011 21:27:36,not a real question,1,253,13,"Select fields from different tables in SQL without a need of matching fields. This is just a random question my friend asked me which I also do not know, yet I wanna know :/

Say I want to get this kind of result:

    mytable_id      bar
        1        content2
        3        content1
     

from the tables below:

    mytable
    
    mytable_id            foo
        1              something1
        2              something2
        3              something3


    yourtable
    
    yourtable_id          bar
        2001           content1
        2002           content2
        2005           content3

Many thanks for the help :)
",2
8219428,11/21/2011 22:29:37,740318,05/05/2011 16:10:58,196,7,Bash: how to easily edit one line in a 5.4G SQL dump,"We're running into issues where we need to work on recovering some lost data (yay improper use of maatkit on a master-to-master replication setup), and I'm trying to import an old dump of the database.  The problem is that at the top of the file, it's explicitly specifying the database (mysqldump was run with the --all-databases option), and I need to change that DB to something else so I can get another in there alongside it for comparison.  The line reads:

    CREATE DATABASE /*!32312 IF NOT EXISTS*/ `dms` /*40100 DEFAULT CHARACTER SET latin1 */

I've been unsuccessful at opening the file in vi to edit due to the large size of the dump, and am a little hesitant to use sed because of how it's going to read line-by-line for any pattern matching.  What is the easiest and most efficient way to change the above line in the sql dump to read:

    CREATE DATABASE /*!32312 IF NOT EXISTS*/ `dms_old` /*40100 DEFAULT CHARACTER SET latin1 */

Or simply use some mysql black magic to import it into database `dms_old`?",mysql,,,,,11/22/2011 11:39:10,off topic,1,185,12,"Bash: how to easily edit one line in a 5.4G SQL dump We're running into issues where we need to work on recovering some lost data (yay improper use of maatkit on a master-to-master replication setup), and I'm trying to import an old dump of the database.  The problem is that at the top of the file, it's explicitly specifying the database (mysqldump was run with the --all-databases option), and I need to change that DB to something else so I can get another in there alongside it for comparison.  The line reads:

    CREATE DATABASE /*!32312 IF NOT EXISTS*/ `dms` /*40100 DEFAULT CHARACTER SET latin1 */

I've been unsuccessful at opening the file in vi to edit due to the large size of the dump, and am a little hesitant to use sed because of how it's going to read line-by-line for any pattern matching.  What is the easiest and most efficient way to change the above line in the sql dump to read:

    CREATE DATABASE /*!32312 IF NOT EXISTS*/ `dms_old` /*40100 DEFAULT CHARACTER SET latin1 */

Or simply use some mysql black magic to import it into database `dms_old`?",1
8725440,01/04/2012 10:38:53,1127709,01/03/2012 11:24:22,18,0,Backup MySQL DB with SVN?,"I have a MySQL DB which should be versioned with SVN. I dont want the full DB, only the structure and selected tables. I searched the net and found some information, but nothing seems to really work in a reliable way. Any experience or hints?

Thanks :)",mysql,svn,,,,06/27/2012 13:09:32,off topic,1,46,5,"Backup MySQL DB with SVN? I have a MySQL DB which should be versioned with SVN. I dont want the full DB, only the structure and selected tables. I searched the net and found some information, but nothing seems to really work in a reliable way. Any experience or hints?

Thanks :)",2
9747816,03/17/2012 06:22:48,1107264,12/20/2011 06:48:18,43,1,Case In Sensitivity of My SQL,"Hello every one i am using My SQL 5.0 but when i fire my quires through my web application that is in java they results in case in sensitive. 

      For eg : my quries select * from market where company='""abc""'
        
       and 2nd query select 8 from market where company='""ABC""'

       Both quries give me same results. Where i just want rows with company ""abc"" only and     
        not  ABC.

How i can solve this problem ? Thanks",mysql,query,case-insensitive,,,,open,0,113,6,"Case In Sensitivity of My SQL Hello every one i am using My SQL 5.0 but when i fire my quires through my web application that is in java they results in case in sensitive. 

      For eg : my quries select * from market where company='""abc""'
        
       and 2nd query select 8 from market where company='""ABC""'

       Both quries give me same results. Where i just want rows with company ""abc"" only and     
        not  ABC.

How i can solve this problem ? Thanks",3
10347147,04/27/2012 08:16:51,1111661,12/22/2011 11:52:30,5,0,Duplicate Big database Mysql,"I've a big mysql database (>3gb) in a local server (linux). I need to duplicate table, view and function on my localhost (windows). How I can do this?",mysql,,,,,04/27/2012 09:26:38,off topic,1,28,4,"Duplicate Big database Mysql I've a big mysql database (>3gb) in a local server (linux). I need to duplicate table, view and function on my localhost (windows). How I can do this?",1
2623853,04/12/2010 17:02:43,212443,11/16/2009 22:38:11,890,60,How to SUM() from an offset through the end of the table?,"If `SELECT SUM(amount) FROM transactions ORDER BY order LIMIT 0, 50 ` sums the `amount` field for the first 50 records in a table, how do a sum all records *after* the first 50?  In other words, I'd like to do something like `SELECT SUM(amount) from transactions ORDER BY order LIMIT 50, *`, but that doesn't work.",mysql,sum,limit,query,,,open,0,58,12,"How to SUM() from an offset through the end of the table? If `SELECT SUM(amount) FROM transactions ORDER BY order LIMIT 0, 50 ` sums the `amount` field for the first 50 records in a table, how do a sum all records *after* the first 50?  In other words, I'd like to do something like `SELECT SUM(amount) from transactions ORDER BY order LIMIT 50, *`, but that doesn't work.",4
7001711,08/09/2011 19:21:04,838985,07/11/2011 13:35:11,1,0,Mysql database login,"A DBA in our company left months ago. There is no software documentation related to the DBA's work. All that is known is he probably used a mysql database that still exists on our servers. No one knows the root pwd or database name or even if there is a database to login to. How do I find out if there is a database that needs to be accessed?

Thanks.",mysql,,,,,08/10/2011 02:25:55,off topic,1,69,3,"Mysql database login A DBA in our company left months ago. There is no software documentation related to the DBA's work. All that is known is he probably used a mysql database that still exists on our servers. No one knows the root pwd or database name or even if there is a database to login to. How do I find out if there is a database that needs to be accessed?

Thanks.",1
3734161,09/17/2010 09:36:16,450442,09/17/2010 09:30:22,1,0,MySQL SELECT WHERE 'a' IN (`field`),"I know it is not an appropriate technique to have a structure of MySQL table as such, but I have to work with such. The problem is, that the field in table has value with comma seperated integers, like ""1,3,5,7,10"" and I want the query to return rows, in which `field` has a to the query passed number in it, like:

SELECT * FROM `table` WHERE '5' IN (`field_in_table`)

However, it does not work, if, in this case, '5' is not the first number in the field.
Any advises, how to solve that?

Thanks in advance,
Regards,
Jonas",mysql,select,where,,,,open,0,92,6,"MySQL SELECT WHERE 'a' IN (`field`) I know it is not an appropriate technique to have a structure of MySQL table as such, but I have to work with such. The problem is, that the field in table has value with comma seperated integers, like ""1,3,5,7,10"" and I want the query to return rows, in which `field` has a to the query passed number in it, like:

SELECT * FROM `table` WHERE '5' IN (`field_in_table`)

However, it does not work, if, in this case, '5' is not the first number in the field.
Any advises, how to solve that?

Thanks in advance,
Regards,
Jonas",3
7584506,09/28/2011 14:03:01,237681,12/23/2009 15:31:25,2135,26,Ubuntu 11.04 #2002 Cannot log in to the MySQL server,"I try to write my details in PhpMyAdmin and it gives me an error:

*#2002 Cannot log in to the MySQL server*

I tried to change passwords in phpmyadmin/config-db.php, still get the same error. I have already spent 2 hours searching for an answer, nothing helped... Any ideas? I use Ubuntu 11.04",mysql,ubuntu,,,,09/28/2011 17:17:29,off topic,1,50,10,"Ubuntu 11.04 #2002 Cannot log in to the MySQL server I try to write my details in PhpMyAdmin and it gives me an error:

*#2002 Cannot log in to the MySQL server*

I tried to change passwords in phpmyadmin/config-db.php, still get the same error. I have already spent 2 hours searching for an answer, nothing helped... Any ideas? I use Ubuntu 11.04",2
9054644,01/29/2012 16:19:01,1161054,01/20/2012 16:53:28,16,0,mysql 'as' using table name,"i want to use string as table name in mysql like below

    select ('user' as b) from b;

does anyone want to help me in this case?
------------------------------------------------------

    mysql> select 'user' as b from b;
    ERROR 1146 (42S02): Table 'test.b' doesn't exist
    mysql> select ('user' as b) from b;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that
    corresponds to your MySQL server version for the right syntax to use near 'as b)
     from b' at line 1
    mysql> select ('user' as b) from b;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that
    corresponds to your MySQL server version for the right syntax to use near 'as b)
     from b' at line 1
    mysql>",mysql,sql,table,sql-injection,,01/30/2012 17:55:15,not a real question,1,163,5,"mysql 'as' using table name i want to use string as table name in mysql like below

    select ('user' as b) from b;

does anyone want to help me in this case?
------------------------------------------------------

    mysql> select 'user' as b from b;
    ERROR 1146 (42S02): Table 'test.b' doesn't exist
    mysql> select ('user' as b) from b;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that
    corresponds to your MySQL server version for the right syntax to use near 'as b)
     from b' at line 1
    mysql> select ('user' as b) from b;
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that
    corresponds to your MySQL server version for the right syntax to use near 'as b)
     from b' at line 1
    mysql>",4
4537020,12/27/2010 06:39:14,554722,12/27/2010 06:39:14,1,0,php and mysql database,<?i  will try to insert a video files in mysql databases.but it will not support video files to insert my databases.it can display server has gone away error message any one of them can help me ,mysql,,,,,12/28/2010 04:02:42,not a real question,1,38,4,php and mysql database <?i  will try to insert a video files in mysql databases.but it will not support video files to insert my databases.it can display server has gone away error message any one of them can help me ,1
11622865,07/24/2012 01:25:34,1547255,07/24/2012 01:01:34,1,0,sql2008 queries,"convert this tables rows into columns

											
Table											
SN	 SD	charge	TD								
123456	ISD	$2.00 	N								
123456	ISD	$4.00 	N								
123456	ISD	$1.00 	L								
123456	ISD	$1.50 	O								
123456	ISD	$2.00 	M								
123456	ISD	$5.00 	I								
123456	ISD	$1.00 	L								
123456	ISD	$3.00 	L								
123456	ISD	$1.00 	L								
123456	ISD	$1.00 	M								
123456	ISD	$6.00 	O								
											
OUTPUT											
											
SN	SD	N	Charge	L	Charge	M	Charge	I 	Charge	O	Charge
123456	ISD	2	$6.00 	4	$6.00 	2	$3.00 	1	$5.00 	2	$7.50 
	
I need a query ASAP Please.

										
											",mysql,,,,,07/24/2012 12:44:49,too localized,1,29,2,"sql2008 queries convert this tables rows into columns

											
Table											
SN	 SD	charge	TD								
123456	ISD	$2.00 	N								
123456	ISD	$4.00 	N								
123456	ISD	$1.00 	L								
123456	ISD	$1.50 	O								
123456	ISD	$2.00 	M								
123456	ISD	$5.00 	I								
123456	ISD	$1.00 	L								
123456	ISD	$3.00 	L								
123456	ISD	$1.00 	L								
123456	ISD	$1.00 	M								
123456	ISD	$6.00 	O								
											
OUTPUT											
											
SN	SD	N	Charge	L	Charge	M	Charge	I 	Charge	O	Charge
123456	ISD	2	$6.00 	4	$6.00 	2	$3.00 	1	$5.00 	2	$7.50 
	
I need a query ASAP Please.

										
											",1
3840462,10/01/2010 15:08:07,454820,09/22/2010 08:45:15,79,4,Distinct in the cursor does not work...?,"Prompt, something I can not understand, distinct in the cursor does not work or what?
have a cursor with a distinct, which I get around in a loop .. If the request from the cursor to perform separately, then returns 1 record, if distinct clean, there will be 2 entries. A loop through the cursor with distinct runs 2 times.

    DECLARE cur CURSOR FOR
       SELECT DISTINCT t.DATPR, A.ACCOUNT_NO
       FROM postgkh.tt_krd t
       INNER JOIN postgkh.account A ON t.LS = A.ACCOUNT_NO
       INNER JOIN postgkh.resid RID USING(ACCOUNT_ID)
       INNER JOIN postgkh.reseller R USING(RESELLER_ID)
       WHERE r.RESELLER_ID = RID
       ORDER BY A.ACCOUNT_ID;
    DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;
      OPEN cur;
      REPEAT
     FETCH cur INTO PR_DATE,ACCID, ACCNO;
     SET LIM_FP = postgkh.GET_ACCOUNT_FP(ACCID) - INTERVAL 1 DAY;
     IF(LIM_FP>PR_DATE) THEN
      IF(TMP IS NULL OR TMP<>ACCNO) THEN
       SET TMP = ACCNO;
       SET ERR = CONCAT(ERR,', ',ACCNO);
      END IF;
     END IF;
      UNTIL done END REPEAT;
      CLOSE cur;",mysql,,,,,,open,0,254,7,"Distinct in the cursor does not work...? Prompt, something I can not understand, distinct in the cursor does not work or what?
have a cursor with a distinct, which I get around in a loop .. If the request from the cursor to perform separately, then returns 1 record, if distinct clean, there will be 2 entries. A loop through the cursor with distinct runs 2 times.

    DECLARE cur CURSOR FOR
       SELECT DISTINCT t.DATPR, A.ACCOUNT_NO
       FROM postgkh.tt_krd t
       INNER JOIN postgkh.account A ON t.LS = A.ACCOUNT_NO
       INNER JOIN postgkh.resid RID USING(ACCOUNT_ID)
       INNER JOIN postgkh.reseller R USING(RESELLER_ID)
       WHERE r.RESELLER_ID = RID
       ORDER BY A.ACCOUNT_ID;
    DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;
      OPEN cur;
      REPEAT
     FETCH cur INTO PR_DATE,ACCID, ACCNO;
     SET LIM_FP = postgkh.GET_ACCOUNT_FP(ACCID) - INTERVAL 1 DAY;
     IF(LIM_FP>PR_DATE) THEN
      IF(TMP IS NULL OR TMP<>ACCNO) THEN
       SET TMP = ACCNO;
       SET ERR = CONCAT(ERR,', ',ACCNO);
      END IF;
     END IF;
      UNTIL done END REPEAT;
      CLOSE cur;",1
10240402,04/20/2012 04:45:20,815003,06/25/2011 04:22:06,38,1,Query run and data not inserted in Database,I am running mysql 5.0 on my centos server and facing some problem in insertion data in database my query is 100% ok when i am inserting it from sqlyog it insert data but my script doesn't do like that i am using ADO DB in my PHP Script. please Help me. ,mysql,database,query,ado,,04/20/2012 09:11:33,not a real question,1,53,8,Query run and data not inserted in Database I am running mysql 5.0 on my centos server and facing some problem in insertion data in database my query is 100% ok when i am inserting it from sqlyog it insert data but my script doesn't do like that i am using ADO DB in my PHP Script. please Help me. ,4
3623008,09/02/2010 00:17:56,437461,09/02/2010 00:17:56,1,0,phpadmin mysql change 0 to 1 in a column,"Great site, tons of help to me so far.

I have a database with 10,000+ rows.

There is a column ( tinyint(4) ) called ahtml.

I need to change ~500 of the rows for that column from 0 to 1.

I know there is a query I can run in phpadmin to do that instead of editing each row.

I need to change ALL of the 0's to 1's in the ahtml column.

Guidance please?

Thanks in advance...


",mysql,query,,,,,open,0,71,9,"phpadmin mysql change 0 to 1 in a column Great site, tons of help to me so far.

I have a database with 10,000+ rows.

There is a column ( tinyint(4) ) called ahtml.

I need to change ~500 of the rows for that column from 0 to 1.

I know there is a query I can run in phpadmin to do that instead of editing each row.

I need to change ALL of the 0's to 1's in the ahtml column.

Guidance please?

Thanks in advance...


",2
8072473,11/09/2011 22:11:20,895174,08/15/2011 15:24:25,471,9,Mysql db Collation's CHAR SET,"for having a complete utf-8; application environment does i need to set to utf8_general_ci also the Collation's char set?

for now i just set php utf-8 envoirment and db tables encoding type to utf-8 ... don't know if i need also to modify the collation char set and which will be the effect over the application in modifying them.",mysql,utf-8,collation,environment,,,open,0,58,5,"Mysql db Collation's CHAR SET for having a complete utf-8; application environment does i need to set to utf8_general_ci also the Collation's char set?

for now i just set php utf-8 envoirment and db tables encoding type to utf-8 ... don't know if i need also to modify the collation char set and which will be the effect over the application in modifying them.",4
8518926,12/15/2011 10:54:43,971292,09/29/2011 14:02:34,27,0,mysql select rows based on more than one criteria and linked to another column,"I'm having some trouble working this one out... any suggestions would be very welcome. 

I have a table such as the following:

    collection_id    book_id    author
    ===================================  
        1             027       derek
        2             090       bob
        2             102       andy 
        2             102       bob

Now I want to retrieve the book_id for a book that I know belongs in collection 2 and is authored by andy AND bob (i.e. 102). 

A query that includes a WHERE clause for andy AND bob returns nothing because obviously there is only one author per row. A query that includes a WHERE clause for andy OR bob returns the book_id for 090 and 102 because bob is the author of book 090 too. 

How would you go about obtaining the right book_id for the book authored by andy AND bob?!

Many thanks for your thoughts!",mysql,select,where-clause,multiple,,,open,0,248,14,"mysql select rows based on more than one criteria and linked to another column I'm having some trouble working this one out... any suggestions would be very welcome. 

I have a table such as the following:

    collection_id    book_id    author
    ===================================  
        1             027       derek
        2             090       bob
        2             102       andy 
        2             102       bob

Now I want to retrieve the book_id for a book that I know belongs in collection 2 and is authored by andy AND bob (i.e. 102). 

A query that includes a WHERE clause for andy AND bob returns nothing because obviously there is only one author per row. A query that includes a WHERE clause for andy OR bob returns the book_id for 090 and 102 because bob is the author of book 090 too. 

How would you go about obtaining the right book_id for the book authored by andy AND bob?!

Many thanks for your thoughts!",4
10547738,05/11/2012 08:08:57,1206600,02/13/2012 10:45:08,6,0,Translate city names and country,"I Have mysql db with country e cities of the world; it are in english but my site is multilanguage (italian, french, russian ecc) - how can I do to translate the various locality?",mysql,database,,,,05/11/2012 15:52:36,not a real question,1,34,5,"Translate city names and country I Have mysql db with country e cities of the world; it are in english but my site is multilanguage (italian, french, russian ecc) - how can I do to translate the various locality?",2
5440070,03/26/2011 02:52:25,225262,12/05/2009 04:24:44,1929,72,What are some good examples of applying VIEW in MySQL?,"I have read about the `CREATE VIEW` syntax of `MySQL`, but never used it in practice.

Please show me some examples of its applications.",mysql,sql,mysql-view,,,03/26/2011 04:04:48,not a real question,1,23,10,"What are some good examples of applying VIEW in MySQL? I have read about the `CREATE VIEW` syntax of `MySQL`, but never used it in practice.

Please show me some examples of its applications.",3
8718647,01/03/2012 21:10:10,1009399,10/23/2011 10:03:38,2,0,How different posts can be appeared?,"i have this page: http://justitext.com/test

Check the first posts and click at them.Every text-link forwards to another page in which you will see a post.What i want is to make every different post to be appeared each time on every link.If you see in each link,the same post is appeared as i cannot adjust a different offset each time.More specifically,i have set on my code an include file and through this i generate the same page but unfortunately with the same most recent post.How can i fix this?

",mysql,text,offset,posts,,01/03/2012 21:35:50,not a real question,1,87,6,"How different posts can be appeared? i have this page: http://justitext.com/test

Check the first posts and click at them.Every text-link forwards to another page in which you will see a post.What i want is to make every different post to be appeared each time on every link.If you see in each link,the same post is appeared as i cannot adjust a different offset each time.More specifically,i have set on my code an include file and through this i generate the same page but unfortunately with the same most recent post.How can i fix this?

",4
8031720,11/07/2011 01:01:35,985501,10/08/2011 15:46:06,3,1,MySQL RELOAD and RESET QUERY CACHE,"I'm using phpmyadmin and working on someone site whose information is pulled from a database with a table called ""profile_types"" I had to add a row for a new type but the website isn't reflecting the changes. I've been reading around and ""have query cache"" is set to yes so figured I should clear the cache and see if that helps any. 

So after reading I was trying to use RESET QUERY CACHEl but kept getting an error about using RELOAD> So after some more reading I can't figure out how to use the RELOAD command. As far as I know this is the databases only user account so I'd figured it was admin and had the necessary privs. Am I missing something? Also, do you guys thinks doing the RESET QUERY CACHE would maybe allow it to update the site with the new record? I've cleared my browsers cache and tried all that and no go so figured this was my last option.",mysql,query,caching,phpmyadmin,reload,,open,0,164,6,"MySQL RELOAD and RESET QUERY CACHE I'm using phpmyadmin and working on someone site whose information is pulled from a database with a table called ""profile_types"" I had to add a row for a new type but the website isn't reflecting the changes. I've been reading around and ""have query cache"" is set to yes so figured I should clear the cache and see if that helps any. 

So after reading I was trying to use RESET QUERY CACHEl but kept getting an error about using RELOAD> So after some more reading I can't figure out how to use the RELOAD command. As far as I know this is the databases only user account so I'd figured it was admin and had the necessary privs. Am I missing something? Also, do you guys thinks doing the RESET QUERY CACHE would maybe allow it to update the site with the new record? I've cleared my browsers cache and tried all that and no go so figured this was my last option.",5
9101436,02/01/2012 18:47:50,765103,05/22/2011 19:26:20,31,2,let's optimize a query =],"Hope you guys can help me optimize this query. I've got 2 tables: users and user_friends which is a 1:1 reflective join on the users table. (i.e. user_friends records are like [user_id, friend_id], [friend_id, user_id]).

Let's say I have a user called ""self"". What I'm trying to do is find all users who have a mutual friend in common with ""self"" and who meet some other simple criteria in the users table. This is the best I came up with so far, which runs in about 18 seconds. Can anyone do better?

    SELECT 
      DISTINCT(friend_id) 
    FROM 
      user_friends, users 
    WHERE 
      users.id != #{self.id}
    AND (
      signed_up IS NOT NULL 
      OR 
      user_id IN (
        SELECT 
          friend_id 
        FROM 
          user_friends 
        WHERE 
          user_id = #{self.id}
      )
    ) 
    AND 
      users.id = friend_id
    AND 
      relationship_status = 'Single'
    AND 
      current_location_id IS NOT NULL
    ;

Also, here is the EXPLAIN for the above query. Maybe the ""temporary"" table is causing the problem?

    *************************** 1. row ***************************
               id: 1
      select_type: PRIMARY
            table: user_friends
             type: index
    possible_keys: NULL
              key: PRIMARY
          key_len: 16
              ref: NULL
             rows: 1316316
            Extra: Using where; Using index; Using temporary
    *************************** 2. row ***************************
               id: 1
      select_type: PRIMARY
            table: users
             type: eq_ref
    possible_keys: PRIMARY,fk_users_current_location_id
              key: PRIMARY
          key_len: 8
              ref: yoke_int.user_friends.friend_id
             rows: 1
            Extra: Using where; Distinct
    *************************** 3. row ***************************
               id: 2
      select_type: DEPENDENT SUBQUERY
            table: user_friends
             type: eq_ref
    possible_keys: PRIMARY
              key: PRIMARY
          key_len: 16
              ref: const,func
             rows: 1
            Extra: Using index
",mysql,sql,query,,,02/01/2012 18:54:58,too localized,1,690,5,"let's optimize a query =] Hope you guys can help me optimize this query. I've got 2 tables: users and user_friends which is a 1:1 reflective join on the users table. (i.e. user_friends records are like [user_id, friend_id], [friend_id, user_id]).

Let's say I have a user called ""self"". What I'm trying to do is find all users who have a mutual friend in common with ""self"" and who meet some other simple criteria in the users table. This is the best I came up with so far, which runs in about 18 seconds. Can anyone do better?

    SELECT 
      DISTINCT(friend_id) 
    FROM 
      user_friends, users 
    WHERE 
      users.id != #{self.id}
    AND (
      signed_up IS NOT NULL 
      OR 
      user_id IN (
        SELECT 
          friend_id 
        FROM 
          user_friends 
        WHERE 
          user_id = #{self.id}
      )
    ) 
    AND 
      users.id = friend_id
    AND 
      relationship_status = 'Single'
    AND 
      current_location_id IS NOT NULL
    ;

Also, here is the EXPLAIN for the above query. Maybe the ""temporary"" table is causing the problem?

    *************************** 1. row ***************************
               id: 1
      select_type: PRIMARY
            table: user_friends
             type: index
    possible_keys: NULL
              key: PRIMARY
          key_len: 16
              ref: NULL
             rows: 1316316
            Extra: Using where; Using index; Using temporary
    *************************** 2. row ***************************
               id: 1
      select_type: PRIMARY
            table: users
             type: eq_ref
    possible_keys: PRIMARY,fk_users_current_location_id
              key: PRIMARY
          key_len: 8
              ref: yoke_int.user_friends.friend_id
             rows: 1
            Extra: Using where; Distinct
    *************************** 3. row ***************************
               id: 2
      select_type: DEPENDENT SUBQUERY
            table: user_friends
             type: eq_ref
    possible_keys: PRIMARY
              key: PRIMARY
          key_len: 16
              ref: const,func
             rows: 1
            Extra: Using index
",3
7824516,10/19/2011 16:16:48,804128,06/18/2011 00:46:58,128,1,"Product key authentication over mysql, is it safe?","I am linking a user's computer' unqiue ID to their purchased product key to make sure they can only run their purchased app on 1 computer at a time, and can't share it with anyone else. Currently, I am just retrieving the id and key from a mysql database and see if they match, but is this safe enough?

I would imagine that if someone were to mimic the mysql database, and alter their windows host file to redirect my servers IP to their own localhost, they could make their own keys and prevent the application from ever even connecting to my server in the first place.

I have no idea how hard / easy it is to do the above (like figuring out what the mysql structure is like), but I'm hoping someone here does and possibly provide a better alternative.",mysql,vb.net,,,,,open,0,140,8,"Product key authentication over mysql, is it safe? I am linking a user's computer' unqiue ID to their purchased product key to make sure they can only run their purchased app on 1 computer at a time, and can't share it with anyone else. Currently, I am just retrieving the id and key from a mysql database and see if they match, but is this safe enough?

I would imagine that if someone were to mimic the mysql database, and alter their windows host file to redirect my servers IP to their own localhost, they could make their own keys and prevent the application from ever even connecting to my server in the first place.

I have no idea how hard / easy it is to do the above (like figuring out what the mysql structure is like), but I'm hoping someone here does and possibly provide a better alternative.",2
10978954,06/11/2012 11:10:08,1282551,03/21/2012 05:17:05,1,0,How to know very first value inserted in table in mysql,"Ok, i have a table having multiple values. Now i want to know which tuple is the oldest one (the very first one among all inserted in the table). Is there any way to know it?",mysql,,,,,06/12/2012 15:29:23,not a real question,1,36,11,"How to know very first value inserted in table in mysql Ok, i have a table having multiple values. Now i want to know which tuple is the oldest one (the very first one among all inserted in the table). Is there any way to know it?",1
2419888,03/10/2010 19:28:04,146588,07/28/2009 18:09:28,313,1,How would you go about improving MySQL throughput in this simple scenario?,"I have a relatively simple object model:

    ParentObject
        Collection<ChildObject1>
        ChildObject2

The MySQL operation when saving this object model does the following:

 - Update the `ParentObject`
 - Delete all previous items from the `ChildObject1` table (about 10 rows)
 - Insert all new `ChildObject1` (again, about 10 rows)
 - Insert `ChildObject2`

The objects / tables are unremarkable - no `strings`, rather mainly `ints` and `longs`. 

MySQL is currently saving about 20-30 instances of the object model per second. When this goes into prodcution it's going to be doing upwards of a million saves, which at current speeds is going to take 10+ hours, which is no good to me...

How would you suggest I increase the throughput?",mysql,optimization,,,,,open,0,129,12,"How would you go about improving MySQL throughput in this simple scenario? I have a relatively simple object model:

    ParentObject
        Collection<ChildObject1>
        ChildObject2

The MySQL operation when saving this object model does the following:

 - Update the `ParentObject`
 - Delete all previous items from the `ChildObject1` table (about 10 rows)
 - Insert all new `ChildObject1` (again, about 10 rows)
 - Insert `ChildObject2`

The objects / tables are unremarkable - no `strings`, rather mainly `ints` and `longs`. 

MySQL is currently saving about 20-30 instances of the object model per second. When this goes into prodcution it's going to be doing upwards of a million saves, which at current speeds is going to take 10+ hours, which is no good to me...

How would you suggest I increase the throughput?",2
6626980,07/08/2011 15:48:06,562542,05/19/2010 05:46:56,7,6,SQL Date between and another condition statement not working.,"Here is two SQL Query when executing this SQL its work fine.

    select * from xyz where file_play_start_date between '2011-07-01 06:15:00' and '2011-07-08 06:30:00'

but when adding another condition then its not working.
e.i:returning no result tho there is result to show in this condition.


    select * from xyz where calender_id=3 and file_play_start_date between '2011-07-01 06:15:00' and '2011-07-08 06:30:00'

Can any one tell me why its happening?",mysql,sql,,,,,open,0,70,9,"SQL Date between and another condition statement not working. Here is two SQL Query when executing this SQL its work fine.

    select * from xyz where file_play_start_date between '2011-07-01 06:15:00' and '2011-07-08 06:30:00'

but when adding another condition then its not working.
e.i:returning no result tho there is result to show in this condition.


    select * from xyz where calender_id=3 and file_play_start_date between '2011-07-01 06:15:00' and '2011-07-08 06:30:00'

Can any one tell me why its happening?",2
8904878,01/18/2012 03:40:22,436429,08/31/2010 22:19:25,52,0,rails3 - Multiple columns from multiple tables are not returned with joins,"I have this query which when run in mysql cli gives the proper result but not when executed by rails

Query:

    SELECT t1.id, t1.event_id, t2.content, t2.created_at, t3.title FROM t1 
    INNER JOIN t2 ON t2.id = t1.event_id 
    INNER JOIN t3 ON t3.id = t2.id 
    WHERE (t1.id in (SELECT id FROM t4 WHERE attr = 20)) 
    ORDER BY t2.created_at DESC 
    LIMIT 15

I used

    t1.find_by_sql ""<above_sql_query>""

but it only returns those columns that concern t1. The result is an array:

    [#<t1 id: 3, event_id: 3>] 

I also tried with 

    t1.find(:all, :select => ""<select attributes as above>"", :joins => ""as above"", :conditions => ""as above"", :limit => 15, :order => ""t1.created_at DESC"")

but still gives the same result, only returns attributes concerning t1. Please help me in finding the best way to execute that command.

Thanks, pR
",mysql,activerecord,join,ruby-on-rails-3.1,,,open,0,162,12,"rails3 - Multiple columns from multiple tables are not returned with joins I have this query which when run in mysql cli gives the proper result but not when executed by rails

Query:

    SELECT t1.id, t1.event_id, t2.content, t2.created_at, t3.title FROM t1 
    INNER JOIN t2 ON t2.id = t1.event_id 
    INNER JOIN t3 ON t3.id = t2.id 
    WHERE (t1.id in (SELECT id FROM t4 WHERE attr = 20)) 
    ORDER BY t2.created_at DESC 
    LIMIT 15

I used

    t1.find_by_sql ""<above_sql_query>""

but it only returns those columns that concern t1. The result is an array:

    [#<t1 id: 3, event_id: 3>] 

I also tried with 

    t1.find(:all, :select => ""<select attributes as above>"", :joins => ""as above"", :conditions => ""as above"", :limit => 15, :order => ""t1.created_at DESC"")

but still gives the same result, only returns attributes concerning t1. Please help me in finding the best way to execute that command.

Thanks, pR
",4
10291109,04/24/2012 02:45:58,663797,03/17/2011 06:28:20,1,0,the reason of update via innodb primary key deadlock?,"<pre>
120423 23:02:38
*** (1) TRANSACTION:
TRANSACTION 0 186238179, ACTIVE 3 sec, OS thread id 16764 starting index read
mysql tables in use 1, locked 1
LOCK WAIT 5 lock struct(s), heap size 1024, 10 row lock(s), undo log entries 9
MySQL thread id 163286, query id 7479890 192.168.72.162 root Updating
UPDATE `game`.`role` SET map_uid = 1, position_x = -94723, position_y = -191372, position_z = -9133, instance_uid = 2, world_x = 126207, world_y = 231225, world_z = 98886, rotator_angle_yaw = 0, rotator_angle_pitch = 0, rotator_angle_roll = 0, anger = 10000, hp = 363.464325, mp = 417.503601, exp = 617706, liftduration = 10000, liftdurationmax = 10000, yimeng_id = 458  where id = 200003159
*** (1) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 0 page no 32086 n bits 128 index `PRIMARY` of table `game`.`role` trx id 0 186238179 lock_mode X locks rec but not gap waiting
Record lock, heap no 46 PHYSICAL RECORD: n_fields 68; compact format; info bits 0
 0: len 4; hex 0bebce57; asc    W;; 1: len 6; hex 00000b19c457; asc      W;; 2: len 7; hex 0000010b4c04b8; asc     L  ;; 3: len 4; hex 80001bc9; asc     ;; 4: len 8; hex 7573657237313133; asc user7113;; 5: len 13; hex 7573657237313133726f626f74; asc user7113robot;; 6: len 1; hex 00; asc  ;; 7: len 1; hex 01; asc  ;; 8: len 1; hex 04; asc  ;; 9: len 1; hex 01; asc  ;; 10: len 4; hex 00422247; asc  B""G;; 11: len 1; hex 13; asc  ;; 12: len 4; hex 00004efc; asc   N ;; 13: len 1; hex 01; asc  ;; 14: len 4; hex 6fbbb543; asc o  C;; 15: len 4; hex 76c0d043; asc v  C;; 16: len 4; hex 00401c46; asc  @ F;; 17: len 4; hex 00000001; asc     ;; 18: len 4; hex 7ffe8ddb; asc     ;; 19: len 4; hex 7ffd145b; asc    [;; 20: len 4; hex 7fffdc53; asc    S;; 21: len 4; hex 00000002; asc     ;; 22: len 4; hex 8001ecff; asc     ;; 23: len 4; hex 80038739; asc    9;; 24: len 4; hex 80018246; asc    F;; 25: len 4; hex 80000000; asc     ;; 26: len 4; hex 80000000; asc     ;; 27: len 1; hex 00; asc  ;; 28: len 1; hex 00; asc  ;; 29: len 4; hex 00000000; asc     ;; 30: len 4; hex 80000000; asc     ;; 31: len 4; hex 80000000; asc     ;; 32: len 4; hex 80000000; asc     ;; 33: len 4; hex 912f43fa; asc  /C ;; 34: len 4; hex 912f43fe; asc  /C ;; 35: len 4; hex 80000364; asc    d;; 36: len 4; hex 202cf048; asc  , H;; 37: len 4; hex 00000000; asc     ;; 38: len 4; hex 0548d85e; asc  H ^;; 39: len 4; hex 0548d863; asc  H c;; 40: len 1; hex 01; asc  ;; 41: len 1; hex 03; asc  ;; 42: len 4; hex 00000000; asc     ;; 43: len 4; hex 00000000; asc     ;; 44: len 2; hex 0064; asc  d;; 45: len 4; hex 912f2bb7; asc  /+ ;; 46: len 4; hex 00000000; asc     ;; 47: len 1; hex 00; asc  ;; 48: len 4; hex 000001ca; asc     ;; 49: len 4; hex 00000000; asc     ;; 50: len 1; hex 00; asc  ;; 51: len 8; hex 8000124ca6ada342; asc    L   B;; 52: len 8; hex 8000000000000000; asc         ;; 53: len 4; hex 00000000; asc     ;; 54: len 4; hex 00000000; asc     ;; 55: len 4; hex 00000000; asc     ;; 56: len 1; hex 00; asc  ;; 57: len 1; hex 00; asc  ;; 58: len 4; hex 4f956f0b; asc O o ;; 59: len 1; hex 80; asc  ;; 60: len 1; hex 00; asc  ;; 61: len 4; hex 80000000; asc     ;; 62: len 4; hex 00000000; asc     ;; 63: len 4; hex 00000000; asc     ;; 64: len 4; hex 00000000; asc     ;; 65: len 8; hex 0000000000000000; asc         ;; 66: len 4; hex 00401c46; asc  @ F;; 67: len 4; hex 00401c46; asc  @ F;;

*** (2) TRANSACTION:
TRANSACTION 0 186238039, ACTIVE 4 sec, OS thread id 13608 starting index read, thread declared inside InnoDB 500
mysql tables in use 1, locked 1
17 lock struct(s), heap size 2496, 27 row lock(s), undo log entries 48
MySQL thread id 163276, query id 7480277 192.168.72.162 root Updating
UPDATE `game`.`role` SET map_uid = 1, position_x = 78798, position_y = 99451, position_z = -25429, instance_uid = 6, world_x = 106943, world_y = -19477, world_z = -1029, rotator_angle_yaw = 2072576, rotator_angle_pitch = 0, rotator_angle_roll = 0, anger = 10000, hp = 266, mp = 417.503601, exp = 617706, liftduration = 10000, liftdurationmax = 10000, yimeng_id = 458  where id = 200003067
*** (2) HOLDS THE LOCK(S):
RECORD LOCKS space id 0 page no 32086 n bits 128 index `PRIMARY` of table `game`.`role` trx id 0 186238039 lock_mode X locks rec but not gap
Record lock, heap no 46 PHYSICAL RECORD: n_fields 68; compact format; info bits 0
 0: len 4; hex 0bebce57; asc    W;; 1: len 6; hex 00000b19c457; asc      W;; 2: len 7; hex 0000010b4c04b8; asc     L  ;; 3: len 4; hex 80001bc9; asc     ;; 4: len 8; hex 7573657237313133; asc user7113;; 5: len 13; hex 7573657237313133726f626f74; asc user7113robot;; 6: len 1; hex 00; asc  ;; 7: len 1; hex 01; asc  ;; 8: len 1; hex 04; asc  ;; 9: len 1; hex 01; asc  ;; 10: len 4; hex 00422247; asc  B""G;; 11: len 1; hex 13; asc  ;; 12: len 4; hex 00004efc; asc   N ;; 13: len 1; hex 01; asc  ;; 14: len 4; hex 6fbbb543; asc o  C;; 15: len 4; hex 76c0d043; asc v  C;; 16: len 4; hex 00401c46; asc  @ F;; 17: len 4; hex 00000001; asc     ;; 18: len 4; hex 7ffe8ddb; asc     ;; 19: len 4; hex 7ffd145b; asc    [;; 20: len 4; hex 7fffdc53; asc    S;; 21: len 4; hex 00000002; asc     ;; 22: len 4; hex 8001ecff; asc     ;; 23: len 4; hex 80038739; asc    9;; 24: len 4; hex 80018246; asc    F;; 25: len 4; hex 80000000; asc     ;; 26: len 4; hex 80000000; asc     ;; 27: len 1; hex 00; asc  ;; 28: len 1; hex 00; asc  ;; 29: len 4; hex 00000000; asc     ;; 30: len 4; hex 80000000; asc     ;; 31: len 4; hex 80000000; asc     ;; 32: len 4; hex 80000000; asc     ;; 33: len 4; hex 912f43fa; asc  /C ;; 34: len 4; hex 912f43fe; asc  /C ;; 35: len 4; hex 80000364; asc    d;; 36: len 4; hex 202cf048; asc  , H;; 37: len 4; hex 00000000; asc     ;; 38: len 4; hex 0548d85e; asc  H ^;; 39: len 4; hex 0548d863; asc  H c;; 40: len 1; hex 01; asc  ;; 41: len 1; hex 03; asc  ;; 42: len 4; hex 00000000; asc     ;; 43: len 4; hex 00000000; asc     ;; 44: len 2; hex 0064; asc  d;; 45: len 4; hex 912f2bb7; asc  /+ ;; 46: len 4; hex 00000000; asc     ;; 47: len 1; hex 00; asc  ;; 48: len 4; hex 000001ca; asc     ;; 49: len 4; hex 00000000; asc     ;; 50: len 1; hex 00; asc  ;; 51: len 8; hex 8000124ca6ada342; asc    L   B;; 52: len 8; hex 8000000000000000; asc         ;; 53: len 4; hex 00000000; asc     ;; 54: len 4; hex 00000000; asc     ;; 55: len 4; hex 00000000; asc     ;; 56: len 1; hex 00; asc  ;; 57: len 1; hex 00; asc  ;; 58: len 4; hex 4f956f0b; asc O o ;; 59: len 1; hex 80; asc  ;; 60: len 1; hex 00; asc  ;; 61: len 4; hex 80000000; asc     ;; 62: len 4; hex 00000000; asc     ;; 63: len 4; hex 00000000; asc     ;; 64: len 4; hex 00000000; asc     ;; 65: len 8; hex 0000000000000000; asc         ;; 66: len 4; hex 00401c46; asc  @ F;; 67: len 4; hex 00401c46; asc  @ F;;

*** (2) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 0 page no 32085 n bits 128 index `PRIMARY` of table `game`.`role` trx id 0 186238039 lock_mode X locks rec but not gap waiting
Record lock, heap no 12 PHYSICAL RECORD: n_fields 68; compact format; info bits 0
 0: len 4; hex 0bebcdfb; asc     ;; 1: len 6; hex 00000b19c4fc; asc       ;; 2: len 7; hex 000001401820b3; asc    @   ;; 3: len 4; hex 80001b6c; asc    l;; 4: len 8; hex 7573657237303230; asc user7020;; 5: len 13; hex 7573657237303230726f626f74; asc user7020robot;; 6: len 1; hex 00; asc  ;; 7: len 1; hex 01; asc  ;; 8: len 1; hex 04; asc  ;; 9: len 1; hex 01; asc  ;; 10: len 4; hex a0ce1649; asc    I;; 11: len 1; hex 1e; asc  ;; 12: len 4; hex 00013e75; asc   >u;; 13: len 1; hex 01; asc  ;; 14: len 4; hex 00808243; asc    C;; 15: len 4; hex 76c0d043; asc v  C;; 16: len 4; hex 00401c46; asc  @ F;; 17: len 4; hex 00000001; asc     ;; 18: len 4; hex 800133c9; asc   3 ;; 19: len 4; hex 800184c1; asc     ;; 20: len 4; hex 7fff9cab; asc     ;; 21: len 4; hex 00000006; asc     ;; 22: len 4; hex 8001a1bf; asc     ;; 23: len 4; hex 7fffb3eb; asc     ;; 24: len 4; hex 7ffffbfb; asc     ;; 25: len 4; hex 80000000; asc     ;; 26: len 4; hex 80000000; asc     ;; 27: len 1; hex 00; asc  ;; 28: len 1; hex 00; asc  ;; 29: len 4; hex 00000000; asc     ;; 30: len 4; hex 801fa000; asc     ;; 31: len 4; hex 80000000; asc     ;; 32: len 4; hex 80000000; asc     ;; 33: len 4; hex 912f430c; asc  /C ;; 34: len 4; hex 912f4358; asc  /CX;; 35: len 4; hex 800003b9; asc     ;; 36: len 4; hex cf98393b; asc   9;;; 37: len 4; hex 00000000; asc     ;; 38: len 4; hex 0548d85e; asc  H ^;; 39: len 4; hex 0548d863; asc  H c;; 40: len 1; hex 01; asc  ;; 41: len 1; hex 06; asc  ;; 42: len 4; hex 00000000; asc     ;; 43: len 4; hex 00000000; asc     ;; 44: len 2; hex 0064; asc  d;; 45: len 4; hex 912f2ba6; asc  /+ ;; 46: len 4; hex 00000000; asc     ;; 47: len 1; hex 00; asc  ;; 48: len 4; hex 000001ca; asc     ;; 49: len 4; hex 00000000; asc     ;; 50: len 1; hex 00; asc  ;; 51: len 8; hex 8000124ca6ada337; asc    L   7;; 52: len 8; hex 8000000000000000; asc         ;; 53: len 4; hex 00000000; asc     ;; 54: len 4; hex 00000000; asc     ;; 55: len 4; hex 00000000; asc     ;; 56: len 1; hex 00; asc  ;; 57: len 1; hex 00; asc  ;; 58: len 4; hex 4f956f0c; asc O o ;; 59: len 1; hex 80; asc  ;; 60: len 1; hex 00; asc  ;; 61: len 4; hex 80000000; asc     ;; 62: len 4; hex 00000000; asc     ;; 63: len 4; hex 00000000; asc     ;; 64: len 4; hex 00000000; asc     ;; 65: len 8; hex 0000000000000000; asc         ;; 66: len 4; hex 00401c46; asc  @ F;; 67: len 4; hex 00401c46; asc  @ F;;

*** WE ROLL BACK TRANSACTION (1)
</pre>",mysql,innodb,deadlock,,,04/24/2012 07:51:59,not a real question,1,2367,9,"the reason of update via innodb primary key deadlock? <pre>
120423 23:02:38
*** (1) TRANSACTION:
TRANSACTION 0 186238179, ACTIVE 3 sec, OS thread id 16764 starting index read
mysql tables in use 1, locked 1
LOCK WAIT 5 lock struct(s), heap size 1024, 10 row lock(s), undo log entries 9
MySQL thread id 163286, query id 7479890 192.168.72.162 root Updating
UPDATE `game`.`role` SET map_uid = 1, position_x = -94723, position_y = -191372, position_z = -9133, instance_uid = 2, world_x = 126207, world_y = 231225, world_z = 98886, rotator_angle_yaw = 0, rotator_angle_pitch = 0, rotator_angle_roll = 0, anger = 10000, hp = 363.464325, mp = 417.503601, exp = 617706, liftduration = 10000, liftdurationmax = 10000, yimeng_id = 458  where id = 200003159
*** (1) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 0 page no 32086 n bits 128 index `PRIMARY` of table `game`.`role` trx id 0 186238179 lock_mode X locks rec but not gap waiting
Record lock, heap no 46 PHYSICAL RECORD: n_fields 68; compact format; info bits 0
 0: len 4; hex 0bebce57; asc    W;; 1: len 6; hex 00000b19c457; asc      W;; 2: len 7; hex 0000010b4c04b8; asc     L  ;; 3: len 4; hex 80001bc9; asc     ;; 4: len 8; hex 7573657237313133; asc user7113;; 5: len 13; hex 7573657237313133726f626f74; asc user7113robot;; 6: len 1; hex 00; asc  ;; 7: len 1; hex 01; asc  ;; 8: len 1; hex 04; asc  ;; 9: len 1; hex 01; asc  ;; 10: len 4; hex 00422247; asc  B""G;; 11: len 1; hex 13; asc  ;; 12: len 4; hex 00004efc; asc   N ;; 13: len 1; hex 01; asc  ;; 14: len 4; hex 6fbbb543; asc o  C;; 15: len 4; hex 76c0d043; asc v  C;; 16: len 4; hex 00401c46; asc  @ F;; 17: len 4; hex 00000001; asc     ;; 18: len 4; hex 7ffe8ddb; asc     ;; 19: len 4; hex 7ffd145b; asc    [;; 20: len 4; hex 7fffdc53; asc    S;; 21: len 4; hex 00000002; asc     ;; 22: len 4; hex 8001ecff; asc     ;; 23: len 4; hex 80038739; asc    9;; 24: len 4; hex 80018246; asc    F;; 25: len 4; hex 80000000; asc     ;; 26: len 4; hex 80000000; asc     ;; 27: len 1; hex 00; asc  ;; 28: len 1; hex 00; asc  ;; 29: len 4; hex 00000000; asc     ;; 30: len 4; hex 80000000; asc     ;; 31: len 4; hex 80000000; asc     ;; 32: len 4; hex 80000000; asc     ;; 33: len 4; hex 912f43fa; asc  /C ;; 34: len 4; hex 912f43fe; asc  /C ;; 35: len 4; hex 80000364; asc    d;; 36: len 4; hex 202cf048; asc  , H;; 37: len 4; hex 00000000; asc     ;; 38: len 4; hex 0548d85e; asc  H ^;; 39: len 4; hex 0548d863; asc  H c;; 40: len 1; hex 01; asc  ;; 41: len 1; hex 03; asc  ;; 42: len 4; hex 00000000; asc     ;; 43: len 4; hex 00000000; asc     ;; 44: len 2; hex 0064; asc  d;; 45: len 4; hex 912f2bb7; asc  /+ ;; 46: len 4; hex 00000000; asc     ;; 47: len 1; hex 00; asc  ;; 48: len 4; hex 000001ca; asc     ;; 49: len 4; hex 00000000; asc     ;; 50: len 1; hex 00; asc  ;; 51: len 8; hex 8000124ca6ada342; asc    L   B;; 52: len 8; hex 8000000000000000; asc         ;; 53: len 4; hex 00000000; asc     ;; 54: len 4; hex 00000000; asc     ;; 55: len 4; hex 00000000; asc     ;; 56: len 1; hex 00; asc  ;; 57: len 1; hex 00; asc  ;; 58: len 4; hex 4f956f0b; asc O o ;; 59: len 1; hex 80; asc  ;; 60: len 1; hex 00; asc  ;; 61: len 4; hex 80000000; asc     ;; 62: len 4; hex 00000000; asc     ;; 63: len 4; hex 00000000; asc     ;; 64: len 4; hex 00000000; asc     ;; 65: len 8; hex 0000000000000000; asc         ;; 66: len 4; hex 00401c46; asc  @ F;; 67: len 4; hex 00401c46; asc  @ F;;

*** (2) TRANSACTION:
TRANSACTION 0 186238039, ACTIVE 4 sec, OS thread id 13608 starting index read, thread declared inside InnoDB 500
mysql tables in use 1, locked 1
17 lock struct(s), heap size 2496, 27 row lock(s), undo log entries 48
MySQL thread id 163276, query id 7480277 192.168.72.162 root Updating
UPDATE `game`.`role` SET map_uid = 1, position_x = 78798, position_y = 99451, position_z = -25429, instance_uid = 6, world_x = 106943, world_y = -19477, world_z = -1029, rotator_angle_yaw = 2072576, rotator_angle_pitch = 0, rotator_angle_roll = 0, anger = 10000, hp = 266, mp = 417.503601, exp = 617706, liftduration = 10000, liftdurationmax = 10000, yimeng_id = 458  where id = 200003067
*** (2) HOLDS THE LOCK(S):
RECORD LOCKS space id 0 page no 32086 n bits 128 index `PRIMARY` of table `game`.`role` trx id 0 186238039 lock_mode X locks rec but not gap
Record lock, heap no 46 PHYSICAL RECORD: n_fields 68; compact format; info bits 0
 0: len 4; hex 0bebce57; asc    W;; 1: len 6; hex 00000b19c457; asc      W;; 2: len 7; hex 0000010b4c04b8; asc     L  ;; 3: len 4; hex 80001bc9; asc     ;; 4: len 8; hex 7573657237313133; asc user7113;; 5: len 13; hex 7573657237313133726f626f74; asc user7113robot;; 6: len 1; hex 00; asc  ;; 7: len 1; hex 01; asc  ;; 8: len 1; hex 04; asc  ;; 9: len 1; hex 01; asc  ;; 10: len 4; hex 00422247; asc  B""G;; 11: len 1; hex 13; asc  ;; 12: len 4; hex 00004efc; asc   N ;; 13: len 1; hex 01; asc  ;; 14: len 4; hex 6fbbb543; asc o  C;; 15: len 4; hex 76c0d043; asc v  C;; 16: len 4; hex 00401c46; asc  @ F;; 17: len 4; hex 00000001; asc     ;; 18: len 4; hex 7ffe8ddb; asc     ;; 19: len 4; hex 7ffd145b; asc    [;; 20: len 4; hex 7fffdc53; asc    S;; 21: len 4; hex 00000002; asc     ;; 22: len 4; hex 8001ecff; asc     ;; 23: len 4; hex 80038739; asc    9;; 24: len 4; hex 80018246; asc    F;; 25: len 4; hex 80000000; asc     ;; 26: len 4; hex 80000000; asc     ;; 27: len 1; hex 00; asc  ;; 28: len 1; hex 00; asc  ;; 29: len 4; hex 00000000; asc     ;; 30: len 4; hex 80000000; asc     ;; 31: len 4; hex 80000000; asc     ;; 32: len 4; hex 80000000; asc     ;; 33: len 4; hex 912f43fa; asc  /C ;; 34: len 4; hex 912f43fe; asc  /C ;; 35: len 4; hex 80000364; asc    d;; 36: len 4; hex 202cf048; asc  , H;; 37: len 4; hex 00000000; asc     ;; 38: len 4; hex 0548d85e; asc  H ^;; 39: len 4; hex 0548d863; asc  H c;; 40: len 1; hex 01; asc  ;; 41: len 1; hex 03; asc  ;; 42: len 4; hex 00000000; asc     ;; 43: len 4; hex 00000000; asc     ;; 44: len 2; hex 0064; asc  d;; 45: len 4; hex 912f2bb7; asc  /+ ;; 46: len 4; hex 00000000; asc     ;; 47: len 1; hex 00; asc  ;; 48: len 4; hex 000001ca; asc     ;; 49: len 4; hex 00000000; asc     ;; 50: len 1; hex 00; asc  ;; 51: len 8; hex 8000124ca6ada342; asc    L   B;; 52: len 8; hex 8000000000000000; asc         ;; 53: len 4; hex 00000000; asc     ;; 54: len 4; hex 00000000; asc     ;; 55: len 4; hex 00000000; asc     ;; 56: len 1; hex 00; asc  ;; 57: len 1; hex 00; asc  ;; 58: len 4; hex 4f956f0b; asc O o ;; 59: len 1; hex 80; asc  ;; 60: len 1; hex 00; asc  ;; 61: len 4; hex 80000000; asc     ;; 62: len 4; hex 00000000; asc     ;; 63: len 4; hex 00000000; asc     ;; 64: len 4; hex 00000000; asc     ;; 65: len 8; hex 0000000000000000; asc         ;; 66: len 4; hex 00401c46; asc  @ F;; 67: len 4; hex 00401c46; asc  @ F;;

*** (2) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 0 page no 32085 n bits 128 index `PRIMARY` of table `game`.`role` trx id 0 186238039 lock_mode X locks rec but not gap waiting
Record lock, heap no 12 PHYSICAL RECORD: n_fields 68; compact format; info bits 0
 0: len 4; hex 0bebcdfb; asc     ;; 1: len 6; hex 00000b19c4fc; asc       ;; 2: len 7; hex 000001401820b3; asc    @   ;; 3: len 4; hex 80001b6c; asc    l;; 4: len 8; hex 7573657237303230; asc user7020;; 5: len 13; hex 7573657237303230726f626f74; asc user7020robot;; 6: len 1; hex 00; asc  ;; 7: len 1; hex 01; asc  ;; 8: len 1; hex 04; asc  ;; 9: len 1; hex 01; asc  ;; 10: len 4; hex a0ce1649; asc    I;; 11: len 1; hex 1e; asc  ;; 12: len 4; hex 00013e75; asc   >u;; 13: len 1; hex 01; asc  ;; 14: len 4; hex 00808243; asc    C;; 15: len 4; hex 76c0d043; asc v  C;; 16: len 4; hex 00401c46; asc  @ F;; 17: len 4; hex 00000001; asc     ;; 18: len 4; hex 800133c9; asc   3 ;; 19: len 4; hex 800184c1; asc     ;; 20: len 4; hex 7fff9cab; asc     ;; 21: len 4; hex 00000006; asc     ;; 22: len 4; hex 8001a1bf; asc     ;; 23: len 4; hex 7fffb3eb; asc     ;; 24: len 4; hex 7ffffbfb; asc     ;; 25: len 4; hex 80000000; asc     ;; 26: len 4; hex 80000000; asc     ;; 27: len 1; hex 00; asc  ;; 28: len 1; hex 00; asc  ;; 29: len 4; hex 00000000; asc     ;; 30: len 4; hex 801fa000; asc     ;; 31: len 4; hex 80000000; asc     ;; 32: len 4; hex 80000000; asc     ;; 33: len 4; hex 912f430c; asc  /C ;; 34: len 4; hex 912f4358; asc  /CX;; 35: len 4; hex 800003b9; asc     ;; 36: len 4; hex cf98393b; asc   9;;; 37: len 4; hex 00000000; asc     ;; 38: len 4; hex 0548d85e; asc  H ^;; 39: len 4; hex 0548d863; asc  H c;; 40: len 1; hex 01; asc  ;; 41: len 1; hex 06; asc  ;; 42: len 4; hex 00000000; asc     ;; 43: len 4; hex 00000000; asc     ;; 44: len 2; hex 0064; asc  d;; 45: len 4; hex 912f2ba6; asc  /+ ;; 46: len 4; hex 00000000; asc     ;; 47: len 1; hex 00; asc  ;; 48: len 4; hex 000001ca; asc     ;; 49: len 4; hex 00000000; asc     ;; 50: len 1; hex 00; asc  ;; 51: len 8; hex 8000124ca6ada337; asc    L   7;; 52: len 8; hex 8000000000000000; asc         ;; 53: len 4; hex 00000000; asc     ;; 54: len 4; hex 00000000; asc     ;; 55: len 4; hex 00000000; asc     ;; 56: len 1; hex 00; asc  ;; 57: len 1; hex 00; asc  ;; 58: len 4; hex 4f956f0c; asc O o ;; 59: len 1; hex 80; asc  ;; 60: len 1; hex 00; asc  ;; 61: len 4; hex 80000000; asc     ;; 62: len 4; hex 00000000; asc     ;; 63: len 4; hex 00000000; asc     ;; 64: len 4; hex 00000000; asc     ;; 65: len 8; hex 0000000000000000; asc         ;; 66: len 4; hex 00401c46; asc  @ F;; 67: len 4; hex 00401c46; asc  @ F;;

*** WE ROLL BACK TRANSACTION (1)
</pre>",3
8777305,01/08/2012 12:00:28,949106,09/16/2011 15:00:46,106,1,How rating system works?,i want to make rating system for my website using codeigniter and MySQL. Can any one tell me how rating system works? what are the calculations in rating system?,mysql,codeigniter,rating-system,,,01/08/2012 23:18:20,not a real question,1,29,4,How rating system works? i want to make rating system for my website using codeigniter and MySQL. Can any one tell me how rating system works? what are the calculations in rating system?,3
8366203,12/03/2011 07:06:17,289199,03/08/2010 22:11:38,16,0,MySql: How to get SUM values from different tables?,"For each order I want get total for products and total of payments to get a balance. 

This is a reduced version of tables:
    
    ORDERS
    --------------------
    |ord_id|customer_id|
    --------------------
    |     1|        XYZ|
    |     .|          .|
    |     .|          .|
    |     .|          .|
    --------------------
    
    ORDER_DETAILS
    -----------------------------------------
    |det_id|ord_id|product_id|quantity|price|
    -----------------------------------------
    |     1|     1|    AAA001|       3|   30|
    |     2|     1|    BBB002|       2|    5|
    |     .|     .|         .|       .|    .|
    |     .|     .|         .|       .|    .|
    |     .|     .|         .|       .|    .|
    -----------------------------------------
    
    PAYMENTS
    ----------------------
    |pay_id|ord_id|amount|
    ----------------------
    |     1|     1|    10|
    |     2|     1|    20|
    |     3|     1|    10|
    |     .|     .|     .|
    |     .|     .|     .|
    |     .|     .|     .|
    ----------------------
    
This query does NOT return the correct values for the payments, only get a correct value for payments when count of products is the same for count of payments:

    SELECT o.ord_id, SUM(quantity * price) AS total_order, SUM(amount) AS total_payments
    FROM orders AS o 
    INNER JOIN order_details AS d ON o.ord_id = d.ord_id
    INNER JOIN payments AS p ON o.ord_id = p.ord_id
    GROUP BY o.ord_id

This is the expected result:
    
    -----------------------------------
    |ord_id|total_order|total_payments|
    -----------------------------------
    |     1|        100|            40|
    |     .|          .|             .|
    |     .|          .|             .|
    |     .|          .|             .|
    -----------------------------------

Thanks in advance.
",mysql,sum,,,,,open,0,674,9,"MySql: How to get SUM values from different tables? For each order I want get total for products and total of payments to get a balance. 

This is a reduced version of tables:
    
    ORDERS
    --------------------
    |ord_id|customer_id|
    --------------------
    |     1|        XYZ|
    |     .|          .|
    |     .|          .|
    |     .|          .|
    --------------------
    
    ORDER_DETAILS
    -----------------------------------------
    |det_id|ord_id|product_id|quantity|price|
    -----------------------------------------
    |     1|     1|    AAA001|       3|   30|
    |     2|     1|    BBB002|       2|    5|
    |     .|     .|         .|       .|    .|
    |     .|     .|         .|       .|    .|
    |     .|     .|         .|       .|    .|
    -----------------------------------------
    
    PAYMENTS
    ----------------------
    |pay_id|ord_id|amount|
    ----------------------
    |     1|     1|    10|
    |     2|     1|    20|
    |     3|     1|    10|
    |     .|     .|     .|
    |     .|     .|     .|
    |     .|     .|     .|
    ----------------------
    
This query does NOT return the correct values for the payments, only get a correct value for payments when count of products is the same for count of payments:

    SELECT o.ord_id, SUM(quantity * price) AS total_order, SUM(amount) AS total_payments
    FROM orders AS o 
    INNER JOIN order_details AS d ON o.ord_id = d.ord_id
    INNER JOIN payments AS p ON o.ord_id = p.ord_id
    GROUP BY o.ord_id

This is the expected result:
    
    -----------------------------------
    |ord_id|total_order|total_payments|
    -----------------------------------
    |     1|        100|            40|
    |     .|          .|             .|
    |     .|          .|             .|
    |     .|          .|             .|
    -----------------------------------

Thanks in advance.
",2
11725262,07/30/2012 16:07:30,669302,03/21/2011 11:14:17,118,1,Fetch timestamped counts from multiple tables,"I have a table of nodes:

    nid type  created   status
    2   blog  134292319 1
    3   forum 134292536 1
    4   blog  135921392 0

To graph the number of published (status=1) nodes over time, I execute this query:

    SELECT created, type
    FROM node WHERE status = 1
    ORDER BY created

I then go through this data set in PHP, splitting it into timestamped groups with a node count associated with each group. The results are cached, so slow execution isn't a problem.

I also have a table of comments:

    nid timestamp status
    2   134292363 1
    3   134293234 1

I want to incorporate *forum* comment counts into the graph of node counts.

To get the comment counts, I would run this query:

    SELECT timestamp
    FROM comments
    INNER JOIN node ON comments.nid = node.nid
    WHERE
      node.type = 'forum'
      AND comments.status = 1
    ORDER BY timestamp

I need to somehow combine these two queries, to end up with (for the examples given):

    created   type
    134292319 blog
    134292536 forum
    134293234 forum_comment

Any ideas?

Thanks.",mysql,join,count,timestamp,combine,,open,0,244,6,"Fetch timestamped counts from multiple tables I have a table of nodes:

    nid type  created   status
    2   blog  134292319 1
    3   forum 134292536 1
    4   blog  135921392 0

To graph the number of published (status=1) nodes over time, I execute this query:

    SELECT created, type
    FROM node WHERE status = 1
    ORDER BY created

I then go through this data set in PHP, splitting it into timestamped groups with a node count associated with each group. The results are cached, so slow execution isn't a problem.

I also have a table of comments:

    nid timestamp status
    2   134292363 1
    3   134293234 1

I want to incorporate *forum* comment counts into the graph of node counts.

To get the comment counts, I would run this query:

    SELECT timestamp
    FROM comments
    INNER JOIN node ON comments.nid = node.nid
    WHERE
      node.type = 'forum'
      AND comments.status = 1
    ORDER BY timestamp

I need to somehow combine these two queries, to end up with (for the examples given):

    created   type
    134292319 blog
    134292536 forum
    134293234 forum_comment

Any ideas?

Thanks.",5
1414023,09/12/2009 02:04:42,168202,09/03/2009 22:53:01,1,0,getting all values from three different tables .. JOIN problem?,"I'm learning mysql and have been trying to get this working, but an error always comes up no matter how I try it - or it just doesn't show anything from the table.

I have 3 tables, all with the same amount of columns and name of columns

I want to list all the values in alphabetical order by title

Tables: General - Temp - Location

Columns:   id - url - title - description

How would you  write the select statement?

I have tried numerous ways and can't figure it out... I'm guessing it would look something like

SELECT * FROM General JOIN Temp ON General.title = Temp.title JOIN Location ON Temp.title = General.title

I have played around extensively with changing the values like Temp.title = General.title and that doesnt seem to help

Any ideas?

Thanks!

p.s - I also tried this and it gives data, but only shows a few results from the general table with the amount of posts from temp.. very confusing 

SELECT
   General.id,
   General.url,
   General.title,
   General.description,
   Temp.id,
   Temp.url,
   Temp.title,
   Temp.description,
   Location.id,
   Location.url,
   Location.title,
   Location.description
FROM
   General INNER JOIN Temp
   ON General.id = Temp.id
   INNER JOIN Location
   ON Temp.id = Location.id
ORDER BY
   General.title",mysql,,,,,,open,0,221,10,"getting all values from three different tables .. JOIN problem? I'm learning mysql and have been trying to get this working, but an error always comes up no matter how I try it - or it just doesn't show anything from the table.

I have 3 tables, all with the same amount of columns and name of columns

I want to list all the values in alphabetical order by title

Tables: General - Temp - Location

Columns:   id - url - title - description

How would you  write the select statement?

I have tried numerous ways and can't figure it out... I'm guessing it would look something like

SELECT * FROM General JOIN Temp ON General.title = Temp.title JOIN Location ON Temp.title = General.title

I have played around extensively with changing the values like Temp.title = General.title and that doesnt seem to help

Any ideas?

Thanks!

p.s - I also tried this and it gives data, but only shows a few results from the general table with the amount of posts from temp.. very confusing 

SELECT
   General.id,
   General.url,
   General.title,
   General.description,
   Temp.id,
   Temp.url,
   Temp.title,
   Temp.description,
   Location.id,
   Location.url,
   Location.title,
   Location.description
FROM
   General INNER JOIN Temp
   ON General.id = Temp.id
   INNER JOIN Location
   ON Temp.id = Location.id
ORDER BY
   General.title",1
10785563,05/28/2012 13:35:35,1216931,02/17/2012 18:48:47,27,0,foreign key constraint error while deleting from table,"I have two tables:

Requests - Request_id , Request_Message; // contains Requests

Responses - Response_id , Request_id , Response_Message; // Contains Responses for the request..
Request_id is foreign key for this table


Now while i am running the query **delete from requests where Request_id = ""REQ001"";..**.. if there is no corresponding response in responses table then query is working fine, other its giving foreign key constraint  error. 

I want while i delete any request from requests table all its corresponding responses must delete automatically from response table.. How to achieve this??

Thanks for your time..

Devesh



",mysql,,,,,,open,0,91,8,"foreign key constraint error while deleting from table I have two tables:

Requests - Request_id , Request_Message; // contains Requests

Responses - Response_id , Request_id , Response_Message; // Contains Responses for the request..
Request_id is foreign key for this table


Now while i am running the query **delete from requests where Request_id = ""REQ001"";..**.. if there is no corresponding response in responses table then query is working fine, other its giving foreign key constraint  error. 

I want while i delete any request from requests table all its corresponding responses must delete automatically from response table.. How to achieve this??

Thanks for your time..

Devesh



",1
5926713,05/08/2011 09:48:53,743768,05/08/2011 09:48:53,1,0,[mysql] How to prevent a user from accessing a specific schema?,"Quite new to mysql, so bare with me :)

I have a server, that was created for me.
On it there is a schema called ""test"".

I've logged in with root user, and created a new schema called ""WEB"".

* create schema WEB;

What I want to do now, is to have a user, that can only see that new schema.

So I created a user like so:

* create user webtestuser identified by 'webtestuser';

* grant select, insert, update, delete on WEB.* to webtestuser;

The problem is that when I log in with the new user, I can still see the ""test"" schema. Even when I 'revoke all' on the user, that schema is still visable.

Anything I'm missing here?

Thanks !",mysql,user,schema,privileges,,,open,0,112,11,"[mysql] How to prevent a user from accessing a specific schema? Quite new to mysql, so bare with me :)

I have a server, that was created for me.
On it there is a schema called ""test"".

I've logged in with root user, and created a new schema called ""WEB"".

* create schema WEB;

What I want to do now, is to have a user, that can only see that new schema.

So I created a user like so:

* create user webtestuser identified by 'webtestuser';

* grant select, insert, update, delete on WEB.* to webtestuser;

The problem is that when I log in with the new user, I can still see the ""test"" schema. Even when I 'revoke all' on the user, that schema is still visable.

Anything I'm missing here?

Thanks !",4
3332098,07/26/2010 03:51:11,401914,07/26/2010 03:51:11,1,0,Tomcat Mysql connection hangs after about 30 minutes,"Facts:
======


- 1 Tomcat installation , 1 MySql and 2 applications ( app1 and app2 )
- Hosted on shared hosting, so most of admin stuff with mysql is not possible
- When tomcat is started the applications ( both app1 and app2 ) are working fine

- After about 30 minutes... I try to log in my app1
- Sometimes it logs in and sometimes it just sits there and kind of ""hangs""
- Even if I log in.... after a click or a few clicks it stops responding ( like above )

- If I check in phpMyAdmin, there are some processes in ""sleep"" mode
- killing these will not solve anything
- If I check in Tomcat Manager...there are these process sitting there as well


My analysis :
===========

- There are no permanent connections or connection leaks ( already checked )
- Tomcat is up ( since manager is responding well )
- MySql is also up ( since I am able to see the processes and kill them too )...and run queries
- I guess there is some connection problem between Tomcat and Mysql
- Something like Tomcat is sending and Mysql is getting but not replying back

My Doubts :
==========

- What could be a thing which is causing this ( timeout ? )
- It HAS to be something which is ok at the start but goes wrong after 30 minutes or so

Please help. ( Tomcat logs are not very helpful. Though I have struts log from log4j )

thanks,
Mayank
",mysql,tomcat,timeout,connection,,,open,0,237,8,"Tomcat Mysql connection hangs after about 30 minutes Facts:
======


- 1 Tomcat installation , 1 MySql and 2 applications ( app1 and app2 )
- Hosted on shared hosting, so most of admin stuff with mysql is not possible
- When tomcat is started the applications ( both app1 and app2 ) are working fine

- After about 30 minutes... I try to log in my app1
- Sometimes it logs in and sometimes it just sits there and kind of ""hangs""
- Even if I log in.... after a click or a few clicks it stops responding ( like above )

- If I check in phpMyAdmin, there are some processes in ""sleep"" mode
- killing these will not solve anything
- If I check in Tomcat Manager...there are these process sitting there as well


My analysis :
===========

- There are no permanent connections or connection leaks ( already checked )
- Tomcat is up ( since manager is responding well )
- MySql is also up ( since I am able to see the processes and kill them too )...and run queries
- I guess there is some connection problem between Tomcat and Mysql
- Something like Tomcat is sending and Mysql is getting but not replying back

My Doubts :
==========

- What could be a thing which is causing this ( timeout ? )
- It HAS to be something which is ok at the start but goes wrong after 30 minutes or so

Please help. ( Tomcat logs are not very helpful. Though I have struts log from log4j )

thanks,
Mayank
",4
10892689,06/05/2012 06:31:11,1378963,05/07/2012 04:51:01,62,31,Can't connect to MySQL server on 'localhost' (10061) after Installation,"I installed MySQL using **mysql-installer-5.5.20.0.msi** on Windows 7.
From the cmd window, I run ""mysqlshow -u root -p"". It asked for a password, then returned this error: ""Can't connect to MySQL server on 'localhost' (10061)"" This is a bad indication of partially failed/successful installation.

After reading the page, http://dev.mysql.com/doc/refman/5.5/en/windows-troubleshooting.html, it told me to find an error log (.err) in C:\Program Files\MySQL\MySQL Server 5.5\data. The directory exists but there is no log file.

I have a feeling this is related to the tight security of Windows 7, especially when installing a Unix based software. And yes, I am the Administrator on my PC.

Any help or suggestions is appreciated. And I can return a favor by answering Java and SQL query questions.
",mysql,windows,windows-7,,,,open,0,117,10,"Can't connect to MySQL server on 'localhost' (10061) after Installation I installed MySQL using **mysql-installer-5.5.20.0.msi** on Windows 7.
From the cmd window, I run ""mysqlshow -u root -p"". It asked for a password, then returned this error: ""Can't connect to MySQL server on 'localhost' (10061)"" This is a bad indication of partially failed/successful installation.

After reading the page, http://dev.mysql.com/doc/refman/5.5/en/windows-troubleshooting.html, it told me to find an error log (.err) in C:\Program Files\MySQL\MySQL Server 5.5\data. The directory exists but there is no log file.

I have a feeling this is related to the tight security of Windows 7, especially when installing a Unix based software. And yes, I am the Administrator on my PC.

Any help or suggestions is appreciated. And I can return a favor by answering Java and SQL query questions.
",3
10823100,05/30/2012 19:38:28,1426665,05/30/2012 17:32:46,1,0,Broken Pipe <<<< Database timeout using Spring 3.0 JDBC Datasource,"My very first question so I apologize if I leave something out.  I have read the various threads of questions here pertaining to this issue of MySQL timing out after eight hours.  I haven't seen anything that pertains to using Spring persistence.  What I have found so far as options is using a connection pool (c3p0 instead of DBCP), and configuring a datasource on the JBoss 7 Server.  My persistence file is as follows:  

      <?xml version=""1.0"" encoding=""UTF-8""?>
      <persistence version=""2.0"" xmlns=""http://java.sun.com/xml/ns/persistence"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"">
      <persistence-unit name=""SkillAssessmentPU"" transaction-type=""RESOURCE_LOCAL"">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
    	<class>csp.Entities.Cycle</class>
    	<class>csp.Entities.Client</class>
    	<class>csp.Entities.Department</class>
    	<class>csp.Entities.Employee</class>
    	<class>csp.Entities.EmployeeSkills</class>
    	<class>csp.Entities.Gender</class>
    	<class>csp.Entities.Location</class>
    	<class>csp.Entities.OccupationalTitle</class>
    	<class>csp.Entities.Profile</class>
    	<class>csp.Entities.Skills</class>
    	<class>csp.Entities.States</class>
       	<class>csp.Entities.Client</class>
       	<class>csp.Entities.Cities</class>
        <properties>    
          <property name=""hibernate.connection.username"" value=""root""/>
          <property name=""hibernate.connection.driver_class"" value=""com.mysql.jdbc.Driver""/>
          <property name=""hibernate.connection.password"" value=""!Catalyst!""/>
          <property name=""hibernate.connection.url""                             value=""jdbc:mysql://CorpMySQL01.catalystsolves.com:3306/test?""/>
          <property name=""hibernate.dialect"" value=""org.hibernate.dialect.MySQLDialect""/>
        </properties>
      </persistence-unit>
      </persistence>    

Using this format, is there anyway possible where I can alter MySql timeout?  Do I have to resort to a c3p0 connection pool or create a datasource through the JBoss Server?  ",mysql,spring,timeout,persistence,,,open,0,330,10,"Broken Pipe <<<< Database timeout using Spring 3.0 JDBC Datasource My very first question so I apologize if I leave something out.  I have read the various threads of questions here pertaining to this issue of MySQL timing out after eight hours.  I haven't seen anything that pertains to using Spring persistence.  What I have found so far as options is using a connection pool (c3p0 instead of DBCP), and configuring a datasource on the JBoss 7 Server.  My persistence file is as follows:  

      <?xml version=""1.0"" encoding=""UTF-8""?>
      <persistence version=""2.0"" xmlns=""http://java.sun.com/xml/ns/persistence"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"">
      <persistence-unit name=""SkillAssessmentPU"" transaction-type=""RESOURCE_LOCAL"">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
    	<class>csp.Entities.Cycle</class>
    	<class>csp.Entities.Client</class>
    	<class>csp.Entities.Department</class>
    	<class>csp.Entities.Employee</class>
    	<class>csp.Entities.EmployeeSkills</class>
    	<class>csp.Entities.Gender</class>
    	<class>csp.Entities.Location</class>
    	<class>csp.Entities.OccupationalTitle</class>
    	<class>csp.Entities.Profile</class>
    	<class>csp.Entities.Skills</class>
    	<class>csp.Entities.States</class>
       	<class>csp.Entities.Client</class>
       	<class>csp.Entities.Cities</class>
        <properties>    
          <property name=""hibernate.connection.username"" value=""root""/>
          <property name=""hibernate.connection.driver_class"" value=""com.mysql.jdbc.Driver""/>
          <property name=""hibernate.connection.password"" value=""!Catalyst!""/>
          <property name=""hibernate.connection.url""                             value=""jdbc:mysql://CorpMySQL01.catalystsolves.com:3306/test?""/>
          <property name=""hibernate.dialect"" value=""org.hibernate.dialect.MySQLDialect""/>
        </properties>
      </persistence-unit>
      </persistence>    

Using this format, is there anyway possible where I can alter MySql timeout?  Do I have to resort to a c3p0 connection pool or create a datasource through the JBoss Server?  ",4
6800929,07/23/2011 14:11:19,826511,07/03/2011 01:18:16,96,0,Help with an SQL Query to sum of the number of rows depending on an option in another table,"What I have are two tables:

**mark_notifications**

**mark_notifications_options**


The mark_notifications table contains rows of data that include a column **tid** and **userid**

The mark_notifications_options table contains a special column **grouptogether**


What I am trying to achieve is that if the userid's **mark_notifications_options.grouptogether value is set to 0**, it will add up every row that matches his userid in the mark_notifications table

However, if the userid's **mark_notifications_options.grouptogether value is set to 1**, it will add up every row that matches his userid where all the tids are grouped, so that if there no matter how many times the same tid value comes up, it only gets counted as 1.  I also would like to count the times tid = 0 as a separate entitiy (but NOT grouped) and then I would just add the values later in php.

This is what I have come up with so far, but the resulting values dont make any sense at all..


    SELECT 
             mark_notifications_options.grouptogether,
             COUNT(mark_notifications.threadid) AS ungrouped, 
             SUM(mark_notifications.threadid = 0) AS total_zero, 
             COUNT(DISTINCT mark_notifications.threadid) AS grouped 
        FROM mark_notifications, mark_notifications_options
       WHERE mark_notifications.userid = $userid
    GROUP BY mark_notifications_options.grouptogether

Thanks!!!",mysql,join,,,,,open,0,246,19,"Help with an SQL Query to sum of the number of rows depending on an option in another table What I have are two tables:

**mark_notifications**

**mark_notifications_options**


The mark_notifications table contains rows of data that include a column **tid** and **userid**

The mark_notifications_options table contains a special column **grouptogether**


What I am trying to achieve is that if the userid's **mark_notifications_options.grouptogether value is set to 0**, it will add up every row that matches his userid in the mark_notifications table

However, if the userid's **mark_notifications_options.grouptogether value is set to 1**, it will add up every row that matches his userid where all the tids are grouped, so that if there no matter how many times the same tid value comes up, it only gets counted as 1.  I also would like to count the times tid = 0 as a separate entitiy (but NOT grouped) and then I would just add the values later in php.

This is what I have come up with so far, but the resulting values dont make any sense at all..


    SELECT 
             mark_notifications_options.grouptogether,
             COUNT(mark_notifications.threadid) AS ungrouped, 
             SUM(mark_notifications.threadid = 0) AS total_zero, 
             COUNT(DISTINCT mark_notifications.threadid) AS grouped 
        FROM mark_notifications, mark_notifications_options
       WHERE mark_notifications.userid = $userid
    GROUP BY mark_notifications_options.grouptogether

Thanks!!!",2
6474310,06/24/2011 22:13:54,70226,02/24/2009 06:16:15,655,26,"""yield outside of block"" while trying to use activerecord-jdbcmysql-adapter","this happens when i deploy my app to glassfish as a war:

        [#|2011-06-24T17:11:40.903-0500|INFO|glassfish3.1|javax.enterprise.system.container.web.com.sun.enterprise.web|_ThreadID=135;_ThreadName=Thread-1;|PWC1412: WebModule[null] ServletContext.log():/!\ FAILSAFE /!\  Fri Jun 24 17:11:40 -0500 2011
      Status: 500 Internal Server Error
      yield called out of block
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection.rb:91:in `tap'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection.rb:91:in `initialize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/adapter.rb:31:in `new'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/adapter.rb:31:in `initialize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/mysql/adapter.rb:396:in `initialize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection_methods.rb:6:in `new'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection_methods.rb:6:in `jdbc_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/mysql/connection_methods.rb:18:in `mysql_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
        classpath:/META-INF/jruby.home/lib/ruby/1.8/monitor.rb:191:in `mon_synchronize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
        classpath:/rack/adapter/rails.rb:36:in `serve_rails'
        classpath:/rack/adapter/rails.rb:41:in `call'
        classpath:/jruby/rack/rails.rb:180:in `call'
        classpath:/rack/handler/servlet.rb:19:in `call'
        <script>:2
    |#]

it works perfectly fine under webrick on my local machine, but does this crap when i try to roll it out to a qa server. ideas?

",mysql,activerecord,jruby,,,,open,0,412,9,"""yield outside of block"" while trying to use activerecord-jdbcmysql-adapter this happens when i deploy my app to glassfish as a war:

        [#|2011-06-24T17:11:40.903-0500|INFO|glassfish3.1|javax.enterprise.system.container.web.com.sun.enterprise.web|_ThreadID=135;_ThreadName=Thread-1;|PWC1412: WebModule[null] ServletContext.log():/!\ FAILSAFE /!\  Fri Jun 24 17:11:40 -0500 2011
      Status: 500 Internal Server Error
      yield called out of block
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection.rb:91:in `tap'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection.rb:91:in `initialize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/adapter.rb:31:in `new'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/adapter.rb:31:in `initialize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/mysql/adapter.rb:396:in `initialize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection_methods.rb:6:in `new'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/jdbc/connection_methods.rb:6:in `jdbc_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-jdbc-adapter-1.1.2/lib/arjdbc/mysql/connection_methods.rb:18:in `mysql_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
        classpath:/META-INF/jruby.home/lib/ruby/1.8/monitor.rb:191:in `mon_synchronize'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
        /home/glassfish/glassfish/domains/domain1/applications/trainer-web/WEB-INF/gems/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
        classpath:/rack/adapter/rails.rb:36:in `serve_rails'
        classpath:/rack/adapter/rails.rb:41:in `call'
        classpath:/jruby/rack/rails.rb:180:in `call'
        classpath:/rack/handler/servlet.rb:19:in `call'
        <script>:2
    |#]

it works perfectly fine under webrick on my local machine, but does this crap when i try to roll it out to a qa server. ideas?

",3
110927,09/21/2008 12:42:17,11705,09/16/2008 10:27:19,140,33,Do you recommend PostGre over MySQL?,"We are currently working with JavaEE and MySQL 5 in our company, but we have some queries, especially delete queries that take > 10 min to execute. We consider to switch to PostGre.

What are the advantages of PostGree over MySQL if there are any? Do you have experiences with both DBs and may give me a roundup whether this is a good idea or does this fully depend on the needs of our server?

Thank you for your opinion!

Greetz, GHad",mysql,postgresql,database,java-ee,,06/08/2012 15:08:23,not constructive,1,79,6,"Do you recommend PostGre over MySQL? We are currently working with JavaEE and MySQL 5 in our company, but we have some queries, especially delete queries that take > 10 min to execute. We consider to switch to PostGre.

What are the advantages of PostGree over MySQL if there are any? Do you have experiences with both DBs and may give me a roundup whether this is a good idea or does this fully depend on the needs of our server?

Thank you for your opinion!

Greetz, GHad",4
4180956,11/15/2010 02:22:14,215117,11/20/2009 01:05:06,248,4,Enum or Bool in mysql?,"Simple silly question. What is better?

A Bool or an Enum('y','n') ?",mysql,enums,boolean,,,,open,0,11,5,"Enum or Bool in mysql? Simple silly question. What is better?

A Bool or an Enum('y','n') ?",3
9472457,02/27/2012 21:20:22,1236526,02/27/2012 21:10:49,1,0,How to combine multiple SUM in one Query?,"I have query like this:

**SELECT *, SUM(ss.rank) as group_sum FROM Standard s, s.SubStandard ss GROUPBY s.id**

the problem is I want to have **SUM(s.rank) as total_rank** in this query, how is possible?",mysql,query,sum,combine,,,open,0,31,8,"How to combine multiple SUM in one Query? I have query like this:

**SELECT *, SUM(ss.rank) as group_sum FROM Standard s, s.SubStandard ss GROUPBY s.id**

the problem is I want to have **SUM(s.rank) as total_rank** in this query, how is possible?",4
6971120,08/07/2011 06:22:31,882479,08/07/2011 06:22:31,1,0,how to filter records based on the second name,"I have sql table with name 
  'bat*ball*stump*pad'
  'ball*pad*bat*stump'
  'stump*bat*pad*ball'
  'stump*ball*bat'
  'ball*bat*pad*stump'

I need to filter the records with 'bat' in the second position

  'stump*bat*pad*ball'
  'ball*bat*pad*stump'
I am new to mysql.Could any one help me in solve this.",mysql,,,,,08/07/2011 08:52:55,too localized,1,43,9,"how to filter records based on the second name I have sql table with name 
  'bat*ball*stump*pad'
  'ball*pad*bat*stump'
  'stump*bat*pad*ball'
  'stump*ball*bat'
  'ball*bat*pad*stump'

I need to filter the records with 'bat' in the second position

  'stump*bat*pad*ball'
  'ball*bat*pad*stump'
I am new to mysql.Could any one help me in solve this.",1
9548667,03/03/2012 18:24:19,615855,01/10/2011 18:51:59,229,15,SELECT from table with three foregin keys to one table,"I have to make a SQL statement which is taking values from three tables one table is table with users other with opinion and the third one is table with subject where are four foregin keys- one of the is pointing to opinion record and the rest as separate keys for users record.

How to select a record from this table which containd subject name, opinion value, subject proffesor and subject opinion guy?",mysql,sql,database,oracle,select,03/03/2012 20:35:28,not a real question,1,72,10,"SELECT from table with three foregin keys to one table I have to make a SQL statement which is taking values from three tables one table is table with users other with opinion and the third one is table with subject where are four foregin keys- one of the is pointing to opinion record and the rest as separate keys for users record.

How to select a record from this table which containd subject name, opinion value, subject proffesor and subject opinion guy?",5
10226091,04/19/2012 10:22:02,1120617,12/29/2011 06:53:49,124,8,Mysql: How to configure mysql proxy for fail over handling,"We have a master - slave replication with single master and single slave.
Shall we use mysql proxy to handle failover from master to salve ?

If YES, please explain how this should be configured.
I could not able to find better documentation on this. moreover I am new to this proxy.


Regards,
Uday
",mysql,configuration,proxy,,,04/20/2012 12:33:45,not a real question,1,49,10,"Mysql: How to configure mysql proxy for fail over handling We have a master - slave replication with single master and single slave.
Shall we use mysql proxy to handle failover from master to salve ?

If YES, please explain how this should be configured.
I could not able to find better documentation on this. moreover I am new to this proxy.


Regards,
Uday
",3
8100239,11/11/2011 21:33:34,645627,03/05/2011 01:06:34,91,2,MySQL ORDER BY COUNT()?,"I have a table setup in my database with this structure ([http://cl.ly/3D1D3m1O0v3d0x2j0Z0E][1])

I have running a query through a while loop and I want to order by the count of the prof column.

This is what my query currently looks like, though I keep getting errors.

    $order_list = mysql_query(""
    	SELECT COUNT(prof), 
    	FROM prof_rating 
    	ORDER BY COUNT(prof) ASC'"");

This is the warning I keep getting.

Warning: mysql_fetch_assoc() expects parameter 1 to be resource, boolean given in


  [1]: http://cl.ly/3D1D3m1O0v3d0x2j0Z0E",mysql,order-by,,,,,open,0,88,4,"MySQL ORDER BY COUNT()? I have a table setup in my database with this structure ([http://cl.ly/3D1D3m1O0v3d0x2j0Z0E][1])

I have running a query through a while loop and I want to order by the count of the prof column.

This is what my query currently looks like, though I keep getting errors.

    $order_list = mysql_query(""
    	SELECT COUNT(prof), 
    	FROM prof_rating 
    	ORDER BY COUNT(prof) ASC'"");

This is the warning I keep getting.

Warning: mysql_fetch_assoc() expects parameter 1 to be resource, boolean given in


  [1]: http://cl.ly/3D1D3m1O0v3d0x2j0Z0E",2
5524955,04/02/2011 18:10:30,657916,03/13/2011 21:30:24,35,2,MySQL 5.x - Can you explain this weirdness?,"Running the query ...

    SELECT !(!0), ! !0, !!0 AS WTF;

in MySQL yields the following output ...

    -------------------------
      !(!0) |  ! !0  |  WTF  
    -------------------------
         0  |    0    |  1     # <- What's going on here?

I can't seem to find anything in the Docs that would explain this. Can you?",mysql,operator-keyword,negate,wtf,,,open,0,89,8,"MySQL 5.x - Can you explain this weirdness? Running the query ...

    SELECT !(!0), ! !0, !!0 AS WTF;

in MySQL yields the following output ...

    -------------------------
      !(!0) |  ! !0  |  WTF  
    -------------------------
         0  |    0    |  1     # <- What's going on here?

I can't seem to find anything in the Docs that would explain this. Can you?",4
10216666,04/18/2012 19:34:53,1337311,04/16/2012 21:22:32,13,0,Database files not being displayed where SHOW VARIABLES tells me they are [MySQL],"Typing SHOW VARIABLES in MySQL will produce show that datadir is = ""C:\Program Files\MySQL\MySQL Server 5.5\data""

...however, looking in the data folder shows only ""mysql"" and ""performance_schema"" folders when, in fact, I have made eight databases (including the two previously mentioned ones).

Where is the information from the other databases, like ""sakila"" being stored?",mysql,,,,,,open,0,52,13,"Database files not being displayed where SHOW VARIABLES tells me they are [MySQL] Typing SHOW VARIABLES in MySQL will produce show that datadir is = ""C:\Program Files\MySQL\MySQL Server 5.5\data""

...however, looking in the data folder shows only ""mysql"" and ""performance_schema"" folders when, in fact, I have made eight databases (including the two previously mentioned ones).

Where is the information from the other databases, like ""sakila"" being stored?",1
7733995,10/12/2011 00:19:44,990521,10/12/2011 00:13:42,1,0,MySQL-server version on USB key,"Hi I know that there is a:
-Tomcat server 
-Eclipse

version for USB key.

Is there a MySQL-server version for USB key too? Thanks.",mysql,jsp,usb-drive,,,10/12/2011 00:43:10,off topic,1,21,5,"MySQL-server version on USB key Hi I know that there is a:
-Tomcat server 
-Eclipse

version for USB key.

Is there a MySQL-server version for USB key too? Thanks.",3
4074767,11/02/2010 03:39:19,114747,05/30/2009 10:09:43,441,22,"Is a DBMS (MySQL, SQL Server….) interpreted or compiled?","I mean, in the terms of the SQL queries, Are they compiled or interpreted in a low level?. How it works internally, It is a SQL statement interpreted or compiled?.",mysql,dbms,,,,,open,0,30,9,"Is a DBMS (MySQL, SQL Server….) interpreted or compiled? I mean, in the terms of the SQL queries, Are they compiled or interpreted in a low level?. How it works internally, It is a SQL statement interpreted or compiled?.",2
7568032,09/27/2011 11:01:29,443669,09/09/2010 17:17:36,11,2,Mysql deleting rows not in other table,"I know this is possible, but not when you need to reference the row you want to delete from. For example:

    select * from `dvd_role` r
    left join `dvd_actor2role` a on a.`roleId` = r.id
    where a.roleId is null;

This produces the offending rows which are not present in the dvd_actor2role table and I want to delete. But I cannot use the dvd_role table in the subquery or I get an error, yet I need that table to be able to determine which rows to delete. 

Is there a workaround for this within SQL? 

Thanks. ",mysql,,,,,,open,0,103,7,"Mysql deleting rows not in other table I know this is possible, but not when you need to reference the row you want to delete from. For example:

    select * from `dvd_role` r
    left join `dvd_actor2role` a on a.`roleId` = r.id
    where a.roleId is null;

This produces the offending rows which are not present in the dvd_actor2role table and I want to delete. But I cannot use the dvd_role table in the subquery or I get an error, yet I need that table to be able to determine which rows to delete. 

Is there a workaround for this within SQL? 

Thanks. ",1
10316010,04/25/2012 12:50:14,1277956,03/19/2012 06:19:52,13,3,Hacking attempt in mysql.log?,"I'm running Ubuntu with plesk. After noticing some suspicious data i started logging all queries. A few hours later... Looks like someone created a database and attempted to insert a new user into mysql.user table.

I hope I'm just being paranoid 

    750 Connect	admin@localhost on 
    750 Query	SELECT VERSION()
    		  748 Query	select `name`,`version` from Components
    		  750 Query	create database `BUG115166_19826690404F97A4DB6CCAB` /*!40101 default charset=utf8 */
    		  750 Query	create database `bug115166_19826690404f97a4db6ccab` /*!40101 default charset=utf8 */
    		  750 Query	insert into mysql.user (Host, User, Password) values ('%', 'bug115166_29609', password('BUG115166_19826690404F97A4DB6CCAB'))
    		  750 Query	FLUSH PRIVILEGES
    		  750 Query	GRANT ALL ON `BUG115166_19826690404F97A4DB6CCAB`.* to 'bug115166_29609'
    		  751 Connect	bug115166_29609@localhost on 
    		  751 Query	USE `BUG115166_19826690404F97A4DB6CCAB`
    		  751 Query	USE `bug115166_19826690404f97a4db6ccab`
    		  751 Init DB	Access denied for user 'bug115166_29609'@'%' to database 'bug115166_19826690404f97a4db6ccab'
    		  750 Query	REVOKE ALL ON `BUG115166_19826690404F97A4DB6CCAB`.* FROM 'bug115166_29609'
    		  750 Query	DELETE FROM mysql.user WHERE User='bug115166_29609'
    		  750 Query	FLUSH PRIVILEGES
    		  750 Query	drop database if exists `bug115166_19826690404f97a4db6ccab`
    		  750 Query	drop database if exists `bug115166_19826690404f97a4db6ccab`
    		  750 Query	drop database if exists `BUG115166_19826690404F97A4DB6CCAB`
    		  750 Query	drop database if exists `BUG115166_19826690404F97A4DB6CCAB`
    		  751 Quit	
    		  750 Query	show databases like 'd21193485464f97a4db6c8a9'
    		  750 Query	create database `d21193485464f97a4db6c8a9` /*!40101 default charset=utf8 */
    		  750 Query	drop database if exists `d21193485464f97a4db6c8a9`
    		  750 Query	drop database if exists `d21193485464f97a4db6c8a9`",mysql,hack,,,,04/25/2012 16:54:00,off topic,1,293,4,"Hacking attempt in mysql.log? I'm running Ubuntu with plesk. After noticing some suspicious data i started logging all queries. A few hours later... Looks like someone created a database and attempted to insert a new user into mysql.user table.

I hope I'm just being paranoid 

    750 Connect	admin@localhost on 
    750 Query	SELECT VERSION()
    		  748 Query	select `name`,`version` from Components
    		  750 Query	create database `BUG115166_19826690404F97A4DB6CCAB` /*!40101 default charset=utf8 */
    		  750 Query	create database `bug115166_19826690404f97a4db6ccab` /*!40101 default charset=utf8 */
    		  750 Query	insert into mysql.user (Host, User, Password) values ('%', 'bug115166_29609', password('BUG115166_19826690404F97A4DB6CCAB'))
    		  750 Query	FLUSH PRIVILEGES
    		  750 Query	GRANT ALL ON `BUG115166_19826690404F97A4DB6CCAB`.* to 'bug115166_29609'
    		  751 Connect	bug115166_29609@localhost on 
    		  751 Query	USE `BUG115166_19826690404F97A4DB6CCAB`
    		  751 Query	USE `bug115166_19826690404f97a4db6ccab`
    		  751 Init DB	Access denied for user 'bug115166_29609'@'%' to database 'bug115166_19826690404f97a4db6ccab'
    		  750 Query	REVOKE ALL ON `BUG115166_19826690404F97A4DB6CCAB`.* FROM 'bug115166_29609'
    		  750 Query	DELETE FROM mysql.user WHERE User='bug115166_29609'
    		  750 Query	FLUSH PRIVILEGES
    		  750 Query	drop database if exists `bug115166_19826690404f97a4db6ccab`
    		  750 Query	drop database if exists `bug115166_19826690404f97a4db6ccab`
    		  750 Query	drop database if exists `BUG115166_19826690404F97A4DB6CCAB`
    		  750 Query	drop database if exists `BUG115166_19826690404F97A4DB6CCAB`
    		  751 Quit	
    		  750 Query	show databases like 'd21193485464f97a4db6c8a9'
    		  750 Query	create database `d21193485464f97a4db6c8a9` /*!40101 default charset=utf8 */
    		  750 Query	drop database if exists `d21193485464f97a4db6c8a9`
    		  750 Query	drop database if exists `d21193485464f97a4db6c8a9`",2
7844521,10/21/2011 03:04:40,550622,12/21/2010 23:37:31,25,1,Best Way To Store Roster In SQL Database,"I'm working on a roster system for my workplace and was wondering what the best way of storing roster information in the database would be i.e there are staff members already in the database, and every staff member would have roster information for each day that there is a shift rostered to them - similar to findmyshift.com.",mysql,sql,database,,,10/25/2011 20:42:21,not a real question,1,57,8,"Best Way To Store Roster In SQL Database I'm working on a roster system for my workplace and was wondering what the best way of storing roster information in the database would be i.e there are staff members already in the database, and every staff member would have roster information for each day that there is a shift rostered to them - similar to findmyshift.com.",3
3742730,09/18/2010 17:35:54,387852,07/09/2010 15:03:07,1,0,Poor MySQL Join Performance,"I've been trying to perform a join on two tables in MySQL, and the query will run for a minute or two before I run out of memory without getting results.  I'm far from a database expert, so I'm not sure if I'm writing my queries poorly, if I have some MySQL settings poorly configured, or if I really should be doing something else entirely with my query.  FYI the database is located locally on my machine.

I have a large table (~2 million records) where one of the columns is an ID into a small table (~3000 records).  In case this matters, the ID is not unique in the large table but is unique in the small table.  I've tried various flavors of the following query, but nothing seems to be working:

    SELECT big_table.*, small_table.id FROM big_table left outer join small_table on (big_table.small_id = small_table.id)",mysql,database,performance,join,query-optimization,,open,0,152,4,"Poor MySQL Join Performance I've been trying to perform a join on two tables in MySQL, and the query will run for a minute or two before I run out of memory without getting results.  I'm far from a database expert, so I'm not sure if I'm writing my queries poorly, if I have some MySQL settings poorly configured, or if I really should be doing something else entirely with my query.  FYI the database is located locally on my machine.

I have a large table (~2 million records) where one of the columns is an ID into a small table (~3000 records).  In case this matters, the ID is not unique in the large table but is unique in the small table.  I've tried various flavors of the following query, but nothing seems to be working:

    SELECT big_table.*, small_table.id FROM big_table left outer join small_table on (big_table.small_id = small_table.id)",5
7985145,11/02/2011 18:04:07,898577,08/17/2011 12:06:19,5,0,MySQL vs. JSON - Why?,I'm designing a little web-app/game. What would be better: MySQL tables or json files? They both store information. What are the advantages/disadvantages?,mysql,json,,,,11/02/2011 18:25:59,not constructive,1,22,5,MySQL vs. JSON - Why? I'm designing a little web-app/game. What would be better: MySQL tables or json files? They both store information. What are the advantages/disadvantages?,2
4164580,11/12/2010 12:26:15,276030,02/18/2010 12:09:06,410,4,Intersection in mysql,"my first query 

SELECT ID FROM wp_posts  WHERE post_type = 'post' AND post_status = 'publish' AND ID IN 
(Select object_id FROM wp_term_relationships, wp_terms WHERE wp_term_relationships.term_taxonomy_id =8 or wp_term_relationships.term_taxonomy_id =18) ORDER BY post_date DESC


produce result 

     31 and 28

and my second query 

SELECT ID FROM wp_posts  WHERE post_type = 'post' AND post_status = 'publish' AND ID IN 
(Select object_id FROM wp_term_relationships, wp_terms WHERE wp_term_relationships.term_taxonomy_id =18 or wp_term_relationships.term_taxonomy_id =18) ORDER BY post_date DESC

will produce

 

    31 and 33

I need to get intersection of both query result.ie, `31` only. how can we get it using mysql",mysql,,,,,,open,0,102,3,"Intersection in mysql my first query 

SELECT ID FROM wp_posts  WHERE post_type = 'post' AND post_status = 'publish' AND ID IN 
(Select object_id FROM wp_term_relationships, wp_terms WHERE wp_term_relationships.term_taxonomy_id =8 or wp_term_relationships.term_taxonomy_id =18) ORDER BY post_date DESC


produce result 

     31 and 28

and my second query 

SELECT ID FROM wp_posts  WHERE post_type = 'post' AND post_status = 'publish' AND ID IN 
(Select object_id FROM wp_term_relationships, wp_terms WHERE wp_term_relationships.term_taxonomy_id =18 or wp_term_relationships.term_taxonomy_id =18) ORDER BY post_date DESC

will produce

 

    31 and 33

I need to get intersection of both query result.ie, `31` only. how can we get it using mysql",1
3916271,10/12/2010 15:24:56,551586,10/12/2010 15:15:22,1,0,im getting error 1136 when inserting values into table,"INSERT INTO Customer2
 VALUES (1, 'Mrs','Jill','Hill','2 Step St','Hillington','Uxbridge','Middx''UB10 8XY','020    8999 684') ;",mysql,,,,,10/22/2011 17:43:35,too localized,1,15,9,"im getting error 1136 when inserting values into table INSERT INTO Customer2
 VALUES (1, 'Mrs','Jill','Hill','2 Step St','Hillington','Uxbridge','Middx''UB10 8XY','020    8999 684') ;",1
7665750,10/05/2011 18:14:30,330026,04/30/2010 19:15:59,1,0,Ubuntu buffer cache freezes on sync,"I am not that strong in linux / unix so asking for any help on problem I have.
I am running site on amazon ec2.
I am running apache tomcat mysql on one large instance 8gb of RAM.
Database is quite large but I don't have problems with performance and there is around 3gb of free memory on the box.
I noticed that about once in a hour box becomes virtually frozen, so site is not responding and even ssh shell is very slow.
I enabled performance monitoring and noticed that amazon reports that each hour or so there are huge  disk i/o spikes.

I am running UBUNTU with kernel release 2.6.32-305-ec2
So I started monitor with vmstat and noticed that in normal operation box reports around 1.5gb  free memory and 2gb of cache and cache is gradually grows.
but at some point cache starts growing takes whole ram leaving like 1mb free or something like that.
And then I see lots of processes waiting for disk and everything depening on drives i/o freezes. It lasts from 3 to 5 minutes usually.
My understanding that system is dumping cache to the drive and freeing memory and that is what causing all that mess.
I did not have this problem before I think it started recently when I loaded much more data in mysql. But again there are plenty of  free memory it just management of the memory and cache by linux causing it. I read that it should be seamless and it is good thing to have buffer cache but having site down for 5 minutes each hour is definitely bad thing for me.
Please advice what options I have with it. I could not find anything on internet.

Thank you",mysql,linux,caching,buffer,freeze,10/06/2011 08:32:25,off topic,1,281,6,"Ubuntu buffer cache freezes on sync I am not that strong in linux / unix so asking for any help on problem I have.
I am running site on amazon ec2.
I am running apache tomcat mysql on one large instance 8gb of RAM.
Database is quite large but I don't have problems with performance and there is around 3gb of free memory on the box.
I noticed that about once in a hour box becomes virtually frozen, so site is not responding and even ssh shell is very slow.
I enabled performance monitoring and noticed that amazon reports that each hour or so there are huge  disk i/o spikes.

I am running UBUNTU with kernel release 2.6.32-305-ec2
So I started monitor with vmstat and noticed that in normal operation box reports around 1.5gb  free memory and 2gb of cache and cache is gradually grows.
but at some point cache starts growing takes whole ram leaving like 1mb free or something like that.
And then I see lots of processes waiting for disk and everything depening on drives i/o freezes. It lasts from 3 to 5 minutes usually.
My understanding that system is dumping cache to the drive and freeing memory and that is what causing all that mess.
I did not have this problem before I think it started recently when I loaded much more data in mysql. But again there are plenty of  free memory it just management of the memory and cache by linux causing it. I read that it should be seamless and it is good thing to have buffer cache but having site down for 5 minutes each hour is definitely bad thing for me.
Please advice what options I have with it. I could not find anything on internet.

Thank you",5
4124355,11/08/2010 13:42:53,454798,09/22/2010 08:14:58,11,1,"How to create this script, into PHP function?","Here is a link, to the source: <https://docs.google.com/document/pub?id=1VxiZbysGLVx71ni0biGm2NbhhSCkPZmGWng-ik7IHNQ>



    <?php  
$user1 = mysql_query(""SELECT * FROM `users` WHERE `id`='$user->id'"");
while($user = mysql_fetch_object($user1)){
   $data2 = mysql_query(""SELECT *,UNIX_TIMESTAMP(`start`) AS `start`,0 FROM `users` WHERE `id`='$user->id'"");
     $data1 = mysql_fetch_object($data2);
$date = $user->howlong;
   $timedif1 = $data1->start-3600+$date-time();
   if($data1->start + $date > time()){
  list($h,$min,$sec)=explode("":"",date(""H:i:s"",$timedif1));
$countdown = $data1->start+$date-time();

}
}
?>
You have <?php echo $countdown ?> time to end!

Question: <b>How to create this script, into PHP function?</b>",mysql,php5,,,,,open,0,76,8,"How to create this script, into PHP function? Here is a link, to the source: <https://docs.google.com/document/pub?id=1VxiZbysGLVx71ni0biGm2NbhhSCkPZmGWng-ik7IHNQ>



    <?php  
$user1 = mysql_query(""SELECT * FROM `users` WHERE `id`='$user->id'"");
while($user = mysql_fetch_object($user1)){
   $data2 = mysql_query(""SELECT *,UNIX_TIMESTAMP(`start`) AS `start`,0 FROM `users` WHERE `id`='$user->id'"");
     $data1 = mysql_fetch_object($data2);
$date = $user->howlong;
   $timedif1 = $data1->start-3600+$date-time();
   if($data1->start + $date > time()){
  list($h,$min,$sec)=explode("":"",date(""H:i:s"",$timedif1));
$countdown = $data1->start+$date-time();

}
}
?>
You have <?php echo $countdown ?> time to end!

Question: <b>How to create this script, into PHP function?</b>",2
11388280,07/09/2012 01:55:10,1510384,07/08/2012 18:03:49,1,0,sql query old to new,"    CREATE TABLE  `comment_threads` (

 `comment_id` INT( 11 ) UNSIGNED NOT NULL DEFAULT  '0',
 `updated` TIMESTAMP( 14 ) NOT NULL ,
 `timestamp` TIMESTAMP NOT NULL PRIMARY KEY (  `comment_id` )
) ENGINE = MYISAM ;

I need help with this if anybody could help me I would appreciate it",mysql,old,,,,07/09/2012 03:05:09,not a real question,1,53,5,"sql query old to new     CREATE TABLE  `comment_threads` (

 `comment_id` INT( 11 ) UNSIGNED NOT NULL DEFAULT  '0',
 `updated` TIMESTAMP( 14 ) NOT NULL ,
 `timestamp` TIMESTAMP NOT NULL PRIMARY KEY (  `comment_id` )
) ENGINE = MYISAM ;

I need help with this if anybody could help me I would appreciate it",2
10932726,06/07/2012 13:23:36,583262,01/20/2011 16:32:34,138,0,How to query 3 mysql tables and return matching results (with one to many relationships)?,"I am trying to query a database to return some matching records and can't work out how to do it in the most efficient way. I have a TUsers table, a TJobsOffered table and a TJobsRequested table. The UserID is the primary key for the TUsers table and is used within the Job tables in a one to many relationship.

Ultimately I want to run a query that returns a list of all matching users based on a particular UserID (eg a matching user is one that has at least one matching record in both tables, eg if UserA has jobid 999 listed in TJobsOffered and UserB has jobid 999 listed in TJobsRequested then this is a match).

In order to try and get my head around it i've simplified it down a lot and am trying to match the records based on the jobids for the user in question, eg:

    SELECT DISTINCT TJobsOffered.FUserID FROM TJobsOffered, TJobsRequested
    WHERE TJobsOffered.FUserID=TJobsRequested.FUserID AND 
    (TJobsRequested.FJobID='12' OR TJobsRequested.FJobID='30') AND
    (TJobsOffered.FJobID='86' OR TJobsOffered.FJobID='5')

This seems to work fine and returns the correct results however when I introduce the TUsers table (so I can access user information) it starts returning incorrect results. I can't work out why the following query doesn't return the same results as the one listed above as surely it's still matching the same information just with a different connector (or is the one above effectively many to many and the one below 2 sets of one to many comparisons)?

    SELECT DISTINCT TUsers.Fid, TUsers.FName FROM TUsers, TJobsOffered, TJobsRequested
    WHERE TUsers.Fid=TJobsRequested.FUserID AND TUsers.Fid=TJobsOffered.FUserID AND
    (TJobsRequested.FJobID='12' OR TJobsRequested.FJobID='30') AND
    (TJobsOffered.FJobID='86' OR TJobsOffered.FJobID='5')

If anyone could  explain where i'm going wrong with the second query and how you should incorporate TUsers then that would be greatly appreciated as I can't get my head around the join. If you are able to give me any pointers as to how I can do this all in one query by just passing the user id in then that would be massively appreciated as well! :)

Thanks so much,

Dave",mysql,database,query,join,,,open,0,359,15,"How to query 3 mysql tables and return matching results (with one to many relationships)? I am trying to query a database to return some matching records and can't work out how to do it in the most efficient way. I have a TUsers table, a TJobsOffered table and a TJobsRequested table. The UserID is the primary key for the TUsers table and is used within the Job tables in a one to many relationship.

Ultimately I want to run a query that returns a list of all matching users based on a particular UserID (eg a matching user is one that has at least one matching record in both tables, eg if UserA has jobid 999 listed in TJobsOffered and UserB has jobid 999 listed in TJobsRequested then this is a match).

In order to try and get my head around it i've simplified it down a lot and am trying to match the records based on the jobids for the user in question, eg:

    SELECT DISTINCT TJobsOffered.FUserID FROM TJobsOffered, TJobsRequested
    WHERE TJobsOffered.FUserID=TJobsRequested.FUserID AND 
    (TJobsRequested.FJobID='12' OR TJobsRequested.FJobID='30') AND
    (TJobsOffered.FJobID='86' OR TJobsOffered.FJobID='5')

This seems to work fine and returns the correct results however when I introduce the TUsers table (so I can access user information) it starts returning incorrect results. I can't work out why the following query doesn't return the same results as the one listed above as surely it's still matching the same information just with a different connector (or is the one above effectively many to many and the one below 2 sets of one to many comparisons)?

    SELECT DISTINCT TUsers.Fid, TUsers.FName FROM TUsers, TJobsOffered, TJobsRequested
    WHERE TUsers.Fid=TJobsRequested.FUserID AND TUsers.Fid=TJobsOffered.FUserID AND
    (TJobsRequested.FJobID='12' OR TJobsRequested.FJobID='30') AND
    (TJobsOffered.FJobID='86' OR TJobsOffered.FJobID='5')

If anyone could  explain where i'm going wrong with the second query and how you should incorporate TUsers then that would be greatly appreciated as I can't get my head around the join. If you are able to give me any pointers as to how I can do this all in one query by just passing the user id in then that would be massively appreciated as well! :)

Thanks so much,

Dave",4
8890966,01/17/2012 07:21:44,983624,10/07/2011 08:30:22,21,2,Want to delete half of the records from mysql database table?,You have a table with an unknown number of records. You want to delete half of the records. You don’t care which records are deleted. What’s the most efficient way to do it?,mysql,,,,,01/17/2012 14:05:33,not a real question,1,33,11,Want to delete half of the records from mysql database table? You have a table with an unknown number of records. You want to delete half of the records. You don’t care which records are deleted. What’s the most efficient way to do it?,1
9373843,02/21/2012 07:41:23,1222785,02/21/2012 07:17:38,1,0,(INNODB)Meet deadlock when deleting different records from same table in different transactions,"all  

I met the following deadlock once and was very confusing about why the deadlock happened.  
 
TRANSACTION(1) is running sql: 
delete from `test_STEP` where `test_C1`=865 

TRANSACTION(2) is running sql: 
delete from `test_STEP` where `test_C1`=866 

Column test_C1 has unique index named test_STEP_IDX. And the PRIMARY index is for another column named E_ID.

From the deadlock info, we could see that TRANSACTION(1) wasn't holding any lock but was waiting for a certain record lock in X mode on PRIMARY index to be granted. TRANSACTION(2) was holding some record locks in X mode on PRIMARY index including the one TRANSACTION(1) was waiting for. And TRANSACTION(2) was still waiting for another record lock in X mode on PRIMARY index. That was so confusing. What exactly TRANSACTION(1) hold and kept TRANSACTION(2) from going on? 

Could anybody share some light about this? Thanks in advanced. 

Following is the deadlock information showing by ""SHOW ENGINE INNODB STATUS\G"". 

    ------------------------ 
    LATEST DETECTED DEADLOCK 
    ------------------------ 
    120130 12:10:22 
    *** (1) TRANSACTION: 
    TRANSACTION A4CA, ACTIVE 1 sec fetching rows 
    mysql tables in use 1, locked 1 
    LOCK WAIT 9 lock struct(s), heap size 1248, 7 row lock(s), undo log entries 9 
    MySQL thread id 27879, OS thread handle 0x4b52b940, query id 103192 qa64 10.101.7.27 hyang updating 
    delete from `test_STEP` where `test_C1`=865 
    *** (1) WAITING FOR THIS LOCK TO BE GRANTED: 
    RECORD LOCKS space id 0 page no 7664 n bits 168 index `PRIMARY` of table ` abc`.`test_step` trx id A4CA lock_mode X locks rec but not gap waiting 
    Record lock, heap no 67 PHYSICAL RECORD: n_fields 15; compact format; info bits 32 
    0: len 8; hex 8000000000000ce5; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 150000015e1e80; asc ^ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: len 8; hex 8000000000000362; asc b;; 
    14: len 4; hex 80000000; asc ;; 
    
    *** (2) TRANSACTION: 
    TRANSACTION A4B5, ACTIVE 1 sec fetching rows 
    mysql tables in use 1, locked 1 
    12 lock struct(s), heap size 3112, 12 row lock(s), undo log entries 11 
    MySQL thread id 27821, OS thread handle 0x4a8ba940, query id 102966 qa64 10.101.7.27 hyang updating 
    delete from `test_STEP` where `test_C1`=866 
    *** (2) HOLDS THE LOCK(S): 
    RECORD LOCKS space id 0 page no 7664 n bits 192 index `PRIMARY` of table ` abc`.`test_step` trx id A4B5 lock_mode X locks rec but not gap 
    Record lock, heap no 67 PHYSICAL RECORD: n_fields 15; compact format; info bits 32 
    0: len 8; hex 8000000000000ce5; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 150000015e1e80; asc ^ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: len 8; hex 8000000000000362; asc b;; 
    14: len 4; hex 80000000; asc ;; 
    
    Record lock, heap no 68 PHYSICAL RECORD: n_fields 15; compact format; info bits 32 
    0: len 8; hex 8000000000000ce6; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 150000015e1ec1; asc ^ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000002; asc ;; 
    6: len 22; hex 5243202d205061796d656e7420746f204d61726b6574; asc RC - Payment to Market;; 
    7: len 7; hex 53746172746564; asc Started;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: SQL NULL; 
    10: SQL NULL; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: len 8; hex 8000000000000362; asc b;; 
    14: len 4; hex 80000001; asc ;; 
    
    Record lock, heap no 96 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d03; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 950000015f0110; asc _ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    Record lock, heap no 97 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d04; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 950000015f0121; asc _ !;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000002; asc ;; 
    6: len 22; hex 5243202d205061796d656e7420746f204d61726b6574; asc RC - Payment to Market;; 
    7: len 7; hex 53746172746564; asc Started;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: SQL NULL; 
    10: SQL NULL; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    Record lock, heap no 98 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d05; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 950000015f0132; asc _ 2;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000003; asc ;; 
    6: len 25; hex 5243202d2053776974636820446f632047656e657261746564; asc RC - Switch Doc Generated;; 
    7: len 7; hex 53746172746564; asc Started;; 
    8: len 8; hex 8000124c95356d3c; asc L 5m<;; 
    9: SQL NULL; 
    10: SQL NULL; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    *** (2) WAITING FOR THIS LOCK TO BE GRANTED: 
    RECORD LOCKS space id 0 page no 7664 n bits 168 index `PRIMARY` of table ` abc`.`test_step` trx id A4B5 lock_mode X locks rec but not gap waiting 
    Record lock, heap no 99 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d06; asc ;; 
    1: len 6; hex 00000000a4ca; asc ;; 
    2: len 7; hex a800001bcc0110; asc ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    *** WE ROLL BACK TRANSACTION (1)



",mysql,innodb,deadlock,,,,open,0,1724,12,"(INNODB)Meet deadlock when deleting different records from same table in different transactions all  

I met the following deadlock once and was very confusing about why the deadlock happened.  
 
TRANSACTION(1) is running sql: 
delete from `test_STEP` where `test_C1`=865 

TRANSACTION(2) is running sql: 
delete from `test_STEP` where `test_C1`=866 

Column test_C1 has unique index named test_STEP_IDX. And the PRIMARY index is for another column named E_ID.

From the deadlock info, we could see that TRANSACTION(1) wasn't holding any lock but was waiting for a certain record lock in X mode on PRIMARY index to be granted. TRANSACTION(2) was holding some record locks in X mode on PRIMARY index including the one TRANSACTION(1) was waiting for. And TRANSACTION(2) was still waiting for another record lock in X mode on PRIMARY index. That was so confusing. What exactly TRANSACTION(1) hold and kept TRANSACTION(2) from going on? 

Could anybody share some light about this? Thanks in advanced. 

Following is the deadlock information showing by ""SHOW ENGINE INNODB STATUS\G"". 

    ------------------------ 
    LATEST DETECTED DEADLOCK 
    ------------------------ 
    120130 12:10:22 
    *** (1) TRANSACTION: 
    TRANSACTION A4CA, ACTIVE 1 sec fetching rows 
    mysql tables in use 1, locked 1 
    LOCK WAIT 9 lock struct(s), heap size 1248, 7 row lock(s), undo log entries 9 
    MySQL thread id 27879, OS thread handle 0x4b52b940, query id 103192 qa64 10.101.7.27 hyang updating 
    delete from `test_STEP` where `test_C1`=865 
    *** (1) WAITING FOR THIS LOCK TO BE GRANTED: 
    RECORD LOCKS space id 0 page no 7664 n bits 168 index `PRIMARY` of table ` abc`.`test_step` trx id A4CA lock_mode X locks rec but not gap waiting 
    Record lock, heap no 67 PHYSICAL RECORD: n_fields 15; compact format; info bits 32 
    0: len 8; hex 8000000000000ce5; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 150000015e1e80; asc ^ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: len 8; hex 8000000000000362; asc b;; 
    14: len 4; hex 80000000; asc ;; 
    
    *** (2) TRANSACTION: 
    TRANSACTION A4B5, ACTIVE 1 sec fetching rows 
    mysql tables in use 1, locked 1 
    12 lock struct(s), heap size 3112, 12 row lock(s), undo log entries 11 
    MySQL thread id 27821, OS thread handle 0x4a8ba940, query id 102966 qa64 10.101.7.27 hyang updating 
    delete from `test_STEP` where `test_C1`=866 
    *** (2) HOLDS THE LOCK(S): 
    RECORD LOCKS space id 0 page no 7664 n bits 192 index `PRIMARY` of table ` abc`.`test_step` trx id A4B5 lock_mode X locks rec but not gap 
    Record lock, heap no 67 PHYSICAL RECORD: n_fields 15; compact format; info bits 32 
    0: len 8; hex 8000000000000ce5; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 150000015e1e80; asc ^ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: len 8; hex 8000000000000362; asc b;; 
    14: len 4; hex 80000000; asc ;; 
    
    Record lock, heap no 68 PHYSICAL RECORD: n_fields 15; compact format; info bits 32 
    0: len 8; hex 8000000000000ce6; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 150000015e1ec1; asc ^ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000002; asc ;; 
    6: len 22; hex 5243202d205061796d656e7420746f204d61726b6574; asc RC - Payment to Market;; 
    7: len 7; hex 53746172746564; asc Started;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: SQL NULL; 
    10: SQL NULL; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: len 8; hex 8000000000000362; asc b;; 
    14: len 4; hex 80000001; asc ;; 
    
    Record lock, heap no 96 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d03; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 950000015f0110; asc _ ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    Record lock, heap no 97 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d04; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 950000015f0121; asc _ !;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000002; asc ;; 
    6: len 22; hex 5243202d205061796d656e7420746f204d61726b6574; asc RC - Payment to Market;; 
    7: len 7; hex 53746172746564; asc Started;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: SQL NULL; 
    10: SQL NULL; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    Record lock, heap no 98 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d05; asc ;; 
    1: len 6; hex 00000000a4b5; asc ;; 
    2: len 7; hex 950000015f0132; asc _ 2;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000003; asc ;; 
    6: len 25; hex 5243202d2053776974636820446f632047656e657261746564; asc RC - Switch Doc Generated;; 
    7: len 7; hex 53746172746564; asc Started;; 
    8: len 8; hex 8000124c95356d3c; asc L 5m<;; 
    9: SQL NULL; 
    10: SQL NULL; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    *** (2) WAITING FOR THIS LOCK TO BE GRANTED: 
    RECORD LOCKS space id 0 page no 7664 n bits 168 index `PRIMARY` of table ` abc`.`test_step` trx id A4B5 lock_mode X locks rec but not gap waiting 
    Record lock, heap no 99 PHYSICAL RECORD: n_fields 15; compact format; info bits 0 
    0: len 8; hex 8000000000000d06; asc ;; 
    1: len 6; hex 00000000a4ca; asc ;; 
    2: len 7; hex a800001bcc0110; asc ;; 
    3: len 30; hex 636f6d2e7478752e6d336f2e646372632e6e6f662e446372635374657054; asc ; (total 33 bytes); 
    4: len 4; hex 80000000; asc ;; 
    5: len 4; hex 80000001; asc ;; 
    6: len 27; hex 5243202d204e6f74696669636174696f6e2047656e657261746564; asc RC - Notification Generated;; 
    7: len 5; hex 456e646564; asc Ended;; 
    8: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    9: len 8; hex 8000124c95356d3a; asc L 5m:;; 
    10: len 4; hex 80000000; asc ;; 
    11: SQL NULL; 
    12: SQL NULL; 
    13: SQL NULL; 
    14: SQL NULL; 
    
    *** WE ROLL BACK TRANSACTION (1)



",3
2633235,04/13/2010 21:11:22,115593,06/01/2009 18:52:17,265,5,"Complex SQL query, one to many relationship","I have a query such that I need to get 

1. A specific dog
2. All comments relating to that dog
3. The user who posted each comment
4. All links to images of the dog
5. the user who posted each link

I've tried a several things, and can't figure out quite how to work it.  Here's what I have (condensed so you don't have to wade through it all):

                                          

     SELECT s.dog_id,
            s.name,
            c.comment,
            c.date_added AS comment_date_added,
            u.username AS comment_username,
            u.user_id AS comment_user_id,
            l.link AS link,
            l.date_added AS link_date_added,
            u2.username AS link_username,
            u2.user_id AS link_user_id
     FROM dogs AS d
     LEFT JOIN comments AS c
     ON c.dog_id = d.dog_id
     LEFT JOIN users AS u
     ON c.user_id = u.user_id
     LEFT JOIN links AS l
     ON l.dog_id = d.dog_id
     LEFT JOIN users AS u2
     ON l.user_id = u2.user_id
     WHERE d.dog_id = '1'

It's sorta close to working, but it'll only return me the first comment, and the first link all as one big array with all the info i requested.  The are multiple comments and links per dog, so I need it to give me all the comments and all the links.  Ideally it'd return an object with dog_id, name, comments(an array of the comments), links(an array of the links) and then comments would have a bunch of comments, date_added, username, and user_id and links would have a bunch of links with link, date_added, username and user_id.  It's got to work even if there are no links or comments.  

I learned the basics of mySQL somewhat recently, but this is pretty far over my head.  Any help would be wonderful.  Thanks!",mysql,query,join,,,,open,0,455,7,"Complex SQL query, one to many relationship I have a query such that I need to get 

1. A specific dog
2. All comments relating to that dog
3. The user who posted each comment
4. All links to images of the dog
5. the user who posted each link

I've tried a several things, and can't figure out quite how to work it.  Here's what I have (condensed so you don't have to wade through it all):

                                          

     SELECT s.dog_id,
            s.name,
            c.comment,
            c.date_added AS comment_date_added,
            u.username AS comment_username,
            u.user_id AS comment_user_id,
            l.link AS link,
            l.date_added AS link_date_added,
            u2.username AS link_username,
            u2.user_id AS link_user_id
     FROM dogs AS d
     LEFT JOIN comments AS c
     ON c.dog_id = d.dog_id
     LEFT JOIN users AS u
     ON c.user_id = u.user_id
     LEFT JOIN links AS l
     ON l.dog_id = d.dog_id
     LEFT JOIN users AS u2
     ON l.user_id = u2.user_id
     WHERE d.dog_id = '1'

It's sorta close to working, but it'll only return me the first comment, and the first link all as one big array with all the info i requested.  The are multiple comments and links per dog, so I need it to give me all the comments and all the links.  Ideally it'd return an object with dog_id, name, comments(an array of the comments), links(an array of the links) and then comments would have a bunch of comments, date_added, username, and user_id and links would have a bunch of links with link, date_added, username and user_id.  It's got to work even if there are no links or comments.  

I learned the basics of mySQL somewhat recently, but this is pretty far over my head.  Any help would be wonderful.  Thanks!",3
10519597,05/09/2012 15:51:39,584490,01/21/2011 13:22:36,139,17,"MySQL composite UNIQUE INDEX, uniqueness derived from multiple columns","I have 2 rows (user_id and email). user_id and email have the same values on the two rows (the rows are identical). `user_id` is not the primary key here, that's some other column.

     ALTER TABLE  `some_table` ADD UNIQUE  `user_id_email` (`user_id` ,  `email`);

`#1062 - Duplicate entry '6457-someemail@somedomain.xxx' for key 'user_id_email'.`

I supose the above is the normal behaviour. What I want is uniqueness derived from combining the two keys, such as the constraint would allow both keys to be the same on 2 rows, and not allow one equal and one different.",mysql,,,,,05/14/2012 17:41:38,off topic,1,97,9,"MySQL composite UNIQUE INDEX, uniqueness derived from multiple columns I have 2 rows (user_id and email). user_id and email have the same values on the two rows (the rows are identical). `user_id` is not the primary key here, that's some other column.

     ALTER TABLE  `some_table` ADD UNIQUE  `user_id_email` (`user_id` ,  `email`);

`#1062 - Duplicate entry '6457-someemail@somedomain.xxx' for key 'user_id_email'.`

I supose the above is the normal behaviour. What I want is uniqueness derived from combining the two keys, such as the constraint would allow both keys to be the same on 2 rows, and not allow one equal and one different.",1
2970247,06/03/2010 22:27:25,293185,03/13/2010 23:23:37,42,1,Structure of a music database - multiple or single table?,"I'm creating a music player, where the user can search for artists, albums, or songs. 

I have created a script that reads all the tags from the mp3s in the music library, and updates a database of songs, in a single table, containing artist names, albums, track titles, etc.
Currently, this works well, because it can scan for any changes in the music library, and add/delete rows for corresponding songs in the database.
This scan routine is therefore a fairly short an easy to understand piece of code, because it maintains only a single table.

I understand the database would be more powerful if artists, albums, and tracks have their own table, and are all linked to each other. I haven't done anything about the search part yet -- how screwed am I, if I keep everything in one table?

Thanks.

 ",mysql,database,,,,06/05/2010 13:52:11,not a real question,1,138,10,"Structure of a music database - multiple or single table? I'm creating a music player, where the user can search for artists, albums, or songs. 

I have created a script that reads all the tags from the mp3s in the music library, and updates a database of songs, in a single table, containing artist names, albums, track titles, etc.
Currently, this works well, because it can scan for any changes in the music library, and add/delete rows for corresponding songs in the database.
This scan routine is therefore a fairly short an easy to understand piece of code, because it maintains only a single table.

I understand the database would be more powerful if artists, albums, and tracks have their own table, and are all linked to each other. I haven't done anything about the search part yet -- how screwed am I, if I keep everything in one table?

Thanks.

 ",2
11502404,07/16/2012 10:23:49,1483585,06/26/2012 17:50:38,366,29,way to prevent queries from waiting for table level lock,"We've encountered a problem after moving the database of our customer to an extra server. This should have had positive effects on the site's performance, but there is a problem with table locking in MyISAM. (I've heard of using InnoDB instead of MyISAM, but we cannot change the engine in the near future).<br />
We could spot it to an update-query which is performed when a moderator activates a comment on the articlesite. This is the process:

 - update-query is processed  `SET status = 1 WHERE id = 5` (index is set)
 - the cached files of the page are deleted

  
At this point the whole page becomes slow. The database itself is busy for minutes. I fetched the processlist a few times and saw about 60 entries of different select-queries, which were all on the state **waiting for table level lock**. <br /><br />
1. I don't unterstand why this update on the table `article_comments` can affect select-statements for table `article` to wait for table level lock. In processlist almost all waiting queries were from this table. I've read about the fact that updates/inserts are preferred to selects and that this can cause such problems, but the articles-table itself isn't updated when comments become activated, so the selects shouldn't wait. Did I missunterstand that?
<br />
2. Is there something besides changing to InnoDB to prevent this behaviour or at least to get a better balance? I'm very irritated about the fact that this problem did not appear before moving the database to the new server. I guess there is some misconfiguration but I don't know how to identify.",mysql,optimization,myisam,,,07/18/2012 15:02:48,off topic,1,268,10,"way to prevent queries from waiting for table level lock We've encountered a problem after moving the database of our customer to an extra server. This should have had positive effects on the site's performance, but there is a problem with table locking in MyISAM. (I've heard of using InnoDB instead of MyISAM, but we cannot change the engine in the near future).<br />
We could spot it to an update-query which is performed when a moderator activates a comment on the articlesite. This is the process:

 - update-query is processed  `SET status = 1 WHERE id = 5` (index is set)
 - the cached files of the page are deleted

  
At this point the whole page becomes slow. The database itself is busy for minutes. I fetched the processlist a few times and saw about 60 entries of different select-queries, which were all on the state **waiting for table level lock**. <br /><br />
1. I don't unterstand why this update on the table `article_comments` can affect select-statements for table `article` to wait for table level lock. In processlist almost all waiting queries were from this table. I've read about the fact that updates/inserts are preferred to selects and that this can cause such problems, but the articles-table itself isn't updated when comments become activated, so the selects shouldn't wait. Did I missunterstand that?
<br />
2. Is there something besides changing to InnoDB to prevent this behaviour or at least to get a better balance? I'm very irritated about the fact that this problem did not appear before moving the database to the new server. I guess there is some misconfiguration but I don't know how to identify.",3
3840265,10/01/2010 14:46:18,454841,09/22/2010 09:05:29,43,2,The stored procedure in the query,"There is a procedure **GetFileList** - returns, as the name implies, a list of files and a couple more options with them.

Is it possible then to use this procedure in the query select?

Something like this: `select Field1 from Image where Field2 IN (call GetFileList ());`",mysql,,,,,,open,0,45,6,"The stored procedure in the query There is a procedure **GetFileList** - returns, as the name implies, a list of files and a couple more options with them.

Is it possible then to use this procedure in the query select?

Something like this: `select Field1 from Image where Field2 IN (call GetFileList ());`",1
4145280,11/10/2010 14:04:45,134064,07/07/2009 06:03:47,77,0,Choose ODBC or MySQL?,Which is the best database connection methode - ODBC or MySQL andwhy?,mysql,odbc,database-connection,,,11/10/2010 14:13:37,not a real question,1,12,4,Choose ODBC or MySQL? Which is the best database connection methode - ODBC or MySQL andwhy?,3
9733567,03/16/2012 07:38:57,499125,11/06/2010 08:40:24,594,28,Any good resources on InnoDB and not on MySQL?,"Are there any good resources on InnoDB internals? I've been looking around for a while but most of them focuses on the whole MySQL rather than InnoDB. Anything from books, webpages, pdfs to blogs would be great!

To be specific, I need deep understanding of the InnoDB logging and buffer pool mechanism. Such as how the Flush List and LRU List works, how they flush, how to decide what to flush, how Checkpoint works, how Log Sequence Number fits in the whole picture, etc.

Any suggestions would be awesome! Thanks!",mysql,books,innodb,online-resources,,03/21/2012 12:18:45,not constructive,1,88,9,"Any good resources on InnoDB and not on MySQL? Are there any good resources on InnoDB internals? I've been looking around for a while but most of them focuses on the whole MySQL rather than InnoDB. Anything from books, webpages, pdfs to blogs would be great!

To be specific, I need deep understanding of the InnoDB logging and buffer pool mechanism. Such as how the Flush List and LRU List works, how they flush, how to decide what to flush, how Checkpoint works, how Log Sequence Number fits in the whole picture, etc.

Any suggestions would be awesome! Thanks!",4
8192091,11/19/2011 05:20:02,1054975,11/19/2011 05:07:36,1,0,Syntax Error for using cursor in a stored procedures,"I searched the whole website for answer but none of it solve my problem so I'm gona post my error with a new thread.

My code,

DELIMITER $$

USE `DB`$$

DROP PROCEDURE IF EXISTS `GET_Summary`$$

CREATE DEFINER=`connect`@`%` PROCEDURE `GET_Summary`(IN pDateFrom DATE,IN pDateTo DATE)

ROOT:BEGIN

	DECLARE pTotal,pShortCode,pSignUp,pUnSub,pJunk INT;
	DECLARE pCOM NVARCHAR(10);
	DECLARE no_more_rows BOOLEAN;

	CREATE TEMPORARY TABLE TMOMain
	(GrandTotal INT,ShortCode INT,COM NVARCHAR(10),SignUp INT,UnSub INT, Junk INT);  
	
	DECLARE MoMainCur CURSOR FOR
	SELECT COUNT(*),shortcode,(CASE WHEN ComID= 1 THEN 'A'
	WHEN ComID= 2 THEN 'B' WHEN ComID= 3 THEN 'C' ELSE 'UV' END) AS COM
	FROM tbl_inbox 
	INNER JOIN tbl_keyword ON keywordid = recvkeyword 
	WHERE recvDate >='2011-11-15'  AND recvDate < '2011-11-16' 
	GROUP BY shortcode,COM;

	DECLARE CONTINUE HANDLER FOR NOT FOUND
	SET no_more_rows = TRUE;	
	
	OPEN MoMainCur;

	read_loop:LOOP
	FETCH MoMainCur INTO pTotal,pShortCode,pCOM ;

	INSERT INTO TMOMain
	VALUES
	(pTotal,pShortcode,pCOM ,0,0,0);
	IF no_more_rows THEN
        CLOSE MoMainCur;
        LEAVE the_loop;

	END LOOP;

	-- CLOSE MoMain;

	SELECT * FROM TMOMain;
    END$$
DELIMITER ;

MYSQL version 5.1

ERROR Message
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE MoMainCur CURSOR FOR

",mysql,stored-procedures,cursor,delimiter,,,open,0,176,9,"Syntax Error for using cursor in a stored procedures I searched the whole website for answer but none of it solve my problem so I'm gona post my error with a new thread.

My code,

DELIMITER $$

USE `DB`$$

DROP PROCEDURE IF EXISTS `GET_Summary`$$

CREATE DEFINER=`connect`@`%` PROCEDURE `GET_Summary`(IN pDateFrom DATE,IN pDateTo DATE)

ROOT:BEGIN

	DECLARE pTotal,pShortCode,pSignUp,pUnSub,pJunk INT;
	DECLARE pCOM NVARCHAR(10);
	DECLARE no_more_rows BOOLEAN;

	CREATE TEMPORARY TABLE TMOMain
	(GrandTotal INT,ShortCode INT,COM NVARCHAR(10),SignUp INT,UnSub INT, Junk INT);  
	
	DECLARE MoMainCur CURSOR FOR
	SELECT COUNT(*),shortcode,(CASE WHEN ComID= 1 THEN 'A'
	WHEN ComID= 2 THEN 'B' WHEN ComID= 3 THEN 'C' ELSE 'UV' END) AS COM
	FROM tbl_inbox 
	INNER JOIN tbl_keyword ON keywordid = recvkeyword 
	WHERE recvDate >='2011-11-15'  AND recvDate < '2011-11-16' 
	GROUP BY shortcode,COM;

	DECLARE CONTINUE HANDLER FOR NOT FOUND
	SET no_more_rows = TRUE;	
	
	OPEN MoMainCur;

	read_loop:LOOP
	FETCH MoMainCur INTO pTotal,pShortCode,pCOM ;

	INSERT INTO TMOMain
	VALUES
	(pTotal,pShortcode,pCOM ,0,0,0);
	IF no_more_rows THEN
        CLOSE MoMainCur;
        LEAVE the_loop;

	END LOOP;

	-- CLOSE MoMain;

	SELECT * FROM TMOMain;
    END$$
DELIMITER ;

MYSQL version 5.1

ERROR Message
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE MoMainCur CURSOR FOR

",4
8114841,11/13/2011 21:23:29,1022914,11/01/2011 00:35:15,15,0,Where is the my.cnf located on a Vista?,"Would anyone know where I could find the my.cnf file(s) on Vista? I am using XAMPP (C:/xampp) and I tried searching within that directory, but I can't seem to find it.",mysql,windows-vista,my.cnf,,,11/13/2011 23:17:03,off topic,1,31,8,"Where is the my.cnf located on a Vista? Would anyone know where I could find the my.cnf file(s) on Vista? I am using XAMPP (C:/xampp) and I tried searching within that directory, but I can't seem to find it.",3
11536569,07/18/2012 07:44:49,1029574,11/04/2011 11:22:18,1,1,rails 3 datatype for storing document size in terms of MB/GB's?,"I m currently working on Rails 3. In Mysql, I need to store the size value of uploaded documents. For eg: Document-1 is of size 20KB, document-2 is of 100KB and so on. What would be the possible datatypes available in rails 3?",mysql,ruby-on-rails-3,migration,,,07/18/2012 15:12:18,not a real question,1,43,11,"rails 3 datatype for storing document size in terms of MB/GB's? I m currently working on Rails 3. In Mysql, I need to store the size value of uploaded documents. For eg: Document-1 is of size 20KB, document-2 is of 100KB and so on. What would be the possible datatypes available in rails 3?",3
7364321,09/09/2011 15:55:52,931313,09/06/2011 18:21:41,1,0,Can't dump mysql backup file,"I have created a backup of my database and now I want to dump it in to my local machine. My machine is linux machine and I have th eroot password for machine. I tried to dump the in to my local backup database using root password on ssh, but i keep getting an errror . ""ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)"". Please suggest me what to do 

This is the command I am using "" mysql <databasename> < backup.dump.gz""",mysql,backup,mysqldump,,,09/09/2011 16:54:21,off topic,1,85,5,"Can't dump mysql backup file I have created a backup of my database and now I want to dump it in to my local machine. My machine is linux machine and I have th eroot password for machine. I tried to dump the in to my local backup database using root password on ssh, but i keep getting an errror . ""ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)"". Please suggest me what to do 

This is the command I am using "" mysql <databasename> < backup.dump.gz""",3
7643018,10/04/2011 03:37:28,121196,06/11/2009 09:33:59,1533,13,export a large db with terabytes of data,"what's the best way to dump a large(terabytes) db?  are there other faster/efficient way besides mysqldump?  this is intended to be zipped, unzipped, and then reimported into another mysql db on another server.",mysql,database,mysqldump,,,,open,0,35,8,"export a large db with terabytes of data what's the best way to dump a large(terabytes) db?  are there other faster/efficient way besides mysqldump?  this is intended to be zipped, unzipped, and then reimported into another mysql db on another server.",3
222565,10/21/2008 16:37:34,4358,09/03/2008 02:56:48,211,12,Can you recomend a good MySQL stored procedure debugger?,"Can you recommend a good MySQL stored procedure debugger?  
**Extra points if it is open source, and works in linux :)**

Thanks!",mysql,stored-procedures,debugging,,,06/08/2012 15:08:16,not constructive,1,22,9,"Can you recomend a good MySQL stored procedure debugger? Can you recommend a good MySQL stored procedure debugger?  
**Extra points if it is open source, and works in linux :)**

Thanks!",3
4764116,01/21/2011 21:44:13,576142,01/14/2011 20:04:39,33,0,do I need to use full text search for domain names and Ip address??,"I do have domain names and ip address of it. this is almost 200k so when I redesign a table do I need to enable FULL TEXT SEARCH functionality of MySQL??

I want search table with domain names and IP address as well. means I search by domain then it should show IP address and if I search with IP then it should show domain names.",mysql,database,database-design,table,mysql-query,,open,0,65,14,"do I need to use full text search for domain names and Ip address?? I do have domain names and ip address of it. this is almost 200k so when I redesign a table do I need to enable FULL TEXT SEARCH functionality of MySQL??

I want search table with domain names and IP address as well. means I search by domain then it should show IP address and if I search with IP then it should show domain names.",5
8869301,01/15/2012 11:27:10,1148760,01/14/2012 00:33:18,7,0,Bug in php code that I cant seem to find :-(,"I have made the following script to upload a csv and import it into my MYSQL DB, this was my working test, it worked just fine. The problem came with the second example, I added all the fields too it to import but now its not doing a lot, its not giving any errors, it literally just prints the following to the page whenever I try to import anything now :

                            Import Successful : name
        - INSERT IGNORE hqfjt_chronoforms_data_addupdatelead (salutation, leadname, business, address, town, county, postcode, phone, email, gasoiluser,  dervuser, kerouser, annualconsgasoil, annualconsderv, annualconskero, gasoilmargin, dervmargin, keromargin, fueldetails, lubesdetails, otherdetails, sentletterday, sentlettermonth, sentletteryear, sentpostcardday, sentpostcardmonth, sentpostcardyear, sentquoteday, sentquotemonth, sentquoteyear, lastvisitedday, lastvisitedmonth, lastvisitedyear, receivegasoilmailinglist, receivedervmailinglist, receivekeromailinglist, gasoilmailinglist, dervmailinglist, keromailinglist, mailtype, createdby) VALUES ('salutation','name','business name','address','town','county','postcode','phone','email','gasoil user','derv user','kero user','annual consumption gas oil','annual consumption derv','annual consumption kero','gas oil margin','derv margin','kero margin','fuel details','lubes details','other details','sent letter day','sent letter month','sent letter year','sent postcard day','sent postcard month','sent postcard year','sent quote day','sent quote month','sent quote year','last visited day','last visited month','last visited year','mailtype','receive gasoil mailing list frequency','receive derv mailing list frequency','receivekero mailing list frequency','gasoil mailing list','derv mailinglist','kero mailinglist')

This was my initial testing code I used to check that the upload and import function was working properly :

		<?php
		//database connect info here
		
		//check for file upload
		if(isset($_FILES['csv_file']) && is_uploaded_file($_FILES['csv_file']['tmp_name'])){
		
			//upload directory
			$upload_dir = ""./csv"";
		
			//create file name
			$file_path = $upload_dir . $_FILES['csv_file']['name'];
		
			//move uploaded file to upload dir
			if (!move_uploaded_file($_FILES['csv_file']['tmp_name'], $file_path)) {
		
				//error moving upload file
				echo ""Error moving file upload"";
		
			}
		
			//open the csv file for reading
			$handle = fopen($file_path, 'r');
		
		
			while (($data = fgetcsv($handle, 1000, ',')) !== FALSE) {
		
				//Access field data in $data array ex.
				$leadname = $data[0];
				$postcode = $data[1];
				$phone = $data[2];
				echo 'Import Successful : ';
				echo $leadname;
				echo '<br/>';
		
				//Use data to insert into db
				$sql = sprintf(""INSERT IGNORE hqfjt_chronoforms_data_addupdatelead (leadname, postcode, phone) VALUES ('%s','%s','%s')"",
							mysql_real_escape_string($leadname),
							mysql_real_escape_string($postcode),
							mysql_real_escape_string($phone)
							);
				mysql_query($sql) or (mysql_query(""ROLLBACK"") and die(mysql_error() . "" - $sql""));
			}
		
		
			//delete csv file
			unlink($file_path);
		}
		?>


I then went on and added all the fields.......now for some reason its not importing, and is just printing the message at the top of the page. I know I probably have missed something somewhere but I cant find it for the life of me.

		<?php
		//database connect info here
		
		//check for file upload
		if(isset($_FILES['csv_file']) && is_uploaded_file($_FILES['csv_file']['tmp_name'])){
		
			//upload directory
			$upload_dir = ""./csv"";
		
			//create file name
			$file_path = $upload_dir . $_FILES['csv_file']['name'];
		
			//move uploaded file to upload dir
			if (!move_uploaded_file($_FILES['csv_file']['tmp_name'], $file_path)) {
		
				//error moving upload file
				echo ""Error moving file upload"";
		
			}
		
			//open the csv file for reading
			$handle = fopen($file_path, 'r');
		
		
			while (($data = fgetcsv($handle, 1000, ',')) !== FALSE) {
		
				//Access field data in $data array ex.
				            $salutation = $data[0];
							$leadname = $data[1];							
							$business = $data[2];
							$address = $data[3];
							$town = $data[4];
							$county = $data[5];
							$postcode = $data[6];
							$phone = $data[7];							
							$email = $data[8];
							$gasoiluser = $data[9];
							$dervuser = $data[10];
							$kerouser = $data[11];
							$annualconsgasoil = $data[12];
							$annualconsderv = $data[13];
							$annualconskero = $data[14];
							$gasoilmargin = $data[15];
							$dervmargin = $data[16];
							$keromargin = $data[17];
							$fueldetails = $data[18];	
							$lubesdetails = $data[19];	
							$otherdetails = $data[20];							
							$sentletterday = $data[21];
							$sentlettermonth = $data[22];
							$sentletteryear = $data[23];
							$sentpostcardday = $data[24];
							$sentpostcardmonth = $data[25];
							$sentpostcardyear = $data[26];							
							$sentquoteday = $data[27];
							$sentquotemonth = $data[28];
							$sentquoteyear = $data[29];
							$lastvisitedday = $data[30];
							$lastvisitedmonth = $data[31];
							$lastvisitedyear = $data[32];
							$receivegasoilmailinglist = $data[33];
							$receivedervmailinglist = $data[34];
							$receivekeromailinglist = $data[35];
							$gasoilmailinglist = $data[36];
							$dervmailinglist = $data[37];
							$keromailinglist = $data[38];	
							$mailtype = $data[39];						
							$createdby = $data[40];
				
				echo 'Import Successful : ';
				echo $leadname;
				echo '<br/>';
		
				//Use data to insert into db
				$sql = sprintf(""INSERT IGNORE hqfjt_chronoforms_data_addupdatelead (salutation, leadname, business, address, town, county, postcode, phone, email, gasoiluser, dervuser, kerouser, annualconsgasoil, annualconsderv, annualconskero, gasoilmargin, dervmargin, keromargin, fueldetails, lubesdetails, otherdetails, sentletterday, sentlettermonth, sentletteryear, sentpostcardday, sentpostcardmonth, sentpostcardyear, sentquoteday, sentquotemonth, sentquoteyear, lastvisitedday, lastvisitedmonth, lastvisitedyear, receivegasoilmailinglist, receivedervmailinglist, receivekeromailinglist, gasoilmailinglist, dervmailinglist, keromailinglist, mailtype, createdby) VALUES ('%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s')"",
							mysql_real_escape_string($salutation),
							mysql_real_escape_string($leadname),							
							mysql_real_escape_string($business),
							mysql_real_escape_string($address),
							mysql_real_escape_string($town),
							mysql_real_escape_string($county),
							mysql_real_escape_string($postcode),
							mysql_real_escape_string($phone),							
							mysql_real_escape_string($email),
							mysql_real_escape_string($gasoiluser),
							mysql_real_escape_string($dervuser),
							mysql_real_escape_string($kerouser),
							mysql_real_escape_string($annualconsgasoil),
							mysql_real_escape_string($annualconsderv),
							mysql_real_escape_string($annualconskero),
							mysql_real_escape_string($gasoilmargin),
							mysql_real_escape_string($dervmargin),
							mysql_real_escape_string($keromargin),
							mysql_real_escape_string($fueldetails),	
							mysql_real_escape_string($lubesdetails),	
							mysql_real_escape_string($otherdetails),							
							mysql_real_escape_string($sentletterday),
							mysql_real_escape_string($sentlettermonth),
							mysql_real_escape_string($sentletteryear),
							mysql_real_escape_string($sentpostcardday),
							mysql_real_escape_string($sentpostcardmonth),
							mysql_real_escape_string($sentpostcardyear),							
							mysql_real_escape_string($sentquoteday),
							mysql_real_escape_string($sentquotemonth),
							mysql_real_escape_string($sentquoteyear),
							mysql_real_escape_string($lastvisitedday),
							mysql_real_escape_string($lastvisitedmonth),
							mysql_real_escape_string($lastvisitedyear),
							mysql_real_escape_string($mailtype),
							mysql_real_escape_string($receivegasoilmailinglist),
							mysql_real_escape_string($receivedervmailinglist),
							mysql_real_escape_string($receivekeromailinglist),
							mysql_real_escape_string($gasoilmailinglist),
							mysql_real_escape_string($dervmailinglist),
							mysql_real_escape_string($keromailinglist),							
							mysql_real_escape_string($createdby)
							);
				mysql_query($sql) or (mysql_query(""ROLLBACK"") and die(mysql_error() . "" - $sql""));
			}
		
		
			//delete csv file
			unlink($file_path);
		}
		?>",mysql,csv,,,,01/15/2012 15:36:34,not a real question,1,583,11,"Bug in php code that I cant seem to find :-( I have made the following script to upload a csv and import it into my MYSQL DB, this was my working test, it worked just fine. The problem came with the second example, I added all the fields too it to import but now its not doing a lot, its not giving any errors, it literally just prints the following to the page whenever I try to import anything now :

                            Import Successful : name
        - INSERT IGNORE hqfjt_chronoforms_data_addupdatelead (salutation, leadname, business, address, town, county, postcode, phone, email, gasoiluser,  dervuser, kerouser, annualconsgasoil, annualconsderv, annualconskero, gasoilmargin, dervmargin, keromargin, fueldetails, lubesdetails, otherdetails, sentletterday, sentlettermonth, sentletteryear, sentpostcardday, sentpostcardmonth, sentpostcardyear, sentquoteday, sentquotemonth, sentquoteyear, lastvisitedday, lastvisitedmonth, lastvisitedyear, receivegasoilmailinglist, receivedervmailinglist, receivekeromailinglist, gasoilmailinglist, dervmailinglist, keromailinglist, mailtype, createdby) VALUES ('salutation','name','business name','address','town','county','postcode','phone','email','gasoil user','derv user','kero user','annual consumption gas oil','annual consumption derv','annual consumption kero','gas oil margin','derv margin','kero margin','fuel details','lubes details','other details','sent letter day','sent letter month','sent letter year','sent postcard day','sent postcard month','sent postcard year','sent quote day','sent quote month','sent quote year','last visited day','last visited month','last visited year','mailtype','receive gasoil mailing list frequency','receive derv mailing list frequency','receivekero mailing list frequency','gasoil mailing list','derv mailinglist','kero mailinglist')

This was my initial testing code I used to check that the upload and import function was working properly :

		<?php
		//database connect info here
		
		//check for file upload
		if(isset($_FILES['csv_file']) && is_uploaded_file($_FILES['csv_file']['tmp_name'])){
		
			//upload directory
			$upload_dir = ""./csv"";
		
			//create file name
			$file_path = $upload_dir . $_FILES['csv_file']['name'];
		
			//move uploaded file to upload dir
			if (!move_uploaded_file($_FILES['csv_file']['tmp_name'], $file_path)) {
		
				//error moving upload file
				echo ""Error moving file upload"";
		
			}
		
			//open the csv file for reading
			$handle = fopen($file_path, 'r');
		
		
			while (($data = fgetcsv($handle, 1000, ',')) !== FALSE) {
		
				//Access field data in $data array ex.
				$leadname = $data[0];
				$postcode = $data[1];
				$phone = $data[2];
				echo 'Import Successful : ';
				echo $leadname;
				echo '<br/>';
		
				//Use data to insert into db
				$sql = sprintf(""INSERT IGNORE hqfjt_chronoforms_data_addupdatelead (leadname, postcode, phone) VALUES ('%s','%s','%s')"",
							mysql_real_escape_string($leadname),
							mysql_real_escape_string($postcode),
							mysql_real_escape_string($phone)
							);
				mysql_query($sql) or (mysql_query(""ROLLBACK"") and die(mysql_error() . "" - $sql""));
			}
		
		
			//delete csv file
			unlink($file_path);
		}
		?>


I then went on and added all the fields.......now for some reason its not importing, and is just printing the message at the top of the page. I know I probably have missed something somewhere but I cant find it for the life of me.

		<?php
		//database connect info here
		
		//check for file upload
		if(isset($_FILES['csv_file']) && is_uploaded_file($_FILES['csv_file']['tmp_name'])){
		
			//upload directory
			$upload_dir = ""./csv"";
		
			//create file name
			$file_path = $upload_dir . $_FILES['csv_file']['name'];
		
			//move uploaded file to upload dir
			if (!move_uploaded_file($_FILES['csv_file']['tmp_name'], $file_path)) {
		
				//error moving upload file
				echo ""Error moving file upload"";
		
			}
		
			//open the csv file for reading
			$handle = fopen($file_path, 'r');
		
		
			while (($data = fgetcsv($handle, 1000, ',')) !== FALSE) {
		
				//Access field data in $data array ex.
				            $salutation = $data[0];
							$leadname = $data[1];							
							$business = $data[2];
							$address = $data[3];
							$town = $data[4];
							$county = $data[5];
							$postcode = $data[6];
							$phone = $data[7];							
							$email = $data[8];
							$gasoiluser = $data[9];
							$dervuser = $data[10];
							$kerouser = $data[11];
							$annualconsgasoil = $data[12];
							$annualconsderv = $data[13];
							$annualconskero = $data[14];
							$gasoilmargin = $data[15];
							$dervmargin = $data[16];
							$keromargin = $data[17];
							$fueldetails = $data[18];	
							$lubesdetails = $data[19];	
							$otherdetails = $data[20];							
							$sentletterday = $data[21];
							$sentlettermonth = $data[22];
							$sentletteryear = $data[23];
							$sentpostcardday = $data[24];
							$sentpostcardmonth = $data[25];
							$sentpostcardyear = $data[26];							
							$sentquoteday = $data[27];
							$sentquotemonth = $data[28];
							$sentquoteyear = $data[29];
							$lastvisitedday = $data[30];
							$lastvisitedmonth = $data[31];
							$lastvisitedyear = $data[32];
							$receivegasoilmailinglist = $data[33];
							$receivedervmailinglist = $data[34];
							$receivekeromailinglist = $data[35];
							$gasoilmailinglist = $data[36];
							$dervmailinglist = $data[37];
							$keromailinglist = $data[38];	
							$mailtype = $data[39];						
							$createdby = $data[40];
				
				echo 'Import Successful : ';
				echo $leadname;
				echo '<br/>';
		
				//Use data to insert into db
				$sql = sprintf(""INSERT IGNORE hqfjt_chronoforms_data_addupdatelead (salutation, leadname, business, address, town, county, postcode, phone, email, gasoiluser, dervuser, kerouser, annualconsgasoil, annualconsderv, annualconskero, gasoilmargin, dervmargin, keromargin, fueldetails, lubesdetails, otherdetails, sentletterday, sentlettermonth, sentletteryear, sentpostcardday, sentpostcardmonth, sentpostcardyear, sentquoteday, sentquotemonth, sentquoteyear, lastvisitedday, lastvisitedmonth, lastvisitedyear, receivegasoilmailinglist, receivedervmailinglist, receivekeromailinglist, gasoilmailinglist, dervmailinglist, keromailinglist, mailtype, createdby) VALUES ('%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s','%s')"",
							mysql_real_escape_string($salutation),
							mysql_real_escape_string($leadname),							
							mysql_real_escape_string($business),
							mysql_real_escape_string($address),
							mysql_real_escape_string($town),
							mysql_real_escape_string($county),
							mysql_real_escape_string($postcode),
							mysql_real_escape_string($phone),							
							mysql_real_escape_string($email),
							mysql_real_escape_string($gasoiluser),
							mysql_real_escape_string($dervuser),
							mysql_real_escape_string($kerouser),
							mysql_real_escape_string($annualconsgasoil),
							mysql_real_escape_string($annualconsderv),
							mysql_real_escape_string($annualconskero),
							mysql_real_escape_string($gasoilmargin),
							mysql_real_escape_string($dervmargin),
							mysql_real_escape_string($keromargin),
							mysql_real_escape_string($fueldetails),	
							mysql_real_escape_string($lubesdetails),	
							mysql_real_escape_string($otherdetails),							
							mysql_real_escape_string($sentletterday),
							mysql_real_escape_string($sentlettermonth),
							mysql_real_escape_string($sentletteryear),
							mysql_real_escape_string($sentpostcardday),
							mysql_real_escape_string($sentpostcardmonth),
							mysql_real_escape_string($sentpostcardyear),							
							mysql_real_escape_string($sentquoteday),
							mysql_real_escape_string($sentquotemonth),
							mysql_real_escape_string($sentquoteyear),
							mysql_real_escape_string($lastvisitedday),
							mysql_real_escape_string($lastvisitedmonth),
							mysql_real_escape_string($lastvisitedyear),
							mysql_real_escape_string($mailtype),
							mysql_real_escape_string($receivegasoilmailinglist),
							mysql_real_escape_string($receivedervmailinglist),
							mysql_real_escape_string($receivekeromailinglist),
							mysql_real_escape_string($gasoilmailinglist),
							mysql_real_escape_string($dervmailinglist),
							mysql_real_escape_string($keromailinglist),							
							mysql_real_escape_string($createdby)
							);
				mysql_query($sql) or (mysql_query(""ROLLBACK"") and die(mysql_error() . "" - $sql""));
			}
		
		
			//delete csv file
			unlink($file_path);
		}
		?>",2
3890091,10/08/2010 11:39:50,154137,08/11/2009 04:37:40,308,15,How can i update a table using MY SQL INJECTION  with URL,"How can i able to update a table in a **mysql database using MYSQL Injection.**

I have heard about we can enter the query in the address bar and it is possible to update a table in the mysql db. But i am not sure about it.

Kindly give me an idea professionals...",mysql,sql-injection,,,,,open,0,51,13,"How can i update a table using MY SQL INJECTION  with URL How can i able to update a table in a **mysql database using MYSQL Injection.**

I have heard about we can enter the query in the address bar and it is possible to update a table in the mysql db. But i am not sure about it.

Kindly give me an idea professionals...",2
9037665,01/27/2012 17:45:21,980411,10/05/2011 13:09:37,39,0,Insert statement with possible default / null values,"I have a **database** structure as follows:

    col1 INT not null default_none primary
    col2 VARCHAR null null
    col3 VARCHAR null null
    .
    .
    .
    col9 VARCHAR null null

I prepare the following query in php. Values for col1, col4, col7 cannot be null. The rest would be based on what the user inputs. I have defined **$table** and all other required variables

I prepare an **INSERT** statement as follows:
    
    INSERT INTO $table VALUES ($col1, '$col2 ' , '$col3 ', '$col4' , '$col5 ', '$col6 ', $col7, '$col8 ', '$col9 ').

But **mysql** reports an error. Am I correct?

**ERROR:** #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1",mysql,,,,,01/29/2012 05:51:42,too localized,1,154,8,"Insert statement with possible default / null values I have a **database** structure as follows:

    col1 INT not null default_none primary
    col2 VARCHAR null null
    col3 VARCHAR null null
    .
    .
    .
    col9 VARCHAR null null

I prepare the following query in php. Values for col1, col4, col7 cannot be null. The rest would be based on what the user inputs. I have defined **$table** and all other required variables

I prepare an **INSERT** statement as follows:
    
    INSERT INTO $table VALUES ($col1, '$col2 ' , '$col3 ', '$col4' , '$col5 ', '$col6 ', $col7, '$col8 ', '$col9 ').

But **mysql** reports an error. Am I correct?

**ERROR:** #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1",1
9191571,02/08/2012 10:32:11,745107,05/09/2011 12:06:11,1,1,Mysql cannot connect remotly,"my Mysql cannot connect remotly,it will give error 2003.
I am using Ubuntu 11.04, After I gave all permission to the user root it will give 111 error.

please help me.",mysql,error-message,,,,02/08/2012 10:54:51,not a real question,1,29,4,"Mysql cannot connect remotly my Mysql cannot connect remotly,it will give error 2003.
I am using Ubuntu 11.04, After I gave all permission to the user root it will give 111 error.

please help me.",2
2193682,02/03/2010 16:54:56,265451,02/03/2010 16:45:23,1,0,Jython & Mysql - what is the current practice for connection?,"Just trying jython for the first time, because something came up at work that would fit for this perfect for it.  I assume jython can make mysql jdbc connection using the mysql jdbc driver.  After googling and reading, however I am having problems and it seems jython specific and probably simple.
so i do jython:

    Jython 2.5.1 (Release_2_5_1:6813, Sep 26 2009, 13:47:54) 
    [Java HotSpot(TM) 64-Bit Server VM (Apple Inc.)] on java1.6.0_17
    Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
    >>> import sys
    >>> print sys.path
    ['', '/JYTHONPATH/mysql-connector-java-5.1.10-bin.jar', '/WorkArea/Apps/jython/jython2.5.1/Lib', '__classpath__', '__pyclasspath__/', '/WorkArea/Apps/jython/jython2.5.1/Lib/site-packages']
    >>>

***code i'm running***

    from java.lang import *
    from java.sql import *
    driverName=""com.mysql.jdbc.Driver""
    Class.forName(driverName)
    url = ""jdbc:mysql://localhost/test?user=jgreenaw&password=""
    con = DriverManager.getConnection(url)
    stmt = con.createStatement() 

***output***

    riux:Desktop$ jython pymysql.py 
    Traceback (most recent call last):
      File ""pymysql.py"", line 7, in <module>
        Class.forName(driverName)
            at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
            at java.security.AccessController.doPrivileged(Native Method)
            at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
            at java.lang.ClassLoader.loadClass(ClassLoader.java:315)
            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:330)
            at java.lang.ClassLoader.loadClass(ClassLoader.java:250)
            at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398)
            at java.lang.Class.forName0(Native Method)
            at java.lang.Class.forName(Class.java:169)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
    
    java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver

any advice?

thanks
",mysql,jython,,,,,open,0,376,11,"Jython & Mysql - what is the current practice for connection? Just trying jython for the first time, because something came up at work that would fit for this perfect for it.  I assume jython can make mysql jdbc connection using the mysql jdbc driver.  After googling and reading, however I am having problems and it seems jython specific and probably simple.
so i do jython:

    Jython 2.5.1 (Release_2_5_1:6813, Sep 26 2009, 13:47:54) 
    [Java HotSpot(TM) 64-Bit Server VM (Apple Inc.)] on java1.6.0_17
    Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
    >>> import sys
    >>> print sys.path
    ['', '/JYTHONPATH/mysql-connector-java-5.1.10-bin.jar', '/WorkArea/Apps/jython/jython2.5.1/Lib', '__classpath__', '__pyclasspath__/', '/WorkArea/Apps/jython/jython2.5.1/Lib/site-packages']
    >>>

***code i'm running***

    from java.lang import *
    from java.sql import *
    driverName=""com.mysql.jdbc.Driver""
    Class.forName(driverName)
    url = ""jdbc:mysql://localhost/test?user=jgreenaw&password=""
    con = DriverManager.getConnection(url)
    stmt = con.createStatement() 

***output***

    riux:Desktop$ jython pymysql.py 
    Traceback (most recent call last):
      File ""pymysql.py"", line 7, in <module>
        Class.forName(driverName)
            at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
            at java.security.AccessController.doPrivileged(Native Method)
            at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
            at java.lang.ClassLoader.loadClass(ClassLoader.java:315)
            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:330)
            at java.lang.ClassLoader.loadClass(ClassLoader.java:250)
            at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398)
            at java.lang.Class.forName0(Native Method)
            at java.lang.Class.forName(Class.java:169)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
    
    java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver

any advice?

thanks
",2
4366443,12/06/2010 12:37:15,351849,05/27/2010 10:40:21,39,10,MySQL : How to link a stored procedure to a table,How can I link a stored procedure to a temporary table?,mysql,stored-procedures,,,,,open,0,11,11,MySQL : How to link a stored procedure to a table How can I link a stored procedure to a temporary table?,2
8006362,11/04/2011 08:00:59,514638,11/20/2010 18:14:30,39,0,Insert a lot of rows into mysql table,I would like to insert text data in rows into column in mysql. Help me please how could I do it?,mysql,insert,rows,,,11/04/2011 08:21:35,not a real question,1,21,8,Insert a lot of rows into mysql table I would like to insert text data in rows into column in mysql. Help me please how could I do it?,3
8437600,12/08/2011 20:57:25,762896,05/20/2011 14:23:13,33,3,service mysql start failed on ubuntu,"Here is my dilemma (somehow similar to [this resource](http://serverfault.com/questions/165537/how-to-restore-my-mysql-5-1-on-ubuntu-10-4) and I tried everything, but nothing helped):

    root@vuxomys01:~# service mysql status
    mysql start/running

When I'm looking for the process:

    root@vuxomys01:~# ps ax | grep mysql
    2263 pts/0    S+     0:00 grep --color=auto mysql

I checked the logs and `/var/log/mysql/error.log` is empty, but there is weird stuff in `/var/log/syslog` ...

    root@vuxomys01:~# grep mysql /var/log/syslog
    ...
    Dec  8 15:24:17 vuxomys01 init: mysql post-start process (1963) terminated with status 1
    Dec  8 15:24:17 vuxomys01 kernel: [  460.182640] type=1505 audit(1323375857.580:28):  operation=""profile_replace"" pid=2098 name=""/usr/sbin/mysqld""
    Dec  8 15:24:17 vuxomys01 init: mysql main process (2102) terminated with status 1
    Dec  8 15:24:17 vuxomys01 init: mysql main process ended, respawning
    Dec  8 15:24:47 vuxomys01 init: mysql post-start process (2103) terminated with status 1

... and `/var/log/daemon.log`

    root@vuxomys01:~# grep mysql /var/log/daemon.log
    ...
    Dec  8 15:24:17 vuxomys01 init: mysql post-start process (1963) terminated with status 1
    Dec  8 15:24:17 vuxomys01 init: mysql main process (2102) terminated with status 1
    Dec  8 15:24:17 vuxomys01 init: mysql main process ended, respawning
    Dec  8 15:24:47 vuxomys01 init: mysql post-start process (2103) terminated with status 1

Any other ideas would be really appreciated. Thanks in advance!

- Eugene.",mysql,ubuntu,service,mysql5,mysql-server,12/09/2011 02:19:23,off topic,1,256,6,"service mysql start failed on ubuntu Here is my dilemma (somehow similar to [this resource](http://serverfault.com/questions/165537/how-to-restore-my-mysql-5-1-on-ubuntu-10-4) and I tried everything, but nothing helped):

    root@vuxomys01:~# service mysql status
    mysql start/running

When I'm looking for the process:

    root@vuxomys01:~# ps ax | grep mysql
    2263 pts/0    S+     0:00 grep --color=auto mysql

I checked the logs and `/var/log/mysql/error.log` is empty, but there is weird stuff in `/var/log/syslog` ...

    root@vuxomys01:~# grep mysql /var/log/syslog
    ...
    Dec  8 15:24:17 vuxomys01 init: mysql post-start process (1963) terminated with status 1
    Dec  8 15:24:17 vuxomys01 kernel: [  460.182640] type=1505 audit(1323375857.580:28):  operation=""profile_replace"" pid=2098 name=""/usr/sbin/mysqld""
    Dec  8 15:24:17 vuxomys01 init: mysql main process (2102) terminated with status 1
    Dec  8 15:24:17 vuxomys01 init: mysql main process ended, respawning
    Dec  8 15:24:47 vuxomys01 init: mysql post-start process (2103) terminated with status 1

... and `/var/log/daemon.log`

    root@vuxomys01:~# grep mysql /var/log/daemon.log
    ...
    Dec  8 15:24:17 vuxomys01 init: mysql post-start process (1963) terminated with status 1
    Dec  8 15:24:17 vuxomys01 init: mysql main process (2102) terminated with status 1
    Dec  8 15:24:17 vuxomys01 init: mysql main process ended, respawning
    Dec  8 15:24:47 vuxomys01 init: mysql post-start process (2103) terminated with status 1

Any other ideas would be really appreciated. Thanks in advance!

- Eugene.",5
11554294,07/19/2012 05:11:01,1459210,06/15/2012 16:12:05,13,0,XAMPP to running,"I'm using windows vista x32 and xampp 1.8.0. When i try to load phpmyadmin t gives an error sayaing,

  Error

  MySQL said: Documentation
  Cannot connect: invalid settings. 

  phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection.   You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server.

Please help me on this..it is kind of urgent work.. thank you :) much greatefull :)",mysql,phpmyadmin,windows-vista,xampp,,07/20/2012 12:33:32,off topic,1,91,3,"XAMPP to running I'm using windows vista x32 and xampp 1.8.0. When i try to load phpmyadmin t gives an error sayaing,

  Error

  MySQL said: Documentation
  Cannot connect: invalid settings. 

  phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection.   You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server.

Please help me on this..it is kind of urgent work.. thank you :) much greatefull :)",4
715229,04/03/2009 19:03:37,76832,03/11/2009 18:55:51,249,36,"MySql Stored Procedure's parameter with the same name as affecting's column, is it possible?","I have a sequence table with two columns, name, value, and I have a stored procedure for incrementing the value provided the name

    DROP PROCEDURE IF EXISTS p_generate_sequence;
    delimiter |
    CREATE PROCEDURE p_generate_sequence (name VARCHAR(30))
    BEGIN
    	START TRANSACTION;
    	-- Variable ""name"" equal to column ""name"", how to reference?
    	UPDATE sequences_table SET value = value + 1 WHERE name = name;
    	SELECT value FROM sequences_table WHERE name = name;
    	COMMIT;
    END |
    delimiter ;

Note the parameter is called ""name"".

Is there any approach for using a parameter with the same name as the column name of the affected table?

**NOTE:** I'm not interested in change parameter's name, nor even column's name, just to know whether is it possible or not, and how.",mysql,stored-procedures,,,,,open,0,152,14,"MySql Stored Procedure's parameter with the same name as affecting's column, is it possible? I have a sequence table with two columns, name, value, and I have a stored procedure for incrementing the value provided the name

    DROP PROCEDURE IF EXISTS p_generate_sequence;
    delimiter |
    CREATE PROCEDURE p_generate_sequence (name VARCHAR(30))
    BEGIN
    	START TRANSACTION;
    	-- Variable ""name"" equal to column ""name"", how to reference?
    	UPDATE sequences_table SET value = value + 1 WHERE name = name;
    	SELECT value FROM sequences_table WHERE name = name;
    	COMMIT;
    END |
    delimiter ;

Note the parameter is called ""name"".

Is there any approach for using a parameter with the same name as the column name of the affected table?

**NOTE:** I'm not interested in change parameter's name, nor even column's name, just to know whether is it possible or not, and how.",2
8452133,12/09/2011 21:49:55,1090518,12/09/2011 21:15:20,1,0,Copy users from one database to another,"thanks for being avaliable to help me!

I have a SMF Forum and another software (SourceBans) and I need to get the users that register in my forum copied to the registered users in another database, basically bridging and syncing the users from the forum to the other database.

I need to copy the following, respectively from one table/database to another

    smf_members @ db_forum to sb_admins @ db_sourcebans:
    id_member > aid (user number)
    member_name > user	(username)
    passwd > password (password)
    email_address > email (email)
    
    smf_themes @ db_forum to sb_admins @ db_sourcebans:
    value of ""value"" where ""variable"" is cust_steami corresponding to id_member > authid (steamid)

i dont mind how this process is done, even by cronjob is fine since it syncs every few minutes.

If you cant help me 100% please at least tell anythig that may help


Thank you very much.",mysql,database,data,copy,sync,,open,0,161,7,"Copy users from one database to another thanks for being avaliable to help me!

I have a SMF Forum and another software (SourceBans) and I need to get the users that register in my forum copied to the registered users in another database, basically bridging and syncing the users from the forum to the other database.

I need to copy the following, respectively from one table/database to another

    smf_members @ db_forum to sb_admins @ db_sourcebans:
    id_member > aid (user number)
    member_name > user	(username)
    passwd > password (password)
    email_address > email (email)
    
    smf_themes @ db_forum to sb_admins @ db_sourcebans:
    value of ""value"" where ""variable"" is cust_steami corresponding to id_member > authid (steamid)

i dont mind how this process is done, even by cronjob is fine since it syncs every few minutes.

If you cant help me 100% please at least tell anythig that may help


Thank you very much.",5
9588946,03/06/2012 17:36:55,1252796,03/06/2012 17:00:44,1,0,MySQL - I need real life slow query log file,"I am working on my final project (Thesis) to get my degree in Computer Science and I am developing a InfoVis tool to visualize the slow Query log in some way, I need a real sample of such log to parse it and see real results, if anyone can provide me with a real sample file will be great!! because I googled a lot and unfortunately I didn't have good results in finding real examples.

Thanks
Julian
",mysql,performance,query,logging,infovis,03/06/2012 18:22:01,not constructive,1,75,10,"MySQL - I need real life slow query log file I am working on my final project (Thesis) to get my degree in Computer Science and I am developing a InfoVis tool to visualize the slow Query log in some way, I need a real sample of such log to parse it and see real results, if anyone can provide me with a real sample file will be great!! because I googled a lot and unfortunately I didn't have good results in finding real examples.

Thanks
Julian
",5
5977102,05/12/2011 11:11:32,84962,03/31/2009 05:14:39,1,0,suitable MySQL benchmark tool,"I'm looking for a benchmark tool that can benchmark MySQL Replication. 

 - It can connect to multiple replicas and the master. So it does write operations on the master, and reads from slaves. 
 - It should also be capable for adjusting read (SELECT)/write (UPDATE, DELETE ...) ratio, or change the number of read and number of write.
 - The output is expected to be tps or more.

Does anyone can suggest a tool for me? Thanks in advance. ",mysql,,,,,,open,0,80,4,"suitable MySQL benchmark tool I'm looking for a benchmark tool that can benchmark MySQL Replication. 

 - It can connect to multiple replicas and the master. So it does write operations on the master, and reads from slaves. 
 - It should also be capable for adjusting read (SELECT)/write (UPDATE, DELETE ...) ratio, or change the number of read and number of write.
 - The output is expected to be tps or more.

Does anyone can suggest a tool for me? Thanks in advance. ",1
11665845,07/26/2012 09:02:06,749884,05/12/2011 04:37:44,6,0,How many products have been uploaded per week?,I have a product table with product_id and entry_date field(which is varchar).I want to get result of how many products have been uploaded per week.Please tell me the sql so that I can get the result of how many products have been uploaded per week.,mysql,,,,,07/26/2012 13:44:52,not a real question,1,45,8,How many products have been uploaded per week? I have a product table with product_id and entry_date field(which is varchar).I want to get result of how many products have been uploaded per week.Please tell me the sql so that I can get the result of how many products have been uploaded per week.,1
11045566,06/15/2012 06:22:37,1457933,06/15/2012 06:16:37,1,0,connecting JSP with MySQL in netbeans,"I want to connect **JSP** with **MySQL** using netbeans. 

> Blockquote

Is it possible? 

> Blockquote",mysql,database,jsp,netbeans,connect,06/15/2012 07:12:19,not a real question,1,15,6,"connecting JSP with MySQL in netbeans I want to connect **JSP** with **MySQL** using netbeans. 

> Blockquote

Is it possible? 

> Blockquote",5
10265770,04/22/2012 06:34:19,282454,02/27/2010 00:00:17,12,4,What's wrong with this stored procedure? (code review assistance needed)," I have this routine working in dev, I went to copy it into production and I get a ""check your syntax near...' error on the Update line. It saves if I take out the limit clause.

Like I say, this is working in Dev. Copy and pasted the structure def. so I know it's identical...

     DELIMITER ;;
    CREATE DEFINER=`user`@`%` PROCEDURE `SQS_Get_Messages`(IN queue_requested INT, IN queue_limit INT)
        SQL SECURITY INVOKER
    BEGIN
        DECLARE my_uuid INT;
        DECLARE fake INT;
        DECLARE now DATETIME;
    
        SELECT Get_Lock('message_get',10) INTO fake;
        
        SELECT NOW() INTO now;  
        SELECT UNIX_TIMESTAMP()+mod(UUID_SHORT(),1000) INTO my_uuid;
    
        UPDATE sqs SET `status`= my_uuid, `started_timestamp` = now WHERE `status` = 0 and `queue` = queue_requested LIMIT queue_limit;	
    
        SELECT RELEASE_LOCK('message_get') INTO fake;
        SELECT `id`,`body`,`status` from sqs WHERE `status` = my_uuid; 
    
    END;;
    DELIMITER ;

Thanks for looking.",mysql,,,,,04/23/2012 11:49:17,not a real question,1,239,10,"What's wrong with this stored procedure? (code review assistance needed)  I have this routine working in dev, I went to copy it into production and I get a ""check your syntax near...' error on the Update line. It saves if I take out the limit clause.

Like I say, this is working in Dev. Copy and pasted the structure def. so I know it's identical...

     DELIMITER ;;
    CREATE DEFINER=`user`@`%` PROCEDURE `SQS_Get_Messages`(IN queue_requested INT, IN queue_limit INT)
        SQL SECURITY INVOKER
    BEGIN
        DECLARE my_uuid INT;
        DECLARE fake INT;
        DECLARE now DATETIME;
    
        SELECT Get_Lock('message_get',10) INTO fake;
        
        SELECT NOW() INTO now;  
        SELECT UNIX_TIMESTAMP()+mod(UUID_SHORT(),1000) INTO my_uuid;
    
        UPDATE sqs SET `status`= my_uuid, `started_timestamp` = now WHERE `status` = 0 and `queue` = queue_requested LIMIT queue_limit;	
    
        SELECT RELEASE_LOCK('message_get') INTO fake;
        SELECT `id`,`body`,`status` from sqs WHERE `status` = my_uuid; 
    
    END;;
    DELIMITER ;

Thanks for looking.",1
10174563,04/16/2012 12:59:17,1056922,11/20/2011 23:28:06,109,5,Sync two MySQL table,"Have two separet databases. The master that holds the user information(username, password, adress ect.). The slave database only has one table where the user name and password. I whould like to happen is then an new user on the master db i created that the username and password is also added to the slave db.",mysql,,,,,,open,0,55,4,"Sync two MySQL table Have two separet databases. The master that holds the user information(username, password, adress ect.). The slave database only has one table where the user name and password. I whould like to happen is then an new user on the master db i created that the username and password is also added to the slave db.",1
5984345,05/12/2011 20:54:33,383609,07/05/2010 11:20:27,2214,117,Multiple unique columns but only unique combinations,"I've run into a problem with MySQL unique indicies. What I want to do is have something like this:

<pre>
user_id  group_id
1        1
1        2
1        3
2        1
2        4
</pre>

Where there can be multiple instances of the same user ID, as well as multiple instances of group IDs, but _only_ allow unique combinations of the two. I'm using this with an `ON DUPLICATE KEY UPDATE` MySQL query, and I'm wondering what I need to do to the indexes on the table. Currently, I have this:

<pre>
PRIMARY	id
UNIQUE	user_id, group_id
</pre>

But... a) is this enough and b) am I doing it right to get what I'm looking for?

Thanks for any help

James",mysql,unique-index,,,,,open,0,137,7,"Multiple unique columns but only unique combinations I've run into a problem with MySQL unique indicies. What I want to do is have something like this:

<pre>
user_id  group_id
1        1
1        2
1        3
2        1
2        4
</pre>

Where there can be multiple instances of the same user ID, as well as multiple instances of group IDs, but _only_ allow unique combinations of the two. I'm using this with an `ON DUPLICATE KEY UPDATE` MySQL query, and I'm wondering what I need to do to the indexes on the table. Currently, I have this:

<pre>
PRIMARY	id
UNIQUE	user_id, group_id
</pre>

But... a) is this enough and b) am I doing it right to get what I'm looking for?

Thanks for any help

James",2
11207159,06/26/2012 12:17:17,490564,06/07/2010 06:31:58,22,0,Pattern all words must be present in regex,"i want mutch pattern 2 word musst present, but the Result is null, why!!!please
in shell mysql:
<br />select 'only test bla dido simple' REGEXP '^(\\?=.*\\?(simple))(\\?=.*\\?(only))*$';

but the result is null!!!! 

",mysql,regex,,,,06/27/2012 13:09:14,not a real question,1,29,8,"Pattern all words must be present in regex i want mutch pattern 2 word musst present, but the Result is null, why!!!please
in shell mysql:
<br />select 'only test bla dido simple' REGEXP '^(\\?=.*\\?(simple))(\\?=.*\\?(only))*$';

but the result is null!!!! 

",2
10864161,06/02/2012 16:45:32,1432632,06/02/2012 16:27:03,1,0,mysql Unknown column in where clause,"I have this mysql query which should return rows that match keyboard input string
  
cursor.execute (""SELECT * FROM data WHERE params LIKE %s""  %(par))

 but I get the following error 
""Unknown column 'Margit' in where clause""


Help pls?",mysql,,,,,06/03/2012 09:52:39,not constructive,1,39,6,"mysql Unknown column in where clause I have this mysql query which should return rows that match keyboard input string
  
cursor.execute (""SELECT * FROM data WHERE params LIKE %s""  %(par))

 but I get the following error 
""Unknown column 'Margit' in where clause""


Help pls?",1
1283505,08/16/2009 05:25:19,118811,06/07/2009 13:11:44,15,5,what is the best software to draw ERD for a mysql database for windows,i am looking for the best software to draw ERD in windows for a mysql database.,mysql,erd,software-tools,,,09/19/2011 12:12:10,not constructive,1,16,14,what is the best software to draw ERD for a mysql database for windows i am looking for the best software to draw ERD in windows for a mysql database.,3
5802494,04/27/2011 10:17:13,718834,04/21/2011 11:27:55,3,0,MySQL think I need to use ROLLUP but i'm not sure,"If i has a group of people identifiers (12,34,54,65) and a database with Keys (Gender, Age, Salary for example), such as:

Details table

{Person ID,   Key,    Value}
{12,           Gender,  Male}
{34,           Age,     40}
{54,           Salary,  30000}

Personnel table

ID
12
34
54
65


EDIT, sorry the formatting has not worked, i want to create rows consisting of the powerset of {12,34,54,65} x {Age,Salary,Gender}, regardless of whether there is a data value in the Details table",mysql,sql,oracle,,,,open,0,104,11,"MySQL think I need to use ROLLUP but i'm not sure If i has a group of people identifiers (12,34,54,65) and a database with Keys (Gender, Age, Salary for example), such as:

Details table

{Person ID,   Key,    Value}
{12,           Gender,  Male}
{34,           Age,     40}
{54,           Salary,  30000}

Personnel table

ID
12
34
54
65


EDIT, sorry the formatting has not worked, i want to create rows consisting of the powerset of {12,34,54,65} x {Age,Salary,Gender}, regardless of whether there is a data value in the Details table",3
11280445,07/01/2012 08:04:29,302274,08/21/2009 14:50:04,333,2,How to save database results to CSV in Ruby,"I am trying to take the results of a query to a db and save them to a csv file. Here is my current Ruby script.

    #! /usr/bin/ruby
    
    require 'rubygems'
    require 'mysql'
    require 'date'
    
    # need mysql queries here / use mysql2 calls
    db_con = Mysql.new(""localhost"", ""root"", """", ""msd"")
    
    date_results = db_con.query(""SELECT CONCAT(CONVERT(date_format(dd.date, '%b-%e'),char),'\\n') AS date
    FROM msd.date_dim dd LEFT OUTER JOIN msd.results cs 
    	ON dd.id = cs.date_id
    GROUP BY
    	dd.date"")
    
    # create new xml file and insert header
    open('test_trend.xml', 'w') do |f|
      date_results.each_hash do |f|
        f.puts ""#{f['date']}""
      end      
    end

I get the following error. Line 23 is the date_results.each_hash line.

    so_test.rb:24:in `block (2 levels) in <main>': private method `puts' called for {""date""=>""Jun-12\n""}:Hash (NoMethodError)
    	from /Users/pierce/.rbenv/versions/1.9.2-p290/lib/ruby/gems/1.9.1/gems/ruby-mysql-2.9.9/lib/mysql.rb:686:in `call'
    	from /Users/pierce/.rbenv/versions/1.9.2-p290/lib/ruby/gems/1.9.1/gems/ruby-mysql-2.9.9/lib/mysql.rb:686:in `each_hash'
    	from so_test.rb:23:in `block in <main>'
    	from so_test.rb:22:in `open'
    	from so_test.rb:22:in `<main>'

Any advice is appreciated. Thanks. ",mysql,ruby,,,,,open,0,235,9,"How to save database results to CSV in Ruby I am trying to take the results of a query to a db and save them to a csv file. Here is my current Ruby script.

    #! /usr/bin/ruby
    
    require 'rubygems'
    require 'mysql'
    require 'date'
    
    # need mysql queries here / use mysql2 calls
    db_con = Mysql.new(""localhost"", ""root"", """", ""msd"")
    
    date_results = db_con.query(""SELECT CONCAT(CONVERT(date_format(dd.date, '%b-%e'),char),'\\n') AS date
    FROM msd.date_dim dd LEFT OUTER JOIN msd.results cs 
    	ON dd.id = cs.date_id
    GROUP BY
    	dd.date"")
    
    # create new xml file and insert header
    open('test_trend.xml', 'w') do |f|
      date_results.each_hash do |f|
        f.puts ""#{f['date']}""
      end      
    end

I get the following error. Line 23 is the date_results.each_hash line.

    so_test.rb:24:in `block (2 levels) in <main>': private method `puts' called for {""date""=>""Jun-12\n""}:Hash (NoMethodError)
    	from /Users/pierce/.rbenv/versions/1.9.2-p290/lib/ruby/gems/1.9.1/gems/ruby-mysql-2.9.9/lib/mysql.rb:686:in `call'
    	from /Users/pierce/.rbenv/versions/1.9.2-p290/lib/ruby/gems/1.9.1/gems/ruby-mysql-2.9.9/lib/mysql.rb:686:in `each_hash'
    	from so_test.rb:23:in `block in <main>'
    	from so_test.rb:22:in `open'
    	from so_test.rb:22:in `<main>'

Any advice is appreciated. Thanks. ",2
3765319,09/21/2010 23:49:02,441664,05/24/2010 20:05:22,100,2,Connection terminating unexpectedly in mysql,"I have the code to connect to MySql DB using Mysql connection handler, when i try to test the code using break point i see this exception.

""Connection unexpectedly terminated.""

Any idea?

Thanks.",mysql,,,,,,open,0,30,5,"Connection terminating unexpectedly in mysql I have the code to connect to MySql DB using Mysql connection handler, when i try to test the code using break point i see this exception.

""Connection unexpectedly terminated.""

Any idea?

Thanks.",1
7114313,08/18/2011 21:22:27,119851,06/09/2009 13:47:58,166,11,Can SELECT but can't DELETE,"I'm having difficulty deleting the desired rows from my table in MySQL. I'm using a rather complex subquery to select the rows, but for some reason I'm unable to delete them using a similar syntax.

    delete * from table1 as t1
    where t1.col1 in 
	(select y.col1 
	 from table2 x 
  	 join 
		(select col1, col2 
		 from table2
		 where col2 like ""%- 2%"") y 
	 on x.col2 = replace(y.col2, ""- 2"", """"));

Again, I can select the exact rows I wanted deleted, but when I change the query to delete I get the following error:
    
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near...

Any help is greatly appreciated.",mysql,join,delete,subquery,,,open,0,141,5,"Can SELECT but can't DELETE I'm having difficulty deleting the desired rows from my table in MySQL. I'm using a rather complex subquery to select the rows, but for some reason I'm unable to delete them using a similar syntax.

    delete * from table1 as t1
    where t1.col1 in 
	(select y.col1 
	 from table2 x 
  	 join 
		(select col1, col2 
		 from table2
		 where col2 like ""%- 2%"") y 
	 on x.col2 = replace(y.col2, ""- 2"", """"));

Again, I can select the exact rows I wanted deleted, but when I change the query to delete I get the following error:
    
    ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near...

Any help is greatly appreciated.",4
11383159,07/08/2012 12:29:57,898454,08/17/2011 10:38:02,54,0,mysql slave / master error,"My slave based on mysql , stopped suddnely and showing this error msg 

 Last_Error: Query caused different errors on master and slave.     Error on master: message (format)='Table '%-.192s.%-.192s' doesn't exist' error code=1146 ; Error on slave: actual message='no error', error code=0. Default database: 'mysql'. Query: 'FLUSH PRIVILEGES'

Server version: 5.5.21-cll MySQL Community Server (GPL) by Atomicorp    Master
Server version: 5.5.21-cll MySQL Community Server (GPL) by Atomicorp    Slave

was trying some ways to fix but no luck 

Any advise ?",mysql,,,,,07/09/2012 01:45:04,off topic,1,87,5,"mysql slave / master error My slave based on mysql , stopped suddnely and showing this error msg 

 Last_Error: Query caused different errors on master and slave.     Error on master: message (format)='Table '%-.192s.%-.192s' doesn't exist' error code=1146 ; Error on slave: actual message='no error', error code=0. Default database: 'mysql'. Query: 'FLUSH PRIVILEGES'

Server version: 5.5.21-cll MySQL Community Server (GPL) by Atomicorp    Master
Server version: 5.5.21-cll MySQL Community Server (GPL) by Atomicorp    Slave

was trying some ways to fix but no luck 

Any advise ?",1
9467653,02/27/2012 15:33:04,1077533,12/02/2011 14:05:33,26,0,How many MySql tables for a website like Elance?,"Sorry for my bad English.
I'm building a website like Elance.com.

I'm stuck because I don't know how many tables should I create. I think these:
- freelancers: to store freelancers details such as username, password, email, name, surname, etc.
- contractors: same as above, but for the contractors.
- jobs: to store jobs details such as freelancer id, title, description, category, etc.

Now I don't know what to do. Should I create a new table for the proposals the freelancers make on the jobs or should I 'integrate' the proposals into ""jobs"" table???

Thank you in advance for your help!",mysql,,,,,02/27/2012 20:55:50,not constructive,1,94,9,"How many MySql tables for a website like Elance? Sorry for my bad English.
I'm building a website like Elance.com.

I'm stuck because I don't know how many tables should I create. I think these:
- freelancers: to store freelancers details such as username, password, email, name, surname, etc.
- contractors: same as above, but for the contractors.
- jobs: to store jobs details such as freelancer id, title, description, category, etc.

Now I don't know what to do. Should I create a new table for the proposals the freelancers make on the jobs or should I 'integrate' the proposals into ""jobs"" table???

Thank you in advance for your help!",1
11701912,07/28/2012 14:33:32,1095878,12/13/2011 13:50:16,1,0,how do i get persons data out of the mysql database?,"i have a problem,

i want to make an app where people can login to mysql database and get their own information out of the mysql database and displayed in a UITableView in xcode?

thnx ",mysql,database,xcode,uitableview,data,07/28/2012 15:25:25,not a real question,1,34,11,"how do i get persons data out of the mysql database? i have a problem,

i want to make an app where people can login to mysql database and get their own information out of the mysql database and displayed in a UITableView in xcode?

thnx ",5
11232805,06/27/2012 18:33:25,1481168,06/25/2012 21:48:29,3,0,Linking data between mysql databases,"Currently developing some applications for use on my localhost, which I hope to eventually make distributable. Each application uses a combination of common or public information (info useful to anyone who might want to use it) and personal info (user-specific - and by ""user"" I mean all users on a particular localhost, see my previous question: http://stackoverflow.com/questions/11216080/data-structure-for-storing-height-and-weight-etc-over-time-for-multiple-users). I would like to store all user-specific info in one database, and public information in another database - the idea being that this makes it possible for public information to be hosted on a public server and accessed by multiple users, while personal info is hosted locally and thus kept entirely private and in control of the user who owns it.

The application I am currently working on relates to nutrition, meal planning, and shopping lists. On the public database I would like to store information such as: nutritional content of foods, recipes, and other info that anybody could make use of. On the personal side would be the menus and shopping lists, etc. Shopping lists and the like can be derived from menus, but the menus would have to be built using recipes and food items from the public side. Now, it might seem right off the bat that these two databases should just be merged and use tables to separate personal from public data, but the idea is that public info will be on a public server and publicly accessible, while all personal aspects will be on a users localhost, pulling needed info from the public side. This is also intended to accommodate future projects that may or may not have anything to do with this current project. For example, a gardening related application where one can pull public info like light and soil requirements for a particular plant and use it in their personal data for planning where to plant it and adding it to their gardening tasks calendar. This type of application would interact with the meal/shopping application on the user side if the user is growing vegetables and such, but may have nothing at all to do with meals if the user only grows ornamental plants. On the other hand, a music application, which could pull music metadata from a public server and associate it to ratings and playlists on the user side has nothing to do with either of the aforementioned applications (aside from one's gardening, shopping, and cooking playlists :D). So there would be a single local database for personal data, and then several public databases - one for each different topic.

So my question is: what is the most standards-compliant way to go about linking databases like this? I'm thinking all that needs to be put into the user database (for my current project) are references to all recipes or food items currently in use on the local server (ie in a user's menu or on their favourite foods list). Then, when loading a daily menu, the local application can connect to the public side and use the references to calculate things like the total nutritional value of that day's menu. This would be easy enough to do if one were not concerned with referential integrity, but what if (for example) a recipe used locally is deleted from the public server? In case it makes any difference to the linking method, I am looking at making the meal planner google-calendar-like, in that a meal may be added as a repeating ""event"" or on specific days (we will be having A for breakfast on weekdays and B on weekends, except during our vacation from date1 to date2) and the shopping list would then pull the specific amounts of each food needed during a specific timeframe (shoppingA happens on this date, shoppingB happens on this date, so shoppinglistA must contain everything needed after shoppingA and before shoppingB).",mysql,referential-integrity,cross-database,,,06/29/2012 03:13:07,not a real question,1,638,5,"Linking data between mysql databases Currently developing some applications for use on my localhost, which I hope to eventually make distributable. Each application uses a combination of common or public information (info useful to anyone who might want to use it) and personal info (user-specific - and by ""user"" I mean all users on a particular localhost, see my previous question: http://stackoverflow.com/questions/11216080/data-structure-for-storing-height-and-weight-etc-over-time-for-multiple-users). I would like to store all user-specific info in one database, and public information in another database - the idea being that this makes it possible for public information to be hosted on a public server and accessed by multiple users, while personal info is hosted locally and thus kept entirely private and in control of the user who owns it.

The application I am currently working on relates to nutrition, meal planning, and shopping lists. On the public database I would like to store information such as: nutritional content of foods, recipes, and other info that anybody could make use of. On the personal side would be the menus and shopping lists, etc. Shopping lists and the like can be derived from menus, but the menus would have to be built using recipes and food items from the public side. Now, it might seem right off the bat that these two databases should just be merged and use tables to separate personal from public data, but the idea is that public info will be on a public server and publicly accessible, while all personal aspects will be on a users localhost, pulling needed info from the public side. This is also intended to accommodate future projects that may or may not have anything to do with this current project. For example, a gardening related application where one can pull public info like light and soil requirements for a particular plant and use it in their personal data for planning where to plant it and adding it to their gardening tasks calendar. This type of application would interact with the meal/shopping application on the user side if the user is growing vegetables and such, but may have nothing at all to do with meals if the user only grows ornamental plants. On the other hand, a music application, which could pull music metadata from a public server and associate it to ratings and playlists on the user side has nothing to do with either of the aforementioned applications (aside from one's gardening, shopping, and cooking playlists :D). So there would be a single local database for personal data, and then several public databases - one for each different topic.

So my question is: what is the most standards-compliant way to go about linking databases like this? I'm thinking all that needs to be put into the user database (for my current project) are references to all recipes or food items currently in use on the local server (ie in a user's menu or on their favourite foods list). Then, when loading a daily menu, the local application can connect to the public side and use the references to calculate things like the total nutritional value of that day's menu. This would be easy enough to do if one were not concerned with referential integrity, but what if (for example) a recipe used locally is deleted from the public server? In case it makes any difference to the linking method, I am looking at making the meal planner google-calendar-like, in that a meal may be added as a repeating ""event"" or on specific days (we will be having A for breakfast on weekdays and B on weekends, except during our vacation from date1 to date2) and the shopping list would then pull the specific amounts of each food needed during a specific timeframe (shoppingA happens on this date, shoppingB happens on this date, so shoppinglistA must contain everything needed after shoppingA and before shoppingB).",3
9378089,02/21/2012 13:03:05,722756,04/24/2011 16:38:27,57,0,how can i do to mysql field accept only a-zA-Z instead alphanumeric?,"I wonder how make mysql accepting only a-zA-Z in a field
Here cars registrations have first two chars and last two chars as letters and i want slipt the group of two in a table each.
",mysql,regex,,,,02/21/2012 20:25:06,not a real question,1,35,12,"how can i do to mysql field accept only a-zA-Z instead alphanumeric? I wonder how make mysql accepting only a-zA-Z in a field
Here cars registrations have first two chars and last two chars as letters and i want slipt the group of two in a table each.
",2
9937865,03/30/2012 06:14:03,826872,07/03/2011 12:32:59,14,0,See if event occurs (true or false) on each day on specific month,"I'm trying to highlight the days on my jQuery datepicker calendar which are associated with an event.

In my database I have many events with a date field.
So if January is selected on the datepicker I want to check the database table to see if:

January 1st: Is there an event (true/false)
January 2nd: Is there an event (true/false)
January 3rd: Is there an event (true/false)
... and so on.

I guess I could just create a loop to create 31 queries to do the job. 
But I was wondering if there's a more efficient way.

Thanks
Andreas",mysql,,,,,,open,0,90,13,"See if event occurs (true or false) on each day on specific month I'm trying to highlight the days on my jQuery datepicker calendar which are associated with an event.

In my database I have many events with a date field.
So if January is selected on the datepicker I want to check the database table to see if:

January 1st: Is there an event (true/false)
January 2nd: Is there an event (true/false)
January 3rd: Is there an event (true/false)
... and so on.

I guess I could just create a loop to create 31 queries to do the job. 
But I was wondering if there's a more efficient way.

Thanks
Andreas",1
10386943,04/30/2012 16:17:14,203175,11/05/2009 05:03:09,1145,1,Need a very basic Perl Template,"I am a beginner in Perl. I now have a SQL statement that is working correctly, however, I want to use Perl to execute the SQL, and output the result as a file, could any expert provide a very basic template? (Starting from connect to the database)

",mysql,perl,,,,05/01/2012 09:12:36,not a real question,1,47,6,"Need a very basic Perl Template I am a beginner in Perl. I now have a SQL statement that is working correctly, however, I want to use Perl to execute the SQL, and output the result as a file, could any expert provide a very basic template? (Starting from connect to the database)

",2
11190686,06/25/2012 13:57:20,1403719,05/18/2012 15:17:28,12,0,Relational Database (mySQL),"Say I have 3 tables Products, Orders and Orders Product

    Products Table
    
    ID | StockNum | Description | Price
    4  | 452SB    | Black       | 45.65
    5  | 752SA    | Green       | 17.12
    
    
    Orders Table
    
    ID  | OrderNum | Total  |
    14  | 12312    | 79.89  | 
    15  | 12313    | 45.65  | 
    
    
    Orders Product Table
    
    ID  | OrderID  | Product  | Qty   | 
    45  | 14       | 452SB    | 1     |
    46  | 14       | 752SA    | 2     |
    47  | 15       | 452SB    | 1     |

If product information changes (Price or Description) this would throw off all previous order information, whats the best solution for this?. Also does it make more sense to be storing the product ID instead of the StockNum (In Orders Product)?
",mysql,relational-database,,,,06/25/2012 14:01:51,off topic,1,276,3,"Relational Database (mySQL) Say I have 3 tables Products, Orders and Orders Product

    Products Table
    
    ID | StockNum | Description | Price
    4  | 452SB    | Black       | 45.65
    5  | 752SA    | Green       | 17.12
    
    
    Orders Table
    
    ID  | OrderNum | Total  |
    14  | 12312    | 79.89  | 
    15  | 12313    | 45.65  | 
    
    
    Orders Product Table
    
    ID  | OrderID  | Product  | Qty   | 
    45  | 14       | 452SB    | 1     |
    46  | 14       | 752SA    | 2     |
    47  | 15       | 452SB    | 1     |

If product information changes (Price or Description) this would throw off all previous order information, whats the best solution for this?. Also does it make more sense to be storing the product ID instead of the StockNum (In Orders Product)?
",2
11390365,07/09/2012 07:00:34,1412803,05/23/2012 14:01:57,6,0,Remote MySQL access with encryption,"Now I have a role as QA / tester in my workplace. We have a desktop application (will be installed in end-user pc) which requires to submit a voucher ID to a remote server. During the submission I realized through Wireshark that the MySQL packets are not encrypted. I can see both username-password in plain text and also the voucher id which are being sent.

If I want to encrypt the MySQL communication, what are the ways to do this ? 

Thanks.",mysql,encryption,,,,,open,0,81,5,"Remote MySQL access with encryption Now I have a role as QA / tester in my workplace. We have a desktop application (will be installed in end-user pc) which requires to submit a voucher ID to a remote server. During the submission I realized through Wireshark that the MySQL packets are not encrypted. I can see both username-password in plain text and also the voucher id which are being sent.

If I want to encrypt the MySQL communication, what are the ways to do this ? 

Thanks.",2
924494,05/29/2009 05:20:58,100208,05/03/2009 11:24:02,52,0,MySQL Group By ordering,"I have the following table:

        id       time      text      otheridentifier
        -------------------------------------------
        1        6         apple     4
        2        7         orange    4
        3        8         banana    3
        4        9         pear      3
        5        10        grape     2

What I want to do is select the 3 most recent records (by time desc), whose `otheridentifier`s are distinct. So in this case, the result would be `id`'s: 5, 4, and 2.

`id` = 3 would be skipped because there's a more recent record with the same `otheridentifier` field.

Here's what I tried to do:

    SELECT * FROM `table` GROUP BY (`otheridentifier`) ORDER BY `time` DESC LIMIT 3

However, I end up getting rows of `id` = 5, **3**, and **1** instead of 5, 4, 2 as expected. 

Can someone tell me why this query wouldn't return what I expected? I tried changing the ORDER BY to ASC but this simply rearranges the returned rows to 1, 3, 5.

Thanks for your help!",mysql,group,by,order,,,open,0,309,4,"MySQL Group By ordering I have the following table:

        id       time      text      otheridentifier
        -------------------------------------------
        1        6         apple     4
        2        7         orange    4
        3        8         banana    3
        4        9         pear      3
        5        10        grape     2

What I want to do is select the 3 most recent records (by time desc), whose `otheridentifier`s are distinct. So in this case, the result would be `id`'s: 5, 4, and 2.

`id` = 3 would be skipped because there's a more recent record with the same `otheridentifier` field.

Here's what I tried to do:

    SELECT * FROM `table` GROUP BY (`otheridentifier`) ORDER BY `time` DESC LIMIT 3

However, I end up getting rows of `id` = 5, **3**, and **1** instead of 5, 4, 2 as expected. 

Can someone tell me why this query wouldn't return what I expected? I tried changing the ORDER BY to ASC but this simply rearranges the returned rows to 1, 3, 5.

Thanks for your help!",4
6968375,08/06/2011 17:15:52,660389,03/15/2011 10:38:53,84,6,How to improve an already optimized query that takes 18 seconds?,"So I have a vps with 512mb ram, and a MySQL table like this:

    CREATE TABLE `table1` (
      `id` int(20) unsigned NOT NULL auto_increment,
      `ts` timestamp NOT NULL default CURRENT_TIMESTAMP,
      `value1` char(31) collate utf8_unicode_ci default NULL,
      `value2` varchar(100) collate utf8_unicode_ci default NULL,
      `value3` varchar(100) collate utf8_unicode_ci default NULL,
      `value4` mediumtext collate utf8_unicode_ci,
      `type` varchar(30) collate utf8_unicode_ci NOT NULL,
      PRIMARY KEY  (`id`),
      KEY `type` (`type`),
      KEY `date` (`ts`)
    ) ENGINE=MyISAM AUTO_INCREMENT=469692 DEFAULT CHARSET=utf8
      COLLATE=utf8_unicode_ci
      
If I execute a query like this, it takes 2~18 seconds to complete:

    SELECT `id`, `ts`, `value1`, `value2`, `value3` FROM table1 WHERE
    `type` = 'something' ORDER BY `id` DESC limit 0,10; 

EXPLAIN SELECT tells me:

      select_type: SIMPLE
             type: ref
    possible_keys: type
              key: type
          key_len: 92
              ref: const
             rows: 7291
            Extra: Using where; Using filesort

I thought the 'using filesort' might be the problem, but it turns out
that's not the case.  If I remove the ORDER BY and the LIMIT, the
query speed is the same (I turn off query cache for the testing with
`SET @@query_cache_type=0;`).

    mysql> EXPLAIN SELECT `id`,`ts`,`value1`,`value2`, `value3` 
           FROM table1 WHERE `type` = 'something'\G

      select_type: SIMPLE
             type: ref
    possible_keys: type
              key: type
          key_len: 92
              ref: const
             rows: 7291
            Extra: Using where
    
Don't know if it matters but the rows
approximation is inaccurate:

    SELECT COUNT(*) FROM table1 WHERE `type` = 'something';

Returns 22.8k rows.

The query seems already optimized, I don't know how I could further
improve it.  The whole table contains 370k rows, and is about 4.6 GiB
in size.  Could it be possible that because the type is randomly
changing row by row (randomly distributed in the whole table), it
takes 2~18 seconds just to fetch the data from disk?

The funny thing is when I use a type that only has a few hundred rows,
those queries are slow too.  MySQL returns rows at about 100 rows/sec!

    |-------+------+-----------|
    | count | time |   row/sec |
    |-------+------+-----------|
    | 22802 | 18.7 | 1219.3583 |
    |    11 |  0.1 |      110. |
    |   491 |  4.8 | 102.29167 |
    |   705 |  5.6 | 125.89286 |
    |   317 |  2.6 | 121.92308 |
    |-------+------+-----------|

Why is it so slow?  Can I further optimize the query?  Should I move
the data to smaller tables?

I thought automatic partitioning would be a good idea, to make a new
partition for every type dynamically.  That is not possible, for
many reasons including that the maximum partition number is 1024, and
there can be any types.  I could also try application level
partitioning, creating a new table for every new type.  I wouldn't
want to do that as it introduces great complexity.  I don't know how I
could have a unique id for all rows in all tables.  Also, if I reach
multiple inserts/second, performance would drop significantly.



Thanks in advance.",mysql,optimization,,,,,open,0,747,11,"How to improve an already optimized query that takes 18 seconds? So I have a vps with 512mb ram, and a MySQL table like this:

    CREATE TABLE `table1` (
      `id` int(20) unsigned NOT NULL auto_increment,
      `ts` timestamp NOT NULL default CURRENT_TIMESTAMP,
      `value1` char(31) collate utf8_unicode_ci default NULL,
      `value2` varchar(100) collate utf8_unicode_ci default NULL,
      `value3` varchar(100) collate utf8_unicode_ci default NULL,
      `value4` mediumtext collate utf8_unicode_ci,
      `type` varchar(30) collate utf8_unicode_ci NOT NULL,
      PRIMARY KEY  (`id`),
      KEY `type` (`type`),
      KEY `date` (`ts`)
    ) ENGINE=MyISAM AUTO_INCREMENT=469692 DEFAULT CHARSET=utf8
      COLLATE=utf8_unicode_ci
      
If I execute a query like this, it takes 2~18 seconds to complete:

    SELECT `id`, `ts`, `value1`, `value2`, `value3` FROM table1 WHERE
    `type` = 'something' ORDER BY `id` DESC limit 0,10; 

EXPLAIN SELECT tells me:

      select_type: SIMPLE
             type: ref
    possible_keys: type
              key: type
          key_len: 92
              ref: const
             rows: 7291
            Extra: Using where; Using filesort

I thought the 'using filesort' might be the problem, but it turns out
that's not the case.  If I remove the ORDER BY and the LIMIT, the
query speed is the same (I turn off query cache for the testing with
`SET @@query_cache_type=0;`).

    mysql> EXPLAIN SELECT `id`,`ts`,`value1`,`value2`, `value3` 
           FROM table1 WHERE `type` = 'something'\G

      select_type: SIMPLE
             type: ref
    possible_keys: type
              key: type
          key_len: 92
              ref: const
             rows: 7291
            Extra: Using where
    
Don't know if it matters but the rows
approximation is inaccurate:

    SELECT COUNT(*) FROM table1 WHERE `type` = 'something';

Returns 22.8k rows.

The query seems already optimized, I don't know how I could further
improve it.  The whole table contains 370k rows, and is about 4.6 GiB
in size.  Could it be possible that because the type is randomly
changing row by row (randomly distributed in the whole table), it
takes 2~18 seconds just to fetch the data from disk?

The funny thing is when I use a type that only has a few hundred rows,
those queries are slow too.  MySQL returns rows at about 100 rows/sec!

    |-------+------+-----------|
    | count | time |   row/sec |
    |-------+------+-----------|
    | 22802 | 18.7 | 1219.3583 |
    |    11 |  0.1 |      110. |
    |   491 |  4.8 | 102.29167 |
    |   705 |  5.6 | 125.89286 |
    |   317 |  2.6 | 121.92308 |
    |-------+------+-----------|

Why is it so slow?  Can I further optimize the query?  Should I move
the data to smaller tables?

I thought automatic partitioning would be a good idea, to make a new
partition for every type dynamically.  That is not possible, for
many reasons including that the maximum partition number is 1024, and
there can be any types.  I could also try application level
partitioning, creating a new table for every new type.  I wouldn't
want to do that as it introduces great complexity.  I don't know how I
could have a unique id for all rows in all tables.  Also, if I reach
multiple inserts/second, performance would drop significantly.



Thanks in advance.",2
10671126,05/20/2012 05:50:21,1380194,05/07/2012 16:21:38,19,0,My sql configuration,I have installed my sql 5.5 in my laptop but due to some technical reason it got corrupted now please advise me how do I remove the earlier my sql completely and install a fresh again..!,mysql,,,,,05/20/2012 15:50:46,not a real question,1,36,3,My sql configuration I have installed my sql 5.5 in my laptop but due to some technical reason it got corrupted now please advise me how do I remove the earlier my sql completely and install a fresh again..!,1
7734103,10/12/2011 00:41:03,766987,05/24/2011 01:57:35,141,4,MySQL match against not working properly,"    CREATE TABLE `channels` (
     `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
     `name` varchar(30) DEFAULT NULL,
     `description` text,
     `tagline` varchar(50) DEFAULT NULL,
     `created_at` datetime DEFAULT NULL,
     `image` varchar(50) DEFAULT NULL,
     `user_id` int(10) unsigned NOT NULL,
     PRIMARY KEY (`id`),
     KEY `index_channels_user` (`user_id`),
     FULLTEXT KEY `description` (`description`)
    ) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;



    INSERT INTO `channels` (`id`, `name`, `description`, `tagline`, `created_at`, `image`, `user_id`)
    VALUES
	(1, 'sdsd', 'Hello world!', 'dsdsd', '2011-10-09 11:31:59', NULL, 1);



      SELECT c.id, c.name FROM channels c
      WHERE MATCH(c.description) AGAINST ('Hell' IN BOOLEAN MODE)


I get 0 results, why?",mysql,,,,,,open,0,147,6,"MySQL match against not working properly     CREATE TABLE `channels` (
     `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
     `name` varchar(30) DEFAULT NULL,
     `description` text,
     `tagline` varchar(50) DEFAULT NULL,
     `created_at` datetime DEFAULT NULL,
     `image` varchar(50) DEFAULT NULL,
     `user_id` int(10) unsigned NOT NULL,
     PRIMARY KEY (`id`),
     KEY `index_channels_user` (`user_id`),
     FULLTEXT KEY `description` (`description`)
    ) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;



    INSERT INTO `channels` (`id`, `name`, `description`, `tagline`, `created_at`, `image`, `user_id`)
    VALUES
	(1, 'sdsd', 'Hello world!', 'dsdsd', '2011-10-09 11:31:59', NULL, 1);



      SELECT c.id, c.name FROM channels c
      WHERE MATCH(c.description) AGAINST ('Hell' IN BOOLEAN MODE)


I get 0 results, why?",1
917018,05/27/2009 17:28:35,113305,05/27/2009 17:18:44,1,0,Codeigniter : Problem inserting accents in Mysql.,"I'm trying out code igniter, and I came across an error message while trying to insert a new row in my Mysql database.

The text I'm trying to insert is in French, and contains some accents.

Here's my code :

		$data= array(
			'title' => $this->input->post('title'),
			'date' => $this->input->post('date'),
			'mytext' => $this->input->post('mytext')
			);
		
		$this->db->insert('blog', $data); 


This code seems to work fine (I've inserted a few ""test test"" entries), but when I try to enter something with accents, for instance ""*Il était là*"", I get an error message :

> A Database Error Occurred

> Error Number: 1366

> Incorrect string value: '\xE9tait ...' for column 'mytext' at row 1

I've looked on the code igniter forums for a fix, but all they say is to change the collation to UTF8, in mysql. I've tried that, but I keep having the same problem.",mysql,codeigniter,php,internationalization,,,open,0,129,7,"Codeigniter : Problem inserting accents in Mysql. I'm trying out code igniter, and I came across an error message while trying to insert a new row in my Mysql database.

The text I'm trying to insert is in French, and contains some accents.

Here's my code :

		$data= array(
			'title' => $this->input->post('title'),
			'date' => $this->input->post('date'),
			'mytext' => $this->input->post('mytext')
			);
		
		$this->db->insert('blog', $data); 


This code seems to work fine (I've inserted a few ""test test"" entries), but when I try to enter something with accents, for instance ""*Il était là*"", I get an error message :

> A Database Error Occurred

> Error Number: 1366

> Incorrect string value: '\xE9tait ...' for column 'mytext' at row 1

I've looked on the code igniter forums for a fix, but all they say is to change the collation to UTF8, in mysql. I've tried that, but I keep having the same problem.",4
7498502,09/21/2011 10:51:58,956743,09/21/2011 10:51:58,1,0,Mysql insert new entries from one table to another automatically after a certain time,I would like to call trigger to insert new entries in a particular table to another mysql table after a s,mysql,database,,,,09/21/2011 11:20:33,not a real question,1,21,14,Mysql insert new entries from one table to another automatically after a certain time I would like to call trigger to insert new entries in a particular table to another mysql table after a s,2
10555219,05/11/2012 16:28:59,1389893,05/11/2012 16:24:18,1,0,MYSQL cursors where current of,"    *DELIMITER //
    create procedure test(OUT l_out INT)
    begin
    DECLARE done INT DEFAULT FALSE;
    declare l_sno INT default 0;
    declare a INT default 0;
    declare b INT default 0;
    declare cur_1 cursor for select sno,interest from temp t  where x_coord between 55 and 60 for update of interest;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;
    open cur_1; 
    read_loop: LOOP
    fetch cur_1 into a,b;
    if done then
    	Leave read_loop;
    end if;
    set l_sno=l_sno+1;
    update temp set interest =1 where CURRENT OF cur_1;
    END LOOP;
    close cur_1;
    set l_out=l_sno;
    end //
    ;*

Error:
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'of interest; DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE; open cur_1;' at line 7

#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF cur_1; END LOOP; close cur_1; set l_out=l_sno; end' at line 16


",mysql,cursors,,,,,open,0,242,5,"MYSQL cursors where current of     *DELIMITER //
    create procedure test(OUT l_out INT)
    begin
    DECLARE done INT DEFAULT FALSE;
    declare l_sno INT default 0;
    declare a INT default 0;
    declare b INT default 0;
    declare cur_1 cursor for select sno,interest from temp t  where x_coord between 55 and 60 for update of interest;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;
    open cur_1; 
    read_loop: LOOP
    fetch cur_1 into a,b;
    if done then
    	Leave read_loop;
    end if;
    set l_sno=l_sno+1;
    update temp set interest =1 where CURRENT OF cur_1;
    END LOOP;
    close cur_1;
    set l_out=l_sno;
    end //
    ;*

Error:
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'of interest; DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE; open cur_1;' at line 7

#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF cur_1; END LOOP; close cur_1; set l_out=l_sno; end' at line 16


",2
2883867,05/21/2010 16:38:00,343339,12/01/2009 05:02:00,6,0,MySQL TEXT field performance,"I have several TEXT and/or MEDIUMTEXT fields in each of our 1000 MySQL tables.  I now know that TEXT fields are written to disk rather than in memory when queried.  Is that also true even if that field is not called in the query?  For example, if I have a table (tbExam) with 2 fields (id int(11) and comment text) and I run SELECT id FROM tbExam, does MySQL still have to write that to disk before returning results or will it run that query in memory?

I am trying to figure out if I need to reconfigure our actual db tables to switch to varchar(xxxx) or keep the text fields and reconfigure the queries.",mysql,query,optimization,,,,open,0,117,4,"MySQL TEXT field performance I have several TEXT and/or MEDIUMTEXT fields in each of our 1000 MySQL tables.  I now know that TEXT fields are written to disk rather than in memory when queried.  Is that also true even if that field is not called in the query?  For example, if I have a table (tbExam) with 2 fields (id int(11) and comment text) and I run SELECT id FROM tbExam, does MySQL still have to write that to disk before returning results or will it run that query in memory?

I am trying to figure out if I need to reconfigure our actual db tables to switch to varchar(xxxx) or keep the text fields and reconfigure the queries.",3
4685594,01/13/2011 21:40:29,282302,02/26/2010 19:12:09,68,8,"Sorry to be a pain, but another 1064 error in MySQL 5.1.36","error msg:

**1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'values('name','url','address','city','state','zip','phone'), values('name','url' at line 3**

create table:

    create table lawyer_info
    (firm_name varchar(100) not null,
    firm_url varchar(100) not null,
    firm_address varchar(100) not null,
    firm_city varchar(100) not null,
    firm_state varchar(100) not null,
    firm_zip varchar(12) not null,
    firm_phone varchar(15) not null);

data:

    insert into lawyer_info firm_name,firm_url,firm_address,firm_city,firm_state,firm_zip,firm_phone)
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone');",mysql,table,insert,create,,01/15/2011 01:18:21,too localized,1,124,12,"Sorry to be a pain, but another 1064 error in MySQL 5.1.36 error msg:

**1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'values('name','url','address','city','state','zip','phone'), values('name','url' at line 3**

create table:

    create table lawyer_info
    (firm_name varchar(100) not null,
    firm_url varchar(100) not null,
    firm_address varchar(100) not null,
    firm_city varchar(100) not null,
    firm_state varchar(100) not null,
    firm_zip varchar(12) not null,
    firm_phone varchar(15) not null);

data:

    insert into lawyer_info firm_name,firm_url,firm_address,firm_city,firm_state,firm_zip,firm_phone)
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone'),
    values('name','url','address','city','state','zip','phone');",4
3932551,10/14/2010 11:15:09,438755,09/03/2010 08:03:08,45,1,mysql SQL_CALC_FOUND_ROWS problem with join,"Why this query returning 0 rows?

SELECT SQL_CALC_FOUND_ROWS a.*, b.id AS key1, b.name AS catname FROM #__cd_ads a
LEFT JOIN #__cd_categories b ON a.type = b.id

when removed  b.id AS key1, b.name AS catname than works.",mysql,,,,,,open,0,34,5,"mysql SQL_CALC_FOUND_ROWS problem with join Why this query returning 0 rows?

SELECT SQL_CALC_FOUND_ROWS a.*, b.id AS key1, b.name AS catname FROM #__cd_ads a
LEFT JOIN #__cd_categories b ON a.type = b.id

when removed  b.id AS key1, b.name AS catname than works.",1
405795,01/02/2009 01:19:22,36902,11/12/2008 13:20:32,1257,47,MySQL versus SQL Server Express Performance Comparison,"I have a somewhat complex query with roughly 100K rows.

The query runs in 13 seconds in SQL Server Express (run on my dev box)

The same query with the same indexing and tables takes over 15+ minutes to run on MySQL 5.1 (run on my production box - much more powerful and tested with 100% resources)  And sometimes the query crashes the machine with an out of memory error.

What am I doing wrong in MySQL?  Why does it take so long?



    select e8.*
    from table_a e8
    inner join (
    	select max(e6.id) as id, e6.category, e6.entity, e6.service_date
    	from (
    		select e4.* 
    		from table_a e4
    		inner join (
    			select max(e2.id) as id, e3.rank, e2.entity, e2.provider_id, e2.service_date
    			from table_a e2
    			inner join (
    				select min(e1.rank) as rank, e1.entity, e1.provider_id, e1.service_date
    				from table_a e1
    				where e1.site_id is not null
    				group by e1.entity, e1.provider_id, e1.service_date 
    			) as e3
    			on e2.rank= e3.rank
    			and e2.entity = e3.entity
    			and e2.provider_id = e3.provider_id
    			and e2.service_date = e3.service_date
    			and e2.rank= e3.rank
    			group by e2.entity, e2.provider_id, e2.service_date, e3.rank
    		) e5
    		on e4.id = e5.id
    		and e4.rank= e5.rank							
    	) e6
    	group by e6.category, e6.entity, e6.service_date 
    ) e7
    on e8.id = e7.id and e7.category = e8.category",mysql,sql-server,comparison,performance,,,open,0,284,7,"MySQL versus SQL Server Express Performance Comparison I have a somewhat complex query with roughly 100K rows.

The query runs in 13 seconds in SQL Server Express (run on my dev box)

The same query with the same indexing and tables takes over 15+ minutes to run on MySQL 5.1 (run on my production box - much more powerful and tested with 100% resources)  And sometimes the query crashes the machine with an out of memory error.

What am I doing wrong in MySQL?  Why does it take so long?



    select e8.*
    from table_a e8
    inner join (
    	select max(e6.id) as id, e6.category, e6.entity, e6.service_date
    	from (
    		select e4.* 
    		from table_a e4
    		inner join (
    			select max(e2.id) as id, e3.rank, e2.entity, e2.provider_id, e2.service_date
    			from table_a e2
    			inner join (
    				select min(e1.rank) as rank, e1.entity, e1.provider_id, e1.service_date
    				from table_a e1
    				where e1.site_id is not null
    				group by e1.entity, e1.provider_id, e1.service_date 
    			) as e3
    			on e2.rank= e3.rank
    			and e2.entity = e3.entity
    			and e2.provider_id = e3.provider_id
    			and e2.service_date = e3.service_date
    			and e2.rank= e3.rank
    			group by e2.entity, e2.provider_id, e2.service_date, e3.rank
    		) e5
    		on e4.id = e5.id
    		and e4.rank= e5.rank							
    	) e6
    	group by e6.category, e6.entity, e6.service_date 
    ) e7
    on e8.id = e7.id and e7.category = e8.category",4
10196574,04/17/2012 18:06:06,1338186,04/17/2012 08:16:45,7,0,i want to write mysql query,"Print the Level and the average age of students for that Level, for all Levels except JR.


CREATE TABLE STUDENT (
    sid NUMERIC(6) NOT NULL,
    sname VARCHAR(15),
    major VARCHAR(20),
    level VARCHAR(2),
    sage NUMERIC(2) NOT NULL,
    PRIMARY KEY (sid)
    );

INSERT INTO STUDENT (sid, sname, major, level, sage) values (1,'JOHN','EE','FR' ,18);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (2,'TIM','EE','FR',19);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (3,'RICHARD','EE','SO',20);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (4,'EDWARD','EE','SO',21);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (5,'ALBER','CS','JR',22);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (6,'MARY','EE','JR',22);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (7,'JACK','EE','SR',23);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (8,'JULIAN','EE','SR',22);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (9,'SAM','EE','SR',24);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (10,'RAM','CS','SR',23);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (11,'RICK','EE','SR',24);",mysql,,,,,04/18/2012 07:28:50,not a real question,1,159,6,"i want to write mysql query Print the Level and the average age of students for that Level, for all Levels except JR.


CREATE TABLE STUDENT (
    sid NUMERIC(6) NOT NULL,
    sname VARCHAR(15),
    major VARCHAR(20),
    level VARCHAR(2),
    sage NUMERIC(2) NOT NULL,
    PRIMARY KEY (sid)
    );

INSERT INTO STUDENT (sid, sname, major, level, sage) values (1,'JOHN','EE','FR' ,18);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (2,'TIM','EE','FR',19);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (3,'RICHARD','EE','SO',20);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (4,'EDWARD','EE','SO',21);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (5,'ALBER','CS','JR',22);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (6,'MARY','EE','JR',22);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (7,'JACK','EE','SR',23);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (8,'JULIAN','EE','SR',22);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (9,'SAM','EE','SR',24);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (10,'RAM','CS','SR',23);
INSERT INTO STUDENT (sid, sname, major, level, sage) values (11,'RICK','EE','SR',24);",1
6016441,05/16/2011 11:05:02,728009,04/27/2011 19:49:10,6,0,table structure for inventory management in mysql,"i am getting a little stuck with the inventory table design and would appreciate if anyone could guide me with that.

the inventory is at 3 different locations(warehouses). i want help with how do i avoid creating multiple itemcodes for each warehouse


the current set up is as follows:-
table no 1 - `inventory_T`
fields-
itemcode(primary key)
item name
item group id(foreign key to item group table)
item category id(foreign key to item category table)

table no 2 - `item_costs`
fields-
itemcode(fk to table 1)
average cost

table no 3 - `stock_balance`
fields-
itemcode(fk to table 1)
stock on hand


",mysql,table,structure,inventory-management,,,open,0,84,7,"table structure for inventory management in mysql i am getting a little stuck with the inventory table design and would appreciate if anyone could guide me with that.

the inventory is at 3 different locations(warehouses). i want help with how do i avoid creating multiple itemcodes for each warehouse


the current set up is as follows:-
table no 1 - `inventory_T`
fields-
itemcode(primary key)
item name
item group id(foreign key to item group table)
item category id(foreign key to item category table)

table no 2 - `item_costs`
fields-
itemcode(fk to table 1)
average cost

table no 3 - `stock_balance`
fields-
itemcode(fk to table 1)
stock on hand


",4
11069955,06/17/2012 08:28:48,1363982,04/29/2012 09:43:05,3,0,object is not a function in mysql db using with nodejs,"im following the <a href=""http://www.giantflyingsaucer.com/blog/?p=2596"">tutorial</a> but first i got this error: deprecated: connect() is now done automatically.
i change my code but after that im faceing this error <code>object is not a function
    at Client.CALL_NON_FUNCTION_AS_CONSTRUCTOR (native)</code>
 and i ve no idea as i m new to nodejs and mysql so kindly help me out!!
here is my code <br>
<br>
var Client = require('mysql').createClient({'host':'localhost','port':'3306','user':'root',
'password':''});<br>
var client = new Client();<br>

console.log('Connecting to mysql..');<br>
ClientConnectionReady(client);<br>

ClientConnectionReady = function(client){<br>
	&nbsp;&nbsp;&nbsp;&nbsp;client.query('USE login',function(err,result){<br>
		if(err){<br>
			console.log('cant create Table Error:'+ err.message);<br>
			client.end();<br>
			return;<br>
		}<br>
		ClientReady(client);<br>
};<br>
<br><hr>
ClientReady = function(client){<br>
	var values = ['fahad','tariq'];<br>
	client.query('INSERT into Login SET username = ?, password = ?',values,<br>
	function(err,result){<br>
		if(err){<br>
			console.log(""ClientReady Error:"" + error.message);<br>
			client.end();<br>
			return;<br>
		}<br>
		console.log('inserted:'+result.affectedRows+'ros.');<br>
		console.log('Id inserted:'+ result.insertId);<br>
	});<br>
	GetData(client);<br>
}<br>
<br><hr>
GetData = function(client){<br>
	client.query(<br>
		'SELECT * FROM Login',<br>
		function selectCb(err,result,fields){<br>
			if(err){<br>
				console.log('Getdata Error'+err.message);<br>
				client.end();<br>
				return;<br>
					}<br>
			if(result.length>0){<br>
				var firstResult = results[0];<br>
				console.log('username' + firstResult['username']);<br>
				console.log('password'+firstResult['password']);<br>
			}<br>
		});<br>
		client.end();<br>
		console.log('connection closed');<br />
};


",mysql,node.js,,,,,open,0,109,11,"object is not a function in mysql db using with nodejs im following the <a href=""http://www.giantflyingsaucer.com/blog/?p=2596"">tutorial</a> but first i got this error: deprecated: connect() is now done automatically.
i change my code but after that im faceing this error <code>object is not a function
    at Client.CALL_NON_FUNCTION_AS_CONSTRUCTOR (native)</code>
 and i ve no idea as i m new to nodejs and mysql so kindly help me out!!
here is my code <br>
<br>
var Client = require('mysql').createClient({'host':'localhost','port':'3306','user':'root',
'password':''});<br>
var client = new Client();<br>

console.log('Connecting to mysql..');<br>
ClientConnectionReady(client);<br>

ClientConnectionReady = function(client){<br>
	&nbsp;&nbsp;&nbsp;&nbsp;client.query('USE login',function(err,result){<br>
		if(err){<br>
			console.log('cant create Table Error:'+ err.message);<br>
			client.end();<br>
			return;<br>
		}<br>
		ClientReady(client);<br>
};<br>
<br><hr>
ClientReady = function(client){<br>
	var values = ['fahad','tariq'];<br>
	client.query('INSERT into Login SET username = ?, password = ?',values,<br>
	function(err,result){<br>
		if(err){<br>
			console.log(""ClientReady Error:"" + error.message);<br>
			client.end();<br>
			return;<br>
		}<br>
		console.log('inserted:'+result.affectedRows+'ros.');<br>
		console.log('Id inserted:'+ result.insertId);<br>
	});<br>
	GetData(client);<br>
}<br>
<br><hr>
GetData = function(client){<br>
	client.query(<br>
		'SELECT * FROM Login',<br>
		function selectCb(err,result,fields){<br>
			if(err){<br>
				console.log('Getdata Error'+err.message);<br>
				client.end();<br>
				return;<br>
					}<br>
			if(result.length>0){<br>
				var firstResult = results[0];<br>
				console.log('username' + firstResult['username']);<br>
				console.log('password'+firstResult['password']);<br>
			}<br>
		});<br>
		client.end();<br>
		console.log('connection closed');<br />
};


",2
5751645,04/22/2011 02:10:30,537173,12/09/2010 23:00:40,122,2,foreign key problem - mysql,"i have this mysql code, but when i delete an element of agrupamento, the child is not deleted in emprego, and it is supposed.

For example i have in agrupamento `- id - 1 || area - science`

and i have in profissao (job) `- ref - 1 || empregoid - 1 || emprego - scientist` 


     CREATE TABLE agrupamento (  
            id smallint(5) unsigned NOT NULL auto_increment,  
            area varchar(30),  
            PRIMARY KEY (id) 
        )
    
    CREATE TABLE emprego (  
        ref int(10) unsigned NOT NULL auto_increment,  
        empregoid smallint(5) unsigned NOT NULL,  
        emprego varchar(50),  
        PRIMARY KEY (ref)  
    )
    
        ALTER TABLE emprego  
        ADD CONSTRAINT FK_emprego
        FOREIGN KEY (empregoid) REFERENCES agrupamento(id)  
        ON UPDATE CASCADE  
        ON DELETE CASCADE;  

what is the problem?

(if the area science doesn't exists, the scientist also not.)

thanks!",mysql,sql,database,foreign-keys,foreign-key-relationship,,open,0,267,5,"foreign key problem - mysql i have this mysql code, but when i delete an element of agrupamento, the child is not deleted in emprego, and it is supposed.

For example i have in agrupamento `- id - 1 || area - science`

and i have in profissao (job) `- ref - 1 || empregoid - 1 || emprego - scientist` 


     CREATE TABLE agrupamento (  
            id smallint(5) unsigned NOT NULL auto_increment,  
            area varchar(30),  
            PRIMARY KEY (id) 
        )
    
    CREATE TABLE emprego (  
        ref int(10) unsigned NOT NULL auto_increment,  
        empregoid smallint(5) unsigned NOT NULL,  
        emprego varchar(50),  
        PRIMARY KEY (ref)  
    )
    
        ALTER TABLE emprego  
        ADD CONSTRAINT FK_emprego
        FOREIGN KEY (empregoid) REFERENCES agrupamento(id)  
        ON UPDATE CASCADE  
        ON DELETE CASCADE;  

what is the problem?

(if the area science doesn't exists, the scientist also not.)

thanks!",5
8448450,12/09/2011 16:20:29,272501,02/13/2010 18:25:08,1169,11,MySQL table of langauges spoken with their full printable name and ISO code,"For example, `Spanish` is `ES` while `German` is `DE` and so on.

Does anyone know where I could find a MySQL table-dump of all of the languages available with their name and iso codes?

Here's a list to show you what I'm talking about: http://www.w3schools.com/tags/ref_language_codes.asp

Thanks.",mysql,language,iso,,,12/10/2011 04:24:57,off topic,1,43,13,"MySQL table of langauges spoken with their full printable name and ISO code For example, `Spanish` is `ES` while `German` is `DE` and so on.

Does anyone know where I could find a MySQL table-dump of all of the languages available with their name and iso codes?

Here's a list to show you what I'm talking about: http://www.w3schools.com/tags/ref_language_codes.asp

Thanks.",3
4521701,12/23/2010 19:07:44,496351,11/03/2010 18:48:32,85,0,MySQL Stored Procedure | How to write it?,"This time I have a MySQL question, I'm trying to create a stored procedure which will execute a prepared statement, the goal is to get a ranged list from a table(""`order_info`""), the list is divided by ""pages"", each page is determined by a record count and should be ordered using a particular field sorted either `'ASC'` or `'DESC'`, each record represents an ""`order`"" the catch here is that the procedure returns the orders of a particular group, the the order is associated to a `user` which belongs to a `group`. Here's what I've done so far:  
<pre><code>
    CREATE DEFINER=`root`@`%` PROCEDURE `getGroupOrders`(IN grp INT,
                                                   IN page INT, 
                                                   IN count INT, 
                                                   IN ord VARCHAR(10), 
                                                   IN srt VARCHAR(4)
                                                   )
    BEGIN
        PREPARE prepGroupOrders FROM
        ""SELECT * FROM `dbre`.`order_info` 
            WHERE username IN (
                           SELECT `dbre`.`users`.`username` FROM `dbre`.`users` 
                           WHERE `dbre`.`users`.`id_group` = ?
                           ) 
            ORDER BY ? ? LIMIT ?, ?"";
        
        SET @g := grp;
        SET @cnt := count;
        SET @start := @page*count ;
        SET @orderBy := ord;
        SET @sortBy := srt;

        EXECUTE prepGroupOrders USING @g,@orderBy,@sortBy,@start,@cnt;
    END
</code></pre>
I get a syntax error when executing this, even though the editor does not higlight any errors and lets me save the procedure,I think that one of the follwing may be happening:
<ul>
<li> I am incorrectly usng the `ASC` or `DESC` since it is a SQL reserved word.</li>
<li> I read somewhere that Prepared statement are for only ONE SQL query, and since I have nested queries it can't be done.</li>
</ul>

I've tested this standard query:  
<pre><code>SELECT * FROM `dbre`.`order_info` 
    WHERE username IN (
                       SELECT `dbre`.`users`.`username` FROM `dbre`.`users` 
                       WHERE `dbre`.`users`.`id_group` = 1
                       ) 
    ORDER BY `status` DESC LIMIT 5, 10;</code></pre>
And it gives me the results I want. SO how would I design the procedure?
Any help is truly appreciated.
",mysql,stored-procedures,,,,,open,0,790,8,"MySQL Stored Procedure | How to write it? This time I have a MySQL question, I'm trying to create a stored procedure which will execute a prepared statement, the goal is to get a ranged list from a table(""`order_info`""), the list is divided by ""pages"", each page is determined by a record count and should be ordered using a particular field sorted either `'ASC'` or `'DESC'`, each record represents an ""`order`"" the catch here is that the procedure returns the orders of a particular group, the the order is associated to a `user` which belongs to a `group`. Here's what I've done so far:  
<pre><code>
    CREATE DEFINER=`root`@`%` PROCEDURE `getGroupOrders`(IN grp INT,
                                                   IN page INT, 
                                                   IN count INT, 
                                                   IN ord VARCHAR(10), 
                                                   IN srt VARCHAR(4)
                                                   )
    BEGIN
        PREPARE prepGroupOrders FROM
        ""SELECT * FROM `dbre`.`order_info` 
            WHERE username IN (
                           SELECT `dbre`.`users`.`username` FROM `dbre`.`users` 
                           WHERE `dbre`.`users`.`id_group` = ?
                           ) 
            ORDER BY ? ? LIMIT ?, ?"";
        
        SET @g := grp;
        SET @cnt := count;
        SET @start := @page*count ;
        SET @orderBy := ord;
        SET @sortBy := srt;

        EXECUTE prepGroupOrders USING @g,@orderBy,@sortBy,@start,@cnt;
    END
</code></pre>
I get a syntax error when executing this, even though the editor does not higlight any errors and lets me save the procedure,I think that one of the follwing may be happening:
<ul>
<li> I am incorrectly usng the `ASC` or `DESC` since it is a SQL reserved word.</li>
<li> I read somewhere that Prepared statement are for only ONE SQL query, and since I have nested queries it can't be done.</li>
</ul>

I've tested this standard query:  
<pre><code>SELECT * FROM `dbre`.`order_info` 
    WHERE username IN (
                       SELECT `dbre`.`users`.`username` FROM `dbre`.`users` 
                       WHERE `dbre`.`users`.`id_group` = 1
                       ) 
    ORDER BY `status` DESC LIMIT 5, 10;</code></pre>
And it gives me the results I want. SO how would I design the procedure?
Any help is truly appreciated.
",2
6403450,06/19/2011 15:53:12,182808,10/01/2009 23:09:37,330,1,SELECTing non-indexed column increases 'sending data' 25x - why and how to improve?,"Given this table on *local* MySQL instance 5.1 with query caching off:

    show create table product_views\G
    *************************** 1. row ***************************
           Table: product_views
    Create Table: CREATE TABLE `product_views` (
      `id` bigint(20) NOT NULL AUTO_INCREMENT,
      `dateCreated` datetime NOT NULL,
      `dateModified` datetime DEFAULT NULL,
      `hibernateVersion` bigint(20) DEFAULT NULL,
      `brandName` varchar(255) DEFAULT NULL,
      `mfrModel` varchar(255) DEFAULT NULL,
      `origin` varchar(255) NOT NULL,
      `price` float DEFAULT NULL,
      `productType` varchar(255) DEFAULT NULL,
      `rebateDetailsViewed` tinyint(1) NOT NULL,
      `rebateSearchZipCode` int(11) DEFAULT NULL,
      `rebatesFoundAmount` float DEFAULT NULL,
      `rebatesFoundCount` int(11) DEFAULT NULL,
      `siteSKU` varchar(255) DEFAULT NULL,
      `timestamp` datetime NOT NULL,
      `uiContext` varchar(255) DEFAULT NULL,
      `siteVisitId` bigint(20) NOT NULL,
      `efficiencyLevel` varchar(255) DEFAULT NULL,
      `siteName` varchar(255) DEFAULT NULL,
      `clicks` varchar(1024) DEFAULT NULL,
      `rebateFormDownloaded` tinyint(1) NOT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `siteVisitId` (`siteVisitId`,`siteSKU`),
      KEY `FK52C29B1E3CAB9CC4` (`siteVisitId`),
      KEY `rebateSearchZipCode_idx` (`rebateSearchZipCode`),
      KEY `FIND_UNPROCESSED_IDX` (`siteSKU`,`siteVisitId`,`timestamp`),
      CONSTRAINT `FK52C29B1E3CAB9CC4` FOREIGN KEY (`siteVisitId`) REFERENCES `site_visits` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
    ) ENGINE=InnoDB AUTO_INCREMENT=32909504 DEFAULT CHARSET=latin1
    1 row in set (0.00 sec)


This query takes ~3s:

    select pv.id, pv.siteSKU from product_views pv cross join site_visits sv where pv.siteVisitId=sv.id and pv.siteSKU='foo' and sv.siteId='bar' an
    d sv.postProcessed=1 and pv.timestamp>='2011-05-19 00:00:00' and pv.timestamp<'2011-06-18 00:00:00';

But this one (non-indexed column added to SELECT) takes ~65s:

    select pv.id, pv.siteSKU, pv.hibernateVersion from product_views pv cross join site_visits sv where pv.siteVisitId=sv.id and pv.siteSKU='foo' and sv.siteId='bar' an
    d sv.postProcessed=1 and pv.timestamp>='2011-05-19 00:00:00' and pv.timestamp<'2011-06-18 00:00:00';


Nothing in 'where' or 'from' clauses is different. All the extra time is spent in 'sending data':

    mysql> show profile for query 1;
    +--------------------+-----------+
    | Status             | Duration  |
    +--------------------+-----------+
    | starting           |  0.000155 |
    | Opening tables     |  0.000029 |
    | System lock        |  0.000007 |
    | Table lock         |  0.000019 |
    | init               |  0.000072 |
    | optimizing         |  0.000032 |
    | statistics         |  0.000316 |
    | preparing          |  0.000034 |
    | executing          |  0.000002 |
    | Sending data       | 63.530402 |
    | end                |  0.000044 |
    | query end          |  0.000005 |
    | freeing items      |  0.000091 |
    | logging slow query |  0.000002 |
    | logging slow query |  0.000109 |
    | cleaning up        |  0.000004 |
    +--------------------+-----------+
    16 rows in set (0.00 sec)

**I understand that using a non-indexed column in where clause would slow things down, but why here? What can be done to improve the latter case - given that I will actually want to SELECT(*) from product_views?**


",mysql,query,,,,,open,0,767,13,"SELECTing non-indexed column increases 'sending data' 25x - why and how to improve? Given this table on *local* MySQL instance 5.1 with query caching off:

    show create table product_views\G
    *************************** 1. row ***************************
           Table: product_views
    Create Table: CREATE TABLE `product_views` (
      `id` bigint(20) NOT NULL AUTO_INCREMENT,
      `dateCreated` datetime NOT NULL,
      `dateModified` datetime DEFAULT NULL,
      `hibernateVersion` bigint(20) DEFAULT NULL,
      `brandName` varchar(255) DEFAULT NULL,
      `mfrModel` varchar(255) DEFAULT NULL,
      `origin` varchar(255) NOT NULL,
      `price` float DEFAULT NULL,
      `productType` varchar(255) DEFAULT NULL,
      `rebateDetailsViewed` tinyint(1) NOT NULL,
      `rebateSearchZipCode` int(11) DEFAULT NULL,
      `rebatesFoundAmount` float DEFAULT NULL,
      `rebatesFoundCount` int(11) DEFAULT NULL,
      `siteSKU` varchar(255) DEFAULT NULL,
      `timestamp` datetime NOT NULL,
      `uiContext` varchar(255) DEFAULT NULL,
      `siteVisitId` bigint(20) NOT NULL,
      `efficiencyLevel` varchar(255) DEFAULT NULL,
      `siteName` varchar(255) DEFAULT NULL,
      `clicks` varchar(1024) DEFAULT NULL,
      `rebateFormDownloaded` tinyint(1) NOT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `siteVisitId` (`siteVisitId`,`siteSKU`),
      KEY `FK52C29B1E3CAB9CC4` (`siteVisitId`),
      KEY `rebateSearchZipCode_idx` (`rebateSearchZipCode`),
      KEY `FIND_UNPROCESSED_IDX` (`siteSKU`,`siteVisitId`,`timestamp`),
      CONSTRAINT `FK52C29B1E3CAB9CC4` FOREIGN KEY (`siteVisitId`) REFERENCES `site_visits` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
    ) ENGINE=InnoDB AUTO_INCREMENT=32909504 DEFAULT CHARSET=latin1
    1 row in set (0.00 sec)


This query takes ~3s:

    select pv.id, pv.siteSKU from product_views pv cross join site_visits sv where pv.siteVisitId=sv.id and pv.siteSKU='foo' and sv.siteId='bar' an
    d sv.postProcessed=1 and pv.timestamp>='2011-05-19 00:00:00' and pv.timestamp<'2011-06-18 00:00:00';

But this one (non-indexed column added to SELECT) takes ~65s:

    select pv.id, pv.siteSKU, pv.hibernateVersion from product_views pv cross join site_visits sv where pv.siteVisitId=sv.id and pv.siteSKU='foo' and sv.siteId='bar' an
    d sv.postProcessed=1 and pv.timestamp>='2011-05-19 00:00:00' and pv.timestamp<'2011-06-18 00:00:00';


Nothing in 'where' or 'from' clauses is different. All the extra time is spent in 'sending data':

    mysql> show profile for query 1;
    +--------------------+-----------+
    | Status             | Duration  |
    +--------------------+-----------+
    | starting           |  0.000155 |
    | Opening tables     |  0.000029 |
    | System lock        |  0.000007 |
    | Table lock         |  0.000019 |
    | init               |  0.000072 |
    | optimizing         |  0.000032 |
    | statistics         |  0.000316 |
    | preparing          |  0.000034 |
    | executing          |  0.000002 |
    | Sending data       | 63.530402 |
    | end                |  0.000044 |
    | query end          |  0.000005 |
    | freeing items      |  0.000091 |
    | logging slow query |  0.000002 |
    | logging slow query |  0.000109 |
    | cleaning up        |  0.000004 |
    +--------------------+-----------+
    16 rows in set (0.00 sec)

**I understand that using a non-indexed column in where clause would slow things down, but why here? What can be done to improve the latter case - given that I will actually want to SELECT(*) from product_views?**


",2
6938492,08/04/2011 08:43:12,729105,04/28/2011 10:31:15,27,0,Invalid query: Incorrect key file for table,There is couple of these already. My question though is how can something like this happen? is it cause by a bug in my code or is it an apache related problem?,mysql,query,invalid,,,08/04/2011 09:42:41,not a real question,1,32,7,Invalid query: Incorrect key file for table There is couple of these already. My question though is how can something like this happen? is it cause by a bug in my code or is it an apache related problem?,3
7055781,08/14/2011 08:19:59,560287,01/02/2011 11:32:58,367,19,MySQl Error 1046 with cron that optimises tables,"Following one of my previous questions I have started to get a error with the solution:

    ERROR 1046 (3D000) at line 1: No database selected

Crong Job db-optimize.sh with execute permissions. 


    #!/bin/bash
    chk=""select concat(TABLE_SCHEMA,'.', TABLE_NAME) from information_schema.tables where data_free>0;""
    
    for tbl in $(mysql -u root -ppass -N <<< $chk)
    do
      mysql -u root -ppass -N <<< ""optimize table $tbl""
    done

I have looked up the error code and it says that I need to be in ""MySQL"" mode. Although this looks to be what the code is already doing. 
",mysql,bash,cron,mysql-error-1064,,12/18/2011 19:54:41,too localized,1,116,8,"MySQl Error 1046 with cron that optimises tables Following one of my previous questions I have started to get a error with the solution:

    ERROR 1046 (3D000) at line 1: No database selected

Crong Job db-optimize.sh with execute permissions. 


    #!/bin/bash
    chk=""select concat(TABLE_SCHEMA,'.', TABLE_NAME) from information_schema.tables where data_free>0;""
    
    for tbl in $(mysql -u root -ppass -N <<< $chk)
    do
      mysql -u root -ppass -N <<< ""optimize table $tbl""
    done

I have looked up the error code and it says that I need to be in ""MySQL"" mode. Although this looks to be what the code is already doing. 
",4
4416353,12/11/2010 10:51:09,245549,01/07/2010 13:20:49,1931,3,How optimized are sub-queries in MySQL?,"My question is long but simple. I have queries of the following kind:

    select obj from table where condition1 and obj in (
    select obj from table where condition2 and obj in (
    select obj from table where condition3 and obj in (
    ...
    )))

This query takes a very long time. I am afraid that MySQL performs this query in the following way (for simplicity let's consider just one sub-query):

    select obj from table1 where condition1 and obj in (select obj from table2 where condition2)

The MySQL goes through rows of the table 1. If `condition1` is fulfilled it starts a loop over the object from the set obtained by the sub-query. If there is a considered object, it is added to the ""final"" list of objects.

My problem is that the above example has a loop in a loop. And if I have two sub-queries I have a loop in a loop in a loop. If every loop has about 10 000 cycles, I have a disaster.

My solution is to find n sets (every set corresponds to one `select`). Then I make a loop over every set independently (so, I do not have loops in loops). Something like that.

    dictionary = []
    for (elem in set1) {
       dictionary[elem] += 1
    }
    for (elem in set2) {
       dictionary[elem] += 1
    }
    for (elem in set3) {
       dictionary[elem] += 1
    }

Then I make one more loop over all elements of the `dictionary` and select only those keys that were found in all sets:

    finalSet = []
    for (elem in dictionary) {
       if (dictionary[elem]==numberOfSets) {
          finalSet.add(elem)
       }
    }

So, my question is MySQL is optimized in a way I want it to be optimized (above described way). Or it produce loops in loops in loops....

",mysql,optimization,subquery,,,,open,0,377,6,"How optimized are sub-queries in MySQL? My question is long but simple. I have queries of the following kind:

    select obj from table where condition1 and obj in (
    select obj from table where condition2 and obj in (
    select obj from table where condition3 and obj in (
    ...
    )))

This query takes a very long time. I am afraid that MySQL performs this query in the following way (for simplicity let's consider just one sub-query):

    select obj from table1 where condition1 and obj in (select obj from table2 where condition2)

The MySQL goes through rows of the table 1. If `condition1` is fulfilled it starts a loop over the object from the set obtained by the sub-query. If there is a considered object, it is added to the ""final"" list of objects.

My problem is that the above example has a loop in a loop. And if I have two sub-queries I have a loop in a loop in a loop. If every loop has about 10 000 cycles, I have a disaster.

My solution is to find n sets (every set corresponds to one `select`). Then I make a loop over every set independently (so, I do not have loops in loops). Something like that.

    dictionary = []
    for (elem in set1) {
       dictionary[elem] += 1
    }
    for (elem in set2) {
       dictionary[elem] += 1
    }
    for (elem in set3) {
       dictionary[elem] += 1
    }

Then I make one more loop over all elements of the `dictionary` and select only those keys that were found in all sets:

    finalSet = []
    for (elem in dictionary) {
       if (dictionary[elem]==numberOfSets) {
          finalSet.add(elem)
       }
    }

So, my question is MySQL is optimized in a way I want it to be optimized (above described way). Or it produce loops in loops in loops....

",3
6935862,08/04/2011 03:27:32,851277,07/19/2011 05:05:42,90,0,How do I know the primary key of a specific table with SQL?,"I mean not by manually reading the output of `show create table...`,but by `select ...` alike  so that the primary key name is output directly as the result?",mysql,,,,,,open,0,29,13,"How do I know the primary key of a specific table with SQL? I mean not by manually reading the output of `show create table...`,but by `select ...` alike  so that the primary key name is output directly as the result?",1
11321024,07/04/2012 00:34:26,1500239,07/04/2012 00:25:13,1,0,GWT mysql apache on ubuntu 12.04,"I want to develop a web application in GWT. I have created the front end. I want to use mysql and apache tomcat so that I can deploy the app on an external server( later). Can I get an insight as to how this can be done? I want to know right from the steps to install the mysql and apache in eclipse. I have to develop it in ubuntu 12.04.

Thanks.

",mysql,apache,gwt,tomcat,ubuntu,,open,0,71,6,"GWT mysql apache on ubuntu 12.04 I want to develop a web application in GWT. I have created the front end. I want to use mysql and apache tomcat so that I can deploy the app on an external server( later). Can I get an insight as to how this can be done? I want to know right from the steps to install the mysql and apache in eclipse. I have to develop it in ubuntu 12.04.

Thanks.

",5
10522691,05/09/2012 19:17:06,165673,08/30/2009 18:28:44,4019,47,Installed MySQL but can't find it,"I've just finished installing mysql and mysqlserver on centOS as part of a larger install script (the full script is [here][1], though I uncommented the mysql part). 

The script ran fine, and it even walked me through the paces of setting up the mysql root password etc. 


Script output:
> Installed:   
> mysql.x86_64 0:5.1.61-1.el6_2.1                          
> mysql-server.x86_64 0:5.1.61-1.el6_2.1

Now, in the same session is SSH, I'm unable to access mysql or find any reference to it.

> $ mysql -u root -p  
> -bash: mysql: command not found
> 
> $ mysql -V  
> -bash: mysql: command not found

It's just weird- where is it??


  [1]: http://code.google.com/p/web2py/source/browse/scripts/setup-web2py-fedora.sh",mysql,linux,,,,05/09/2012 19:23:20,off topic,1,131,6,"Installed MySQL but can't find it I've just finished installing mysql and mysqlserver on centOS as part of a larger install script (the full script is [here][1], though I uncommented the mysql part). 

The script ran fine, and it even walked me through the paces of setting up the mysql root password etc. 


Script output:
> Installed:   
> mysql.x86_64 0:5.1.61-1.el6_2.1                          
> mysql-server.x86_64 0:5.1.61-1.el6_2.1

Now, in the same session is SSH, I'm unable to access mysql or find any reference to it.

> $ mysql -u root -p  
> -bash: mysql: command not found
> 
> $ mysql -V  
> -bash: mysql: command not found

It's just weird- where is it??


  [1]: http://code.google.com/p/web2py/source/browse/scripts/setup-web2py-fedora.sh",2
11452884,07/12/2012 13:28:11,775586,05/30/2011 00:28:15,46,13,MySQL Simplify This Query?,"I've been writing MySQL queries for a long time, but I totally feel like a newbie when it comes to this and I just can't seem to figure out how to simplify this query.  Basically I'm just trying to generate a comma delimited list of revenue from our database that eventually gets plugged into google charts.  I have to make one for ""the past 31 days"" also, so I'm kinda screwed unless I figured out how to simplify this.

My Database columns in my table are...
time: When the order came in int() (UNIX timestamp format)
price: How much the order was for decimal(10,2)

    SELECT
     CONCAT(
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (6 * 86400)) AND time > (UNIX_TIMESTAMP() - (7 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (5 * 86400)) AND time > (UNIX_TIMESTAMP() - (6 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (4 * 86400)) AND time > (UNIX_TIMESTAMP() - (5 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (3 * 86400)) AND time > (UNIX_TIMESTAMP() - (4 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (2 * 86400)) AND time > (UNIX_TIMESTAMP() - (3 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - 86400) AND time > (UNIX_TIMESTAMP() - (2* 86400)) ),
     ',',
     (SELECT SUM(price) FROM orders WHERE time > (UNIX_TIMESTAMP() - 86400))
     ) as chart_rev 
    FROM orders_basic
    LIMIT 0,1

As always, any help is much appreciated.  Thanks!",mysql,database,reporting,google-charts,simplify,,open,0,324,4,"MySQL Simplify This Query? I've been writing MySQL queries for a long time, but I totally feel like a newbie when it comes to this and I just can't seem to figure out how to simplify this query.  Basically I'm just trying to generate a comma delimited list of revenue from our database that eventually gets plugged into google charts.  I have to make one for ""the past 31 days"" also, so I'm kinda screwed unless I figured out how to simplify this.

My Database columns in my table are...
time: When the order came in int() (UNIX timestamp format)
price: How much the order was for decimal(10,2)

    SELECT
     CONCAT(
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (6 * 86400)) AND time > (UNIX_TIMESTAMP() - (7 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (5 * 86400)) AND time > (UNIX_TIMESTAMP() - (6 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (4 * 86400)) AND time > (UNIX_TIMESTAMP() - (5 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (3 * 86400)) AND time > (UNIX_TIMESTAMP() - (4 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - (2 * 86400)) AND time > (UNIX_TIMESTAMP() - (3 * 86400))),
     ',',
     (SELECT SUM(price) FROM orders WHERE time < (UNIX_TIMESTAMP() - 86400) AND time > (UNIX_TIMESTAMP() - (2* 86400)) ),
     ',',
     (SELECT SUM(price) FROM orders WHERE time > (UNIX_TIMESTAMP() - 86400))
     ) as chart_rev 
    FROM orders_basic
    LIMIT 0,1

As always, any help is much appreciated.  Thanks!",5
1996219,01/03/2010 20:40:19,242141,01/02/2010 02:35:29,3,0,how can i lock tables in MySQL or phpmyadmin?,"I need to use a table for a queuing system. The table will be constantly be updated. 

For example, multiple users on my website, will add their files for process, and I heard that when updates occur simultaneously from multiple users, the table becomes non responsive or something like that.

so do I need locking tables in this situation ? how do i apply a lock to a mysql table ?",mysql,locking,phpmyadmin,,,,open,0,70,9,"how can i lock tables in MySQL or phpmyadmin? I need to use a table for a queuing system. The table will be constantly be updated. 

For example, multiple users on my website, will add their files for process, and I heard that when updates occur simultaneously from multiple users, the table becomes non responsive or something like that.

so do I need locking tables in this situation ? how do i apply a lock to a mysql table ?",3
11262359,06/29/2012 13:06:10,1419189,05/26/2012 15:48:18,1,0,displaying content from mysql database in prefuse graph,"I am new in prefuse. I have data in mysql table. I want to visualize those data from prefuse. 
Please help me. Your help is really appreciated. 

Thank You",mysql,graph,display,prefuse,,,open,0,29,8,"displaying content from mysql database in prefuse graph I am new in prefuse. I have data in mysql table. I want to visualize those data from prefuse. 
Please help me. Your help is really appreciated. 

Thank You",4
10090612,04/10/2012 14:25:32,1237504,02/28/2012 09:18:38,1,0,mysql workbench records limit,"I perform an SQL query on a database with MySQL and I get back only the first 1000 rows from 24000 expected. If i export the results to an XML form, I get the first 1000 again.
Is there a way to disable that limit and get back all the rows?
Otherwise, I will have to merge 24 XML files :/",mysql,sql,xml,mysql-workbench,,04/11/2012 14:33:15,off topic,1,59,4,"mysql workbench records limit I perform an SQL query on a database with MySQL and I get back only the first 1000 rows from 24000 expected. If i export the results to an XML form, I get the first 1000 again.
Is there a way to disable that limit and get back all the rows?
Otherwise, I will have to merge 24 XML files :/",4
8083723,11/10/2011 17:28:46,990521,10/12/2011 00:13:42,15,0,Homework assignement design GWT+MySQL+DAO+MVC,"I have to give a homework to students. The homework will be about: 
-JEE (JSP, servlets)
-MySQL
-Hibernate (Data Acces Object)
-MVC (Spring)
-GWT (Google Web Toolkit for AJAX)
-Jquery
-RSS,

The objective of the homework is to make the students understand strongly those concepts.


They already built 2 small homework:
-database for a library management (JSP/Servlet/MySQL)
-a multiple response form for an assignment (JavaScript)
and I would like to continue with those 2 exercises and implement the above concept. I'm wondering how I can make something very strong and interesting for the students.

Any idea will be very appreciated. Thanks in advance.",mysql,ajax,homework,hibernate,,12/07/2011 01:11:57,not constructive,1,91,4,"Homework assignement design GWT+MySQL+DAO+MVC I have to give a homework to students. The homework will be about: 
-JEE (JSP, servlets)
-MySQL
-Hibernate (Data Acces Object)
-MVC (Spring)
-GWT (Google Web Toolkit for AJAX)
-Jquery
-RSS,

The objective of the homework is to make the students understand strongly those concepts.


They already built 2 small homework:
-database for a library management (JSP/Servlet/MySQL)
-a multiple response form for an assignment (JavaScript)
and I would like to continue with those 2 exercises and implement the above concept. I'm wondering how I can make something very strong and interesting for the students.

Any idea will be very appreciated. Thanks in advance.",4
6582154,07/05/2011 11:48:30,316841,04/14/2010 18:47:13,127,8,"MySQL, get data between start and end date columns ?","I've read a few similar questions then mine, where I could find querys that were pretty much the same I'm using. But I had to ask, because I would like to understand why this is not working:

I have the following data:

    id 	category_id 	start_date 	end_date 	image 	campaign_id 	published
    1 	1 				2011-07-05	2011-07-5 	a.gif 	3 				1 			
    2 	1 				2011-07-01 	2011-07-15 	c.gif 	3 				1
    3 	37 				2011-07-01 	2011-07-04 	d.gif 	3 				1 

I expect to get rows 1 and 2, from this query:

    SELECT id, category_id, start_date, end_date FROM categories_campaigns WHERE  start_date <= NOW() AND end_date >= NOW();

From what I've experienced, the only row returned is the second. Also this one, gives me the second,

    SELECT category_id, start_date, end_date FROM categories_campaigns WHERE   end_date >= NOW();

The next one returns me all 3,

    SELECT category_id, start_date, end_date FROM categories_campaigns WHERE   start_date <= NOW();

The datatype for both columns are DATE. So, my question is, how to solve this ? Why is this happening ? Or I've got an obvious error that i'm not finding on what to look for.

Thanks a lot for looking any kind of help is appreciated!

-------------- EDIT: SOLVED!

Great! I found a solution,

    SELECT category_id, start_date, end_date FROM categories_campaigns WHERE   start_date <= DATE(NOW()) and end_date >= DATE(NOW());

Returns me the first 2 rows as expected! Yeah!! ;D
",mysql,sql,,,,,open,0,243,10,"MySQL, get data between start and end date columns ? I've read a few similar questions then mine, where I could find querys that were pretty much the same I'm using. But I had to ask, because I would like to understand why this is not working:

I have the following data:

    id 	category_id 	start_date 	end_date 	image 	campaign_id 	published
    1 	1 				2011-07-05	2011-07-5 	a.gif 	3 				1 			
    2 	1 				2011-07-01 	2011-07-15 	c.gif 	3 				1
    3 	37 				2011-07-01 	2011-07-04 	d.gif 	3 				1 

I expect to get rows 1 and 2, from this query:

    SELECT id, category_id, start_date, end_date FROM categories_campaigns WHERE  start_date <= NOW() AND end_date >= NOW();

From what I've experienced, the only row returned is the second. Also this one, gives me the second,

    SELECT category_id, start_date, end_date FROM categories_campaigns WHERE   end_date >= NOW();

The next one returns me all 3,

    SELECT category_id, start_date, end_date FROM categories_campaigns WHERE   start_date <= NOW();

The datatype for both columns are DATE. So, my question is, how to solve this ? Why is this happening ? Or I've got an obvious error that i'm not finding on what to look for.

Thanks a lot for looking any kind of help is appreciated!

-------------- EDIT: SOLVED!

Great! I found a solution,

    SELECT category_id, start_date, end_date FROM categories_campaigns WHERE   start_date <= DATE(NOW()) and end_date >= DATE(NOW());

Returns me the first 2 rows as expected! Yeah!! ;D
",2
2913861,05/26/2010 14:29:32,322432,04/21/2010 15:18:35,8,1,"Mysql-how to update the ""domain.com"" in ""address@domain.com""","In my database I have a lot of users who've misspelled their e-mail address. This in turn causes my postfix to bounce a lot of mails when sending the newsletter.  
Forms include (but are not limited to) ""yaho.com"", ""yahho .com"" etc.  
Very annoying!

So i have been trying to update those record to the correct value.  
After executing `select email from users where email like '%@yaho%' and email not like '%yahoo%';` and getting the list, I'm stuck because I do not know how to update only the `yaho` part. I need the username to be left intact.

So I thought I would just dump the database and use vim to replace, but I cannot escape the `@` symbol..

BTW, how do I select all email addresses written in CAPS? `select upper(email) from users;` would just transform everything into CAPS, whereas I just needed to find out the already-written-in-CAPS mails.

",mysql,email,update,address,,,open,0,149,7,"Mysql-how to update the ""domain.com"" in ""address@domain.com"" In my database I have a lot of users who've misspelled their e-mail address. This in turn causes my postfix to bounce a lot of mails when sending the newsletter.  
Forms include (but are not limited to) ""yaho.com"", ""yahho .com"" etc.  
Very annoying!

So i have been trying to update those record to the correct value.  
After executing `select email from users where email like '%@yaho%' and email not like '%yahoo%';` and getting the list, I'm stuck because I do not know how to update only the `yaho` part. I need the username to be left intact.

So I thought I would just dump the database and use vim to replace, but I cannot escape the `@` symbol..

BTW, how do I select all email addresses written in CAPS? `select upper(email) from users;` would just transform everything into CAPS, whereas I just needed to find out the already-written-in-CAPS mails.

",4
10913028,06/06/2012 11:10:47,1414876,05/24/2012 11:14:04,6,1,LOAD DATA of utf8 files into MySQL,"I have MySQL database, and i want to load data from csv (excel) file to MySQL.

There were no problem while excel had ANSI (windows-1252) records, i just create table in MySQL using default charset, and applying LOAD DATA... syntax.

When i have csv in utf (utf8) formatting, create different table where charset is utf8:

	$result = mysql_query(""CREATE TABLE IF NOT EXISTS testreading_utf(
	
	id INT NOT NULL AUTO_INCREMENT,
	PRIMARY KEY(id),
	...

	) CHARACTER SET utf8"" )
	 or die(mysql_error()); 	

When i apply same LOAD DATA syntax to this table, giving utf file as input, i get garbage like this - 	ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ñ Ð½Ð°Ð¿Ð¸Ñ‚ÐºÐ¾Ð²,  - when source is Cyrillic.

Setting HTML character-set to utf8 where i display table contents changes garbage to very similar  - Ð�Ð°Ð·Ð²Ð°Ð½Ð¸Ñ� Ð½Ð°Ð¿Ð¸Ñ�ÐºÐ¾Ð²,    .

Any suggestions of somebody who has loading 'utf8' into MySQL experience are welcomed.

But i do not want to change default encoding to 'utf8' of whole my MySQL database, as this will ruin already existing reading of 'ansi' cvs files.


Urmas.",mysql,data,utf-8,load,,06/07/2012 10:23:07,too localized,1,160,7,"LOAD DATA of utf8 files into MySQL I have MySQL database, and i want to load data from csv (excel) file to MySQL.

There were no problem while excel had ANSI (windows-1252) records, i just create table in MySQL using default charset, and applying LOAD DATA... syntax.

When i have csv in utf (utf8) formatting, create different table where charset is utf8:

	$result = mysql_query(""CREATE TABLE IF NOT EXISTS testreading_utf(
	
	id INT NOT NULL AUTO_INCREMENT,
	PRIMARY KEY(id),
	...

	) CHARACTER SET utf8"" )
	 or die(mysql_error()); 	

When i apply same LOAD DATA syntax to this table, giving utf file as input, i get garbage like this - 	ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ñ Ð½Ð°Ð¿Ð¸Ñ‚ÐºÐ¾Ð²,  - when source is Cyrillic.

Setting HTML character-set to utf8 where i display table contents changes garbage to very similar  - Ð�Ð°Ð·Ð²Ð°Ð½Ð¸Ñ� Ð½Ð°Ð¿Ð¸Ñ�ÐºÐ¾Ð²,    .

Any suggestions of somebody who has loading 'utf8' into MySQL experience are welcomed.

But i do not want to change default encoding to 'utf8' of whole my MySQL database, as this will ruin already existing reading of 'ansi' cvs files.


Urmas.",4
11546748,07/18/2012 17:10:33,1535594,07/18/2012 17:04:48,1,0,craigslist cronjob,"I am attempting to write a script that will search all of craigslist under specified categories and insert the information into an MySQL database, which will then in turn send an automated email for each record in the database. This is the task I have been straddled with and don't really know where to start. I have searched but not found much. ",mysql,,,,,07/19/2012 13:32:14,not a real question,1,63,2,"craigslist cronjob I am attempting to write a script that will search all of craigslist under specified categories and insert the information into an MySQL database, which will then in turn send an automated email for each record in the database. This is the task I have been straddled with and don't really know where to start. I have searched but not found much. ",1
11511999,07/16/2012 20:27:11,95956,04/25/2009 13:30:07,1444,1,Intermittent slow ActiveRecord / MySQL queries,"Hope someone here can give me some pointers.  We have a Rails app, scaled horizontally across 5 ruby instances, pointing to a single MySQL database.  We have POST requests that are made to this app that return generally in the 600ms range.  Occasionally, however, these requests run for incredibly long times, like 50s+.  It doesn't look like anything out of the ordinary is happening in the ruby code.  Does this mean we need to scale our MySQL instances?  To the extent of my knowledge we aren't hitting it that hard, certainly not 20k+ requests a second which I think is what it can handle.  Would appreciate any pointers to where to start looking.  We've started profiling our app with NewRelic as well. 

    Started POST ""/api/something"" for *** at 2012-07-16 19:00:19 +0000
      Processing by SomethingController#create as JSON
      Parameters: {}
    Completed 200 OK in 59542ms (Views: 1.8ms | ActiveRecord: 59265.2ms)",mysql,ruby-on-rails,activerecord,,,,open,0,173,6,"Intermittent slow ActiveRecord / MySQL queries Hope someone here can give me some pointers.  We have a Rails app, scaled horizontally across 5 ruby instances, pointing to a single MySQL database.  We have POST requests that are made to this app that return generally in the 600ms range.  Occasionally, however, these requests run for incredibly long times, like 50s+.  It doesn't look like anything out of the ordinary is happening in the ruby code.  Does this mean we need to scale our MySQL instances?  To the extent of my knowledge we aren't hitting it that hard, certainly not 20k+ requests a second which I think is what it can handle.  Would appreciate any pointers to where to start looking.  We've started profiling our app with NewRelic as well. 

    Started POST ""/api/something"" for *** at 2012-07-16 19:00:19 +0000
      Processing by SomethingController#create as JSON
      Parameters: {}
    Completed 200 OK in 59542ms (Views: 1.8ms | ActiveRecord: 59265.2ms)",3
6187521,05/31/2011 12:24:50,776226,05/30/2011 12:17:49,1,1,what is need of connection open and close of execution in query in winform?,"In my form, lot of combo box is there. I want to load different table datas to combo box. I am trying to do that. but code is going on very long. Because of the connection open and close codings.

when i run two command in without close connection and open it throw 

>There is already an open DataReader associated with this Connection which must be closed first.

Exception.

how to remove this open and close in my program

     string MyConString = ConfigurationManager.ConnectionStrings[""College_Management_System.Properties.Settings.cmsConnectionString""].ConnectionString;
            MySqlConnection connection = new MySqlConnection(MyConString);
            MySqlCommand command = connection.CreateCommand();
            MySqlDataReader Reader;
            command.CommandText = ""select name from course_master"";
            connection.Open();
            Reader = command.ExecuteReader();
            while (Reader.Read())
            {
                cmbo_course.Items.Add(Reader[0].ToString());
            }
           
            command.CommandText = ""select name from country_master"";
            Reader = command.ExecuteReader();
            while (Reader.Read())
            {
                cmbo_perCountry.Items.Add(Reader[0].ToString());
                cmbo_country.Items.Add(Reader[0].ToString());
            }
            connection.Close();

thanks in advance.",mysql,winforms,,,,,open,0,349,14,"what is need of connection open and close of execution in query in winform? In my form, lot of combo box is there. I want to load different table datas to combo box. I am trying to do that. but code is going on very long. Because of the connection open and close codings.

when i run two command in without close connection and open it throw 

>There is already an open DataReader associated with this Connection which must be closed first.

Exception.

how to remove this open and close in my program

     string MyConString = ConfigurationManager.ConnectionStrings[""College_Management_System.Properties.Settings.cmsConnectionString""].ConnectionString;
            MySqlConnection connection = new MySqlConnection(MyConString);
            MySqlCommand command = connection.CreateCommand();
            MySqlDataReader Reader;
            command.CommandText = ""select name from course_master"";
            connection.Open();
            Reader = command.ExecuteReader();
            while (Reader.Read())
            {
                cmbo_course.Items.Add(Reader[0].ToString());
            }
           
            command.CommandText = ""select name from country_master"";
            Reader = command.ExecuteReader();
            while (Reader.Read())
            {
                cmbo_perCountry.Items.Add(Reader[0].ToString());
                cmbo_country.Items.Add(Reader[0].ToString());
            }
            connection.Close();

thanks in advance.",2
11702638,07/28/2012 16:16:11,1553231,07/26/2012 01:25:58,9,0,mysql no connection but why is this happening," In localhost/blah/index.php it lets me login, register accs, etc.

I uploaded my website it to my webhost.

I go to my website but i see no mysql connection.

WTF!

It works fine on my localhost/phpmyadmin/xampp or w/e u call it

What is making this happen?

Please dont tell me i have to find a new webhost and or update my php version...

Well actually please do tell me.

",mysql,connection,,,,07/28/2012 17:17:50,not a real question,1,62,8,"mysql no connection but why is this happening  In localhost/blah/index.php it lets me login, register accs, etc.

I uploaded my website it to my webhost.

I go to my website but i see no mysql connection.

WTF!

It works fine on my localhost/phpmyadmin/xampp or w/e u call it

What is making this happen?

Please dont tell me i have to find a new webhost and or update my php version...

Well actually please do tell me.

",2
5798496,04/27/2011 01:55:09,455318,09/22/2010 16:44:21,212,4,opinion about uml design,"i am pretty new in the uml design (self study). i made this scheme for a database that i have the goal of building.

I need some opinions about what is wrong, which does not make sense what can be improved or simple errors in the structure or design.

thanks in advance

![enter image description here][1]


  [1]: http://i.stack.imgur.com/q0PN3.png",mysql,database,database-design,uml,uml-modeling,04/27/2011 09:03:45,not a real question,1,56,4,"opinion about uml design i am pretty new in the uml design (self study). i made this scheme for a database that i have the goal of building.

I need some opinions about what is wrong, which does not make sense what can be improved or simple errors in the structure or design.

thanks in advance

![enter image description here][1]


  [1]: http://i.stack.imgur.com/q0PN3.png",5
1535200,10/08/2009 01:49:56,147282,07/29/2009 17:43:02,41,0,problem saving to mysql database php mysqli,"i'm trying to save data to database and i get an error i never saw before
i have a hunch it has something to do with the db collation but I'm not sure whats wrong,

here is the query:

    $query1 = ""INSERT INTO scape.url (url,normalizedurl,service,idinservice) VALUES (url, normalizedurl, 4, 45454)"";
                $query = ""INSERT INTO scape.url (url, normalizedurl, service, idinservice) VALUES (""
                .$sql->real_escape_string($this->url)."",""
                .$sql->real_escape_string($this->normalizedUrl)."",""
                .$sql->real_escape_string($this->service)."",""
                .$sql->real_escape_string($this->idInService)."")"";
                $result = $sql->query($query);
                echo $sql->error;


the error massage i get is :

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '://www.something/here/here/here/12345,httpwwwsomthighere' at line 1

database collation for this fields is utf8-general-ci and field type is varchar 255

any ideas on that?",mysql,mysqli,php,utf-8,collation,,open,0,225,7,"problem saving to mysql database php mysqli i'm trying to save data to database and i get an error i never saw before
i have a hunch it has something to do with the db collation but I'm not sure whats wrong,

here is the query:

    $query1 = ""INSERT INTO scape.url (url,normalizedurl,service,idinservice) VALUES (url, normalizedurl, 4, 45454)"";
                $query = ""INSERT INTO scape.url (url, normalizedurl, service, idinservice) VALUES (""
                .$sql->real_escape_string($this->url)."",""
                .$sql->real_escape_string($this->normalizedUrl)."",""
                .$sql->real_escape_string($this->service)."",""
                .$sql->real_escape_string($this->idInService)."")"";
                $result = $sql->query($query);
                echo $sql->error;


the error massage i get is :

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '://www.something/here/here/here/12345,httpwwwsomthighere' at line 1

database collation for this fields is utf8-general-ci and field type is varchar 255

any ideas on that?",5
10173664,04/16/2012 11:59:58,412982,08/06/2010 11:41:00,568,19,GPL Empty Schema of a MySQL Database For A Digital Library,"I wonder if is available a GPL schema for a MySQL database to be used for a digital library. Generally speaking I wonder if there is a sort of schema repository for MySQL databases.

Thank you.",mysql,,,,,04/16/2012 19:20:49,not constructive,1,35,11,"GPL Empty Schema of a MySQL Database For A Digital Library I wonder if is available a GPL schema for a MySQL database to be used for a digital library. Generally speaking I wonder if there is a sort of schema repository for MySQL databases.

Thank you.",1
9435007,02/24/2012 17:11:01,1231289,02/24/2012 17:09:58,1,0,Payment of Fees,"i have four tables ... 
student : contain the students id and name etc..
student_fee : contains the paid_date, student_id and fee_id with reference to student and fee table
fee : contains the fee_id, fee amount, fee_typeid (ref to fee_type table)
fee_type : contain the fee_typeid and type of fees ... admission fee, monthly tuition fee, fines, uniform fees etc..

How do i display the students who had already paid the admission fee (or fee_typeid for admission fee) and those who had not pay it .. 
",mysql,,,,,02/24/2012 17:33:35,not a real question,1,83,3,"Payment of Fees i have four tables ... 
student : contain the students id and name etc..
student_fee : contains the paid_date, student_id and fee_id with reference to student and fee table
fee : contains the fee_id, fee amount, fee_typeid (ref to fee_type table)
fee_type : contain the fee_typeid and type of fees ... admission fee, monthly tuition fee, fines, uniform fees etc..

How do i display the students who had already paid the admission fee (or fee_typeid for admission fee) and those who had not pay it .. 
",1
6593828,07/06/2011 08:54:13,831204,07/06/2011 08:54:13,1,0,null pointer exception on inserting data,"i have created a table student_mstr where student id is set to not null.then when i created jsp page in netbeans,i have made registration page and login page which inserts data into database after the user inserts data in registration page.

Problem-data is not inserted. its showing id cannot be null.null pointer exception.",mysql,jsp,netbeans7.0,,,07/07/2011 03:59:02,not a real question,1,52,6,"null pointer exception on inserting data i have created a table student_mstr where student id is set to not null.then when i created jsp page in netbeans,i have made registration page and login page which inserts data into database after the user inserts data in registration page.

Problem-data is not inserted. its showing id cannot be null.null pointer exception.",3
3209093,07/09/2010 00:44:23,334993,05/07/2010 01:21:04,20,1,How do you use MySQL spatial queries to find all records in X radius?,"I have a table in a MySQL database with a spatial geometry column of type POINT. I'd like to be able to take a point at the center of a map and find all records within X miles (or whatever distance) of it. I can't seem to find a good example or explanation of how to do this that doesn't get heavily into geometric math. I'm happy to go that route, but would first like to try and solve it with a true spatial database.  ",mysql,geospatial,spatial-query,,,04/30/2012 16:33:15,not a real question,1,87,14,"How do you use MySQL spatial queries to find all records in X radius? I have a table in a MySQL database with a spatial geometry column of type POINT. I'd like to be able to take a point at the center of a map and find all records within X miles (or whatever distance) of it. I can't seem to find a good example or explanation of how to do this that doesn't get heavily into geometric math. I'm happy to go that route, but would first like to try and solve it with a true spatial database.  ",3
1455190,09/21/2009 15:41:05,8521,09/15/2008 16:14:07,1733,44,How to access MySQL from multiple threads concurrently,"We're doing a small benchmark of MySQL where we want to see how it performs for our data.

Part of that test is to see how it works when multiple concurrent threads hammers the server with various queries.

The [MySQL documentation][1] (5.0) isn't really clear about multi threaded clients. I should point out that I do link against the thread safe library (`libmysqlclient_r.so`)

I'm using prepared statements and do both read (SELECT) and write (UPDATE, INSERT, DELETE). 

* Should I open one connection per thread? And if so: how do I even do this.. it seems `mysql_real_connect()` returns the original DB handle which I got when I called `mysql_init()`)
* If not: how do I make sure results and methods such as `mysql_affected_rows` returns the correct value instead of colliding with other thread's calls (mutex/locks could work, but it feels wrong)

  [1]: http://dev.mysql.com/doc/refman/5.0/en/c.html",mysql,c,c++,multithreading,,,open,0,140,8,"How to access MySQL from multiple threads concurrently We're doing a small benchmark of MySQL where we want to see how it performs for our data.

Part of that test is to see how it works when multiple concurrent threads hammers the server with various queries.

The [MySQL documentation][1] (5.0) isn't really clear about multi threaded clients. I should point out that I do link against the thread safe library (`libmysqlclient_r.so`)

I'm using prepared statements and do both read (SELECT) and write (UPDATE, INSERT, DELETE). 

* Should I open one connection per thread? And if so: how do I even do this.. it seems `mysql_real_connect()` returns the original DB handle which I got when I called `mysql_init()`)
* If not: how do I make sure results and methods such as `mysql_affected_rows` returns the correct value instead of colliding with other thread's calls (mutex/locks could work, but it feels wrong)

  [1]: http://dev.mysql.com/doc/refman/5.0/en/c.html",4
3186645,07/06/2010 13:36:05,336700,05/09/2010 16:13:29,20,0,mysql function return list of data,"I would like to write a mysql function that takes an integer as input and that function execute a select statements ""select id from table_name"" then i want that function return the result of select statements.

then 

in query i want to do smthing like:

select id,name from table_name where id in (`call function here that returns a list of ids`).


Is that valid in mysql ??

Thanks in Advance
",mysql,,,,,,open,0,66,6,"mysql function return list of data I would like to write a mysql function that takes an integer as input and that function execute a select statements ""select id from table_name"" then i want that function return the result of select statements.

then 

in query i want to do smthing like:

select id,name from table_name where id in (`call function here that returns a list of ids`).


Is that valid in mysql ??

Thanks in Advance
",1
9763715,03/19/2012 00:47:52,1251858,03/06/2012 10:00:29,1,0,Open an .mdf (Master Databse File) on mac or attach it to MySQL,"I have a .mdf file which I've downloaded on my mac and I have no idea what to do with it. I get the impression it was designed for a windows environment and not for a mac or for MySQL. I need a way to either open it so I can see what's inside and create my own database similar in complexity 

OR even better

find a way to attach it to MySQL so I can run queries against it.

Any advice on what I should do?",mysql,windows,osx,mdf,,,open,0,85,13,"Open an .mdf (Master Databse File) on mac or attach it to MySQL I have a .mdf file which I've downloaded on my mac and I have no idea what to do with it. I get the impression it was designed for a windows environment and not for a mac or for MySQL. I need a way to either open it so I can see what's inside and create my own database similar in complexity 

OR even better

find a way to attach it to MySQL so I can run queries against it.

Any advice on what I should do?",4
6480074,06/25/2011 19:37:30,810430,06/22/2011 13:25:49,58,1,MySQL disable all triggers,"For test correctness of query I need disable all triggers in db.
I see that in information_schema exists table TRIGGERS.
Is possible temporarily disable all triggers using this table?
E.g. like: 

    update TRIGGERS set TRIGGERS_SCHEMA='myschema_new' 
    where TRIGGERS_SCHEMA='myschema'
and after finish all test return all triggers like:
    
    update TRIGGERS set TRIGGERS_SCHEMA='myschema'
    where TRIGGERS_SCHEMA='myschema_new'
May be this can corrupt db or after triggers will not works? I didn't found about it in documentation.
Thanks.",mysql,table,triggers,disable,information-schema,,open,0,84,4,"MySQL disable all triggers For test correctness of query I need disable all triggers in db.
I see that in information_schema exists table TRIGGERS.
Is possible temporarily disable all triggers using this table?
E.g. like: 

    update TRIGGERS set TRIGGERS_SCHEMA='myschema_new' 
    where TRIGGERS_SCHEMA='myschema'
and after finish all test return all triggers like:
    
    update TRIGGERS set TRIGGERS_SCHEMA='myschema'
    where TRIGGERS_SCHEMA='myschema_new'
May be this can corrupt db or after triggers will not works? I didn't found about it in documentation.
Thanks.",5
7971761,11/01/2011 19:28:50,1024364,11/01/2011 19:20:58,1,0,Should I migrate from MySQL to Percona server,"I have been experiencing dirty pages flushing problem in MySQL server. This occupies lot of CPU resources and my site becomes down because of lack of resources left in server. I got 10 Million records in database and it will grow further. My tables are running in innodb and since its transaction based site, I need innodb. Will migrating to Percona server remove my dirty pages flushing problem. Generally is it better to migrate or stick to MySQL?

Once I move to percona, if I want to revert back to Mysql can i restore the backup from percona to mysql?",mysql,innodb,percona,,,11/02/2011 16:23:38,not constructive,1,99,8,"Should I migrate from MySQL to Percona server I have been experiencing dirty pages flushing problem in MySQL server. This occupies lot of CPU resources and my site becomes down because of lack of resources left in server. I got 10 Million records in database and it will grow further. My tables are running in innodb and since its transaction based site, I need innodb. Will migrating to Percona server remove my dirty pages flushing problem. Generally is it better to migrate or stick to MySQL?

Once I move to percona, if I want to revert back to Mysql can i restore the backup from percona to mysql?",3
7244360,08/30/2011 13:54:56,187241,10/09/2009 14:54:16,36,0,Generate unique sequence number for entity during one day,"I need to generate unique numbers for entities inserted into a table. Each number consists from entity creation date and serial number: date + sn. Serial numbers must be reset at the beginning of next day. 

    | id | creation date | unique number |
    --------------------------------------
    | 1  | Sep 1, 2010   | 201009011     |
    | 2  | Sep 1, 2010   | 201009012     |
    | 3  | Sep 2, 2010   | 201009021     |
    | 4  | Sep 2, 2010   | 201009022     |


How can it be done using JPA over Hibernate (currently they are used for all database interactions) and in transaction safe way (entities can be inserted simultaneously) in MySQL database?

Of course, I will appreciate the descriptions of all other approaches. Thanks.
",mysql,hibernate,jpa,transactions,sequence,,open,0,169,9,"Generate unique sequence number for entity during one day I need to generate unique numbers for entities inserted into a table. Each number consists from entity creation date and serial number: date + sn. Serial numbers must be reset at the beginning of next day. 

    | id | creation date | unique number |
    --------------------------------------
    | 1  | Sep 1, 2010   | 201009011     |
    | 2  | Sep 1, 2010   | 201009012     |
    | 3  | Sep 2, 2010   | 201009021     |
    | 4  | Sep 2, 2010   | 201009022     |


How can it be done using JPA over Hibernate (currently they are used for all database interactions) and in transaction safe way (entities can be inserted simultaneously) in MySQL database?

Of course, I will appreciate the descriptions of all other approaches. Thanks.
",5
8466190,12/11/2011 17:59:40,721856,04/23/2011 15:38:44,1,1,"Social Site-storing ""Friends""","If you were making a social networking site, what's the best way to store a user's friends in the database? Would an array of user ID's be the best choice? Or a Friends table? If so, how would you then keep track of things like messages and such?",mysql,,,,,12/11/2011 18:36:29,not constructive,1,48,3,"Social Site-storing ""Friends"" If you were making a social networking site, what's the best way to store a user's friends in the database? Would an array of user ID's be the best choice? Or a Friends table? If so, how would you then keep track of things like messages and such?",1
6286355,06/08/2011 23:09:27,773961,05/28/2011 01:59:26,17,0,diference between -1 or 1- phpmyadmin,"what is the difference between the values in list that is showed below. For example -1 / 1- ?

there is any difference?

![enter image description here][1]


  [1]: http://i.stack.imgur.com/emGZB.png

thanks",mysql,database,phpmyadmin,,,06/08/2011 23:20:30,too localized,1,28,6,"diference between -1 or 1- phpmyadmin what is the difference between the values in list that is showed below. For example -1 / 1- ?

there is any difference?

![enter image description here][1]


  [1]: http://i.stack.imgur.com/emGZB.png

thanks",3
6205296,06/01/2011 17:29:37,179736,09/27/2009 11:27:55,5766,54,How do I execute this GROUP BY mysql query?,"Suppose I have a table called ""Fruits"" with a column called ""name"".

    name
    --------
    apple
    orange
    orange
    orange
    apple
    grape

How can I execute a query to produce this:

    orange   3
    apple    2
    grape    1

(Group by the name, and then sort them by their count)",mysql,database,query,,,,open,0,85,9,"How do I execute this GROUP BY mysql query? Suppose I have a table called ""Fruits"" with a column called ""name"".

    name
    --------
    apple
    orange
    orange
    orange
    apple
    grape

How can I execute a query to produce this:

    orange   3
    apple    2
    grape    1

(Group by the name, and then sort them by their count)",3
9021086,01/26/2012 16:05:05,233798,12/17/2009 13:28:11,342,1,How come many startups used MySQL or PostgreSQL rather than MongoDB when they began?,How come many startups used MySQL or PostgreSQL rather than MongoDB when they started? Many of them seem to migrate to MongoDB later - why's that? Does it need a lot more effort in working with MongoDB? Why don't they just jump straight into MongoDB?,mysql,sql,database,postgresql,mongodb,01/26/2012 16:46:15,not a real question,1,45,14,How come many startups used MySQL or PostgreSQL rather than MongoDB when they began? How come many startups used MySQL or PostgreSQL rather than MongoDB when they started? Many of them seem to migrate to MongoDB later - why's that? Does it need a lot more effort in working with MongoDB? Why don't they just jump straight into MongoDB?,5
11544484,07/18/2012 15:06:51,1511798,07/09/2012 11:16:16,13,0,changing format date MySql,"i have date type column in MySql.
by default MySql date format is YYYY/MM/DD.
but actualy i prefer to use DD/MM/YYYY format.

**Could i change the column date format?**",mysql,,,,,,open,0,26,4,"changing format date MySql i have date type column in MySql.
by default MySql date format is YYYY/MM/DD.
but actualy i prefer to use DD/MM/YYYY format.

**Could i change the column date format?**",1
7661181,10/05/2011 12:18:39,842837,07/13/2011 14:00:44,59,2,How to add auto increment primary key based on an order of column?,"I need to add an auto increment id to an already existing table. I did:

    ALTER TABLE table_name ADD column_name INT NOT NULL AUTO_INCREMENT FIRST ,
    ADD PRIMARY KEY (column_name)

However, the auto numbering wasnt based on any particular column order. I want mysql to smartly put auto numbers based on the order of certain column. Is it possible?

Most of the answers out there tell you how to add auto increment fields, not how to control those numbers in already existing table.",mysql,autoincrement,,,,,open,0,87,13,"How to add auto increment primary key based on an order of column? I need to add an auto increment id to an already existing table. I did:

    ALTER TABLE table_name ADD column_name INT NOT NULL AUTO_INCREMENT FIRST ,
    ADD PRIMARY KEY (column_name)

However, the auto numbering wasnt based on any particular column order. I want mysql to smartly put auto numbers based on the order of certain column. Is it possible?

Most of the answers out there tell you how to add auto increment fields, not how to control those numbers in already existing table.",2
10094024,04/10/2012 18:04:36,1289785,03/24/2012 10:03:30,1,0,SELECT ALL DATA FROM MULTIPLE TABLE AND MULTIPLE DATA,"I have two tables, the attributes in the table  A is 'id', attribute in the table B is the 'id', 'status'. how I want to display all the data in Table A. When the status data in Table B is 1, the button will be disabled",mysql,,,,,04/30/2012 04:39:30,not a real question,1,47,9,"SELECT ALL DATA FROM MULTIPLE TABLE AND MULTIPLE DATA I have two tables, the attributes in the table  A is 'id', attribute in the table B is the 'id', 'status'. how I want to display all the data in Table A. When the status data in Table B is 1, the button will be disabled",1
8590982,12/21/2011 14:01:27,969400,09/28/2011 15:27:24,28,1,mySQL. Delete similar records / rows,"I have a simple table as follows:

     id   |   author    |    title    |    CD     |
    ---------------------------------------------------
     1      Lady Gaga    Paparazzi     Full album
     2      Lady Gaga    Alejandro     Full album
     3      Lady Gaga    Alejandro     Single track
     4      Lady Gaga    Fever         Full album
     5      Lady Gaga    Paparazzi     Single track


As you may see there are some duplicates: 'Alejandro' and 'Paparazzi' rows are **similar** but **NOT identical**. I would like to delete the **similar** records and keep only one of the two.

So, for example, I would like to delete all those duplicated records that in the column CD have the **word** 'Single' but keep the similar records that in the column CD have the **word** 'Album' (using **wildcards** and the LIKE statement):

     id   |   author    |    title    |    CD     |
    ---------------------------------------------------
     1      Lady Gaga    Paparazzi     Full album      <- keep
     2      Lady Gaga    Alejandro     Full album      <- keep
     3      Lady Gaga    Alejandro     Single track    <- delete
     4      Lady Gaga    Fever         Full album
     5      Lady Gaga    Paparazzi     Single track    <- delete


I did find a tip about [here][1] but I did not manage to work it out for me.
Thank you.


  [1]: http://blog.krisgielen.be/archives/111",mysql,delete,duplicates,records,,12/23/2011 07:22:46,not a real question,1,423,6,"mySQL. Delete similar records / rows I have a simple table as follows:

     id   |   author    |    title    |    CD     |
    ---------------------------------------------------
     1      Lady Gaga    Paparazzi     Full album
     2      Lady Gaga    Alejandro     Full album
     3      Lady Gaga    Alejandro     Single track
     4      Lady Gaga    Fever         Full album
     5      Lady Gaga    Paparazzi     Single track


As you may see there are some duplicates: 'Alejandro' and 'Paparazzi' rows are **similar** but **NOT identical**. I would like to delete the **similar** records and keep only one of the two.

So, for example, I would like to delete all those duplicated records that in the column CD have the **word** 'Single' but keep the similar records that in the column CD have the **word** 'Album' (using **wildcards** and the LIKE statement):

     id   |   author    |    title    |    CD     |
    ---------------------------------------------------
     1      Lady Gaga    Paparazzi     Full album      <- keep
     2      Lady Gaga    Alejandro     Full album      <- keep
     3      Lady Gaga    Alejandro     Single track    <- delete
     4      Lady Gaga    Fever         Full album
     5      Lady Gaga    Paparazzi     Single track    <- delete


I did find a tip about [here][1] but I did not manage to work it out for me.
Thank you.


  [1]: http://blog.krisgielen.be/archives/111",4
8019576,11/05/2011 10:29:21,235874,12/21/2009 08:20:37,104,6,Database for social site,"From some time now I'm making research about various types of databases. 
Main criteria is of course performance, safety of data (like no single point of fail) and scalability.

I was reading about scaling MySql, NoSql databases, HBase etc. We're assuming rapid grow of our ""social"" site so database must be easily scalable. NoSQL like Cassandra probably is good option, but I'm not sure if I can Imagine writing whole site using only NoSQL...


Anyone know witch database could be best for this type of web site?",mysql,database,nosql,social-networking,hbase,11/07/2011 07:40:19,not constructive,1,85,4,"Database for social site From some time now I'm making research about various types of databases. 
Main criteria is of course performance, safety of data (like no single point of fail) and scalability.

I was reading about scaling MySql, NoSql databases, HBase etc. We're assuming rapid grow of our ""social"" site so database must be easily scalable. NoSQL like Cassandra probably is good option, but I'm not sure if I can Imagine writing whole site using only NoSQL...


Anyone know witch database could be best for this type of web site?",5
4134360,11/09/2010 13:51:38,244413,01/06/2010 02:46:19,1398,0,What is the Faster DBMS for SELECT and INSERT queries ?,"
What is the faster DBMS for simple SELECT queries ? Postgresql or Mysql ?


What is the faster DBMS for simple INSERT queries ? Postgresql or Mysql ?


",mysql,database,postgresql,,,11/09/2010 18:48:35,not constructive,1,27,11,"What is the Faster DBMS for SELECT and INSERT queries ? 
What is the faster DBMS for simple SELECT queries ? Postgresql or Mysql ?


What is the faster DBMS for simple INSERT queries ? Postgresql or Mysql ?


",3
9363941,02/20/2012 15:46:06,1221355,02/20/2012 15:11:55,11,0,SQL query over two column,"I have two tables as follows,

Table name `Payment_transaction` having column name as  

    payment_ref_id, booking_ref_id, amount, due_date

second table is named as `booking` having cloumn name as `booking_ref_id, date_created booking_status`

I want to write a query which will return number of payment transaction per year.

",mysql,sql,sql-server-2008,sql-server-2005,tsql,02/20/2012 17:01:44,not a real question,1,47,5,"SQL query over two column I have two tables as follows,

Table name `Payment_transaction` having column name as  

    payment_ref_id, booking_ref_id, amount, due_date

second table is named as `booking` having cloumn name as `booking_ref_id, date_created booking_status`

I want to write a query which will return number of payment transaction per year.

",5
2163087,01/29/2010 15:50:37,17675,09/18/2008 13:28:35,772,36,Why does MySQL Workbench produce incompatible syntax for simple table create on export?,"Using MySQL Workbench 5.0.30 OSS, I try to produce a simple SQL script to create tables, yet what it produces doesn't seem to be the least bit compatible with MySQL Ver 14.14 Distrib 5.1.42, for Win32 (ia32).

",mysql,mysql-workbench,,,,01/30/2010 20:59:28,off topic,1,37,13,"Why does MySQL Workbench produce incompatible syntax for simple table create on export? Using MySQL Workbench 5.0.30 OSS, I try to produce a simple SQL script to create tables, yet what it produces doesn't seem to be the least bit compatible with MySQL Ver 14.14 Distrib 5.1.42, for Win32 (ia32).

",2
2536396,03/29/2010 07:36:08,298099,03/20/2010 17:24:24,7,0,who is connected through who php mysql,"
i want to create something like
person1 is connected to person2 is connected with person3

Does anybody know a tutorial where this is explained?",mysql,php,,,,04/22/2012 13:27:13,too localized,1,22,7,"who is connected through who php mysql 
i want to create something like
person1 is connected to person2 is connected with person3

Does anybody know a tutorial where this is explained?",2
8558260,12/19/2011 07:23:50,712997,04/18/2011 07:49:04,179,1,MySQL....what is the default default value for a field?,"I hope this isn't a dumb question. You can set a default value for all variables or a function for when it is inserted. but if the field is not required to insert and you don't allow null values, what is the ""blank"" value that you see in phpMyAdmin? in a query is it returned as empty string, etc? 

just trying to figure it out, I want to query for all records such that the value for a specific column in that record is not ""empty"" or blank or whatever. 

thanks.",mysql,phpmyadmin,default-value,,,,open,0,91,9,"MySQL....what is the default default value for a field? I hope this isn't a dumb question. You can set a default value for all variables or a function for when it is inserted. but if the field is not required to insert and you don't allow null values, what is the ""blank"" value that you see in phpMyAdmin? in a query is it returned as empty string, etc? 

just trying to figure it out, I want to query for all records such that the value for a specific column in that record is not ""empty"" or blank or whatever. 

thanks.",3
6239202,06/04/2011 20:29:42,784248,06/04/2011 20:29:42,1,0,MySQL Help with storing data,"I am making a database for a client where I will have an Account and in that account I want to have the post's of that account along with the post's data (likes, comments). How could i store the posts (along with their data) in the database?",mysql,database,,,,06/06/2011 12:52:45,not a real question,1,47,5,"MySQL Help with storing data I am making a database for a client where I will have an Account and in that account I want to have the post's of that account along with the post's data (likes, comments). How could i store the posts (along with their data) in the database?",2
8716874,01/03/2012 18:23:51,1012809,10/25/2011 13:36:14,305,36,What is MySQL sandbox?,"Can anyone please explain what is MySQL sandbox and how it can help me in development, especially when i can easily create a duplicate of my live database and work with it.",mysql,sandbox,,,,01/03/2012 19:21:41,not constructive,1,32,4,"What is MySQL sandbox? Can anyone please explain what is MySQL sandbox and how it can help me in development, especially when i can easily create a duplicate of my live database and work with it.",2
8463350,12/11/2011 10:41:20,1078536,12/03/2011 03:05:39,1,0,how can i switch to another user in mysql via cmd,"hello everyone i'm try very hard to switch to other user created by me with password but i am not able to switch it, i've searched on google but i don't know what type of error is it it says access denied for user ''@'localhost' to database '***', and i get one more error when i try to switch user and it says, you have an error in your sql syntax; check the manual that corresponds to your MYSQL server version for the right syntax to use near 'mysql and atlast when i listed current user it showed me @localhost in current user column...please help..thx in advance",mysql,cmd,,,,12/12/2011 01:17:39,not a real question,1,107,11,"how can i switch to another user in mysql via cmd hello everyone i'm try very hard to switch to other user created by me with password but i am not able to switch it, i've searched on google but i don't know what type of error is it it says access denied for user ''@'localhost' to database '***', and i get one more error when i try to switch user and it says, you have an error in your sql syntax; check the manual that corresponds to your MYSQL server version for the right syntax to use near 'mysql and atlast when i listed current user it showed me @localhost in current user column...please help..thx in advance",2
10965125,06/09/2012 22:46:14,1003387,10/19/2011 14:38:43,61,18,Can't Create Databases in MySQL,"Can't create database 'm76' (errno: 2)

Googled everywhere for this, was fooling with the data directory and now can't even uninstall and reinstall.

I can't be the only one who's done this, but sadly I've had no look searching.

I'm thinking this has something to do with it: 

    drwxr-xr-x   5 _mysql     _mysql    170 Jun  9 18:46 data",mysql,,,,,06/10/2012 07:49:08,off topic,1,68,5,"Can't Create Databases in MySQL Can't create database 'm76' (errno: 2)

Googled everywhere for this, was fooling with the data directory and now can't even uninstall and reinstall.

I can't be the only one who's done this, but sadly I've had no look searching.

I'm thinking this has something to do with it: 

    drwxr-xr-x   5 _mysql     _mysql    170 Jun  9 18:46 data",1
8148921,11/16/2011 08:52:25,682991,03/29/2011 23:02:25,58,0,MySQL order multiple directions using FIND_IN_SET,"I have a query that orders by FIND_IN_SET and then a secondary ORDER field...date_added.

What I am wanting to now do is something like:

    ORDER BY FIND_IN_SET(status, '1,2,3), date_added ASC
    AND
    ORDER BY FIND_IN_SET(status, '4,5'), end_date DESC

so I want to order status 1,2 and 3 by date_added ASC and the status 4 and 5 by end_date DESC.

Can this be done using a single query?",mysql,,,,,,open,0,72,6,"MySQL order multiple directions using FIND_IN_SET I have a query that orders by FIND_IN_SET and then a secondary ORDER field...date_added.

What I am wanting to now do is something like:

    ORDER BY FIND_IN_SET(status, '1,2,3), date_added ASC
    AND
    ORDER BY FIND_IN_SET(status, '4,5'), end_date DESC

so I want to order status 1,2 and 3 by date_added ASC and the status 4 and 5 by end_date DESC.

Can this be done using a single query?",1
10911142,06/06/2012 09:00:45,1235037,02/27/2012 07:21:19,8,0,join two tables(one of them is part of the other),"I have two tables Table_A and Table_B and i want to join those tables to optain Table_c as the result:

Table_A:

    +-----------+-----------+---------+
    | tableA_id | tableB_id | v_id    |
    +-----------+-----------+---------+
    | 1         | 2         | 27      |
    | 2         | 3         | 27      |
    | 3         | 3         | 28      |
    | 4         | 1         | 26      |
    | 5         | 2         | 26      |
    | 6         | 3         | 26      |
    | 7         | 1         | 24      |
    | 8         | 1         | 25      |
    +-----------+-----------+---------+

Table_B:

    +-----------+-----------+
    | tableB_id | s_name    | 
    +-----------+-----------+
    | 1         | s1        |
    | 2         | s2        | 
    | 3         | s3        | 
    +-----------+-----------+
    
Table_c:

    +-----------+-----------+-----------++--------+
    | tableB_id | s_name    | tableA_id | v_id    |
    +-----------+-----------+-----------+---------+
    | 1         | s1        | null      | null    |
    | 2         | s2        | 1         | 27      | 
    | 3         | s3        | 2         | 27      |
    +-----------+-----------+-----------+---------+
I tried different queries, but i couldn't reach the desired output.
This is MYSQL query:

    SELECT s.tableB_id, s.s_name, v.tableA_id, v.v_id
    FROM Table_A as v 
    left OUTER JOIN Table_B as s
    ON v.v_id=27
",mysql,join,,,,,open,0,581,10,"join two tables(one of them is part of the other) I have two tables Table_A and Table_B and i want to join those tables to optain Table_c as the result:

Table_A:

    +-----------+-----------+---------+
    | tableA_id | tableB_id | v_id    |
    +-----------+-----------+---------+
    | 1         | 2         | 27      |
    | 2         | 3         | 27      |
    | 3         | 3         | 28      |
    | 4         | 1         | 26      |
    | 5         | 2         | 26      |
    | 6         | 3         | 26      |
    | 7         | 1         | 24      |
    | 8         | 1         | 25      |
    +-----------+-----------+---------+

Table_B:

    +-----------+-----------+
    | tableB_id | s_name    | 
    +-----------+-----------+
    | 1         | s1        |
    | 2         | s2        | 
    | 3         | s3        | 
    +-----------+-----------+
    
Table_c:

    +-----------+-----------+-----------++--------+
    | tableB_id | s_name    | tableA_id | v_id    |
    +-----------+-----------+-----------+---------+
    | 1         | s1        | null      | null    |
    | 2         | s2        | 1         | 27      | 
    | 3         | s3        | 2         | 27      |
    +-----------+-----------+-----------+---------+
I tried different queries, but i couldn't reach the desired output.
This is MYSQL query:

    SELECT s.tableB_id, s.s_name, v.tableA_id, v.v_id
    FROM Table_A as v 
    left OUTER JOIN Table_B as s
    ON v.v_id=27
",2
8289111,11/27/2011 21:17:22,673108,03/23/2011 13:28:40,140,4,Comma separated value & wildcards in mysql,"I have a value in my database with comma separated data eg.

    11,223,343,123

I want to get the data, if it match a certain number (in this example it's number 223).


    WHERE wp_postmeta.meta_value IN
    ('223', '223,%', '%,223,%', '%,223')

I togught I could use wildcard for it, but with no luck. Any ideas of how to do this? Maybe its better to do this using PHP?",mysql,wildcard,comma-separated,,,,open,0,72,7,"Comma separated value & wildcards in mysql I have a value in my database with comma separated data eg.

    11,223,343,123

I want to get the data, if it match a certain number (in this example it's number 223).


    WHERE wp_postmeta.meta_value IN
    ('223', '223,%', '%,223,%', '%,223')

I togught I could use wildcard for it, but with no luck. Any ideas of how to do this? Maybe its better to do this using PHP?",3
5981676,05/12/2011 17:03:56,173934,09/15/2009 19:43:48,892,105,Mysql geometry AREA() function returns what exactly when coords are long/lat?,"My question is somewhat related to [this similar one][1], which links to a pretty complex solution - but what I want to understand is the result of this:

Using a Mysql Geometry field to store a small polygon I duly ran 

    select AREA(myPolygon) where id =1 

over it, and got an value like 2.345.  So can anyone tell me, just what does that number represent seeing as the stored values were long/lat sets describing the polygon?

FYI, the areas I am working on are relatively small (car parks and the like) and the area does not have to be exact - I will not be concerned about the curvature of the earth.

2.345 of what? Thanks, this is bugging me.

  [1]: http://stackoverflow.com/questions/3348573/how-do-i-calculate-the-area-of-a-polygon-in-a-mysql-database-when-the-polygons-p
",mysql,geometry,polygon,latitude-longitude,area,,open,0,125,11,"Mysql geometry AREA() function returns what exactly when coords are long/lat? My question is somewhat related to [this similar one][1], which links to a pretty complex solution - but what I want to understand is the result of this:

Using a Mysql Geometry field to store a small polygon I duly ran 

    select AREA(myPolygon) where id =1 

over it, and got an value like 2.345.  So can anyone tell me, just what does that number represent seeing as the stored values were long/lat sets describing the polygon?

FYI, the areas I am working on are relatively small (car parks and the like) and the area does not have to be exact - I will not be concerned about the curvature of the earth.

2.345 of what? Thanks, this is bugging me.

  [1]: http://stackoverflow.com/questions/3348573/how-do-i-calculate-the-area-of-a-polygon-in-a-mysql-database-when-the-polygons-p
",5
4289039,11/26/2010 22:50:42,502039,11/09/2010 14:59:43,42,4,Big problem with mamp,"Well, my problem is that something deleted the phpMyAdmin so I downloaded a new vesion and installed it. (It took me a long time to figure out how to install it) I started up the start page and it gave me a big ugly error that said:Mysql:couldn't connect to server. Please help!!!!!",mysql,phpmyadmin,mamp,,,,open,0,52,4,"Big problem with mamp Well, my problem is that something deleted the phpMyAdmin so I downloaded a new vesion and installed it. (It took me a long time to figure out how to install it) I started up the start page and it gave me a big ugly error that said:Mysql:couldn't connect to server. Please help!!!!!",3
5404051,03/23/2011 10:47:58,295264,03/17/2010 00:16:39,4840,283,Show Comment of Fields FROM Mysql Table,"`SHOW COLUMNS FROM <tablename>` gives all the information of the columns in a table, except `Comments`. 

How to extract `Comments` information? I know the way to extract the information from INFORMATION SCHEMA, but how to combine the result in  a single result set? ",mysql,,,,,,open,0,45,7,"Show Comment of Fields FROM Mysql Table `SHOW COLUMNS FROM <tablename>` gives all the information of the columns in a table, except `Comments`. 

How to extract `Comments` information? I know the way to extract the information from INFORMATION SCHEMA, but how to combine the result in  a single result set? ",1
1766622,11/19/2009 21:14:57,115681,06/01/2009 22:04:46,113,6,MySQL SELECT with LEFT JOIN and GROUP problem,"I have a main table <b>foo</b> with dates and values, and a table <b>bar</b> with exception dates and values. If the date exists in the <b>bar</b> table, that value applies, otherwise the default <b>foo</b> value. So, for example:

<pre>
<b>foo</b>
id  date        value
1   2009-11-19  25
2   2009-11-20  50

<b>bar</b>
id  date        value
1   2009-11-19  50
</pre>

To select the right values I use the following type of query:
<code><pre>
SELECT
  f.date,
  IF (f.date = b.date, b.value, f.value) AS value
FROM foo f
LEFT JOIN bar b
  ON b.date = f.date
</pre></code>

This works fine. The date ""2009-11-19"" exists in <b>bar</b>, so it selects the 50-value. But now I'd like to GROUP the results by MONTH, using this query:
<code><pre>
SELECT
  MONTH(f.date) AS month,
  IF (f.date = b.date, b.value, f.value) AS value
FROM foo f
LEFT JOIN bar b
  ON b.date = f.date
GROUP BY month
</pre></code>

It now returns the results by month, so the grouping works fine. However, it now ignores the <b>bar</b> values, and it seems it doesn't do any matching at all. The total for the month is 75 (25 from foo + 50 from foo) instead of 100 (50 from bar + 50 from foo).

Is there a way to make this work? So that it selects the correct values if there's a match between both tables, and after that grouping it by month? I can use the first query and do the grouping in PHP afterwards, but I'd like to get the right results straight from MySQL if that's possible.",mysql,php,,,,,open,0,263,8,"MySQL SELECT with LEFT JOIN and GROUP problem I have a main table <b>foo</b> with dates and values, and a table <b>bar</b> with exception dates and values. If the date exists in the <b>bar</b> table, that value applies, otherwise the default <b>foo</b> value. So, for example:

<pre>
<b>foo</b>
id  date        value
1   2009-11-19  25
2   2009-11-20  50

<b>bar</b>
id  date        value
1   2009-11-19  50
</pre>

To select the right values I use the following type of query:
<code><pre>
SELECT
  f.date,
  IF (f.date = b.date, b.value, f.value) AS value
FROM foo f
LEFT JOIN bar b
  ON b.date = f.date
</pre></code>

This works fine. The date ""2009-11-19"" exists in <b>bar</b>, so it selects the 50-value. But now I'd like to GROUP the results by MONTH, using this query:
<code><pre>
SELECT
  MONTH(f.date) AS month,
  IF (f.date = b.date, b.value, f.value) AS value
FROM foo f
LEFT JOIN bar b
  ON b.date = f.date
GROUP BY month
</pre></code>

It now returns the results by month, so the grouping works fine. However, it now ignores the <b>bar</b> values, and it seems it doesn't do any matching at all. The total for the month is 75 (25 from foo + 50 from foo) instead of 100 (50 from bar + 50 from foo).

Is there a way to make this work? So that it selects the correct values if there's a match between both tables, and after that grouping it by month? I can use the first query and do the grouping in PHP afterwards, but I'd like to get the right results straight from MySQL if that's possible.",2
9052742,01/29/2012 11:14:02,1153116,01/17/2012 03:36:02,1,0,MYSQL special Char,"I have in my table this value ART(\'O\') in the field Subject.

How do I check if this subject exist?

I tried:

select * from table1 where Subject = 'ART(\'O\')';

select * from table1 where Subject = ""ART(\'O\')"";

Both failed at picking up the record.

How sholud I prhase the query so that the record containing ART(\'O\') will be picked?
Note: Please do not refer the query: select * from table1 where Subject like '%ART(%';
bec they may be other records such as ART(EX), ART(NA),etc... existing
 
Need to know how to use the Subject = '' method. 
Thanks.



",mysql,sql,,,,,open,0,90,3,"MYSQL special Char I have in my table this value ART(\'O\') in the field Subject.

How do I check if this subject exist?

I tried:

select * from table1 where Subject = 'ART(\'O\')';

select * from table1 where Subject = ""ART(\'O\')"";

Both failed at picking up the record.

How sholud I prhase the query so that the record containing ART(\'O\') will be picked?
Note: Please do not refer the query: select * from table1 where Subject like '%ART(%';
bec they may be other records such as ART(EX), ART(NA),etc... existing
 
Need to know how to use the Subject = '' method. 
Thanks.



",2
11321888,07/04/2012 03:00:35,1430964,06/01/2012 14:54:04,-10,0,how to find the mysql username password?,how to find the mysql username password  from cpanel? is the cpanel password is for the mysql database username and password. I want to connect my computer to webserver database. ,mysql,sql-server,database,jdbc,connection,07/04/2012 21:50:28,off topic,1,32,7,how to find the mysql username password? how to find the mysql username password  from cpanel? is the cpanel password is for the mysql database username and password. I want to connect my computer to webserver database. ,5
8402468,12/06/2011 15:33:36,1070284,11/28/2011 22:50:37,1,0,Mysql effective utilization,"I have a website running. At the backend i am using mysql.
for preparing a single page i need to connect to database more than 50 times.
i am using mysql tables to store the data and simply querying those using SELECT statement by making a connection in php. Since the number of connections made for a single page to mysql is large(50 or more) it takes few seconds of delay to actually prepare the page for the user.
i need as how to get almost all the data in one or fewer connections to the database.
   
   i am already using INNER JOINS to join the tables so as bring the data from different tables in one connection wherever possible.",mysql,,,,,12/08/2011 01:03:53,not a real question,1,122,3,"Mysql effective utilization I have a website running. At the backend i am using mysql.
for preparing a single page i need to connect to database more than 50 times.
i am using mysql tables to store the data and simply querying those using SELECT statement by making a connection in php. Since the number of connections made for a single page to mysql is large(50 or more) it takes few seconds of delay to actually prepare the page for the user.
i need as how to get almost all the data in one or fewer connections to the database.
   
   i am already using INNER JOINS to join the tables so as bring the data from different tables in one connection wherever possible.",1
5446517,03/27/2011 01:09:25,504325,11/11/2010 09:55:34,193,17,"MySQL: ON UPDATE CASCADE for a simple table ""id|parent|text"", not possible?","I have a following table:


    CREATE TABLE IF NOT EXISTS `Tree` (
      `id` int(10) NOT NULL,
      `parent` int(10) DEFAULT NULL,
      `text` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
      PRIMARY KEY (`id`),
      KEY `parent` (`parent`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
    
    INSERT INTO `Tree` (`id`, `parent`, `text`) VALUES
    (1, 1, '1'),
    (2, 1, '1.1'),
    (3, 1, '1.2'),
    (4, 1, '1.3');
    
    ALTER TABLE `Tree` ADD CONSTRAINT `tree_ibfk_1` FOREIGN KEY (`parent`) REFERENCES `tree` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

After having executed all of the above statements a problem observed for the following one:

    UPDATE  `Tree` SET  `id` =  '2' WHERE  `Tree`.`id` = 1

While it is expected that changing the main id would cause all linked `parent` records to update automatically due to `ON UPDATE CASCADE` constraint. Aren't these cascading referential integrity constraints are all about?",mysql,sql,,,,,open,0,196,11,"MySQL: ON UPDATE CASCADE for a simple table ""id|parent|text"", not possible? I have a following table:


    CREATE TABLE IF NOT EXISTS `Tree` (
      `id` int(10) NOT NULL,
      `parent` int(10) DEFAULT NULL,
      `text` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
      PRIMARY KEY (`id`),
      KEY `parent` (`parent`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
    
    INSERT INTO `Tree` (`id`, `parent`, `text`) VALUES
    (1, 1, '1'),
    (2, 1, '1.1'),
    (3, 1, '1.2'),
    (4, 1, '1.3');
    
    ALTER TABLE `Tree` ADD CONSTRAINT `tree_ibfk_1` FOREIGN KEY (`parent`) REFERENCES `tree` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

After having executed all of the above statements a problem observed for the following one:

    UPDATE  `Tree` SET  `id` =  '2' WHERE  `Tree`.`id` = 1

While it is expected that changing the main id would cause all linked `parent` records to update automatically due to `ON UPDATE CASCADE` constraint. Aren't these cascading referential integrity constraints are all about?",2
416368,01/06/2009 12:42:25,52025,01/06/2009 12:42:25,1,0,Combine 2 counts with different where on the same table,"Is there a better way of doing this ?


    SELECT (SELECT count(*) FROM `tbl` WHERE `status` = 0) as 'text1', (SELECT count(*) FROM `tbl` WHERE `status` > 0) as 'text2'

text1 and text2 are headers.",mysql,,,,,,open,0,37,10,"Combine 2 counts with different where on the same table Is there a better way of doing this ?


    SELECT (SELECT count(*) FROM `tbl` WHERE `status` = 0) as 'text1', (SELECT count(*) FROM `tbl` WHERE `status` > 0) as 'text2'

text1 and text2 are headers.",1
7203813,08/26/2011 11:11:22,826232,07/02/2011 16:55:13,1,1,How to fetch the last record from the table in mysql,How to fetch the last record from the table without using orderby .? ,mysql,,,,,08/26/2011 18:39:34,not a real question,1,14,11,How to fetch the last record from the table in mysql How to fetch the last record from the table without using orderby .? ,1
6422324,06/21/2011 08:21:29,426590,08/20/2010 17:20:07,296,1,SQL Join queries with multiple tables,"I have a database with the following layout:

    employees (person_name, street, city) 
    works (person_name, company_name, salary) 
    companies (company_name, city) 
    manages (person_name, manager_name)

I need to come up with a query that will allow me to find all employees who are earning more then their managers. I know this involves some pretty intense JOINing between the employees, works, and manages tables, and I can't quite get one that will work. Can someone help me out, and explain how the solution is obtained?",mysql,sql,,,,,open,0,95,6,"SQL Join queries with multiple tables I have a database with the following layout:

    employees (person_name, street, city) 
    works (person_name, company_name, salary) 
    companies (company_name, city) 
    manages (person_name, manager_name)

I need to come up with a query that will allow me to find all employees who are earning more then their managers. I know this involves some pretty intense JOINing between the employees, works, and manages tables, and I can't quite get one that will work. Can someone help me out, and explain how the solution is obtained?",2
7028800,08/11/2011 15:41:45,890251,08/11/2011 15:41:45,1,0,mysql I cant drop index,"Im about to drop an index from a mySQL INNODB table. There are references defined already. When I try to alter it, it say:

> #1025 - Error on rename of 'X/#sql-2a5f_219828' to 'X' (errno: 150) 

which first is seem logical, since there are relations, it cant be renamed. But even if I disable foreign key checking

    SET foreign_key_checks = 0;
    ALTER TABLE `flyers` DROP INDEX `Index_5`, ROW_FORMAT = DYNAMIC;

I get the same! I dont want to drop ALL foreign key definitions, drop that index, and define them again! Another solution?",mysql,foreign-keys,innodb,,,,open,0,96,5,"mysql I cant drop index Im about to drop an index from a mySQL INNODB table. There are references defined already. When I try to alter it, it say:

> #1025 - Error on rename of 'X/#sql-2a5f_219828' to 'X' (errno: 150) 

which first is seem logical, since there are relations, it cant be renamed. But even if I disable foreign key checking

    SET foreign_key_checks = 0;
    ALTER TABLE `flyers` DROP INDEX `Index_5`, ROW_FORMAT = DYNAMIC;

I get the same! I dont want to drop ALL foreign key definitions, drop that index, and define them again! Another solution?",3
9217439,02/09/2012 19:30:14,483777,10/22/2010 03:32:01,92,3,"Thinking about entering Russian Market, What do I need to know?","Our site may potentially have some Russian posters. What do I need to know (you can be really generic) as far as things like charsets to have our pages display properly, get indexed by Russian search engines, and be functional using Russian text?

Thanks",mysql,php5,special-characters,russian,,02/09/2012 22:21:14,off topic,1,43,11,"Thinking about entering Russian Market, What do I need to know? Our site may potentially have some Russian posters. What do I need to know (you can be really generic) as far as things like charsets to have our pages display properly, get indexed by Russian search engines, and be functional using Russian text?

Thanks",4
8029334,11/06/2011 18:30:00,909814,08/24/2011 14:20:35,323,24,SQl query calculations across multiple tables,"OK, I have 3 database tables at the moment:

 - users
   - id: 1, 2
   - name: User1, User2
 - companies
   - id: 1, 2, 3
   - share_price: 10.00, 0.45, 5.98
 - portfolios
   - user_id: 1, 1, 2
   - company_id: 1, 2, 1
   - amount_of_shares: 200, 100, 30

Just so you know, this is for a basic stock market simulation. I need to get the top 5 users based on their total portfolio values, which are calculated as such:

`companies.share_price * portfolios.amount_of_shares`

Keeping in mind that 1 user can have stock from multiple companies in his portfolio, it seems like a waste to select all the data and then loop through it in PHP, because theoretically I could have about 200 companies... So I was wondering if it's possible to write an SQL query that calculates the value of each companie's stock owned and then sums all of those values up to produce only one variable, so I can do ORDER BY and LIMIT 5 (get the Top5 performers)

EDIT: I'm using CodeIgniter for this project, if that makes a difference.",mysql,sql,,,,,open,0,191,6,"SQl query calculations across multiple tables OK, I have 3 database tables at the moment:

 - users
   - id: 1, 2
   - name: User1, User2
 - companies
   - id: 1, 2, 3
   - share_price: 10.00, 0.45, 5.98
 - portfolios
   - user_id: 1, 1, 2
   - company_id: 1, 2, 1
   - amount_of_shares: 200, 100, 30

Just so you know, this is for a basic stock market simulation. I need to get the top 5 users based on their total portfolio values, which are calculated as such:

`companies.share_price * portfolios.amount_of_shares`

Keeping in mind that 1 user can have stock from multiple companies in his portfolio, it seems like a waste to select all the data and then loop through it in PHP, because theoretically I could have about 200 companies... So I was wondering if it's possible to write an SQL query that calculates the value of each companie's stock owned and then sums all of those values up to produce only one variable, so I can do ORDER BY and LIMIT 5 (get the Top5 performers)

EDIT: I'm using CodeIgniter for this project, if that makes a difference.",2
25794,08/25/2008 08:47:27,211,08/03/2008 14:56:28,1,1,MySQL copy/duplicate database,"What is the best way to duplicate a mysql db into another without using mysqldump? With content and without content.

I am currently using mysql 4.0",mysql,,,,,07/03/2012 14:27:56,off topic,1,25,3,"MySQL copy/duplicate database What is the best way to duplicate a mysql db into another without using mysqldump? With content and without content.

I am currently using mysql 4.0",1
4637965,01/09/2011 06:22:44,499282,11/06/2010 15:23:00,116,1,mysql---which type i should use?,"when created the field for a table, i don't know which type (int, char,varchar....)and size i should use on the field. eg: email, time, address, phone....and so on. ",mysql,,,,,01/09/2011 07:53:35,not a real question,1,29,5,"mysql---which type i should use? when created the field for a table, i don't know which type (int, char,varchar....)and size i should use on the field. eg: email, time, address, phone....and so on. ",1
6462675,06/24/2011 02:18:46,780848,06/02/2011 09:13:57,10,0,faced some problem in sql and oracle," 
1. my current system is retrieve data from sql server and insert into oracle server every 6 hours. i use own program to do this process. i want to remove the 6 hours gap, mean i hope the data can insert into 2 side at the same time, how can i do it??
2. how can i export part of the data from the database to .pdf, excel and text file format when new data insert
3. i want to know any new database backend software that can help me to manage data in sql and oracle server database",mysql,sql,oracle,,,06/24/2011 11:28:36,not a real question,1,98,7,"faced some problem in sql and oracle  
1. my current system is retrieve data from sql server and insert into oracle server every 6 hours. i use own program to do this process. i want to remove the 6 hours gap, mean i hope the data can insert into 2 side at the same time, how can i do it??
2. how can i export part of the data from the database to .pdf, excel and text file format when new data insert
3. i want to know any new database backend software that can help me to manage data in sql and oracle server database",3
1861760,12/07/2009 17:59:21,222498,12/01/2009 23:14:30,1,0,"Is there a ""best"" tool for exposing mySql tables to an end user?","I'm looking for a GUI tool that requires minimal configuration which will enable an end user (read cheap help) to add/delete/change mySql table entries.

I don't want a tool that is a mySql manager, configurator, administrator, etc... Just a simple front-end to display and manipulate data in a table.

Suggestions!?

I've looked all over and feel like I'm missing the obvious.
",mysql,,,,,05/22/2012 10:10:35,not constructive,1,58,13,"Is there a ""best"" tool for exposing mySql tables to an end user? I'm looking for a GUI tool that requires minimal configuration which will enable an end user (read cheap help) to add/delete/change mySql table entries.

I don't want a tool that is a mySql manager, configurator, administrator, etc... Just a simple front-end to display and manipulate data in a table.

Suggestions!?

I've looked all over and feel like I'm missing the obvious.
",1
5810738,04/27/2011 21:19:20,517736,11/23/2010 16:46:06,1,0,MySQL: getting a row count based on a correlated subquery of a subquery,"I apologize if this has been answered else where, I've been pulling my hair out searching but haven't found anything yet.

I have the following tables:

        Table: STATES
    +------------+---------+
    | name       | stateID |
    +------------+---------+
    | Florida    |  FL     |
    | California |  CA     |
    | New Jersey |  NJ     |
    +------------+---------+
    
    Table: AREAS
    +-------+---------+-------+
    | name  | stateID | locID |
    +-------+---------+-------+
    | Area1 | FL      | 1     |
    | Area2 | FL      | 1     |
    | Area3 | FL      | 2     |
    | Area4 | NJ      | 3     |
    | Area5 | NJ      | 3     |
    | Area6 | NJ      | 4     |
    | Area7 | CA      | 5     |
    | Area8 | CA      | 6     |
    | Area9 | CA      | 7     |
    +-------+---------+-------+
    
    Table: LOCATIONS
    +----------+-------+
    | name     | locID |
    +----------+-------+
    | Orlando  | 1     |
    | Brevard  | 2     |
    | North NJ | 3     |
    | South NJ | 4     |
    | B Hills  | 5     |
    | East LA  | 6     |
    | SanFran  | 7     |
    +----------+-------+
The result I'm trying to get is:

    | STATES.name | LOCATIONS.name | COUNT(locations in state) | AREAS.name
I'm able to get everything but the count easily enough, but I just can't get how many locations are in each state. It seems like this should be a simple thing, am I just missing something?

Here's the query I've been working with:

    SELECT 
    	STATES.name AS state
    	,LOCATIONS.name AS location
    	,AREAS.name AS area
    	,(SELECT
    		COUNT(*) 
    	 FROM 
    		(SELECT
    			areaID
    		FROM
    			AREAS
    	 	WHERE 
    			AREAS.stateID = STATES.stateID 
    		 GROUP BY 
    			AREAS.locID
    		) AS area_count
    	
    	) AS row_count
    FROM
    	STATES
    	LEFT JOIN AREAS ON STATES.stateID = AREAS.stateID
    	LEFT JOIN LOCATIONS ON AREAS.locID = LOCATIONS.locID;
Of course this fails due to there not being any STATES.stateID in subquery 1 for subquery 2 to reference. I've tried passing the stateID along by `JOIN`ing the table in subquery 1, as well as `JOIN`ing it in subquery 2 instead of trying to reference it in the `WHERE` statement. This also fails given that the whole of subquery 2 is part of the `WHERE` statement for subquery 1...

I've also tried isolating the queries to pull just `AREAS.stateID` and `COUNT(locations in state)` but to no avail, I keep getting the number of areas in the state, not the number of locations:

    select AREAS.stateID
    , COUNT(AREAS.locID)
    FROM AREAS group by AREAS.stateID
Tossing a `DISTINCT` into the `COUNT()` gets me closer but some of the values are still off, not sure where it's getting the numbers from as they don't match the number of locations for all cases, but most of them...",mysql,count,correlated-subquery,,,,open,0,771,13,"MySQL: getting a row count based on a correlated subquery of a subquery I apologize if this has been answered else where, I've been pulling my hair out searching but haven't found anything yet.

I have the following tables:

        Table: STATES
    +------------+---------+
    | name       | stateID |
    +------------+---------+
    | Florida    |  FL     |
    | California |  CA     |
    | New Jersey |  NJ     |
    +------------+---------+
    
    Table: AREAS
    +-------+---------+-------+
    | name  | stateID | locID |
    +-------+---------+-------+
    | Area1 | FL      | 1     |
    | Area2 | FL      | 1     |
    | Area3 | FL      | 2     |
    | Area4 | NJ      | 3     |
    | Area5 | NJ      | 3     |
    | Area6 | NJ      | 4     |
    | Area7 | CA      | 5     |
    | Area8 | CA      | 6     |
    | Area9 | CA      | 7     |
    +-------+---------+-------+
    
    Table: LOCATIONS
    +----------+-------+
    | name     | locID |
    +----------+-------+
    | Orlando  | 1     |
    | Brevard  | 2     |
    | North NJ | 3     |
    | South NJ | 4     |
    | B Hills  | 5     |
    | East LA  | 6     |
    | SanFran  | 7     |
    +----------+-------+
The result I'm trying to get is:

    | STATES.name | LOCATIONS.name | COUNT(locations in state) | AREAS.name
I'm able to get everything but the count easily enough, but I just can't get how many locations are in each state. It seems like this should be a simple thing, am I just missing something?

Here's the query I've been working with:

    SELECT 
    	STATES.name AS state
    	,LOCATIONS.name AS location
    	,AREAS.name AS area
    	,(SELECT
    		COUNT(*) 
    	 FROM 
    		(SELECT
    			areaID
    		FROM
    			AREAS
    	 	WHERE 
    			AREAS.stateID = STATES.stateID 
    		 GROUP BY 
    			AREAS.locID
    		) AS area_count
    	
    	) AS row_count
    FROM
    	STATES
    	LEFT JOIN AREAS ON STATES.stateID = AREAS.stateID
    	LEFT JOIN LOCATIONS ON AREAS.locID = LOCATIONS.locID;
Of course this fails due to there not being any STATES.stateID in subquery 1 for subquery 2 to reference. I've tried passing the stateID along by `JOIN`ing the table in subquery 1, as well as `JOIN`ing it in subquery 2 instead of trying to reference it in the `WHERE` statement. This also fails given that the whole of subquery 2 is part of the `WHERE` statement for subquery 1...

I've also tried isolating the queries to pull just `AREAS.stateID` and `COUNT(locations in state)` but to no avail, I keep getting the number of areas in the state, not the number of locations:

    select AREAS.stateID
    , COUNT(AREAS.locID)
    FROM AREAS group by AREAS.stateID
Tossing a `DISTINCT` into the `COUNT()` gets me closer but some of the values are still off, not sure where it's getting the numbers from as they don't match the number of locations for all cases, but most of them...",3
6474617,06/24/2011 23:08:40,349315,05/24/2010 20:38:27,25,1,"COUNT(id) query is taking too long, what performance enhancements might help?","I have a query timeout problem. When I did a:

    SELECT COUNT(id) AS rowCount FROM infoTable;

in my program, my JDBC call timed out after 2.5 minutes.

I don't have much database admin expertise but I am currently tasked with supporting a legacy database.   In this mysql database, there is an InnoDB table:

    +-------+------------+------+-----+---------+----------------+
    | Field | Type       | Null | Key | Default | Extra          |
    +-------+------------+------+-----+---------+----------------+
    | id    | bigint(20) | NO   | PRI | NULL    | auto_increment | 
    | info  | longtext   | NO   |     |         |                | 
    +-------+------------+------+-----+---------+----------------+

It currently has a high id of 5,192,540, which is the approximate number of rows in the table.  Some of the info text is over 1M, some is very small.  Around 3000 rows are added on a daily basis.  Machine has loads of free disk space, but not a lot of extra memory.  Rows are read and are occasionally modified but are rarely deleted, though I'm hoping to clean out some of the older data which is pretty much obsolete.

I tried the same query manually on a smaller test database which had 1,492,669 rows, installed on a similar machine with less disk space, and it took 9.19 seconds.

I tried the same query manually on an even smaller test database which had 98,629 rows and it took 3.85 seconds.  I then added an index to id:

    create index infoTable_idx on infoTable(id);
and the subsequent COUNT took 4.11 seconds, so it doesn't seem that adding an index would help in this case. (Just for kicks, I did the same on the aforementioned mid-sized db and access time increased from 9.2 to 9.3 seconds.)

Any idea how long a query like this should be taking?  What is locked during this query?  What happens if someone is adding data while my program is selecting?

Thanks for any advice,
Ilane",mysql,sql,,,,,open,0,390,11,"COUNT(id) query is taking too long, what performance enhancements might help? I have a query timeout problem. When I did a:

    SELECT COUNT(id) AS rowCount FROM infoTable;

in my program, my JDBC call timed out after 2.5 minutes.

I don't have much database admin expertise but I am currently tasked with supporting a legacy database.   In this mysql database, there is an InnoDB table:

    +-------+------------+------+-----+---------+----------------+
    | Field | Type       | Null | Key | Default | Extra          |
    +-------+------------+------+-----+---------+----------------+
    | id    | bigint(20) | NO   | PRI | NULL    | auto_increment | 
    | info  | longtext   | NO   |     |         |                | 
    +-------+------------+------+-----+---------+----------------+

It currently has a high id of 5,192,540, which is the approximate number of rows in the table.  Some of the info text is over 1M, some is very small.  Around 3000 rows are added on a daily basis.  Machine has loads of free disk space, but not a lot of extra memory.  Rows are read and are occasionally modified but are rarely deleted, though I'm hoping to clean out some of the older data which is pretty much obsolete.

I tried the same query manually on a smaller test database which had 1,492,669 rows, installed on a similar machine with less disk space, and it took 9.19 seconds.

I tried the same query manually on an even smaller test database which had 98,629 rows and it took 3.85 seconds.  I then added an index to id:

    create index infoTable_idx on infoTable(id);
and the subsequent COUNT took 4.11 seconds, so it doesn't seem that adding an index would help in this case. (Just for kicks, I did the same on the aforementioned mid-sized db and access time increased from 9.2 to 9.3 seconds.)

Any idea how long a query like this should be taking?  What is locked during this query?  What happens if someone is adding data while my program is selecting?

Thanks for any advice,
Ilane",2
10020258,04/04/2012 22:37:48,125884,06/19/2009 17:58:26,409,7,InnoDB: ALTER TABLE performance related to NULLability?,"I've got a table with 10MM rows, and I'm trying to `ALTER TABLE` to add another column (a `VARCHAR(80)`). 

From a data-modelling perspective, that column should be `NOT NULL` - but the amount of time it takes to run the statement is a consideration, and the client code could be changed to deal with a `NULL` column if that's warranted.

Should the `NULL`-ability of the column I'm trying to add significantly impact the amount of time it takes to add the column either way?",mysql,innodb,,,,,open,0,83,7,"InnoDB: ALTER TABLE performance related to NULLability? I've got a table with 10MM rows, and I'm trying to `ALTER TABLE` to add another column (a `VARCHAR(80)`). 

From a data-modelling perspective, that column should be `NOT NULL` - but the amount of time it takes to run the statement is a consideration, and the client code could be changed to deal with a `NULL` column if that's warranted.

Should the `NULL`-ability of the column I'm trying to add significantly impact the amount of time it takes to add the column either way?",2
8343359,12/01/2011 14:58:11,663593,03/17/2011 02:50:24,42,2,Keep good performance with a MySQL database that gains more users,"I have a MySQL relational database stored in a web server. This database works with  java web services which store and read data from it. Everything works fine for a system with 4 or 5 concurrent users but I was looking for some advice in case I want this system to be used by 50 people concurrently. So, what would be the best thing to improve performance when a system is going to gain more users, in a database level? Thanks and I'm sorry if my English is not good enough.",mysql,web-services,concurrency,,,06/03/2012 19:50:43,off topic,1,92,11,"Keep good performance with a MySQL database that gains more users I have a MySQL relational database stored in a web server. This database works with  java web services which store and read data from it. Everything works fine for a system with 4 or 5 concurrent users but I was looking for some advice in case I want this system to be used by 50 people concurrently. So, what would be the best thing to improve performance when a system is going to gain more users, in a database level? Thanks and I'm sorry if my English is not good enough.",3
9956063,03/31/2012 12:59:19,649737,03/08/2011 11:47:33,154,0,Converting MySQL query to a CodeIgniter active record,"I have this working query:

       ""SELECT id,email,firstname,lastname, 
       GROUP_CONCAT(CAST(users_groups.group_id AS CHAR)) as groups
       FROM `users`
       LEFT JOIN users_groups on users.id = users_groups.user_id
       GROUP BY users.id""

And I'm trying to convert it into AR coming up with this:

 

     $this->db->select(""SELECT id,email,firstname,lastname,  
                         GROUP_CONCAT(CAST(users_groups.group_id AS CHAR)) as groups"");
      $this->db->from(""users"");
      $this->db->join(""users_groups on users.id = users_groups.user_id"", ""left"");
      $this->db->goup_by(""users.id"");
      $query = $this->db->get();

But I'm getting this error:

>Call to undefined method CI_DB_mysql_driver::goup_by()

Can you help fix it?
Thanks
Leron",mysql,codeigniter,activerecord,,,04/01/2012 15:55:22,too localized,1,147,8,"Converting MySQL query to a CodeIgniter active record I have this working query:

       ""SELECT id,email,firstname,lastname, 
       GROUP_CONCAT(CAST(users_groups.group_id AS CHAR)) as groups
       FROM `users`
       LEFT JOIN users_groups on users.id = users_groups.user_id
       GROUP BY users.id""

And I'm trying to convert it into AR coming up with this:

 

     $this->db->select(""SELECT id,email,firstname,lastname,  
                         GROUP_CONCAT(CAST(users_groups.group_id AS CHAR)) as groups"");
      $this->db->from(""users"");
      $this->db->join(""users_groups on users.id = users_groups.user_id"", ""left"");
      $this->db->goup_by(""users.id"");
      $query = $this->db->get();

But I'm getting this error:

>Call to undefined method CI_DB_mysql_driver::goup_by()

Can you help fix it?
Thanks
Leron",3
3504580,08/17/2010 16:11:16,418285,08/12/2010 10:16:51,6,0,What did Index Means in DB?,Whats did Index means?how it is usefull in a web crawler??,mysql,web-crawler,,,,08/17/2010 16:42:24,not a real question,1,11,6,What did Index Means in DB? Whats did Index means?how it is usefull in a web crawler??,2
2176728,02/01/2010 12:56:22,188371,10/12/2009 11:19:07,29,1,"MSSQL to MySql converstion, i want convert the mssql query dump to mysql database","MSSQL to MySql conversion, i want convert the mssql query dump to mysql database.

I have MSSQL query dump.

Please give me a good conversion tool free of cost.

I tried with phpmyadmin import feature, its not working.

please help me out.

Thanks",mysql,php,phpmyadmin,database,,07/03/2012 14:30:05,off topic,1,38,14,"MSSQL to MySql converstion, i want convert the mssql query dump to mysql database MSSQL to MySql conversion, i want convert the mssql query dump to mysql database.

I have MSSQL query dump.

Please give me a good conversion tool free of cost.

I tried with phpmyadmin import feature, its not working.

please help me out.

Thanks",4
7975229,11/02/2011 02:38:48,655995,02/28/2011 02:13:21,263,6,a good book for sql quaries?,"could any one suggest me a good book for sql quaries for reading and writing to a mysql database. I have had no experince with databases before

thanks",mysql,sql,database,books,,11/02/2011 19:07:11,off topic,1,27,6,"a good book for sql quaries? could any one suggest me a good book for sql quaries for reading and writing to a mysql database. I have had no experince with databases before

thanks",4
10592367,05/14/2012 23:33:02,1383058,05/08/2012 20:27:05,44,0,SQL UPDATE to do string replacement,"I have some columns like:

    Provider            url                                                       id       
    Apple               https://s3.amazonaws.com/my-bin/APPLE_MAY2011.xls         1
    HP                  https://s3.amazonaws.com/my-bin/HP_MAY2011.xls            2

I changed one of the S3 bins and now need to change the url for all rows to be:

    Apple               https://s3.amazonaws.com/mybin/APPLE_MAY2011.xls         1
    HP                  https://s3.amazonaws.com/mybin/HP_MAY2011.xls            2

In other words, I need to change `my-bin` to `mybin`. How would I do this directly in SQL (instead of SELECTING everything and iterating and doing an INSERT for every row?)",mysql,sql,,,,,open,0,255,6,"SQL UPDATE to do string replacement I have some columns like:

    Provider            url                                                       id       
    Apple               https://s3.amazonaws.com/my-bin/APPLE_MAY2011.xls         1
    HP                  https://s3.amazonaws.com/my-bin/HP_MAY2011.xls            2

I changed one of the S3 bins and now need to change the url for all rows to be:

    Apple               https://s3.amazonaws.com/mybin/APPLE_MAY2011.xls         1
    HP                  https://s3.amazonaws.com/mybin/HP_MAY2011.xls            2

In other words, I need to change `my-bin` to `mybin`. How would I do this directly in SQL (instead of SELECTING everything and iterating and doing an INSERT for every row?)",2
10816122,05/30/2012 12:17:31,233679,12/17/2009 10:13:45,891,36,Array of all countries name with symbols,"I searched for array of all countries name with symbols but not found.., wants to add in mysql db table...
",mysql,,,,,05/30/2012 12:33:11,not a real question,1,20,7,"Array of all countries name with symbols I searched for array of all countries name with symbols but not found.., wants to add in mysql db table...
",1
10505949,05/08/2012 20:25:23,1251004,03/05/2012 23:13:56,338,0,"Debian, mysql: How can I tune these values","I have a debian VPS with 16 GB ram (CPU: 4 * 2Ghz). 

I notice some performance issues when I now have about 2,000 request / seconds. 

The CPU is at: 

    41% user, 8% kernel, 2% IO, 49% idle
and ram: 

    15.71 GB total, 4.97 GB used

I'm a complete noob when it comes to servers, so I dont want to mess around to much. I notice a performance increase when raising max_connections from 1,000 to 2,000, and increased key_buffer from 512 to 1024M. 

If anyone could take a look at the values below, and let me know if there's any tweaks I can do, that would be awesome. Thanks in advance: 

        # * Fine Tuning
    #
    key_buffer		= 1024M
    max_allowed_packet	= 512M
    thread_stack		= 192K
    thread_cache_size       = 8
    # This replaces the startup script and checks MyISAM tables if needed
    # the first time they are touched
    myisam-recover         = BACKUP
    max_connections        = 2000
    #table_cache            = 64
    #thread_concurrency     = 10
    #
    # * Query Cache Configuration
    #
    query_cache_limit	= 32M
    query_cache_size        = 128M",mysql,apache,apache2,debian,,,open,0,274,8,"Debian, mysql: How can I tune these values I have a debian VPS with 16 GB ram (CPU: 4 * 2Ghz). 

I notice some performance issues when I now have about 2,000 request / seconds. 

The CPU is at: 

    41% user, 8% kernel, 2% IO, 49% idle
and ram: 

    15.71 GB total, 4.97 GB used

I'm a complete noob when it comes to servers, so I dont want to mess around to much. I notice a performance increase when raising max_connections from 1,000 to 2,000, and increased key_buffer from 512 to 1024M. 

If anyone could take a look at the values below, and let me know if there's any tweaks I can do, that would be awesome. Thanks in advance: 

        # * Fine Tuning
    #
    key_buffer		= 1024M
    max_allowed_packet	= 512M
    thread_stack		= 192K
    thread_cache_size       = 8
    # This replaces the startup script and checks MyISAM tables if needed
    # the first time they are touched
    myisam-recover         = BACKUP
    max_connections        = 2000
    #table_cache            = 64
    #thread_concurrency     = 10
    #
    # * Query Cache Configuration
    #
    query_cache_limit	= 32M
    query_cache_size        = 128M",4
6895925,08/01/2011 08:34:54,749021,05/11/2011 15:40:11,31,2,Foreign keys with mySQL,"I have a table that references a reservation and a product, but I can't add any foreign key.

Here is the table :

    CREATE TABLE IF NOT EXISTS `resa_product` (
      `id_reservation` int(10) NOT NULL,
      `id_business` int(10) NOT NULL,
      `id_category` int(10) NOT NULL,
      `id_product` int(10) NOT NULL,
      `quantity` int(11) NOT NULL,
      PRIMARY KEY (`id_reservation`,`id_business`,`id_category`,`id_product`),
      KEY `resa_prod_index` (`id_business`,`id_category`,`id_product`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

but when I try this, I get the errno 150 from mySQL :

    ALTER TABLE `resa_product`
    ADD FOREIGN KEY (`id_business`, `id_category`, `id_product`)
    REFERENCES `product`(`id_business, `id_category`, `id_product`)
    ON UPDATE CASCADE
    ON DELETE RESTRICT;

I don't understand why I can't insert this composed key, although I added an index. Do someone has an idea ?

thanks for your help",mysql,foreign-keys,alter-table,,,,open,0,170,4,"Foreign keys with mySQL I have a table that references a reservation and a product, but I can't add any foreign key.

Here is the table :

    CREATE TABLE IF NOT EXISTS `resa_product` (
      `id_reservation` int(10) NOT NULL,
      `id_business` int(10) NOT NULL,
      `id_category` int(10) NOT NULL,
      `id_product` int(10) NOT NULL,
      `quantity` int(11) NOT NULL,
      PRIMARY KEY (`id_reservation`,`id_business`,`id_category`,`id_product`),
      KEY `resa_prod_index` (`id_business`,`id_category`,`id_product`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

but when I try this, I get the errno 150 from mySQL :

    ALTER TABLE `resa_product`
    ADD FOREIGN KEY (`id_business`, `id_category`, `id_product`)
    REFERENCES `product`(`id_business, `id_category`, `id_product`)
    ON UPDATE CASCADE
    ON DELETE RESTRICT;

I don't understand why I can't insert this composed key, although I added an index. Do someone has an idea ?

thanks for your help",3
11417891,07/10/2012 16:37:25,1515442,07/10/2012 16:31:36,1,0,SAS 9.1 Data integration studio connectivity with MYsql,"I need to import mysql databse into SAS(DIS).
i am not able to connect the mysql server to sas.
how do i  need to set the variables in config file or wat is the process to connect.

Thanks.",mysql,sas,,,,07/11/2012 11:12:14,off topic,1,36,8,"SAS 9.1 Data integration studio connectivity with MYsql I need to import mysql databse into SAS(DIS).
i am not able to connect the mysql server to sas.
how do i  need to set the variables in config file or wat is the process to connect.

Thanks.",2
8799904,01/10/2012 07:29:56,1140290,01/10/2012 06:56:43,1,0,Need a mysql query who can produce the result like A>B>C AND X>Y>Z,"Table name : category

<code>Id &nbsp;name &nbsp;parent</code>               
<code>1 &nbsp;&nbsp;&nbsp;A &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</code>               
<code>2 &nbsp;&nbsp;&nbsp;B &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;</code>               
<code>3 &nbsp;&nbsp;&nbsp;C &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;</code>               
<code>4 &nbsp;&nbsp;&nbsp;X &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</code>               
<code>5 &nbsp;&nbsp;&nbsp;Y &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;</code>               
<code>6 &nbsp;&nbsp;&nbsp;Z &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;</code>          


I need a single mysql query who will produce the result like given below in two rows.          
<code>A>B>C</code>                                          
<code>X>Y>Z</code>      

Please help me if this is possible. Thanks!! in advance 
",mysql,,,,,01/11/2012 01:03:19,not a real question,1,202,13,"Need a mysql query who can produce the result like A>B>C AND X>Y>Z Table name : category

<code>Id &nbsp;name &nbsp;parent</code>               
<code>1 &nbsp;&nbsp;&nbsp;A &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</code>               
<code>2 &nbsp;&nbsp;&nbsp;B &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;</code>               
<code>3 &nbsp;&nbsp;&nbsp;C &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;</code>               
<code>4 &nbsp;&nbsp;&nbsp;X &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</code>               
<code>5 &nbsp;&nbsp;&nbsp;Y &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;</code>               
<code>6 &nbsp;&nbsp;&nbsp;Z &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;</code>          


I need a single mysql query who will produce the result like given below in two rows.          
<code>A>B>C</code>                                          
<code>X>Y>Z</code>      

Please help me if this is possible. Thanks!! in advance 
",1
5160112,03/01/2011 20:44:07,640088,03/01/2011 20:44:07,1,0,"Can someone help me with this SQL error, essentially u1 and u2 are pulling the same value","SELECT VIRSA_AE_ROLE_MAP.MAIN_SYSTEM, VIRSA_AE_ROLE_MAP.MAIN_ROLE, U1.ROLEPROFDISPNAME, VIRSA_AE_ROLE_MAP.DEPENDANT_SYSTEM, VIRSA_AE_ROLE_MAP.DEPENDANT_ROLE, U2.ROLEPROFDISPNAME
FROM (VIRSA_AE_ROLE_MAP
INNER JOIN VIRSA_AE_ROLDTLS U1 ON VIRSA_AE_ROLE_MAP.MAIN_ROLE = U1.ROLEPROFNAME)
LEFT JOIN  VIRSA_AE_ROLDTLS U2 ON VIRSA_AE_ROLE_MAP.DEPENDANT_ROLE = U2.ROLEPROFNAME ;",mysql,,,,,,open,0,24,17,"Can someone help me with this SQL error, essentially u1 and u2 are pulling the same value SELECT VIRSA_AE_ROLE_MAP.MAIN_SYSTEM, VIRSA_AE_ROLE_MAP.MAIN_ROLE, U1.ROLEPROFDISPNAME, VIRSA_AE_ROLE_MAP.DEPENDANT_SYSTEM, VIRSA_AE_ROLE_MAP.DEPENDANT_ROLE, U2.ROLEPROFDISPNAME
FROM (VIRSA_AE_ROLE_MAP
INNER JOIN VIRSA_AE_ROLDTLS U1 ON VIRSA_AE_ROLE_MAP.MAIN_ROLE = U1.ROLEPROFNAME)
LEFT JOIN  VIRSA_AE_ROLDTLS U2 ON VIRSA_AE_ROLE_MAP.DEPENDANT_ROLE = U2.ROLEPROFNAME ;",1
11313596,07/03/2012 14:54:30,1499129,07/03/2012 14:40:14,1,0,Can any please help me solve this ? Urgent,"trying to insert a query using command line, i have mysql 5.1 installed! but getting dis error!

    

   

      [wrapped] org.jumpmind.db.sql.SqlException: You have an error in your SQL synta
    x; check the manual that corresponds to your MySQL server version for the right
    syntax to use near '""item_selling_price"" (""price_id"", ""price"", ""cost"")
    values (1, 0.10, 0.09)' at line 1
            at org.jumpmind.db.sql.AbstractSqlTemplate.translate(AbstractSqlTemplate
    .java:260)
            at org.jumpmind.db.sql.AbstractSqlTemplate.translate(AbstractSqlTemplate
    .java:251)
            at org.jumpmind.db.sql.JdbcSqlTemplate.execute(JdbcSqlTemplate.java:347)
    
            at org.jumpmind.db.sql.JdbcSqlTemplate.update(JdbcSqlTemplate.java:262)
            at org.jumpmind.db.sql.SqlScript.execute(SqlScript.java:145)
            at org.jumpmind.db.sql.SqlScript.execute(SqlScript.java:141)
            at org.jumpmind.symmetric.DbImport.importTablesFromSql(DbImport.java:129
    )
            at org.jumpmind.symmetric.DbImport.importTables(DbImport.java:82)
            at org.jumpmind.symmetric.DbImportCommand.executeWithOptions(DbImportCom
    mand.java:108)
            at org.jumpmind.symmetric.AbstractCommandLauncher.execute(AbstractComman
    dLauncher.java:129)
            at org.jumpmind.symmetric.DbImportCommand.main(DbImportCommand.java:51)",mysql,,,,,07/04/2012 12:58:16,not a real question,1,244,9,"Can any please help me solve this ? Urgent trying to insert a query using command line, i have mysql 5.1 installed! but getting dis error!

    

   

      [wrapped] org.jumpmind.db.sql.SqlException: You have an error in your SQL synta
    x; check the manual that corresponds to your MySQL server version for the right
    syntax to use near '""item_selling_price"" (""price_id"", ""price"", ""cost"")
    values (1, 0.10, 0.09)' at line 1
            at org.jumpmind.db.sql.AbstractSqlTemplate.translate(AbstractSqlTemplate
    .java:260)
            at org.jumpmind.db.sql.AbstractSqlTemplate.translate(AbstractSqlTemplate
    .java:251)
            at org.jumpmind.db.sql.JdbcSqlTemplate.execute(JdbcSqlTemplate.java:347)
    
            at org.jumpmind.db.sql.JdbcSqlTemplate.update(JdbcSqlTemplate.java:262)
            at org.jumpmind.db.sql.SqlScript.execute(SqlScript.java:145)
            at org.jumpmind.db.sql.SqlScript.execute(SqlScript.java:141)
            at org.jumpmind.symmetric.DbImport.importTablesFromSql(DbImport.java:129
    )
            at org.jumpmind.symmetric.DbImport.importTables(DbImport.java:82)
            at org.jumpmind.symmetric.DbImportCommand.executeWithOptions(DbImportCom
    mand.java:108)
            at org.jumpmind.symmetric.AbstractCommandLauncher.execute(AbstractComman
    dLauncher.java:129)
            at org.jumpmind.symmetric.DbImportCommand.main(DbImportCommand.java:51)",1
5632285,04/12/2011 08:18:20,703617,04/12/2011 08:07:05,1,0,mysql Using INNER JOIN to select multiple tables?,"i want to select all fields of several table and fetch result separate but mysql  return all rows together

select prod_product.*,pub_comment.* from prod_product inner join pub_comment on ( prod_product.id=pub_comment.itemId ) WHERE prod_product.id=7744

is there any way that i could fetch each table rows separately ?
i try @prod:=prod_product.*,@comment:=pub_comment.* but mysql didn't allow me to store more than 1 row

plz help me",mysql,select,join,inner,,,open,0,59,8,"mysql Using INNER JOIN to select multiple tables? i want to select all fields of several table and fetch result separate but mysql  return all rows together

select prod_product.*,pub_comment.* from prod_product inner join pub_comment on ( prod_product.id=pub_comment.itemId ) WHERE prod_product.id=7744

is there any way that i could fetch each table rows separately ?
i try @prod:=prod_product.*,@comment:=pub_comment.* but mysql didn't allow me to store more than 1 row

plz help me",4
265117,11/05/2008 13:23:39,1246613,03/03/2012 09:25:03,-26,2,mysql import csv problem,"OK, I have just been reading and trying for the last hour to import a csv file from access into mysql, but I can not get it to do it correctly, no matter what I try.

My table is like so:

    +-----------------+-------------
    | Field           | Type
    +-----------------+-------------
    | ARTICLE_NO      | varchar(20)
    | ARTICLE_NAME    | varchar(100)
    | SUBTITLE        | varchar(20)
    | CURRENT_BID     | varchar(20)
    | START_PRICE     | varchar(20)
    | BID_COUNT       | varchar(20)
    | QUANT_TOTAL     | varchar(20)
    | QUANT_SOLD      | varchar(20)
    | STARTS          | datetime
    | ENDS            | datetime
    | ORIGIN_END      | datetime
    | SELLER_ID       | varchar(20)
    | BEST_BIDDER_ID  | varchar(20)
    | FINISHED        | varchar(20)
    | WATCH           | varchar(20)
    | BUYITNOW_PRICE  | varchar(20)
    | PIC_URL         | varchar(20)
    | PRIVATE_AUCTION | varchar(20)
    | AUCTION_TYPE    | varchar(20)
    | INSERT_DATE     | datetime
    | UPDATE_DATE     | datetime
    | CAT_1_ID        | varchar(20)
    | CAT_2_ID        | varchar(20)
    | ARTICLE_DESC    | varchar(20)
    | DESC_TEXTONLY   | varchar(20)
    | COUNTRYCODE     | varchar(20)
    | LOCATION        | varchar(20)
    | CONDITIONS      | varchar(20)
    | REVISED         | varchar(20)
    | PAYPAL_ACCEPT   | tinyint(4)
    | PRE_TERMINATED  | varchar(20)
    | SHIPPING_TO     | varchar(20)
    | FEE_INSERTION   | varchar(20)
    | FEE_FINAL       | varchar(20)
    | FEE_LISTING     | varchar(20)
    | PIC_XXL         | tinyint(4)
    | PIC_DIASHOW     | tinyint(4)
    | PIC_COUNT       | varchar(20)
    | ITEM_SITE_ID    | varchar(20)

Which should be fine, and my data is currently semicolon delimited, an example of a row from my csv file is thus:

    ""110268889894"";""ORIGINAL 2008 ED HARDY GÜRTEL* MYSTERY LOVE  * M *BLACK"";"""";0,00 €;0,00 €;0;1;0;8.7.2008 17:18:37;5.11.2008 16:23:37;6.10.2008 17:23:37;29;0;0;0;125,00 €;"""";0;2;6.10.2008 16:21:51;6.10.2008 14:19:08;80578;0;;0;77;"""";0;0;1;0;-1;0,00 €;0,00 €;0,00 €;0;0;0;77
    ""110293328957"";""Orig. Ed Hardy Shirt - Tank Top - Gr. XS- OVP/NEU"";"""";25,05 €;0,00 €;7;1;0;27.9.2008 06:26:27;6.10.2008 18:26:21;6.10.2008 18:26:21;49;0;0;0;0,00 €;"""";0;1;6.10.2008 16:21:56;6.10.2008 16:33:20;31058;0;;0;77;"""";1;0;0;0;-1;0,00 €;0,00 €;0,00 €;0;0;0;77   

I am using a simple php page to output the table data, and it is completely wrong. The problem is not with the php page as a simple table with just text displays perfectly. I am wondering if I have selected incorrect field types or the colums do not match up, but I see no reason this would be the case. Could something be happening because the data is trying to be displayed as html?

I have tried to keep this question as specific as possible, and am not asking for people to do it for me like others have suggested, but I honestly can not see where the problem is.

                                                                                                                                                                                                                                                                                                                                                                                                            ",mysql,php,html,csv,,,open,0,1107,4,"mysql import csv problem OK, I have just been reading and trying for the last hour to import a csv file from access into mysql, but I can not get it to do it correctly, no matter what I try.

My table is like so:

    +-----------------+-------------
    | Field           | Type
    +-----------------+-------------
    | ARTICLE_NO      | varchar(20)
    | ARTICLE_NAME    | varchar(100)
    | SUBTITLE        | varchar(20)
    | CURRENT_BID     | varchar(20)
    | START_PRICE     | varchar(20)
    | BID_COUNT       | varchar(20)
    | QUANT_TOTAL     | varchar(20)
    | QUANT_SOLD      | varchar(20)
    | STARTS          | datetime
    | ENDS            | datetime
    | ORIGIN_END      | datetime
    | SELLER_ID       | varchar(20)
    | BEST_BIDDER_ID  | varchar(20)
    | FINISHED        | varchar(20)
    | WATCH           | varchar(20)
    | BUYITNOW_PRICE  | varchar(20)
    | PIC_URL         | varchar(20)
    | PRIVATE_AUCTION | varchar(20)
    | AUCTION_TYPE    | varchar(20)
    | INSERT_DATE     | datetime
    | UPDATE_DATE     | datetime
    | CAT_1_ID        | varchar(20)
    | CAT_2_ID        | varchar(20)
    | ARTICLE_DESC    | varchar(20)
    | DESC_TEXTONLY   | varchar(20)
    | COUNTRYCODE     | varchar(20)
    | LOCATION        | varchar(20)
    | CONDITIONS      | varchar(20)
    | REVISED         | varchar(20)
    | PAYPAL_ACCEPT   | tinyint(4)
    | PRE_TERMINATED  | varchar(20)
    | SHIPPING_TO     | varchar(20)
    | FEE_INSERTION   | varchar(20)
    | FEE_FINAL       | varchar(20)
    | FEE_LISTING     | varchar(20)
    | PIC_XXL         | tinyint(4)
    | PIC_DIASHOW     | tinyint(4)
    | PIC_COUNT       | varchar(20)
    | ITEM_SITE_ID    | varchar(20)

Which should be fine, and my data is currently semicolon delimited, an example of a row from my csv file is thus:

    ""110268889894"";""ORIGINAL 2008 ED HARDY GÜRTEL* MYSTERY LOVE  * M *BLACK"";"""";0,00 €;0,00 €;0;1;0;8.7.2008 17:18:37;5.11.2008 16:23:37;6.10.2008 17:23:37;29;0;0;0;125,00 €;"""";0;2;6.10.2008 16:21:51;6.10.2008 14:19:08;80578;0;;0;77;"""";0;0;1;0;-1;0,00 €;0,00 €;0,00 €;0;0;0;77
    ""110293328957"";""Orig. Ed Hardy Shirt - Tank Top - Gr. XS- OVP/NEU"";"""";25,05 €;0,00 €;7;1;0;27.9.2008 06:26:27;6.10.2008 18:26:21;6.10.2008 18:26:21;49;0;0;0;0,00 €;"""";0;1;6.10.2008 16:21:56;6.10.2008 16:33:20;31058;0;;0;77;"""";1;0;0;0;-1;0,00 €;0,00 €;0,00 €;0;0;0;77   

I am using a simple php page to output the table data, and it is completely wrong. The problem is not with the php page as a simple table with just text displays perfectly. I am wondering if I have selected incorrect field types or the colums do not match up, but I see no reason this would be the case. Could something be happening because the data is trying to be displayed as html?

I have tried to keep this question as specific as possible, and am not asking for people to do it for me like others have suggested, but I honestly can not see where the problem is.

                                                                                                                                                                                                                                                                                                                                                                                                            ",4
2610812,04/09/2010 20:47:52,305360,03/30/2010 17:59:33,1,0,"MySQL full text search, why am I getting Incorrect arguments to MATCH","SELECT 
* 
FROM 
company c
INNER JOIN 
city ci ON ci.city_id = c.city_id
INNER JOIN 
state s ON s.state_id = c.state_id
WHERE 
MATCH (
c.name, ci.name, c.zipcode, s.name
)
AGAINST (
'los angeles'
)",mysql,,,,,,open,0,26,12,"MySQL full text search, why am I getting Incorrect arguments to MATCH SELECT 
* 
FROM 
company c
INNER JOIN 
city ci ON ci.city_id = c.city_id
INNER JOIN 
state s ON s.state_id = c.state_id
WHERE 
MATCH (
c.name, ci.name, c.zipcode, s.name
)
AGAINST (
'los angeles'
)",1
2775512,05/05/2010 17:45:55,247519,01/10/2010 15:57:37,1,0,Client / Server security from mobile to website,"Hey.  Am new to the world of web programming and learning a bunch of fairly simple new pieces of tech, trying to piece them all together.

So, we have a simple client (currently iPhone, to move to J2ME soon) that's pulling down lists of data via PHP, which is talking to a MySQL db.  I have a rudimentary user/login system so that data is only served to someone who matches a known user etc, either on the website or on the client.

All the php scripts on the website that query the DB check to make sure an active session is in place, otherwise dumping the user back to the login screen.

I've read a little about SSL and want to know if that is sufficient to protect the website AND the data passing between the server and the client?",mysql,php,security,ssl,iphone,,open,0,139,8,"Client / Server security from mobile to website Hey.  Am new to the world of web programming and learning a bunch of fairly simple new pieces of tech, trying to piece them all together.

So, we have a simple client (currently iPhone, to move to J2ME soon) that's pulling down lists of data via PHP, which is talking to a MySQL db.  I have a rudimentary user/login system so that data is only served to someone who matches a known user etc, either on the website or on the client.

All the php scripts on the website that query the DB check to make sure an active session is in place, otherwise dumping the user back to the login screen.

I've read a little about SSL and want to know if that is sufficient to protect the website AND the data passing between the server and the client?",5
8115866,11/14/2011 00:06:40,1038517,11/09/2011 20:37:42,1,0,structuring my mysql table correctly,"I have a list of businesses and each business could be part of any number of categories. So what I would normally do is have a table 'business' then a table 'categories' and a table 'businesscategories' which would have the id of the business and category so therefore a business could be linked to any number of categories.

However, I wondered if there's a much simpler way of assigning businesses to any number of categories? Just keeping it all to 1 or 2 tables would be brilliant if possible...

Thanks",mysql,,,,,,open,0,88,5,"structuring my mysql table correctly I have a list of businesses and each business could be part of any number of categories. So what I would normally do is have a table 'business' then a table 'categories' and a table 'businesscategories' which would have the id of the business and category so therefore a business could be linked to any number of categories.

However, I wondered if there's a much simpler way of assigning businesses to any number of categories? Just keeping it all to 1 or 2 tables would be brilliant if possible...

Thanks",1
8092483,11/11/2011 10:11:54,604511,02/05/2011 16:16:29,546,30,Easy way to replicate MySQL over HTTP,"The database exists on a VPS, which we have control to install anything. But our office proxy blocks non-HTTP traffic.

We have 

 1. content , which must by synced from the dev machine to the web server
 2. user-generated data, which must the synced from web server to dev machine.

Both types of content exist on **separate tables** of course, but transfer is definitely **two-way**.

----------
This is for the purpose of backup and updating content (yeah we directly insert rows!). I am OK with transferring entire content at once (DB will be under 50mb for a year), but transferring **only changes** would be better.


----------
For previous projects, we used to have shared hosting. We used to export the entire DB over PHPMyAdmin at once, or modify it on site.",mysql,,,,,,open,0,126,7,"Easy way to replicate MySQL over HTTP The database exists on a VPS, which we have control to install anything. But our office proxy blocks non-HTTP traffic.

We have 

 1. content , which must by synced from the dev machine to the web server
 2. user-generated data, which must the synced from web server to dev machine.

Both types of content exist on **separate tables** of course, but transfer is definitely **two-way**.

----------
This is for the purpose of backup and updating content (yeah we directly insert rows!). I am OK with transferring entire content at once (DB will be under 50mb for a year), but transferring **only changes** would be better.


----------
For previous projects, we used to have shared hosting. We used to export the entire DB over PHPMyAdmin at once, or modify it on site.",1
10048298,04/06/2012 19:29:02,1292090,04/20/2011 08:09:00,22,0,Retrieving only a fixed number of rows in MySQL,"<p>
This probably might be a weird requirement, but I am testing my database design under load and I need to retrieve only a fixed number of rows from the database-for eg 5000. 
<p>
I looked this up and I found that I could specify a LIMIT on the SELECT query to achieve this. However, according to what I understood from the documentation, it seems that the SELECT query builds the result set of all rows that match and then returns only the number of rows specified in the limit. Is that how it is implemented too?
<p>
Is there anyway(and pardon me for the extremely naive way in which I have framed it) for MySQL to read one row, read another one..and basically stop when it retrieves the 5000th matching row?

Any help and advice will be appreciated.",mysql,,,,,,open,0,134,9,"Retrieving only a fixed number of rows in MySQL <p>
This probably might be a weird requirement, but I am testing my database design under load and I need to retrieve only a fixed number of rows from the database-for eg 5000. 
<p>
I looked this up and I found that I could specify a LIMIT on the SELECT query to achieve this. However, according to what I understood from the documentation, it seems that the SELECT query builds the result set of all rows that match and then returns only the number of rows specified in the limit. Is that how it is implemented too?
<p>
Is there anyway(and pardon me for the extremely naive way in which I have framed it) for MySQL to read one row, read another one..and basically stop when it retrieves the 5000th matching row?

Any help and advice will be appreciated.",1
8300855,11/28/2011 19:00:03,420902,08/15/2010 10:26:20,556,18,What is View and Routines?,"What is `View` and `Routines` in MySQL?   
and what condition is the best time to use this type of database?",mysql,,,,,11/28/2011 19:11:41,not a real question,1,22,5,"What is View and Routines? What is `View` and `Routines` in MySQL?   
and what condition is the best time to use this type of database?",1
11687803,07/27/2012 12:31:05,1031007,11/05/2011 11:16:02,50,2,MySQL variables in ALTER TABLE script,"Hello The following procedure will have to move all constraints from one table to the other however I am having some difficulties at the point where the constraint should be deleted.

The problem: how do I use variables in the following line 

    ALTER TABLE var_referenced_table_name DROP FOREIGN KEY var_constraint_name;

when I use as is, I receive the following error

    Error Code: 1146. Table 'oaf_businesslink_dev.var_referenced_table_name' doesn't exist

MySQL does not recognise `var_referenced_table_name` and `var_constraint_name` as variables.

    DELIMITER //
    DROP PROCEDURE IF EXISTS AlterConstraints//
    CREATE PROCEDURE AlterConstraints()
    BEGIN
    
        DECLARE schema_name VARCHAR(60) DEFAULT 'oaf_businesslink_dev';
        DECLARE table_name VARCHAR(60) DEFAULT 'wp_systemuser';
    
        DECLARE finished INTEGER DEFAULT 0;
        DECLARE total INTEGER DEFAULT 0;    
        
        DECLARE var_constraint_name VARCHAR(60) DEFAULT '';
        DECLARE var_table_name VARCHAR(60) DEFAULT '';
        DECLARE var_column_name VARCHAR(60) DEFAULT '';
        DECLARE var_referenced_table_name VARCHAR(60) DEFAULT '';
        DECLARE var_referenced_column_name VARCHAR(60) DEFAULT '';
        
        DECLARE cur_constraints CURSOR FOR SELECT constraint_Name, table_name,column_name,referenced_table_name,referenced_column_name
        FROM information_schema.key_column_usage
        WHERE constraint_schema = schema_name
            AND referenced_table_name = table_name
            AND table_name IS NOT NULL;
        
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET finished = 1;
        OPEN cur_constraints;
        
        get_constraint: 
        LOOP FETCH cur_constraints 
        INTO var_constraint_name
            ,var_table_name
            ,var_column_name
            ,var_referenced_table_name
            ,var_referenced_column_name;          
    
            IF finished THEN
                LEAVE get_constraint;
            END IF; 
            
            /* Get Constraint Count */
            SET total = total + 1;
            
            /* Remove Constraint */
            IF EXISTS(SELECT * FROM information_schema.TABLE_CONSTRAINTS
                WHERE CONSTRAINT_NAME = var_constraint_name AND TABLE_NAME = var_referenced_table_name AND TABLE_SCHEMA = schema_name)
                THEN
                /* 
                 * Error Code: 1146. Table 'oaf_businesslink_dev.var_referenced_table_name' doesn't exist
                 */
                ALTER TABLE var_referenced_table_name DROP FOREIGN KEY var_constraint_name;
            END IF;
            
            /* Change Datatype to BIGINT */
            
            /* Recreate Constraint to new table */
        END
        
        LOOP get_constraint;
        CLOSE cur_constraints;
        SELECT total;
        
    END
    //
    DELIMITER ;
    
    CALL AlterConstraints();

Thanks in advance.",mysql,stored-procedures,constraints,alter-table,,,open,0,839,6,"MySQL variables in ALTER TABLE script Hello The following procedure will have to move all constraints from one table to the other however I am having some difficulties at the point where the constraint should be deleted.

The problem: how do I use variables in the following line 

    ALTER TABLE var_referenced_table_name DROP FOREIGN KEY var_constraint_name;

when I use as is, I receive the following error

    Error Code: 1146. Table 'oaf_businesslink_dev.var_referenced_table_name' doesn't exist

MySQL does not recognise `var_referenced_table_name` and `var_constraint_name` as variables.

    DELIMITER //
    DROP PROCEDURE IF EXISTS AlterConstraints//
    CREATE PROCEDURE AlterConstraints()
    BEGIN
    
        DECLARE schema_name VARCHAR(60) DEFAULT 'oaf_businesslink_dev';
        DECLARE table_name VARCHAR(60) DEFAULT 'wp_systemuser';
    
        DECLARE finished INTEGER DEFAULT 0;
        DECLARE total INTEGER DEFAULT 0;    
        
        DECLARE var_constraint_name VARCHAR(60) DEFAULT '';
        DECLARE var_table_name VARCHAR(60) DEFAULT '';
        DECLARE var_column_name VARCHAR(60) DEFAULT '';
        DECLARE var_referenced_table_name VARCHAR(60) DEFAULT '';
        DECLARE var_referenced_column_name VARCHAR(60) DEFAULT '';
        
        DECLARE cur_constraints CURSOR FOR SELECT constraint_Name, table_name,column_name,referenced_table_name,referenced_column_name
        FROM information_schema.key_column_usage
        WHERE constraint_schema = schema_name
            AND referenced_table_name = table_name
            AND table_name IS NOT NULL;
        
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET finished = 1;
        OPEN cur_constraints;
        
        get_constraint: 
        LOOP FETCH cur_constraints 
        INTO var_constraint_name
            ,var_table_name
            ,var_column_name
            ,var_referenced_table_name
            ,var_referenced_column_name;          
    
            IF finished THEN
                LEAVE get_constraint;
            END IF; 
            
            /* Get Constraint Count */
            SET total = total + 1;
            
            /* Remove Constraint */
            IF EXISTS(SELECT * FROM information_schema.TABLE_CONSTRAINTS
                WHERE CONSTRAINT_NAME = var_constraint_name AND TABLE_NAME = var_referenced_table_name AND TABLE_SCHEMA = schema_name)
                THEN
                /* 
                 * Error Code: 1146. Table 'oaf_businesslink_dev.var_referenced_table_name' doesn't exist
                 */
                ALTER TABLE var_referenced_table_name DROP FOREIGN KEY var_constraint_name;
            END IF;
            
            /* Change Datatype to BIGINT */
            
            /* Recreate Constraint to new table */
        END
        
        LOOP get_constraint;
        CLOSE cur_constraints;
        SELECT total;
        
    END
    //
    DELIMITER ;
    
    CALL AlterConstraints();

Thanks in advance.",4
3491090,08/16/2010 06:39:06,421432,08/16/2010 06:39:06,1,0,cannot replace contents of atable using load data local infile...,"load data local infile 'input.txt' replace into table t fields terminated by '|'; doesn't seem to replace the former contents, its creating duplicate copies of the entries, i tried with 'ignore' also,but even it is not working..pls tel me where i'm going wrong.. 

i created d table using...
create table t(name varchar(20),empid int,age int,dob date,`order` int,price int);

my query..
load data local infile 'empinput.txt' replace into table t fields terminated by '|' ignore 5 lines;

or

load data local infile 'empinput.txt' ignore into table t fields terminated by '|' ignore 5 lines;

doesn't seem to work..
my input.txt file has..

 gopakumar  |     3 |  20 | 1990-12-03 |     1 |    24 
 nitin      |     4 |  18 | 1992-07-30 |     2 |    48 
 prashant   |     5 |  20 | 1990-05-17 |     3 |    72 
 arunakumar |     2 |  21 | 1989-12-08 |     4 |    96 
 ravikiran  |    10 |  26 | 1984-06-14 |     6 |   144 
 abhi       |    32 |  21 | 1989-03-21 |     7 |   168 
 Amruthesh  |     1 |  22 | 1988-09-22 |     8 |   192 
 abcd       |    56 |  21 | 1989-09-09 |  NULL |   200 
 abhi       |    23 |  20 | 1990-08-08 |    12 |  1060 


thanks in advance....
",mysql,,,,,,open,0,325,10,"cannot replace contents of atable using load data local infile... load data local infile 'input.txt' replace into table t fields terminated by '|'; doesn't seem to replace the former contents, its creating duplicate copies of the entries, i tried with 'ignore' also,but even it is not working..pls tel me where i'm going wrong.. 

i created d table using...
create table t(name varchar(20),empid int,age int,dob date,`order` int,price int);

my query..
load data local infile 'empinput.txt' replace into table t fields terminated by '|' ignore 5 lines;

or

load data local infile 'empinput.txt' ignore into table t fields terminated by '|' ignore 5 lines;

doesn't seem to work..
my input.txt file has..

 gopakumar  |     3 |  20 | 1990-12-03 |     1 |    24 
 nitin      |     4 |  18 | 1992-07-30 |     2 |    48 
 prashant   |     5 |  20 | 1990-05-17 |     3 |    72 
 arunakumar |     2 |  21 | 1989-12-08 |     4 |    96 
 ravikiran  |    10 |  26 | 1984-06-14 |     6 |   144 
 abhi       |    32 |  21 | 1989-03-21 |     7 |   168 
 Amruthesh  |     1 |  22 | 1988-09-22 |     8 |   192 
 abcd       |    56 |  21 | 1989-09-09 |  NULL |   200 
 abhi       |    23 |  20 | 1990-08-08 |    12 |  1060 


thanks in advance....
",1
11399699,07/09/2012 16:57:46,1505500,07/06/2012 01:08:59,1,0,Payment Gateway supports prepaid charging card,"I need help to get the right orientation by which and how can i start 
So this question isn't about integrating an existing payment gateway into my site. This is more of a architectural question.

I want to build my own payment gateway system to integrate it in my online shop and it must works similar to Paypal. 
so each user must having one account in my payment gateway which based on prepaid charging principle (like prepaid phone cards""closes loop cards"") and other account in my shop so he/she can pays through his/her credit account from the gateway

thanks for answers in advance


",mysql,paypal-api,payment,payment-processing,recurring-billing,07/10/2012 18:20:37,not a real question,1,101,6,"Payment Gateway supports prepaid charging card I need help to get the right orientation by which and how can i start 
So this question isn't about integrating an existing payment gateway into my site. This is more of a architectural question.

I want to build my own payment gateway system to integrate it in my online shop and it must works similar to Paypal. 
so each user must having one account in my payment gateway which based on prepaid charging principle (like prepaid phone cards""closes loop cards"") and other account in my shop so he/she can pays through his/her credit account from the gateway

thanks for answers in advance


",5
11716240,07/30/2012 06:16:34,1373033,03/12/2011 20:16:49,55,1,join from muliple column to one table,"i have a table genrelink and other genere description in which following columns are there

    Genere link table :
    
    titleID
    GENID1
    GENID2
    GENID3
    GENID4
    GENID5
    
    GenereDesscription table
    
    GENID
    DESC


I want to get the Genere desciption of all GENID of Genere Link in one hit...Query



",mysql,sql,join,,,,open,0,86,7,"join from muliple column to one table i have a table genrelink and other genere description in which following columns are there

    Genere link table :
    
    titleID
    GENID1
    GENID2
    GENID3
    GENID4
    GENID5
    
    GenereDesscription table
    
    GENID
    DESC


I want to get the Genere desciption of all GENID of Genere Link in one hit...Query



",3
3140947,06/29/2010 13:14:47,74314,03/05/2009 16:17:05,3817,275,mysql use group by column in where condition,"How can I make this query work :

    SELECT column1.....,SUM(Hits) AS Hits   
    FROM table 
    WHERE  SUM(Hits) > 100
    GROUP BY column1.....

The problem is the where clause, mysql display error :

    Error Code : 1111
    Invalid use of group function

I try to change the query to :

 

     SELECT column1.....,SUM(Hits) AS Hits   
        FROM table 
        WHERE  Hits > 100
        GROUP BY column1.....

It did not help.

thanks",mysql,group-by,where-clause,,,,open,0,116,8,"mysql use group by column in where condition How can I make this query work :

    SELECT column1.....,SUM(Hits) AS Hits   
    FROM table 
    WHERE  SUM(Hits) > 100
    GROUP BY column1.....

The problem is the where clause, mysql display error :

    Error Code : 1111
    Invalid use of group function

I try to change the query to :

 

     SELECT column1.....,SUM(Hits) AS Hits   
        FROM table 
        WHERE  Hits > 100
        GROUP BY column1.....

It did not help.

thanks",3
9628130,03/09/2012 02:26:10,882543,08/07/2011 08:09:06,71,1,how to store different commodities(such as computers and shoes..) in database?,"how to describe different commodities(such as computers and shoes..) in SQL database?

is there a good way to define that? 

**every commodities has its own properties 

(computer has cpu\mem\screen\os\keyboard... shoe has brand and price colors and patterns).** 

i want to store them(every commodities and it's properities ) all in database. 

**it's impossibe to create tables for every commodities.**
",mysql,sql,database,oracle,,03/09/2012 19:52:10,not constructive,1,57,11,"how to store different commodities(such as computers and shoes..) in database? how to describe different commodities(such as computers and shoes..) in SQL database?

is there a good way to define that? 

**every commodities has its own properties 

(computer has cpu\mem\screen\os\keyboard... shoe has brand and price colors and patterns).** 

i want to store them(every commodities and it's properities ) all in database. 

**it's impossibe to create tables for every commodities.**
",4
5568848,04/06/2011 15:23:06,663749,03/03/2011 05:56:37,3,0,Check mysql database state periodically from java,"I am new to this MySQL concepts.i want to check the MySQL database periodically whether its working properly or not from java.Is there any simple way to check this.

Thanks In Advance.



",mysql,check,,,,,open,0,31,7,"Check mysql database state periodically from java I am new to this MySQL concepts.i want to check the MySQL database periodically whether its working properly or not from java.Is there any simple way to check this.

Thanks In Advance.



",2
5091491,02/23/2011 13:24:41,520702,11/25/2010 22:42:57,30,3,mysql query room availability,"Having looked at some of the other mysql availability query questions on here has got me so far, but the way mine works is slightly different to the others.

Basically I have a table of dates, and each date is a row. Each row contains fields to say the cost, room type, and how many days your booking has to be to book on that date. So if a Hotel has 1 room type, it will have 365 rows, if it has 5 room types, it will have 1825 rows

    bd_id	int(10)	NO	PRI	NULL	auto_increment
    bd_room_type	varchar(32)
    bd_date	date	NO
    bd_price	decimal(8,2)
    bd_h_id	int(8)	NO /* Hotel id */
    bd_available	tinyint(1) /* number of days you must book to include this date */

I get the from and to dates, and fill in the gap in between so I have all the dates for the booking.

    $q1 = ""SELECT bd_h_id
    FROM booking_dates
    WHERE bd_date IN ('2011-02-16','2011-02-17','2011-02-18')
    AND bd_available <= '3'
    AND bd_room_type = 'single'
    AND bd_price > '0'
    GROUP BY bd_h_id
    HAVING count(*) = '3'"";

So if the count is the same as the duration, it means all dependencies have been met and it can show the result in the search.

I am then passing that query as a variable into another query, that extracts the hotel info, checks to see if the sub query is returning anything or not.

    $q = ""SELECT c_title FROM c_content WHERE c_id IN ($q1) AND IF(($q1) > 0, 1, 0)"";

This is fine, however if the sub query returns more than 1 hotel, the main query gives me the error: 

> Subquery returns more than 1 row

I thought because I used 'IN' that it would be ok. Any suggestions? Also when I go about implementing multiple sub queries, the solution will need to work with that too.

I am aware that the way I am doing the rooms isnt as elegant as it could be, however I am not sure how else to achieve the results I need, as because the bookings will usually be bulk bookings (eg more than one room booked at a time, if one room type isnt available during the dates provided then the whole hotel needs to be removed from the search results).",mysql,subquery,availability,,,,open,0,402,4,"mysql query room availability Having looked at some of the other mysql availability query questions on here has got me so far, but the way mine works is slightly different to the others.

Basically I have a table of dates, and each date is a row. Each row contains fields to say the cost, room type, and how many days your booking has to be to book on that date. So if a Hotel has 1 room type, it will have 365 rows, if it has 5 room types, it will have 1825 rows

    bd_id	int(10)	NO	PRI	NULL	auto_increment
    bd_room_type	varchar(32)
    bd_date	date	NO
    bd_price	decimal(8,2)
    bd_h_id	int(8)	NO /* Hotel id */
    bd_available	tinyint(1) /* number of days you must book to include this date */

I get the from and to dates, and fill in the gap in between so I have all the dates for the booking.

    $q1 = ""SELECT bd_h_id
    FROM booking_dates
    WHERE bd_date IN ('2011-02-16','2011-02-17','2011-02-18')
    AND bd_available <= '3'
    AND bd_room_type = 'single'
    AND bd_price > '0'
    GROUP BY bd_h_id
    HAVING count(*) = '3'"";

So if the count is the same as the duration, it means all dependencies have been met and it can show the result in the search.

I am then passing that query as a variable into another query, that extracts the hotel info, checks to see if the sub query is returning anything or not.

    $q = ""SELECT c_title FROM c_content WHERE c_id IN ($q1) AND IF(($q1) > 0, 1, 0)"";

This is fine, however if the sub query returns more than 1 hotel, the main query gives me the error: 

> Subquery returns more than 1 row

I thought because I used 'IN' that it would be ok. Any suggestions? Also when I go about implementing multiple sub queries, the solution will need to work with that too.

I am aware that the way I am doing the rooms isnt as elegant as it could be, however I am not sure how else to achieve the results I need, as because the bookings will usually be bulk bookings (eg more than one room booked at a time, if one room type isnt available during the dates provided then the whole hotel needs to be removed from the search results).",3
7191480,08/25/2011 13:45:47,195866,10/24/2009 14:04:53,378,1,Edit data in MySQL Database with no Primary Key,"I am using Webmin on an Idaq hosting package to manage my MySQL database. I have imported the database from a previous host and now find that I cannot alter any data that is in a particular table because of an error ""Data in this table cannot be edited because it has no primary key.""

In a php script I can alter data but really need to alter it from the control panel.

When I try and create a primary key field I get the following error ""Failed to save field : SQL alter table `userbase` add `referenceNumber` smallint not null auto_increment failed : Incorrect table definition; there can be only one auto column and it must be defined as a key""

I am well aware that any table should contain a primary key and this is my mistake , but can anyone offer some help please ? 
",mysql,webmin,,,,,open,0,146,9,"Edit data in MySQL Database with no Primary Key I am using Webmin on an Idaq hosting package to manage my MySQL database. I have imported the database from a previous host and now find that I cannot alter any data that is in a particular table because of an error ""Data in this table cannot be edited because it has no primary key.""

In a php script I can alter data but really need to alter it from the control panel.

When I try and create a primary key field I get the following error ""Failed to save field : SQL alter table `userbase` add `referenceNumber` smallint not null auto_increment failed : Incorrect table definition; there can be only one auto column and it must be defined as a key""

I am well aware that any table should contain a primary key and this is my mistake , but can anyone offer some help please ? 
",2
7594865,09/29/2011 09:00:11,779158,06/01/2011 10:06:14,425,40,MYSQL extends in such a manner that rules are not followed by SQL standards,"i am very much found of ***`microsoft technologies`*** and today i see a post 

which
 

[mysql-group-wise-maximum-of-a-certain-column][1]




and in answer somebody writes that answer 


    **Standard SQL** would reject your query because you can not SELECT non-aggregate fields that are not part of the GROUP BY clause in an aggregate query. 

    MySQL extends the use of GROUP BY so that the select list can refer to nonaggregated 
    columns not named in the GROUP BY clause. This means that the preceding query is legal in 
    MySQL. You can use this feature to get better performance by avoiding unnecessary column 
    sorting and grouping. However, this is useful primarily when all values in each 
    nonaggregated column not named in the GROUP BY are the same for each group. The server is 
    free to choose any value from each group, so unless they are the same, the values chosen are **indeterminate**.



which is absolutely right 


***now my question is why*** 


MYSQL extends in such a manner that rules are not followed by ***SQL standards*** 
and second thing why this feature which is ***inderterminate*** by user the result 


  [1]: http://stackoverflow.com/questions/7594465/mysql-group-wise-maximum-of-a-certain-column
",mysql,sql-server-2005,,,,09/30/2011 07:13:52,not constructive,1,211,14,"MYSQL extends in such a manner that rules are not followed by SQL standards i am very much found of ***`microsoft technologies`*** and today i see a post 

which
 

[mysql-group-wise-maximum-of-a-certain-column][1]




and in answer somebody writes that answer 


    **Standard SQL** would reject your query because you can not SELECT non-aggregate fields that are not part of the GROUP BY clause in an aggregate query. 

    MySQL extends the use of GROUP BY so that the select list can refer to nonaggregated 
    columns not named in the GROUP BY clause. This means that the preceding query is legal in 
    MySQL. You can use this feature to get better performance by avoiding unnecessary column 
    sorting and grouping. However, this is useful primarily when all values in each 
    nonaggregated column not named in the GROUP BY are the same for each group. The server is 
    free to choose any value from each group, so unless they are the same, the values chosen are **indeterminate**.



which is absolutely right 


***now my question is why*** 


MYSQL extends in such a manner that rules are not followed by ***SQL standards*** 
and second thing why this feature which is ***inderterminate*** by user the result 


  [1]: http://stackoverflow.com/questions/7594465/mysql-group-wise-maximum-of-a-certain-column
",2
5854036,05/02/2011 06:21:13,681703,03/29/2011 08:53:10,4,0,How to configure mysql with gearman?,"I have installed gearman in my PC.Also its working fine.But as of now its was non persistence storage, but i need to make as a persistence storage.Then i have plan to configure mysql into gearman,but i did't able to do.I don't know how to configure.
If any one know kindly response with your link.If any example program it could be much better.

Thanks",mysql,configure,gearman,,,,open,0,61,6,"How to configure mysql with gearman? I have installed gearman in my PC.Also its working fine.But as of now its was non persistence storage, but i need to make as a persistence storage.Then i have plan to configure mysql into gearman,but i did't able to do.I don't know how to configure.
If any one know kindly response with your link.If any example program it could be much better.

Thanks",3
8179309,11/18/2011 07:52:25,771168,05/26/2011 11:00:22,430,12,Rails / Active Record has_many through association - fetching a record,"I have a has_many relationship of models Role and Access through model Permission.
 
I have a situation that no two roles should have identical accesses. So, I created a custom validation which basically results in an error message when current role(being created) is assigned the same accesses as previously existing roles using,

    errors.add(:Role, ""already exists with selected permissions"") if Role.all.map(&:access_ids).include?(self.access_ids)

This all works fine. Now I need to fetch the role which has identical accesses as current role. So, how do I do that ?  I tried with 

    Role.includes(:accesses).where(:accesses => {:id => [1,2]}).count

but this returns all roles whose access ids have either 1 or 2 (say [1, 2, 3, 4], [1], [2]) . What I need is to get the role whose access ids are exactly 1 and 2.

It would be nice if i could replace '=>' with '==' in above query :) But that obviously does not work.",mysql,ruby-on-rails,activerecord,ruby-on-rails-3.1,has-many-through,,open,0,156,11,"Rails / Active Record has_many through association - fetching a record I have a has_many relationship of models Role and Access through model Permission.
 
I have a situation that no two roles should have identical accesses. So, I created a custom validation which basically results in an error message when current role(being created) is assigned the same accesses as previously existing roles using,

    errors.add(:Role, ""already exists with selected permissions"") if Role.all.map(&:access_ids).include?(self.access_ids)

This all works fine. Now I need to fetch the role which has identical accesses as current role. So, how do I do that ?  I tried with 

    Role.includes(:accesses).where(:accesses => {:id => [1,2]}).count

but this returns all roles whose access ids have either 1 or 2 (say [1, 2, 3, 4], [1], [2]) . What I need is to get the role whose access ids are exactly 1 and 2.

It would be nice if i could replace '=>' with '==' in above query :) But that obviously does not work.",5
7062220,08/15/2011 06:28:31,888139,08/10/2011 14:45:15,57,0,"artwork db model , suggestions and feedback","How would you approach the following issue:

I'm building a web page about an artist and im creating a database that compiles the entire discography over a period of 50 years in showbusiness. The database contains all the info about albums (by albums, i mean CD, CD/DVD, cassette, 8-track, vinyl, mini-disc, etc...) If i include all the albums editions and the albums singles, there is around 750 albums in total... +/- 10....

That beeing said, I'm building the **artwork model** and i need suggestions.

I've came up with a model and i'm not sure if there are mistakes or if it could be improve. Please feel free to say anything.

In summary, my album artwork model is as following:

1 album contains one front cover, and contains multiple artwork (inlay cover, disc cover, booklet images, back cover, etc...)  

1 front cover only relates to 1 album. One artwork could relate to other albums

    album: album_id, title, description, cover_id, ...  

    artworktype: type_id, type

    artwork: artwork_id, name, description, type_id, filename

    album_artwork: album_id, artwork_id, display_order

 - The album front cover is represented by the foreing key **cover_id**
   that relates to **artwork_id** in the table artwork

 - The rest of the artwork for the album are found in the table **album_artwork**. The **display_order** exist simply to show the rest of the artwork in a particular order in the web page.

Can this model be improve and/or is sufficient for what i'm trying to do ?


Thanks in advance
",mysql,,,,,,open,0,254,7,"artwork db model , suggestions and feedback How would you approach the following issue:

I'm building a web page about an artist and im creating a database that compiles the entire discography over a period of 50 years in showbusiness. The database contains all the info about albums (by albums, i mean CD, CD/DVD, cassette, 8-track, vinyl, mini-disc, etc...) If i include all the albums editions and the albums singles, there is around 750 albums in total... +/- 10....

That beeing said, I'm building the **artwork model** and i need suggestions.

I've came up with a model and i'm not sure if there are mistakes or if it could be improve. Please feel free to say anything.

In summary, my album artwork model is as following:

1 album contains one front cover, and contains multiple artwork (inlay cover, disc cover, booklet images, back cover, etc...)  

1 front cover only relates to 1 album. One artwork could relate to other albums

    album: album_id, title, description, cover_id, ...  

    artworktype: type_id, type

    artwork: artwork_id, name, description, type_id, filename

    album_artwork: album_id, artwork_id, display_order

 - The album front cover is represented by the foreing key **cover_id**
   that relates to **artwork_id** in the table artwork

 - The rest of the artwork for the album are found in the table **album_artwork**. The **display_order** exist simply to show the rest of the artwork in a particular order in the web page.

Can this model be improve and/or is sufficient for what i'm trying to do ?


Thanks in advance
",1
3486140,08/15/2010 03:58:45,420773,08/15/2010 03:58:45,1,0,"Massive Database w/ Fulltext Search - Sphinx, Lucene, Cassandra, MongoDB, CouchDB....","Our company is working on a project that requires a database with 30-50 million rows of product data. These rows contain text that needs to be searched concurrently thousands of times per second. Moreover, each search needs to take less than one second to execute.

So, all in all, we have a 50M row database that needs to be searched thousands of times per second. I know MySQL or any relational database alone can not handle this type of job. So, we're looking for someone who can design the right setup for us and help us implement, for a price you specify.

First off, we'd like to know what our best options here are. I've personally been researching things such as Sphinx, Lucene, Cassandra, MongoDB, CouchDB, Solr, etc, but really don't know which should be used in conjuction with another to give us the most efficient setup possible.

So, if anyone could just give some advice, or take up our job offer, it would be greatly appreciated.

You can contact me via PM here, and I'll give you my email/IM/phone number to further discuss.

Thanks!",mysql,mongodb,couchdb,cassandra,,08/17/2010 00:43:40,off topic,1,180,11,"Massive Database w/ Fulltext Search - Sphinx, Lucene, Cassandra, MongoDB, CouchDB.... Our company is working on a project that requires a database with 30-50 million rows of product data. These rows contain text that needs to be searched concurrently thousands of times per second. Moreover, each search needs to take less than one second to execute.

So, all in all, we have a 50M row database that needs to be searched thousands of times per second. I know MySQL or any relational database alone can not handle this type of job. So, we're looking for someone who can design the right setup for us and help us implement, for a price you specify.

First off, we'd like to know what our best options here are. I've personally been researching things such as Sphinx, Lucene, Cassandra, MongoDB, CouchDB, Solr, etc, but really don't know which should be used in conjuction with another to give us the most efficient setup possible.

So, if anyone could just give some advice, or take up our job offer, it would be greatly appreciated.

You can contact me via PM here, and I'll give you my email/IM/phone number to further discuss.

Thanks!",4
9502789,02/29/2012 16:22:23,1141555,01/10/2012 18:35:26,21,1,mysql Like issue,"i think i found a bug in opencart so in the featured module there is an autocomplete box which suggests products but it seems to skip a whole bunch. After examining the code it looks like it all boils down to this database query
    

SELECT * FROM calcproduct p LEFT JOIN calcproduct_description pd ON (p.product_id = pd.product_id) WHERE pd.language_id = '1' AND LCASE(pd.name) LIKE 'ti %' GROUP BY p.product_id ORDER BY pd.name ASC LIMIT 0,20

When i run the query manually for example i have two products TI 83 Brand New and TI 83 Like New it only finds one of them and it's doing this for other products as well. Anyone have any clude why , it has to be the like part of the query i took out the group by and order by and even the first where clause. I tried changing the column from utf_8 to latin_1 

Im out of ideas please help
",mysql,,,,,07/26/2012 16:09:06,not a real question,1,159,3,"mysql Like issue i think i found a bug in opencart so in the featured module there is an autocomplete box which suggests products but it seems to skip a whole bunch. After examining the code it looks like it all boils down to this database query
    

SELECT * FROM calcproduct p LEFT JOIN calcproduct_description pd ON (p.product_id = pd.product_id) WHERE pd.language_id = '1' AND LCASE(pd.name) LIKE 'ti %' GROUP BY p.product_id ORDER BY pd.name ASC LIMIT 0,20

When i run the query manually for example i have two products TI 83 Brand New and TI 83 Like New it only finds one of them and it's doing this for other products as well. Anyone have any clude why , it has to be the like part of the query i took out the group by and order by and even the first where clause. I tried changing the column from utf_8 to latin_1 

Im out of ideas please help
",1
2721127,04/27/2010 12:31:02,77174,03/12/2009 11:59:40,340,11,How can I update a field in a MySQL database table by addition in MySQL database in a single query,"I have a table that stores a value that will be added to over time. When I want to add to the value I would like to do so in a single query rather than -

 1. Get oldValue from database
 2. newValue = oldValue + X
 3. update row with newValue

    $query1 = ""SELECT value FROM table WHERE id = thisID"";
    $result1 = mysql_query($query1);
    while($row=mysql_fetch_array($result)) {
      $oldValue = $row['value'];
    }
    $newValue = $oldValue + x
    $query1 = ""UPDATE table SET value = $newValue WHERE id = thisID"";

Can this be done in a single query?



",mysql,query,update,,,,open,0,118,20,"How can I update a field in a MySQL database table by addition in MySQL database in a single query I have a table that stores a value that will be added to over time. When I want to add to the value I would like to do so in a single query rather than -

 1. Get oldValue from database
 2. newValue = oldValue + X
 3. update row with newValue

    $query1 = ""SELECT value FROM table WHERE id = thisID"";
    $result1 = mysql_query($query1);
    while($row=mysql_fetch_array($result)) {
      $oldValue = $row['value'];
    }
    $newValue = $oldValue + x
    $query1 = ""UPDATE table SET value = $newValue WHERE id = thisID"";

Can this be done in a single query?



",3
10074083,04/09/2012 13:40:37,1289409,03/24/2012 01:24:48,71,7,Fill DataSet using mysql stored procedure,"Language: Vb.Net MySql (using stored procedure)

**Vb.Net Code:**

    cmd = New MySqlCommand(""RPTtempreceipts"", Con)
                cmd.Parameters.Add(""vRCPTNO"", MySqlDbType.String).Value = GLB_getRcptNo
    
                adp = New MySqlDataAdapter(cmd)
                adp.Fill(ds)
                Return ds

**mySQL Stored Procedure:**

    DELIMITER $$
    
        CREATE DEFINER=`root`@`localhost` PROCEDURE `RPTtempreceipts`(
        IN vRCPTNO VARCHAR(20))
        
            BEGIN
            DECLARE vBNo VARCHAR(20);
            DECLARE vPtyCde INTEGER DEFAULT 0;
            DECLARE vWMC VARCHAR(20);
            DECLARE vPrdCde VARCHAR(10);
            DECLARE vBcde CHAR(5);
            
            -- Assign Values
            SELECT T.BNo,T.pty_code,T.WMC,T.PrdCde,T.Bcde INTO 
            vBNo,vPtyCde,vWMC,vPrdCde,vBcde FROM 
            tbltransaction T INNER JOIN tbltransreceipts TR
            ON T.BNo=TR.BNo WHERE TR.RcptNO=vRCPTNO;
            
            -- Select Queries are configured as for Typed Dataset under DT's
            SELECT * FROM tbltransaction WHERE BNo=vBNo;
            SELECT * FROM tbltransreceipts WHERE RcptNo=vRCPTNO;
            SELECT pty_code,cst_code,pty_name,pty_add,pty_city,phone,mobile,Bcde,nom_nm,nom_rel,nom_age
            FROM tblcustomer WHERE pty_code=vPtyCde;
            SELECT * FROM tblworker WHERE WMC=vWMC;
            SELECT PrdGrp,PrdCde,PrdNm,Term,LF_appl,comtyp FROM tblproduct WHERE PrdCde=vPrdCde;
            
            END

What's the problem with the above code?
I am getting mysql syntax error in line1

expected result is:
I like to get 5 tables to be filled in dataset
i hope the code is correct for.

Please confirm me and help me where i made the mistake ?

Expecting your valuable reply.


",mysql,stored-procedures,,,,,open,0,500,6,"Fill DataSet using mysql stored procedure Language: Vb.Net MySql (using stored procedure)

**Vb.Net Code:**

    cmd = New MySqlCommand(""RPTtempreceipts"", Con)
                cmd.Parameters.Add(""vRCPTNO"", MySqlDbType.String).Value = GLB_getRcptNo
    
                adp = New MySqlDataAdapter(cmd)
                adp.Fill(ds)
                Return ds

**mySQL Stored Procedure:**

    DELIMITER $$
    
        CREATE DEFINER=`root`@`localhost` PROCEDURE `RPTtempreceipts`(
        IN vRCPTNO VARCHAR(20))
        
            BEGIN
            DECLARE vBNo VARCHAR(20);
            DECLARE vPtyCde INTEGER DEFAULT 0;
            DECLARE vWMC VARCHAR(20);
            DECLARE vPrdCde VARCHAR(10);
            DECLARE vBcde CHAR(5);
            
            -- Assign Values
            SELECT T.BNo,T.pty_code,T.WMC,T.PrdCde,T.Bcde INTO 
            vBNo,vPtyCde,vWMC,vPrdCde,vBcde FROM 
            tbltransaction T INNER JOIN tbltransreceipts TR
            ON T.BNo=TR.BNo WHERE TR.RcptNO=vRCPTNO;
            
            -- Select Queries are configured as for Typed Dataset under DT's
            SELECT * FROM tbltransaction WHERE BNo=vBNo;
            SELECT * FROM tbltransreceipts WHERE RcptNo=vRCPTNO;
            SELECT pty_code,cst_code,pty_name,pty_add,pty_city,phone,mobile,Bcde,nom_nm,nom_rel,nom_age
            FROM tblcustomer WHERE pty_code=vPtyCde;
            SELECT * FROM tblworker WHERE WMC=vWMC;
            SELECT PrdGrp,PrdCde,PrdNm,Term,LF_appl,comtyp FROM tblproduct WHERE PrdCde=vPrdCde;
            
            END

What's the problem with the above code?
I am getting mysql syntax error in line1

expected result is:
I like to get 5 tables to be filled in dataset
i hope the code is correct for.

Please confirm me and help me where i made the mistake ?

Expecting your valuable reply.


",2
4652330,01/10/2011 22:41:09,248292,01/11/2010 18:41:47,38,1,"Cannot execute ""LOAD DATA LOCAL INFILE"" Mysql query in Rails after a connection reconnection","On Rails 2.3.8 (but I think Rails 3 might have this issue as well, not sure):

I get an error when trying to execute a `LOAD DATA LOCAL INFILE` query after reconnecting to a database.  I have a process that parses a file that can potentially take a bit of time.  During the parsing, Mysql closes the connection due to timeout.  This is fine, I do a `ActiveRecord::Base.verify_active_connections!` and I get the connection back (I do this in several places through my app).  However, running a `LOAD DATA LOCAL INFILE` statement, I get this error:

`Mysql::Error: The used command is not allowed with this MySQL version`

It's **not** a permission issue, I know that for sure.  Check out my test in console:

<pre>
> ActiveRecord::Base.connection.execute(""LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users"")
[Sat Jan 08 00:09:29 2011] (9990)   SQL (1.7ms)   LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users
 =&gt; nil

&gt; ActiveRecord::Base.connection.disconnect!
 =&gt; #&lt;Mysql:0x104c6f890&gt;

&gt; ActiveRecord::Base.verify_active_connections!
[Sat Jan 08 00:09:58 2011] (9990)   SQL (0.2ms)   SET SQL_AUTO_IS_NULL=0
 =&gt; {...connection stuff...} 

&gt; ActiveRecord::Base.connection.execute(""LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users"")
[Sat Jan 08 00:10:00 2011] (9990)   SQL (0.0ms)   Mysql::Error: The used command is not allowed with this MySQL version: LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users
ActiveRecord::StatementInvalid: Mysql::Error: The used command is not allowed with this MySQL version: LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users
    from ~/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract_adapter.rb:221:in `log'
    from ~/gems/activerecord-2.3.8/lib/active_record/connection_adapters/mysql_adapter.rb:323:in `execute'
    from (irb):6
</pre>

I am able to do other queries like `SELECT` and whatnot, and I will get the correct result.  It's just this one that giving me the error.  I even tested this with a fresh rails app.  You'll notice that I am able to do the exact same query _before_ the disconnect.

Thanks for the help!",mysql,ruby-on-rails,activerecord,,,05/24/2012 17:28:06,too localized,1,304,14,"Cannot execute ""LOAD DATA LOCAL INFILE"" Mysql query in Rails after a connection reconnection On Rails 2.3.8 (but I think Rails 3 might have this issue as well, not sure):

I get an error when trying to execute a `LOAD DATA LOCAL INFILE` query after reconnecting to a database.  I have a process that parses a file that can potentially take a bit of time.  During the parsing, Mysql closes the connection due to timeout.  This is fine, I do a `ActiveRecord::Base.verify_active_connections!` and I get the connection back (I do this in several places through my app).  However, running a `LOAD DATA LOCAL INFILE` statement, I get this error:

`Mysql::Error: The used command is not allowed with this MySQL version`

It's **not** a permission issue, I know that for sure.  Check out my test in console:

<pre>
> ActiveRecord::Base.connection.execute(""LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users"")
[Sat Jan 08 00:09:29 2011] (9990)   SQL (1.7ms)   LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users
 =&gt; nil

&gt; ActiveRecord::Base.connection.disconnect!
 =&gt; #&lt;Mysql:0x104c6f890&gt;

&gt; ActiveRecord::Base.verify_active_connections!
[Sat Jan 08 00:09:58 2011] (9990)   SQL (0.2ms)   SET SQL_AUTO_IS_NULL=0
 =&gt; {...connection stuff...} 

&gt; ActiveRecord::Base.connection.execute(""LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users"")
[Sat Jan 08 00:10:00 2011] (9990)   SQL (0.0ms)   Mysql::Error: The used command is not allowed with this MySQL version: LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users
ActiveRecord::StatementInvalid: Mysql::Error: The used command is not allowed with this MySQL version: LOAD DATA LOCAL INFILE '/tmp/test.infile' INTO TABLE users
    from ~/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract_adapter.rb:221:in `log'
    from ~/gems/activerecord-2.3.8/lib/active_record/connection_adapters/mysql_adapter.rb:323:in `execute'
    from (irb):6
</pre>

I am able to do other queries like `SELECT` and whatnot, and I will get the correct result.  It's just this one that giving me the error.  I even tested this with a fresh rails app.  You'll notice that I am able to do the exact same query _before_ the disconnect.

Thanks for the help!",3
7625603,10/02/2011 09:35:00,509560,11/16/2010 13:25:04,192,8,"Building a 1,000M row MySQL table","<h3>Questions</h3>
Question 1: as the size of the database table gets larger how can I tune MySQL to increase the speed of the LOAD DATA INFILE call?

Question 2: would using a cluster of computers to load different csv files, improve the performance or kill it? (this is my bench-marking task for tomorrow using the load data and bulk inserts)

<h3>Table Schema</h3>
the table schema looks like 

<pre><code>+---------------+------------------+------+-----+---------+----------------+
| Field         | Type             | Null | Key | Default | Extra          |
+---------------+------------------+------+-----+---------+----------------+
| match_index   | int(10) unsigned | NO   | PRI | NULL    |                |
| cluster_index | int(10) unsigned | NO   | PRI | NULL    |                |
| id            | int(11)          | NO   | PRI | NULL    | auto_increment |
| tfidf         | float            | NO   |     | 0       |                |
+---------------+------------------+------+-----+---------+----------------+</pre></code>

<h3>Benchmarking so far</h3>
First step was to compare bulk inserts vs loading from a binary file into an empty table.
<pre><code>It took:  0:09:12.394571  to do  4,000  inserts with 5,000 rows per insert<br>
It took:  0:03:11.368320  seconds to load 20,000,000 rows from a csv file</code></pre>


Given the difference in performance I have gone with loading the data from a binary csv file, first I loaded binary files containing 100K, 1M, 20M, 200M rows using the call below.

<pre><code>LOAD DATA INFILE '/mnt/tests/data.csv' INTO TABLE test;</pre></code>

I killed the 200M row binary file (~3GB csv file) load after 2 hours.

So I ran a script to create the table, and insert different numbers of rows from a binary file then drop the table, see the graph below.

![enter image description here][1]

It took about 7 seconds to insert 1M rows from the binary file. Next I decided to benchmark inserting 1M rows at a time to see if there was going to be a bottleneck at a particular database size. Once the Database hit approximately 59M rows the average insert time dropped to approximately 5,000/second 

 ![enter image description here][2]

Setting the global key_buffer_size = 4294967296 improved the speeds slightly for inserting smaller binary files. The graph below shows the speeds for different numbers of rows

![enter image description here][3]

However for inserting 1M rows it didn't improve the performance.

rows:  1,000,000  time:  0:04:13.761428  inserts/sec:  3,940

vs for an empty database

rows:  1,000,000  time:  0:00:6.339295  inserts/sec:  315,492


  [1]: http://i.stack.imgur.com/AnS5l.jpg
  [2]: http://i.stack.imgur.com/rafDv.png
  [3]: http://i.stack.imgur.com/gCuyv.png",mysql,optimization,query-optimization,binaryfiles,large-data,10/02/2011 10:01:41,off topic,1,517,6,"Building a 1,000M row MySQL table <h3>Questions</h3>
Question 1: as the size of the database table gets larger how can I tune MySQL to increase the speed of the LOAD DATA INFILE call?

Question 2: would using a cluster of computers to load different csv files, improve the performance or kill it? (this is my bench-marking task for tomorrow using the load data and bulk inserts)

<h3>Table Schema</h3>
the table schema looks like 

<pre><code>+---------------+------------------+------+-----+---------+----------------+
| Field         | Type             | Null | Key | Default | Extra          |
+---------------+------------------+------+-----+---------+----------------+
| match_index   | int(10) unsigned | NO   | PRI | NULL    |                |
| cluster_index | int(10) unsigned | NO   | PRI | NULL    |                |
| id            | int(11)          | NO   | PRI | NULL    | auto_increment |
| tfidf         | float            | NO   |     | 0       |                |
+---------------+------------------+------+-----+---------+----------------+</pre></code>

<h3>Benchmarking so far</h3>
First step was to compare bulk inserts vs loading from a binary file into an empty table.
<pre><code>It took:  0:09:12.394571  to do  4,000  inserts with 5,000 rows per insert<br>
It took:  0:03:11.368320  seconds to load 20,000,000 rows from a csv file</code></pre>


Given the difference in performance I have gone with loading the data from a binary csv file, first I loaded binary files containing 100K, 1M, 20M, 200M rows using the call below.

<pre><code>LOAD DATA INFILE '/mnt/tests/data.csv' INTO TABLE test;</pre></code>

I killed the 200M row binary file (~3GB csv file) load after 2 hours.

So I ran a script to create the table, and insert different numbers of rows from a binary file then drop the table, see the graph below.

![enter image description here][1]

It took about 7 seconds to insert 1M rows from the binary file. Next I decided to benchmark inserting 1M rows at a time to see if there was going to be a bottleneck at a particular database size. Once the Database hit approximately 59M rows the average insert time dropped to approximately 5,000/second 

 ![enter image description here][2]

Setting the global key_buffer_size = 4294967296 improved the speeds slightly for inserting smaller binary files. The graph below shows the speeds for different numbers of rows

![enter image description here][3]

However for inserting 1M rows it didn't improve the performance.

rows:  1,000,000  time:  0:04:13.761428  inserts/sec:  3,940

vs for an empty database

rows:  1,000,000  time:  0:00:6.339295  inserts/sec:  315,492


  [1]: http://i.stack.imgur.com/AnS5l.jpg
  [2]: http://i.stack.imgur.com/rafDv.png
  [3]: http://i.stack.imgur.com/gCuyv.png",5
10373453,04/29/2012 15:41:19,536768,12/09/2010 17:06:03,1582,88,how to reference database variables inside a Coldfusion8 cffunction tag?,"I'm doing my first steps in Coldfusion8. I managed to setup a component/service with a cffunction I'm calling. 

Inside the function I need to contruct a 2x2 table with errors and corresponding error messages. Error messages are multi-language and stored in a MySQL table. 

**Problem:**

I can't find a way to reference my variables from inside a *CFFunction* tag. This does not work:
    
    // select from database
    <cfparam name=""Session.Sprache"" default=""DE"">
        <cfquery datasource=""iln"" name=""texte"">
            SELECT *
            FROM languages
            WHERE sprache = ""#Session.lang#""
        </cfquery>

    <cffunction name=""createErrMsgsLog"" returntype=""object"">
        // create and populate 
        <cfset allErrMsgs=ArrayNew(2)>
        <cfset allErrMsgs[1][1]=""firma"">
        // not defined
        <cfset allErrMsgs[1][2]=""#tx_validate_firma#"">
        ....
     </cffunction>

**Question:**  
How can I reference my variables aka #tx_validate_firma# correctly inside *CFfunction*. They are always undefined.
	",mysql,variables,coldfusion,cffunction,,,open,0,222,10,"how to reference database variables inside a Coldfusion8 cffunction tag? I'm doing my first steps in Coldfusion8. I managed to setup a component/service with a cffunction I'm calling. 

Inside the function I need to contruct a 2x2 table with errors and corresponding error messages. Error messages are multi-language and stored in a MySQL table. 

**Problem:**

I can't find a way to reference my variables from inside a *CFFunction* tag. This does not work:
    
    // select from database
    <cfparam name=""Session.Sprache"" default=""DE"">
        <cfquery datasource=""iln"" name=""texte"">
            SELECT *
            FROM languages
            WHERE sprache = ""#Session.lang#""
        </cfquery>

    <cffunction name=""createErrMsgsLog"" returntype=""object"">
        // create and populate 
        <cfset allErrMsgs=ArrayNew(2)>
        <cfset allErrMsgs[1][1]=""firma"">
        // not defined
        <cfset allErrMsgs[1][2]=""#tx_validate_firma#"">
        ....
     </cffunction>

**Question:**  
How can I reference my variables aka #tx_validate_firma# correctly inside *CFfunction*. They are always undefined.
	",4
6716986,07/16/2011 11:18:54,771541,05/26/2011 14:59:47,69,6,mySQL Creating a leaderboard from individual kill records,"I've got a table(`kills`) that contains every individual kill made on my game server (`killer, killed_by, timeOfKill` etc..)

I want to create a leaderboard from this information, I've had a look through some leaderboard threads/questions and they all seem to be created from already summed values (eg. Each user would already have their kills totaled) and that's fine but my dataset won't be that big for a while so I'm happy to calculate it on the fly.

Also there are records in the kills table that need to be excluded such as kills by environment and such but I believe that can be easily handled with a:

`WHERE killed='player' AND killed_by NOT IN (<list of environment IDs>)`

So basically I need to sum each separate user ID (which I'm not sure how to do) then order,limit and display them (which I'm fine with).",mysql,select,sum,multiple-select,,,open,0,139,8,"mySQL Creating a leaderboard from individual kill records I've got a table(`kills`) that contains every individual kill made on my game server (`killer, killed_by, timeOfKill` etc..)

I want to create a leaderboard from this information, I've had a look through some leaderboard threads/questions and they all seem to be created from already summed values (eg. Each user would already have their kills totaled) and that's fine but my dataset won't be that big for a while so I'm happy to calculate it on the fly.

Also there are records in the kills table that need to be excluded such as kills by environment and such but I believe that can be easily handled with a:

`WHERE killed='player' AND killed_by NOT IN (<list of environment IDs>)`

So basically I need to sum each separate user ID (which I'm not sure how to do) then order,limit and display them (which I'm fine with).",4
9258757,02/13/2012 10:16:41,339081,05/12/2010 08:08:21,89,6,Ms sql server or mysql,"I am making a website in asp.net. 
So my question is, which database is the best for my site.  
ms sql server or mysql. 
please explain why i should choose one for another.",mysql,sql-server,database,,,02/13/2012 11:08:48,not constructive,1,34,5,"Ms sql server or mysql I am making a website in asp.net. 
So my question is, which database is the best for my site.  
ms sql server or mysql. 
please explain why i should choose one for another.",3
9464652,02/27/2012 11:58:19,1169485,01/25/2012 15:16:03,1,0,Huge scale MySQL database for stats storage - what do you recommend?,"A project I am busy on now requires many different kinds of stats, most notably number of visits/views to a product detail page for a specific period of time. This would of course require storing each visit in a table, e.g.

id | visit_date (which will be a UNIX_TIMESTAMP()) | product_id | ip_address (for country-related stats)

This way stats can be generated per product and for a selected time-frame and (using a DB like MaxMind GeoIP) per city/country as well.

Only problem is this table will fill with millions and millions of records very quickly. Any recommendations on how I should approach this the most efficient way?",mysql,database,performance,optimization,scale,02/28/2012 14:10:19,not constructive,1,104,12,"Huge scale MySQL database for stats storage - what do you recommend? A project I am busy on now requires many different kinds of stats, most notably number of visits/views to a product detail page for a specific period of time. This would of course require storing each visit in a table, e.g.

id | visit_date (which will be a UNIX_TIMESTAMP()) | product_id | ip_address (for country-related stats)

This way stats can be generated per product and for a selected time-frame and (using a DB like MaxMind GeoIP) per city/country as well.

Only problem is this table will fill with millions and millions of records very quickly. Any recommendations on how I should approach this the most efficient way?",5
8891276,01/17/2012 07:53:46,861602,07/25/2011 12:49:48,1184,54,SQL LIMIT to get latest records,"I am writing a script which will list 25 items of all 12 categories. Database structure is like:

    tbl_items
    ---------------------------------------------
    item_id | item_name | item_value | timestamp 
    ---------------------------------------------
    
    tbl_categories
    -----------------------------
    cat_id | item_id | timestamp
    -----------------------------

There are around 600000 rows in the table tbl_items. I am using sql query :

    $sql = ""SELECT e.item_id, e.item_value FROM tbl_items AS e JOIN tbl_categories AS cat WHERE e.item_id=cat.item_id AND cat.cat_id=6001 LIMIT 25"";

Using same query in a loop for cat_id from 6000 to 6012. But i want latest records of every category. If i use something like 

    $sql = ""SELECT e.item_id, e.item_value FROM tbl_items AS e JOIN tbl_categories AS cat WHERE e.item_id=cat.item_id AND cat.cat_id=6001 ORDER BY e.timestamp LIMIT 25"";

query goes not computing for approx 10 minutes which is not acceptable. 

can i use a limit more nicely to give latest 25 records for each category?


Please can any one guide me how can i achieve this thing without ORDER BY clause. 
Any ideas or help will be highly appreciated.",mysql,sql,limit,latest,,,open,0,200,6,"SQL LIMIT to get latest records I am writing a script which will list 25 items of all 12 categories. Database structure is like:

    tbl_items
    ---------------------------------------------
    item_id | item_name | item_value | timestamp 
    ---------------------------------------------
    
    tbl_categories
    -----------------------------
    cat_id | item_id | timestamp
    -----------------------------

There are around 600000 rows in the table tbl_items. I am using sql query :

    $sql = ""SELECT e.item_id, e.item_value FROM tbl_items AS e JOIN tbl_categories AS cat WHERE e.item_id=cat.item_id AND cat.cat_id=6001 LIMIT 25"";

Using same query in a loop for cat_id from 6000 to 6012. But i want latest records of every category. If i use something like 

    $sql = ""SELECT e.item_id, e.item_value FROM tbl_items AS e JOIN tbl_categories AS cat WHERE e.item_id=cat.item_id AND cat.cat_id=6001 ORDER BY e.timestamp LIMIT 25"";

query goes not computing for approx 10 minutes which is not acceptable. 

can i use a limit more nicely to give latest 25 records for each category?


Please can any one guide me how can i achieve this thing without ORDER BY clause. 
Any ideas or help will be highly appreciated.",4
10003976,04/04/2012 01:50:18,1135677,01/07/2012 07:06:50,22,0,How to create a Master decryption key in MySQL?,I am trying to understand whether or not it is possible in a mysql database to create a master key that can decry-pt all the tables of the database.,mysql,,,,,04/04/2012 20:21:58,not a real question,1,29,9,How to create a Master decryption key in MySQL? I am trying to understand whether or not it is possible in a mysql database to create a master key that can decry-pt all the tables of the database.,1
7897231,10/25/2011 23:54:32,295189,03/16/2010 21:44:33,1307,12,is this a right query to get the info I need,"    SELECT
    
    table1.id
    
    From 
    table1
    Join 
    table2
    ON 
    table1.id = table2.id 
    
    WHERE 
    table1.`date` BETWEEN CURDATE() - INTERVAL 1 MONTH AND CURDATE();


join table record set is 

    id	customer	date
    1	john		2011-01-01
    2	john1		2011-02-02
    3	john2		2011-03-03
    4	john3		2011-04-04
    5	john4		2011-05-05
    6	john5		2011-06-06
    7	john6		2011-07-07
    8	john7		2011-08-08
    9	john8		2011-09-09
    10	john9		2011-10-10
    11	john10		2011-10-11

I was wondering if this is the right where clause to find if the customer that has a date over 30 days due.
",mysql,sql,,,,,open,0,143,11,"is this a right query to get the info I need     SELECT
    
    table1.id
    
    From 
    table1
    Join 
    table2
    ON 
    table1.id = table2.id 
    
    WHERE 
    table1.`date` BETWEEN CURDATE() - INTERVAL 1 MONTH AND CURDATE();


join table record set is 

    id	customer	date
    1	john		2011-01-01
    2	john1		2011-02-02
    3	john2		2011-03-03
    4	john3		2011-04-04
    5	john4		2011-05-05
    6	john5		2011-06-06
    7	john6		2011-07-07
    8	john7		2011-08-08
    9	john8		2011-09-09
    10	john9		2011-10-10
    11	john10		2011-10-11

I was wondering if this is the right where clause to find if the customer that has a date over 30 days due.
",2
9616140,03/08/2012 10:28:10,640164,03/01/2011 21:30:39,30,6,(MySQL) Primary key w/ 2 same foreign keys,"I have 3 tables:

    Users: _id_, username
    Movies: _id_, title
    Friends: _#id1, #id2_, accepted

I'm with InnoDB, everything is working like that. But, even if friends' primary-key is (users.id, users.id), 2 rows like that are accepted by MySQL:

    1) (1, 2)
    2) (2, 1)

Is there a way to consider these 2 rows as a duplicate key for MySQL ?<br />
Thanks for your help.",mysql,primary-key,composite-primary-key,,,,open,0,77,8,"(MySQL) Primary key w/ 2 same foreign keys I have 3 tables:

    Users: _id_, username
    Movies: _id_, title
    Friends: _#id1, #id2_, accepted

I'm with InnoDB, everything is working like that. But, even if friends' primary-key is (users.id, users.id), 2 rows like that are accepted by MySQL:

    1) (1, 2)
    2) (2, 1)

Is there a way to consider these 2 rows as a duplicate key for MySQL ?<br />
Thanks for your help.",3
5249328,03/09/2011 17:00:07,431918,08/26/2010 13:55:32,380,8,"How common do mysql user/administrators work with stored procedures, functions , packages, cursors, triggers etc","I have been using MySQL for a while, and now am using Oracle 11g. I tried to used stored procedures on MySQL, and always found it hard to compile them in both command line tool and phpmyadmin, so I only used sql queries to work around. Now I am working with Oracle, and procedures, functions, cursors, packages etc seem pretty easy.

I just wanted to know if procedural language coding is tough and hard to work around in MySQL, when compared to Oracle?

I know this question is subjective, but if I can get an from a sample, then it would be easy for me.",mysql,oracle,stored-procedures,packages,oracle11g,03/09/2011 17:54:48,not constructive,1,103,15,"How common do mysql user/administrators work with stored procedures, functions , packages, cursors, triggers etc I have been using MySQL for a while, and now am using Oracle 11g. I tried to used stored procedures on MySQL, and always found it hard to compile them in both command line tool and phpmyadmin, so I only used sql queries to work around. Now I am working with Oracle, and procedures, functions, cursors, packages etc seem pretty easy.

I just wanted to know if procedural language coding is tough and hard to work around in MySQL, when compared to Oracle?

I know this question is subjective, but if I can get an from a sample, then it would be easy for me.",5
3051807,06/16/2010 08:46:39,356379,06/02/2010 11:37:24,17,0,How can I convert German characters during XML read and PHP write into mysql?,"Morning,

I am inputting data from an XML file into my database, but have any isse with German words (that are in the XML by mistake)

For example the word für appears in my XML as fÃ¼r and thus appears the same in my database.

I know I could do a simple search/replace for that exact phrase, but I was wondering if there was a smarter way to do it as I can't predict if any other German words may one day appear in the XML?

Thanks.


Greg",mysql,php5,language,,,,open,0,83,14,"How can I convert German characters during XML read and PHP write into mysql? Morning,

I am inputting data from an XML file into my database, but have any isse with German words (that are in the XML by mistake)

For example the word für appears in my XML as fÃ¼r and thus appears the same in my database.

I know I could do a simple search/replace for that exact phrase, but I was wondering if there was a smarter way to do it as I can't predict if any other German words may one day appear in the XML?

Thanks.


Greg",3
9450555,02/26/2012 04:30:41,1233378,02/26/2012 04:25:19,1,0,I need to show all items except todays,"SHow me where and what to add code for below query


	$randitems = $DB->getAll(""SELECT * FROM `"" . DB_PREFIX . ""items` a WHERE `enabled`=1 AND `visible`=1 $filter order by RAND() limit 7"");
	$smarty->assign(""randitems"", $randitems);",mysql,,,,,02/26/2012 21:26:44,too localized,1,32,8,"I need to show all items except todays SHow me where and what to add code for below query


	$randitems = $DB->getAll(""SELECT * FROM `"" . DB_PREFIX . ""items` a WHERE `enabled`=1 AND `visible`=1 $filter order by RAND() limit 7"");
	$smarty->assign(""randitems"", $randitems);",1
7859207,10/22/2011 11:34:09,966588,09/27/2011 08:27:15,3,0,divide array contents on newline in perl,"I want to use contents stored in array line by line.

But I am unable to split it on '\n'.

can you guide me on this.

Note that the array contents is coming from select query on ""Text"" column of SQL table.


@somearray=""SELECT column from table where condition=something"" (column type is ""Text"")

foreach $line(@somearray)

{

if($line=~/match-anything-here/) 
     
       {

       //The match is done on whole array contents and not line by line  
        print $line;
       }

}

",mysql,sql,perl,,,,open,0,99,7,"divide array contents on newline in perl I want to use contents stored in array line by line.

But I am unable to split it on '\n'.

can you guide me on this.

Note that the array contents is coming from select query on ""Text"" column of SQL table.


@somearray=""SELECT column from table where condition=something"" (column type is ""Text"")

foreach $line(@somearray)

{

if($line=~/match-anything-here/) 
     
       {

       //The match is done on whole array contents and not line by line  
        print $line;
       }

}

",3
3559546,08/24/2010 18:05:04,168202,09/03/2009 22:53:01,155,4,Table Manipulation Tracking,"I have a database that has multiple scripts/sites interacting with it in terms of updating/inserting new data. 

Since there is not one interface for doing this, I would like to some how track what is happening on a daily basis in MySQL. 

What kinds of built in features does MySQL have for tracking changes?

For example:

An update command is performed on a column named 'num_images'. 

I would like to track this change in another table that would state what column was changed and what it was changed to.

What is the most efficient way to track a table? What should I be reading up on to put a type of tracker on a table to look for these changes?",mysql,,,,,,open,0,117,3,"Table Manipulation Tracking I have a database that has multiple scripts/sites interacting with it in terms of updating/inserting new data. 

Since there is not one interface for doing this, I would like to some how track what is happening on a daily basis in MySQL. 

What kinds of built in features does MySQL have for tracking changes?

For example:

An update command is performed on a column named 'num_images'. 

I would like to track this change in another table that would state what column was changed and what it was changed to.

What is the most efficient way to track a table? What should I be reading up on to put a type of tracker on a table to look for these changes?",1
11606434,07/23/2012 04:17:07,1500774,07/04/2012 07:05:15,1,0,how to fetch data stored as a complex array form in a single cell in mysql?,"i have a table in a mysql database and in that table in a particular column i have data stored in this way in a single cell.

{""billing"":{""name"":""pratik"",""address1"":""jjjhhhhhhhhhhhhhhhh"",""address2"":""jjjj"",""**city**"":""**j**"",""postal_code"":""7777"",""state"":""Newyork"",""country"":""United State""},""contact"":{""title"":""7"",""fname"":""77"",""lname"":""77"",""email_id"":""77@gm.co"",""mobile_1"":""777777777777"",""mobile_2"":""77777777""},""email_2"":""77@gm.co"",""datetime"":{""start_date"":""2012-05-21"",""end_date"":""2012-05-21"",""start_time"":""4"",""end_time"":""5"",""purpose"":""Select""},""booking_for"":{""venue_type"":""venue_with_food"",""venue"":{""food_type"":""Select"",""food_plan"":""Select"",""maximun_participant"":"""",""food_amount"":""10"",""maximum_expected"":"""",""total_amount"":""0""},""only_venue"":{""hall_value"":""0"",""space_val"":""0"",""total_amount"":""0""}},""food_time"":{""breakfast"":{""start_time"":"""",""end_time"":""""},""tea"":{""start_time"":"""",""end_time"":""""},""lunch"":{""start_time"":"""",""end_time"":""""},""hi_tea"":{""start_time"":"""",""end_time"":""""},""cocktail"":{""start_time"":"""",""end_time"":""""},""dinner"":{""start_time"":""initial"",""end_time"":""initial""},""bite"":{""start_time"":""initial"",""end_time"":""initial""}},""sitting"":{""type"":""classroom"",""other_facility"":""0"",""total_amount"":""0"",""food_charge_with_tax"":""""},""bill_summary"":{""food_charges_bill"":""0"",""venue_with_tax"":"""",""facility_charges_bill"":""0"",""facility_charges_with_tax"":"""",""elctricity_bill"":""0"",""elctricity_bill_with_tax"":"""",""other_charges_bill"":""0"",""other_charges_with_tax"":"""",""grand_total"":""""},""venue_bill"":""0"",""subvenue_id"":""1""}

now i want to fetch only single city field from this column cell.than what should i do.can any one please reply..",mysql,,,,,07/23/2012 15:26:53,too localized,1,48,16,"how to fetch data stored as a complex array form in a single cell in mysql? i have a table in a mysql database and in that table in a particular column i have data stored in this way in a single cell.

{""billing"":{""name"":""pratik"",""address1"":""jjjhhhhhhhhhhhhhhhh"",""address2"":""jjjj"",""**city**"":""**j**"",""postal_code"":""7777"",""state"":""Newyork"",""country"":""United State""},""contact"":{""title"":""7"",""fname"":""77"",""lname"":""77"",""email_id"":""77@gm.co"",""mobile_1"":""777777777777"",""mobile_2"":""77777777""},""email_2"":""77@gm.co"",""datetime"":{""start_date"":""2012-05-21"",""end_date"":""2012-05-21"",""start_time"":""4"",""end_time"":""5"",""purpose"":""Select""},""booking_for"":{""venue_type"":""venue_with_food"",""venue"":{""food_type"":""Select"",""food_plan"":""Select"",""maximun_participant"":"""",""food_amount"":""10"",""maximum_expected"":"""",""total_amount"":""0""},""only_venue"":{""hall_value"":""0"",""space_val"":""0"",""total_amount"":""0""}},""food_time"":{""breakfast"":{""start_time"":"""",""end_time"":""""},""tea"":{""start_time"":"""",""end_time"":""""},""lunch"":{""start_time"":"""",""end_time"":""""},""hi_tea"":{""start_time"":"""",""end_time"":""""},""cocktail"":{""start_time"":"""",""end_time"":""""},""dinner"":{""start_time"":""initial"",""end_time"":""initial""},""bite"":{""start_time"":""initial"",""end_time"":""initial""}},""sitting"":{""type"":""classroom"",""other_facility"":""0"",""total_amount"":""0"",""food_charge_with_tax"":""""},""bill_summary"":{""food_charges_bill"":""0"",""venue_with_tax"":"""",""facility_charges_bill"":""0"",""facility_charges_with_tax"":"""",""elctricity_bill"":""0"",""elctricity_bill_with_tax"":"""",""other_charges_bill"":""0"",""other_charges_with_tax"":"""",""grand_total"":""""},""venue_bill"":""0"",""subvenue_id"":""1""}

now i want to fetch only single city field from this column cell.than what should i do.can any one please reply..",1
7686533,10/07/2011 11:20:20,596952,10/06/2010 08:55:41,89,8,Which MySQL Query is more secure? Part 2,"Which query is more EXTRA secure?

I have even heard *salt(); and md5();* in php5 would been extra secure for mySQL insertion.

    $customers_email = mysql_real_escape_string(trim(strtolower($_REQUEST['customers_email'])));    
    $customers_email = mysql_real_escape_string(($_REQUEST['customers_email']));

Or even this, I thought of:

    $1=$_REQUEST['customers_email'];
    $2=$1;
    $3=$2;
    $4=$3;
    $5=$4;
    $a=$5;
    
    $xx = mysql_real_escape_string(($a));

My original thread: http://stackoverflow.com/questions/7633993/php-mysql-select-how-to-make-it-secure
",mysql,sql-injection,,,,10/08/2011 08:30:29,not a real question,1,79,8,"Which MySQL Query is more secure? Part 2 Which query is more EXTRA secure?

I have even heard *salt(); and md5();* in php5 would been extra secure for mySQL insertion.

    $customers_email = mysql_real_escape_string(trim(strtolower($_REQUEST['customers_email'])));    
    $customers_email = mysql_real_escape_string(($_REQUEST['customers_email']));

Or even this, I thought of:

    $1=$_REQUEST['customers_email'];
    $2=$1;
    $3=$2;
    $4=$3;
    $5=$4;
    $a=$5;
    
    $xx = mysql_real_escape_string(($a));

My original thread: http://stackoverflow.com/questions/7633993/php-mysql-select-how-to-make-it-secure
",2
8627482,12/24/2011 23:38:53,1103302,12/17/2011 09:43:49,25,0,Cannot add Foriegn Key in InnoDB,"in php my admin when i try to add foriegn key some error occurs and does not tells what is wrong.Just says FK fails

can any one tell what is the problem

    Error
    
    SQL query:
    
    ALTER TABLE `hotel` ADD FOREIGN KEY ( `type_id` ) REFERENCES `hotel`.`hotel_type` (
    `id`
    ) ON DELETE CASCADE ON UPDATE CASCADE ;
    
    MySQL said: Documentation
    #1452 - Cannot add or update a child row: a foreign key constraint fails (`hotel`.`#sql-cfc_e`, CONSTRAINT `#sql-cfc_e_ibfk_2` FOREIGN KEY (`type_id`) REFERENCES `hotel_type` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ",mysql,,,,,,open,0,121,6,"Cannot add Foriegn Key in InnoDB in php my admin when i try to add foriegn key some error occurs and does not tells what is wrong.Just says FK fails

can any one tell what is the problem

    Error
    
    SQL query:
    
    ALTER TABLE `hotel` ADD FOREIGN KEY ( `type_id` ) REFERENCES `hotel`.`hotel_type` (
    `id`
    ) ON DELETE CASCADE ON UPDATE CASCADE ;
    
    MySQL said: Documentation
    #1452 - Cannot add or update a child row: a foreign key constraint fails (`hotel`.`#sql-cfc_e`, CONSTRAINT `#sql-cfc_e_ibfk_2` FOREIGN KEY (`type_id`) REFERENCES `hotel_type` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ",1
8446508,12/09/2011 13:56:41,979528,10/05/2011 00:44:27,8,0,MySQL Insert And Update(Different 2 Row) In One Row,"I Have 2 Table ""users"" and ""querys"". Normally i use

    INSERT INTO querys (row1,row2,row3) values(.....)
    UPDATE users SET credit=credit-1 ......

I want to use one query.",mysql,,,,,,open,0,31,9,"MySQL Insert And Update(Different 2 Row) In One Row I Have 2 Table ""users"" and ""querys"". Normally i use

    INSERT INTO querys (row1,row2,row3) values(.....)
    UPDATE users SET credit=credit-1 ......

I want to use one query.",1
5912652,05/06/2011 14:11:48,537173,12/09/2010 23:00:40,143,2,problem with index -mysql workbench,"The relation of `PRIMARY` is equal to `fk_student_single_user1.` So i must remove one of them.

The problem is, i can't remove or rename `PRIMARY` in workbench, the program does not allow, and if i delete `fk_student_single_user1`, i also delete the `foreign key`. The only way is delete `PRIMARY` in the phpmyadmin.

But i think that exists any problem in my eer model, it is supposed a exportation without bugs.
I deleted my previous column id, because two foreign keys can be the primary key of the table.

How i can solve that?

![enter image description here][1]


  [1]: http://i.stack.imgur.com/h1Ebt.jpg",mysql,database,database-design,phpmyadmin,,,open,0,94,5,"problem with index -mysql workbench The relation of `PRIMARY` is equal to `fk_student_single_user1.` So i must remove one of them.

The problem is, i can't remove or rename `PRIMARY` in workbench, the program does not allow, and if i delete `fk_student_single_user1`, i also delete the `foreign key`. The only way is delete `PRIMARY` in the phpmyadmin.

But i think that exists any problem in my eer model, it is supposed a exportation without bugs.
I deleted my previous column id, because two foreign keys can be the primary key of the table.

How i can solve that?

![enter image description here][1]


  [1]: http://i.stack.imgur.com/h1Ebt.jpg",4
903739,05/24/2009 13:14:04,58615,01/24/2009 16:21:13,385,12,What are good Linux tool(s) for MySQL administration and profiling?,"While Windows releases of MySQL administration and profiling tools seem to be a dime a dozen, I'm having a very hard time finding very many designed for Linux.

Note that I'm not looking for monitoring software ala Nagios/Munin here.  This would be something more along the lines of a SQLYog.

While I could write some basic scripts to handle most of the things I need from the CLI and do things through the mysql client console, are there any particularly good examples of good releases that do some or all of the following?

 - Basic query profiling using EXPLAIN.
 - Copy/diff of databases (some type of sync tool)
 - Slightly more intuitive creation/editing/testing of triggers and stored procs

Knowing that many linux releases thrive on the ""divide and conquer mentality"", examples of tools that do ONE of the above very well would be of great help, too.",mysql,linux,software-tools,explain-plan,triggers,,open,0,145,10,"What are good Linux tool(s) for MySQL administration and profiling? While Windows releases of MySQL administration and profiling tools seem to be a dime a dozen, I'm having a very hard time finding very many designed for Linux.

Note that I'm not looking for monitoring software ala Nagios/Munin here.  This would be something more along the lines of a SQLYog.

While I could write some basic scripts to handle most of the things I need from the CLI and do things through the mysql client console, are there any particularly good examples of good releases that do some or all of the following?

 - Basic query profiling using EXPLAIN.
 - Copy/diff of databases (some type of sync tool)
 - Slightly more intuitive creation/editing/testing of triggers and stored procs

Knowing that many linux releases thrive on the ""divide and conquer mentality"", examples of tools that do ONE of the above very well would be of great help, too.",5
5041495,02/18/2011 12:53:21,513095,11/19/2010 05:39:36,32,0,how to get value from select query in trigger in mysql5?,"how to get value from select query in trigger and insert that value in table?
<br/>

Thanks,<br/>
Shooter",mysql,triggers,mysql-triggers,,,,open,0,15,11,"how to get value from select query in trigger in mysql5? how to get value from select query in trigger and insert that value in table?
<br/>

Thanks,<br/>
Shooter",3
7237243,08/29/2011 23:40:59,893942,08/14/2011 14:44:16,8,0,How to benchmark (measure) nosql x mysql scalability?,"is there same tool that can give me a help to measure the performance and scalability of various DBMS lika MySQL, MongoDB, CounchDB? i need some tools to get these information for a scalability research.

thanks and sorry my english.",mysql,nosql,scalability,benchmarking,,08/30/2011 03:37:40,off topic,1,39,8,"How to benchmark (measure) nosql x mysql scalability? is there same tool that can give me a help to measure the performance and scalability of various DBMS lika MySQL, MongoDB, CounchDB? i need some tools to get these information for a scalability research.

thanks and sorry my english.",4
5727315,04/20/2011 08:06:25,296635,03/18/2010 15:08:29,274,0,Initialize a new row in my table (MySql),"I use MySlq Db.
I have a table with some rows (id_products(primary key),.....id_customers(ForeignKey), order,..)

I have just create the order row (integer).
Now i want to do a request who initilasize my order row for each id_customers 

example

    id_customers    order
           1          1
           1          2
           1          3
           2          1
           2          2 
           2          3
           3          1
           3          2
           3          3

",mysql,sql,request,,,04/20/2011 11:03:07,not a real question,1,233,8,"Initialize a new row in my table (MySql) I use MySlq Db.
I have a table with some rows (id_products(primary key),.....id_customers(ForeignKey), order,..)

I have just create the order row (integer).
Now i want to do a request who initilasize my order row for each id_customers 

example

    id_customers    order
           1          1
           1          2
           1          3
           2          1
           2          2 
           2          3
           3          1
           3          2
           3          3

",3
11623793,07/24/2012 03:37:27,58456,01/23/2009 22:11:37,704,22,Find the oldest record in a join between two tables,"I have two tables. ""Questions"": A list of questions, ""Results"" The users results to these questions. 

    Table: Questions
       ID

    Table: Results
       ID 
       Created - When this record was added. 
       Q_ID - A FK to the Question table 


Example data 

    Table: Questions
       ID 
       ----
        1
        8
       15
       55

    Table: Results
       ID | Created | Q_ID 
       --------------------
        1 |   12:02 |    1 
        2 |   12:03 |   15 
        3 |   12:04 |    8  
 
I am looking for a query (or two) that will get me the following information. 

 - A question that does not have a result associated with it.
 - If all questions have results then find the question with the oldest result. 

This query should return question.id=55, because its is the only question that does not have a result. If question.id=55 did not exist then it would return question.id=1 as it has the oldest result to the question. 
",mysql,sql,join,,,,open,0,280,10,"Find the oldest record in a join between two tables I have two tables. ""Questions"": A list of questions, ""Results"" The users results to these questions. 

    Table: Questions
       ID

    Table: Results
       ID 
       Created - When this record was added. 
       Q_ID - A FK to the Question table 


Example data 

    Table: Questions
       ID 
       ----
        1
        8
       15
       55

    Table: Results
       ID | Created | Q_ID 
       --------------------
        1 |   12:02 |    1 
        2 |   12:03 |   15 
        3 |   12:04 |    8  
 
I am looking for a query (or two) that will get me the following information. 

 - A question that does not have a result associated with it.
 - If all questions have results then find the question with the oldest result. 

This query should return question.id=55, because its is the only question that does not have a result. If question.id=55 did not exist then it would return question.id=1 as it has the oldest result to the question. 
",3
7646287,10/04/2011 10:10:24,978021,10/04/2011 08:03:13,3,0,How to insert and update data into 3 tables at once,"customers
phonenumbers
customers_has_phonenumbers

    customers -> detailed
    customers.customer_id int(11) primary auto_increment
    customers.customer_name varchar(255)

    phonenumbers -> detailed
    phonenumbers.phonenumber_id int(11) primary auto_increment
    phonenumbers.phonenumber_type int(11)
    phonenumbers.phonenumber_name varchar(255)
    phonenumbers.phonenumber varchar(15)

    customers_has_phonenumbers -> detailed
    customers_has_phonenumbers.customer_id int(11) -> customers_customer_id
    customers_has_phonenumbers.phonenumber_id int(11) -> phonenumbers_phonenumber_id
   
how to insert and update a phonenumber

hope you guys can help",mysql,vb.net,visual-studio-2010,,,,open,0,80,11,"How to insert and update data into 3 tables at once customers
phonenumbers
customers_has_phonenumbers

    customers -> detailed
    customers.customer_id int(11) primary auto_increment
    customers.customer_name varchar(255)

    phonenumbers -> detailed
    phonenumbers.phonenumber_id int(11) primary auto_increment
    phonenumbers.phonenumber_type int(11)
    phonenumbers.phonenumber_name varchar(255)
    phonenumbers.phonenumber varchar(15)

    customers_has_phonenumbers -> detailed
    customers_has_phonenumbers.customer_id int(11) -> customers_customer_id
    customers_has_phonenumbers.phonenumber_id int(11) -> phonenumbers_phonenumber_id
   
how to insert and update a phonenumber

hope you guys can help",3
2572118,04/03/2010 17:50:47,170795,09/09/2009 11:53:20,246,5,mySQL: Order by field size/length,"Here is a table structure (e.g. test):

     __________________________________________
    | Field Name     | Data Type               |                 
    |________________|_________________________|                 
    |    id          |   BIGINT (20)           |                 
    |________________|_________________________|                 
    |    title       |   varchar(25)           |                 
    |________________|_________________________|                 
    |    description |   text                  |                 
    |________________|_________________________|                 

A query like: 

    SELECT * FROM TEST ORDER BY description;

But I would like to order by the **field size/length** of the field description. The field type will be TEXT or BLOB.",mysql,order-by,sql,sizeof,,,open,0,318,5,"mySQL: Order by field size/length Here is a table structure (e.g. test):

     __________________________________________
    | Field Name     | Data Type               |                 
    |________________|_________________________|                 
    |    id          |   BIGINT (20)           |                 
    |________________|_________________________|                 
    |    title       |   varchar(25)           |                 
    |________________|_________________________|                 
    |    description |   text                  |                 
    |________________|_________________________|                 

A query like: 

    SELECT * FROM TEST ORDER BY description;

But I would like to order by the **field size/length** of the field description. The field type will be TEXT or BLOB.",4
11303906,07/03/2012 03:00:24,1497568,07/03/2012 02:50:03,1,0,Applying updates to a mysql database using external mysql files,"I have a mysql database that is currently sourced to a dumpfile.  I need to update the tables in this database with two updates.  Each update is located in its own external .sql file.  

What is the best way to accomplish this?  ",mysql,,,,,07/03/2012 14:29:28,not constructive,1,47,10,"Applying updates to a mysql database using external mysql files I have a mysql database that is currently sourced to a dumpfile.  I need to update the tables in this database with two updates.  Each update is located in its own external .sql file.  

What is the best way to accomplish this?  ",1
9026991,01/26/2012 23:25:43,439181,09/03/2010 17:17:29,78,2,MySQL ORDER BY optimization when sorting NULLs and '' last - is it possible?,"<br>
&nbsp;  I've been trying to optimize an awkward ORDER BY in MySQL. The issue is that I want NULLs and blank fields '' to appear at the bottom rather than the top. I've come up with:

    ORDER BY isnull(if (isnull(Lastname) OR ascii(Lastname)=0, null, 1)), Lastname ASC,
    isnull(if (isnull(Firstname) OR ascii(Firstname)=0, null, 1)), Firstname ASC;

But this is causing a filesort, accessing all the rows in the table :(

By creating an index of (Lastname, Firstname) I'm able to optimize the query to be lightening fast with a simple sort:

    ORDER BY Lastname ASC, Firstname ASC;

No filesort :)

It appears that MySQL does not let you change the default sorting for NULLs, and there is no NULLS LAST option. Is it impossible for me to optimize the original sort?

Thanks in advance",mysql,sorting,,order-by,,,open,0,137,14,"MySQL ORDER BY optimization when sorting NULLs and '' last - is it possible? <br>
&nbsp;  I've been trying to optimize an awkward ORDER BY in MySQL. The issue is that I want NULLs and blank fields '' to appear at the bottom rather than the top. I've come up with:

    ORDER BY isnull(if (isnull(Lastname) OR ascii(Lastname)=0, null, 1)), Lastname ASC,
    isnull(if (isnull(Firstname) OR ascii(Firstname)=0, null, 1)), Firstname ASC;

But this is causing a filesort, accessing all the rows in the table :(

By creating an index of (Lastname, Firstname) I'm able to optimize the query to be lightening fast with a simple sort:

    ORDER BY Lastname ASC, Firstname ASC;

No filesort :)

It appears that MySQL does not let you change the default sorting for NULLs, and there is no NULLS LAST option. Is it impossible for me to optimize the original sort?

Thanks in advance",3
7607482,09/30/2011 07:51:45,329586,04/30/2010 08:11:42,27,0,Errcode 13 on Ubuntu Linux 11.04 while creating table on external harddrive,"I'm confronted with the following situation:

I've got a mysql server running on Ubuntu Linux 11.04. Everything works fine on the systems harddrive.

Now I've got a external harddrive which is connected via usb to the computer. I've created a folder there with its subfolder. I gave the mysql user full permission to that folder. Due to the fact that it didn't worked, I even dared for a short moment to use chmod 777 -R ...still no effect.


When I try to establish a symlink (I am fully aware of risks and problems that symlinks 'could' bare...) it tells me following:

> ERROR 1: Can't create/write to file
> '/media/ASTAR/mysql/var/new_table.MYI' (Errcode: 13) SQL Statement:
> CREATE  TABLE `bopa_db`.`new_table` (   `idnew_table` INT NOT NULL ,  
> `new_tablecol` VARCHAR(45) NULL ,   `new_tablecol1` VARCHAR(45) NULL ,
> `new_tablecol2` VARCHAR(45) NULL ,   PRIMARY KEY (`idnew_table`) )
> ENGINE = MyISAM DATA DIRECTORY = '/media/some_parition/mysql/var'
> INDEX DIRECTORY = '/media/some_partition/mysql/var'

I've even read here:   that apparmor may interfere. I triangulated /all/ files in the apparmor folder that were related to mysql and added the path /media/some_partition/mysql/var with rwk, ...

Still no effect, and I'm running out of ideas and possible solutions that search engines provide...

Thanks in advance for any hints

Dan",mysql,linux,ubuntu,usb-drive,,10/03/2011 08:30:06,off topic,1,204,12,"Errcode 13 on Ubuntu Linux 11.04 while creating table on external harddrive I'm confronted with the following situation:

I've got a mysql server running on Ubuntu Linux 11.04. Everything works fine on the systems harddrive.

Now I've got a external harddrive which is connected via usb to the computer. I've created a folder there with its subfolder. I gave the mysql user full permission to that folder. Due to the fact that it didn't worked, I even dared for a short moment to use chmod 777 -R ...still no effect.


When I try to establish a symlink (I am fully aware of risks and problems that symlinks 'could' bare...) it tells me following:

> ERROR 1: Can't create/write to file
> '/media/ASTAR/mysql/var/new_table.MYI' (Errcode: 13) SQL Statement:
> CREATE  TABLE `bopa_db`.`new_table` (   `idnew_table` INT NOT NULL ,  
> `new_tablecol` VARCHAR(45) NULL ,   `new_tablecol1` VARCHAR(45) NULL ,
> `new_tablecol2` VARCHAR(45) NULL ,   PRIMARY KEY (`idnew_table`) )
> ENGINE = MyISAM DATA DIRECTORY = '/media/some_parition/mysql/var'
> INDEX DIRECTORY = '/media/some_partition/mysql/var'

I've even read here:   that apparmor may interfere. I triangulated /all/ files in the apparmor folder that were related to mysql and added the path /media/some_partition/mysql/var with rwk, ...

Still no effect, and I'm running out of ideas and possible solutions that search engines provide...

Thanks in advance for any hints

Dan",4
10973729,06/11/2012 01:30:10,1447972,06/11/2012 00:47:00,1,0,How can I add a foreign key to my table using MYSQL Workbench?,"I am new to MySQL in general, and have had no formal training. I believe the source of my problem comes from my inability to reconcile how to design a database structure with the actual implementation.

In my Schema 'Stockroom', I have four tables, 'Box' , 'Container' , 'Locations' , and 'PartNumber'

The structure looks like this
[Database diagram](http://imgur.com/o6Bbx)

Each part in a 'Partnumber' keeps a record of the total amount of that part available, and where it can be found.'Locations' is the table that holds those locations. the serial number, or the PartNumber VARCHAR(12), is the primary key for both of them.

The 'Box' table keeps track of each box as it is entered, with how many is in the box, its partnumber, when it was entered, and where that box currently is. 'Container' keeps track of what is in each location, like a shelf or specific pallet. it will record the partnumber of each box that is put there, if it does not already exist, and update the sum of all of that part on the box.

Now here is my problem, when I attempt to make a foreign key from container refrencing box, specifically referencing the partnumber column, it gives me an [error](http://imgur.com/D3x2Q).

The primary key for box is partnumber and datetime, because i gleaned through my research that it should include the minimum number of fields it takes to uniquely identify the entry. the primary key for container is only partnumber. I think it has something to do with this, but I'm not sure.

Because I'm attempting to teach myself, I'd like to know the principles behind the answers if possible. I'll be happy to elaborate if need be. Thank you for spending your time on this!",mysql,foreign-keys,mysql-workbench,,,,open,0,283,13,"How can I add a foreign key to my table using MYSQL Workbench? I am new to MySQL in general, and have had no formal training. I believe the source of my problem comes from my inability to reconcile how to design a database structure with the actual implementation.

In my Schema 'Stockroom', I have four tables, 'Box' , 'Container' , 'Locations' , and 'PartNumber'

The structure looks like this
[Database diagram](http://imgur.com/o6Bbx)

Each part in a 'Partnumber' keeps a record of the total amount of that part available, and where it can be found.'Locations' is the table that holds those locations. the serial number, or the PartNumber VARCHAR(12), is the primary key for both of them.

The 'Box' table keeps track of each box as it is entered, with how many is in the box, its partnumber, when it was entered, and where that box currently is. 'Container' keeps track of what is in each location, like a shelf or specific pallet. it will record the partnumber of each box that is put there, if it does not already exist, and update the sum of all of that part on the box.

Now here is my problem, when I attempt to make a foreign key from container refrencing box, specifically referencing the partnumber column, it gives me an [error](http://imgur.com/D3x2Q).

The primary key for box is partnumber and datetime, because i gleaned through my research that it should include the minimum number of fields it takes to uniquely identify the entry. the primary key for container is only partnumber. I think it has something to do with this, but I'm not sure.

Because I'm attempting to teach myself, I'd like to know the principles behind the answers if possible. I'll be happy to elaborate if need be. Thank you for spending your time on this!",3
3878818,10/07/2010 04:59:07,468705,10/07/2010 04:59:07,1,0,Is there a Node.JS Driver for MySQL?,Is there a Node.JS Driver for MySQL? I can;t believe that there wouldn't be one but I can't find anything.. ,mysql,node.js,,,,04/01/2012 04:14:28,not constructive,1,21,7,Is there a Node.JS Driver for MySQL? Is there a Node.JS Driver for MySQL? I can;t believe that there wouldn't be one but I can't find anything.. ,2
11714534,07/30/2012 01:45:00,798937,06/15/2011 05:01:21,332,4,MySQL database with Unique fields ignored ending spaces,"My projects requires to start inputs from the user with the spacing on the left and spacing on the right of a word. for example 'apple', if the user types in ' apple' or 'apple ', whether it is one space or multiple space on the left or right of the word. I need to store it that way.  

This field has Unique attribute. but i attempt to insert the word with spacing on the left it works fine. but when i attempt to insert the word with spacing on the right it trims off all the spacing from the right of the word.

So i am thinking of adding a special character to the right of the word after the spacing. but iam hoping there is a better solution for this issue.",mysql,mysql5,,,,,open,0,133,8,"MySQL database with Unique fields ignored ending spaces My projects requires to start inputs from the user with the spacing on the left and spacing on the right of a word. for example 'apple', if the user types in ' apple' or 'apple ', whether it is one space or multiple space on the left or right of the word. I need to store it that way.  

This field has Unique attribute. but i attempt to insert the word with spacing on the left it works fine. but when i attempt to insert the word with spacing on the right it trims off all the spacing from the right of the word.

So i am thinking of adding a special character to the right of the word after the spacing. but iam hoping there is a better solution for this issue.",2
6506801,06/28/2011 12:58:45,682417,03/29/2011 16:02:39,122,0,creating a view problem,"I am trying to create the view for members in my sql workbench but it was giving an error near

’mshipstatustypes’.’mshipStatusType_Name’ incorrect syntax near '.'




                     ’tgsacc’.’mshipstatustypes’.’mshipStatusType_Name’ AS ‘mshipstatusName’ from (((‘tgsacc’.’mshipstatustypes’ inner join ‘tgsacc’.`membertomships` on((‘tgsacc’.’membertomships’.’ mshipStatusType_Id’ = ‘tgsacc’.’mshipstatustypes’.’mshipStatusType_Id’)) inner  join ‘tgsacc’.’members’  where ((‘tgsacc’.’membertomships’.’member_Id’ = ‘tgsacc.’members’.’member_Id’)));

would any one help on this ....",mysql,sql,view,workbench,,07/10/2012 18:45:53,not a real question,1,71,4,"creating a view problem I am trying to create the view for members in my sql workbench but it was giving an error near

’mshipstatustypes’.’mshipStatusType_Name’ incorrect syntax near '.'




                     ’tgsacc’.’mshipstatustypes’.’mshipStatusType_Name’ AS ‘mshipstatusName’ from (((‘tgsacc’.’mshipstatustypes’ inner join ‘tgsacc’.`membertomships` on((‘tgsacc’.’membertomships’.’ mshipStatusType_Id’ = ‘tgsacc’.’mshipstatustypes’.’mshipStatusType_Id’)) inner  join ‘tgsacc’.’members’  where ((‘tgsacc’.’membertomships’.’member_Id’ = ‘tgsacc.’members’.’member_Id’)));

would any one help on this ....",4
11155915,06/22/2012 12:11:55,1263145,03/12/2012 02:06:39,45,1,phpmyadmin sql apostrophe not working,"hey guys was hoping you could help me out,

Not sure if I always had this problem or if its new, in phpmyadmin in the sql tab, the apostrophe it recognizes is different from what i type, for example,

when i type, it is 

    SELECT * FROM 'table'
this gives me an error, so instead I have to like copy/paste the inverted commas of some prebuilt query so that it looks like

    SELECT * FROM `table`
see how the apostrophes are different? any way I can fix this?

also, i have seen many queries on the web, and i think even queries i call from php dont require table names to have apostrophes. But when write it in phpmyadmin, I can do queries without table names having apostrophes?

thanks in advance.
",mysql,query,phpmyadmin,,,,open,0,132,5,"phpmyadmin sql apostrophe not working hey guys was hoping you could help me out,

Not sure if I always had this problem or if its new, in phpmyadmin in the sql tab, the apostrophe it recognizes is different from what i type, for example,

when i type, it is 

    SELECT * FROM 'table'
this gives me an error, so instead I have to like copy/paste the inverted commas of some prebuilt query so that it looks like

    SELECT * FROM `table`
see how the apostrophes are different? any way I can fix this?

also, i have seen many queries on the web, and i think even queries i call from php dont require table names to have apostrophes. But when write it in phpmyadmin, I can do queries without table names having apostrophes?

thanks in advance.
",3
2406363,03/09/2010 03:01:19,146048,07/27/2009 22:37:17,108,4,MySQL query returns different set of results on two identical databases,"I exported a live MySQL database (running mysql 5.0.45) to a local copy (running mysql 5.1.33) with no errors upon import. There is a view in the database, that when executed locally, returns a different set of data than when executed remotely. It's returning 32 results instead of 63. When I execute the raw sql, the same problem occurs. I've inspected the data in all tables being joined, and the counts are the same.

The query is simple and has no where conditions - but about 10 joins. Aside from the differences in mysql versions... I can't find any reason that this query would return different results between databases... since they are effectively exact copies.

Has anyone experienced a problem like this before?",mysql,sql,,,,,open,0,121,11,"MySQL query returns different set of results on two identical databases I exported a live MySQL database (running mysql 5.0.45) to a local copy (running mysql 5.1.33) with no errors upon import. There is a view in the database, that when executed locally, returns a different set of data than when executed remotely. It's returning 32 results instead of 63. When I execute the raw sql, the same problem occurs. I've inspected the data in all tables being joined, and the counts are the same.

The query is simple and has no where conditions - but about 10 joins. Aside from the differences in mysql versions... I can't find any reason that this query would return different results between databases... since they are effectively exact copies.

Has anyone experienced a problem like this before?",2
5877561,05/04/2011 01:37:01,737167,05/04/2011 01:37:01,1,0,MySQL JOIN and COUNT in single query,"I'm trying to join 2 tables together and get the count of foreign keys...
I'm sorry, but I don't really how to explain myself, so let me demonstrate:

I have 1 table, 'orders', for orders, with the following fields:

id, f_name, l_name, credit_card ETC.

Then, I have an 'orders_details' table for the items in the order, like so:

id, order_id, product_id, qty



Now, I want to run a query joining the 2 tables, getting 1 row per each row in the orders table, with a column telling me how many products are in each order.

Anybody know how to achieve this?



P.S. I'd also like to be able to get the total of all the 'qty' for the orders (I don't want to run a separate query for each order).",mysql,sql,join,left-join,,,open,0,122,7,"MySQL JOIN and COUNT in single query I'm trying to join 2 tables together and get the count of foreign keys...
I'm sorry, but I don't really how to explain myself, so let me demonstrate:

I have 1 table, 'orders', for orders, with the following fields:

id, f_name, l_name, credit_card ETC.

Then, I have an 'orders_details' table for the items in the order, like so:

id, order_id, product_id, qty



Now, I want to run a query joining the 2 tables, getting 1 row per each row in the orders table, with a column telling me how many products are in each order.

Anybody know how to achieve this?



P.S. I'd also like to be able to get the total of all the 'qty' for the orders (I don't want to run a separate query for each order).",4
8744462,01/05/2012 14:51:31,220474,11/28/2009 14:37:55,368,2,Is complete denormalization a right MySQL optimization approach for an extreme case?,"Sorry for a somewhat general question but the issue at hand is rather huge and I am afraid it is impossible to attach actual info here, i.e. DB structure, etc.. So I'll just describe the problem and will then ask if the approach I am planning to take is generally right.

So what I have is a job board. There are job seekers that are stored in different tables and those tables have all kinds of relations. For example users and profiles tables are connected as 1-1. But then there is education table where user can insert any number of entries and that is 1-many. There is a bunch of such tables, they all are generally similar. But there is also resumes table that is one-many too (one user can have several resumes), it's main difference is that it holds actual resumes which leads to a rather big size of table.

Now what I need to do is build a resume search engine. Search form has all kinds of fields - minimum education, location, keywords, etc.. One important thing is that results should be grouped by user, so output format will be

    <matched user 1 (per search input such as min education)> <user's 1 matched resume 1, user's 1 matched resume 2, user's 1 matched resume 7 (per keywords)>
    <matched user 3> <user's 3 matched resume 10, user's 3 matched resume 123>

This all has to be ordered too, in this case user 1 goes first because he uploaded resume recently.

And in this place it gets extreme. Now we take these selected and grouped results and group them again because we want to have search filters, which is similar to what indeed has 
http://www.indeed.com/jobs?q=php&l=NYC%2C+NY
(check on the left where it offers you to select for example Manhattan, NY jobs only). And we also want to count that (just like indeed).

What I started doing is some denormalization. For example I already store an additional field with concatenated location - City, State. And then group by that field instead of concat-ing city and state on the fly. Then I also tried to get rid of some 1-X relations, for example instead of joining and going through all education entries, I pre-calculate and store user's highest degree. And of course I added indexes. This did make things dramatically faster but everything is still so so slow.

So my question is how do I normally handle such situation. Is it slow because I messed up normalization and indexing somewhere? Or do such queries/structures doomed to be slow and the ultimate solution is to completely denormalize this into a single resumes table. If latter, my other concern is the size of resumes table if I push there all the data that is being searched and grouped on. That table already holds resume texts that have full-text search done over them and this denormalization will probably make the table huge. Won't that make queries slow again?",mysql,database,query-optimization,database-optimization,,,open,0,491,12,"Is complete denormalization a right MySQL optimization approach for an extreme case? Sorry for a somewhat general question but the issue at hand is rather huge and I am afraid it is impossible to attach actual info here, i.e. DB structure, etc.. So I'll just describe the problem and will then ask if the approach I am planning to take is generally right.

So what I have is a job board. There are job seekers that are stored in different tables and those tables have all kinds of relations. For example users and profiles tables are connected as 1-1. But then there is education table where user can insert any number of entries and that is 1-many. There is a bunch of such tables, they all are generally similar. But there is also resumes table that is one-many too (one user can have several resumes), it's main difference is that it holds actual resumes which leads to a rather big size of table.

Now what I need to do is build a resume search engine. Search form has all kinds of fields - minimum education, location, keywords, etc.. One important thing is that results should be grouped by user, so output format will be

    <matched user 1 (per search input such as min education)> <user's 1 matched resume 1, user's 1 matched resume 2, user's 1 matched resume 7 (per keywords)>
    <matched user 3> <user's 3 matched resume 10, user's 3 matched resume 123>

This all has to be ordered too, in this case user 1 goes first because he uploaded resume recently.

And in this place it gets extreme. Now we take these selected and grouped results and group them again because we want to have search filters, which is similar to what indeed has 
http://www.indeed.com/jobs?q=php&l=NYC%2C+NY
(check on the left where it offers you to select for example Manhattan, NY jobs only). And we also want to count that (just like indeed).

What I started doing is some denormalization. For example I already store an additional field with concatenated location - City, State. And then group by that field instead of concat-ing city and state on the fly. Then I also tried to get rid of some 1-X relations, for example instead of joining and going through all education entries, I pre-calculate and store user's highest degree. And of course I added indexes. This did make things dramatically faster but everything is still so so slow.

So my question is how do I normally handle such situation. Is it slow because I messed up normalization and indexing somewhere? Or do such queries/structures doomed to be slow and the ultimate solution is to completely denormalize this into a single resumes table. If latter, my other concern is the size of resumes table if I push there all the data that is being searched and grouped on. That table already holds resume texts that have full-text search done over them and this denormalization will probably make the table huge. Won't that make queries slow again?",4
10626363,05/16/2012 20:39:48,1399546,05/16/2012 20:13:31,1,0,MySQL conditional ORDER BY ASC/DESC for date column,"I need a MySQL conditional ORDER BY statement for a datetime field. I have a table with posts which I would like to order in the following way: all **future posts** should be ordered **ASC** and all **historical posts** ordered **DESC**. Eg.:

    post_status     post_date     post_title
    ===========     =========     ==========
    future          2012-10-01    Title 1
    future          2012-12-01    Title 2
    publish         2012-05-01    Title 3
    publish         2012-01-01    Title 4

I need something similar to the following SQL...

    SELECT post_status, post_date, post_title FROM wp_posts
    WHERE post_status IN ('future', 'publish')
    ORDER BY post_status ASC,
     CASE post_status 
      WHEN 'future' THEN 'post_date ASC'
      ELSE 'post_date DESC'
     END;

Any hints on how to do this?
Thanks!
",mysql,sql,order-by,,,,open,0,211,8,"MySQL conditional ORDER BY ASC/DESC for date column I need a MySQL conditional ORDER BY statement for a datetime field. I have a table with posts which I would like to order in the following way: all **future posts** should be ordered **ASC** and all **historical posts** ordered **DESC**. Eg.:

    post_status     post_date     post_title
    ===========     =========     ==========
    future          2012-10-01    Title 1
    future          2012-12-01    Title 2
    publish         2012-05-01    Title 3
    publish         2012-01-01    Title 4

I need something similar to the following SQL...

    SELECT post_status, post_date, post_title FROM wp_posts
    WHERE post_status IN ('future', 'publish')
    ORDER BY post_status ASC,
     CASE post_status 
      WHEN 'future' THEN 'post_date ASC'
      ELSE 'post_date DESC'
     END;

Any hints on how to do this?
Thanks!
",3
4890661,02/03/2011 19:23:29,500805,10/21/2010 20:39:28,128,6,Indexing for joins in mysql database,"Had a quick question about joins in mysql and indexing. If I had 2 tables:

    table1
     id
     name
    
    table2
     table1id
     table2title

And I join table2 and table1 using id and table1id would I add a index to id on table1 and table1id in table2? Or would I just add an index to one of the tables? Im using MySQL with MyISAM version 5.x",mysql,index,inner-join,,,,open,0,88,6,"Indexing for joins in mysql database Had a quick question about joins in mysql and indexing. If I had 2 tables:

    table1
     id
     name
    
    table2
     table1id
     table2title

And I join table2 and table1 using id and table1id would I add a index to id on table1 and table1id in table2? Or would I just add an index to one of the tables? Im using MySQL with MyISAM version 5.x",3
7057484,08/14/2011 14:50:03,892401,08/12/2011 20:01:45,16,0,Mysql: Selecting Fields That DO NOT Match,"Ok, so, I have 2 tables (categories_forms and categories_fields). This is my query to show all fields that match (categories_fields are all fields that can be shown on a form, and categories_forms contain a category_id and field_id if that field from categories_fields is to be shown):

    $fields = mysql_query(""SELECT cforms.id, cforms.required, cfields.field FROM $db[categories_forms] as cforms
    						  JOIN $db[categories_fields] as cfields ON cforms.field_id=cfields.id
    						  WHERE cforms.category_id='$category'"");

Now, I want to give the user the option to add fields that are not currently there in an admin panel. I know there is a better way to do this, but this is how I came up with it:

    $fields = mysql_query(""SELECT field, id FROM $db[categories_fields] as cfields"");
    while($f = mysql_fetch_array($fields)) {
    	$checkit = mysql_fetch_array(mysql_query(""SELECT id FROM $db[categories_forms] WHERE category_id='$category' AND field_id='$f[id]'""));
    	
        if(! $checkit['id']) {
            // Not include, give the option to add it
        }
    }

Is there an easier way to do this with MySQL?
",mysql,,,,,,open,0,203,7,"Mysql: Selecting Fields That DO NOT Match Ok, so, I have 2 tables (categories_forms and categories_fields). This is my query to show all fields that match (categories_fields are all fields that can be shown on a form, and categories_forms contain a category_id and field_id if that field from categories_fields is to be shown):

    $fields = mysql_query(""SELECT cforms.id, cforms.required, cfields.field FROM $db[categories_forms] as cforms
    						  JOIN $db[categories_fields] as cfields ON cforms.field_id=cfields.id
    						  WHERE cforms.category_id='$category'"");

Now, I want to give the user the option to add fields that are not currently there in an admin panel. I know there is a better way to do this, but this is how I came up with it:

    $fields = mysql_query(""SELECT field, id FROM $db[categories_fields] as cfields"");
    while($f = mysql_fetch_array($fields)) {
    	$checkit = mysql_fetch_array(mysql_query(""SELECT id FROM $db[categories_forms] WHERE category_id='$category' AND field_id='$f[id]'""));
    	
        if(! $checkit['id']) {
            // Not include, give the option to add it
        }
    }

Is there an easier way to do this with MySQL?
",1
7668428,10/05/2011 22:19:19,960700,09/23/2011 08:23:58,1,0,how to select records from table1 which have table3 options in table2?,"lets say, i have three tables:

 - table1: contains various records;
 - table2: contains what records have what options;
 - table3: contains options;

table2 contains foreign key of table1, and table3 -  thus specifying which table1 record has witch table3 option. table1 records can have multiple table3 options;

I'm trying to select table1 records by specifying their options, i need to be able to select any option\any option combination and display all table1 records which have this option combination, it can have additional options, but it must have the specified ones...

how would you write/build such a query?

note: im specifying what options to use from form..
",mysql,table,foreign-keys,one-to-many,,,open,0,104,12,"how to select records from table1 which have table3 options in table2? lets say, i have three tables:

 - table1: contains various records;
 - table2: contains what records have what options;
 - table3: contains options;

table2 contains foreign key of table1, and table3 -  thus specifying which table1 record has witch table3 option. table1 records can have multiple table3 options;

I'm trying to select table1 records by specifying their options, i need to be able to select any option\any option combination and display all table1 records which have this option combination, it can have additional options, but it must have the specified ones...

how would you write/build such a query?

note: im specifying what options to use from form..
",4
5473858,03/29/2011 14:07:34,627307,02/21/2011 21:13:40,16,0,does mysql use delimiters between columns?,As the title... does mysql use delimiters between columns?,mysql,,,,,03/29/2011 19:14:49,not a real question,1,9,6,does mysql use delimiters between columns? As the title... does mysql use delimiters between columns?,1
8062888,11/09/2011 09:32:39,1037313,11/09/2011 09:22:25,1,0,Natural Language To SQl,is it possible to create a english to SQL app using Part of Speech Tagging. or else please suggest some efficient ways to do this app,mysql,sql,c#-4.0,,,11/09/2011 10:36:40,not a real question,1,26,4,Natural Language To SQl is it possible to create a english to SQL app using Part of Speech Tagging. or else please suggest some efficient ways to do this app,3
9121467,02/02/2012 23:15:48,1186333,02/02/2012 22:55:06,1,0,Design database table to check id in another table before allowing insert,"Ok, I've got what I'm sure is a really simple database question, but being a total newbie I don't even know what to google, so hopefully someone can help me here.  

I'm trying to create 2 tables that are interconnected. For example, lets say I have an employee table with employee name and employee id, then I'm creating another table, employee_bonus, with employee id and bonus amount. What I want is for the employee_bonus table to automatically check with the employee table every time a row is inserted to make sure that the employee id exists in the employee table and reject the insert if not. The thing is, there could be multiple bonuses for a single employee, so I just want it to check that it exists, not make it one to one. Does that make sense? Is that possible? How would I do that and WHAT is that called?

Also, I'm doing this in MySql.

Thanks in advance!",mysql,database,design,table,,,open,0,159,12,"Design database table to check id in another table before allowing insert Ok, I've got what I'm sure is a really simple database question, but being a total newbie I don't even know what to google, so hopefully someone can help me here.  

I'm trying to create 2 tables that are interconnected. For example, lets say I have an employee table with employee name and employee id, then I'm creating another table, employee_bonus, with employee id and bonus amount. What I want is for the employee_bonus table to automatically check with the employee table every time a row is inserted to make sure that the employee id exists in the employee table and reject the insert if not. The thing is, there could be multiple bonuses for a single employee, so I just want it to check that it exists, not make it one to one. Does that make sense? Is that possible? How would I do that and WHAT is that called?

Also, I'm doing this in MySql.

Thanks in advance!",4
8918511,01/18/2012 22:31:59,1070201,06/01/2010 03:14:20,75,0,retrieve most recent records,"I'm having a bit of mysql query brain freeze. I need to retrieve the latest record from a table, grouped by a second column. Something like this:

    SELECT ca.id, activity_date, contact_id as cid
    FROM activity ca
    JOIN activity_target cat
      ON ca.id = cat.activity_id
    WHERE ca.activity_type_id = 44
    GROUP BY cid
    ORDER BY activity_date DESC

...except that I need the most recent record (using activity_date) **within** the group by (the order by is performed after the group). I tried using HAVING activity_date = max(activity_date) but that doesn't work.",mysql,,,,,,open,0,109,4,"retrieve most recent records I'm having a bit of mysql query brain freeze. I need to retrieve the latest record from a table, grouped by a second column. Something like this:

    SELECT ca.id, activity_date, contact_id as cid
    FROM activity ca
    JOIN activity_target cat
      ON ca.id = cat.activity_id
    WHERE ca.activity_type_id = 44
    GROUP BY cid
    ORDER BY activity_date DESC

...except that I need the most recent record (using activity_date) **within** the group by (the order by is performed after the group). I tried using HAVING activity_date = max(activity_date) but that doesn't work.",1
11147076,06/21/2012 21:32:01,888139,08/10/2011 14:45:15,138,3,db gallery: one image in multiple albums or one image in one album,"I'm on the process of creating an image gallery. The model i'm planning to build is very simple: I have categories that have albums with images that are tagged.

When it comes to allowing one image to be in more then 1 album, im not sure what is the standard out there or how the best galleries software are doing it...

Is the standard to allow the same image in multiple albums? or the image goes in only one album and i should use tags?

Anyone has an idea or can guide me.. this is an important part of the core model and i want it to be perfect from the start.

Thanks
",mysql,database,image,,,,open,0,109,13,"db gallery: one image in multiple albums or one image in one album I'm on the process of creating an image gallery. The model i'm planning to build is very simple: I have categories that have albums with images that are tagged.

When it comes to allowing one image to be in more then 1 album, im not sure what is the standard out there or how the best galleries software are doing it...

Is the standard to allow the same image in multiple albums? or the image goes in only one album and i should use tags?

Anyone has an idea or can guide me.. this is an important part of the core model and i want it to be perfect from the start.

Thanks
",3
199905,10/14/2008 03:17:19,1444,08/15/2008 16:02:54,75,5,MySQL and comments,"Is it possible to add comments somehow, somewhere?  

I don't pretend to be any sort of expert when using MySQL and certainly don't spend all day in it.  More often than I would like I forget how I intend to use a column (usally the bit ones) and would be very excited if I could add a comment to remind me if 1 is good or bad, for example.  

I'd be happy if it only showed up in something like 'show create table', but any obscure place within the table structures would be better and easier to find than the current post-it notes on my desk.",mysql,,,,,,open,0,109,3,"MySQL and comments Is it possible to add comments somehow, somewhere?  

I don't pretend to be any sort of expert when using MySQL and certainly don't spend all day in it.  More often than I would like I forget how I intend to use a column (usally the bit ones) and would be very excited if I could add a comment to remind me if 1 is good or bad, for example.  

I'd be happy if it only showed up in something like 'show create table', but any obscure place within the table structures would be better and easier to find than the current post-it notes on my desk.",1
6080259,05/21/2011 07:17:42,700775,04/10/2011 11:25:30,6,1,mysql improve performmance by create new table,"the code below is work but it take long time to run sometime the php code stop but it work well with mysql graphical tool (becase  it can wait) .  Are there any method to make it faster I use index in some column it help Are there any method to create table if I create table i think it will improve performance but this table it must be update maybe one a week what is the good practice please suggest


SELECT member.own, member.provincecode, province.PROVINCE_NAME, member.amphurecode, amphur.AMPHUR_NAME, member.Sname, member.Ssurname, member.Hno, member.Moo, member.Sex, member.tambol, member.dateofbirth, member.migratedate, Year( Current_Date( ) ) -  Year( member.dateofbirth ) AS y, Year( Current_Date( ) ) - Year( member.migratedate ) AS m
FROM member
LEFT JOIN amphur ON ( member.amphurecode
COLLATE utf8_general_ci = amphur.AMPHUR_CODE )
LEFT JOIN province ON member.provincecode
COLLATE utf8_general_ci = province.PROVINCE_CODE",mysql,,,,,,open,0,134,7,"mysql improve performmance by create new table the code below is work but it take long time to run sometime the php code stop but it work well with mysql graphical tool (becase  it can wait) .  Are there any method to make it faster I use index in some column it help Are there any method to create table if I create table i think it will improve performance but this table it must be update maybe one a week what is the good practice please suggest


SELECT member.own, member.provincecode, province.PROVINCE_NAME, member.amphurecode, amphur.AMPHUR_NAME, member.Sname, member.Ssurname, member.Hno, member.Moo, member.Sex, member.tambol, member.dateofbirth, member.migratedate, Year( Current_Date( ) ) -  Year( member.dateofbirth ) AS y, Year( Current_Date( ) ) - Year( member.migratedate ) AS m
FROM member
LEFT JOIN amphur ON ( member.amphurecode
COLLATE utf8_general_ci = amphur.AMPHUR_CODE )
LEFT JOIN province ON member.provincecode
COLLATE utf8_general_ci = province.PROVINCE_CODE",1
5968784,05/11/2011 18:21:48,665341,03/18/2011 01:18:30,20,0,how can i solve this error on wamp?,"i have just installed wamp for windows everything worked fine how ever when i try to connect to mysql db i receive this error:
   Fatal error: Call to undefined function mysql_connect() in C:\wamp\www\pets\app\lib\adodb\drivers\adodb-mysql.inc.php on line 337.

PS: i have the mysql extension enabled in my php.ini

Thanks",mysql,php5,wamp,,,10/17/2011 21:01:13,too localized,1,47,8,"how can i solve this error on wamp? i have just installed wamp for windows everything worked fine how ever when i try to connect to mysql db i receive this error:
   Fatal error: Call to undefined function mysql_connect() in C:\wamp\www\pets\app\lib\adodb\drivers\adodb-mysql.inc.php on line 337.

PS: i have the mysql extension enabled in my php.ini

Thanks",3
10676397,05/20/2012 19:15:02,1202335,02/10/2012 15:32:03,38,1,Using MySQL and Mongodb together,"I have worked with MySQL more than MongoDB, but from what I've learned from MongoDB it's just what I needed, but it also has it's limitations that MySQL can do (for instance auto increment)

Would it be smart to use MongoDB for everything, and use MySQL for only certain things?

For instance use MongoDB to store users and everything else, but use MySQL to make for example a ticket system.",mysql,mongodb,unison,,,,open,0,68,5,"Using MySQL and Mongodb together I have worked with MySQL more than MongoDB, but from what I've learned from MongoDB it's just what I needed, but it also has it's limitations that MySQL can do (for instance auto increment)

Would it be smart to use MongoDB for everything, and use MySQL for only certain things?

For instance use MongoDB to store users and everything else, but use MySQL to make for example a ticket system.",3
2701430,04/23/2010 19:30:29,324542,04/23/2010 19:30:29,1,0,MySQL Sub-query.. Doesn't provide proper information after 3 entries into table. ,"After I get 3 rows in my forum_threads table this no longer does it's job; to organize a list of active forum threads and put the most recently responded-to thread at the top of the list, followed by second most recent posted-to thread, followed by third, fourth, etc.

Like I said, the query works wonders up until there is a fourth row added to forum_threads.


SELECT forum_threads.*, forum_posts.thread_id FROM forum_threads INNER JOIN (SELECT MAX(id) AS id, thread_id as thread_id FROM forum_posts group by thread_id order by id DESC) forum_posts ON forum_threads.id = forum_posts.thread_id",mysql,subquery,max,user-forums,recently-updated,,open,0,91,12,"MySQL Sub-query.. Doesn't provide proper information after 3 entries into table.  After I get 3 rows in my forum_threads table this no longer does it's job; to organize a list of active forum threads and put the most recently responded-to thread at the top of the list, followed by second most recent posted-to thread, followed by third, fourth, etc.

Like I said, the query works wonders up until there is a fourth row added to forum_threads.


SELECT forum_threads.*, forum_posts.thread_id FROM forum_threads INNER JOIN (SELECT MAX(id) AS id, thread_id as thread_id FROM forum_posts group by thread_id order by id DESC) forum_posts ON forum_threads.id = forum_posts.thread_id",5
6657072,07/11/2011 21:50:03,839725,07/11/2011 21:50:03,1,0,News system in php 5 & mysql 5?,"wonder if you guys know any good news system tutorial for php 5 and mysql 5? Since i really want to learn how to make a news system for my site since we i can do that ill be enable to create basic cms systems and then i can make it into much larger fields.



Thanks in advance Fredrik",mysql,php5,content-management-system,system,news,07/11/2011 22:42:20,not a real question,1,58,8,"News system in php 5 & mysql 5? wonder if you guys know any good news system tutorial for php 5 and mysql 5? Since i really want to learn how to make a news system for my site since we i can do that ill be enable to create basic cms systems and then i can make it into much larger fields.



Thanks in advance Fredrik",5
4936371,02/08/2011 17:41:14,202895,11/04/2009 19:45:30,1347,23,Find rows with duplicate/similar column values MySQL,"I want to select from the following table all the rows which have similar values in the fname column as the first in their order. IOW from this table I want to retrieve rows with ids 2,5 and 7 (because "" *anna*"" comes after ""*anna*"", and ""*michaela*"" and ""*michaal*"" come after ""*michael*"").

    +----+------------+----------+
    | id | fname      | lname    |
    +----+------------+----------+
    |  1 | anna       | milski   |
    |  2 |  anna      | nguyen   |
    |  3 | michael    | michaels |
    |  4 | james      | bond     |
    |  5 | michaela   | king     |
    |  6 | bruce      | smart    |
    |  7 | michaal    | hardy    |
    +----+------------+----------+

What I have so far is this:

    select *, count(fname) cnt 
    from users group by soundex(fname) 
    having count(soundex(fname)) > 1;
but since I'm grouping it the result is

    +----+----------+----------+-----+
    | id | fname    | lname    | cnt |
    +----+----------+----------+-----+
    |  1 | anna     | milski   |   2 |
    |  3 | michael  | michaels |   3 |
    +----+----------+----------+-----+
What I want retrieved is this:

    +----+----------+----------+-----+
    | id | fname    | lname    | cnt |
    +----+----------+----------+-----+
    |  2 |  anna    | nyugen   |   2 |
    |  5 | michaela | king     |   3 |
    |  7 | michaal  | hardy    |   3 |
    +----+----------+----------+-----+

What should I change about the query? I tried removing ""group by"" but it changes the results (I could be wrong, haven't tested it extensively).",mysql,select,duplicates,values,similar,,open,0,429,7,"Find rows with duplicate/similar column values MySQL I want to select from the following table all the rows which have similar values in the fname column as the first in their order. IOW from this table I want to retrieve rows with ids 2,5 and 7 (because "" *anna*"" comes after ""*anna*"", and ""*michaela*"" and ""*michaal*"" come after ""*michael*"").

    +----+------------+----------+
    | id | fname      | lname    |
    +----+------------+----------+
    |  1 | anna       | milski   |
    |  2 |  anna      | nguyen   |
    |  3 | michael    | michaels |
    |  4 | james      | bond     |
    |  5 | michaela   | king     |
    |  6 | bruce      | smart    |
    |  7 | michaal    | hardy    |
    +----+------------+----------+

What I have so far is this:

    select *, count(fname) cnt 
    from users group by soundex(fname) 
    having count(soundex(fname)) > 1;
but since I'm grouping it the result is

    +----+----------+----------+-----+
    | id | fname    | lname    | cnt |
    +----+----------+----------+-----+
    |  1 | anna     | milski   |   2 |
    |  3 | michael  | michaels |   3 |
    +----+----------+----------+-----+
What I want retrieved is this:

    +----+----------+----------+-----+
    | id | fname    | lname    | cnt |
    +----+----------+----------+-----+
    |  2 |  anna    | nyugen   |   2 |
    |  5 | michaela | king     |   3 |
    |  7 | michaal  | hardy    |   3 |
    +----+----------+----------+-----+

What should I change about the query? I tried removing ""group by"" but it changes the results (I could be wrong, haven't tested it extensively).",5
5374672,03/21/2011 06:55:53,139150,07/16/2009 03:00:08,1001,55,Changing field separator,"I can see that using maatkit I can export the data as comma or tab separated values. But is there anyway to change the field separator?

http://www.maatkit.org/doc/mk-parallel-dump.html

I have a table that has comma as well as tabs in the data. Besides I need to process the data using awk that does not seem to work with certain fields data. I want to change the separator while dumping data using maatkit. Is it possible?

",mysql,,,,,,open,0,72,3,"Changing field separator I can see that using maatkit I can export the data as comma or tab separated values. But is there anyway to change the field separator?

http://www.maatkit.org/doc/mk-parallel-dump.html

I have a table that has comma as well as tabs in the data. Besides I need to process the data using awk that does not seem to work with certain fields data. I want to change the separator while dumping data using maatkit. Is it possible?

",1
6112452,05/24/2011 14:56:30,86404,04/02/2009 20:18:09,1549,60,De-optimizing MySQL,"Is there a simple command that will let me tweak a MySQL DB instance to run <i>slower</i> than normal?

I'm working on code that records and replays database interactions.  One of the things it does is keep track of how long a given query/command takes to execute, and if it runs substantially slower during the replay, it throws a warning.  Of course, If You Don't Test It, It Doesn't Work; I'm trying to come up with an automated test for this feature.  Is there something I can do to my test DB that will screw up performance?  All I need to do is reliably add 2+ milliseconds to any given query and I'm set.",mysql,,,,,,open,0,117,2,"De-optimizing MySQL Is there a simple command that will let me tweak a MySQL DB instance to run <i>slower</i> than normal?

I'm working on code that records and replays database interactions.  One of the things it does is keep track of how long a given query/command takes to execute, and if it runs substantially slower during the replay, it throws a warning.  Of course, If You Don't Test It, It Doesn't Work; I'm trying to come up with an automated test for this feature.  Is there something I can do to my test DB that will screw up performance?  All I need to do is reliably add 2+ milliseconds to any given query and I'm set.",1
7968506,11/01/2011 15:09:12,851885,07/19/2011 11:48:35,229,9,MySQL query - Join Query,"Not sure how to write this join for 2 tables.  Here is some sample data to illustrate:

    orders
    -----------------------
    | order_id | customer |
    -----------------------
      ABC12345   1
      ABC12346   4
      ABC12347   3
      ABC12348   2
      ABC12349   2
      ABC12350   3


    customers
    -----------------------------------
    | id | name | email                |
    -----------------------------------
      1    James  james@gmail.com
      2    Alice  alice@hotmail.com
      3    Jimbo  james@gmail.com
      4    Jim    james@gmail.com
      5    Lucy   lucy@yahoo.com

I have an order_id, which I already know.  Let's use the first one in the table: ABC12345.  As you can see, the customer ID is 1, so that order was placed by James.  Now sometimes James has ordered again using different names but we know it's him because of his email address.

So how do I retrieve all of James' orders, if I know one of his order numbers (ABC12345)?",mysql,query,,,,,open,0,263,5,"MySQL query - Join Query Not sure how to write this join for 2 tables.  Here is some sample data to illustrate:

    orders
    -----------------------
    | order_id | customer |
    -----------------------
      ABC12345   1
      ABC12346   4
      ABC12347   3
      ABC12348   2
      ABC12349   2
      ABC12350   3


    customers
    -----------------------------------
    | id | name | email                |
    -----------------------------------
      1    James  james@gmail.com
      2    Alice  alice@hotmail.com
      3    Jimbo  james@gmail.com
      4    Jim    james@gmail.com
      5    Lucy   lucy@yahoo.com

I have an order_id, which I already know.  Let's use the first one in the table: ABC12345.  As you can see, the customer ID is 1, so that order was placed by James.  Now sometimes James has ordered again using different names but we know it's him because of his email address.

So how do I retrieve all of James' orders, if I know one of his order numbers (ABC12345)?",2
7118125,08/19/2011 07:11:04,804478,06/18/2011 12:04:40,6,0,Will ibdata1 file overwritten,"I need to check If I copy my innodb from 2 servers A and B to /var/lib/mysql of Server C.
Then what will happen to idbata1 file. Will be overwritten or it will be appended on Server C.",mysql,database,innodb,,,,open,0,37,4,"Will ibdata1 file overwritten I need to check If I copy my innodb from 2 servers A and B to /var/lib/mysql of Server C.
Then what will happen to idbata1 file. Will be overwritten or it will be appended on Server C.",3
10272050,04/22/2012 20:57:14,738524,05/04/2011 17:41:53,37,1,mysql workbench and godaddy mysql database,"I was able to create one table in my MySQL database on Godaddy's server through MySQL Workbench. When I tried to create a second one, it hung, then gave me the error ""MySQL Server has gone away."" I've killed the connection, restarted Workbench, went through the steps of creating the table again, and the same problem happened. This has happened about 10 times over the last hour and I have not gotten it to succeed again since the initial table. WTF? Any ideas? ",mysql,godaddy,mysql-workbench,,,07/24/2012 22:08:41,too localized,1,84,6,"mysql workbench and godaddy mysql database I was able to create one table in my MySQL database on Godaddy's server through MySQL Workbench. When I tried to create a second one, it hung, then gave me the error ""MySQL Server has gone away."" I've killed the connection, restarted Workbench, went through the steps of creating the table again, and the same problem happened. This has happened about 10 times over the last hour and I have not gotten it to succeed again since the initial table. WTF? Any ideas? ",3
9092022,02/01/2012 06:59:13,1041290,11/11/2011 08:00:58,15,0,reg my sql license clarification,"I am working in embedded project. for that we are planning to go for my sql db. We want to know whether is it open source license ? or do we need to pay for it ?

Any idea ? or any links..

Please help me.",mysql,mysqli,,,,02/01/2012 14:17:36,off topic,1,44,5,"reg my sql license clarification I am working in embedded project. for that we are planning to go for my sql db. We want to know whether is it open source license ? or do we need to pay for it ?

Any idea ? or any links..

Please help me.",2
10238296,04/19/2012 23:29:18,1345249,04/19/2012 22:41:33,1,0,MySQL Union on Dissimilar Fields without Dummy Columns,"So lets say I have 2 or more tables consisting of dissimilar columns in which a shared key (id) is not necessarily present :

    Alpha:  
    +----+-------+-------+-------+
    | id | paula | randy | simon |
    +----+-------+-------+-------+
    |  1 |     8 |     7 |     2 |
    |  2 |     9 |     6 |     2 |
    |  3 |    10 |     5 |     2 |
    +----+-------+-------+-------+

    Beta:
    +----+---------+-----+------------+------+
    | id | is_nice | sex |        dob | gift |
    +----+---------+-----+------------+------+
    |  2 |       1 |   F | 1990-05-25 | iPod |
    |  3 |       0 |   M | 1990-05-25 | coal |
    +----+---------+-----+------------+------+

    Gamma:
    +----+---------+--------+
    | id | is_tall | is_fat |
    +----+---------+--------+
    |  1 |       1 |      1 |
    | 99 |       0 |      1 |
    +----+---------+--------+


The desired effect is to mash the tables together on id inserting NULLs where data is not available:

    +----+-------+-------+-------+---------+-----+------------+------+---------+--------+
    | id | paula | randy | simon | is_nice | sex |        dob | gift | is_tall | is_fat |
    +----+-------+-------+-------+---------+-----+------------+------+---------+--------+
    |  1 |     8 |     7 |     2 |         |     |            |      |       1 |      1 |
    |  2 |     9 |     6 |     2 |       1 |   F | 1990-05-25 | iPod |         |        |
    |  3 |    10 |     5 |     2 |       0 |   M | 1990-05-25 | coal |       1 |      1 |
    | 99 |       |       |       |         |     |            |      |       0 |      0 |
    +----+-------+-------+-------+---------+-----+------------+------+---------+--------+

I can use NULL 'dummy' columns and UNION ([MySql SELECT union for different columns?][1]) but that seems like a royal pain if the number of tables is great. I'd like to think there is a JOIN method I can use to accomplish this, but I need some help to figure this out.

This works:

    SELECT `id`, `paula`, `randy`, ..., NULL AS `is_nice`, ... FROM `Alpha`
    UNION SELECT `id`, NULL AS `paula`, ..., FROM `Beta`
    UNION SELECT `id`, NULL AS `paula`, ..., `is_fat` FROM `Gamma` ;

but it sure feels like the **wrong** way to do it. How can I get the same results without having to edit lines and lines of SQL inserting <tt>NULL AS `whatever`</tt> all over the place whenever I want to tack on additional tables?

Thanks in advance!


  [1]: http://stackoverflow.com/questions/7407864/mysql-select-union-for-different-columns",mysql,join,union,field,fake,,open,0,738,8,"MySQL Union on Dissimilar Fields without Dummy Columns So lets say I have 2 or more tables consisting of dissimilar columns in which a shared key (id) is not necessarily present :

    Alpha:  
    +----+-------+-------+-------+
    | id | paula | randy | simon |
    +----+-------+-------+-------+
    |  1 |     8 |     7 |     2 |
    |  2 |     9 |     6 |     2 |
    |  3 |    10 |     5 |     2 |
    +----+-------+-------+-------+

    Beta:
    +----+---------+-----+------------+------+
    | id | is_nice | sex |        dob | gift |
    +----+---------+-----+------------+------+
    |  2 |       1 |   F | 1990-05-25 | iPod |
    |  3 |       0 |   M | 1990-05-25 | coal |
    +----+---------+-----+------------+------+

    Gamma:
    +----+---------+--------+
    | id | is_tall | is_fat |
    +----+---------+--------+
    |  1 |       1 |      1 |
    | 99 |       0 |      1 |
    +----+---------+--------+


The desired effect is to mash the tables together on id inserting NULLs where data is not available:

    +----+-------+-------+-------+---------+-----+------------+------+---------+--------+
    | id | paula | randy | simon | is_nice | sex |        dob | gift | is_tall | is_fat |
    +----+-------+-------+-------+---------+-----+------------+------+---------+--------+
    |  1 |     8 |     7 |     2 |         |     |            |      |       1 |      1 |
    |  2 |     9 |     6 |     2 |       1 |   F | 1990-05-25 | iPod |         |        |
    |  3 |    10 |     5 |     2 |       0 |   M | 1990-05-25 | coal |       1 |      1 |
    | 99 |       |       |       |         |     |            |      |       0 |      0 |
    +----+-------+-------+-------+---------+-----+------------+------+---------+--------+

I can use NULL 'dummy' columns and UNION ([MySql SELECT union for different columns?][1]) but that seems like a royal pain if the number of tables is great. I'd like to think there is a JOIN method I can use to accomplish this, but I need some help to figure this out.

This works:

    SELECT `id`, `paula`, `randy`, ..., NULL AS `is_nice`, ... FROM `Alpha`
    UNION SELECT `id`, NULL AS `paula`, ..., FROM `Beta`
    UNION SELECT `id`, NULL AS `paula`, ..., `is_fat` FROM `Gamma` ;

but it sure feels like the **wrong** way to do it. How can I get the same results without having to edit lines and lines of SQL inserting <tt>NULL AS `whatever`</tt> all over the place whenever I want to tack on additional tables?

Thanks in advance!


  [1]: http://stackoverflow.com/questions/7407864/mysql-select-union-for-different-columns",5
6554722,07/02/2011 02:14:31,818495,06/28/2011 04:26:03,1,0,what's the main difference between sql server and mysql?,"I always use mysql,but,in this project,we must use the sql server to complete the project,who can tell me what's the main difference between sql server and mysql?",mysql,sql,,,,07/02/2011 02:17:45,not a real question,1,27,9,"what's the main difference between sql server and mysql? I always use mysql,but,in this project,we must use the sql server to complete the project,who can tell me what's the main difference between sql server and mysql?",2
7554812,09/26/2011 12:07:10,817527,06/27/2011 14:05:26,147,2,"MYSQL, stuck outside HELP?","I have been using xampp for quite a while now, and last morning I started to get some weird messages when I was developing my website, It happened yesterday and started as something I thought I could handle but apprently I couldn't. These messages were some about timeouts, some were about ""can't connect"" for my connection string inside my website.

I was thinking that the site might be under attack. as last morning was pretty much like any other morning. I can actually start the admin (the button near the ""start/stop"" apache) page, but can't login to mysql. I think root was not set, so I tried to use the documentation to reset it.

What happens now is that I just cannot login into MYSQL Server no matter what I do.
I keep getting access denied for ''@'localhost' and 'root@localhost' if I try logging as root.

I have been on all the web for help!
Please HELP !!",mysql,phpmyadmin,,,,09/26/2011 12:31:36,off topic,1,153,4,"MYSQL, stuck outside HELP? I have been using xampp for quite a while now, and last morning I started to get some weird messages when I was developing my website, It happened yesterday and started as something I thought I could handle but apprently I couldn't. These messages were some about timeouts, some were about ""can't connect"" for my connection string inside my website.

I was thinking that the site might be under attack. as last morning was pretty much like any other morning. I can actually start the admin (the button near the ""start/stop"" apache) page, but can't login to mysql. I think root was not set, so I tried to use the documentation to reset it.

What happens now is that I just cannot login into MYSQL Server no matter what I do.
I keep getting access denied for ''@'localhost' and 'root@localhost' if I try logging as root.

I have been on all the web for help!
Please HELP !!",2
5227665,03/08/2011 02:32:07,649140,03/08/2011 02:32:07,1,0,MySQL While loop throwing an error,"	SELECT COUNT(*) INTO @count FROM `tableName` WHERE `id` = OLD.id;
	
	WHILE @count > -1 DO
		SET @count = @count - 1;
		/* loop logic in here */
	END WHILE;

I have this SQL but when I run it I get an error (SQL Syntax) that MySQL says is near the `WHILE @count > -1 DO SET @count = @count - 1;`. I've tried wrapping the while in a `BEGIN ... END;` block but that doesn't affect it at all.

Due to MySQL's brilliantly vague errors I can't work out what I've done wrong.

I'm sure it's very simple but it's late and I can't spot it for the life of me.",mysql,sql,while-loops,,,,open,0,104,6,"MySQL While loop throwing an error 	SELECT COUNT(*) INTO @count FROM `tableName` WHERE `id` = OLD.id;
	
	WHILE @count > -1 DO
		SET @count = @count - 1;
		/* loop logic in here */
	END WHILE;

I have this SQL but when I run it I get an error (SQL Syntax) that MySQL says is near the `WHILE @count > -1 DO SET @count = @count - 1;`. I've tried wrapping the while in a `BEGIN ... END;` block but that doesn't affect it at all.

Due to MySQL's brilliantly vague errors I can't work out what I've done wrong.

I'm sure it's very simple but it's late and I can't spot it for the life of me.",3
10569608,05/13/2012 05:47:24,1319219,04/07/2012 14:56:06,31,0,Can I access MYSQL Server host in Windows safe mode with networking?,"I am trying to start a local instance in MYSQL, on windows safe mode with networking and keep getting this error message:

Connecting to MySQL server localhost...

Can't connect to MySQL server on '127.0.0.1' (10061)

is this because I am using windows safe mode? thanks for your help.",mysql,,,,,05/13/2012 18:32:50,off topic,1,45,12,"Can I access MYSQL Server host in Windows safe mode with networking? I am trying to start a local instance in MYSQL, on windows safe mode with networking and keep getting this error message:

Connecting to MySQL server localhost...

Can't connect to MySQL server on '127.0.0.1' (10061)

is this because I am using windows safe mode? thanks for your help.",1
5265244,03/10/2011 20:03:45,540736,12/13/2010 15:48:22,21,2,MySQL query for UK postcode to lat/lng lookup including partials?,"Ok, simplest table in the world, for looking up lat/lng values for a UK postcode (loaded with full UK postcode data):

    CREATE TABLE postcodes (
      postcode char(7) NOT NULL,
      lat double(10,6) NOT NULL,
      lng double(10,6) NOT NULL,
      KEY postcode (postcode)
    )

Postcodes in 'postcode' field either have 2 digits at the end of the first half, or one and then a space. I think the space is important for the integrity of how they are matched (??), and besides I don't want to remove the spaces in the table, as I'm also pulling out the postcodes for display purposes (and I don't want a duplicate field, coz I'm fussy!). Examples:

    'LE115AF', 'BS6 5EE', 'W1A 1AA', 'BS216RS', 'M3 1NH'

So, some have spaces, some don't. Most are 7 chars overall, some only 6.

Anyway, point being is I want users to be able to enter postcode queries, including partial postcodes, with or without spaces, and always find a match if their input string is valid (i.e. they don't enter a full or partial postcode which doesn't exist in the table).

This is how I've done it so far (with some help from PHP):

    {...} WHERE `postcode` LIKE '"" . str_replace(' ','%',$query) . ""%' LIMIT 1

This is good for:

- full postcodes which don't contain spaces in the db
- partial postcodes if a space has been entered and there is a corresponding space in the db, or the queried portion stops short of where the space occurs (e.g. 'W1A' will match 'W1A 1AA', 'M3 1' will match 'M3 1AR', etc).

But doesn't work for these queries:

- 'W1A1AA' should match 'W1A 1AA'
- 'BS65EE' should match 'BS6 5EE'
- 'BS65' should match the first 'BS6 5%' postcode in db, which is 'BS6 5AA'
- 'M31' should likewise match 'M3 1AR'

I'm guessing I need to somehow do some MySQL string function magic to work out if there's a space in the row's postcode field, and adjust my WHERE clause logic accordingly? Anyone got any advice on the best approach? I ideally want to also:

- avoid MySQL stored procedures (inline functions preferred)
- do nothing more than inline string functions in the PHP part too

Am I asking too much?

Jon",mysql,sql,geolocation,postcode,uk,,open,0,386,10,"MySQL query for UK postcode to lat/lng lookup including partials? Ok, simplest table in the world, for looking up lat/lng values for a UK postcode (loaded with full UK postcode data):

    CREATE TABLE postcodes (
      postcode char(7) NOT NULL,
      lat double(10,6) NOT NULL,
      lng double(10,6) NOT NULL,
      KEY postcode (postcode)
    )

Postcodes in 'postcode' field either have 2 digits at the end of the first half, or one and then a space. I think the space is important for the integrity of how they are matched (??), and besides I don't want to remove the spaces in the table, as I'm also pulling out the postcodes for display purposes (and I don't want a duplicate field, coz I'm fussy!). Examples:

    'LE115AF', 'BS6 5EE', 'W1A 1AA', 'BS216RS', 'M3 1NH'

So, some have spaces, some don't. Most are 7 chars overall, some only 6.

Anyway, point being is I want users to be able to enter postcode queries, including partial postcodes, with or without spaces, and always find a match if their input string is valid (i.e. they don't enter a full or partial postcode which doesn't exist in the table).

This is how I've done it so far (with some help from PHP):

    {...} WHERE `postcode` LIKE '"" . str_replace(' ','%',$query) . ""%' LIMIT 1

This is good for:

- full postcodes which don't contain spaces in the db
- partial postcodes if a space has been entered and there is a corresponding space in the db, or the queried portion stops short of where the space occurs (e.g. 'W1A' will match 'W1A 1AA', 'M3 1' will match 'M3 1AR', etc).

But doesn't work for these queries:

- 'W1A1AA' should match 'W1A 1AA'
- 'BS65EE' should match 'BS6 5EE'
- 'BS65' should match the first 'BS6 5%' postcode in db, which is 'BS6 5AA'
- 'M31' should likewise match 'M3 1AR'

I'm guessing I need to somehow do some MySQL string function magic to work out if there's a space in the row's postcode field, and adjust my WHERE clause logic accordingly? Anyone got any advice on the best approach? I ideally want to also:

- avoid MySQL stored procedures (inline functions preferred)
- do nothing more than inline string functions in the PHP part too

Am I asking too much?

Jon",5
7802900,10/18/2011 05:44:03,758851,05/18/2011 08:52:10,69,6,"mysql sum, with row IDs","In MySQL I'm trying to sum up a column but retain the row IDs. When I do a sum, the IDs are compressed and the result is

1 | 1500

What I would like is

1,2,3 | 1500",mysql,sum,,,,,open,0,35,5,"mysql sum, with row IDs In MySQL I'm trying to sum up a column but retain the row IDs. When I do a sum, the IDs are compressed and the result is

1 | 1500

What I would like is

1,2,3 | 1500",2
7877457,10/24/2011 14:46:39,814395,06/24/2011 16:15:56,1,1,fulltext index being ignored in Boolean Mode when used with number of words conditional,"fulltext match is ignoring its index when I add a number of words conditional for its bolean word. The selects are as follows:

    explain select * from seeds  WHERE  MATCH(text) AGAINST (""mount cameroon"" IN BOOLEAN MODE);

outputs 

    +----+-------------+-------+----------+---------------+------+---------+------+------+-------------+
    | id | select_type | table | type     | possible_keys | key  | key_len | ref  | rows | Extra       |
    +----+-------------+-------+----------+---------------+------+---------+------+------+-------------+
    |  1 | SIMPLE      | seeds | fulltext | text          | text | 0       |      |    1 | Using where |
    +----+-------------+-------+----------+---------------+------+---------+------+------+-------------+

the same query with a number of words conditional 

    explain select * from seeds  WHERE  MATCH(text) AGAINST (""mount cameroon"" IN BOOLEAN MODE) = 4;

outputs

    +----+-------------+-------+------+---------------+------+---------+------+------+-------------+
    | id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra       |
    +----+-------------+-------+------+---------------+------+---------+------+------+-------------+
    |  1 | SIMPLE      | seeds | ALL  | NULL          | NULL | NULL    | NULL | 9607 | Using where |
    +----+-------------+-------+------+---------------+------+---------+------+------+-------------+


surely this cant be correct behaviour?",mysql,full-text-search,,,,,open,0,265,14,"fulltext index being ignored in Boolean Mode when used with number of words conditional fulltext match is ignoring its index when I add a number of words conditional for its bolean word. The selects are as follows:

    explain select * from seeds  WHERE  MATCH(text) AGAINST (""mount cameroon"" IN BOOLEAN MODE);

outputs 

    +----+-------------+-------+----------+---------------+------+---------+------+------+-------------+
    | id | select_type | table | type     | possible_keys | key  | key_len | ref  | rows | Extra       |
    +----+-------------+-------+----------+---------------+------+---------+------+------+-------------+
    |  1 | SIMPLE      | seeds | fulltext | text          | text | 0       |      |    1 | Using where |
    +----+-------------+-------+----------+---------------+------+---------+------+------+-------------+

the same query with a number of words conditional 

    explain select * from seeds  WHERE  MATCH(text) AGAINST (""mount cameroon"" IN BOOLEAN MODE) = 4;

outputs

    +----+-------------+-------+------+---------------+------+---------+------+------+-------------+
    | id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra       |
    +----+-------------+-------+------+---------------+------+---------+------+------+-------------+
    |  1 | SIMPLE      | seeds | ALL  | NULL          | NULL | NULL    | NULL | 9607 | Using where |
    +----+-------------+-------+------+---------------+------+---------+------+------+-------------+


surely this cant be correct behaviour?",2
2922720,05/27/2010 16:01:01,49478,12/28/2008 08:22:32,4440,395,Adding relative week number column to MySQl results,"I have a table with 3 columns: `user`, `value`, and `date`. The main query returns the values for a specific user based on a date range:

    SELECT date, value FROM values
    WHERE user = '$user' AND
    date BETWEEN $start AND $end

What I would like is for the results to also have a column indicating the week number relative to the date range. So if the date range is 1/1/2010 - 1/20/2010, then any results from the first Sun - Sat of that range are `week 1`, the next Sun - Sat are `week 2`, etc. If the date range starts on a Saturday, then only results from that one day would be `week 1`. If the date range starts on Thursday but the first result is on the following Monday, it would be `week 2`, and there are no `week 1` results.

Is this something fairly simple to add to the query? The only ideas I can come up with would be based on the week number for the year or the week number based on the results themselves (where in that second example above, the first result always gets `week 1`).",mysql,datetime,,,,,open,0,200,8,"Adding relative week number column to MySQl results I have a table with 3 columns: `user`, `value`, and `date`. The main query returns the values for a specific user based on a date range:

    SELECT date, value FROM values
    WHERE user = '$user' AND
    date BETWEEN $start AND $end

What I would like is for the results to also have a column indicating the week number relative to the date range. So if the date range is 1/1/2010 - 1/20/2010, then any results from the first Sun - Sat of that range are `week 1`, the next Sun - Sat are `week 2`, etc. If the date range starts on a Saturday, then only results from that one day would be `week 1`. If the date range starts on Thursday but the first result is on the following Monday, it would be `week 2`, and there are no `week 1` results.

Is this something fairly simple to add to the query? The only ideas I can come up with would be based on the week number for the year or the week number based on the results themselves (where in that second example above, the first result always gets `week 1`).",2
8306377,11/29/2011 05:37:56,552423,12/23/2010 13:47:20,139,4,mysql replication deadlock slave stopped,"I've a master and slave and got the slave stopped with the following error log in slave. I want to fix this and get the two servers on synch and get going again.

    111128 8:42:24 [Note] Slave I/O thread: connected to master 'repl@masterIP:3306', replication started in log 'mysql-bin.000006' at position 169

    111128 15:46:50 [ERROR] Slave: Query caused different errors on master and slave. Error on master: 'Deadlock found when trying to get lock; try restarting transaction' (1213), Error on slave: 'no error' (0). Default database: 'Dbase'. Query: 'insert into archieved(eid,at,rtime,scode) select id,at,avg(rtime),scode from tstatus where date(at)=""2011-10-29"" group by id', Error_code: 0 111128 15:46:50 [ERROR] Error running query, slave SQL thread aborted. Fix the problem, and restart the slave SQL thread with ""SLAVE START"". We stopped at log 'mysql-bin.000006' position 1277768

I'm not sure how to do the following:

    try restarting transaction' (1213)

Thanks.
",mysql,replication,deadlock,,,11/29/2011 05:59:43,off topic,1,150,5,"mysql replication deadlock slave stopped I've a master and slave and got the slave stopped with the following error log in slave. I want to fix this and get the two servers on synch and get going again.

    111128 8:42:24 [Note] Slave I/O thread: connected to master 'repl@masterIP:3306', replication started in log 'mysql-bin.000006' at position 169

    111128 15:46:50 [ERROR] Slave: Query caused different errors on master and slave. Error on master: 'Deadlock found when trying to get lock; try restarting transaction' (1213), Error on slave: 'no error' (0). Default database: 'Dbase'. Query: 'insert into archieved(eid,at,rtime,scode) select id,at,avg(rtime),scode from tstatus where date(at)=""2011-10-29"" group by id', Error_code: 0 111128 15:46:50 [ERROR] Error running query, slave SQL thread aborted. Fix the problem, and restart the slave SQL thread with ""SLAVE START"". We stopped at log 'mysql-bin.000006' position 1277768

I'm not sure how to do the following:

    try restarting transaction' (1213)

Thanks.
",3
3371064,07/30/2010 11:38:55,386701,07/08/2010 13:36:20,67,0,Does the setting time_out in mysql affect JDBC connection pool?,"It's usually set to 60 seconds.

But I think con pool will hold the connection, so is there any conflict? Thank you.",mysql,jdbc,connection-pooling,,,,open,0,21,10,"Does the setting time_out in mysql affect JDBC connection pool? It's usually set to 60 seconds.

But I think con pool will hold the connection, so is there any conflict? Thank you.",3
5964475,05/11/2011 12:46:33,378290,06/28/2010 17:41:18,46,2,InnoDB and tmp_table issue,"I have a set of three InnoDB tables in a MySQL server on which I do a simple SELECT. 

    SELECT s.type, s.Price,l.ratio, o.type, 
    FROM Structures s, Orders o, Legs l 

    WHERE s.type in ('',...,'')  
    AND o.ID >= s.ID* 10  
    AND o.ID<= s.ID * 10 + s.orderNumber -1  
    AND l.ID >= s.ID * 10  
    AND l.ID <= s.ID * 10 + s.legNumber -1  

    ORDER BY s.type, s.FurthestExpiration, s.NearestExpiration

After a certain number of rows added (around 1,800 for Structures, 3,000 for Legs and Orders), I cannot execute this request and I see in MySQL workbench that the request's state is 

    Copying to the tmp table. 

The request never finishes.

Some remarks:

1. If I do the same request in the Workbench, it succeeds.
2. If I remove the ORDER BY clause, it succeeds. 
3. If I switch the engine from InnoDB to MyISAM, it works.

I don't really care about using InnoDB or MyISAM, but I am not sure that's an incompatibility with InnoDB, I suspect there are some issues in my DB parameters/design.

Thanks for any clue!",mysql,innodb,,,,,open,0,212,4,"InnoDB and tmp_table issue I have a set of three InnoDB tables in a MySQL server on which I do a simple SELECT. 

    SELECT s.type, s.Price,l.ratio, o.type, 
    FROM Structures s, Orders o, Legs l 

    WHERE s.type in ('',...,'')  
    AND o.ID >= s.ID* 10  
    AND o.ID<= s.ID * 10 + s.orderNumber -1  
    AND l.ID >= s.ID * 10  
    AND l.ID <= s.ID * 10 + s.legNumber -1  

    ORDER BY s.type, s.FurthestExpiration, s.NearestExpiration

After a certain number of rows added (around 1,800 for Structures, 3,000 for Legs and Orders), I cannot execute this request and I see in MySQL workbench that the request's state is 

    Copying to the tmp table. 

The request never finishes.

Some remarks:

1. If I do the same request in the Workbench, it succeeds.
2. If I remove the ORDER BY clause, it succeeds. 
3. If I switch the engine from InnoDB to MyISAM, it works.

I don't really care about using InnoDB or MyISAM, but I am not sure that's an incompatibility with InnoDB, I suspect there are some issues in my DB parameters/design.

Thanks for any clue!",2
5737443,04/20/2011 22:35:32,718003,04/20/2011 22:35:32,1,0,Problem saving ENUM field to MySQL using symfony1.4/Doctrine using jquery ajax call,"I'm currently on a project that receives applications and the part I'm currently on has a grader that assigns a manual grade for the application.  The possible scores are enum values stored in a MySQL field.  For whatever reason I cannot seem to get the value to actually be save to the database.

I have tried Doctrines Rawsql and I have tried the method below (that I would expect to work).  I have done testing to ensure that the values received on the server side to match the SQL enum field.  I've tried to include as much code as possible that I see as pertaining to the issue, but if there's more needed just let me know!

Function to update field in DB.

    public function executeSetLongAnswerGrade(sfWebRequest $request){
        
        $application = $this->getRoute()->getObject();
        if($request->isXmlHttpRequest()){
            if($request->getParameter(""methodCall"") == ""Passion""){
                $application->setGradepassion($request->getParameter('value'));
                return true;
            }elseif($request->getParameter(""methodCall"") == ""Grammer""){
                $application->setGradegrammer($request->getParameter('value'));
                
            }elseif($request->getParameter('methodCall') == ""Thought""){
                $application->setGradethought($request->getParameter('value'));
                return true;
            }
            $application->save();
            return true;
        }
    }


----------


Route:

> ajaxSetLongAnswerGrade:
  url:          /setLongAnswerGrade/:applicationId
  class:        sfDoctrineRoute
  options:      { model: Application, type: object}
  param:        { module: application, action: SetLongAnswerGrade } 
  requirements: 
    id:         \d+ 
    sf_method:  [get]

(Can't find a way to get the yml formatted correctly)
----------
Ajax Call:

    $(document).ready(function(){
    $('#passionMSG').hide();
    $('#grammerMSG').hide();
    $('#thoughtMSG').hide();
    $('.passionSuccess').hide();$('.passionError').hide();
    $('.grammerSuccess').hide();$('.grammerError').hide();
    $('.thoughtSuccess').hide();$('.thoughtError').hide();
	$('#passion').change(function()
	{
		$('#passion').attr('disabled', true);
                $('.passionSuccess').hide();
                $('#passionMSG').slideDown(200);
                $('.passionError').hide();
		$.ajax({
                    url: '<?php echo url_for2('ajaxSetLongAnswerGrade', $application) ?>',
			  data: { methodCall: ""Passion"",
                                  value: this.value} ,
			  success: function(data) {
				  $('#passion').attr('disabled', false);
                                  $('#passionMSG').slideUp(1500)
                                  $('.passionSuccess').delay(1300).slideDown(2000);
			  },
                          error: function(){
                                  $('#passion').attr('disabled', false);
                                  $('#passionMSG').slideUp(1500)
                                  $('.passionError').delay(1300).slideDown(2000);
                          }
			});
	});});",mysql,ajax,symfony,doctrine,doctrine-1.2,,open,0,807,12,"Problem saving ENUM field to MySQL using symfony1.4/Doctrine using jquery ajax call I'm currently on a project that receives applications and the part I'm currently on has a grader that assigns a manual grade for the application.  The possible scores are enum values stored in a MySQL field.  For whatever reason I cannot seem to get the value to actually be save to the database.

I have tried Doctrines Rawsql and I have tried the method below (that I would expect to work).  I have done testing to ensure that the values received on the server side to match the SQL enum field.  I've tried to include as much code as possible that I see as pertaining to the issue, but if there's more needed just let me know!

Function to update field in DB.

    public function executeSetLongAnswerGrade(sfWebRequest $request){
        
        $application = $this->getRoute()->getObject();
        if($request->isXmlHttpRequest()){
            if($request->getParameter(""methodCall"") == ""Passion""){
                $application->setGradepassion($request->getParameter('value'));
                return true;
            }elseif($request->getParameter(""methodCall"") == ""Grammer""){
                $application->setGradegrammer($request->getParameter('value'));
                
            }elseif($request->getParameter('methodCall') == ""Thought""){
                $application->setGradethought($request->getParameter('value'));
                return true;
            }
            $application->save();
            return true;
        }
    }


----------


Route:

> ajaxSetLongAnswerGrade:
  url:          /setLongAnswerGrade/:applicationId
  class:        sfDoctrineRoute
  options:      { model: Application, type: object}
  param:        { module: application, action: SetLongAnswerGrade } 
  requirements: 
    id:         \d+ 
    sf_method:  [get]

(Can't find a way to get the yml formatted correctly)
----------
Ajax Call:

    $(document).ready(function(){
    $('#passionMSG').hide();
    $('#grammerMSG').hide();
    $('#thoughtMSG').hide();
    $('.passionSuccess').hide();$('.passionError').hide();
    $('.grammerSuccess').hide();$('.grammerError').hide();
    $('.thoughtSuccess').hide();$('.thoughtError').hide();
	$('#passion').change(function()
	{
		$('#passion').attr('disabled', true);
                $('.passionSuccess').hide();
                $('#passionMSG').slideDown(200);
                $('.passionError').hide();
		$.ajax({
                    url: '<?php echo url_for2('ajaxSetLongAnswerGrade', $application) ?>',
			  data: { methodCall: ""Passion"",
                                  value: this.value} ,
			  success: function(data) {
				  $('#passion').attr('disabled', false);
                                  $('#passionMSG').slideUp(1500)
                                  $('.passionSuccess').delay(1300).slideDown(2000);
			  },
                          error: function(){
                                  $('#passion').attr('disabled', false);
                                  $('#passionMSG').slideUp(1500)
                                  $('.passionError').delay(1300).slideDown(2000);
                          }
			});
	});});",5
10569296,05/13/2012 04:23:57,1391771,05/13/2012 04:10:35,1,0,Questions about connecting to mysql database in php,"environment: ubuntu 11.04 + eclipse PDT

When using PEAR:DB package to connect to a mysql database in eclipse, the following errors prompts:
**PHP Fatal error:  DB Error: extension not found in /usr/share/php/PEAR.php on line 873**

Do somebody know how to figure out this problem, thank you!

Here is some phpinfo:  
    System	Linux justin-ubuntu 2.6.38-13-generic #53-Ubuntu SMP Mon Nov 28 19:23:39 UTC 2011 i686  
    Build Date:     May 4 2012 00:29:52  
    Server API: 	Apache 2.0 Handler  
    Virtual Directory Support: 	disabled  
    Configuration File (php.ini) Path: 	/etc/php5/apache2  
    Loaded Configuration File: 	/etc/php5/apache2/php.ini  
    Scan this dir for additional .ini files: 	/etc/php5/apache2/conf.d  
    Additional .ini files parsed: 	/etc/php5/apache2/conf.d/gd.ini,                     /etc/php5/apache2/conf.d/mcrypt.ini, /etc/php5/apache2/conf.d/mysql.ini, /etc/php5/apache2/conf.d/mysqli.ini, /etc/php5/apache2/conf.d/pdo.ini, /etc/php5/apache2/conf.d/pdo_mysql.ini, /etc/php5/apache2/conf.d/xdebug.ini  
    PHP API: 	20090626  
    PHP Extension: 	20090626  
    Zend Extension: 	220090626  
    Zend Extension Build: 	API220090626,NTS  
    PHP Extension Build: 	API20090626,NTS  ",mysql,eclipse,php5,,,05/13/2012 18:32:05,not constructive,1,210,8,"Questions about connecting to mysql database in php environment: ubuntu 11.04 + eclipse PDT

When using PEAR:DB package to connect to a mysql database in eclipse, the following errors prompts:
**PHP Fatal error:  DB Error: extension not found in /usr/share/php/PEAR.php on line 873**

Do somebody know how to figure out this problem, thank you!

Here is some phpinfo:  
    System	Linux justin-ubuntu 2.6.38-13-generic #53-Ubuntu SMP Mon Nov 28 19:23:39 UTC 2011 i686  
    Build Date:     May 4 2012 00:29:52  
    Server API: 	Apache 2.0 Handler  
    Virtual Directory Support: 	disabled  
    Configuration File (php.ini) Path: 	/etc/php5/apache2  
    Loaded Configuration File: 	/etc/php5/apache2/php.ini  
    Scan this dir for additional .ini files: 	/etc/php5/apache2/conf.d  
    Additional .ini files parsed: 	/etc/php5/apache2/conf.d/gd.ini,                     /etc/php5/apache2/conf.d/mcrypt.ini, /etc/php5/apache2/conf.d/mysql.ini, /etc/php5/apache2/conf.d/mysqli.ini, /etc/php5/apache2/conf.d/pdo.ini, /etc/php5/apache2/conf.d/pdo_mysql.ini, /etc/php5/apache2/conf.d/xdebug.ini  
    PHP API: 	20090626  
    PHP Extension: 	20090626  
    Zend Extension: 	220090626  
    Zend Extension Build: 	API220090626,NTS  
    PHP Extension Build: 	API20090626,NTS  ",3
8410585,12/07/2011 04:57:01,300359,03/23/2010 22:17:28,10,0,Database performance improvement from old project,"My current project requires to insert lot of records (around millions) to the database. Unfortunately, this project was developed year ago and now, passed to my team, so all the designs (database, hibernate, ...) are done already. Is there any way to improve the performance of the database? since everytime i try to count the record of one table (2 mil+ records, Mysql), it cost nearly 4 minutes ",mysql,database,hibernate,,,12/07/2011 15:44:51,off topic,1,69,6,"Database performance improvement from old project My current project requires to insert lot of records (around millions) to the database. Unfortunately, this project was developed year ago and now, passed to my team, so all the designs (database, hibernate, ...) are done already. Is there any way to improve the performance of the database? since everytime i try to count the record of one table (2 mil+ records, Mysql), it cost nearly 4 minutes ",3
8863083,01/14/2012 15:13:10,168313,09/04/2009 04:56:30,627,0,SQL - joining data,"Is it possible to get 1 result where I require data from 3 tables.

First table: I will need to grab all the fields (1 row found by a primary key)

Second table: I will need to grab the field 'username' (connected to first table by 'master_id')

Third table: I will need to grab the latest added row with the associated master_id key (table has 'date', 'master_id', 'previous_name').",mysql,sql,join,,,,open,0,65,4,"SQL - joining data Is it possible to get 1 result where I require data from 3 tables.

First table: I will need to grab all the fields (1 row found by a primary key)

Second table: I will need to grab the field 'username' (connected to first table by 'master_id')

Third table: I will need to grab the latest added row with the associated master_id key (table has 'date', 'master_id', 'previous_name').",3
6699144,07/14/2011 19:52:17,819746,06/28/2011 18:19:06,6,0,Web Hosting of an Eclipse project,"This would be very silly but We have never hosted a site on the Internet.
I have managed to build a site with a bunch of teammates using Eclipse IDE, JSP, MySQL, Apache Geronimo.
Now when we thought of putting the website online we are stuck in the methods of doing This.
Please give share some of your experiences.
I have an old domain of [Godaddy][1] but i dont know how to use so many resources in that.
Nor I think that GODADDY account supports Java..
Waiting for your suggestions.
Thanks


  [1]: http://www.godaddy.com",mysql,jsp,web-hosting,,,07/16/2011 03:30:12,off topic,1,87,6,"Web Hosting of an Eclipse project This would be very silly but We have never hosted a site on the Internet.
I have managed to build a site with a bunch of teammates using Eclipse IDE, JSP, MySQL, Apache Geronimo.
Now when we thought of putting the website online we are stuck in the methods of doing This.
Please give share some of your experiences.
I have an old domain of [Godaddy][1] but i dont know how to use so many resources in that.
Nor I think that GODADDY account supports Java..
Waiting for your suggestions.
Thanks


  [1]: http://www.godaddy.com",3
362223,12/12/2008 08:40:43,16686,09/17/2008 19:44:52,455,19,Best MySQL performance tuning tool?,"Which is the best, user-friendliest performance tool for MySQL? I'd like help with pinpointing the bottle neck of my setup. Is the problem in the SQL statements, the settings variables, or something else?",mysql,performance,,,,09/14/2011 15:22:01,not constructive,1,33,5,"Best MySQL performance tuning tool? Which is the best, user-friendliest performance tool for MySQL? I'd like help with pinpointing the bottle neck of my setup. Is the problem in the SQL statements, the settings variables, or something else?",2
10070810,04/09/2012 08:40:08,1239803,02/29/2012 09:05:17,31,1,Insert 8 rows into 8 columns,"i am just getting the result from a query like this

user_id
108
183
172
129
158
178
117
104

and i want the result in this format
m1    m2   m3   m4   m5   m6   m7   m8
108  183  172  129  158  178  117   104
can anybody help me 
",mysql,query,,,,04/10/2012 11:47:56,not a real question,1,59,6,"Insert 8 rows into 8 columns i am just getting the result from a query like this

user_id
108
183
172
129
158
178
117
104

and i want the result in this format
m1    m2   m3   m4   m5   m6   m7   m8
108  183  172  129  158  178  117   104
can anybody help me 
",2
10991436,06/12/2012 06:20:30,1348201,04/21/2012 11:01:54,16,0,Mysql approach on choosing the right version for PROD acc to Oracle Distribution standards..,"I have a query on choosing mysql distribution release for production server. According to me, I go for GA community version server on 64BIT. This is my only approach for prod servers. Is this approach is correct?? Kindly help.",mysql,,,,,,open,0,39,14,"Mysql approach on choosing the right version for PROD acc to Oracle Distribution standards.. I have a query on choosing mysql distribution release for production server. According to me, I go for GA community version server on 64BIT. This is my only approach for prod servers. Is this approach is correct?? Kindly help.",1
2441062,03/14/2010 03:14:16,427855,02/23/2009 06:42:29,334,6,Where Mysql Simple database can i download?,"Where Mysql Simple database can i download?
I would like to use query fo test but not have data in database
where i found its?",mysql,,,,,,open,0,23,7,"Where Mysql Simple database can i download? Where Mysql Simple database can i download?
I would like to use query fo test but not have data in database
where i found its?",1
2191719,02/03/2010 12:12:43,96957,04/28/2009 08:00:22,11,1,mysql where condition,"I'm interessting in where condition if I write

Select * from table_name where insert_date > '2010-01-03' and text like '%friend%';

it's difer from 

Select * from table_name where text like '%friend%'  and insert_date > '2010-01-03';

I mean if the table is very big, has a lot of rows and if mysql from first takes records with condition "" where insert_date > '2010-01-03' "" and than search in these records for a word ""friend"" it can be much faster than from first search for ""friend"" rows and than look into the date field.

Is it important to write where condition smartly, or mysql analyze the condition and rewrites where condition in the best way?

thanks",mysql,where-clause,,,,,open,0,110,3,"mysql where condition I'm interessting in where condition if I write

Select * from table_name where insert_date > '2010-01-03' and text like '%friend%';

it's difer from 

Select * from table_name where text like '%friend%'  and insert_date > '2010-01-03';

I mean if the table is very big, has a lot of rows and if mysql from first takes records with condition "" where insert_date > '2010-01-03' "" and than search in these records for a word ""friend"" it can be much faster than from first search for ""friend"" rows and than look into the date field.

Is it important to write where condition smartly, or mysql analyze the condition and rewrites where condition in the best way?

thanks",2
11682679,07/27/2012 06:39:00,785349,06/06/2011 04:20:32,1285,28,Migrate SQL Server 2008 to MySQL 5,"We have a database running on `SQL Server 2008` that I want to migrate to `MySQL 5`. What are the tools needed to migrate live data from the sever to MySQL without doing any SQL coding.

 - Is there a utility that will convert from a running SQL Server 2008 to a runnung MySQL server on a machine? 
 - How about the stored procedures made with SQL Server 2008, can it be automatically converted?",mysql,sql,sql-server,,,07/28/2012 20:11:46,off topic,1,75,7,"Migrate SQL Server 2008 to MySQL 5 We have a database running on `SQL Server 2008` that I want to migrate to `MySQL 5`. What are the tools needed to migrate live data from the sever to MySQL without doing any SQL coding.

 - Is there a utility that will convert from a running SQL Server 2008 to a runnung MySQL server on a machine? 
 - How about the stored procedures made with SQL Server 2008, can it be automatically converted?",3
1468897,09/23/2009 22:39:32,178125,09/23/2009 22:39:32,1,0,"""Access Denied"" error after re-installing mysql on mac","I reinstalled mysql on my machine, and before that, deleted all the files. However, after the reinstallation, i tried running mysql, and got this error

# mysql -u root
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)

I did not set any password, and in fact, running mysqladmin gives the same error as well

This is totally baffling - any idea why this might be happening?",mysql,osx,,,,09/24/2009 11:07:36,off topic,1,65,8,"""Access Denied"" error after re-installing mysql on mac I reinstalled mysql on my machine, and before that, deleted all the files. However, after the reinstallation, i tried running mysql, and got this error

# mysql -u root
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)

I did not set any password, and in fact, running mysqladmin gives the same error as well

This is totally baffling - any idea why this might be happening?",2
5098684,02/23/2011 23:34:03,631295,02/23/2011 23:14:46,1,0,mysql not reverse sorting datetime field correctly,"I am trying to sort a datetime field in descending order. It is sorting by day just fine. However, the time part is random. It sorts in ascending order perfectly.  
Sample query:  
<code>SELECT * FROM pcvisit WHERE page_id='0005e1ca1784383bf6bf032f33dc6e27' ORDER BY dtime DESC</code>  
Result:
<pre>
4adbc6b1cab4f14e7c9f2e308eb0944e | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-23 16:08:35 | 1
733ab6507fbdab0e71f357f2f0ff6067 | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-23 07:24:12 | 1
a5f9c9810e9648d2dbe4dec0e785216c | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-23 05:26:59 | 1
981e24b4dd257f44a7a41dbdfe4def54 | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-22 09:07:12 | 3
67906b350d59e97d7f56b7ceb254857e | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-22 06:55:44 | 1
</pre>
I have also tried:  
<code>SELECT * FROM pcvisit WHERE page_id='0005e1ca1784383bf6bf032f33dc6e27' ORDER BY dtime DESC, TIME(dtime) DESC</code>  
Trying my best to not have to split it into 2 fields.",mysql,datetime,sorting,order-by,,06/23/2012 20:51:58,too localized,1,110,7,"mysql not reverse sorting datetime field correctly I am trying to sort a datetime field in descending order. It is sorting by day just fine. However, the time part is random. It sorts in ascending order perfectly.  
Sample query:  
<code>SELECT * FROM pcvisit WHERE page_id='0005e1ca1784383bf6bf032f33dc6e27' ORDER BY dtime DESC</code>  
Result:
<pre>
4adbc6b1cab4f14e7c9f2e308eb0944e | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-23 16:08:35 | 1
733ab6507fbdab0e71f357f2f0ff6067 | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-23 07:24:12 | 1
a5f9c9810e9648d2dbe4dec0e785216c | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-23 05:26:59 | 1
981e24b4dd257f44a7a41dbdfe4def54 | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-22 09:07:12 | 3
67906b350d59e97d7f56b7ceb254857e | 0005e1ca1784383bf6bf032f33dc6e27 | 2011-02-22 06:55:44 | 1
</pre>
I have also tried:  
<code>SELECT * FROM pcvisit WHERE page_id='0005e1ca1784383bf6bf032f33dc6e27' ORDER BY dtime DESC, TIME(dtime) DESC</code>  
Trying my best to not have to split it into 2 fields.",4
9015103,01/26/2012 07:40:54,1170755,01/26/2012 06:54:08,1,0,Use R or mysql to calculate time period returns?,"I'm trying to calculate various time period returns (monthly, quarterly, yearly etc.) for each unique member (identified by 'Code' in the example below) of a data set. The data set will contain monthly pricing information for a 20 year period for approximately 500 stocks. An example of the data is below:

             Date Code    Price Dividend
    1  2005-01-31  xyz  1000.00     20.0
    2  2005-01-31  abc     1.00      0.1
    3  2005-02-28  xyz  1030.00     20.0
    4  2005-02-28  abc     1.01      0.1
    5  2005-03-31  xyz  1071.20     20.0
    6  2005-03-31  abc     1.03      0.1
    7  2005-04-30  xyz  1124.76     20.0

I am fairly new to R, but thought that there would be a more efficient solution than looping through each 'Code' and then each 'Date' as shown here:

    uniqueDates <- unique(data$Date)
    uniqueCodes <- unique(data$Code
    
    for  (date in uniqueDates) {
      for (code in uniqueCodes) {
        nextDate <- seq.Date(from=stock_data$Date[i], by=""3 months"",length.out=2)[2]
        curPrice <- data$Price[data$Date == date]
        futPrice <- data$Price[data$Date == nextDate]
        data$ret[(data$Date == date) & (data$Code == code)] <- (futPrice/curPrice)-1
      }
    }
This method in itself has an issue in that seq.Date does not always return the final day in the month.

Unfortunately the data is not uniform (the number of companies/codes varies over time) so using a simple row offset won't work. The calculation must match the 'Code' and 'Date' with the desired date offset. 

I had initially tried selecting the future dates by using the seq.Date function

    data$ret = (data[(data$Date == (seq.Date(from = data$Date, by=""3 month"", length.out=2)[2])), ""Price""] / data$Price) - 1

But this generated an error as seq.Date requires a single entry.

> Error in seq.Date(from = stock_data$Date, by = ""3 month"", length.out =
> 2) :    'from' must be of length 1

I thought that R would be well suited to this type of calculation but perhaps not. Since all the data is in a mysql database I am now thinking that it might be faster/easier to do this calc directly in the database.

Any suggestions would be greatly appreciated.

",mysql,sql,r,,,,open,0,472,9,"Use R or mysql to calculate time period returns? I'm trying to calculate various time period returns (monthly, quarterly, yearly etc.) for each unique member (identified by 'Code' in the example below) of a data set. The data set will contain monthly pricing information for a 20 year period for approximately 500 stocks. An example of the data is below:

             Date Code    Price Dividend
    1  2005-01-31  xyz  1000.00     20.0
    2  2005-01-31  abc     1.00      0.1
    3  2005-02-28  xyz  1030.00     20.0
    4  2005-02-28  abc     1.01      0.1
    5  2005-03-31  xyz  1071.20     20.0
    6  2005-03-31  abc     1.03      0.1
    7  2005-04-30  xyz  1124.76     20.0

I am fairly new to R, but thought that there would be a more efficient solution than looping through each 'Code' and then each 'Date' as shown here:

    uniqueDates <- unique(data$Date)
    uniqueCodes <- unique(data$Code
    
    for  (date in uniqueDates) {
      for (code in uniqueCodes) {
        nextDate <- seq.Date(from=stock_data$Date[i], by=""3 months"",length.out=2)[2]
        curPrice <- data$Price[data$Date == date]
        futPrice <- data$Price[data$Date == nextDate]
        data$ret[(data$Date == date) & (data$Code == code)] <- (futPrice/curPrice)-1
      }
    }
This method in itself has an issue in that seq.Date does not always return the final day in the month.

Unfortunately the data is not uniform (the number of companies/codes varies over time) so using a simple row offset won't work. The calculation must match the 'Code' and 'Date' with the desired date offset. 

I had initially tried selecting the future dates by using the seq.Date function

    data$ret = (data[(data$Date == (seq.Date(from = data$Date, by=""3 month"", length.out=2)[2])), ""Price""] / data$Price) - 1

But this generated an error as seq.Date requires a single entry.

> Error in seq.Date(from = stock_data$Date, by = ""3 month"", length.out =
> 2) :    'from' must be of length 1

I thought that R would be well suited to this type of calculation but perhaps not. Since all the data is in a mysql database I am now thinking that it might be faster/easier to do this calc directly in the database.

Any suggestions would be greatly appreciated.

",3
9463764,02/27/2012 10:53:05,988959,10/11/2011 06:47:37,11,0,Mysql query optimizaiton,"could you please optimize the below mysql query.

SELECT COUNT(DISTINCT a.cust_id ) as total FROM all_ids AS a LEFT JOIN id_details AS b ON a.cust_id = b.cust_id WHERE (a.status = 'A' or a.status = 'I') and b.cust_id IS NOT NULL and a.type = 'abc';

Thanks in Advance.",mysql,query,query-optimization,,,02/28/2012 14:00:59,not a real question,1,45,3,"Mysql query optimizaiton could you please optimize the below mysql query.

SELECT COUNT(DISTINCT a.cust_id ) as total FROM all_ids AS a LEFT JOIN id_details AS b ON a.cust_id = b.cust_id WHERE (a.status = 'A' or a.status = 'I') and b.cust_id IS NOT NULL and a.type = 'abc';

Thanks in Advance.",3
5086606,02/23/2011 03:09:43,199315,10/29/2009 23:37:23,387,2,MySQL and MySQL2 gem builds on host but doesn't build via Capistrano or SSH,"I'm trying to deploy a Rails app that uses Bundler via Capistrano.

Running `cap deploy:cold` gives this:

    ** [out :: (my host)] Installing mysql2 (0.2.6)  
    ** [out :: (my host)] with native extensions  
    *** [err :: (my host)] /usr/lib64/ruby/site_ruby/1.8/rubygems/installer.rb:483:in `build_extensions': ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)  
    *** [err :: (my host)]  
    *** [err :: (my host)] /usr/bin/ruby extconf.rb  
    *** [err :: (my host)] checking for rb_thread_blocking_region()... no  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lm... yes  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lz... yes  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lsocket... no  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lnsl... yes  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lmygcc... no  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] *** extconf.rb failed ***  
    *** [err :: (my host)] Could not create Makefile due to some reason, probably lack of  
    *** [err :: (my host)] necessary libraries and/or headers.  Check the mkmf.log file for more  
    *** [err :: (my host)] details.  You may need configuration options. 

Just install the mysql-dev packages or something right? Not quite because the gems (mysql and mysql2) both build on the machine with Bundler without any issues, plus the other gems install without any issue.

What does Capistrano do that is different?


",mysql,ruby,rubygems,capistrano,bundler,,open,0,385,14,"MySQL and MySQL2 gem builds on host but doesn't build via Capistrano or SSH I'm trying to deploy a Rails app that uses Bundler via Capistrano.

Running `cap deploy:cold` gives this:

    ** [out :: (my host)] Installing mysql2 (0.2.6)  
    ** [out :: (my host)] with native extensions  
    *** [err :: (my host)] /usr/lib64/ruby/site_ruby/1.8/rubygems/installer.rb:483:in `build_extensions': ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)  
    *** [err :: (my host)]  
    *** [err :: (my host)] /usr/bin/ruby extconf.rb  
    *** [err :: (my host)] checking for rb_thread_blocking_region()... no  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lm... yes  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lz... yes  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lsocket... no  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lnsl... yes  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] checking for main() in -lmygcc... no  
    *** [err :: (my host)] checking for mysql_query() in -lmysqlclient... no  
    *** [err :: (my host)] *** extconf.rb failed ***  
    *** [err :: (my host)] Could not create Makefile due to some reason, probably lack of  
    *** [err :: (my host)] necessary libraries and/or headers.  Check the mkmf.log file for more  
    *** [err :: (my host)] details.  You may need configuration options. 

Just install the mysql-dev packages or something right? Not quite because the gems (mysql and mysql2) both build on the machine with Bundler without any issues, plus the other gems install without any issue.

What does Capistrano do that is different?


",5
5014740,02/16/2011 09:37:05,389569,07/12/2010 14:31:08,50,4,Slow INSERTs from SQL Server to MySQL Linked Server,"We're doing a sort of roll-your-own replication from a SQL Server 2008 R2 database to a MySQL 5.1 database.  This isn't true replication, as the MySQL box is acting as permanent storage and the SQL Server is what we're forced to use as a data aggregator.

So, I've written a stored procedure that checks the latest row inserted on my table in question on the MySQL database, populates a temporary table on the SQL Server end with a new batch of rows to insert back on the MySQL box, and does the inserts.  The problem is, this is painfully slow.  I have a backlog of >24 million rows to send from the SQL Server box to MySQL, and at the rate I'm getting <2 rows/second, it's going to take nearly 6 months to complete and will never be able to keep up with new data as it hits the SQL Server database.

The boxes are not on the same network--the MySQL box sits pretty darn near the country's connection to the Internet back bone, but the SQL Server box is (for reasons beyond our control) only connected through a business DSL line (not positive of the upstream speed).  If I connect through the command line (as opposed to by querying through the linked server in SQL Server), I'm able to insert rows in the MySQL database at an average of ~0.03 seconds per row.  This leads me to believe that either my stored procedure is just incredibly inefficient, or OPENQUERY/Linked Servers are just inherently slow.  I will post the procedure here momentarily.  In the meantime, any thoughts?
",mysql,sql-server,replication,linked-server,,,open,0,272,9,"Slow INSERTs from SQL Server to MySQL Linked Server We're doing a sort of roll-your-own replication from a SQL Server 2008 R2 database to a MySQL 5.1 database.  This isn't true replication, as the MySQL box is acting as permanent storage and the SQL Server is what we're forced to use as a data aggregator.

So, I've written a stored procedure that checks the latest row inserted on my table in question on the MySQL database, populates a temporary table on the SQL Server end with a new batch of rows to insert back on the MySQL box, and does the inserts.  The problem is, this is painfully slow.  I have a backlog of >24 million rows to send from the SQL Server box to MySQL, and at the rate I'm getting <2 rows/second, it's going to take nearly 6 months to complete and will never be able to keep up with new data as it hits the SQL Server database.

The boxes are not on the same network--the MySQL box sits pretty darn near the country's connection to the Internet back bone, but the SQL Server box is (for reasons beyond our control) only connected through a business DSL line (not positive of the upstream speed).  If I connect through the command line (as opposed to by querying through the linked server in SQL Server), I'm able to insert rows in the MySQL database at an average of ~0.03 seconds per row.  This leads me to believe that either my stored procedure is just incredibly inefficient, or OPENQUERY/Linked Servers are just inherently slow.  I will post the procedure here momentarily.  In the meantime, any thoughts?
",4
7404803,09/13/2011 15:53:05,937508,09/09/2011 20:22:06,6,0,how to enable mysql on php5.... apache 2.2 on windows,"So I've uncommented the the *extension=php_mysql.dll* line in the php.ini file and I've also filled in the *extension_dir* and *doc_root* but everytime I try to run a php file with the following code:

    <?php
      mysql_connect(""localhost"", ""root"", ""admin"") or die(mysql_error());
      echo ""Connected to MySQL<br />"";
    ?>

I get the following error: 

""Fatal error: Call to undefined function mysql_connect() in C:\Program Files\Apache Software Foundation\Apache2.2\vhosts\guestbook\extract.php on line 3""

Does anyone know how to fix this?
 ",mysql,database,windows,apache,php5,,open,0,87,10,"how to enable mysql on php5.... apache 2.2 on windows So I've uncommented the the *extension=php_mysql.dll* line in the php.ini file and I've also filled in the *extension_dir* and *doc_root* but everytime I try to run a php file with the following code:

    <?php
      mysql_connect(""localhost"", ""root"", ""admin"") or die(mysql_error());
      echo ""Connected to MySQL<br />"";
    ?>

I get the following error: 

""Fatal error: Call to undefined function mysql_connect() in C:\Program Files\Apache Software Foundation\Apache2.2\vhosts\guestbook\extract.php on line 3""

Does anyone know how to fix this?
 ",5
4267872,11/24/2010 14:28:08,257479,01/23/2010 17:28:03,156,20,MySQL: How to GROUP BY a field to retrieve the rows with ORDER BY another field?,"assume following data:

**DATA:**

    	id	|	date	|	name	|	grade
    ------------+---------------+---------------+---------------
    	1	| 2010/12/03	|	Mike	|	12
    	2	| 2010/12/04	|	Jenny	|	12
    	3	| 2010/12/04	|	Ronald	|	15
    	4	| 2010/12/03	|	Yeni	|	11

i want to know who has the best grade in each day, something like this:

**Desired Result:**

    	id	|	date	|	name	|	grade
    ----------------+---------------+---------------+---------------
    	1	| 2010/12/03	|	Mike	|	12
    	3	| 2010/12/04	|	Ronald	|	15

i thought query should look like this:

    SELECT name FROM mytable
    GROUP BY date
    ORDER BY grade DESC

but it returns something like this:

**Current Unwanted Result:**

    	id	|	date	|	name	|	grade
    ----------------+---------------+---------------+---------------
    	1	| 2010/12/03	|	Mike	|	12
    	2	| 2010/12/04	|	Jenny	|	12

i searched and i found the reason:

**GROUP BY happens before ORDER BY so it does not see and can't apply ORDER.**

so how can i apply ORDER on GROUP BY?

**Note:** please keep in mind that i need the most simple query,  because my query is actually very complex, i know i can achive this result by some subquery or JOINing, but i want to know how to apply ORDER to GROUP BY. thanks",mysql,query,select,group-by,order-by,,open,0,187,16,"MySQL: How to GROUP BY a field to retrieve the rows with ORDER BY another field? assume following data:

**DATA:**

    	id	|	date	|	name	|	grade
    ------------+---------------+---------------+---------------
    	1	| 2010/12/03	|	Mike	|	12
    	2	| 2010/12/04	|	Jenny	|	12
    	3	| 2010/12/04	|	Ronald	|	15
    	4	| 2010/12/03	|	Yeni	|	11

i want to know who has the best grade in each day, something like this:

**Desired Result:**

    	id	|	date	|	name	|	grade
    ----------------+---------------+---------------+---------------
    	1	| 2010/12/03	|	Mike	|	12
    	3	| 2010/12/04	|	Ronald	|	15

i thought query should look like this:

    SELECT name FROM mytable
    GROUP BY date
    ORDER BY grade DESC

but it returns something like this:

**Current Unwanted Result:**

    	id	|	date	|	name	|	grade
    ----------------+---------------+---------------+---------------
    	1	| 2010/12/03	|	Mike	|	12
    	2	| 2010/12/04	|	Jenny	|	12

i searched and i found the reason:

**GROUP BY happens before ORDER BY so it does not see and can't apply ORDER.**

so how can i apply ORDER on GROUP BY?

**Note:** please keep in mind that i need the most simple query,  because my query is actually very complex, i know i can achive this result by some subquery or JOINing, but i want to know how to apply ORDER to GROUP BY. thanks",5
8682300,12/30/2011 17:46:51,1104785,12/18/2011 18:22:47,30,0,Insert the values from the array into the column from the array?,"I am trying to run the following but am getting the following mysql error ?

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO hqfjt_chronoforms_data_addupdatelead SET f9f2ec4270a751f4f34980c325e' at line 2

    <?php
    $user = $_POST[cf_uid];
    $form = $_POST[uid];
    $date = date(""d-m-Y""); 
    $query = mysql_query(""
    (SELECT * FROM hqfjt_chronoforms_data_addupdatelead WHERE $user = $user)
    INSERT INTO hqfjt_chronoforms_data_addupdatelead SET $form=$date WHERE $user = $user
    "") or die(mysql_error());
    ?>",mysql,arrays,post,,,,open,0,109,12,"Insert the values from the array into the column from the array? I am trying to run the following but am getting the following mysql error ?

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO hqfjt_chronoforms_data_addupdatelead SET f9f2ec4270a751f4f34980c325e' at line 2

    <?php
    $user = $_POST[cf_uid];
    $form = $_POST[uid];
    $date = date(""d-m-Y""); 
    $query = mysql_query(""
    (SELECT * FROM hqfjt_chronoforms_data_addupdatelead WHERE $user = $user)
    INSERT INTO hqfjt_chronoforms_data_addupdatelead SET $form=$date WHERE $user = $user
    "") or die(mysql_error());
    ?>",3
11377695,07/07/2012 18:42:46,529043,12/03/2010 07:09:50,8122,454,"Featured value in one to many relation, which table should hold that?","say that i have a one to many relations where there are two tables, a Person table and a Belonging table. Now, each Person has ONLY ONE favorite belonging and a specific belonging cannot belong to another person as well. 

My question is, where would that information be better kept ? In the Person table as a favorite_belonging_id or in the Belonging table as an is_favorite entry ? To my eyes, the first choice seems to be the better version, but I would like to hear what sql knowledgeable people have to say about it. ",mysql,sql,,,,,open,0,96,12,"Featured value in one to many relation, which table should hold that? say that i have a one to many relations where there are two tables, a Person table and a Belonging table. Now, each Person has ONLY ONE favorite belonging and a specific belonging cannot belong to another person as well. 

My question is, where would that information be better kept ? In the Person table as a favorite_belonging_id or in the Belonging table as an is_favorite entry ? To my eyes, the first choice seems to be the better version, but I would like to hear what sql knowledgeable people have to say about it. ",2
9810343,03/21/2012 18:07:50,1170507,01/26/2012 02:27:48,12,0,retrieving data from three tables using MySQL,"i am having three tables namely

1)cd_register

    |----------------------------------------------------|
    |   username  |  name   |  age   | sex   | dob       |
    |----------------------------------------------------|

2)cd_social

    |-------------------------------------|
    |   username  |  religion  |  caste   |
    |-------------------------------------|

and
3)cd_professional

    |----------------------------------------|
    |   username  | occupation | education   |
    |----------------------------------------|

now i'm using this query in mysql but its giving error

    SELECT cd_register.name, cd_register.age, cd_register.dob, cd_social.religion, cd_social.caste, cd_professional.profession
    FROM cd_register, cd_social,cd_professional
    WHERE 
    cd_register.sex = 'Male',
    cd_social.religion = 'Hindu',
    cd_social.caste = 'Brahmin',
    cd_professional.occupation = 'Doctor',
    cd_register.username = cd_social.username AND
    cd_register.username = cd_professional.username 


now i want to mention that `username` is the `primary key` of all the tables. Also
`username` of `cd_register` is `foreign key` in `cd_social`. Also
`username` of `cd_register` is `foreign key` in `cd_professional`.",mysql,,,,,,open,0,193,7,"retrieving data from three tables using MySQL i am having three tables namely

1)cd_register

    |----------------------------------------------------|
    |   username  |  name   |  age   | sex   | dob       |
    |----------------------------------------------------|

2)cd_social

    |-------------------------------------|
    |   username  |  religion  |  caste   |
    |-------------------------------------|

and
3)cd_professional

    |----------------------------------------|
    |   username  | occupation | education   |
    |----------------------------------------|

now i'm using this query in mysql but its giving error

    SELECT cd_register.name, cd_register.age, cd_register.dob, cd_social.religion, cd_social.caste, cd_professional.profession
    FROM cd_register, cd_social,cd_professional
    WHERE 
    cd_register.sex = 'Male',
    cd_social.religion = 'Hindu',
    cd_social.caste = 'Brahmin',
    cd_professional.occupation = 'Doctor',
    cd_register.username = cd_social.username AND
    cd_register.username = cd_professional.username 


now i want to mention that `username` is the `primary key` of all the tables. Also
`username` of `cd_register` is `foreign key` in `cd_social`. Also
`username` of `cd_register` is `foreign key` in `cd_professional`.",1
4774522,01/23/2011 15:13:39,522962,11/28/2010 13:22:57,95,0,need to speed up my database or query somehow,"I have a left join statement on 2 tables: tbl1 has about 1 million records and tbl2 has about 20 million. The query takes about 9 seconds to execute. I have indexes on both but something doesn't seem right given how long queries take. Here is my select statement:

EXPLAIN SELECT * FROM (SELECT tbl1.id, tbl1.name, tbl2.addr FROM tbl1 LEFT JOIN tbl2 ON tbl2.id = tbl1.id WHERE tbl1.name LIKE 'G%' AND tble2.addr IS NOT NULL) as tempTable GROUP BY id LIMIT 10;

    +----+-------------+------------+--------+------------------+--------------+---------+----------------| 
    id|select_type| table     |type  |poss_keys|key |key_len|ref         | rows | Extra 
    +----+-------------+------------+--------+------------------+--------------+---------+----------------
    1 | PRIMARY   | <derived2>|system| NULL    |NULL| NULL  |NULL        |    0 | const row not found |
    2 | DERIVED   | tbl1      |range |id,name  |name| 903   |NULL        |    1 | Using where         |
    2 | DERIVED   | tbl2      |ref   |id,addr  |id  | 4     |tbl2.tbl1.id|   25 | Using where         |
    +----+-------------+------------+--------+------------------+--------------+---------+----------------",mysql,,,,,,open,0,247,9,"need to speed up my database or query somehow I have a left join statement on 2 tables: tbl1 has about 1 million records and tbl2 has about 20 million. The query takes about 9 seconds to execute. I have indexes on both but something doesn't seem right given how long queries take. Here is my select statement:

EXPLAIN SELECT * FROM (SELECT tbl1.id, tbl1.name, tbl2.addr FROM tbl1 LEFT JOIN tbl2 ON tbl2.id = tbl1.id WHERE tbl1.name LIKE 'G%' AND tble2.addr IS NOT NULL) as tempTable GROUP BY id LIMIT 10;

    +----+-------------+------------+--------+------------------+--------------+---------+----------------| 
    id|select_type| table     |type  |poss_keys|key |key_len|ref         | rows | Extra 
    +----+-------------+------------+--------+------------------+--------------+---------+----------------
    1 | PRIMARY   | <derived2>|system| NULL    |NULL| NULL  |NULL        |    0 | const row not found |
    2 | DERIVED   | tbl1      |range |id,name  |name| 903   |NULL        |    1 | Using where         |
    2 | DERIVED   | tbl2      |ref   |id,addr  |id  | 4     |tbl2.tbl1.id|   25 | Using where         |
    +----+-------------+------------+--------+------------------+--------------+---------+----------------",1
8498951,12/14/2011 02:40:07,517676,11/23/2010 16:07:02,53,4,MySQL Dump and Restore Single Column,I need to update some field in some table in some database from some other table in another database. Can I do a dump and restore?,mysql,,,,,12/15/2011 05:00:53,not a real question,1,26,6,MySQL Dump and Restore Single Column I need to update some field in some table in some database from some other table in another database. Can I do a dump and restore?,1
9670467,03/12/2012 16:00:28,1259446,03/09/2012 13:57:13,3,0,Take info from one mysql table and insert it to another,"I am trying to take data from one mysql table and insert it in to another so i can make some updates without using a live db table.  The problem i am having is it is taking the data out of the first table but not inserting it in the second.  Any help would be appreciated.

     error_reporting(E_ALL);
     ini_set(""display_errors"", 1); 

     $host="""";
     $username="""";
     $password="""";
     $database="""";

     mysql_connect($host,$username,$password);
     @mysql_select_db($database) or die( ""Unable to select database"");

     $query = ""SELECT * FROM livetrack where member_id ='000826'""; 	 
     $result = mysql_query($query) or die(mysql_error());
     while($row = mysql_fetch_array($result)){
     $ipa = $row['ip_address'];
     $date = $row['date'];
     $referer = $row['referer'];
     $string = $row['string'];
     $member_id = $row['member_id'];
     echo ""Insert Data....."";
     mysql_query(""INSERT INTO livetrack11 (ip_address, date, referer, string, member_id)
             VALUES ('$ipa', '$date', '$referer', '$string', '$member_id'"");
			
     }

Thanks",mysql,php5,,,,,open,0,214,11,"Take info from one mysql table and insert it to another I am trying to take data from one mysql table and insert it in to another so i can make some updates without using a live db table.  The problem i am having is it is taking the data out of the first table but not inserting it in the second.  Any help would be appreciated.

     error_reporting(E_ALL);
     ini_set(""display_errors"", 1); 

     $host="""";
     $username="""";
     $password="""";
     $database="""";

     mysql_connect($host,$username,$password);
     @mysql_select_db($database) or die( ""Unable to select database"");

     $query = ""SELECT * FROM livetrack where member_id ='000826'""; 	 
     $result = mysql_query($query) or die(mysql_error());
     while($row = mysql_fetch_array($result)){
     $ipa = $row['ip_address'];
     $date = $row['date'];
     $referer = $row['referer'];
     $string = $row['string'];
     $member_id = $row['member_id'];
     echo ""Insert Data....."";
     mysql_query(""INSERT INTO livetrack11 (ip_address, date, referer, string, member_id)
             VALUES ('$ipa', '$date', '$referer', '$string', '$member_id'"");
			
     }

Thanks",2
8301235,11/28/2011 19:32:07,381474,07/01/2010 19:41:01,414,6,How to have the latest atualizations of the Database displayed in an ASP.NET MVC 3 page?,"Maybe the question title is misleading (I hope not), but that's my problem:

I have a form that sends new reports to the page, which then displays all the reports in a list (both the form and the list are in the same page). When I send a new report, and then refresh (insistently pressing the F5 button, which is now almost broken), this new report (which is a row in the database) doesn't get displayed. I'm well sure that the database is updated. If I insert a new row column manually, the same problem still occur. 
When I stop and start again de development server (or refresh the IIS), this report then gets displayed (which is a bit annoying).

My scenario is basically ASP.NET MVC 3, using EF 4, linking to a MySQL database through their own .net Connector.

Any ideas?",mysql,asp.net-mvc-3,entity-framework-4,,,01/31/2012 16:12:24,too localized,1,139,16,"How to have the latest atualizations of the Database displayed in an ASP.NET MVC 3 page? Maybe the question title is misleading (I hope not), but that's my problem:

I have a form that sends new reports to the page, which then displays all the reports in a list (both the form and the list are in the same page). When I send a new report, and then refresh (insistently pressing the F5 button, which is now almost broken), this new report (which is a row in the database) doesn't get displayed. I'm well sure that the database is updated. If I insert a new row column manually, the same problem still occur. 
When I stop and start again de development server (or refresh the IIS), this report then gets displayed (which is a bit annoying).

My scenario is basically ASP.NET MVC 3, using EF 4, linking to a MySQL database through their own .net Connector.

Any ideas?",3
8156322,11/16/2011 17:54:47,1050239,11/16/2011 17:49:41,1,0,Trying to use a subquery to find two things from two different tables,"I want to find the book code and book title for each book found in branch number 2 and written by author 20. 
the book code and title are found in the ""book"" table
branch number is found in the 'branch' table 
the ""author"" table has the author number
theres also a table called 'inventory' that has book code and branch number

any help would be greatful!
",mysql,subquery,,,,,open,0,64,13,"Trying to use a subquery to find two things from two different tables I want to find the book code and book title for each book found in branch number 2 and written by author 20. 
the book code and title are found in the ""book"" table
branch number is found in the 'branch' table 
the ""author"" table has the author number
theres also a table called 'inventory' that has book code and branch number

any help would be greatful!
",2
6770155,07/21/2011 00:40:43,855001,07/21/2011 00:36:59,1,0,what other ways are there to shard a user table?,"
So when the user tries to login and enters his username + password, how else can we determine which database the user is located in, other than from his username and ip address (country) ?",mysql,sql-server,database,postgresql,sharding,07/22/2011 19:01:40,not a real question,1,35,10,"what other ways are there to shard a user table? 
So when the user tries to login and enters his username + password, how else can we determine which database the user is located in, other than from his username and ip address (country) ?",5
11493142,07/15/2012 15:25:27,831294,07/06/2011 09:47:17,141,0,login http://localhost/phpmyadmin,"i installed `XAMPP`  , i see the `Apche` and `MySql`  in `running` mode  . i enter in the browser `http://localhost/phpmyadmin/` and i get the error  :

    Welcome to phpMyAdmin
    
    
    Error
    MySQL said: 
    
    Cannot connect: invalid settings. 
    phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection. You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server.



i checked that the password in `config.inc.php` is current , and it was OK .

thanks in advance  .",mysql,database,phpmyadmin,xampp,,07/17/2012 17:47:40,off topic,1,129,2,"login http://localhost/phpmyadmin i installed `XAMPP`  , i see the `Apche` and `MySql`  in `running` mode  . i enter in the browser `http://localhost/phpmyadmin/` and i get the error  :

    Welcome to phpMyAdmin
    
    
    Error
    MySQL said: 
    
    Cannot connect: invalid settings. 
    phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection. You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server.



i checked that the password in `config.inc.php` is current , and it was OK .

thanks in advance  .",4
9962702,04/01/2012 07:35:23,1271985,03/15/2012 15:55:10,11,2,Conditional column header in mysql,"I am in a situation which is easy to see but I can't solve it anyway. The problem is I want a column name <b>header</b> (not the value) different based on a condition. I want like the following thing:

    SELECT DISTINCT (CASE bool_var WHEN 1 THEN SUM(r.amount_dbl) AS RECEIVED ELSE  SUM(r.amount_dbl) AS Issued END) FROM table

Is it possible? Please help in this regard.
",mysql,sql,conditional,,,05/28/2012 22:24:53,not a real question,1,67,5,"Conditional column header in mysql I am in a situation which is easy to see but I can't solve it anyway. The problem is I want a column name <b>header</b> (not the value) different based on a condition. I want like the following thing:

    SELECT DISTINCT (CASE bool_var WHEN 1 THEN SUM(r.amount_dbl) AS RECEIVED ELSE  SUM(r.amount_dbl) AS Issued END) FROM table

Is it possible? Please help in this regard.
",3
8067461,11/09/2011 15:40:19,572237,01/12/2011 05:30:12,6,0,Retrieving two highest values from one column for ranked comparison of difference,"I realize that there have been many ""get two highest"" or ""get second-highest"" SQL questions and answered posted, so I apologize in advance if this question is redundant, but I want to do something a bit different than the other situations, and I need some help getting from A to B. I am a MySQL hobbyist at best, so I'm sure the answer is obvious to some of you.

I have a bunch of rows of baseball player single-season statistics. I want to compare their season with the highest value with their season with the second highest value. I also want to be able to compare the two seasons by subtracting the second-highest from the highest.

I can easily get the highest value using MAX, of course, but this is a big more difficult for a novice like myself.

",mysql,sql,value,highest,,,open,0,137,12,"Retrieving two highest values from one column for ranked comparison of difference I realize that there have been many ""get two highest"" or ""get second-highest"" SQL questions and answered posted, so I apologize in advance if this question is redundant, but I want to do something a bit different than the other situations, and I need some help getting from A to B. I am a MySQL hobbyist at best, so I'm sure the answer is obvious to some of you.

I have a bunch of rows of baseball player single-season statistics. I want to compare their season with the highest value with their season with the second highest value. I also want to be able to compare the two seasons by subtracting the second-highest from the highest.

I can easily get the highest value using MAX, of course, but this is a big more difficult for a novice like myself.

",4
1137668,07/16/2009 13:38:43,131050,06/30/2009 12:52:53,33,0,Is INNODB enabled by default in MySQL?,"I am developing a web app for which I plan to use InnoDB. However I read that sometimes InnoDB is not enabled by default and, one needs to change mysql config to enable it... Is that true? Since my web app will be installed by client themselves on their own web space, I need to make sure my app is as compatible as possible. If InnoDB is disabled by default, then I have to look for workarounds.",mysql,innodb,,,,,open,0,77,7,"Is INNODB enabled by default in MySQL? I am developing a web app for which I plan to use InnoDB. However I read that sometimes InnoDB is not enabled by default and, one needs to change mysql config to enable it... Is that true? Since my web app will be installed by client themselves on their own web space, I need to make sure my app is as compatible as possible. If InnoDB is disabled by default, then I have to look for workarounds.",2
5590513,04/08/2011 04:40:07,406372,07/30/2010 02:43:11,124,1,How to Tuning Apache and Mysql,"    top - 12:24:22 up 1 day, 18:37,  2 users,  load average: 1.19, 1.77, 1.59
    Tasks: 166 total,   4 running, 162 sleeping,   0 stopped,   0 zombie
    Cpu(s): 20.1%us,  5.8%sy,  0.0%ni, 62.4%id, 10.8%wa,  0.0%hi,  1.0%si,  0.0%st
    Mem:    987780k total,   979052k used,     8728k free,    17240k buffers
    Swap:  2104432k total,   106760k used,  1997672k free,   174100k cached
    
      PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
     4116 mysql     15   0  356m 105m 4176 S 12.0 11.0 139:58.69 mysqld
     5722 apache    15   0  160m  17m 4224 S 10.0  1.8   0:00.78 httpd
     5741 apache    15   0  161m  17m 4220 S  9.3  1.8   0:00.37 httpd
     5840 apache    15   0  161m  17m 4148 S  8.3  1.8   0:00.52 httpd
     5846 apache    15   0  161m  17m 4132 S  6.3  1.8   0:00.47 httpd
     5744 apache    15   0  162m  18m 4224 S  2.0  1.9   0:00.37 httpd
     5725 apache    15   0  161m  17m 4424 S  1.3  1.8   0:00.34 httpd
     5755 apache    15   0  105m  14m 4248 R  1.3  1.5   0:00.17 httpd
     5564 apache    15   0  163m  19m 4360 S  1.0  2.0   0:00.65 httpd
     5322 apache    16   0  162m  19m 4456 S  0.7  2.0   0:02.26 httpd
     5586 apache    15   0  161m  18m 4468 S  0.7  1.9   0:01.77 httpd
     5852 apache    16   0 99.9m  11m 3424 S  0.7  1.2   0:00.02 httpd
     5121 root      18   0 98.3m  10m 4320 S  0.3  1.1   0:00.07 httpd
     5723 apache    15   0  161m  17m 4240 S  0.3  1.8   0:00.31 httpd
     5833 apeadm    15   0 12740 1128  808 R  0.3  0.1   0:00.03 top
     5834 apache    15   0  160m  16m 4172 S  0.3  1.7   0:00.20 httpd
     5836 apache    15   0 98.5m 9388 2912 S  0.3  1.0   0:00.01 httpd
        1 root      15   0 10348  592  560 S  0.0  0.1   0:00.72 init
        2 root      RT  -5     0    0    0 S  0.0  0.0   0:00.01 migration/0

Server Spec:
 CENTOS CPU:E5200 RAM:1G
Software: Zencart X 3, Piwik x1 

Server always down,How to tuning apache and mysql?

Thanks a lot.

`httpd.conf`


    <IfModule mpm_prefork_module>
        StartServers          8
        MinSpareServers       8
        MaxSpareServers      15
        ServerLimit         450
        MaxClients          450
        MaxRequestsPerChild   10000
    </IfModule>
    
    
    <IfModule mpm_worker_module>
        StartServers          2
        ServerLimit         450
        MaxClients          450
        MinSpareThreads      25
        MaxSpareThreads      75
        ThreadsPerChild      25
        MaxRequestsPerChild   10000
    </IfModule>
    
    <IfModule mpm_beos_module>
        StartThreads            10
        MaxClients              50
        MaxRequestsPerThread 10000
    </IfModule>
    
    
    <IfModule mpm_netware_module>
        ThreadStackSize      65536
        StartThreads           250
        MinSpareThreads         25
        MaxSpareThreads        250
        MaxThreads            1000
        MaxRequestsPerChild      10000
        MaxMemFree             100
    </IfModule>
    
    <IfModule mpm_mpmt_os2_module>
        StartServers           2
        MinSpareThreads        5
        MaxSpareThreads       10
        MaxRequestsPerChild    10000
    </IfModule>

`my.cnf`

    [mysqld]
    set-variable = query_cache_limit=1M
    set-variable = query_cache_size=16M
    set-variable = query_cache_type=1
    set-variable =  max_connections=400
    set-variable = interactive_timeout=100
    set-variable = wait_timeout=100
    set-variable = connect_timeout=100
    set-variable = thread_cache_size=16
    #
    # Set key_buffer to 5 - 50% of your RAM depending on how much
    # you use MyISAM tables, but keep key_buffer_size + InnoDB
    # buffer pool size < 80% of your RAM
    set-variable = key_buffer=32M
    set-variable = join_buffer=1M
    set-variable = max_allowed_packet=8M
    set-variable = table_cache=1024
    set-variable = record_buffer=1M
    set-variable = sort_buffer_size=2M
    set-variable = read_buffer_size=2M
    set-variable = max_connect_errors=10
    set-variable = myisam_sort_buffer_size=16M
    
    #Useful for SMP
    set-variable = thread_concurrency=8

",mysql,apache,,,,,open,0,1345,6,"How to Tuning Apache and Mysql     top - 12:24:22 up 1 day, 18:37,  2 users,  load average: 1.19, 1.77, 1.59
    Tasks: 166 total,   4 running, 162 sleeping,   0 stopped,   0 zombie
    Cpu(s): 20.1%us,  5.8%sy,  0.0%ni, 62.4%id, 10.8%wa,  0.0%hi,  1.0%si,  0.0%st
    Mem:    987780k total,   979052k used,     8728k free,    17240k buffers
    Swap:  2104432k total,   106760k used,  1997672k free,   174100k cached
    
      PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
     4116 mysql     15   0  356m 105m 4176 S 12.0 11.0 139:58.69 mysqld
     5722 apache    15   0  160m  17m 4224 S 10.0  1.8   0:00.78 httpd
     5741 apache    15   0  161m  17m 4220 S  9.3  1.8   0:00.37 httpd
     5840 apache    15   0  161m  17m 4148 S  8.3  1.8   0:00.52 httpd
     5846 apache    15   0  161m  17m 4132 S  6.3  1.8   0:00.47 httpd
     5744 apache    15   0  162m  18m 4224 S  2.0  1.9   0:00.37 httpd
     5725 apache    15   0  161m  17m 4424 S  1.3  1.8   0:00.34 httpd
     5755 apache    15   0  105m  14m 4248 R  1.3  1.5   0:00.17 httpd
     5564 apache    15   0  163m  19m 4360 S  1.0  2.0   0:00.65 httpd
     5322 apache    16   0  162m  19m 4456 S  0.7  2.0   0:02.26 httpd
     5586 apache    15   0  161m  18m 4468 S  0.7  1.9   0:01.77 httpd
     5852 apache    16   0 99.9m  11m 3424 S  0.7  1.2   0:00.02 httpd
     5121 root      18   0 98.3m  10m 4320 S  0.3  1.1   0:00.07 httpd
     5723 apache    15   0  161m  17m 4240 S  0.3  1.8   0:00.31 httpd
     5833 apeadm    15   0 12740 1128  808 R  0.3  0.1   0:00.03 top
     5834 apache    15   0  160m  16m 4172 S  0.3  1.7   0:00.20 httpd
     5836 apache    15   0 98.5m 9388 2912 S  0.3  1.0   0:00.01 httpd
        1 root      15   0 10348  592  560 S  0.0  0.1   0:00.72 init
        2 root      RT  -5     0    0    0 S  0.0  0.0   0:00.01 migration/0

Server Spec:
 CENTOS CPU:E5200 RAM:1G
Software: Zencart X 3, Piwik x1 

Server always down,How to tuning apache and mysql?

Thanks a lot.

`httpd.conf`


    <IfModule mpm_prefork_module>
        StartServers          8
        MinSpareServers       8
        MaxSpareServers      15
        ServerLimit         450
        MaxClients          450
        MaxRequestsPerChild   10000
    </IfModule>
    
    
    <IfModule mpm_worker_module>
        StartServers          2
        ServerLimit         450
        MaxClients          450
        MinSpareThreads      25
        MaxSpareThreads      75
        ThreadsPerChild      25
        MaxRequestsPerChild   10000
    </IfModule>
    
    <IfModule mpm_beos_module>
        StartThreads            10
        MaxClients              50
        MaxRequestsPerThread 10000
    </IfModule>
    
    
    <IfModule mpm_netware_module>
        ThreadStackSize      65536
        StartThreads           250
        MinSpareThreads         25
        MaxSpareThreads        250
        MaxThreads            1000
        MaxRequestsPerChild      10000
        MaxMemFree             100
    </IfModule>
    
    <IfModule mpm_mpmt_os2_module>
        StartServers           2
        MinSpareThreads        5
        MaxSpareThreads       10
        MaxRequestsPerChild    10000
    </IfModule>

`my.cnf`

    [mysqld]
    set-variable = query_cache_limit=1M
    set-variable = query_cache_size=16M
    set-variable = query_cache_type=1
    set-variable =  max_connections=400
    set-variable = interactive_timeout=100
    set-variable = wait_timeout=100
    set-variable = connect_timeout=100
    set-variable = thread_cache_size=16
    #
    # Set key_buffer to 5 - 50% of your RAM depending on how much
    # you use MyISAM tables, but keep key_buffer_size + InnoDB
    # buffer pool size < 80% of your RAM
    set-variable = key_buffer=32M
    set-variable = join_buffer=1M
    set-variable = max_allowed_packet=8M
    set-variable = table_cache=1024
    set-variable = record_buffer=1M
    set-variable = sort_buffer_size=2M
    set-variable = read_buffer_size=2M
    set-variable = max_connect_errors=10
    set-variable = myisam_sort_buffer_size=16M
    
    #Useful for SMP
    set-variable = thread_concurrency=8

",2
8242111,11/23/2011 12:21:17,584177,01/21/2011 08:41:10,18,1,Symfony2 - how can I get Entity Object based on custom query?,"this is my custome query:

    $query = $em->createQuery(""SELECT max(d.id) FROM MyBundle:DBTableEntity d "");
    $max_incoming_id = $query->execute(); 

I want it to return the Entity Object, just like this one below:

    $EntityObj = $resource->getRepository(""MyBundle:DBTableEntity"")->findAll();

Any idea how to do that?",mysql,orm,symfony-2.0,doctrine2,php-5.3,,open,0,46,12,"Symfony2 - how can I get Entity Object based on custom query? this is my custome query:

    $query = $em->createQuery(""SELECT max(d.id) FROM MyBundle:DBTableEntity d "");
    $max_incoming_id = $query->execute(); 

I want it to return the Entity Object, just like this one below:

    $EntityObj = $resource->getRepository(""MyBundle:DBTableEntity"")->findAll();

Any idea how to do that?",5
6198239,06/01/2011 08:23:01,266561,02/04/2010 20:39:48,183,18,MySQL join empty rows,"I'm trying to construct a simple query in for getting users with particular meta fields (this is in Wordpress, but doesn't matter cause it's raw sql)

A simple query i did looks like this

    SELECT * FROM wp_sb_users u
     LEFT OUTER JOIN wp_sb_usermeta m ON (u.ID=m.user_id)
     LEFT OUTER JOIN wp_sb_usermeta mm ON (u.ID=mm.user_id)
     LEFT OUTER JOIN wp_sb_usermeta mmm ON (u.ID=mmm.user_id)
    WHERE
     m.meta_key = ""autostatus"" AND
     mm.meta_key = ""first_name"" AND
     mmm.meta_key = ""last_name""

though i have only one small trouble -- if `mmm.meta_key = ""last_name""` doesn't exist at all, the row isn't returned.. i tried `mmm.meta_key <=> ""last_name""` but then it takes any other meta_key (like ""user_email"") and puts there in row, which then results in having a user with first name Alex and last name my@email.com

I also tried (mmm.meta_key = ""last_name"" OR mmm.meta_key IS NULL), but it doesn't work too

Help me figure it out please",mysql,select,join,where,,,open,0,173,4,"MySQL join empty rows I'm trying to construct a simple query in for getting users with particular meta fields (this is in Wordpress, but doesn't matter cause it's raw sql)

A simple query i did looks like this

    SELECT * FROM wp_sb_users u
     LEFT OUTER JOIN wp_sb_usermeta m ON (u.ID=m.user_id)
     LEFT OUTER JOIN wp_sb_usermeta mm ON (u.ID=mm.user_id)
     LEFT OUTER JOIN wp_sb_usermeta mmm ON (u.ID=mmm.user_id)
    WHERE
     m.meta_key = ""autostatus"" AND
     mm.meta_key = ""first_name"" AND
     mmm.meta_key = ""last_name""

though i have only one small trouble -- if `mmm.meta_key = ""last_name""` doesn't exist at all, the row isn't returned.. i tried `mmm.meta_key <=> ""last_name""` but then it takes any other meta_key (like ""user_email"") and puts there in row, which then results in having a user with first name Alex and last name my@email.com

I also tried (mmm.meta_key = ""last_name"" OR mmm.meta_key IS NULL), but it doesn't work too

Help me figure it out please",4
11481093,07/14/2012 04:37:11,986544,10/09/2011 16:29:34,37,2,Example for SQL Injection Code in PHP MySQL,"I am looking for a Example for SQL Injection Code in PHP MySQL and Code to Prevent that


",mysql,sql-injection,,,,07/16/2012 01:34:44,too localized,1,18,8,"Example for SQL Injection Code in PHP MySQL I am looking for a Example for SQL Injection Code in PHP MySQL and Code to Prevent that


",2
6370291,06/16/2011 10:16:50,801231,06/16/2011 10:16:50,1,0,"Ruby Shoes and MySQL: GUI freezes, should I use threads?","I'm trying to learn Shoes and decided to make a simple GUI to run a SQL-script line-by-line.

My problem is that in GUI pressing the button, which executes my function, freezes the GUI for the time it takes the function to execute the script. 

With long scripts this might take several minutes.

Someone had a similar problem ([http://www.stackoverflow.com/questions/958662/shoes-and-heavy-operation-in-separate-thread][1]) and the suggestion was just to put intensive stuff under a Thread: if I copy the math-code from previously mentioned thread and replace my mysql-code the GUI works without freezing, so that probably hints to a problem with how I'm using the mysql-adapter?


Below is a simplified version of the code:


problem.rb:
__________


    # copy the mysql-gem if not in gem-folder already
    Shoes.setup do
      gem 'mysql'
    end
    
    require ""mysql""
    
    # the function that does the mysql stuff
    def someFunction
    
      con = Mysql::real_connect(""myserver"", ""user"", ""pass"", ""db"")
      
      scriptFile = File.open(""myfile.sql"", ""r"")
      script = scriptFile.read
      scriptFile.close
      result = []
      
      script.each_line do |line| 
        result << con.query(line)
      end
      
      return result
    end
    
    # the Shoes app with the Thread
    Shoes.app do
      stack do
        button ""Execute someFunction"" do
          Thread.start do
            result = someFunction
            para ""Done!""
          end
        end
      end  
      stack do
        button ""Can't click me when GUI is frozen"" do
          alert ""GUI wasn't frozen?""
        end
      end
    end


  [1]: http://www.stackoverflow.com/questions/958662/shoes-and-heavy-operation-in-separate-thread",mysql,ruby,multithreading,gui,shoes,,open,0,421,10,"Ruby Shoes and MySQL: GUI freezes, should I use threads? I'm trying to learn Shoes and decided to make a simple GUI to run a SQL-script line-by-line.

My problem is that in GUI pressing the button, which executes my function, freezes the GUI for the time it takes the function to execute the script. 

With long scripts this might take several minutes.

Someone had a similar problem ([http://www.stackoverflow.com/questions/958662/shoes-and-heavy-operation-in-separate-thread][1]) and the suggestion was just to put intensive stuff under a Thread: if I copy the math-code from previously mentioned thread and replace my mysql-code the GUI works without freezing, so that probably hints to a problem with how I'm using the mysql-adapter?


Below is a simplified version of the code:


problem.rb:
__________


    # copy the mysql-gem if not in gem-folder already
    Shoes.setup do
      gem 'mysql'
    end
    
    require ""mysql""
    
    # the function that does the mysql stuff
    def someFunction
    
      con = Mysql::real_connect(""myserver"", ""user"", ""pass"", ""db"")
      
      scriptFile = File.open(""myfile.sql"", ""r"")
      script = scriptFile.read
      scriptFile.close
      result = []
      
      script.each_line do |line| 
        result << con.query(line)
      end
      
      return result
    end
    
    # the Shoes app with the Thread
    Shoes.app do
      stack do
        button ""Execute someFunction"" do
          Thread.start do
            result = someFunction
            para ""Done!""
          end
        end
      end  
      stack do
        button ""Can't click me when GUI is frozen"" do
          alert ""GUI wasn't frozen?""
        end
      end
    end


  [1]: http://www.stackoverflow.com/questions/958662/shoes-and-heavy-operation-in-separate-thread",5
90092,09/18/2008 04:42:33,4082,09/01/2008 17:33:08,110,6,Enforce unique rows in MySQL,"I have a table in MySQL that has 3 fields and I want to enforce uniqueness among two of the fields.  Here is the table DDL:

    CREATE TABLE `CLIENT_NAMES` (
	`ID` int(11) NOT NULL auto_increment,
	`CLIENT_NAME` varchar(500) NOT NULL,
	`OWNER_ID` int(11) NOT NULL,
	PRIMARY KEY  (`ID`),
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

The ID field is a surrogate key (this table is being loaded with ETL).
The CLIENT_NAME is a field that contains names of clients
The OWNER_ID is an id indicates a clients owner.

I thought I could enforce this with a unique index on CLIENT_NAME and OWNER_ID, 

    ALTER TABLE `DW`.`CLIENT_NAMES` 
    ADD UNIQUE INDEX enforce_unique_idx(`CLIENT_NAME`, `OWNER_ID`);

but MySQL gives me an error: Error executing SQL commands to update table.
Specified key was too long; max key length is 765 bytes (error 1071)

Anyone else have any ideas?",mysql,indexing,,,,,open,0,141,5,"Enforce unique rows in MySQL I have a table in MySQL that has 3 fields and I want to enforce uniqueness among two of the fields.  Here is the table DDL:

    CREATE TABLE `CLIENT_NAMES` (
	`ID` int(11) NOT NULL auto_increment,
	`CLIENT_NAME` varchar(500) NOT NULL,
	`OWNER_ID` int(11) NOT NULL,
	PRIMARY KEY  (`ID`),
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

The ID field is a surrogate key (this table is being loaded with ETL).
The CLIENT_NAME is a field that contains names of clients
The OWNER_ID is an id indicates a clients owner.

I thought I could enforce this with a unique index on CLIENT_NAME and OWNER_ID, 

    ALTER TABLE `DW`.`CLIENT_NAMES` 
    ADD UNIQUE INDEX enforce_unique_idx(`CLIENT_NAME`, `OWNER_ID`);

but MySQL gives me an error: Error executing SQL commands to update table.
Specified key was too long; max key length is 765 bytes (error 1071)

Anyone else have any ideas?",2
6159087,05/28/2011 01:19:50,751963,05/13/2011 07:47:24,12,0,mysql is taking too long to insert rows,"i have one page where users can import their contacts Initially it was working fine upto 3000 contacts but when i tried to import 10000 contacts it started taking too much time and now the situation is that for even 100 contacts it is taking too much time . i tried in mysql my.cnf file and increased the max packet size to 256 mb. my php.ini max upload limit is 512 mb , memory limit is 512 mb . i tried several methods to solve this problem but no success . 
here is my.cnf code


[mysqld]
set-variable = max_connections=500000
log-slow-queries
safe-show-database
local-infile=0
max_allowed_packet=256M
 i tried to increase buffer limit ,cache limit but no success any one can help me please
",mysql,,,,,05/28/2011 15:04:09,not a real question,1,114,8,"mysql is taking too long to insert rows i have one page where users can import their contacts Initially it was working fine upto 3000 contacts but when i tried to import 10000 contacts it started taking too much time and now the situation is that for even 100 contacts it is taking too much time . i tried in mysql my.cnf file and increased the max packet size to 256 mb. my php.ini max upload limit is 512 mb , memory limit is 512 mb . i tried several methods to solve this problem but no success . 
here is my.cnf code


[mysqld]
set-variable = max_connections=500000
log-slow-queries
safe-show-database
local-infile=0
max_allowed_packet=256M
 i tried to increase buffer limit ,cache limit but no success any one can help me please
",1
7154096,08/22/2011 21:57:02,580530,01/18/2011 20:40:48,159,0,Anyone been able to install DBD::mysql on Mac Snow Leopard with i5 Processor?,"I'm trying to install DBD::mysql using most of the popular methods, including `sudo cpanm -S DBD::mysql`. However, I am having some serious problems with this and I am beginning to think it might be my processor. I have successfully installed this on many computers, but every since my IT department gave me this i5 MacBook Pro, no luck. Has anyone else been able to install DBD::mysql on an i5? I'm running Mac OS 10.6.8.

Here is build.log after running `cpanm`. Any help would be appreciated. Thank you!

    cpanm (App::cpanminus) 1.4008 on perl 5.010000 built for darwin-thread-multi-2level
    Work directory is /Users/jerickson/.cpanm/work/1314049977.98062
    You have make /usr/bin/make
    You have LWP 5.813
    You have /usr/bin/tar: bsdtar 2.6.2 - libarchive 2.6.2
    You have /usr/bin/unzip
    Searching DBD::mysql on cpanmetadb ...
    --> Working on DBD::mysql
    Fetching http://search.cpan.org/CPAN/authors/id/C/CA/CAPTTOFU/DBD-mysql-4.020.tar.gz
    -> OK
    Unpacking DBD-mysql-4.020.tar.gz
    Entering DBD-mysql-4.020
    Checking configure dependencies from META.yml
    Checking if you have DBI 1.08 ... Yes (1.616)
    Configuring DBD-mysql-4.020
    Running Makefile.PL
    
    
    PLEASE NOTE:
    
    For 'make test' to run properly, you must ensure that the 
    database user 'root' can connect to your MySQL server 
    and has the proper privileges that these tests require such 
    as 'drop table', 'create table', 'drop procedure', 'create procedure'
    as well as others. 
    
    mysql> grant all privileges on test.* to 'root'@'localhost' identified by 's3kr1t';
    
    You can also optionally set the user to run 'make test' with:
    
    perl Makefile.PL --testuser=username
    
    I will use the following settings for compiling and testing:
    
      cflags        (mysql_config) = -I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64
      embedded      (mysql_config) = 
      libs          (mysql_config) = -L/usr/local/mysql/lib -lmysqlclient   -lpthread
      mysql_config  (guessed     ) = mysql_config
      nocatchstderr (default     ) = 0
      nofoundrows   (default     ) = 0
      ssl           (guessed     ) = 0
      testdb        (default     ) = test
      testhost      (default     ) = 
      testpassword  (default     ) = 
      testsocket    (default     ) = 
      testuser      (guessed     ) = root
    
    To change these settings, see 'perl Makefile.PL --help' and
    'perldoc INSTALL'.
    
    Checking if your kit is complete...
    Looks good
    Using DBI 1.616 (for perl 5.010000 on darwin-thread-multi-2level) installed in /Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI/
    Writing Makefile for DBD::mysql
    Writing MYMETA.yml and MYMETA.json
    -> OK
    Checking dependencies from MYMETA.yml ...
    Finding PREREQ from Makefile ...
    Checking if you have Data::Dumper 0 ... Yes (2.121_14)
    Checking if you have DBI 1.08 ... Yes (1.616)
    Checking if you have Test::More 0 ... Yes (0.98)
    Checking if you have Test::More 0 ... Yes (0.98)
    Checking if you have Data::Dumper 0 ... Yes (2.121_14)
    Checking if you have DBI 1.08 ... Yes (1.616)
    Building and testing DBD-mysql-4.020
    cp lib/DBD/mysql.pm blib/lib/DBD/mysql.pm
    cp lib/DBD/mysql/GetInfo.pm blib/lib/DBD/mysql/GetInfo.pm
    cp lib/DBD/mysql/INSTALL.pod blib/lib/DBD/mysql/INSTALL.pod
    cp lib/Bundle/DBD/mysql.pm blib/lib/Bundle/DBD/mysql.pm
    gcc-4.2 -c  -I/Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI -I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64 -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include -Os   -DVERSION=\""4.020\"" -DXS_VERSION=\""4.020\""  ""-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE""   dbdimp.c
    dbdimp.c: In function ‘alloc_param’:
    dbdimp.c:223: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_bind’:
    dbdimp.c:241: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbind’:
    dbdimp.c:257: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbuffer’:
    dbdimp.c:272: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘parse_params’:
    dbdimp.c:589: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘my_login’:
    dbdimp.c:1996: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_describe’:
    dbdimp.c:3605: warning: assignment from incompatible pointer type
    dbdimp.c:3606: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_st_fetch’:
    dbdimp.c:3798: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_param’:
    dbdimp.c:223: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_bind’:
    dbdimp.c:241: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbind’:
    dbdimp.c:257: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbuffer’:
    dbdimp.c:272: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘parse_params’:
    dbdimp.c:589: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘my_login’:
    dbdimp.c:1996: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_describe’:
    dbdimp.c:3605: warning: assignment from incompatible pointer type
    dbdimp.c:3606: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_st_fetch’:
    dbdimp.c:3798: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_param’:
    dbdimp.c:223: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_bind’:
    dbdimp.c:241: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbind’:
    dbdimp.c:257: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbuffer’:
    dbdimp.c:272: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘parse_params’:
    dbdimp.c:589: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘my_login’:
    dbdimp.c:1996: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_describe’:
    dbdimp.c:3605: warning: assignment from incompatible pointer type
    dbdimp.c:3606: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_st_fetch’:
    dbdimp.c:3798: warning: format not a string literal and no format arguments
    /usr/bin/perl -p -e ""s/~DRIVER~/mysql/g"" /Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI/Driver.xst > mysql.xsi
    /usr/bin/perl /Library/Perl/Updates/5.10.0/ExtUtils/xsubpp  -typemap /System/Library/Perl/5.10.0/ExtUtils/typemap  mysql.xs > mysql.xsc && mv mysql.xsc mysql.c
    Warning: duplicate function definition 'do' detected in mysql.xs, line 242
    Warning: duplicate function definition 'rows' detected in mysql.xs, line 751
    gcc-4.2 -c  -I/Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI -I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64 -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include -Os   -DVERSION=\""4.020\"" -DXS_VERSION=\""4.020\""  ""-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE""   mysql.c
    mysql.xs: In function ‘XS_DBD__mysql__db_do’:
    mysql.xs:307: warning: format ‘%d’ expects type ‘int’, but argument 4 has type ‘struct SV *’
    mysql.xs:364: warning: format not a string literal and no format arguments
    mysql.xs:365: warning: format not a string literal and no format arguments
    mysql.xs:366: warning: format not a string literal and no format arguments
    mysql.xs:525: warning: format not a string literal and no format arguments
    mysql.xs: In function ‘XS_DBD__mysql__GetInfo_dbd_mysql_get_info’:
    mysql.xs:930: warning: format ‘%i’ expects type ‘int’, but argument 2 has type ‘struct SV *’
    mysql.xs: In function ‘XS_DBD__mysql__db_do’:
    mysql.xs:307: warning: format ‘%d’ expects type ‘int’, but argument 4 has type ‘struct SV *’
    mysql.xs:364: warning: format not a string literal and no format arguments
    mysql.xs:365: warning: format not a string literal and no format arguments
    mysql.xs:366: warning: format not a string literal and no format arguments
    mysql.xs:525: warning: format not a string literal and no format arguments
    mysql.xs: In function ‘XS_DBD__mysql__GetInfo_dbd_mysql_get_info’:
    mysql.xs:930: warning: format ‘%i’ expects type ‘int’, but argument 2 has type ‘struct SV *’
    mysql.xs: In function ‘XS_DBD__mysql__db_do’:
    mysql.xs:307: warning: format ‘%d’ expects type ‘int’, but argument 4 has type ‘struct SV *’
    mysql.xs:364: warning: format not a string literal and no format arguments
    mysql.xs:365: warning: format not a string literal and no format arguments
    mysql.xs:366: warning: format not a string literal and no format arguments
    mysql.xs:525: warning: format not a string literal and no format arguments
    mysql.xs: In function ‘XS_DBD__mysql__GetInfo_dbd_mysql_get_info’:
    mysql.xs:930: warning: format ‘%i’ expects type ‘int’, but argument 2 has type ‘struct SV *’
    Running Mkbootstrap for DBD::mysql ()
    chmod 644 mysql.bs
    rm -f blib/arch/auto/DBD/mysql/mysql.bundle
    LD_RUN_PATH=""/usr/local/mysql/lib:/usr/lib"" /usr/bin/perl myld gcc-4.2 -mmacosx-version-min=10.6.3  -arch x86_64 -arch i386 -arch ppc -bundle -undefined dynamic_lookup -L/usr/local/lib dbdimp.o mysql.o  -o blib/arch/auto/DBD/mysql/mysql.bundle 	\
    	   -L/usr/local/mysql/lib -lmysqlclient -lpthread  	\
    	  
    chmod 755 blib/arch/auto/DBD/mysql/mysql.bundle
    cp mysql.bs blib/arch/auto/DBD/mysql/mysql.bs
    chmod 644 blib/arch/auto/DBD/mysql/mysql.bs
    Manifying blib/man3/DBD::mysql.3pm
    Manifying blib/man3/DBD::mysql::INSTALL.3pm
    Manifying blib/man3/Bundle::DBD::mysql.3pm
    PERL_DL_NONLAZY=1 /usr/bin/perl ""-MExtUtils::Command::MM"" ""-e"" ""test_harness(0, 'blib/lib', 'blib/arch')"" t/*.t
    Bailout called.  Further testing stopped:  Unable to load DBD::mysql
    
    #   Failed test 'use DBD::mysql;'
    #   at t/00base.t line 21.
    #     Tried to use 'DBD::mysql'.
    #     Error:  Can't load '/Users/jerickson/.cpanm/work/1314049977.98062/DBD-mysql-4.020/blib/arch/auto/DBD/mysql/mysql.bundle' for module DBD::mysql: dlopen(/Users/jerickson/.cpanm/work/1314049977.98062/DBD-mysql-4.020/blib/arch/auto/DBD/mysql/mysql.bundle, 2): Library not loaded: libmysqlclient.18.dylib
    #   Referenced from: /Users/jerickson/.cpanm/work/1314049977.98062/DBD-mysql-4.020/blib/arch/auto/DBD/mysql/mysql.bundle
    #   Reason: image not found at /System/Library/Perl/5.10.0/darwin-thread-multi-2level/DynaLoader.pm line 207.
    #  at (eval 7) line 2
    # Compilation failed in require at (eval 7) line 2.
    # BEGIN failed--compilation aborted at (eval 7) line 2.
    FAILED--Further testing stopped: Unable to load DBD::mysql
    make: *** [test_dynamic] Error 255
    -> FAIL Installing DBD::mysql failed. See /Users/jerickson/.cpanm/build.log for details.

",mysql,perl,dbi,dbd,,,open,0,2008,13,"Anyone been able to install DBD::mysql on Mac Snow Leopard with i5 Processor? I'm trying to install DBD::mysql using most of the popular methods, including `sudo cpanm -S DBD::mysql`. However, I am having some serious problems with this and I am beginning to think it might be my processor. I have successfully installed this on many computers, but every since my IT department gave me this i5 MacBook Pro, no luck. Has anyone else been able to install DBD::mysql on an i5? I'm running Mac OS 10.6.8.

Here is build.log after running `cpanm`. Any help would be appreciated. Thank you!

    cpanm (App::cpanminus) 1.4008 on perl 5.010000 built for darwin-thread-multi-2level
    Work directory is /Users/jerickson/.cpanm/work/1314049977.98062
    You have make /usr/bin/make
    You have LWP 5.813
    You have /usr/bin/tar: bsdtar 2.6.2 - libarchive 2.6.2
    You have /usr/bin/unzip
    Searching DBD::mysql on cpanmetadb ...
    --> Working on DBD::mysql
    Fetching http://search.cpan.org/CPAN/authors/id/C/CA/CAPTTOFU/DBD-mysql-4.020.tar.gz
    -> OK
    Unpacking DBD-mysql-4.020.tar.gz
    Entering DBD-mysql-4.020
    Checking configure dependencies from META.yml
    Checking if you have DBI 1.08 ... Yes (1.616)
    Configuring DBD-mysql-4.020
    Running Makefile.PL
    
    
    PLEASE NOTE:
    
    For 'make test' to run properly, you must ensure that the 
    database user 'root' can connect to your MySQL server 
    and has the proper privileges that these tests require such 
    as 'drop table', 'create table', 'drop procedure', 'create procedure'
    as well as others. 
    
    mysql> grant all privileges on test.* to 'root'@'localhost' identified by 's3kr1t';
    
    You can also optionally set the user to run 'make test' with:
    
    perl Makefile.PL --testuser=username
    
    I will use the following settings for compiling and testing:
    
      cflags        (mysql_config) = -I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64
      embedded      (mysql_config) = 
      libs          (mysql_config) = -L/usr/local/mysql/lib -lmysqlclient   -lpthread
      mysql_config  (guessed     ) = mysql_config
      nocatchstderr (default     ) = 0
      nofoundrows   (default     ) = 0
      ssl           (guessed     ) = 0
      testdb        (default     ) = test
      testhost      (default     ) = 
      testpassword  (default     ) = 
      testsocket    (default     ) = 
      testuser      (guessed     ) = root
    
    To change these settings, see 'perl Makefile.PL --help' and
    'perldoc INSTALL'.
    
    Checking if your kit is complete...
    Looks good
    Using DBI 1.616 (for perl 5.010000 on darwin-thread-multi-2level) installed in /Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI/
    Writing Makefile for DBD::mysql
    Writing MYMETA.yml and MYMETA.json
    -> OK
    Checking dependencies from MYMETA.yml ...
    Finding PREREQ from Makefile ...
    Checking if you have Data::Dumper 0 ... Yes (2.121_14)
    Checking if you have DBI 1.08 ... Yes (1.616)
    Checking if you have Test::More 0 ... Yes (0.98)
    Checking if you have Test::More 0 ... Yes (0.98)
    Checking if you have Data::Dumper 0 ... Yes (2.121_14)
    Checking if you have DBI 1.08 ... Yes (1.616)
    Building and testing DBD-mysql-4.020
    cp lib/DBD/mysql.pm blib/lib/DBD/mysql.pm
    cp lib/DBD/mysql/GetInfo.pm blib/lib/DBD/mysql/GetInfo.pm
    cp lib/DBD/mysql/INSTALL.pod blib/lib/DBD/mysql/INSTALL.pod
    cp lib/Bundle/DBD/mysql.pm blib/lib/Bundle/DBD/mysql.pm
    gcc-4.2 -c  -I/Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI -I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64 -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include -Os   -DVERSION=\""4.020\"" -DXS_VERSION=\""4.020\""  ""-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE""   dbdimp.c
    dbdimp.c: In function ‘alloc_param’:
    dbdimp.c:223: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_bind’:
    dbdimp.c:241: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbind’:
    dbdimp.c:257: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbuffer’:
    dbdimp.c:272: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘parse_params’:
    dbdimp.c:589: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘my_login’:
    dbdimp.c:1996: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_describe’:
    dbdimp.c:3605: warning: assignment from incompatible pointer type
    dbdimp.c:3606: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_st_fetch’:
    dbdimp.c:3798: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_param’:
    dbdimp.c:223: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_bind’:
    dbdimp.c:241: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbind’:
    dbdimp.c:257: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbuffer’:
    dbdimp.c:272: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘parse_params’:
    dbdimp.c:589: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘my_login’:
    dbdimp.c:1996: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_describe’:
    dbdimp.c:3605: warning: assignment from incompatible pointer type
    dbdimp.c:3606: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_st_fetch’:
    dbdimp.c:3798: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_param’:
    dbdimp.c:223: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_bind’:
    dbdimp.c:241: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbind’:
    dbdimp.c:257: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘alloc_fbuffer’:
    dbdimp.c:272: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘parse_params’:
    dbdimp.c:589: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘my_login’:
    dbdimp.c:1996: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_describe’:
    dbdimp.c:3605: warning: assignment from incompatible pointer type
    dbdimp.c:3606: warning: format not a string literal and no format arguments
    dbdimp.c: In function ‘mysql_st_fetch’:
    dbdimp.c:3798: warning: format not a string literal and no format arguments
    /usr/bin/perl -p -e ""s/~DRIVER~/mysql/g"" /Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI/Driver.xst > mysql.xsi
    /usr/bin/perl /Library/Perl/Updates/5.10.0/ExtUtils/xsubpp  -typemap /System/Library/Perl/5.10.0/ExtUtils/typemap  mysql.xs > mysql.xsc && mv mysql.xsc mysql.c
    Warning: duplicate function definition 'do' detected in mysql.xs, line 242
    Warning: duplicate function definition 'rows' detected in mysql.xs, line 751
    gcc-4.2 -c  -I/Library/Perl/5.10.0/darwin-thread-multi-2level/auto/DBI -I/usr/local/mysql/include  -Os -g -fno-common -fno-strict-aliasing -arch x86_64 -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include -Os   -DVERSION=\""4.020\"" -DXS_VERSION=\""4.020\""  ""-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE""   mysql.c
    mysql.xs: In function ‘XS_DBD__mysql__db_do’:
    mysql.xs:307: warning: format ‘%d’ expects type ‘int’, but argument 4 has type ‘struct SV *’
    mysql.xs:364: warning: format not a string literal and no format arguments
    mysql.xs:365: warning: format not a string literal and no format arguments
    mysql.xs:366: warning: format not a string literal and no format arguments
    mysql.xs:525: warning: format not a string literal and no format arguments
    mysql.xs: In function ‘XS_DBD__mysql__GetInfo_dbd_mysql_get_info’:
    mysql.xs:930: warning: format ‘%i’ expects type ‘int’, but argument 2 has type ‘struct SV *’
    mysql.xs: In function ‘XS_DBD__mysql__db_do’:
    mysql.xs:307: warning: format ‘%d’ expects type ‘int’, but argument 4 has type ‘struct SV *’
    mysql.xs:364: warning: format not a string literal and no format arguments
    mysql.xs:365: warning: format not a string literal and no format arguments
    mysql.xs:366: warning: format not a string literal and no format arguments
    mysql.xs:525: warning: format not a string literal and no format arguments
    mysql.xs: In function ‘XS_DBD__mysql__GetInfo_dbd_mysql_get_info’:
    mysql.xs:930: warning: format ‘%i’ expects type ‘int’, but argument 2 has type ‘struct SV *’
    mysql.xs: In function ‘XS_DBD__mysql__db_do’:
    mysql.xs:307: warning: format ‘%d’ expects type ‘int’, but argument 4 has type ‘struct SV *’
    mysql.xs:364: warning: format not a string literal and no format arguments
    mysql.xs:365: warning: format not a string literal and no format arguments
    mysql.xs:366: warning: format not a string literal and no format arguments
    mysql.xs:525: warning: format not a string literal and no format arguments
    mysql.xs: In function ‘XS_DBD__mysql__GetInfo_dbd_mysql_get_info’:
    mysql.xs:930: warning: format ‘%i’ expects type ‘int’, but argument 2 has type ‘struct SV *’
    Running Mkbootstrap for DBD::mysql ()
    chmod 644 mysql.bs
    rm -f blib/arch/auto/DBD/mysql/mysql.bundle
    LD_RUN_PATH=""/usr/local/mysql/lib:/usr/lib"" /usr/bin/perl myld gcc-4.2 -mmacosx-version-min=10.6.3  -arch x86_64 -arch i386 -arch ppc -bundle -undefined dynamic_lookup -L/usr/local/lib dbdimp.o mysql.o  -o blib/arch/auto/DBD/mysql/mysql.bundle 	\
    	   -L/usr/local/mysql/lib -lmysqlclient -lpthread  	\
    	  
    chmod 755 blib/arch/auto/DBD/mysql/mysql.bundle
    cp mysql.bs blib/arch/auto/DBD/mysql/mysql.bs
    chmod 644 blib/arch/auto/DBD/mysql/mysql.bs
    Manifying blib/man3/DBD::mysql.3pm
    Manifying blib/man3/DBD::mysql::INSTALL.3pm
    Manifying blib/man3/Bundle::DBD::mysql.3pm
    PERL_DL_NONLAZY=1 /usr/bin/perl ""-MExtUtils::Command::MM"" ""-e"" ""test_harness(0, 'blib/lib', 'blib/arch')"" t/*.t
    Bailout called.  Further testing stopped:  Unable to load DBD::mysql
    
    #   Failed test 'use DBD::mysql;'
    #   at t/00base.t line 21.
    #     Tried to use 'DBD::mysql'.
    #     Error:  Can't load '/Users/jerickson/.cpanm/work/1314049977.98062/DBD-mysql-4.020/blib/arch/auto/DBD/mysql/mysql.bundle' for module DBD::mysql: dlopen(/Users/jerickson/.cpanm/work/1314049977.98062/DBD-mysql-4.020/blib/arch/auto/DBD/mysql/mysql.bundle, 2): Library not loaded: libmysqlclient.18.dylib
    #   Referenced from: /Users/jerickson/.cpanm/work/1314049977.98062/DBD-mysql-4.020/blib/arch/auto/DBD/mysql/mysql.bundle
    #   Reason: image not found at /System/Library/Perl/5.10.0/darwin-thread-multi-2level/DynaLoader.pm line 207.
    #  at (eval 7) line 2
    # Compilation failed in require at (eval 7) line 2.
    # BEGIN failed--compilation aborted at (eval 7) line 2.
    FAILED--Further testing stopped: Unable to load DBD::mysql
    make: *** [test_dynamic] Error 255
    -> FAIL Installing DBD::mysql failed. See /Users/jerickson/.cpanm/build.log for details.

",4
4524157,12/24/2010 04:11:35,344669,05/19/2010 02:26:56,21,1,mysql report sql help,"I have mysql table with data like this. record will have server with total cpu and virtual server with cpu assinged

    type, cpu
    srv1,   10
    vsrv11, 2
    vsrv12,  3
    srv2,   15
    vsrv21, 6
    vsrv22,  7
    vsrv23,  1

from the above data, I want to create output like this.

    server, total cpu, assigned cpu, free cpu
    srv1, 10, 5, 5
    srv2, 15, 14, 1


Can you help me on creating sql query for this report?

Thanks",mysql,,,,,,open,0,112,4,"mysql report sql help I have mysql table with data like this. record will have server with total cpu and virtual server with cpu assinged

    type, cpu
    srv1,   10
    vsrv11, 2
    vsrv12,  3
    srv2,   15
    vsrv21, 6
    vsrv22,  7
    vsrv23,  1

from the above data, I want to create output like this.

    server, total cpu, assigned cpu, free cpu
    srv1, 10, 5, 5
    srv2, 15, 14, 1


Can you help me on creating sql query for this report?

Thanks",1
7013687,08/10/2011 15:43:51,773527,05/27/2011 17:44:05,16,1,how to fetch selected user details using join query in zend framework,"Hi i am new to zend and mysql so please ignore if this is a silly ques. i have two tabels: users and user_cars. Now the user_cars table contains same user with multiple cars. i.e. if a user has three different cars, then the user_cars table contains three entries for that user. Now i want to select a particular user from user_cars table. The userid is given to me. can anyone please tell me how to do that. 

        users: 
        userid, username, password, fname, lname               // columns

        user_cars:
        id, userid, car_name, purchase_date                    // columns

so i have a userid and want to select all the rows from user_cars with the given userid. can anyone please tell me how to do this. ",mysql,zend-db-table,,,,,open,0,183,12,"how to fetch selected user details using join query in zend framework Hi i am new to zend and mysql so please ignore if this is a silly ques. i have two tabels: users and user_cars. Now the user_cars table contains same user with multiple cars. i.e. if a user has three different cars, then the user_cars table contains three entries for that user. Now i want to select a particular user from user_cars table. The userid is given to me. can anyone please tell me how to do that. 

        users: 
        userid, username, password, fname, lname               // columns

        user_cars:
        id, userid, car_name, purchase_date                    // columns

so i have a userid and want to select all the rows from user_cars with the given userid. can anyone please tell me how to do this. ",2
10480366,05/07/2012 10:19:19,799014,04/28/2011 19:45:32,304,25,Optimizing this mysql query to make use of my indexes if possible?,"I have a mysql query that I thought should be using my indexes but still seems to be needing to scan alot of rows (I think).

Here is my query:

    SELECT DISTINCT DAY(broadcast_at) AS 'days' 
    from v3211062009 
    where month(broadcast_at) = 5 and 
    year(broadcast_at) = 2012 
    and deviceid = 337 order by days;

On my table I have an index setup on **broadcast_at, deviceid**.  However the results of a explain on this query looks like:

id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra1	SIMPLE	v3211062009	ref	indx_deviceid,indx_tracking_query	indx_tracking_query	4	const	**172958**	Using where; Using index; Using temporary; Using filesort

I don't understand why it needs to look up so many of the rows.  The total amount of rows for this deviceid record is only **184085** so my query seems to be almost looking at all of them just to get the result set.  Is the index on broadcast_at not working.

I'm obviously doing something fundamentally wrong but can't figure it out.  Changing the order of the columns in my index didn't work.


",mysql,query,query-optimization,,,,open,0,173,12,"Optimizing this mysql query to make use of my indexes if possible? I have a mysql query that I thought should be using my indexes but still seems to be needing to scan alot of rows (I think).

Here is my query:

    SELECT DISTINCT DAY(broadcast_at) AS 'days' 
    from v3211062009 
    where month(broadcast_at) = 5 and 
    year(broadcast_at) = 2012 
    and deviceid = 337 order by days;

On my table I have an index setup on **broadcast_at, deviceid**.  However the results of a explain on this query looks like:

id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra1	SIMPLE	v3211062009	ref	indx_deviceid,indx_tracking_query	indx_tracking_query	4	const	**172958**	Using where; Using index; Using temporary; Using filesort

I don't understand why it needs to look up so many of the rows.  The total amount of rows for this deviceid record is only **184085** so my query seems to be almost looking at all of them just to get the result set.  Is the index on broadcast_at not working.

I'm obviously doing something fundamentally wrong but can't figure it out.  Changing the order of the columns in my index didn't work.


",3
5074114,02/22/2011 04:47:41,515659,11/22/2010 05:24:10,274,6,different count from 2 tables,"I have 3 tables as

    products TABLE
      FIELDS: productid, catid,...

    sales TABLE
      FIELDS: trackid, productid,...

    promotion TABLE
      FIELDS: trackid, productid,...

Now I need something like

    ProductID     CatID     TotalSales      TotalPromotion
        1           1          10                3 


How can I achieve this?

Thanks for the help
",mysql,,,,,,open,0,121,5,"different count from 2 tables I have 3 tables as

    products TABLE
      FIELDS: productid, catid,...

    sales TABLE
      FIELDS: trackid, productid,...

    promotion TABLE
      FIELDS: trackid, productid,...

Now I need something like

    ProductID     CatID     TotalSales      TotalPromotion
        1           1          10                3 


How can I achieve this?

Thanks for the help
",1
6707639,07/15/2011 13:22:41,846517,07/15/2011 13:22:07,1,0,Synchronizing MySql DBs data,"first of all I am new to the distributed DB world, anynhow scenario is:

I have three servers in US, Sweden and Australia, same web application has been deployed on all of them with mysql DB (same structure). as different users are using these application and all three DBs have different data; now from now we need to synchronize the DB data every time if any change happened into the data in any one of the server automatically; tell me what can be the optimized solution.

or 
if we use one same DB server for all web servers, will it slow down the speed of application ?

please suggest something to start with.
",mysql,database,distributed,data-synchronization,,,open,0,110,4,"Synchronizing MySql DBs data first of all I am new to the distributed DB world, anynhow scenario is:

I have three servers in US, Sweden and Australia, same web application has been deployed on all of them with mysql DB (same structure). as different users are using these application and all three DBs have different data; now from now we need to synchronize the DB data every time if any change happened into the data in any one of the server automatically; tell me what can be the optimized solution.

or 
if we use one same DB server for all web servers, will it slow down the speed of application ?

please suggest something to start with.
",4
5047190,02/18/2011 22:20:09,499786,11/07/2010 11:08:46,52,2,Error Query: DELETE and LEFT JOIN,"DELETE FROM programSchedule LEFT JOIN program ON programSchedule.pid = program.id WHERE program.channel_id = 10

I get this error:

#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LEFT JOIN program ON programSchedule.pid = program.id' at line 1

Why?",mysql,,,,,,open,0,53,6,"Error Query: DELETE and LEFT JOIN DELETE FROM programSchedule LEFT JOIN program ON programSchedule.pid = program.id WHERE program.channel_id = 10

I get this error:

#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LEFT JOIN program ON programSchedule.pid = program.id' at line 1

Why?",1
8934073,01/19/2012 22:06:59,1077783,12/02/2011 16:10:55,130,8,Cakephp find by date range?,"I am trying to fetch coupons that haven't expired yet.  I have this in my controller:

    public function coupons() {
	
	$this->paginate['Coupon']=array(
		'limit'=>9,
		'order'=>'RAND()',
		'conditions'=>array(
				'Coupon.end_date'=>??????)
	    );
	$c=$this->paginate('Coupon');
	$this->set('allcoupons', $c);
			
	}

and I haven't got a clue how to tell cake to find all records not expired as of today.  end_date is in DATE format.  I don't know how to ask cake to look at end_date and compare it to today, AND do it inside the paginate method.",mysql,cakephp,cakephp-2.0,,,,open,0,77,5,"Cakephp find by date range? I am trying to fetch coupons that haven't expired yet.  I have this in my controller:

    public function coupons() {
	
	$this->paginate['Coupon']=array(
		'limit'=>9,
		'order'=>'RAND()',
		'conditions'=>array(
				'Coupon.end_date'=>??????)
	    );
	$c=$this->paginate('Coupon');
	$this->set('allcoupons', $c);
			
	}

and I haven't got a clue how to tell cake to find all records not expired as of today.  end_date is in DATE format.  I don't know how to ask cake to look at end_date and compare it to today, AND do it inside the paginate method.",3
9822630,03/22/2012 12:50:52,1285926,03/22/2012 12:38:51,1,0,MySQL Workbench - alter database query (Local Connection Database),"I want to run an alter database query on  the Schema I am designing in the Workbench software.
is this at all possible?
I want to run this in the Workbench Scripting Shell on the Schema called ""BACKDOOR"" within the Table called ""SATURDAY""

    ""alter table SATURDAY add column flavor""

It does not work for me though :   

    File ""<string>"", line 1
    alter table SATURDAY add column flavor
                 ^
    SyntaxError: invalid syntax
    Error executing script.


I do not have MySQL Installed on this pc. Im am going on the basis that the code snippets in the Workbench Scripter work fine eg 

    schema = grt.root.wb.doc.physicalModels[0].catalog.schemata[0]
    for table in schema.tables:
        print table.name 

This gives me all the table names from the database im designing in the Workbench software.
I guess i need to wrap my sql statement in a similar fashion to the snippet.


Any Help Much appreciated",mysql,mysql-workbench,,,,,open,0,188,9,"MySQL Workbench - alter database query (Local Connection Database) I want to run an alter database query on  the Schema I am designing in the Workbench software.
is this at all possible?
I want to run this in the Workbench Scripting Shell on the Schema called ""BACKDOOR"" within the Table called ""SATURDAY""

    ""alter table SATURDAY add column flavor""

It does not work for me though :   

    File ""<string>"", line 1
    alter table SATURDAY add column flavor
                 ^
    SyntaxError: invalid syntax
    Error executing script.


I do not have MySQL Installed on this pc. Im am going on the basis that the code snippets in the Workbench Scripter work fine eg 

    schema = grt.root.wb.doc.physicalModels[0].catalog.schemata[0]
    for table in schema.tables:
        print table.name 

This gives me all the table names from the database im designing in the Workbench software.
I guess i need to wrap my sql statement in a similar fashion to the snippet.


Any Help Much appreciated",2
6928770,08/03/2011 15:13:12,641514,03/02/2011 15:58:39,1082,12,Can I avoid redundant primary key columns in a MySQL table for django (python)?,"I am aware of the fact, the if I use the ORM of Django every table has to have a primary key column. Somehow if you have a many_to_many table which links to tables (let's call them authors and books) you would get something like:

    id     author_id     book_id
    1      1             1
    2      1             2
    3      2             3
    etc.

I have encountered an article in which it is proposed to avoid the column ""id"" and to create a compound primary key instead. Does this work out with django?
",mysql,django,primary-key,compound-key,,,open,0,160,14,"Can I avoid redundant primary key columns in a MySQL table for django (python)? I am aware of the fact, the if I use the ORM of Django every table has to have a primary key column. Somehow if you have a many_to_many table which links to tables (let's call them authors and books) you would get something like:

    id     author_id     book_id
    1      1             1
    2      1             2
    3      2             3
    etc.

I have encountered an article in which it is proposed to avoid the column ""id"" and to create a compound primary key instead. Does this work out with django?
",4
10264567,04/22/2012 01:47:57,1349003,04/22/2012 01:36:29,1,0,Loop attempt to connect to JDBC,"I'm trying to create an application for checking in and out devices. So far I've had success but I'm trying to have the main index.jsp page that is called display a message like ""connecting"" until a connection with the database can actually be made and then display the actual login form. So something to the effect of.
    
    Connection con = null;
    String driver = ""com.mysql.jdbc.Driver"";
    Class.forName(driver).newInstance();
    boolean connected = false;
	
    while(!connected) {
        try{
	        String url = ""jdbc:mysql://localhost:3306/test"";
            con = DriverManager.getConnection(url,""root"",""ikkakumon"");
	        connected = true;

            //Display form allowing user to authenticate login

        } catch(Exception e) {
            //Display Message ""Attempting to connect to database""
        }
    }


The problem I have is the same message will get repeated over and over on the web page but i just want it to display once and stay there until the connection is found and then be removed and replace with the login form. Any thoughts?
",mysql,jsp,servlets,,,,open,0,238,6,"Loop attempt to connect to JDBC I'm trying to create an application for checking in and out devices. So far I've had success but I'm trying to have the main index.jsp page that is called display a message like ""connecting"" until a connection with the database can actually be made and then display the actual login form. So something to the effect of.
    
    Connection con = null;
    String driver = ""com.mysql.jdbc.Driver"";
    Class.forName(driver).newInstance();
    boolean connected = false;
	
    while(!connected) {
        try{
	        String url = ""jdbc:mysql://localhost:3306/test"";
            con = DriverManager.getConnection(url,""root"",""ikkakumon"");
	        connected = true;

            //Display form allowing user to authenticate login

        } catch(Exception e) {
            //Display Message ""Attempting to connect to database""
        }
    }


The problem I have is the same message will get repeated over and over on the web page but i just want it to display once and stay there until the connection is found and then be removed and replace with the login form. Any thoughts?
",3
4832380,01/28/2011 19:44:48,334966,05/07/2010 00:22:51,342,26,mysqldump: exclude data for certain tables but keeep structure,"I'm doing a regular dump of a database that uses the database for logging. I need to create a `mysqldump` command that dumps everything from the database but excludes the row information for the log tables. 

I see the [`no-data`](http://dev.mysql.com/doc/refman/4.1/en/mysqldump.html#option_mysqldump_no-data) parameter, but that doesn't seem to support selecting only certain tables?",mysql,mysqldump,database-backups,,,,open,0,51,9,"mysqldump: exclude data for certain tables but keeep structure I'm doing a regular dump of a database that uses the database for logging. I need to create a `mysqldump` command that dumps everything from the database but excludes the row information for the log tables. 

I see the [`no-data`](http://dev.mysql.com/doc/refman/4.1/en/mysqldump.html#option_mysqldump_no-data) parameter, but that doesn't seem to support selecting only certain tables?",3
3763650,09/21/2010 19:17:29,282772,02/27/2010 17:30:20,114,4,MySql queries: really never use SELECT  * ?,"I'm a self taught developer and ive always been told not to use SELECT *, but most of my queries require to know all the values of a certain row...

what should i use then? should i list ALL of the properties every time? like Select elem1,elem2,elem3,....,elem15 FROM...?

thanks
",mysql,performance,query,,,,open,0,47,9,"MySql queries: really never use SELECT  * ? I'm a self taught developer and ive always been told not to use SELECT *, but most of my queries require to know all the values of a certain row...

what should i use then? should i list ALL of the properties every time? like Select elem1,elem2,elem3,....,elem15 FROM...?

thanks
",3
6555549,07/02/2011 06:50:18,715663,04/19/2011 17:06:32,46,3,How to measure mySQL bottlenecks?,"What mySQL server variables should we be looking at and what thresholds are significant for the following problem scenarios:

1. CPU bound
2. Disk read bound
3. Disk write bound

And for each scenario, what solutions are recommended to improve them, short of getting better hardware or scaling the database to multiple servers?

",mysql,,,,,,open,0,49,5,"How to measure mySQL bottlenecks? What mySQL server variables should we be looking at and what thresholds are significant for the following problem scenarios:

1. CPU bound
2. Disk read bound
3. Disk write bound

And for each scenario, what solutions are recommended to improve them, short of getting better hardware or scaling the database to multiple servers?

",1
8007107,11/04/2011 09:23:42,702951,04/11/2011 21:01:25,1,1,enable the FEDERATED mysql engine on mac,"so here's my problem: I'm trying to enable the FEDERATED storage engine in mysql on MAC (Lion). In phpmyadmin I have this message: 

This MySQL server does not support the FEDERATED storage engine.
There is no detailed status information available for this storage engine.

So I've googled a lot and I found out this solution: adding the variable ""federated"" in the my.cnf file under the [mysqld], which I did through the terminal (logging in as root etc...). I restarted the server but nothing happened.

If I open the my.cnf file I'm seeing 

    [mysqld]
    #skip-networking
    skip-innodb
    user            = mysql
    pid-file        = __PREFIX/var/run/mysqld/mysqld.pid
    socket          = __PREFIX/var/run/mysqld/mysqld.sock
    port            = 3306
    log             = __PREFIX/var/log/mysql/mysql.log
    basedir         = __PREFIX
    datadir         = __PREFIX/var/db/mysql
    tmpdir          = /tmp
    language        = __PREFIX/share/mysql/english
    skip-locking
    set-variable    = key_buffer=16M
    set-variable    = max_allowed_packet=1M
    set-variable    = thread_stack=128K
    federated

I'm sure I'm missing something here...",mysql,osx-lion,federated-storage-engine,,,,open,0,278,7,"enable the FEDERATED mysql engine on mac so here's my problem: I'm trying to enable the FEDERATED storage engine in mysql on MAC (Lion). In phpmyadmin I have this message: 

This MySQL server does not support the FEDERATED storage engine.
There is no detailed status information available for this storage engine.

So I've googled a lot and I found out this solution: adding the variable ""federated"" in the my.cnf file under the [mysqld], which I did through the terminal (logging in as root etc...). I restarted the server but nothing happened.

If I open the my.cnf file I'm seeing 

    [mysqld]
    #skip-networking
    skip-innodb
    user            = mysql
    pid-file        = __PREFIX/var/run/mysqld/mysqld.pid
    socket          = __PREFIX/var/run/mysqld/mysqld.sock
    port            = 3306
    log             = __PREFIX/var/log/mysql/mysql.log
    basedir         = __PREFIX
    datadir         = __PREFIX/var/db/mysql
    tmpdir          = /tmp
    language        = __PREFIX/share/mysql/english
    skip-locking
    set-variable    = key_buffer=16M
    set-variable    = max_allowed_packet=1M
    set-variable    = thread_stack=128K
    federated

I'm sure I'm missing something here...",3
10380995,04/30/2012 09:03:46,1299941,03/29/2012 05:59:21,1,1,GET COMMON DATA BY COMBINING DATA OF THREE DIFFERRENT SQL QUERY,"     SELECT STATNO FROM ENQUIRY  WHERE ID=12;
     THIS RETURNS DATA 100,102,110

    SELECT STATNO FROM ENQUIRY  WHERE ID=16;
    THIS RETURNS DATA 102,112,118

     SELECT STATNO FROM ENQUIRY  WHERE ID=21;
     THIS RETURNS DATA 101,102,120

i NEED AN SQL QUERY THAT COMBINES ABOVE THREE QUERIES AND RETURN THE COMMON DATA 102 as my output
",mysql,subquery,,,,04/30/2012 16:09:12,not a real question,1,74,11,"GET COMMON DATA BY COMBINING DATA OF THREE DIFFERRENT SQL QUERY      SELECT STATNO FROM ENQUIRY  WHERE ID=12;
     THIS RETURNS DATA 100,102,110

    SELECT STATNO FROM ENQUIRY  WHERE ID=16;
    THIS RETURNS DATA 102,112,118

     SELECT STATNO FROM ENQUIRY  WHERE ID=21;
     THIS RETURNS DATA 101,102,120

i NEED AN SQL QUERY THAT COMBINES ABOVE THREE QUERIES AND RETURN THE COMMON DATA 102 as my output
",2
4530647,12/25/2010 15:30:37,437039,09/01/2010 14:15:51,85,0,MySQL won't replace words with empty space,"Basically, I have a problem with replace() function in MySQL (via phpMyAdmin). One table got messed and some special characters (+ empty space after it) appeared inside a word. So all I wanted to do was:

> UPDATE myTable SET columnName  =
> (replace(columnName, 'Å house',
> 'house'))

But MySQL returns 

    0 row(s) affected. ( Query took 0.0107 sec )

The same is when I try to replace foreign towns with special characters in the name of a town (Swedish town, German town, etc.)

Am I doing something wrong???",mysql,replace,,,,,open,0,88,7,"MySQL won't replace words with empty space Basically, I have a problem with replace() function in MySQL (via phpMyAdmin). One table got messed and some special characters (+ empty space after it) appeared inside a word. So all I wanted to do was:

> UPDATE myTable SET columnName  =
> (replace(columnName, 'Å house',
> 'house'))

But MySQL returns 

    0 row(s) affected. ( Query took 0.0107 sec )

The same is when I try to replace foreign towns with special characters in the name of a town (Swedish town, German town, etc.)

Am I doing something wrong???",2
9360176,02/20/2012 11:10:12,876499,08/03/2011 11:36:01,1,0,Trouble with mysql query and processlist,"I am having trouble with MySQL processlist. I have a query which is a bit slow in nature. I takes around 90 seconds for it to execute. The trouble is, when I look into MySQL processlist, it shows 2 instances for the same query as processes. Initially, the query is treated as a single process. But after some time, say 30-40 seconds, when I refresh the process list, I could see another process created for the same query. There is absolutely no problem with the back end code. The code is written to execute the query only once.",mysql,processlist,,,,02/22/2012 14:34:00,not a real question,1,98,6,"Trouble with mysql query and processlist I am having trouble with MySQL processlist. I have a query which is a bit slow in nature. I takes around 90 seconds for it to execute. The trouble is, when I look into MySQL processlist, it shows 2 instances for the same query as processes. Initially, the query is treated as a single process. But after some time, say 30-40 seconds, when I refresh the process list, I could see another process created for the same query. There is absolutely no problem with the back end code. The code is written to execute the query only once.",2
4444387,12/14/2010 21:23:59,383609,07/05/2010 11:20:27,1094,59,MySQL JOIN two tables,"I'm sorry about the ambiguous title - I couldn't come up with an explanation for the behaviour I want without giving examples. Also, if this is a duplicate thread, please point me to the correct one and I'll delete it. I couldn't search for what I wanted because, as I said above, it's hard to explain...

Anyway, I want to select data from two tables. One holds a bunch of projects, whereas another holds multiple checklist items for each project. I have a very primitive `LEFT JOIN` query at the moment, which returns this (there is only one project, at the moment):

<pre>
name	                description
Project file symlinks	One
Project file symlinks	Two
Project file symlinks	seven
Project file symlinks	ahahahahaha
Project file symlinks	many
Project file symlinks	ANOTHER ONE
</pre>

What I'd _like_ to happen is this, for each project in the projects table:

<pre>
name	                description
Project file symlinks	One
                     	Two
                     	seven
                     	ahahahahaha
                     	many
                     	ANOTHER ONE
</pre>

Or null, it doesn't matter. Essentially, I want to only print the project name once, but print all it's corresponding checklist items.

Can anyone offer a MySQL `JOIN` query so that I can get the behaviour I want? Thanks for any help,

James",mysql,join,,,,,open,0,307,4,"MySQL JOIN two tables I'm sorry about the ambiguous title - I couldn't come up with an explanation for the behaviour I want without giving examples. Also, if this is a duplicate thread, please point me to the correct one and I'll delete it. I couldn't search for what I wanted because, as I said above, it's hard to explain...

Anyway, I want to select data from two tables. One holds a bunch of projects, whereas another holds multiple checklist items for each project. I have a very primitive `LEFT JOIN` query at the moment, which returns this (there is only one project, at the moment):

<pre>
name	                description
Project file symlinks	One
Project file symlinks	Two
Project file symlinks	seven
Project file symlinks	ahahahahaha
Project file symlinks	many
Project file symlinks	ANOTHER ONE
</pre>

What I'd _like_ to happen is this, for each project in the projects table:

<pre>
name	                description
Project file symlinks	One
                     	Two
                     	seven
                     	ahahahahaha
                     	many
                     	ANOTHER ONE
</pre>

Or null, it doesn't matter. Essentially, I want to only print the project name once, but print all it's corresponding checklist items.

Can anyone offer a MySQL `JOIN` query so that I can get the behaviour I want? Thanks for any help,

James",2
3205261,07/08/2010 15:29:06,1390354,10/12/2008 00:27:55,1467,60,MySQL Delete Records from 2 Tables,"Im looking to delete information in two different tables in 1 query, based on an ID.

I've tried several solutions on here to accomplish this task but still have not accomplished what I'm trying to do.

**Table 1 - Content**

    ---------- ---------
     ContentID | Content
    --------------------
**Table 2 - Votes**

    ---------------------------
     VoteID | ContentID | Vote 
    ---------------------------


I want to delete the content row based on its ID and any or all votes (there could be 0 vote records). I do **NOT** want to use transactions, cascading deletes, or use 2 different queries. What is best here - a LEFT JOIN, INNER JOIN?

Any help here would be greatly appreciated, thank you",mysql,mysql-query,delete,,,,open,0,128,6,"MySQL Delete Records from 2 Tables Im looking to delete information in two different tables in 1 query, based on an ID.

I've tried several solutions on here to accomplish this task but still have not accomplished what I'm trying to do.

**Table 1 - Content**

    ---------- ---------
     ContentID | Content
    --------------------
**Table 2 - Votes**

    ---------------------------
     VoteID | ContentID | Vote 
    ---------------------------


I want to delete the content row based on its ID and any or all votes (there could be 0 vote records). I do **NOT** want to use transactions, cascading deletes, or use 2 different queries. What is best here - a LEFT JOIN, INNER JOIN?

Any help here would be greatly appreciated, thank you",3
2103793,01/20/2010 18:13:33,249341,01/12/2010 22:44:34,13,1,Mysql on the command line (can't use all keyboard buttons),"Using mysql directly from the command line (running on Ubuntu 9.10, standard bash terminal), I am unable to use certain keyboard buttons like:

`Delete, Control-(arrow right), Control-(arrow left)`

Which get returned to me as:

`~;5C;5D`

respectively. I'm assuming there must be a flag in mysql that fixes this but I have been unable to find one. Is there a .mysqlconfig file to edit to make this happen on startup?
",mysql,bash,,,,,open,0,65,10,"Mysql on the command line (can't use all keyboard buttons) Using mysql directly from the command line (running on Ubuntu 9.10, standard bash terminal), I am unable to use certain keyboard buttons like:

`Delete, Control-(arrow right), Control-(arrow left)`

Which get returned to me as:

`~;5C;5D`

respectively. I'm assuming there must be a flag in mysql that fixes this but I have been unable to find one. Is there a .mysqlconfig file to edit to make this happen on startup?
",2
11002533,06/12/2012 18:23:41,1451927,06/12/2012 18:08:31,1,0,Adv. mySQL SELECT,"-.-

I'm sitting with this SELECT statement, and it's drivin me to crazyness!!

I got ONE product sepperated into 5 products, each with a culumn telling how many you should order to get it for that price.

What i want is for instance if i'm ordering 54, i should get the price from 50

If i'm ordering 100 or 101 etc.. i should get the price from 100.. and so on

Here's my SELECT so far .. PLEASE HELP -.-

SELECT  
    entity.entity_id AS ""ID"",
    entity.value AS ""Name"",
    qty_price.qty AS ""Pcs"",
    qty_price.value AS ""Price""
    FROM `mg_catalog_product_entity_tier_price` qty_price 
    JOIN `mg_catalog_product_entity_varchar` entity 
    ON qty_price.entity_id = entity.entity_id 
    WHERE entity.entity_id = 300 
    AND entity.value = (SELECT name FROM `mg_catalog_product_flat_1` WHERE `mg_catalog_product_flat_1`.entity_id  = entity.entity_id)
    
    LIMIT 10;",mysql,sql,database,join,,,open,0,155,3,"Adv. mySQL SELECT -.-

I'm sitting with this SELECT statement, and it's drivin me to crazyness!!

I got ONE product sepperated into 5 products, each with a culumn telling how many you should order to get it for that price.

What i want is for instance if i'm ordering 54, i should get the price from 50

If i'm ordering 100 or 101 etc.. i should get the price from 100.. and so on

Here's my SELECT so far .. PLEASE HELP -.-

SELECT  
    entity.entity_id AS ""ID"",
    entity.value AS ""Name"",
    qty_price.qty AS ""Pcs"",
    qty_price.value AS ""Price""
    FROM `mg_catalog_product_entity_tier_price` qty_price 
    JOIN `mg_catalog_product_entity_varchar` entity 
    ON qty_price.entity_id = entity.entity_id 
    WHERE entity.entity_id = 300 
    AND entity.value = (SELECT name FROM `mg_catalog_product_flat_1` WHERE `mg_catalog_product_flat_1`.entity_id  = entity.entity_id)
    
    LIMIT 10;",4
11592139,07/21/2012 12:22:44,216313,11/22/2009 01:38:24,1327,37,MySQL snafoo with GROUP_CONCAT,"This works:

    SELECT DISTINCT HEX(group_uuid) AS hexid 
    FROM schema.table

    >9B3D8DE01E1E049DA9F17D42B324AA66
    >CDF112D740CE14EA08CA90E3C937DE8D


as does this

    SELECT  GROUP_CONCAT('\'', HEX(group_uuid), '\' ') AS hexid 
    FROM schema.table

    >'9B3D8DE01E1E049DA9F17D42B324AA66','9B3D8DE01E1E049DA9F17D42B324AA66' [etc...]

and this 

    SELECT  GROUP_CONCAT(DISTINCT HEX(group_uuid) SEPARATOR '\' ') AS hexid 
    FROM schema.table

    >9B3D8DE01E1E049DA9F17D42B324AA66' CDF112D740CE14EA08CA90E3C937DE8D

this, however,


    SELECT  GROUP_CONCAT('\'', DISTINCT HEX(group_uuid) SEPARATOR '\' ') AS hexid 
    FROM schema.table 

    Error Code: 1064. You have an error in your SQL syntax; INSERT COIN

does not.


Is there some kind 'PREFIX' keyword that can be substituted or another syntax I'm supposed to follow?",mysql,group-concat,,,,,open,0,127,4,"MySQL snafoo with GROUP_CONCAT This works:

    SELECT DISTINCT HEX(group_uuid) AS hexid 
    FROM schema.table

    >9B3D8DE01E1E049DA9F17D42B324AA66
    >CDF112D740CE14EA08CA90E3C937DE8D


as does this

    SELECT  GROUP_CONCAT('\'', HEX(group_uuid), '\' ') AS hexid 
    FROM schema.table

    >'9B3D8DE01E1E049DA9F17D42B324AA66','9B3D8DE01E1E049DA9F17D42B324AA66' [etc...]

and this 

    SELECT  GROUP_CONCAT(DISTINCT HEX(group_uuid) SEPARATOR '\' ') AS hexid 
    FROM schema.table

    >9B3D8DE01E1E049DA9F17D42B324AA66' CDF112D740CE14EA08CA90E3C937DE8D

this, however,


    SELECT  GROUP_CONCAT('\'', DISTINCT HEX(group_uuid) SEPARATOR '\' ') AS hexid 
    FROM schema.table 

    Error Code: 1064. You have an error in your SQL syntax; INSERT COIN

does not.


Is there some kind 'PREFIX' keyword that can be substituted or another syntax I'm supposed to follow?",2
973923,06/10/2009 06:06:24,89717,04/11/2009 08:01:15,32,4,mysql varbinary vs varchar,"We use varchar(255) for storing ""keywords"" in mysql. We are facing a problem that mysql ignores all trailing spaces for comparison purposes in ""="". It does respect trailing spaces in ""like"" comparison, but it does not let us store same word with and without trailing spaces in a varchar column if it has a ""UNIQUE"" index over it.

So, we are considering switching to varbinary. Can anybody suggest what could be the implications when there are multi-byte characters in column values?",mysql,character,collation,,,,open,0,80,4,"mysql varbinary vs varchar We use varchar(255) for storing ""keywords"" in mysql. We are facing a problem that mysql ignores all trailing spaces for comparison purposes in ""="". It does respect trailing spaces in ""like"" comparison, but it does not let us store same word with and without trailing spaces in a varchar column if it has a ""UNIQUE"" index over it.

So, we are considering switching to varbinary. Can anybody suggest what could be the implications when there are multi-byte characters in column values?",3
1545467,10/09/2009 18:51:19,179736,09/27/2009 11:27:55,469,4,"SELECT statement for the ""length"" of the field is greater than 1 ","I have an LINK field in my table. Some rows have a link, some don't.

I'd like to select all rows where LINK is present. (length is greater than X characters).

How to write this ? THanks.",mysql,,,,,,open,0,35,13,"SELECT statement for the ""length"" of the field is greater than 1  I have an LINK field in my table. Some rows have a link, some don't.

I'd like to select all rows where LINK is present. (length is greater than X characters).

How to write this ? THanks.",1
4135571,11/09/2010 15:46:29,502093,11/09/2010 15:46:29,1,0,"INNER JOIN doesn't work when LIMIT is added, can anyone help?","ok here is the code I'm working with and works perfectly fine:

    $curEvent_query = @mysql_query(""SELECT ppl.Fname, ppl.Lname, ppl.Email, plans.ID, plans.Date FROM ppl INNER JOIN plans ON plans.ID IN ($List) AND plans.OwnerID=ppl.ID AND plans.Date >= CURDATE() ORDER BY plans.Date ASC"");

But once I add the LIMIT, the code nolonger works:

    $curEvent_query = @mysql_query(""SELECT ppl.Fname, ppl.Lname, ppl.Email, plans.ID, plans.Date FROM ppl INNER JOIN plans ON plans.ID IN ($List) AND plans.OwnerID=ppl.ID AND plans.Date >= CURDATE() ORDER BY plans.Date ASC LIMIT $offset, $rowsPerPage"");

The reason for adding LIMIT is because I want to do paging. Any ideas what I'm doing wrong? Need help asap!

Thanks!",mysql,limit,inner-join,,,06/19/2012 12:45:11,not a real question,1,104,11,"INNER JOIN doesn't work when LIMIT is added, can anyone help? ok here is the code I'm working with and works perfectly fine:

    $curEvent_query = @mysql_query(""SELECT ppl.Fname, ppl.Lname, ppl.Email, plans.ID, plans.Date FROM ppl INNER JOIN plans ON plans.ID IN ($List) AND plans.OwnerID=ppl.ID AND plans.Date >= CURDATE() ORDER BY plans.Date ASC"");

But once I add the LIMIT, the code nolonger works:

    $curEvent_query = @mysql_query(""SELECT ppl.Fname, ppl.Lname, ppl.Email, plans.ID, plans.Date FROM ppl INNER JOIN plans ON plans.ID IN ($List) AND plans.OwnerID=ppl.ID AND plans.Date >= CURDATE() ORDER BY plans.Date ASC LIMIT $offset, $rowsPerPage"");

The reason for adding LIMIT is because I want to do paging. Any ideas what I'm doing wrong? Need help asap!

Thanks!",3
9195499,02/08/2012 14:44:32,832187,07/06/2011 18:37:03,29,3,Applications or Ways to Import MySQL Database with Relations etc..?,"I'm trying to edit my MySQL database after a long time of taking a rest, and I'm pretty confused what's what. Do you know of any application or a way in which I could import or merge my db on server into an application that will not only allow me to work with the database on my local pc, but be able to view the structure and relations visually?

Thank you :)))",mysql,,,,,02/09/2012 17:10:20,off topic,1,71,10,"Applications or Ways to Import MySQL Database with Relations etc..? I'm trying to edit my MySQL database after a long time of taking a rest, and I'm pretty confused what's what. Do you know of any application or a way in which I could import or merge my db on server into an application that will not only allow me to work with the database on my local pc, but be able to view the structure and relations visually?

Thank you :)))",1
7857954,10/22/2011 07:03:43,827534,07/04/2011 04:56:27,10,0,multiple where condition based sum and case statements,"In my table one of  filed is msg. Based this filed two  where condition. The condition are     


    where  msg  like '%fatal%' or out_msg like '%exception%' or out_msg like '%fopen%'

    then Select telco ,Sum(Case when hotkey = 'mrp' then 1 else 0 end) as mrp,
    Sum(Case when a= '1' then 1 else 0 end) as a, 
    Sum(Case when b= '2' then 1 else 0 end) as b, 
    Sum(Case when c= '3' then 1 else 0 end) as c,
   
   
    where  msg not like '%fatal%' or out_msg not like '%exception%' or out_msg not like   '%fopen%'
    then Select telco ,Sum(Case when hotkey = 'mrp' then 1 else 0 end) as mrp,
    Sum(Case when a= '1' then 1 else 0 end) as a_e, 
    Sum(Case when b= '2' then 1 else 0 end) as b_e, 
    Sum(Case when c= '3' then 1 else 0 end) as c_e,
   
    From temp_inbox 

I want to execute the above query . ",mysql,,,,,,open,0,209,8,"multiple where condition based sum and case statements In my table one of  filed is msg. Based this filed two  where condition. The condition are     


    where  msg  like '%fatal%' or out_msg like '%exception%' or out_msg like '%fopen%'

    then Select telco ,Sum(Case when hotkey = 'mrp' then 1 else 0 end) as mrp,
    Sum(Case when a= '1' then 1 else 0 end) as a, 
    Sum(Case when b= '2' then 1 else 0 end) as b, 
    Sum(Case when c= '3' then 1 else 0 end) as c,
   
   
    where  msg not like '%fatal%' or out_msg not like '%exception%' or out_msg not like   '%fopen%'
    then Select telco ,Sum(Case when hotkey = 'mrp' then 1 else 0 end) as mrp,
    Sum(Case when a= '1' then 1 else 0 end) as a_e, 
    Sum(Case when b= '2' then 1 else 0 end) as b_e, 
    Sum(Case when c= '3' then 1 else 0 end) as c_e,
   
    From temp_inbox 

I want to execute the above query . ",1
8495036,12/13/2011 19:32:31,951615,09/18/2011 20:11:41,200,0,solving matrex match with perl,"I have the following table on my database 

    idefintifer columntype1 columntype2 columntype3 columtypen4 columntype19  ......columntype20
    
        1           xxx_type1                           fff_type4      fff_type19
        2
        3
        4           xxx_tyep1                           ggg_type4       
        .
        .
        10                                                           fff_type19

In this case 1 4 and 10 are match  because they have the same type on specific column I need to extract all the set of matches of this table using perl or mysql is this possible ?

should I move on every row and find how matches i have and store the results or there is more effective way/algorithm to do this using some module from cpan?



",mysql,algorithm,perl,data-structures,,12/15/2011 02:21:00,too localized,1,295,5,"solving matrex match with perl I have the following table on my database 

    idefintifer columntype1 columntype2 columntype3 columtypen4 columntype19  ......columntype20
    
        1           xxx_type1                           fff_type4      fff_type19
        2
        3
        4           xxx_tyep1                           ggg_type4       
        .
        .
        10                                                           fff_type19

In this case 1 4 and 10 are match  because they have the same type on specific column I need to extract all the set of matches of this table using perl or mysql is this possible ?

should I move on every row and find how matches i have and store the results or there is more effective way/algorithm to do this using some module from cpan?



",4
8450642,12/09/2011 19:24:54,1026203,11/02/2011 17:52:31,20,0,MySQL Server Host,"I have a MySQL database which will be called by a .NET Web Service. Some of the tables in my database is meant to contain images and/or binary data files. However, I personally think it is wrong to clog a database with binary files.....so after a lot of research, I decided to save the files in a server host and then save their location in  the database. However, since I am new in this server-side technologies, I have no absolutely no clue where the MySQL Server is located in my computer. 

Can anyone please tell me where I should be saving the files so that I can just call them like this ""../Icons/pic.png"" instead of doing this ""C:\Documents and Settings\Images\Icons\pic.png""...?",mysql,,,,,12/09/2011 19:46:26,not a real question,1,121,3,"MySQL Server Host I have a MySQL database which will be called by a .NET Web Service. Some of the tables in my database is meant to contain images and/or binary data files. However, I personally think it is wrong to clog a database with binary files.....so after a lot of research, I decided to save the files in a server host and then save their location in  the database. However, since I am new in this server-side technologies, I have no absolutely no clue where the MySQL Server is located in my computer. 

Can anyone please tell me where I should be saving the files so that I can just call them like this ""../Icons/pic.png"" instead of doing this ""C:\Documents and Settings\Images\Icons\pic.png""...?",1
6083352,05/21/2011 17:35:28,296231,03/18/2010 05:20:08,1023,116,View or Sub-query in MySQL,"**Users**(username,`Catogory_ID`,*`Sub_Catergory_ID`*)


**Categories** (`Catogory_ID`,Categories_Name)


**SubCatogoies**(`Sub_Catergory_ID`,SubCatogoies_Name)

In `code`  are FK's and its PK's

**Question 1**

What i required is to create a view using all these three tables **OR** a sub query to get the Catogory and Sub_Catogory names as its ID's

**Question 2**

In exec what will be more faster ?

",mysql,sql,views,,,05/21/2011 22:56:27,too localized,1,44,5,"View or Sub-query in MySQL **Users**(username,`Catogory_ID`,*`Sub_Catergory_ID`*)


**Categories** (`Catogory_ID`,Categories_Name)


**SubCatogoies**(`Sub_Catergory_ID`,SubCatogoies_Name)

In `code`  are FK's and its PK's

**Question 1**

What i required is to create a view using all these three tables **OR** a sub query to get the Catogory and Sub_Catogory names as its ID's

**Question 2**

In exec what will be more faster ?

",3
9568530,03/05/2012 14:43:03,1169767,01/25/2012 17:42:17,23,0,MYSQL Left join A.table and b.table while retaining a.table id,"MYSQL Left join A.table and b.table while retaining a.table id when there is no b.table match.

SELECT * FROM sales_customer a LEFT JOIN sales_contact b ON a.customer_id = b.customer_id ORDER BY CASE WHEN company_name = '' THEN lname ELSE company_name END ASC

Gets me this:<br />
Array ( [0] => 54 [customer_id] => ) When there is no b.table match.

I need this:<br />
Array ( [0] => 54 [customer_id] => 29 )

Any suggestions?",mysql,inner-join,,,,,open,0,69,10,"MYSQL Left join A.table and b.table while retaining a.table id MYSQL Left join A.table and b.table while retaining a.table id when there is no b.table match.

SELECT * FROM sales_customer a LEFT JOIN sales_contact b ON a.customer_id = b.customer_id ORDER BY CASE WHEN company_name = '' THEN lname ELSE company_name END ASC

Gets me this:<br />
Array ( [0] => 54 [customer_id] => ) When there is no b.table match.

I need this:<br />
Array ( [0] => 54 [customer_id] => 29 )

Any suggestions?",2
10962902,06/09/2012 17:07:32,1400746,05/17/2012 10:29:10,1,0,"How many row would be considered ""too much"" for MySQL (InnoDB) to handle?","Best case - say if write really good queries, well optimized code?
Worst case - say if you don't optimize at all?


What are steps I could take to make sure that my queries are ready to handle expanding database size..?",mysql,database,optimization,,,06/09/2012 17:25:27,not a real question,1,39,13,"How many row would be considered ""too much"" for MySQL (InnoDB) to handle? Best case - say if write really good queries, well optimized code?
Worst case - say if you don't optimize at all?


What are steps I could take to make sure that my queries are ready to handle expanding database size..?",3
11730832,07/30/2012 22:49:58,1102813,12/16/2011 22:06:44,45,2,mysql select records next to current time,"this is a food service system...
 I have a table named, detalle_regimen_paciente, it stores a diet,  with breakfast for monday - sunday (being 1 monday and 7 sunday)
that also have a specific serving time.

    +---+---------+-------------+---+
    |id | name    |time_to_serve|day|
    +---+---------+-------------+---+
    |1  |breakfast|08:00        |1  |
    +---+---------+-------------+---+
    |2  |lunch    |13:00        |1  |
    +---+---------+-------------+---+
    |3  |breakfast|08:00        |2  |
    +---+---------+-------------+---+
    |2  |lunch    |13:00        |2  |
    +---+---------+-------------+---+

so I'm struggling with the query for abuot two days (theres more in the db than this... some n:m relations being this a consumption table from where I can obtain the total consumption of one employee) and I found that the problem is that I cannot find a way to select just the meal for monday at 08:00 (wich is record id #1) using the current date and current time...

so in a monday at 07:58 it should return just the record with the id 1, cuz it is the next meal to serve.

    +---+---------+-------------+---+
    |1  |breakfast|08:00        |1  |
    +---+---------+-------------+---+

here is the sql have so far, but it seems to just filters the day...

    select detalle_regimen_paciente.hora_carga
    from
    detalle_regimen_paciente
    where
    detalle_regimen_paciente.hora_servicio > CURTIME() AND
    detalle_regimen_paciente.hora_carga > CURTIME()
    AND
    detalle_regimen_paciente.dia = (select DAYOFWEEK(CURDATE())-1)

maybe I'm just asking wrong or missusing the time functions.

pls help out here.

thx in advance.",mysql,time,,,,,open,0,326,7,"mysql select records next to current time this is a food service system...
 I have a table named, detalle_regimen_paciente, it stores a diet,  with breakfast for monday - sunday (being 1 monday and 7 sunday)
that also have a specific serving time.

    +---+---------+-------------+---+
    |id | name    |time_to_serve|day|
    +---+---------+-------------+---+
    |1  |breakfast|08:00        |1  |
    +---+---------+-------------+---+
    |2  |lunch    |13:00        |1  |
    +---+---------+-------------+---+
    |3  |breakfast|08:00        |2  |
    +---+---------+-------------+---+
    |2  |lunch    |13:00        |2  |
    +---+---------+-------------+---+

so I'm struggling with the query for abuot two days (theres more in the db than this... some n:m relations being this a consumption table from where I can obtain the total consumption of one employee) and I found that the problem is that I cannot find a way to select just the meal for monday at 08:00 (wich is record id #1) using the current date and current time...

so in a monday at 07:58 it should return just the record with the id 1, cuz it is the next meal to serve.

    +---+---------+-------------+---+
    |1  |breakfast|08:00        |1  |
    +---+---------+-------------+---+

here is the sql have so far, but it seems to just filters the day...

    select detalle_regimen_paciente.hora_carga
    from
    detalle_regimen_paciente
    where
    detalle_regimen_paciente.hora_servicio > CURTIME() AND
    detalle_regimen_paciente.hora_carga > CURTIME()
    AND
    detalle_regimen_paciente.dia = (select DAYOFWEEK(CURDATE())-1)

maybe I'm just asking wrong or missusing the time functions.

pls help out here.

thx in advance.",2
39196,09/02/2008 10:37:14,2138,08/20/2008 14:23:45,83,6,group_concat query performance,"i am having serious performance problems (queries up to 55 seconds) while running a mysql query since i added a group_concat clause.

my query looks like: 

    select ... group_concat(distinct category.name) .... from page where 
    left outer join page_category on page.id = story_category.page_id  
    left outer join category on page_category.category_id = category.id
    ....
    group by page.id

As mentioned in the query, among others, my application has three tables page, category and page_category. A page can be associated with none or multiple categories. Currently page, page_category and category have 9,460, 20,241 and 10 entries each. 

Can anyone help me to improve my query to avoid such performance problems?",mysql,sql,performance,,,,open,0,122,3,"group_concat query performance i am having serious performance problems (queries up to 55 seconds) while running a mysql query since i added a group_concat clause.

my query looks like: 

    select ... group_concat(distinct category.name) .... from page where 
    left outer join page_category on page.id = story_category.page_id  
    left outer join category on page_category.category_id = category.id
    ....
    group by page.id

As mentioned in the query, among others, my application has three tables page, category and page_category. A page can be associated with none or multiple categories. Currently page, page_category and category have 9,460, 20,241 and 10 entries each. 

Can anyone help me to improve my query to avoid such performance problems?",3
5371488,03/20/2011 21:05:21,668567,03/20/2011 21:05:21,1,0,MySQL INSERT problem,"does anyone know what is problem with this query:

INSERT INTO match (IDTeamHome,IDTeamGuest,Date) VALUES ('15','16','20.03.2011 15:00')

IDTeamHome and IDTeamGuest are integer, and Date is varchar.

Thanks in advance",mysql,sql,insert,,,,open,0,25,3,"MySQL INSERT problem does anyone know what is problem with this query:

INSERT INTO match (IDTeamHome,IDTeamGuest,Date) VALUES ('15','16','20.03.2011 15:00')

IDTeamHome and IDTeamGuest are integer, and Date is varchar.

Thanks in advance",3
7192421,08/25/2011 14:45:58,277260,01/25/2010 16:03:42,48,2,MYSQL Count group by rows ignoring effect of JOIN and SUM fields on Joined tables,"I have 3 tables:

    Orders
    - id
    - customer_id

    Details
    - id
    - order_id
    - product_id
    - ordered_qty

    Parcels
    - id
    - detail_id
    - batch_code
    - picked_qty

Orders have multiple Details rows, a detail row per product.

A detail row has multiple parcels, as 10'000 ordered qty may come from 6 different batches, so goods from batches are packed and shipped separately. The picked quantity put in each parcel for a detail row should then be the same as the ordered_qty.

... hope that makes sense.

Im struggling to write a query to provide summary information of all of this.

I need to Group By customer_id to provide a row of data per customer.

That row should contain

 - Their total number of orders
 - Their total ordered_qty of goods across all orders
 - Their total picked_qty of goods across all orders

I can get the first one with:

    SELECT customer_id, COUNT(*) as number_of_orders 
    FROM Orders 
    GROUP BY Orders.customer_id

But when I LEFT JOIN the other two tables and add the
 
    SELECT ..... SUM(Details.ordered_qty) AS total_qty_ordered, 
    SUM(Parcels.picked_qty) AS total_qty_picked

.. then I get results that dont seem to add up for the quantities, and the COUNT(*) seems to include the additional lines from the JOIN which obviously then isn't giving me the number of Orders anymore.

Not sure what to try next.
",mysql,join,count,group-by,,,open,0,270,15,"MYSQL Count group by rows ignoring effect of JOIN and SUM fields on Joined tables I have 3 tables:

    Orders
    - id
    - customer_id

    Details
    - id
    - order_id
    - product_id
    - ordered_qty

    Parcels
    - id
    - detail_id
    - batch_code
    - picked_qty

Orders have multiple Details rows, a detail row per product.

A detail row has multiple parcels, as 10'000 ordered qty may come from 6 different batches, so goods from batches are packed and shipped separately. The picked quantity put in each parcel for a detail row should then be the same as the ordered_qty.

... hope that makes sense.

Im struggling to write a query to provide summary information of all of this.

I need to Group By customer_id to provide a row of data per customer.

That row should contain

 - Their total number of orders
 - Their total ordered_qty of goods across all orders
 - Their total picked_qty of goods across all orders

I can get the first one with:

    SELECT customer_id, COUNT(*) as number_of_orders 
    FROM Orders 
    GROUP BY Orders.customer_id

But when I LEFT JOIN the other two tables and add the
 
    SELECT ..... SUM(Details.ordered_qty) AS total_qty_ordered, 
    SUM(Parcels.picked_qty) AS total_qty_picked

.. then I get results that dont seem to add up for the quantities, and the COUNT(*) seems to include the additional lines from the JOIN which obviously then isn't giving me the number of Orders anymore.

Not sure what to try next.
",4
8809105,01/10/2012 19:13:53,1130251,01/04/2012 15:31:10,1,0,Ruby on Rails: MySql Gem does not work: uninitialized constant Mysql::Error,"I have the following installed:
Mac Os 10.7.2 (MacPro Pro, Processor Core i7)
rails 3.1.0
ruby 1.9.2
mysql 5.5.19, for osx10.6 (i386) 

I can install the mysql gem without problems:
sudo env ARCHFLAGS=""-arch x86_64"" gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config

I can also login and create a database and a dummy table.

But when I want to set up the mysql db using rake 
rake db:setup RAILS_ENV=""production"" --trace
Then I receive the following error:
uninitialized constant Mysql::Error

Is it possible that the MySQL version is wrongly installed? 
I used the ""Mac OS X ver. 10.6 (x86, 64-bit)"", but when I run mysql -V then it says ""i386"". Isn't this the 32 bit version?
The full output is: 
Ver 14.14 Distrib 5.5.19, for osx10.6 (i386) using readline 5.1",mysql,ruby-on-rails,gem,osx-lion,,,open,0,115,11,"Ruby on Rails: MySql Gem does not work: uninitialized constant Mysql::Error I have the following installed:
Mac Os 10.7.2 (MacPro Pro, Processor Core i7)
rails 3.1.0
ruby 1.9.2
mysql 5.5.19, for osx10.6 (i386) 

I can install the mysql gem without problems:
sudo env ARCHFLAGS=""-arch x86_64"" gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config

I can also login and create a database and a dummy table.

But when I want to set up the mysql db using rake 
rake db:setup RAILS_ENV=""production"" --trace
Then I receive the following error:
uninitialized constant Mysql::Error

Is it possible that the MySQL version is wrongly installed? 
I used the ""Mac OS X ver. 10.6 (x86, 64-bit)"", but when I run mysql -V then it says ""i386"". Isn't this the 32 bit version?
The full output is: 
Ver 14.14 Distrib 5.5.19, for osx10.6 (i386) using readline 5.1",4
6467483,06/24/2011 12:00:51,383600,07/05/2010 11:08:40,68,4,Comparing DB technologies,"I'm going to start a simple SaaS application and am considering which DB to go with(MSSQL, MySql, Oracle).

Can someone who experience it(actual use)point the pros and cons(performence,costs,easy to develop,easy to maintain) of each technology and recommend his favorite?",mysql,sql-server,oracle,comparison,,06/24/2011 13:34:30,not constructive,1,38,3,"Comparing DB technologies I'm going to start a simple SaaS application and am considering which DB to go with(MSSQL, MySql, Oracle).

Can someone who experience it(actual use)point the pros and cons(performence,costs,easy to develop,easy to maintain) of each technology and recommend his favorite?",4
7927114,10/28/2011 08:57:42,118460,06/06/2009 08:05:20,2103,81,Conditional REPLACE or DELETE in one query,"I have three tables `objects`, (primary key `object_ID`) `flags` (primary key `flag_ID`) and `object_flags` (cross-tabel between `objects` and `flags` with some extra info).

I have a query returning _all_ flags, and a one or zero if a given object has a certain flag:

    SELECT
      f.*,
      of.*,
      of.objectID IS NOT NULL AS object_has_flag,
    FROM
      flags f
      LEFT JOIN object_flags of
        ON (f.flag_ID = of.flag_ID) AND (of.object_ID = :objectID);

In the application (which is written in Delphi), all rows are loaded in a component. The user can assign flags by clicking check boxes in a table, modifying the data.

Suppose one line is edited. Depending on the value of `object_has_flag`, the following things have to be done:

 * If `object_has_flag` was true and still is true, an `UPDATE` should be done on the relevant row in `objects_flags`.
 * If `object_has_flag` was false but is now true, and `INSERT` should be done
 * If `object_has_flag` was true, but is now false, the row should be deleted

Of course, the first two cases can be combined by using `REPLACE`, but is there a way to combine all three cases in one query?",mysql,query,replace,conditional,,,open,0,222,7,"Conditional REPLACE or DELETE in one query I have three tables `objects`, (primary key `object_ID`) `flags` (primary key `flag_ID`) and `object_flags` (cross-tabel between `objects` and `flags` with some extra info).

I have a query returning _all_ flags, and a one or zero if a given object has a certain flag:

    SELECT
      f.*,
      of.*,
      of.objectID IS NOT NULL AS object_has_flag,
    FROM
      flags f
      LEFT JOIN object_flags of
        ON (f.flag_ID = of.flag_ID) AND (of.object_ID = :objectID);

In the application (which is written in Delphi), all rows are loaded in a component. The user can assign flags by clicking check boxes in a table, modifying the data.

Suppose one line is edited. Depending on the value of `object_has_flag`, the following things have to be done:

 * If `object_has_flag` was true and still is true, an `UPDATE` should be done on the relevant row in `objects_flags`.
 * If `object_has_flag` was false but is now true, and `INSERT` should be done
 * If `object_has_flag` was true, but is now false, the row should be deleted

Of course, the first two cases can be combined by using `REPLACE`, but is there a way to combine all three cases in one query?",4
7220848,08/28/2011 12:06:57,876581,08/03/2011 12:22:37,98,0,Reference for ruby+mysql,I want a good reference for Ruby and database ( I mean that reference teach me coonecting between Ruby and MySQL ),mysql,sql,ruby-on-rails,ruby,,08/28/2011 12:24:16,not a real question,1,22,3,Reference for ruby+mysql I want a good reference for Ruby and database ( I mean that reference teach me coonecting between Ruby and MySQL ),4
3466969,08/12/2010 11:09:51,158285,08/18/2009 08:53:29,644,35,"Is ""VARCHAR(255) CHARACTER SET utf8"" 255 bytes or 255 characters.","I've declared a field in my INNODB/MySQL table  as

    VARCHAR(255) CHARACTER SET utf8 NOT NULL

however when inserting my data is truncated at 255 bytes not characters. This
might chop the trailing two bite code point in two leaving an invalid character. 
Any ideas what I might be doing wrong",mysql,unicode,utf-8,truncate,varchar,,open,0,52,10,"Is ""VARCHAR(255) CHARACTER SET utf8"" 255 bytes or 255 characters. I've declared a field in my INNODB/MySQL table  as

    VARCHAR(255) CHARACTER SET utf8 NOT NULL

however when inserting my data is truncated at 255 bytes not characters. This
might chop the trailing two bite code point in two leaving an invalid character. 
Any ideas what I might be doing wrong",5
8483458,12/13/2011 01:57:31,1092547,12/11/2011 18:12:03,10,2,Getting help in complicated query for mysql,"having this piece of schema

    Doctor(licence_no, doctor_name, specialty)
    
    Patient(pat_id, pat_name, pat_address, pat_phone, date_of_birth)
    
    Visit(licence_no, pat_id, date, type, diagnosis, charge)

and i want to get the names of all patients who visited all doctors
i did it as follows

    SELECT p.pat_name FROM Patient p
    
    INNER JOIN Visit v ON (v.pat_ID = p.pat_ID)
    
    INNER JOIN Doctor d ON (d.licence_no = v.licence_no)
    
    WHERE (SELECT d.licence_no FROM Doctor d) = (SELECT v.licence_no FROM Visit v2 WHERE 
    
    p.pat_ID =v.pat_ID)

but there is an error as the sub query returns more than 1 value and i have to make sure that this patient had visited all doctors, any suggestions to make this?
",mysql,sql,sql-server,sql-server-2008,,,open,0,152,7,"Getting help in complicated query for mysql having this piece of schema

    Doctor(licence_no, doctor_name, specialty)
    
    Patient(pat_id, pat_name, pat_address, pat_phone, date_of_birth)
    
    Visit(licence_no, pat_id, date, type, diagnosis, charge)

and i want to get the names of all patients who visited all doctors
i did it as follows

    SELECT p.pat_name FROM Patient p
    
    INNER JOIN Visit v ON (v.pat_ID = p.pat_ID)
    
    INNER JOIN Doctor d ON (d.licence_no = v.licence_no)
    
    WHERE (SELECT d.licence_no FROM Doctor d) = (SELECT v.licence_no FROM Visit v2 WHERE 
    
    p.pat_ID =v.pat_ID)

but there is an error as the sub query returns more than 1 value and i have to make sure that this patient had visited all doctors, any suggestions to make this?
",4
4440448,12/14/2010 14:56:42,284529,03/02/2010 15:35:08,52,2,QSqlTableModel empty result,"If I do this:

    QSqlQuery searchQuery(QString(""select * from people where id = %1"").arg(1));
    if (searchQuery.next())
      {
      std::cout << ""Name: "" << searchQuery.value(1).toString().toStdString() << std::endl;
      }



The output is (as expected):

    Name: David


However, if I do this:

   

     QSqlTableModel *model = new QSqlTableModel;
        // Set used table
        model->setTable(""people"");
        model->setEditStrategy(QSqlTableModel::OnManualSubmit);
    // Set where clause
    model->setFilter(QString(""id=%1"").arg(1));
    model->select();

    // Read result
    QSqlRecord record = model->record();
    if (!record.isEmpty())
      {
      std::cout << ""Name from model: "" << record.value(1).toString().toStdString();
      }

The record is not empty, but the output is blank:

    Name from model: 

Can anyone see what have I done wrong using the QSqlTableModel?

Also, with both methods, I don't understand how you don't have to tell it which database to use (i.e. I instantiate a QSqlDatabase and .open() it, but I never tell the query to operate on the database?)

Thanks,

David
",mysql,qt,qt4,,,,open,0,218,3,"QSqlTableModel empty result If I do this:

    QSqlQuery searchQuery(QString(""select * from people where id = %1"").arg(1));
    if (searchQuery.next())
      {
      std::cout << ""Name: "" << searchQuery.value(1).toString().toStdString() << std::endl;
      }



The output is (as expected):

    Name: David


However, if I do this:

   

     QSqlTableModel *model = new QSqlTableModel;
        // Set used table
        model->setTable(""people"");
        model->setEditStrategy(QSqlTableModel::OnManualSubmit);
    // Set where clause
    model->setFilter(QString(""id=%1"").arg(1));
    model->select();

    // Read result
    QSqlRecord record = model->record();
    if (!record.isEmpty())
      {
      std::cout << ""Name from model: "" << record.value(1).toString().toStdString();
      }

The record is not empty, but the output is blank:

    Name from model: 

Can anyone see what have I done wrong using the QSqlTableModel?

Also, with both methods, I don't understand how you don't have to tell it which database to use (i.e. I instantiate a QSqlDatabase and .open() it, but I never tell the query to operate on the database?)

Thanks,

David
",3
10171032,04/16/2012 08:42:47,1329213,04/12/2012 13:24:44,5,0,SQL query : Insert DIFFERENCE OF TIME from different tables to a different table,"INSERT INTO order_time( link, time )
SELECT link, CAST
(
( 
(
   SELECT FIRST (t.time AS dtime)
   FROM delivery_time t, quantity q
   WHERE t.link = q.link
) - 
(
    SELECT FIRST (orderTime)
    FROM delivery_time t, menu m, quantity q
    WHERE t.link = q.link
    AND t.menuId = m.menuId
)
) AS time( 0 )
)
FROM quantity where 1


m getting error message, plz help.

quantity comprises of (link,qty); link is unique and int

order_time: (link,time) ; link is unique and int, time is of datatype time

delivery_time: (link,menuId,time); for a menuId(int), there are different time (datatype time) and for a set of some different time for a menuId there is link; so menuId & time combination is unique:

menuId    time    link
1       12:00:00   1
1       12:10:00   1
1       14:00:00   2
1       14:10:00   2
1       14:20:00   2
2       12:00:00   3
2       12:10:00   3
2       12:20:00   3
2       14:00:00   4
2       14:10:00   4
2       15:00:00   5

& menu: (menuId, orderTime); menuId is unique & orderTime is in datatype time.

My need is: creating a table order_time (link,time) where link is unique & taken from quantity. here time is the difference of first instance of time corresponding to that link in delivery_time & orderTime from menu table that corresponds to menuId as in delivery_time table.

ERROR:MySQL said: Documentation
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(t.time AS dtime)
   FROM delivery_time t, quantity q
   WHERE t.link = q.link' at line 6 
",mysql,sql,database,query,insert-update,,open,0,346,14,"SQL query : Insert DIFFERENCE OF TIME from different tables to a different table INSERT INTO order_time( link, time )
SELECT link, CAST
(
( 
(
   SELECT FIRST (t.time AS dtime)
   FROM delivery_time t, quantity q
   WHERE t.link = q.link
) - 
(
    SELECT FIRST (orderTime)
    FROM delivery_time t, menu m, quantity q
    WHERE t.link = q.link
    AND t.menuId = m.menuId
)
) AS time( 0 )
)
FROM quantity where 1


m getting error message, plz help.

quantity comprises of (link,qty); link is unique and int

order_time: (link,time) ; link is unique and int, time is of datatype time

delivery_time: (link,menuId,time); for a menuId(int), there are different time (datatype time) and for a set of some different time for a menuId there is link; so menuId & time combination is unique:

menuId    time    link
1       12:00:00   1
1       12:10:00   1
1       14:00:00   2
1       14:10:00   2
1       14:20:00   2
2       12:00:00   3
2       12:10:00   3
2       12:20:00   3
2       14:00:00   4
2       14:10:00   4
2       15:00:00   5

& menu: (menuId, orderTime); menuId is unique & orderTime is in datatype time.

My need is: creating a table order_time (link,time) where link is unique & taken from quantity. here time is the difference of first instance of time corresponding to that link in delivery_time & orderTime from menu table that corresponds to menuId as in delivery_time table.

ERROR:MySQL said: Documentation
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(t.time AS dtime)
   FROM delivery_time t, quantity q
   WHERE t.link = q.link' at line 6 
",5
3903244,10/11/2010 02:48:02,427450,08/22/2010 04:38:49,1,0,Installing MySQL system tables... ERROR: 1136  Column count doesn't match value count at row 1?,"I was setting up a Rails 3 environment on my local machine with MySql5 following this tutorial: http://blog.openrain.com/2008/08/20/setup-ruby-and-rails-on-osx/.

When I run the below command:
sudo -u mysql mysql_install_db5

I get the following error. 
#--------
Installing MySQL system tables...
ERROR: 1136  Column count doesn't match value count at row 1
101010 22:40:53 [ERROR] Aborting

101010 22:40:53 [Note] /opt/local/libexec/mysqld: Shutdown complete
#---------

Please help me resolve this.

Thanks
Vishal",mysql,installation,mysql5,osx-leopard,,,open,0,57,16,"Installing MySQL system tables... ERROR: 1136  Column count doesn't match value count at row 1? I was setting up a Rails 3 environment on my local machine with MySql5 following this tutorial: http://blog.openrain.com/2008/08/20/setup-ruby-and-rails-on-osx/.

When I run the below command:
sudo -u mysql mysql_install_db5

I get the following error. 
#--------
Installing MySQL system tables...
ERROR: 1136  Column count doesn't match value count at row 1
101010 22:40:53 [ERROR] Aborting

101010 22:40:53 [Note] /opt/local/libexec/mysqld: Shutdown complete
#---------

Please help me resolve this.

Thanks
Vishal",4
6480437,06/25/2011 20:49:51,815666,06/25/2011 20:49:51,1,0,Help with some dimensional data formulas.,"I have most of my datetime dimensions defined but having trouble with these. Have 0 idea how to implement these in mysql for creating my datetime dimensions.  

**Minute of day** - 1440 minutes span.  
**Day per Bi-weekly** - 14 days span - from 1st week of year, starting at 1st day of year.  
**Day per quarter** - 4 quarters per year, so within those quarters need day count like 1st day of quarter, 2nd day, etc.  
**Week per quarter** - Same like day per quarter but at the week level.

One way i can slve these is by using CASE statements for each time interval but that is too much, like (if hour = xx & minute = xx then minuteOFDay = xxxx).  Same for the other data but I am sure there must be a 1-2 line formula to get these instead?",mysql,dimensions,,,,,open,0,147,6,"Help with some dimensional data formulas. I have most of my datetime dimensions defined but having trouble with these. Have 0 idea how to implement these in mysql for creating my datetime dimensions.  

**Minute of day** - 1440 minutes span.  
**Day per Bi-weekly** - 14 days span - from 1st week of year, starting at 1st day of year.  
**Day per quarter** - 4 quarters per year, so within those quarters need day count like 1st day of quarter, 2nd day, etc.  
**Week per quarter** - Same like day per quarter but at the week level.

One way i can slve these is by using CASE statements for each time interval but that is too much, like (if hour = xx & minute = xx then minuteOFDay = xxxx).  Same for the other data but I am sure there must be a 1-2 line formula to get these instead?",2
8120803,11/14/2011 11:20:06,268376,02/08/2010 02:10:13,472,17,Embedded jetty + mysql ClassNotFoundException,"For my project I use an embedded jetty server. It is configured through a osgi fragment: JettyCustomizer class.

In the customizer I call a JDBCUserRealm which uses the driver com.mysql.jdbc.Driver.

I tried everything. Bundle class path, build class path, -Djetty-classpath, jetty home lib, eclipse class path every single class path available but I still get a ClassNotFoundException for the driver.

When I call Class.forName('com.mysql.jdbc.Driver').newInstance(); the class is discovered when I add it to the fragment dependencies.

So I guess the host fragment calls the driver. Does anybody know how to resolve this? Thanks",mysql,embedded,jetty,,,,open,0,89,5,"Embedded jetty + mysql ClassNotFoundException For my project I use an embedded jetty server. It is configured through a osgi fragment: JettyCustomizer class.

In the customizer I call a JDBCUserRealm which uses the driver com.mysql.jdbc.Driver.

I tried everything. Bundle class path, build class path, -Djetty-classpath, jetty home lib, eclipse class path every single class path available but I still get a ClassNotFoundException for the driver.

When I call Class.forName('com.mysql.jdbc.Driver').newInstance(); the class is discovered when I add it to the fragment dependencies.

So I guess the host fragment calls the driver. Does anybody know how to resolve this? Thanks",3
7434851,09/15/2011 17:14:00,758177,05/17/2011 21:10:21,123,16,mysql (5.1) insert syntax > col_name=value?,"Is there a way in mysql to insert a _new_ row in a way that more directly associates a value with its column (rather than `table(col_name) values(value)`)? When inserting a lot of values at one time, listing them in-line gets rather confusing and leads to errors/mistakes.

I'm looking for something more like `UPDATE`'s syntax of `SET col_name='value'`.

I see in the <a href=""http://dev.mysql.com/doc/refman/5.1/en/insert.html"">mysql doc for INSERT</a> there is the following:

    INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
        [INTO] tbl_name
        SET col_name={expr | DEFAULT}, ...
        [ ON DUPLICATE KEY UPDATE
          col_name=expr
            [, col_name=expr] ... ]

but that is just for duplicates :/",mysql,syntax,insert,,,,open,0,142,6,"mysql (5.1) insert syntax > col_name=value? Is there a way in mysql to insert a _new_ row in a way that more directly associates a value with its column (rather than `table(col_name) values(value)`)? When inserting a lot of values at one time, listing them in-line gets rather confusing and leads to errors/mistakes.

I'm looking for something more like `UPDATE`'s syntax of `SET col_name='value'`.

I see in the <a href=""http://dev.mysql.com/doc/refman/5.1/en/insert.html"">mysql doc for INSERT</a> there is the following:

    INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
        [INTO] tbl_name
        SET col_name={expr | DEFAULT}, ...
        [ ON DUPLICATE KEY UPDATE
          col_name=expr
            [, col_name=expr] ... ]

but that is just for duplicates :/",3
2220578,02/08/2010 09:33:00,268538,02/08/2010 09:33:00,1,0,MySQL - beginners question,"my knowledge of databases is very fuzzy. I am plannig on learning it soon. Am I right in thinking that you only need ONE installation of a MySQL per computer....and this could then be used by different platforms? 
For example both PHP and RubyonRails could both run of the same installation? ",mysql,,,,,,open,0,52,4,"MySQL - beginners question my knowledge of databases is very fuzzy. I am plannig on learning it soon. Am I right in thinking that you only need ONE installation of a MySQL per computer....and this could then be used by different platforms? 
For example both PHP and RubyonRails could both run of the same installation? ",1
5188705,03/04/2011 01:32:12,3332,08/28/2008 00:26:09,304,7,Problem with MySQL left join,"I have 3 tables in MySQL (5.1) : 
account, bank_account_data and investment_account_data. 

the tables are define as follows: 

    CREATE TABLE account
    (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
      type ENUM ('INVESTMENT', 'BANK') NOT NULL,
      PRIMARY KEY (id)
    ) ENGINE=InnoDB;

    CREATE TABLE investment_account_data
    (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
      account_id BIGINT UNSIGNED NOT NULL,
      as_of_date TIMESTAMP NULL DEFAULT NULL,
      total_balance NUMERIC(12, 4) NOT NULL,
      PRIMARY KEY (id),
      FOREIGN KEY (account_id) REFERENCES account (id)
      CONSTRAINT unique_per_account_and_date UNIQUE (account_id, as_of_date)
    ) ENGINE=InnoDB;

    CREATE TABLE bank_account_data
    (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
      account_id BIGINT UNSIGNED NOT NULL,
      as_of_date TIMESTAMP  NULL DEFAULT NULL,
      current_balance NUMERIC(12, 4) NOT NULL,
      PRIMARY KEY (id),
      FOREIGN KEY (account_id) REFERENCES account (id),
      CONSTRAINT unique_per_account_and_date UNIQUE (account_id, as_of_date)
    ) ENGINE=InnoDB;

Currently I have only one account in the account table with id = 1 and type = 'INVESTMENT'
and I have one record in the investment_account_data table (id=1, account_id=1, total_balace=15000, as_of_data='2011-03-02 00:00:00')

the bank_account_data has no rows.

Running the following query (surprisingly) returns no rows:

    SELECT A.id as account_id,
           COALESCE(BD.as_of_date, ID.as_of_date) as as_of_date,
           COALESCE(BD.current_balance, ID.total_balance) as balance
      FROM account A
           LEFT JOIN bank_account_data BD ON (BD.account_id = A.id and A.type='BANK') 
           LEFT JOIN investment_account_data ID ON (ID.account_id = A.id and A.type='INVESTMENT')
     WHERE A.id=1

but this one returns one row (as expected) :

    SELECT A.id as account_id,
           COALESCE(BD.as_of_date, ID.as_of_date) as as_of_date,
           COALESCE(BD.current_balance, ID.total_balance) as balance
     FROM account A
          LEFT JOIN investment_account_data ID ON (ID.account_id = A.id and A.type='INVESTMENT')
          LEFT JOIN bank_account_data BD ON (BD.account_id = A.id and A.type='BANK') 
     WHERE A.id=1


Any ideas to why I'm seeing these results ? 
",mysql,left-join,,,,,open,0,470,5,"Problem with MySQL left join I have 3 tables in MySQL (5.1) : 
account, bank_account_data and investment_account_data. 

the tables are define as follows: 

    CREATE TABLE account
    (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
      type ENUM ('INVESTMENT', 'BANK') NOT NULL,
      PRIMARY KEY (id)
    ) ENGINE=InnoDB;

    CREATE TABLE investment_account_data
    (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
      account_id BIGINT UNSIGNED NOT NULL,
      as_of_date TIMESTAMP NULL DEFAULT NULL,
      total_balance NUMERIC(12, 4) NOT NULL,
      PRIMARY KEY (id),
      FOREIGN KEY (account_id) REFERENCES account (id)
      CONSTRAINT unique_per_account_and_date UNIQUE (account_id, as_of_date)
    ) ENGINE=InnoDB;

    CREATE TABLE bank_account_data
    (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
      account_id BIGINT UNSIGNED NOT NULL,
      as_of_date TIMESTAMP  NULL DEFAULT NULL,
      current_balance NUMERIC(12, 4) NOT NULL,
      PRIMARY KEY (id),
      FOREIGN KEY (account_id) REFERENCES account (id),
      CONSTRAINT unique_per_account_and_date UNIQUE (account_id, as_of_date)
    ) ENGINE=InnoDB;

Currently I have only one account in the account table with id = 1 and type = 'INVESTMENT'
and I have one record in the investment_account_data table (id=1, account_id=1, total_balace=15000, as_of_data='2011-03-02 00:00:00')

the bank_account_data has no rows.

Running the following query (surprisingly) returns no rows:

    SELECT A.id as account_id,
           COALESCE(BD.as_of_date, ID.as_of_date) as as_of_date,
           COALESCE(BD.current_balance, ID.total_balance) as balance
      FROM account A
           LEFT JOIN bank_account_data BD ON (BD.account_id = A.id and A.type='BANK') 
           LEFT JOIN investment_account_data ID ON (ID.account_id = A.id and A.type='INVESTMENT')
     WHERE A.id=1

but this one returns one row (as expected) :

    SELECT A.id as account_id,
           COALESCE(BD.as_of_date, ID.as_of_date) as as_of_date,
           COALESCE(BD.current_balance, ID.total_balance) as balance
     FROM account A
          LEFT JOIN investment_account_data ID ON (ID.account_id = A.id and A.type='INVESTMENT')
          LEFT JOIN bank_account_data BD ON (BD.account_id = A.id and A.type='BANK') 
     WHERE A.id=1


Any ideas to why I'm seeing these results ? 
",2
2436274,03/12/2010 22:19:18,259681,01/27/2010 00:19:03,73,7,sort mysql query by filtered query,"I have two mysql queries:

    $sql = ""SELECT * FROM content WHERE threadName LIKE '%$filter%' ORDER BY lastUpdated desc"";

and

    $sql = ""SELECT * FROM content ORDER BY lastUpdated desc"";

The end result is to have all rows returned from a particular table 'content' but have those that match the variable $filter at the top. Is there either a single query that could combine these two or should I be using a JOIN?",mysql,filter,join,,,,open,0,77,6,"sort mysql query by filtered query I have two mysql queries:

    $sql = ""SELECT * FROM content WHERE threadName LIKE '%$filter%' ORDER BY lastUpdated desc"";

and

    $sql = ""SELECT * FROM content ORDER BY lastUpdated desc"";

The end result is to have all rows returned from a particular table 'content' but have those that match the variable $filter at the top. Is there either a single query that could combine these two or should I be using a JOIN?",3
8491928,12/13/2011 15:42:07,693510,03/18/2011 13:52:15,64,5,What is the best way to keep historical data in MySQL?,"I'm developping an application in JSF 2.0. As DBMS I'm using MySQL.
With the application users can create templates for documents.
Every element of the document has a title and a sequence number.
For example the document template 'movie document' is created 11/11/2011:

Movie title:

Synopsis:

Rating:


In my database this looks like this:

<!-- language: none -->

    elementId        title                     sequenceNr     active      templateId  
    1                Movie Title               1              1           1
    2                Synopsis                  2              1           1
    3                Rating                    3              1           1
'Active = 1' means the element is still active in the current version of the template (= not been removed from the template yet)
Suppose on 12/12/2011 the users changes the template to:

<!-- language: none -->

Movie title:

Movie rating:

Favorite quote:

Now the template has changed, what would be the best way to get the correct template of a document that was filled in using the first version of the 'movie document' template?
I was thinking of something like this...:

<!-- language: none -->
    
    elementId        title                     sequenceNr     active      templateId     onMoment
    1                Movie Title               1              1           1              2011-11 11 14:03:02
    2                Synopsis                  2              1           1              2011-11-11 14:03:02
    3                Rating                    3              1           1              2011-11-11 14:03:02
    3                Movie rating              2              1           1              2011-12-12 15:15:15
    2                Synopsis                  2              0           1              2011-12-12 15:15:15
    4                Favorite quote            3              1           1              2011-12-12 15:15:15

... but for some reason it doesn't seem like a good solution to me. I'll need the timestamps, 
that's for sure. But would it be better to use different tables, one to keep the changes of the 
sequence numbers, one for the changes of the titles and one for the changes of the 'active' value?

Basically I need an answer to the following questions:

1. What is the best way to store the changes of an element of a document template?

2. How can I query the template of a document like it was on the moment it was created?

Any help would be greatly appreciated.",mysql,sql,,,,12/13/2011 19:10:18,off topic,1,977,11,"What is the best way to keep historical data in MySQL? I'm developping an application in JSF 2.0. As DBMS I'm using MySQL.
With the application users can create templates for documents.
Every element of the document has a title and a sequence number.
For example the document template 'movie document' is created 11/11/2011:

Movie title:

Synopsis:

Rating:


In my database this looks like this:

<!-- language: none -->

    elementId        title                     sequenceNr     active      templateId  
    1                Movie Title               1              1           1
    2                Synopsis                  2              1           1
    3                Rating                    3              1           1
'Active = 1' means the element is still active in the current version of the template (= not been removed from the template yet)
Suppose on 12/12/2011 the users changes the template to:

<!-- language: none -->

Movie title:

Movie rating:

Favorite quote:

Now the template has changed, what would be the best way to get the correct template of a document that was filled in using the first version of the 'movie document' template?
I was thinking of something like this...:

<!-- language: none -->
    
    elementId        title                     sequenceNr     active      templateId     onMoment
    1                Movie Title               1              1           1              2011-11 11 14:03:02
    2                Synopsis                  2              1           1              2011-11-11 14:03:02
    3                Rating                    3              1           1              2011-11-11 14:03:02
    3                Movie rating              2              1           1              2011-12-12 15:15:15
    2                Synopsis                  2              0           1              2011-12-12 15:15:15
    4                Favorite quote            3              1           1              2011-12-12 15:15:15

... but for some reason it doesn't seem like a good solution to me. I'll need the timestamps, 
that's for sure. But would it be better to use different tables, one to keep the changes of the 
sequence numbers, one for the changes of the titles and one for the changes of the 'active' value?

Basically I need an answer to the following questions:

1. What is the best way to store the changes of an element of a document template?

2. How can I query the template of a document like it was on the moment it was created?

Any help would be greatly appreciated.",2
5836484,04/29/2011 19:26:08,634619,02/25/2011 17:47:50,6,1,problem minus in mysql in subtratcting group data,"i have three table
member (**memberid**,m_name,statusid,address,DOB,phone)
booking (**bookingid**, memberid ,sessionid, cost)
session(**sessionid**, activity,location)

(fk memberid, fk sessionid )BOOKING IS link with ( member pk )and (session pk)
 
session activity  is like football,swimming,badminton,tennis
i want to run the following query

find the name of all member who have booked any session for 'football', but not any session for 'swimming' during december 2009
-----------------------------------------------------------------------------------------

sql 

 select DISTINCT  Event1.m_name ,Event1.activity
       FROM
       (
            select mm.m_name,ss.activity,ss.sessionid,ss.s_date
                 from member mm
                 inner join booking bb on bb.memberid = mm.memberid
                 inner join session ss   on ss.sessionid = bb.sessionid
                where activity = 'football'
       )as Event1
  
INNER JOIN
    (
         select mm.m_name ,ss.activity,ss.sessionid,ss.s_date
               from member mm
               inner join booking bb on bb.memberid = mm.memberid
               inner join session ss  on ss.sessionid = bb.sessionid
               where mm.memberid not in
                   (
                    select mm.memberid
                    from member mm
                     inner join booking bb
                     on bb.bookingid = mm.memberid
                     inner join session ss
                     on bb.sessionid = ss.sessionid
                     where ss.activity in ( 'swimming')
             )
    
     ) as Event2
 
on Event1.sessionid = Event2.sessionid

what im doing wrong it return me memeber who have book football and swmming.",mysql,database,query,,,,open,0,507,8,"problem minus in mysql in subtratcting group data i have three table
member (**memberid**,m_name,statusid,address,DOB,phone)
booking (**bookingid**, memberid ,sessionid, cost)
session(**sessionid**, activity,location)

(fk memberid, fk sessionid )BOOKING IS link with ( member pk )and (session pk)
 
session activity  is like football,swimming,badminton,tennis
i want to run the following query

find the name of all member who have booked any session for 'football', but not any session for 'swimming' during december 2009
-----------------------------------------------------------------------------------------

sql 

 select DISTINCT  Event1.m_name ,Event1.activity
       FROM
       (
            select mm.m_name,ss.activity,ss.sessionid,ss.s_date
                 from member mm
                 inner join booking bb on bb.memberid = mm.memberid
                 inner join session ss   on ss.sessionid = bb.sessionid
                where activity = 'football'
       )as Event1
  
INNER JOIN
    (
         select mm.m_name ,ss.activity,ss.sessionid,ss.s_date
               from member mm
               inner join booking bb on bb.memberid = mm.memberid
               inner join session ss  on ss.sessionid = bb.sessionid
               where mm.memberid not in
                   (
                    select mm.memberid
                    from member mm
                     inner join booking bb
                     on bb.bookingid = mm.memberid
                     inner join session ss
                     on bb.sessionid = ss.sessionid
                     where ss.activity in ( 'swimming')
             )
    
     ) as Event2
 
on Event1.sessionid = Event2.sessionid

what im doing wrong it return me memeber who have book football and swmming.",3
2860699,05/18/2010 20:03:27,344441,05/18/2010 20:03:27,1,0,MySQL: group by and IF statement,"Here is my problem:

By default `parent_id` = 0. I want to select all records with `parent_id` = 0 and only the last ones with `parent_id` > 0.

I tried this, but it didn't work:

SELECT * FROM `articles`
IF `parent_id` > 0 THEN
GROUP BY `parent_id`
HAVING COUNT(`parent_id`) >= 1
END;
ORDER BY `time` DESC

What could be the solution?

Thank you.",mysql,group-by,,,,,open,0,53,6,"MySQL: group by and IF statement Here is my problem:

By default `parent_id` = 0. I want to select all records with `parent_id` = 0 and only the last ones with `parent_id` > 0.

I tried this, but it didn't work:

SELECT * FROM `articles`
IF `parent_id` > 0 THEN
GROUP BY `parent_id`
HAVING COUNT(`parent_id`) >= 1
END;
ORDER BY `time` DESC

What could be the solution?

Thank you.",2
7439583,09/16/2011 02:38:48,458773,09/26/2010 15:47:34,28,0,What is the best GUI tool for MYSQL?,I am using MySQL Workbench. I can't deny that it's a very good tool. Unfortunately it doesn't have a query builder feature. So I wonder if there is another better then.,mysql,query,gui,mysql-workbench,query-builder,09/16/2011 04:00:24,not constructive,1,31,8,What is the best GUI tool for MYSQL? I am using MySQL Workbench. I can't deny that it's a very good tool. Unfortunately it doesn't have a query builder feature. So I wonder if there is another better then.,5
2081998,01/17/2010 18:00:59,25194,10/04/2008 23:02:35,48,3,"Optimization of MySQL search using ""like"" and wildcards","How can queries like

    SELECT * FROM sometable WHERE somefield LIKE '%value%'

be optimized?

The main issue here is the first wildcard which prevents DBMS from using index.",mysql,wildcard,optimization,,,,open,0,29,8,"Optimization of MySQL search using ""like"" and wildcards How can queries like

    SELECT * FROM sometable WHERE somefield LIKE '%value%'

be optimized?

The main issue here is the first wildcard which prevents DBMS from using index.",3
8370344,12/03/2011 19:30:59,126688,06/22/2009 04:45:36,688,46,How do I manage a set of mysql tables in a production Rails app that are periodically recreated?,"I have a production Rails app that serves data from a set of tables that are built from a `LOAD DATA LOCAL INFILE` MYSQL import of CSV files, via a ruby script. The tables are consistently named and the schema does not change. The script drops/creates the tables and schema, then loads the data.

However I want to re-do how I manage data changes. I need a suggestion on how to manage new published data over time, since the app is in production, so I can (1) push data updates frequently without breaking the application servicing user requests and (2) make the new set of data ""testable"" before it is live (with the ability to roll back to the previous tables/data if something went wrong).

What I'm thinking is keeping a table of ""versions"" and creating a record each time a new rebuild is done. The latest version ID could be stuck into the `database.yml`, and each model could specify a table name from `database.yml`. A script could move the version forward or backward to make sure everything is ok on the new import, without destroying the old version.

Is that a good approach? Any patterns like this already? It seems similar to Rails' migrations somewhat. Any plugins or gems that help with this sort of data management?",mysql,ruby-on-rails,ruby,database,,,open,0,215,18,"How do I manage a set of mysql tables in a production Rails app that are periodically recreated? I have a production Rails app that serves data from a set of tables that are built from a `LOAD DATA LOCAL INFILE` MYSQL import of CSV files, via a ruby script. The tables are consistently named and the schema does not change. The script drops/creates the tables and schema, then loads the data.

However I want to re-do how I manage data changes. I need a suggestion on how to manage new published data over time, since the app is in production, so I can (1) push data updates frequently without breaking the application servicing user requests and (2) make the new set of data ""testable"" before it is live (with the ability to roll back to the previous tables/data if something went wrong).

What I'm thinking is keeping a table of ""versions"" and creating a record each time a new rebuild is done. The latest version ID could be stuck into the `database.yml`, and each model could specify a table name from `database.yml`. A script could move the version forward or backward to make sure everything is ok on the new import, without destroying the old version.

Is that a good approach? Any patterns like this already? It seems similar to Rails' migrations somewhat. Any plugins or gems that help with this sort of data management?",4
10330633,04/26/2012 09:24:58,1358274,04/26/2012 09:21:37,1,0,Mysql data delete,i am little confused here. I have two tables objectcollectiontags containing fields objectId and tagId and another table tags containing many fields. I want a condition where values from tags can only be deleted whn thr is no reference to objectId from this tables tagId. Can any one help? I want it immedietly.,mysql,,,,,06/28/2012 12:13:03,not a real question,1,53,3,Mysql data delete i am little confused here. I have two tables objectcollectiontags containing fields objectId and tagId and another table tags containing many fields. I want a condition where values from tags can only be deleted whn thr is no reference to objectId from this tables tagId. Can any one help? I want it immedietly.,1
127156,09/24/2008 13:35:13,5446,09/09/2008 16:05:23,33,8,How do I check if index exists on a table field in mysql,"I've needed to Google this a couple times, so I'm sharing my Q/A.",mysql,indexing,,,,,open,0,13,13,"How do I check if index exists on a table field in mysql I've needed to Google this a couple times, so I'm sharing my Q/A.",2
5032514,02/17/2011 17:40:56,621843,02/17/2011 17:40:56,1,0,Databae for Mac OS X,What is the best database to download for Mac OS X and where is a good page to download it from?,mysql,database,postgresql,,,02/17/2011 18:10:52,not a real question,1,21,5,Databae for Mac OS X What is the best database to download for Mac OS X and where is a good page to download it from?,3
2941231,05/31/2010 03:34:32,233286,12/16/2009 21:02:57,208,5,For what else I can use MySQL?,"I now how to store data in MySQL. Shortly, I know the basics: design, storing strings, integers, date.
Is there something else that could be done/achieve with MySQL? Like some kind of functions, temprory bla blas? I don't know.
(I know PHP)",mysql,,,,,05/31/2010 13:07:32,not a real question,1,40,7,"For what else I can use MySQL? I now how to store data in MySQL. Shortly, I know the basics: design, storing strings, integers, date.
Is there something else that could be done/achieve with MySQL? Like some kind of functions, temprory bla blas? I don't know.
(I know PHP)",1
9920415,03/29/2012 06:51:27,1300034,03/29/2012 06:46:27,1,0,mysql stored procedure not working i have give the code below please help me,"## hey this is procedure for writing contents of issue table to a temp table based on magazine id ##


        delimiter //
    
    CREATE PROCEDURE `magazineCursor`()
    BEGIN
    DECLARE d INT default 0;
    DECLARE magazine_id,issue_id,temp_id INT;
    DECLARE issue_name VARCHAR(20);
    DECLARE cur1 CURSOR FOR SELECT  magazine_id FROM tbl_magazine limit 1 ;
    DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET d=1;
    DECLARE CONTINUE HANDLER FOR SQLSTATE '23000' SET d=1;
    OPEN cur1;
    lb: LOOP
    	IF d=1 THEN
    	  LEAVE lb;
    	  END IF;
    	  IF NOT d=1 THEN
    	  FETCH cur1 INTO temp_id;
    	  SELECT magazine_id ,issue_id,issue_name   INTO magazine_id,issue_id,issue_name FROM tbl_magazine_issue  where magazine_id=temp_id and os_select=2 order by  issue_date 	desc limit 1;
    		insert into temp_magazine_table values(magazine_id,issue_id,issue_name);
    	   END IF;
    	  END LOOP;
    	  CLOSE cur1;
    	  END//
    	  ",mysql,,,,,03/29/2012 22:52:34,not a real question,1,215,14,"mysql stored procedure not working i have give the code below please help me ## hey this is procedure for writing contents of issue table to a temp table based on magazine id ##


        delimiter //
    
    CREATE PROCEDURE `magazineCursor`()
    BEGIN
    DECLARE d INT default 0;
    DECLARE magazine_id,issue_id,temp_id INT;
    DECLARE issue_name VARCHAR(20);
    DECLARE cur1 CURSOR FOR SELECT  magazine_id FROM tbl_magazine limit 1 ;
    DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET d=1;
    DECLARE CONTINUE HANDLER FOR SQLSTATE '23000' SET d=1;
    OPEN cur1;
    lb: LOOP
    	IF d=1 THEN
    	  LEAVE lb;
    	  END IF;
    	  IF NOT d=1 THEN
    	  FETCH cur1 INTO temp_id;
    	  SELECT magazine_id ,issue_id,issue_name   INTO magazine_id,issue_id,issue_name FROM tbl_magazine_issue  where magazine_id=temp_id and os_select=2 order by  issue_date 	desc limit 1;
    		insert into temp_magazine_table values(magazine_id,issue_id,issue_name);
    	   END IF;
    	  END LOOP;
    	  CLOSE cur1;
    	  END//
    	  ",1
8061962,11/09/2011 08:08:01,946603,09/15/2011 10:52:27,6,1,How to synchronize product inventory stock in 2 databases. Mysql and MSSQL,"I have 2 databases:

*Magento online web shop @ Mysql

*VISMA NOVA ERP system @MSSQL

I need to synchronize product stock between these two.

In magento product stock is decreased only when order is made(with no payment, check money order). Also it should be changed during stock update from Nova.

In Nova stock changes during different actions of Nova operator. Also it should be changed when magento's order is placed.",mysql,sql-server-2005,sql-server-2008,magento,,,open,0,65,12,"How to synchronize product inventory stock in 2 databases. Mysql and MSSQL I have 2 databases:

*Magento online web shop @ Mysql

*VISMA NOVA ERP system @MSSQL

I need to synchronize product stock between these two.

In magento product stock is decreased only when order is made(with no payment, check money order). Also it should be changed during stock update from Nova.

In Nova stock changes during different actions of Nova operator. Also it should be changed when magento's order is placed.",4
9914556,03/28/2012 19:43:54,1009835,10/23/2011 18:49:02,15,0,"The difference between ""="" and ""IN"" / ""NOT IN"" and ""MINUS""","Branch(branch_name, branch_city, assets)
<br>
Customer(customer_name, customer_street, customer_city)
<br>
Loan(loan_number, branch_name, amount)
<br>
Borrower(customer_name, loan_number)<br>
Account(account_number, branch_name, balance)<br>
Depositor(customer_name, account_number)

How are the ""="" and ""IN"" and ""NOT IN"" and ""MINUS"" in 


    select c.customer_name
    from Customer c, Borrower b, Loan l
    where c.customer_city = 'Fairfax AND c.customer_name = b.customer_name 
					AND b.loan_number = l.loan_number
    minus
    select d.customer_name 
    from Depositer d, Account a
    where d.account_number = a.account_number 


AND

    select c.customer_name
    from Customer c
    where c.customer_city = 'Fairfax' AND c.customer_name in
	    (select b.customer_name 
	    from Borrower b
	    where b.loan_number in
		   (select l.loan_number 
		   from Loan l
		   where b.customer_name not in
			   (select d.customer_name
			   from Account a, Depositor d
			   where a.account_number = d.account_number)))

different from each other? They should accomplish the same thing",mysql,sql,query,,,,open,0,160,11,"The difference between ""="" and ""IN"" / ""NOT IN"" and ""MINUS"" Branch(branch_name, branch_city, assets)
<br>
Customer(customer_name, customer_street, customer_city)
<br>
Loan(loan_number, branch_name, amount)
<br>
Borrower(customer_name, loan_number)<br>
Account(account_number, branch_name, balance)<br>
Depositor(customer_name, account_number)

How are the ""="" and ""IN"" and ""NOT IN"" and ""MINUS"" in 


    select c.customer_name
    from Customer c, Borrower b, Loan l
    where c.customer_city = 'Fairfax AND c.customer_name = b.customer_name 
					AND b.loan_number = l.loan_number
    minus
    select d.customer_name 
    from Depositer d, Account a
    where d.account_number = a.account_number 


AND

    select c.customer_name
    from Customer c
    where c.customer_city = 'Fairfax' AND c.customer_name in
	    (select b.customer_name 
	    from Borrower b
	    where b.loan_number in
		   (select l.loan_number 
		   from Loan l
		   where b.customer_name not in
			   (select d.customer_name
			   from Account a, Depositor d
			   where a.account_number = d.account_number)))

different from each other? They should accomplish the same thing",3
1854173,12/06/2009 02:40:15,15063,09/17/2008 05:35:41,683,6,Whats a better strategy for storing log data in a database?,"Im building an application that requires extensive logging of actions of the users, payments, etc.

Am I better off with a monolithic logs table, and just log EVERYTHING into that.... or is it better to have separate log tables for each type of action Im logging (log_payment, log_logins, log_acc_changes)?

For example, currently Im logging user's interactions with a payment gateway. When they sign up for a trial, when trial becomes a subscription, when it gets rebilled, refunded, if there was a failure or not, etc. 

I'd like to also start logging actions or events that dont interact with the payment gateway (renewal cancellations, bans, payment failures that were intercepted before the data is even sent to the gateway for verification, logins, etc).

",mysql,data-structures,,,,,open,0,120,11,"Whats a better strategy for storing log data in a database? Im building an application that requires extensive logging of actions of the users, payments, etc.

Am I better off with a monolithic logs table, and just log EVERYTHING into that.... or is it better to have separate log tables for each type of action Im logging (log_payment, log_logins, log_acc_changes)?

For example, currently Im logging user's interactions with a payment gateway. When they sign up for a trial, when trial becomes a subscription, when it gets rebilled, refunded, if there was a failure or not, etc. 

I'd like to also start logging actions or events that dont interact with the payment gateway (renewal cancellations, bans, payment failures that were intercepted before the data is even sent to the gateway for verification, logins, etc).

",2
8643507,12/27/2011 10:17:53,295264,03/17/2010 00:16:39,7006,422,Which is more efficient: One long Single Table or Distributed Table? and Why?,"This question is all about performance and I would appreciate if the answers are specific to the case I provide.



Which is more appropriate performance-wise?

- creating a table with too many fields 
- creating more than one table and distributing similar fields to them

**CASE: An Extensive Web CMS Module**

Pattern 1: Long but one table

    cms
    -----------------------------------------------
    Id
    Title
    Description
    Images
    Order
    Status
    Publish
    meta_keywords
    meta_description
    meta_author

Cleary, most the Open Source CMS like joomla use the above pattern. But i think, that pattern is **killing the spirit of RDBMS**. We can easily separate the content, configuration and meta of a particular article to different tables. Like the following

Pattern 2: Many but related table

    Cms_content			cms_meta		cms_configuration
    ---------------------------------------------------------------------------
    Id				    id			    id			
    Title				content_id		content_id
    Description			keywords		status
    Content			    description		order
    Images				author			publish

**Note: Relations in this case is one-to-one**


Which is the proper pattern to follow? Why choose a long but one table, or why not to choose distributed tables, over the single table?

		

",mysql,database-design,,,,,open,0,217,13,"Which is more efficient: One long Single Table or Distributed Table? and Why? This question is all about performance and I would appreciate if the answers are specific to the case I provide.



Which is more appropriate performance-wise?

- creating a table with too many fields 
- creating more than one table and distributing similar fields to them

**CASE: An Extensive Web CMS Module**

Pattern 1: Long but one table

    cms
    -----------------------------------------------
    Id
    Title
    Description
    Images
    Order
    Status
    Publish
    meta_keywords
    meta_description
    meta_author

Cleary, most the Open Source CMS like joomla use the above pattern. But i think, that pattern is **killing the spirit of RDBMS**. We can easily separate the content, configuration and meta of a particular article to different tables. Like the following

Pattern 2: Many but related table

    Cms_content			cms_meta		cms_configuration
    ---------------------------------------------------------------------------
    Id				    id			    id			
    Title				content_id		content_id
    Description			keywords		status
    Content			    description		order
    Images				author			publish

**Note: Relations in this case is one-to-one**


Which is the proper pattern to follow? Why choose a long but one table, or why not to choose distributed tables, over the single table?

		

",2
5700710,04/18/2011 09:10:21,713097,04/18/2011 09:10:21,1,0,how to optimize the query.,"my current query is look like this:

SELECT distinct pg.id,pg.email,pg.theme,op.PaymentMode,od.DeliveryMode,uv1.value AS FirstName, uv2.value AS LastName, uv3.value AS Mobile, uv4.value AS City, uv5.value AS State, uv6.value AS Address
FROM userdb.user u,userdb.paymentgatewaytracker pg,
oms.deliverymode od,oms.paymentmode op,
userdb.uservar uv1
JOIN userdb.uservar uv2 ON uv1.user_id = uv2.user_id
AND uv2.name = 'billingLastName'
LEFT JOIN userdb.uservar uv3 ON uv1.user_id = uv3.user_id
AND uv3.name = 'billingMobile'
JOIN userdb.uservar uv4 ON uv1.user_id = uv4.user_id
AND uv4.name = 'billingCity'
JOIN userdb.uservar uv5 ON uv1.user_id = uv5.user_id
AND uv5.name = 'billingState'
JOIN userdb.uservar uv6 ON uv1.user_id = uv6.user_id
AND uv6.name = 'billingAddress'
where uv1.name = 'billingFirstName'
AND u.id = uv1.user_id
AND u.email=pg.email
and op.PaymentModeId=pg.paymethod
and od.DeliveryModeId=pg.deliveryOption
ORDER BY pg.id


this is giving me the correct result while i am checking in my localhost. but i want to display this in my browser. while i am trying to do this it is showing   Fatal error: Maximum execution time of 30 seconds exceeded. but for small query i am getting result in my browser. can any one please optimize my query which i have given above.
",mysql,,,,,,open,0,155,5,"how to optimize the query. my current query is look like this:

SELECT distinct pg.id,pg.email,pg.theme,op.PaymentMode,od.DeliveryMode,uv1.value AS FirstName, uv2.value AS LastName, uv3.value AS Mobile, uv4.value AS City, uv5.value AS State, uv6.value AS Address
FROM userdb.user u,userdb.paymentgatewaytracker pg,
oms.deliverymode od,oms.paymentmode op,
userdb.uservar uv1
JOIN userdb.uservar uv2 ON uv1.user_id = uv2.user_id
AND uv2.name = 'billingLastName'
LEFT JOIN userdb.uservar uv3 ON uv1.user_id = uv3.user_id
AND uv3.name = 'billingMobile'
JOIN userdb.uservar uv4 ON uv1.user_id = uv4.user_id
AND uv4.name = 'billingCity'
JOIN userdb.uservar uv5 ON uv1.user_id = uv5.user_id
AND uv5.name = 'billingState'
JOIN userdb.uservar uv6 ON uv1.user_id = uv6.user_id
AND uv6.name = 'billingAddress'
where uv1.name = 'billingFirstName'
AND u.id = uv1.user_id
AND u.email=pg.email
and op.PaymentModeId=pg.paymethod
and od.DeliveryModeId=pg.deliveryOption
ORDER BY pg.id


this is giving me the correct result while i am checking in my localhost. but i want to display this in my browser. while i am trying to do this it is showing   Fatal error: Maximum execution time of 30 seconds exceeded. but for small query i am getting result in my browser. can any one please optimize my query which i have given above.
",1
6193977,05/31/2011 21:50:09,723255,04/25/2011 05:10:26,3,0,"Update rows then Insert new associated rows, or restructure data?","Let's set the stage, PHP & MYSQL:

I have a table we'll call *Directions* to hold each step for a given task. Each task has variable steps.

The only real essential fields for this question are (primary) **step_id**, **step**.

When the author updates their directions, they can update each step, add new ones, remove old ones.

I understand how to handle the updating / insertion / deleting logic structure 
`INSERT ... ON DUPLICATE KEY ...` and so on.

My concern lies elsewhere. Say someone writes directions for task #1, five months later they update task #1 with a few new steps. In that time, there are 1000 new tasks.

Is it really an issue that the majority of steps for task #1 will be located in say... step_id 1-10, and that new step will be way down in 10001?

Since I run no specific computations on the steps, is this a situation where I'm better off storing each step as a serialized array in a single row?",mysql,database-design,performance,,,,open,0,160,10,"Update rows then Insert new associated rows, or restructure data? Let's set the stage, PHP & MYSQL:

I have a table we'll call *Directions* to hold each step for a given task. Each task has variable steps.

The only real essential fields for this question are (primary) **step_id**, **step**.

When the author updates their directions, they can update each step, add new ones, remove old ones.

I understand how to handle the updating / insertion / deleting logic structure 
`INSERT ... ON DUPLICATE KEY ...` and so on.

My concern lies elsewhere. Say someone writes directions for task #1, five months later they update task #1 with a few new steps. In that time, there are 1000 new tasks.

Is it really an issue that the majority of steps for task #1 will be located in say... step_id 1-10, and that new step will be way down in 10001?

Since I run no specific computations on the steps, is this a situation where I'm better off storing each step as a serialized array in a single row?",3
8264925,11/25/2011 04:51:55,1064946,11/25/2011 03:33:38,1,0,How can I call include(left join) when the model to be included is not directly associated to the base model?,"There are three models that i want to join, booking, subbooking and client. A booking has_many sub_bookings also a booking belongs to(also may not) a client. I want to list all the sub_bookings ordered by the client.name. I need a join on booking and subhooking and an include relationship between booking and client. I tried the following and it didnt work.

    SubBooking.joins(:booking).include(:booking=>:client).order('client.name')

The models are as follows

    class Booking < ActiveRecord::Base
      belongs_to :client
      has_many :sub_bookings
      ...
    end
    
    class SubBooking < ActiveRecord::Base
      belongs_to :booking
      ...
    end
    
    class Client < ActiveRecord::Base
      has_many :bookings
      ...
    end

To be more precise the SQL I want to be generated is something like this

    SELECT * FROM sub_bookings 
    INNER JOIN bookings ON bookings.id = sub_bookings.booking_id
    LEFT JOIN Clients ON bookings.client_id = clients.id
    ORDER BY client.name",mysql,ruby-on-rails,activerecord,left-join,,,open,0,204,20,"How can I call include(left join) when the model to be included is not directly associated to the base model? There are three models that i want to join, booking, subbooking and client. A booking has_many sub_bookings also a booking belongs to(also may not) a client. I want to list all the sub_bookings ordered by the client.name. I need a join on booking and subhooking and an include relationship between booking and client. I tried the following and it didnt work.

    SubBooking.joins(:booking).include(:booking=>:client).order('client.name')

The models are as follows

    class Booking < ActiveRecord::Base
      belongs_to :client
      has_many :sub_bookings
      ...
    end
    
    class SubBooking < ActiveRecord::Base
      belongs_to :booking
      ...
    end
    
    class Client < ActiveRecord::Base
      has_many :bookings
      ...
    end

To be more precise the SQL I want to be generated is something like this

    SELECT * FROM sub_bookings 
    INNER JOIN bookings ON bookings.id = sub_bookings.booking_id
    LEFT JOIN Clients ON bookings.client_id = clients.id
    ORDER BY client.name",4
10396164,05/01/2012 10:00:41,984003,10/07/2011 12:41:30,179,3,"MySQL (HeidiSQL editor): Using localhost but 10 seconds of query time is ""network""?","I am running mySQL queries using the heidiSQL editor. When it tells me my query time it will sometimes also include a network time: 

Duration for 1 query: 1.194 sec. (+ 10.078 sec. network)

But it can't really be the network since everything is on my own computer?? Is that extra time something that would disappear with another setup or do I need to improve my query performance the usual way (rewriting/reworking)? It's hard for me to improve performance on a query when I'm not even sure what's causing the poor performance. 

",mysql,,,,,,open,0,92,13,"MySQL (HeidiSQL editor): Using localhost but 10 seconds of query time is ""network""? I am running mySQL queries using the heidiSQL editor. When it tells me my query time it will sometimes also include a network time: 

Duration for 1 query: 1.194 sec. (+ 10.078 sec. network)

But it can't really be the network since everything is on my own computer?? Is that extra time something that would disappear with another setup or do I need to improve my query performance the usual way (rewriting/reworking)? It's hard for me to improve performance on a query when I'm not even sure what's causing the poor performance. 

",1
8809146,01/10/2012 19:16:41,401147,04/16/2010 00:27:33,962,5,best way to show 12 columns tables,"I have a Mysql table that has 12 columns. Some of them contain 20-30 characters. I was wondering if there are any ways to show all of the columns nicely in one page. It would looks awkward if I just print them all together like this:

column1 column2 column3 column4 column5 column6 column7 column8 column9 column10 column11

Anyway I can decorate or program those to nicer layout? Thanks. 
 ",mysql,html,css,,,01/10/2012 19:41:01,not a real question,1,68,7,"best way to show 12 columns tables I have a Mysql table that has 12 columns. Some of them contain 20-30 characters. I was wondering if there are any ways to show all of the columns nicely in one page. It would looks awkward if I just print them all together like this:

column1 column2 column3 column4 column5 column6 column7 column8 column9 column10 column11

Anyway I can decorate or program those to nicer layout? Thanks. 
 ",3
6276274,06/08/2011 08:45:08,590434,01/26/2011 10:39:55,88,7,Microsoft SQL Server 2008 VS MySql 5,"Through my experience as web developer I saw that MySql is the most popular database solution and almost each CMS or popular web application supports or requires it. But when I take a look on the softwares that small or medium companies are using in their environments (desktop software client/server, auditing software, antivirus with centralized management, intranet portal) it's very hard to find MySql and usually I find Microsoft SQL server... Why?



  ",mysql,sql-server,,,,06/08/2011 21:12:36,not constructive,1,74,7,"Microsoft SQL Server 2008 VS MySql 5 Through my experience as web developer I saw that MySql is the most popular database solution and almost each CMS or popular web application supports or requires it. But when I take a look on the softwares that small or medium companies are using in their environments (desktop software client/server, auditing software, antivirus with centralized management, intranet portal) it's very hard to find MySql and usually I find Microsoft SQL server... Why?



  ",2
8149716,11/16/2011 09:58:00,489260,10/27/2010 19:27:49,94,3,I need a very fast help on a query,"I am having an exam now and could not get this working. 

Question has got 2 bits. I got the answer for first part.

    SELECT 
    airport_id ""Airport id"",
    crew_type ""Crew type"",       
    min(crew_age) ""Minimum age"",
    Round(avg(crew_age),0) ""Average age"",
    max(crew_age) ""Maximum age""
    
    FROM crew
    GROUP by crew_type 

Problem is on the second part. Second part is i need to get the airport name according to airport_id field. I do this:

    SELECT 
    crew.airport_id,
    crew_type ""Crew type"",       
    min(crew_age) ""Minimum age"",
    Round(avg(crew_age),0) ""Average age"",
    max(crew_age) ""Maximum age"",
    
    
    airport.airport_name
    
    FROM crew, airport
    WHERE
    crew.airport_id = airport.airport_id
    GROUP by crew.crew_type 

It works but airport_id  does not match with airport_name. Airport_id and airport_name  fields are all same. ",mysql,,,,,11/16/2011 10:11:46,not constructive,1,201,9,"I need a very fast help on a query I am having an exam now and could not get this working. 

Question has got 2 bits. I got the answer for first part.

    SELECT 
    airport_id ""Airport id"",
    crew_type ""Crew type"",       
    min(crew_age) ""Minimum age"",
    Round(avg(crew_age),0) ""Average age"",
    max(crew_age) ""Maximum age""
    
    FROM crew
    GROUP by crew_type 

Problem is on the second part. Second part is i need to get the airport name according to airport_id field. I do this:

    SELECT 
    crew.airport_id,
    crew_type ""Crew type"",       
    min(crew_age) ""Minimum age"",
    Round(avg(crew_age),0) ""Average age"",
    max(crew_age) ""Maximum age"",
    
    
    airport.airport_name
    
    FROM crew, airport
    WHERE
    crew.airport_id = airport.airport_id
    GROUP by crew.crew_type 

It works but airport_id  does not match with airport_name. Airport_id and airport_name  fields are all same. ",1
11008463,06/13/2012 05:03:31,1452712,06/13/2012 03:36:40,1,0,need help to correct my code(about mysql ......ASAP TQ,"

CREATE TABLE products(
productID VARCHAR(6) NOT NULL DEFAULT"",
productName VARCHAR(255) NOT NULL DEFAULT"",
warranty_date INT(3) NOT NULL DEFAULT"",
productDiscount INT(3) NOT NULL DEFAULT 0,
listPrice DECIMAL(10,2) NOT NULL DEFAULT 0,
category VARCHAR(10) NOT NULL DEFAULT
);

CREATE TABLE order (
orderID VARCHAR(6) NOT NULL DEFAULT"",
orderDate DATE NOT NULL DEFAULT"",
claimCondition VARCHAR(30) NOT NULL DEFAULT
);

CREATE TABLE feedback VALUES(
message VARCHAR(1000) NOT NULL DEFAULT"",
messageDate DATE NOT NULL DEFAULT"",
feedbackID INT(3) NOT NULL DEFAULT
);





",mysql,phpmyadmin,,,,06/13/2012 07:08:17,not a real question,1,59,9,"need help to correct my code(about mysql ......ASAP TQ 

CREATE TABLE products(
productID VARCHAR(6) NOT NULL DEFAULT"",
productName VARCHAR(255) NOT NULL DEFAULT"",
warranty_date INT(3) NOT NULL DEFAULT"",
productDiscount INT(3) NOT NULL DEFAULT 0,
listPrice DECIMAL(10,2) NOT NULL DEFAULT 0,
category VARCHAR(10) NOT NULL DEFAULT
);

CREATE TABLE order (
orderID VARCHAR(6) NOT NULL DEFAULT"",
orderDate DATE NOT NULL DEFAULT"",
claimCondition VARCHAR(30) NOT NULL DEFAULT
);

CREATE TABLE feedback VALUES(
message VARCHAR(1000) NOT NULL DEFAULT"",
messageDate DATE NOT NULL DEFAULT"",
feedbackID INT(3) NOT NULL DEFAULT
);





",2
5424634,03/24/2011 19:45:19,234224,12/17/2009 23:35:01,398,30,How Do I Export Part of a mySQL Table as XML in phpMyAdmin,"I've got a mySQL database and I want to export part of the db (not the whole thing) as XML. 

In phpMyAdmin, how do I export XML from a table where ""series=10"", for example? If I click the export tab, and the choose XML as the export option, then the whole table will be exported as XML. I only want part of the database exported as XML.

Any suggestions on how to do this?

Thank you.

-Laxmidi",mysql,xml,phpmyadmin,,,,open,0,74,13,"How Do I Export Part of a mySQL Table as XML in phpMyAdmin I've got a mySQL database and I want to export part of the db (not the whole thing) as XML. 

In phpMyAdmin, how do I export XML from a table where ""series=10"", for example? If I click the export tab, and the choose XML as the export option, then the whole table will be exported as XML. I only want part of the database exported as XML.

Any suggestions on how to do this?

Thank you.

-Laxmidi",3
7798195,10/17/2011 18:56:21,654445,03/10/2011 23:04:18,29,0,Configuring SQL on Lion,"I am having problems finding MySQL on my system. I have installed the community server and the preferences pane start up as well as MySQL start up. then I try and find the directory which MySQL reference installing and start up says where the files are: cd usr/local/mysql/bin and command not found.
How can I find the directory where the installation is to get in and try some SQL??
So frustrating.",mysql,,,,,10/17/2011 22:54:53,off topic,1,69,4,"Configuring SQL on Lion I am having problems finding MySQL on my system. I have installed the community server and the preferences pane start up as well as MySQL start up. then I try and find the directory which MySQL reference installing and start up says where the files are: cd usr/local/mysql/bin and command not found.
How can I find the directory where the installation is to get in and try some SQL??
So frustrating.",1
7973636,11/01/2011 22:18:17,1013774,10/26/2011 00:44:54,13,1,$SQL UPDATEdoesnt work when added WHERE CLAUSE,"I know I am simply missing the simplest thing here but cant seem to figure it out.

so this works with this code but changes all rows of the database as opposed to just the one with the page id...

     <?   $pageid= $_GET[""id""];
     $sql = ""SELECT id, first_name, last_name, email, bio, job, job2, job3 FROM `"".weapons.""`            WHERE id = $pageid""; 


    if(isset($_POST['Update']))
    {

     $first_name = $_POST['first_name'];
     $last_name = $_POST['last_name'];
     $job = $_POST['job'];
     $job2 = $_POST['job2'];
     $job3 = $_POST['job3'];
     $bio = $_POST['bio'];
     $email = $_POST['email'];
     $sql = ""UPDATE weapons SET first_name='$first_name', email='$email' , job='$job',      job2='$job2', job3='$job3', bio='$bio', last_name='$last_name'"";
     if (@mysql_query($sql)) {
     echo('<p>Update Complete</p>');
      } else {
      echo('<p>Error updating: ' . mysql_error() . '</p>');
      }

     }else{   ...

however when adding the WHERE clause, like as follows

     $sql = ""UPDATE weapons SET first_name='$first_name', email='$email' , job='$job',      job2='$job2', job3='$job3', bio='$bio', last_name='$last_name' WHERE id = $pageid"";

I get an error

Error updating: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1

Any help would be great, thanks

",mysql,sql,update,row,,,open,0,279,7,"$SQL UPDATEdoesnt work when added WHERE CLAUSE I know I am simply missing the simplest thing here but cant seem to figure it out.

so this works with this code but changes all rows of the database as opposed to just the one with the page id...

     <?   $pageid= $_GET[""id""];
     $sql = ""SELECT id, first_name, last_name, email, bio, job, job2, job3 FROM `"".weapons.""`            WHERE id = $pageid""; 


    if(isset($_POST['Update']))
    {

     $first_name = $_POST['first_name'];
     $last_name = $_POST['last_name'];
     $job = $_POST['job'];
     $job2 = $_POST['job2'];
     $job3 = $_POST['job3'];
     $bio = $_POST['bio'];
     $email = $_POST['email'];
     $sql = ""UPDATE weapons SET first_name='$first_name', email='$email' , job='$job',      job2='$job2', job3='$job3', bio='$bio', last_name='$last_name'"";
     if (@mysql_query($sql)) {
     echo('<p>Update Complete</p>');
      } else {
      echo('<p>Error updating: ' . mysql_error() . '</p>');
      }

     }else{   ...

however when adding the WHERE clause, like as follows

     $sql = ""UPDATE weapons SET first_name='$first_name', email='$email' , job='$job',      job2='$job2', job3='$job3', bio='$bio', last_name='$last_name' WHERE id = $pageid"";

I get an error

Error updating: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1

Any help would be great, thanks

",4
11413638,07/10/2012 12:47:03,1179459,01/31/2012 03:43:25,93,0,Database version control best tools and tips?,"
I know we can do source code version controls via 

    git
    svn 
    cvs
    
    ..etc

just wondering how do we do the database version control ? specially in the MYSQL aspect ? and merging with the current source code version control ?

    1. what the tools and tips we can use for this type of a 
       database (MySQL) version control ?
    2. is there a special tools in git to do this ?

",mysql,git,version-control,,,07/10/2012 13:41:20,off topic,1,102,7,"Database version control best tools and tips? 
I know we can do source code version controls via 

    git
    svn 
    cvs
    
    ..etc

just wondering how do we do the database version control ? specially in the MYSQL aspect ? and merging with the current source code version control ?

    1. what the tools and tips we can use for this type of a 
       database (MySQL) version control ?
    2. is there a special tools in git to do this ?

",3
5714735,04/19/2011 10:07:19,206609,11/09/2009 04:44:41,79,2,MySql natural sorting with offset from a certain value,"I have the table with the data:

	CREATE TABLE IF NOT EXISTS `sort` (
		`id` int(10) NOT NULL AUTO_INCREMENT,
		`value` varchar(50) NOT NULL,
		PRIMARY KEY (`id`)
	);

	INSERT INTO `sort` (`id`, `value`) VALUES
		(1, 'abc1'),
		(2, 'abc10'),
		(3, 'abc2'),
		(4, '-10'),
		(5, '-1'),
		(6, '001abc'),
		(7, '1abc'),
		(8, '10abc'),
		(9, '2abc');

I have two queries:


	SELECT * FROM sort 
	ORDER BY 
	CAST(value AS signed), LENGTH(value), value; 

	SET @id=4;
	SELECT * FROM sort
	ORDER BY 
	id=@id DESC, value>=(SELECT value FROM sort WHERE id=@id) DESC, value ASC;

1. How can I combine the two queries into the second query? Both result sets must look the same.

2. Any ideas for natural sorting also string like '-1.56, -1.55, text 001, abc002'?",mysql,natural-sort,,,,,open,0,97,9,"MySql natural sorting with offset from a certain value I have the table with the data:

	CREATE TABLE IF NOT EXISTS `sort` (
		`id` int(10) NOT NULL AUTO_INCREMENT,
		`value` varchar(50) NOT NULL,
		PRIMARY KEY (`id`)
	);

	INSERT INTO `sort` (`id`, `value`) VALUES
		(1, 'abc1'),
		(2, 'abc10'),
		(3, 'abc2'),
		(4, '-10'),
		(5, '-1'),
		(6, '001abc'),
		(7, '1abc'),
		(8, '10abc'),
		(9, '2abc');

I have two queries:


	SELECT * FROM sort 
	ORDER BY 
	CAST(value AS signed), LENGTH(value), value; 

	SET @id=4;
	SELECT * FROM sort
	ORDER BY 
	id=@id DESC, value>=(SELECT value FROM sort WHERE id=@id) DESC, value ASC;

1. How can I combine the two queries into the second query? Both result sets must look the same.

2. Any ideas for natural sorting also string like '-1.56, -1.55, text 001, abc002'?",2
363658,12/12/2008 18:11:22,36713,11/11/2008 21:11:16,31,2,Mysql Visualization Tools,"Does anyone know a good (preferably open source and cross platform) tool to allow simple visualization of mysql databases?  I just need a tool I can quickly point at a database and it'll show basic table structure and field types, etc.  Nothing too advanced or crazy.  ",mysql,database-design,database,visualization,,07/03/2012 14:28:08,off topic,1,50,3,"Mysql Visualization Tools Does anyone know a good (preferably open source and cross platform) tool to allow simple visualization of mysql databases?  I just need a tool I can quickly point at a database and it'll show basic table structure and field types, etc.  Nothing too advanced or crazy.  ",4
5611431,04/10/2011 11:25:27,451945,04/16/2010 13:43:27,91,5,Rails - How to minimize these queries?,"I need to minimize database queries in a view. First lets look at my setup: (Question at the end)

My models:

    - User has_many Followings
    - Following belongs_to Show/User
    - Show has_many Episodes

FollowingsController:

    Following.find(:all, :conditions => { :user_id => current_user.id }, :include => [:show], :order => ""shows.name"")

Show model:

	def prev_episode()
		Episode.find(:first, :conditions => [""show_id = ? AND air_date < ?"", self.id, Date.today], :order => ""air_date desc, number desc"")
	end

	def next_episode()
		Episode.find(:first, :conditions => [""show_id = ? AND air_date >= ?"", self.id, Date.today], :order => ""air_date asc, number asc"")
	end

My view (simplified):

      <% @followings.each do |following| %>
      <tr>
        <td><%= link_to ""#{following.show.name}"", show_path(:permalink => following.show.permalink) %></strong></td>
        <td><%= following.show.prev_episode # UNWANTED QUERY %></td>
        <td><%= following.show.next_episode # UNWANTED QUERY %></td>
      </tr>
      <% end %>

This makes an **awful** lot of queries per request.  
This view can contain up to 100 rows, which makes over 200 requests!  
I really need to minimize this. Any ideas?

PS. I can use memcached if necessary.
",mysql,ruby-on-rails,optimization,,,,open,0,204,7,"Rails - How to minimize these queries? I need to minimize database queries in a view. First lets look at my setup: (Question at the end)

My models:

    - User has_many Followings
    - Following belongs_to Show/User
    - Show has_many Episodes

FollowingsController:

    Following.find(:all, :conditions => { :user_id => current_user.id }, :include => [:show], :order => ""shows.name"")

Show model:

	def prev_episode()
		Episode.find(:first, :conditions => [""show_id = ? AND air_date < ?"", self.id, Date.today], :order => ""air_date desc, number desc"")
	end

	def next_episode()
		Episode.find(:first, :conditions => [""show_id = ? AND air_date >= ?"", self.id, Date.today], :order => ""air_date asc, number asc"")
	end

My view (simplified):

      <% @followings.each do |following| %>
      <tr>
        <td><%= link_to ""#{following.show.name}"", show_path(:permalink => following.show.permalink) %></strong></td>
        <td><%= following.show.prev_episode # UNWANTED QUERY %></td>
        <td><%= following.show.next_episode # UNWANTED QUERY %></td>
      </tr>
      <% end %>

This makes an **awful** lot of queries per request.  
This view can contain up to 100 rows, which makes over 200 requests!  
I really need to minimize this. Any ideas?

PS. I can use memcached if necessary.
",3
6710524,07/15/2011 16:54:54,182399,10/01/2009 10:04:32,31,0,grails AJAX call to database,I'm new to grails. I'm trying to develop a simple page with just a dropdown that when the user makes a selection an AJAX call is made to the database. Thing is that there is are no domain files at all in my application. I only have controllers and views and I intend to keep it this way. So I basically want to use grails to issue a mySQL Select statement through AJAX and get the results. ,mysql,ajax,grails,groovy,,,open,0,78,5,grails AJAX call to database I'm new to grails. I'm trying to develop a simple page with just a dropdown that when the user makes a selection an AJAX call is made to the database. Thing is that there is are no domain files at all in my application. I only have controllers and views and I intend to keep it this way. So I basically want to use grails to issue a mySQL Select statement through AJAX and get the results. ,4
6736703,07/18/2011 17:19:56,586012,01/22/2011 23:26:09,304,2,Setting custom value for auto-increment column in EF4,"I am using EF4 with ASP.NET. The entity `Subject` has a field `Id` which is set to auto-increment in MySql. This normally works great, but on one occasion I need to set a custom value for `Id`.

    Subject sNone = new Subject { Id = 0, Title = ""None"", Code = ""00"" };
    ctx.Subjects.AddObject(sNone);

This indeed creates a new subject in the database. However, its `Id` is not set to `0` - it is set to an auto-increment value.

Any idea how I can get around this?",mysql,entity-framework,entity-framework-4,auto-increment,,,open,0,91,8,"Setting custom value for auto-increment column in EF4 I am using EF4 with ASP.NET. The entity `Subject` has a field `Id` which is set to auto-increment in MySql. This normally works great, but on one occasion I need to set a custom value for `Id`.

    Subject sNone = new Subject { Id = 0, Title = ""None"", Code = ""00"" };
    ctx.Subjects.AddObject(sNone);

This indeed creates a new subject in the database. However, its `Id` is not set to `0` - it is set to an auto-increment value.

Any idea how I can get around this?",4
1138928,07/16/2009 16:57:23,120820,06/10/2009 19:30:47,200,9,MySQL trigger to set current date in a DATETIME field on insert,"I have a 'created_date' DATETIME field which I would like to be populated with the current date upon insert. What syntax should I use for this? This is what I have so far but it is incorrect.

    CREATE TRIGGER set_created_date
    BEFORE INSERT ON product
    FOR EACH ROW BEGIN
    SET NEW.created_date = now();",mysql,triggers,,,,,open,0,64,12,"MySQL trigger to set current date in a DATETIME field on insert I have a 'created_date' DATETIME field which I would like to be populated with the current date upon insert. What syntax should I use for this? This is what I have so far but it is incorrect.

    CREATE TRIGGER set_created_date
    BEFORE INSERT ON product
    FOR EACH ROW BEGIN
    SET NEW.created_date = now();",2
8292905,11/28/2011 07:59:29,738165,05/04/2011 14:07:28,31,6,One database vs many databases,"I know the question has been ask many times but I'd like an answer for my case.

I'm working on a web application which will allow my clients to manage there clients, encashments, invoices, reservations, a website, and many other things. I'm using MySQL and one database with about 30 tables.

I'd like my solution to be able to handle around 100 000 clients or more. The needs of my clients will be very different. From 100 inserts per year for one, to 1000 inserts per day for another.

For now I'm using one database (but I'm still in development) where each table has an account field. I've created a model layer to access the data which automatically append the account to each query (*WHERE guid = 1* become *WHERE account = X AND guid = 1*). This work very well and is really easy to maintain, but I'm worried about the fact of mixing the data of my clients. Note that I'm using an incremental id instead of a GUID.

My question is, should I continue to do things like this or should I create on database per client ?

What do you guys think ???
",mysql,database,,,,11/28/2011 23:30:16,not constructive,1,192,5,"One database vs many databases I know the question has been ask many times but I'd like an answer for my case.

I'm working on a web application which will allow my clients to manage there clients, encashments, invoices, reservations, a website, and many other things. I'm using MySQL and one database with about 30 tables.

I'd like my solution to be able to handle around 100 000 clients or more. The needs of my clients will be very different. From 100 inserts per year for one, to 1000 inserts per day for another.

For now I'm using one database (but I'm still in development) where each table has an account field. I've created a model layer to access the data which automatically append the account to each query (*WHERE guid = 1* become *WHERE account = X AND guid = 1*). This work very well and is really easy to maintain, but I'm worried about the fact of mixing the data of my clients. Note that I'm using an incremental id instead of a GUID.

My question is, should I continue to do things like this or should I create on database per client ?

What do you guys think ???
",2
1555561,10/12/2009 16:29:48,132728,07/03/2009 09:54:08,138,7,how to optimize this query (4 mm tables involved),"I am working with a legacy database schema that looks like this:

`product_table` table has fields:

`uid` (int, primary key)<br />
`name` (varchar 50)

<br />

`category` table has fields:

`uid` (int, primary key)<br /> 
`name` (varchar 50)

<hr />

Allright, now the `product_table` has 4 MM relations to the category table:

`product_table__category_1__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

<br />

`product_table__category_2__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

<br />

`product_table__category_3__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

<br />

`product_table__category_4__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

*(yes, all the 4 MM tables have the same fields and all relate to the `category` table)*

<hr />

So, if I want to pull in all four joins and filter based on int values selected by the user it would look something like this:


    select
    product_table.*
    
    from
    product_table
    
    inner join product_table__category_1__mm mm_1 on mm_1.uid_local = product_table.uid
    inner join category cat_1 on cat_1.uid = mm_1.uid_foreign and cat_1.uid in (7, 8)
    
    inner join product_table__category_2__mm mm_2 on mm_2.uid_local = product_table.uid
    inner join category cat_2 on cat_2.uid = mm_2.uid_foreign and cat_2.uid in (63, 52)

    inner join product_table__category_3__mm mm_3 on mm_3.uid_local = product_table.uid
    inner join category cat_3 on cat_3.uid = mm_3.uid_foreign and cat_3.uid in (84, 12)

    inner join product_table__category_4__mm mm_4 on mm_4.uid_local = product_table.uid
    inner join category cat_4 on cat_4.uid = mm_4.uid_foreign and cat_4.uid in (16, 33)

    group by product_table.uid ### --> in order to get unique results

Now thats a big query, but I cant change the db design as it is already widely in use.

Any idea on how to make this query faster? Where would you put indexes? 

",mysql,optimization,,,,,open,0,307,9,"how to optimize this query (4 mm tables involved) I am working with a legacy database schema that looks like this:

`product_table` table has fields:

`uid` (int, primary key)<br />
`name` (varchar 50)

<br />

`category` table has fields:

`uid` (int, primary key)<br /> 
`name` (varchar 50)

<hr />

Allright, now the `product_table` has 4 MM relations to the category table:

`product_table__category_1__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

<br />

`product_table__category_2__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

<br />

`product_table__category_3__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

<br />

`product_table__category_4__mm` has fields:

`uid_local` (int, contains `product_table.uid`)<br />`uid_foreign` (int, contains `category.uid`)

*(yes, all the 4 MM tables have the same fields and all relate to the `category` table)*

<hr />

So, if I want to pull in all four joins and filter based on int values selected by the user it would look something like this:


    select
    product_table.*
    
    from
    product_table
    
    inner join product_table__category_1__mm mm_1 on mm_1.uid_local = product_table.uid
    inner join category cat_1 on cat_1.uid = mm_1.uid_foreign and cat_1.uid in (7, 8)
    
    inner join product_table__category_2__mm mm_2 on mm_2.uid_local = product_table.uid
    inner join category cat_2 on cat_2.uid = mm_2.uid_foreign and cat_2.uid in (63, 52)

    inner join product_table__category_3__mm mm_3 on mm_3.uid_local = product_table.uid
    inner join category cat_3 on cat_3.uid = mm_3.uid_foreign and cat_3.uid in (84, 12)

    inner join product_table__category_4__mm mm_4 on mm_4.uid_local = product_table.uid
    inner join category cat_4 on cat_4.uid = mm_4.uid_foreign and cat_4.uid in (16, 33)

    group by product_table.uid ### --> in order to get unique results

Now thats a big query, but I cant change the db design as it is already widely in use.

Any idea on how to make this query faster? Where would you put indexes? 

",2
1713051,11/11/2009 04:39:52,49153,12/26/2008 04:39:37,4940,167,How many colunms can you have (maximum) in a MySQL table?,What's the max number of columns a mysql table can have? ,mysql,,,,,,open,0,12,11,How many colunms can you have (maximum) in a MySQL table? What's the max number of columns a mysql table can have? ,1
11749709,07/31/2012 22:06:05,1017513,10/28/2011 00:02:44,764,34,sql query help in sorting a field that's got both string and numbers,"I've got a text field called source_recid. It stores half string half number like strings in it. 

Example

    shop.orders.32442

the syntax is `DATABASENAME.TABLENAME.RECID`

My goal is to scan this col and find out the biggest RECID ( the integer) in it. 

So, in a case like this 

    shop.orders.32442
    shop.orders.82000
    shop.orders.34452

It would be the record whose source_recid  is `shop.orders.82000`. Why? Cause **82000** happens to be the largest integer. 

What SQL statement would get me that record? 

One option to this is to create a new column ( the_ids ) and move all the integers in it and then run something like this

    select source_recid from mytable 
      where source_recid like 'shop.orders.%' 
        order by the_ids DESC 
         LIMIT 1

Is there a way to pull this off without going thru this step?
",mysql,sql,query,,,,open,0,165,13,"sql query help in sorting a field that's got both string and numbers I've got a text field called source_recid. It stores half string half number like strings in it. 

Example

    shop.orders.32442

the syntax is `DATABASENAME.TABLENAME.RECID`

My goal is to scan this col and find out the biggest RECID ( the integer) in it. 

So, in a case like this 

    shop.orders.32442
    shop.orders.82000
    shop.orders.34452

It would be the record whose source_recid  is `shop.orders.82000`. Why? Cause **82000** happens to be the largest integer. 

What SQL statement would get me that record? 

One option to this is to create a new column ( the_ids ) and move all the integers in it and then run something like this

    select source_recid from mytable 
      where source_recid like 'shop.orders.%' 
        order by the_ids DESC 
         LIMIT 1

Is there a way to pull this off without going thru this step?
",3
8406940,12/06/2011 21:14:43,714178,04/18/2011 21:17:50,528,3,MATCH AGAINST with multiple columns in MySQL,"I am trying to create a simplified search box that will match multiple columns against a keyword or keywords the user inputs. The following code is my attempt at using MySQL's `MATCH`/`AGAINST`. However, I cannot get the query to execute properly when there are two columns specified, in this case 'topic, country'. It will execute when I run the code as either 'country' or 'topic', but not both.

Is there a secret to this?


    SELECT * ,
    MATCH (
    topic, country
    )
    AGAINST (
    'China'
    ) AS score
    FROM reports2
    WHERE MATCH (
    topic, country
    )
    AGAINST (
    'China'
    )
    ORDER BY score DESC

yields:

    #1191 - Can't find FULLTEXT index matching the column list

Which I find to be an inaccurate description of the error, because there are FULLTEXT indices for both of these. I even copied the table, turned it into MyISAM from INNODB, in order to do so.

Any suggestions would be appreciated.",mysql,,,,,,open,0,200,7,"MATCH AGAINST with multiple columns in MySQL I am trying to create a simplified search box that will match multiple columns against a keyword or keywords the user inputs. The following code is my attempt at using MySQL's `MATCH`/`AGAINST`. However, I cannot get the query to execute properly when there are two columns specified, in this case 'topic, country'. It will execute when I run the code as either 'country' or 'topic', but not both.

Is there a secret to this?


    SELECT * ,
    MATCH (
    topic, country
    )
    AGAINST (
    'China'
    ) AS score
    FROM reports2
    WHERE MATCH (
    topic, country
    )
    AGAINST (
    'China'
    )
    ORDER BY score DESC

yields:

    #1191 - Can't find FULLTEXT index matching the column list

Which I find to be an inaccurate description of the error, because there are FULLTEXT indices for both of these. I even copied the table, turned it into MyISAM from INNODB, in order to do so.

Any suggestions would be appreciated.",1
7297016,09/04/2011 02:12:36,197992,10/28/2009 10:51:14,1112,86,Naming columns of table with prefix of table name good Idea or bad?,"Below are two same tables with different column naming conventions which one is better and why ??

    <<User>>
     id
     name
     age


VS

    <<User>>
    user_id
    user_name
    user_age

A clear advantage I see is when it comes to joining tables same column name of two different tables can get overlap if not aliased properly with 'AS' . But with the latter there is no such need of it but still I find lots of projects using the first structure ?? why is that ?? 

Thanks.
",mysql,sql,table,naming-conventions,columns,09/04/2011 12:34:32,not constructive,1,108,13,"Naming columns of table with prefix of table name good Idea or bad? Below are two same tables with different column naming conventions which one is better and why ??

    <<User>>
     id
     name
     age


VS

    <<User>>
    user_id
    user_name
    user_age

A clear advantage I see is when it comes to joining tables same column name of two different tables can get overlap if not aliased properly with 'AS' . But with the latter there is no such need of it but still I find lots of projects using the first structure ?? why is that ?? 

Thanks.
",5
5527676,04/03/2011 04:57:40,424140,01/11/2010 20:40:25,61,1,warning the user/local/mysql/data directory is not owned by the mysql user,"If you can't start mysql service in snow leopard, and in the panel prefs appears 'warning the user/local/mysql/data directory is not owned by the mysql user', you have to:

 - sudo chown -RL root:mysql /usr/local/mysql
 - sudo chown -RL mysql:mysql /usr/local/mysql/data
 - sudo /usr/local/mysql/support-files/mysql.server start


It works for me!",mysql,,,,,04/03/2011 05:53:41,not a real question,1,48,11,"warning the user/local/mysql/data directory is not owned by the mysql user If you can't start mysql service in snow leopard, and in the panel prefs appears 'warning the user/local/mysql/data directory is not owned by the mysql user', you have to:

 - sudo chown -RL root:mysql /usr/local/mysql
 - sudo chown -RL mysql:mysql /usr/local/mysql/data
 - sudo /usr/local/mysql/support-files/mysql.server start


It works for me!",1
6071394,05/20/2011 11:41:43,660656,03/15/2011 13:33:59,20,1,mysql error code 1017,"anyone familiar with mysql error code 1017

Am creating a trigger on one table to insert after on another table. The trigger query seems to be okay to the best of my knowledge. The error am getting is shown below

**Error Code : 1017
Can't find file: '.\rtasys\@003cozekimessagein@003e.frm' (errno: 22)**

My trigger query is shown
  
    DELIMITER $$ CREATE
    /*[DEFINER = { user | CURRENT_USER }]*/
    TRIGGER `rtasys`.`on_insert_ozekimessagein` AFTER INSERT
    ON `rtasys`.`<ozekimessagein>`
    FOR EACH ROW BEGIN
    
    INSERT INTO ozekimessageout SET ozekimessageout.`receiver`=NEW.sender;
    INSERT INTO ozekimessageout SET ozekimessageout.`msg`=NEW.msg;
    INSERT INTO ozekimessageout SET ozekimessageout.`status`=NEW.sender;

    END$$ DELIMITER ;

",mysql,,,,,,open,0,122,4,"mysql error code 1017 anyone familiar with mysql error code 1017

Am creating a trigger on one table to insert after on another table. The trigger query seems to be okay to the best of my knowledge. The error am getting is shown below

**Error Code : 1017
Can't find file: '.\rtasys\@003cozekimessagein@003e.frm' (errno: 22)**

My trigger query is shown
  
    DELIMITER $$ CREATE
    /*[DEFINER = { user | CURRENT_USER }]*/
    TRIGGER `rtasys`.`on_insert_ozekimessagein` AFTER INSERT
    ON `rtasys`.`<ozekimessagein>`
    FOR EACH ROW BEGIN
    
    INSERT INTO ozekimessageout SET ozekimessageout.`receiver`=NEW.sender;
    INSERT INTO ozekimessageout SET ozekimessageout.`msg`=NEW.msg;
    INSERT INTO ozekimessageout SET ozekimessageout.`status`=NEW.sender;

    END$$ DELIMITER ;

",1
6716410,07/16/2011 09:04:15,825782,07/02/2011 05:20:27,3,0,how can I order like this in mysql,"How can I order in mysql like

1 1/2 2 3/1 3/2 3/12 5 5/1 7  13/1 

when i or der it bring  1 1/2 13/1 befor 5

format is x/x whre x is number",mysql,,,,,07/16/2011 17:34:51,not a real question,1,35,8,"how can I order like this in mysql How can I order in mysql like

1 1/2 2 3/1 3/2 3/12 5 5/1 7  13/1 

when i or der it bring  1 1/2 13/1 befor 5

format is x/x whre x is number",1
8187182,11/18/2011 18:25:57,933540,09/07/2011 20:16:33,37,0,combine two table and fill missing values in mysql,"Hi I have two tables in mysql,
Table 1.

ID Val1
1  100
2  200
3  300

and Table 2,
ID Val2
2  50

how can I combine them into a table like this?
ID Val1 Val2
1  100  0
2  200  50
3  300  0

thanks!
",mysql,table,,,,,open,0,43,9,"combine two table and fill missing values in mysql Hi I have two tables in mysql,
Table 1.

ID Val1
1  100
2  200
3  300

and Table 2,
ID Val2
2  50

how can I combine them into a table like this?
ID Val1 Val2
1  100  0
2  200  50
3  300  0

thanks!
",2
9863325,03/25/2012 19:34:24,722890,04/24/2011 19:38:30,659,10,where is my database located when using mysql in rails?,"I am learning to use mysql for rails apps, and I finally have been able to get my app up and running (sort of, for now). I managed to install mysql with homebrew, and then populated my database.yml file and ran rake db:create. Now I am able to run my rails server and navigate to my homepage of my app (previously I got a no database error).

So, now that it seems that the database(s) is created, where is it located? I was wondering, because I previously used sqlite3 and was able to see my development database file in app/db/development.db

I just want to understand in greater detail how mysql works in a rails context.",mysql,ruby-on-rails,ruby-on-rails-3,,,,open,0,113,10,"where is my database located when using mysql in rails? I am learning to use mysql for rails apps, and I finally have been able to get my app up and running (sort of, for now). I managed to install mysql with homebrew, and then populated my database.yml file and ran rake db:create. Now I am able to run my rails server and navigate to my homepage of my app (previously I got a no database error).

So, now that it seems that the database(s) is created, where is it located? I was wondering, because I previously used sqlite3 and was able to see my development database file in app/db/development.db

I just want to understand in greater detail how mysql works in a rails context.",3
5576147,04/07/2011 04:52:19,677959,03/26/2011 11:25:31,36,0,Hibernate sending alien queries to database,"I have a web application backed by hibernate. For last few days, I have started closely monitoring mysql and found that hibernate is sending unknown queries to the database which infact are not being sent from any part of app.

query looks like


| /* mysql-connector-java-5.1.6 ( Revision: ${svn.Revision} ) */SHOW VARIABLES WHERE Variable_name ='l |",mysql,hibernate,,,,,open,0,54,6,"Hibernate sending alien queries to database I have a web application backed by hibernate. For last few days, I have started closely monitoring mysql and found that hibernate is sending unknown queries to the database which infact are not being sent from any part of app.

query looks like


| /* mysql-connector-java-5.1.6 ( Revision: ${svn.Revision} ) */SHOW VARIABLES WHERE Variable_name ='l |",2
10399020,05/01/2012 14:19:35,1367899,05/01/2012 14:07:46,1,0,MySql update fields based on other fields,"I'm trying to update the custom meta for all WordPress posts where another custom meta field equals 1.

My table looks like thus

meta_id  |  post_id  |  meta_key  |  meta_value
------------------------------------------------
0001     |   1234    |   _p_free  |    1
0002     |   1234    |   new_free |    null
0003     |   2345    |   _p_free  |    1
0004     |   2345    |   new_free |    null
0005     |   9876    |   _p_free  |    0
0006     |   9876    |   new_free |    null


So, as you can see, what I'd like to do is run a query that finds all posts with a meta_key = _p_free and a meta_value = 1 and then update the new_free with the same post_id to also equal 1.

Thanks",mysql,database,wordpress,query,,,open,0,197,7,"MySql update fields based on other fields I'm trying to update the custom meta for all WordPress posts where another custom meta field equals 1.

My table looks like thus

meta_id  |  post_id  |  meta_key  |  meta_value
------------------------------------------------
0001     |   1234    |   _p_free  |    1
0002     |   1234    |   new_free |    null
0003     |   2345    |   _p_free  |    1
0004     |   2345    |   new_free |    null
0005     |   9876    |   _p_free  |    0
0006     |   9876    |   new_free |    null


So, as you can see, what I'd like to do is run a query that finds all posts with a meta_key = _p_free and a meta_value = 1 and then update the new_free with the same post_id to also equal 1.

Thanks",4
8894692,01/17/2012 12:35:24,995310,10/14/2011 11:33:48,61,3,Mysql generate big IO,"Mysql begin generate big IO. What reason of this may be?

History:
One of website write even request for site and store session in table (nothig delete it's web site of before programmer).
In table store 3 million rows. I try Delete but then cancel. Table crashed. I repair and try delete then. It's ok.
But know i have big IO. My server in cloud and know i pay cost x3.",mysql,io,,,,01/18/2012 11:58:37,not a real question,1,67,4,"Mysql generate big IO Mysql begin generate big IO. What reason of this may be?

History:
One of website write even request for site and store session in table (nothig delete it's web site of before programmer).
In table store 3 million rows. I try Delete but then cancel. Table crashed. I repair and try delete then. It's ok.
But know i have big IO. My server in cloud and know i pay cost x3.",2
6085015,05/21/2011 23:14:14,731621,04/29/2011 18:56:34,1,0,Have a primary key as well as auto incrementing field.,"I have a table with four columns, (id, searchstring, count, timestamp). I want to be able to make to use of the ON DUPLICATE KEY UPDATE feature to update the count of 'searchstring' when a duplicate is entered. However, searchstring needs to be the primary key to be able to do this, and my id is automatically set to my primary key because it is auto incrementing. Is there any way around this?",mysql,primary-key,,,,,open,0,73,10,"Have a primary key as well as auto incrementing field. I have a table with four columns, (id, searchstring, count, timestamp). I want to be able to make to use of the ON DUPLICATE KEY UPDATE feature to update the count of 'searchstring' when a duplicate is entered. However, searchstring needs to be the primary key to be able to do this, and my id is automatically set to my primary key because it is auto incrementing. Is there any way around this?",2
9051331,01/29/2012 06:14:41,951202,09/18/2011 12:12:45,70,1,How to insert the rows in the database mysql table in the following?,"I have two table named: **Blog** for displaying blogs post and **comments** for displaying comments section for each blog post.

The fields for these are as follows: 

**For Blog:** 

1: blog_id

2: title

3: body

4: author

5: updated

**For Comments:**

1: comments_id

2: username

3: email

4: comment_body

5: blog_id


The field **blog_id** must be the same for both the table.

Now what i want is that suppose for blog_id = ""2"", I am writing comment, so what would be the insert query so that when i visit index.php?blog_id=2, I get the comments for only that particular post.

**I mean how to insert the comments for a particular blog_id?**",mysql,,,,,,open,0,96,13,"How to insert the rows in the database mysql table in the following? I have two table named: **Blog** for displaying blogs post and **comments** for displaying comments section for each blog post.

The fields for these are as follows: 

**For Blog:** 

1: blog_id

2: title

3: body

4: author

5: updated

**For Comments:**

1: comments_id

2: username

3: email

4: comment_body

5: blog_id


The field **blog_id** must be the same for both the table.

Now what i want is that suppose for blog_id = ""2"", I am writing comment, so what would be the insert query so that when i visit index.php?blog_id=2, I get the comments for only that particular post.

**I mean how to insert the comments for a particular blog_id?**",1
