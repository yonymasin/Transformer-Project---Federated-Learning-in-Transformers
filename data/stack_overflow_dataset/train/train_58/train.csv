PostId,PostCreationDate,OwnerUserId,OwnerCreationDate,ReputationAtPostCreation,OwnerUndeletedAnswerCountAtPostTime,Title,BodyMarkdown,Tag1,Tag2,Tag3,Tag4,Tag5,PostClosedDate,OpenStatus,OpenStatusInt,BodyLength,TitleLength,TitleConcatWithBody,NumberOfTags
1026737,06/22/2009 11:48:44,103089,05/07/2009 18:48:55,1,0,Linq query on the maximum value of 2 fields,"i think the title is a little cryptic, here's what i want to do...

i have in my tabel two datetime fields. 
Now i want to select the rows where the largest (ie the most far in the future) date is larger than 'today'
few examples: (today is 6-22)
date1: null, date2: null : no match, all lower than now
date1: null, date2: 5-31: no match, all lower than now
date1: null, date2: 6-23: match, 6-23 is larger than now
date1: 5-31, date2: 7-23: match, 6-23 is larger than now
date1: 7-21, date2: 1-23: match, 7-21 is larger than now
date1: 7-21, date2: null: match, 7-21 is larger than now

so in sort of pseudo code:
select * from table where (max(date2, date2)) > now

Regards,
Michel



",linq,,,,,,open,0,115,9,"Linq query on the maximum value of 2 fields i think the title is a little cryptic, here's what i want to do...

i have in my tabel two datetime fields. 
Now i want to select the rows where the largest (ie the most far in the future) date is larger than 'today'
few examples: (today is 6-22)
date1: null, date2: null : no match, all lower than now
date1: null, date2: 5-31: no match, all lower than now
date1: null, date2: 6-23: match, 6-23 is larger than now
date1: 5-31, date2: 7-23: match, 6-23 is larger than now
date1: 7-21, date2: 1-23: match, 7-21 is larger than now
date1: 7-21, date2: null: match, 7-21 is larger than now

so in sort of pseudo code:
select * from table where (max(date2, date2)) > now

Regards,
Michel



",1
8163513,11/17/2011 07:28:32,1051234,11/17/2011 07:23:18,1,0,ls LINQ ORM (Object Relational Mapper)?,"Is the LINQ ORM ?

I listen  to a lot of people LINQ is fellow the rules of Object Relation Mapper. But I can't understand , how is it ?",linq,object,orm,relational,mapper,,open,0,30,6,"ls LINQ ORM (Object Relational Mapper)? Is the LINQ ORM ?

I listen  to a lot of people LINQ is fellow the rules of Object Relation Mapper. But I can't understand , how is it ?",5
2460913,03/17/2010 09:09:50,117185,06/04/2009 08:50:07,6,4,"LINQ Expression<Func<T, bool>> equavalent of .Contains()","Has anybody got an idea of how to create a .Contains(string) function using Linq Expressions, or even create a predicate to accomplish this

    public static Expression<Func<T, bool>> Or<T>(this Expression<Func<T, bool>> expr1,
          Expression<Func<T, bool>> expr2)
    {
          var invokedExpr = Expression.Invoke(expr2, expr1.Parameters.Cast<Expression>());
          return Expression.Lambda<Func<T, bool>>
                      (Expression.OrElse(expr1.Body, invokedExpr), expr1.Parameters);
    }

Something simular to this would be ideal?",linq,linq-expressions,,,,,open,0,110,6,"LINQ Expression<Func<T, bool>> equavalent of .Contains() Has anybody got an idea of how to create a .Contains(string) function using Linq Expressions, or even create a predicate to accomplish this

    public static Expression<Func<T, bool>> Or<T>(this Expression<Func<T, bool>> expr1,
          Expression<Func<T, bool>> expr2)
    {
          var invokedExpr = Expression.Invoke(expr2, expr1.Parameters.Cast<Expression>());
          return Expression.Lambda<Func<T, bool>>
                      (Expression.OrElse(expr1.Body, invokedExpr), expr1.Parameters);
    }

Something simular to this would be ideal?",2
3015829,06/10/2010 15:25:08,347165,05/21/2010 14:25:15,46,3,LINQ-to-entities changeset references object type,"After objects get committed to the db, I sometimes want to update a separate index. The simplest version is something like:

    if(ChangedObject.getType() == typeof(User))
        Update(((User) ChangedObject).UserID);

The problem is, if it's a related table, then the changed object won't be of the type User, just one of its properties will. I still might want to update what is linked though. For example, maybe an alias was updated, so I do

    Update(((Alias) ChangedObject).User.UserID);

Apart from using reflections and looping through every property, is there a way to test if an entity references an object type? ",linq,graph,reference,,,,open,0,106,5,"LINQ-to-entities changeset references object type After objects get committed to the db, I sometimes want to update a separate index. The simplest version is something like:

    if(ChangedObject.getType() == typeof(User))
        Update(((User) ChangedObject).UserID);

The problem is, if it's a related table, then the changed object won't be of the type User, just one of its properties will. I still might want to update what is linked though. For example, maybe an alias was updated, so I do

    Update(((Alias) ChangedObject).User.UserID);

Apart from using reflections and looping through every property, is there a way to test if an entity references an object type? ",3
4025871,10/26/2010 16:46:18,452101,09/19/2010 19:28:34,31,1,When to prefer joins expressed with SelectMany() over joins expressed with the join keyword in Linq,"Linq allows to express inner joins by using the join keyword or by using
SelectMany() (i.e. a couple of from keywords) with a where keyword:

<code>
var personsToState = 	from person in persons join state in statesOfUS
			on person.State equals state.USPS
			select new { person, State = state.Name };
foreach (var item in personsToState)
{
	System.Diagnostics.Debug.WriteLine(item);
}

// The same query can be expressed with the query operator SelectMany(), which is
// expressed as two from clauses and a single where clause connecting the sequences.                     
var personsToState2 = 	from person in persons
			from state in statesOfUS
			where person.State == state.USPS
			select new { person, State = state.Name };
foreach (var item in personsToState2)
{
	System.Diagnostics.Debug.WriteLine(item);
}
</code>

My question: when is it purposeful to use the join-style and when to use the where-style,
has one style performance advantages over the other style?
",linq,join,,,,,open,0,141,16,"When to prefer joins expressed with SelectMany() over joins expressed with the join keyword in Linq Linq allows to express inner joins by using the join keyword or by using
SelectMany() (i.e. a couple of from keywords) with a where keyword:

<code>
var personsToState = 	from person in persons join state in statesOfUS
			on person.State equals state.USPS
			select new { person, State = state.Name };
foreach (var item in personsToState)
{
	System.Diagnostics.Debug.WriteLine(item);
}

// The same query can be expressed with the query operator SelectMany(), which is
// expressed as two from clauses and a single where clause connecting the sequences.                     
var personsToState2 = 	from person in persons
			from state in statesOfUS
			where person.State == state.USPS
			select new { person, State = state.Name };
foreach (var item in personsToState2)
{
	System.Diagnostics.Debug.WriteLine(item);
}
</code>

My question: when is it purposeful to use the join-style and when to use the where-style,
has one style performance advantages over the other style?
",2
3653970,09/06/2010 19:50:46,434226,08/29/2010 13:15:13,1,0,minimum value in dictionary using linq,"I have a dictionary of type 

    Dictionary<DateTime,double> dictionary

How can I retrive a minimum value and key coresponding to this value from this dictionary using linq ?",linq,dictionary,lambda,,,,open,0,30,6,"minimum value in dictionary using linq I have a dictionary of type 

    Dictionary<DateTime,double> dictionary

How can I retrive a minimum value and key coresponding to this value from this dictionary using linq ?",3
4272358,11/24/2010 23:01:04,257514,01/23/2010 18:50:10,13,1,"Is there a way to combine two linq expressions of a custom type (i.e. Expression(Of Func(Of MyClass, MyClass))","I have a list of properties and values that i'd like to use to dynamically build an Expression(Of Func(Of MyClass,MyClass))

I can run through the list and create each Expression by itself, but the only way I know how to combine them would be to use Expression.And or Expression.AndAlso, but that returns a BinaryExpression rather than my original Expression(Of Func(Of MyClass,MyClass)).

Any way to combine these into one?",linq,expression,func,,,,open,0,66,18,"Is there a way to combine two linq expressions of a custom type (i.e. Expression(Of Func(Of MyClass, MyClass)) I have a list of properties and values that i'd like to use to dynamically build an Expression(Of Func(Of MyClass,MyClass))

I can run through the list and create each Expression by itself, but the only way I know how to combine them would be to use Expression.And or Expression.AndAlso, but that returns a BinaryExpression rather than my original Expression(Of Func(Of MyClass,MyClass)).

Any way to combine these into one?",3
10218119,04/18/2012 21:14:08,996431,10/15/2011 02:40:34,1072,1,LINQ Vs. Lamda Expression,"From my understanding, we have LINQ and Lamda expressions.
Is it more advisible to use Lamda expression as they provide more functionality that
LINQ may not. 


        LINQ vs Lamda",linq,,,,,04/18/2012 21:22:52,not constructive,1,35,4,"LINQ Vs. Lamda Expression From my understanding, we have LINQ and Lamda expressions.
Is it more advisible to use Lamda expression as they provide more functionality that
LINQ may not. 


        LINQ vs Lamda",1
289809,11/14/2008 11:14:15,31296,10/24/2008 19:13:14,33,4,linq help - newbie,"how come this work  

     public IQueryable<Category> getCategories(int postId)  
     {
     subnusMVCRepository<Categories> categories = new subnusMVCRepository<Categories>();
    subnusMVCRepository<Post_Category_Map> postCategoryMap = new  subnusMVCRepository<Post_Category_Map>();

			var query = from c in categories.GetAll()
						join pcm in postCategoryMap.GetAll() on c.CategoryId equals pcm.CategoryId
						where pcm.PostId == 1
						select new Category
						{
							Name = c.Name,
							CategoryId = c.CategoryId
						};
			return query;
     }  

but this does not

    public IQueryable<Category> getCategories(int postId)  
    {
    subnusMVCRepository<Categories> categories = new subnusMVCRepository<Categories>();
    subnusMVCRepository<Post_Category_Map> postCategoryMap = new subnusMVCRepository<Post_Category_Map>();

        var query = from c in categories.GetAll()
                    join pcm in postCategoryMap.GetAll() on c.CategoryId equals pcm.CategoryId
                    where pcm.PostId == postId
                    select new Category
                    {
                        Name = c.Name,
                        CategoryId = c.CategoryId
                    };
        return query;
      }",linq,subsonic-v3p2,,,,,open,0,294,4,"linq help - newbie how come this work  

     public IQueryable<Category> getCategories(int postId)  
     {
     subnusMVCRepository<Categories> categories = new subnusMVCRepository<Categories>();
    subnusMVCRepository<Post_Category_Map> postCategoryMap = new  subnusMVCRepository<Post_Category_Map>();

			var query = from c in categories.GetAll()
						join pcm in postCategoryMap.GetAll() on c.CategoryId equals pcm.CategoryId
						where pcm.PostId == 1
						select new Category
						{
							Name = c.Name,
							CategoryId = c.CategoryId
						};
			return query;
     }  

but this does not

    public IQueryable<Category> getCategories(int postId)  
    {
    subnusMVCRepository<Categories> categories = new subnusMVCRepository<Categories>();
    subnusMVCRepository<Post_Category_Map> postCategoryMap = new subnusMVCRepository<Post_Category_Map>();

        var query = from c in categories.GetAll()
                    join pcm in postCategoryMap.GetAll() on c.CategoryId equals pcm.CategoryId
                    where pcm.PostId == postId
                    select new Category
                    {
                        Name = c.Name,
                        CategoryId = c.CategoryId
                    };
        return query;
      }",2
9184114,02/07/2012 21:20:23,1136594,01/08/2012 01:08:48,23,0,"LINQ, can't construct datetime","I need to construct linq, but day (date time type, i.AllowedTime.AllowedDate.Day), hours and minutes (int type) stores differently. I try to make it:

            DateTime date = DateTime.Now.Date;
            IQueryable<ITW2012Mobile.Core.DataTable.MeetingModel2> result = null;
            if (status == MeetingStatus.RequestedOfYou)
            {
                
                result = from i in _dbContext.Meetings
                         where i.UserInvitedID == CurrentUserID && i.MeetingStatus == null && EntityFunctions.TruncateTime(i.AllowedTime.AllowedDate.Day) >= date
                         select new ITW2012Mobile.Core.DataTable.MeetingModel2()
                         {
                             Name = i.UserInviter.FirstName + "" "" + i.UserInviter.LastName,
                             Company = i.UserInviter.Company,
                             MeetingID = i.MeetingID,
                             Time = EntityFunctions.AddMinutes(EntityFunctions.AddHours(i.AllowedTime.AllowedDate.Day, i.AllowedTime.Hour).Value, i.AllowedTime.Minute).Value,
                             Image = i.UserInviter.ProfileImage,
                             Username = i.UserInviter.aspnet_User.UserName
                         };
            }

but got an exception :

> {""The datepart hour is not supported by date function dateadd for data
> type date.""}

how to do it?
",linq,asp.net-mvc-3,entity-framework-4,linq-to-entities,,,open,0,456,4,"LINQ, can't construct datetime I need to construct linq, but day (date time type, i.AllowedTime.AllowedDate.Day), hours and minutes (int type) stores differently. I try to make it:

            DateTime date = DateTime.Now.Date;
            IQueryable<ITW2012Mobile.Core.DataTable.MeetingModel2> result = null;
            if (status == MeetingStatus.RequestedOfYou)
            {
                
                result = from i in _dbContext.Meetings
                         where i.UserInvitedID == CurrentUserID && i.MeetingStatus == null && EntityFunctions.TruncateTime(i.AllowedTime.AllowedDate.Day) >= date
                         select new ITW2012Mobile.Core.DataTable.MeetingModel2()
                         {
                             Name = i.UserInviter.FirstName + "" "" + i.UserInviter.LastName,
                             Company = i.UserInviter.Company,
                             MeetingID = i.MeetingID,
                             Time = EntityFunctions.AddMinutes(EntityFunctions.AddHours(i.AllowedTime.AllowedDate.Day, i.AllowedTime.Hour).Value, i.AllowedTime.Minute).Value,
                             Image = i.UserInviter.ProfileImage,
                             Username = i.UserInviter.aspnet_User.UserName
                         };
            }

but got an exception :

> {""The datepart hour is not supported by date function dateadd for data
> type date.""}

how to do it?
",4
9457851,02/26/2012 22:29:28,845230,07/14/2011 18:54:28,83,1,"Trying not to be too clever, can I make an assumption about the SQL cache?","I have a SQL2008 table of automotive makes, models, and year.  To display a list of years to the user I need to know the lowest and the highest years in the table, like 1919 - 2012.

I use a LINQ query as follows:

    return (from car in context.Cars select car.Year).Min();

...which turns into this SQL query:

    SELECT MIN([t0].[Year]) AS [value] FROM [dbo].[Cars] AS [t0]

I know (and you know) that the min will rarely if ever change and the max will change, at most, once per year.  But since they are indeed data-dependant, they're not suitable as constants.  Since they -could- change during runtime, I don't want to make them static.

I'm assuming that SQL will cache that min and max, and as long as the underlying tables are not modified, it's smart enough to return me cached information.  Until and unless it ever became a performance bottleneck, it's more of a curiosity, but to what extent can I rely on SQL (in this case, SQL2008 R2) caching query results as long as the tables do not change?


",linq,sql-server-2008,caching,,,,open,0,185,15,"Trying not to be too clever, can I make an assumption about the SQL cache? I have a SQL2008 table of automotive makes, models, and year.  To display a list of years to the user I need to know the lowest and the highest years in the table, like 1919 - 2012.

I use a LINQ query as follows:

    return (from car in context.Cars select car.Year).Min();

...which turns into this SQL query:

    SELECT MIN([t0].[Year]) AS [value] FROM [dbo].[Cars] AS [t0]

I know (and you know) that the min will rarely if ever change and the max will change, at most, once per year.  But since they are indeed data-dependant, they're not suitable as constants.  Since they -could- change during runtime, I don't want to make them static.

I'm assuming that SQL will cache that min and max, and as long as the underlying tables are not modified, it's smart enough to return me cached information.  Until and unless it ever became a performance bottleneck, it's more of a curiosity, but to what extent can I rely on SQL (in this case, SQL2008 R2) caching query results as long as the tables do not change?


",3
3455629,08/11/2010 05:58:39,147613,07/30/2009 06:04:43,312,12,selecting an element in xml using linq extension mehtods ,"I am little new to linq and was wondering how i can select the application in the following xml based on the application name using *Extension Methods* (not in the sql way of selecting)

    <applicationlist>
	<application>
		<name>test1</name>
        <ele1>852</ele1
		<ele2>http://localhost/test1</ele2>
	</application>

	<application>
		<name>test2</name>
        <ele1>456</ele1
		<ele2>http://localhost/test2</ele2>
	</application>
    </applicationlist>",linq,linq-to-xml,,,,,open,0,58,10,"selecting an element in xml using linq extension mehtods  I am little new to linq and was wondering how i can select the application in the following xml based on the application name using *Extension Methods* (not in the sql way of selecting)

    <applicationlist>
	<application>
		<name>test1</name>
        <ele1>852</ele1
		<ele2>http://localhost/test1</ele2>
	</application>

	<application>
		<name>test2</name>
        <ele1>456</ele1
		<ele2>http://localhost/test2</ele2>
	</application>
    </applicationlist>",2
4485253,12/19/2010 21:37:41,418716,08/12/2010 17:38:36,34,2,Is it possible to define a usable Object Context variable in LINQPad?,"I'd like to be able to write against an object context variable within linq pad so the code is identical to what I'll be using in my production code. For instance if my object context variable was 'oc':

    oc.Products.Where(p => p.Price > 10m);

Instead of:

    Products.Where(p => p.Price > 10m);

Where the object context would be available in a variable name of my choosing instead of not using a local variable for the object context which is the same LINQPad works by default.",linq,entity-framework,linqpad,,,,open,0,87,12,"Is it possible to define a usable Object Context variable in LINQPad? I'd like to be able to write against an object context variable within linq pad so the code is identical to what I'll be using in my production code. For instance if my object context variable was 'oc':

    oc.Products.Where(p => p.Price > 10m);

Instead of:

    Products.Where(p => p.Price > 10m);

Where the object context would be available in a variable name of my choosing instead of not using a local variable for the object context which is the same LINQPad works by default.",3
8296860,11/28/2011 13:57:24,1066788,11/26/2011 10:31:48,1,0,LINQ professional query for WebMethod,"    Global entity: {  WorkerId , ProjId, Date }
    Worker entity: { Workerid, WorkerName }
    Project entity: { ProjId, ProjName }
    New Projects entity : { ProjId, ProjInf }

The WebMethod needs to recieve a date and to return:

    >WorkerName
    >how many projects he has // count Project entity with WorkerId 
    >how many new projects he has // count New Projects entity with ProjId, we know wich ProjId needs to be count for the worker from the Global entity

Please help me with building a Linq query for this...I cannot find any solutions all over google
",linq,entity-framework,linq-to-sql,linq-to-entities,,11/28/2011 20:13:37,not a real question,1,117,5,"LINQ professional query for WebMethod     Global entity: {  WorkerId , ProjId, Date }
    Worker entity: { Workerid, WorkerName }
    Project entity: { ProjId, ProjName }
    New Projects entity : { ProjId, ProjInf }

The WebMethod needs to recieve a date and to return:

    >WorkerName
    >how many projects he has // count Project entity with WorkerId 
    >how many new projects he has // count New Projects entity with ProjId, we know wich ProjId needs to be count for the worker from the Global entity

Please help me with building a Linq query for this...I cannot find any solutions all over google
",4
967099,06/08/2009 21:21:34,1946,08/19/2008 14:53:06,882,21,GroupBy with linq method syntax (not query syntax),"How would the following query look if I was using the extension method syntax?

    var query = from c in checks
    group c by string.Format(""{0} - {1}"", c.CustomerId, c.CustomerName) 
    into customerGroups
    select new { Customer = customerGroups.Key, Payments = customerGroups }",linq,c#,linq-query-syntax,translation,,,open,0,54,8,"GroupBy with linq method syntax (not query syntax) How would the following query look if I was using the extension method syntax?

    var query = from c in checks
    group c by string.Format(""{0} - {1}"", c.CustomerId, c.CustomerName) 
    into customerGroups
    select new { Customer = customerGroups.Key, Payments = customerGroups }",4
10617994,05/16/2012 11:56:59,444569,09/10/2010 17:02:55,326,14,Getting data from xml by attribute vlaue,"    <products>
       <product id=""1"">
          <category>q</category>
       </product>
       <product id=""2"">
          <category>w</category>
       </product>
       <product id=""3"">
          <category>e</category>
       </product>
    </products>


I have a file with above content(myfile.xml).I have to get all content comming under(including product node) a product with id=1

ie the result should be  

     <product id=""1"">
          <category>q</category>
     </product>

What can i do for this?",linq,linq-to-xml,,,,,open,0,135,7,"Getting data from xml by attribute vlaue     <products>
       <product id=""1"">
          <category>q</category>
       </product>
       <product id=""2"">
          <category>w</category>
       </product>
       <product id=""3"">
          <category>e</category>
       </product>
    </products>


I have a file with above content(myfile.xml).I have to get all content comming under(including product node) a product with id=1

ie the result should be  

     <product id=""1"">
          <category>q</category>
     </product>

What can i do for this?",2
2783432,05/06/2010 18:21:45,316959,04/14/2010 21:17:19,24,1,Convert a string to Linq.Expressions or use a string as Selector?,"Well I have a string now that has the expression value to be evaluated..it has say value ""expr=>expr.FieldName""... so I want to use this string as Linq.Expression or any other way to query...like Select(str). Please help me out.",linq,c#,expression,,,,open,0,38,11,"Convert a string to Linq.Expressions or use a string as Selector? Well I have a string now that has the expression value to be evaluated..it has say value ""expr=>expr.FieldName""... so I want to use this string as Linq.Expression or any other way to query...like Select(str). Please help me out.",3
7108958,08/18/2011 14:23:19,759106,05/18/2011 11:47:03,6,0,Why am I getting a MissingMethodException with querying the TableServiceContext?,"I am trying to query a Azure Table Storage. For that I use the following two methods:

TableServiceContext:

    public IQueryable<T> QueryEntities<T>(string tableName) where T : TableServiceEntity
    {
        this.ResolveType = (unused) => typeof(T);
        return this.CreateQuery<T>(tableName);
    }

Code that uses the method above:

    CloudStorageAccount account = AzureConnector.GetCloudStorageAccount(AppSettingsVariables.TableStorageConnection);

    AzureTableStorageContext context = new AzureTableStorageContext(account.TableEndpoint.ToString(), account.Credentials);

    // Checks if the setting already exists in the Azure table storage. Returns null if not exists.
    var existsQuery = from e in context.QueryEntities<ServiceSettingEntity>(TableName)
                      where e.ServiceName.Equals(this.ServiceName) && e.SettingName.Equals(settingName)
                      select e;

    ServiceSettingEntity existingSettginEntity = existsQuery.FirstOrDefault();


The code in the class generates the following MissingMethodException:

[Picture of Exception][1]

I have looked at the supported [LINQ Queries][2] for the Table API and looked at several working stackoverflow solutions but I can't get this to work.


  [1]: http://imageshack.us/photo/my-images/215/errorku.png/
  [2]: http://msdn.microsoft.com/en-us/library/dd894039.aspx",linq,azure-storage-tables,missingmethodexception,,,,open,0,204,10,"Why am I getting a MissingMethodException with querying the TableServiceContext? I am trying to query a Azure Table Storage. For that I use the following two methods:

TableServiceContext:

    public IQueryable<T> QueryEntities<T>(string tableName) where T : TableServiceEntity
    {
        this.ResolveType = (unused) => typeof(T);
        return this.CreateQuery<T>(tableName);
    }

Code that uses the method above:

    CloudStorageAccount account = AzureConnector.GetCloudStorageAccount(AppSettingsVariables.TableStorageConnection);

    AzureTableStorageContext context = new AzureTableStorageContext(account.TableEndpoint.ToString(), account.Credentials);

    // Checks if the setting already exists in the Azure table storage. Returns null if not exists.
    var existsQuery = from e in context.QueryEntities<ServiceSettingEntity>(TableName)
                      where e.ServiceName.Equals(this.ServiceName) && e.SettingName.Equals(settingName)
                      select e;

    ServiceSettingEntity existingSettginEntity = existsQuery.FirstOrDefault();


The code in the class generates the following MissingMethodException:

[Picture of Exception][1]

I have looked at the supported [LINQ Queries][2] for the Table API and looked at several working stackoverflow solutions but I can't get this to work.


  [1]: http://imageshack.us/photo/my-images/215/errorku.png/
  [2]: http://msdn.microsoft.com/en-us/library/dd894039.aspx",3
7427636,09/15/2011 08:04:04,946292,09/15/2011 08:04:04,1,0,Linq Query in C#,"I want to check the duplicate data in my table.So for that i write a linq Query. But is not giving me desired result.
see this is my code:

protected void txtOldPass_TextChanged(object sender, EventArgs e)
        {   
            IList<User> user = facade.GetAlluser();
       
            string oldpwd=txtOldPass .Text;
            var result = from c in user oldpwd == c.passwd && c.Id = 89 select c;    

            var countData = result.Count();
            if (countData<=0)
            {
                Label1.Text = ""Wrong Password"";
            }
            else
            {
                Label1.Text = ""Correct Password"";
            }",linq,,,,,09/15/2011 13:06:21,not a real question,1,237,4,"Linq Query in C# I want to check the duplicate data in my table.So for that i write a linq Query. But is not giving me desired result.
see this is my code:

protected void txtOldPass_TextChanged(object sender, EventArgs e)
        {   
            IList<User> user = facade.GetAlluser();
       
            string oldpwd=txtOldPass .Text;
            var result = from c in user oldpwd == c.passwd && c.Id = 89 select c;    

            var countData = result.Count();
            if (countData<=0)
            {
                Label1.Text = ""Wrong Password"";
            }
            else
            {
                Label1.Text = ""Correct Password"";
            }",1
2815945,05/12/2010 03:24:53,231002,12/14/2009 04:42:27,173,1,Compile error when calling ToList() when accessing many to many with Linq To Entities,"I can't figure out what I am doing wrong.  I have the following method:

        public IList<WObject> GetRelationshipMembers(int relId)
        {
            var members = from r in _container.ObjectRelationships
                          where r.Id == relId
                          select r.WObjects;

            return members.ToList<WObject>();
        }

This returns the following error:

Instance argument: cannot convert from 'System.Linq.IQueryable<System.Data.Objects.DataClasses.EntityCollection<Project.DomainModel.Entities.WObject>>' to 'System.Collections.Generic.IEnumerable<Project.DomainModel.Entities.WObject>'

How can I convert the EntityCollection to a list without lazy loading?",linq,c#,linq-to-entities,entity-framework,,,open,0,151,14,"Compile error when calling ToList() when accessing many to many with Linq To Entities I can't figure out what I am doing wrong.  I have the following method:

        public IList<WObject> GetRelationshipMembers(int relId)
        {
            var members = from r in _container.ObjectRelationships
                          where r.Id == relId
                          select r.WObjects;

            return members.ToList<WObject>();
        }

This returns the following error:

Instance argument: cannot convert from 'System.Linq.IQueryable<System.Data.Objects.DataClasses.EntityCollection<Project.DomainModel.Entities.WObject>>' to 'System.Collections.Generic.IEnumerable<Project.DomainModel.Entities.WObject>'

How can I convert the EntityCollection to a list without lazy loading?",4
6044482,05/18/2011 12:14:53,759141,05/18/2011 12:09:18,1,0,Setting anonymous type property name,"Let's say I have the following piece of code:

    string SomeConst = ""OtherName"";
    var persons = GetPersons(); //returns list of Person
    var q = persons.Select(p => 
    new
    {
        SomeConst = p.Name
    });

Basically I'd expect to have in **q** sequence of anonymous type with the property
named **OtherName** and not **SomeConst**.
How can I achieve such a behaviour?

",linq,properties,anonymous,,,,open,0,81,5,"Setting anonymous type property name Let's say I have the following piece of code:

    string SomeConst = ""OtherName"";
    var persons = GetPersons(); //returns list of Person
    var q = persons.Select(p => 
    new
    {
        SomeConst = p.Name
    });

Basically I'd expect to have in **q** sequence of anonymous type with the property
named **OtherName** and not **SomeConst**.
How can I achieve such a behaviour?

",3
8214244,11/21/2011 15:34:22,1011011,10/24/2011 14:05:09,11,0,LINQ - .tolist(),"I have a LINQ query. This query retrieves 10000 records from the database. However, the execution of this query takes a long time - about 2 minutes. What could be the reason? The data is then displayed in a DataGridView in a list",linq,mapping,tolist,,,11/22/2011 02:35:52,not a real question,1,43,3,"LINQ - .tolist() I have a LINQ query. This query retrieves 10000 records from the database. However, the execution of this query takes a long time - about 2 minutes. What could be the reason? The data is then displayed in a DataGridView in a list",3
9892391,03/27/2012 15:14:01,471565,10/10/2010 14:32:56,402,12,Orderby and Linq,"How can i add orderby to this:

    return (from m in response[""holder""].Children()
                    orderby m[""name""]
                    select new SelectListItem
                    {
                        Text = m[""name""].ToString(),
                        Value = m[""name""].ToString()
                    }).ToList();

The problem is that the json returned in the response variable has a list of names, all of them have an uppercase first letter apart from one so they all get ordered fine except the one with the lower case which gets stuck at the bottom of the SelectListItem list.

Any ideas? 

Thanks in advance..",linq,order-by,,,,,open,0,203,3,"Orderby and Linq How can i add orderby to this:

    return (from m in response[""holder""].Children()
                    orderby m[""name""]
                    select new SelectListItem
                    {
                        Text = m[""name""].ToString(),
                        Value = m[""name""].ToString()
                    }).ToList();

The problem is that the json returned in the response variable has a list of names, all of them have an uppercase first letter apart from one so they all get ordered fine except the one with the lower case which gets stuck at the bottom of the SelectListItem list.

Any ideas? 

Thanks in advance..",2
6193096,05/31/2011 20:20:08,774411,05/28/2011 14:51:01,57,1,Is that worth to learn LINQ for hobbyists?,"Is that worth to learn LINQ for hobbyists or the professionals (who are free from formal job requirement)? We can achieve the same thing that LINQ does via traditional language functionality such as loop, array, etc.

Why bother to duplicate the way to achieve the same objective?",linq,,,,,05/31/2011 21:42:47,off topic,1,46,8,"Is that worth to learn LINQ for hobbyists? Is that worth to learn LINQ for hobbyists or the professionals (who are free from formal job requirement)? We can achieve the same thing that LINQ does via traditional language functionality such as loop, array, etc.

Why bother to duplicate the way to achieve the same objective?",1
9257825,02/13/2012 09:03:42,675082,03/24/2011 14:35:21,686,7,In LINQ to perform composed queries is it faster to call existing functions or write the whole query?,"I need to perform queries in a ADO.NET model by using LINQ. 
I have an EF class for the database of my web store `WebStoreEntities` and I need to find all the products, in the table `Products`, that are currently under discount. The instance of `WebStoreEntities` is called `webStoreDB`.

I have already available a method that queries all the product from the database:

    public IList<Products> GetAllProducts()
    {
        return webStoreDB.Products.ToList();
    }

In order to write a method with signature `IList<Products> GetAllDiscountProducts()` that retrieves all the discounted products, is it faster to write:

    return webStoreDB.Products.Where(m => Equals(m.discounted, 1)).ToList();

or

    return GetAllProducts().Where(m => Equals(m.discounted, 1)).ToList();



 ",linq,entity-framework,ado.net,reusable-code,,,open,0,122,18,"In LINQ to perform composed queries is it faster to call existing functions or write the whole query? I need to perform queries in a ADO.NET model by using LINQ. 
I have an EF class for the database of my web store `WebStoreEntities` and I need to find all the products, in the table `Products`, that are currently under discount. The instance of `WebStoreEntities` is called `webStoreDB`.

I have already available a method that queries all the product from the database:

    public IList<Products> GetAllProducts()
    {
        return webStoreDB.Products.ToList();
    }

In order to write a method with signature `IList<Products> GetAllDiscountProducts()` that retrieves all the discounted products, is it faster to write:

    return webStoreDB.Products.Where(m => Equals(m.discounted, 1)).ToList();

or

    return GetAllProducts().Where(m => Equals(m.discounted, 1)).ToList();



 ",4
1428366,09/15/2009 16:54:37,161433,08/23/2009 01:01:43,400,21,Do you Guys use Linq on Enterprise Applications?,I have gone to an interview at toyota and was very surprised the interviewer asked me questions about Linq. I can't believe Linq is being used by these big corporations. Do you guys use linq where you work at?,linq,linq-to-entities,,,,09/15/2009 17:00:04,not constructive,1,39,8,Do you Guys use Linq on Enterprise Applications? I have gone to an interview at toyota and was very surprised the interviewer asked me questions about Linq. I can't believe Linq is being used by these big corporations. Do you guys use linq where you work at?,2
7656113,10/05/2011 02:31:09,37759,11/14/2008 18:52:57,1576,26,Linq InsertOnSubmit is throwing exception: Object reference not set to an instance of an object,"The following throws exception. 

The *course* object that is being passed to InsertOnSubmit is of type Course that is generated by Linq. 


     SchedulerDataContext db = new SchedulerDataContext();
     db.Courses.InsertOnSubmit(course);  // <- this is where exception is thrown
     db.SubmitChanges();

There are already questions about this [here][1] and [here][2], however, I don't understand their answer. Supposedly I'm not creating an object in time. Which object and what exactly needs to happen?

  [1]: http://stackoverflow.com/questions/499436/linq-insertonsubmit-nullreferenceexception
  [2]: http://stackoverflow.com/questions/2198072/nullreferenceexception-when-doing-insertonsubmit-in-linq-to-sql",linq,linq-to-sql,,,,,open,0,87,15,"Linq InsertOnSubmit is throwing exception: Object reference not set to an instance of an object The following throws exception. 

The *course* object that is being passed to InsertOnSubmit is of type Course that is generated by Linq. 


     SchedulerDataContext db = new SchedulerDataContext();
     db.Courses.InsertOnSubmit(course);  // <- this is where exception is thrown
     db.SubmitChanges();

There are already questions about this [here][1] and [here][2], however, I don't understand their answer. Supposedly I'm not creating an object in time. Which object and what exactly needs to happen?

  [1]: http://stackoverflow.com/questions/499436/linq-insertonsubmit-nullreferenceexception
  [2]: http://stackoverflow.com/questions/2198072/nullreferenceexception-when-doing-insertonsubmit-in-linq-to-sql",2
7160450,08/23/2011 11:40:21,118584,06/06/2009 16:11:16,1180,32,Linq query on ISet collection,"I have a Customer with a list of Contacts. This list is an ISet collection. I can't do a Linq wuery on it. Could you help me for this ?

Thanks,


    public class Customer
    {
    	public virtual Iesi.Collections.Generic.ISet<Contact> Contacts { get; set; }
    }
    
    Customer customer = session.Get(id);
    customer.Contacts = // Error - customer.Contacts.Where(x => x.Id != contactId);

",linq,nhibernate,,,,,open,0,79,5,"Linq query on ISet collection I have a Customer with a list of Contacts. This list is an ISet collection. I can't do a Linq wuery on it. Could you help me for this ?

Thanks,


    public class Customer
    {
    	public virtual Iesi.Collections.Generic.ISet<Contact> Contacts { get; set; }
    }
    
    Customer customer = session.Get(id);
    customer.Contacts = // Error - customer.Contacts.Where(x => x.Id != contactId);

",2
2591986,04/07/2010 11:30:35,310893,04/07/2010 11:30:35,1,0,LINQ and Storedprocedure,"The interview i faced was ""What is the difference between LINQ and Stored procedure?"".

I don't know whether it is a vague question or proper one. I answered 
*""In Linq there is a support for Closure so you can refer the value of outer parameter inside the anonymous body,you can't do the same with Stored procedure"".*

Just i am requesting you the proper answer.",linq,interview-questions,,,,,open,0,62,3,"LINQ and Storedprocedure The interview i faced was ""What is the difference between LINQ and Stored procedure?"".

I don't know whether it is a vague question or proper one. I answered 
*""In Linq there is a support for Closure so you can refer the value of outer parameter inside the anonymous body,you can't do the same with Stored procedure"".*

Just i am requesting you the proper answer.",2
3665031,09/08/2010 06:09:39,61639,02/02/2009 19:03:45,1631,74,Does LINQ skip & take have decent performance?,"We have a query for about 40 data fields related to customers.  The query will often return a large amount of records, say up to 20,000.  We only want to use say around the first 500 results.  Then, we just want to be able to page through them 10 at a time.

Is LINQ skip and take a reasonable approach for this?  Are there any potentnialy performance issues with using this approach vs doing it manually some other way?",linq,sql-server-2008,ado.net,skip-take,,,open,0,82,8,"Does LINQ skip & take have decent performance? We have a query for about 40 data fields related to customers.  The query will often return a large amount of records, say up to 20,000.  We only want to use say around the first 500 results.  Then, we just want to be able to page through them 10 at a time.

Is LINQ skip and take a reasonable approach for this?  Are there any potentnialy performance issues with using this approach vs doing it manually some other way?",4
10360614,04/28/2012 04:34:01,1210824,02/15/2012 08:44:24,13,2,"convert SQL to LINQ group by min, count","How convert SQL to LINQ
     
    SELECT 
              [good_id]
              ,MIN([good_price]) as minPrice
              ,Count([distributor_id]) as distrCount
          FROM [Provizor].[dbo].[PRICES] where region_id=22
          GROUP BY [good_id]
          ORDER BY distrCount desc 

How to do this in LINQ grouping",linq,,,,,04/30/2012 15:31:50,off topic,1,106,8,"convert SQL to LINQ group by min, count How convert SQL to LINQ
     
    SELECT 
              [good_id]
              ,MIN([good_price]) as minPrice
              ,Count([distributor_id]) as distrCount
          FROM [Provizor].[dbo].[PRICES] where region_id=22
          GROUP BY [good_id]
          ORDER BY distrCount desc 

How to do this in LINQ grouping",1
7833133,10/20/2011 08:33:54,621334,02/17/2011 12:00:44,482,59,LinqPad adds an S to the end of every table,"I have just downloaded LinqPad to explore the benefits of using Linq queries in an application I am working on, however when I look at my database tables in the column on the left LinqPad displays all my tables with an 's' on the end, for instance CategoryTbl becomes CategoryTbls yet when I view my database in SQL management studio the table names appear correct.

Though any tables that should have an S on the end ie clients remain unchanged.

When I execute a Linq query I have to execute it against CategoryTbls but a SQL query has to be executed against CategoryTbl.

I was just wondering why this has happened, is it a bug or a feature? and if it is a feature why?

Thanks",linq,linq-to-sql,linqpad,,,,open,0,122,10,"LinqPad adds an S to the end of every table I have just downloaded LinqPad to explore the benefits of using Linq queries in an application I am working on, however when I look at my database tables in the column on the left LinqPad displays all my tables with an 's' on the end, for instance CategoryTbl becomes CategoryTbls yet when I view my database in SQL management studio the table names appear correct.

Though any tables that should have an S on the end ie clients remain unchanged.

When I execute a Linq query I have to execute it against CategoryTbls but a SQL query has to be executed against CategoryTbl.

I was just wondering why this has happened, is it a bug or a feature? and if it is a feature why?

Thanks",3
2585224,04/06/2010 13:43:02,292473,03/12/2010 16:12:43,47,3,Problem with order by in LINQ ,"I'm passing from the controller an array generated by the next code:

    public ActionResult GetClasses(bool ajax, string kingdom)
            {
                int _kingdom = _taxon.getKingdom(kingdom);
    
                var query = (from c in vwAnimalsTaxon.All()
                             orderby c.ClaName
                             select new { taxRecID = c.ClaRecID, taxName = c.ClaName }).Distinct();
    
                return Json(query, JsonRequestBehavior.AllowGet);
            }
The query List should be ordered, but it doesn't work, I get the names of the classes ordered wrong in the array, because I've seen it debugging that the names are not ordered.The view is just a dropdownbox loaded automatically, so I'm almost sure the problem is with the action. Do you see anything wrong?Am I missing something?
",linq,c#,asp.net,asp.net-mvc,,,open,0,237,7,"Problem with order by in LINQ  I'm passing from the controller an array generated by the next code:

    public ActionResult GetClasses(bool ajax, string kingdom)
            {
                int _kingdom = _taxon.getKingdom(kingdom);
    
                var query = (from c in vwAnimalsTaxon.All()
                             orderby c.ClaName
                             select new { taxRecID = c.ClaRecID, taxName = c.ClaName }).Distinct();
    
                return Json(query, JsonRequestBehavior.AllowGet);
            }
The query List should be ordered, but it doesn't work, I get the names of the classes ordered wrong in the array, because I've seen it debugging that the names are not ordered.The view is just a dropdownbox loaded automatically, so I'm almost sure the problem is with the action. Do you see anything wrong?Am I missing something?
",4
10015294,04/04/2012 16:23:17,1313269,04/04/2012 15:42:20,1,0,How to get another function's returned value in LINQ IEnumerable.Where,"How to give another function's returned value in LINQ Ienumerable.

MY actual need is as follows.
I have a IEnumerable of objects(Say ObjColl). From that object collection, I have to filter the objects based on the return value of another function(say GetObjPropertyValue). My final output should be Dictionary of(object and its propertyValue). This dictionary shouldnt have the objects for which propertyvalue is nothing.

GetObjPropertyValue function takes Object as input and return its property as string. But some times it returns nothing if that property not exist on Obj.

My query is something like,

Dictionary(obj, string)=ObjColl.Where(Function(p) not GetObjPropertyValue(p) is nothing)

but in above query I should write code to store the return value of GetObjPropertyValue(p) and add obj-p and returnValue combination to the dictionary. How to write that??



For Example See below code:

'Last line of below code is wrong. but please suggest me how to correct it. My intention is, I want output collection(say dictionary) of each fruitname and its color(returned by other function call) for all the fruits which the GetFruitColor is not nothing(it can be empty or valid string).



[code]
Private function GetFruitColor(fruit) as string
      'It returns fruit color. 
      'If valid fruit and color not available, it returns """"(empty string)
      'If fruit is not valid Fruit, it returns nothing.
End function

private sub MyMethod()
 ' Create a list of strings.
        Dim fruits As New List(Of String)(New String() _
                                {""apple"", ""passionfruit"", ""banana"", ""mango"", _
                                 ""orange"", ""blueberry"", ""grape"", ""strawberry""})


        Dim query = _
            fruits.Where(Function(fruit) k= GetFruitColor(fruit) if not k is nothing select fruit, k)


End Sub

In above code last line(query) is wrong. how to put getFruitColor in k, how to correct it to save the k value and give me output as dictionary of fruit and k value.",linq,,,,,,open,0,379,10,"How to get another function's returned value in LINQ IEnumerable.Where How to give another function's returned value in LINQ Ienumerable.

MY actual need is as follows.
I have a IEnumerable of objects(Say ObjColl). From that object collection, I have to filter the objects based on the return value of another function(say GetObjPropertyValue). My final output should be Dictionary of(object and its propertyValue). This dictionary shouldnt have the objects for which propertyvalue is nothing.

GetObjPropertyValue function takes Object as input and return its property as string. But some times it returns nothing if that property not exist on Obj.

My query is something like,

Dictionary(obj, string)=ObjColl.Where(Function(p) not GetObjPropertyValue(p) is nothing)

but in above query I should write code to store the return value of GetObjPropertyValue(p) and add obj-p and returnValue combination to the dictionary. How to write that??



For Example See below code:

'Last line of below code is wrong. but please suggest me how to correct it. My intention is, I want output collection(say dictionary) of each fruitname and its color(returned by other function call) for all the fruits which the GetFruitColor is not nothing(it can be empty or valid string).



[code]
Private function GetFruitColor(fruit) as string
      'It returns fruit color. 
      'If valid fruit and color not available, it returns """"(empty string)
      'If fruit is not valid Fruit, it returns nothing.
End function

private sub MyMethod()
 ' Create a list of strings.
        Dim fruits As New List(Of String)(New String() _
                                {""apple"", ""passionfruit"", ""banana"", ""mango"", _
                                 ""orange"", ""blueberry"", ""grape"", ""strawberry""})


        Dim query = _
            fruits.Where(Function(fruit) k= GetFruitColor(fruit) if not k is nothing select fruit, k)


End Sub

In above code last line(query) is wrong. how to put getFruitColor in k, how to correct it to save the k value and give me output as dictionary of fruit and k value.",1
688658,03/27/2009 05:31:00,71263,02/26/2009 07:14:46,1,0,LINQ to SQL Classes,"Is it better to have one fat data context class with all the tables in it or break them into smaller classes and potentially having ""single table"" classes?

From organizational standpoint I feel like I shouldn't split relations over several data contexts (I don't even think it's doable). But on the other hand I think that creating a whole new instance of that fat class just to query a single, unrelated table is an overkill.

What do you think? ",linq,c#,sql,,,,open,0,78,4,"LINQ to SQL Classes Is it better to have one fat data context class with all the tables in it or break them into smaller classes and potentially having ""single table"" classes?

From organizational standpoint I feel like I shouldn't split relations over several data contexts (I don't even think it's doable). But on the other hand I think that creating a whole new instance of that fat class just to query a single, unrelated table is an overkill.

What do you think? ",3
7813896,10/18/2011 21:20:10,996431,10/15/2011 02:40:34,6,0,Check for key word through Linq in List,"I have a List through which I need to check if an item of the list (DescVal) contains and * and if so, return a false. I guess I can even have it return the records that have an * and then do a count and if the count is 0 then I know it was false but if it can return false to begin with, that would be great.

Thank you in advance. ",linq,list,count,,,,open,0,74,8,"Check for key word through Linq in List I have a List through which I need to check if an item of the list (DescVal) contains and * and if so, return a false. I guess I can even have it return the records that have an * and then do a count and if the count is 0 then I know it was false but if it can return false to begin with, that would be great.

Thank you in advance. ",3
1098825,07/08/2009 15:28:26,3193,08/27/2008 12:43:55,1774,72,"LINQ query question, needs joins","*Not entirely sure of a good title for this, feel free to edit it to a good one*

I have an images object, which contains a list of organs which it is related to.

I want to query a list of images and find which ones have *all* of the organs in a list of organs.

Here is the method signature

    public static IEnumerable<Image> WithOrgans(this IEnumerable<Image> qry, IEnumerable<Organ> organs)

Not really sure how to construct the linq for this, would appreciate some ideas, I haven't done linq in a while so am quite rusty!",linq,c#,,,,,open,0,93,5,"LINQ query question, needs joins *Not entirely sure of a good title for this, feel free to edit it to a good one*

I have an images object, which contains a list of organs which it is related to.

I want to query a list of images and find which ones have *all* of the organs in a list of organs.

Here is the method signature

    public static IEnumerable<Image> WithOrgans(this IEnumerable<Image> qry, IEnumerable<Organ> organs)

Not really sure how to construct the linq for this, would appreciate some ideas, I haven't done linq in a while so am quite rusty!",2
5501557,03/31/2011 14:35:58,685922,03/31/2011 14:29:06,1,0,select sum columns from diffrent table using linq,"Here is my linq code..

 ( from Order o in masterRepository.Orders.Where(x => x.IsDeleted == false)
                join OrderItem oi in masterRepository.OrderItems on o.OrderID equals oi.OrderID
                group oi by new {o.StoreID, o.CreatedOn.Year, o.CreatedOn.Month, StoreNmae=""Test"" } into g
                        select new ST_SalesOrder
                       {
                         Year = g.Key.Year,
                         Month = g.Key.Month,
                         StoreID = g.Key.StoreID,
                         StoreName = ""SA"",
                         SubTotal = g.Sum(o => o.SubTotal),
                         Shipping = g.Sum(o => o.ShippingPrice),
                         Tax = g.Sum(o => o.Tax),
                         TotalAmount = g.Sum(o => o.Total),
                         TotalCount = g.Sum(oi => oi.Quantity)
                         }).OrderBy(""Year desc, Month desc, StoreName"").ToList();



The thing is that..
I need to get sum data from Order table and OrderItem table.
but I can only group by using one table.

If I group o by.... then TotalCount = g.Sum(oi => oi.Quantity) <-- this makes error,
if I group oi by... then  SubTotal = g.Sum(o => o.SubTotal),
                         Shipping = g.Sum(o => o.ShippingPrice),
                         Tax = g.Sum(o => o.Tax),   <-- these make error...


what should I do!!!
please help.",linq,group-by,sum,,,,open,0,511,8,"select sum columns from diffrent table using linq Here is my linq code..

 ( from Order o in masterRepository.Orders.Where(x => x.IsDeleted == false)
                join OrderItem oi in masterRepository.OrderItems on o.OrderID equals oi.OrderID
                group oi by new {o.StoreID, o.CreatedOn.Year, o.CreatedOn.Month, StoreNmae=""Test"" } into g
                        select new ST_SalesOrder
                       {
                         Year = g.Key.Year,
                         Month = g.Key.Month,
                         StoreID = g.Key.StoreID,
                         StoreName = ""SA"",
                         SubTotal = g.Sum(o => o.SubTotal),
                         Shipping = g.Sum(o => o.ShippingPrice),
                         Tax = g.Sum(o => o.Tax),
                         TotalAmount = g.Sum(o => o.Total),
                         TotalCount = g.Sum(oi => oi.Quantity)
                         }).OrderBy(""Year desc, Month desc, StoreName"").ToList();



The thing is that..
I need to get sum data from Order table and OrderItem table.
but I can only group by using one table.

If I group o by.... then TotalCount = g.Sum(oi => oi.Quantity) <-- this makes error,
if I group oi by... then  SubTotal = g.Sum(o => o.SubTotal),
                         Shipping = g.Sum(o => o.ShippingPrice),
                         Tax = g.Sum(o => o.Tax),   <-- these make error...


what should I do!!!
please help.",3
11310868,07/03/2012 12:25:01,1498441,07/03/2012 10:13:48,1,0,My application is about asp.net using Linq and remote mssql. My connection is between connecting and closed,"My application is about asp.net using Linq and remote mssql. My connection string is stored in web.config and i'm using the credential I've got from Binero webhost.

Here is my Linq


    public LinqDataContextDataContext() : base(global::System.Configuration.ConfigurationManager.ConnectionStrings[""MyConnectionString""].ConnectionString, mappingSource)
        	 {
        		OnCreated();
        	 }
        	
        	 public LinqDataContextDataContext(string connection) : 
        			base(connection, mappingSource)
        	{
        		OnCreated();
        	}


I'm using vs2010 from my home and the database is on Beniro.

The error i'm getting is:



",linq,,,,,07/04/2012 12:58:49,not a real question,1,133,17,"My application is about asp.net using Linq and remote mssql. My connection is between connecting and closed My application is about asp.net using Linq and remote mssql. My connection string is stored in web.config and i'm using the credential I've got from Binero webhost.

Here is my Linq


    public LinqDataContextDataContext() : base(global::System.Configuration.ConfigurationManager.ConnectionStrings[""MyConnectionString""].ConnectionString, mappingSource)
        	 {
        		OnCreated();
        	 }
        	
        	 public LinqDataContextDataContext(string connection) : 
        			base(connection, mappingSource)
        	{
        		OnCreated();
        	}


I'm using vs2010 from my home and the database is on Beniro.

The error i'm getting is:



",1
7392893,09/12/2011 19:25:09,923780,09/01/2011 15:49:01,3,0,Linq - Referencing a Child Table,"I have a few tables I'm dealing with regarding a ""Goals"" application (screen grab is below). I'm using MVC 3, razor and linq.

I am using a model, goalsModel, to retrieve my data:

`    public goals GetGoal(int id)
    {
    return qDB.goals.Single(g => g.goalID == id);
    }
`

I'd like Activities to be available as well... where I could do something like:

`    public goals GetGoalActivities(int id)
    {
    return qDB.ilpActivities.Where(g => g.goalID == id);
    }`

However this returns an error. The smart tags for don't show any columns available for ilpActivities. I've seen several methods of writing code in the controller where it's a linq query - but I'd really like to use the format above if possible for consistency.

Here's a link that I've been trying to follow that may do what I want. Keep in mind, however, I'll eventually be editing existing activities, creating new ones, and deleting activities. The link: http://geekswithblogs.net/michelotti/archive/2007/12/30/118076.aspx

[Edit]
I couldn't post an image as a new user. My tables consist of goalID as the primary key of goals and foreign key in ilpActivities. ilpActivities has a primary key of activityID.
",linq,asp.net-mvc-3,razor,,,,open,0,201,6,"Linq - Referencing a Child Table I have a few tables I'm dealing with regarding a ""Goals"" application (screen grab is below). I'm using MVC 3, razor and linq.

I am using a model, goalsModel, to retrieve my data:

`    public goals GetGoal(int id)
    {
    return qDB.goals.Single(g => g.goalID == id);
    }
`

I'd like Activities to be available as well... where I could do something like:

`    public goals GetGoalActivities(int id)
    {
    return qDB.ilpActivities.Where(g => g.goalID == id);
    }`

However this returns an error. The smart tags for don't show any columns available for ilpActivities. I've seen several methods of writing code in the controller where it's a linq query - but I'd really like to use the format above if possible for consistency.

Here's a link that I've been trying to follow that may do what I want. Keep in mind, however, I'll eventually be editing existing activities, creating new ones, and deleting activities. The link: http://geekswithblogs.net/michelotti/archive/2007/12/30/118076.aspx

[Edit]
I couldn't post an image as a new user. My tables consist of goalID as the primary key of goals and foreign key in ilpActivities. ilpActivities has a primary key of activityID.
",3
8924176,01/19/2012 10:06:13,1158159,01/19/2012 09:56:48,1,0,What the Link Query?,"**SQL QUERY:**

string sql_query = SELECT HOST, PAIS, SUM_HITS, SUM_VISITAS, SUM_LARGURA_BANDA
FROM(SELECT HOST, PAIS, SUM(HITS) AS 'SUM_HITS', SUM(VISITAS) AS 'SUM_VISITAS', SUM(LARGURA_BANDA) AS 'SUM_LARGURA_BANDA'
FROM MAIORES_HOST
WHERE DATE(data_file_log) BETWEEN '2007-07-01' AND '2007-09-06' AND ENTIDADE='Conjunto de Logs' GROUP BY HOST) SUB_QUERY ORDER BY SUM_VISITAS DESC LIMIT 51;

In C#, I have:
List<Maior_Hosts> maiores_hosts = new List<Maior_Hosts>();

/*......With elements.....*/

What the Link Query?
Thanks
",linq,,,,,01/19/2012 12:15:25,not a real question,1,52,4,"What the Link Query? **SQL QUERY:**

string sql_query = SELECT HOST, PAIS, SUM_HITS, SUM_VISITAS, SUM_LARGURA_BANDA
FROM(SELECT HOST, PAIS, SUM(HITS) AS 'SUM_HITS', SUM(VISITAS) AS 'SUM_VISITAS', SUM(LARGURA_BANDA) AS 'SUM_LARGURA_BANDA'
FROM MAIORES_HOST
WHERE DATE(data_file_log) BETWEEN '2007-07-01' AND '2007-09-06' AND ENTIDADE='Conjunto de Logs' GROUP BY HOST) SUB_QUERY ORDER BY SUM_VISITAS DESC LIMIT 51;

In C#, I have:
List<Maior_Hosts> maiores_hosts = new List<Maior_Hosts>();

/*......With elements.....*/

What the Link Query?
Thanks
",1
1707531,11/10/2009 12:15:47,123917,06/16/2009 20:29:29,300,6,Get max + min in one line with linq,"How can I change this method so it also returns Max(t.StartTime) and Min(t.StartTime) with only using it in one line as below?

     public IQueryable<Timetable> GetTimetables()
        {
            return from t in _entities.Timetables
                   select t;
        }

/M",linq,entity-framework,,,,,open,0,81,9,"Get max + min in one line with linq How can I change this method so it also returns Max(t.StartTime) and Min(t.StartTime) with only using it in one line as below?

     public IQueryable<Timetable> GetTimetables()
        {
            return from t in _entities.Timetables
                   select t;
        }

/M",2
4564582,12/30/2010 17:03:00,558505,12/30/2010 17:03:00,1,0,C# & LINQ; Grouping files into 5MB Groups,"Greetings, I'm trying to write a Linq query to run on a list of filenames which returns a list of files Grouped into 5MB chunks. So each group will contain a list of filenames whose total/summed MB is 5MB maximum.

I'm okay with Linq but this one I don't know where to begin. Help

DirectoryInfo di = new DirectoryInfo (@""x:\logs"");
List<string> FileList = di.GetFiles (""*.xml"")
var Grouped = FileList => ",linq,,,,,,open,0,67,8,"C# & LINQ; Grouping files into 5MB Groups Greetings, I'm trying to write a Linq query to run on a list of filenames which returns a list of files Grouped into 5MB chunks. So each group will contain a list of filenames whose total/summed MB is 5MB maximum.

I'm okay with Linq but this one I don't know where to begin. Help

DirectoryInfo di = new DirectoryInfo (@""x:\logs"");
List<string> FileList = di.GetFiles (""*.xml"")
var Grouped = FileList => ",1
2287528,02/18/2010 09:32:10,76439,03/11/2009 01:16:11,1359,102,Linq Query Puzzle,"If I have an object with a parent child relationship with Id and ParentId representing the unique Id of the record and the Parent Id of the record.

I need a query that will query a list of objects and return the path to the root of the relationship for each item (i.e. Path = (AllTheParentNames)\ Name ).

Any help with this would be appreciated.

MyObject
--------
int Id  
int? ParentId  
string Name  
string Path  ",linq,c#,,,,,open,0,75,3,"Linq Query Puzzle If I have an object with a parent child relationship with Id and ParentId representing the unique Id of the record and the Parent Id of the record.

I need a query that will query a list of objects and return the path to the root of the relationship for each item (i.e. Path = (AllTheParentNames)\ Name ).

Any help with this would be appreciated.

MyObject
--------
int Id  
int? ParentId  
string Name  
string Path  ",2
8299557,11/28/2011 17:10:26,1069808,11/28/2011 17:07:22,1,0,Unable to create a constant value of type,"**Unable to create a constant value of type 'Cllr.Domain.Business.Wort'.
Only primitive types ('such as Int32, String, and Guid') are supported in this context.**

I'm having this bug on my code...i dont want to paste the code here cause it's a lot of code...and i myself cannot say where exactly the fault is.

so if any one here has this bug or can say what might cause this bug...i will be glad to read your line",linq,entity-framework,linq-to-sql,linq-to-objects,,11/28/2011 23:42:10,not a real question,1,72,8,"Unable to create a constant value of type **Unable to create a constant value of type 'Cllr.Domain.Business.Wort'.
Only primitive types ('such as Int32, String, and Guid') are supported in this context.**

I'm having this bug on my code...i dont want to paste the code here cause it's a lot of code...and i myself cannot say where exactly the fault is.

so if any one here has this bug or can say what might cause this bug...i will be glad to read your line",4
555047,02/16/2009 23:38:07,6268,09/13/2008 13:05:17,82,10,How do I do this SELECT statement with LINQ?,"
Apologies if this has been asked already, but I couldnt find it.

How do I get 'anotherColumnName' in LINQ?

    SELECT thisColumnName as anotherColumnName FROM TableName

I have the following which obviously gives me 'thisColumnName' not 'anotherColumnName'

        var query = from names in _context.TableName
                    select names;
        return query.ToList();",linq,,,,,,open,0,81,9,"How do I do this SELECT statement with LINQ? 
Apologies if this has been asked already, but I couldnt find it.

How do I get 'anotherColumnName' in LINQ?

    SELECT thisColumnName as anotherColumnName FROM TableName

I have the following which obviously gives me 'thisColumnName' not 'anotherColumnName'

        var query = from names in _context.TableName
                    select names;
        return query.ToList();",1
10584222,05/14/2012 13:25:05,1393575,05/14/2012 11:09:30,1,0,Generic LINQ extension for calculating weighted average in Visual Basic 2010,"I wrote the following generic LINQ extension for calculating weighted average in Visual Basic 2010:

    <Extension()>
    Function WeightedAverage(Of T)(ByVal source As IEnumerable(Of T),
                  ByVal selectorValue As Func(Of T, Integer),
                  ByVal selectorWeight As Func(Of T, Integer)) As Double
      Dim weightedValueSum As Double
      Dim weightSum As Integer

      weightedValueSum = (From element In source
                          Select (selectorValue(element) * selectorWeight(element))).Sum()
      weightSum = (From element In source
                   Select selectorWeight(element)).Sum()
      If weightSum <> 0 Then
          Return weightedValueSum / weightSum
      Else
          Return 0
      End If
    End Function

How can I call this function as an Aggregate function of another LINQ query?

I tried it in the following way:
    Dim q1 = From jd In oContext.JobDatas
             Where jd.Year = 2011
             Select jd
    Dim q2 = Aggregate num In q1 Into WeightedAverage(num.AvSalary, num.NumPosHolder)

The Visual Basic 2010 editor is telling me that the second query (q2) of the following code is not valid statement. On the comma between the first an second argument it's saying: "")"" required. What's wrong?
",linq,extension,vb.net-2010,,,,open,0,325,11,"Generic LINQ extension for calculating weighted average in Visual Basic 2010 I wrote the following generic LINQ extension for calculating weighted average in Visual Basic 2010:

    <Extension()>
    Function WeightedAverage(Of T)(ByVal source As IEnumerable(Of T),
                  ByVal selectorValue As Func(Of T, Integer),
                  ByVal selectorWeight As Func(Of T, Integer)) As Double
      Dim weightedValueSum As Double
      Dim weightSum As Integer

      weightedValueSum = (From element In source
                          Select (selectorValue(element) * selectorWeight(element))).Sum()
      weightSum = (From element In source
                   Select selectorWeight(element)).Sum()
      If weightSum <> 0 Then
          Return weightedValueSum / weightSum
      Else
          Return 0
      End If
    End Function

How can I call this function as an Aggregate function of another LINQ query?

I tried it in the following way:
    Dim q1 = From jd In oContext.JobDatas
             Where jd.Year = 2011
             Select jd
    Dim q2 = Aggregate num In q1 Into WeightedAverage(num.AvSalary, num.NumPosHolder)

The Visual Basic 2010 editor is telling me that the second query (q2) of the following code is not valid statement. On the comma between the first an second argument it's saying: "")"" required. What's wrong?
",3
1654745,10/31/2009 15:43:10,111435,05/23/2009 07:11:31,122,3,dynamic linq Like,"How to write a dynamic linq method for `Like` clause. 

For.: the reference for Dynamic linq orderby is http://stackoverflow.com/questions/41244/dynamic-linq-orderby.

I am looking for a similar one for dynamic `Like` clause.",linq,dynamic,like,,,,open,0,29,3,"dynamic linq Like How to write a dynamic linq method for `Like` clause. 

For.: the reference for Dynamic linq orderby is http://stackoverflow.com/questions/41244/dynamic-linq-orderby.

I am looking for a similar one for dynamic `Like` clause.",3
5047000,02/18/2011 21:54:50,143273,07/22/2009 23:02:38,591,11,Inject property into existing List with LINQ,"I have a Generic List of objects.  Those objects have 4 properties.  3 are set by LINQ earlier in the app.  Is it possible to insert the 4th property into the existing List using LINQ to SQL without looping through each object in the List?

***EDIT***  
For reference sake, one of the first properties is an ID on the record, so I will know with each object in the List what the 4th property should be in the database, but I was hoping to do it without a For Loop as the List might be rather huge.",linq,linq-to-sql,,,,02/18/2011 22:15:28,too localized,1,100,7,"Inject property into existing List with LINQ I have a Generic List of objects.  Those objects have 4 properties.  3 are set by LINQ earlier in the app.  Is it possible to insert the 4th property into the existing List using LINQ to SQL without looping through each object in the List?

***EDIT***  
For reference sake, one of the first properties is an ID on the record, so I will know with each object in the List what the 4th property should be in the database, but I was hoping to do it without a For Loop as the List might be rather huge.",2
4617888,01/06/2011 17:40:16,194881,10/22/2009 20:17:59,862,103,the ForEach Extension Method on the List - how to get the object?,"So I have something like this:

        List<Entity2> list = new List<Entity2>();
        Action<Entity2> adder= (z) =>retVal.Add(z);
        Func<Entity1, Entity2> getter = (x) =>repository2.GetSingle(f=>f.ID == x.Entity2ID);
       
        repository1.Get(q=>q.UserName).Foreach(adder(getter(???))); //Need to pass Entity1 to the delegate in here

Entity1 Has a reference field called Entity2ID, but there is no explicit relationship set in the linq for certain reasons.

SO the idea is to locate entity2 for every entity1 using the getter delegate since they have no explicit relationship and just add the matching entity2 to the list using the ForEach extension on the collection of entities1.

My question is how to I get a hold of the object I am performing the ForEach on?

",linq,linq-to-sql,lambda,,,,open,0,141,13,"the ForEach Extension Method on the List - how to get the object? So I have something like this:

        List<Entity2> list = new List<Entity2>();
        Action<Entity2> adder= (z) =>retVal.Add(z);
        Func<Entity1, Entity2> getter = (x) =>repository2.GetSingle(f=>f.ID == x.Entity2ID);
       
        repository1.Get(q=>q.UserName).Foreach(adder(getter(???))); //Need to pass Entity1 to the delegate in here

Entity1 Has a reference field called Entity2ID, but there is no explicit relationship set in the linq for certain reasons.

SO the idea is to locate entity2 for every entity1 using the getter delegate since they have no explicit relationship and just add the matching entity2 to the list using the ForEach extension on the collection of entities1.

My question is how to I get a hold of the object I am performing the ForEach on?

",3
214500,10/18/2008 03:36:49,16340,09/17/2008 16:21:05,178,16,Which LINQ syntax do you prefer? Fluent or Query Expression,"LINQ is one of the greatest improvements to .NET since generics and it saves me tons of time, and lines of code.  However, the fluent syntax seems to come much more natural to me than the query expression syntax.

![LINQ Syntax Choice][1]

Which do you prefer and if you write standards for your company, do you enforce one over the other?

  [1]: http://jvance.com/media/2008/10/18/LinqSyntax16.media",linq,c#,polls,,,01/27/2012 21:39:11,not constructive,1,63,10,"Which LINQ syntax do you prefer? Fluent or Query Expression LINQ is one of the greatest improvements to .NET since generics and it saves me tons of time, and lines of code.  However, the fluent syntax seems to come much more natural to me than the query expression syntax.

![LINQ Syntax Choice][1]

Which do you prefer and if you write standards for your company, do you enforce one over the other?

  [1]: http://jvance.com/media/2008/10/18/LinqSyntax16.media",3
5434942,03/25/2011 15:59:45,78289,03/15/2009 15:04:49,261,4,How to use GroupBy properly in LINQ?,"Let say I have the following table with sample data

    Post
    
    ID		Title
    
    1		 Test 1
    2		 Test 2
    
    Category
    
    ID		Name
    
    1		 Tips
    2		 Tricks
    
    Relation
    
    ID	    Child	 Parent
    
    1		   1		1
    2		   1		2
    3		   2		1
    4		   2		2

and a query

    from p in Post
    	join r in Relation on p.ID equals r.Child
    	join t in Term on r.Parent equals t.ID
    let x = new { p.ID, p.Title, t.Name }
    group x by p.ID into g
    select g

I got the expected result but the generated SQL in LINQPad contains a lot of `SELECT...FROM...GO` and I think it'll slow down the query a lot. Is there anyway to improve it?

Any helps would be appreciated.

 ",linq,linq-to-entities,group-by,,,,open,0,214,7,"How to use GroupBy properly in LINQ? Let say I have the following table with sample data

    Post
    
    ID		Title
    
    1		 Test 1
    2		 Test 2
    
    Category
    
    ID		Name
    
    1		 Tips
    2		 Tricks
    
    Relation
    
    ID	    Child	 Parent
    
    1		   1		1
    2		   1		2
    3		   2		1
    4		   2		2

and a query

    from p in Post
    	join r in Relation on p.ID equals r.Child
    	join t in Term on r.Parent equals t.ID
    let x = new { p.ID, p.Title, t.Name }
    group x by p.ID into g
    select g

I got the expected result but the generated SQL in LINQPad contains a lot of `SELECT...FROM...GO` and I think it'll slow down the query a lot. Is there anyway to improve it?

Any helps would be appreciated.

 ",3
1530306,10/07/2009 08:37:12,66112,02/13/2009 15:26:03,386,22,XML Literal with Linq statement,"I am going to be performing an XSLT transformation, transforming XML to an HTML table (it's tabular data, so thats why i'm not using div's ;) ).  

Anyway, i need to repeat one part of the xslt for the size of one of my collections.
Here's a snippet of the code... (top part of

        Dim styleSheet = <?xml version=""1.0"" encoding=""utf-8""?>
                             <xsl:stylesheet version=""1.0""
                               xmlns:xsl=""http://www.w3.org/1999/XSL/Transform""
                               xmlns:msxsl=""urn:schemas-microsoft-com:xslt""
                               xmlns:rh=""ReportHub""
                               exclude-result-prefixes=""msxsl"">
        
                               <xsl:output method=""html"" indent=""yes""/>
                               <xsl:template match=""rh:Report/rh:Tablix1/rh:Details_Collection"">
                             <xsl:variable name=""alternating-row"" select=""position() mod 2""/>
                             <table class=<%= dataFormatter.formattingTableClass %>>
                               <xsl:choose>
                                 <xsl:when test=""count(rh:Details)=0"">
                                   <tr>
                                     <td>There are no items listed for this client</td>
                                   </tr>
                                 </xsl:when>
                                 <xsl:otherwise>
                                      <xsl:for-each select=""rh:Details"">
                                         <tr class=<%= dataFormatter.formattingTRClass %>>
                                           <xsl:variable name=""mainrow-position"" select=""position()""/>
                                           <xsl:for-each select=""@*"">
                                             <%= From x In dataFormatter.dataColumnSettings _
                                               Select <xsl:if test=""name() != 'colName'"">
                                                        <xsl:choose>
                                                          <xsl:when test=""$mainrow-position=1"">
                                                            <th>
                                                              <xsl:value-of select=""name()""/>
                                                            </th>
                                                          </xsl:when>
                                                          <xsl:otherwise>
                                                            <td>
                                                              <xsl:value-of select="".""/>
                                                            </td>
                                                          </xsl:otherwise>
                                                        </xsl:choose>
                                                      </xsl:if> %>
                                           </xsl:for-each>
                                         </tr>
                                       </xsl:for-each>
     </xsl:otherwise>
                               </xsl:choose>
                             </table>
                           </xsl:template>
                         </xsl:stylesheet>

the problem i'm getting is that because the xml inside the linq query references the xsl namespace i get;

Error	9	XML namespace prefix 'xsl' is not defined.

Anyone got any clever ideas?


* The inner workings of the xml inside the linq query isn't finished, so don't worry about what that looks like.

",linq,xml-literals,xslt,vb.net,,,open,0,1931,5,"XML Literal with Linq statement I am going to be performing an XSLT transformation, transforming XML to an HTML table (it's tabular data, so thats why i'm not using div's ;) ).  

Anyway, i need to repeat one part of the xslt for the size of one of my collections.
Here's a snippet of the code... (top part of

        Dim styleSheet = <?xml version=""1.0"" encoding=""utf-8""?>
                             <xsl:stylesheet version=""1.0""
                               xmlns:xsl=""http://www.w3.org/1999/XSL/Transform""
                               xmlns:msxsl=""urn:schemas-microsoft-com:xslt""
                               xmlns:rh=""ReportHub""
                               exclude-result-prefixes=""msxsl"">
        
                               <xsl:output method=""html"" indent=""yes""/>
                               <xsl:template match=""rh:Report/rh:Tablix1/rh:Details_Collection"">
                             <xsl:variable name=""alternating-row"" select=""position() mod 2""/>
                             <table class=<%= dataFormatter.formattingTableClass %>>
                               <xsl:choose>
                                 <xsl:when test=""count(rh:Details)=0"">
                                   <tr>
                                     <td>There are no items listed for this client</td>
                                   </tr>
                                 </xsl:when>
                                 <xsl:otherwise>
                                      <xsl:for-each select=""rh:Details"">
                                         <tr class=<%= dataFormatter.formattingTRClass %>>
                                           <xsl:variable name=""mainrow-position"" select=""position()""/>
                                           <xsl:for-each select=""@*"">
                                             <%= From x In dataFormatter.dataColumnSettings _
                                               Select <xsl:if test=""name() != 'colName'"">
                                                        <xsl:choose>
                                                          <xsl:when test=""$mainrow-position=1"">
                                                            <th>
                                                              <xsl:value-of select=""name()""/>
                                                            </th>
                                                          </xsl:when>
                                                          <xsl:otherwise>
                                                            <td>
                                                              <xsl:value-of select="".""/>
                                                            </td>
                                                          </xsl:otherwise>
                                                        </xsl:choose>
                                                      </xsl:if> %>
                                           </xsl:for-each>
                                         </tr>
                                       </xsl:for-each>
     </xsl:otherwise>
                               </xsl:choose>
                             </table>
                           </xsl:template>
                         </xsl:stylesheet>

the problem i'm getting is that because the xml inside the linq query references the xsl namespace i get;

Error	9	XML namespace prefix 'xsl' is not defined.

Anyone got any clever ideas?


* The inner workings of the xml inside the linq query isn't finished, so don't worry about what that looks like.

",4
1544006,10/09/2009 14:07:41,66101,02/13/2009 14:50:31,75,5,Can multiple compiled linq queries be chained together?,"I am trying to chain multiple compiled linq queries together.  I have succeeded in chaining two queries together, but I cannot get a chain of three to work correctly.  So here is a reduction of my code to recreate the issue.  My two questions are: 'Why isn't this working?' and 'Is there a better way to keep the performance benefit of compiled queries and also avoid duplication of base query logic that is commonly used?'

Define the following two queries:

    Func<DataContext, IQueryable<User>> selectUsers = CompiledQuery.Compile((DataContext dc)=>dc.Users.Select(x=>x));
        
    Func<DataContext, string, IQueryable<User>> filterUserName = CompiledQuery.Compile((DataContext dc, string name) => selectUsers(dc).Where(user=>user.Name == name));

Calling and enumerating the chain works fine:

    filterUserName(new DataContext(), ""Otter"").ToList();

Add a third query to the chain:

    Func<DataContext, string, int, IQueryable<User>> filterUserAndGroup = CompiledQuery.Compile((DataContext dc, string name, int groupId) => filterUserName(dc, name).Where(user=>user.GroupId == groupId));

Calling the chain does not work:

    filterUserAndGroup(new DataContext(), ""Otter"", 101);

> System.InvalidOperationException:
> Member access 'String Name' of 'User'
> not legal on type
> 'System.Linq.IQueryable`1[User].. at
> System.Data.Linq.SqlClient.SqlMember.set_Expression(SqlExpression
> value) at
> System.Data.Linq.SqlClient.SqlFactory.Member(SqlExpression
> expr, MemberInfo member) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.AccessMember(SqlMember
> m, SqlExpression expo) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitMember(SqlMember
> m) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitExpression(SqlExpression
> expr) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitBinaryOperator(SqlBinary
> bo) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitExpression(SqlExpression
> expr) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitSelect(SqlSelect
> select) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitAlias(SqlAlias
> a) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlVisitor.VisitSource(SqlSource
> source) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitSelect(SqlSelect
> select) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitIncludeScope(SqlIncludeScope
> scope) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Bind(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlProvider.BuildQuery(ResultShape
> resultShape, Type resultType, SqlNode
> node, ReadOnlyCollection`1
> parentParameters, SqlNodeAnnotations
> annotations) at
> System.Data.Linq.SqlClient.SqlProvider.BuildQuery(Expression
> query, SqlNodeAnnotations annotations)
> at
> System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Compile(Expression
> query) at
> System.Data.Linq.CompiledQuery.ExecuteQuery(DataContext
> context, Object[] args) at
> System.Data.Linq.CompiledQuery.Invoke<TArg0,TArg1,TResult>(TArg0
> arg0, TArg1 arg1) at TestMethod() in
> ....
",linq,linq-to-sql,,,,,open,0,271,8,"Can multiple compiled linq queries be chained together? I am trying to chain multiple compiled linq queries together.  I have succeeded in chaining two queries together, but I cannot get a chain of three to work correctly.  So here is a reduction of my code to recreate the issue.  My two questions are: 'Why isn't this working?' and 'Is there a better way to keep the performance benefit of compiled queries and also avoid duplication of base query logic that is commonly used?'

Define the following two queries:

    Func<DataContext, IQueryable<User>> selectUsers = CompiledQuery.Compile((DataContext dc)=>dc.Users.Select(x=>x));
        
    Func<DataContext, string, IQueryable<User>> filterUserName = CompiledQuery.Compile((DataContext dc, string name) => selectUsers(dc).Where(user=>user.Name == name));

Calling and enumerating the chain works fine:

    filterUserName(new DataContext(), ""Otter"").ToList();

Add a third query to the chain:

    Func<DataContext, string, int, IQueryable<User>> filterUserAndGroup = CompiledQuery.Compile((DataContext dc, string name, int groupId) => filterUserName(dc, name).Where(user=>user.GroupId == groupId));

Calling the chain does not work:

    filterUserAndGroup(new DataContext(), ""Otter"", 101);

> System.InvalidOperationException:
> Member access 'String Name' of 'User'
> not legal on type
> 'System.Linq.IQueryable`1[User].. at
> System.Data.Linq.SqlClient.SqlMember.set_Expression(SqlExpression
> value) at
> System.Data.Linq.SqlClient.SqlFactory.Member(SqlExpression
> expr, MemberInfo member) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.AccessMember(SqlMember
> m, SqlExpression expo) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitMember(SqlMember
> m) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitExpression(SqlExpression
> expr) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitBinaryOperator(SqlBinary
> bo) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitExpression(SqlExpression
> expr) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitSelect(SqlSelect
> select) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitAlias(SqlAlias
> a) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlVisitor.VisitSource(SqlSource
> source) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitSelect(SqlSelect
> select) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Visitor.VisitIncludeScope(SqlIncludeScope
> scope) at
> System.Data.Linq.SqlClient.SqlVisitor.Visit(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlBinder.Bind(SqlNode
> node) at
> System.Data.Linq.SqlClient.SqlProvider.BuildQuery(ResultShape
> resultShape, Type resultType, SqlNode
> node, ReadOnlyCollection`1
> parentParameters, SqlNodeAnnotations
> annotations) at
> System.Data.Linq.SqlClient.SqlProvider.BuildQuery(Expression
> query, SqlNodeAnnotations annotations)
> at
> System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Compile(Expression
> query) at
> System.Data.Linq.CompiledQuery.ExecuteQuery(DataContext
> context, Object[] args) at
> System.Data.Linq.CompiledQuery.Invoke<TArg0,TArg1,TResult>(TArg0
> arg0, TArg1 arg1) at TestMethod() in
> ....
",2
11629613,07/24/2012 11:11:04,1410060,05/22/2012 11:17:22,1,0,Linq conversion query,"Just can;t figure this SQL to Linq conversion. Hope you can help

       SELECT DISTINCT IT_CustomerPart, IT_QTY
	,(SELECT 
	COUNT(*) 
	FROM SupplierQuotes 
	WHERE SD_RFQID = R.IT_RFQID AND 
	SD_PartID IN(SELECT MP_PartID FROM ManufacturerParts WHERE R.IT_CustomerPartNoDash = MP_PartNoDash))
 	FROM RFQItems R	
	WHERE r.IT_RFQID = 57651

Thanks in advance Scott",linq,,,,,07/24/2012 11:37:01,not a real question,1,48,3,"Linq conversion query Just can;t figure this SQL to Linq conversion. Hope you can help

       SELECT DISTINCT IT_CustomerPart, IT_QTY
	,(SELECT 
	COUNT(*) 
	FROM SupplierQuotes 
	WHERE SD_RFQID = R.IT_RFQID AND 
	SD_PartID IN(SELECT MP_PartID FROM ManufacturerParts WHERE R.IT_CustomerPartNoDash = MP_PartNoDash))
 	FROM RFQItems R	
	WHERE r.IT_RFQID = 57651

Thanks in advance Scott",1
9916272,03/28/2012 21:59:03,353150,05/28/2010 18:13:50,312,12,LINQ - update a field within where clause,"My object hierarchy is like this:

    class Detail
    {
    	public List<Row> Rows { get; set; }
    }
    
    class Row
    {
    	public List<Column> Columns { get; set; }
    }
    
    class Column
    {
    	public string Name { get; set; }
    	public bool IsUpdated { get; set; }
    }

I want to set column.IsUpdated = true where column.Name = ""id"".
I am trying this, it doesn't work.

    detail.Rows.ForEach(r => r.Columns.Where(c => c.Name.ToLower().Equals(""id"")).ToList<Column>().Select(c => c.IsUpdated = true));


",linq,,,,,,open,0,121,8,"LINQ - update a field within where clause My object hierarchy is like this:

    class Detail
    {
    	public List<Row> Rows { get; set; }
    }
    
    class Row
    {
    	public List<Column> Columns { get; set; }
    }
    
    class Column
    {
    	public string Name { get; set; }
    	public bool IsUpdated { get; set; }
    }

I want to set column.IsUpdated = true where column.Name = ""id"".
I am trying this, it doesn't work.

    detail.Rows.ForEach(r => r.Columns.Where(c => c.Name.ToLower().Equals(""id"")).ToList<Column>().Select(c => c.IsUpdated = true));


",1
6713766,07/15/2011 22:20:07,847236,07/15/2011 21:48:57,1,0,Linq Group By list<Object> sum,"        enter code here
    
    
    
    
    public class BUDGET
    {
            public string SeasonNo { get; set; }
            public string SeasonName { get; set; }
            public string typeProductCd { get; set; }
            public string typeProductDescription { get; set; }
            public Decimal UsdBudgetRetail { get; set; }
    }
    
    List<Budget> list1
    
    List<Budget> list2
    
    List<Budget>  ListUngrouped = list1.concat(list2).toList();
      List<Budget> listGrouped =            ListUngrouped .GroupBy(x => new { x.SeasonNo, x.typeProductCd }).Select(group => new { group.Key, UsdBudgetRetail = group.Sum(x => x.UsdActualRetail) }).Cast<BudgetAndActualLineInfoBySeasonDto>().ToList(); 

",linq,list,,,,07/16/2011 01:28:22,not a real question,1,199,5,"Linq Group By list<Object> sum         enter code here
    
    
    
    
    public class BUDGET
    {
            public string SeasonNo { get; set; }
            public string SeasonName { get; set; }
            public string typeProductCd { get; set; }
            public string typeProductDescription { get; set; }
            public Decimal UsdBudgetRetail { get; set; }
    }
    
    List<Budget> list1
    
    List<Budget> list2
    
    List<Budget>  ListUngrouped = list1.concat(list2).toList();
      List<Budget> listGrouped =            ListUngrouped .GroupBy(x => new { x.SeasonNo, x.typeProductCd }).Select(group => new { group.Key, UsdBudgetRetail = group.Sum(x => x.UsdActualRetail) }).Cast<BudgetAndActualLineInfoBySeasonDto>().ToList(); 

",2
5816521,04/28/2011 09:32:21,94175,04/22/2009 07:39:28,475,28,Cross Database Join with Linq - Updating T4 template to support DB name?,"I'm currently running in a multi-DB SQL Server environment and using linq to sql to perform queries.

I'm using the approach documented here to achieve cross DB joins:
http://www.enderminh.com/blog/archive/2009/04/25/2654.aspx

so basically:

2 data contexts - Users and Payments

    Users.dbo.UserDetails {PK: UserId }
    Payments.dbo.CurrentPaymentMethod { PK: UserId }

I drag the tables onto the DBML, and in the properties window, change the Source from dbo.UserDetails to Users.dbo.UserDetails to fully qualify the DB name.


I can then issue a single data context cross DB join by doing something like:

    var results = (from user in datacontext.Table<UserDetail>()
    		join paymentmethod in dataContext.Table<CurrentPaymentMethod>() on user.UserId equals paymentmethod.UserId
        ... rest of query here ...);


Now this is tickety boo and works as I want it to.  The only problem I'm currently having is when schema updates etc. happen (which is relatively frequent as we're in a significant dev phase).

(and finally, the question!)
What I want to achieve (and I've marked the question up as T4 as a guess, as I know that the DBML files are T4 guided) is an automated way when I drag any table onto a data context that the Source automatically picks up the DB name (so will have Users.dbo.UserDetails instead of just dbo.UserDetails)?

Thanks for any pointers :)

Terry


",linq,t4,dbml,cross-database,,,open,0,218,13,"Cross Database Join with Linq - Updating T4 template to support DB name? I'm currently running in a multi-DB SQL Server environment and using linq to sql to perform queries.

I'm using the approach documented here to achieve cross DB joins:
http://www.enderminh.com/blog/archive/2009/04/25/2654.aspx

so basically:

2 data contexts - Users and Payments

    Users.dbo.UserDetails {PK: UserId }
    Payments.dbo.CurrentPaymentMethod { PK: UserId }

I drag the tables onto the DBML, and in the properties window, change the Source from dbo.UserDetails to Users.dbo.UserDetails to fully qualify the DB name.


I can then issue a single data context cross DB join by doing something like:

    var results = (from user in datacontext.Table<UserDetail>()
    		join paymentmethod in dataContext.Table<CurrentPaymentMethod>() on user.UserId equals paymentmethod.UserId
        ... rest of query here ...);


Now this is tickety boo and works as I want it to.  The only problem I'm currently having is when schema updates etc. happen (which is relatively frequent as we're in a significant dev phase).

(and finally, the question!)
What I want to achieve (and I've marked the question up as T4 as a guess, as I know that the DBML files are T4 guided) is an automated way when I drag any table onto a data context that the Source automatically picks up the DB name (so will have Users.dbo.UserDetails instead of just dbo.UserDetails)?

Thanks for any pointers :)

Terry


",4
5643734,04/13/2011 02:23:21,416574,08/10/2010 20:12:46,1086,61,How to use LINQ in C++/CLI - in VS 2010/.Net 4.0,"Just wondering if there is a way to use LINQ in C++/CLI. I found one post that was focused on VS 2008 and required a bunch of workarounds for the System::String class. I have seen some framework replacements on CodeProject, but I was wondering if there is a way to use it directly in C++/CLI. If you can, anyone have a good example?",linq,visual-studio-2010,.net-4.0,c++-cli,,,open,0,63,11,"How to use LINQ in C++/CLI - in VS 2010/.Net 4.0 Just wondering if there is a way to use LINQ in C++/CLI. I found one post that was focused on VS 2008 and required a bunch of workarounds for the System::String class. I have seen some framework replacements on CodeProject, but I was wondering if there is a way to use it directly in C++/CLI. If you can, anyone have a good example?",4
2084995,01/18/2010 09:31:28,246210,01/08/2010 07:36:57,1,0,populating the treeview with linq,"protected void Page_Load(object sender, EventArgs e)
    {
        if (_xmlDocument == null)
        _xmlDocument = XDocument.Load(""D:/linqToXml/LINQtoXML/framedtag.xml"");
        var sample = from Emp in _xmlDocument.Descendants(""Emp"")
                     orderby (Emp.Element(""ReportingTo"").Value) descending
                     select new 
                     {
                         UserID = Emp.Element(""UserID"").Value,
                         UserName = Emp.Element(""UserName"").Value,
                         Designation = Emp.Element(""Designation"").Value,
                         ReportingTo = Emp.Element(""ReportingTo"").Value,
                    
                     };
        foreach (var Emp in sample)
        {
            
        }
        
        TreeView1.Nodes.Clear();
        TreeView1.Nodes.Add(new TreeNode(sample.ToString()));
    }",linq,,,,,01/19/2010 02:46:37,not a real question,1,330,5,"populating the treeview with linq protected void Page_Load(object sender, EventArgs e)
    {
        if (_xmlDocument == null)
        _xmlDocument = XDocument.Load(""D:/linqToXml/LINQtoXML/framedtag.xml"");
        var sample = from Emp in _xmlDocument.Descendants(""Emp"")
                     orderby (Emp.Element(""ReportingTo"").Value) descending
                     select new 
                     {
                         UserID = Emp.Element(""UserID"").Value,
                         UserName = Emp.Element(""UserName"").Value,
                         Designation = Emp.Element(""Designation"").Value,
                         ReportingTo = Emp.Element(""ReportingTo"").Value,
                    
                     };
        foreach (var Emp in sample)
        {
            
        }
        
        TreeView1.Nodes.Clear();
        TreeView1.Nodes.Add(new TreeNode(sample.ToString()));
    }",1
2042079,01/11/2010 13:26:26,106528,05/13/2009 18:13:53,141,5,How install LINQ Preview May 2006 on windows 7?,"I have Visual Studio web developer Addison , Visual Basic 2005 Express Edition, Visual C# 2005 Express Edition and Visual Web Developer 2005 Express Edition installed on my system.

My operative system is a Windows 7


When I start the installation of ""LINQ Preview (May 2006).msi"", I get the next error message: ""Cannot find a valid Product to install LINQ with"".
I click in the Accept button and get a second message: ""You must have either Visual Studio 2005, Visual Basic 2005, Visual C# 2005 or Visual Web Developer 2005 installed before installing Microsoft .NET LINQ Preview (May 2006) Do you want to download Visual Studio 2005 Express Editions now?""",linq,visual-studio-2008,visual-studio,asp.net,windows-7,,open,0,107,9,"How install LINQ Preview May 2006 on windows 7? I have Visual Studio web developer Addison , Visual Basic 2005 Express Edition, Visual C# 2005 Express Edition and Visual Web Developer 2005 Express Edition installed on my system.

My operative system is a Windows 7


When I start the installation of ""LINQ Preview (May 2006).msi"", I get the next error message: ""Cannot find a valid Product to install LINQ with"".
I click in the Accept button and get a second message: ""You must have either Visual Studio 2005, Visual Basic 2005, Visual C# 2005 or Visual Web Developer 2005 installed before installing Microsoft .NET LINQ Preview (May 2006) Do you want to download Visual Studio 2005 Express Editions now?""",5
9932282,03/29/2012 19:38:05,1301722,03/29/2012 19:30:30,1,0,using where sentences into a join linq,"I want to retrieve just Rolepermissions where the user name is Bob but not return results, i used this code:

    var rolePermissions = from r in roles
                              join ur in userInRoles on r.RoleId equals ur.RoleId
                              join u in userModule.Where(x => x.UserName==""Bob"" ) on ur.UserId equals u.UserId
                              join rp in rolePermission on r.RoleId equals rp.RoleId
    select (new RolePermissions { RoleName= r.RoleName, Priority= rp.Priority, Modules= rp.Modules});

I have data in my database when i used the code

    var rolePermissions = from r in roles
                              join ur in userInRoles on r.RoleId equals ur.RoleId
                              join u in userModule on ur.UserId equals u.UserId
                              join rp in rolePermission on r.RoleId equals rp.RoleId
    select (new RolePermissions { RoleName= r.RoleName, Priority= rp.Priority, Modules= rp.Modules});

It's return the permissions for all user but if i add the where clause return any.",linq,,,,,,open,0,316,7,"using where sentences into a join linq I want to retrieve just Rolepermissions where the user name is Bob but not return results, i used this code:

    var rolePermissions = from r in roles
                              join ur in userInRoles on r.RoleId equals ur.RoleId
                              join u in userModule.Where(x => x.UserName==""Bob"" ) on ur.UserId equals u.UserId
                              join rp in rolePermission on r.RoleId equals rp.RoleId
    select (new RolePermissions { RoleName= r.RoleName, Priority= rp.Priority, Modules= rp.Modules});

I have data in my database when i used the code

    var rolePermissions = from r in roles
                              join ur in userInRoles on r.RoleId equals ur.RoleId
                              join u in userModule on ur.UserId equals u.UserId
                              join rp in rolePermission on r.RoleId equals rp.RoleId
    select (new RolePermissions { RoleName= r.RoleName, Priority= rp.Priority, Modules= rp.Modules});

It's return the permissions for all user but if i add the where clause return any.",1
2656306,04/16/2010 21:54:27,161410,08/22/2009 22:54:18,748,22,Reading/Writing DataTables to and from an OleDb Database LINQ,"My current project is to take information from an `OleDbDatabase` and .CSV files and place it all into a larger `OleDbDatabase`.

I have currently read in all the information I need from both .CSV files, and the `OleDbDatabase` into `DataTables`.... Where it is getting hairy is writing all of the information back to another OleDbDatabase.

Right now my current method is to do something like this:

        OleDbTransaction myTransaction = null;

        try
        {
            OleDbConnection conn = new OleDbConnection(""PROVIDER=Microsoft.Jet.OLEDB.4.0;"" +
                                                       ""Data Source="" + Database);
            conn.Open();
            OleDbCommand command = conn.CreateCommand();
            string strSQL;

            command.Transaction = myTransaction;

            strSQL = ""Insert into TABLE "" +
                     ""(FirstName, LastName) values ('"" +
                     FirstName + ""', '"" + LastName + ""')"";

            command.CommandType = CommandType.Text;
            command.CommandText = strSQL;

            command.ExecuteNonQuery();

            conn.close();

        catch (Exception)
            {
                // IF invalid data is entered, rolls back the database
                myTransaction.Rollback();
            }


Of course, this is very basic and I'm using an SQL command to commit my transactions to a connection. My problem is I could do this, but I have about 200 fields that need inserted over several tables. I'm willing to do the leg work if that's the only way to go. But I feel like there is an easier method. Is there anything in LINQ that could help me out with this?",linq,datatable,oledb,insert,,,open,0,489,9,"Reading/Writing DataTables to and from an OleDb Database LINQ My current project is to take information from an `OleDbDatabase` and .CSV files and place it all into a larger `OleDbDatabase`.

I have currently read in all the information I need from both .CSV files, and the `OleDbDatabase` into `DataTables`.... Where it is getting hairy is writing all of the information back to another OleDbDatabase.

Right now my current method is to do something like this:

        OleDbTransaction myTransaction = null;

        try
        {
            OleDbConnection conn = new OleDbConnection(""PROVIDER=Microsoft.Jet.OLEDB.4.0;"" +
                                                       ""Data Source="" + Database);
            conn.Open();
            OleDbCommand command = conn.CreateCommand();
            string strSQL;

            command.Transaction = myTransaction;

            strSQL = ""Insert into TABLE "" +
                     ""(FirstName, LastName) values ('"" +
                     FirstName + ""', '"" + LastName + ""')"";

            command.CommandType = CommandType.Text;
            command.CommandText = strSQL;

            command.ExecuteNonQuery();

            conn.close();

        catch (Exception)
            {
                // IF invalid data is entered, rolls back the database
                myTransaction.Rollback();
            }


Of course, this is very basic and I'm using an SQL command to commit my transactions to a connection. My problem is I could do this, but I have about 200 fields that need inserted over several tables. I'm willing to do the leg work if that's the only way to go. But I feel like there is an easier method. Is there anything in LINQ that could help me out with this?",4
7387651,09/12/2011 12:12:42,918064,09/28/2010 16:46:41,6,0,Linq Grouping Question,"I'm working on a simple reservation system for meeting room. Each meeting room is assigned a room type depending on it's size etc. I'm looking to shape the count of booked rooms from the following:

	01/01/2011	1	Room A	2
	01/01/2011	2	Room B	5
	01/01/2011	3	Room C	3
	01/01/2011	4	Room D	2
	01/01/2011	5	Room E	1
	01/01/2011	6	Room F	5
	02/01/2011	1	Room A	3
	02/01/2011	2	Room B	5
	02/01/2011	3	Room C	2
	02/01/2011	4	Room D	5
	02/01/2011	5	Room E	2
	02/01/2011	6	Room F	2
	03/01/2011	1	Room A	2
	03/01/2011	2	Room B	5
	03/01/2011	3	Room C	2

Into grouped data such as:

	Date	Room A	Room B	Room C	Room D	Room E	Room F
	01/01/2011	2	5	3	2	1	5
	02/01/2011	3	5	2	5	2	2
	03/01/2011	2	5	2	4	5	8
	04/01/2011	4	7	3	5	2	2


I've managed to do this previously using Datasets, but I need to be able to do this in Linq for this project using Linq to entites

Can somebody advise the best way to do this?

Thanks





",linq,entity-framework,linq-to-entities,,,,open,0,93,3,"Linq Grouping Question I'm working on a simple reservation system for meeting room. Each meeting room is assigned a room type depending on it's size etc. I'm looking to shape the count of booked rooms from the following:

	01/01/2011	1	Room A	2
	01/01/2011	2	Room B	5
	01/01/2011	3	Room C	3
	01/01/2011	4	Room D	2
	01/01/2011	5	Room E	1
	01/01/2011	6	Room F	5
	02/01/2011	1	Room A	3
	02/01/2011	2	Room B	5
	02/01/2011	3	Room C	2
	02/01/2011	4	Room D	5
	02/01/2011	5	Room E	2
	02/01/2011	6	Room F	2
	03/01/2011	1	Room A	2
	03/01/2011	2	Room B	5
	03/01/2011	3	Room C	2

Into grouped data such as:

	Date	Room A	Room B	Room C	Room D	Room E	Room F
	01/01/2011	2	5	3	2	1	5
	02/01/2011	3	5	2	5	2	2
	03/01/2011	2	5	2	4	5	8
	04/01/2011	4	7	3	5	2	2


I've managed to do this previously using Datasets, but I need to be able to do this in Linq for this project using Linq to entites

Can somebody advise the best way to do this?

Thanks





",3
5927672,05/08/2011 13:19:42,589730,01/25/2011 21:20:00,11,1,Linq equivalent of SQL LEFT function?,"We have a database with some fields that are varchar(max) which could contain lots of text however I have a situation where I only want to select the first for example 300 characters from the field for a paginated table of results on a MVC web site for a ""preview"" of the field.

for a simplified example query where I want to get all locations to display in the table
(this would be paginated, so I don't just get everything - I get maybe 10 results at a time):

    return db.locations;

However this gives me a location object with all the fields containing the massive amounts of text which is very time consuming to execute.

So what I resorted to before was using SQL stored procedures with the LEFT(field, 300) to resolve this issue and then in the Linq to SQL .dbml file included the stored procedure to return a ""location"" object for the result.

However I have many queries and I don't want to have to do this for every query.

This maybe a simple solution, but I am not sure how I can phrase this on a search engine, I would appreciate anyone who can help me with this problem.



",linq,linq-to-sql,,,,,open,0,199,6,"Linq equivalent of SQL LEFT function? We have a database with some fields that are varchar(max) which could contain lots of text however I have a situation where I only want to select the first for example 300 characters from the field for a paginated table of results on a MVC web site for a ""preview"" of the field.

for a simplified example query where I want to get all locations to display in the table
(this would be paginated, so I don't just get everything - I get maybe 10 results at a time):

    return db.locations;

However this gives me a location object with all the fields containing the massive amounts of text which is very time consuming to execute.

So what I resorted to before was using SQL stored procedures with the LEFT(field, 300) to resolve this issue and then in the Linq to SQL .dbml file included the stored procedure to return a ""location"" object for the result.

However I have many queries and I don't want to have to do this for every query.

This maybe a simple solution, but I am not sure how I can phrase this on a search engine, I would appreciate anyone who can help me with this problem.



",2
11720175,07/30/2012 11:03:53,1562701,07/30/2012 10:42:31,1,0,How to present data in different format in LINQ,"I am having data in below format in datatable


DEVICEID PRODUCTCODE	MONTH NO	QTY	VENDAMT
2032	 100	           06	         9	270
2032	 101	           06	         4	120
2032	 102	           06	         1	30
2032	 100	           07	        10	300
2032	 101	           07	         8	240
2032	 102	           07	         9	270

I want to show it in following format using LINQ query in C#


DEVICEID	PRODUCTCODE	JUN_QTY	JUN_AMT	JUL_QTY	JUL_AMT
2032	            100	          9	270	10	300
2032	            101	          4	120	8	240
2032	            102	          1	30	9	270

Please help it's urgent. Thanks in advance
",linq,,,,,07/30/2012 13:03:31,not a real question,1,220,9,"How to present data in different format in LINQ I am having data in below format in datatable


DEVICEID PRODUCTCODE	MONTH NO	QTY	VENDAMT
2032	 100	           06	         9	270
2032	 101	           06	         4	120
2032	 102	           06	         1	30
2032	 100	           07	        10	300
2032	 101	           07	         8	240
2032	 102	           07	         9	270

I want to show it in following format using LINQ query in C#


DEVICEID	PRODUCTCODE	JUN_QTY	JUN_AMT	JUL_QTY	JUL_AMT
2032	            100	          9	270	10	300
2032	            101	          4	120	8	240
2032	            102	          1	30	9	270

Please help it's urgent. Thanks in advance
",1
4723403,01/18/2011 11:16:05,6181,09/12/2008 19:35:27,358,9,"Using ""from in"" in a LinqSpecs specification?","We're using LinqSpecs to create specifications for our NHibernate Linq queries and I have  the following query:

    from p in projects
      from pp in p.Personprojects
      where pp.Id.PersonId == userId
      select p

And I'd like to encapsulate the 

     from pp in p.Personprojects   
     where pp.Id.PersonId == userId

part in a specification.

Is there any way to do that?

My current solution is 

    public override Expression<Func<Project, bool>> IsSatisfiedBy()
    {
      return p => p.Personprojects.Count(pp => pp.Id.PersonId == _userId)>0;
    }

which doesn't strike me as optimal...",linq,,,,,,open,0,122,7,"Using ""from in"" in a LinqSpecs specification? We're using LinqSpecs to create specifications for our NHibernate Linq queries and I have  the following query:

    from p in projects
      from pp in p.Personprojects
      where pp.Id.PersonId == userId
      select p

And I'd like to encapsulate the 

     from pp in p.Personprojects   
     where pp.Id.PersonId == userId

part in a specification.

Is there any way to do that?

My current solution is 

    public override Expression<Func<Project, bool>> IsSatisfiedBy()
    {
      return p => p.Personprojects.Count(pp => pp.Id.PersonId == _userId)>0;
    }

which doesn't strike me as optimal...",1
5517187,04/01/2011 18:15:24,683463,03/30/2011 07:22:24,6,0,LINQ How to Search UNICODE Value,"Help me to search UNICODE values in LINQ, when i write a LINQ to search a string not UNICODE , it work fine but string is UNICODE, my query does not search out anything.

    Menus.Where(e => e.Name.ToLower().Contains(keyword.ToLower())).OrderBy(e => e.Order).ThenBy(e => e.Name).ToList();

It work fine with none Unicode string like ""AMERICAN BREAFAST: CHOICE OF FRIED EGG OR OMELETE SERVED WITH CRISPY BACON, SAUSAGE, SAUTEED TOMATO AND TOAST"" but when i search a unicode string like ""Bữa ăn sáng kiểu Mỹ: chọn giữa trứng chiên hoặc trứng cuộn dùng kèm thịt xông khói, xúc xích, cà chua xào và bánh mì nướng"" it does not work anymore. please help me fix it. thanks so much",linq,search,unicode,,,,open,0,115,6,"LINQ How to Search UNICODE Value Help me to search UNICODE values in LINQ, when i write a LINQ to search a string not UNICODE , it work fine but string is UNICODE, my query does not search out anything.

    Menus.Where(e => e.Name.ToLower().Contains(keyword.ToLower())).OrderBy(e => e.Order).ThenBy(e => e.Name).ToList();

It work fine with none Unicode string like ""AMERICAN BREAFAST: CHOICE OF FRIED EGG OR OMELETE SERVED WITH CRISPY BACON, SAUSAGE, SAUTEED TOMATO AND TOAST"" but when i search a unicode string like ""Bữa ăn sáng kiểu Mỹ: chọn giữa trứng chiên hoặc trứng cuộn dùng kèm thịt xông khói, xúc xích, cà chua xào và bánh mì nướng"" it does not work anymore. please help me fix it. thanks so much",3
2155971,01/28/2010 16:14:38,261144,01/28/2010 16:14:38,1,0,LINQ to XML error: Object reference not set to an instance of an object,"I am trying to grab some role information, the first node however does not have an element ""projectRoleType"" I want to skip over that one and only grab the ones that have a ""projectRoleType"" and ""categoryId"".  Every way I try to check I always get the error: Object reference not set to an instance of an object.  What am I not doing?

    var _role = from r1 in loaded.Descendants(""result"")
                            let catid = (string)r1.Element(""projectRoles"").Element(""projectRoleType"").Element(""categoryId"")
                            where catid != null && catid == categoryId
                            select new
                            {
                                id = (string)r1.Element(""projectRoles"").Element(""projectRoleType"").Element(""id""),
                                name = (string)r1.Element(""fullName""),
                                contactId = (string)r1.Element(""contactId""),
                                role_nm = (string)r1.Element(""projectRoles"").Element(""projectRoleType"").Element(""name"")
                            };
                foreach (var r in _role)
                {
                    fields.Add(new IAProjectField(r.id, r.role_nm, r.name, r.contactId));
                }

",linq,xml,c#,,,,open,0,437,14,"LINQ to XML error: Object reference not set to an instance of an object I am trying to grab some role information, the first node however does not have an element ""projectRoleType"" I want to skip over that one and only grab the ones that have a ""projectRoleType"" and ""categoryId"".  Every way I try to check I always get the error: Object reference not set to an instance of an object.  What am I not doing?

    var _role = from r1 in loaded.Descendants(""result"")
                            let catid = (string)r1.Element(""projectRoles"").Element(""projectRoleType"").Element(""categoryId"")
                            where catid != null && catid == categoryId
                            select new
                            {
                                id = (string)r1.Element(""projectRoles"").Element(""projectRoleType"").Element(""id""),
                                name = (string)r1.Element(""fullName""),
                                contactId = (string)r1.Element(""contactId""),
                                role_nm = (string)r1.Element(""projectRoles"").Element(""projectRoleType"").Element(""name"")
                            };
                foreach (var r in _role)
                {
                    fields.Add(new IAProjectField(r.id, r.role_nm, r.name, r.contactId));
                }

",3
7078826,08/16/2011 13:19:49,769646,05/25/2011 13:20:24,1,0,"how i can handle null exception in the next linq query ? ""i am new in linq and mvc"""," rows = (from Driver in _repository.GetDrivers(String.Empty, sidx, sord, page - 1, rows)
                        join DC in context.tbl_DriversCars on Driver.DriverID equals DC.DriverID into j1
                        from j2 in j1.DefaultIfEmpty()
                        join o in context.tbl_Cars on j2.CarID equals o.CarID into j3
                        from j4 in j3.DefaultIfEmpty()
                        join DS in context.tbl_DriverShifts on Driver.DriverID equals DS.DriverID into j5
                        from j6 in j5.DefaultIfEmpty()
                        select new
                        {
                            //row id
                            id = Driver.DriverID,
                            //table of cells values
                            cell = new string[] { 
                                                    Driver.DriverID.ToString(),
                                                    (Driver.F_Name+"" ""+Driver.M_Name+"" "" +Driver.L_Name),
                                                    Driver.age.ToString(),
                                                    Driver.BirthDate.ToString(),
                                                    Driver.NationalityID.ToString(),
                                                    Driver.InstitutionStartDate.ToString(),
                                                    Driver.InstitutionEndDate.ToString(),
                                                    Driver.LicenseStartDate.ToString(),
                                                    Driver.LicenseEndDate.ToString(),
                                                    Driver.MobileNo.ToString(),
                                                    Driver.Address1.ToString(),
                                                    Driver.Address2.ToString(),
                                                    Driver.Telephone.ToString(),
                                                    //j6.DriverShiftID.ToString(),
                                                    j6.ShiftID.ToString(),
                                                    j4.CarModel.Last().ToString()+"" ""+j4.CarModelYear.ToShortDateString()//,
                                                    //""[""+ Driver.tbl_DriversCars.CarTypeID.ToString()+""]""+ Car.tbl_CarType.CarTypeName_EN,
                                                    //""[""+ Car.tbl_CarType.CarTypeID.ToString()+""]""+ Car.tbl_CarType.CarTypeName_AR,
                                                    //Car.CarModelYear.ToString(),
                                                    //Car.ChaseNumber.ToString(),
                                                    //Car.LicenseExpirationDate.ToShortDateString()
                                                }
                        }
                       ).ToArray()",linq,mvc,,,,08/16/2011 13:26:21,not a real question,1,1560,19,"how i can handle null exception in the next linq query ? ""i am new in linq and mvc""  rows = (from Driver in _repository.GetDrivers(String.Empty, sidx, sord, page - 1, rows)
                        join DC in context.tbl_DriversCars on Driver.DriverID equals DC.DriverID into j1
                        from j2 in j1.DefaultIfEmpty()
                        join o in context.tbl_Cars on j2.CarID equals o.CarID into j3
                        from j4 in j3.DefaultIfEmpty()
                        join DS in context.tbl_DriverShifts on Driver.DriverID equals DS.DriverID into j5
                        from j6 in j5.DefaultIfEmpty()
                        select new
                        {
                            //row id
                            id = Driver.DriverID,
                            //table of cells values
                            cell = new string[] { 
                                                    Driver.DriverID.ToString(),
                                                    (Driver.F_Name+"" ""+Driver.M_Name+"" "" +Driver.L_Name),
                                                    Driver.age.ToString(),
                                                    Driver.BirthDate.ToString(),
                                                    Driver.NationalityID.ToString(),
                                                    Driver.InstitutionStartDate.ToString(),
                                                    Driver.InstitutionEndDate.ToString(),
                                                    Driver.LicenseStartDate.ToString(),
                                                    Driver.LicenseEndDate.ToString(),
                                                    Driver.MobileNo.ToString(),
                                                    Driver.Address1.ToString(),
                                                    Driver.Address2.ToString(),
                                                    Driver.Telephone.ToString(),
                                                    //j6.DriverShiftID.ToString(),
                                                    j6.ShiftID.ToString(),
                                                    j4.CarModel.Last().ToString()+"" ""+j4.CarModelYear.ToShortDateString()//,
                                                    //""[""+ Driver.tbl_DriversCars.CarTypeID.ToString()+""]""+ Car.tbl_CarType.CarTypeName_EN,
                                                    //""[""+ Car.tbl_CarType.CarTypeID.ToString()+""]""+ Car.tbl_CarType.CarTypeName_AR,
                                                    //Car.CarModelYear.ToString(),
                                                    //Car.ChaseNumber.ToString(),
                                                    //Car.LicenseExpirationDate.ToShortDateString()
                                                }
                        }
                       ).ToArray()",2
191084,10/10/2008 12:47:44,2757,08/24/2008 21:53:16,2975,139,LINQ practice exercises or puzzles?,"I'm still trying to learn LINQ, though it's going more smoothly now that I've started to use it daily at work. I still don't feel *good* at it, though. Does anyone have any challenging practice exercises or puzzles I can use as a code-kata to improve my skills?

I'll leave this as community wiki, so maybe it can grow to a community list. ",linq,practice,code-kata,,,12/10/2011 05:59:52,not constructive,1,63,5,"LINQ practice exercises or puzzles? I'm still trying to learn LINQ, though it's going more smoothly now that I've started to use it daily at work. I still don't feel *good* at it, though. Does anyone have any challenging practice exercises or puzzles I can use as a code-kata to improve my skills?

I'll leave this as community wiki, so maybe it can grow to a community list. ",3
2386046,03/05/2010 10:38:21,275711,02/18/2010 00:48:36,20,1,Help with LINQ query,"I'm trying to do this with LINQ:

    SQL>>    SELECT p_Id from items WHERE p_Name = 'R1'
    
    
    LINQ>>   var getpID = (from p in myDatabaseDataSet.Items
                             where p.p_Name == ptxtBox.Text
                             select p.p_Id).SingleOrDefault();
                
                int p_Id = getpID;

But getpID always return 0. What's wrong?.",linq,linq-to-sql,sql,,,,open,0,146,4,"Help with LINQ query I'm trying to do this with LINQ:

    SQL>>    SELECT p_Id from items WHERE p_Name = 'R1'
    
    
    LINQ>>   var getpID = (from p in myDatabaseDataSet.Items
                             where p.p_Name == ptxtBox.Text
                             select p.p_Id).SingleOrDefault();
                
                int p_Id = getpID;

But getpID always return 0. What's wrong?.",3
6576695,07/04/2011 22:58:21,559788,01/01/2011 13:50:19,12,0,Dynamic Linq on Collections,"I have a customers entity that has a collection property called Orders. I want to search all customers who've placed an order before July 4th 2011. Also this needs to be a dynamic query as I do not know in advance what criteria on the Order the user might use to search the customers. I found the Dynamic.cs by Scott Gu that lets you create string queries and run them against our linq provider. The problem is it lets you query an entity's ""simple"" properties only. I cannot query a collection property (which is Orders collection property on the entity Customer in my case).


Please let me know if anyone has a solution for this.



Thanks,

A",linq,dynamic,collections,,,,open,0,114,4,"Dynamic Linq on Collections I have a customers entity that has a collection property called Orders. I want to search all customers who've placed an order before July 4th 2011. Also this needs to be a dynamic query as I do not know in advance what criteria on the Order the user might use to search the customers. I found the Dynamic.cs by Scott Gu that lets you create string queries and run them against our linq provider. The problem is it lets you query an entity's ""simple"" properties only. I cannot query a collection property (which is Orders collection property on the entity Customer in my case).


Please let me know if anyone has a solution for this.



Thanks,

A",3
7218319,08/28/2011 00:41:26,845230,07/14/2011 18:54:28,16,0,Should I trust LinqDataSource to clean up properly?,"Taking my first stab as using the OnSelecting method of LinqDataSource so that I can specify a more complex query, I wrote this:

    protected void CategoriesDataSource_OnSelecting(object sender, LinqDataSourceSelectEventArgs e)
        {
            using (DataLayerDataContext db = new DataLayerDataContext())
            {
                e.Result = (from feed in db.Feeds
                            where feed.FeedName.StartsWith(""Google"")
                            select feed.MainCategory).Distinct();
            }
        }
The problem, of course, is that the using clause will Dispose the DataLayerDataContext.  The 'solution' is to write it without it, but I'm afraid then that the context won't be disposed of in a timely fashion, that it will leave a bunch of connections open until garbage collection runs, and so on.

I'm no expert in this area, so any comments on whether this is a real problem, or am I worried for naught?",linq,garbage-collection,dispose,linqdatasource,,,open,0,241,8,"Should I trust LinqDataSource to clean up properly? Taking my first stab as using the OnSelecting method of LinqDataSource so that I can specify a more complex query, I wrote this:

    protected void CategoriesDataSource_OnSelecting(object sender, LinqDataSourceSelectEventArgs e)
        {
            using (DataLayerDataContext db = new DataLayerDataContext())
            {
                e.Result = (from feed in db.Feeds
                            where feed.FeedName.StartsWith(""Google"")
                            select feed.MainCategory).Distinct();
            }
        }
The problem, of course, is that the using clause will Dispose the DataLayerDataContext.  The 'solution' is to write it without it, but I'm afraid then that the context won't be disposed of in a timely fashion, that it will leave a bunch of connections open until garbage collection runs, and so on.

I'm no expert in this area, so any comments on whether this is a real problem, or am I worried for naught?",4
11319514,07/03/2012 21:32:34,1500023,07/03/2012 21:27:07,1,0,inheritance in linq,"i have 3 class in my dbml file,Person,Student,Teacher and i have a single table[Persons] in sql with all property from 3 classes and one field[type] for discriminator
so i wanna read all data from table and show in listview with this code:

    foreach (var item in dbcontext.Persons)
            {
                ListViewItem lsitem = new ListViewItem();
                lsitem.Tag = item.;
                lsitem.Text = item.id.ToString();
                ....
                listViewcompanies.Items.Add(lsitem);
            }

in this code i can't access child class propery!!!
please help me!!!
sorry for my english ",linq,inheritance,,,,07/04/2012 05:23:32,not a real question,1,175,3,"inheritance in linq i have 3 class in my dbml file,Person,Student,Teacher and i have a single table[Persons] in sql with all property from 3 classes and one field[type] for discriminator
so i wanna read all data from table and show in listview with this code:

    foreach (var item in dbcontext.Persons)
            {
                ListViewItem lsitem = new ListViewItem();
                lsitem.Tag = item.;
                lsitem.Text = item.id.ToString();
                ....
                listViewcompanies.Items.Add(lsitem);
            }

in this code i can't access child class propery!!!
please help me!!!
sorry for my english ",2
2142878,01/26/2010 21:45:21,173303,09/14/2009 18:15:06,24,0,LINQ projection to presentation model,"I'm pretty new to LINQ and a lot of modern data-driven application design techniques in general, so this may be a pretty basic question.

I'm trying to create a projection of a couple different Entity Framework entities to a simple presentation model. Let's say I have the entites Parent (properties are ID, Name, Age) and Child (properties are ID, Name, Age, with a reference to a Parent). I want to project these to PresentationParent and PresentationChild, where all the properties are the same, but PresentationParent has a List<PresentationChild>. How would I do this in LINQ?

    from p in entities.Parent
    select new PresentationParent
    {
        ID = p.ID,
        Name = p.Name,
        Age = p.Age,
        Children = [[?? What goes here ??]]
    }

Is this on the right track at all? I can only seem to find examples of simple, flat projections.",linq,projection,,,,,open,0,177,5,"LINQ projection to presentation model I'm pretty new to LINQ and a lot of modern data-driven application design techniques in general, so this may be a pretty basic question.

I'm trying to create a projection of a couple different Entity Framework entities to a simple presentation model. Let's say I have the entites Parent (properties are ID, Name, Age) and Child (properties are ID, Name, Age, with a reference to a Parent). I want to project these to PresentationParent and PresentationChild, where all the properties are the same, but PresentationParent has a List<PresentationChild>. How would I do this in LINQ?

    from p in entities.Parent
    select new PresentationParent
    {
        ID = p.ID,
        Name = p.Name,
        Age = p.Age,
        Children = [[?? What goes here ??]]
    }

Is this on the right track at all? I can only seem to find examples of simple, flat projections.",2
6157102,05/27/2011 19:56:58,429548,08/24/2010 13:00:14,1,0,Linq PredicateBuilder not returning results,"I'm still ramping up on Linq, but hopefully someone can help me determine why I'm not getting any results from the following method that uses PredicateBuilder (gOrderCount always == 0), any help greatly appreciated:

    public IQueryable<TrackingInfo> GetTrackingAllOrders(string custName, string supplier, string assigned)
        {
            var predicate = PredicateBuilder.False<TrackingInfo>();

            if (custName != null && custName != String.Empty)
            {
                predicate = predicate.And(c => c.CustomerName.Contains(custName));
            }
            if (supplier != null && supplier != String.Empty)
            {
                predicate = predicate.And(c => c.Supplier.Contains(supplier));
            }
            if (assigned != null && assigned != String.Empty)
            {
                predicate = predicate.And(c => c.AssignedTo.Contains(assigned));
            }

             IQueryable<TrackingInfo> oList = null;

            using (var ctx = new OMS_ISSEntities())
            {
                oList = (from c in ctx.GetSSISTrackingInfoFuction()
                         orderby c.OrderID descending
                         select new TrackingInfo
                         {
                             OrderID = c.OrderID,
                             CustomerName = c.CustomerName ?? String.Empty,
                             ClientServiceID = c.ClientServiceID ?? String.Empty,
                             SiteName = c.SiteName ?? String.Empty,
                             SiteStatus = c.SiteStatus ?? String.Empty,
                             IPNETWCount = c.IPNETWCount ?? 0,
                             VOIPCount = c.VOIPCount ?? 0,
                             AirCardCount = c.AirCardCount ?? 0,
                             TicketProductType = c.TicketProductType ?? String.Empty,
                             SiteAddress = c.SiteAddress ?? String.Empty,
                             LCONPhone = c.LCONPhone ?? String.Empty,
                             Supplier = c.Supplier ?? String.Empty,
                             SupplierOrderNumber = c.SupplierOrderNumber ?? String.Empty,
                             ConfFOCDate = c.ConfFOCDate,
                             DSLNumber = c.DSLNumber ?? String.Empty,
                             DSLLineType = c.DSLLineType ?? String.Empty,
                             JournalNote = c.JournalNote ?? String.Empty,
                             JournalLastUpdate = c.JournalLastUpdate,
                             Project = c.Project ?? String.Empty,
                             SiteICB = c.SiteICB,
                             SiteISSDueDate = c.SiteISSDueDate,
                             SiteISSInfo = c.SiteISSInfo ?? String.Empty,
                             AssignedTo = c.AssignedTo ?? String.Empty,
                             SiteSubmitDate = c.SiteSubmitDate,
                             SiteID = c.SiteID ?? String.Empty,
                             UserLogin = c.UserLogin ?? String.Empty,
                             ClientSiteType = c.ClientSiteType ?? String.Empty,
                             OpenJeop_Supp = c.OpenJeop_Supp,
                             PastDueFOC = c.PastDueFOC,
                             DaysSinceLastJNUpdate = c.DaysSinceLastJNUpdate,
                             SiteStatusID = c.SiteStatusID,
                             AssignedToID = c.AssignedToID,
                             SupplierID = c.SupplierID,
                             MasterCustID = c.MasterCustID,
                             MaxJeopSuppDate = c.MaxJeopSuppDate,
                             EstimatedTTU = c.Sit_EstTTU
                         }).ToList().AsQueryable().Where(predicate);

                gOrderCount = oList.Count();
                

                if (gOrderCount > 1500)  //we limit max number of records returned to 1500
                {
                    return null;
                }

                return oList.AsQueryable();
            }
        }
 ",linq,predicatebuilder,,,,,open,0,1739,5,"Linq PredicateBuilder not returning results I'm still ramping up on Linq, but hopefully someone can help me determine why I'm not getting any results from the following method that uses PredicateBuilder (gOrderCount always == 0), any help greatly appreciated:

    public IQueryable<TrackingInfo> GetTrackingAllOrders(string custName, string supplier, string assigned)
        {
            var predicate = PredicateBuilder.False<TrackingInfo>();

            if (custName != null && custName != String.Empty)
            {
                predicate = predicate.And(c => c.CustomerName.Contains(custName));
            }
            if (supplier != null && supplier != String.Empty)
            {
                predicate = predicate.And(c => c.Supplier.Contains(supplier));
            }
            if (assigned != null && assigned != String.Empty)
            {
                predicate = predicate.And(c => c.AssignedTo.Contains(assigned));
            }

             IQueryable<TrackingInfo> oList = null;

            using (var ctx = new OMS_ISSEntities())
            {
                oList = (from c in ctx.GetSSISTrackingInfoFuction()
                         orderby c.OrderID descending
                         select new TrackingInfo
                         {
                             OrderID = c.OrderID,
                             CustomerName = c.CustomerName ?? String.Empty,
                             ClientServiceID = c.ClientServiceID ?? String.Empty,
                             SiteName = c.SiteName ?? String.Empty,
                             SiteStatus = c.SiteStatus ?? String.Empty,
                             IPNETWCount = c.IPNETWCount ?? 0,
                             VOIPCount = c.VOIPCount ?? 0,
                             AirCardCount = c.AirCardCount ?? 0,
                             TicketProductType = c.TicketProductType ?? String.Empty,
                             SiteAddress = c.SiteAddress ?? String.Empty,
                             LCONPhone = c.LCONPhone ?? String.Empty,
                             Supplier = c.Supplier ?? String.Empty,
                             SupplierOrderNumber = c.SupplierOrderNumber ?? String.Empty,
                             ConfFOCDate = c.ConfFOCDate,
                             DSLNumber = c.DSLNumber ?? String.Empty,
                             DSLLineType = c.DSLLineType ?? String.Empty,
                             JournalNote = c.JournalNote ?? String.Empty,
                             JournalLastUpdate = c.JournalLastUpdate,
                             Project = c.Project ?? String.Empty,
                             SiteICB = c.SiteICB,
                             SiteISSDueDate = c.SiteISSDueDate,
                             SiteISSInfo = c.SiteISSInfo ?? String.Empty,
                             AssignedTo = c.AssignedTo ?? String.Empty,
                             SiteSubmitDate = c.SiteSubmitDate,
                             SiteID = c.SiteID ?? String.Empty,
                             UserLogin = c.UserLogin ?? String.Empty,
                             ClientSiteType = c.ClientSiteType ?? String.Empty,
                             OpenJeop_Supp = c.OpenJeop_Supp,
                             PastDueFOC = c.PastDueFOC,
                             DaysSinceLastJNUpdate = c.DaysSinceLastJNUpdate,
                             SiteStatusID = c.SiteStatusID,
                             AssignedToID = c.AssignedToID,
                             SupplierID = c.SupplierID,
                             MasterCustID = c.MasterCustID,
                             MaxJeopSuppDate = c.MaxJeopSuppDate,
                             EstimatedTTU = c.Sit_EstTTU
                         }).ToList().AsQueryable().Where(predicate);

                gOrderCount = oList.Count();
                

                if (gOrderCount > 1500)  //we limit max number of records returned to 1500
                {
                    return null;
                }

                return oList.AsQueryable();
            }
        }
 ",2
596465,02/27/2009 20:14:50,4035,09/01/2008 13:56:45,284,18,"How to specify .NET Anonymous object return type in Linq using Func<T,Q>?","How do you specify the **Func** signature for anonymous objects?

    new Func<DataSet, **IEnumerable<int>>**

I am having a trouble with return type where I have specified as **IEnumerable<<int>>** in the Func declaration

Error I am getting from the expression is 

> Cannot convert expression type 'System.Collections.Generic.IEnumerable<{ParentNodeId:int}>' to returnt ype 'System.Collections.Generic.IEnumerable<int>'

How can I specify **IEnumerable<{ParentNodeId:int}>** in func?


        public int GetCachedRootNodeId(IList<int> fromNodeIds, int forNodeId)
        {
            var result = forNodeId;

            const string spName = ""spFetchAllParentNodeIDs"";
            using (var ds = _df.ExecuteDatasetParamArray(_ConnectionString, spName, forNodeId))
            {
                if (DataAccessUtil.DataSetIsEmpty(ds)) return result;

                var orderByLevelDesc = new Func<DataSet, IEnumerable<int>>(resultSet =>
                    from DataRow row in DataAccessUtil.GetFirstTableRows(resultSet) 
                    orderby DataAccessUtil.GetInt32(row, ""Level"") descending 
                    select new { ParentNodeId = DataAccessUtil.GetInt32(row, ""ParentNodeID"") });

                //// Get top-most parent's node ID first (higher the level, the more top-most the parent is)
                //var query = from DataRow row in DataAccessUtil.GetFirstTableRows(ds)
                //            orderby DataAccessUtil.GetInt32(row, ""Level"") descending
                //            select new { ParentNodeId = DataAccessUtil.GetInt32(row, ""ParentNodeID"") };
                //foreach (var nodeInfo in query)
                foreach (var nodeInfo in orderByLevelDesc(ds))
                {
                    if (fromNodeIds.Contains(nodeInfo.ParentNodeId))
                        return nodeInfo.ParentNodeId;
                }
            }

            return result;
        }


By the way, I could have used commented code ""query"" and be done with it.
But wanted to be more expressive and try something new after looking at this answer
[Why doesn't C# have lexically nested functions?][1]


  [1]: http://stackoverflow.com/questions/576374/why-doesnt-c-have-lexically-nested-functions/576386#576386",linq,func-delegate,.net,c#,c#-3.0,,open,0,563,12,"How to specify .NET Anonymous object return type in Linq using Func<T,Q>? How do you specify the **Func** signature for anonymous objects?

    new Func<DataSet, **IEnumerable<int>>**

I am having a trouble with return type where I have specified as **IEnumerable<<int>>** in the Func declaration

Error I am getting from the expression is 

> Cannot convert expression type 'System.Collections.Generic.IEnumerable<{ParentNodeId:int}>' to returnt ype 'System.Collections.Generic.IEnumerable<int>'

How can I specify **IEnumerable<{ParentNodeId:int}>** in func?


        public int GetCachedRootNodeId(IList<int> fromNodeIds, int forNodeId)
        {
            var result = forNodeId;

            const string spName = ""spFetchAllParentNodeIDs"";
            using (var ds = _df.ExecuteDatasetParamArray(_ConnectionString, spName, forNodeId))
            {
                if (DataAccessUtil.DataSetIsEmpty(ds)) return result;

                var orderByLevelDesc = new Func<DataSet, IEnumerable<int>>(resultSet =>
                    from DataRow row in DataAccessUtil.GetFirstTableRows(resultSet) 
                    orderby DataAccessUtil.GetInt32(row, ""Level"") descending 
                    select new { ParentNodeId = DataAccessUtil.GetInt32(row, ""ParentNodeID"") });

                //// Get top-most parent's node ID first (higher the level, the more top-most the parent is)
                //var query = from DataRow row in DataAccessUtil.GetFirstTableRows(ds)
                //            orderby DataAccessUtil.GetInt32(row, ""Level"") descending
                //            select new { ParentNodeId = DataAccessUtil.GetInt32(row, ""ParentNodeID"") };
                //foreach (var nodeInfo in query)
                foreach (var nodeInfo in orderByLevelDesc(ds))
                {
                    if (fromNodeIds.Contains(nodeInfo.ParentNodeId))
                        return nodeInfo.ParentNodeId;
                }
            }

            return result;
        }


By the way, I could have used commented code ""query"" and be done with it.
But wanted to be more expressive and try something new after looking at this answer
[Why doesn't C# have lexically nested functions?][1]


  [1]: http://stackoverflow.com/questions/576374/why-doesnt-c-have-lexically-nested-functions/576386#576386",5
4289243,11/26/2010 23:40:15,240058,12/29/2009 08:42:12,953,137,how to do left join and >= join condition with linq,"linq only supports inner join, how to do left join using linq query.
also linq supports join only using 'equals' keyword but is it possible to use other join conditions?",linq,,,,,,open,0,29,11,"how to do left join and >= join condition with linq linq only supports inner join, how to do left join using linq query.
also linq supports join only using 'equals' keyword but is it possible to use other join conditions?",1
2455659,03/16/2010 15:27:24,254428,01/19/2010 22:06:34,26,3,"How to use ""contains"" or ""like"" in a dynamic linq query?","The help file that came with Dynamic Linq in the CSharpSamples.zip does not show any examples of using contains or like.

Are there any simple workarounds for doing this? i.e where (col like @col) doesn't work.",linq,dynamic,.net,linq-to-sql,,,open,0,35,11,"How to use ""contains"" or ""like"" in a dynamic linq query? The help file that came with Dynamic Linq in the CSharpSamples.zip does not show any examples of using contains or like.

Are there any simple workarounds for doing this? i.e where (col like @col) doesn't work.",4
11365267,07/06/2012 15:33:19,363198,06/10/2010 07:30:19,198,19,Complex LINQ Expression with nested lambda,"I'm struggling to dynamically create a query like that:


    Dictionary<string, Guid> parms = new Dictionary<string, Guid>();
    
    foreach (var kvp in parms)
    {
    	var exp = ReportDefinitions.Where(x=> 
    		x.Discriminants.Any(y=> y.Key == kvp.Key && y.Value == kvp.Value)
    // && more conditions to add here at each cycle
    		);	
    }
Where ReportDefinitions.Discriminants is an `IDictionary<string, Guid>`;
I know how to build simple Expression but I can't figure out how to build this one the ""Any"" seems really complicated.
The Any call it's hard to undestand

Anyone knows how to deal with this ?",linq,linq-expressions,,,,,open,0,114,6,"Complex LINQ Expression with nested lambda I'm struggling to dynamically create a query like that:


    Dictionary<string, Guid> parms = new Dictionary<string, Guid>();
    
    foreach (var kvp in parms)
    {
    	var exp = ReportDefinitions.Where(x=> 
    		x.Discriminants.Any(y=> y.Key == kvp.Key && y.Value == kvp.Value)
    // && more conditions to add here at each cycle
    		);	
    }
Where ReportDefinitions.Discriminants is an `IDictionary<string, Guid>`;
I know how to build simple Expression but I can't figure out how to build this one the ""Any"" seems really complicated.
The Any call it's hard to undestand

Anyone knows how to deal with this ?",2
8136637,11/15/2011 12:55:14,26140,10/08/2008 13:30:29,1157,23,How can I create temporary records of Linq-To-Sql types without causing duplicate key problems?,"I have code that generates records based on my DataGridView. These records are temporary because some of them already exist in the database.

            Crop_Variety v = new Crop_Variety();
            v.Type_ID = currentCropType.Type_ID;
            v.Variety_ID = r.Cells[0].Value.ToString();
            v.Description = r.Cells[1].Value.ToString();
            v.Crop = currentCrop;
            v.Crop_ID = currentCrop.Crop_ID;

Unfortunately in this little bit of code, because I say that v.Crop = currentCrop,
now currentCrop.Crop_Varieties includes this temporary record. And when I go to insert the records of this grid that are new, they have a reference to the same Crop record, and therefore these temporary records that do already exist in the database show up twice causing duplicate key errors when I submit.

I have a whole system for detecting what records need to be added and what need to be deleted based on what the user has done, but its getting gummed up by this relentless tracking of references.

Is there a way I can stop Linq-To-Sql from automatically adding these temporary records to its table collections?",linq,linq-to-sql,,,,,open,0,225,14,"How can I create temporary records of Linq-To-Sql types without causing duplicate key problems? I have code that generates records based on my DataGridView. These records are temporary because some of them already exist in the database.

            Crop_Variety v = new Crop_Variety();
            v.Type_ID = currentCropType.Type_ID;
            v.Variety_ID = r.Cells[0].Value.ToString();
            v.Description = r.Cells[1].Value.ToString();
            v.Crop = currentCrop;
            v.Crop_ID = currentCrop.Crop_ID;

Unfortunately in this little bit of code, because I say that v.Crop = currentCrop,
now currentCrop.Crop_Varieties includes this temporary record. And when I go to insert the records of this grid that are new, they have a reference to the same Crop record, and therefore these temporary records that do already exist in the database show up twice causing duplicate key errors when I submit.

I have a whole system for detecting what records need to be added and what need to be deleted based on what the user has done, but its getting gummed up by this relentless tracking of references.

Is there a way I can stop Linq-To-Sql from automatically adding these temporary records to its table collections?",2
569782,02/20/2009 14:44:04,767,08/08/2008 17:04:18,782,14,How do I navigate through multiple relationships using LINQ to Entities?,"I'm just starting out with LINQ to Entities, and I'm trying to replicate a search we currently do in a stored procedure as a LINQ to Entities query.  However, I can't seem to figure out the correct way to query properties of entities more than one ""join"" away from the starting point of my query.

For example, say I have tables Campaign, CampaignLocation, and Location, which have foreign keys from Campaign to CampaignLocation, and CampaignLocation to Location.  Pretty standard many-to-many table configuration.  When I start writing my LINQ query like this:

     var campaigns = from c in context.Campaign.CampaignLocation

that's as far in the association chain as I can go.  There doesn't seem to be a ""Location"" property available on ""CampaignLocation"" so that I can filter on properties of the Location.

Where am I going wrong here, and what am I missing?",linq,entity-framework,,,,,open,0,146,11,"How do I navigate through multiple relationships using LINQ to Entities? I'm just starting out with LINQ to Entities, and I'm trying to replicate a search we currently do in a stored procedure as a LINQ to Entities query.  However, I can't seem to figure out the correct way to query properties of entities more than one ""join"" away from the starting point of my query.

For example, say I have tables Campaign, CampaignLocation, and Location, which have foreign keys from Campaign to CampaignLocation, and CampaignLocation to Location.  Pretty standard many-to-many table configuration.  When I start writing my LINQ query like this:

     var campaigns = from c in context.Campaign.CampaignLocation

that's as far in the association chain as I can go.  There doesn't seem to be a ""Location"" property available on ""CampaignLocation"" so that I can filter on properties of the Location.

Where am I going wrong here, and what am I missing?",2
10845903,06/01/2012 07:07:17,671045,03/22/2011 10:54:30,1056,11,LINQ Sum for given range of dates data,"Given a data with list of a months worth of data, I need to calculate the sum for past 2 weeks. I could do this by breaking the list in 14 days and then 7 days and calculate the sum for each.

Is there an elegant way to achieve above?

example of data list looks like below:

    startDate 2012-05-01
    value 1
    
    startDate 2012-05-02
    value 1
    ........
    
    startDate 2012-05-31
    value 1

Thanks.


",linq,c#-4.0,,,,06/02/2012 03:28:51,not a real question,1,97,8,"LINQ Sum for given range of dates data Given a data with list of a months worth of data, I need to calculate the sum for past 2 weeks. I could do this by breaking the list in 14 days and then 7 days and calculate the sum for each.

Is there an elegant way to achieve above?

example of data list looks like below:

    startDate 2012-05-01
    value 1
    
    startDate 2012-05-02
    value 1
    ........
    
    startDate 2012-05-31
    value 1

Thanks.


",2
11028268,06/14/2012 07:07:31,472522,10/11/2010 17:13:29,41,7,How mature is scala slick?,"I've been looking for some language integrated ways of accessing the database with Scala, and I came across [slick][1]. It seems pretty, uh, slick, but I'm curious as to its maturity. I see that it has a variety of database back-end implementations, which is super-cool, but how soon is the abstraction likely to leak (every database abstraction does)?

To phrase this another way, would you pitch this as a preferred way to do database access to your boss? If so, what would the pitch be, otherwise why not?

Rationale: I think .NET's LINQ is cool, and so is Scala. Can one effectively have both?

  [1]: https://github.com/slick/slick",linq,scala,,,,06/14/2012 09:03:50,not constructive,1,105,5,"How mature is scala slick? I've been looking for some language integrated ways of accessing the database with Scala, and I came across [slick][1]. It seems pretty, uh, slick, but I'm curious as to its maturity. I see that it has a variety of database back-end implementations, which is super-cool, but how soon is the abstraction likely to leak (every database abstraction does)?

To phrase this another way, would you pitch this as a preferred way to do database access to your boss? If so, what would the pitch be, otherwise why not?

Rationale: I think .NET's LINQ is cool, and so is Scala. Can one effectively have both?

  [1]: https://github.com/slick/slick",2
11520331,07/17/2012 10:11:33,859558,07/23/2011 17:54:24,8,0,How to Use GetEnumerator(),"What is the use of GetEnumerator ()  in linq 

can  Explane me with basic example .

thanks in advance",linq,,,,,07/21/2012 03:57:23,not a real question,1,20,4,"How to Use GetEnumerator() What is the use of GetEnumerator ()  in linq 

can  Explane me with basic example .

thanks in advance",1
1572179,10/15/2009 12:53:13,85040,03/31/2009 08:32:56,492,8,LINQ: Using a pivot table in linq,"Can anyone help?

I have the following structure using associations, and as you can see v.StructureType.Description works great as its a 1 to 1 association, but i need to get in my example below v.StructureGroup.StructureGroupTariffs.Tariff.Price but StructureGroupTariffs is a Pivot table to interlink the StructureGroup and Tariffs, hence its a Many to Many so it returns a EntitySet, I understand the issue now but i am unsure how to fix it

        from v in Houses
           select new 
           {
              Id = v.Id,
              Color = v.Color.Description,
              StructureType= v.StructureType.Description,
              Price = v.StructureGroup.StructureGroupTariffs. // Tariff.Price doesn't appear because its MANY to ONE
           }

So understanding that my structureGroupTariffs is my pivot (inter linking table) i must pass in 

                     IdTariff  and  StructureGroupId

this then gives me a 1 to 1... So i presume i can then use StructureGroupTariffs.Tariff.Price ??? as this will then return a 1 to 1 between StructureGroup and Tariff

I am a little confused and would really appreciate some help.

I understand the issue now but unsure of how i can fix it.",linq,associations,linq-to-sql,c#,inner-join,,open,0,279,7,"LINQ: Using a pivot table in linq Can anyone help?

I have the following structure using associations, and as you can see v.StructureType.Description works great as its a 1 to 1 association, but i need to get in my example below v.StructureGroup.StructureGroupTariffs.Tariff.Price but StructureGroupTariffs is a Pivot table to interlink the StructureGroup and Tariffs, hence its a Many to Many so it returns a EntitySet, I understand the issue now but i am unsure how to fix it

        from v in Houses
           select new 
           {
              Id = v.Id,
              Color = v.Color.Description,
              StructureType= v.StructureType.Description,
              Price = v.StructureGroup.StructureGroupTariffs. // Tariff.Price doesn't appear because its MANY to ONE
           }

So understanding that my structureGroupTariffs is my pivot (inter linking table) i must pass in 

                     IdTariff  and  StructureGroupId

this then gives me a 1 to 1... So i presume i can then use StructureGroupTariffs.Tariff.Price ??? as this will then return a 1 to 1 between StructureGroup and Tariff

I am a little confused and would really appreciate some help.

I understand the issue now but unsure of how i can fix it.",5
7908060,10/26/2011 19:52:31,1015270,10/26/2011 19:11:36,1,0,how to use common WHERE parameter for all models in EF by LINQ?,"The system has several classes of model (eg, tasks, invoices, reports). For each table, depending on the logged company by some parameter(eg. companyID). And I must for every table, every query, every saving, etc. watch this parameter. Is there a simpler way to tell EF to LINQ to each query add this parameter? In other words, if I enter just: 

    List<Report> list = db.Reports;

that were selected only relevant records with companyID of logged company like

    List<Report> list = db.Reports.Where(r => r.companyID = idOfLoggedComp)

Thanks a lot for answer.",linq,mvc,entity-framework,,,,open,0,94,13,"how to use common WHERE parameter for all models in EF by LINQ? The system has several classes of model (eg, tasks, invoices, reports). For each table, depending on the logged company by some parameter(eg. companyID). And I must for every table, every query, every saving, etc. watch this parameter. Is there a simpler way to tell EF to LINQ to each query add this parameter? In other words, if I enter just: 

    List<Report> list = db.Reports;

that were selected only relevant records with companyID of logged company like

    List<Report> list = db.Reports.Where(r => r.companyID = idOfLoggedComp)

Thanks a lot for answer.",3
2049323,01/12/2010 13:50:06,214544,11/19/2009 12:10:12,27,1,linq selecting problem (distinct),"            List<NastavaIzvjestaj> nastava_izvjestaj = new List<NastavaIzvjestaj>();
            var data_context = new DataEvidencijaDataContext();
            int pomSum = 0;
            var prisustvo = (from j in data_context.nastava_prisustvos
                            select j).Distinct();

            foreach (var i in prisustvo)
            {
                var pom = from k in data_context.nastava_prisustvos
                          where k.br_indexa == i.br_indexa
                          select k.broj_casova;

                pomSum = pom.Sum();

                nastava_izvjestaj.Add(new NastavaIzvjestaj
                {
                    br_indexa = i.br_indexa,
                    naziv = ""mjau"",
                    ime = ""First Name"",
                    prezime = ""Last Name"",
                    tip_nastave = ""XXX"",
                    procenat_prisustva =pomSum
                });
            }

                string reportPath = Server.MapPath(""NastavaPrikaz.rpt"");

                ObjektniNastavaIzvjestaj = new ReportDocument();
                ObjektniNastavaIzvjestaj.Load(reportPath);
                ObjektniNastavaIzvjestaj.SetDataSource(nastava_izvjestaj);
                CrystalReportViewer1.ReportSource = ObjektniNastavaIzvjestaj;


This code return something like this: 

               Br_idexa        Ime          Prezime         Procenat
           
               185             First Name   Last Name           30
               185             First Name   Last Name           30
               185             First Name   Last Name           30
               185             First Name   Last Name           30

How do I get only one row :

               185             First Name   Last Name           30


",linq,c#,crystal,reports,,,open,0,787,4,"linq selecting problem (distinct)             List<NastavaIzvjestaj> nastava_izvjestaj = new List<NastavaIzvjestaj>();
            var data_context = new DataEvidencijaDataContext();
            int pomSum = 0;
            var prisustvo = (from j in data_context.nastava_prisustvos
                            select j).Distinct();

            foreach (var i in prisustvo)
            {
                var pom = from k in data_context.nastava_prisustvos
                          where k.br_indexa == i.br_indexa
                          select k.broj_casova;

                pomSum = pom.Sum();

                nastava_izvjestaj.Add(new NastavaIzvjestaj
                {
                    br_indexa = i.br_indexa,
                    naziv = ""mjau"",
                    ime = ""First Name"",
                    prezime = ""Last Name"",
                    tip_nastave = ""XXX"",
                    procenat_prisustva =pomSum
                });
            }

                string reportPath = Server.MapPath(""NastavaPrikaz.rpt"");

                ObjektniNastavaIzvjestaj = new ReportDocument();
                ObjektniNastavaIzvjestaj.Load(reportPath);
                ObjektniNastavaIzvjestaj.SetDataSource(nastava_izvjestaj);
                CrystalReportViewer1.ReportSource = ObjektniNastavaIzvjestaj;


This code return something like this: 

               Br_idexa        Ime          Prezime         Procenat
           
               185             First Name   Last Name           30
               185             First Name   Last Name           30
               185             First Name   Last Name           30
               185             First Name   Last Name           30

How do I get only one row :

               185             First Name   Last Name           30


",4
8969419,01/23/2012 09:25:46,797528,06/14/2011 11:18:05,12,0,"how to read particular data values in JSON using LINQ, returned by Facebook Graph API using NewtomSoft in asp.net","In my ASP.Net Application i'm parsing the JSON values returned by the Facebook Graph API with Newtonsoft.dll,its parsing correctly when i try to calculate the values with selecttoken. its not working .
    i have to calculate the number visits(page_view) each day and sum the values for certain period for eg.week i followed the same principle as given in the newtonsoft doc .
[this link][1]
under the tab
LINQtoJSON->Quering JSON to LINQ with Select Token.

**i'm trying this  json.**
`https://graph.facebook.com/page_id/insights/page_views&access_token=your_access_token&since=2012-01-01&untill=2012-01-15` this will return a list values with in the date i have to sum it up the total visits using LINQ.
**what i tried in LINQ.**

decimal totalvisits=o[""data""].Sum(m=>(decimal)m.SelectToken(""values[0].value""));// its not working 

**Example** given in DOC.

    decimal totalPrice = o[""Manufacturers""].Sum(m => (decimal)m.SelectToken(""Products[0].Price""));

thanks in advance.
  [1]: http://james.newtonking.com/projects/json/help/ ",linq,facebook-graph-api,newtonsoft,,,,open,0,126,19,"how to read particular data values in JSON using LINQ, returned by Facebook Graph API using NewtomSoft in asp.net In my ASP.Net Application i'm parsing the JSON values returned by the Facebook Graph API with Newtonsoft.dll,its parsing correctly when i try to calculate the values with selecttoken. its not working .
    i have to calculate the number visits(page_view) each day and sum the values for certain period for eg.week i followed the same principle as given in the newtonsoft doc .
[this link][1]
under the tab
LINQtoJSON->Quering JSON to LINQ with Select Token.

**i'm trying this  json.**
`https://graph.facebook.com/page_id/insights/page_views&access_token=your_access_token&since=2012-01-01&untill=2012-01-15` this will return a list values with in the date i have to sum it up the total visits using LINQ.
**what i tried in LINQ.**

decimal totalvisits=o[""data""].Sum(m=>(decimal)m.SelectToken(""values[0].value""));// its not working 

**Example** given in DOC.

    decimal totalPrice = o[""Manufacturers""].Sum(m => (decimal)m.SelectToken(""Products[0].Price""));

thanks in advance.
  [1]: http://james.newtonking.com/projects/json/help/ ",3
858987,05/13/2009 16:31:53,102427,05/06/2009 19:17:41,1,1,Trying to get generic when generic is not available.,"I am trying to develop some general purpose custom ValidationAttributes. The fact that one cannot create a generic subclass of an attribute is making me nuts.

Here is my code for the IsValid override in a ValidationAttribute to verify that the value of a property is unique:

        public override bool IsValid(object value)
        {
            SomeDataContext context = SomeDataContext.GetNewDataContext();
            Type tableType = typeof(Table<>).MakeGenericType(new Type[] { _EntityType });
            var table = Activator.CreateInstance(tableType);
            //ITable table = context.GetTable(_EntityType);
            var codeProp = (from member in context.Mapping.GetMetaType(_EntityType).DataMembers
                            where member.Name == _PropertyName
                            select member.Member).Single();
            ParameterExpression param = Expression.Parameter(_EntityType, ""x"");
            MemberExpression memberExp = Expression.Property(param, (PropertyInfo)codeProp); 
            Expression body = Expression.Equal(memberExp, Expression.Constant(value, typeof(char)));
            //var predicate = Expression.Lambda<Func<TEntityType, bool>>(body, param);
            Type lambdaType = typeof(Func<,>).MakeGenericType(_EntityType, typeof(bool));
            var predicate = Expression.Lambda(lambdaType, body, param);
            object code = table.FirstOrDefault(predicate);
            if (code != null)
            {
                return false;
            }
            return true;
        }

This line:

object code = table.FirstOrDefault(predicate);

errors out:

'object' does not contain a definition for 'FirstOrDefault' and no extension ......etc.

How do I define, cast or otherwise get the compiler to recognize ""table"" as something that exposes a .FirstOrDefault method?

Thanks

",linq,generics,lambda,c#,,,open,0,435,9,"Trying to get generic when generic is not available. I am trying to develop some general purpose custom ValidationAttributes. The fact that one cannot create a generic subclass of an attribute is making me nuts.

Here is my code for the IsValid override in a ValidationAttribute to verify that the value of a property is unique:

        public override bool IsValid(object value)
        {
            SomeDataContext context = SomeDataContext.GetNewDataContext();
            Type tableType = typeof(Table<>).MakeGenericType(new Type[] { _EntityType });
            var table = Activator.CreateInstance(tableType);
            //ITable table = context.GetTable(_EntityType);
            var codeProp = (from member in context.Mapping.GetMetaType(_EntityType).DataMembers
                            where member.Name == _PropertyName
                            select member.Member).Single();
            ParameterExpression param = Expression.Parameter(_EntityType, ""x"");
            MemberExpression memberExp = Expression.Property(param, (PropertyInfo)codeProp); 
            Expression body = Expression.Equal(memberExp, Expression.Constant(value, typeof(char)));
            //var predicate = Expression.Lambda<Func<TEntityType, bool>>(body, param);
            Type lambdaType = typeof(Func<,>).MakeGenericType(_EntityType, typeof(bool));
            var predicate = Expression.Lambda(lambdaType, body, param);
            object code = table.FirstOrDefault(predicate);
            if (code != null)
            {
                return false;
            }
            return true;
        }

This line:

object code = table.FirstOrDefault(predicate);

errors out:

'object' does not contain a definition for 'FirstOrDefault' and no extension ......etc.

How do I define, cast or otherwise get the compiler to recognize ""table"" as something that exposes a .FirstOrDefault method?

Thanks

",4
2398818,03/08/2010 01:33:29,114029,05/28/2009 23:21:28,667,45,What's the next big thing after LINQ?,"I started using LINQ (Language Integrated Query) when it was still in beta, more specifically Microsoft .NET LINQ Preview (May 2006). Almost 4 years have passed and here we are using LINQ in a lot of projects for the most diverse tasks.

I even wrote my final college project based on LINQ. You see how I like it.

LINQ and more recently PLINQ (Parallel LINQ) give our jobs a great boost when it comes to more programming power and less lines of code leading us to more expressive and readable code.

I keep thinking what could be the next big language improvement for C# after LINQ.

I know there are some promissing language features coming as Code Contracts, etc, but nothing having the impact that LINQ had.

What do you think could be the next big thing?",linq,plinq,c#,language-features,future,03/08/2010 04:10:13,not constructive,1,132,7,"What's the next big thing after LINQ? I started using LINQ (Language Integrated Query) when it was still in beta, more specifically Microsoft .NET LINQ Preview (May 2006). Almost 4 years have passed and here we are using LINQ in a lot of projects for the most diverse tasks.

I even wrote my final college project based on LINQ. You see how I like it.

LINQ and more recently PLINQ (Parallel LINQ) give our jobs a great boost when it comes to more programming power and less lines of code leading us to more expressive and readable code.

I keep thinking what could be the next big language improvement for C# after LINQ.

I know there are some promissing language features coming as Code Contracts, etc, but nothing having the impact that LINQ had.

What do you think could be the next big thing?",5
4712622,01/17/2011 11:26:42,198927,10/29/2009 14:01:04,1645,45,"Intermittent ""Specified cast is invalid"" with StructureMap injected data context","I am intermittently getting an `System.InvalidCastException: Specified cast is not valid.` error in my repository layer when performing an abstracted `SELECT` query mapped with LINQ. 

The error can't be caused by a mismatched database schema since it works intermittently and it's on my local dev machine.

Could it be because StructureMap is caching the data context between page requests? If so, how do I tell StructureMap v2.6.1 to inject a new data context argument into my repository for each request?",linq,dependency-injection,structuremap,invalidcastexception,,,open,0,79,10,"Intermittent ""Specified cast is invalid"" with StructureMap injected data context I am intermittently getting an `System.InvalidCastException: Specified cast is not valid.` error in my repository layer when performing an abstracted `SELECT` query mapped with LINQ. 

The error can't be caused by a mismatched database schema since it works intermittently and it's on my local dev machine.

Could it be because StructureMap is caching the data context between page requests? If so, how do I tell StructureMap v2.6.1 to inject a new data context argument into my repository for each request?",4
8970605,01/23/2012 11:04:36,712104,04/17/2011 12:31:54,603,21,Convert using LINQ,"I write this code to subtract binary values , I need instead of for loop using, I need to use LINQ for performance issue , I tried but  Ifailed, the code is 

            static void Main(string[] args)
            {
    
                byte[] data = { 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0 };
    
                if (data[0] == 1)
                {
    
                    byte[] One = new byte[data.Length];
                    One[One.Length - 1] = 1;
    
                    byte borrow = 0; 
    
                    for (int i= data.Length -1 ; i > -1 ; i--)
                    {
                        if(borrow == 1 ) data[i] = 0; 
                        if (data[i] == 0 && One[i] == 0)
                        {
                            borrow = 0; data[i] = 0;
                        
                        }
                        else if (data[i] == 0 && One[i] == 1)
                        {
                            borrow = 1 ; data[i] = 1;
                        
                        }
                        else if (data[i] == 1 && One[i] ==0)
                        {
                            borrow = 0; data[i] = 1;
    
                        }
                        else if (data[i] == 1 && One[i] == 1)
                        {
                            borrow = 0; data[i] = 0;
    
                        }
                        if (data[i] == 1) data[i] = 0; else data[i] = 1;
                    
                    }
                             
                }
            }
        }
    } ",linq,c#-3.0,,,,01/27/2012 22:18:32,not a real question,1,952,3,"Convert using LINQ I write this code to subtract binary values , I need instead of for loop using, I need to use LINQ for performance issue , I tried but  Ifailed, the code is 

            static void Main(string[] args)
            {
    
                byte[] data = { 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0 };
    
                if (data[0] == 1)
                {
    
                    byte[] One = new byte[data.Length];
                    One[One.Length - 1] = 1;
    
                    byte borrow = 0; 
    
                    for (int i= data.Length -1 ; i > -1 ; i--)
                    {
                        if(borrow == 1 ) data[i] = 0; 
                        if (data[i] == 0 && One[i] == 0)
                        {
                            borrow = 0; data[i] = 0;
                        
                        }
                        else if (data[i] == 0 && One[i] == 1)
                        {
                            borrow = 1 ; data[i] = 1;
                        
                        }
                        else if (data[i] == 1 && One[i] ==0)
                        {
                            borrow = 0; data[i] = 1;
    
                        }
                        else if (data[i] == 1 && One[i] == 1)
                        {
                            borrow = 0; data[i] = 0;
    
                        }
                        if (data[i] == 1) data[i] = 0; else data[i] = 1;
                    
                    }
                             
                }
            }
        }
    } ",2
5776618,04/25/2011 08:30:04,508127,11/15/2010 10:28:18,901,3,what is Dynamic Linq query,i never work with DLINQ so i dont know the use of DLINQ. so can anyone show the situation where DLINQ is required and also show me the various  use of DLINQ.,linq,,,,,04/25/2011 10:35:50,not a real question,1,33,5,what is Dynamic Linq query i never work with DLINQ so i dont know the use of DLINQ. so can anyone show the situation where DLINQ is required and also show me the various  use of DLINQ.,1
10884651,06/04/2012 16:24:11,20358,09/22/2008 10:58:53,1510,22,Linq: adding conditions to the where clause conditionally,"I have a query like this

    (from u in DataContext.Users
           where u.Division == strUserDiv 
           && u.Age > 18
           && u.Height > strHeightinFeet  
           select new DTO_UserMaster
           {
             Prop1 = u.Name,
           }).ToList();

I want to add the various conditions like age, height based on whether those conditions were provided to the method running this query. All conditions will include user Division. If age was supplied I want to add that to the query. Similary, if height was provided I want to add that as well. 

If this were to be done using sql queries I would have used string builder to have them appended to the main strSQL query. But here in Linq I can only think of using an IF condition where I will write the same query thrice, with each IF block having an additional condition. Is there a better way to do this?

Thanks for your time..
",linq,entity-framework,linq-to-sql,,,,open,0,224,8,"Linq: adding conditions to the where clause conditionally I have a query like this

    (from u in DataContext.Users
           where u.Division == strUserDiv 
           && u.Age > 18
           && u.Height > strHeightinFeet  
           select new DTO_UserMaster
           {
             Prop1 = u.Name,
           }).ToList();

I want to add the various conditions like age, height based on whether those conditions were provided to the method running this query. All conditions will include user Division. If age was supplied I want to add that to the query. Similary, if height was provided I want to add that as well. 

If this were to be done using sql queries I would have used string builder to have them appended to the main strSQL query. But here in Linq I can only think of using an IF condition where I will write the same query thrice, with each IF block having an additional condition. Is there a better way to do this?

Thanks for your time..
",3
5548595,04/05/2011 07:31:22,559300,12/31/2010 14:40:18,31,0,"Group by, Sum, Join in Linq","I have this simple sql query:

    select c.LastName, Sum(b.Debit)- Sum(b.Credit) as OpenBalance from Balance as b
    inner join Job as j on (b.Job = j.ID)
    inner join Client as c on (j.Client = c.ID)
    Group By c.LastName

and I am trying to convert it to work in linq like this:

    from b in Balance
    join j in Job on b.Job equals j.ID
    join c in Client on j.Client equals c.ID
    group b by new { c.LastName } into g
    select new { 
	  	 Name = c.Lastname, 
		 OpenBalance = g.Sum(t1 => t1.Credit) 
	       }


but when I try to run it in *LINQPad* I get the following message:

> The name 'c' does not exist in the
> current context

and it highlights `c.Lastname` in `select new` statement.

Any help on this will be greatly appreciated.
Thank you.",linq,,,,,,open,0,166,6,"Group by, Sum, Join in Linq I have this simple sql query:

    select c.LastName, Sum(b.Debit)- Sum(b.Credit) as OpenBalance from Balance as b
    inner join Job as j on (b.Job = j.ID)
    inner join Client as c on (j.Client = c.ID)
    Group By c.LastName

and I am trying to convert it to work in linq like this:

    from b in Balance
    join j in Job on b.Job equals j.ID
    join c in Client on j.Client equals c.ID
    group b by new { c.LastName } into g
    select new { 
	  	 Name = c.Lastname, 
		 OpenBalance = g.Sum(t1 => t1.Credit) 
	       }


but when I try to run it in *LINQPad* I get the following message:

> The name 'c' does not exist in the
> current context

and it highlights `c.Lastname` in `select new` statement.

Any help on this will be greatly appreciated.
Thank you.",1
7936579,10/29/2011 02:19:33,610217,03/12/2010 17:36:43,1799,152,Fun (?) with Linq Expressions in extension methods,"I wrote an HtmlHelper expression I use a lot of the time to put title tags into my dropdown lists like so:

		public static HtmlString SelectFor<TModel, TProperty, TListItem>(
			this HtmlHelper<TModel> htmlHelper,
			Expression<Func<TModel, TProperty>> expression,
			IEnumerable<TListItem> enumeratedItems,
			string idPropertyName,
			string displayPropertyName,
			string titlePropertyName,
			object htmlAttributes) where TModel : class
		{
			//initialize values
			var metaData = ModelMetadata.FromLambdaExpression(expression, htmlHelper.ViewData);
			var propertyName = metaData.PropertyName;
			var propertyValue = htmlHelper.ViewData.Eval(propertyName).ToStringOrEmpty();
			var enumeratedType = typeof(TListItem);

			//build the select tag
			var returnText = string.Format(""<select id=\""{0}\"" name=\""{0}\"""", HttpUtility.HtmlEncode(propertyName));
			if (htmlAttributes != null)
			{
				foreach (var kvp in htmlAttributes.GetType().GetProperties()
				 .ToDictionary(p => p.Name, p => p.GetValue(htmlAttributes, null)))
				{
					returnText += string.Format("" {0}=\""{1}\"""", HttpUtility.HtmlEncode(kvp.Key),
					 HttpUtility.HtmlEncode(kvp.Value.ToStringOrEmpty()));
				}
			}
			returnText += "">\n"";

			//build the options tags
			foreach (TListItem listItem in enumeratedItems)
			{
				var idValue = enumeratedType.GetProperties()
				 .FirstOrDefault(p => p.Name == idPropertyName)
				 .GetValue(listItem, null).ToStringOrEmpty();
				var titleValue = enumeratedType.GetProperties()
				 .FirstOrDefault(p => p.Name == titlePropertyName)
				 .GetValue(listItem, null).ToStringOrEmpty();
				var displayValue = enumeratedType.GetProperties()
				 .FirstOrDefault(p => p.Name == displayPropertyName)
				 .GetValue(listItem, null).ToStringOrEmpty();
				returnText += string.Format(""<option value=\""{0}\"" title=\""{1}\"""",
				 HttpUtility.HtmlEncode(idValue), HttpUtility.HtmlEncode(titleValue));
				if (idValue == propertyValue)
				{
					returnText += "" selected=\""selected\"""";
				}
				returnText += string.Format("">{0}</option>\n"", displayValue);
			}

			//close the select tag
			returnText += ""</select>"";
			return new HtmlString(returnText);
		}

...this works swimmingly, but there are times when I want to go further.  I'd like to customize the id, display, and title pieces of this beast without having to write out the html.  For example, if I have some classes in a model like so:

    public class item
    {
        public int itemId { get; set; }
        public string itemName { get; set; }
        public string itemDescription { get; set; }
    }

    public class model
    {
        public IEnumerable<item> items { get; set; }
        public int itemId { get; set; }
    }

In my view I can write:

    @Html.SelectFor(m => m.itemId, Model.items, ""itemId"", ""itemName"", ""itemDescription"", null)

...and I'll get a nice dropdown with title attributes etc.  This is great as long as the enumerated items have properties exactly as I'd like to display them.  But what I'd really like to do is something like:

    @Html.SelectFor(m => m.itemId, Model.items, id=>id.itemId, disp=>disp.itemName, title=>title.itemName + "" "" + title.itemDescription, null)

...and have, in this case, the title attribute on the options be a concatenation of the `itemName` property and the `itemDescription` property.  I confess the meta-level of lambda expressions and Linq functions has got me a little dizzy.  Can someone point me in the right direction?

",linq,asp.net-mvc-3,c#-4.0,linq-expressions,,,open,0,405,8,"Fun (?) with Linq Expressions in extension methods I wrote an HtmlHelper expression I use a lot of the time to put title tags into my dropdown lists like so:

		public static HtmlString SelectFor<TModel, TProperty, TListItem>(
			this HtmlHelper<TModel> htmlHelper,
			Expression<Func<TModel, TProperty>> expression,
			IEnumerable<TListItem> enumeratedItems,
			string idPropertyName,
			string displayPropertyName,
			string titlePropertyName,
			object htmlAttributes) where TModel : class
		{
			//initialize values
			var metaData = ModelMetadata.FromLambdaExpression(expression, htmlHelper.ViewData);
			var propertyName = metaData.PropertyName;
			var propertyValue = htmlHelper.ViewData.Eval(propertyName).ToStringOrEmpty();
			var enumeratedType = typeof(TListItem);

			//build the select tag
			var returnText = string.Format(""<select id=\""{0}\"" name=\""{0}\"""", HttpUtility.HtmlEncode(propertyName));
			if (htmlAttributes != null)
			{
				foreach (var kvp in htmlAttributes.GetType().GetProperties()
				 .ToDictionary(p => p.Name, p => p.GetValue(htmlAttributes, null)))
				{
					returnText += string.Format("" {0}=\""{1}\"""", HttpUtility.HtmlEncode(kvp.Key),
					 HttpUtility.HtmlEncode(kvp.Value.ToStringOrEmpty()));
				}
			}
			returnText += "">\n"";

			//build the options tags
			foreach (TListItem listItem in enumeratedItems)
			{
				var idValue = enumeratedType.GetProperties()
				 .FirstOrDefault(p => p.Name == idPropertyName)
				 .GetValue(listItem, null).ToStringOrEmpty();
				var titleValue = enumeratedType.GetProperties()
				 .FirstOrDefault(p => p.Name == titlePropertyName)
				 .GetValue(listItem, null).ToStringOrEmpty();
				var displayValue = enumeratedType.GetProperties()
				 .FirstOrDefault(p => p.Name == displayPropertyName)
				 .GetValue(listItem, null).ToStringOrEmpty();
				returnText += string.Format(""<option value=\""{0}\"" title=\""{1}\"""",
				 HttpUtility.HtmlEncode(idValue), HttpUtility.HtmlEncode(titleValue));
				if (idValue == propertyValue)
				{
					returnText += "" selected=\""selected\"""";
				}
				returnText += string.Format("">{0}</option>\n"", displayValue);
			}

			//close the select tag
			returnText += ""</select>"";
			return new HtmlString(returnText);
		}

...this works swimmingly, but there are times when I want to go further.  I'd like to customize the id, display, and title pieces of this beast without having to write out the html.  For example, if I have some classes in a model like so:

    public class item
    {
        public int itemId { get; set; }
        public string itemName { get; set; }
        public string itemDescription { get; set; }
    }

    public class model
    {
        public IEnumerable<item> items { get; set; }
        public int itemId { get; set; }
    }

In my view I can write:

    @Html.SelectFor(m => m.itemId, Model.items, ""itemId"", ""itemName"", ""itemDescription"", null)

...and I'll get a nice dropdown with title attributes etc.  This is great as long as the enumerated items have properties exactly as I'd like to display them.  But what I'd really like to do is something like:

    @Html.SelectFor(m => m.itemId, Model.items, id=>id.itemId, disp=>disp.itemName, title=>title.itemName + "" "" + title.itemDescription, null)

...and have, in this case, the title attribute on the options be a concatenation of the `itemName` property and the `itemDescription` property.  I confess the meta-level of lambda expressions and Linq functions has got me a little dizzy.  Can someone point me in the right direction?

",4
2587502,04/06/2010 19:01:40,14101,09/16/2008 21:59:19,421,20,"Converting IGrouping<T,U> to IGrouping<T,V> using LINQ ",How can I do this conversion?  Is it possible with some simple LINQ query?,linq,,,,,,open,0,15,7,"Converting IGrouping<T,U> to IGrouping<T,V> using LINQ  How can I do this conversion?  Is it possible with some simple LINQ query?",1
5362612,03/19/2011 14:11:48,394702,07/17/2010 15:21:23,3,0,Expressions value evaluvation,"I'm trying to create expression trees using Linq.Expressions and evaluvate them at runtime.I was wondering if there's a way to populate values based on the operator.
Example: My expression is : (x<=100) && (50!=y).What can be the values of x and y? For a true and false scenario?.Is there a way to find them using Expression object?",linq,c#-4.0,,,,,open,0,56,3,"Expressions value evaluvation I'm trying to create expression trees using Linq.Expressions and evaluvate them at runtime.I was wondering if there's a way to populate values based on the operator.
Example: My expression is : (x<=100) && (50!=y).What can be the values of x and y? For a true and false scenario?.Is there a way to find them using Expression object?",2
5999618,05/14/2011 03:24:49,10659,09/16/2008 00:45:01,3899,265,How do I LINQify this?,"Resharper says I can but I don't see how.  There are several examples of the form:

    foreach (ItemType Item in ListOfItems)
        if (ConditionalInvolvingItem)
            Total += ItemProperty;

Of course I could make a sublist on the conditional and then sum the items in the sublist but this would be no clearer and would run slower.",linq,resharper,,,,,open,0,75,5,"How do I LINQify this? Resharper says I can but I don't see how.  There are several examples of the form:

    foreach (ItemType Item in ListOfItems)
        if (ConditionalInvolvingItem)
            Total += ItemProperty;

Of course I could make a sublist on the conditional and then sum the items in the sublist but this would be no clearer and would run slower.",2
11055097,06/15/2012 16:57:19,1459313,06/15/2012 16:55:06,1,0,Convert this LINQ statement to SQL,"I have this SQL 
SELECT     dbo.ProductPrices.ProductPriceTypePrice
FROM         dbo.Customers INNER JOIN
                      dbo.ShoppingCart ON dbo.Customers.CustomerId = dbo.ShoppingCart.ShoppingCartCustomerId INNER JOIN
                      dbo.Products ON dbo.ShoppingCart.ShoppingCartProductId = dbo.Products.ProductId INNER JOIN
                      dbo.ProductPrices ON dbo.Products.ProductId = dbo.ProductPrices.ProductPriceTypeProductId INNER JOIN
                      dbo.PriceTypes ON dbo.Customers.CustomerPriceType = dbo.PriceTypes.PriceTypeId AND dbo.ProductPrices.ProductPriceTypeTypeId = dbo.PriceTypes.PriceTypeId

Can someone help me convert it to LINQ because I cannot manage.",linq,,,,,06/22/2012 08:53:24,not a real question,1,146,6,"Convert this LINQ statement to SQL I have this SQL 
SELECT     dbo.ProductPrices.ProductPriceTypePrice
FROM         dbo.Customers INNER JOIN
                      dbo.ShoppingCart ON dbo.Customers.CustomerId = dbo.ShoppingCart.ShoppingCartCustomerId INNER JOIN
                      dbo.Products ON dbo.ShoppingCart.ShoppingCartProductId = dbo.Products.ProductId INNER JOIN
                      dbo.ProductPrices ON dbo.Products.ProductId = dbo.ProductPrices.ProductPriceTypeProductId INNER JOIN
                      dbo.PriceTypes ON dbo.Customers.CustomerPriceType = dbo.PriceTypes.PriceTypeId AND dbo.ProductPrices.ProductPriceTypeTypeId = dbo.PriceTypes.PriceTypeId

Can someone help me convert it to LINQ because I cannot manage.",1
11632603,07/24/2012 14:03:28,1120218,12/29/2011 00:05:37,1,0,SQL query into LINQ?,"    SELECT     GHid
FROM         Gharardad
WHERE     Pid in(SELECT     Pid
FROM         Peymankar
WHERE     (Fname = N'txtfname') AND (Lname = N'txtlname'))",linq,,,,,07/24/2012 14:09:27,not constructive,1,50,4,"SQL query into LINQ?     SELECT     GHid
FROM         Gharardad
WHERE     Pid in(SELECT     Pid
FROM         Peymankar
WHERE     (Fname = N'txtfname') AND (Lname = N'txtlname'))",1
2097539,01/19/2010 22:11:05,16492,09/17/2008 17:39:00,126,5,Linq where column == (null reference) not the same as column == null,"I came across a rather strange problem with linq-to-sql. In the following example,

    var survey = (from s in dbContext.crmc_Surveys
                                       where (s.crmc_Retail_Trade_Id == tradeId) && (s.State_.Equals(state))
                                       select s).First();

If tradeId is null, it doesn't behave as if I had specified null specifically like this instead,

    var survey = (from s in dbContext.crmc_Surveys
                                       where (s.crmc_Retail_Trade_Id == null) && (s.State_.Equals(state))
                                       select s).First();

Which is my desired behavior. In fact it doesn't return anything unless both values are non-null. I can't figure out how to accomplish this short of several different linq queries. Any ideas?",linq,c#,.net,linq-to-sql,,,open,0,248,13,"Linq where column == (null reference) not the same as column == null I came across a rather strange problem with linq-to-sql. In the following example,

    var survey = (from s in dbContext.crmc_Surveys
                                       where (s.crmc_Retail_Trade_Id == tradeId) && (s.State_.Equals(state))
                                       select s).First();

If tradeId is null, it doesn't behave as if I had specified null specifically like this instead,

    var survey = (from s in dbContext.crmc_Surveys
                                       where (s.crmc_Retail_Trade_Id == null) && (s.State_.Equals(state))
                                       select s).First();

Which is my desired behavior. In fact it doesn't return anything unless both values are non-null. I can't figure out how to accomplish this short of several different linq queries. Any ideas?",4
3651023,09/06/2010 11:21:58,408825,08/02/2010 15:56:28,13,1,How do I buid a WCF Query on the fly?,"I'd like to build some linq or alternatively, build a query string on the fly and pass it to a WCF Data Service (with Entity Framework data model).

Something like this:

 public List<DocumentInformationRecord> SearchClientDocs(string clientCode,
            string clientName, string contactName, string groupCode, string groupName,
            string filename, string createdby, DateTime dateFrom, DateTime dateTo)
        {
            List<DocumentInformationRecord> results = new List<DocumentInformationRecord>();
if(!string.IsNullOrEmpty(clientCode)) 
//Add the client code clause...

etc..

var qry = from c in context.DocumentInformationRecord.where(dynamicQuery);

            //Etc......

Any ideas?  I tried the predicate builder (http://www.albahari.com/nutshell/predicatebuilder.aspx) but got some invalid operation exceptions.....",linq,entity-framework,entity,wcf-data-services,,,open,0,133,10,"How do I buid a WCF Query on the fly? I'd like to build some linq or alternatively, build a query string on the fly and pass it to a WCF Data Service (with Entity Framework data model).

Something like this:

 public List<DocumentInformationRecord> SearchClientDocs(string clientCode,
            string clientName, string contactName, string groupCode, string groupName,
            string filename, string createdby, DateTime dateFrom, DateTime dateTo)
        {
            List<DocumentInformationRecord> results = new List<DocumentInformationRecord>();
if(!string.IsNullOrEmpty(clientCode)) 
//Add the client code clause...

etc..

var qry = from c in context.DocumentInformationRecord.where(dynamicQuery);

            //Etc......

Any ideas?  I tried the predicate builder (http://www.albahari.com/nutshell/predicatebuilder.aspx) but got some invalid operation exceptions.....",4
3663914,09/08/2010 01:09:45,441948,09/08/2010 01:09:45,1,0,Query a for a specific object type in a collection,"If you have two objects, ObjectA and ObjectB both inheriting from AbstractObject and a collection of AbstractObject. What would a linq statement look like where I select all objects in the collection of specific type. ex. something like:

    var allBs = from b in collection where type == ObjectB select b;",linq,,,,,,open,0,54,10,"Query a for a specific object type in a collection If you have two objects, ObjectA and ObjectB both inheriting from AbstractObject and a collection of AbstractObject. What would a linq statement look like where I select all objects in the collection of specific type. ex. something like:

    var allBs = from b in collection where type == ObjectB select b;",1
5177277,03/03/2011 06:05:15,642440,03/03/2011 05:44:22,1,1,Why does LINQ Date Column comparison not work?,"For a LINQ query like:

    var entities = from Account p in context.Accounts
                               where p.LastTimeServerSettingsChanged > p.LastTimeDeviceConnected
                               select p;

the query that is generated is:

    SELECT 
    [Extent1].[Username] AS [Username],
    [Extent1].[LastTimeDeviceConnected] AS [LastTimeDeviceConnected], 
    [Extent1].[LastTimeServerSettingsChanged] AS [LastTimeServerSettingsChanged]
    FROM [dbo].[Policy] AS [Extent1]
    WHERE [Extent1].[LastTimeServerSettingsChanged] > [Extent1].[LastTimeDeviceConnected]

And this does not work (no results).

My question is why, and how can this query be performed (using LINQ)?",linq,linq-to-sql,datetime,linq-to-entities,,,open,0,143,8,"Why does LINQ Date Column comparison not work? For a LINQ query like:

    var entities = from Account p in context.Accounts
                               where p.LastTimeServerSettingsChanged > p.LastTimeDeviceConnected
                               select p;

the query that is generated is:

    SELECT 
    [Extent1].[Username] AS [Username],
    [Extent1].[LastTimeDeviceConnected] AS [LastTimeDeviceConnected], 
    [Extent1].[LastTimeServerSettingsChanged] AS [LastTimeServerSettingsChanged]
    FROM [dbo].[Policy] AS [Extent1]
    WHERE [Extent1].[LastTimeServerSettingsChanged] > [Extent1].[LastTimeDeviceConnected]

And this does not work (no results).

My question is why, and how can this query be performed (using LINQ)?",4
10955567,06/08/2012 20:19:20,133244,07/05/2009 00:19:26,369,14,How to extend this LINQ List<>.Contains to work with any Property using Reflection?,"I have the following snippet that I currently use to run a .Contains() with a list of Ids passed as a comma separated list from users. This code works perfectly and the data is filtered exactly as I want it to be:

    // Handle id in() statements explicitly, dynamic expression can't parse them
    var idIn = new Regex(""id in ?(.*)"", RegexOptions.IgnoreCase);
    if (idIn.IsMatch(predicate))
    {
    	Match list = new Regex(@""in ?\((.*)\)"", RegexOptions.IgnoreCase).Match(predicate);
    	string ins = list.Groups[1].ToString();
    
    	// Split ins and store as List<>
    	List<int> splitValues = ins.Split(new[] {','}, StringSplitOptions.RemoveEmptyEntries).Select(i => Convert.ToInt32(i)).ToList();
    
    	return source.Where(u => splitValues.Contains(u.Id));
    }

I want to be able to use this same idea, except with ANY property of the u object using reflection. I had a version of this working at some point, but cannot for the life of me figure out what has changed or why it stopped working. Here is the version I have that I cannot get working again:

    Match splitIn = new Regex(@""([a-zA-Z0-9\.]*) IN ?\((.*)\)"", RegexOptions.IgnoreCase).Match(predicate);
    string property = splitIn.Groups[1].ToString();
    string ins = splitIn.Groups[2].ToString().Trim(new[] {'\'', '""'}); // Trim off separator quotes
    
    List<string> splitValues = ins.Split(new[] {','}, StringSplitOptions.RemoveEmptyEntries).ToList();
    for (int i = 0; i < splitValues.Count; i++)
    {
    	splitValues[i] = splitValues[i].Trim(new[] {'\'', '""'});
    }
    
    Expression<Func<U, bool>> contains = u => ListContainsProperty(u, splitValues, property);
    return source.Where(contains);


----------


    private static bool ListContainsProperty<U>(U u, ICollection<string> list, string property)
    {
    	string[] split = property.Split(new[] {"".""}, StringSplitOptions.RemoveEmptyEntries);
    	object value = split.Aggregate<string, object>(u, (current, prop) => current.GetType().GetProperty(prop).GetValue(current, null));
    
    	return list.Contains(value.ToString());
    }

As I said I once had SOME version of this working, but cannot figure out what has changed. Is there something blatantly obvious that I am missing that would help me get this functional again?

Edit: As far as I can tell the ListContainsProperty method is never actually running. Adding a ""throw new Exception()"" does nothing. I just get the full unfiltered list back.",linq,nhibernate,reflection,dynamic-linq,,,open,0,398,13,"How to extend this LINQ List<>.Contains to work with any Property using Reflection? I have the following snippet that I currently use to run a .Contains() with a list of Ids passed as a comma separated list from users. This code works perfectly and the data is filtered exactly as I want it to be:

    // Handle id in() statements explicitly, dynamic expression can't parse them
    var idIn = new Regex(""id in ?(.*)"", RegexOptions.IgnoreCase);
    if (idIn.IsMatch(predicate))
    {
    	Match list = new Regex(@""in ?\((.*)\)"", RegexOptions.IgnoreCase).Match(predicate);
    	string ins = list.Groups[1].ToString();
    
    	// Split ins and store as List<>
    	List<int> splitValues = ins.Split(new[] {','}, StringSplitOptions.RemoveEmptyEntries).Select(i => Convert.ToInt32(i)).ToList();
    
    	return source.Where(u => splitValues.Contains(u.Id));
    }

I want to be able to use this same idea, except with ANY property of the u object using reflection. I had a version of this working at some point, but cannot for the life of me figure out what has changed or why it stopped working. Here is the version I have that I cannot get working again:

    Match splitIn = new Regex(@""([a-zA-Z0-9\.]*) IN ?\((.*)\)"", RegexOptions.IgnoreCase).Match(predicate);
    string property = splitIn.Groups[1].ToString();
    string ins = splitIn.Groups[2].ToString().Trim(new[] {'\'', '""'}); // Trim off separator quotes
    
    List<string> splitValues = ins.Split(new[] {','}, StringSplitOptions.RemoveEmptyEntries).ToList();
    for (int i = 0; i < splitValues.Count; i++)
    {
    	splitValues[i] = splitValues[i].Trim(new[] {'\'', '""'});
    }
    
    Expression<Func<U, bool>> contains = u => ListContainsProperty(u, splitValues, property);
    return source.Where(contains);


----------


    private static bool ListContainsProperty<U>(U u, ICollection<string> list, string property)
    {
    	string[] split = property.Split(new[] {"".""}, StringSplitOptions.RemoveEmptyEntries);
    	object value = split.Aggregate<string, object>(u, (current, prop) => current.GetType().GetProperty(prop).GetValue(current, null));
    
    	return list.Contains(value.ToString());
    }

As I said I once had SOME version of this working, but cannot figure out what has changed. Is there something blatantly obvious that I am missing that would help me get this functional again?

Edit: As far as I can tell the ListContainsProperty method is never actually running. Adding a ""throw new Exception()"" does nothing. I just get the full unfiltered list back.",4
3054732,06/16/2010 15:28:22,368327,06/16/2010 14:24:30,1,0,LINQ Query with dynamic where clause based on search criteria that is NOT part of the returned object,"I have an AlumniRecords table with 60+ columns.  I created an AlumniSearchResults class that only contains the handful of fields I need for display in a table of search results.  This is an MVC2 app so I want to keep the objects clean (in other words, I don't want to pass the 60+ field object to my view).  I am trying to build my AlumniSearchResult as part of my query against AlumniRecords.  This worked fine BUT I also want to dynamically add where clauses only if they are in the SearchCriteria object - the problem is my search criteria are not necessarily in the results object (for instance lastname).

FIRST TRY:

    var alumniRecords = iuaaOlcEntities.AlumniRecords;

            if (searchCriteria.lastname != null) alumniRecords.Where(ar => ar.lastname == searchCriteria.lastname);

            return alumniRecords.Select(ar => new AlumniSearchResult
            {
                person_id = ar.person_id,
                fullname  = ar.fullname,
                city      = ar.city,
                state     = ar.state,
                emp_name  = ar.emp_name,
                emp_title = ar.emp_title
            }); 

This just ignores the where clause for lastname.  I cannot chain the where clause after select because AlumniSearchResult has no lastname field.

SECOND TRY:

                var searchResults = from ar in iuaaOlcEntities.AlumniRecords
                                where ar.lastname == searchCriteria.lastname
                                select new AlumniSearchResult
                                {
                                    person_id = ar.person_id,
                                    fullname  = ar.fullname,
                                    city      = ar.city,
                                    state     = ar.state,
                                    emp_name  = ar.emp_name,
                                    emp_title = ar.emp_title
                                };

This format works but I have a dozen search criteria and only want to add ""ar.lastname == searchCriteria.lastname"" searchCriteria.lastname has a value.

Any thoughts for this LINQ newb?",linq,query,,,,,open,0,744,18,"LINQ Query with dynamic where clause based on search criteria that is NOT part of the returned object I have an AlumniRecords table with 60+ columns.  I created an AlumniSearchResults class that only contains the handful of fields I need for display in a table of search results.  This is an MVC2 app so I want to keep the objects clean (in other words, I don't want to pass the 60+ field object to my view).  I am trying to build my AlumniSearchResult as part of my query against AlumniRecords.  This worked fine BUT I also want to dynamically add where clauses only if they are in the SearchCriteria object - the problem is my search criteria are not necessarily in the results object (for instance lastname).

FIRST TRY:

    var alumniRecords = iuaaOlcEntities.AlumniRecords;

            if (searchCriteria.lastname != null) alumniRecords.Where(ar => ar.lastname == searchCriteria.lastname);

            return alumniRecords.Select(ar => new AlumniSearchResult
            {
                person_id = ar.person_id,
                fullname  = ar.fullname,
                city      = ar.city,
                state     = ar.state,
                emp_name  = ar.emp_name,
                emp_title = ar.emp_title
            }); 

This just ignores the where clause for lastname.  I cannot chain the where clause after select because AlumniSearchResult has no lastname field.

SECOND TRY:

                var searchResults = from ar in iuaaOlcEntities.AlumniRecords
                                where ar.lastname == searchCriteria.lastname
                                select new AlumniSearchResult
                                {
                                    person_id = ar.person_id,
                                    fullname  = ar.fullname,
                                    city      = ar.city,
                                    state     = ar.state,
                                    emp_name  = ar.emp_name,
                                    emp_title = ar.emp_title
                                };

This format works but I have a dozen search criteria and only want to add ""ar.lastname == searchCriteria.lastname"" searchCriteria.lastname has a value.

Any thoughts for this LINQ newb?",2
3783611,09/24/2010 01:25:50,39478,11/20/2008 21:39:57,1317,56,With LINQ how do you return a string const in the result from the select operator.,"In LinqPad I have the following query statements...

    var genre = ""Anime & Animation"";
    var minRating = 3.0;
    var topNum = 30;
    
    var query = 
    	(from g in Genres
    	from t in g.Titles 
    	where g.Name==genre
    	&& t.Instant.Available==true
    	&& t.AverageRating >= minRating
    	orderby t.AverageRating descending 
    	select new {t.Name, t.Rating, t.AverageRating, t.ShortSynopsis}).Take(topNum);
    	
    query.Dump(string.Format(""Top {0} {1} Instant Watch Movies with a {2:0.0} minimum average rating sorted by average rating in descending order."",topNum,genre,minRating));


I want to return the genre string variable in the result set.  

Another way to ask, with TSQL I would do ""SELECT field1, field2, 'Action & Adventure' as genre from MyTitles"".  So how do you do that in Linq.

Seth",linq,linqpad,,,,,open,0,156,16,"With LINQ how do you return a string const in the result from the select operator. In LinqPad I have the following query statements...

    var genre = ""Anime & Animation"";
    var minRating = 3.0;
    var topNum = 30;
    
    var query = 
    	(from g in Genres
    	from t in g.Titles 
    	where g.Name==genre
    	&& t.Instant.Available==true
    	&& t.AverageRating >= minRating
    	orderby t.AverageRating descending 
    	select new {t.Name, t.Rating, t.AverageRating, t.ShortSynopsis}).Take(topNum);
    	
    query.Dump(string.Format(""Top {0} {1} Instant Watch Movies with a {2:0.0} minimum average rating sorted by average rating in descending order."",topNum,genre,minRating));


I want to return the genre string variable in the result set.  

Another way to ask, with TSQL I would do ""SELECT field1, field2, 'Action & Adventure' as genre from MyTitles"".  So how do you do that in Linq.

Seth",2
7203912,08/26/2011 11:23:01,812598,06/23/2011 16:12:05,46,6,SQL IN clause with two columns into Linq,"how would you guys transform this query into Linq?

    SELECT *
    FROM Test T1
    WHERE  (convert(VARCHAR,T1.IdVersFirmFuente) + convert(VARCHAR,T1.IdVersLib)) 
    IN 
    (
     Select TOP 1 convert(VARCHAR,T2.IdVersFirmFuente) + convert(VARCHAR,T2.IdVersLib)
     From Test T2
     Where T2.IdVersFirmFuente = T1.IdVersFirmFuente
     ORDER BY T2.CodVersion DESC
    )

It should be something like this:

    var Resul = (from u in nDT2.AsEnumerable()
                where (String.Concat(u.Field<int>(""IdVersionLibreria"").ToString(),u.Field<int>(""IdVersionFirmwareFuente"").ToString()))
                        .Contains(
                            (from y in nDT2.AsEnumerable()
                            where y.Field<int>(""IdVersionFirmwareFuente"") == u.Field<int>(""IdVersionFirmwareFuente"")
                            orderby y.Field<String>(""CodVersion"") descending
                            select String.Concat(y.Field<int>(""IdVersionLibreria"").ToString(),y.Field<int>(""IdVersionFirmwareFuente"").ToString())
                            ).Take(1))
                select u);


----------


The aim is to get those unique ""IdVersFirmFuente"" with the highest CodVersion (if there are many)

**IdVersFirmFuente, IdVersLib, IdVersion, CodVersion**

236	628	628	1.0.0.0

236	629	629	1.0.0.1

237	628	628	1.0.0.0

239	628	628	1.0.0.0


**The result would be:**

236	629	629	1.0.0.1

237	628	628	1.0.0.0

239	628	628	1.0.0.0


Thanks in advance",linq,,,,,,open,0,320,8,"SQL IN clause with two columns into Linq how would you guys transform this query into Linq?

    SELECT *
    FROM Test T1
    WHERE  (convert(VARCHAR,T1.IdVersFirmFuente) + convert(VARCHAR,T1.IdVersLib)) 
    IN 
    (
     Select TOP 1 convert(VARCHAR,T2.IdVersFirmFuente) + convert(VARCHAR,T2.IdVersLib)
     From Test T2
     Where T2.IdVersFirmFuente = T1.IdVersFirmFuente
     ORDER BY T2.CodVersion DESC
    )

It should be something like this:

    var Resul = (from u in nDT2.AsEnumerable()
                where (String.Concat(u.Field<int>(""IdVersionLibreria"").ToString(),u.Field<int>(""IdVersionFirmwareFuente"").ToString()))
                        .Contains(
                            (from y in nDT2.AsEnumerable()
                            where y.Field<int>(""IdVersionFirmwareFuente"") == u.Field<int>(""IdVersionFirmwareFuente"")
                            orderby y.Field<String>(""CodVersion"") descending
                            select String.Concat(y.Field<int>(""IdVersionLibreria"").ToString(),y.Field<int>(""IdVersionFirmwareFuente"").ToString())
                            ).Take(1))
                select u);


----------


The aim is to get those unique ""IdVersFirmFuente"" with the highest CodVersion (if there are many)

**IdVersFirmFuente, IdVersLib, IdVersion, CodVersion**

236	628	628	1.0.0.0

236	629	629	1.0.0.1

237	628	628	1.0.0.0

239	628	628	1.0.0.0


**The result would be:**

236	629	629	1.0.0.1

237	628	628	1.0.0.0

239	628	628	1.0.0.0


Thanks in advance",1
7487714,09/20/2011 15:28:01,955106,09/20/2011 15:28:01,1,0,MVC LINQ Order by => Method System.String ToShortDateString()' has no supported Translation,"I am querying object using LINQ to SQL. One of my objects has a datetime column. When I add myobject.OrderBy(model=>model.DateTimeColumn) I get that System.String toshortdatestring() has no translation error. Not sure why its even trying to convert this to a shortdate string. Any ideas?

Code Snippet:
//Review is the top object. It pulls in a list of policies. The policy has a processing date
// I am setting a paged object equal to the below object.

ViewData[""listOfPolicies""] = new PaginatedList<Policy>((IQueryable<Policy>)selectedReview.Policies.OrderBy(m=>m.NBSourceProcessDate), page ?? 0, pageSize);

",linq,mvc,,,,,open,0,80,12,"MVC LINQ Order by => Method System.String ToShortDateString()' has no supported Translation I am querying object using LINQ to SQL. One of my objects has a datetime column. When I add myobject.OrderBy(model=>model.DateTimeColumn) I get that System.String toshortdatestring() has no translation error. Not sure why its even trying to convert this to a shortdate string. Any ideas?

Code Snippet:
//Review is the top object. It pulls in a list of policies. The policy has a processing date
// I am setting a paged object equal to the below object.

ViewData[""listOfPolicies""] = new PaginatedList<Policy>((IQueryable<Policy>)selectedReview.Policies.OrderBy(m=>m.NBSourceProcessDate), page ?? 0, pageSize);

",2
9469470,02/27/2012 17:36:20,1226515,02/22/2012 17:44:36,4,1,lambda expression issue,"I am new to lambda expressions and I am having issues tyrign to figure out how to represnet my entity framework query in one.  I also coudl be wrong and there is just a better way to do what  I want.  If this is true please let me know.  My scenario is I have an advanced search screen where you coudl choose to search bu name, customer number, or phoen number.  You can search by more than 1 if you want.  I am using Entity Framework as my backend and have repositories set up for my tables.  Below is the code I am trying to use 

                Func<Parties, bool> exp;

                exp = null;

                if (vm.CustomerNumberCriteria != null)
                {
                    custID = Convert.ToInt32(vm.CustomerNumberCriteria);
                    exp = o => o.ID == custID;
                }
                    

                if (vm.NameCriteria != null)

                    exp += o => o.LastName.Contains(vm.NameCriteria) || o.FirstName.Contains(vm.NameCriteria) || o.MiddleName.Contains(vm.NameCriteria) || o.Designation.Contains(vm.NameCriteria);

                if (vm.PhoneNumberCriteria != null)

                    exp += o => o.CentralPhoneNumbers.Any(child => child.PhoneNumber == vm.PhoneNumberCriteria);

                //TODO set tempresults
                tempresults = custs.All.Where(exp).ToList();


My issue is it seems to treat this like an and and I need results if there is a match on any of the search crierea.

Thanks",linq,entity-framework,lambda,,,,open,0,426,3,"lambda expression issue I am new to lambda expressions and I am having issues tyrign to figure out how to represnet my entity framework query in one.  I also coudl be wrong and there is just a better way to do what  I want.  If this is true please let me know.  My scenario is I have an advanced search screen where you coudl choose to search bu name, customer number, or phoen number.  You can search by more than 1 if you want.  I am using Entity Framework as my backend and have repositories set up for my tables.  Below is the code I am trying to use 

                Func<Parties, bool> exp;

                exp = null;

                if (vm.CustomerNumberCriteria != null)
                {
                    custID = Convert.ToInt32(vm.CustomerNumberCriteria);
                    exp = o => o.ID == custID;
                }
                    

                if (vm.NameCriteria != null)

                    exp += o => o.LastName.Contains(vm.NameCriteria) || o.FirstName.Contains(vm.NameCriteria) || o.MiddleName.Contains(vm.NameCriteria) || o.Designation.Contains(vm.NameCriteria);

                if (vm.PhoneNumberCriteria != null)

                    exp += o => o.CentralPhoneNumbers.Any(child => child.PhoneNumber == vm.PhoneNumberCriteria);

                //TODO set tempresults
                tempresults = custs.All.Where(exp).ToList();


My issue is it seems to treat this like an and and I need results if there is a match on any of the search crierea.

Thanks",3
1424052,09/14/2009 21:38:38,98389,04/30/2009 09:14:47,1116,53,How to evaluate a standalone boolean expression in a LINQ expression tree,"I'm using the standard visitor pattern to iterate through a LINQ expression tree in order to generate dynamic SQL WHERE clauses.

My issue is that unlike C#, you can't use a standalone boolean expression in SQL; you have to compare it to either 1 or 0.

Given this hypothetical lambda expression:

    h => h.Enabled || h.Enabled == false

It would be easy to mistakenly generate this code:

    WHERE Enabled OR Enabled = 0

or this code:

    WHERE (Enabled = 1) OR (Enabled = 1) = 0

Both of course will generate an SQL error. What logic should I apply to get around this without my code starting to look really obtuse as I delve deep into subtrees to figure out what the case may be?

Note: The example above is of course redundant - I am only using it to illustrate a point.",linq,lambda,expression-trees,c#,,,open,0,146,12,"How to evaluate a standalone boolean expression in a LINQ expression tree I'm using the standard visitor pattern to iterate through a LINQ expression tree in order to generate dynamic SQL WHERE clauses.

My issue is that unlike C#, you can't use a standalone boolean expression in SQL; you have to compare it to either 1 or 0.

Given this hypothetical lambda expression:

    h => h.Enabled || h.Enabled == false

It would be easy to mistakenly generate this code:

    WHERE Enabled OR Enabled = 0

or this code:

    WHERE (Enabled = 1) OR (Enabled = 1) = 0

Both of course will generate an SQL error. What logic should I apply to get around this without my code starting to look really obtuse as I delve deep into subtrees to figure out what the case may be?

Note: The example above is of course redundant - I am only using it to illustrate a point.",4
10808279,05/29/2012 23:50:29,1424876,05/29/2012 23:38:30,1,0,Grouping in LINQ by using ranges and calculated values,"Can some Please let me know how I can write a LINQ equivalent statement for:


            **string cmdText = ""SELECT FLOOR(Value / @Step) * @Step AS Bin, COUNT(*) AS Cnt FROM Measurements "" + ""WHERE (StepId = @StepId) GROUP BY Bin ORDER BY Bin"";**

Thanks!
Martin",linq,grouping,ranges,,,05/30/2012 11:14:33,too localized,1,54,9,"Grouping in LINQ by using ranges and calculated values Can some Please let me know how I can write a LINQ equivalent statement for:


            **string cmdText = ""SELECT FLOOR(Value / @Step) * @Step AS Bin, COUNT(*) AS Cnt FROM Measurements "" + ""WHERE (StepId = @StepId) GROUP BY Bin ORDER BY Bin"";**

Thanks!
Martin",3
4256562,11/23/2010 13:39:55,484482,10/22/2010 17:14:17,1,0,LINQ with joins and a List<GUI>,"Here's the SQL that I used to prototype the LINQ statement.  The GUID's in code are List<GUID>.  I tried for 3 hours and just don't get it.  Could some kind sole who can write LINQ in their sleep help me out.  TIA, George

SELECT DISTINCT  [id]
      ,[emailAddress]
      ,[name]
      ,[emailRunNumber]
  FROM [emailAddress]
  join promotionsJoin
  on promotionsJoin.EmailAddressId = emailAddress.id
  where promotionsJoin.promotionId in ('09464b57-f3d7-41ec-b0b1-cbc5999824bd',
  '8bc855b2-2f01-4083-b43a-dab7b7a81ac8') AND emailRunNumber is NULL

",linq,linq-to-entities,,,,,open,0,90,6,"LINQ with joins and a List<GUI> Here's the SQL that I used to prototype the LINQ statement.  The GUID's in code are List<GUID>.  I tried for 3 hours and just don't get it.  Could some kind sole who can write LINQ in their sleep help me out.  TIA, George

SELECT DISTINCT  [id]
      ,[emailAddress]
      ,[name]
      ,[emailRunNumber]
  FROM [emailAddress]
  join promotionsJoin
  on promotionsJoin.EmailAddressId = emailAddress.id
  where promotionsJoin.promotionId in ('09464b57-f3d7-41ec-b0b1-cbc5999824bd',
  '8bc855b2-2f01-4083-b43a-dab7b7a81ac8') AND emailRunNumber is NULL

",2
9297811,02/15/2012 17:05:21,1115430,12/25/2011 16:12:54,81,1,How to optimize linq query with intersect?," When the priceList is the small size of the query is executed quickly, but if the priceList of more than five elements of the query is very slow.

      if(!filters.Price.All && !filters.Price.IsEmpty())
            {
                var priceList = filters.Price.GetRangeList();
                    foreach (var price in priceList)
                    {
                        decimal startPrice = decimal.Parse(price[0]);
                        decimal endPrice = decimal.Parse(price[1]);
    
    
                        var priceResult = from deal in query
                                          where (deal.DiscountPrice >= startPrice && deal.DiscountPrice <= endPrice)
                                          select deal;
                        if(priceResult.Count() != 0)
                        priceResults = (priceResults == null) ? priceResult : priceResult.Union(priceResults);
                    }
                
                query = query.Intersect(priceResults);
            }",linq,optimization,query-optimization,,,,open,0,420,7,"How to optimize linq query with intersect?  When the priceList is the small size of the query is executed quickly, but if the priceList of more than five elements of the query is very slow.

      if(!filters.Price.All && !filters.Price.IsEmpty())
            {
                var priceList = filters.Price.GetRangeList();
                    foreach (var price in priceList)
                    {
                        decimal startPrice = decimal.Parse(price[0]);
                        decimal endPrice = decimal.Parse(price[1]);
    
    
                        var priceResult = from deal in query
                                          where (deal.DiscountPrice >= startPrice && deal.DiscountPrice <= endPrice)
                                          select deal;
                        if(priceResult.Count() != 0)
                        priceResults = (priceResults == null) ? priceResult : priceResult.Union(priceResults);
                    }
                
                query = query.Intersect(priceResults);
            }",3
11290859,07/02/2012 09:16:37,1495593,07/02/2012 09:00:22,1,0,Security and speed of linq with stored procedure,"I want to use linq with stored procedure in asp.net,
but if it reduces security of information, I prefer using linq without stored procedure.
Is there any source to guide me about this?",linq,security,stored-procedures,,,07/02/2012 17:13:58,not a real question,1,31,8,"Security and speed of linq with stored procedure I want to use linq with stored procedure in asp.net,
but if it reduces security of information, I prefer using linq without stored procedure.
Is there any source to guide me about this?",3
7587241,09/28/2011 17:35:40,882294,08/06/2011 23:43:11,14,0,Linq query for grouping,"I have to generate say Customers Report.

there is condition for grouping records like


   **grouped and/or filtered by CustomerFirstName\CustomerCity 
       or CustomerLastName\CustomerCity **
    
         so how my linq query looks?",linq,,,,,09/29/2011 03:42:48,not a real question,1,48,4,"Linq query for grouping I have to generate say Customers Report.

there is condition for grouping records like


   **grouped and/or filtered by CustomerFirstName\CustomerCity 
       or CustomerLastName\CustomerCity **
    
         so how my linq query looks?",1
7290997,09/03/2011 03:34:49,769083,05/25/2011 07:23:13,502,38,LINQ: Chain ID's from one row to another,"I have a table which has sort of a child->child->parent set up inside it. (It's a patchup im using on an existing old database so it's a little dodgy).

The class for the table: 

    public class Foo
    {
        int ID {get;set;}
        int ParentID  {get;set;}
        int BaseParentID {get;set;}
    }

Lets say i have a few records in there

    ID: 10, ParentID: 5, BaseParentID: 5
    ID: 05, ParentID: 1, BaseParentID: 5
    ID: 01, ParentID: 1, BaseParentID: 0

What I want to do, is get each of the ParentID's until the the baseparentid is 0. So in a way, it's stepping through the table from one record to another and retrieving it into a list of ID's.

The end result should be a list: `{ 10, 5, 1 }`

This is what I'm doing now (there is a limit of 4 at the moment, but i'd prefer it if there was no limit):

    var list = new List<int?>();
    var id = 10; // The first ID is given when this method is started.
    list.Add(id);
    int? pid = db.Foo.Where(w => w.ID == id).Single().BaseParentID; // i have this as a compiled query function
    if (pid != 0) {
        list.Add(pid);
        pid = db.Foo.Where(w => w.ID == pid).Single().BaseParentID; //  for the sake of this example i'm just using the query here
        if (pid != null) {
             list.Add(pid);
             // And so on
        }
    }

As you can see, it's a bit of a crappy way to do this. But i'm not sure if there's a way to do this in a fancy linq query. 

ps. The point of this is sort of a pseudo folder structure. ",linq,linq-to-sql,c#-4.0,c#-3.0,,,open,0,375,8,"LINQ: Chain ID's from one row to another I have a table which has sort of a child->child->parent set up inside it. (It's a patchup im using on an existing old database so it's a little dodgy).

The class for the table: 

    public class Foo
    {
        int ID {get;set;}
        int ParentID  {get;set;}
        int BaseParentID {get;set;}
    }

Lets say i have a few records in there

    ID: 10, ParentID: 5, BaseParentID: 5
    ID: 05, ParentID: 1, BaseParentID: 5
    ID: 01, ParentID: 1, BaseParentID: 0

What I want to do, is get each of the ParentID's until the the baseparentid is 0. So in a way, it's stepping through the table from one record to another and retrieving it into a list of ID's.

The end result should be a list: `{ 10, 5, 1 }`

This is what I'm doing now (there is a limit of 4 at the moment, but i'd prefer it if there was no limit):

    var list = new List<int?>();
    var id = 10; // The first ID is given when this method is started.
    list.Add(id);
    int? pid = db.Foo.Where(w => w.ID == id).Single().BaseParentID; // i have this as a compiled query function
    if (pid != 0) {
        list.Add(pid);
        pid = db.Foo.Where(w => w.ID == pid).Single().BaseParentID; //  for the sake of this example i'm just using the query here
        if (pid != null) {
             list.Add(pid);
             // And so on
        }
    }

As you can see, it's a bit of a crappy way to do this. But i'm not sure if there's a way to do this in a fancy linq query. 

ps. The point of this is sort of a pseudo folder structure. ",4
1534817,10/07/2009 23:42:54,44394,12/08/2008 20:09:58,177,3,LINQ update on joined collections,"How do I use LINQ to update objects in one list from objects in a second list? My question is very similar to [http://stackoverflow.com/questions/709560/linq-in-line-property-update-during-join][1] except that, in my case, the second list is smaller than the parent list.
In other words, I want to update those members of the master collection that have corresponding updates in a second collection. Otherwise I want the master object left unaltered. The technique in the article referenced above seems to result in an inner join of the two collections.

Thanks


  [1]: http://stackoverflow.com/questions/709560/linq-in-line-property-update-during-join",linq,outer-join,,,,,open,0,87,5,"LINQ update on joined collections How do I use LINQ to update objects in one list from objects in a second list? My question is very similar to [http://stackoverflow.com/questions/709560/linq-in-line-property-update-during-join][1] except that, in my case, the second list is smaller than the parent list.
In other words, I want to update those members of the master collection that have corresponding updates in a second collection. Otherwise I want the master object left unaltered. The technique in the article referenced above seems to result in an inner join of the two collections.

Thanks


  [1]: http://stackoverflow.com/questions/709560/linq-in-line-property-update-during-join",2
9557903,03/04/2012 19:02:47,845230,07/14/2011 18:54:28,89,2,LINQ-2-SQL expansion of relationships on ToList(),"I have a DataLayer class (LINQ2SQL, not entity framework) that returns rows from the database as follows:

        public ReadOnlyCollection<UserCars> Cars
        {
            get
            {
                using (var context = new TransportopiaDataContext())
                {
                    var result = (from car in context.UserCars
                                  where car.UserId == UserId
                                  select car);
                    return result.ToList().AsReadOnly();
                }
            }
        }

Now, as you know, you have to do the ToList() because the datacontext goes out of scope when you leave the using() clause.  The problem is that there are foreign key relationships; while the context is still in scope, you could do:

    string foo = car.Manufacturer.Name;

But doing that after context has been disposed causes an error.  So my question is:

""Is there some way of doing the ToList() such that foreign key relationships will also be expanded?""
",linq,linq-to-sql,,,,,open,0,331,6,"LINQ-2-SQL expansion of relationships on ToList() I have a DataLayer class (LINQ2SQL, not entity framework) that returns rows from the database as follows:

        public ReadOnlyCollection<UserCars> Cars
        {
            get
            {
                using (var context = new TransportopiaDataContext())
                {
                    var result = (from car in context.UserCars
                                  where car.UserId == UserId
                                  select car);
                    return result.ToList().AsReadOnly();
                }
            }
        }

Now, as you know, you have to do the ToList() because the datacontext goes out of scope when you leave the using() clause.  The problem is that there are foreign key relationships; while the context is still in scope, you could do:

    string foo = car.Manufacturer.Name;

But doing that after context has been disposed causes an error.  So my question is:

""Is there some way of doing the ToList() such that foreign key relationships will also be expanded?""
",2
2568887,04/02/2010 20:01:42,125278,06/18/2009 17:55:00,1529,68,Need help with this basic Contains<>() extension method and Lambda expressions,"Say I have the following class:

    class Foo
    {
        // ctor etc here
    
        public string Bar
        {
            get;
        }
    }


Now, I have a `LinkedList` of `Foo`s declared like so: `LinkedList<Foo>`

How would I write a basic Contains<>() for this?

I want to be able to do this:

    Foo foo = new Foo(someString);
    LinkedList<Foo> list = new LinkedList<foo>();
    
    // Populate list with Foos
    
    bool contains = list.Contains<Foo>(foo, (x => foo.Bar == x.Bar));

Am I trying to do this correctly?

Thanks",linq,c#,lambda,.net,,,open,0,147,11,"Need help with this basic Contains<>() extension method and Lambda expressions Say I have the following class:

    class Foo
    {
        // ctor etc here
    
        public string Bar
        {
            get;
        }
    }


Now, I have a `LinkedList` of `Foo`s declared like so: `LinkedList<Foo>`

How would I write a basic Contains<>() for this?

I want to be able to do this:

    Foo foo = new Foo(someString);
    LinkedList<Foo> list = new LinkedList<foo>();
    
    // Populate list with Foos
    
    bool contains = list.Contains<Foo>(foo, (x => foo.Bar == x.Bar));

Am I trying to do this correctly?

Thanks",4
8601200,12/22/2011 08:32:30,1111305,12/22/2011 08:18:16,1,0,"SubSonic, ORM, edmx, Linq: serializable Db communication?","the following scenario waits for nice alternatives:

- a central Windows service written in .NET accepts clients to query a database in the background (and also lets them write to the Db).
- clients should be able to use old-style .NET Remoting for compatibility (or a very simple transition to WCF could be made)
- currently queries are sent via homemade objects which either carry standard instructions (Insert, Update, SelectCommand) or a string-based direct SQL query, but to use Linq all records need to be pulled to the local client
- should work with oracle and MSSQL
- Events are sent to the clients from the server when data changes in a table - this is a must-have!

These are the main requirements. Now we have started to evaluate a transition to Linq with edmx, but we fear to loose flexibility and we would have to rewrite quite all of the Db handling code. The essential improvement we would like to see is a Linqed binding over the network so we can use Linq queries without directly attaching to the EMF layer of .NET 4. And I started investigation on ORM alternatives and came across subsonic right now.

So to start asking the question :) - will it be possible to use SubSonic in such a way that the client has all knowledge on the entities but the query transofrmation and the Db connection is hosted only on a central server? We want to decouple the direct access to the Db because of Db events, replication and other specific features necessary for our applications.

Regards Florian
",linq,subsonic,edmx,,,,open,0,258,7,"SubSonic, ORM, edmx, Linq: serializable Db communication? the following scenario waits for nice alternatives:

- a central Windows service written in .NET accepts clients to query a database in the background (and also lets them write to the Db).
- clients should be able to use old-style .NET Remoting for compatibility (or a very simple transition to WCF could be made)
- currently queries are sent via homemade objects which either carry standard instructions (Insert, Update, SelectCommand) or a string-based direct SQL query, but to use Linq all records need to be pulled to the local client
- should work with oracle and MSSQL
- Events are sent to the clients from the server when data changes in a table - this is a must-have!

These are the main requirements. Now we have started to evaluate a transition to Linq with edmx, but we fear to loose flexibility and we would have to rewrite quite all of the Db handling code. The essential improvement we would like to see is a Linqed binding over the network so we can use Linq queries without directly attaching to the EMF layer of .NET 4. And I started investigation on ORM alternatives and came across subsonic right now.

So to start asking the question :) - will it be possible to use SubSonic in such a way that the client has all knowledge on the entities but the query transofrmation and the Db connection is hosted only on a central server? We want to decouple the direct access to the Db because of Db events, replication and other specific features necessary for our applications.

Regards Florian
",3
1393461,09/08/2009 11:26:45,159837,08/20/2009 07:54:57,1,0,how to use linq table as parameter?,"for instance a very simple method:

    private int GetCount(ITable table) {

      return (from T in table select T).Count();
    }",linq,c#,,,,,open,0,30,7,"how to use linq table as parameter? for instance a very simple method:

    private int GetCount(ITable table) {

      return (from T in table select T).Count();
    }",2
4984585,02/13/2011 14:09:18,606543,02/07/2011 14:10:20,44,0,question on linq select join,"Hi i would like to list out all the students who have yet to pay off their course fee.
Meaning to say when a student is clicked, list out all pending fees by months.

This is what i do so far..
These are all the students active courses.
![][1]

Below are the payments record paid by student to their course.
![enter image description here][2]
<br>
Now i would like to list out all the pending payment foreach students
e.g. last payment to the course is on 2/11/2011. If the datetime now is May, Then i would like to show the pending amount as <br>
Month    Amount<br>
March    100<br>
April    200<br>
May      400<br>


This is waht i try..

     foreach (var result in activeCourses)
                 {
                     //Show all the pending paid coures from dateJoin till datetime.Now
                     DateTime JoinedDate = Convert.ToDateTime(result.cus.Date);
                     for (DateTime d = JoinedDate; d.Month <= DateTime.Now.Month; d = d.AddMonths(1))
                     {
                         Payment payment = new Payment();
                         payment.Course.Id = result.c.Id;
                         payment.Course.Name = result.c.Name;
                         payment.Course.Fee = result.c.Fee;
                         payment.CourseByStudent.CourseUserStatus.Date = result.cu.Date;
                         payment.CourseByTutor.TutorId = result.t.TutorId;
                         payment.User.Name = result.u.Name;

                         payment.MonthId = d.Month;
                         payment.MonthToPay = d.ToString(""MMM"");
                         output.Add(payment);
                     }

                 }

the logic above seem not efficient as if student does not pay anything for his courses, then i have to check the pending payment since his first JoinedDate,  OtherWise i need to check the pending payment from the DateIssue in the Payment table according to that particular course..please advice thanks
  [1]: http://i.stack.imgur.com/RHXyG.png
  [2]: http://i.stack.imgur.com/w52ye.jpg",linq,,,,,,open,0,613,5,"question on linq select join Hi i would like to list out all the students who have yet to pay off their course fee.
Meaning to say when a student is clicked, list out all pending fees by months.

This is what i do so far..
These are all the students active courses.
![][1]

Below are the payments record paid by student to their course.
![enter image description here][2]
<br>
Now i would like to list out all the pending payment foreach students
e.g. last payment to the course is on 2/11/2011. If the datetime now is May, Then i would like to show the pending amount as <br>
Month    Amount<br>
March    100<br>
April    200<br>
May      400<br>


This is waht i try..

     foreach (var result in activeCourses)
                 {
                     //Show all the pending paid coures from dateJoin till datetime.Now
                     DateTime JoinedDate = Convert.ToDateTime(result.cus.Date);
                     for (DateTime d = JoinedDate; d.Month <= DateTime.Now.Month; d = d.AddMonths(1))
                     {
                         Payment payment = new Payment();
                         payment.Course.Id = result.c.Id;
                         payment.Course.Name = result.c.Name;
                         payment.Course.Fee = result.c.Fee;
                         payment.CourseByStudent.CourseUserStatus.Date = result.cu.Date;
                         payment.CourseByTutor.TutorId = result.t.TutorId;
                         payment.User.Name = result.u.Name;

                         payment.MonthId = d.Month;
                         payment.MonthToPay = d.ToString(""MMM"");
                         output.Add(payment);
                     }

                 }

the logic above seem not efficient as if student does not pay anything for his courses, then i have to check the pending payment since his first JoinedDate,  OtherWise i need to check the pending payment from the DateIssue in the Payment table according to that particular course..please advice thanks
  [1]: http://i.stack.imgur.com/RHXyG.png
  [2]: http://i.stack.imgur.com/w52ye.jpg",1
2219833,02/08/2010 05:51:52,263008,01/31/2010 17:51:04,1,1,LINQ query testing against a database,im just starting to learn LINQ and at the same time im working on a research project for school on using link to entities with oracle and DB2   im trying to find a tool or addon that i can use to test my result sets so that i can run a linq query and see the resulting data i have seen LINQ pad but it seems to be set up for microsoft sql server  and compact is there a similar tool that i can use to test against alternate databases out there or a way to setup linq pad to be used with foreign databases ,linq,visual-studio,c#,.net,,,open,0,109,6,LINQ query testing against a database im just starting to learn LINQ and at the same time im working on a research project for school on using link to entities with oracle and DB2   im trying to find a tool or addon that i can use to test my result sets so that i can run a linq query and see the resulting data i have seen LINQ pad but it seems to be set up for microsoft sql server  and compact is there a similar tool that i can use to test against alternate databases out there or a way to setup linq pad to be used with foreign databases ,4
4169839,11/12/2010 23:07:43,173281,09/14/2009 17:26:10,108,2,"Repository pattern with ""modern"" data access strategies","So I was searching the web looking for best practices when implementing the repository pattern with multiple data stores when I found my entire way of looking at the problem turned upside down.  Here's what I have...

My application is a BI tool pulling data from (as of now) four different databases.  Due to internal constraints, I am currently using LINQ-to-SQL for data access but require a design that will allow me to change to Entity Framework or NHibernate or the next data access du jour.  I also hold steadfast to decoupled layers in my apps using an IoC framework (Castle Windsor in this case).

As such, I've used the Repository pattern to abstract the actual data access code from my business layer.  As a result, my business object is coded against some I&lt;Entity&gt;Repository interface and the IoC Container is used to manage the actual implementation.  In this case, I would expect to have a concrete Linq&lt;Entity&gt;Repository that implements the interface using LINQ-to-SQL to do the work.  Later I could replace this with an EF&lt;Entity&gt;Repository with no changes required to my business layer.

Also, because I'm coding against the interface, I can easily mock the repository for unit testing purposes.

So the first question that I have as I begin coding the application is whether I should have one repository per DataContext or per entity (as I've typically done)?  Let's say one database contains Customers and Sales with the expected relationship.  Should I have a single OrderTrackingRepository with methods that work with both entities or have a separate CustomerRepository and a different SalesRepository?

Next, as a BI tool, the primary interface is for reporting, charting, etc and often will require a ""mashup"" of data across multiple sources.  For instance, the reality is that one database contains customer information while another handles sales information and a third holds other financial information but one of my requirements is to display aggregated information that spans all three.  Plus, I have to support dynamic filtering in the UI.  Obviously working directly against the LINQ-to-SQL or EF DataContext objects (Table&lt;Entity&gt;, for instance) will allow me to pretty much do anything.  What's the best approach to expose that same functionality to my business logic when abstracting the DAL with a repository interface? 

This article: [link text][1] indicates that EF4 has turned this approach around and that the repository is nothing more than an IQueryable returned from the EF DataContext which brings up a whole other set of questions.

But, I think I've rambled on enough...

  [1]: http://www.primaryobjects.com/CMS/Article122.aspx",linq,entity-framework,repository-pattern,,,,open,0,428,7,"Repository pattern with ""modern"" data access strategies So I was searching the web looking for best practices when implementing the repository pattern with multiple data stores when I found my entire way of looking at the problem turned upside down.  Here's what I have...

My application is a BI tool pulling data from (as of now) four different databases.  Due to internal constraints, I am currently using LINQ-to-SQL for data access but require a design that will allow me to change to Entity Framework or NHibernate or the next data access du jour.  I also hold steadfast to decoupled layers in my apps using an IoC framework (Castle Windsor in this case).

As such, I've used the Repository pattern to abstract the actual data access code from my business layer.  As a result, my business object is coded against some I&lt;Entity&gt;Repository interface and the IoC Container is used to manage the actual implementation.  In this case, I would expect to have a concrete Linq&lt;Entity&gt;Repository that implements the interface using LINQ-to-SQL to do the work.  Later I could replace this with an EF&lt;Entity&gt;Repository with no changes required to my business layer.

Also, because I'm coding against the interface, I can easily mock the repository for unit testing purposes.

So the first question that I have as I begin coding the application is whether I should have one repository per DataContext or per entity (as I've typically done)?  Let's say one database contains Customers and Sales with the expected relationship.  Should I have a single OrderTrackingRepository with methods that work with both entities or have a separate CustomerRepository and a different SalesRepository?

Next, as a BI tool, the primary interface is for reporting, charting, etc and often will require a ""mashup"" of data across multiple sources.  For instance, the reality is that one database contains customer information while another handles sales information and a third holds other financial information but one of my requirements is to display aggregated information that spans all three.  Plus, I have to support dynamic filtering in the UI.  Obviously working directly against the LINQ-to-SQL or EF DataContext objects (Table&lt;Entity&gt;, for instance) will allow me to pretty much do anything.  What's the best approach to expose that same functionality to my business logic when abstracting the DAL with a repository interface? 

This article: [link text][1] indicates that EF4 has turned this approach around and that the repository is nothing more than an IQueryable returned from the EF DataContext which brings up a whole other set of questions.

But, I think I've rambled on enough...

  [1]: http://www.primaryobjects.com/CMS/Article122.aspx",3
9673148,03/12/2012 18:59:27,759766,05/18/2011 18:33:40,35,0,MVC3 Linq Validations and Display,"I'm building MVC3 Site, and use LINQ as my Data Access Layer,
I don't user model for this classes and I want to add Validation and Display Annotation to this classes.
What is the correct way to do it?

Thanks",linq,asp.net-mvc-3,model,,,,open,0,37,5,"MVC3 Linq Validations and Display I'm building MVC3 Site, and use LINQ as my Data Access Layer,
I don't user model for this classes and I want to add Validation and Display Annotation to this classes.
What is the correct way to do it?

Thanks",3
11675666,07/26/2012 18:26:05,1336632,04/16/2012 15:12:41,20,0,How do I move files from one folder to another based on a substring of their names?,"Folder 1: <br>

C:\File1-xpt<br>
C:\File1-ppt<br>
C:\File1-zzz<br>
C:\File2-ndo<br>
C:\File2-dkl<br>
C:\File2-dlz<br>

string[] AllFilesInDirectory = Directory.GetFiles(SelectedDirectory);<br>

I want to move all files with prefix ""File1"" into Folder 2.<br>",linq,,,,,,open,0,17,17,"How do I move files from one folder to another based on a substring of their names? Folder 1: <br>

C:\File1-xpt<br>
C:\File1-ppt<br>
C:\File1-zzz<br>
C:\File2-ndo<br>
C:\File2-dkl<br>
C:\File2-dlz<br>

string[] AllFilesInDirectory = Directory.GetFiles(SelectedDirectory);<br>

I want to move all files with prefix ""File1"" into Folder 2.<br>",1
6625722,07/08/2011 14:14:43,835528,07/08/2011 14:14:43,1,0,Need to convert SQL to Linq,"I need to convert this SQL to LINQ.Pls help.


With Max_Mov
As
(
select TractorId,MAX(Movement_id) as Max_MovId from movementequipmentrecords 
 Group By TractorId
)
Select Max.TractorId,Max.id as Dest_Stop,Max.City dest_City,Min.id Pickup_Stop_Id,Min.city Pickup_City
from 
(
Select    Max_Mov.TractorId ,S.id,sa.City --,sa.State,sa.Latitude ,s.MovementId, sa.Latitude, sa.Longitude from 
 from Stops s inner join StopAddresses sa on sa.Stop_Id =s.Id 
 Inner join Max_Mov
on Max_Mov.Max_MovId=s.MovementId
Inner Join 
 (
Select MovementId,MAX(MovementSequence) as Max_Stop_Sequence from Stops
Group by MovementId
)Max_Stop On Max_Stop.MovementId=Max_Mov.Max_MovId and s.MovementSequence = Max_Stop_Sequence
) Max
Join 
(
Select    Max_Mov.TractorId ,S.id,sa.City--,sa.State,sa.Latitude ,s.MovementId, sa.Latitude, sa.Longitude from 
from  Stops s inner join StopAddresses sa on sa.Stop_Id =s.Id 
 Inner join Max_Mov
on Max_Mov.Max_MovId=s.MovementId
Inner Join 
 (
Select MovementId,MIN(MovementSequence) as Min_Stop_Sequence from Stops
Group by MovementId
)Max_Stop On Max_Stop.MovementId=Max_Mov.Max_MovId and s.MovementSequence = Min_Stop_Sequence
) Min
On Max.TractorId=Min.TractorId
Inner Join Tractors t on t.Id = Max.TractorId
where t.AgencyId <>603 
--and t.id=3444


Thanks,
Priya",linq,,,,,07/08/2011 22:25:19,too localized,1,124,6,"Need to convert SQL to Linq I need to convert this SQL to LINQ.Pls help.


With Max_Mov
As
(
select TractorId,MAX(Movement_id) as Max_MovId from movementequipmentrecords 
 Group By TractorId
)
Select Max.TractorId,Max.id as Dest_Stop,Max.City dest_City,Min.id Pickup_Stop_Id,Min.city Pickup_City
from 
(
Select    Max_Mov.TractorId ,S.id,sa.City --,sa.State,sa.Latitude ,s.MovementId, sa.Latitude, sa.Longitude from 
 from Stops s inner join StopAddresses sa on sa.Stop_Id =s.Id 
 Inner join Max_Mov
on Max_Mov.Max_MovId=s.MovementId
Inner Join 
 (
Select MovementId,MAX(MovementSequence) as Max_Stop_Sequence from Stops
Group by MovementId
)Max_Stop On Max_Stop.MovementId=Max_Mov.Max_MovId and s.MovementSequence = Max_Stop_Sequence
) Max
Join 
(
Select    Max_Mov.TractorId ,S.id,sa.City--,sa.State,sa.Latitude ,s.MovementId, sa.Latitude, sa.Longitude from 
from  Stops s inner join StopAddresses sa on sa.Stop_Id =s.Id 
 Inner join Max_Mov
on Max_Mov.Max_MovId=s.MovementId
Inner Join 
 (
Select MovementId,MIN(MovementSequence) as Min_Stop_Sequence from Stops
Group by MovementId
)Max_Stop On Max_Stop.MovementId=Max_Mov.Max_MovId and s.MovementSequence = Min_Stop_Sequence
) Min
On Max.TractorId=Min.TractorId
Inner Join Tractors t on t.Id = Max.TractorId
where t.AgencyId <>603 
--and t.id=3444


Thanks,
Priya",1
7943760,10/30/2011 07:26:27,988830,10/11/2011 04:39:35,1,0,Is it good practice to use LINQ often?,LINQ is extremely powerful and can be used highly in code. But is it best practice to use it?,linq,,,,,10/30/2011 10:43:49,not constructive,1,19,8,Is it good practice to use LINQ often? LINQ is extremely powerful and can be used highly in code. But is it best practice to use it?,1
2105208,01/20/2010 21:41:22,87367,04/05/2009 19:13:05,401,15,LINQ group by month question,"I'm new to LINQ to SQL and I would like to know how to achieve something like this in LINQ:

            Month   Hires  Terminations   
            Jan      5       7
            Feb      8       8
            Marc     8       5


I've got this so far, and I think there is something wrong with it but I'm not sure:

    from term1 in HRSystemDB.Terminations
    group term1 by new { term1.TerminationDate.Month, term1.TerminationDate.Year } into grpTerm
    select new HiresVsTerminationsQuery
    {
      Date = Criteria.Period,
      TerminationsCount = grpTerm.Count(term => term.TerminationDate.Month == Criteria.Period.Value.Month),
      HiresCount = (from emp in HRSystemDB.Persons.OfType<Employee>()
                   group emp by new { emp.HireDate.Month, emp.HireDate.Year } into grpEmp
                   select grpEmp).Count(e => e.Key.Month == Criteria.Period.Value.Month)
    });

Thanks in advance.",linq,c#,.net,,,,open,0,250,5,"LINQ group by month question I'm new to LINQ to SQL and I would like to know how to achieve something like this in LINQ:

            Month   Hires  Terminations   
            Jan      5       7
            Feb      8       8
            Marc     8       5


I've got this so far, and I think there is something wrong with it but I'm not sure:

    from term1 in HRSystemDB.Terminations
    group term1 by new { term1.TerminationDate.Month, term1.TerminationDate.Year } into grpTerm
    select new HiresVsTerminationsQuery
    {
      Date = Criteria.Period,
      TerminationsCount = grpTerm.Count(term => term.TerminationDate.Month == Criteria.Period.Value.Month),
      HiresCount = (from emp in HRSystemDB.Persons.OfType<Employee>()
                   group emp by new { emp.HireDate.Month, emp.HireDate.Year } into grpEmp
                   select grpEmp).Count(e => e.Key.Month == Criteria.Period.Value.Month)
    });

Thanks in advance.",3
